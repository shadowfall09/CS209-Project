{"items":[{"tags":["java","java-time","date-formatting","datetimeformatter"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680321438,"post_id":75904138,"comment_id":133882933,"body_markdown":"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/java.base/java/ti&zwnj;&#8203;me/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680323959,"post_id":75904138,"comment_id":133883131,"body_markdown":"You are correct, it is a locale difference. Perhaps `Apr.` with a dot is German or something and `Apr` without the dot is English or something else. Specify the locale you want, for example `DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.ENGLISH)`.","body":"You are correct, it is a locale difference. Perhaps <code>Apr.</code> with a dot is German or something and <code>Apr</code> without the dot is English or something else. Specify the locale you want, for example <code>DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.ENGLISH)</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680328006,"post_id":75904138,"comment_id":133883450,"body_markdown":"Always search Stack Overflow thoroughly before posting.","body":"Always search Stack Overflow thoroughly before posting."},{"owner":{"account_id":24559039,"reputation":9,"user_id":18467120,"display_name":"jBOSS"},"score":0,"creation_date":1680572043,"post_id":75904138,"comment_id":133917355,"body_markdown":"@BasilBourque  This is related to https://bugs.openjdk.java.net/browse/JDK-8211750 .","body":"@BasilBourque  This is related to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8211750\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8211750</a> ."}],"answers":[{"tags":[],"owner":{"account_id":24559039,"reputation":9,"user_id":18467120,"display_name":"jBOSS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680320368,"creation_date":1680320368,"answer_id":75904147,"question_id":75904138,"body_markdown":"Its depends on Locale.\r\n\r\nit produces correct results when I use Locale.US\r\n\r\nLocalDate.parse(&quot;2023-01-01&quot;).format(DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.US))","title":"DateTimeFormatter dd MMM yyyy prints period after month (01 Apr. 2023)","body":"<p>Its depends on Locale.</p>\n<p>it produces correct results when I use Locale.US</p>\n<p>LocalDate.parse(&quot;2023-01-01&quot;).format(DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.US))</p>\n"}],"owner":{"account_id":24559039,"reputation":9,"user_id":18467120,"display_name":"jBOSS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680324249,"answer_count":1,"score":-1,"last_activity_date":1680331646,"creation_date":1680320024,"question_id":75904138,"body_markdown":"When I run below code in the server, I get period after month.\r\n\r\n```\r\nDateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\r\n\r\n01 Apr. 2023\r\n```\r\nThere is a period after month.\r\n\r\n[screenshot](https://i.stack.imgur.com/Fi6xu.png)\r\n\r\n\r\nBut, same code when I run in java main method, it produces expected output.\r\n\r\n```\r\nDateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\r\n\r\n01 Apr 2023\r\n```\r\n\r\n\r\n\r\n\r\nAny reason why the first operation produces period?\r\n\r\nIs dateTimeFormatter depends on Locale?","title":"DateTimeFormatter dd MMM yyyy prints period after month (01 Apr. 2023)","body":"<p>When I run below code in the server, I get period after month.</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\n\n01 Apr. 2023\n</code></pre>\n<p>There is a period after month.</p>\n<p><a href=\"https://i.stack.imgur.com/Fi6xu.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>But, same code when I run in java main method, it produces expected output.</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;).format(LocalDate.parse(&quot;2023-04-01&quot;))\n\n01 Apr 2023\n</code></pre>\n<p>Any reason why the first operation produces period?</p>\n<p>Is dateTimeFormatter depends on Locale?</p>\n"},{"tags":["javascript","java","selenium"],"comments":[{"owner":{"account_id":7749813,"reputation":518,"user_id":5866094,"display_name":"Bug"},"score":1,"creation_date":1500605080,"post_id":45227618,"comment_id":77422345,"body_markdown":"Java and Javascript have very little in common except the word &#39;java&#39;. Scrips are quicker to get up and running and good if you are changing your code often. If it is an app you are building I would go Java but it can have a startup lag. For testing purposes my advice is scripting","body":"Java and Javascript have very little in common except the word &#39;java&#39;. Scrips are quicker to get up and running and good if you are changing your code often. If it is an app you are building I would go Java but it can have a startup lag. For testing purposes my advice is scripting"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1500605136,"post_id":45227618,"comment_id":77422357,"body_markdown":"Possibly `JavaScript` though I don&#39;t have any data to prove as of now.","body":"Possibly <code>JavaScript</code> though I don&#39;t have any data to prove as of now."},{"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"score":0,"creation_date":1500605841,"post_id":45227618,"comment_id":77422494,"body_markdown":"It will be the same. The cost on the client side is insignificant. You should use the language that you and your team are the most comfortable to work with.","body":"It will be the same. The cost on the client side is insignificant. You should use the language that you and your team are the most comfortable to work with."}],"answers":[{"tags":[],"owner":{"account_id":148837,"reputation":25983,"user_id":360899,"accept_rate":91,"display_name":"Lesmana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680331268,"creation_date":1572347375,"answer_id":58606285,"question_id":45227618,"body_markdown":"Which would be faster can only be answered by a benchmark.\r\n\r\nI think the speed difference of java or javascript will be negligible compared to the overhead of selenium and the website itself. Even if one proves to be milliseconds faster than the other, what does it matter if a single test takes seconds from end to end. To make matters worse selenium run times typically vary greatly because of all the components involved.\r\n\r\nI can imagine speed difference of the language becoming noticeable IF you have a very special use case like thousands of microtests and/or the webserver is highly optimized for micropayloads. But as said: there is no universal answer. You must benchmark.\r\n\r\nEasier to maintain would be the language you (and your team) are more comfortable with.\r\n\r\nIf you are equaly comfortable with both languages, and there are no other factors to base the decision on, then flip a coin. Or write some of the more complicated tests in both languages and maintain them for some time. Then decide based on the experience of maintaining them.\r\n","title":"Would selenium end to end test run faster if the test were written in Java or in Javascript?","body":"<p>Which would be faster can only be answered by a benchmark.</p>\n<p>I think the speed difference of java or javascript will be negligible compared to the overhead of selenium and the website itself. Even if one proves to be milliseconds faster than the other, what does it matter if a single test takes seconds from end to end. To make matters worse selenium run times typically vary greatly because of all the components involved.</p>\n<p>I can imagine speed difference of the language becoming noticeable IF you have a very special use case like thousands of microtests and/or the webserver is highly optimized for micropayloads. But as said: there is no universal answer. You must benchmark.</p>\n<p>Easier to maintain would be the language you (and your team) are more comfortable with.</p>\n<p>If you are equaly comfortable with both languages, and there are no other factors to base the decision on, then flip a coin. Or write some of the more complicated tests in both languages and maintain them for some time. Then decide based on the experience of maintaining them.</p>\n"}],"owner":{"account_id":69742,"reputation":1960,"user_id":202784,"accept_rate":72,"display_name":"claya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58606285,"answer_count":1,"score":1,"last_activity_date":1680331268,"creation_date":1500600884,"question_id":45227618,"body_markdown":"Trying to decide which way to go for e2e tests Selenium tests written in Java or Javascript? Which would be faster(time tests take to run) which would be easier to maintain?","title":"Would selenium end to end test run faster if the test were written in Java or in Javascript?","body":"<p>Trying to decide which way to go for e2e tests Selenium tests written in Java or Javascript? Which would be faster(time tests take to run) which would be easier to maintain?</p>\n"},{"tags":["java","multithreading","scala","io","pipe"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1680355701,"post_id":75904608,"comment_id":133886408,"body_markdown":"If you really need / want some efficient way to stream I/O data, I would recommend looking at **fs2** or **ZIO** and maybe **AkkaStreams**. But, note each of these has a learning curve and imply some new concepts like the `IO` data type or actors.","body":"If you really need / want some efficient way to stream I/O data, I would recommend looking at <b>fs2</b> or <b>ZIO</b> and maybe <b>AkkaStreams</b>. But, note each of these has a learning curve and imply some new concepts like the <code>IO</code> data type or actors."},{"owner":{"account_id":8739147,"reputation":1298,"user_id":6536722,"display_name":"alcorn"},"score":0,"creation_date":1680376358,"post_id":75904608,"comment_id":133889492,"body_markdown":"@Ga&#235;lJ looks like the problem in that question was that the input stream was incorrectly sending EOF. In this case the read is hanging entirely, nothing is coming out, so I think it is different.","body":"@Ga&#235;lJ looks like the problem in that question was that the input stream was incorrectly sending EOF. In this case the read is hanging entirely, nothing is coming out, so I think it is different."},{"owner":{"account_id":8739147,"reputation":1298,"user_id":6536722,"display_name":"alcorn"},"score":0,"creation_date":1680383392,"post_id":75904608,"comment_id":133890360,"body_markdown":"Voting to close this question in favor of a new question I asked which isolates the problem much more effectively: https://stackoverflow.com/questions/75908870/why-does-writing-a-value-larger-than-the-buffer-size-of-javas-pipedinputstream","body":"Voting to close this question in favor of a new question I asked which isolates the problem much more effectively: <a href=\"https://stackoverflow.com/questions/75908870/why-does-writing-a-value-larger-than-the-buffer-size-of-javas-pipedinputstream\" title=\"why does writing a value larger than the buffer size of javas pipedinputstream\">stackoverflow.com/questions/75908870/&hellip;</a>"}],"owner":{"account_id":8739147,"reputation":1298,"user_id":6536722,"display_name":"alcorn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680387916,"answer_count":0,"score":1,"last_activity_date":1680330544,"creation_date":1680330544,"question_id":75904608,"body_markdown":"I&#39;m playing around with the stream interfaces discussed in [this blog post](https://www.lihaoyi.com/post/StandardizingIOInterfacesforScalaLibraries.html). I&#39;ve made what feels like a simple implementation to test out the interfaces, but it is hanging indefinitely when I run it and I&#39;m stumped as to why. Here&#39;s the code:\r\n\r\n```\r\nimport java.io.PipedOutputStream\r\nimport java.io.PipedInputStream\r\nimport java.io.InputStream\r\nimport java.io.OutputStream\r\nimport scala.concurrent.{Future, Promise, Await}\r\nimport scala.concurrent.ExecutionContext\r\nimport java.util.concurrent.Executors\r\nimport scala.concurrent.duration._\r\nimport scala.collection.immutable.ListMap\r\n\r\nimplicit val ec = ExecutionContext.fromExecutor(Executors.newFixedThreadPool(10))\r\n\r\ndef copy(input: InputStream, output: OutputStream): Unit = {\r\n  val buffer = new Array[Byte](1024)\r\n  var bytesRead = input.read(buffer)\r\n  while (bytesRead != -1) {\r\n    output.write(buffer, 0, bytesRead)\r\n    bytesRead = input.read(buffer)\r\n  }\r\n}\r\n\r\ndef curthread(label: String): Unit = println(label, Thread.currentThread().getName())\r\n\r\ntrait Writable{\r\n  def writeBytesTo(out: OutputStream): Unit\r\n}\r\n\r\ntrait Readable extends Writable{\r\n  def readBytesThrough[T](f: InputStream =&gt; T): T\r\n  def writeBytesTo(out: OutputStream): Unit = readBytesThrough(copy(_, out))\r\n}\r\n\r\ndef convertToUpperCase(input: InputStream, output: OutputStream): Unit = {\r\n  println(&quot;convertToUpperCase&quot;)\r\n  curthread(&quot;convertToUpperCase&quot;)\r\n  val buffer = new Array[Byte](1024) // buffer size\r\n  println(&quot;convertToUpperCase: input.read&quot;)\r\n  var bytesRead = input.read(buffer)\r\n\r\n  while (bytesRead != -1) {\r\n    println(s&quot;convertToUpperCase read $bytesRead&quot;)\r\n    val upperBuffer = buffer.map(_.toChar.toUpper.toByte)\r\n    println(&quot;convertToUpperCase: output.write&quot;)\r\n    output.write(upperBuffer, 0, bytesRead)\r\n    println(&quot;convertToUpperCase: input.read&quot;)\r\n    bytesRead = input.read(buffer)\r\n  }\r\n\r\n  input.close()\r\n  output.close()\r\n}\r\n\r\nclass Put extends Readable {\r\n  private val output = new PipedOutputStream\r\n\r\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\r\n    println(&quot;Put: readBytesThrough&quot;)\r\n    curthread(&quot;Put&quot;)\r\n    f(new PipedInputStream(output))\r\n  }\r\n  \r\n  def receive(x: Any): Unit = {\r\n    println(s&quot;Put: receive($x)&quot;)\r\n    curthread(&quot;Put&quot;)\r\n    output.write(x.toString.getBytes(&quot;utf-8&quot;))\r\n    println(&quot;done receiving&quot;)\r\n  }\r\n\r\n  def receivedLast(): Unit = {\r\n    println(&quot;Put: receivedLast&quot;)\r\n    curthread(&quot;Put&quot;)\r\n    output.close()\r\n  }\r\n}\r\n\r\ncase class Parsed(value: String) extends Writable {\r\n  def writeBytesTo(out: OutputStream): Unit = {\r\n    println(&quot;Parsed: writeBytesTo&quot;)\r\n    curthread(&quot;Parsed&quot;)\r\n    out.write(value.getBytes(&quot;utf-8&quot;))\r\n  }\r\n}\r\n\r\ndef uppercase(r: Readable): Readable = new Readable {\r\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\r\n    val output = new PipedOutputStream\r\n    Future {\r\n      r.readBytesThrough(input =&gt; {\r\n        convertToUpperCase(input, output)\r\n      })\r\n    }\r\n    f(new PipedInputStream(output))\r\n  }\r\n}\r\n\r\ndef parse(r: Readable): Writable = {\r\n  curthread(&quot;parse&quot;)\r\n  val x = r.readBytesThrough(scala.io.Source.fromInputStream(_).mkString)\r\n  Parsed(x)\r\n}\r\n\r\ndef display(w: Writable): Unit = {\r\n  curthread(&quot;display&quot;)\r\n  w.writeBytesTo(System.out)\r\n}\r\n\r\nval put = new Put\r\n\r\ncurthread(&quot;main&quot;)\r\n\r\nFuture {\r\n\tput.receive(&quot;foobarbaz&quot;)\r\n\tput.receivedLast()\r\n}\r\n\r\ndisplay(parse(uppercase(put)))\r\n```\r\n\r\nThis gives the output\r\n\r\n```\r\n(main,run-main-0)\r\nPut: receive(foobarbaz)\r\n(Put,pool-11-thread-1)\r\n(parse,run-main-0)\r\nPut: readBytesThrough\r\n(Put,pool-11-thread-2)\r\nconvertToUpperCase\r\n(convertToUpperCase,pool-11-thread-2)\r\nconvertToUpperCase: input.read\r\n```\r\n\r\nSo it appears that reads and writes to each end of the piped stream are happening on different threads as they should. Why then is it hanging at `convertToUpperCase`?\r\n\r\nScastie link: https://scastie.scala-lang.org/I9EIOs8NR2mBeLbcqDx2zA","title":"Why is this use of piped IO streams in Scala hanging indefinitely?","body":"<p>I'm playing around with the stream interfaces discussed in <a href=\"https://www.lihaoyi.com/post/StandardizingIOInterfacesforScalaLibraries.html\" rel=\"nofollow noreferrer\">this blog post</a>. I've made what feels like a simple implementation to test out the interfaces, but it is hanging indefinitely when I run it and I'm stumped as to why. Here's the code:</p>\n<pre><code>import java.io.PipedOutputStream\nimport java.io.PipedInputStream\nimport java.io.InputStream\nimport java.io.OutputStream\nimport scala.concurrent.{Future, Promise, Await}\nimport scala.concurrent.ExecutionContext\nimport java.util.concurrent.Executors\nimport scala.concurrent.duration._\nimport scala.collection.immutable.ListMap\n\nimplicit val ec = ExecutionContext.fromExecutor(Executors.newFixedThreadPool(10))\n\ndef copy(input: InputStream, output: OutputStream): Unit = {\n  val buffer = new Array[Byte](1024)\n  var bytesRead = input.read(buffer)\n  while (bytesRead != -1) {\n    output.write(buffer, 0, bytesRead)\n    bytesRead = input.read(buffer)\n  }\n}\n\ndef curthread(label: String): Unit = println(label, Thread.currentThread().getName())\n\ntrait Writable{\n  def writeBytesTo(out: OutputStream): Unit\n}\n\ntrait Readable extends Writable{\n  def readBytesThrough[T](f: InputStream =&gt; T): T\n  def writeBytesTo(out: OutputStream): Unit = readBytesThrough(copy(_, out))\n}\n\ndef convertToUpperCase(input: InputStream, output: OutputStream): Unit = {\n  println(&quot;convertToUpperCase&quot;)\n  curthread(&quot;convertToUpperCase&quot;)\n  val buffer = new Array[Byte](1024) // buffer size\n  println(&quot;convertToUpperCase: input.read&quot;)\n  var bytesRead = input.read(buffer)\n\n  while (bytesRead != -1) {\n    println(s&quot;convertToUpperCase read $bytesRead&quot;)\n    val upperBuffer = buffer.map(_.toChar.toUpper.toByte)\n    println(&quot;convertToUpperCase: output.write&quot;)\n    output.write(upperBuffer, 0, bytesRead)\n    println(&quot;convertToUpperCase: input.read&quot;)\n    bytesRead = input.read(buffer)\n  }\n\n  input.close()\n  output.close()\n}\n\nclass Put extends Readable {\n  private val output = new PipedOutputStream\n\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\n    println(&quot;Put: readBytesThrough&quot;)\n    curthread(&quot;Put&quot;)\n    f(new PipedInputStream(output))\n  }\n  \n  def receive(x: Any): Unit = {\n    println(s&quot;Put: receive($x)&quot;)\n    curthread(&quot;Put&quot;)\n    output.write(x.toString.getBytes(&quot;utf-8&quot;))\n    println(&quot;done receiving&quot;)\n  }\n\n  def receivedLast(): Unit = {\n    println(&quot;Put: receivedLast&quot;)\n    curthread(&quot;Put&quot;)\n    output.close()\n  }\n}\n\ncase class Parsed(value: String) extends Writable {\n  def writeBytesTo(out: OutputStream): Unit = {\n    println(&quot;Parsed: writeBytesTo&quot;)\n    curthread(&quot;Parsed&quot;)\n    out.write(value.getBytes(&quot;utf-8&quot;))\n  }\n}\n\ndef uppercase(r: Readable): Readable = new Readable {\n  def readBytesThrough[T](f: InputStream =&gt; T): T = {\n    val output = new PipedOutputStream\n    Future {\n      r.readBytesThrough(input =&gt; {\n        convertToUpperCase(input, output)\n      })\n    }\n    f(new PipedInputStream(output))\n  }\n}\n\ndef parse(r: Readable): Writable = {\n  curthread(&quot;parse&quot;)\n  val x = r.readBytesThrough(scala.io.Source.fromInputStream(_).mkString)\n  Parsed(x)\n}\n\ndef display(w: Writable): Unit = {\n  curthread(&quot;display&quot;)\n  w.writeBytesTo(System.out)\n}\n\nval put = new Put\n\ncurthread(&quot;main&quot;)\n\nFuture {\n    put.receive(&quot;foobarbaz&quot;)\n    put.receivedLast()\n}\n\ndisplay(parse(uppercase(put)))\n</code></pre>\n<p>This gives the output</p>\n<pre><code>(main,run-main-0)\nPut: receive(foobarbaz)\n(Put,pool-11-thread-1)\n(parse,run-main-0)\nPut: readBytesThrough\n(Put,pool-11-thread-2)\nconvertToUpperCase\n(convertToUpperCase,pool-11-thread-2)\nconvertToUpperCase: input.read\n</code></pre>\n<p>So it appears that reads and writes to each end of the piped stream are happening on different threads as they should. Why then is it hanging at <code>convertToUpperCase</code>?</p>\n<p>Scastie link: <a href=\"https://scastie.scala-lang.org/I9EIOs8NR2mBeLbcqDx2zA\" rel=\"nofollow noreferrer\">https://scastie.scala-lang.org/I9EIOs8NR2mBeLbcqDx2zA</a></p>\n"},{"tags":["java","multithreading"],"owner":{"account_id":15264878,"reputation":145,"user_id":15434658,"display_name":"Lex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680329319,"creation_date":1680329319,"question_id":75904545,"body_markdown":"I have a program that sums array elements array[], but I want to sum two dimensional array[][] how can I do it?\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.ForkJoinTask;\r\n    import java.util.concurrent.RecursiveTask;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    \r\n    class ForkJoin extends RecursiveTask&lt;Integer&gt; {\r\n    \tprivate int[] arr;\r\n    \t\r\n    \tpublic ForkJoin(int[] arr) { \r\n    \t\tthis.arr = arr; \r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected Integer compute() {\r\n    \tif (arr.length &gt; 3) {\r\n    \t\treturn ForkJoinTask.invokeAll(createSubtasks()).stream().mapToInt(ForkJoinTask::join).sum();\r\n    \t} else { \r\n    \t\treturn processing(arr); \r\n    \t\t}\r\n    \t}\r\n    \tprivate Collection&lt;ForkJoin&gt; createSubtasks() {\r\n    \tList&lt;ForkJoin&gt; subTasks = new ArrayList&lt;&gt;();\r\n    \tsubTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\r\n    \tsubTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\r\n    \treturn subTasks;\r\n    \t}\r\n    \tprivate Integer processing(int[] arr) {\r\n    \tint result = Arrays.stream(arr).sum();\r\n    \tSystem.out.printf(&quot;Result: %s; Thread: %s %n&quot;, result, Thread.currentThread().getName());\r\n    \treturn result;\r\n    \t}\r\n    \r\n      \t\r\n      public ForkJoin() {\r\n    \t  ForkJoinPool commonPool = ForkJoinPool.commonPool();\r\n    \t  RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\r\n    \t\t\t  new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\r\n          );\r\n    \t  commonPool.execute(sumArrayTask);\r\n    \t  try {\r\n    \t  System.out.printf(&quot;Result: %s %n&quot;, sumArrayTask.get());\r\n    \t  } catch (InterruptedException | ExecutionException ignored) { }\r\n    \t  commonPool.shutdownNow();\r\n      }\r\n    }\r\n\r\n\r\nI tried to loop, because I need arr[2][3];\r\n\r\n     for (int i = 0; i &lt; row; i++){\r\n    \t  RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\r\n    \t\t\t  new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\r\n          );\r\n    \t  commonPool.execute(sumArrayTask);\r\n    }\r\n\r\nbut It doesnt work because it executes only once.\r\nDo I need to pass two dimensional array when I am creating subtasks and also change these methods?\r\n \r\n\r\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\r\n    \tsubTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\r\n\r\nor it will be easier to flat 2d array[][] into array[] and then use this method?","title":"fork join pool sum of two dimentional array","body":"<p>I have a program that sums array elements array[], but I want to sum two dimensional array[][] how can I do it?</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.ForkJoinTask;\nimport java.util.concurrent.RecursiveTask;\nimport java.util.ArrayList;\nimport java.util.Collection;\n\nclass ForkJoin extends RecursiveTask&lt;Integer&gt; {\n    private int[] arr;\n    \n    public ForkJoin(int[] arr) { \n        this.arr = arr; \n    }\n    \n    @Override\n    protected Integer compute() {\n    if (arr.length &gt; 3) {\n        return ForkJoinTask.invokeAll(createSubtasks()).stream().mapToInt(ForkJoinTask::join).sum();\n    } else { \n        return processing(arr); \n        }\n    }\n    private Collection&lt;ForkJoin&gt; createSubtasks() {\n    List&lt;ForkJoin&gt; subTasks = new ArrayList&lt;&gt;();\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\n    return subTasks;\n    }\n    private Integer processing(int[] arr) {\n    int result = Arrays.stream(arr).sum();\n    System.out.printf(&quot;Result: %s; Thread: %s %n&quot;, result, Thread.currentThread().getName());\n    return result;\n    }\n\n    \n  public ForkJoin() {\n      ForkJoinPool commonPool = ForkJoinPool.commonPool();\n      RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\n              new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\n      );\n      commonPool.execute(sumArrayTask);\n      try {\n      System.out.printf(&quot;Result: %s %n&quot;, sumArrayTask.get());\n      } catch (InterruptedException | ExecutionException ignored) { }\n      commonPool.shutdownNow();\n  }\n}\n</code></pre>\n<p>I tried to loop, because I need arr[2][3];</p>\n<pre><code> for (int i = 0; i &lt; row; i++){\n      RecursiveTask&lt;Integer&gt; sumArrayTask = new ForkJoin(\n              new int[] {0, 1, 2, 3, 4, 5, 6 ,7 ,8, 9, 10, 11, 12, 13, 14}\n      );\n      commonPool.execute(sumArrayTask);\n}\n</code></pre>\n<p>but It doesnt work because it executes only once.\nDo I need to pass two dimensional array when I am creating subtasks and also change these methods?</p>\n<pre><code>subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, 0, arr.length / 2)));\n    subTasks.add(new ForkJoin(Arrays.copyOfRange(arr, arr.length / 2, arr.length)));\n</code></pre>\n<p>or it will be easier to flat 2d array[][] into array[] and then use this method?</p>\n"},{"tags":["java","java-time","date-parsing"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1607616581,"creation_date":1607616581,"answer_id":65238160,"question_id":65238108,"body_markdown":"Use the pattern, `MMMM dd uuuu` with `Locale.ENGLISH`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDate = &quot;March 26 2020&quot;;\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;, Locale.ENGLISH);\r\n    \t\tLocalDate date = LocalDate.parse(strDate, dtf);\r\n    \t\tSystem.out.println(date);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-03-26\r\n\r\n","title":"Parsing LocalDate in Java: What&#39;s the pattern for &quot;March 26 2020&quot;","body":"<p>Use the pattern, <code>MMMM dd uuuu</code> with <code>Locale.ENGLISH</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        String strDate = &quot;March 26 2020&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;, Locale.ENGLISH);\n        LocalDate date = LocalDate.parse(strDate, dtf);\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-03-26\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607618281,"creation_date":1607618281,"answer_id":65238631,"question_id":65238108,"body_markdown":"Try this \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM&#39; &#39;dd&#39; &#39;yyyy&quot;, Locale.ENGLISH)\r\n\r\nWorked for me just fine, Output:\r\n\r\n    December 10 2020","title":"Parsing LocalDate in Java: What&#39;s the pattern for &quot;March 26 2020&quot;","body":"<p>Try this</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM' 'dd' 'yyyy&quot;, Locale.ENGLISH)\n</code></pre>\n<p>Worked for me just fine, Output:</p>\n<pre><code>December 10 2020\n</code></pre>\n"}],"owner":{"account_id":1828043,"reputation":1717,"user_id":1660256,"accept_rate":79,"display_name":"CNDyson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":65238160,"answer_count":2,"score":-2,"last_activity_date":1680324670,"creation_date":1607616394,"question_id":65238108,"body_markdown":"I can&#39;t seem to come up with a pattern for &quot;March 26 2020&quot; (no comma). Can someone help? I&#39;ve tried `DateTimeFormatter.ofPattern(&quot;MMMM dd yyyy&quot;)` and `DateTimeFormatter.ofPattern(&quot;MMM dd yyyy&quot;)`.\r\n\r\nMinimal reproducible example:\r\n\r\n\t\tString strDate = &quot;March 26 2020&quot;;\r\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;);\r\n        LocalDate date = LocalDate.parse(strDate, dtf);\r\n        System.out.println(date);\r\n\r\nOn my computer this throws\r\n\r\n&gt; Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\r\n&gt; Text &#39;March 26 2020&#39; could not be parsed at index 0\r\n\r\nExpected output was\r\n\r\n&gt;     2020-03-26\r\n\r\nWith `MMM` in the format pattern instead the exception is the same.","title":"Parsing LocalDate in Java: What&#39;s the pattern for &quot;March 26 2020&quot;","body":"<p>I can't seem to come up with a pattern for &quot;March 26 2020&quot; (no comma). Can someone help? I've tried <code>DateTimeFormatter.ofPattern(&quot;MMMM dd yyyy&quot;)</code> and <code>DateTimeFormatter.ofPattern(&quot;MMM dd yyyy&quot;)</code>.</p>\n<p>Minimal reproducible example:</p>\n<pre><code>    String strDate = &quot;March 26 2020&quot;;\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;MMMM dd uuuu&quot;);\n    LocalDate date = LocalDate.parse(strDate, dtf);\n    System.out.println(date);\n</code></pre>\n<p>On my computer this throws</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException:\nText 'March 26 2020' could not be parsed at index 0</p>\n</blockquote>\n<p>Expected output was</p>\n<blockquote>\n<pre><code>2020-03-26\n</code></pre>\n</blockquote>\n<p>With <code>MMM</code> in the format pattern instead the exception is the same.</p>\n"},{"tags":["java","jsonpath","json-path-expression"],"answers":[{"tags":[],"owner":{"account_id":14235307,"reputation":1,"user_id":10283259,"display_name":"Gaoranger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680323454,"creation_date":1680323454,"answer_id":75904290,"question_id":75830685,"body_markdown":"It seems like the new update removed the try/catch statement to check the SUPPRESS_EXCEPTION option.\r\nSo you can use the try/catch to check it by itself. like this one: \r\n\r\n    try {\r\n      JsonPath.using(Configuration.builder()\r\n              .options(Option.SUPPRESS_EXCEPTIONS).build())\r\n          .parse(node.toString())\r\n          .read(&quot;$.test[?(@ != null)]&quot;);\r\n    } catch (JsonPathException ex) {\r\n      if (is suppress exception) {\r\n        return &#39;default value&#39;;\r\n      } \r\n      throw  ex;\r\n    }","title":"Option.SUPRESS_EXCEPTION Is not working - JsonPath 2.7.0 (or higher version)","body":"<p>It seems like the new update removed the try/catch statement to check the SUPPRESS_EXCEPTION option.\nSo you can use the try/catch to check it by itself. like this one:</p>\n<pre><code>try {\n  JsonPath.using(Configuration.builder()\n          .options(Option.SUPPRESS_EXCEPTIONS).build())\n      .parse(node.toString())\n      .read(&quot;$.test[?(@ != null)]&quot;);\n} catch (JsonPathException ex) {\n  if (is suppress exception) {\n    return 'default value';\n  } \n  throw  ex;\n}\n</code></pre>\n"}],"owner":{"account_id":17351024,"reputation":3,"user_id":12569499,"display_name":"Ms Windows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680323454,"creation_date":1679640166,"question_id":75830685,"body_markdown":"I&#39;m trying to suppress all the exceptions when evaluating a JSON path. but when I upgrade the JSON path lib to 2.7, it seems like it is not working as expected. For example:\r\n\r\n```java\r\nvar node = objectMapper.readTree(&quot;{\\&quot;test\\&quot; :  null}&quot;);\r\n\r\n    JsonPath.using(Configuration.builder()\r\n        .options(Option.SUPPRESS_EXCEPTIONS).build())\r\n        .parse(node.toString())\r\n        .read(&quot;$.test[?(@ != null)]&quot;);\r\n```\r\nwe got an exception thrown.\r\n\r\n```java\r\nFilter: [?] can not be applied to primitives. Current context is: null\r\ncom.jayway.jsonpath.InvalidPathException: Filter: [?] can not be applied to primitives. Current context is: null\r\n```\r\n---\r\n\r\nrelated issue : https://github.com/json-path/JsonPath/issues/908","title":"Option.SUPRESS_EXCEPTION Is not working - JsonPath 2.7.0 (or higher version)","body":"<p>I'm trying to suppress all the exceptions when evaluating a JSON path. but when I upgrade the JSON path lib to 2.7, it seems like it is not working as expected. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var node = objectMapper.readTree(&quot;{\\&quot;test\\&quot; :  null}&quot;);\n\n    JsonPath.using(Configuration.builder()\n        .options(Option.SUPPRESS_EXCEPTIONS).build())\n        .parse(node.toString())\n        .read(&quot;$.test[?(@ != null)]&quot;);\n</code></pre>\n<p>we got an exception thrown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Filter: [?] can not be applied to primitives. Current context is: null\ncom.jayway.jsonpath.InvalidPathException: Filter: [?] can not be applied to primitives. Current context is: null\n</code></pre>\n<hr />\n<p>related issue : <a href=\"https://github.com/json-path/JsonPath/issues/908\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath/issues/908</a></p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549232248,"post_id":54508068,"comment_id":95819890,"body_markdown":"What is your question? Nesting is bad, try to avoid too many levels - that&#39;s the common sense, there are a lot of tools to profile layout performance, so you can check each case.","body":"What is your question? Nesting is bad, try to avoid too many levels - that&#39;s the common sense, there are a lot of tools to profile layout performance, so you can check each case."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549233946,"post_id":54508068,"comment_id":95820233,"body_markdown":"@ViktorYakunin but for my case, to group views can i use a linearlayout inside a constraint?","body":"@ViktorYakunin but for my case, to group views can i use a linearlayout inside a constraint?"},{"owner":{"account_id":8953873,"reputation":17297,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"score":0,"creation_date":1549260515,"post_id":54508068,"comment_id":95824968,"body_markdown":"According to what you mentioned, one of the roots is useless. You don&#39;t need both.","body":"According to what you mentioned, one of the roots is useless. You don&#39;t need both."},{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549275598,"post_id":54508068,"comment_id":95831107,"body_markdown":"@GamericiousBlog show full layout file, so that would be clear, currently it&#39;s not - what is linearEndMark ?","body":"@GamericiousBlog show full layout file, so that would be clear, currently it&#39;s not - what is linearEndMark ?"},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549282143,"post_id":54508068,"comment_id":95834420,"body_markdown":"@ViktorYakunin another linearlayout which also contains a textview and edittext.","body":"@ViktorYakunin another linearlayout which also contains a textview and edittext."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549282530,"post_id":54508068,"comment_id":95834632,"body_markdown":"@ViktorYakunin what i want to know if it can worsen performance if i have 2 linearlayouts as child layouts which i use to group the views textview and edittext and then position those 2 linearlayouts with constraints so i  still dont understand why layout nesting is bad.","body":"@ViktorYakunin what i want to know if it can worsen performance if i have 2 linearlayouts as child layouts which i use to group the views textview and edittext and then position those 2 linearlayouts with constraints so i  still dont understand why layout nesting is bad."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549283011,"post_id":54508068,"comment_id":95834872,"body_markdown":"@ViktorYakunin i edited my post.","body":"@ViktorYakunin i edited my post."},{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549292037,"post_id":54508068,"comment_id":95840247,"body_markdown":"Nesting is bad, to understand why you need to know how layout works, it tries to get size of each view, so to get size of linear layout system tries to get required sizes of two child views, after that it tries to get actual sizes of views basing on parents size. More nesting - more passes for layout. ConstraintLayout was designed to solve this problem - one level, easier to compose different views inside the parent.","body":"Nesting is bad, to understand why you need to know how layout works, it tries to get size of each view, so to get size of linear layout system tries to get required sizes of two child views, after that it tries to get actual sizes of views basing on parents size. More nesting - more passes for layout. ConstraintLayout was designed to solve this problem - one level, easier to compose different views inside the parent."},{"owner":{"account_id":2467399,"reputation":2927,"user_id":2290950,"accept_rate":100,"display_name":"Viktor Yakunin"},"score":0,"creation_date":1549292481,"post_id":54508068,"comment_id":95840549,"body_markdown":"In your case - you use linear layouts because you don&#39;t understand how it should be done in one constraint.","body":"In your case - you use linear layouts because you don&#39;t understand how it should be done in one constraint."},{"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"score":0,"creation_date":1549478191,"post_id":54508068,"comment_id":95919935,"body_markdown":"@ViktorYakunin so you&#39;re saying i should remove those  2 linearlayouts and use constraints on each view separately?","body":"@ViktorYakunin so you&#39;re saying i should remove those  2 linearlayouts and use constraints on each view separately?"}],"answers":[{"tags":[],"owner":{"account_id":9037505,"reputation":102,"user_id":8505712,"display_name":"Henrique Becker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1549238297,"creation_date":1549238297,"answer_id":54508786,"question_id":54508068,"body_markdown":"For performance nested components/containers are better, but in some complex layouts they can make the code easy to understand and help to encapsulate code parts in separate reusable files.","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>For performance nested components/containers are better, but in some complex layouts they can make the code easy to understand and help to encapsulate code parts in separate reusable files.</p>\n"},{"tags":[],"owner":{"account_id":9523455,"reputation":83,"user_id":7077499,"display_name":"Funrab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680183724,"creation_date":1680183724,"answer_id":75889047,"question_id":54508068,"body_markdown":"As others have written above, nested containers degrade performance, but that doesn&#39;t mean that using them inside ConstraintLayout is bad practice. Of course, it is better to use the tools that ConstraintLayout provides, but you don&#39;t have to. And the official documentation makes no such requirement.\r\n\r\nIt depends on what you want to use the containers inside ConstraintLayout for. If it makes your code easier to understand and the nesting isn&#39;t very deep, why not?","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>As others have written above, nested containers degrade performance, but that doesn't mean that using them inside ConstraintLayout is bad practice. Of course, it is better to use the tools that ConstraintLayout provides, but you don't have to. And the official documentation makes no such requirement.</p>\n<p>It depends on what you want to use the containers inside ConstraintLayout for. If it makes your code easier to understand and the nesting isn't very deep, why not?</p>\n"},{"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680323079,"creation_date":1680323079,"answer_id":75904273,"question_id":54508068,"body_markdown":"The &quot;nested layouts is bad&quot; was said in relation to deep nesting. Look at your typical modern web page you will find 10-20 layer deep nesting. If you took that style of layout to Views it will hurt performance. If you are 4-5 layers deep. It is probably fine in all but the most demanding needs.\r\n\r\nThere is a very small overhead associated with each layer but that overhead grows on the order of 2^n for n layers. So at 4-5 it is 16x to 32x but at 10-20 it is 1024x to 1048576x. \r\n\r\nEven a very small overhead becomes a problem when you need to do it a million times.\r\n\r\nI am simplifying for illustration (It is a lot more complex)","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>The &quot;nested layouts is bad&quot; was said in relation to deep nesting. Look at your typical modern web page you will find 10-20 layer deep nesting. If you took that style of layout to Views it will hurt performance. If you are 4-5 layers deep. It is probably fine in all but the most demanding needs.</p>\n<p>There is a very small overhead associated with each layer but that overhead grows on the order of 2^n for n layers. So at 4-5 it is 16x to 32x but at 10-20 it is 1024x to 1048576x.</p>\n<p>Even a very small overhead becomes a problem when you need to do it a million times.</p>\n<p>I am simplifying for illustration (It is a lot more complex)</p>\n"}],"owner":{"account_id":15093010,"reputation":129,"user_id":10892300,"display_name":"Gamericious Blog"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54508786,"answer_count":3,"score":2,"last_activity_date":1680323079,"creation_date":1549231669,"question_id":54508068,"body_markdown":"I read something about layout nesting which some say is a bad practice but i have a xml layout where it makes me easier to group views with a linear layout and then constraint them too each other.\r\n\r\n    &lt;android.support.constraint.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearMarkStart&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/linearEndMark&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/mark_start&quot;\r\n                    android:text=&quot;@string/start_label&quot;\r\n                    android:textColor=&quot;#ffffffff&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:labelFor=&quot;@+id/starttext&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;31dip&quot;/&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/starttext&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:inputType=&quot;number|numberDecimal&quot;\r\n                    android:layout_marginStart=&quot;10dip&quot;\r\n                    android:layout_marginEnd=&quot;30dip&quot;\r\n                    android:layout_width=&quot;70dip&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:gravity=&quot;center&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/linearEndMark&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/linearMarkStart&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/mark_end&quot;\r\n                    android:text=&quot;@string/end_label&quot;\r\n                    android:textColor=&quot;#ffffffff&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:labelFor=&quot;@+id/endtext&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;31dip&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/endtext&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:inputType=&quot;number|numberDecimal&quot;\r\n                    android:layout_width=&quot;70dip&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dip&quot;\r\n                    /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n    &lt;/ConstraintLayout&gt;\r\n\r\nWhat i have as output now by using 2 linearlayouts as childlayouts in constraintlayout and how i can achieve the same without those 2 linearlayouts because layout nesting is bad so it seems? \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1DeJ2.png","title":"Is it bad using linear/relative layouts inside a constraint layout?","body":"<p>I read something about layout nesting which some say is a bad practice but i have a xml layout where it makes me easier to group views with a linear layout and then constraint them too each other.</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/linearMarkStart\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/linearEndMark\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/mark_start\"\n                android:text=\"@string/start_label\"\n                android:textColor=\"#ffffffff\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\"\n                android:labelFor=\"@+id/starttext\"\n                android:clickable=\"true\"\n                android:focusable=\"true\"\n                android:gravity=\"center\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"31dip\"/&gt;\n\n            &lt;EditText\n                android:id=\"@+id/starttext\"\n                android:textSize=\"16sp\"\n                android:textColor=\"@color/white\"\n                android:inputType=\"number|numberDecimal\"\n                android:layout_marginStart=\"10dip\"\n                android:layout_marginEnd=\"30dip\"\n                android:layout_width=\"70dip\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"center\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/linearEndMark\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/linearMarkStart\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/mark_end\"\n                android:text=\"@string/end_label\"\n                android:textColor=\"#ffffffff\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\"\n                android:labelFor=\"@+id/endtext\"\n                android:clickable=\"true\"\n                android:focusable=\"true\"\n                android:gravity=\"center\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"31dip\" /&gt;\n\n            &lt;EditText\n                android:id=\"@+id/endtext\"\n                android:textSize=\"16sp\"\n                android:textColor=\"@color/white\"\n                android:inputType=\"number|numberDecimal\"\n                android:layout_width=\"70dip\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginStart=\"10dip\"\n                /&gt;\n\n        &lt;/LinearLayout&gt;\n&lt;/ConstraintLayout&gt;\n</code></pre>\n\n<p>What i have as output now by using 2 linearlayouts as childlayouts in constraintlayout and how i can achieve the same without those 2 linearlayouts because layout nesting is bad so it seems? \n<a href=\"https://i.stack.imgur.com/1DeJ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1DeJ2.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680304660,"post_id":75902833,"comment_id":133881662,"body_markdown":"the error message posted and the dependency from the pom.xml does not match each other. You are getting the error because you have spring-data or spring-jpa or some other database related dependency in the pom, and when it starts up it is looking for a database to to connect to, and you havnt configured where the database is (url). Please post your FULL pom.xml","body":"the error message posted and the dependency from the pom.xml does not match each other. You are getting the error because you have spring-data or spring-jpa or some other database related dependency in the pom, and when it starts up it is looking for a database to to connect to, and you havnt configured where the database is (url). Please post your FULL pom.xml"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1680312887,"post_id":75902833,"comment_id":133882325,"body_markdown":"@Toerktumlare Added pom.xml and application.properties to the question. I don&#39;t think the database configuration is the problem because before adding the mentioned dependency, the api could successfully connect to the db and execute all CRUD operations. The error really started to happen just when &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt; was added to pom.xml. That is really the only single difference from the when everything was working fine including db connection and CRUD operations.","body":"@Toerktumlare Added pom.xml and application.properties to the question. I don&#39;t think the database configuration is the problem because before adding the mentioned dependency, the api could successfully connect to the db and execute all CRUD operations. The error really started to happen just when &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt; was added to pom.xml. That is really the only single difference from the when everything was working fine including db connection and CRUD operations."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680336703,"post_id":75902833,"comment_id":133884198,"body_markdown":"Why are you not using the spring security starter dependency?","body":"Why are you not using the spring security starter dependency?"},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1680346355,"post_id":75902833,"comment_id":133885239,"body_markdown":"@Toerktumlare Should I? As I understand, for what I need to do, the only spring security dependencies I should need should be spring-security-config and spring-security-web. I posted an answer for my own question. See below. That happens when I have these two dependencies I mentioned in pom.xml.","body":"@Toerktumlare Should I? As I understand, for what I need to do, the only spring security dependencies I should need should be spring-security-config and spring-security-web. I posted an answer for my own question. See below. That happens when I have these two dependencies I mentioned in pom.xml."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680348268,"post_id":75902833,"comment_id":133885434,"body_markdown":"since you are not using the recommended way of including things, its impossible to tell, this most likely has to do with versions or spring autoconfiguration not loading properly when you do unorthodox things see this answer https://stackoverflow.com/a/66193743/1840146 if you dont go the recommended route, you can expect undefined behavior.","body":"since you are not using the recommended way of including things, its impossible to tell, this most likely has to do with versions or spring autoconfiguration not loading properly when you do unorthodox things see this answer <a href=\"https://stackoverflow.com/a/66193743/1840146\">stackoverflow.com/a/66193743/1840146</a> if you dont go the recommended route, you can expect undefined behavior."},{"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"score":0,"creation_date":1680526630,"post_id":75902833,"comment_id":133908360,"body_markdown":"when you say I&#39;m not using the recommended way, what would be the recommended way? Thought this was the way to do it. But if not, would be glad to change to what it should be. Thanks.","body":"when you say I&#39;m not using the recommended way, what would be the recommended way? Thought this was the way to do it. But if not, would be glad to change to what it should be. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680322913,"creation_date":1680322913,"answer_id":75904263,"question_id":75902833,"body_markdown":"I found a solution for the question I posted although I&#39;m not yet satisfied with it cause it has a strange behaviour.\r\n\r\nThe solution is to change:\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\n\r\nto:\r\n```\r\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n```\r\n\r\nWhen that is done, the application runs fine.\r\n\r\nThe strange part is that if I right click the project name in Spring Tool Suite (Eclipse) &gt; Maven &gt; Update Project, to update maven dependencies, the solution stops working. And no changes at all were made either on the code or in pom.xml. Then I change it back to:\r\n\r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\nand starts working again!\r\n\r\nAnd if I do another maven update, it stops working again and need to change once more to the previous version of the property.\r\n\r\nMakes no sense.\r\nIt works just if I don&#39;t do a maven update. Whenever I do a maven update I need to change to the other version of the property.\r\n\r\nSo, sometimes one version of the property is the one that works, sometimes is the other.\r\n\r\nReally strange.","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified -&gt; Pom.xml spring-security-web","body":"<p>I found a solution for the question I posted although I'm not yet satisfied with it cause it has a strange behaviour.</p>\n<p>The solution is to change:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>to:</p>\n<pre><code>spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>When that is done, the application runs fine.</p>\n<p>The strange part is that if I right click the project name in Spring Tool Suite (Eclipse) &gt; Maven &gt; Update Project, to update maven dependencies, the solution stops working. And no changes at all were made either on the code or in pom.xml. Then I change it back to:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>and starts working again!</p>\n<p>And if I do another maven update, it stops working again and need to change once more to the previous version of the property.</p>\n<p>Makes no sense.\nIt works just if I don't do a maven update. Whenever I do a maven update I need to change to the other version of the property.</p>\n<p>So, sometimes one version of the property is the one that works, sometimes is the other.</p>\n<p>Really strange.</p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680322913,"creation_date":1680297753,"question_id":75902833,"body_markdown":"I have an Java Spring Boot Rest API application that works fine.\r\n\r\nBut when I add this dependency to pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI start getting the following error:\r\n\r\n```\r\n2023-03-31 18:11:34.768[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 2437 ms\r\n[2m2023-03-31 18:11:34.872[0;39m [33m WARN[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n[2m2023-03-31 18:11:34.875[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.StandardService                 [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-03-31 18:11:34.896[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-03-31 18:11:34.924[0;39m [31mERROR[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n```\r\n\r\nI know there are other posts here in StackOverflow about this error.\r\n\r\nBut couldn&#39;t find one with a solution for this specific cause I&#39;m reporting here.\r\n\r\nThanks.\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.mycomp.myappapi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myappapi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;myappapi&lt;/name&gt;\r\n\t&lt;description&gt;My app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.5.2.Final&lt;/org.mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.huxhorn.sulky&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;de.huxhorn.sulky.ulid&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\r\n\t\t\t\t&lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;!-- other annotation processors --&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t\t&lt;compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\r\n\t\t\t\t\t&lt;/compilerArgs&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\napplication.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/mydb\r\nspring.datasource.username=xxx\r\nspring.datasource.password=xxx\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\nserver.servlet.context-path=/xxx\r\nspring.jpa.generate-ddl=true\r\n\r\n#hikari\r\nspring.datasource.hikari.connection-timeout = 20000 \r\nspring.datasource.hikari.minimum-idle= 10\r\nspring.datasource.hikari.maximum-pool-size= 40\r\nspring.datasource.hikari.idle-timeout=10000 \r\nspring.datasource.hikari.auto-commit =true\r\n\r\nserver.error.include-stacktrace=never\r\n\r\n```\r\n\r\n","title":"Failed to configure a DataSource: &#39;url&#39; attribute is not specified -&gt; Pom.xml spring-security-web","body":"<p>I have an Java Spring Boot Rest API application that works fine.</p>\n<p>But when I add this dependency to pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I start getting the following error:</p>\n<pre><code>2023-03-31 18:11:34.768[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 2437 ms\n[2m2023-03-31 18:11:34.872[0;39m [33m WARN[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConfigServletWebServerApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n[2m2023-03-31 18:11:34.875[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.a.c.c.StandardService                 [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-03-31 18:11:34.896[0;39m [32m INFO[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2023-03-31 18:11:34.924[0;39m [31mERROR[0;39m [35m1612[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>I know there are other posts here in StackOverflow about this error.</p>\n<p>But couldn't find one with a solution for this specific cause I'm reporting here.</p>\n<p>Thanks.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mycomp.myappapi&lt;/groupId&gt;\n    &lt;artifactId&gt;myappapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;myappapi&lt;/name&gt;\n    &lt;description&gt;My app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.5.2.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.25&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.huxhorn.sulky&lt;/groupId&gt;\n            &lt;artifactId&gt;de.huxhorn.sulky.ulid&lt;/artifactId&gt;\n            &lt;version&gt;8.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;!--&lt;version&gt;3.8.1&lt;/version&gt;--&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                    &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;!-- other annotation processors --&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;-Amapstruct.defaultComponentModel=spring&lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydb\nspring.datasource.username=xxx\nspring.datasource.password=xxx\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\nserver.servlet.context-path=/xxx\nspring.jpa.generate-ddl=true\n\n#hikari\nspring.datasource.hikari.connection-timeout = 20000 \nspring.datasource.hikari.minimum-idle= 10\nspring.datasource.hikari.maximum-pool-size= 40\nspring.datasource.hikari.idle-timeout=10000 \nspring.datasource.hikari.auto-commit =true\n\nserver.error.include-stacktrace=never\n\n</code></pre>\n"},{"tags":["javascript","java","spring","spring-boot","webjars"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1516627388,"creation_date":1516619505,"answer_id":48380236,"question_id":48380145,"body_markdown":"When I loaded that library into my workspace, it indicates this path: `META-INF/resources/webjars/popper.js/1.13.0/dist`. So try it: \r\n\r\n 1. without `/npm` in path \r\n 2. with version number\r\n 3. with `dist` folder\r\n\r\n\r\n        &lt;script th:src=&quot;@{/webjars/popper.js/1.13.0/dist/popper.min.js}&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n**EDIT: (Reaction on comment)**\r\n\r\nFont awesome JAR has a lot of different folders in WebJAR distribution. Look at my IJ screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo for highlighted file in screenshot, you would use\r\n\r\n     &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/font-awesome/5.0.2/svg-with-js/css/fa-svg-with-js.css}&quot; /&gt;\r\n\r\nHope that after whowing the screenshot you understand how these webjar folders work. WebJAR just adds bunch of UI resources to your WEB-INF/resources folder and you need to figure out correct path from your workspace.\r\n\r\n  [1]: https://i.stack.imgur.com/JXZ54.png","title":"How can I correct include path for webjars?","body":"<p>When I loaded that library into my workspace, it indicates this path: <code>META-INF/resources/webjars/popper.js/1.13.0/dist</code>. So try it: </p>\n\n<ol>\n<li>without <code>/npm</code> in path </li>\n<li>with version number</li>\n<li><p>with <code>dist</code> folder</p>\n\n<pre><code>&lt;script th:src=\"@{/webjars/popper.js/1.13.0/dist/popper.min.js}\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre></li>\n</ol>\n\n<p><strong>EDIT: (Reaction on comment)</strong></p>\n\n<p>Font awesome JAR has a lot of different folders in WebJAR distribution. Look at my IJ screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JXZ54.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JXZ54.png\" alt=\"enter image description here\"></a></p>\n\n<p>So for highlighted file in screenshot, you would use</p>\n\n<pre><code> &lt;link rel=\"stylesheet\" th:href=\"@{/webjars/font-awesome/5.0.2/svg-with-js/css/fa-svg-with-js.css}\" /&gt;\n</code></pre>\n\n<p>Hope that after whowing the screenshot you understand how these webjar folders work. WebJAR just adds bunch of UI resources to your WEB-INF/resources folder and you need to figure out correct path from your workspace.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680322336,"creation_date":1680322336,"answer_id":75904231,"question_id":48380145,"body_markdown":"In case of eclipse / sts i added dependency like following in pom.xml\r\n\r\n\t\t&lt;!-- bootstrap and jquery --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n             &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n             &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n             &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n\r\nand then in html template i added url by going through maven dependency file structure inside \r\n\r\npopper.js-2.0.2.jar-&gt;META-INF-&gt;resources-&gt;webjars-&gt;popper.js-&gt;2.0.2-&gt;umd-&gt;popper.js\r\n\r\nso path i have added as following\r\n\r\n\t&lt;script src=&quot;webjars/popper.js/2.0.2/umd/popper.js&quot;&gt;&lt;/script&gt;\r\n\r\nsimilarly we can add proper path for webjar dependency following is screenshot [![screenshot][1]][1] for reference\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JR5Nf.png","title":"How can I correct include path for webjars?","body":"<p>In case of eclipse / sts i added dependency like following in pom.xml</p>\n<pre><code>    &lt;!-- bootstrap and jquery --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;3.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n         &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n         &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n</code></pre>\n<p>and then in html template i added url by going through maven dependency file structure inside</p>\n<p>popper.js-2.0.2.jar-&gt;META-INF-&gt;resources-&gt;webjars-&gt;popper.js-&gt;2.0.2-&gt;umd-&gt;popper.js</p>\n<p>so path i have added as following</p>\n<pre><code>&lt;script src=&quot;webjars/popper.js/2.0.2/umd/popper.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>similarly we can add proper path for webjar dependency following is screenshot <a href=\"https://i.stack.imgur.com/JR5Nf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JR5Nf.png\" alt=\"screenshot\" /></a> for reference</p>\n"}],"owner":{"account_id":6481695,"reputation":1819,"user_id":5018474,"accept_rate":71,"display_name":"Droide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48380236,"answer_count":2,"score":2,"last_activity_date":1680322336,"creation_date":1516619156,"question_id":48380145,"body_markdown":"I&#39;m trying to include Bootstrap 4 within my Spring Boot project, but I&#39;m seeing the error: `Bootstrap tooltips require Popper.js`\r\n\r\nSo I included the dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\r\n      &lt;version&gt;1.13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.32-1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nBut when I include it inside the page I can&#39; find the the popper.js . Why?\r\n\r\nThis is what I used:\r\n\r\n    &lt;script th:src=&quot;@{/webjars/npm/popper.js/popper.min.js}&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n\r\nWhat is the correct path to include it?\r\n\r\nEDIT:\r\n\r\nSame problem with font-awesome:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n        &lt;artifactId&gt;font-awesome&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.2&lt;/version&gt;\r\n \t&lt;/dependency&gt;\r\n\r\nand\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/font-awesome/dist/font-awesome.min.css}&quot; /&gt;","title":"How can I correct include path for webjars?","body":"<p>I'm trying to include Bootstrap 4 within my Spring Boot project, but I'm seeing the error: <code>Bootstrap tooltips require Popper.js</code></p>\n\n<p>So I included the dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\n  &lt;artifactId&gt;popper.js&lt;/artifactId&gt;\n  &lt;version&gt;1.13.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n    &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n    &lt;version&gt;0.32-1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But when I include it inside the page I can' find the the popper.js . Why?</p>\n\n<p>This is what I used:</p>\n\n<pre><code>&lt;script th:src=\"@{/webjars/npm/popper.js/popper.min.js}\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>What is the correct path to include it?</p>\n\n<p>EDIT:</p>\n\n<p>Same problem with font-awesome:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n    &lt;artifactId&gt;font-awesome&lt;/artifactId&gt;\n    &lt;version&gt;5.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" th:href=\"@{/webjars/font-awesome/dist/font-awesome.min.css}\" /&gt;\n</code></pre>\n"},{"tags":["java","arrays","list","sorting","arraylist"],"comments":[{"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"score":0,"creation_date":1644932744,"post_id":71127526,"comment_id":125731932,"body_markdown":"Collect to list after you sorted it : .collect(Collectors.toList())","body":"Collect to list after you sorted it : .collect(Collectors.toList())"},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644932848,"post_id":71127526,"comment_id":125731987,"body_markdown":"I tried almost everything but it didn&#39;t work. I will try again.","body":"I tried almost everything but it didn&#39;t work. I will try again."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":3,"creation_date":1644932909,"post_id":71127526,"comment_id":125732009,"body_markdown":"[How to print out all the elements of a List in Java?](https://stackoverflow.com/q/10168066) [How to get the String representation of all elements in a Java 8 stream](https://stackoverflow.com/q/39565865)","body":"<a href=\"https://stackoverflow.com/q/10168066\">How to print out all the elements of a List in Java?</a> <a href=\"https://stackoverflow.com/q/39565865\">How to get the String representation of all elements in a Java 8 stream</a>"},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644932972,"post_id":71127526,"comment_id":125732036,"body_markdown":"@BenoitCuvelier I tried now this: sortedList.collect(Collectors.toList());\n But I get Result of &#39;Stream.collect()&#39; is ignored ERROR. And when I run it returns SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb","body":"@BenoitCuvelier I tried now this: sortedList.collect(Collectors.toList());  But I get Result of &#39;Stream.collect()&#39; is ignored ERROR. And when I run it returns SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb"},{"owner":{"account_id":4126058,"reputation":449,"user_id":3385180,"display_name":"venkat"},"score":0,"creation_date":1644941052,"post_id":71127526,"comment_id":125735798,"body_markdown":"final List&lt;String&gt; collect = words.stream().sorted().collect(Collectors.toList()); this logic should work","body":"final List&lt;String&gt; collect = words.stream().sorted().collect(Collectors.toList()); this logic should work"},{"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"score":0,"creation_date":1644942263,"post_id":71127526,"comment_id":125736328,"body_markdown":"@venkat I don&#39;t know why but it gets same result.  --&gt;  public  List&lt;String&gt; getWords(String address) {\n\n        String[] words = address.split(&quot;(/) | (,) | ( )&quot;);\n\n        for (\n                int i = 0;\n                i &lt; words.length; i++) {\n                words[i] = words[i].replaceAll(&quot;[^\\\\w]&quot;, &quot;,&quot;);\n        }\n        return Arrays.asList(words);\n    }\nI use this method. Can it be because of this method ?","body":"@venkat I don&#39;t know why but it gets same result.  --&gt;  public  List&lt;String&gt; getWords(String address) {          String[] words = address.split(&quot;(/) | (,) | ( )&quot;);          for (                 int i = 0;                 i &lt; words.length; i++) {                 words[i] = words[i].replaceAll(&quot;[^\\\\w]&quot;, &quot;,&quot;);         }         return Arrays.asList(words);     } I use this method. Can it be because of this method ?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1644957060,"post_id":71127526,"comment_id":125741986,"body_markdown":"@BatuhanBakar You&#39;re question says that your lists are simply a group of strings like  `&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;`.  So that is the what is expected.","body":"@BatuhanBakar You&#39;re question says that your lists are simply a group of strings like  <code>&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;</code>.  So that is the what is expected."}],"answers":[{"tags":[],"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644933447,"creation_date":1644933206,"answer_id":71127658,"question_id":71127526,"body_markdown":"What you are actually displaying is a Stream. But what you want is the list of string used by this stream, change your code this way : \r\n\r\n    List&lt;String&gt; sortedList = WORD_OF_ADDRESS.stream()\r\n                             .sorted()\r\n                             .collect(Collectors.toList());\r\n\r\nThen display your list the way Johnny Mopp suggered","title":"Java Sort String 2 List and Compare them","body":"<p>What you are actually displaying is a Stream. But what you want is the list of string used by this stream, change your code this way :</p>\n<pre><code>List&lt;String&gt; sortedList = WORD_OF_ADDRESS.stream()\n                         .sorted()\n                         .collect(Collectors.toList());\n</code></pre>\n<p>Then display your list the way Johnny Mopp suggered</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644941923,"creation_date":1644939999,"answer_id":71129347,"question_id":71127526,"body_markdown":"You can sort the lists easily as follows:\r\n```\r\nList&lt;String&gt; WORD_OF_ADDRESS_sorted gatekeeperPage.getWords(ADDRESS)\r\n    .stream().sorted().toList();\r\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS_sorted = gatekeeperPage.getWords(CONTACT_ADDRESS)\r\n    .stream().sorted().toList();\r\n```\r\nThen you can compare them.\r\n\r\nHowever, if you just want to see if they are equal based on contents, sorting is not necessary to test for content equality.  Update a map with a running count each time the item occurs is more efficient. `Add 1` for one list and `subtract 1` for the other.  `Map.merge` is useful because it permits one to replace a `0` value with `null` which then removes the entry.  So if you end up with an empty map, the lists must be equal based on contents.\r\n```\r\npublic static &lt;T&gt; boolean areEqual(List&lt;T&gt; list1, List&lt;T&gt; list2) {\r\n\tMap&lt;T, Integer&gt; map = new HashMap&lt;&gt;();\r\n\tif (list1.size() != list2.size()) {\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tfor (int i = 0; i &lt; list1.size(); i++) {\r\n\t\tmap.merge(list1.get(i), -1,\r\n\t\t\t\t(k, v) -&gt; v + 1 == 0 ? null : v + 1);\r\n\t\tmap.merge(list2.get(i), 1,\r\n\t\t\t\t(k, v) -&gt; v - 1 == 0 ? null : v - 1);\r\n\t}\r\n\t\r\n\treturn map.isEmpty();\r\n}\r\n```\r\nI have not extensively tested this but with the all tests using lists of random integers, where only one is copied shuffled tested as equal.   Randomly salting the lists with different values tested as false.\r\n\r\nSince immutable lists are not altered, they can be passed directly to the method.\r\n\r\nCaveat:  Since Integers have a maximum value and minimum value, extremely large lists have the potential to fail if those limits are reached.  Counting of `Long` or `BigInteger` would mitigate this problem but also decrease its performance.","title":"Java Sort String 2 List and Compare them","body":"<p>You can sort the lists easily as follows:</p>\n<pre><code>List&lt;String&gt; WORD_OF_ADDRESS_sorted gatekeeperPage.getWords(ADDRESS)\n    .stream().sorted().toList();\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS_sorted = gatekeeperPage.getWords(CONTACT_ADDRESS)\n    .stream().sorted().toList();\n</code></pre>\n<p>Then you can compare them.</p>\n<p>However, if you just want to see if they are equal based on contents, sorting is not necessary to test for content equality.  Update a map with a running count each time the item occurs is more efficient. <code>Add 1</code> for one list and <code>subtract 1</code> for the other.  <code>Map.merge</code> is useful because it permits one to replace a <code>0</code> value with <code>null</code> which then removes the entry.  So if you end up with an empty map, the lists must be equal based on contents.</p>\n<pre><code>public static &lt;T&gt; boolean areEqual(List&lt;T&gt; list1, List&lt;T&gt; list2) {\n    Map&lt;T, Integer&gt; map = new HashMap&lt;&gt;();\n    if (list1.size() != list2.size()) {\n        return false;\n    }\n    \n    for (int i = 0; i &lt; list1.size(); i++) {\n        map.merge(list1.get(i), -1,\n                (k, v) -&gt; v + 1 == 0 ? null : v + 1);\n        map.merge(list2.get(i), 1,\n                (k, v) -&gt; v - 1 == 0 ? null : v - 1);\n    }\n    \n    return map.isEmpty();\n}\n</code></pre>\n<p>I have not extensively tested this but with the all tests using lists of random integers, where only one is copied shuffled tested as equal.   Randomly salting the lists with different values tested as false.</p>\n<p>Since immutable lists are not altered, they can be passed directly to the method.</p>\n<p>Caveat:  Since Integers have a maximum value and minimum value, extremely large lists have the potential to fail if those limits are reached.  Counting of <code>Long</code> or <code>BigInteger</code> would mitigate this problem but also decrease its performance.</p>\n"}],"owner":{"account_id":24243797,"reputation":29,"user_id":18195811,"display_name":"Batuhan Bakar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1680321357,"creation_date":1644932665,"question_id":71127526,"body_markdown":"I want to sort 2 List and compare them, but sorted method did not work.\r\nI have 2 String List which includes integer. \r\n\r\nThese are my Lists\r\n``` \r\nList&lt;String&gt; WORD_OF_ADDRESS = gatekeeperPage.getWords(ADDRESS);\r\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS = gatekeeperPage.getWords(CONTACT_ADDRESS);\r\n ```\r\nMy **getwords** method returns :  ```return Arrays.asList(words); ```\r\n\r\nWhen I try this ;\r\n\r\n``` \r\nStream&lt;Object&gt; sortedList = Arrays.stream(WORD_OF_ADDRESS.toArray()).sorted();\r\nSystem.out.println(&quot;SORTED LİST &quot;+ sortedList);\r\n```\r\nI get this : ```SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb```\r\n\r\nWhat should I do to sort 2 list ?\r\n\r\n  \r\n\r\n\r\n","title":"Java Sort String 2 List and Compare them","body":"<p>I want to sort 2 List and compare them, but sorted method did not work.\nI have 2 String List which includes integer.</p>\n<p>These are my Lists</p>\n<pre><code>List&lt;String&gt; WORD_OF_ADDRESS = gatekeeperPage.getWords(ADDRESS);\nList&lt;String&gt; WORD_OF_CONTACT_ADDRESS = gatekeeperPage.getWords(CONTACT_ADDRESS);\n</code></pre>\n<p>My <strong>getwords</strong> method returns :  <code>return Arrays.asList(words); </code></p>\n<p>When I try this ;</p>\n<pre><code>Stream&lt;Object&gt; sortedList = Arrays.stream(WORD_OF_ADDRESS.toArray()).sorted();\nSystem.out.println(&quot;SORTED LİST &quot;+ sortedList);\n</code></pre>\n<p>I get this : <code>SORTED LİST java.util.stream.SortedOps$OfRef@3e8c3cb</code></p>\n<p>What should I do to sort 2 list ?</p>\n"},{"tags":["java","list","arraylist","crash","size"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680320540,"post_id":75904135,"comment_id":133882867,"body_markdown":"If your intention is to show the size of the list, try `testTextView.setText(Integer.toString(list.size()));`","body":"If your intention is to show the size of the list, try <code>testTextView.setText(Integer.toString(list.size()));</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680320746,"post_id":75904135,"comment_id":133882882,"body_markdown":"I&#39;m not familiar with programming Android. But, a quick web search says the `testTextView.setText(int r);` method, the  `r` is a resource identifier for the String to be displayed. By the way, it would help to have the [android] tag on the question.","body":"I&#39;m not familiar with programming Android. But, a quick web search says the <code>testTextView.setText(int r);</code> method, the  <code>r</code> is a resource identifier for the String to be displayed. By the way, it would help to have the [android] tag on the question."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1680325693,"post_id":75904135,"comment_id":133883283,"body_markdown":"Please [edit] your question to provide a proper [mre] and the error you&#39;re getting.","body":"Please <a href=\"https://stackoverflow.com/posts/75904135/edit\">edit</a> your question to provide a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the error you&#39;re getting."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680330925,"post_id":75904135,"comment_id":133883660,"body_markdown":"Please paste the stack trace from the crash into your question (nicely formatted as code).","body":"Please paste the stack trace from the crash into your question (nicely formatted as code)."}],"answers":[{"tags":[],"owner":{"account_id":28076903,"reputation":51,"user_id":21448598,"display_name":"user21448598"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680320558,"creation_date":1680320558,"answer_id":75904155,"question_id":75904135,"body_markdown":"It seems the problem come form this line:\r\n\r\n    testTextView.setText(list.size());\r\n\r\nthe text view take strings as parameters but you give them an Int, causing your problem. In order to fix that you can Use the String.valueOf() function in java to convert the integer size to a string that would be accepted by the component:\r\n\r\n    testTextView.setText(String.valueOf(list.size()));","title":"List&lt;String&gt;.size() keeps crashing app on device","body":"<p>It seems the problem come form this line:</p>\n<pre><code>testTextView.setText(list.size());\n</code></pre>\n<p>the text view take strings as parameters but you give them an Int, causing your problem. In order to fix that you can Use the String.valueOf() function in java to convert the integer size to a string that would be accepted by the component:</p>\n<pre><code>testTextView.setText(String.valueOf(list.size()));\n</code></pre>\n"}],"owner":{"account_id":19808428,"reputation":15,"user_id":14507864,"display_name":"fireslide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75904155,"answer_count":1,"score":0,"last_activity_date":1680320558,"creation_date":1680319830,"question_id":75904135,"body_markdown":"I&#39;m creating an app in android studio in Java and I&#39;m trying to return the size of a List&lt;String&gt; using the .size() function but the app on my device keeps crashing when I use it.\r\n\r\nTo see my result on the app I&#39;ve initialized a TextView\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport android.widget.TextView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\n\r\nTextView testTextView = findViewById(R.id.testText);\r\n\r\nList&lt;String&gt; list = Arrays.asList(&quot;test&quot;,&quot;try&quot;);\r\ntestTextView.setText(list.size());\r\n```\r\nI&#39;ve tried to use other functions to see if I have wrote correctly the List&lt;String&gt; &quot;list&quot; or not, and when I used :\r\n\r\n```\r\ntestTextView.setText(list.get(0));\r\n```\r\nIt worked and shows ```test``` as a result\r\n\r\nI do not think it is a null pointer exception because we can access the List with the .get() function. \r\nBut if it is do you have any clue why ?\r\n","title":"List&lt;String&gt;.size() keeps crashing app on device","body":"<p>I'm creating an app in android studio in Java and I'm trying to return the size of a List using the .size() function but the app on my device keeps crashing when I use it.</p>\n<p>To see my result on the app I've initialized a TextView</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\nTextView testTextView = findViewById(R.id.testText);\n\nList&lt;String&gt; list = Arrays.asList(&quot;test&quot;,&quot;try&quot;);\ntestTextView.setText(list.size());\n</code></pre>\n<p>I've tried to use other functions to see if I have wrote correctly the List &quot;list&quot; or not, and when I used :</p>\n<pre><code>testTextView.setText(list.get(0));\n</code></pre>\n<p>It worked and shows <code>test</code> as a result</p>\n<p>I do not think it is a null pointer exception because we can access the List with the .get() function.\nBut if it is do you have any clue why ?</p>\n"},{"tags":["java","canvas"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1680330932,"post_id":75904085,"comment_id":133883661,"body_markdown":"Cast the graphics object to Graphics2d, and you will have plenty of methods to draw, including rectangles. For custom drawing create an object that implements Shape.","body":"Cast the graphics object to Graphics2d, and you will have plenty of methods to draw, including rectangles. For custom drawing create an object that implements Shape."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680331476,"post_id":75904085,"comment_id":133883699,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting/index.html</a>"}],"owner":{"account_id":27643558,"reputation":15,"user_id":21099993,"display_name":"tarikeld11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680318659,"creation_date":1680318659,"question_id":75904085,"body_markdown":"I wrote a library for customized draw Methods in JavaScript, which I want to rewrite for Java. In Javascript it looks like this:\r\n\r\n```\r\nvar canvas = document.getElementById(&quot;canvas&quot;);\r\nvar ctx = canvas.getContext(&quot;2d&quot;);\r\nctx.canvas.width = window.innerWidth;\r\nctx.canvas.height = window.innerHeight;\r\n\r\nfunction rect(x, y, sizex, sizey, color) {\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(x, y, sizex, sizey);\r\n}\r\n\r\n//more functions...\r\n```\r\n\r\nNow don&#39;t know how to draw with custom methods in Java without hardcoding everything into the `paint(Graphics g)` method. \r\n\r\nI want to have a class &quot;Graphic&quot; which can be used by other classes to call my own `rect` method. Other classes should use it like this:\r\n\r\n\r\n```\r\nGraphic g = new Graphic(myFrame);\r\npublic void drawThing(x,y){\r\n    g.rect(x,y,50,50,Color.RED);\r\n    g.rect(x + 50,y,50,50,Color.BLUE);\r\n}\r\n\r\n```\r\n\r\n\r\nMy Java code looks like this but what should I write at the &quot;???&quot; \r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class Graphic extends Canvas {\r\n\r\n    public Graphic(JFrame f) {\r\n        setSize(new Dimension(f.getContentPane().getWidth(),f.getContentPane().getHeight()));\r\n    }\r\n\r\n    public void rect(int x, int y,\r\n            int sizeX, int sizeY, Color c) {\r\n        ???.setColor(c);\r\n        ???.fillRect(x, y, sizeX, sizeY);\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        ???\r\n    }\r\n}\r\n```\r\nI already looked on plenty of websites but everyone seems to draw everything already in the paint method.","title":"How can I write custom methods for drawing in Java Canvas?","body":"<p>I wrote a library for customized draw Methods in JavaScript, which I want to rewrite for Java. In Javascript it looks like this:</p>\n<pre><code>var canvas = document.getElementById(&quot;canvas&quot;);\nvar ctx = canvas.getContext(&quot;2d&quot;);\nctx.canvas.width = window.innerWidth;\nctx.canvas.height = window.innerHeight;\n\nfunction rect(x, y, sizex, sizey, color) {\n    ctx.fillStyle = color;\n    ctx.fillRect(x, y, sizex, sizey);\n}\n\n//more functions...\n</code></pre>\n<p>Now don't know how to draw with custom methods in Java without hardcoding everything into the <code>paint(Graphics g)</code> method.</p>\n<p>I want to have a class &quot;Graphic&quot; which can be used by other classes to call my own <code>rect</code> method. Other classes should use it like this:</p>\n<pre><code>Graphic g = new Graphic(myFrame);\npublic void drawThing(x,y){\n    g.rect(x,y,50,50,Color.RED);\n    g.rect(x + 50,y,50,50,Color.BLUE);\n}\n\n</code></pre>\n<p>My Java code looks like this but what should I write at the &quot;???&quot;</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Graphic extends Canvas {\n\n    public Graphic(JFrame f) {\n        setSize(new Dimension(f.getContentPane().getWidth(),f.getContentPane().getHeight()));\n    }\n\n    public void rect(int x, int y,\n            int sizeX, int sizeY, Color c) {\n        ???.setColor(c);\n        ???.fillRect(x, y, sizeX, sizeY);\n    }\n\n    public void paint(Graphics g) {\n        ???\n    }\n}\n</code></pre>\n<p>I already looked on plenty of websites but everyone seems to draw everything already in the paint method.</p>\n"},{"tags":["java","spring","api","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1516895522,"post_id":48446708,"comment_id":83885877,"body_markdown":"Is the only difference that you call it API key instead of username or is there anything else?","body":"Is the only difference that you call it API key instead of username or is there anything else?"},{"owner":{"account_id":1558780,"reputation":4158,"user_id":1449185,"accept_rate":42,"display_name":"Rasool Ghafari"},"score":0,"creation_date":1594464268,"post_id":48446708,"comment_id":111139069,"body_markdown":"Is this below answer resolved your problem? how did you managed your users and api key for each user?","body":"Is this below answer resolved your problem? how did you managed your users and api key for each user?"}],"answers":[{"tags":[],"owner":{"account_id":35893,"reputation":3344,"user_id":102009,"accept_rate":100,"display_name":"MarkOfHall"},"down_vote_count":1,"up_vote_count":115,"is_accepted":true,"score":114,"last_activity_date":1540557675,"creation_date":1516901995,"answer_id":48448901,"question_id":48446708,"body_markdown":"Create a filter that grabs what ever header(s) you&#39;re using for authentication.\r\n\r\n    import org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\r\n\r\n\tpublic class APIKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\r\n\r\n\t    private String principalRequestHeader;\r\n    \r\n\t    public APIKeyAuthFilter(String principalRequestHeader) {\r\n\t        this.principalRequestHeader = principalRequestHeader;\r\n\t    }\r\n    \r\n\t    @Override\r\n\t    protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\r\n\t        return request.getHeader(principalRequestHeader);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\r\n\t        return &quot;N/A&quot;;\r\n\t    }\r\n\r\n\t}\r\n\r\n\r\nConfigure the filter in your Web Security config.\r\n\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.core.annotation.Order;\r\n\timport org.springframework.security.authentication.AuthenticationManager;\r\n\timport org.springframework.security.authentication.BadCredentialsException;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\timport org.springframework.security.config.http.SessionCreationPolicy;\r\n\timport org.springframework.security.core.Authentication;\r\n\timport org.springframework.security.core.AuthenticationException;\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\t@Order(1)\r\n\tpublic class APISecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t    @Value(&quot;${yourapp.http.auth-token-header-name}&quot;)\r\n\t    private String principalRequestHeader;\r\n    \r\n\t    @Value(&quot;${yourapp.http.auth-token}&quot;)\r\n\t    private String principalRequestValue;\r\n    \r\n\t    @Override\r\n\t    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\t        APIKeyAuthFilter filter = new APIKeyAuthFilter(principalRequestHeader);\r\n\t        filter.setAuthenticationManager(new AuthenticationManager() {\r\n            \r\n\t            @Override\r\n\t            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\t                String principal = (String) authentication.getPrincipal();\r\n\t                if (!principalRequestValue.equals(principal))\r\n\t                {\r\n\t                    throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\r\n\t                }\r\n\t                authentication.setAuthenticated(true);\r\n\t                return authentication;\r\n\t            }\r\n\t        });\r\n\t        httpSecurity.\r\n\t            antMatcher(&quot;/api/**&quot;).\r\n\t            csrf().disable().\r\n\t            sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\r\n\t            and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\r\n\t    }\r\n    \r\n\t}\r\n","title":"Securing Spring Boot API with API key and secret","body":"<p>Create a filter that grabs what ever header(s) you're using for authentication.</p>\n\n<pre><code>import org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\n\npublic class APIKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\n\n    private String principalRequestHeader;\n\n    public APIKeyAuthFilter(String principalRequestHeader) {\n        this.principalRequestHeader = principalRequestHeader;\n    }\n\n    @Override\n    protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\n        return request.getHeader(principalRequestHeader);\n    }\n\n    @Override\n    protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\n        return \"N/A\";\n    }\n\n}\n</code></pre>\n\n<p>Configure the filter in your Web Security config.</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class APISecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(\"${yourapp.http.auth-token-header-name}\")\n    private String principalRequestHeader;\n\n    @Value(\"${yourapp.http.auth-token}\")\n    private String principalRequestValue;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        APIKeyAuthFilter filter = new APIKeyAuthFilter(principalRequestHeader);\n        filter.setAuthenticationManager(new AuthenticationManager() {\n\n            @Override\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n                String principal = (String) authentication.getPrincipal();\n                if (!principalRequestValue.equals(principal))\n                {\n                    throw new BadCredentialsException(\"The API key was not found or not the expected value.\");\n                }\n                authentication.setAuthenticated(true);\n                return authentication;\n            }\n        });\n        httpSecurity.\n            antMatcher(\"/api/**\").\n            csrf().disable().\n            sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\n            and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2205705,"reputation":3873,"user_id":1948990,"accept_rate":20,"display_name":"matt forsythe"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1599847711,"creation_date":1599847711,"answer_id":63852212,"question_id":48446708,"body_markdown":"I realize I am a little late to the game on this one, but I also managed to get API keys working with Spring Boot in tandem with user-name/password authentication.  I wasn&#39;t crazy about the idea of using `AbstractPreAuthenticatedProcessingFilter` because in reading the JavaDoc, it seemed like a misuse of that particular class.\r\n\r\nI ended up creating a new `ApiKeyAuthenticationToken` class along with a pretty simple raw servlet filter to accomplish this:\r\n\r\n    import java.util.Collection;\r\n    \r\n    import org.springframework.security.authentication.AbstractAuthenticationToken;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.Transient;\r\n    \r\n    @Transient\r\n    public class ApiKeyAuthenticationToken extends AbstractAuthenticationToken {\r\n    \r\n        private String apiKey;\r\n        \r\n        public ApiKeyAuthenticationToken(String apiKey, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n            super(authorities);\r\n            this.apiKey = apiKey;\r\n            setAuthenticated(true);\r\n        }\r\n    \r\n        @Override\r\n        public Object getCredentials() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Object getPrincipal() {\r\n            return apiKey;\r\n        }\r\n    }\r\n\r\n\r\nAnd the filter\r\n\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.security.core.authority.AuthorityUtils;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    \r\n    public class ApiKeyAuthenticationFilter implements Filter {\r\n    \r\n        static final private String AUTH_METHOD = &quot;api-key&quot;;\r\n        \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException\r\n        {\r\n            if(request instanceof HttpServletRequest &amp;&amp; response instanceof HttpServletResponse) {\r\n                String apiKey = getApiKey((HttpServletRequest) request);\r\n                if(apiKey != null) {\r\n                    if(apiKey.equals(&quot;my-valid-api-key&quot;)) {\r\n                        ApiKeyAuthenticationToken apiToken = new ApiKeyAuthenticationToken(apiKey, AuthorityUtils.NO_AUTHORITIES);\r\n                        SecurityContextHolder.getContext().setAuthentication(apiToken);\r\n                    } else {\r\n                        HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n                        httpResponse.setStatus(401);\r\n                        httpResponse.getWriter().write(&quot;Invalid API Key&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            chain.doFilter(request, response);\r\n            \r\n        }\r\n    \r\n        private String getApiKey(HttpServletRequest httpRequest) {\r\n            String apiKey = null;\r\n            \r\n            String authHeader = httpRequest.getHeader(&quot;Authorization&quot;);\r\n            if(authHeader != null) {\r\n                authHeader = authHeader.trim();\r\n                if(authHeader.toLowerCase().startsWith(AUTH_METHOD + &quot; &quot;)) {\r\n                    apiKey = authHeader.substring(AUTH_METHOD.length()).trim();\r\n                }\r\n            }\r\n            \r\n            return apiKey;\r\n        }\r\n    }\r\n\r\nAll that is left at this point is to inject the filter at the proper location in the chain.  In my case, I wanted API key authentication to be evaluated before any user-name / password authentication so that it could authenticate the request before the application tried to redirect to a login page:\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf()\r\n                .disable()\r\n            .addFilterBefore(new ApiKeyAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n            .authorizeRequests()\r\n                .anyRequest()\r\n                    .fullyAuthenticated()\r\n                    .and()\r\n            .formLogin();\r\n    }\r\n\r\n    \r\nOne other thing I will say you should watch out for is that your API key authenticated requests don&#39;t create and abandon a bunch of `HttpSession`s on your server.","title":"Securing Spring Boot API with API key and secret","body":"<p>I realize I am a little late to the game on this one, but I also managed to get API keys working with Spring Boot in tandem with user-name/password authentication.  I wasn't crazy about the idea of using <code>AbstractPreAuthenticatedProcessingFilter</code> because in reading the JavaDoc, it seemed like a misuse of that particular class.</p>\n<p>I ended up creating a new <code>ApiKeyAuthenticationToken</code> class along with a pretty simple raw servlet filter to accomplish this:</p>\n<pre><code>import java.util.Collection;\n\nimport org.springframework.security.authentication.AbstractAuthenticationToken;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.Transient;\n\n@Transient\npublic class ApiKeyAuthenticationToken extends AbstractAuthenticationToken {\n\n    private String apiKey;\n    \n    public ApiKeyAuthenticationToken(String apiKey, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(authorities);\n        this.apiKey = apiKey;\n        setAuthenticated(true);\n    }\n\n    @Override\n    public Object getCredentials() {\n        return null;\n    }\n\n    @Override\n    public Object getPrincipal() {\n        return apiKey;\n    }\n}\n</code></pre>\n<p>And the filter</p>\n<pre><code>import javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.context.SecurityContextHolder;\n\npublic class ApiKeyAuthenticationFilter implements Filter {\n\n    static final private String AUTH_METHOD = &quot;api-key&quot;;\n    \n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException\n    {\n        if(request instanceof HttpServletRequest &amp;&amp; response instanceof HttpServletResponse) {\n            String apiKey = getApiKey((HttpServletRequest) request);\n            if(apiKey != null) {\n                if(apiKey.equals(&quot;my-valid-api-key&quot;)) {\n                    ApiKeyAuthenticationToken apiToken = new ApiKeyAuthenticationToken(apiKey, AuthorityUtils.NO_AUTHORITIES);\n                    SecurityContextHolder.getContext().setAuthentication(apiToken);\n                } else {\n                    HttpServletResponse httpResponse = (HttpServletResponse) response;\n                    httpResponse.setStatus(401);\n                    httpResponse.getWriter().write(&quot;Invalid API Key&quot;);\n                    return;\n                }\n            }\n        }\n        \n        chain.doFilter(request, response);\n        \n    }\n\n    private String getApiKey(HttpServletRequest httpRequest) {\n        String apiKey = null;\n        \n        String authHeader = httpRequest.getHeader(&quot;Authorization&quot;);\n        if(authHeader != null) {\n            authHeader = authHeader.trim();\n            if(authHeader.toLowerCase().startsWith(AUTH_METHOD + &quot; &quot;)) {\n                apiKey = authHeader.substring(AUTH_METHOD.length()).trim();\n            }\n        }\n        \n        return apiKey;\n    }\n}\n</code></pre>\n<p>All that is left at this point is to inject the filter at the proper location in the chain.  In my case, I wanted API key authentication to be evaluated before any user-name / password authentication so that it could authenticate the request before the application tried to redirect to a login page:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf()\n            .disable()\n        .addFilterBefore(new ApiKeyAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n        .authorizeRequests()\n            .anyRequest()\n                .fullyAuthenticated()\n                .and()\n        .formLogin();\n}\n</code></pre>\n<p>One other thing I will say you should watch out for is that your API key authenticated requests don't create and abandon a bunch of <code>HttpSession</code>s on your server.</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1618275032,"creation_date":1617965015,"answer_id":67019644,"question_id":48446708,"body_markdown":"The answer from the @MarkOfHall is correct and I just want to add a little more details. After you have the code, you will need to add the property values to the `application.properties` file as below:\r\n\r\n\r\n    yourapp.http.auth-token-header-name=X-API-KEY\r\n    yourapp.http.auth-token=abc123\r\n\r\nThe set the authentication value in the Postman as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nYou can use Postman but if you use `cURL` request will be similar provided below:\r\n\r\n    $ curl -H &quot;X-API-KEY: abc123&quot; &quot;http://localhost:8080/api/v1/property/1&quot;\r\n \r\nUnless if provide the correct key and value, the app will not work. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gh3dp.png\r\n","title":"Securing Spring Boot API with API key and secret","body":"<p>The answer from the @MarkOfHall is correct and I just want to add a little more details. After you have the code, you will need to add the property values to the <code>application.properties</code> file as below:</p>\n<pre><code>yourapp.http.auth-token-header-name=X-API-KEY\nyourapp.http.auth-token=abc123\n</code></pre>\n<p>The set the authentication value in the Postman as below:</p>\n<p><a href=\"https://i.stack.imgur.com/gh3dp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gh3dp.png\" alt=\"enter image description here\" /></a></p>\n<p>You can use Postman but if you use <code>cURL</code> request will be similar provided below:</p>\n<pre><code>$ curl -H &quot;X-API-KEY: abc123&quot; &quot;http://localhost:8080/api/v1/property/1&quot;\n</code></pre>\n<p>Unless if provide the correct key and value, the app will not work.</p>\n"},{"tags":[],"owner":{"account_id":2784451,"reputation":155,"user_id":2396218,"display_name":"zawar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1680318214,"creation_date":1654334835,"answer_id":72498590,"question_id":48446708,"body_markdown":"To build on the answer by @MarkOfHall, `WebSecurityConfigurerAdapter` has been deprecated (see https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter). So his version of `APISecurityConfig` will now look like:\r\n\r\n    package com.fasset.ledger.auth;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.BadCredentialsException;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Order(1)\r\n    public class APISecurityConfig {\r\n\r\n    @Value(&quot;${yourapp.http.auth-token-header-name}&quot;)\r\n    private String principalRequestHeader;\r\n\r\n    @Value(&quot;${yourapp.http.auth-token}&quot;)\r\n    private String principalRequestValue;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\r\n        filter.setAuthenticationManager(new AuthenticationManager() {\r\n\r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n                String principal = (String) authentication.getPrincipal();\r\n                if (!principalRequestValue.equals(principal))\r\n                {\r\n                    throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\r\n                }\r\n                authentication.setAuthenticated(true);\r\n                return authentication;\r\n            }\r\n        });\r\n        http.antMatcher(&quot;/api/**&quot;).\r\n                csrf().disable().\r\n                sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\r\n                and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\r\n\r\n        return http.build();\r\n      }\r\n    }\r\n","title":"Securing Spring Boot API with API key and secret","body":"<p>To build on the answer by @MarkOfHall, <code>WebSecurityConfigurerAdapter</code> has been deprecated (see <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a>). So his version of <code>APISecurityConfig</code> will now look like:</p>\n<pre><code>package com.fasset.ledger.auth;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class APISecurityConfig {\n\n@Value(&quot;${yourapp.http.auth-token-header-name}&quot;)\nprivate String principalRequestHeader;\n\n@Value(&quot;${yourapp.http.auth-token}&quot;)\nprivate String principalRequestValue;\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\n    filter.setAuthenticationManager(new AuthenticationManager() {\n\n        @Override\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n            String principal = (String) authentication.getPrincipal();\n            if (!principalRequestValue.equals(principal))\n            {\n                throw new BadCredentialsException(&quot;The API key was not found or not the expected value.&quot;);\n            }\n            authentication.setAuthenticated(true);\n            return authentication;\n        }\n    });\n    http.antMatcher(&quot;/api/**&quot;).\n            csrf().disable().\n            sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).\n            and().addFilter(filter).authorizeRequests().anyRequest().authenticated();\n\n    return http.build();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":79489,"reputation":1968,"user_id":225341,"display_name":"Victor Ionescu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670498175,"creation_date":1670498175,"answer_id":74729453,"question_id":48446708,"body_markdown":"Building upon the answers of @zawar and @MarkOfHall, and from [https://github.com/gregwhitaker/springboot-apikey-example][1]\r\n\r\n\r\na contemporary solution as of December 8th 2022 would look like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\tpackage com.mygloriousapp.auth;\r\n\timport javax.servlet.http.HttpServletRequest;\r\n\timport org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\r\n\r\n\t/**\r\n\t * Filter responsible for getting the api key off of incoming requests that need to be authorized.\r\n\t */\r\n\tpublic class ApiKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\r\n\r\n\t  private final String headerName;\r\n\r\n\t  public ApiKeyAuthFilter(final String headerName) {\r\n\t\tthis.headerName = headerName;\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\r\n\t\treturn request.getHeader(headerName);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\r\n\t\t// No credentials when using API key\r\n\t\treturn null;\r\n\t  }\r\n\t}\r\n\r\n\r\n\r\n\r\n\tpackage com.mygloriousapp.config;\r\n\r\n\timport com.mygloriousapp.auth.ApiKeyAuthFilter;\r\n\timport java.util.Objects;\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.core.annotation.Order;\r\n\timport org.springframework.security.authentication.BadCredentialsException;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.config.http.SessionCreationPolicy;\r\n\timport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\t@Order(1)\r\n\tpublic class SecurityConfig {\r\n\r\n\t  @Value(&quot;${app.http.auth-token-header-name}&quot;)\r\n\t  private String principalRequestHeader;\r\n\r\n\t  @Value(&quot;${app.http.auth-token}&quot;)\r\n\t  private String principalRequestValue;\r\n\r\n\t  @Bean\r\n\t  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\tApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\r\n\t\tfilter.setAuthenticationManager(\r\n\t\t\tauthentication -&gt; {\r\n\t\t\t  String principal = (String) authentication.getPrincipal();\r\n\t\t\t  if (!Objects.equals(principalRequestValue, principal)) {\r\n\t\t\t\tthrow new BadCredentialsException(\r\n\t\t\t\t\t&quot;The API key was not found or not the expected value.&quot;);\r\n\t\t\t  }\r\n\t\t\t  authentication.setAuthenticated(true);\r\n\t\t\t  return authentication;\r\n\t\t\t});\r\n\t\thttp.antMatcher(&quot;/**&quot;)\r\n\t\t\t.csrf()\r\n\t\t\t.disable()\r\n\t\t\t.sessionManagement()\r\n\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t.and()\r\n\t\t\t.addFilter(filter)\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated();\r\n\r\n\t\treturn http.build();\r\n\t  }\r\n\t}\r\n\r\nThe required configuration in application.properties:\r\n\r\n&lt;!-- language: lang-properties --&gt;\r\n\tapp.http.auth-token-header-name=X-API-Key\r\n\tapp.http.auth-token=109353c6-6432-4acf-8e77-ef842f64a664\r\n\r\nThe dependeny in pom.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;    \r\n\r\nIf you are using Postman, click on the collection and edit the Authorization tab:\r\n[![Postman autorization][2]][2] \r\n\r\n\r\n  [1]: https://github.com/gregwhitaker/springboot-apikey-example\r\n  [2]: https://i.stack.imgur.com/nZcuR.png","title":"Securing Spring Boot API with API key and secret","body":"<p>Building upon the answers of @zawar and @MarkOfHall, and from <a href=\"https://github.com/gregwhitaker/springboot-apikey-example\" rel=\"noreferrer\">https://github.com/gregwhitaker/springboot-apikey-example</a></p>\n<p>a contemporary solution as of December 8th 2022 would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mygloriousapp.auth;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter;\n\n/**\n * Filter responsible for getting the api key off of incoming requests that need to be authorized.\n */\npublic class ApiKeyAuthFilter extends AbstractPreAuthenticatedProcessingFilter {\n\n  private final String headerName;\n\n  public ApiKeyAuthFilter(final String headerName) {\n    this.headerName = headerName;\n  }\n\n  @Override\n  protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\n    return request.getHeader(headerName);\n  }\n\n  @Override\n  protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\n    // No credentials when using API key\n    return null;\n  }\n}\n\n\n\n\npackage com.mygloriousapp.config;\n\nimport com.mygloriousapp.auth.ApiKeyAuthFilter;\nimport java.util.Objects;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@Order(1)\npublic class SecurityConfig {\n\n  @Value(&quot;${app.http.auth-token-header-name}&quot;)\n  private String principalRequestHeader;\n\n  @Value(&quot;${app.http.auth-token}&quot;)\n  private String principalRequestValue;\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    ApiKeyAuthFilter filter = new ApiKeyAuthFilter(principalRequestHeader);\n    filter.setAuthenticationManager(\n        authentication -&gt; {\n          String principal = (String) authentication.getPrincipal();\n          if (!Objects.equals(principalRequestValue, principal)) {\n            throw new BadCredentialsException(\n                &quot;The API key was not found or not the expected value.&quot;);\n          }\n          authentication.setAuthenticated(true);\n          return authentication;\n        });\n    http.antMatcher(&quot;/**&quot;)\n        .csrf()\n        .disable()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .addFilter(filter)\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated();\n\n    return http.build();\n  }\n}\n</code></pre>\n<p>The required configuration in application.properties:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>app.http.auth-token-header-name=X-API-Key\napp.http.auth-token=109353c6-6432-4acf-8e77-ef842f64a664\n</code></pre>\n<p>The dependeny in pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;    \n</code></pre>\n<p>If you are using Postman, click on the collection and edit the Authorization tab:\n<a href=\"https://i.stack.imgur.com/nZcuR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nZcuR.png\" alt=\"Postman autorization\" /></a></p>\n"}],"owner":{"account_id":5211320,"reputation":1165,"user_id":4167652,"display_name":"Vitalii Oleksiv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124052,"favorite_count":0,"down_vote_count":0,"up_vote_count":101,"accepted_answer_id":48448901,"answer_count":5,"score":101,"last_activity_date":1680318214,"creation_date":1516894941,"question_id":48446708,"body_markdown":"I would like to secure the Spring Boot API so it is accessible only for the clients that has valid API key and secret. However, there is no authentication (standard login with username and password) inside the program as all data is anonymous. All I&#39;m trying to achieve is that all API requests can be used only for specific third party front-end.\r\n\r\nI found a lot of articles about how to secure the Spring Boot API with user authentication. But I don&#39;t need user authentication. What I am thinking of is just provide my client with API key and secret so he has access to the endpoints.\r\n\r\nCould you please suggest me how can I achieve this? Thank you!\r\n   ","title":"Securing Spring Boot API with API key and secret","body":"<p>I would like to secure the Spring Boot API so it is accessible only for the clients that has valid API key and secret. However, there is no authentication (standard login with username and password) inside the program as all data is anonymous. All I'm trying to achieve is that all API requests can be used only for specific third party front-end.</p>\n\n<p>I found a lot of articles about how to secure the Spring Boot API with user authentication. But I don't need user authentication. What I am thinking of is just provide my client with API key and secret so he has access to the endpoints.</p>\n\n<p>Could you please suggest me how can I achieve this? Thank you!</p>\n"},{"tags":["java","arrays","generics","deque","type-safety"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680098259,"post_id":75878133,"comment_id":133839717,"body_markdown":"Does this answer your question? [How to create a generic array in Java?](https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java\">How to create a generic array in Java?</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1680101458,"post_id":75878133,"comment_id":133840795,"body_markdown":"Generally, this is done by doing a cast on the getters/dequeue method, and keeping it as an Object[].","body":"Generally, this is done by doing a cast on the getters/dequeue method, and keeping it as an Object[]."}],"owner":{"account_id":25342583,"reputation":1,"user_id":19160775,"display_name":"luh_marc808"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680317007,"creation_date":1680097793,"question_id":75878133,"body_markdown":"I am creating a deque using generic type E...\r\nHaving trouble initializing some sort of generic array, while being type safe, have tried casting, however this is `Type safety: Unchecked cast from Object[] to E[]`\r\n\r\n    public class DequeCyclic&lt;E&gt; implements Deque&lt;E&gt; {\r\n       private E[] line;\r\n    \r\n       public DequeCyclic(int size) {\r\n       E[] line = (E[])new Object[size];\r\n       }\r\n    }\r\n\r\nCould I put in `@SuppressWarnings(&quot;unchecked&quot;)` to ignore the type safety issue?\r\nWhat is another way to create the generic deque/array?","title":"How to make generic type deque?","body":"<p>I am creating a deque using generic type E...\nHaving trouble initializing some sort of generic array, while being type safe, have tried casting, however this is <code>Type safety: Unchecked cast from Object[] to E[]</code></p>\n<pre><code>public class DequeCyclic&lt;E&gt; implements Deque&lt;E&gt; {\n   private E[] line;\n\n   public DequeCyclic(int size) {\n   E[] line = (E[])new Object[size];\n   }\n}\n</code></pre>\n<p>Could I put in <code>@SuppressWarnings(&quot;unchecked&quot;)</code> to ignore the type safety issue?\nWhat is another way to create the generic deque/array?</p>\n"},{"tags":["java","android","android-sdk-manager"],"comments":[{"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"score":0,"creation_date":1680318799,"post_id":75904015,"comment_id":133882754,"body_markdown":"SDK for documentation ?? Couldn&#39;t understand. If there is any error share the log or error message.","body":"SDK for documentation ?? Couldn&#39;t understand. If there is any error share the log or error message."}],"owner":{"account_id":28183879,"reputation":1,"user_id":21540432,"display_name":"Hazrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680316874,"creation_date":1680316874,"question_id":75904015,"body_markdown":"i have downloaded the newer version of androistudio and insatalled in my linux system , but i cant find the android sdk for documentatoin option to download the documentation file.\r\n\r\nthis is my sdk manger\r\n[enter image description here](https://i.stack.imgur.com/Bt0oj.png)[enter image description here](https://i.stack.imgur.com/06Fe0.png)","title":"I cant find the option of androi documentation for sdk in androi studio","body":"<p>i have downloaded the newer version of androistudio and insatalled in my linux system , but i cant find the android sdk for documentatoin option to download the documentation file.</p>\n<p>this is my sdk manger\n<a href=\"https://i.stack.imgur.com/Bt0oj.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/06Fe0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","optimization","jvm","null-check"],"comments":[{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":1,"creation_date":1504554122,"post_id":46043185,"comment_id":79046599,"body_markdown":"Have you tested what happens?","body":"Have you tested what happens?"},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1504555643,"post_id":46043185,"comment_id":79047091,"body_markdown":"There are other optimizations that were out there for quite some tmie like changing the if-then-else orders etc. that could have similar effects like the one you described, so I assume that this is covered (haven&#39;t tested it though). As Carcigenicate suggested, do a test and find out for yourself.","body":"There are other optimizations that were out there for quite some tmie like changing the if-then-else orders etc. that could have similar effects like the one you described, so I assume that this is covered (haven&#39;t tested it though). As Carcigenicate suggested, do a test and find out for yourself."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":5,"creation_date":1504556011,"post_id":46043185,"comment_id":79047208,"body_markdown":"You can be sure that all the optimizations done by the Java HotSpot JIT compiler leave the language semantics intact. So maybe in your case it won&#39;t apply Null-Check Elimination, or delay the `++` until after a modified `obj.doSomething(m_someVar+1)` or doing a `m_someVar--` after the segmentation fault.","body":"You can be sure that all the optimizations done by the Java HotSpot JIT compiler leave the language semantics intact. So maybe in your case it won&#39;t apply Null-Check Elimination, or delay the <code>++</code> until after a modified <code>obj.doSomething(m_someVar+1)</code> or doing a <code>m_someVar--</code> after the segmentation fault."},{"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"score":1,"creation_date":1504565139,"post_id":46043185,"comment_id":79049574,"body_markdown":"Yes, it is seems like it executes the command twice on assembler level. But it does not spoil the end result (otherwise it would be improper JVM implementation). Take a look at this article http://jcdav.is/2015/10/06/SIGSEGV-as-control-flow/ This guy analyses the C2 output line by line for exactly the same case.","body":"Yes, it is seems like it executes the command twice on assembler level. But it does not spoil the end result (otherwise it would be improper JVM implementation). Take a look at this article <a href=\"http://jcdav.is/2015/10/06/SIGSEGV-as-control-flow/\" rel=\"nofollow noreferrer\">jcdav.is/2015/10/06/SIGSEGV-as-control-flow</a> This guy analyses the C2 output line by line for exactly the same case."},{"owner":{"account_id":326549,"reputation":3415,"user_id":648368,"accept_rate":74,"display_name":"Tomer W"},"score":0,"creation_date":1504582956,"post_id":46043185,"comment_id":79052897,"body_markdown":"@RalfKleberhoff thanks, I was pretty sure it would, but didn&#39;t get how the JVM can know when the &quot;middle code&quot; is apathetic to being run twice.  is there some source for deeper explanation on the implementation?","body":"@RalfKleberhoff thanks, I was pretty sure it would, but didn&#39;t get how the JVM can know when the &quot;middle code&quot; is apathetic to being run twice.  is there some source for deeper explanation on the implementation?"}],"answers":[{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504584221,"creation_date":1504584221,"answer_id":46046854,"question_id":46043185,"body_markdown":"There are many possibilities ho to avoid the problem: Delaying or undoing the increment was already mentioned in a comment. The JVM has a big bag of tricks and some of them applies:\r\n\r\n- When `obj.doSomething(m_someVar)` is a non-virtual method call (a `private` or `final` method, or a never overridden method), then it probably requires an explicit null check(*) as there would be no SEGV, but the NPE must be thrown before the call. I&#39;m assuming the method was not inlined, as otherwise this analysis should be applied after inlining.\r\n- When `obj.doSomething(m_someVar)` is a virtual method call, then you have to do &quot;method dispatch&quot;, i.e., something like `obj.getClass().getPointerToMethod(&quot;doSomething(int)&quot;)` in order to determine what concrete method to call. I wrote &quot;something like&quot; as doing this literally is very time-consuming and gets optimized away as much as possible. This dispatch can be moved above the increment and it itself will throw an NPE, if `obj` happens to be `null`.\r\n- When you&#39;re lucky, then the dispatch may look like `if (obj.getClass() != MyClass.class) uncommon_trap();`, which is the simplest case (called &quot;monomorphic call site&quot;), but even this involves dereferencing `obj` and you again get an NPE for `null`.\r\n\r\n---\r\n(*) A null check may look like `obj.getClass()` which in assembler is a single instruction loading from a fixed offset relative to the `obj` pointer. When `obj == null` then an unmapped page ist hit.","title":"Java Null check elimination can cause bad code?","body":"<p>There are many possibilities ho to avoid the problem: Delaying or undoing the increment was already mentioned in a comment. The JVM has a big bag of tricks and some of them applies:</p>\n\n<ul>\n<li>When <code>obj.doSomething(m_someVar)</code> is a non-virtual method call (a <code>private</code> or <code>final</code> method, or a never overridden method), then it probably requires an explicit null check(*) as there would be no SEGV, but the NPE must be thrown before the call. I'm assuming the method was not inlined, as otherwise this analysis should be applied after inlining.</li>\n<li>When <code>obj.doSomething(m_someVar)</code> is a virtual method call, then you have to do \"method dispatch\", i.e., something like <code>obj.getClass().getPointerToMethod(\"doSomething(int)\")</code> in order to determine what concrete method to call. I wrote \"something like\" as doing this literally is very time-consuming and gets optimized away as much as possible. This dispatch can be moved above the increment and it itself will throw an NPE, if <code>obj</code> happens to be <code>null</code>.</li>\n<li>When you're lucky, then the dispatch may look like <code>if (obj.getClass() != MyClass.class) uncommon_trap();</code>, which is the simplest case (called \"monomorphic call site\"), but even this involves dereferencing <code>obj</code> and you again get an NPE for <code>null</code>.</li>\n</ul>\n\n<hr>\n\n<p>(*) A null check may look like <code>obj.getClass()</code> which in assembler is a single instruction loading from a fixed offset relative to the <code>obj</code> pointer. When <code>obj == null</code> then an unmapped page ist hit.</p>\n"}],"owner":{"account_id":326549,"reputation":3415,"user_id":648368,"accept_rate":74,"display_name":"Tomer W"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46046854,"answer_count":1,"score":0,"last_activity_date":1680316483,"creation_date":1504553979,"question_id":46043185,"body_markdown":"Recently, I read [here][1] about JVM optimizations , which are great,  \r\nbut i have a problem with one optimization, namely **Null Check Elimination** (or Uncommon trap)\r\n\r\nTo sum up **Null Check Elimination** removes a `if (obj == null) ...` and hopes for the best, while if encounters a **Segmentation Fault** it recompiles the code and this time includes the neglected `if (obj == null) ...`.\r\n\r\nMy question is, Given:\r\n\r\n    bool foo(MyClass obj)\r\n    {\r\n       if(obj == null)\r\n          return false;\r\n       m_someVar++;\r\n       obj.doSomething(m_someVar);\r\n    }\r\n\r\nbecause the Null-Check is eliminated, and required only after `m_someVar++`.  \r\nwill foo execute `m_someVar++` an extra time when c will be null?\r\n\r\nEdit:\r\n\r\nIs there some source for deeper explanation on the implementation of this optimizations, which explain how does this optimization keeps the code semantically same?\r\n\r\nThanks\r\n\r\n  [1]: https://dzone.com/articles/java-on-steroids-5-super-useful-jit-optimization-t","title":"Java Null check elimination can cause bad code?","body":"<p>Recently, I read <a href=\"https://dzone.com/articles/java-on-steroids-5-super-useful-jit-optimization-t\" rel=\"nofollow noreferrer\">here</a> about JVM optimizations , which are great,<br>\nbut i have a problem with one optimization, namely <strong>Null Check Elimination</strong> (or Uncommon trap)</p>\n\n<p>To sum up <strong>Null Check Elimination</strong> removes a <code>if (obj == null) ...</code> and hopes for the best, while if encounters a <strong>Segmentation Fault</strong> it recompiles the code and this time includes the neglected <code>if (obj == null) ...</code>.</p>\n\n<p>My question is, Given:</p>\n\n<pre><code>bool foo(MyClass obj)\n{\n   if(obj == null)\n      return false;\n   m_someVar++;\n   obj.doSomething(m_someVar);\n}\n</code></pre>\n\n<p>because the Null-Check is eliminated, and required only after <code>m_someVar++</code>.<br>\nwill foo execute <code>m_someVar++</code> an extra time when c will be null?</p>\n\n<p>Edit:</p>\n\n<p>Is there some source for deeper explanation on the implementation of this optimizations, which explain how does this optimization keeps the code semantically same?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","linux","bash","shell"],"comments":[{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1420835158,"post_id":27868569,"comment_id":44139692,"body_markdown":"How do you run `jj.sh` when you do it directly?","body":"How do you run <code>jj.sh</code> when you do it directly?"},{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1420836403,"post_id":27868569,"comment_id":44140293,"body_markdown":"You might have to use the full path to the shell you expect this script to run in as the first argument; the hash-bang may not make sense to the exec shell that Java spawns. Also, you are going to have to pay close attention to how some characters are escaped, as this stuff is parsed more than one time.","body":"You might have to use the full path to the shell you expect this script to run in as the first argument; the hash-bang may not make sense to the exec shell that Java spawns. Also, you are going to have to pay close attention to how some characters are escaped, as this stuff is parsed more than one time."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1420836501,"post_id":27868569,"comment_id":44140338,"body_markdown":"The question [Running shell script from java code and pass arguments](http://stackoverflow.com/q/12812345/17300) may be helpful to you. In particular, switch from `runtime.exec()` to `process.start()`. Also, neither is a shell; you should [invoke the shell](http://stackoverflow.com/a/12833242/17300) and pass the script as an argument to it.","body":"The question <a href=\"http://stackoverflow.com/q/12812345/17300\">Running shell script from java code and pass arguments</a> may be helpful to you. In particular, switch from <code>runtime.exec()</code> to <code>process.start()</code>. Also, neither is a shell; you should <a href=\"http://stackoverflow.com/a/12833242/17300\">invoke the shell</a> and pass the script as an argument to it."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1420839633,"post_id":27868569,"comment_id":44141791,"body_markdown":"First, your Java code doesn&#39;t actually compile. You didn&#39;t close the `if` block. The variables I&#39;d allow are all strings. But then, you wrote `ls-1|tail-1` without spaces and that will never fly. But then, your shell script wouldn&#39;t actually work with a pipe. You&#39;re probably running it as `jj.sh key ls -1| tail -1`, which actually runs `jj.sh key ls -1` then passes the output to `tail -1`.","body":"First, your Java code doesn&#39;t actually compile. You didn&#39;t close the <code>if</code> block. The variables I&#39;d allow are all strings. But then, you wrote <code>ls-1|tail-1</code> without spaces and that will never fly. But then, your shell script wouldn&#39;t actually work with a pipe. You&#39;re probably running it as <code>jj.sh key ls -1| tail -1</code>, which actually runs <code>jj.sh key ls -1</code> then passes the output to <code>tail -1</code>."},{"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"score":0,"creation_date":1420857855,"post_id":27868569,"comment_id":44147007,"body_markdown":"@thatotherguy: I do run as sh jj.sh mine &quot;ls -1|tail -1&quot;","body":"@thatotherguy: I do run as sh jj.sh mine &quot;ls -1|tail -1&quot;"},{"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"score":0,"creation_date":1420857903,"post_id":27868569,"comment_id":44147019,"body_markdown":"@StephenP: I have tried that also , but it did not work","body":"@StephenP: I have tried that also , but it did not work"},{"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"score":0,"creation_date":1420857968,"post_id":27868569,"comment_id":44147032,"body_markdown":"@RealSkeptic: I am able to get the proper argument in the script, I have tried this by printing the $2 before it is executed.","body":"@RealSkeptic: I am able to get the proper argument in the script, I have tried this by printing the $2 before it is executed."},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1420869050,"post_id":27868569,"comment_id":44148737,"body_markdown":"@Jagdeep When I run that command with your script, I get &quot;ls: invalid option -- &#39;|&#39;\nTry `ls --help&#39; for more information.&quot;. What do you get when you copy-paste your command? Make sure to actually copy-paste the command into a terminal, and don&#39;t run something you think is equivalent.","body":"@Jagdeep When I run that command with your script, I get &quot;ls: invalid option -- &#39;|&#39; Try `ls --help&#39; for more information.&quot;. What do you get when you copy-paste your command? Make sure to actually copy-paste the command into a terminal, and don&#39;t run something you think is equivalent."}],"answers":[{"tags":[],"owner":{"account_id":3419696,"reputation":764,"user_id":2867699,"display_name":"miw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420837246,"creation_date":1420837246,"answer_id":27869139,"question_id":27868569,"body_markdown":"As other posters pointed out already, the sub-process is not started in a shell, so the she-bang is not interpreted.\r\n\r\nI got your example to work by explicitly starting the evaluation of the second parameter in a shell in jj.sh:\r\n\r\n    value=`sh -c &quot;$2&quot;` \r\n\r\nNot nice, but works.\r\n\r\nOther option may be to start the script in a shell explicitly, emulating the sh-bang:\r\n\r\n    String[] cmd = { &quot;/bin/sh&quot;, &quot;jj.sh&quot; , key,value};","title":"Execute shell script in Java and read Output","body":"<p>As other posters pointed out already, the sub-process is not started in a shell, so the she-bang is not interpreted.</p>\n\n<p>I got your example to work by explicitly starting the evaluation of the second parameter in a shell in jj.sh:</p>\n\n<pre><code>value=`sh -c \"$2\"` \n</code></pre>\n\n<p>Not nice, but works.</p>\n\n<p>Other option may be to start the script in a shell explicitly, emulating the sh-bang:</p>\n\n<pre><code>String[] cmd = { \"/bin/sh\", \"jj.sh\" , key,value};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1680315192,"creation_date":1420846657,"answer_id":27871038,"question_id":27868569,"body_markdown":"The primary reason why this doesn&#39;t work is that `` `$2` `` is not the same as `` `ls -1 | tail -1` ``, even when `$2` is set to that string. \r\n\r\nIf your script accepts a literal string with a command to execute, you can use `eval` to do so. \r\n\r\nI created a complete example. Please copy-paste it and verify that it works before you try applying any of it to your own code. Here&#39;s `Test.java`:\r\n\r\n```java\r\nimport java.io.*;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) throws Exception {\r\n    String[] command = { &quot;./myscript&quot;, &quot;key&quot;, &quot;ls -t | tail -n 1&quot; };\r\n    Process process = Runtime.getRuntime().exec(command);\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n        process.getInputStream()));\r\n    String s;\r\n    while ((s = reader.readLine()) != null) {\r\n      System.out.println(&quot;Script output: &quot; + s);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd `myscript`:\r\n\r\n```bash\r\n#!/bin/bash\r\nkey=&quot;$1&quot;\r\nvalue=$(eval &quot;$2&quot;)\r\necho &quot;The command  $2  evaluated to: $value&quot;\r\n```\r\n\r\nHere&#39;s how we can run `myscript` separately:\r\n\r\n    $ ls -t | tail -n 1\r\n    Templates\r\n\r\n    $ ./myscript foo &#39;ls -t | tail -n 1&#39;\r\n    The command  ls -t | tail -n 1  evaluated to: Templates\r\n\r\nAnd here&#39;s the result of running the Java code:\r\n\r\n    $ javac Test.java &amp;&amp; java Test\r\n    Script output: The command  ls -t | tail -n 1  evaluated to: Templates \r\n","title":"Execute shell script in Java and read Output","body":"<p>The primary reason why this doesn't work is that <code>`$2`</code> is not the same as <code>`ls -1 | tail -1`</code>, even when <code>$2</code> is set to that string.</p>\n<p>If your script accepts a literal string with a command to execute, you can use <code>eval</code> to do so.</p>\n<p>I created a complete example. Please copy-paste it and verify that it works before you try applying any of it to your own code. Here's <code>Test.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class Test {\n  public static void main(String[] args) throws Exception {\n    String[] command = { &quot;./myscript&quot;, &quot;key&quot;, &quot;ls -t | tail -n 1&quot; };\n    Process process = Runtime.getRuntime().exec(command);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\n        process.getInputStream()));\n    String s;\n    while ((s = reader.readLine()) != null) {\n      System.out.println(&quot;Script output: &quot; + s);\n    }\n  }\n}\n</code></pre>\n<p>And <code>myscript</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nkey=&quot;$1&quot;\nvalue=$(eval &quot;$2&quot;)\necho &quot;The command  $2  evaluated to: $value&quot;\n</code></pre>\n<p>Here's how we can run <code>myscript</code> separately:</p>\n<pre><code>$ ls -t | tail -n 1\nTemplates\n\n$ ./myscript foo 'ls -t | tail -n 1'\nThe command  ls -t | tail -n 1  evaluated to: Templates\n</code></pre>\n<p>And here's the result of running the Java code:</p>\n<pre><code>$ javac Test.java &amp;&amp; java Test\nScript output: The command  ls -t | tail -n 1  evaluated to: Templates \n</code></pre>\n"}],"owner":{"account_id":265996,"reputation":1584,"user_id":1400123,"accept_rate":71,"display_name":"Learner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38573,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":27871038,"answer_count":2,"score":6,"last_activity_date":1680315192,"creation_date":1420834794,"question_id":27868569,"body_markdown":"I am executing the shell script using below method in java \r\n\r\n    public static void main(String ar[])\r\n    {\r\n      //key value are being read from properties file, here I am assigning the sample values      directly\r\n\r\n       key=mine\r\n       value=&quot;ls-1|tail-1&quot;\r\n\r\n\r\n      String[] cmd = { &quot;jj.sh&quot; , key,value};\r\n      Process script_exec = Runtime.getRuntime().exec(cmd);\r\n      script_exec.waitFor();\r\n      if(script_exec.exitValue() != 0){\r\n       System.out.println(&quot;Error while executing script&quot;);\r\n\r\n      BufferedReader stdInput = new BufferedReader(new\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;InputStreamReader(script_exec.getInputStream()));\r\n\r\n      while ((s = stdInput.readLine()) != null) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(s);\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n    }\r\n\r\nThe jj.sh file contains below value\r\n\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n\r\n    #!/bin/sh\r\n\r\n    key=$1\r\n    value=`$2` \r\n    echo $value\r\n\r\nWhen I execute jj.sh using key and value directly, it give me the correct value, that is, the name of file. \r\nHowever with java it is giving me the result as ls -1 result (Means java is ignoring the command after &#39;|&#39;). When I pass the key values  delimited with tilde sign &amp;#96; then it simply displays the full key value i.e. `ls -1|tail -1`\r\n\r\nHow to execute the full command using java\r\n","title":"Execute shell script in Java and read Output","body":"<p>I am executing the shell script using below method in java </p>\n\n<pre><code>public static void main(String ar[])\n{\n  //key value are being read from properties file, here I am assigning the sample values      directly\n\n   key=mine\n   value=\"ls-1|tail-1\"\n\n\n  String[] cmd = { \"jj.sh\" , key,value};\n  Process script_exec = Runtime.getRuntime().exec(cmd);\n  script_exec.waitFor();\n  if(script_exec.exitValue() != 0){\n   System.out.println(\"Error while executing script\");\n\n  BufferedReader stdInput = new BufferedReader(new\n                InputStreamReader(script_exec.getInputStream()));\n\n  while ((s = stdInput.readLine()) != null) {\n                System.out.println(s);\n            }\n}\n</code></pre>\n\n<p>The jj.sh file contains below value</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/sh\n\nkey=$1\nvalue=`$2` \necho $value\n</code></pre>\n\n<p>When I execute jj.sh using key and value directly, it give me the correct value, that is, the name of file. \nHowever with java it is giving me the result as ls -1 result (Means java is ignoring the command after '|'). When I pass the key values  delimited with tilde sign &#96; then it simply displays the full key value i.e. <code>ls -1|tail -1</code></p>\n\n<p>How to execute the full command using java</p>\n"},{"tags":["java","android","email","file-io","send"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680350226,"post_id":75903908,"comment_id":133885676,"body_markdown":"`DataSource source = new FileDataSource(fileName)` You cannot just use a file name. You have to supply a full path.","body":"<code>DataSource source = new FileDataSource(fileName)</code> You cannot just use a file name. You have to supply a full path."},{"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"score":0,"creation_date":1680462880,"post_id":75903908,"comment_id":133898836,"body_markdown":"@blackapps please read the [EDITED] part","body":"@blackapps please read the [EDITED] part"}],"owner":{"account_id":20974123,"reputation":25,"user_id":15410598,"display_name":"Amedeo Braggio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680314993,"creation_date":1680314645,"question_id":75903908,"body_markdown":"i&#39;m trying to send a mail with an attachment via java in android (in an AsyncTask), i have this method:\r\n```\r\n Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\n        Session session = Session.getInstance(props, new Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;youknow@gmail.com&quot;, &quot;psw&quot;);\r\n            }\r\n        });\r\n\r\n        Message message = new MimeMessage(session);\r\n        try {\r\n            message.setFrom(new InternetAddress(&quot;youknow@gmail.com@gmail.com&quot;));\r\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;receiver@gmail.com&quot;));\r\n            message.setSubject(&quot;Subject line&quot;);\r\n            message.setText(&quot;Email content&quot;);\r\n\r\n            MimeBodyPart messageBodyPart = new MimeBodyPart();\r\n            messageBodyPart.setText(&quot;test&quot;);\r\n\r\n            MimeBodyPart attachmentBodyPart = new MimeBodyPart();\r\n            DataSource source = new FileDataSource(fileName);\r\n            attachmentBodyPart.setDataHandler(new DataHandler(source));\r\n            attachmentBodyPart.setFileName(source.getName());\r\n\r\n            MimeMultipart multipart = new MimeMultipart();\r\n            multipart.addBodyPart(messageBodyPart);\r\n            multipart.addBodyPart(attachmentBodyPart);\r\n            message.setContent(multipart);\r\n\r\n            Transport.send(message);\r\n\r\n\r\n        } catch (MessagingException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n```\r\n\r\non fileName i have the file name saved with \r\n```\r\nFileOutputStream outputStream = context.openFileOutput(nameExelFile, Context.MODE_PRIVATE);\r\n```\r\nthe error i get is:\r\n```\r\n\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n    Process: com.gattolfo.gestionaluber, PID: 6179\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.lang.RuntimeException: javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    \tjavax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \r\n    \tboundary=&quot;----=_Part_0_82827468.1680314088984&quot;\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:296)\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:141)\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:48)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        \t... 4 more\r\n     Caused by: javax.mail.MessagingException: IOException while sending message;\r\n      nested exception is:\r\n    \tjavax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \r\n    \tboundary=&quot;----=_Part_0_82827468.1680314088984&quot;\r\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1350)\r\n        at javax.mail.Transport.send0(Transport.java:231)\r\n        at javax.mail.Transport.send(Transport.java:100)\r\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:292)\r\n        \t... 8 more\r\n     Caused by: javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \r\n    \tboundary=&quot;----=_Part_0_82827468.1680314088984&quot;\r\n        at javax.activation.ObjectDataContentHandler.writeTo(DataHandler.java:878)\r\n        at javax.activation.DataHandler.writeTo(DataHandler.java:300)\r\n        at javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1670)\r\n        at javax.mail.internet.MimeMessage.writeTo(MimeMessage.java:1889)\r\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1300)\r\n        \t... 11 more\r\n```\r\n\r\ni&#39;m uscing \r\n```\r\n    implementation &#39;com.sun.mail:android-mail:1.6.7&#39;\r\n    implementation &#39;com.sun.mail:android-activation:1.6.7&#39;\r\n```\r\n\r\nand I also tried with:\r\n\r\n``` \r\nimplementation &#39;com.sun.mail:jakarta.mail:2.0.1&#39;\r\n ``` \r\n\r\n\r\nplease help!!\r\n\r\nthe same code on my PC (windows java) work fine, i think the problem is for the input/output from the android memory \r\n\r\n\r\n[EDIT]\r\n\r\nI noticed that adding an attachment like this:\r\n ``` \r\nMimeBodyPart messageBodyPart = new MimeBodyPart();\r\n            String jsonContent = &quot;{\\&quot;name\\&quot;: \\&quot;John Doe\\&quot;, \\&quot;email\\&quot;: \\&quot;johndoe@example.com\\&quot;}&quot;;\r\n            messageBodyPart.setContent(jsonContent, &quot;application/json&quot;);\r\n\r\n ``` \r\nFrom the exact same error, the only way it won&#39;t give an error is if I don&#39;t add attachments like this:\r\n\r\n ``` \r\n  MimeMessage message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(username));\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(mailReciver));\r\n            message.setSubject(&quot;Report utilizzo cassette&quot;);\r\n            message.setText(&quot;message&quot;);\r\n            Transport.send(message);\r\n ``` \r\n","title":"Error sending mail with java in android (with attachment )","body":"<p>i'm trying to send a mail with an attachment via java in android (in an AsyncTask), i have this method:</p>\n<pre><code> Properties props = new Properties();\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n\n        Session session = Session.getInstance(props, new Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;youknow@gmail.com&quot;, &quot;psw&quot;);\n            }\n        });\n\n        Message message = new MimeMessage(session);\n        try {\n            message.setFrom(new InternetAddress(&quot;youknow@gmail.com@gmail.com&quot;));\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;receiver@gmail.com&quot;));\n            message.setSubject(&quot;Subject line&quot;);\n            message.setText(&quot;Email content&quot;);\n\n            MimeBodyPart messageBodyPart = new MimeBodyPart();\n            messageBodyPart.setText(&quot;test&quot;);\n\n            MimeBodyPart attachmentBodyPart = new MimeBodyPart();\n            DataSource source = new FileDataSource(fileName);\n            attachmentBodyPart.setDataHandler(new DataHandler(source));\n            attachmentBodyPart.setFileName(source.getName());\n\n            MimeMultipart multipart = new MimeMultipart();\n            multipart.addBodyPart(messageBodyPart);\n            multipart.addBodyPart(attachmentBodyPart);\n            message.setContent(multipart);\n\n            Transport.send(message);\n\n\n        } catch (MessagingException ex) {\n            throw new RuntimeException(ex);\n        }\n</code></pre>\n<p>on fileName i have the file name saved with</p>\n<pre><code>FileOutputStream outputStream = context.openFileOutput(nameExelFile, Context.MODE_PRIVATE);\n</code></pre>\n<p>the error i get is:</p>\n<pre><code>\n\nE/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n    Process: com.gattolfo.gestionaluber, PID: 6179\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:415)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.lang.RuntimeException: javax.mail.MessagingException: IOException while sending message;\n      nested exception is:\n        javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \n        boundary=&quot;----=_Part_0_82827468.1680314088984&quot;\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:296)\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:141)\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.doInBackground(MailSender.java:48)\n        at android.os.AsyncTask$3.call(AsyncTask.java:394)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n            ... 4 more\n     Caused by: javax.mail.MessagingException: IOException while sending message;\n      nested exception is:\n        javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \n        boundary=&quot;----=_Part_0_82827468.1680314088984&quot;\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1350)\n        at javax.mail.Transport.send0(Transport.java:231)\n        at javax.mail.Transport.send(Transport.java:100)\n        at com.gattolfo.gestionaluber.DataManager.DbRappresentation.Registri.MailSender.sendMailInstant(MailSender.java:292)\n            ... 8 more\n     Caused by: javax.activation.UnsupportedDataTypeException: no object DCH for MIME type multipart/mixed; \n        boundary=&quot;----=_Part_0_82827468.1680314088984&quot;\n        at javax.activation.ObjectDataContentHandler.writeTo(DataHandler.java:878)\n        at javax.activation.DataHandler.writeTo(DataHandler.java:300)\n        at javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1670)\n        at javax.mail.internet.MimeMessage.writeTo(MimeMessage.java:1889)\n        at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1300)\n            ... 11 more\n</code></pre>\n<p>i'm uscing</p>\n<pre><code>    implementation 'com.sun.mail:android-mail:1.6.7'\n    implementation 'com.sun.mail:android-activation:1.6.7'\n</code></pre>\n<p>and I also tried with:</p>\n<pre><code>implementation 'com.sun.mail:jakarta.mail:2.0.1'\n</code></pre>\n<p>please help!!</p>\n<p>the same code on my PC (windows java) work fine, i think the problem is for the input/output from the android memory</p>\n<p>[EDIT]</p>\n<p>I noticed that adding an attachment like this:</p>\n<pre><code>MimeBodyPart messageBodyPart = new MimeBodyPart();\n           String jsonContent = &quot;{\\&quot;name\\&quot;: \\&quot;John Doe\\&quot;, \\&quot;email\\&quot;: \\&quot;johndoe@example.com\\&quot;}&quot;;\n           messageBodyPart.setContent(jsonContent, &quot;application/json&quot;);\n\n</code></pre>\n<p>From the exact same error, the only way it won't give an error is if I don't add attachments like this:</p>\n<pre><code> MimeMessage message = new MimeMessage(session);\n           message.setFrom(new InternetAddress(username));\n           message.addRecipient(Message.RecipientType.TO, new InternetAddress(mailReciver));\n           message.setSubject(&quot;Report utilizzo cassette&quot;);\n           message.setText(&quot;message&quot;);\n           Transport.send(message);\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":19480151,"reputation":31,"user_id":14250670,"display_name":"omid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680241481,"creation_date":1680241481,"answer_id":75895222,"question_id":75893469,"body_markdown":"You could have a dto object like this\r\n\r\n    public class EmployeeDto{\r\n\t\tprivate String employeeName;\r\n\t\tprivate String employeeSurname;\r\n\t\tprivate String employeeEmail;\r\n\t\tprivate String employeeIdentityNumber;\r\n\t\tprivate long departmentId;\r\n\t}\r\n\r\nA controller mthod like this:\r\n\r\n    @PostMapping(&quot;employee&quot;)\r\n\tpublic Employee save(@RequestBody EmployeeDto employeeDto){\r\n\t\tEmployee em = employeeDto.toEntity();\r\n\t\t//Assuming department with given id already exist\r\n\t\tem.setDepartment(Department.builder().departmentId(employeeDto.departmentId).build());\r\n\t\treturn emRepository.save(employee);\r\n\t}\r\n\r\nto my knowlage, this should do the job.","title":"SpringBoot @OneToMany Trigger Error And Request Sending Error","body":"<p>You could have a dto object like this</p>\n<pre><code>public class EmployeeDto{\n    private String employeeName;\n    private String employeeSurname;\n    private String employeeEmail;\n    private String employeeIdentityNumber;\n    private long departmentId;\n}\n</code></pre>\n<p>A controller mthod like this:</p>\n<pre><code>@PostMapping(&quot;employee&quot;)\npublic Employee save(@RequestBody EmployeeDto employeeDto){\n    Employee em = employeeDto.toEntity();\n    //Assuming department with given id already exist\n    em.setDepartment(Department.builder().departmentId(employeeDto.departmentId).build());\n    return emRepository.save(employee);\n}\n</code></pre>\n<p>to my knowlage, this should do the job.</p>\n"},{"tags":[],"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680246800,"creation_date":1680245971,"answer_id":75895701,"question_id":75893469,"body_markdown":"you can try this,\r\n\r\n    {\r\n       &quot;employeeName&quot;: &quot;Josh&quot;,\r\n       &quot;employeeSurname&quot;: &quot;Long&quot;,\r\n       &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\r\n       &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\r\n       &quot;department&quot;: {&quot;departmentId&quot;: &quot;5342432432&quot;}\r\n    }\r\n\r\n\r\nand for department,\r\n\r\n    {\r\n       &quot;departmentName&quot;: &quot;department&quot;, \r\n       &quot;employees&quot; : [{&quot;id&quot; : &quot;79878&quot;}, {&quot;id&quot;: &quot;654654&quot;}, ...]\r\n    }","title":"SpringBoot @OneToMany Trigger Error And Request Sending Error","body":"<p>you can try this,</p>\n<pre><code>{\n   &quot;employeeName&quot;: &quot;Josh&quot;,\n   &quot;employeeSurname&quot;: &quot;Long&quot;,\n   &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\n   &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\n   &quot;department&quot;: {&quot;departmentId&quot;: &quot;5342432432&quot;}\n}\n</code></pre>\n<p>and for department,</p>\n<pre><code>{\n   &quot;departmentName&quot;: &quot;department&quot;, \n   &quot;employees&quot; : [{&quot;id&quot; : &quot;79878&quot;}, {&quot;id&quot;: &quot;654654&quot;}, ...]\n}\n</code></pre>\n"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680313150,"creation_date":1680215585,"question_id":75893469,"body_markdown":"I have 2 entity classes. One employee should has one department. But one department can has many employees.\r\n\r\nWhen I send to postman request insert employee, I want to trigger Department table. \r\n```\r\n@Table\r\n@Entity(name = &quot;employee&quot;)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Employee extends Auditable&lt;String&gt; implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;employee_name&quot;, nullable = false)\r\n    private String employeeName;\r\n\r\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\r\n    private String employeeSurname;\r\n\r\n    @Column(name = &quot;employee_email&quot;,\r\n            nullable = false,\r\n            unique = true)\r\n    private String employeeEmail;\r\n\r\n    @Column(name = &quot;employee_identity_number&quot;,\r\n            nullable = false,\r\n            unique = true,\r\n            length = 11)\r\n    private String employeeIdentityNumber;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Department department;\r\n\r\n\r\n}\r\n```\r\nAbove code my Employee class.\r\n```\r\n@Table\r\n@Entity(name = &quot;department&quot;)\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Department {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long departmentId;\r\n\r\n    @Column(name = &quot;department_name&quot;, unique = true)\r\n    private String departmentName;\r\n\r\n    @OneToMany(mappedBy = &quot;department&quot;)\r\n    private Set&lt;Employee&gt; employees;\r\n\r\n}\r\n```\r\nAbove code my Department class.\r\n\r\nWhen I send postman request as JSON like following,\r\n```\r\n{\r\n    &quot;employeeName&quot;: &quot;Josh&quot;,\r\n    &quot;employeeSurname&quot;: &quot;Long&quot;,\r\n    &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\r\n    &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\r\n    &quot;department&quot;: 1\r\n}\r\n```\r\nI know, department property is wrong. I should define as department object. But i want to send just department id.\r\n\r\nAnd when I send this request, I want to trigger employees field in department table.","title":"SpringBoot @OneToMany Trigger Error And Request Sending Error","body":"<p>I have 2 entity classes. One employee should has one department. But one department can has many employees.</p>\n<p>When I send to postman request insert employee, I want to trigger Department table.</p>\n<pre><code>@Table\n@Entity(name = &quot;employee&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Employee extends Auditable&lt;String&gt; implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;employee_name&quot;, nullable = false)\n    private String employeeName;\n\n    @Column(name = &quot;employee_surname&quot;, nullable = false)\n    private String employeeSurname;\n\n    @Column(name = &quot;employee_email&quot;,\n            nullable = false,\n            unique = true)\n    private String employeeEmail;\n\n    @Column(name = &quot;employee_identity_number&quot;,\n            nullable = false,\n            unique = true,\n            length = 11)\n    private String employeeIdentityNumber;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;department_id&quot;)\n    private Department department;\n\n\n}\n</code></pre>\n<p>Above code my Employee class.</p>\n<pre><code>@Table\n@Entity(name = &quot;department&quot;)\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Department {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long departmentId;\n\n    @Column(name = &quot;department_name&quot;, unique = true)\n    private String departmentName;\n\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private Set&lt;Employee&gt; employees;\n\n}\n</code></pre>\n<p>Above code my Department class.</p>\n<p>When I send postman request as JSON like following,</p>\n<pre><code>{\n    &quot;employeeName&quot;: &quot;Josh&quot;,\n    &quot;employeeSurname&quot;: &quot;Long&quot;,\n    &quot;employeeEmail&quot;: &quot;joshlong@gmail.com&quot;,\n    &quot;employeeIdentityNumber&quot;: &quot;12345678912&quot;,\n    &quot;department&quot;: 1\n}\n</code></pre>\n<p>I know, department property is wrong. I should define as department object. But i want to send just department id.</p>\n<p>And when I send this request, I want to trigger employees field in department table.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1382358616,"post_id":19494501,"comment_id":28915198,"body_markdown":"Use a `List` not an array.","body":"Use a <code>List</code> not an array."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1382358637,"post_id":19494501,"comment_id":28915212,"body_markdown":"I don&#39;t even understand what you&#39;re trying to achieve.","body":"I don&#39;t even understand what you&#39;re trying to achieve."},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1382358645,"post_id":19494501,"comment_id":28915215,"body_markdown":"You don&#39;t want to print 0 from the array??? your question is not clear enough","body":"You don&#39;t want to print 0 from the array??? your question is not clear enough"},{"owner":{"account_id":1667682,"reputation":51,"user_id":1534779,"accept_rate":0,"display_name":"user1534779"},"score":0,"creation_date":1382358886,"post_id":19494501,"comment_id":28915366,"body_markdown":"no I do not. because the Array consist of 100 integers and if I print 0 , the for loop will exit. and if I print whatever is in the array it might be 1 , 2 ,3 ,4 and a bunch of 0s those are the ones I want to eliminate","body":"no I do not. because the Array consist of 100 integers and if I print 0 , the for loop will exit. and if I print whatever is in the array it might be 1 , 2 ,3 ,4 and a bunch of 0s those are the ones I want to eliminate"},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1382359090,"post_id":19494501,"comment_id":28915508,"body_markdown":"Thomas got it.. Use List&lt;Integer&gt;","body":"Thomas got it.. Use List&lt;Integer&gt;"}],"answers":[{"tags":[],"owner":{"account_id":2841781,"reputation":12116,"user_id":2441252,"display_name":"Leigh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382358852,"creation_date":1382358852,"answer_id":19494655,"question_id":19494501,"body_markdown":"The rest of the array has been initialised to 0 for each item in this call:\r\n\r\n```   int [] array = new int [100];```\r\n\r\nAnd then when the first `0` is detected it breaks the `for` loop and prints everything.","title":"Java Array printing 0","body":"<p>The rest of the array has been initialised to 0 for each item in this call:</p>\n\n<p><code>int [] array = new int [100];</code></p>\n\n<p>And then when the first <code>0</code> is detected it breaks the <code>for</code> loop and prints everything.</p>\n"},{"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382358897,"creation_date":1382358897,"answer_id":19494670,"question_id":19494501,"body_markdown":"You need to create the array with your own size. While creating your array 100 static memory allocated and all values are assigned to 0. \r\n\r\n     System.out.print(&quot;Enter the array size&quot;);\r\n     int arraySize = input.nextInt();\r\n     int [] array = new int [arraySize];\r\n\r\nOtherwise use  `ArrayList&lt;Integer&gt;` to store the numbers","title":"Java Array printing 0","body":"<p>You need to create the array with your own size. While creating your array 100 static memory allocated and all values are assigned to 0. </p>\n\n<pre><code> System.out.print(\"Enter the array size\");\n int arraySize = input.nextInt();\n int [] array = new int [arraySize];\n</code></pre>\n\n<p>Otherwise use  <code>ArrayList&lt;Integer&gt;</code> to store the numbers</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382358913,"creation_date":1382358913,"answer_id":19494678,"question_id":19494501,"body_markdown":"I think I understand now. \r\n\r\n `int [] array = new int [100];` will create an array of 100 ints and each element is initialized with the value 0 (that&#39;s the default for `int`). Thus when you print your array, 100 numbers will be printed, regardless of whether they are 0 or not.\r\n\r\nYou have a few options here:\r\n\r\n- Use a `List&lt;Integer&gt;`, that way the list only contains numbers that were entered before the first 0.\r\n- Print in a loop and break at the first 0 or at the end of the array.\r\n- Optionally you might want to keep count of how many numbers have been entered, e.g. for calculating an average etc. This could be used to iterate over those first n elements in the array.\r\n\r\nThat being said, I&#39;d suggest using lists, since this will be more flexible.","title":"Java Array printing 0","body":"<p>I think I understand now. </p>\n\n<p><code>int [] array = new int [100];</code> will create an array of 100 ints and each element is initialized with the value 0 (that's the default for <code>int</code>). Thus when you print your array, 100 numbers will be printed, regardless of whether they are 0 or not.</p>\n\n<p>You have a few options here:</p>\n\n<ul>\n<li>Use a <code>List&lt;Integer&gt;</code>, that way the list only contains numbers that were entered before the first 0.</li>\n<li>Print in a loop and break at the first 0 or at the end of the array.</li>\n<li>Optionally you might want to keep count of how many numbers have been entered, e.g. for calculating an average etc. This could be used to iterate over those first n elements in the array.</li>\n</ul>\n\n<p>That being said, I'd suggest using lists, since this will be more flexible.</p>\n"},{"tags":[],"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1382359611,"creation_date":1382359611,"answer_id":19494936,"question_id":19494501,"body_markdown":"Using ingeter array. But this will print null when you print the array. Add a condition to not do so while printing.\r\n\r\n    package com.prasad.samples.views;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    public class November2012 {\r\n        public static void main(String[] args) {\r\n            int tal;\r\n            int summa=0;\r\n            Scanner input = new Scanner(System.in);\r\n            Integer [] array = new Integer [100];\r\n            System.out.println(array[0]);\r\n            int min = Integer.MAX_VALUE;\r\n            int max = 0;\r\n    \r\n            for (int i=0 ; i&lt;array.length; i++ ){\r\n                System.out.print(&quot;Ange tal 0 avsluta&quot;);\r\n                array[i] = input.nextInt();\r\n                summa =summa+array[i];\r\n                if (array[i]==0) {\r\n                    break;\r\n                }\r\n                while(array[i]&lt;min)\r\n                { \r\n                    min=array[i];\r\n                }\r\n                while(array[i]&gt;max)\r\n                { \r\n                    max=array[i];\r\n                }\r\n            }\r\n    \r\n            System.out.print(&quot;ar &quot; + Arrays.toString(array));    \r\n            System.out.println();\r\n            System.out.print(&quot;summan ar &quot; + summa);\r\n            System.out.println();\r\n            System.out.print(&quot;Max ar &quot; + max);\r\n            System.out.println();\r\n            System.out.print(&quot;Min ar &quot; + min);\r\n        }\r\n    }\r\n\r\n","title":"Java Array printing 0","body":"<p>Using ingeter array. But this will print null when you print the array. Add a condition to not do so while printing.</p>\n\n<pre><code>package com.prasad.samples.views;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class November2012 {\n    public static void main(String[] args) {\n        int tal;\n        int summa=0;\n        Scanner input = new Scanner(System.in);\n        Integer [] array = new Integer [100];\n        System.out.println(array[0]);\n        int min = Integer.MAX_VALUE;\n        int max = 0;\n\n        for (int i=0 ; i&lt;array.length; i++ ){\n            System.out.print(\"Ange tal 0 avsluta\");\n            array[i] = input.nextInt();\n            summa =summa+array[i];\n            if (array[i]==0) {\n                break;\n            }\n            while(array[i]&lt;min)\n            { \n                min=array[i];\n            }\n            while(array[i]&gt;max)\n            { \n                max=array[i];\n            }\n        }\n\n        System.out.print(\"ar \" + Arrays.toString(array));    \n        System.out.println();\n        System.out.print(\"summan ar \" + summa);\n        System.out.println();\n        System.out.print(\"Max ar \" + max);\n        System.out.println();\n        System.out.print(\"Min ar \" + min);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1667682,"reputation":51,"user_id":1534779,"accept_rate":0,"display_name":"user1534779"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":4,"score":-3,"last_activity_date":1680312959,"creation_date":1382358418,"question_id":19494501,"body_markdown":"In the program if I enter 0 it exits, the problem is when I am trying to print the array afterwards there will be alot of 0 if I choose to exit. How do I prevent that being print.\r\n\r\n    package lu.ics.Sohail.labbar;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n\r\n    public class November2012 {\r\n        public static void main(String[] args) {\r\n            int tal;\r\n            int summa=0;\r\n            Scanner input = new Scanner(System.in);\r\n            int [] array = new int [100];\r\n            int min = Integer.MAX_VALUE;\r\n            int max = 0;\r\n        \r\n            for (int i=0 ; i&lt;array.length; i++ ){\r\n                System.out.print(&quot;Ange tal 0 avsluta&quot;);\r\n                array[i] = input.nextInt();\r\n                summa =summa+array[i];\r\n                if (array[i]==0) {\r\n                    break;\r\n                }\r\n                while(array[i]&lt;min)\r\n                { \r\n                    min=array[i];\r\n                }\r\n                while(array[i]&gt;max)\r\n                { \r\n                    max=array[i];\r\n                }\r\n            }\r\n     \r\n            System.out.print(&quot;Talen &#228;r &quot; + Arrays.toString(array));    \r\n            System.out.println();\r\n            System.out.print(&quot;Summan &#228;r &quot; + summa);\r\n            System.out.println();\r\n            System.out.print(&quot;Max &#228;r &quot; + max);\r\n            System.out.println();\r\n            System.out.print(&quot;Min &#228;r &quot; + min);\r\n        }\r\n    }\r\n","title":"Java Array printing 0","body":"<p>In the program if I enter 0 it exits, the problem is when I am trying to print the array afterwards there will be alot of 0 if I choose to exit. How do I prevent that being print.</p>\n\n<pre><code>package lu.ics.Sohail.labbar;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class November2012 {\n    public static void main(String[] args) {\n        int tal;\n        int summa=0;\n        Scanner input = new Scanner(System.in);\n        int [] array = new int [100];\n        int min = Integer.MAX_VALUE;\n        int max = 0;\n\n        for (int i=0 ; i&lt;array.length; i++ ){\n            System.out.print(\"Ange tal 0 avsluta\");\n            array[i] = input.nextInt();\n            summa =summa+array[i];\n            if (array[i]==0) {\n                break;\n            }\n            while(array[i]&lt;min)\n            { \n                min=array[i];\n            }\n            while(array[i]&gt;max)\n            { \n                max=array[i];\n            }\n        }\n\n        System.out.print(\"Talen är \" + Arrays.toString(array));    \n        System.out.println();\n        System.out.print(\"Summan är \" + summa);\n        System.out.println();\n        System.out.print(\"Max är \" + max);\n        System.out.println();\n        System.out.print(\"Min är \" + min);\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","jackson","deserialization","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680310974,"creation_date":1680309872,"answer_id":75903707,"question_id":75903486,"body_markdown":"You can use `fillInStackTrace()` to reset the stack trace to the point at which you throw:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        Exception e = createException();\r\n        e.fillInStackTrace();\r\n        throw e;\r\n    }\r\n\r\n    private static Exception createException() {\r\n        return new Exception(&quot;my message&quot;);\r\n    }\r\n}\r\n```\r\nproduces:\r\n```\r\nException in thread &quot;main&quot; java.lang.Exception: my message\r\n\tat org.example.Main.main(Main.java:11)\r\n```\r\nwithout the call to `fillInStackTrace() the output is:\r\n```\r\nException in thread &quot;main&quot; java.lang.Exception: my message\r\n\tat org.example.Main.createException(Main.java:16)\r\n\tat org.example.Main.main(Main.java:10)\r\n```","title":"Deserialize JSON to Exception object","body":"<p>You can use <code>fillInStackTrace()</code> to reset the stack trace to the point at which you throw:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws Exception {\n        Exception e = createException();\n        e.fillInStackTrace();\n        throw e;\n    }\n\n    private static Exception createException() {\n        return new Exception(&quot;my message&quot;);\n    }\n}\n</code></pre>\n<p>produces:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: my message\n    at org.example.Main.main(Main.java:11)\n</code></pre>\n<p>without the call to `fillInStackTrace() the output is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: my message\n    at org.example.Main.createException(Main.java:16)\n    at org.example.Main.main(Main.java:10)\n</code></pre>\n"}],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75903707,"answer_count":1,"score":1,"last_activity_date":1680310974,"creation_date":1680305621,"question_id":75903486,"body_markdown":"I&#39;m using Jackson to deserialize an Exception object from JSON. Here&#39;s a simplified demo (using an implicit [delegating][1] creator):\r\n\r\n    throw new ObjectMapper().readValue(&quot;\\&quot;custom error message\\&quot;&quot;, Exception.class);\r\n\r\nThis works, but unfortunately the stack trace includes the Jackson frames leading up to the instantiation of the exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.Exception: custom error message\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call1(AnnotatedConstructor.java:133)\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromString(StdValueInstantiator.java:332)\r\n    \tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:265)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\r\n\r\nIs there a way to clean it up so it looks like it was created on the same line it was thrown?\r\n\r\n  [1]: https://www.cowtowncoder.com/blog/archives/2011/07/entry_457.html","title":"Deserialize JSON to Exception object","body":"<p>I'm using Jackson to deserialize an Exception object from JSON. Here's a simplified demo (using an implicit <a href=\"https://www.cowtowncoder.com/blog/archives/2011/07/entry_457.html\" rel=\"nofollow noreferrer\">delegating</a> creator):</p>\n<pre><code>throw new ObjectMapper().readValue(&quot;\\&quot;custom error message\\&quot;&quot;, Exception.class);\n</code></pre>\n<p>This works, but unfortunately the stack trace includes the Jackson frames leading up to the instantiation of the exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: custom error message\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.fasterxml.jackson.databind.introspect.AnnotatedConstructor.call1(AnnotatedConstructor.java:133)\n    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromString(StdValueInstantiator.java:332)\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._deserializeFromString(StdDeserializer.java:265)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromString(BeanDeserializerBase.java:1495)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:197)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\n</code></pre>\n<p>Is there a way to clean it up so it looks like it was created on the same line it was thrown?</p>\n"},{"tags":["java","android","in-app-purchase","in-app-billing"],"owner":{"account_id":19487421,"reputation":1,"user_id":14256447,"display_name":"MSterling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680309909,"creation_date":1680309909,"question_id":75903708,"body_markdown":"Using Android Studio Electric Eel. Implementing billing Library 5.0. Gradle Version 7.1 Android Gradle Plugin Version 7.0.4. \r\n\r\nHave been trying to get this to work for several days in several ways always end up in the same place -- ITEM_ALREADY_OWNED even when creating new accounts that have never made a purchase in Google Play. I have detailed the steps below. \r\n\r\n\r\nCheck product available on Google Play:\r\n\r\n    ImmutableList productList = ImmutableList.of(\r\n      QueryProductDetailsParams.Product.newBuilder()\r\n         .setProductId(&quot;cp_content&quot;)\r\n         .setProductType(BillingClient.ProductType.INAPP)\r\n         .build()\r\n        );\r\n\r\n    billingClient.queryProductDetailsAsync(\r\n      params,\r\n      (billingResult, productDetailsList) -&gt; {\r\n\r\n      runOnUiThread(() -&gt; {\r\n         for (ProductDetails productDetails : productDetailsList) {\r\n           if (productDetails.getProductId().equals(&quot;cp_content&quot;)) {  \r\n             lauchpurchaseFlow(productDetails);\r\n            }\r\n          }\r\n      });\r\n     }\r\n    );\r\n\r\n\r\nComes back fine.\r\n\r\nLaunch Purchase Flow:\r\n\r\n    runOnUiThread(() -&gt; {\r\n      if (productDetails != null) {\r\n        ImmutableList productDetailsParamsList = ImmutableList.of(\r\n          BillingFlowParams.ProductDetailsParams.newBuilder()\r\n            .setProductDetails(productDetails)\r\n            .build()\r\n    );\r\n                \r\n    BillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\r\n      .setProductDetailsParamsList(productDetailsParamsList)\r\n      .build();\r\n    BillingResult billingResult = billingClient.launchBillingFlow(\r\n      getMyActivity(), billingFlowParams);\r\n                \r\n      }\r\n    });\r\n \r\n\r\nbillingResponse.getResponseCode = 0 or OK in Log Statement. Then\r\n\r\nonPurchasesUpdatedListener called and billingResultsCode is 7 and purchases is null. Added queryPurchaseAsync as recommended by Google Documents (link https://developer.android.com/google/play/billing/errors under ITEM_ALREADY_OWNED) -BUT this always comes back as ITEM_ALREADY_OWNED.\r\n\r\n\r\n    Log.d(&quot;MainVC&quot;,&quot;LINE 365....billingResult = &quot; + billingResult.getResponseCode());\r\n    Log.d(&quot;MainVC&quot;,&quot;LINE 366.......purchases = &quot; + purchases);\r\n\r\n    if (billingResult.getResponseCode() \r\n      == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED || purchases == null) {\r\n            \r\n    billingClient.queryPurchasesAsync(\r\n       QueryPurchasesParams.newBuilder()\r\n          .setProductType(BillingClient.ProductType.INAPP)\r\n          .build(),\r\n          new PurchasesResponseListener() {\r\n          @Override\r\n          public void onQueryPurchasesResponse\r\n            (@NonNull BillingResult billingResult, @NonNull List&lt;Purchase&gt; list) {\r\n\r\n    --------billingResults.getResponseCode = 7 ITEM_ALREADY_OWNED -------------\r\n \r\n         if (billingResult.getResponseCode() ==\r\n           BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n              for (Purchase purchase: purchases) {\r\n                            \r\n                handlePurchases(purchases);\r\n              }\r\n            }\r\n          }\r\n        }\r\n     );\r\n    }\r\n\r\n\r\nI have tried many StackFlow recommendations/suggestions but nothing as solved the problem. Any help greatly appreciated.\r\n       \r\n   \r\n\r\nTried all solutions I could find on StackFlow (even resetting to billing version 4.0) always ended up in the same place. ITEM_ALREADY_OWNED.","title":"Android inApp purchase always shows Code 7 Already Owned","body":"<p>Using Android Studio Electric Eel. Implementing billing Library 5.0. Gradle Version 7.1 Android Gradle Plugin Version 7.0.4.</p>\n<p>Have been trying to get this to work for several days in several ways always end up in the same place -- ITEM_ALREADY_OWNED even when creating new accounts that have never made a purchase in Google Play. I have detailed the steps below.</p>\n<p>Check product available on Google Play:</p>\n<pre><code>ImmutableList productList = ImmutableList.of(\n  QueryProductDetailsParams.Product.newBuilder()\n     .setProductId(&quot;cp_content&quot;)\n     .setProductType(BillingClient.ProductType.INAPP)\n     .build()\n    );\n\nbillingClient.queryProductDetailsAsync(\n  params,\n  (billingResult, productDetailsList) -&gt; {\n\n  runOnUiThread(() -&gt; {\n     for (ProductDetails productDetails : productDetailsList) {\n       if (productDetails.getProductId().equals(&quot;cp_content&quot;)) {  \n         lauchpurchaseFlow(productDetails);\n        }\n      }\n  });\n }\n);\n</code></pre>\n<p>Comes back fine.</p>\n<p>Launch Purchase Flow:</p>\n<pre><code>runOnUiThread(() -&gt; {\n  if (productDetails != null) {\n    ImmutableList productDetailsParamsList = ImmutableList.of(\n      BillingFlowParams.ProductDetailsParams.newBuilder()\n        .setProductDetails(productDetails)\n        .build()\n);\n            \nBillingFlowParams billingFlowParams = BillingFlowParams.newBuilder()\n  .setProductDetailsParamsList(productDetailsParamsList)\n  .build();\nBillingResult billingResult = billingClient.launchBillingFlow(\n  getMyActivity(), billingFlowParams);\n            \n  }\n});\n</code></pre>\n<p>billingResponse.getResponseCode = 0 or OK in Log Statement. Then</p>\n<p>onPurchasesUpdatedListener called and billingResultsCode is 7 and purchases is null. Added queryPurchaseAsync as recommended by Google Documents (link <a href=\"https://developer.android.com/google/play/billing/errors\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/billing/errors</a> under ITEM_ALREADY_OWNED) -BUT this always comes back as ITEM_ALREADY_OWNED.</p>\n<pre><code>Log.d(&quot;MainVC&quot;,&quot;LINE 365....billingResult = &quot; + billingResult.getResponseCode());\nLog.d(&quot;MainVC&quot;,&quot;LINE 366.......purchases = &quot; + purchases);\n\nif (billingResult.getResponseCode() \n  == BillingClient.BillingResponseCode.ITEM_ALREADY_OWNED || purchases == null) {\n        \nbillingClient.queryPurchasesAsync(\n   QueryPurchasesParams.newBuilder()\n      .setProductType(BillingClient.ProductType.INAPP)\n      .build(),\n      new PurchasesResponseListener() {\n      @Override\n      public void onQueryPurchasesResponse\n        (@NonNull BillingResult billingResult, @NonNull List&lt;Purchase&gt; list) {\n\n--------billingResults.getResponseCode = 7 ITEM_ALREADY_OWNED -------------\n\n     if (billingResult.getResponseCode() ==\n       BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n          for (Purchase purchase: purchases) {\n                        \n            handlePurchases(purchases);\n          }\n        }\n      }\n    }\n );\n}\n</code></pre>\n<p>I have tried many StackFlow recommendations/suggestions but nothing as solved the problem. Any help greatly appreciated.</p>\n<p>Tried all solutions I could find on StackFlow (even resetting to billing version 4.0) always ended up in the same place. ITEM_ALREADY_OWNED.</p>\n"},{"tags":["java","sqlite","schemaspy"],"comments":[{"owner":{"account_id":2597516,"reputation":1351,"user_id":2250843,"display_name":"Antony Gibbs"},"score":0,"creation_date":1660926596,"post_id":62626447,"comment_id":129657079,"body_markdown":"Any progress on this?","body":"Any progress on this?"}],"answers":[{"tags":[],"owner":{"account_id":20917390,"reputation":76,"user_id":15366766,"display_name":"Nils Petz&#228;ll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680308113,"creation_date":1680308113,"answer_id":75903608,"question_id":62626447,"body_markdown":"The first error read-only probably is because it tries to create a database in root. Path to db is absolut\r\n\r\nI don&#39;t know exactly which version of SchemaSpy, but `-t sqlite-xerial` has been added for the xerial driver.\r\n\r\nAnd it seems that the `-dp` argument didn&#39;t point to the driver or that it wasn&#39;t resolved correctly.\r\n\r\nBut as an example having everything in `/chinook` (schemaspy, xerial JDBC driver, database) and running from that directory the command should look something like\r\n\r\n`java -jar schemaspy-6.2.2.jar -dp /chinook/sqlite-jdbc-3.30.1.jar -t sqlite-xerial -db /chinook/chinook.db -sso -s chinook -cat chinook -o implied -o report`\r\n\r\nIf there&#39;s still any issues please create an issue at GitHub.","title":"How to use SchemaSpy with SQLite?","body":"<p>The first error read-only probably is because it tries to create a database in root. Path to db is absolut</p>\n<p>I don't know exactly which version of SchemaSpy, but <code>-t sqlite-xerial</code> has been added for the xerial driver.</p>\n<p>And it seems that the <code>-dp</code> argument didn't point to the driver or that it wasn't resolved correctly.</p>\n<p>But as an example having everything in <code>/chinook</code> (schemaspy, xerial JDBC driver, database) and running from that directory the command should look something like</p>\n<p><code>java -jar schemaspy-6.2.2.jar -dp /chinook/sqlite-jdbc-3.30.1.jar -t sqlite-xerial -db /chinook/chinook.db -sso -s chinook -cat chinook -o implied -o report</code></p>\n<p>If there's still any issues please create an issue at GitHub.</p>\n"}],"owner":{"account_id":61520,"reputation":1745,"user_id":183315,"accept_rate":39,"display_name":"writes_on"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1680308113,"creation_date":1593367812,"question_id":62626447,"body_markdown":"How to use SchemaSpy to create an ERD of an SQLite database? I&#39;m trying this with the chinook.db sample database. \r\n\r\nUsing this command: \r\n\r\n    java -jar schemaspy-6.1.0.jar -t sqlite -db chinook.db -u admin -o .\r\n\r\nI get this partial output:\r\n\r\n    INFO  - The following profiles are active: default\r\n    INFO  - Started Main in 0.937 seconds (JVM running for 1.232)\r\n    INFO  - Starting schema analysis\r\n    WARN  - Connection Failure\r\n    Failed to connect to database URL [jdbc:sqlite:/chinook.db] opening db: &#39;/chinook.db&#39;: Read-only file system\r\n    INFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\r\n\r\nI don&#39;t understand what Read-only is trying to tell me as this is executed in a directory of my own on my Mac.\r\n\r\nI&#39;ve downloaded the latest SQLite JDBC driver and tried this command line:\r\n\r\n    java -jar schemaspy-6.1.0.jar -t sqlite -dp sqlite-jdbc-3.30.1.jar -db chinook.db -u admin -o .\r\n\r\nAnd the system responds this way:\r\n\r\n    INFO  - The following profiles are active: default\r\n    INFO  - Started Main in 0.706 seconds (JVM running for 0.996)\r\n    INFO  - Starting schema analysis\r\n    WARN  - Connection Failure\r\n    Failed to connect to database URL [jdbc:sqlite:/chinook.db] Failed to create any of &#39;org.sqlite.JDBC&#39; driver from driverPath &#39;sqlite-jdbc-3.30.1.jar&#39; with sibling jars no.\r\n    Resulting in classpath: empty\r\n    There were missing paths in driverPath:\r\n    \tsqlite-jdbc-3.30.1.jar\r\n    Use commandline option &#39;-dp&#39; to specify driver location.\r\n    If you need to load sibling jars used &#39;-loadjars&#39;\r\n    INFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\r\n    sd","title":"How to use SchemaSpy with SQLite?","body":"<p>How to use SchemaSpy to create an ERD of an SQLite database? I'm trying this with the chinook.db sample database.</p>\n<p>Using this command:</p>\n<pre><code>java -jar schemaspy-6.1.0.jar -t sqlite -db chinook.db -u admin -o .\n</code></pre>\n<p>I get this partial output:</p>\n<pre><code>INFO  - The following profiles are active: default\nINFO  - Started Main in 0.937 seconds (JVM running for 1.232)\nINFO  - Starting schema analysis\nWARN  - Connection Failure\nFailed to connect to database URL [jdbc:sqlite:/chinook.db] opening db: '/chinook.db': Read-only file system\nINFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\n</code></pre>\n<p>I don't understand what Read-only is trying to tell me as this is executed in a directory of my own on my Mac.</p>\n<p>I've downloaded the latest SQLite JDBC driver and tried this command line:</p>\n<pre><code>java -jar schemaspy-6.1.0.jar -t sqlite -dp sqlite-jdbc-3.30.1.jar -db chinook.db -u admin -o .\n</code></pre>\n<p>And the system responds this way:</p>\n<pre><code>INFO  - The following profiles are active: default\nINFO  - Started Main in 0.706 seconds (JVM running for 0.996)\nINFO  - Starting schema analysis\nWARN  - Connection Failure\nFailed to connect to database URL [jdbc:sqlite:/chinook.db] Failed to create any of 'org.sqlite.JDBC' driver from driverPath 'sqlite-jdbc-3.30.1.jar' with sibling jars no.\nResulting in classpath: empty\nThere were missing paths in driverPath:\n    sqlite-jdbc-3.30.1.jar\nUse commandline option '-dp' to specify driver location.\nIf you need to load sibling jars used '-loadjars'\nINFO  - StackTraces have been omitted, use `-debug` when executing SchemaSpy to see them\nsd\n</code></pre>\n"},{"tags":["java","jboss","wildfly"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1467639121,"post_id":38185633,"comment_id":63797575,"body_markdown":"How is the application deployed to begin with, and what type of deployments is the server allowing? Is it done by putting the ear in the standalone/deployments folder?","body":"How is the application deployed to begin with, and what type of deployments is the server allowing? Is it done by putting the ear in the standalone/deployments folder?"},{"owner":{"account_id":1314766,"reputation":374,"user_id":1261906,"accept_rate":55,"display_name":"Lu&#237;s Rigoni"},"score":0,"creation_date":1467639709,"post_id":38185633,"comment_id":63797945,"body_markdown":"@Gimby, please see the detailed question edits","body":"@Gimby, please see the detailed question edits"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1467702478,"post_id":38185633,"comment_id":63818890,"body_markdown":"After the undeployment happens, what files are there in the deployments folder?","body":"After the undeployment happens, what files are there in the deployments folder?"}],"answers":[{"tags":[],"owner":{"account_id":223299,"reputation":188,"user_id":1656858,"display_name":"Adrian Bartyczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680306718,"creation_date":1669439964,"answer_id":74579917,"question_id":38185633,"body_markdown":"I had the same problem. I found out that I had Linux cron job running that was reloading WildFly. This may not be your case, but check your cron jobs just in case.\r\n\r\nHere is the log output I was getting.\r\n\r\n```2022-11-26 03:30:25,025 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBossWS 5.4.2.Final (Apache CXF 3.3.7) \r\n2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych.war&quot;)\r\n2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych-ejb.jar&quot;)\r\n2022-11-26 03:30:27,986 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.ear\r\n2022-11-26 03:30:28,092 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-7) HV000001: Hibernate Validator 6.0.22.Final\r\n2022-11-26 03:30:28,225 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0003: Processing weld deployment stych-ejb.jar\r\n2022-11-26 03:30:28,271 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.war\r\n2022-11-26 03:30:28,460 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-7) No shutdown hook registered: Please call close() manually on application shutdown.\r\n2022-11-26 03:30:28,517 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900: 3.1.5 (Final)\r\n2022-11-26 03:30:28,627 WARN  [org.jboss.as.jaxrs] (MSC service thread 1-6) WFLYRS0018: Explicit usage of Jackson annotation in a JAX-RS deployment; the system will disable JSON-B processing for the current deployment. Consider setting the &#39;resteasy.preferJacksonOverJsonB&#39; property to &#39;false&#39; to restore JSON-B.\r\n2022-11-26 03:30:28,782 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan &#39;Corona Extra&#39; 11.0.8.Final\r\n2022-11-26 03:30:28,859 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n2022-11-26 03:30:28,861 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\r\n2022-11-26 03:30:28,991 INFO  [org.infinispan.PERSISTENCE] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller&#39;\r\n2022-11-26 03:30:29,186 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\r\n2022-11-26 03:30:29,807 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002225: Deploying javax.ws.rs.core.Application: class com.stych.backend.rest.RestApplication\r\n2022-11-26 03:30:29,807 WARN  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.ResteasyJacksonProvider is already registered.  2nd registration is being ignored.\r\n2022-11-26 03:30:29,825 WARN  [org.jboss.as.weld] (ServerService Thread Pool -- 80) WFLYWELD0052: Using deployment classloader to load proxy classes for module com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider. Package-private access will not work. To fix this the module should declare dependencies on [org.jboss.weld.core, org.jboss.weld.spi, org.jboss.weld.api]\r\n2022-11-26 03:30:30,034 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 80) WFLYUT0021: Registered web context: &#39;/&#39; for server &#39;default-server&#39;\r\n2022-11-26 03:30:30,091 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;stych.ear&quot; (runtime-name : &quot;stych.ear&quot;)\r\n2022-11-26 03:30:30,136 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n2022-11-26 03:30:30,139 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 22.0.1.Final (WildFly Core 14.0.1.Final) started in 8464ms - Started 516 of 718 services (356 services are lazy, passive or on-demand)\r\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n&lt;------------------------------------------------------------------------------------------------&gt;\r\n            10 MINUTES LATER EVERYTHING GOT UNREGISTERED FOR AN UNKNOWN REASON\r\n&lt;------------------------------------------------------------------------------------------------&gt;\r\n2022-11-26 03:40:08,103 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]\r\n2022-11-26 03:40:08,113 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 83) WFLYUT0022: Unregistered web context: &#39;/&#39; from server &#39;default-server&#39;\r\n2022-11-26 03:40:08,136 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping\r\n2022-11-26 03:40:08,143 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]\r\n2022-11-26 03:40:08,151 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0019: Stopped Driver service with driver-name = h2\r\n2022-11-26 03:40:08,164 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 83) WFLYCLINF0003: Stopped http-remoting-connector cache from ejb container\r\n2022-11-26 03:40:08,168 INFO  [org.infinispan.manager.DefaultCacheManager] (ServerService Thread Pool -- 83) Stopping cache manager null on null\r\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending\r\n2022-11-26 03:40:08,185 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0208: Stopped subdeployment (runtime-name: stych-ejb.jar) in 99ms\r\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080","title":"What could make WildFly undeploy automatically an EAR?","body":"<p>I had the same problem. I found out that I had Linux cron job running that was reloading WildFly. This may not be your case, but check your cron jobs just in case.</p>\n<p>Here is the log output I was getting.</p>\n<pre><code>2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych.war&quot;)\n2022-11-26 03:30:27,110 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;stych-ejb.jar&quot;)\n2022-11-26 03:30:27,986 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.ear\n2022-11-26 03:30:28,092 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-7) HV000001: Hibernate Validator 6.0.22.Final\n2022-11-26 03:30:28,225 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0003: Processing weld deployment stych-ejb.jar\n2022-11-26 03:30:28,271 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) WFLYWELD0003: Processing weld deployment stych.war\n2022-11-26 03:30:28,460 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-7) No shutdown hook registered: Please call close() manually on application shutdown.\n2022-11-26 03:30:28,517 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900: 3.1.5 (Final)\n2022-11-26 03:30:28,627 WARN  [org.jboss.as.jaxrs] (MSC service thread 1-6) WFLYRS0018: Explicit usage of Jackson annotation in a JAX-RS deployment; the system will disable JSON-B processing for the current deployment. Consider setting the 'resteasy.preferJacksonOverJsonB' property to 'false' to restore JSON-B.\n2022-11-26 03:30:28,782 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 78) ISPN000128: Infinispan version: Infinispan 'Corona Extra' 11.0.8.Final\n2022-11-26 03:30:28,859 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n2022-11-26 03:30:28,861 INFO  [org.infinispan.CONFIG] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.\n2022-11-26 03:30:28,991 INFO  [org.infinispan.PERSISTENCE] (ServerService Thread Pool -- 78) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.spi.marshalling.InfinispanProtoStreamMarshaller'\n2022-11-26 03:30:29,186 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) WFLYCLINF0002: Started http-remoting-connector cache from ejb container\n2022-11-26 03:30:29,807 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002225: Deploying javax.ws.rs.core.Application: class com.stych.backend.rest.RestApplication\n2022-11-26 03:30:29,807 WARN  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 80) RESTEASY002155: Provider class org.jboss.resteasy.plugins.providers.jackson.ResteasyJacksonProvider is already registered.  2nd registration is being ignored.\n2022-11-26 03:30:29,825 WARN  [org.jboss.as.weld] (ServerService Thread Pool -- 80) WFLYWELD0052: Using deployment classloader to load proxy classes for module com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider. Package-private access will not work. To fix this the module should declare dependencies on [org.jboss.weld.core, org.jboss.weld.spi, org.jboss.weld.api]\n2022-11-26 03:30:30,034 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 80) WFLYUT0021: Registered web context: '/' for server 'default-server'\n2022-11-26 03:30:30,091 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;stych.ear&quot; (runtime-name : &quot;stych.ear&quot;)\n2022-11-26 03:30:30,136 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n2022-11-26 03:30:30,139 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 22.0.1.Final (WildFly Core 14.0.1.Final) started in 8464ms - Started 516 of 718 services (356 services are lazy, passive or on-demand)\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n2022-11-26 03:30:30,140 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n&lt;------------------------------------------------------------------------------------------------&gt;\n            10 MINUTES LATER EVERYTHING GOT UNREGISTERED FOR AN UNKNOWN REASON\n&lt;------------------------------------------------------------------------------------------------&gt;\n2022-11-26 03:40:08,103 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]\n2022-11-26 03:40:08,113 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 83) WFLYUT0022: Unregistered web context: '/' from server 'default-server'\n2022-11-26 03:40:08,136 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0019: Host default-host stopping\n2022-11-26 03:40:08,143 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]\n2022-11-26 03:40:08,151 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0019: Stopped Driver service with driver-name = h2\n2022-11-26 03:40:08,164 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 83) WFLYCLINF0003: Stopped http-remoting-connector cache from ejb container\n2022-11-26 03:40:08,168 INFO  [org.infinispan.manager.DefaultCacheManager] (ServerService Thread Pool -- 83) Stopping cache manager null on null\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending\n2022-11-26 03:40:08,185 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0208: Stopped subdeployment (runtime-name: stych-ejb.jar) in 99ms\n2022-11-26 03:40:08,185 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080\n</code></pre>\n"}],"owner":{"account_id":1314766,"reputation":374,"user_id":1261906,"accept_rate":55,"display_name":"Lu&#237;s Rigoni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1425,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680306718,"creation_date":1467637919,"question_id":38185633,"body_markdown":"I have an application hosted in WildFly 8.2.1.Final and after some days it undeploy automatically my EAR.\r\n\r\nThe server is started with `./standalone.sh` and the EAR is deployed putting the ear in the `standalone/deployments` folder along with `.dodeploy` file.\r\n\r\nThe last lines of `server.log` shows:\r\n\r\n    INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) JBAS017535: Unregistered web context: /App\r\n    INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) JBAS017535: Unregistered web context: /AppPortal\r\n    INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 2 of 2) Service &#39;AppEAR.ear/AppEJB.jar#AppEJB&#39;\r\n    INFO  [org.jboss.weld.deployer] (MSC service thread 1-5) JBAS016009: Stopping weld service for deployment AppEAR.ear\r\n    INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 1 of 2) Service &#39;AppEAR.ear/AppEJB.jar#AppEJB&#39;\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015974: Stopped subdeployment (runtime-name: AppService.war) in 233ms\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015974: Stopped subdeployment (runtime-name: AppEJB.jar) in 233ms\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015974: Stopped subdeployment (runtime-name: AppPortal.war) in 237ms\r\n    INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) JBAS015877: Stopped deployment AppEAR.ear (runtime-name: AppEAR.ear) in 336ms\r\n    INFO  [org.jboss.as.server] (DeploymentScanner-threads - 1) JBAS018558: Undeployed &quot;AppEAR.ear&quot; (runtime-name: &quot;AppEAR.ear&quot;)\r\n\r\nAfter that, neither management console works at `localhost:9990`.\r\n\r\n","title":"What could make WildFly undeploy automatically an EAR?","body":"<p>I have an application hosted in WildFly 8.2.1.Final and after some days it undeploy automatically my EAR.</p>\n\n<p>The server is started with <code>./standalone.sh</code> and the EAR is deployed putting the ear in the <code>standalone/deployments</code> folder along with <code>.dodeploy</code> file.</p>\n\n<p>The last lines of <code>server.log</code> shows:</p>\n\n<pre><code>INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) JBAS017535: Unregistered web context: /App\nINFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) JBAS017535: Unregistered web context: /AppPortal\nINFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 2 of 2) Service 'AppEAR.ear/AppEJB.jar#AppEJB'\nINFO  [org.jboss.weld.deployer] (MSC service thread 1-5) JBAS016009: Stopping weld service for deployment AppEAR.ear\nINFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 60) JBAS011410: Stopping Persistence Unit (phase 1 of 2) Service 'AppEAR.ear/AppEJB.jar#AppEJB'\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015974: Stopped subdeployment (runtime-name: AppService.war) in 233ms\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015974: Stopped subdeployment (runtime-name: AppEJB.jar) in 233ms\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015974: Stopped subdeployment (runtime-name: AppPortal.war) in 237ms\nINFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) JBAS015877: Stopped deployment AppEAR.ear (runtime-name: AppEAR.ear) in 336ms\nINFO  [org.jboss.as.server] (DeploymentScanner-threads - 1) JBAS018558: Undeployed \"AppEAR.ear\" (runtime-name: \"AppEAR.ear\")\n</code></pre>\n\n<p>After that, neither management console works at <code>localhost:9990</code>.</p>\n"},{"tags":["java","spring-boot","mapstruct","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680305980,"creation_date":1680305980,"answer_id":75903507,"question_id":75901298,"body_markdown":"The problem here is that `ConsultationBO` cannot be modified once created (all of its fields are final, and have no setters), but you&#39;re using [`@MappingTarget`](https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances) to update it.  The constructor isn&#39;t being used since `@MappingTarget` provides an object to be updated, rather than creating a new object.  And since none of the properties on it are modifiable, the object is returned without changes.\r\n\r\nOne solution is to instead have MapStruct create the object for you:\r\n\r\n```lang-java\r\nConsultationBO map(Consultation apiModel);\r\n```\r\n\r\nThe other solution would be to make `ConsultationBO` mutable (change its fields to be non-final and add setters).","title":"MapStruct generates empty mapper method body for update mapper","body":"<p>The problem here is that <code>ConsultationBO</code> cannot be modified once created (all of its fields are final, and have no setters), but you're using <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\"><code>@MappingTarget</code></a> to update it.  The constructor isn't being used since <code>@MappingTarget</code> provides an object to be updated, rather than creating a new object.  And since none of the properties on it are modifiable, the object is returned without changes.</p>\n<p>One solution is to instead have MapStruct create the object for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConsultationBO map(Consultation apiModel);\n</code></pre>\n<p>The other solution would be to make <code>ConsultationBO</code> mutable (change its fields to be non-final and add setters).</p>\n"}],"owner":{"account_id":7806091,"reputation":85,"user_id":5903937,"display_name":"Elias Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75903507,"answer_count":1,"score":0,"last_activity_date":1680305980,"creation_date":1680284385,"question_id":75901298,"body_markdown":"I really can&#39;t figure out what&#39;s going on.\r\n\r\nHere&#39;s my openapi generated class which will be doing the updating:\r\n\r\n```java\r\n    /**\r\n     * Consultation\r\n     */\r\n    \r\n    @Schema(name = &quot;Consultation&quot;, description = &quot;Consultation&quot;)\r\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-03-31T19:23:20.818876600+02:00[Europe/Brussels]&quot;)\r\n    public class Consultation   {\r\n    \r\n      @JsonProperty(&quot;publicId&quot;)\r\n      private UUID publicId;\r\n    \r\n      @JsonProperty(&quot;decision&quot;)\r\n      private Decision decision;\r\n    \r\n      @JsonProperty(&quot;consultationDate&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n      private LocalDateTime consultationDate;\r\n    \r\n      @JsonProperty(&quot;languageCode&quot;)\r\n      private String languageCode;\r\n    \r\n      @JsonProperty(&quot;remoteIpAddress&quot;)\r\n      private String remoteIpAddress;\r\n    \r\n      @JsonProperty(&quot;remoteIpAddressCountryCode&quot;)\r\n      private String remoteIpAddressCountryCode;\r\n    \r\n      @JsonProperty(&quot;createdBy&quot;)\r\n      private String createdBy;\r\n    \r\n      @JsonProperty(&quot;createdOn&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n      private LocalDateTime createdOn;\r\n    \r\n      @JsonProperty(&quot;modifiedBy&quot;)\r\n      private String modifiedBy;\r\n    \r\n      @JsonProperty(&quot;modifiedOn&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n      private LocalDateTime modifiedOn;\r\n    \r\n      public Consultation publicId(UUID publicId) {\r\n        this.publicId = publicId;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * ID of the consultation\r\n       * @return publicId\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;publicId&quot;, description = &quot;ID of the consultation&quot;, required = false)\r\n      public UUID getPublicId() {\r\n        return publicId;\r\n      }\r\n    \r\n      public void setPublicId(UUID publicId) {\r\n        this.publicId = publicId;\r\n      }\r\n    \r\n      public Consultation decision(Decision decision) {\r\n        this.decision = decision;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get decision\r\n       * @return decision\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;decision&quot;, required = false)\r\n      public Decision getDecision() {\r\n        return decision;\r\n      }\r\n    \r\n      public void setDecision(Decision decision) {\r\n        this.decision = decision;\r\n      }\r\n    \r\n      public Consultation consultationDate(LocalDateTime consultationDate) {\r\n        this.consultationDate = consultationDate;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * date of the consultation\r\n       * @return consultationDate\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;consultationDate&quot;, description = &quot;date of the consultation&quot;, required = false)\r\n      public LocalDateTime getConsultationDate() {\r\n        return consultationDate;\r\n      }\r\n    \r\n      public void setConsultationDate(LocalDateTime consultationDate) {\r\n        this.consultationDate = consultationDate;\r\n      }\r\n    \r\n      public Consultation languageCode(String languageCode) {\r\n        this.languageCode = languageCode;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * language code of the consultation\r\n       * @return languageCode\r\n      */\r\n      \r\n      @Schema(name = &quot;languageCode&quot;, description = &quot;language code of the consultation&quot;, required = false)\r\n      public String getLanguageCode() {\r\n        return languageCode;\r\n      }\r\n    \r\n      public void setLanguageCode(String languageCode) {\r\n        this.languageCode = languageCode;\r\n      }\r\n    \r\n      public Consultation remoteIpAddress(String remoteIpAddress) {\r\n        this.remoteIpAddress = remoteIpAddress;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * IP address of the user who consulted the decision\r\n       * @return remoteIpAddress\r\n      */\r\n      \r\n      @Schema(name = &quot;remoteIpAddress&quot;, description = &quot;IP address of the user who consulted the decision&quot;, required = false)\r\n      public String getRemoteIpAddress() {\r\n        return remoteIpAddress;\r\n      }\r\n    \r\n      public void setRemoteIpAddress(String remoteIpAddress) {\r\n        this.remoteIpAddress = remoteIpAddress;\r\n      }\r\n    \r\n      public Consultation remoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\r\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Country code of the IP address of the user who consulted the decision\r\n       * @return remoteIpAddressCountryCode\r\n      */\r\n      \r\n      @Schema(name = &quot;remoteIpAddressCountryCode&quot;, description = &quot;Country code of the IP address of the user who consulted the decision&quot;, required = false)\r\n      public String getRemoteIpAddressCountryCode() {\r\n        return remoteIpAddressCountryCode;\r\n      }\r\n    \r\n      public void setRemoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\r\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\r\n      }\r\n    \r\n      public Consultation createdBy(String createdBy) {\r\n        this.createdBy = createdBy;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * User who created the consultation\r\n       * @return createdBy\r\n      */\r\n      \r\n      @Schema(name = &quot;createdBy&quot;, description = &quot;User who created the consultation&quot;, required = false)\r\n      public String getCreatedBy() {\r\n        return createdBy;\r\n      }\r\n    \r\n      public void setCreatedBy(String createdBy) {\r\n        this.createdBy = createdBy;\r\n      }\r\n    \r\n      public Consultation createdOn(LocalDateTime createdOn) {\r\n        this.createdOn = createdOn;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Date when the consultation was created\r\n       * @return createdOn\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;createdOn&quot;, description = &quot;Date when the consultation was created&quot;, required = false)\r\n      public LocalDateTime getCreatedOn() {\r\n        return createdOn;\r\n      }\r\n    \r\n      public void setCreatedOn(LocalDateTime createdOn) {\r\n        this.createdOn = createdOn;\r\n      }\r\n    \r\n      public Consultation modifiedBy(String modifiedBy) {\r\n        this.modifiedBy = modifiedBy;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * User who last modified the consultation\r\n       * @return modifiedBy\r\n      */\r\n      \r\n      @Schema(name = &quot;modifiedBy&quot;, description = &quot;User who last modified the consultation&quot;, required = false)\r\n      public String getModifiedBy() {\r\n        return modifiedBy;\r\n      }\r\n    \r\n      public void setModifiedBy(String modifiedBy) {\r\n        this.modifiedBy = modifiedBy;\r\n      }\r\n    \r\n      public Consultation modifiedOn(LocalDateTime modifiedOn) {\r\n        this.modifiedOn = modifiedOn;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Date when the consultation was last modified\r\n       * @return modifiedOn\r\n      */\r\n      @Valid \r\n      @Schema(name = &quot;modifiedOn&quot;, description = &quot;Date when the consultation was last modified&quot;, required = false)\r\n      public LocalDateTime getModifiedOn() {\r\n        return modifiedOn;\r\n      }\r\n    \r\n      public void setModifiedOn(LocalDateTime modifiedOn) {\r\n        this.modifiedOn = modifiedOn;\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        Consultation consultation = (Consultation) o;\r\n        return Objects.equals(this.publicId, consultation.publicId) &amp;&amp;\r\n            Objects.equals(this.decision, consultation.decision) &amp;&amp;\r\n            Objects.equals(this.consultationDate, consultation.consultationDate) &amp;&amp;\r\n            Objects.equals(this.languageCode, consultation.languageCode) &amp;&amp;\r\n            Objects.equals(this.remoteIpAddress, consultation.remoteIpAddress) &amp;&amp;\r\n            Objects.equals(this.remoteIpAddressCountryCode, consultation.remoteIpAddressCountryCode) &amp;&amp;\r\n            Objects.equals(this.createdBy, consultation.createdBy) &amp;&amp;\r\n            Objects.equals(this.createdOn, consultation.createdOn) &amp;&amp;\r\n            Objects.equals(this.modifiedBy, consultation.modifiedBy) &amp;&amp;\r\n            Objects.equals(this.modifiedOn, consultation.modifiedOn);\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode, createdBy, createdOn, modifiedBy, modifiedOn);\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class Consultation {\\n&quot;);\r\n        sb.append(&quot;    publicId: &quot;).append(toIndentedString(publicId)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    decision: &quot;).append(toIndentedString(decision)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    consultationDate: &quot;).append(toIndentedString(consultationDate)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    languageCode: &quot;).append(toIndentedString(languageCode)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    remoteIpAddress: &quot;).append(toIndentedString(remoteIpAddress)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    remoteIpAddressCountryCode: &quot;).append(toIndentedString(remoteIpAddressCountryCode)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    createdBy: &quot;).append(toIndentedString(createdBy)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    createdOn: &quot;).append(toIndentedString(createdOn)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    modifiedBy: &quot;).append(toIndentedString(modifiedBy)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    modifiedOn: &quot;).append(toIndentedString(modifiedOn)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    }\r\n```\r\nThe business object which will be updated by the mapper:\r\n```java\r\n    public class ConsultationBO extends BasicData {\r\n        private final UUID publicId;\r\n    \r\n        private final Decision decision;\r\n    \r\n        private final LocalDateTime consultationDate;\r\n    \r\n        private final String languageCode;\r\n    \r\n        private final String remoteIpAddress;\r\n    \r\n        private final String remoteIpAddressCountryCode;\r\n    \r\n        public ConsultationBO(String createdBy,\r\n                              LocalDateTime createdOn,\r\n                              String modifiedBy,\r\n                              LocalDateTime modifiedOn,\r\n                              UUID publicId,\r\n                              Decision decision,\r\n                              LocalDateTime consultationDate,\r\n                              String languageCode,\r\n                              String remoteIpAddress,\r\n                              String remoteIpAddressCountryCode) {\r\n            super(createdBy, createdOn, modifiedBy, modifiedOn);\r\n            this.publicId = publicId;\r\n            this.decision = decision;\r\n            this.consultationDate = consultationDate;\r\n            this.languageCode = languageCode;\r\n            this.remoteIpAddress = remoteIpAddress;\r\n            this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\r\n        }\r\n    \r\n        public UUID getPublicId() {\r\n            return publicId;\r\n        }\r\n    \r\n        public Decision getDecision() {\r\n            return decision;\r\n        }\r\n    \r\n        public LocalDateTime getConsultationDate() {\r\n            return consultationDate;\r\n        }\r\n    \r\n        public String getLanguageCode() {\r\n            return languageCode;\r\n        }\r\n    \r\n        public String getRemoteIpAddress() {\r\n            return remoteIpAddress;\r\n        }\r\n    \r\n        public String getRemoteIpAddressCountryCode() {\r\n            return remoteIpAddressCountryCode;\r\n        }\r\n    }\r\n```\r\n\r\nHere&#39;s the mapper:\r\n```java\r\n    @Mapper\r\n    @Component\r\n    public interface ConsultationMapper {\r\n    \r\n        ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity);\r\n    \r\n        void updateConsultationLogEntityWithConsultationBO(ConsultationBO businessObject, @MappingTarget DecisionConsultationLogEntity entity);\r\n        DecisionConsultationLogEntity consultationBOToConsultationLogEntity(ConsultationBO businessObject);\r\n    \r\n        Consultation consultationBOToConsultationAPIModel(ConsultationBO businessObject);\r\n    \r\n    // This one isn&#39;t being implemented\r\n        void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, @MappingTarget ConsultationBO businessObject);\r\n    \r\n        ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel);\r\n    }\r\n```\r\nHere&#39;s the implementation that mapstruct is generating for the one before last mapper method: \r\n```java\r\n    @Override\r\n        public void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, ConsultationBO businessObject) {\r\n            if ( apiModel == null ) {\r\n                return;\r\n            }\r\n        }\r\n```\r\nThere should be a whole implementation of the mapping like all the other methods who have succesfully been generated. Here&#39;s an example:\r\n```java\r\n    @Override\r\n        public ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel) {\r\n            if ( apiModel == null ) {\r\n                return null;\r\n            }\r\n    \r\n            String createdBy = null;\r\n            LocalDateTime createdOn = null;\r\n            String modifiedBy = null;\r\n            LocalDateTime modifiedOn = null;\r\n            UUID publicId = null;\r\n            be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\r\n            LocalDateTime consultationDate = null;\r\n            String languageCode = null;\r\n            String remoteIpAddress = null;\r\n            String remoteIpAddressCountryCode = null;\r\n    \r\n            createdBy = apiModel.getCreatedBy();\r\n            createdOn = apiModel.getCreatedOn();\r\n            modifiedBy = apiModel.getModifiedBy();\r\n            modifiedOn = apiModel.getModifiedOn();\r\n            publicId = apiModel.getPublicId();\r\n            decision = decisionToDecision1( apiModel.getDecision() );\r\n            consultationDate = apiModel.getConsultationDate();\r\n            languageCode = apiModel.getLanguageCode();\r\n            remoteIpAddress = apiModel.getRemoteIpAddress();\r\n            remoteIpAddressCountryCode = apiModel.getRemoteIpAddressCountryCode();\r\n    \r\n            ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\r\n    \r\n            return consultationBO;\r\n        }\r\n```\r\nI thought it was because the source class is generated by openapi maven generator, but it isn&#39;t a problem for any other methods. Then I thought maybe it&#39;s because there&#39;s no constructor in the generated class. But that makes no sense because that&#39;s just the source, it doesn&#39;t need to set anything on that class. My BO class which is the target, does have a constructor which should be used automatically by mapstruct, but no setters indeed. I asked my tech lead and he said to leave the class immutable. \r\n\r\nMaybe I need to specify that it should use the constructor, but that doesn&#39;t make sense either... Per the mapstruct docs:\r\n\r\n&gt; MapStruct supports using constructors for mapping target types. When\r\n&gt; doing a mapping MapStruct checks if there is a builder for the type\r\n&gt; being mapped. If there is no builder, then MapStruct looks for a\r\n&gt; single accessible constructor.\r\n\r\nAlso, it can find the constructor and use it in standard mappings into the BO. Here&#39;s another method it implemented correctly using the constructor of the immutable BO class:\r\n\r\n```java\r\n@Override\r\n    public ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        String createdBy = null;\r\n        LocalDateTime createdOn = null;\r\n        String modifiedBy = null;\r\n        LocalDateTime modifiedOn = null;\r\n        UUID publicId = null;\r\n        be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\r\n        LocalDateTime consultationDate = null;\r\n        String languageCode = null;\r\n        String remoteIpAddress = null;\r\n        String remoteIpAddressCountryCode = null;\r\n\r\n        createdBy = entity.getCreatedBy();\r\n        createdOn = entity.getCreatedOn();\r\n        modifiedBy = entity.getModifiedBy();\r\n        modifiedOn = entity.getModifiedOn();\r\n        publicId = entity.getPublicId();\r\n        decision = decisionEntityToDecision( entity.getDecision() );\r\n        consultationDate = entity.getConsultationDate();\r\n        languageCode = entity.getLanguageCode();\r\n        remoteIpAddress = entity.getRemoteIpAddress();\r\n        remoteIpAddressCountryCode = entity.getRemoteIpAddressCountryCode();\r\n\r\n        ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\r\n\r\n        return consultationBO;\r\n    }\r\n```","title":"MapStruct generates empty mapper method body for update mapper","body":"<p>I really can't figure out what's going on.</p>\n<p>Here's my openapi generated class which will be doing the updating:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Consultation\n     */\n    \n    @Schema(name = &quot;Consultation&quot;, description = &quot;Consultation&quot;)\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-03-31T19:23:20.818876600+02:00[Europe/Brussels]&quot;)\n    public class Consultation   {\n    \n      @JsonProperty(&quot;publicId&quot;)\n      private UUID publicId;\n    \n      @JsonProperty(&quot;decision&quot;)\n      private Decision decision;\n    \n      @JsonProperty(&quot;consultationDate&quot;)\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n      private LocalDateTime consultationDate;\n    \n      @JsonProperty(&quot;languageCode&quot;)\n      private String languageCode;\n    \n      @JsonProperty(&quot;remoteIpAddress&quot;)\n      private String remoteIpAddress;\n    \n      @JsonProperty(&quot;remoteIpAddressCountryCode&quot;)\n      private String remoteIpAddressCountryCode;\n    \n      @JsonProperty(&quot;createdBy&quot;)\n      private String createdBy;\n    \n      @JsonProperty(&quot;createdOn&quot;)\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n      private LocalDateTime createdOn;\n    \n      @JsonProperty(&quot;modifiedBy&quot;)\n      private String modifiedBy;\n    \n      @JsonProperty(&quot;modifiedOn&quot;)\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n      private LocalDateTime modifiedOn;\n    \n      public Consultation publicId(UUID publicId) {\n        this.publicId = publicId;\n        return this;\n      }\n    \n      /**\n       * ID of the consultation\n       * @return publicId\n      */\n      @Valid \n      @Schema(name = &quot;publicId&quot;, description = &quot;ID of the consultation&quot;, required = false)\n      public UUID getPublicId() {\n        return publicId;\n      }\n    \n      public void setPublicId(UUID publicId) {\n        this.publicId = publicId;\n      }\n    \n      public Consultation decision(Decision decision) {\n        this.decision = decision;\n        return this;\n      }\n    \n      /**\n       * Get decision\n       * @return decision\n      */\n      @Valid \n      @Schema(name = &quot;decision&quot;, required = false)\n      public Decision getDecision() {\n        return decision;\n      }\n    \n      public void setDecision(Decision decision) {\n        this.decision = decision;\n      }\n    \n      public Consultation consultationDate(LocalDateTime consultationDate) {\n        this.consultationDate = consultationDate;\n        return this;\n      }\n    \n      /**\n       * date of the consultation\n       * @return consultationDate\n      */\n      @Valid \n      @Schema(name = &quot;consultationDate&quot;, description = &quot;date of the consultation&quot;, required = false)\n      public LocalDateTime getConsultationDate() {\n        return consultationDate;\n      }\n    \n      public void setConsultationDate(LocalDateTime consultationDate) {\n        this.consultationDate = consultationDate;\n      }\n    \n      public Consultation languageCode(String languageCode) {\n        this.languageCode = languageCode;\n        return this;\n      }\n    \n      /**\n       * language code of the consultation\n       * @return languageCode\n      */\n      \n      @Schema(name = &quot;languageCode&quot;, description = &quot;language code of the consultation&quot;, required = false)\n      public String getLanguageCode() {\n        return languageCode;\n      }\n    \n      public void setLanguageCode(String languageCode) {\n        this.languageCode = languageCode;\n      }\n    \n      public Consultation remoteIpAddress(String remoteIpAddress) {\n        this.remoteIpAddress = remoteIpAddress;\n        return this;\n      }\n    \n      /**\n       * IP address of the user who consulted the decision\n       * @return remoteIpAddress\n      */\n      \n      @Schema(name = &quot;remoteIpAddress&quot;, description = &quot;IP address of the user who consulted the decision&quot;, required = false)\n      public String getRemoteIpAddress() {\n        return remoteIpAddress;\n      }\n    \n      public void setRemoteIpAddress(String remoteIpAddress) {\n        this.remoteIpAddress = remoteIpAddress;\n      }\n    \n      public Consultation remoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\n        return this;\n      }\n    \n      /**\n       * Country code of the IP address of the user who consulted the decision\n       * @return remoteIpAddressCountryCode\n      */\n      \n      @Schema(name = &quot;remoteIpAddressCountryCode&quot;, description = &quot;Country code of the IP address of the user who consulted the decision&quot;, required = false)\n      public String getRemoteIpAddressCountryCode() {\n        return remoteIpAddressCountryCode;\n      }\n    \n      public void setRemoteIpAddressCountryCode(String remoteIpAddressCountryCode) {\n        this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\n      }\n    \n      public Consultation createdBy(String createdBy) {\n        this.createdBy = createdBy;\n        return this;\n      }\n    \n      /**\n       * User who created the consultation\n       * @return createdBy\n      */\n      \n      @Schema(name = &quot;createdBy&quot;, description = &quot;User who created the consultation&quot;, required = false)\n      public String getCreatedBy() {\n        return createdBy;\n      }\n    \n      public void setCreatedBy(String createdBy) {\n        this.createdBy = createdBy;\n      }\n    \n      public Consultation createdOn(LocalDateTime createdOn) {\n        this.createdOn = createdOn;\n        return this;\n      }\n    \n      /**\n       * Date when the consultation was created\n       * @return createdOn\n      */\n      @Valid \n      @Schema(name = &quot;createdOn&quot;, description = &quot;Date when the consultation was created&quot;, required = false)\n      public LocalDateTime getCreatedOn() {\n        return createdOn;\n      }\n    \n      public void setCreatedOn(LocalDateTime createdOn) {\n        this.createdOn = createdOn;\n      }\n    \n      public Consultation modifiedBy(String modifiedBy) {\n        this.modifiedBy = modifiedBy;\n        return this;\n      }\n    \n      /**\n       * User who last modified the consultation\n       * @return modifiedBy\n      */\n      \n      @Schema(name = &quot;modifiedBy&quot;, description = &quot;User who last modified the consultation&quot;, required = false)\n      public String getModifiedBy() {\n        return modifiedBy;\n      }\n    \n      public void setModifiedBy(String modifiedBy) {\n        this.modifiedBy = modifiedBy;\n      }\n    \n      public Consultation modifiedOn(LocalDateTime modifiedOn) {\n        this.modifiedOn = modifiedOn;\n        return this;\n      }\n    \n      /**\n       * Date when the consultation was last modified\n       * @return modifiedOn\n      */\n      @Valid \n      @Schema(name = &quot;modifiedOn&quot;, description = &quot;Date when the consultation was last modified&quot;, required = false)\n      public LocalDateTime getModifiedOn() {\n        return modifiedOn;\n      }\n    \n      public void setModifiedOn(LocalDateTime modifiedOn) {\n        this.modifiedOn = modifiedOn;\n      }\n    \n      @Override\n      public boolean equals(Object o) {\n        if (this == o) {\n          return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n          return false;\n        }\n        Consultation consultation = (Consultation) o;\n        return Objects.equals(this.publicId, consultation.publicId) &amp;&amp;\n            Objects.equals(this.decision, consultation.decision) &amp;&amp;\n            Objects.equals(this.consultationDate, consultation.consultationDate) &amp;&amp;\n            Objects.equals(this.languageCode, consultation.languageCode) &amp;&amp;\n            Objects.equals(this.remoteIpAddress, consultation.remoteIpAddress) &amp;&amp;\n            Objects.equals(this.remoteIpAddressCountryCode, consultation.remoteIpAddressCountryCode) &amp;&amp;\n            Objects.equals(this.createdBy, consultation.createdBy) &amp;&amp;\n            Objects.equals(this.createdOn, consultation.createdOn) &amp;&amp;\n            Objects.equals(this.modifiedBy, consultation.modifiedBy) &amp;&amp;\n            Objects.equals(this.modifiedOn, consultation.modifiedOn);\n      }\n    \n      @Override\n      public int hashCode() {\n        return Objects.hash(publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode, createdBy, createdOn, modifiedBy, modifiedOn);\n      }\n    \n      @Override\n      public String toString() {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;class Consultation {\\n&quot;);\n        sb.append(&quot;    publicId: &quot;).append(toIndentedString(publicId)).append(&quot;\\n&quot;);\n        sb.append(&quot;    decision: &quot;).append(toIndentedString(decision)).append(&quot;\\n&quot;);\n        sb.append(&quot;    consultationDate: &quot;).append(toIndentedString(consultationDate)).append(&quot;\\n&quot;);\n        sb.append(&quot;    languageCode: &quot;).append(toIndentedString(languageCode)).append(&quot;\\n&quot;);\n        sb.append(&quot;    remoteIpAddress: &quot;).append(toIndentedString(remoteIpAddress)).append(&quot;\\n&quot;);\n        sb.append(&quot;    remoteIpAddressCountryCode: &quot;).append(toIndentedString(remoteIpAddressCountryCode)).append(&quot;\\n&quot;);\n        sb.append(&quot;    createdBy: &quot;).append(toIndentedString(createdBy)).append(&quot;\\n&quot;);\n        sb.append(&quot;    createdOn: &quot;).append(toIndentedString(createdOn)).append(&quot;\\n&quot;);\n        sb.append(&quot;    modifiedBy: &quot;).append(toIndentedString(modifiedBy)).append(&quot;\\n&quot;);\n        sb.append(&quot;    modifiedOn: &quot;).append(toIndentedString(modifiedOn)).append(&quot;\\n&quot;);\n        sb.append(&quot;}&quot;);\n        return sb.toString();\n      }\n    \n      /**\n       * Convert the given object to string with each line indented by 4 spaces\n       * (except the first line).\n       */\n      private String toIndentedString(Object o) {\n        if (o == null) {\n          return &quot;null&quot;;\n        }\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n      }\n    }\n</code></pre>\n<p>The business object which will be updated by the mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ConsultationBO extends BasicData {\n        private final UUID publicId;\n    \n        private final Decision decision;\n    \n        private final LocalDateTime consultationDate;\n    \n        private final String languageCode;\n    \n        private final String remoteIpAddress;\n    \n        private final String remoteIpAddressCountryCode;\n    \n        public ConsultationBO(String createdBy,\n                              LocalDateTime createdOn,\n                              String modifiedBy,\n                              LocalDateTime modifiedOn,\n                              UUID publicId,\n                              Decision decision,\n                              LocalDateTime consultationDate,\n                              String languageCode,\n                              String remoteIpAddress,\n                              String remoteIpAddressCountryCode) {\n            super(createdBy, createdOn, modifiedBy, modifiedOn);\n            this.publicId = publicId;\n            this.decision = decision;\n            this.consultationDate = consultationDate;\n            this.languageCode = languageCode;\n            this.remoteIpAddress = remoteIpAddress;\n            this.remoteIpAddressCountryCode = remoteIpAddressCountryCode;\n        }\n    \n        public UUID getPublicId() {\n            return publicId;\n        }\n    \n        public Decision getDecision() {\n            return decision;\n        }\n    \n        public LocalDateTime getConsultationDate() {\n            return consultationDate;\n        }\n    \n        public String getLanguageCode() {\n            return languageCode;\n        }\n    \n        public String getRemoteIpAddress() {\n            return remoteIpAddress;\n        }\n    \n        public String getRemoteIpAddressCountryCode() {\n            return remoteIpAddressCountryCode;\n        }\n    }\n</code></pre>\n<p>Here's the mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Mapper\n    @Component\n    public interface ConsultationMapper {\n    \n        ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity);\n    \n        void updateConsultationLogEntityWithConsultationBO(ConsultationBO businessObject, @MappingTarget DecisionConsultationLogEntity entity);\n        DecisionConsultationLogEntity consultationBOToConsultationLogEntity(ConsultationBO businessObject);\n    \n        Consultation consultationBOToConsultationAPIModel(ConsultationBO businessObject);\n    \n    // This one isn't being implemented\n        void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, @MappingTarget ConsultationBO businessObject);\n    \n        ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel);\n    }\n</code></pre>\n<p>Here's the implementation that mapstruct is generating for the one before last mapper method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n        public void updateConsultationBOWithConsultationAPIModel(Consultation apiModel, ConsultationBO businessObject) {\n            if ( apiModel == null ) {\n                return;\n            }\n        }\n</code></pre>\n<p>There should be a whole implementation of the mapping like all the other methods who have succesfully been generated. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n        public ConsultationBO consultationAPIModelToConsultationBO(Consultation apiModel) {\n            if ( apiModel == null ) {\n                return null;\n            }\n    \n            String createdBy = null;\n            LocalDateTime createdOn = null;\n            String modifiedBy = null;\n            LocalDateTime modifiedOn = null;\n            UUID publicId = null;\n            be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\n            LocalDateTime consultationDate = null;\n            String languageCode = null;\n            String remoteIpAddress = null;\n            String remoteIpAddressCountryCode = null;\n    \n            createdBy = apiModel.getCreatedBy();\n            createdOn = apiModel.getCreatedOn();\n            modifiedBy = apiModel.getModifiedBy();\n            modifiedOn = apiModel.getModifiedOn();\n            publicId = apiModel.getPublicId();\n            decision = decisionToDecision1( apiModel.getDecision() );\n            consultationDate = apiModel.getConsultationDate();\n            languageCode = apiModel.getLanguageCode();\n            remoteIpAddress = apiModel.getRemoteIpAddress();\n            remoteIpAddressCountryCode = apiModel.getRemoteIpAddressCountryCode();\n    \n            ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\n    \n            return consultationBO;\n        }\n</code></pre>\n<p>I thought it was because the source class is generated by openapi maven generator, but it isn't a problem for any other methods. Then I thought maybe it's because there's no constructor in the generated class. But that makes no sense because that's just the source, it doesn't need to set anything on that class. My BO class which is the target, does have a constructor which should be used automatically by mapstruct, but no setters indeed. I asked my tech lead and he said to leave the class immutable.</p>\n<p>Maybe I need to specify that it should use the constructor, but that doesn't make sense either... Per the mapstruct docs:</p>\n<blockquote>\n<p>MapStruct supports using constructors for mapping target types. When\ndoing a mapping MapStruct checks if there is a builder for the type\nbeing mapped. If there is no builder, then MapStruct looks for a\nsingle accessible constructor.</p>\n</blockquote>\n<p>Also, it can find the constructor and use it in standard mappings into the BO. Here's another method it implemented correctly using the constructor of the immutable BO class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public ConsultationBO consultationLogEntityToConsultationBO(DecisionConsultationLogEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        String createdBy = null;\n        LocalDateTime createdOn = null;\n        String modifiedBy = null;\n        LocalDateTime modifiedOn = null;\n        UUID publicId = null;\n        be.fgov.just.judgment.dvaauthenticsourceapi.domain.Decision decision = null;\n        LocalDateTime consultationDate = null;\n        String languageCode = null;\n        String remoteIpAddress = null;\n        String remoteIpAddressCountryCode = null;\n\n        createdBy = entity.getCreatedBy();\n        createdOn = entity.getCreatedOn();\n        modifiedBy = entity.getModifiedBy();\n        modifiedOn = entity.getModifiedOn();\n        publicId = entity.getPublicId();\n        decision = decisionEntityToDecision( entity.getDecision() );\n        consultationDate = entity.getConsultationDate();\n        languageCode = entity.getLanguageCode();\n        remoteIpAddress = entity.getRemoteIpAddress();\n        remoteIpAddressCountryCode = entity.getRemoteIpAddressCountryCode();\n\n        ConsultationBO consultationBO = new ConsultationBO( createdBy, createdOn, modifiedBy, modifiedOn, publicId, decision, consultationDate, languageCode, remoteIpAddress, remoteIpAddressCountryCode );\n\n        return consultationBO;\n    }\n</code></pre>\n"},{"tags":["java","jakarta-ee","talend","edi","x12"],"comments":[{"owner":{"account_id":222663,"reputation":1366,"user_id":481421,"accept_rate":51,"display_name":"Leejoy"},"score":0,"creation_date":1345642747,"post_id":12073794,"comment_id":16129069,"body_markdown":"Or is there any alternative to process the above mentioned EDI transaction sets using **java code** will also be helpful.","body":"Or is there any alternative to process the above mentioned EDI transaction sets using <b>java code</b> will also be helpful."}],"answers":[{"tags":[],"owner":{"account_id":584839,"reputation":710,"user_id":251208,"display_name":"eppye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345645920,"creation_date":1345645920,"answer_id":12075430,"question_id":12073794,"body_markdown":"maybe you can integrate bots (http://bots.sourceforge.net) in Talend for these edi translations.\r\nfor AS2:\r\n- http://sourceforge.net/projects/openas2/\r\n- http://as2.mendelson-e-c.com/\r\n","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>maybe you can integrate bots (http://bots.sourceforge.net) in Talend for these edi translations.\nfor AS2:\n- <a href=\"http://sourceforge.net/projects/openas2/\" rel=\"nofollow\">http://sourceforge.net/projects/openas2/</a>\n- <a href=\"http://as2.mendelson-e-c.com/\" rel=\"nofollow\">http://as2.mendelson-e-c.com/</a></p>\n"},{"tags":[],"owner":{"account_id":187327,"reputation":2831,"user_id":425289,"accept_rate":56,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345646968,"creation_date":1345646968,"answer_id":12075784,"question_id":12073794,"body_markdown":"You may want to look at Altova&#39;s [MapForce][1].  A graphical mapper (good), but then the transform is Java code.  \r\n\r\nFor AS2, I recommend [Cleo Lexicom][2] or [Liaison ECS][3].  Both are well-established, cost effective commercial packages.  \r\n\r\n\r\n  [1]: http://www.altova.com/mapforce.html\r\n  [2]: http://www.cleo.com/data-transfer-software/\r\n  [3]: http://liaison.com/products/integrate/ecs","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>You may want to look at Altova's <a href=\"http://www.altova.com/mapforce.html\" rel=\"nofollow\">MapForce</a>.  A graphical mapper (good), but then the transform is Java code.  </p>\n\n<p>For AS2, I recommend <a href=\"http://www.cleo.com/data-transfer-software/\" rel=\"nofollow\">Cleo Lexicom</a> or <a href=\"http://liaison.com/products/integrate/ecs\" rel=\"nofollow\">Liaison ECS</a>.  Both are well-established, cost effective commercial packages.  </p>\n"},{"tags":[],"owner":{"account_id":29838,"reputation":19362,"user_id":80906,"display_name":"Francis Upton IV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345747470,"creation_date":1345747470,"answer_id":12098128,"question_id":12073794,"body_markdown":"Have a look at the [Oakland Data Transformer][1]. It handles all sorts of formats including X12 and is well integrated with the Talend ESB (Apache Camel). A number of Talend customers have used this.\r\n\r\n\r\n  [1]: http://oaklandsoftware.com/data-transformer","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>Have a look at the <a href=\"http://oaklandsoftware.com/data-transformer\" rel=\"nofollow\">Oakland Data Transformer</a>. It handles all sorts of formats including X12 and is well integrated with the Talend ESB (Apache Camel). A number of Talend customers have used this.</p>\n"},{"tags":[],"owner":{"account_id":1293628,"reputation":11570,"user_id":1245240,"accept_rate":85,"display_name":"Robert H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369162234,"creation_date":1369162234,"answer_id":16677366,"question_id":12073794,"body_markdown":"We&#39;re using Altova MapForce and Mendelson AS2 Opensource for our EDI needs. \r\n\r\nMapForce makes mapping a breeze and the Mendelson AS2 server is straight forward to setup and use. \r\n\r\nA bonus for MapForce is it allows you to export your mapping to *royalty free* Java, C#, C++, XQuery, and XSLT 1.0/2.0 code so it is an easy drop in product. \r\n\r\nI&#39;m not a huge fan of the generated code ( empty catch statements etc ) but it works and the code is available for you to edit. \r\n\r\n","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>We're using Altova MapForce and Mendelson AS2 Opensource for our EDI needs. </p>\n\n<p>MapForce makes mapping a breeze and the Mendelson AS2 server is straight forward to setup and use. </p>\n\n<p>A bonus for MapForce is it allows you to export your mapping to <em>royalty free</em> Java, C#, C++, XQuery, and XSLT 1.0/2.0 code so it is an easy drop in product. </p>\n\n<p>I'm not a huge fan of the generated code ( empty catch statements etc ) but it works and the code is available for you to edit. </p>\n"}],"owner":{"account_id":222663,"reputation":1366,"user_id":481421,"accept_rate":51,"display_name":"Leejoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2885,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1680305822,"creation_date":1345640612,"question_id":12073794,"body_markdown":"Is there any Talend component to create ANSI X12 edi file? I need to process the following EDI Transaction sets:\r\n\r\n    *846 - Inventory Inquiry/Advice\r\n    *856 - Ship Notice/Manifest\r\n    *888 - Item Maintenance\r\n    *940 - Warehouse Shipping Order\r\n    *943 - Warehouse Stock Transfer Shipment Advice\r\n    *944 - Warehouse Stock Transfer Receipt Advice\r\n    *945 - Warehouse Shipping Advice\r\n    *947 - Warehouse Inventory Adjustment Advice\r\n    *204 - Motor Carrier Load Tender\r\n    *210 - Motor Carrier Freight Details and Invoice\r\n    *212 - Motor Carrier Delivery Trailer Manifest\r\n\r\nThe EDI’s has to be sent back and forth using the AS2 standard.\r\n\r\nSince I am new to EDI and don&#39;t even know much about how to send EDI using AS2 format. \r\n\r\nThanks in advance.\r\n\r\nUpdated on Sep 3, 2012. \r\n\r\nI have found X12 parser, which is seems to be working. I was able to parse 856 EDI Transaction set. I didn&#39;t try with other formats yet. \r\n\r\nFollowing is the link :\r\n\r\nhttp://x12-parser.googlecode.com/svn/trunk/\r\n\r\nIf someone has any valuable comments or suggestion on X12 parser please post it here. \r\n\r\nThanks ","title":"Is there any Talend component to create ANSI X12 edi file?","body":"<p>Is there any Talend component to create ANSI X12 edi file? I need to process the following EDI Transaction sets:</p>\n\n<pre><code>*846 - Inventory Inquiry/Advice\n*856 - Ship Notice/Manifest\n*888 - Item Maintenance\n*940 - Warehouse Shipping Order\n*943 - Warehouse Stock Transfer Shipment Advice\n*944 - Warehouse Stock Transfer Receipt Advice\n*945 - Warehouse Shipping Advice\n*947 - Warehouse Inventory Adjustment Advice\n*204 - Motor Carrier Load Tender\n*210 - Motor Carrier Freight Details and Invoice\n*212 - Motor Carrier Delivery Trailer Manifest\n</code></pre>\n\n<p>The EDI’s has to be sent back and forth using the AS2 standard.</p>\n\n<p>Since I am new to EDI and don't even know much about how to send EDI using AS2 format. </p>\n\n<p>Thanks in advance.</p>\n\n<p>Updated on Sep 3, 2012. </p>\n\n<p>I have found X12 parser, which is seems to be working. I was able to parse 856 EDI Transaction set. I didn't try with other formats yet. </p>\n\n<p>Following is the link :</p>\n\n<p><a href=\"http://x12-parser.googlecode.com/svn/trunk/\" rel=\"nofollow\">http://x12-parser.googlecode.com/svn/trunk/</a></p>\n\n<p>If someone has any valuable comments or suggestion on X12 parser please post it here. </p>\n\n<p>Thanks </p>\n"},{"tags":["java","ssl","keytool","jce"],"comments":[{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1308043673,"post_id":6340918,"comment_id":7419211,"body_markdown":"I&#39;m not sure what you mean by &quot;The particular certificate I&#39;m importing has only a public key&quot;: is it just a public key (i.e. not a certificate) or a non-CA certificate?","body":"I&#39;m not sure what you mean by &quot;The particular certificate I&#39;m importing has only a public key&quot;: is it just a public key (i.e. not a certificate) or a non-CA certificate?"},{"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"score":0,"creation_date":1308043898,"post_id":6340918,"comment_id":7419271,"body_markdown":"hmmm, not sure. I exported from my browser as a PEM file. Does that help?","body":"hmmm, not sure. I exported from my browser as a PEM file. Does that help?"},{"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"score":0,"creation_date":1308044219,"post_id":6340918,"comment_id":7419348,"body_markdown":"If it&#39;s exported from the browser, it&#39;s probably a certificate. Is it a server certificate (with a CN or subjectAltName matching the name of a server)? Is it a CA certificate (look under Basic Constraints, you should be able to see this using your browser).","body":"If it&#39;s exported from the browser, it&#39;s probably a certificate. Is it a server certificate (with a CN or subjectAltName matching the name of a server)? Is it a CA certificate (look under Basic Constraints, you should be able to see this using your browser)."},{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":3,"creation_date":1503679669,"post_id":6340918,"comment_id":78731095,"body_markdown":"**tl;dr:** trust stores contain public, trusted, root (CA) certs, whereas identity/key stores contain private, identity certs; file-wise, however, they are the same.","body":"<b>tl;dr:</b> trust stores contain public, trusted, root (CA) certs, whereas identity/key stores contain private, identity certs; file-wise, however, they are the same."},{"owner":{"account_id":10159308,"reputation":1339,"user_id":13216387,"display_name":"Saboteur"},"score":0,"creation_date":1616688067,"post_id":6340918,"comment_id":118087232,"body_markdown":"there are no technical difference, just some logic and comfort things to separate trusted certificates from server/client certificates.","body":"there are no technical difference, just some logic and comfort things to separate trusted certificates from server/client certificates."}],"answers":[{"tags":[],"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1571902566,"creation_date":1308040527,"answer_id":6341035,"question_id":6340918,"body_markdown":"There is no difference between keystore and truststore files. Both are files in the proprietary JKS file format. The distinction is in the use: To the best of my knowledge, Java will only use the store that is referenced by the `-Djavax.net.ssl.trustStore` system property to look for certificates to trust when creating SSL connections. Same for keys and `-Djavax.net.ssl.keyStore`. But in theory it&#39;s fine to use one and the same file for trust- and keystores.","title":"Trust Store vs Key Store - creating with keytool","body":"<p>There is no difference between keystore and truststore files. Both are files in the proprietary JKS file format. The distinction is in the use: To the best of my knowledge, Java will only use the store that is referenced by the <code>-Djavax.net.ssl.trustStore</code> system property to look for certificates to trust when creating SSL connections. Same for keys and <code>-Djavax.net.ssl.keyStore</code>. But in theory it's fine to use one and the same file for trust- and keystores.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":411,"is_accepted":true,"score":411,"last_activity_date":1400691075,"creation_date":1308043582,"answer_id":6341566,"question_id":6340918,"body_markdown":"The terminology is a bit confusing indeed, but both `javax.net.ssl.keyStore` and `javax.net.ssl.trustStore` are used to specify which keystores to use, for two different purposes. Keystores come in various formats and are not even necessarily files (see [this question][1]), and `keytool` is just a tool to perform various operations on them (import/export/list/...).\r\n\r\nThe `javax.net.ssl.keyStore` and `javax.net.ssl.trustStore` parameters are the default parameters used to build `KeyManager`s and `TrustManager`s (respectively), then used to build an `SSLContext` which essentially contains the SSL/TLS settings to use when making an SSL/TLS connection via an `SSLSocketFactory` or an `SSLEngine`. These system properties are just where the default values come from, which is then used by `SSLContext.getDefault()`, itself used by `SSLSocketFactory.getDefault()` for example. (All of this can be customized via the API in a number of places, if you don&#39;t want to use the default values and that specific `SSLContext`s for a given purpose.)\r\n\r\nThe difference between the `KeyManager` and `TrustManager` (and thus between `javax.net.ssl.keyStore` and `javax.net.ssl.trustStore`) is as follows (quoted from the [JSSE ref guide][2]):\r\n\r\n&gt; TrustManager: \tDetermines whether the\r\n&gt; remote authentication credentials (and\r\n&gt; thus the connection) should be\r\n&gt; trusted.\r\n&gt; \r\n&gt; KeyManager: \tDetermines which\r\n&gt; authentication credentials to send to\r\n&gt; the remote host.\r\n\r\n(Other parameters are available and their default values are described in the [JSSE ref guide][3]. Note that while there is a default value for the trust store, there isn&#39;t one for the key store.)\r\n\r\nEssentially, the keystore in `javax.net.ssl.keyStore` is meant to contain your private keys and certificates, whereas the `javax.net.ssl.trustStore` is meant to contain the CA certificates you&#39;re willing to trust when a remote party presents its certificate. In some cases, they can be one and the same store, although it&#39;s often better practice to use distinct stores (especially when they&#39;re file-based).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6157550/question-on-java-keystores/6157716#6157716\r\n  [2]: http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#RelsTM_KM\r\n  [3]: http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Customization","title":"Trust Store vs Key Store - creating with keytool","body":"<p>The terminology is a bit confusing indeed, but both <code>javax.net.ssl.keyStore</code> and <code>javax.net.ssl.trustStore</code> are used to specify which keystores to use, for two different purposes. Keystores come in various formats and are not even necessarily files (see <a href=\"https://stackoverflow.com/questions/6157550/question-on-java-keystores/6157716#6157716\">this question</a>), and <code>keytool</code> is just a tool to perform various operations on them (import/export/list/...).</p>\n\n<p>The <code>javax.net.ssl.keyStore</code> and <code>javax.net.ssl.trustStore</code> parameters are the default parameters used to build <code>KeyManager</code>s and <code>TrustManager</code>s (respectively), then used to build an <code>SSLContext</code> which essentially contains the SSL/TLS settings to use when making an SSL/TLS connection via an <code>SSLSocketFactory</code> or an <code>SSLEngine</code>. These system properties are just where the default values come from, which is then used by <code>SSLContext.getDefault()</code>, itself used by <code>SSLSocketFactory.getDefault()</code> for example. (All of this can be customized via the API in a number of places, if you don't want to use the default values and that specific <code>SSLContext</code>s for a given purpose.)</p>\n\n<p>The difference between the <code>KeyManager</code> and <code>TrustManager</code> (and thus between <code>javax.net.ssl.keyStore</code> and <code>javax.net.ssl.trustStore</code>) is as follows (quoted from the <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#RelsTM_KM\" rel=\"noreferrer\">JSSE ref guide</a>):</p>\n\n<blockquote>\n  <p>TrustManager:     Determines whether the\n  remote authentication credentials (and\n  thus the connection) should be\n  trusted.</p>\n  \n  <p>KeyManager:   Determines which\n  authentication credentials to send to\n  the remote host.</p>\n</blockquote>\n\n<p>(Other parameters are available and their default values are described in the <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#Customization\" rel=\"noreferrer\">JSSE ref guide</a>. Note that while there is a default value for the trust store, there isn't one for the key store.)</p>\n\n<p>Essentially, the keystore in <code>javax.net.ssl.keyStore</code> is meant to contain your private keys and certificates, whereas the <code>javax.net.ssl.trustStore</code> is meant to contain the CA certificates you're willing to trust when a remote party presents its certificate. In some cases, they can be one and the same store, although it's often better practice to use distinct stores (especially when they're file-based).</p>\n"},{"tags":[],"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1550635118,"creation_date":1482401401,"answer_id":41280603,"question_id":6340918,"body_markdown":"Keystore is used by a server to store private keys, and Truststore is used by third party client to store public keys provided by server to access. I have done that in my production application. Below are the steps for generating java certificates for SSL communication:\r\n\r\n1. Generate a certificate using keygen command in windows:\r\n\r\n`keytool -genkey -keystore server.keystore -alias mycert -keyalg RSA -keysize 2048 -validity 3950`\r\n\r\n2. Self certify the certificate:\r\n\r\n`keytool -selfcert -alias mycert -keystore server.keystore -validity 3950`\r\n\r\n3. Export certificate to folder:\r\n\r\n`keytool -export -alias mycert -keystore server.keystore -rfc -file mycert.cer`\r\n\r\n4. Import Certificate into client Truststore:\r\n\r\n`keytool -importcert -alias mycert -file mycert.cer -keystore truststore`","title":"Trust Store vs Key Store - creating with keytool","body":"<p>Keystore is used by a server to store private keys, and Truststore is used by third party client to store public keys provided by server to access. I have done that in my production application. Below are the steps for generating java certificates for SSL communication:</p>\n\n<ol>\n<li>Generate a certificate using keygen command in windows:</li>\n</ol>\n\n<p><code>keytool -genkey -keystore server.keystore -alias mycert -keyalg RSA -keysize 2048 -validity 3950</code></p>\n\n<ol start=\"2\">\n<li>Self certify the certificate:</li>\n</ol>\n\n<p><code>keytool -selfcert -alias mycert -keystore server.keystore -validity 3950</code></p>\n\n<ol start=\"3\">\n<li>Export certificate to folder:</li>\n</ol>\n\n<p><code>keytool -export -alias mycert -keystore server.keystore -rfc -file mycert.cer</code></p>\n\n<ol start=\"4\">\n<li>Import Certificate into client Truststore:</li>\n</ol>\n\n<p><code>keytool -importcert -alias mycert -file mycert.cer -keystore truststore</code></p>\n"},{"tags":[],"owner":{"account_id":11978855,"reputation":33,"user_id":8765252,"display_name":"Team END_TECH"},"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1513691887,"creation_date":1513691887,"answer_id":47888598,"question_id":6340918,"body_markdown":"keystore simply stores private keys, wheras truststore stores public keys. You will want to generate a java certificate for SSL communication. You can use a keygen command in windows, this will probably be the most easy solution.","title":"Trust Store vs Key Store - creating with keytool","body":"<p>keystore simply stores private keys, wheras truststore stores public keys. You will want to generate a java certificate for SSL communication. You can use a keygen command in windows, this will probably be the most easy solution.</p>\n"},{"tags":[],"owner":{"account_id":2404390,"reputation":7871,"user_id":2101290,"accept_rate":8,"display_name":"Balaji Boggaram Ramanarayan"},"down_vote_count":0,"up_vote_count":139,"is_accepted":false,"score":139,"last_activity_date":1641810707,"creation_date":1518808343,"answer_id":48833390,"question_id":6340918,"body_markdown":"To explain in common usecase/purpose or layman way: \r\n\r\n&gt; **TrustStore** : Used to store the ***certificates***\r\n&gt; of trusted entities. A process can maintain a store of certificates of all the trusted parties\r\n&gt; which  it trusts.\r\n&gt;\r\n&gt; **keyStore** : Used to store the server ***keys*** (both public and private)\r\n&gt; along with the signed certificate.\r\n\r\nDuring the SSL handshake, \r\n\r\n1. A client tries to access https:// \r\n\r\n2. And thus, Server responds by providing a SSL certificate (which is stored in its keyStore)\r\n\r\n3. Now, the client receives the SSL certificate and verifies it via trustStore (i.e the client&#39;s trustStore already has pre-defined set of certificates which it trusts.). Its like : Can I trust this server ? Is this the same server whom I am trying to talk to ? No middle man attacks ?\r\n\r\n4. Once, the client verifies that it is talking to server which it trusts, then SSL communication can happen over a shared secret key. \r\n\r\nNote : I am not talking here anything about client authentication on server side. If a server wants to do a client authentication too, then the server also maintains a trustStore to verify client. Then it becomes mutual TLS.","title":"Trust Store vs Key Store - creating with keytool","body":"<p>To explain in common usecase/purpose or layman way:</p>\n<blockquote>\n<p><strong>TrustStore</strong> : Used to store the <em><strong>certificates</strong></em>\nof trusted entities. A process can maintain a store of certificates of all the trusted parties\nwhich  it trusts.</p>\n<p><strong>keyStore</strong> : Used to store the server <em><strong>keys</strong></em> (both public and private)\nalong with the signed certificate.</p>\n</blockquote>\n<p>During the SSL handshake,</p>\n<ol>\n<li><p>A client tries to access https://</p>\n</li>\n<li><p>And thus, Server responds by providing a SSL certificate (which is stored in its keyStore)</p>\n</li>\n<li><p>Now, the client receives the SSL certificate and verifies it via trustStore (i.e the client's trustStore already has pre-defined set of certificates which it trusts.). Its like : Can I trust this server ? Is this the same server whom I am trying to talk to ? No middle man attacks ?</p>\n</li>\n<li><p>Once, the client verifies that it is talking to server which it trusts, then SSL communication can happen over a shared secret key.</p>\n</li>\n</ol>\n<p>Note : I am not talking here anything about client authentication on server side. If a server wants to do a client authentication too, then the server also maintains a trustStore to verify client. Then it becomes mutual TLS.</p>\n"},{"tags":[],"owner":{"account_id":11155895,"reputation":1,"user_id":8187631,"display_name":"Ganesh Sha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571895908,"creation_date":1571893076,"answer_id":58534398,"question_id":6340918,"body_markdown":"These are the steps to create a Truststore in your local machine using Keytool.\r\nSteps to create truststore for a URL in your local machine.\r\n\r\n1) Hit the url in the browser using chrome\r\n\r\n2) Check for the **&quot;i&quot;** icon to the left of the url in the chrome and click it\r\n\r\n3) Check for **certificate option** and click it and a Dialog box will open\r\n\r\n4) check the **&quot;certificate path&quot; tab** for the number of certificates available to create the truststore\r\n\r\n5) Go the `&quot;details&quot; tab -&gt; click&quot;Copy to File&quot; -&gt; Give the path and the name for the certificate` you want to create.\r\n\r\n6) Check if it has parent certificates and follow the point **&quot;5&quot;**.\r\n\r\n7) After all the certificates are being create open Command Prompt and navigate to the path where you created the certificates.\r\n\r\n8) provide the below Keytool command to add the certificates and create a truststore.\r\n```\t\t\r\nSample: \r\n   keytool -import -alias abcdefg -file abcdefg.cer -keystore cacerts\r\n\t\twhere &quot;abcdefg&quot; is the alias name and &quot;abcdefg.cer&quot; is the actual certificate name and &quot;cacerts&quot; is the truststore name\r\n```\r\n\t\t\r\n9) Provide the keytool command for all the certificates and add them to the trust store.\r\n```\r\n   \tkeytool -list -v -keystore cacerts\r\n```","title":"Trust Store vs Key Store - creating with keytool","body":"<p>These are the steps to create a Truststore in your local machine using Keytool.\nSteps to create truststore for a URL in your local machine.</p>\n\n<p>1) Hit the url in the browser using chrome</p>\n\n<p>2) Check for the <strong>\"i\"</strong> icon to the left of the url in the chrome and click it</p>\n\n<p>3) Check for <strong>certificate option</strong> and click it and a Dialog box will open</p>\n\n<p>4) check the <strong>\"certificate path\" tab</strong> for the number of certificates available to create the truststore</p>\n\n<p>5) Go the <code>\"details\" tab -&gt; click\"Copy to File\" -&gt; Give the path and the name for the certificate</code> you want to create.</p>\n\n<p>6) Check if it has parent certificates and follow the point <strong>\"5\"</strong>.</p>\n\n<p>7) After all the certificates are being create open Command Prompt and navigate to the path where you created the certificates.</p>\n\n<p>8) provide the below Keytool command to add the certificates and create a truststore.</p>\n\n<pre><code>Sample: \n   keytool -import -alias abcdefg -file abcdefg.cer -keystore cacerts\n        where \"abcdefg\" is the alias name and \"abcdefg.cer\" is the actual certificate name and \"cacerts\" is the truststore name\n</code></pre>\n\n<p>9) Provide the keytool command for all the certificates and add them to the trust store.</p>\n\n<pre><code>    keytool -list -v -keystore cacerts\n</code></pre>\n"}],"owner":{"account_id":83125,"reputation":9583,"user_id":233266,"accept_rate":75,"display_name":"Toby"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300561,"favorite_count":0,"down_vote_count":0,"up_vote_count":301,"accepted_answer_id":6341566,"answer_count":6,"score":301,"last_activity_date":1680304720,"creation_date":1308039794,"question_id":6340918,"body_markdown":"I understand that the keystore would usually hold private/public keys and the trust store only public keys (and represents the list of trusted parties you intend to communicate with). Well, that&#39;s my first assumption, so if that&#39;s not correct, I probably haven&#39;t started very well...\r\n\r\n**I was interested though in understanding how / when you distinguish the stores when using keytool.**\r\n\r\nSo, far I&#39;ve created a keystore using\r\n\r\n    keytool -import -alias bob -file bob.crt -keystore keystore.ks\r\n\r\nwhich creates my keystore.ks file. I answer `yes` to the question do I trust bob but it is unclear to me if this has created a keystore file or a truststore file? I can set up my application to use the file as either.\r\n\r\n    -Djavax.net.ssl.keyStore=keystore.ks -Djavax.net.ssl.keyStorePassword=x\r\n    -Djavax.net.ssl.trustStore=keystore.ks -Djavax.net.ssl.trustStorePassword=x\r\n\r\nand with `System.setProperty( &quot;javax.net.debug&quot;, &quot;ssl&quot;)` set, I can see the certificate under trusted certifications (but not under the keystore section). The particular certificate I&#39;m importing has only a public key and I intend to use it to send stuff over an SSL connection to Bob (but perhaps that&#39;s best left for another question!).\r\n\r\nAny pointers or clarifications would be much appreciated. Is the output of keytool the same whatever you import and its just convention that says one is a keystore and the other a trust store? What&#39;s the relationship when using SSL etc?","title":"Trust Store vs Key Store - creating with keytool","body":"<p>I understand that the keystore would usually hold private/public keys and the trust store only public keys (and represents the list of trusted parties you intend to communicate with). Well, that's my first assumption, so if that's not correct, I probably haven't started very well...</p>\n\n<p><strong>I was interested though in understanding how / when you distinguish the stores when using keytool.</strong></p>\n\n<p>So, far I've created a keystore using</p>\n\n<pre><code>keytool -import -alias bob -file bob.crt -keystore keystore.ks\n</code></pre>\n\n<p>which creates my keystore.ks file. I answer <code>yes</code> to the question do I trust bob but it is unclear to me if this has created a keystore file or a truststore file? I can set up my application to use the file as either.</p>\n\n<pre><code>-Djavax.net.ssl.keyStore=keystore.ks -Djavax.net.ssl.keyStorePassword=x\n-Djavax.net.ssl.trustStore=keystore.ks -Djavax.net.ssl.trustStorePassword=x\n</code></pre>\n\n<p>and with <code>System.setProperty( \"javax.net.debug\", \"ssl\")</code> set, I can see the certificate under trusted certifications (but not under the keystore section). The particular certificate I'm importing has only a public key and I intend to use it to send stuff over an SSL connection to Bob (but perhaps that's best left for another question!).</p>\n\n<p>Any pointers or clarifications would be much appreciated. Is the output of keytool the same whatever you import and its just convention that says one is a keystore and the other a trust store? What's the relationship when using SSL etc?</p>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":11747902,"reputation":644,"user_id":8598112,"display_name":"Hamza Ince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680304489,"creation_date":1560430316,"answer_id":56580954,"question_id":56579316,"body_markdown":"I found the solution:&lt;br&gt;My mistake, (a terrible one), was, that I forgot to change the type of the mapping class for the method `xmlMapper.readValue(String content, Class&lt;T&gt; valueType)`.&lt;br&gt;&lt;br&gt;\r\nIndeed, I set the class of the mapping object as `new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {}`. You should do that to get a list, but actually, I only needed 1 object.&lt;br&gt;&lt;br&gt;\r\n\r\nI leave this answer, in case someone makes the same mistake as I did.","title":"Error while mapping xml to java using jackson: com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>I found the solution:<br>My mistake, (a terrible one), was, that I forgot to change the type of the mapping class for the method <code>xmlMapper.readValue(String content, Class&lt;T&gt; valueType)</code>.<br><br>\nIndeed, I set the class of the mapping object as <code>new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {}</code>. You should do that to get a list, but actually, I only needed 1 object.<br><br></p>\n<p>I leave this answer, in case someone makes the same mistake as I did.</p>\n"}],"owner":{"account_id":11747902,"reputation":644,"user_id":8598112,"display_name":"Hamza Ince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56580954,"answer_count":1,"score":1,"last_activity_date":1680304489,"creation_date":1560424840,"question_id":56579316,"body_markdown":"I have an xml file that I have to parse and map to a Java class:&lt;br&gt;\r\n\r\n    &lt;udm.DeployedApplication id=&quot;ID&quot; token=&quot;TOKEN&quot; created-by=&quot;AUTHOR&quot; created-at=&quot;2018-12-10T10:02:36.264+0000&quot; last-modified-by=&quot;AUTHOR&quot; last-modified-at=&quot;2019-05-21T18:16:07.492+0000&quot;&gt;\r\n        &lt;version ref=&quot;REF&quot;/&gt;\r\n        &lt;environment ref=&quot;REF2&quot;/&gt;\r\n        &lt;deployeds&gt;\r\n            &lt;ci ref=&quot;ref3&quot;/&gt;\r\n        &lt;/deployeds&gt;\r\n        &lt;orchestrator&gt;\r\n            &lt;value&gt;value1&lt;/value&gt;\r\n            &lt;value&gt;value2&lt;/value&gt;\r\n            &lt;value&gt;value3&lt;/value&gt;\r\n        &lt;/orchestrator&gt;\r\n        &lt;optimizePlan&gt;true&lt;/optimizePlan&gt;\r\n        &lt;boundConfigurationItems/&gt;\r\n        &lt;unresolvedPlaceholders/&gt;\r\n        &lt;undeployDependencies&gt;false&lt;/undeployDependencies&gt;\r\n        &lt;bpcForceUndeployment&gt;false&lt;/bpcForceUndeployment&gt;\r\n        &lt;enableAutomaticOrchestrators&gt;true&lt;/enableAutomaticOrchestrators&gt;\r\n        &lt;hotDeploy&gt;false&lt;/hotDeploy&gt;\r\n    &lt;/udm.DeployedApplication&gt;\r\n\r\n\r\n**XlDeployCi.java:**\r\n\t\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployCi {\r\n\t\t@JacksonXmlProperty(localName = &quot;id&quot;)\r\n\t\tprivate String id;\r\n\t\t@JacksonXmlProperty(localName = &quot;token&quot;)\r\n\t\tprivate String token;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-by&quot;)\r\n\t\tprivate String createdBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-at&quot;)\r\n\t\tprivate Timestamp createdAt;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-by&quot;)\r\n\t\tprivate String modifiedBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-at&quot;)\r\n\t\tprivate Timestamp modifiedAt;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;version&quot;)\r\n\t\tprivate XlDeployRef version;\r\n\t\t@JacksonXmlProperty(localName = &quot;environment&quot;)\r\n\t\tprivate XlDeployRef environment;\r\n\t\t@JacksonXmlProperty(localName = &quot;deployeds&quot;)\r\n\t\tprivate List&lt;XlDeployRef&gt; deployeds;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;orchestrator&quot;)\r\n\t\tprivate XlDeployOrchestrator orchestrator;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;boundConfigurationItems&quot;)\r\n\t\tprivate String boundConfigurationItems;\r\n\t\t@JacksonXmlProperty(localName = &quot;unresolvedPlaceholders&quot;)\r\n\t\tprivate String unresolvedPlaceholders;\r\n\t\t@JacksonXmlProperty(localName = &quot;optimizePlan&quot;)\r\n\t\tprivate Boolean optimizePlan;\r\n\t\t@JacksonXmlProperty(localName = &quot;undeployDependencies&quot;)\r\n\t\tprivate Boolean undeployDependencies;\r\n\t\t@JacksonXmlProperty(localName = &quot;bpcForceUndeployment&quot;)\r\n\t\tprivate Boolean bpcForceUndeployment;\r\n\t\t@JacksonXmlProperty(localName = &quot;enableAutomaticOrchestrators&quot;)\r\n\t\tprivate Boolean enableAutomaticOrchestrators;\r\n\t\t@JacksonXmlProperty(localName = &quot;hotDeploy&quot;)\r\n\t\tprivate Boolean hotDeploy;\r\n\t}\r\n\r\n**XlDeployRef.java:**\r\n\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployRef {\r\n\t    @JacksonXmlProperty(localName = &quot;ref&quot;)\r\n\t\tprivate String ref;\r\n\t\r\n\t\tpublic String getRef() {\r\n\t\t\treturn ref;\r\n\t\t}\r\n\t\r\n\t\tpublic void setRef(String ref) {\r\n\t\t\tthis.ref = ref;\r\n\t\t}\r\n\t}\r\n\r\n**XlDeployOrchestrator.java:**\r\n\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployOrchestrator {\r\n\t\t@JacksonXmlProperty(localName = &quot;value&quot;)\r\n\t\tprivate ArrayList &lt;String&gt; value;\r\n\t}\r\n\r\n**TestXml.java:**\r\n\t\r\n\tpublic class TestXml {\r\n\t\r\n\t\tprivate static final String FILE_PATH = &quot;src/main/resources/xmlRest.txt&quot;;\r\n\t\r\n\t\t@Test\r\n\t\tpublic void testXml() throws JsonParseException, JsonMappingException, IOException {\r\n\t\t\tString xmlFile = readFile(FILE_PATH, Charset.defaultCharset());\r\n\t\t\tXmlMapper xmlMapper = new XmlMapper();\r\n\t\r\n\t\t\txmlMapper.setDefaultUseWrapper(false);\r\n\t\t\txmlMapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n\t\r\n\t\t\tList&lt;XlDeployCi&gt; list = xmlMapper.readValue(xmlFile, new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {});\r\n\t\r\n\t\t\tlist.forEach(System.out::println);\r\n\t\t}\r\n\t\r\n\t\tprivate static String readFile(String path, Charset encoding) throws IOException {\r\n\t\t\tbyte[] encoded = Files.readAllBytes(Paths.get(path));\r\n\t\t\treturn new String(encoded, encoding);\r\n\t\t}\r\n\t}\r\n\r\n--------------\r\n\r\nThe error I get : \r\n\r\n&gt;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `package.XlDeployCi`\r\n(although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;true&#39;)&lt;br&gt;\r\n\r\n\r\n## EDIT ##\r\nI tried few things, and found something strange, I changed my xml file to :\r\n\r\n    &lt;udm.DeployedApplication id=&quot;Environments/UAT/Env/UAT-DCS_APL/dcs-application&quot; token=&quot;b3dd242b-66ff-4548-81b1-062c8a1152be&quot; created-by=&quot;ext.pcuciniello&quot; created-at=&quot;2018-12-10T10:02:36.264+0000&quot; last-modified-by=&quot;ext.pcuciniello&quot; last-modified-at=&quot;2019-05-21T18:16:07.492+0000&quot;&gt;\r\n\t    &lt;version ref=&quot;Applications/Shipping/Java/DCS/dcs-application/dcs1.8.5-20190521&quot;/&gt;\r\n\t    &lt;environment ref=&quot;Environments/UAT/Env/UAT-DCS_APL&quot;/&gt;\r\n\t    &lt;deployeds&gt;\r\n\t\t\t&lt;ci ref=&quot;Infrastructure/UAT/WEBLO/UAT_DCS_APL_DOMAIN/DCS_UAT_CLUSTER/dcs-application&quot;/&gt;\r\n\t    &lt;/deployeds&gt;\r\n\t    &lt;hotDeploy&gt;true&lt;/hotDeploy&gt;\r\n\t&lt;/udm.DeployedApplication&gt;\r\n\r\nThen, I changed the **XlDeployCi.java** file:\r\n\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class XlDeployCi {\r\n\t\t\r\n\t\t@JacksonXmlProperty(localName = &quot;id&quot;)\r\n\t\tprivate String id;\r\n\t\t@JacksonXmlProperty(localName = &quot;token&quot;)\r\n\t\tprivate String token;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-by&quot;)\r\n\t\tprivate String createdBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;created-at&quot;)\r\n\t\tprivate Timestamp createdAt;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-by&quot;)\r\n\t\tprivate String modifiedBy;\r\n\t\t@JacksonXmlProperty(localName = &quot;last-modified-at&quot;)\r\n\t\tprivate Timestamp modifiedAt;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;version&quot;)\r\n\t\tprivate XlDeployRef version;\r\n\t\t@JacksonXmlProperty(localName = &quot;environment&quot;)\r\n\t\tprivate XlDeployRef environment;\r\n\t\t@JacksonXmlProperty(localName = &quot;deployeds&quot;)\r\n\t\tprivate List&lt;XlDeployRef&gt; deployeds;\r\n\t\r\n\t\t@JacksonXmlProperty(localName = &quot;hotDeploy&quot;)\r\n\t\tpublic String hotDeploy;\r\n\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;XlDeployCi [id=&quot; + id + &quot;, token=&quot; + token + &quot;, createdBy=&quot; + createdBy + &quot;, createdAt=&quot; + createdAt\r\n\t\t\t\t\t+ &quot;, modifiedBy=&quot; + modifiedBy + &quot;, modifiedAt=&quot; + modifiedAt + &quot;, version=&quot; + version\r\n\t\t\t\t\t+ &quot;, environment=&quot; + environment + &quot;, deployeds=&quot; + deployeds + &quot;, hotDeploy=&quot; + hotDeploy + &quot;]&quot;;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n-------------\r\nThe error I get :\r\n&gt;com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `package.XlDeployCi`\r\n(although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;false&#39;)\r\n\r\n**But**, If I remove the line ``&lt;hotDeploy&gt;false&lt;/hotDeploy&gt;``, it works correctly.&lt;br&gt;\r\n\r\nIt&#39;s seems, I can&#39;t do something like `&lt;X&gt;Y&lt;/Y&gt;`, I can only do stuff like `&lt;X Y=&quot;Z&quot;/&gt;`.","title":"Error while mapping xml to java using jackson: com.fasterxml.jackson.databind.exc.MismatchedInputException","body":"<p>I have an xml file that I have to parse and map to a Java class:<br></p>\n\n<pre><code>&lt;udm.DeployedApplication id=\"ID\" token=\"TOKEN\" created-by=\"AUTHOR\" created-at=\"2018-12-10T10:02:36.264+0000\" last-modified-by=\"AUTHOR\" last-modified-at=\"2019-05-21T18:16:07.492+0000\"&gt;\n    &lt;version ref=\"REF\"/&gt;\n    &lt;environment ref=\"REF2\"/&gt;\n    &lt;deployeds&gt;\n        &lt;ci ref=\"ref3\"/&gt;\n    &lt;/deployeds&gt;\n    &lt;orchestrator&gt;\n        &lt;value&gt;value1&lt;/value&gt;\n        &lt;value&gt;value2&lt;/value&gt;\n        &lt;value&gt;value3&lt;/value&gt;\n    &lt;/orchestrator&gt;\n    &lt;optimizePlan&gt;true&lt;/optimizePlan&gt;\n    &lt;boundConfigurationItems/&gt;\n    &lt;unresolvedPlaceholders/&gt;\n    &lt;undeployDependencies&gt;false&lt;/undeployDependencies&gt;\n    &lt;bpcForceUndeployment&gt;false&lt;/bpcForceUndeployment&gt;\n    &lt;enableAutomaticOrchestrators&gt;true&lt;/enableAutomaticOrchestrators&gt;\n    &lt;hotDeploy&gt;false&lt;/hotDeploy&gt;\n&lt;/udm.DeployedApplication&gt;\n</code></pre>\n\n<p><strong>XlDeployCi.java:</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployCi {\n    @JacksonXmlProperty(localName = \"id\")\n    private String id;\n    @JacksonXmlProperty(localName = \"token\")\n    private String token;\n    @JacksonXmlProperty(localName = \"created-by\")\n    private String createdBy;\n    @JacksonXmlProperty(localName = \"created-at\")\n    private Timestamp createdAt;\n    @JacksonXmlProperty(localName = \"last-modified-by\")\n    private String modifiedBy;\n    @JacksonXmlProperty(localName = \"last-modified-at\")\n    private Timestamp modifiedAt;\n\n    @JacksonXmlProperty(localName = \"version\")\n    private XlDeployRef version;\n    @JacksonXmlProperty(localName = \"environment\")\n    private XlDeployRef environment;\n    @JacksonXmlProperty(localName = \"deployeds\")\n    private List&lt;XlDeployRef&gt; deployeds;\n\n    @JacksonXmlProperty(localName = \"orchestrator\")\n    private XlDeployOrchestrator orchestrator;\n\n    @JacksonXmlProperty(localName = \"boundConfigurationItems\")\n    private String boundConfigurationItems;\n    @JacksonXmlProperty(localName = \"unresolvedPlaceholders\")\n    private String unresolvedPlaceholders;\n    @JacksonXmlProperty(localName = \"optimizePlan\")\n    private Boolean optimizePlan;\n    @JacksonXmlProperty(localName = \"undeployDependencies\")\n    private Boolean undeployDependencies;\n    @JacksonXmlProperty(localName = \"bpcForceUndeployment\")\n    private Boolean bpcForceUndeployment;\n    @JacksonXmlProperty(localName = \"enableAutomaticOrchestrators\")\n    private Boolean enableAutomaticOrchestrators;\n    @JacksonXmlProperty(localName = \"hotDeploy\")\n    private Boolean hotDeploy;\n}\n</code></pre>\n\n<p><strong>XlDeployRef.java:</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployRef {\n    @JacksonXmlProperty(localName = \"ref\")\n    private String ref;\n\n    public String getRef() {\n        return ref;\n    }\n\n    public void setRef(String ref) {\n        this.ref = ref;\n    }\n}\n</code></pre>\n\n<p><strong>XlDeployOrchestrator.java:</strong></p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployOrchestrator {\n    @JacksonXmlProperty(localName = \"value\")\n    private ArrayList &lt;String&gt; value;\n}\n</code></pre>\n\n<p><strong>TestXml.java:</strong></p>\n\n<pre><code>public class TestXml {\n\n    private static final String FILE_PATH = \"src/main/resources/xmlRest.txt\";\n\n    @Test\n    public void testXml() throws JsonParseException, JsonMappingException, IOException {\n        String xmlFile = readFile(FILE_PATH, Charset.defaultCharset());\n        XmlMapper xmlMapper = new XmlMapper();\n\n        xmlMapper.setDefaultUseWrapper(false);\n        xmlMapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n\n        List&lt;XlDeployCi&gt; list = xmlMapper.readValue(xmlFile, new TypeReference&lt;List&lt;XlDeployCi&gt;&gt;() {});\n\n        list.forEach(System.out::println);\n    }\n\n    private static String readFile(String path, Charset encoding) throws IOException {\n        byte[] encoded = Files.readAllBytes(Paths.get(path));\n        return new String(encoded, encoding);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The error I get : </p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>package.XlDeployCi</code>\n  (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('true')<br></p>\n</blockquote>\n\n<h2>EDIT</h2>\n\n<p>I tried few things, and found something strange, I changed my xml file to :</p>\n\n<pre><code>&lt;udm.DeployedApplication id=\"Environments/UAT/Env/UAT-DCS_APL/dcs-application\" token=\"b3dd242b-66ff-4548-81b1-062c8a1152be\" created-by=\"ext.pcuciniello\" created-at=\"2018-12-10T10:02:36.264+0000\" last-modified-by=\"ext.pcuciniello\" last-modified-at=\"2019-05-21T18:16:07.492+0000\"&gt;\n    &lt;version ref=\"Applications/Shipping/Java/DCS/dcs-application/dcs1.8.5-20190521\"/&gt;\n    &lt;environment ref=\"Environments/UAT/Env/UAT-DCS_APL\"/&gt;\n    &lt;deployeds&gt;\n        &lt;ci ref=\"Infrastructure/UAT/WEBLO/UAT_DCS_APL_DOMAIN/DCS_UAT_CLUSTER/dcs-application\"/&gt;\n    &lt;/deployeds&gt;\n    &lt;hotDeploy&gt;true&lt;/hotDeploy&gt;\n&lt;/udm.DeployedApplication&gt;\n</code></pre>\n\n<p>Then, I changed the <strong>XlDeployCi.java</strong> file:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class XlDeployCi {\n\n    @JacksonXmlProperty(localName = \"id\")\n    private String id;\n    @JacksonXmlProperty(localName = \"token\")\n    private String token;\n    @JacksonXmlProperty(localName = \"created-by\")\n    private String createdBy;\n    @JacksonXmlProperty(localName = \"created-at\")\n    private Timestamp createdAt;\n    @JacksonXmlProperty(localName = \"last-modified-by\")\n    private String modifiedBy;\n    @JacksonXmlProperty(localName = \"last-modified-at\")\n    private Timestamp modifiedAt;\n\n    @JacksonXmlProperty(localName = \"version\")\n    private XlDeployRef version;\n    @JacksonXmlProperty(localName = \"environment\")\n    private XlDeployRef environment;\n    @JacksonXmlProperty(localName = \"deployeds\")\n    private List&lt;XlDeployRef&gt; deployeds;\n\n    @JacksonXmlProperty(localName = \"hotDeploy\")\n    public String hotDeploy;\n\n    @Override\n    public String toString() {\n        return \"XlDeployCi [id=\" + id + \", token=\" + token + \", createdBy=\" + createdBy + \", createdAt=\" + createdAt\n                + \", modifiedBy=\" + modifiedBy + \", modifiedAt=\" + modifiedAt + \", version=\" + version\n                + \", environment=\" + environment + \", deployeds=\" + deployeds + \", hotDeploy=\" + hotDeploy + \"]\";\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>The error I get :</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>package.XlDeployCi</code>\n  (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('false')</p>\n</blockquote>\n\n<p><strong>But</strong>, If I remove the line <code>&lt;hotDeploy&gt;false&lt;/hotDeploy&gt;</code>, it works correctly.<br></p>\n\n<p>It's seems, I can't do something like <code>&lt;X&gt;Y&lt;/Y&gt;</code>, I can only do stuff like <code>&lt;X Y=\"Z\"/&gt;</code>.</p>\n"},{"tags":["java","sum","sub-array"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680286232,"post_id":75901321,"comment_id":133878448,"body_markdown":"This looks like a problem from a programming practice or challenge site. Please provide a link to the page that presents the problem.","body":"This looks like a problem from a programming practice or challenge site. Please provide a link to the page that presents the problem."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680289245,"post_id":75901321,"comment_id":133879046,"body_markdown":"By the way, and off-topic:  In Java, an array is a reference type, and has its own `length` attribute.","body":"By the way, and off-topic:  In Java, an array is a reference type, and has its own <code>length</code> attribute."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680289385,"post_id":75901321,"comment_id":133879077,"body_markdown":"code does not *consider* a one element sub-array. What will happen if only one single value is equal to the sum? Example `{1,2,3}` and `sum=2` or even trivial `{1}` and `sum=1` (@OldDogProgrammer based on sample data, the array is not sorted; and the problem is probably stated for different languages, not just Java [my guess], so not using `length`)","body":"code does not <i>consider</i> a one element sub-array. What will happen if only one single value is equal to the sum? Example <code>{1,2,3}</code> and <code>sum=2</code> or even trivial <code>{1}</code> and <code>sum=1</code> (@OldDogProgrammer based on sample data, the array is not sorted; and the problem is probably stated for different languages, not just Java [my guess], so not using <code>length</code>)"},{"owner":{"account_id":27677588,"reputation":11,"user_id":21127063,"display_name":"Sourav Borah"},"score":1,"creation_date":1680634408,"post_id":75901321,"comment_id":133930638,"body_markdown":"https://practice.geeksforgeeks.org/problems/subarray-with-given-sum-1587115621/1?page=1&amp;difficulty[]=0&amp;category[]=Arrays&amp;sortBy=submissions this is the link to the problem @OldDogProgrammer","body":"<a href=\"https://practice.geeksforgeeks.org/problems/subarray-with-given-sum-1587115621/1?page=1&amp;difficulty[]=0&amp;category[]=Arrays&amp;sortBy=submissions\" rel=\"nofollow noreferrer\">practice.geeksforgeeks.org/problems/&hellip;</a> this is the link to the problem @OldDogProgrammer"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680652219,"post_id":75901321,"comment_id":133933790,"body_markdown":"I noticed the authors of the problem want it done in O(n). Your program runs in O(n^2).  You said your code failed for a really large set of arrays. Did your code fail because it returned the wrong answer or did it fail because it took too long to run?","body":"I noticed the authors of the problem want it done in O(n). Your program runs in O(n^2).  You said your code failed for a really large set of arrays. Did your code fail because it returned the wrong answer or did it fail because it took too long to run?"}],"answers":[{"tags":[],"owner":{"account_id":23684315,"reputation":171,"user_id":17709482,"display_name":"Johann Schwarze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680304401,"creation_date":1680304401,"answer_id":75903394,"question_id":75901321,"body_markdown":"The following code should work:\r\n\r\n```java\r\nstatic ArrayList&lt;Integer&gt; subarraySum(int[] arr, int s) {\r\n\tArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\t\r\n\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\tint sum = 0;\r\n\t\tfor (int j = i; j &lt; arr.length; j++) {\r\n\t\t\tsum += arr[j];\r\n\t\t\t\r\n\t\t\tif (s == sum) {\r\n\t\t\t\tresult.add(i+1);\r\n\t\t\t\tresult.add(j+1);\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tresult.add(-1);\r\n\treturn result;\r\n}\r\n```","title":"Continuous subarray with given sum","body":"<p>The following code should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static ArrayList&lt;Integer&gt; subarraySum(int[] arr, int s) {\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    \n    for (int i = 0; i &lt; arr.length; i++) {\n        int sum = 0;\n        for (int j = i; j &lt; arr.length; j++) {\n            sum += arr[j];\n            \n            if (s == sum) {\n                result.add(i+1);\n                result.add(j+1);\n                return result;\n            }\n        }\n    }\n    \n    result.add(-1);\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":27677588,"reputation":11,"user_id":21127063,"display_name":"Sourav Borah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680304401,"creation_date":1680284525,"question_id":75901321,"body_markdown":"I am trying to create a continuous subArray from a given array which is equal to the given sum and return the first and last index as an ArrayList. This is the solution i could think of which actually passed 52 testcases but failed for a really large set of Arrays where it is returning -1 instead.\r\n`Input -\r\narr = {1,2,3,7,5}\r\nn = 5\r\ns = 12Expected output = 2, 4`\r\n\r\n```java\r\nstatic ArrayList&lt;Integer&gt; subarraySum(int[] arr, int n, int s) {\r\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    result.add(0, -1);\r\n    for (int i = 0; i &lt; n; i++) {\r\n        int sum = arr[i];\r\n        for (int j = i+1; j &lt; n; j++) {\r\n            sum += arr[j];\r\n            if (sum == s) {\r\n                result.add(1, j+1);\r\n                result.set(0, i+1);\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```","title":"Continuous subarray with given sum","body":"<p>I am trying to create a continuous subArray from a given array which is equal to the given sum and return the first and last index as an ArrayList. This is the solution i could think of which actually passed 52 testcases but failed for a really large set of Arrays where it is returning -1 instead.\n<code>Input - arr = {1,2,3,7,5} n = 5 s = 12Expected output = 2, 4</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>static ArrayList&lt;Integer&gt; subarraySum(int[] arr, int n, int s) {\n    ArrayList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    result.add(0, -1);\n    for (int i = 0; i &lt; n; i++) {\n        int sum = arr[i];\n        for (int j = i+1; j &lt; n; j++) {\n            sum += arr[j];\n            if (sum == s) {\n                result.add(1, j+1);\n                result.set(0, i+1);\n                return result;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","postman","multipartfile"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680304988,"post_id":75903123,"comment_id":133881706,"body_markdown":"Best lookup enabling octet-stream in the server config for requests and post.","body":"Best lookup enabling octet-stream in the server config for requests and post."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680305124,"post_id":75903123,"comment_id":133881720,"body_markdown":"@SamuelMarchant How can I enabling octet-stream?","body":"@SamuelMarchant How can I enabling octet-stream?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680305180,"post_id":75903123,"comment_id":133881725,"body_markdown":"What server are you using?   Here is some of that type of way.   https://stackoverflow.com/questions/75687109/how-can-i-limit-the-body-of-a-application-octet-stream-request-in-spring-boot","body":"What server are you using?   Here is some of that type of way.   <a href=\"https://stackoverflow.com/questions/75687109/how-can-i-limit-the-body-of-a-application-octet-stream-request-in-spring-boot\" title=\"how can i limit the body of a application octet stream request in spring boot\">stackoverflow.com/questions/75687109/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680305376,"post_id":75903123,"comment_id":133881749,"body_markdown":"@SamuelMarchant Tomcat. I think there is a problem in createQrCode method.","body":"@SamuelMarchant Tomcat. I think there is a problem in createQrCode method."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680305891,"post_id":75903123,"comment_id":133881803,"body_markdown":"@SamuelMarchant When I use this option `public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException`  , it works. However, I want to send a RequestBody","body":"@SamuelMarchant When I use this option <code>public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException</code>  , it works. However, I want to send a RequestBody"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680306162,"post_id":75903123,"comment_id":133881834,"body_markdown":"From both errors it is definitely a server config issue, a QR code however may be a mime type &quot;image/png&quot;   or &quot;image/jpg&quot; what does it generate?  Too if you are sending in a request from a multiparty form, all you need to do is put &quot;the data&quot; piece through the url encoder first to make it a pseudo string. Post or Get email form &quot;data&quot; is url encoder first!  A better way of comprehending it is after all pieces are url encoder first and then joined together finally, it then has a Content-Length","body":"From both errors it is definitely a server config issue, a QR code however may be a mime type &quot;image/png&quot;   or &quot;image/jpg&quot; what does it generate?  Too if you are sending in a request from a multiparty form, all you need to do is put &quot;the data&quot; piece through the url encoder first to make it a pseudo string. Post or Get email form &quot;data&quot; is url encoder first!  A better way of comprehending it is after all pieces are url encoder first and then joined together finally, it then has a Content-Length"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680306397,"post_id":75903123,"comment_id":133881860,"body_markdown":"You then are using multiparty/form-data form type , but is the QR code image an attachment or in the body? If in the body part then it is best type text/html and in an html IMG element to use a base64 image data coding in the SRC=","body":"You then are using multiparty/form-data form type , but is the QR code image an attachment or in the body? If in the body part then it is best type text/html and in an html IMG element to use a base64 image data coding in the SRC="},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680306842,"post_id":75903123,"comment_id":133881901,"body_markdown":"@SamuelMarchant I don&#39;t think there is a server issue. The problem is related with this part `(@RequestPart CreateQrRequest request, \n                                               @RequestPart MultipartFile imageFile) `","body":"@SamuelMarchant I don&#39;t think there is a server issue. The problem is related with this part <code>(@RequestPart CreateQrRequest request,                                                 @RequestPart MultipartFile imageFile) </code>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680307657,"post_id":75903123,"comment_id":133881971,"body_markdown":"When using application/octet-stream the content-transfer-encoding would be &quot;binary&quot;. However I presume much of this is done by the system.   The answer by someone below seems credible from this tutorial.   https://www.baeldung.com/java-generating-barcodes-qr-codes","body":"When using application/octet-stream the content-transfer-encoding would be &quot;binary&quot;. However I presume much of this is done by the system.   The answer by someone below seems credible from this tutorial.   <a href=\"https://www.baeldung.com/java-generating-barcodes-qr-codes\" rel=\"nofollow noreferrer\">baeldung.com/java-generating-barcodes-qr-codes</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1680308925,"post_id":75903123,"comment_id":133882079,"body_markdown":"@SamuelMarchant I use ZXing library in my example. My issue is related with the request part with variables. `@RequestPart` didn&#39;t help me fix the issue.","body":"@SamuelMarchant I use ZXing library in my example. My issue is related with the request part with variables. <code>@RequestPart</code> didn&#39;t help me fix the issue."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680318073,"post_id":75903123,"comment_id":133882697,"body_markdown":"Not finding good api info for it , this following is in some way a Result not a requestpart @RequestPart MultipartFile.     Too, is the byte[] array returned only image data or a whole message?   Is that emailed or sent straight out http &quot;Are you writing your own annotations for this code?&quot;. E.g. Qrproductioninput     Qrproductioninputparam    Qrproductionoutput","body":"Not finding good api info for it , this following is in some way a Result not a requestpart @RequestPart MultipartFile.     Too, is the byte[] array returned only image data or a whole message?   Is that emailed or sent straight out http &quot;Are you writing your own annotations for this code?&quot;. E.g. Qrproductioninput     Qrproductioninputparam    Qrproductionoutput"}],"answers":[{"tags":[],"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680304342,"creation_date":1680304342,"answer_id":75903389,"question_id":75903123,"body_markdown":"You can change the controller like below - \r\n```java\r\n @PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException {\r\n\r\n    }\r\n```\r\nJust writing the request&#39;s attributes separately.","title":"Cannot send requestbody and Multipartfile in Controller of Spring Boot from Postman","body":"<p>You can change the controller like below -</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart String text, @RequestPart String size, @RequestPart String color, @RequestPart String backgroundColor, @RequestPart MultipartFile imageFile) throws IOException {\n\n    }\n</code></pre>\n<p>Just writing the request's attributes separately.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75903389,"answer_count":1,"score":0,"last_activity_date":1680304342,"creation_date":1680300825,"question_id":75903123,"body_markdown":"I have a problem to send requestBody and multipartFile in Controller of Spring Boot from Postman.\r\n\r\nI get this issue shown below as an image\r\n\r\n[![Image][1]][1]\r\n\r\n\r\nHere is the method of controller shown below\r\n\r\n    @PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestBody CreateQrRequest request, @RequestPart MultipartFile imageFile) throws IOException {\r\n    \r\n    }\r\n\r\nHere is **CreateQrRequest** shown below\r\n\r\n    @Data\r\n    @Builder\r\n    public class CreateQrRequest {\r\n    \r\n        @NotBlank\r\n        private String text;\r\n    \r\n        @NotBlank\r\n        private String size;\r\n    \r\n        @NotBlank\r\n        private String color;\r\n    \r\n        @NotBlank\r\n        private String backgroundColor;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O6Cx4.png\r\n\r\n\r\nHere is the error message when I tried to define the parameters like \r\n\r\n    public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart CreateQrRequest request, \r\n                                                   @RequestPart MultipartFile imageFile) throws IOException {\r\n\r\nError Message \r\n\r\n    {\r\n        &quot;type&quot;: &quot;about:blank&quot;,\r\n        &quot;title&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;status&quot;: 415,\r\n        &quot;detail&quot;: &quot;Content-Type &#39;application/octet-stream&#39; is not supported.&quot;,\r\n        &quot;instance&quot;: &quot;/api/v1/qr-generator&quot;\r\n    }\r\n\r\nHow can I fix it?","title":"Cannot send requestbody and Multipartfile in Controller of Spring Boot from Postman","body":"<p>I have a problem to send requestBody and multipartFile in Controller of Spring Boot from Postman.</p>\n<p>I get this issue shown below as an image</p>\n<p><a href=\"https://i.stack.imgur.com/O6Cx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6Cx4.png\" alt=\"Image\" /></a></p>\n<p>Here is the method of controller shown below</p>\n<pre><code>@PostMapping(produces = MediaType.IMAGE_PNG_VALUE)\npublic ResponseEntity&lt;byte[]&gt; createQrCode(@RequestBody CreateQrRequest request, @RequestPart MultipartFile imageFile) throws IOException {\n\n}\n</code></pre>\n<p>Here is <strong>CreateQrRequest</strong> shown below</p>\n<pre><code>@Data\n@Builder\npublic class CreateQrRequest {\n\n    @NotBlank\n    private String text;\n\n    @NotBlank\n    private String size;\n\n    @NotBlank\n    private String color;\n\n    @NotBlank\n    private String backgroundColor;\n}\n</code></pre>\n<p>Here is the error message when I tried to define the parameters like</p>\n<pre><code>public ResponseEntity&lt;byte[]&gt; createQrCode(@RequestPart CreateQrRequest request, \n                                               @RequestPart MultipartFile imageFile) throws IOException {\n</code></pre>\n<p>Error Message</p>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;status&quot;: 415,\n    &quot;detail&quot;: &quot;Content-Type 'application/octet-stream' is not supported.&quot;,\n    &quot;instance&quot;: &quot;/api/v1/qr-generator&quot;\n}\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","openshift"],"comments":[{"owner":{"account_id":7052109,"reputation":1400,"user_id":5400813,"display_name":"Jiri Fiala"},"score":0,"creation_date":1453293605,"post_id":34818473,"comment_id":57536886,"body_markdown":"Did you named it `ROOT.war` or `root.war` (case sensitive; you&#39;re mentioning both variants in your question)? Were there any deployment errors?","body":"Did you named it <code>ROOT.war</code> or <code>root.war</code> (case sensitive; you&#39;re mentioning both variants in your question)? Were there any deployment errors?"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1453315662,"post_id":34818473,"comment_id":57552092,"body_markdown":"@JiriFiala Thanks for looking into my question. I named it ROOT.war. There were not any deployment errors. None. I have pasted the log messages in my original post. I restarted my application to look if there are any deployment errors.","body":"@JiriFiala Thanks for looking into my question. I named it ROOT.war. There were not any deployment errors. None. I have pasted the log messages in my original post. I restarted my application to look if there are any deployment errors."},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1455644767,"post_id":34818473,"comment_id":58576832,"body_markdown":"@JiriFiala My problem is solved! Check the answer xD","body":"@JiriFiala My problem is solved! Check the answer xD"}],"answers":[{"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680304206,"creation_date":1455636291,"answer_id":35436409,"question_id":34818473,"body_markdown":"Okay now I got it. Although renaming *.war to ROOT.war was important, I was missing  .jsp file at aN important location. I added &quot;index.jsp&quot; at the root of my web application and inside it I have \r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n    &lt;c:redirect url=&quot;/main&quot; /&gt;\r\n\r\nThe main thing that&#39;s needed here is the 2nd line. It will redirect all the calls headed for http://app-domain.rhcloud.com/ to http://app-domain.rhcloud.com/main, which I actually need. I just type http://demo-farazdurrani.rhcloud.com/ and it redirects it to http://demo-farazdurrani.rhcloud.com/main\r\n\r\nFirst line is optional (not needed for my solution) and is doing this: It is a needed page that doesn&#39;t need to be involved in a session. Or if this code is specified in a JSP page, it means session objects will not be available for that page. Hence session cannot be maintained for that page. (just putting it out there not necessary for my question though).\r\n\r\nI will show you how my project structure looks like now:\r\n\r\n[![Eclipse Project Director Structure][1]][1] \r\n\r\nEarlier in the question I was asking if I need to change anything in web.xml. No I don&#39;t. Everything is fine there. \r\n\r\n  [1]: http://i.stack.imgur.com/npGxA.jpg","title":"Renamed my .war file to ROOT.war but still has to type full name + /appname","body":"<p>Okay now I got it. Although renaming *.war to ROOT.war was important, I was missing  .jsp file at aN important location. I added &quot;index.jsp&quot; at the root of my web application and inside it I have</p>\n<pre><code>&lt;%@ page session=&quot;false&quot; %&gt;\n&lt;c:redirect url=&quot;/main&quot; /&gt;\n</code></pre>\n<p>The main thing that's needed here is the 2nd line. It will redirect all the calls headed for <a href=\"http://app-domain.rhcloud.com/\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/</a> to <a href=\"http://app-domain.rhcloud.com/main\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/main</a>, which I actually need. I just type <a href=\"http://demo-farazdurrani.rhcloud.com/\" rel=\"nofollow noreferrer\">http://demo-farazdurrani.rhcloud.com/</a> and it redirects it to <a href=\"http://demo-farazdurrani.rhcloud.com/main\" rel=\"nofollow noreferrer\">http://demo-farazdurrani.rhcloud.com/main</a></p>\n<p>First line is optional (not needed for my solution) and is doing this: It is a needed page that doesn't need to be involved in a session. Or if this code is specified in a JSP page, it means session objects will not be available for that page. Hence session cannot be maintained for that page. (just putting it out there not necessary for my question though).</p>\n<p>I will show you how my project structure looks like now:</p>\n<p><a href=\"https://i.stack.imgur.com/npGxA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npGxA.jpg\" alt=\"Eclipse Project Director Structure\" /></a></p>\n<p>Earlier in the question I was asking if I need to change anything in web.xml. No I don't. Everything is fine there.</p>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35436409,"answer_count":1,"score":1,"last_activity_date":1680304206,"creation_date":1452886364,"question_id":34818473,"body_markdown":"I read here https://stackoverflow.com/questions/23977205/deploy-tomcat-application-to-root-in-openshift that by renaming your .war file to ROOT.war, you will be able to do access your website by typing this: http://app-domain.rhcloud.com/ . So I renamed it to root.war but still no changes. I still have to type http://app-domain.rhcloud.com/name-of-war-file\r\n\r\nThis is my web.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    `&lt;web-app version=&quot;3.0&quot;\r\n     xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n     metadata-complete=&quot;false&quot;&gt;\r\n\r\n    &lt;display-name&gt;Advanced Mappings Demo Application&lt;/display-name&gt;\r\n\r\n    &lt;jsp-config&gt;\r\n    &lt;jsp-property-group&gt;\r\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n        &lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\r\n        &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\r\n        &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n        &lt;include-prelude&gt;/WEB-INF/jsp/base.jspf&lt;/include-prelude&gt;\r\n        &lt;trim-directive-whitespaces&gt;true&lt;/trim-directive-whitespaces&gt;\r\n        &lt;default-content-type&gt;text/html&lt;/default-content-type&gt;\r\n    &lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\n    &lt;session-config&gt;\r\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n    &lt;cookie-config&gt;\r\n        &lt;http-only&gt;true&lt;/http-only&gt;\r\n    &lt;/cookie-config&gt;\r\n    &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n    &lt;/session-config&gt;         \r\n\r\nAnd this is my onStartUp method (I configured it programmatically):\r\n\r\n    @Override\r\n    public void onStartup(ServletContext container) throws ServletException\r\n    {\r\n    AnnotationConfigWebApplicationContext rootContext =\r\n            new AnnotationConfigWebApplicationContext();\r\n    rootContext.register(RootContextConfiguration.class);\r\n    container.addListener(new ContextLoaderListener(rootContext));\r\n\r\n    AnnotationConfigWebApplicationContext servletContext =\r\n            new AnnotationConfigWebApplicationContext();\r\n    servletContext.register(WebServletContextConfiguration.class); \r\n    ServletRegistration.Dynamic dispatcher = container.addServlet(\r\n            &quot;springDispatcher&quot;, new DispatcherServlet(servletContext)\r\n    );\r\n    dispatcher.setLoadOnStartup(1);\r\n    dispatcher.addMapping(&quot;/&quot;);\r\n    container.getServletRegistration(&quot;default&quot;).addMapping(&quot;/resources/*&quot;,   &quot;*.css&quot;, &quot;*.js&quot;, &quot;*.png&quot;, &quot;*.gif&quot;, &quot;*.jpg&quot;);\r\n\r\n    }\r\n\r\nThis is the log of my application when being deployed:\r\n\r\n[Openshift logs after restarting my application via Eclipse][1]\r\n\r\n\r\n  [1]: http://pastebin.com/5jydhNFC","title":"Renamed my .war file to ROOT.war but still has to type full name + /appname","body":"<p>I read here <a href=\"https://stackoverflow.com/questions/23977205/deploy-tomcat-application-to-root-in-openshift\">Deploy tomcat application to root in openshift</a> that by renaming your .war file to ROOT.war, you will be able to do access your website by typing this: <a href=\"http://app-domain.rhcloud.com/\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/</a> . So I renamed it to root.war but still no changes. I still have to type <a href=\"http://app-domain.rhcloud.com/name-of-war-file\" rel=\"nofollow noreferrer\">http://app-domain.rhcloud.com/name-of-war-file</a></p>\n\n<p>This is my web.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n`&lt;web-app version=\"3.0\"\n xmlns=\"http://java.sun.com/xml/ns/javaee\"\n xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n metadata-complete=\"false\"&gt;\n\n&lt;display-name&gt;Advanced Mappings Demo Application&lt;/display-name&gt;\n\n&lt;jsp-config&gt;\n&lt;jsp-property-group&gt;\n    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n    &lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\n    &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;\n    &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n    &lt;include-prelude&gt;/WEB-INF/jsp/base.jspf&lt;/include-prelude&gt;\n    &lt;trim-directive-whitespaces&gt;true&lt;/trim-directive-whitespaces&gt;\n    &lt;default-content-type&gt;text/html&lt;/default-content-type&gt;\n&lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n&lt;session-config&gt;\n&lt;session-timeout&gt;30&lt;/session-timeout&gt;\n&lt;cookie-config&gt;\n    &lt;http-only&gt;true&lt;/http-only&gt;\n&lt;/cookie-config&gt;\n&lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n&lt;/session-config&gt;         \n</code></pre>\n\n<p>And this is my onStartUp method (I configured it programmatically):</p>\n\n<pre><code>@Override\npublic void onStartup(ServletContext container) throws ServletException\n{\nAnnotationConfigWebApplicationContext rootContext =\n        new AnnotationConfigWebApplicationContext();\nrootContext.register(RootContextConfiguration.class);\ncontainer.addListener(new ContextLoaderListener(rootContext));\n\nAnnotationConfigWebApplicationContext servletContext =\n        new AnnotationConfigWebApplicationContext();\nservletContext.register(WebServletContextConfiguration.class); \nServletRegistration.Dynamic dispatcher = container.addServlet(\n        \"springDispatcher\", new DispatcherServlet(servletContext)\n);\ndispatcher.setLoadOnStartup(1);\ndispatcher.addMapping(\"/\");\ncontainer.getServletRegistration(\"default\").addMapping(\"/resources/*\",   \"*.css\", \"*.js\", \"*.png\", \"*.gif\", \"*.jpg\");\n\n}\n</code></pre>\n\n<p>This is the log of my application when being deployed:</p>\n\n<p><a href=\"http://pastebin.com/5jydhNFC\" rel=\"nofollow noreferrer\">Openshift logs after restarting my application via Eclipse</a></p>\n"},{"tags":["java","docker","integration-testing","localstack","concourse-pipeline"],"owner":{"account_id":21274423,"reputation":1,"user_id":15653457,"display_name":"nabin bhatta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680303710,"creation_date":1680303710,"question_id":75903346,"body_markdown":"I am trying to run the integration test with localstack container in pipeline. It runs fine locally but it is ignored in pipeline (Concourse). If I run the test without docker desktop, it is again ignored when I use mvn clean test command. \r\n\r\n```\r\n@Container\r\nprivate static final LocalStackContainer localstack = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:0.13.0&quot;)).withServices(LocalStackContainer.Service.SQS\r\n```\r\n\r\nI tried creating a docker image from &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test. I was expecting it to run the test since if I run &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test.","title":"Run localstack Integration test in Pipeline","body":"<p>I am trying to run the integration test with localstack container in pipeline. It runs fine locally but it is ignored in pipeline (Concourse). If I run the test without docker desktop, it is again ignored when I use mvn clean test command.</p>\n<pre><code>@Container\nprivate static final LocalStackContainer localstack = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:0.13.0&quot;)).withServices(LocalStackContainer.Service.SQS\n</code></pre>\n<p>I tried creating a docker image from &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test. I was expecting it to run the test since if I run &quot;localstack/localstack:0.13.0&quot; but it is still ignoring the test.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680303071,"creation_date":1680303071,"answer_id":75903295,"question_id":75902910,"body_markdown":"Flipping the tree order doesn&#39;t seem to have an obvious solution in MapStruct.  One option is to use MapStruct for the straightforward mapping pieces (&quot;name&quot; in this case), and use a custom mapping method for swapping the ordering:\r\n\r\n```lang-java\r\n@Mapper\r\npublic interface AToBMapper {\r\n    @Mapping(target = &quot;parent&quot;, ignore = true)\r\n    BParent parentNameOnly(A a);\r\n\r\n    @Mapping(target = &quot;parent&quot;, ignore = true)\r\n    BParent parentNameOnly(AChild a);\r\n\r\n    B parentToB(BParent b);\r\n\r\n    default B aToB(A a) {\r\n        List&lt;BParent&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(parentNameOnly(a));\r\n        for (AChild child = a.child; child != null; child = child.child) {\r\n            list.add(parentNameOnly(child));\r\n        }\r\n        Collections.reverse(list);\r\n        BParent current = list.get(0);\r\n        for (BParent next : list.subList(1, list.size())) {\r\n            current.parent = next;\r\n            current = next;\r\n        }\r\n        return parentToB(list.get(0));\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\n// Assuming A &amp; AChild each have a (String name, AChild child) constructor\r\n\r\nA a = new A(&quot;grandpa&quot;, new AChild(&quot;dad&quot;, new AChild(&quot;me&quot;, null)));\r\nB b = Mappers.getMapper(AToBMapper.class).aToB(a);\r\n```","title":"Map a reversed object with Mapstruct","body":"<p>Flipping the tree order doesn't seem to have an obvious solution in MapStruct.  One option is to use MapStruct for the straightforward mapping pieces (&quot;name&quot; in this case), and use a custom mapping method for swapping the ordering:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface AToBMapper {\n    @Mapping(target = &quot;parent&quot;, ignore = true)\n    BParent parentNameOnly(A a);\n\n    @Mapping(target = &quot;parent&quot;, ignore = true)\n    BParent parentNameOnly(AChild a);\n\n    B parentToB(BParent b);\n\n    default B aToB(A a) {\n        List&lt;BParent&gt; list = new ArrayList&lt;&gt;();\n        list.add(parentNameOnly(a));\n        for (AChild child = a.child; child != null; child = child.child) {\n            list.add(parentNameOnly(child));\n        }\n        Collections.reverse(list);\n        BParent current = list.get(0);\n        for (BParent next : list.subList(1, list.size())) {\n            current.parent = next;\n            current = next;\n        }\n        return parentToB(list.get(0));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming A &amp; AChild each have a (String name, AChild child) constructor\n\nA a = new A(&quot;grandpa&quot;, new AChild(&quot;dad&quot;, new AChild(&quot;me&quot;, null)));\nB b = Mappers.getMapper(AToBMapper.class).aToB(a);\n</code></pre>\n"}],"owner":{"account_id":28182521,"reputation":23,"user_id":21539296,"display_name":"Nathan S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75903295,"answer_count":1,"score":1,"last_activity_date":1680303071,"creation_date":1680298500,"question_id":75902910,"body_markdown":"I found nothing about this, I tried to reverse an object with Mapstruct I don&#39;t know if it&#39;s even possible or if I have to write a specific method\r\n\r\nMy objets are like this:\r\n\r\n```\r\npublic class A {\r\n    private String name;\r\n    private AChild child;\r\n}\r\npublic class AChild {\r\n    private String name;\r\n    private AChild child;\r\n}\r\n\r\npublic class B {\r\n    private String name;\r\n    private BParent parent;\r\n}\r\npublic class BParent {\r\n    private String name;\r\n    private BParent parent;\r\n}\r\n```\r\n\r\nwe would have an A like this :\r\n```\r\nA : {\r\n\tname: &quot;grandpa&quot;,\r\n\tchild: {\r\n\t\tname: &quot;dad&quot;,\r\n\t\tchild: {\r\n\t\t\tname: &quot;me&quot;,\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nand we would like this B:\r\n```\r\nB: {\r\n\tname: &quot;me&quot;,\r\n\tparent: {\r\n\t\tname: &quot;dad&quot;,\r\n\t\tparent: {\r\n\t\t\tname: &quot;grandpa&quot;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nwe could possibly have an infinite recursion\r\n\r\nThanks in advance &#128513;\r\n","title":"Map a reversed object with Mapstruct","body":"<p>I found nothing about this, I tried to reverse an object with Mapstruct I don't know if it's even possible or if I have to write a specific method</p>\n<p>My objets are like this:</p>\n<pre><code>public class A {\n    private String name;\n    private AChild child;\n}\npublic class AChild {\n    private String name;\n    private AChild child;\n}\n\npublic class B {\n    private String name;\n    private BParent parent;\n}\npublic class BParent {\n    private String name;\n    private BParent parent;\n}\n</code></pre>\n<p>we would have an A like this :</p>\n<pre><code>A : {\n    name: &quot;grandpa&quot;,\n    child: {\n        name: &quot;dad&quot;,\n        child: {\n            name: &quot;me&quot;,\n        }\n    }\n}\n</code></pre>\n<p>and we would like this B:</p>\n<pre><code>B: {\n    name: &quot;me&quot;,\n    parent: {\n        name: &quot;dad&quot;,\n        parent: {\n            name: &quot;grandpa&quot;\n        }\n    }\n}\n</code></pre>\n<p>we could possibly have an infinite recursion</p>\n<p>Thanks in advance 😁</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":6339777,"reputation":1453,"user_id":4922102,"display_name":"Lauromine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680301960,"creation_date":1680300223,"answer_id":75903066,"question_id":75902928,"body_markdown":"If I understand what you want, you want to draw the line progressively between the position clicked and the center of the screen. This can be done by using the fact that you can multiply a vector by a number to make it longer/shorter. \r\n\r\nA vector is made of a direction and a magnitude (and a position in our case)\r\nIf you multiply your vectors by 0, you get the position where the click happened.\r\nIf you multiply your vectors by 1, you have the position at the center of the screen.\r\n\r\nTo get the vector between your mouse and the center of the screen, you use the formula (Xb - Xa; Yb - Ya)\r\nA being your mouse position and B being the center of your screen.\r\n\r\nMultipling a vector by a number is easy, you multiply each component of the vector (x, y) by the number.\r\n\r\n**All you have to do is to slowly multiply each vector from 0 to 1.** (using a loop with a timeout between each iteration or something like that)\r\n\r\nFinally, you have something like that \r\n\r\n```\r\nline(mouseX, mouseY,\r\nmouseX + vectorBetweenMouseAndCenter.x * theNumberBetweenZeroAndOne,\r\nmouseY + vectorBetweenMouseAndCenter.y * theNumberBetweenZeroAndOne)\r\n```\r\n\r\nThis way, you have vectors starting from your mouse position and by playing with `theNumberBetweenZeroAndOne`, you can draw a part of it *(eg. 0.25)*, none of it *(0)* or all of it *(1)*.","title":"How can I make the vector points of each line move into the center?","body":"<p>If I understand what you want, you want to draw the line progressively between the position clicked and the center of the screen. This can be done by using the fact that you can multiply a vector by a number to make it longer/shorter.</p>\n<p>A vector is made of a direction and a magnitude (and a position in our case)\nIf you multiply your vectors by 0, you get the position where the click happened.\nIf you multiply your vectors by 1, you have the position at the center of the screen.</p>\n<p>To get the vector between your mouse and the center of the screen, you use the formula (Xb - Xa; Yb - Ya)\nA being your mouse position and B being the center of your screen.</p>\n<p>Multipling a vector by a number is easy, you multiply each component of the vector (x, y) by the number.</p>\n<p><strong>All you have to do is to slowly multiply each vector from 0 to 1.</strong> (using a loop with a timeout between each iteration or something like that)</p>\n<p>Finally, you have something like that</p>\n<pre><code>line(mouseX, mouseY,\nmouseX + vectorBetweenMouseAndCenter.x * theNumberBetweenZeroAndOne,\nmouseY + vectorBetweenMouseAndCenter.y * theNumberBetweenZeroAndOne)\n</code></pre>\n<p>This way, you have vectors starting from your mouse position and by playing with <code>theNumberBetweenZeroAndOne</code>, you can draw a part of it <em>(eg. 0.25)</em>, none of it <em>(0)</em> or all of it <em>(1)</em>.</p>\n"}],"owner":{"account_id":23395934,"reputation":135,"user_id":17459969,"display_name":"Crystallean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680301960,"creation_date":1680298743,"question_id":75902928,"body_markdown":"I was making a Java processing code that basically records where 20 of your mouse clicks and draws lines that connect the vector point of each mouse click to the center of the screen, which in this case is 600x600. I was able to create the lines but I am stuck on how I could be able to make the lines move into the center. Do you guys have any suggestions for how I could make it happen?\r\n\r\n    float[] Xcont = new float[0];\r\n    float[] Ycont = new float[0];\r\n    int clickCounter = 0;\r\n    float centerX = 300;\r\n    float centerY = 300;\r\n    float amt = 1;\r\n    \r\n    void setup(){\r\n    size(600, 600);\r\n    background(0);\r\n    }\r\n    \r\n    void draw(){ \r\n      stroke(255);\r\n      if(clickCounter == 20){\r\n        for(int i = 0; i &lt; Xcont.length; i+=1){\r\n        line(Xcont[i], Ycont[i], centerX, centerY);\r\n        circle(Xcont[i], Ycont[i], 10);\r\n        }\r\n      }\r\n    }\r\n    \r\n    void mousePressed(){\r\n    clickCounter+=1;\r\n    if(clickCounter &lt;= 20){\r\n    Xcont = append(Xcont, mouseX);\r\n    Ycont = append(Ycont, mouseY);\r\n    println(mouseX, mouseY);\r\n    }\r\n    if(clickCounter == 20){\r\n    println(Xcont);\r\n    }\r\n    }","title":"How can I make the vector points of each line move into the center?","body":"<p>I was making a Java processing code that basically records where 20 of your mouse clicks and draws lines that connect the vector point of each mouse click to the center of the screen, which in this case is 600x600. I was able to create the lines but I am stuck on how I could be able to make the lines move into the center. Do you guys have any suggestions for how I could make it happen?</p>\n<pre><code>float[] Xcont = new float[0];\nfloat[] Ycont = new float[0];\nint clickCounter = 0;\nfloat centerX = 300;\nfloat centerY = 300;\nfloat amt = 1;\n\nvoid setup(){\nsize(600, 600);\nbackground(0);\n}\n\nvoid draw(){ \n  stroke(255);\n  if(clickCounter == 20){\n    for(int i = 0; i &lt; Xcont.length; i+=1){\n    line(Xcont[i], Ycont[i], centerX, centerY);\n    circle(Xcont[i], Ycont[i], 10);\n    }\n  }\n}\n\nvoid mousePressed(){\nclickCounter+=1;\nif(clickCounter &lt;= 20){\nXcont = append(Xcont, mouseX);\nYcont = append(Ycont, mouseY);\nprintln(mouseX, mouseY);\n}\nif(clickCounter == 20){\nprintln(Xcont);\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":16858686,"reputation":51,"user_id":12190006,"display_name":"Andrea Ciccotelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680269464,"creation_date":1680269464,"answer_id":75899118,"question_id":75898955,"body_markdown":"The problem is that your back-end is not able to initialize the request body.\r\nBy default what the framework does is to:\r\n\r\n 1. it creates the instance of the request body;\r\n 2. then it is going to populate variables;\r\n 3. finally it goes into the mapped method with the builded body.\r\n\r\nIn the first step the framework is going to call the empty constructor of your body class, so if it is missing it is going to reply with a 400 error code.\r\n\r\nTo fix the problem you can simply replace the **@Builder** annotation with the **@NoArgsConstructor** in your AdminRefreshTokenRequest class.\r\nThe final body class should look like the following:\r\n\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    public class AdminRefreshTokenRequest {\r\n    \r\n        @NotBlank\r\n        private String refreshToken;\r\n    }\r\n\r\nThis should fix the problem, hope it helps.","title":"Cannot send request body to integration test method in Spring Boot JUnit (objectMapper.writeValueAsString Issue)","body":"<p>The problem is that your back-end is not able to initialize the request body.\nBy default what the framework does is to:</p>\n<ol>\n<li>it creates the instance of the request body;</li>\n<li>then it is going to populate variables;</li>\n<li>finally it goes into the mapped method with the builded body.</li>\n</ol>\n<p>In the first step the framework is going to call the empty constructor of your body class, so if it is missing it is going to reply with a 400 error code.</p>\n<p>To fix the problem you can simply replace the <strong>@Builder</strong> annotation with the <strong>@NoArgsConstructor</strong> in your AdminRefreshTokenRequest class.\nThe final body class should look like the following:</p>\n<pre><code>import jakarta.validation.constraints.NotBlank;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\npublic class AdminRefreshTokenRequest {\n\n    @NotBlank\n    private String refreshToken;\n}\n</code></pre>\n<p>This should fix the problem, hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1680300259,"creation_date":1680300259,"answer_id":75903070,"question_id":75898955,"body_markdown":"Here is the solution shown below.\r\n\r\nAfter deleting `@Builder` which is used for more than one variable, I defined both `@NoArgsConstructor` and `@AllArgsConstructor`. Next, the issue disappeared.\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class AdminRefreshTokenRequest {\r\n    \r\n        @NotBlank\r\n        private String refreshToken;\r\n    }","title":"Cannot send request body to integration test method in Spring Boot JUnit (objectMapper.writeValueAsString Issue)","body":"<p>Here is the solution shown below.</p>\n<p>After deleting <code>@Builder</code> which is used for more than one variable, I defined both <code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code>. Next, the issue disappeared.</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AdminRefreshTokenRequest {\n\n    @NotBlank\n    private String refreshToken;\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75903070,"answer_count":2,"score":1,"last_activity_date":1680300259,"creation_date":1680268355,"question_id":75898955,"body_markdown":"I have a problem to handle with sending request body to integration test in Spring Boot JUnit.\r\nI got 400 Bad Request instead of 200 Ok.\r\n\r\nHere is the AdminRefreshTokenRequest shown below\r\n\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    \r\n    @Data\r\n    @Builder\r\n    public class AdminRefreshTokenRequest {\r\n    \r\n        @NotBlank\r\n        private String refreshToken;\r\n    }\r\n\r\n\r\nHere is the refreshToken method shown below\r\n\r\n    @PostMapping(&quot;/refreshtoken&quot;)\r\n        public ResponseEntity&lt;?&gt; refreshToken(@RequestBody AdminRefreshTokenRequest refreshTokenRequest) {\r\n      .....\r\n    }\r\n\r\nHere is the relevant part of integration test method shown below\r\n\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    AdminRefreshTokenRequest refreshTokenRequest = AdminRefreshTokenRequest.builder()\r\n                    .refreshToken(&quot;RefreshToken&quot;)\r\n                    .build();\r\n    \r\n    mockMvc.perform(post(ADMIN_CONTROLLER_BASEURL + &quot;/refreshtoken&quot;)\r\n                            .contentType(&quot;application/json&quot;)\r\n                            .content(objectMapper.writeValueAsString(refreshTokenRequest)))\r\n                    .andDo(print())\r\n                    .andExpect(status().isOk())\r\n\r\nI get this issue shown below\r\n\r\n    MockHttpServletResponse:\r\n               Status = 400\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;application/problem+json&quot;]\r\n         Content type = application/problem+json\r\n                 Body = {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/api/v1/refreshtoken&quot;}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;400&gt;\r\n    Expected :200\r\n    Actual   :400\r\n\r\n\r\nThe value assigning to refreshTokenRequest in refreshToken method of controller is null when mockMvc try to call the method after I delete `@RequestBody`.\r\n\r\nHow can I fix it?\r\n\r\n\r\n","title":"Cannot send request body to integration test method in Spring Boot JUnit (objectMapper.writeValueAsString Issue)","body":"<p>I have a problem to handle with sending request body to integration test in Spring Boot JUnit.\nI got 400 Bad Request instead of 200 Ok.</p>\n<p>Here is the AdminRefreshTokenRequest shown below</p>\n<pre><code>import jakarta.validation.constraints.NotBlank;\nimport lombok.Builder;\nimport lombok.Data;\n\n@Data\n@Builder\npublic class AdminRefreshTokenRequest {\n\n    @NotBlank\n    private String refreshToken;\n}\n</code></pre>\n<p>Here is the refreshToken method shown below</p>\n<pre><code>@PostMapping(&quot;/refreshtoken&quot;)\n    public ResponseEntity&lt;?&gt; refreshToken(@RequestBody AdminRefreshTokenRequest refreshTokenRequest) {\n  .....\n}\n</code></pre>\n<p>Here is the relevant part of integration test method shown below</p>\n<pre><code>@Autowired\nprivate MockMvc mockMvc;\n@Autowired\nprivate ObjectMapper objectMapper;\n\nAdminRefreshTokenRequest refreshTokenRequest = AdminRefreshTokenRequest.builder()\n                .refreshToken(&quot;RefreshToken&quot;)\n                .build();\n\nmockMvc.perform(post(ADMIN_CONTROLLER_BASEURL + &quot;/refreshtoken&quot;)\n                        .contentType(&quot;application/json&quot;)\n                        .content(objectMapper.writeValueAsString(refreshTokenRequest)))\n                .andDo(print())\n                .andExpect(status().isOk())\n</code></pre>\n<p>I get this issue shown below</p>\n<pre><code>MockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = [Content-Type:&quot;application/problem+json&quot;]\n     Content type = application/problem+json\n             Body = {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/api/v1/refreshtoken&quot;}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;400&gt;\nExpected :200\nActual   :400\n</code></pre>\n<p>The value assigning to refreshTokenRequest in refreshToken method of controller is null when mockMvc try to call the method after I delete <code>@RequestBody</code>.</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":19519078,"reputation":172,"user_id":14281350,"display_name":"Sidharth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680204010,"creation_date":1680204010,"answer_id":75892181,"question_id":75892068,"body_markdown":"You can try\r\n\r\n    from(&quot;sftp://HOST.com:22?username=demo_user&amp;password=demo_password&quot;)\r\n\t   .to(&quot;file://src/main/resources&quot;);","title":"Apache Camel SFTP is asking for Username and Password in the console","body":"<p>You can try</p>\n<pre><code>from(&quot;sftp://HOST.com:22?username=demo_user&amp;password=demo_password&quot;)\n   .to(&quot;file://src/main/resources&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680299503,"creation_date":1680299503,"answer_id":75903001,"question_id":75892068,"body_markdown":"Finally, I got the solution.\r\nI passed a parameter - `preferredAuthentications` as `password` and after that, it&#39;s working\r\n\r\n    URI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\r\n           .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).addParameter(&quot;preferredAuthentications&quot;, &quot;password&quot;).build();","title":"Apache Camel SFTP is asking for Username and Password in the console","body":"<p>Finally, I got the solution.\nI passed a parameter - <code>preferredAuthentications</code> as <code>password</code> and after that, it's working</p>\n<pre><code>URI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\n       .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).addParameter(&quot;preferredAuthentications&quot;, &quot;password&quot;).build();\n</code></pre>\n"}],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75903001,"answer_count":2,"score":0,"last_activity_date":1680299503,"creation_date":1680203144,"question_id":75892068,"body_markdown":"Though I&#39;ve added a `username` and `password` still camel route is asking for a username and password in the console.\r\n\r\nDependency -\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.20.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;camel-ftp&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.20.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCamel Route -\r\n```\r\nURI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\r\n           .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).build();\r\n\r\nfrom(uri.toString()).to(&quot;file://src/main/resources);\r\n```\r\n\r\nAfter running this in the console it&#39;s showing - \r\n\r\n```\r\n19:01:41:158 [main] WARN o.a.c.c.file.remote.SftpOperations - JSCH\r\nKerberos username: \r\n```\r\n\r\nI want to run the application and the `username` &amp; `password` should automatically take but sadly it&#39;s not taking, any solution, please","title":"Apache Camel SFTP is asking for Username and Password in the console","body":"<p>Though I've added a <code>username</code> and <code>password</code> still camel route is asking for a username and password in the console.</p>\n<p>Dependency -</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n    &lt;version&gt;3.20.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-ftp&lt;/artifactId&gt;\n    &lt;version&gt;3.20.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Camel Route -</p>\n<pre><code>URI uri = new URIBuilder().setScheme(&quot;sftp&quot;).setHost(&quot;HOST.com&quot;).setPort(22)\n           .setUser(&quot;demo_user&quot;, &quot;demo_password&quot;).build();\n\nfrom(uri.toString()).to(&quot;file://src/main/resources);\n</code></pre>\n<p>After running this in the console it's showing -</p>\n<pre><code>19:01:41:158 [main] WARN o.a.c.c.file.remote.SftpOperations - JSCH\nKerberos username: \n</code></pre>\n<p>I want to run the application and the <code>username</code> &amp; <code>password</code> should automatically take but sadly it's not taking, any solution, please</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1487362139,"creation_date":1487362139,"answer_id":42306521,"question_id":42295252,"body_markdown":"Yes you can force MapStruct not to use those `presenceCheckers`. You can find more information in [source presence checking](http://mapstruct.org/documentation/stable/reference/html/#source-presence-check) in the documentation.\r\n\r\nBasically the only way to do this is to provide an implementation of the MapStruct [`AccessorNamingStrategy`](http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/AccessorNamingStrategy.html). You can just extend the [`DefaultAccessorNamingStrategy`](http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/DefaultAccessorNamingStrategy.html) and override its`isPresenceCheckMethod`.\r\n\r\nYou have access to the method `ExecutableElement` and you can check the type of class it is in and other things as well.\r\n\r\n    MyAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\r\n\r\n        @Override\r\n        public boolean isPresenceCheckMethod(ExecutableElement element) {\r\n            //You can do your checks here. You can ignore certain methods, from certain classes\r\n\r\n        }\r\n\r\n    \r\nRemember to register your SPI with a file `META-INF-/services/com.example.MyAccessorNamingStrategy`\r\n\r\nThere is also the [examples](https://github.com/mapstruct/mapstruct-examples) where you can find an example for the SPI.","title":"Force mapstruct not to call has* methods","body":"<p>Yes you can force MapStruct not to use those <code>presenceCheckers</code>. You can find more information in <a href=\"http://mapstruct.org/documentation/stable/reference/html/#source-presence-check\" rel=\"noreferrer\">source presence checking</a> in the documentation.</p>\n\n<p>Basically the only way to do this is to provide an implementation of the MapStruct <a href=\"http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/AccessorNamingStrategy.html\" rel=\"noreferrer\"><code>AccessorNamingStrategy</code></a>. You can just extend the <a href=\"http://mapstruct.org/documentation/stable/api/org/mapstruct/ap/spi/DefaultAccessorNamingStrategy.html\" rel=\"noreferrer\"><code>DefaultAccessorNamingStrategy</code></a> and override its<code>isPresenceCheckMethod</code>.</p>\n\n<p>You have access to the method <code>ExecutableElement</code> and you can check the type of class it is in and other things as well.</p>\n\n<pre><code>MyAccessorNamingStrategy extends DefaultAccessorNamingStrategy {\n\n    @Override\n    public boolean isPresenceCheckMethod(ExecutableElement element) {\n        //You can do your checks here. You can ignore certain methods, from certain classes\n\n    }\n</code></pre>\n\n<p>Remember to register your SPI with a file <code>META-INF-/services/com.example.MyAccessorNamingStrategy</code></p>\n\n<p>There is also the <a href=\"https://github.com/mapstruct/mapstruct-examples\" rel=\"noreferrer\">examples</a> where you can find an example for the SPI.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680295814,"creation_date":1680295814,"answer_id":75902658,"question_id":42295252,"body_markdown":"While the [answer](https://stackoverflow.com/a/42306521/1108305) that suggests providing your own `AccessorNamingStrategy` explains how to solve this in general, often disabling the source presence checker is overkill.  I think your solution of using `expression` is probably often the right answer in terms of simplicity for a one-off override.\r\n\r\n```lang-java\r\n@Mapping(target = &quot;userId&quot;, expression=&quot;java(source.getId().getUserId())&quot;)\r\nMyTargetType map(MySourceType source);\r\n```\r\n\r\nor\r\n\r\n```lang-java\r\n@Mapping(target = &quot;userId&quot;, source=&quot;id&quot;)\r\nMyTargetType map(MySourceType source);\r\n\r\ndefault String map(MySourceTypeId id) {\r\n  return id == null ? null : id.getUserId();\r\n}\r\n```","title":"Force mapstruct not to call has* methods","body":"<p>While the <a href=\"https://stackoverflow.com/a/42306521/1108305\">answer</a> that suggests providing your own <code>AccessorNamingStrategy</code> explains how to solve this in general, often disabling the source presence checker is overkill.  I think your solution of using <code>expression</code> is probably often the right answer in terms of simplicity for a one-off override.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;userId&quot;, expression=&quot;java(source.getId().getUserId())&quot;)\nMyTargetType map(MySourceType source);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;userId&quot;, source=&quot;id&quot;)\nMyTargetType map(MySourceType source);\n\ndefault String map(MySourceTypeId id) {\n  return id == null ? null : id.getUserId();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680299321,"creation_date":1680299321,"answer_id":75902987,"question_id":42295252,"body_markdown":"MapStruct is treating the `hasId()` method as a [source presence checker](https://mapstruct.org/documentation/stable/reference/html/#source-presence-check) method, only setting the `id` value if it returns `true`.\r\n\r\nIf `conditionExpression` is specified, it is used instead of the source presence checker method.  By specifying an always-true value for this, the value will always be mapped, rather than conditionally based on the result of `hasId()`.\r\n\r\n```lang-java\r\n@Mapping(target = &quot;userId&quot;, source = &quot;id.userId&quot;, conditionExpression = &quot;java(true)&quot;)\r\n```\r\n\r\nThis results in the generated code like the following:\r\n\r\n```lang-java\r\nif ( true ) {\r\n    target.setUserId( userId );\r\n}\r\n```","title":"Force mapstruct not to call has* methods","body":"<p>MapStruct is treating the <code>hasId()</code> method as a <a href=\"https://mapstruct.org/documentation/stable/reference/html/#source-presence-check\" rel=\"nofollow noreferrer\">source presence checker</a> method, only setting the <code>id</code> value if it returns <code>true</code>.</p>\n<p>If <code>conditionExpression</code> is specified, it is used instead of the source presence checker method.  By specifying an always-true value for this, the value will always be mapped, rather than conditionally based on the result of <code>hasId()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;userId&quot;, source = &quot;id.userId&quot;, conditionExpression = &quot;java(true)&quot;)\n</code></pre>\n<p>This results in the generated code like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( true ) {\n    target.setUserId( userId );\n}\n</code></pre>\n"}],"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42306521,"answer_count":3,"score":5,"last_activity_date":1680299321,"creation_date":1487326645,"question_id":42295252,"body_markdown":"I wrote a mapstruct mapper that uses a mapping like this:\r\n\r\n    @Mapping(target = &quot;userId&quot;, source = &quot;id.userId&quot;)\r\n\r\nWhen I looked at the autogenerated mapstruct class I stubled upon that code:\r\n\r\n    if ( !foobar.hasId() ) {\r\n        return null;\r\n    }\r\n\r\nThis is a problem for me as `hasId()` does not what mapstruct expects here. Can I force mapstruct somehow to not generate code that uses this method but checks for `id != null` or something?\r\n\r\nI could use a mapping like `@Mapping(target = &quot;userId&quot;, expression= &quot;java(...)&quot;)` but I think there should be another way.","title":"Force mapstruct not to call has* methods","body":"<p>I wrote a mapstruct mapper that uses a mapping like this:</p>\n\n<pre><code>@Mapping(target = \"userId\", source = \"id.userId\")\n</code></pre>\n\n<p>When I looked at the autogenerated mapstruct class I stubled upon that code:</p>\n\n<pre><code>if ( !foobar.hasId() ) {\n    return null;\n}\n</code></pre>\n\n<p>This is a problem for me as <code>hasId()</code> does not what mapstruct expects here. Can I force mapstruct somehow to not generate code that uses this method but checks for <code>id != null</code> or something?</p>\n\n<p>I could use a mapping like <code>@Mapping(target = \"userId\", expression= \"java(...)\")</code> but I think there should be another way.</p>\n"},{"tags":["java","android","sorting","arraylist"],"comments":[{"owner":{"account_id":12219925,"reputation":11,"user_id":8919266,"display_name":"Waqar"},"score":0,"creation_date":1680176925,"post_id":75886952,"comment_id":133855645,"body_markdown":"but it only works for number and not for alphabets in array","body":"but it only works for number and not for alphabets in array"}],"owner":{"account_id":12219925,"reputation":11,"user_id":8919266,"display_name":"Waqar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680179546,"answer_count":0,"score":0,"last_activity_date":1680297902,"creation_date":1680171568,"question_id":75886952,"body_markdown":"I have two array lists.  One contains the names and the second contains the ranks. I want to show rank in ascending order so names should also be arranged with respect to sorted rank. Example: according to these arrays &quot;ali&quot; has rank &quot;5&quot; now which is the first element of the array but when I will sort the rank array then &quot;5&quot; will go to 3rd place so &quot;ali&quot; should also go to 3rd place in the names array list. Please help me.  How can I arrange names array with respected to sorted rank array?  Here is my code:\r\n\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n    \r\n\r\n    ArrayAdapter nameArrayAdapter, rankArrayAdapter;\r\n    private ListView nameListView, rankListView;\r\n    ArrayList name_array_list, rank_array_list;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n\r\n\r\n        name_array_list = new ArrayList();\r\n        rank_array_list = new ArrayList();\r\n\r\n        nameListView = findViewById(R.id.listView);\r\n        rankListView = findViewById(R.id.listView1);\r\n\r\n        name_array_list.add(&quot;ali&quot;);\r\n        name_array_list.add(&quot;waqar&quot;);\r\n        name_array_list.add(&quot;zahid&quot;);\r\n        name_array_list.add(&quot;nasir&quot;);\r\n\r\n        rank_array_list.add(&quot;5&quot;); //array_list1.add(&quot;1&quot;);\r\n        rank_array_list.add(&quot;1&quot;); //array_list1.add(&quot;4&quot;);\r\n        rank_array_list.add(&quot;7&quot;); //array_list1.add(&quot;5&quot;);\r\n        rank_array_list.add(&quot;4&quot;); //array_list1.add(&quot;7&quot;);\r\n\r\n        Collections.sort(rank_array_list);\r\n\r\n        nameArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, name_array_list);\r\n        nameListView.setAdapter(nameArrayAdapter);\r\n\r\n\r\n        rankArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, rank_array_list);\r\n        rankListView.setAdapter(rankArrayAdapter);\r\n\r\n\r\n    }\r\n}\r\n```","title":"Sort array list with respect to other array list in Java Android","body":"<p>I have two array lists.  One contains the names and the second contains the ranks. I want to show rank in ascending order so names should also be arranged with respect to sorted rank. Example: according to these arrays &quot;ali&quot; has rank &quot;5&quot; now which is the first element of the array but when I will sort the rank array then &quot;5&quot; will go to 3rd place so &quot;ali&quot; should also go to 3rd place in the names array list. Please help me.  How can I arrange names array with respected to sorted rank array?  Here is my code:</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n    \n\n    ArrayAdapter nameArrayAdapter, rankArrayAdapter;\n    private ListView nameListView, rankListView;\n    ArrayList name_array_list, rank_array_list;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n\n\n        name_array_list = new ArrayList();\n        rank_array_list = new ArrayList();\n\n        nameListView = findViewById(R.id.listView);\n        rankListView = findViewById(R.id.listView1);\n\n        name_array_list.add(&quot;ali&quot;);\n        name_array_list.add(&quot;waqar&quot;);\n        name_array_list.add(&quot;zahid&quot;);\n        name_array_list.add(&quot;nasir&quot;);\n\n        rank_array_list.add(&quot;5&quot;); //array_list1.add(&quot;1&quot;);\n        rank_array_list.add(&quot;1&quot;); //array_list1.add(&quot;4&quot;);\n        rank_array_list.add(&quot;7&quot;); //array_list1.add(&quot;5&quot;);\n        rank_array_list.add(&quot;4&quot;); //array_list1.add(&quot;7&quot;);\n\n        Collections.sort(rank_array_list);\n\n        nameArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, name_array_list);\n        nameListView.setAdapter(nameArrayAdapter);\n\n\n        rankArrayAdapter = new ArrayAdapter(MainActivity2.this, android.R.layout.simple_list_item_1, rank_array_list);\n        rankListView.setAdapter(rankArrayAdapter);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","html","spring"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1680296872,"post_id":75902745,"comment_id":133880574,"body_markdown":"Could you provide a [mre] with your code?","body":"Could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your code?"},{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":0,"creation_date":1680296931,"post_id":75902745,"comment_id":133880580,"body_markdown":"If you are using spring boot 3, it doesn&#39;t support trailing slashes out of the box.","body":"If you are using spring boot 3, it doesn&#39;t support trailing slashes out of the box."},{"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"score":0,"creation_date":1680495419,"post_id":75902745,"comment_id":133902441,"body_markdown":"`&quot;/path/&quot;` and `&quot;/path&quot;` are considered two different paths in Spring Boot 3 by default. Check more about it here https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-mvc-and-webflux-url-matching-changes","body":"<code>&quot;&#47;path&#47;&quot;</code> and <code>&quot;&#47;path&quot;</code> are considered two different paths in Spring Boot 3 by default. Check more about it here <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-mvc-and-webflux-url-matching-changes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680297617,"creation_date":1680297617,"answer_id":75902825,"question_id":75902745,"body_markdown":"Your question needs some serious improvements, but here is a guess.\r\n\r\nWhat Framework: &quot;I&#39;m using Spring&quot;\r\n\r\nBased on the annotations, I think that that is a given.\r\n\r\nMy Controller has the @RequestMapping(&quot;some/resource&quot;)\r\n\r\n    @RequestMapping(&quot;some/resource&quot;)\r\n    @Controller\r\n    public class ResourceController { .... }\r\n\r\nSo, we know what is being referenced &quot;some/resource&quot;\r\n\r\nYou have an access method for &quot;some/resource&quot;\r\n\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public Result getResource() {\r\n         return someValue;\r\n    }\r\n\r\n\r\nAnd you are wondering why the additional `/` is not needed?\r\n\r\n\r\n    @GetMapping\r\n    public Result getResource() {\r\n         return someValue;\r\n    }\r\n\r\n\r\nSpring does not know what it should do, what should &quot;some/resource//&quot; deliver?\r\n\r\nThe `@GetMapping` is added to the `@ResourceMapping`. That is why it doesn&#39;t **work**, the path doesn&#39;t make any sense.","title":"Is there a reason my @GetMapping(&quot;/&quot;) doesn&#39;t work, but @GetMapping(&quot;&quot;) does work?","body":"<p>Your question needs some serious improvements, but here is a guess.</p>\n<p>What Framework: &quot;I'm using Spring&quot;</p>\n<p>Based on the annotations, I think that that is a given.</p>\n<p>My Controller has the @RequestMapping(&quot;some/resource&quot;)</p>\n<pre><code>@RequestMapping(&quot;some/resource&quot;)\n@Controller\npublic class ResourceController { .... }\n</code></pre>\n<p>So, we know what is being referenced &quot;some/resource&quot;</p>\n<p>You have an access method for &quot;some/resource&quot;</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic Result getResource() {\n     return someValue;\n}\n</code></pre>\n<p>And you are wondering why the additional <code>/</code> is not needed?</p>\n<pre><code>@GetMapping\npublic Result getResource() {\n     return someValue;\n}\n</code></pre>\n<p>Spring does not know what it should do, what should &quot;some/resource//&quot; deliver?</p>\n<p>The <code>@GetMapping</code> is added to the <code>@ResourceMapping</code>. That is why it doesn't <strong>work</strong>, the path doesn't make any sense.</p>\n"}],"owner":{"account_id":15766228,"reputation":89,"user_id":11376496,"display_name":"bynary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680297617,"creation_date":1680296793,"question_id":75902745,"body_markdown":"As stated in the question, my GetMapping only works when I do not input any parameters. I&#39;ve also had some weird errors with some PostMapping actions requiring more explicit path declarations in my form action tags. \r\n\r\nI don&#39;t know what to even reinstall if this is an issue with a faulty installation, I&#39;ve reinstalled my java and used both eclipse(spring tool suite 4) and visual studio code with no changes in the nature of the errors I&#39;m seeing. \r\n\r\nAny help greatly appreciated.","title":"Is there a reason my @GetMapping(&quot;/&quot;) doesn&#39;t work, but @GetMapping(&quot;&quot;) does work?","body":"<p>As stated in the question, my GetMapping only works when I do not input any parameters. I've also had some weird errors with some PostMapping actions requiring more explicit path declarations in my form action tags.</p>\n<p>I don't know what to even reinstall if this is an issue with a faulty installation, I've reinstalled my java and used both eclipse(spring tool suite 4) and visual studio code with no changes in the nature of the errors I'm seeing.</p>\n<p>Any help greatly appreciated.</p>\n"},{"tags":["java","android","android-studio","android-toast","android-splashscreen"],"comments":[{"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"score":0,"creation_date":1680213371,"post_id":75893226,"comment_id":133864928,"body_markdown":"Does this answer your question? [Can an Android Toast be longer than Toast.LENGTH\\_LONG?](https://stackoverflow.com/questions/2220560/can-an-android-toast-be-longer-than-toast-length-long)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2220560/can-an-android-toast-be-longer-than-toast-length-long\">Can an Android Toast be longer than Toast.LENGTH_LONG?</a>"},{"owner":{"account_id":16176496,"reputation":63,"user_id":11679021,"display_name":"Alonso"},"score":0,"creation_date":1680227181,"post_id":75893226,"comment_id":133866552,"body_markdown":"you can use Log.d(&quot;ur tag&quot;,&quot;ur message&quot;); to check if the toast had been called.","body":"you can use Log.d(&quot;ur tag&quot;,&quot;ur message&quot;); to check if the toast had been called."},{"owner":{"account_id":20202048,"reputation":3,"user_id":14817495,"display_name":"Kuzey Tekinoğlu"},"score":0,"creation_date":1680285424,"post_id":75893226,"comment_id":133878291,"body_markdown":"The problem is the emulator. It was resolved after deleting and reinstalling. Thank you for your interest.","body":"The problem is the emulator. It was resolved after deleting and reinstalling. Thank you for your interest."}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680225670,"creation_date":1680225670,"answer_id":75894125,"question_id":75893226,"body_markdown":"**By default Toast messages are visible for few seconds.**\r\n\r\n\r\n As you are using `Toast.LENGTH_SHORT` it will show for short time. If you want to have for a little longer you can use `Toast.LENGTH_LONG`.\r\n\r\nAnd for custom duration use `setDuration()` method of toast.","title":"My toast message is not appearing in the app","body":"<p><strong>By default Toast messages are visible for few seconds.</strong></p>\n<p>As you are using <code>Toast.LENGTH_SHORT</code> it will show for short time. If you want to have for a little longer you can use <code>Toast.LENGTH_LONG</code>.</p>\n<p>And for custom duration use <code>setDuration()</code> method of toast.</p>\n"},{"tags":[],"owner":{"account_id":16120041,"reputation":16,"user_id":11636224,"display_name":"Михаил Карлов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680297132,"creation_date":1680297132,"answer_id":75902775,"question_id":75893226,"body_markdown":"It seems like an emulator issue. Your toast should be displayed in any case based on code you provided.\r\n\r\nTry to:\r\n\r\n 1. Cold boot emulator\r\n 2. Test on real device\r\n 3. Delay toast showing\r\n\r\nNote: never use splash screen in this way. It&#39;s designed to be something like loading screen, not with fixed timer.\r\n\r\n","title":"My toast message is not appearing in the app","body":"<p>It seems like an emulator issue. Your toast should be displayed in any case based on code you provided.</p>\n<p>Try to:</p>\n<ol>\n<li>Cold boot emulator</li>\n<li>Test on real device</li>\n<li>Delay toast showing</li>\n</ol>\n<p>Note: never use splash screen in this way. It's designed to be something like loading screen, not with fixed timer.</p>\n"}],"owner":{"account_id":20202048,"reputation":3,"user_id":14817495,"display_name":"Kuzey Tekinoğlu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75902775,"answer_count":2,"score":0,"last_activity_date":1680297132,"creation_date":1680212532,"question_id":75893226,"body_markdown":"It was visible at first, but I don&#39;t know if it&#39;s related to the emulator, but my toast message is no longer visible. Can you help me?\r\n\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Toast;\r\n\r\n@SuppressLint(&quot;CustomSplashScreen&quot;)\r\npublic class SplashActivity extends AppCompatActivity {\r\n    private static final String PREFS_NAME = &quot;MyPrefsFile&quot;;\r\n    private static final String KEY_FIRST_TIME = &quot;first_time&quot;;\r\n\r\n    private boolean isFirstTime() {\r\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n        boolean firstTime = preferences.getBoolean(KEY_FIRST_TIME, true);\r\n        if (firstTime) {\r\n            preferences.edit().putBoolean(KEY_FIRST_TIME, false).apply();\r\n        }\r\n        return firstTime;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash);\r\n        if (isFirstTime()) {\r\n            Toast.makeText(this, &quot;Welcome&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;Hello&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        new Handler().postDelayed(() -&gt; {\r\n            Intent i = new Intent(SplashActivity.this, MainActivity.class);\r\n            startActivity(i);\r\n            finish();\r\n        }, 5000);\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nmy code is like this And as I said, the toast message appeared on the screen at first, but I don&#39;t know if I did something, but it no longer appears. Could it have something to do with xml files?\r\n\r\n","title":"My toast message is not appearing in the app","body":"<p>It was visible at first, but I don't know if it's related to the emulator, but my toast message is no longer visible. Can you help me?</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.widget.Toast;\n\n@SuppressLint(&quot;CustomSplashScreen&quot;)\npublic class SplashActivity extends AppCompatActivity {\n    private static final String PREFS_NAME = &quot;MyPrefsFile&quot;;\n    private static final String KEY_FIRST_TIME = &quot;first_time&quot;;\n\n    private boolean isFirstTime() {\n        SharedPreferences preferences = getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        boolean firstTime = preferences.getBoolean(KEY_FIRST_TIME, true);\n        if (firstTime) {\n            preferences.edit().putBoolean(KEY_FIRST_TIME, false).apply();\n        }\n        return firstTime;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n        if (isFirstTime()) {\n            Toast.makeText(this, &quot;Welcome&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Hello&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        new Handler().postDelayed(() -&gt; {\n            Intent i = new Intent(SplashActivity.this, MainActivity.class);\n            startActivity(i);\n            finish();\n        }, 5000);\n\n\n\n    }\n\n\n}\n</code></pre>\n<p>my code is like this And as I said, the toast message appeared on the screen at first, but I don't know if I did something, but it no longer appears. Could it have something to do with xml files?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680294677,"creation_date":1680294282,"answer_id":75902500,"question_id":75902385,"body_markdown":"Firstly, your `getItem` method needs a separate generic parameter to set on your `Item` parameter (I&#39;m going to use `E`). Secondly, just use [`Class#newInstance`][1]:\r\n\r\n    public static &lt;T extends Item&lt;E&gt;, E&gt; T getItem(Class&lt;T&gt; itemType)\r\n    \t\tthrows InstantiationException, IllegalAccessException {\r\n    \treturn itemType.newInstance();\r\n    }\r\n\r\nYou can also omit the `extends Item&lt;?&gt;` part entirely. While this will allow the method to instantiate instances of other types, it will still work perfectly for Item types.\r\n\r\nIf in the future you wanted to add parameters to your item constructors, you could use [`Class#getConstructor(Class&lt;?&gt;...)`][2] or [`Class#getConstructors()`][3] to find the constructor you want to use, then \r\n[`Constructor#newInstance(Object...)`][4] to create your instance. Here are two examples:\r\n\r\n\t// This example does NOT work with null arguments\r\n\tpublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Object... arguments)\r\n\t\t\tthrows NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\r\n\t\t\tIllegalArgumentException, InvocationTargetException {\r\n\t\tClass&lt;?&gt;[] parameterTypes = Arrays.stream(arguments).map(Object::getClass).toArray(Class[]::new);\r\n\t\treturn getItem(itemType, parameterTypes, arguments);\r\n\t}\r\n\r\n\t// This example works with null arguments\r\n\tpublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Class&lt;?&gt;[] parameterTypes, Object[] arguments)\r\n\t\t\tthrows NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\r\n\t\t\tIllegalArgumentException, InvocationTargetException {\r\n\t\tConstructor&lt;T&gt; constructor = itemType.getConstructor(parameterTypes);\r\n\t\treturn constructor.newInstance(arguments);\r\n\t}\r\n\t\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructors--\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-","title":"Generic method to get an instance from a class parameter","body":"<p>Firstly, your <code>getItem</code> method needs a separate generic parameter to set on your <code>Item</code> parameter (I'm going to use <code>E</code>). Secondly, just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#newInstance--\" rel=\"nofollow noreferrer\"><code>Class#newInstance</code></a>:</p>\n<pre><code>public static &lt;T extends Item&lt;E&gt;, E&gt; T getItem(Class&lt;T&gt; itemType)\n        throws InstantiationException, IllegalAccessException {\n    return itemType.newInstance();\n}\n</code></pre>\n<p>You can also omit the <code>extends Item&lt;?&gt;</code> part entirely. While this will allow the method to instantiate instances of other types, it will still work perfectly for Item types.</p>\n<p>If in the future you wanted to add parameters to your item constructors, you could use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructor-java.lang.Class...-\" rel=\"nofollow noreferrer\"><code>Class#getConstructor(Class&lt;?&gt;...)</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getConstructors--\" rel=\"nofollow noreferrer\"><code>Class#getConstructors()</code></a> to find the constructor you want to use, then\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Constructor.html#newInstance-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>Constructor#newInstance(Object...)</code></a> to create your instance. Here are two examples:</p>\n<pre><code>// This example does NOT work with null arguments\npublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Object... arguments)\n        throws NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\n        IllegalArgumentException, InvocationTargetException {\n    Class&lt;?&gt;[] parameterTypes = Arrays.stream(arguments).map(Object::getClass).toArray(Class[]::new);\n    return getItem(itemType, parameterTypes, arguments);\n}\n\n// This example works with null arguments\npublic static &lt;T&gt; T getItem(Class&lt;T&gt; itemType, Class&lt;?&gt;[] parameterTypes, Object[] arguments)\n        throws NoSuchMethodException, SecurityException, InstantiationException, IllegalAccessException,\n        IllegalArgumentException, InvocationTargetException {\n    Constructor&lt;T&gt; constructor = itemType.getConstructor(parameterTypes);\n    return constructor.newInstance(arguments);\n}\n</code></pre>\n"}],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75902500,"answer_count":1,"score":1,"last_activity_date":1680296675,"creation_date":1680293136,"question_id":75902385,"body_markdown":"I have a generic class with subclasses:\r\n\r\n    class Item&lt;T&gt;\r\n    {\r\n         //\r\n    }\r\n    \r\n    class IntItem extends Item&lt;Integer&gt;\r\n    {\r\n        //\r\n    }\r\n\r\nI need a method to get an instance of Item from its class. I tried methods like:\r\n\r\n    &lt;T extends Item&lt;T&gt;&gt; T getItem(Class&lt;T&gt; itemClass)\r\n    {\r\n      return ...\r\n    }\r\n\r\n    \r\n    &lt;T&gt; Item&lt;T&gt; getItem(Class&lt;Item&lt;T&gt;&gt; itemClass)\r\n    {\r\n        return ...\r\n    }\r\n\r\n\r\nBut it does not work:\r\n\r\n    // Does not compile: &quot;inference variable T has incompatible equality constraints Integer,IntItem&quot;\r\n    IntItem ii = getItem(IntItem.class); \r\n\r\n\r\nWhat is the correct way to do this ?\r\n\r\n\r\n**EDIT after cardinal system answer**\r\n\r\nNote that question is only related to the generics/method signatures.\r\n\r\nSame question but passing an item instance as parameter:\r\n\r\n    IntItem ii = getItem2(anIntItem); \r\n    \r\n    static &lt;T extends Item&lt;E&gt;,E&gt; T getItem(Class&lt;T&gt; itemClass)\r\n    {\r\n        return ...\r\n    }\r\n\r\n    static &lt;T extends Item&lt;E&gt;,E&gt; T getItem2(T item)\r\n    { \r\n         // Does not compile: &quot;error: incompatible types: Item cannot be converted to T&quot;\r\n         return getItem(item.getClass();\r\n    }\r\n\r\n","title":"Generic method to get an instance from a class parameter","body":"<p>I have a generic class with subclasses:</p>\n<pre><code>class Item&lt;T&gt;\n{\n     //\n}\n\nclass IntItem extends Item&lt;Integer&gt;\n{\n    //\n}\n</code></pre>\n<p>I need a method to get an instance of Item from its class. I tried methods like:</p>\n<pre><code>&lt;T extends Item&lt;T&gt;&gt; T getItem(Class&lt;T&gt; itemClass)\n{\n  return ...\n}\n\n\n&lt;T&gt; Item&lt;T&gt; getItem(Class&lt;Item&lt;T&gt;&gt; itemClass)\n{\n    return ...\n}\n</code></pre>\n<p>But it does not work:</p>\n<pre><code>// Does not compile: &quot;inference variable T has incompatible equality constraints Integer,IntItem&quot;\nIntItem ii = getItem(IntItem.class); \n</code></pre>\n<p>What is the correct way to do this ?</p>\n<p><strong>EDIT after cardinal system answer</strong></p>\n<p>Note that question is only related to the generics/method signatures.</p>\n<p>Same question but passing an item instance as parameter:</p>\n<pre><code>IntItem ii = getItem2(anIntItem); \n\nstatic &lt;T extends Item&lt;E&gt;,E&gt; T getItem(Class&lt;T&gt; itemClass)\n{\n    return ...\n}\n\nstatic &lt;T extends Item&lt;E&gt;,E&gt; T getItem2(T item)\n{ \n     // Does not compile: &quot;error: incompatible types: Item cannot be converted to T&quot;\n     return getItem(item.getClass();\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1680287117,"post_id":75901488,"comment_id":133878613,"body_markdown":"why should the last `&lt;a:b&gt;` be replaced? (and you should probably use zero-width lookahead/-behind for the delimiters)","body":"why should the last <code>&lt;a:b&gt;</code> be replaced? (and you should probably use zero-width lookahead/-behind for the delimiters)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1680287567,"post_id":75901488,"comment_id":133878712,"body_markdown":"(see [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html#pos_lookahead))","body":"(see <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html#pos_lookahead\" rel=\"nofollow noreferrer\">documentation</a>)"}],"answers":[{"tags":[],"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680288536,"creation_date":1680288536,"answer_id":75901831,"question_id":75901488,"body_markdown":"You could try a regex which explicitly matches NOT `&lt;&gt;` or `{}` around `a:b` and build your replacement using the matched groups:\r\n\r\n    String source = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;(^|[^&lt;{])(a:b)([^&gt;}]|$)&quot;);\r\n    Matcher m = pattern.matcher(source);\r\n    String output = m.replaceAll(&quot;$1x$3&quot;);","title":"Regex to replace a substring which is not contained into tags","body":"<p>You could try a regex which explicitly matches NOT <code>&lt;&gt;</code> or <code>{}</code> around <code>a:b</code> and build your replacement using the matched groups:</p>\n<pre><code>String source = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\nPattern pattern = Pattern.compile(&quot;(^|[^&lt;{])(a:b)([^&gt;}]|$)&quot;);\nMatcher m = pattern.matcher(source);\nString output = m.replaceAll(&quot;$1x$3&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680288939,"creation_date":1680288939,"answer_id":75901878,"question_id":75901488,"body_markdown":"Honestly, there&#39;s a few ways to do this &quot;really properly&quot; from a regexp perspective and they&#39;re all pretty messy. Maybe &quot;slightly less ugliest&quot; way is to use a combination of lookahead and negative lookbehind –&#160;match against `a:b` and then check that it isn&#39;t actually surrounded by `&lt;&gt;` or `{}`:\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;a:b(?=$|.(?&lt;!&lt;a:b&gt;|{a:b}))&quot;);\r\n```\r\n\r\nThe pattern breaks down as:\r\n```\r\n   a:b              # Find &quot;a:b&quot;\r\n   (?=              #&#160;but only if it is followed by ...\r\n     $ |            #&#160;the end of the string, or ...\r\n     .(?&lt;!          # the string that we just matched does NOT match ...\r\n       &lt;a:b&gt;|{a:b}  # ... either of our exempt strings.\r\n      )\r\n   )\r\n```\r\n\r\nIf you can assume that your input is well-formed and doesn&#39;t contain curly bits like `{a:b&gt;` then @tobifasc&#39;s answer is a far better alternative.","title":"Regex to replace a substring which is not contained into tags","body":"<p>Honestly, there's a few ways to do this &quot;really properly&quot; from a regexp perspective and they're all pretty messy. Maybe &quot;slightly less ugliest&quot; way is to use a combination of lookahead and negative lookbehind – match against <code>a:b</code> and then check that it isn't actually surrounded by <code>&lt;&gt;</code> or <code>{}</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;a:b(?=$|.(?&lt;!&lt;a:b&gt;|{a:b}))&quot;);\n</code></pre>\n<p>The pattern breaks down as:</p>\n<pre><code>   a:b              # Find &quot;a:b&quot;\n   (?=              # but only if it is followed by ...\n     $ |            # the end of the string, or ...\n     .(?&lt;!          # the string that we just matched does NOT match ...\n       &lt;a:b&gt;|{a:b}  # ... either of our exempt strings.\n      )\n   )\n</code></pre>\n<p>If you can assume that your input is well-formed and doesn't contain curly bits like <code>{a:b&gt;</code> then @tobifasc's answer is a far better alternative.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680293581,"creation_date":1680293041,"answer_id":75902371,"question_id":75901488,"body_markdown":"You may use this regex for matching:\r\n\r\n```sh\r\n(?&lt;!&lt;(?=...&gt;))(?&lt;!\\{(?=...}))\\ba:b\\b\r\n```\r\n\r\nand replace this with `x`.\r\n\r\n[&lt;kbd&gt;Code Demo&lt;/kbd&gt;][1]\r\n\r\n[RegEx Demo][2]\r\n\r\n\r\n**RegEx Demo:**\r\n\r\n- `(?&lt;!&lt;(?=...&gt;))`: Negative lookbehind to fail the match if we have a `&lt;` before the current position which must be followed by 3 characters (i.e. `a:b`) and `&gt;`\r\n- `(?&lt;!\\{(?=...}))`: Negative lookbehind to fail the match if we have a `{` before the current position which must be followed by 3 characters and `}`\r\n- `\\ba:b\\b`: Match `a:b` surrounded with word boundaries \r\n\r\n\r\n  [1]: https://ideone.com/LIuHz2\r\n  [2]: https://regex101.com/r/XLMFaj/1\r\n\r\n**Java Code:**\r\n\r\n\tString st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\r\n\tPattern pattern = Pattern.compile(\r\n\t\t\t&quot;(?&lt;!&lt;(?=...&gt;))(?&lt;!\\\\{(?=...}))\\\\ba:b\\\\b&quot;);\r\n\tMatcher matcher = pattern.matcher(st);\r\n\tString s2 = matcher.replaceAll(&quot;x&quot;);\r\n\tSystem.out.println(s2);","title":"Regex to replace a substring which is not contained into tags","body":"<p>You may use this regex for matching:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>(?&lt;!&lt;(?=...&gt;))(?&lt;!\\{(?=...}))\\ba:b\\b\n</code></pre>\n<p>and replace this with <code>x</code>.</p>\n<p><a href=\"https://ideone.com/LIuHz2\" rel=\"nofollow noreferrer\"><kbd>Code Demo</kbd></a></p>\n<p><a href=\"https://regex101.com/r/XLMFaj/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Demo:</strong></p>\n<ul>\n<li><code>(?&lt;!&lt;(?=...&gt;))</code>: Negative lookbehind to fail the match if we have a <code>&lt;</code> before the current position which must be followed by 3 characters (i.e. <code>a:b</code>) and <code>&gt;</code></li>\n<li><code>(?&lt;!\\{(?=...}))</code>: Negative lookbehind to fail the match if we have a <code>{</code> before the current position which must be followed by 3 characters and <code>}</code></li>\n<li><code>\\ba:b\\b</code>: Match <code>a:b</code> surrounded with word boundaries</li>\n</ul>\n<p><strong>Java Code:</strong></p>\n<pre><code>String st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\nPattern pattern = Pattern.compile(\n        &quot;(?&lt;!&lt;(?=...&gt;))(?&lt;!\\\\{(?=...}))\\\\ba:b\\\\b&quot;);\nMatcher matcher = pattern.matcher(st);\nString s2 = matcher.replaceAll(&quot;x&quot;);\nSystem.out.println(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680295972,"creation_date":1680295650,"answer_id":75902635,"question_id":75901488,"body_markdown":"I have assumed that in the example given in the question `&#39;a&#39;`, &#39;`b&#39;` and so on are placeholders and not literals. Therefore, the regular expression that works for `&#39;a:b &lt;c:d&gt;&#39;` should, without change, also work for `&#39;e:f &lt;g:h&gt;&#39;`. I have assumed it should also work for `&#39;dog_1:cat_9 {3 little pigs: and 1 big, bad wolf}&#39;` (where `&#39;dog_1:cat_9&#39;` is to be replaced with `&#39;x&#39;`), the only requirement being that the replacement strings be comprised of one or more word characters (letters, digits and underscores) followed by a colon followed by one or more word characters. \r\n\r\nYou could match the following regular expression\r\n\r\n    &lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|(\\w+:\\w+)\r\n\r\nand replace captured strings with `&#39;x&#39;`. The &quot;Demo&quot; link below considers the following two strings.\r\n\r\n    a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{ac:b} + {a:b}+d([&lt;a:b&gt;])+a:b\r\n    ccc   mmmmm   ccc  ccc  mmmmm mmmmmm   mmmmm    mmmmm   ccc    \r\n    \r\n    a bc:de &lt;b c: d e&gt; a dog:cat[de :f]\r\n      ccccc mmmmmmmmmm   ccccccc\r\n\r\nI have used `&#39;m&#39;`&#39;s to denote strings that are matched but not captured, and `&#39;c&#39;`&#39;s to denote strings that are matched *and* captured (to group 1).\r\n\r\nCaptures are to be replaced with `&#39;x&#39;`. No action is to be taken for strings that are matched but not captured.\r\n\r\nThis idea of matching, but not capturing, what you don&#39;t want and capturing only the juicy bits has been an established technique since I was a kid.\r\n\r\nNaturally, this regular expression would need to be modified if my assumptions about requirements are incorrect.\r\n\r\n----------\r\n\r\n[Demo](https://regex101.com/r/Fax9A9/1)\r\n\r\nThe regular expression has the following elements.\r\n\r\n    &lt;         match &#39;&lt;&#39;\r\n      [^&gt;:]+  match one or more characters other than &#39;&gt;&#39; and &#39;:&#39;\r\n      :       march &#39;:&#39;\r\n      [^&gt;]+   match one or more characters other than &#39;&gt;&#39;\r\n    &gt;         match &#39;&gt;&#39;\r\n    |         or\r\n    \\{        match &#39;{&#39; \r\n      [^}:]+  match one or more characters other than &#39;}&#39; and &#39;:&#39;\r\n      :       march &#39;:&#39;\r\n      [^}]+   match one or more characters other than &#39;}&#39;\r\n    }         match &#39;}&#39;\r\n    |         or\r\n    (         begin capture group 1\r\n      \\w+     match one or more word characters\r\n      :       march &#39;:&#39;\r\n      \\w+     match one or more word characters\r\n    )         end capture group 1\r\n\r\n\r\n----------\r\n\r\nOne may alternatively match the same regular expression without the capture group,\r\n\r\n    &lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|\\w+:\\w+\r\n\r\nand replace (with &#39;x&#39;) those matches that begin with a word character.\r\n","title":"Regex to replace a substring which is not contained into tags","body":"<p>I have assumed that in the example given in the question <code>'a'</code>, '<code>b'</code> and so on are placeholders and not literals. Therefore, the regular expression that works for <code>'a:b &lt;c:d&gt;'</code> should, without change, also work for <code>'e:f &lt;g:h&gt;'</code>. I have assumed it should also work for <code>'dog_1:cat_9 {3 little pigs: and 1 big, bad wolf}'</code> (where <code>'dog_1:cat_9'</code> is to be replaced with <code>'x'</code>), the only requirement being that the replacement strings be comprised of one or more word characters (letters, digits and underscores) followed by a colon followed by one or more word characters.</p>\n<p>You could match the following regular expression</p>\n<pre><code>&lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|(\\w+:\\w+)\n</code></pre>\n<p>and replace captured strings with <code>'x'</code>. The &quot;Demo&quot; link below considers the following two strings.</p>\n<pre><code>a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{ac:b} + {a:b}+d([&lt;a:b&gt;])+a:b\nccc   mmmmm   ccc  ccc  mmmmm mmmmmm   mmmmm    mmmmm   ccc    \n\na bc:de &lt;b c: d e&gt; a dog:cat[de :f]\n  ccccc mmmmmmmmmm   ccccccc\n</code></pre>\n<p>I have used <code>'m'</code>'s to denote strings that are matched but not captured, and <code>'c'</code>'s to denote strings that are matched <em>and</em> captured (to group 1).</p>\n<p>Captures are to be replaced with <code>'x'</code>. No action is to be taken for strings that are matched but not captured.</p>\n<p>This idea of matching, but not capturing, what you don't want and capturing only the juicy bits has been an established technique since I was a kid.</p>\n<p>Naturally, this regular expression would need to be modified if my assumptions about requirements are incorrect.</p>\n<hr />\n<p><a href=\"https://regex101.com/r/Fax9A9/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>The regular expression has the following elements.</p>\n<pre><code>&lt;         match '&lt;'\n  [^&gt;:]+  match one or more characters other than '&gt;' and ':'\n  :       march ':'\n  [^&gt;]+   match one or more characters other than '&gt;'\n&gt;         match '&gt;'\n|         or\n\\{        match '{' \n  [^}:]+  match one or more characters other than '}' and ':'\n  :       march ':'\n  [^}]+   match one or more characters other than '}'\n}         match '}'\n|         or\n(         begin capture group 1\n  \\w+     match one or more word characters\n  :       march ':'\n  \\w+     match one or more word characters\n)         end capture group 1\n</code></pre>\n<hr />\n<p>One may alternatively match the same regular expression without the capture group,</p>\n<pre><code>&lt;[^&gt;:]+:[^&gt;]+&gt;|\\{[^}:]+:[^}]+}|\\w+:\\w+\n</code></pre>\n<p>and replace (with 'x') those matches that begin with a word character.</p>\n"},{"tags":[],"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680296442,"creation_date":1680296442,"answer_id":75902708,"question_id":75901488,"body_markdown":"With Java not having conditionals, both pairs need to be explicitly excluded.  \r\n\r\n    a:b(?&lt;!&lt;a:b(?=&gt;))(?&lt;!\\{a:b(?=}))\r\n\r\nhttps://regex101.com/r/DzBzgq/1\r\n\r\n     a:b\r\n     (?&lt;!\r\n        &lt;a:b\r\n        (?= &gt; )\r\n     )\r\n     (?&lt;!\r\n        \\{a:b\r\n        (?= } )\r\n     )\r\n     \r\n","title":"Regex to replace a substring which is not contained into tags","body":"<p>With Java not having conditionals, both pairs need to be explicitly excluded.</p>\n<pre><code>a:b(?&lt;!&lt;a:b(?=&gt;))(?&lt;!\\{a:b(?=}))\n</code></pre>\n<p><a href=\"https://regex101.com/r/DzBzgq/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/DzBzgq/1</a></p>\n<pre><code> a:b\n (?&lt;!\n    &lt;a:b\n    (?= &gt; )\n )\n (?&lt;!\n    \\{a:b\n    (?= } )\n )\n \n</code></pre>\n"}],"owner":{"account_id":220124,"reputation":1508,"user_id":477372,"accept_rate":39,"display_name":"Fab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1680296442,"creation_date":1680285917,"question_id":75901488,"body_markdown":"In the following string:\r\n\r\n```a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}```\r\n\r\nI have to replace a:b when not contained in &lt;&gt; or {}, a:b can be contained in spaces or operators, hence the expected result should be:\r\n\r\n```x + &lt;a:b&gt; + x +x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+x * x + {a:b}```\r\n\r\nI&#39;m using the following regex:\r\n\r\n\r\n``` (^|[^&lt;^{])a:b```\r\n\r\nand the following code:\r\n\r\n```\r\nString st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\r\n\t\r\nPattern pattern = Pattern.compile(&quot;(^|[^&lt;^{])a:b&quot;);\r\nMatcher matcher = pattern.matcher(st);\r\n\t\t\r\nString s2 = matcher.replaceAll(&quot;x&quot;);\r\n\r\n```\r\n\r\nbut I get:\r\n\r\n```x + &lt;a:b&gt; +x x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])x * + &lt;a:b&gt; + {a:b}```\r\n\r\nHow can I avoid to replace spaces and operators?","title":"Regex to replace a substring which is not contained into tags","body":"<p>In the following string:</p>\n<p><code>a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}</code></p>\n<p>I have to replace a:b when not contained in &lt;&gt; or {}, a:b can be contained in spaces or operators, hence the expected result should be:</p>\n<p><code>x + &lt;a:b&gt; + x +x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+x * x + {a:b}</code></p>\n<p>I'm using the following regex:</p>\n<p><code> (^|[^&lt;^{])a:b</code></p>\n<p>and the following code:</p>\n<pre><code>String st = &quot;a:b + &lt;a:b&gt; + a:b +a:b+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])+a:b * + &lt;a:b&gt; + {a:b}&quot;;\n    \nPattern pattern = Pattern.compile(&quot;(^|[^&lt;^{])a:b&quot;);\nMatcher matcher = pattern.matcher(st);\n        \nString s2 = matcher.replaceAll(&quot;x&quot;);\n\n</code></pre>\n<p>but I get:</p>\n<p><code>x + &lt;a:b&gt; +x x+ &lt;a:b&gt;+{a:b} + {a:b}+d([&lt;a:b&gt;])x * + &lt;a:b&gt; + {a:b}</code></p>\n<p>How can I avoid to replace spaces and operators?</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680211776,"post_id":75893059,"comment_id":133864659,"body_markdown":"I&#39;m afraid to add this to the question body (I don&#39;t want to get it closed for a lack of focus), but this `&lt;fieldset&gt;\n                &lt;label for=&quot;admin&quot;&gt;Admin: &lt;/label&gt;\n                &lt;input id=&quot;admin&quot; th:field=&quot;*{authorities}&quot; type=&quot;checkbox&quot; th:value=&quot;${adminRoleSet}&quot; /&gt;\n            &lt;/fieldset&gt;`\nreturns this: `java.lang.NumberFormatException: For input string: &quot;[Role[id=1,role=&#39;USER&#39;],Role[id=2,role=&#39;ADMIN&#39;]]&quot;\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]\n\tat java.base/java.lang.Long.parseLong(Long.java:711) ~[na:na]`. May be rel","body":"I&#39;m afraid to add this to the question body (I don&#39;t want to get it closed for a lack of focus), but this <code>&lt;fieldset&gt;                 &lt;label for=&quot;admin&quot;&gt;Admin: &lt;&#47;label&gt;                 &lt;input id=&quot;admin&quot; th:field=&quot;*{authorities}&quot; type=&quot;checkbox&quot; th:value=&quot;${adminRoleSet}&quot; &#47;&gt;             &lt;&#47;fieldset&gt;</code> returns this: <code>java.lang.NumberFormatException: For input string: &quot;[Role[id=1,role=&#39;USER&#39;],Role[id=2,role=&#39;ADMIN&#39;]]&quot; \tat java.base&#47;java.lang.NumberFormatException.forInputString(Num&zwnj;&#8203;berFormatException.j&zwnj;&#8203;ava:67) ~[na:na] \tat java.base&#47;java.lang.Long.parseLong(Long.java:711) ~[na:na]</code>. May be rel"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680211909,"post_id":75893059,"comment_id":133864683,"body_markdown":"`adminRoleSet` is a model attribute: `addAttribute(&quot;adminRoleSet&quot;,\n                        new HashSet&lt;&gt;(List.of(service.getRoleByName(&quot;USER&quot;),\n                                service.getRoleByName(&quot;ADMIN&quot;))))`. It never gets to the `saveUser()` handler because of that error","body":"<code>adminRoleSet</code> is a model attribute: <code>addAttribute(&quot;adminRoleSet&quot;,                         new HashSet&lt;&gt;(List.of(service.getRoleByName(&quot;USER&quot;),                                 service.getRoleByName(&quot;ADMIN&quot;))))</code>. It never gets to the <code>saveUser()</code> handler because of that error"},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1680221444,"post_id":75893059,"comment_id":133865941,"body_markdown":"First thing I would to is verify that it shows up correctly in the hidden field on the browser, and that it gets sent correctly in the POST from the browser.  That way you know where it first disappears, and can focus on that area.","body":"First thing I would to is verify that it shows up correctly in the hidden field on the browser, and that it gets sent correctly in the POST from the browser.  That way you know where it first disappears, and can focus on that area."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680268648,"post_id":75893059,"comment_id":133874038,"body_markdown":"@DavidA Hm, it disappears in the view, indeed: `&lt;input type=&quot;hidden&quot; id=&quot;authorities&quot; name=&quot;authorities&quot; value=&quot;&quot;&gt;`. What should I do then?","body":"@DavidA Hm, it disappears in the view, indeed: <code>&lt;input type=&quot;hidden&quot; id=&quot;authorities&quot; name=&quot;authorities&quot; value=&quot;&quot;&gt;</code>. What should I do then?"},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":1,"creation_date":1680281734,"post_id":75893059,"comment_id":133877484,"body_markdown":"My guess is that while you created a formatter to convert from a string to a set of roles, you didn&#39;t create a serializer to go the other direction (converting the entire set to a single string) when sending the response to the client.  Also, as an aside, not related to your question, you are letting your user change all the user settings by sending all the user details back and forth. The user could easily go in and change their department, roles, even salary with your current set up.  I would suggest only letting them send the new password, and not send all the user data.","body":"My guess is that while you created a formatter to convert from a string to a set of roles, you didn&#39;t create a serializer to go the other direction (converting the entire set to a single string) when sending the response to the client.  Also, as an aside, not related to your question, you are letting your user change all the user settings by sending all the user details back and forth. The user could easily go in and change their department, roles, even salary with your current set up.  I would suggest only letting them send the new password, and not send all the user data."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680289337,"post_id":75893059,"comment_id":133879069,"body_markdown":"@DavidA why would I need to &quot;go the other direction&quot; if `toString()` already does the job of converting anything to `String`s?","body":"@DavidA why would I need to &quot;go the other direction&quot; if <code>toString()</code> already does the job of converting anything to <code>String</code>s?"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680289693,"post_id":75893059,"comment_id":133879157,"body_markdown":"@DavidA well, as long as those inputs are hidden, they can&#39;t change those fields, can they? `department` and `salary` are always hidden in user views","body":"@DavidA well, as long as those inputs are hidden, they can&#39;t change those fields, can they? <code>department</code> and <code>salary</code> are always hidden in user views"},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680290980,"post_id":75893059,"comment_id":133879405,"body_markdown":"You know what I just realized. `getAuthorities()` returns a `Collection` that doesn&#39;t have a `toString()` method. But why can I print it then? It&#39;s confusing...","body":"You know what I just realized. <code>getAuthorities()</code> returns a <code>Collection</code> that doesn&#39;t have a <code>toString()</code> method. But why can I print it then? It&#39;s confusing..."},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1680359110,"post_id":75893059,"comment_id":133886892,"body_markdown":"A basic rule in browser/server development is never &#39;trust&#39; the client.  Someone can always use development tools on their browser to change what is running locally.  So, they could debug and see the values, and change them.  So, non-technical users can&#39;t change them, but technical users can easily do so.","body":"A basic rule in browser/server development is never &#39;trust&#39; the client.  Someone can always use development tools on their browser to change what is running locally.  So, they could debug and see the values, and change them.  So, non-technical users can&#39;t change them, but technical users can easily do so."},{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1680359510,"post_id":75893059,"comment_id":133886956,"body_markdown":"Good job on solving the serialization, though sending it all back and forth is still a security hole.","body":"Good job on solving the serialization, though sending it all back and forth is still a security hole."}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680295961,"creation_date":1680210891,"question_id":75893059,"body_markdown":"I have a Spring Boot project. It uses both Spring MVC and Spring Security. The app gets `User` objects from a database and makes them updateable in certain ways in certain views. For example, this handler handles the request `/user/update-password`\r\n```java\r\n    @GetMapping(&quot;/user/update-password&quot;)\r\n    public String updateYourPassword(Model model, Authentication authentication) {\r\n        String username = getUsername(authentication);\r\n        User user = service.getByUsername(username);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        System.out.println(&quot;user in handler: &quot; + user); // LOG #1\r\n        return &quot;user-update-password&quot;;\r\n    }\r\n```\r\nthen shows the `user-update-password` view\r\n```html\r\n&lt;form class=&quot;forms&quot; th:action=&quot;@{/save-user(passwordChange=true)}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{username}&quot;/&gt;\r\n\r\n            &lt;fieldset&gt;\r\n                &lt;label for=&quot;password&quot;&gt;Your new password: &lt;/label&gt;\r\n                &lt;input id=&quot;password&quot; name=&quot;password&quot; required/&gt;\r\n            &lt;/fieldset&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{name}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{lastName}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{department}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{salary}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{age}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{email}&quot;/&gt;\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{enabled}&quot;&gt; // to the best of my understanding, one doesn&#39;t have to\r\n\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{authorities}&quot;&gt; // explicitly close input tags. i tried explicitly closing them too anyway\r\n\r\n            &lt;input class=&quot;main-button&quot; type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        &lt;/form&gt;\r\n```\r\nand finally gets it to the point where the password is encoded and the user gets redirected back to their home page\r\n```java\r\n    @PostMapping(&quot;/save-user&quot;)\r\n    public String saveUser(@ModelAttribute User user,\r\n                           @RequestParam(defaultValue = &quot;false&quot;) String passwordChange, // some views that use this handler don&#39;t change password\r\n                           Authentication authentication) {\r\n        System.out.println(&quot;User @ModelAttribute: &quot; + user); // LOG #2\r\n\r\n        if (Boolean.parseBoolean(passwordChange)) {\r\n            System.out.println(&quot;Encoding...&quot;);\r\n            encodePassword(user);\r\n            System.out.println(&quot;Encoding complete!&quot;);\r\n        }\r\n\r\n        service.save(user);\r\n\r\n        return isAdmin(authentication) ?\r\n                &quot;redirect:/admin&quot; :\r\n                &quot;redirect:/user&quot;;\r\n    }\r\n```\r\nThe password gets changed. The problem is the `authorities` field becomes null. Here&#39;s what LOG #1 returns\r\n```\r\nuser in handler: User[id=2, username=&#39;mickey_m&#39;, password=&#39;$2y$10$ZE1cg7hP1CdafEhXITEfB.MNcyNxNUz1cm3ZTn.eRK13lHQfTta7i&#39;, name=&#39;Mickey&#39;, lastName=&#39;Mouse&#39;, department=&#39;sales&#39;, salary=180000, age=95, email=&#39;mickey@outlook.com&#39;, enabled=1, authorities=[Role[id=1, role=&#39;USER&#39;]]]\r\n```\r\nHere&#39;s what LOG #2 returns (I changed the password to &quot;mimi&quot; here)\r\n```\r\nUser @ModelAttribute: User[id=2, username=&#39;mickey_m&#39;, password=&#39;mimi&#39;, name=&#39;Mickey&#39;, lastName=&#39;Mouse&#39;, department=&#39;sales&#39;, salary=180000, age=95, email=&#39;mickey@outlook.com&#39;, enabled=1, authorities=null]\r\n```\r\n**Why does this nullifying happen and how do I prevent this?**\r\n\r\nYou may need a bit more information on what `User` and `authorities` are. Here it is\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements UserDetails {\r\n// ...\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; authorities;\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\npublic class Role implements GrantedAuthority {\r\n// ...\r\n    @Column(name = &quot;role&quot;) // the fact that the column is named differently may be important, idk\r\n    private String authority;\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\r\n    private Set&lt;User&gt; userList;\r\n// ...\r\n@Override\r\n    public String toString() {\r\n        return new StringJoiner(&quot;, &quot;, Role.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n                .add(&quot;id=&quot; + id)\r\n                .add(&quot;role=&#39;&quot; + authority + &quot;&#39;&quot;) // notice quotes\r\n                .toString();\r\n    }\r\n```\r\nI tried many things, including adding a custom `Formatter` from `String` to `Set&lt;Role&gt;`. I expected it to, well, convert `String`s like `[Role[id=1, authority=&#39;USER&#39;], Role[id=2, authority=&#39;ADMIN&#39;]]` (what I expected forms to return) into corresponding `Set`s of `Role`s. Unfortunately, it didn&#39;t help\r\n```java\r\n@Configuration\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n// ...\r\n@Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        System.out.println(&quot;addFormatters() called&quot;); // this log message gets printed on startup\r\n        registry.addFormatter(new Formatter&lt;Set&lt;Role&gt;&gt;() {\r\n            @Override\r\n            public Set&lt;Role&gt; parse(String text, Locale locale) { // a breakpoint here never gets hit\r\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\r\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\r\n                for (String roleString : roles) {\r\n                    String authority =\r\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 1,\r\n                                    roleString.indexOf(&quot;]&quot;) - 1); // -1 because of quotes\r\n                    roleSet.add(service.getRoleByName(authority));\r\n                }\r\n                return roleSet;\r\n            }\r\n\r\n            @Override\r\n            public String print(Set&lt;Role&gt; object, Locale locale) {\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n```\r\nI hope it may count for a &quot;minimum reproducible example&quot;. Anyway, you can see the project&#39;s repo [here](https://github.com/NadChel/boot_security) in case I haven&#39;t included some important details\r\n\r\n**UPD:** I discovered that it gets null in the view:\r\n\r\n[![authorities being null as shown via Devtools][1]][1]\r\n\r\nWhat should I make of this?\r\n\r\n**UPD2:** You&#39;re not going to believe it! I cracked it thanks to the Sage chat bot! What worked is having this in my view:\r\n```html\r\n&lt;!-- authorities is a Collection, and Collections don&#39;t have their toString() methods since they are interfaces and don&#39;t override it--&gt;\r\n\r\n&lt;input type=&quot;hidden&quot; th:name=&quot;authorities&quot;\r\n                   th:value=&quot;*{#strings.toString(authorities)}&quot;/&gt;\r\n```\r\nand also fixing my Formatter a bit:\r\n```java\r\n            @Override\r\n            public Set&lt;Role&gt; parse(String text, Locale locale) {\r\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\r\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\r\n                for (String roleString : roles) {\r\n                    if (roleString.length() == 0) continue; // I didn&#39;t have an empty String check\r\n                    String authority =\r\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 2, // it used to have +1 instead of +2\r\n                                    roleString.indexOf(&quot;]&quot;) - 1);\r\n                    roleSet.add(service.getRoleByName(authority));\r\n                }\r\n                return roleSet;\r\n            }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MT4vr.png","title":"When an instance field, a Collection of custom Objects, passes through my view, it becomes null. How do I prevent it?","body":"<p>I have a Spring Boot project. It uses both Spring MVC and Spring Security. The app gets <code>User</code> objects from a database and makes them updateable in certain ways in certain views. For example, this handler handles the request <code>/user/update-password</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/user/update-password&quot;)\n    public String updateYourPassword(Model model, Authentication authentication) {\n        String username = getUsername(authentication);\n        User user = service.getByUsername(username);\n        model.addAttribute(&quot;user&quot;, user);\n        System.out.println(&quot;user in handler: &quot; + user); // LOG #1\n        return &quot;user-update-password&quot;;\n    }\n</code></pre>\n<p>then shows the <code>user-update-password</code> view</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form class=&quot;forms&quot; th:action=&quot;@{/save-user(passwordChange=true)}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{username}&quot;/&gt;\n\n            &lt;fieldset&gt;\n                &lt;label for=&quot;password&quot;&gt;Your new password: &lt;/label&gt;\n                &lt;input id=&quot;password&quot; name=&quot;password&quot; required/&gt;\n            &lt;/fieldset&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{name}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{lastName}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{department}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{salary}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{age}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{email}&quot;/&gt;\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{enabled}&quot;&gt; // to the best of my understanding, one doesn't have to\n\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{authorities}&quot;&gt; // explicitly close input tags. i tried explicitly closing them too anyway\n\n            &lt;input class=&quot;main-button&quot; type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>and finally gets it to the point where the password is encoded and the user gets redirected back to their home page</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/save-user&quot;)\n    public String saveUser(@ModelAttribute User user,\n                           @RequestParam(defaultValue = &quot;false&quot;) String passwordChange, // some views that use this handler don't change password\n                           Authentication authentication) {\n        System.out.println(&quot;User @ModelAttribute: &quot; + user); // LOG #2\n\n        if (Boolean.parseBoolean(passwordChange)) {\n            System.out.println(&quot;Encoding...&quot;);\n            encodePassword(user);\n            System.out.println(&quot;Encoding complete!&quot;);\n        }\n\n        service.save(user);\n\n        return isAdmin(authentication) ?\n                &quot;redirect:/admin&quot; :\n                &quot;redirect:/user&quot;;\n    }\n</code></pre>\n<p>The password gets changed. The problem is the <code>authorities</code> field becomes null. Here's what LOG #1 returns</p>\n<pre><code>user in handler: User[id=2, username='mickey_m', password='$2y$10$ZE1cg7hP1CdafEhXITEfB.MNcyNxNUz1cm3ZTn.eRK13lHQfTta7i', name='Mickey', lastName='Mouse', department='sales', salary=180000, age=95, email='mickey@outlook.com', enabled=1, authorities=[Role[id=1, role='USER']]]\n</code></pre>\n<p>Here's what LOG #2 returns (I changed the password to &quot;mimi&quot; here)</p>\n<pre><code>User @ModelAttribute: User[id=2, username='mickey_m', password='mimi', name='Mickey', lastName='Mouse', department='sales', salary=180000, age=95, email='mickey@outlook.com', enabled=1, authorities=null]\n</code></pre>\n<p><strong>Why does this nullifying happen and how do I prevent this?</strong></p>\n<p>You may need a bit more information on what <code>User</code> and <code>authorities</code> are. Here it is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User implements UserDetails {\n// ...\n    @ManyToMany\n    @JoinTable(name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; authorities;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;roles&quot;)\npublic class Role implements GrantedAuthority {\n// ...\n    @Column(name = &quot;role&quot;) // the fact that the column is named differently may be important, idk\n    private String authority;\n    @ManyToMany\n    @JoinTable(name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;))\n    private Set&lt;User&gt; userList;\n// ...\n@Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, Role.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n                .add(&quot;id=&quot; + id)\n                .add(&quot;role='&quot; + authority + &quot;'&quot;) // notice quotes\n                .toString();\n    }\n</code></pre>\n<p>I tried many things, including adding a custom <code>Formatter</code> from <code>String</code> to <code>Set&lt;Role&gt;</code>. I expected it to, well, convert <code>String</code>s like <code>[Role[id=1, authority='USER'], Role[id=2, authority='ADMIN']]</code> (what I expected forms to return) into corresponding <code>Set</code>s of <code>Role</code>s. Unfortunately, it didn't help</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n// ...\n@Override\n    public void addFormatters(FormatterRegistry registry) {\n        System.out.println(&quot;addFormatters() called&quot;); // this log message gets printed on startup\n        registry.addFormatter(new Formatter&lt;Set&lt;Role&gt;&gt;() {\n            @Override\n            public Set&lt;Role&gt; parse(String text, Locale locale) { // a breakpoint here never gets hit\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\n                for (String roleString : roles) {\n                    String authority =\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 1,\n                                    roleString.indexOf(&quot;]&quot;) - 1); // -1 because of quotes\n                    roleSet.add(service.getRoleByName(authority));\n                }\n                return roleSet;\n            }\n\n            @Override\n            public String print(Set&lt;Role&gt; object, Locale locale) {\n                return null;\n            }\n        });\n    }\n</code></pre>\n<p>I hope it may count for a &quot;minimum reproducible example&quot;. Anyway, you can see the project's repo <a href=\"https://github.com/NadChel/boot_security\" rel=\"nofollow noreferrer\">here</a> in case I haven't included some important details</p>\n<p><strong>UPD:</strong> I discovered that it gets null in the view:</p>\n<p><a href=\"https://i.stack.imgur.com/MT4vr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MT4vr.png\" alt=\"authorities being null as shown via Devtools\" /></a></p>\n<p>What should I make of this?</p>\n<p><strong>UPD2:</strong> You're not going to believe it! I cracked it thanks to the Sage chat bot! What worked is having this in my view:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- authorities is a Collection, and Collections don't have their toString() methods since they are interfaces and don't override it--&gt;\n\n&lt;input type=&quot;hidden&quot; th:name=&quot;authorities&quot;\n                   th:value=&quot;*{#strings.toString(authorities)}&quot;/&gt;\n</code></pre>\n<p>and also fixing my Formatter a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            @Override\n            public Set&lt;Role&gt; parse(String text, Locale locale) {\n                Set&lt;Role&gt; roleSet = new HashSet&lt;&gt;();\n                String[] roles = text.split(&quot;^\\\\[|\\\\]$|(?&lt;=\\\\]),\\\\s?&quot;);\n                for (String roleString : roles) {\n                    if (roleString.length() == 0) continue; // I didn't have an empty String check\n                    String authority =\n                            roleString.substring(roleString.lastIndexOf(&quot;=&quot;) + 2, // it used to have +1 instead of +2\n                                    roleString.indexOf(&quot;]&quot;) - 1);\n                    roleSet.add(service.getRoleByName(authority));\n                }\n                return roleSet;\n            }\n</code></pre>\n"},{"tags":["java","caching","transactions","infinispan","infinispan-9"],"answers":[{"tags":[],"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680295455,"creation_date":1680295455,"answer_id":75902617,"question_id":75890762,"body_markdown":"What is happening is that your cache is transactional and by invoking `put()` inside `beforeCompletion()`, Infinispan will try to register itself within the transaction. At this time, the transaction is preparing and modifications are not accepted. \r\n\r\nYou need to configure your cache as nontransactional by setting `&lt;transaction mode=&quot;NONE&quot;/&gt;`.\r\n\r\nIf you need your cache to be transactional, you need to suspend the transaction before invoking `put()` and then resume the transaction.","title":"Infinispan 9.4 fails by putOperation in TwoPhaseCoordinator.beforeCompletion","body":"<p>What is happening is that your cache is transactional and by invoking <code>put()</code> inside <code>beforeCompletion()</code>, Infinispan will try to register itself within the transaction. At this time, the transaction is preparing and modifications are not accepted.</p>\n<p>You need to configure your cache as nontransactional by setting <code>&lt;transaction mode=&quot;NONE&quot;/&gt;</code>.</p>\n<p>If you need your cache to be transactional, you need to suspend the transaction before invoking <code>put()</code> and then resume the transaction.</p>\n"}],"owner":{"account_id":20930003,"reputation":1,"user_id":15376594,"display_name":"Denis Abramov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680295455,"creation_date":1680193755,"question_id":75890762,"body_markdown":"I have Infinispan 9.4 and this settings in infinispan.xml:\r\n\r\n```\r\n&lt;local-cache name=&quot;localCache&quot;&gt;\r\n  &lt;locking isolation=&quot;READ_COMMITTED&quot;/&gt;\r\n  &lt;transaction mode=&quot;BATCH&quot;/&gt;\r\n  &lt;memory&gt;\r\n\t &lt;object strategy=&quot;NONE&quot;/&gt;\r\n  &lt;/memory&gt;\r\n&lt;/local-cache&gt;\r\n```\r\n\r\nand when i try to add new value in this cache in the transaction but in the beforeCompletion phase\r\n\r\n```\r\ntx.registerSynchronization(new Synchronization()\r\n{\r\n...\r\n\r\npublic void beforeCompletion()\r\n{\r\n  cache.put(CACHE_KEY, value);\r\n}\r\n\r\n...\r\n}\r\n\r\n```\r\ni got this exception:\r\n\r\n...\r\n\r\n    at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165) ~[jbossjts-4.16.6.Final.jar:?]\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117) ~[jbossjts-4.16.6.Final.jar:?]`\r\n\r\n...\r\n\r\n    ERROR impl.InvocationContextInterceptor - ISPN000136: Error executing command PutKeyValueCommand on Cache &#39;localCache&#39;, writing keys [storage] \r\n    \r\n    java.lang.UnsupportedOperationException: null\r\n    \tat org.infinispan.commons.util.ImmutableListCopy.add(ImmutableListCopy.java:124) ~[infinispan-commons-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.transaction.impl.LocalTransaction.addModification(LocalTransaction.java:66) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.TxInterceptor.lambda$handleWriteCommand$8(TxInterceptor.java:414) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:165) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.TxInterceptor.handleWriteCommand(TxInterceptor.java:402) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.TxInterceptor.visitPutKeyValueCommand(TxInterceptor.java:235) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:217) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:182) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:125) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:58) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.BatchingInterceptor.visitPutKeyValueCommand(BatchingInterceptor.java:49) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1915) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1430) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:2040) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:230) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:448) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\r\n    \tat org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:729) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Fina\r\n\r\n\r\ni checked - if i do it without a beforeCompletion phase - it&#39;s ok. \r\n\r\nBut i need execute this in this phase - how i can fix it?\r\n","title":"Infinispan 9.4 fails by putOperation in TwoPhaseCoordinator.beforeCompletion","body":"<p>I have Infinispan 9.4 and this settings in infinispan.xml:</p>\n<pre><code>&lt;local-cache name=&quot;localCache&quot;&gt;\n  &lt;locking isolation=&quot;READ_COMMITTED&quot;/&gt;\n  &lt;transaction mode=&quot;BATCH&quot;/&gt;\n  &lt;memory&gt;\n     &lt;object strategy=&quot;NONE&quot;/&gt;\n  &lt;/memory&gt;\n&lt;/local-cache&gt;\n</code></pre>\n<p>and when i try to add new value in this cache in the transaction but in the beforeCompletion phase</p>\n<pre><code>tx.registerSynchronization(new Synchronization()\n{\n...\n\npublic void beforeCompletion()\n{\n  cache.put(CACHE_KEY, value);\n}\n\n...\n}\n\n</code></pre>\n<p>i got this exception:</p>\n<p>...</p>\n<pre><code>at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165) ~[jbossjts-4.16.6.Final.jar:?]\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117) ~[jbossjts-4.16.6.Final.jar:?]`\n</code></pre>\n<p>...</p>\n<pre><code>ERROR impl.InvocationContextInterceptor - ISPN000136: Error executing command PutKeyValueCommand on Cache 'localCache', writing keys [storage] \n\njava.lang.UnsupportedOperationException: null\n    at org.infinispan.commons.util.ImmutableListCopy.add(ImmutableListCopy.java:124) ~[infinispan-commons-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.transaction.impl.LocalTransaction.addModification(LocalTransaction.java:66) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.TxInterceptor.lambda$handleWriteCommand$8(TxInterceptor.java:414) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:165) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.TxInterceptor.handleWriteCommand(TxInterceptor.java:402) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.TxInterceptor.visitPutKeyValueCommand(TxInterceptor.java:235) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:56) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:217) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:182) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:125) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:90) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:58) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.BatchingInterceptor.handleDefault(BatchingInterceptor.java:69) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.BatchingInterceptor.visitPutKeyValueCommand(BatchingInterceptor.java:49) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:73) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.DDAsyncInterceptor.visitCommand(DDAsyncInterceptor.java:50) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:248) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1915) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1430) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:2040) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:230) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:448) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Final]\n    at org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:729) ~[infinispan-core-9.4.24.Final.jar:9.4.24.Fina\n</code></pre>\n<p>i checked - if i do it without a beforeCompletion phase - it's ok.</p>\n<p>But i need execute this in this phase - how i can fix it?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":2,"creation_date":1680298599,"post_id":75902547,"comment_id":133880831,"body_markdown":"I&#39;m not sure you quite have enough information here, but from what you have posted, it looks like you are trying to mock out the class being tested. That won&#39;t help you, as it basically replaces the code you are trying to test with mock functionality. Instead, you mock out the dependencies of the class: i.e. the other classes that it uses.","body":"I&#39;m not sure you quite have enough information here, but from what you have posted, it looks like you are trying to mock out the class being tested. That won&#39;t help you, as it basically replaces the code you are trying to test with mock functionality. Instead, you mock out the dependencies of the class: i.e. the other classes that it uses."}],"owner":{"account_id":24842062,"reputation":11,"user_id":18719954,"display_name":"AlbersB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680294708,"creation_date":1680294708,"question_id":75902547,"body_markdown":"I am trying to write a JUnit test case for a method whose job is to change a single entry in a block of information. We don&#39;t have a lot of JUnit tests here for me to look at as examples and I myself don&#39;t have much experience with JUnit. I am doing a when().thenReturn method call but noticed that I am only getting back a nullException. I can&#39;t finish testing the method when that is thrown.\r\n\r\nI will be using semi pseudo code for my example but all code in the program is written in Java 8. I currently have 2 when().thenReturn() calls: \r\n```\r\nwhen(Class.readInfo(any(), anyString(), any())).thenReturn(INFO);\r\nwhen(Class.getInformation(anyString())).thenReturn(INFORMATION);\r\n```\r\nThe first when call is to a method call inside the method being referenced in the second when. It looks something like this:\r\n\r\n```\r\ngetInformation(final String){\r\n try{\r\n   Database call;\r\n   OpenConnection();\r\n\r\n   final Information info = readInfo(connection, String, Enum); &lt;---returns a nullException\r\n\r\n   return info;\r\n } catch(Exception e){\r\n   e.printStack();\r\n } finally {\r\n   CloseConnection();\r\n }\r\n return null;\r\n}\r\n```\r\n\r\nThe method readInfo call is to a method in an Interface located in our .gradle file. Do I need to try to mock the insides of that Interface as well? I&#39;ve tried Googling this but Google thinks I&#39;m asking about making a mock that WILL throw an Exception while I&#39;m trying to stop it from doing so. I have heard about using Spy but a senior developer/ kinda manager told me not to use Spy. Also in similar questions I see something that looks like a solution using EasyMock but I don&#39;t have access to that I am not allowed to add more dependencies.","title":"How far do I need to go with my Mockito.when().thenReturn()?","body":"<p>I am trying to write a JUnit test case for a method whose job is to change a single entry in a block of information. We don't have a lot of JUnit tests here for me to look at as examples and I myself don't have much experience with JUnit. I am doing a when().thenReturn method call but noticed that I am only getting back a nullException. I can't finish testing the method when that is thrown.</p>\n<p>I will be using semi pseudo code for my example but all code in the program is written in Java 8. I currently have 2 when().thenReturn() calls:</p>\n<pre><code>when(Class.readInfo(any(), anyString(), any())).thenReturn(INFO);\nwhen(Class.getInformation(anyString())).thenReturn(INFORMATION);\n</code></pre>\n<p>The first when call is to a method call inside the method being referenced in the second when. It looks something like this:</p>\n<pre><code>getInformation(final String){\n try{\n   Database call;\n   OpenConnection();\n\n   final Information info = readInfo(connection, String, Enum); &lt;---returns a nullException\n\n   return info;\n } catch(Exception e){\n   e.printStack();\n } finally {\n   CloseConnection();\n }\n return null;\n}\n</code></pre>\n<p>The method readInfo call is to a method in an Interface located in our .gradle file. Do I need to try to mock the insides of that Interface as well? I've tried Googling this but Google thinks I'm asking about making a mock that WILL throw an Exception while I'm trying to stop it from doing so. I have heard about using Spy but a senior developer/ kinda manager told me not to use Spy. Also in similar questions I see something that looks like a solution using EasyMock but I don't have access to that I am not allowed to add more dependencies.</p>\n"},{"tags":["java","serialization","netbeans","jframe","deserialization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680294034,"post_id":75901850,"comment_id":133880056,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1680294402,"post_id":75901850,"comment_id":133880115,"body_markdown":"I fixed the post so there is only the important code. This program is already made from scratch just for the post. I hope this helps!","body":"I fixed the post so there is only the important code. This program is already made from scratch just for the post. I hope this helps!"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680294437,"creation_date":1680294437,"answer_id":75902516,"question_id":75901850,"body_markdown":"You are not, according to your question, serializing the objects but &quot;the list&quot;.\r\n\r\nAs such, you have to re-write (serialize) the entire List with every change.\r\n\r\nJava serialization is a known problem regarding long term storage (versioning) and de-serialization security attacks against the class loader.\r\n\r\nConsider using JPA and some kind of database, there are also &quot;in memory&quot; and &quot;local&quot; DBs that are great for learning data storage and retrieval.","title":"Serializing an object in an arrayList that is modified while a program is running","body":"<p>You are not, according to your question, serializing the objects but &quot;the list&quot;.</p>\n<p>As such, you have to re-write (serialize) the entire List with every change.</p>\n<p>Java serialization is a known problem regarding long term storage (versioning) and de-serialization security attacks against the class loader.</p>\n<p>Consider using JPA and some kind of database, there are also &quot;in memory&quot; and &quot;local&quot; DBs that are great for learning data storage and retrieval.</p>\n"}],"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75902516,"answer_count":1,"score":0,"last_activity_date":1680294437,"creation_date":1680288720,"question_id":75901850,"body_markdown":"I am new to Java, and I am learning about serialization and deserialization. I made a little expirement program to help me learn it and get the hang of it. I am trying to save the data of an arrayList so I don&#39;t have to make a complete new one with no info in it every time I run the program.\r\n\r\nIf I were to modify an arrayList while a program was running by adding or deleting from the arrayList, would I have to reserialize the WHOLE arrayList? Or would there be a way to just simply serialize the object that is apart of the list?\r\n\r\nHere is my little demo project if you need it:\r\n\r\n\r\nButtons and their actions\r\n\r\nAdding Instructions\r\n```\r\nprivate void btnAddActionPerformed(java.awt.event.ActionEvent evt) {                                       \r\n        JobTypeTxt.setText(&quot;&quot;);\r\n        salaryTxt.setText(&quot;&quot;);\r\n        companyTxt.setText(&quot;&quot;);\r\n        \r\n        JobTypeTxt.setEditable(true);\r\n        salaryTxt.setEditable(true);\r\n        companyTxt.setEditable(true);\r\n        InstructionsTxt.setText(&quot;The textfields above have now become editable. Type in your new job&#39;s type, salary, and company, and then click save to add it to the list.&quot;);\r\n}                                      \r\n```\r\n\r\nDeleting items from the arrayList\r\n```\r\n    private void btnDeleteActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        if(jobList.getSelectedValue() == null) {\r\n            InstructionsTxt.setText(&quot;Make sure you select an object in the list that you want to delete.&quot;);\r\n        } else {\r\n            Data.getJobs().remove(jobList.getSelectedIndex());\r\n            \r\n            JobTypeTxt.setText(&quot;&quot;);\r\n            salaryTxt.setText(&quot;&quot;);\r\n            companyTxt.setText(&quot;&quot;);\r\n            jobList.revalidate();\r\n            jobList.repaint();\r\n        } \r\n    }                                         \r\n```\r\n\r\nSaving and actually adding the item to the arrayList\r\n```\r\n    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        try{\r\n            double salary = Double.parseDouble(salaryTxt.getText().trim());\r\n            \r\n            Job job = new Job(JobTypeTxt.getText().trim(), salary, companyTxt.getText().trim());\r\n            Data.getJobs().add(job);\r\n            \r\n            \r\n            JobTypeTxt.setEditable(false);\r\n            salaryTxt.setEditable(false);\r\n            companyTxt.setEditable(false);\r\n            \r\n            InstructionsTxt.setText(&quot;&quot;);\r\n        } catch(NumberFormatException e) {\r\n            InstructionsTxt.setText(&quot;The salary must be a valid decimal!&quot;);\r\n        }\r\n        \r\n        jobList.revalidate();\r\n        jobList.repaint();\r\n    }                                       \r\n```\r\n\r\nVariable Declaration\r\n```\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JTextArea InstructionsTxt;\r\n    private javax.swing.JTextField JobTypeTxt;\r\n    private javax.swing.JButton btnAdd;\r\n    private javax.swing.JButton btnDelete;\r\n    private javax.swing.JButton btnSave;\r\n    private javax.swing.JTextField companyTxt;\r\n    private javax.swing.JScrollPane jScrollPane;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JList&lt;String&gt; jobList;\r\n    private javax.swing.JLabel lblCompany;\r\n    private javax.swing.JLabel lblJobType;\r\n    private javax.swing.JLabel lblSalary;\r\n    private javax.swing.JTextField salaryTxt;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\nClass Job\r\n\r\n```\r\n\r\npackage deserialization.and.serialization;\r\n\r\n\r\npublic class Job {\r\n    private String type;\r\n    private double salaryPerHr;\r\n    private String company;\r\n    \r\n    public Job(String type, double salary, String company) {\r\n        this.type = type;\r\n        salaryPerHr = salary;\r\n        this.company = company;\r\n    }\r\n    \r\n    public String getType() {\r\n        return type;\r\n    }\r\n    \r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n    \r\n    public double getSalary() {\r\n        return salaryPerHr;\r\n    }\r\n    \r\n    public void setSalary(double salary) {\r\n        salaryPerHr = salary;\r\n    }\r\n    \r\n    public String getCompany() {\r\n        return company;\r\n    }\r\n    \r\n    public void setCompany(String company) {\r\n        this.company = company;\r\n    }\r\n}\r\n```\r\n\r\nClass Data\r\n\r\n```\r\npackage deserialization.and.serialization;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Data {\r\n    private static ArrayList&lt;Job&gt; jobs = new ArrayList&lt;Job&gt;();\r\n    \r\n    public static ArrayList&lt;Job&gt; getJobs() {\r\n        return jobs;\r\n    }\r\n    \r\n    public static void setJobs(ArrayList&lt;Job&gt; allJobs) {\r\n        jobs = allJobs;\r\n    }\r\n}\r\n```\r\n\r\nHow the GUI looks\r\n\r\n[GUI](https://i.stack.imgur.com/OKn1C.png)\r\n\r\nThank you for any help whatsoever :)","title":"Serializing an object in an arrayList that is modified while a program is running","body":"<p>I am new to Java, and I am learning about serialization and deserialization. I made a little expirement program to help me learn it and get the hang of it. I am trying to save the data of an arrayList so I don't have to make a complete new one with no info in it every time I run the program.</p>\n<p>If I were to modify an arrayList while a program was running by adding or deleting from the arrayList, would I have to reserialize the WHOLE arrayList? Or would there be a way to just simply serialize the object that is apart of the list?</p>\n<p>Here is my little demo project if you need it:</p>\n<p>Buttons and their actions</p>\n<p>Adding Instructions</p>\n<pre><code>private void btnAddActionPerformed(java.awt.event.ActionEvent evt) {                                       \n        JobTypeTxt.setText(&quot;&quot;);\n        salaryTxt.setText(&quot;&quot;);\n        companyTxt.setText(&quot;&quot;);\n        \n        JobTypeTxt.setEditable(true);\n        salaryTxt.setEditable(true);\n        companyTxt.setEditable(true);\n        InstructionsTxt.setText(&quot;The textfields above have now become editable. Type in your new job's type, salary, and company, and then click save to add it to the list.&quot;);\n}                                      \n</code></pre>\n<p>Deleting items from the arrayList</p>\n<pre><code>    private void btnDeleteActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        if(jobList.getSelectedValue() == null) {\n            InstructionsTxt.setText(&quot;Make sure you select an object in the list that you want to delete.&quot;);\n        } else {\n            Data.getJobs().remove(jobList.getSelectedIndex());\n            \n            JobTypeTxt.setText(&quot;&quot;);\n            salaryTxt.setText(&quot;&quot;);\n            companyTxt.setText(&quot;&quot;);\n            jobList.revalidate();\n            jobList.repaint();\n        } \n    }                                         \n</code></pre>\n<p>Saving and actually adding the item to the arrayList</p>\n<pre><code>    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        try{\n            double salary = Double.parseDouble(salaryTxt.getText().trim());\n            \n            Job job = new Job(JobTypeTxt.getText().trim(), salary, companyTxt.getText().trim());\n            Data.getJobs().add(job);\n            \n            \n            JobTypeTxt.setEditable(false);\n            salaryTxt.setEditable(false);\n            companyTxt.setEditable(false);\n            \n            InstructionsTxt.setText(&quot;&quot;);\n        } catch(NumberFormatException e) {\n            InstructionsTxt.setText(&quot;The salary must be a valid decimal!&quot;);\n        }\n        \n        jobList.revalidate();\n        jobList.repaint();\n    }                                       \n</code></pre>\n<p>Variable Declaration</p>\n<pre><code>    // Variables declaration - do not modify                     \n    private javax.swing.JTextArea InstructionsTxt;\n    private javax.swing.JTextField JobTypeTxt;\n    private javax.swing.JButton btnAdd;\n    private javax.swing.JButton btnDelete;\n    private javax.swing.JButton btnSave;\n    private javax.swing.JTextField companyTxt;\n    private javax.swing.JScrollPane jScrollPane;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JList&lt;String&gt; jobList;\n    private javax.swing.JLabel lblCompany;\n    private javax.swing.JLabel lblJobType;\n    private javax.swing.JLabel lblSalary;\n    private javax.swing.JTextField salaryTxt;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>Class Job</p>\n<pre><code>\npackage deserialization.and.serialization;\n\n\npublic class Job {\n    private String type;\n    private double salaryPerHr;\n    private String company;\n    \n    public Job(String type, double salary, String company) {\n        this.type = type;\n        salaryPerHr = salary;\n        this.company = company;\n    }\n    \n    public String getType() {\n        return type;\n    }\n    \n    public void setType(String type) {\n        this.type = type;\n    }\n    \n    public double getSalary() {\n        return salaryPerHr;\n    }\n    \n    public void setSalary(double salary) {\n        salaryPerHr = salary;\n    }\n    \n    public String getCompany() {\n        return company;\n    }\n    \n    public void setCompany(String company) {\n        this.company = company;\n    }\n}\n</code></pre>\n<p>Class Data</p>\n<pre><code>package deserialization.and.serialization;\n\nimport java.util.ArrayList;\n\npublic class Data {\n    private static ArrayList&lt;Job&gt; jobs = new ArrayList&lt;Job&gt;();\n    \n    public static ArrayList&lt;Job&gt; getJobs() {\n        return jobs;\n    }\n    \n    public static void setJobs(ArrayList&lt;Job&gt; allJobs) {\n        jobs = allJobs;\n    }\n}\n</code></pre>\n<p>How the GUI looks</p>\n<p><a href=\"https://i.stack.imgur.com/OKn1C.png\" rel=\"nofollow noreferrer\">GUI</a></p>\n<p>Thank you for any help whatsoever :)</p>\n"},{"tags":["java","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1668696,"reputation":471,"user_id":1535592,"accept_rate":79,"display_name":"Dedyshka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680272763,"creation_date":1680272763,"answer_id":75899670,"question_id":75899575,"body_markdown":"Note that to be able to inject the HttpSession object directly into Controller method, as shown in your example - this will work as long as the HttpServletRequest object has already been injected into the Controller.\r\n\r\n    @Controller \r\n    @RequestMapping(&quot;/&quot;) \r\n    public class HomeController {\r\n\r\n        @Autowired\r\n        private HttpServletRequest request;\r\n    \r\n        @GetMapping\r\n        @Transactional\r\n        public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\r\n            if(httpSession.getAttribute(&quot;email&quot;) != null) {\r\n                String email =(String) httpSession.getAttribute(&quot;email&quot;);\r\n                String chacracter = email.substring(0, 1);\r\n                modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\r\n            }\r\n            return &quot;home&quot;;\r\n        }\r\n    }","title":"Error creating bean with name &#39;HomeController&#39;: Lookup method resolution failed","body":"<p>Note that to be able to inject the HttpSession object directly into Controller method, as shown in your example - this will work as long as the HttpServletRequest object has already been injected into the Controller.</p>\n<pre><code>@Controller \n@RequestMapping(&quot;/&quot;) \npublic class HomeController {\n\n    @Autowired\n    private HttpServletRequest request;\n\n    @GetMapping\n    @Transactional\n    public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\n        if(httpSession.getAttribute(&quot;email&quot;) != null) {\n            String email =(String) httpSession.getAttribute(&quot;email&quot;);\n            String chacracter = email.substring(0, 1);\n            modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\n        }\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680294411,"creation_date":1680272163,"question_id":75899575,"body_markdown":"I have some problems when trying to use `@HttpSession` in Spring MVC Controller. I want to cut the first letter of an email from login page to home page with session. To avoid session being null when loading first home page when loaded I used `if` condition but it gives this error:\r\n\r\n&gt; Error creating bean with name &#39;HomeController&#39;: Lookup method resolution failed\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class HomeController {\r\n\t@GetMapping\r\n\t@Transactional\r\n\tpublic String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\r\n\t\tif(httpSession.getAttribute(&quot;email&quot;) != null) {\r\n\t\t\tString email =(String) httpSession.getAttribute(&quot;email&quot;);\r\n\t\t\tString chacracter = email.substring(0, 1);\r\n\t\t\tmodelMap.addAttribute(&quot;chacracter &quot;, chacracter );\r\n\t\t}\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n}\r\n```\r\n","title":"Error creating bean with name &#39;HomeController&#39;: Lookup method resolution failed","body":"<p>I have some problems when trying to use <code>@HttpSession</code> in Spring MVC Controller. I want to cut the first letter of an email from login page to home page with session. To avoid session being null when loading first home page when loaded I used <code>if</code> condition but it gives this error:</p>\n<blockquote>\n<p>Error creating bean with name 'HomeController': Lookup method resolution failed</p>\n</blockquote>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class HomeController {\n    @GetMapping\n    @Transactional\n    public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\n        if(httpSession.getAttribute(&quot;email&quot;) != null) {\n            String email =(String) httpSession.getAttribute(&quot;email&quot;);\n            String chacracter = email.substring(0, 1);\n            modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\n        }\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","while-loop","menu","java.util.scanner"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680309043,"post_id":75902409,"comment_id":133882086,"body_markdown":"Do answers to this question help?  https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","body":"Do answers to this question help?  <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>"}],"owner":{"account_id":28182094,"reputation":1,"user_id":21538940,"display_name":"Nathan Allie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680294106,"creation_date":1680293418,"question_id":75902409,"body_markdown":"I&#39;m making a basic menu for what is meant to be a pet store, in the program I&#39;m writing, you can own multiple pets and buy them from this store. I run this menu on the command line and attempt to get user input using `scan.nextInt()`, what happens is the menu repeats a second time, but then typing anything in on the second loop seems to do nothing and the program proceeds. Internet searches suggested I need to clear the scanner using a `scan.nextLine()` but that doesn&#39;t seem to fix it either. If you need more code tell me but this should be sufficient, I&#39;m newer to programming so be gentle\r\n\r\n\r\n```\r\n\r\n\tpublic Pet showMenu()\r\n\t{\r\n\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tint result = 10;\r\n\t\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n\r\n\t\t\tSystem.out.println(&quot;Welcome to the pet store: &quot;);\r\n\t\t\tSystem.out.println(&quot;Please pick a pet &quot;);\r\n\t\t\tfor (int i = 0; i &lt; availablePets.size(); i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(i + &quot;)&quot;);\r\n\t\t\t\tavailablePets.get(i).printStats();\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t}//End for\r\n\t\t\ttry\r\n\t\t\t{\r\n\r\n\t\t\t\tSystem.out.println(&quot;Which pet would you like? (Type any other number to quit)&quot;);\r\n\t\t\t\tresult = scan.nextInt(); \r\n\t\t\t\tscan.nextLine();\t\r\n\t\t\t\tif (result &gt;= 0 &amp;&amp; result &lt;= 3)\r\n\t\t\t\t{\r\n\t\t\r\n\t\t\t\t\tPet tempPet = availablePets.get(result);\r\n\t\t\t\t\tavailablePets.remove(result);\r\n\t\t\t\t\treturn tempPet;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\r\n\t\t\t\r\n\t\t\t\t\tPet quitObj = new Pet(&quot;Quit&quot;);\r\n\t\t\t\t\treturn quitObj;\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\r\n\t\t\t}\r\n\t\t}\r\n      }\r\n```\r\n\r\n\r\n[Output](https://i.stack.imgur.com/u2BnZ.jpg)","title":"How to properly clear a scanner to prevent the input from looping an extra time?","body":"<p>I'm making a basic menu for what is meant to be a pet store, in the program I'm writing, you can own multiple pets and buy them from this store. I run this menu on the command line and attempt to get user input using <code>scan.nextInt()</code>, what happens is the menu repeats a second time, but then typing anything in on the second loop seems to do nothing and the program proceeds. Internet searches suggested I need to clear the scanner using a <code>scan.nextLine()</code> but that doesn't seem to fix it either. If you need more code tell me but this should be sufficient, I'm newer to programming so be gentle</p>\n<pre><code>\n    public Pet showMenu()\n    {\n\n        \n        Scanner scan = new Scanner(System.in);\n        int result = 10;\n            \n        while(true)\n        {\n\n            System.out.println(&quot;Welcome to the pet store: &quot;);\n            System.out.println(&quot;Please pick a pet &quot;);\n            for (int i = 0; i &lt; availablePets.size(); i++)\n            {\n                System.out.println(i + &quot;)&quot;);\n                availablePets.get(i).printStats();\n                System.out.println();\n\n            }//End for\n            try\n            {\n\n                System.out.println(&quot;Which pet would you like? (Type any other number to quit)&quot;);\n                result = scan.nextInt(); \n                scan.nextLine();    \n                if (result &gt;= 0 &amp;&amp; result &lt;= 3)\n                {\n        \n                    Pet tempPet = availablePets.get(result);\n                    availablePets.remove(result);\n                    return tempPet;\n                }\n                else\n                {\n\n            \n                    Pet quitObj = new Pet(&quot;Quit&quot;);\n                    return quitObj;     \n                \n\n                }\n\n            }\n            catch (Exception e)\n            {\n\n                System.out.println(e.getMessage());\n\n            }\n        }\n      }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/u2BnZ.jpg\" rel=\"nofollow noreferrer\">Output</a></p>\n"},{"tags":["java","antlr","programming-languages","continuation-passing"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1680297034,"post_id":75901999,"comment_id":133880603,"body_markdown":"You could make a private version of the tool templates to generate what you want.","body":"You could make a private version of the tool templates to generate what you want."},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680302097,"post_id":75901999,"comment_id":133881325,"body_markdown":"I don’t think I get what you mean, could you elaborate please?","body":"I don’t think I get what you mean, could you elaborate please?"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1680305208,"post_id":75901999,"comment_id":133881727,"body_markdown":"Modify [this code](https://github.com/antlr/antlr4/blob/master/tool/resources/org/antlr/v4/tool/templates/codegen/CSharp/CSharp.stg) then follow the build procedure [here](https://github.com/antlr/antlr4/blob/master/doc/building-antlr.md). You will have a jar to generate your parser code with CPS. Use &quot;find&quot; to find the jar.","body":"Modify <a href=\"https://github.com/antlr/antlr4/blob/master/tool/resources/org/antlr/v4/tool/templates/codegen/CSharp/CSharp.stg\" rel=\"nofollow noreferrer\">this code</a> then follow the build procedure <a href=\"https://github.com/antlr/antlr4/blob/master/doc/building-antlr.md\" rel=\"nofollow noreferrer\">here</a>. You will have a jar to generate your parser code with CPS. Use &quot;find&quot; to find the jar."},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680335236,"post_id":75901999,"comment_id":133884035,"body_markdown":"That seems like a big hastle, I think it might be simpler to just write one eval procedure to dispatch on the context if you get what I mean.","body":"That seems like a big hastle, I think it might be simpler to just write one eval procedure to dispatch on the context if you get what I mean."}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680293380,"creation_date":1680293380,"answer_id":75902404,"question_id":75901999,"body_markdown":"&gt; ow can I add additional parameters to the visit methods\r\n\r\nYou cannot add any parameters to `enter...`, `exit...` or `visit...` methods.","title":"Antlr adding additional parameters to visit methods, accommodations for continuation passing style","body":"<blockquote>\n<p>ow can I add additional parameters to the visit methods</p>\n</blockquote>\n<p>You cannot add any parameters to <code>enter...</code>, <code>exit...</code> or <code>visit...</code> methods.</p>\n"}],"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680293380,"creation_date":1680289992,"question_id":75901999,"body_markdown":"I am trying to do continuation passing style for a simple programming language made with antlr. Typically you would have an eval procedure that takes as arguments the expression to be evaluated as well as the continuation of that expression. I guess it would be quite elegant to add an additional continuation parameter to the visitor&#39;s visit methods (or for the listener).\r\n\r\nHowever, when I generate the parser code with the antlr jar, the visit methods only take one parameter, namely the context (i.e., the tree).\r\n\r\nSo my question is, how can I add additional parameters to the visit methods such that I get this:\r\n\r\n\t/**\r\n\t * {@inheritDoc}\r\n\t *\r\n\t * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\r\n\t */\r\n\t@Override public void enterStart(Parser.StartContext ctx, Continuation cnt) { }\r\n\r\nInstead of the currently auto generated code:\r\n\r\n\t/**\r\n\t * {@inheritDoc}\r\n\t *\r\n\t * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\r\n\t */\r\n\t@Override public void enterStart(Parser.StartContext ctx) { }\r\n\r\nIf it is not possible to add additional parameters to the visitor&#39;s visit methods, how would one accommodate the **continuation passing style** in antlr?\r\n\r\nThanks a lot!","title":"Antlr adding additional parameters to visit methods, accommodations for continuation passing style","body":"<p>I am trying to do continuation passing style for a simple programming language made with antlr. Typically you would have an eval procedure that takes as arguments the expression to be evaluated as well as the continuation of that expression. I guess it would be quite elegant to add an additional continuation parameter to the visitor's visit methods (or for the listener).</p>\n<p>However, when I generate the parser code with the antlr jar, the visit methods only take one parameter, namely the context (i.e., the tree).</p>\n<p>So my question is, how can I add additional parameters to the visit methods such that I get this:</p>\n<pre><code>/**\n * {@inheritDoc}\n *\n * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\n */\n@Override public void enterStart(Parser.StartContext ctx, Continuation cnt) { }\n</code></pre>\n<p>Instead of the currently auto generated code:</p>\n<pre><code>/**\n * {@inheritDoc}\n *\n * &lt;p&gt;The default implementation does nothing.&lt;/p&gt;\n */\n@Override public void enterStart(Parser.StartContext ctx) { }\n</code></pre>\n<p>If it is not possible to add additional parameters to the visitor's visit methods, how would one accommodate the <strong>continuation passing style</strong> in antlr?</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":407811,"reputation":516,"user_id":778096,"display_name":"skw"},"score":1,"creation_date":1508148255,"post_id":46767528,"comment_id":80480573,"body_markdown":"Add the code in your question and not as links.","body":"Add the code in your question and not as links."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1508152594,"post_id":46767528,"comment_id":80483189,"body_markdown":"`public void setPrice(int price) {\n   itemPrice = 0; /* HERE you should probably use &quot;price&quot; */\n   return;\n} \n` I don&#39;t see why you are surprised by your 0","body":"<code>public void setPrice(int price) {    itemPrice = 0; &#47;* HERE you should probably use &quot;price&quot; *&#47;    return; }  </code> I don&#39;t see why you are surprised by your 0"}],"answers":[{"tags":[],"owner":{"account_id":407811,"reputation":516,"user_id":778096,"display_name":"skw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508154009,"creation_date":1508152972,"answer_id":46769162,"question_id":46767528,"body_markdown":"The problem is in your `setters`. You are assigning 0 (zero) to the items.\r\n\r\n    itemPrice = 0;\r\n\r\nand \r\n\r\n    itemQuantity = 0;\r\n\r\nThis can be fixed by doing something like:\r\n\r\n    itemPrice = price;\r\n\r\nand \r\n\r\n    itemQuantity = quantity;\r\n\r\nAlso, you do not need the `return` statements at the end of each method that has a `void` return type, especially in the `ItemToPurchase()` constructor. You can safely remove them.\r\n","title":"Online shopping cart java","body":"<p>The problem is in your <code>setters</code>. You are assigning 0 (zero) to the items.</p>\n\n<pre><code>itemPrice = 0;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>itemQuantity = 0;\n</code></pre>\n\n<p>This can be fixed by doing something like:</p>\n\n<pre><code>itemPrice = price;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>itemQuantity = quantity;\n</code></pre>\n\n<p>Also, you do not need the <code>return</code> statements at the end of each method that has a <code>void</code> return type, especially in the <code>ItemToPurchase()</code> constructor. You can safely remove them.</p>\n"},{"tags":[],"owner":{"account_id":20751908,"reputation":11,"user_id":15239220,"display_name":"rerun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613694893,"creation_date":1613694893,"answer_id":66270191,"question_id":46767528,"body_markdown":"The zybooks assignment applies the setters automatically, it is not by choice. there is only certain parts of code that can be edited. I am currently working on this project and have been running into problems as well. Just wanted to clarify its not the coders fault they are set to 0","title":"Online shopping cart java","body":"<p>The zybooks assignment applies the setters automatically, it is not by choice. there is only certain parts of code that can be edited. I am currently working on this project and have been running into problems as well. Just wanted to clarify its not the coders fault they are set to 0</p>\n"},{"tags":[],"owner":{"account_id":24147540,"reputation":1,"user_id":18112874,"display_name":"pamas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644037100,"creation_date":1643914398,"answer_id":70976761,"question_id":46767528,"body_markdown":"@skw is correct, the mutator methods should not be set to 0:\r\n\r\n    public void setPrice(int price) {\r\n        itemPrice = price;\r\n    }\r\n\r\n    public void setQuantity (int quantity) {\r\n        itemQuantity = quantity;\r\n    }\r\n\r\nAlso, note that the set method is void so you don&#39;t need a return statement in the end, just change the price of the variable and you are done!","title":"Online shopping cart java","body":"<p>@skw is correct, the mutator methods should not be set to 0:</p>\n<pre><code>public void setPrice(int price) {\n    itemPrice = price;\n}\n\npublic void setQuantity (int quantity) {\n    itemQuantity = quantity;\n}\n</code></pre>\n<p>Also, note that the set method is void so you don't need a return statement in the end, just change the price of the variable and you are done!</p>\n"},{"tags":[],"owner":{"account_id":25121422,"reputation":11,"user_id":18969715,"display_name":"rmazur7831"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680292231,"creation_date":1680292231,"answer_id":75902282,"question_id":46767528,"body_markdown":"I was able to complete this lab and It was really difficult but here is the code that works.\r\n\r\nfor the shopping cart printer:\r\n\r\n    import java.util.Scanner;\r\n          public class ShoppingCartPrinter {\r\n    \r\n          public static void main(String[] args) {\r\n    \r\n             Scanner scnr = new Scanner(System.in);\r\n    \r\n             int i = 0;\r\n             String itemName;\r\n             int itemPrice = 0;\r\n             int itemQuantity = 0;\r\n             int cartTotal = 0;\r\n             \r\n             ItemToPurchase item1 = new ItemToPurchase();\r\n             ItemToPurchase item2 = new ItemToPurchase();\r\n    \r\n    // Get item 1 details from user, create itemToPurchase object\r\n    \r\n             System.out.println(&quot;Item 1&quot;);\r\n    \r\n             System.out.println(&quot;Enter the item name: &quot;);\r\n             itemName = scnr.nextLine();\r\n             item1.setName(itemName);\r\n    \r\n             System.out.println(&quot;Enter the item price: &quot;);\r\n             itemPrice = scnr.nextInt();\r\n             item1.setPrice(itemPrice);\r\n    \r\n             System.out.println(&quot;Enter the item quantity: &quot;);\r\n    \r\n             itemQuantity = scnr.nextInt();\r\n             item1.setQuantity(itemQuantity);\r\n             scnr.nextLine();\r\n    \r\n             System.out.println(&quot;&quot;);\r\n             System.out.println(&quot;Item 2&quot;);\r\n             System.out.println(&quot;Enter the item name: &quot;);\r\n    \r\n             itemName = scnr.nextLine();\r\n             item2.setName(itemName);\r\n    \r\n             System.out.println(&quot;Enter the item price: &quot;);\r\n    \r\n             itemPrice = scnr.nextInt();\r\n             item2.setPrice(itemPrice);\r\n    \r\n             System.out.println(&quot;Enter the item quantity: &quot;);\r\n    \r\n             itemQuantity = scnr.nextInt();\r\n             item2.setQuantity(itemQuantity);\r\n    \r\n             System.out.println(&quot;&quot;);\r\n    \r\n             cartTotal = (item1.getPrice() * item1.getQuantity()) +\r\n             (item2.getPrice() * item2.getQuantity());\r\n    \r\n             System.out.println(&quot;TOTAL COST&quot;);\r\n             System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() +\r\n             &quot; @ $&quot; + (item1.getPrice() + &quot; = $&quot; + item1.getPrice() * item1.getQuantity()));\r\n             System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() +\r\n             &quot; @ $&quot; + (item2.getPrice() + &quot; = $&quot; + item2.getPrice() * item2.getQuantity()));\r\n             System.out.println(&quot;&quot;);\r\n             System.out.println(&quot;Total: $&quot; + cartTotal);\r\n    \r\n    for the items to purchase:\r\n    \r\n    public class ItemToPurchase {\r\n    \r\n          String itemName;\r\n          int itemPrice;\r\n          int itemQuantity;\r\n    \r\n    public ItemToPurchase() {\r\n    \r\n          itemName = &quot;none&quot;;\r\n          itemPrice = 0;\r\n          itemQuantity = 0;\r\n    }\r\n    public String getName() {\r\n    \r\n    \treturn itemName;\r\n    \r\n    }\r\n    public void setName(String itemName) {\r\n    \tthis.itemName = itemName;\r\n    }\r\n    public int getPrice() {\r\n    \treturn itemPrice;\r\n    }\r\n    \r\n    public void setPrice(int price) {\r\n    \tif (price &lt; 0) {\r\n    \t\titemPrice = 0;\r\n    \t}\r\n    \telse {\r\n    \t\titemPrice = price;\r\n    \t}\r\n    }\r\n    public int getQuantity() {\r\n    \treturn itemQuantity;\r\n    }\r\n    public void setQuantity(int quantity) {\r\n    \tif (quantity &lt; 0) {\r\n    \t\titemQuantity = 0;\r\n    \t}\r\n    \telse {\r\n    \t\titemQuantity = quantity;\r\n    \t}\r\n    }\r\n    public void printItemPurchase() {\r\n          System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\r\n          &quot; = $&quot; + (itemPrice * itemQuantity));\r\n    \r\n    }\r\n    \r\n    }","title":"Online shopping cart java","body":"<p>I was able to complete this lab and It was really difficult but here is the code that works.</p>\n<p>for the shopping cart printer:</p>\n<pre><code>import java.util.Scanner;\n      public class ShoppingCartPrinter {\n\n      public static void main(String[] args) {\n\n         Scanner scnr = new Scanner(System.in);\n\n         int i = 0;\n         String itemName;\n         int itemPrice = 0;\n         int itemQuantity = 0;\n         int cartTotal = 0;\n         \n         ItemToPurchase item1 = new ItemToPurchase();\n         ItemToPurchase item2 = new ItemToPurchase();\n\n// Get item 1 details from user, create itemToPurchase object\n\n         System.out.println(&quot;Item 1&quot;);\n\n         System.out.println(&quot;Enter the item name: &quot;);\n         itemName = scnr.nextLine();\n         item1.setName(itemName);\n\n         System.out.println(&quot;Enter the item price: &quot;);\n         itemPrice = scnr.nextInt();\n         item1.setPrice(itemPrice);\n\n         System.out.println(&quot;Enter the item quantity: &quot;);\n\n         itemQuantity = scnr.nextInt();\n         item1.setQuantity(itemQuantity);\n         scnr.nextLine();\n\n         System.out.println(&quot;&quot;);\n         System.out.println(&quot;Item 2&quot;);\n         System.out.println(&quot;Enter the item name: &quot;);\n\n         itemName = scnr.nextLine();\n         item2.setName(itemName);\n\n         System.out.println(&quot;Enter the item price: &quot;);\n\n         itemPrice = scnr.nextInt();\n         item2.setPrice(itemPrice);\n\n         System.out.println(&quot;Enter the item quantity: &quot;);\n\n         itemQuantity = scnr.nextInt();\n         item2.setQuantity(itemQuantity);\n\n         System.out.println(&quot;&quot;);\n\n         cartTotal = (item1.getPrice() * item1.getQuantity()) +\n         (item2.getPrice() * item2.getQuantity());\n\n         System.out.println(&quot;TOTAL COST&quot;);\n         System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() +\n         &quot; @ $&quot; + (item1.getPrice() + &quot; = $&quot; + item1.getPrice() * item1.getQuantity()));\n         System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() +\n         &quot; @ $&quot; + (item2.getPrice() + &quot; = $&quot; + item2.getPrice() * item2.getQuantity()));\n         System.out.println(&quot;&quot;);\n         System.out.println(&quot;Total: $&quot; + cartTotal);\n\nfor the items to purchase:\n\npublic class ItemToPurchase {\n\n      String itemName;\n      int itemPrice;\n      int itemQuantity;\n\npublic ItemToPurchase() {\n\n      itemName = &quot;none&quot;;\n      itemPrice = 0;\n      itemQuantity = 0;\n}\npublic String getName() {\n\n    return itemName;\n\n}\npublic void setName(String itemName) {\n    this.itemName = itemName;\n}\npublic int getPrice() {\n    return itemPrice;\n}\n\npublic void setPrice(int price) {\n    if (price &lt; 0) {\n        itemPrice = 0;\n    }\n    else {\n        itemPrice = price;\n    }\n}\npublic int getQuantity() {\n    return itemQuantity;\n}\npublic void setQuantity(int quantity) {\n    if (quantity &lt; 0) {\n        itemQuantity = 0;\n    }\n    else {\n        itemQuantity = quantity;\n    }\n}\npublic void printItemPurchase() {\n      System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +\n      &quot; = $&quot; + (itemPrice * itemQuantity));\n\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":12004824,"reputation":1,"user_id":8783474,"display_name":"madeinpl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1680292231,"creation_date":1508147774,"question_id":46767528,"body_markdown":"I&#39;m having a hard time figuring out why this code is not adding up at the end in &quot;TOTAL COST&quot;.\r\n\r\nTwo classes:  \r\n\r\nShoppingCartPrinter.java and ItemToPurchase.java\r\n\r\nThe result I keep getting are all 0&#39;s in &quot;TOTAL COST&quot;.  Any help would be greatly appreciated.  Thanks.\r\n\r\nShoppingCartPrinter.java code:  \r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ShoppingCartPrinter {\r\n      public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int i = 0;\r\n      String productName;\r\n      int productPrice = 0;\r\n      int productQuantity = 0;\r\n      int cartTotal = 0;\r\n  \r\n      ItemToPurchase item1 = new ItemToPurchase();\r\n      ItemToPurchase item2 = new ItemToPurchase();\r\n\r\n      System.out.println(&quot;Item 1&quot;);\r\n      System.out.println(&quot;Enter the item name: &quot;);\r\n      productName = scnr.nextLine();                                         // Sets the variable productName for user input\r\n      \r\n      System.out.println(&quot;Enter the item price: &quot;);\r\n      productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\r\n      \r\n      System.out.println(&quot;Enter the item quantity: &quot;);\r\n      productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user user input\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      item1.setName(productName);\r\n      item1.setPrice(productPrice);\r\n      item1.setQuantity(productQuantity);\r\n \r\n      System.out.println(&quot;Item 2&quot;);\r\n      System.out.println(&quot;Enter the item name: &quot;);\r\n      scnr.nextLine();\r\n      productName = scnr.nextLine();                                         // Set the variable productName for user input\r\n      \r\n      System.out.println(&quot;Enter the item price: &quot;);\r\n      productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\r\n      \r\n      System.out.println(&quot;Enter the item quantity: &quot;);\r\n      productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user input\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      item2.setName(productName);\r\n      item2.setPrice(productPrice);\r\n      item2.setQuantity(productQuantity);\r\n      \r\n      cartTotal = (item1.getPrice() * item1.getQuantity()) + (item2.getPrice() * item2.getQuantity());\r\n      \r\n      System.out.println(&quot;TOTAL COST&quot;);\r\n      System.out.println(item1.getName() + &quot; &quot; + item1.getQuantity() + &quot; @ $&quot; + item1.getPrice()  + &quot; = $&quot; + (item1.getPrice() * item1.getQuantity()));\r\n      \r\n      System.out.println(item2.getName() + &quot; &quot; + item2.getQuantity() + &quot; @ $&quot; + item2.getPrice()  + &quot; = $&quot; + (item2.getPrice() * item2.getQuantity()));\r\n      System.out.println(&quot;&quot;);\r\n      \r\n      System.out.println(&quot;Total: $&quot; + cartTotal);\r\n      \r\n      return;\r\n       }\r\n    }\r\n\r\nItemToPurchase.java\r\n\r\n    public class ItemToPurchase {\r\n       private String itemName;\r\n       private int itemPrice;\r\n       private int itemQuantity;\r\n   \r\n    public ItemToPurchase() {\r\n      itemName = &quot;none&quot;;\r\n      itemPrice = 0;\r\n      itemQuantity = 0;\r\n      return;\r\n    }\r\n   \r\n    public void setName(String name) {\r\n      itemName = name;\r\n      return;\r\n    }\r\n   \r\n    public void setPrice(int price) {\r\n       itemPrice = 0;\r\n       return;\r\n    }\r\n   \r\n    public void setQuantity (int quantity) {\r\n       itemQuantity = 0;\r\n       return;       \r\n    }\r\n   \r\n    public String getName() {\r\n      return itemName;\r\n    }\r\n   \r\n    public int getPrice() {\r\n      return itemPrice;\r\n    }\r\n   \r\n    public int getQuantity() {\r\n       return itemQuantity;\r\n    }\r\n\r\n    public void printItemPurchase() {\r\n      System.out.println(itemQuantity + &quot; &quot; + itemName + &quot; $&quot; + itemPrice +  &quot; = $&quot; + (itemPrice * itemQuantity));\r\n    }\r\n    } ","title":"Online shopping cart java","body":"<p>I'm having a hard time figuring out why this code is not adding up at the end in \"TOTAL COST\".</p>\n\n<p>Two classes:  </p>\n\n<p>ShoppingCartPrinter.java and ItemToPurchase.java</p>\n\n<p>The result I keep getting are all 0's in \"TOTAL COST\".  Any help would be greatly appreciated.  Thanks.</p>\n\n<p>ShoppingCartPrinter.java code:  </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ShoppingCartPrinter {\n  public static void main(String[] args) {\n  Scanner scnr = new Scanner(System.in);\n  int i = 0;\n  String productName;\n  int productPrice = 0;\n  int productQuantity = 0;\n  int cartTotal = 0;\n\n  ItemToPurchase item1 = new ItemToPurchase();\n  ItemToPurchase item2 = new ItemToPurchase();\n\n  System.out.println(\"Item 1\");\n  System.out.println(\"Enter the item name: \");\n  productName = scnr.nextLine();                                         // Sets the variable productName for user input\n\n  System.out.println(\"Enter the item price: \");\n  productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\n\n  System.out.println(\"Enter the item quantity: \");\n  productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user user input\n  System.out.println(\"\");\n\n  item1.setName(productName);\n  item1.setPrice(productPrice);\n  item1.setQuantity(productQuantity);\n\n  System.out.println(\"Item 2\");\n  System.out.println(\"Enter the item name: \");\n  scnr.nextLine();\n  productName = scnr.nextLine();                                         // Set the variable productName for user input\n\n  System.out.println(\"Enter the item price: \");\n  productPrice = scnr.nextInt();                                         // Set the variable productPrice for user input\n\n  System.out.println(\"Enter the item quantity: \");\n  productQuantity = scnr.nextInt();                                      // Set the variable productQuantity for user input\n  System.out.println(\"\");\n\n  item2.setName(productName);\n  item2.setPrice(productPrice);\n  item2.setQuantity(productQuantity);\n\n  cartTotal = (item1.getPrice() * item1.getQuantity()) + (item2.getPrice() * item2.getQuantity());\n\n  System.out.println(\"TOTAL COST\");\n  System.out.println(item1.getName() + \" \" + item1.getQuantity() + \" @ $\" + item1.getPrice()  + \" = $\" + (item1.getPrice() * item1.getQuantity()));\n\n  System.out.println(item2.getName() + \" \" + item2.getQuantity() + \" @ $\" + item2.getPrice()  + \" = $\" + (item2.getPrice() * item2.getQuantity()));\n  System.out.println(\"\");\n\n  System.out.println(\"Total: $\" + cartTotal);\n\n  return;\n   }\n}\n</code></pre>\n\n<p>ItemToPurchase.java</p>\n\n<pre><code>public class ItemToPurchase {\n   private String itemName;\n   private int itemPrice;\n   private int itemQuantity;\n\npublic ItemToPurchase() {\n  itemName = \"none\";\n  itemPrice = 0;\n  itemQuantity = 0;\n  return;\n}\n\npublic void setName(String name) {\n  itemName = name;\n  return;\n}\n\npublic void setPrice(int price) {\n   itemPrice = 0;\n   return;\n}\n\npublic void setQuantity (int quantity) {\n   itemQuantity = 0;\n   return;       \n}\n\npublic String getName() {\n  return itemName;\n}\n\npublic int getPrice() {\n  return itemPrice;\n}\n\npublic int getQuantity() {\n   return itemQuantity;\n}\n\npublic void printItemPurchase() {\n  System.out.println(itemQuantity + \" \" + itemName + \" $\" + itemPrice +  \" = $\" + (itemPrice * itemQuantity));\n}\n} \n</code></pre>\n"},{"tags":["java","inputstream","java-11"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":2,"creation_date":1680292437,"post_id":75902244,"comment_id":133879733,"body_markdown":"No. Whatever is calling &quot;getMyObject&quot; might know the file name, but a Java Stream knows has no concept of a &quot;file name&quot;.","body":"No. Whatever is calling &quot;getMyObject&quot; might know the file name, but a Java Stream knows has no concept of a &quot;file name&quot;."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1680292694,"post_id":75902244,"comment_id":133879795,"body_markdown":"You could try Apache Tika to guess the content: https://tika.apache.org/. You&#39;ll have to process the content either way, though.","body":"You could try Apache Tika to guess the content: <a href=\"https://tika.apache.org/\" rel=\"nofollow noreferrer\">tika.apache.org</a>. You&#39;ll have to process the content either way, though."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":1,"creation_date":1680293255,"post_id":75902244,"comment_id":133879917,"body_markdown":"If only csv or txt are being sent, then I would check how csv-s are formatted, they mostly are comma (or other char) separated data, mostly same number of elements per row. If data matches such prediction then its probably csv, otherwise, its txt. But that is rather a hack, and will not always work - it should be fixed erlier in the process.","body":"If only csv or txt are being sent, then I would check how csv-s are formatted, they mostly are comma (or other char) separated data, mostly same number of elements per row. If data matches such prediction then its probably csv, otherwise, its txt. But that is rather a hack, and will not always work - it should be fixed erlier in the process."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680293627,"post_id":75902244,"comment_id":133879986,"body_markdown":"You could possibly just count the commas (all or on a few lines).   Statistically, I would think a csv file should have a lot more than an normal text file.","body":"You could possibly just count the commas (all or on a few lines).   Statistically, I would think a csv file should have a lot more than an normal text file."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1680293795,"post_id":75902244,"comment_id":133880014,"body_markdown":"@PetrJaneček Tika (Lucene) is a totally different use case IMHO.\nWJS What I said :-)\nmarcinj CSV is, by definition, &quot;Comma&quot; Separated Values. I know that sometimes they can be Tab separated, etc. but that is not really an &quot;identifiable&quot; attribute. See: https://en.wikipedia.org/wiki/Comma-separated_values","body":"@PetrJaneček Tika (Lucene) is a totally different use case IMHO. WJS What I said :-) marcinj CSV is, by definition, &quot;Comma&quot; Separated Values. I know that sometimes they can be Tab separated, etc. but that is not really an &quot;identifiable&quot; attribute. See: <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Comma-separated_values</a>"}],"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680292131,"creation_date":1680291875,"question_id":75902244,"body_markdown":"I am making changes in legacy code where the method i am changing is getting inputstream from caller\r\n\r\n    public customObject getMyObject(InputStream is){\r\n    \r\n            String mimeType = URLConnection.guessContentTypeFromStream(targetStream);\r\n            System.out.println(&quot;file extens id  &quot; + mimeType); // this gives null\r\n    \r\n    }\r\n\r\n\r\nBefore I process the stream i want to detect if the content is from `CSV` or text. Some times clients upload wrong file. \r\n\r\nIf file is `.txt` i dont want to process it from my method or i want to process only csv file.\r\n\r\n\r\nIs it possible to get `fileExtension` from `InputStream`\r\n","title":"Finding file type or extension from inputstream - java 11","body":"<p>I am making changes in legacy code where the method i am changing is getting inputstream from caller</p>\n<pre><code>public customObject getMyObject(InputStream is){\n\n        String mimeType = URLConnection.guessContentTypeFromStream(targetStream);\n        System.out.println(&quot;file extens id  &quot; + mimeType); // this gives null\n\n}\n</code></pre>\n<p>Before I process the stream i want to detect if the content is from <code>CSV</code> or text. Some times clients upload wrong file.</p>\n<p>If file is <code>.txt</code> i dont want to process it from my method or i want to process only csv file.</p>\n<p>Is it possible to get <code>fileExtension</code> from <code>InputStream</code></p>\n"},{"tags":["java","multithreading","thread-safety","atomic"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680291845,"post_id":75902150,"comment_id":133879580,"body_markdown":"Consider using a [thread-safe `Set`](https://stackoverflow.com/q/6720396/642706).","body":"Consider using a <a href=\"https://stackoverflow.com/q/6720396/642706\">thread-safe <code>Set</code></a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680291936,"post_id":75902150,"comment_id":133879601,"body_markdown":"`AtomicReference` protects the *reference* to the `List` object, not the *contents* of the `List`. Read the related links to learn about thread-safe `List` &amp; `Set` implementations that protect the elements.","body":"<code>AtomicReference</code> protects the <i>reference</i> to the <code>List</code> object, not the <i>contents</i> of the <code>List</code>. Read the related links to learn about thread-safe <code>List</code> &amp; <code>Set</code> implementations that protect the elements."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680292000,"post_id":75902150,"comment_id":133879619,"body_markdown":"@BasilBourque exactly my point. So, can we achieve this using any of the `Atomic` package from Java? May be by using a combinations of them?","body":"@BasilBourque exactly my point. So, can we achieve this using any of the <code>Atomic</code> package from Java? May be by using a combinations of them?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1680292039,"post_id":75902150,"comment_id":133879633,"body_markdown":"None of the `Atomic…` classes protect the elements of a collection. You are [barking up the wrong tree](https://en.wikipedia.org/wiki/Barking_up_the_wrong_tree).","body":"None of the <code>Atomic…</code> classes protect the elements of a collection. You are <a href=\"https://en.wikipedia.org/wiki/Barking_up_the_wrong_tree\" rel=\"nofollow noreferrer\">barking up the wrong tree</a>."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680292210,"post_id":75902150,"comment_id":133879680,"body_markdown":"@BasilBourque How about `ReadWriteLock`?  There will be changes and searches happening concurrently. So, the only way is to use a thread-safe collection unless we need to lock the entire list?","body":"@BasilBourque How about <code>ReadWriteLock</code>?  There will be changes and searches happening concurrently. So, the only way is to use a thread-safe collection unless we need to lock the entire list?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680350125,"post_id":75902150,"comment_id":133885662,"body_markdown":"Re, &quot;it a mandatory thing that AtomicReference expects an immutable object?&quot; No. There is no requirement that the referent of an [`AtomicReference`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html) be immutable. As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes. That is to say, there is no way (that I know of) to define some type `Foobar&lt;V&gt;` and have the compiler enforce that `V` must be immutable.","body":"Re, &quot;it a mandatory thing that AtomicReference expects an immutable object?&quot; No. There is no requirement that the referent of an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> be immutable. As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes. That is to say, there is no way (that I know of) to define some type <code>Foobar&lt;V&gt;</code> and have the compiler enforce that <code>V</code> must be immutable."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680350871,"post_id":75902150,"comment_id":133885770,"body_markdown":"Re, &quot;I want to know the behavior when a custom mutable object is used.&quot; Behavior of what? Of the AtomicReference? An AtomicReference does not interact with its referent in any way. There are no two types `Foo` and `Bar` such that an `AtomicReference&lt;Foo&gt;` would behave any differently from an `AtomicReference&lt;Bar&gt;`.","body":"Re, &quot;I want to know the behavior when a custom mutable object is used.&quot; Behavior of what? Of the AtomicReference? An AtomicReference does not interact with its referent in any way. There are no two types <code>Foo</code> and <code>Bar</code> such that an <code>AtomicReference&lt;Foo&gt;</code> would behave any differently from an <code>AtomicReference&lt;Bar&gt;</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1680351082,"post_id":75902150,"comment_id":133885793,"body_markdown":"Re, &quot;... Can we wrap that object with AtomicReference?&quot; What does &quot;wrap&quot; mean? If `AtomicReference&lt;T&gt;` &quot;wraps&quot; `T`, then sure. You can &quot;wrap&quot; _any_ type with AtomicReference. You can have AtomicReference&lt;AtomicInteger&gt; if that solves some problem for you. I don&#39;t care to imagine what problem it would solve, but Java won&#39;t stop you from doing it. You could even have AtomicReference&lt;AtomicReference&lt;AtomicReference&lt;Integer&gt;&gt;&gt;.","body":"Re, &quot;... Can we wrap that object with AtomicReference?&quot; What does &quot;wrap&quot; mean? If <code>AtomicReference&lt;T&gt;</code> &quot;wraps&quot; <code>T</code>, then sure. You can &quot;wrap&quot; <i>any</i> type with AtomicReference. You can have AtomicReference&lt;AtomicInteger&gt; if that solves some problem for you. I don&#39;t care to imagine what problem it would solve, but Java won&#39;t stop you from doing it. You could even have AtomicReference&lt;AtomicReference&lt;AtomicReference&lt;Integer&gt;&gt;&gt;."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1680368799,"post_id":75902150,"comment_id":133888343,"body_markdown":"@SolomonSlow\n`As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes.` --&gt; what do you mean??","body":"@SolomonSlow <code>As far as I know, &quot;immutable object&quot; is not even a concept that the Java language recognizes.</code> --&gt; what do you mean??"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1680373323,"post_id":75902150,"comment_id":133889008,"body_markdown":"What I mean is, If I define some API, and if my API allows you to submit instances of some class that you declare in your own code, then I don&#39;t know any way I can prevent you from submitting _mutable_ instances. I can tell you not to do it in my documentation. And maybe, under some circumstances, I could notice that you have mutated an instance after you gave me and, I could raise an exception; but there&#39;s nothing I can do to outright _prevent_ you from giving me a mutable instance in the first place. Java&#39;s type machinery has no way of specifying an immutable data type.","body":"What I mean is, If I define some API, and if my API allows you to submit instances of some class that you declare in your own code, then I don&#39;t know any way I can prevent you from submitting <i>mutable</i> instances. I can tell you not to do it in my documentation. And maybe, under some circumstances, I could notice that you have mutated an instance after you gave me and, I could raise an exception; but there&#39;s nothing I can do to outright <i>prevent</i> you from giving me a mutable instance in the first place. Java&#39;s type machinery has no way of specifying an immutable data type."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680291902,"creation_date":1680291474,"answer_id":75902196,"question_id":75902150,"body_markdown":"If the list itself doesn&#39;t change then you should not be looking at AtomicReference.\r\n\r\nIt looks like you need `ReadWriteLock`, allowing multiple threads to check the list at once while locking during changes to the list.\r\n\r\nTo check if it is in the list you need `Lock readLock()` and to change it `Lock writeLock()`.\r\n\r\nThere are many examples for this kind of usage.\r\n\r\nAfter comment from OP: Changes not just compare can be made.\r\n\r\nGet the readLock, see if it is contained in the list, then get the writeLock if you have to add it to the list. You only acquire the writeLock if a change is needed.","title":"How to check if an ArrayList contains an element atomically?","body":"<p>If the list itself doesn't change then you should not be looking at AtomicReference.</p>\n<p>It looks like you need <code>ReadWriteLock</code>, allowing multiple threads to check the list at once while locking during changes to the list.</p>\n<p>To check if it is in the list you need <code>Lock readLock()</code> and to change it <code>Lock writeLock()</code>.</p>\n<p>There are many examples for this kind of usage.</p>\n<p>After comment from OP: Changes not just compare can be made.</p>\n<p>Get the readLock, see if it is contained in the list, then get the writeLock if you have to add it to the list. You only acquire the writeLock if a change is needed.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680291707,"accepted_answer_id":75902196,"answer_count":1,"score":-1,"last_activity_date":1680291902,"creation_date":1680291144,"question_id":75902150,"body_markdown":"Let&#39;s say, We&#39;re trying to add several elements into an `ArrayList`. At the same time, the same list is being searched for `list.contains(givenElement)`. \r\n\r\nThen, how do we achieve thread-safety without locking the whole `list` object?\r\nIn other words, how can multiple threads access this list and perform operations `atomically`?  I would like to know how to achieve this using `AtomicReference`.\r\n\r\nI can create an `AtomicReference` variable with the `list` loaded in it. But, then how do I do `contains()` operation atomically without doing `compareAndSet()` on whole `list` ?   \r\n\r\n\r\nNote that I&#39;m looking for solutions other than using thread-safe collections. \r\n","title":"How to check if an ArrayList contains an element atomically?","body":"<p>Let's say, We're trying to add several elements into an <code>ArrayList</code>. At the same time, the same list is being searched for <code>list.contains(givenElement)</code>.</p>\n<p>Then, how do we achieve thread-safety without locking the whole <code>list</code> object?\nIn other words, how can multiple threads access this list and perform operations <code>atomically</code>?  I would like to know how to achieve this using <code>AtomicReference</code>.</p>\n<p>I can create an <code>AtomicReference</code> variable with the <code>list</code> loaded in it. But, then how do I do <code>contains()</code> operation atomically without doing <code>compareAndSet()</code> on whole <code>list</code> ?</p>\n<p>Note that I'm looking for solutions other than using thread-safe collections.</p>\n"},{"tags":["java","validation","calendar","date"],"comments":[{"owner":{"account_id":8519,"reputation":175107,"user_id":15416,"accept_rate":63,"display_name":"MSalters"},"score":0,"creation_date":1271082667,"post_id":226910,"comment_id":2635177,"body_markdown":"For anyone with a similar question, please consider whether you need non-Gregorian calendar support.","body":"For anyone with a similar question, please consider whether you need non-Gregorian calendar support."}],"answers":[{"tags":[],"owner":{"account_id":9016,"reputation":16147,"user_id":16476,"accept_rate":63,"display_name":"AdamC"},"down_vote_count":11,"up_vote_count":50,"is_accepted":true,"score":39,"last_activity_date":1452193055,"creation_date":1224698887,"answer_id":226920,"question_id":226910,"body_markdown":"The current way is to use the calendar class.  It has the [setLenient][1] method that will validate the date and throw and exception if it is out of range as in your example.  \r\n\r\nForgot to add:\r\nIf you get a calendar instance and set the time using your date, this is how you get the validation.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setLenient(false);\r\n    cal.setTime(yourDate);\r\n    try {\r\n        cal.getTime();\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println(&quot;Invalid date&quot;);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#setLenient%28boolean%29","title":"How to sanity check a date in Java","body":"<p>The current way is to use the calendar class.  It has the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#setLenient%28boolean%29\" rel=\"noreferrer\">setLenient</a> method that will validate the date and throw and exception if it is out of range as in your example.  </p>\n\n<p>Forgot to add:\nIf you get a calendar instance and set the time using your date, this is how you get the validation.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setLenient(false);\ncal.setTime(yourDate);\ntry {\n    cal.getTime();\n}\ncatch (Exception e) {\n  System.out.println(\"Invalid date\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13632,"reputation":1583,"user_id":27520,"display_name":"Maglob"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1224704144,"creation_date":1224704144,"answer_id":227232,"question_id":226910,"body_markdown":"You can use [SimpleDateFormat][1]\r\n\r\nFor example something like:\r\n\r\n    boolean isLegalDate(String s) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        sdf.setLenient(false);\r\n        return sdf.parse(s, new ParsePosition(0)) != null;\r\n    }\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html","title":"How to sanity check a date in Java","body":"<p>You can use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a></p>\n\n<p>For example something like:</p>\n\n<pre><code>boolean isLegalDate(String s) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    sdf.setLenient(false);\n    return sdf.parse(s, new ParsePosition(0)) != null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4252,"reputation":16524,"user_id":6329,"accept_rate":75,"display_name":"tardate"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1242968658,"creation_date":1242900496,"answer_id":892204,"question_id":226910,"body_markdown":"As shown by @Maglob, the basic approach is to test the conversion from string to date using [SimpleDateFormat.parse][1]. That will catch invalid day/month combinations like 2008-02-31.\r\n\r\nHowever, in practice that is rarely enough since SimpleDateFormat.parse is exceedingly liberal. There are two behaviours you might be concerned with:\r\n\r\n**Invalid characters in the date string**\r\nSurprisingly, 2008-02-2x will &quot;pass&quot; as a valid date with locale format = &quot;yyyy-MM-dd&quot; for example. Even when isLenient==false.\r\n\r\n**Years: 2, 3 or 4 digits?**\r\nYou may also want to enforce 4-digit years rather than allowing the default SimpleDateFormat behaviour (which will interpret &quot;12-02-31&quot; differently depending on whether your format was &quot;yyyy-MM-dd&quot; or &quot;yy-MM-dd&quot;)\r\n\r\nA Strict Solution with the Standard Library\r\n-------------------------------------------\r\n\r\nSo a complete string to date test could look like this: a combination of regex match, and then a forced date conversion. The trick with the regex is to make it locale-friendly.\r\n\r\n      Date parseDate(String maybeDate, String format, boolean lenient) {\r\n        Date date = null;\r\n        \r\n        // test date string matches format structure using regex\r\n        // - weed out illegal characters and enforce 4-digit year\r\n        // - create the regex based on the local format string\r\n        String reFormat = Pattern.compile(&quot;d+|M+&quot;).matcher(Matcher.quoteReplacement(format)).replaceAll(&quot;\\\\\\\\d{1,2}&quot;);\r\n        reFormat = Pattern.compile(&quot;y+&quot;).matcher(reFormat).replaceAll(&quot;\\\\\\\\d{4}&quot;);\r\n        if ( Pattern.compile(reFormat).matcher(maybeDate).matches() ) {\r\n    \r\n          // date string matches format structure, \r\n          // - now test it can be converted to a valid date\r\n          SimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance();\r\n          sdf.applyPattern(format);\r\n          sdf.setLenient(lenient);\r\n          try { date = sdf.parse(maybeDate); } catch (ParseException e) { }\r\n        } \r\n        return date;\r\n      } \r\n      \r\n      // used like this:\r\n      Date date = parseDate( &quot;21/5/2009&quot;, &quot;d/M/yyyy&quot;, false);\r\n\r\n \r\nNote that the regex assumes the format string contains only day, month, year, and separator characters. Aside from that, format can be in any locale format: &quot;d/MM/yy&quot;, &quot;yyyy-MM-dd&quot;, and so on. The format string for the current locale could be obtained like this:\r\n\r\n    Locale locale = Locale.getDefault();\r\n    SimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance(DateFormat.SHORT, locale );\r\n    String format = sdf.toPattern();\r\n\r\nJoda Time - Better Alternative?\r\n-------------------------------\r\n\r\nI&#39;ve been hearing about [joda time][2] recently and thought I&#39;d compare. Two points:\r\n\r\n 1. Seems better at being strict about invalid characters in the date string, unlike SimpleDateFormat\r\n 2. Can&#39;t see a way to enforce 4-digit years with it yet (but I guess you could create your own [DateTimeFormatter][3] for this purpose)\r\n\r\nIt&#39;s quite simple to use:\r\n\r\n    import org.joda.time.format.*;\r\n    import org.joda.time.DateTime;\r\n    \r\n    org.joda.time.DateTime parseDate(String maybeDate, String format) {\r\n      org.joda.time.DateTime date = null;\r\n      try {\r\n        DateTimeFormatter fmt = DateTimeFormat.forPattern(format);\r\n        date =  fmt.parseDateTime(maybeDate);\r\n      } catch (Exception e) { }\r\n      return date;\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://joda-time.sourceforge.net/\r\n  [3]: http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormatter.html","title":"How to sanity check a date in Java","body":"<p>As shown by @Maglob, the basic approach is to test the conversion from string to date using <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat.parse</a>. That will catch invalid day/month combinations like 2008-02-31.</p>\n\n<p>However, in practice that is rarely enough since SimpleDateFormat.parse is exceedingly liberal. There are two behaviours you might be concerned with:</p>\n\n<p><strong>Invalid characters in the date string</strong>\nSurprisingly, 2008-02-2x will \"pass\" as a valid date with locale format = \"yyyy-MM-dd\" for example. Even when isLenient==false.</p>\n\n<p><strong>Years: 2, 3 or 4 digits?</strong>\nYou may also want to enforce 4-digit years rather than allowing the default SimpleDateFormat behaviour (which will interpret \"12-02-31\" differently depending on whether your format was \"yyyy-MM-dd\" or \"yy-MM-dd\")</p>\n\n<h2>A Strict Solution with the Standard Library</h2>\n\n<p>So a complete string to date test could look like this: a combination of regex match, and then a forced date conversion. The trick with the regex is to make it locale-friendly.</p>\n\n<pre><code>  Date parseDate(String maybeDate, String format, boolean lenient) {\n    Date date = null;\n\n    // test date string matches format structure using regex\n    // - weed out illegal characters and enforce 4-digit year\n    // - create the regex based on the local format string\n    String reFormat = Pattern.compile(\"d+|M+\").matcher(Matcher.quoteReplacement(format)).replaceAll(\"\\\\\\\\d{1,2}\");\n    reFormat = Pattern.compile(\"y+\").matcher(reFormat).replaceAll(\"\\\\\\\\d{4}\");\n    if ( Pattern.compile(reFormat).matcher(maybeDate).matches() ) {\n\n      // date string matches format structure, \n      // - now test it can be converted to a valid date\n      SimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance();\n      sdf.applyPattern(format);\n      sdf.setLenient(lenient);\n      try { date = sdf.parse(maybeDate); } catch (ParseException e) { }\n    } \n    return date;\n  } \n\n  // used like this:\n  Date date = parseDate( \"21/5/2009\", \"d/M/yyyy\", false);\n</code></pre>\n\n<p>Note that the regex assumes the format string contains only day, month, year, and separator characters. Aside from that, format can be in any locale format: \"d/MM/yy\", \"yyyy-MM-dd\", and so on. The format string for the current locale could be obtained like this:</p>\n\n<pre><code>Locale locale = Locale.getDefault();\nSimpleDateFormat sdf = (SimpleDateFormat)DateFormat.getDateInstance(DateFormat.SHORT, locale );\nString format = sdf.toPattern();\n</code></pre>\n\n<h2>Joda Time - Better Alternative?</h2>\n\n<p>I've been hearing about <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">joda time</a> recently and thought I'd compare. Two points:</p>\n\n<ol>\n<li>Seems better at being strict about invalid characters in the date string, unlike SimpleDateFormat</li>\n<li>Can't see a way to enforce 4-digit years with it yet (but I guess you could create your own <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">DateTimeFormatter</a> for this purpose)</li>\n</ol>\n\n<p>It's quite simple to use:</p>\n\n<pre><code>import org.joda.time.format.*;\nimport org.joda.time.DateTime;\n\norg.joda.time.DateTime parseDate(String maybeDate, String format) {\n  org.joda.time.DateTime date = null;\n  try {\n    DateTimeFormatter fmt = DateTimeFormat.forPattern(format);\n    date =  fmt.parseDateTime(maybeDate);\n  } catch (Exception e) { }\n  return date;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37204,"reputation":242,"user_id":106320,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242918225,"creation_date":1242918225,"answer_id":893408,"question_id":226910,"body_markdown":"Two comments on the use of SimpleDateFormat.\r\n&gt; it should be declared as a static instance\r\n&gt; if declared as static access should be synchronized as it is not thread safe\r\n\r\nIME that is better that instantiating an instance for each parse of a date.","title":"How to sanity check a date in Java","body":"<p>Two comments on the use of SimpleDateFormat.</p>\n\n<blockquote>\n  <p>it should be declared as a static instance\n  if declared as static access should be synchronized as it is not thread safe</p>\n</blockquote>\n\n<p>IME that is better that instantiating an instance for each parse of a date.</p>\n"},{"tags":[],"owner":{"account_id":604852,"reputation":71,"user_id":314577,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1271080828,"creation_date":1271080828,"answer_id":2622589,"question_id":226910,"body_markdown":"An alternative strict solution using the standard library is to perform the following:\r\n\r\n1) Create a strict SimpleDateFormat using your pattern\r\n\r\n2) Attempt to parse the user entered value using the format object\r\n\r\n3) If successful, reformat the Date resulting from (2) using the same date format (from (1))\r\n\r\n4) Compare the reformatted date against the original, user-entered value. If they&#39;re equal then the value entered strictly matches your pattern.\r\n\r\nThis way, you don&#39;t need to create complex regular expressions - in my case I needed to support all of SimpleDateFormat&#39;s pattern syntax, rather than be limited to certain types like just days, months and years.","title":"How to sanity check a date in Java","body":"<p>An alternative strict solution using the standard library is to perform the following:</p>\n\n<p>1) Create a strict SimpleDateFormat using your pattern</p>\n\n<p>2) Attempt to parse the user entered value using the format object</p>\n\n<p>3) If successful, reformat the Date resulting from (2) using the same date format (from (1))</p>\n\n<p>4) Compare the reformatted date against the original, user-entered value. If they're equal then the value entered strictly matches your pattern.</p>\n\n<p>This way, you don't need to create complex regular expressions - in my case I needed to support all of SimpleDateFormat's pattern syntax, rather than be limited to certain types like just days, months and years.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293228909,"creation_date":1293219901,"answer_id":4528089,"question_id":226910,"body_markdown":"Assuming that both of those are Strings (otherwise they&#39;d already be valid Dates), here&#39;s one way:\r\n\r\n    package cruft;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DateValidator\r\n    {\r\n        private static final DateFormat DEFAULT_FORMATTER;\r\n    \r\n        static\r\n        {\r\n            DEFAULT_FORMATTER = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n            DEFAULT_FORMATTER.setLenient(false);\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            for (String dateString : args)\r\n            {\r\n                try\r\n                {\r\n                    System.out.println(&quot;arg: &quot; + dateString + &quot; date: &quot; + convertDateString(dateString));\r\n                }\r\n                catch (ParseException e)\r\n                {\r\n                    System.out.println(&quot;could not parse &quot; + dateString);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static Date convertDateString(String dateString) throws ParseException\r\n        {\r\n            return DEFAULT_FORMATTER.parse(dateString);\r\n        }\r\n    }\r\n\r\nHere&#39;s the output I get:\r\n\r\n\r\n    java cruft.DateValidator 32-11-2010 31-02-2010 04-01-2011\r\n    could not parse 32-11-2010\r\n    could not parse 31-02-2010\r\n    arg: 04-01-2011 date: Tue Jan 04 00:00:00 EST 2011\r\n    \r\n    Process finished with exit code 0\r\n\r\nAs you can see, it does handle both of your cases nicely.\r\n","title":"How to sanity check a date in Java","body":"<p>Assuming that both of those are Strings (otherwise they'd already be valid Dates), here's one way:</p>\n\n<pre><code>package cruft;\n\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateValidator\n{\n    private static final DateFormat DEFAULT_FORMATTER;\n\n    static\n    {\n        DEFAULT_FORMATTER = new SimpleDateFormat(\"dd-MM-yyyy\");\n        DEFAULT_FORMATTER.setLenient(false);\n    }\n\n    public static void main(String[] args)\n    {\n        for (String dateString : args)\n        {\n            try\n            {\n                System.out.println(\"arg: \" + dateString + \" date: \" + convertDateString(dateString));\n            }\n            catch (ParseException e)\n            {\n                System.out.println(\"could not parse \" + dateString);\n            }\n        }\n    }\n\n    public static Date convertDateString(String dateString) throws ParseException\n    {\n        return DEFAULT_FORMATTER.parse(dateString);\n    }\n}\n</code></pre>\n\n<p>Here's the output I get:</p>\n\n<pre><code>java cruft.DateValidator 32-11-2010 31-02-2010 04-01-2011\ncould not parse 32-11-2010\ncould not parse 31-02-2010\narg: 04-01-2011 date: Tue Jan 04 00:00:00 EST 2011\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>As you can see, it does handle both of your cases nicely.</p>\n"},{"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"down_vote_count":2,"up_vote_count":93,"is_accepted":false,"score":91,"last_activity_date":1674465724,"creation_date":1293219979,"answer_id":4528094,"question_id":226910,"body_markdown":"Key is `df.setLenient(false);`. This is more than enough for simple cases. If you are looking for a more robust (I doubt that) and/or alternate libraries like [joda-time](https://www.joda.org/joda-time/), then look at the [answer by user &quot;tardate&quot;][1]\r\n\r\n    final static String DATE_FORMAT = &quot;dd-MM-yyyy&quot;;\r\n\r\n    public static boolean isDateValid(String date)\r\n    {\r\n            try {\r\n                DateFormat df = new SimpleDateFormat(DATE_FORMAT);\r\n                df.setLenient(false);\r\n                df.parse(date);\r\n                return true;\r\n            } catch (ParseException e) {\r\n                return false;\r\n            }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/892204/1076848\r\n","title":"How to sanity check a date in Java","body":"<p>Key is <code>df.setLenient(false);</code>. This is more than enough for simple cases. If you are looking for a more robust (I doubt that) and/or alternate libraries like <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">joda-time</a>, then look at the <a href=\"https://stackoverflow.com/a/892204/1076848\">answer by user &quot;tardate&quot;</a></p>\n<pre><code>final static String DATE_FORMAT = &quot;dd-MM-yyyy&quot;;\n\npublic static boolean isDateValid(String date)\n{\n        try {\n            DateFormat df = new SimpleDateFormat(DATE_FORMAT);\n            df.setLenient(false);\n            df.parse(date);\n            return true;\n        } catch (ParseException e) {\n            return false;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1510126,"reputation":5466,"user_id":1412471,"accept_rate":60,"display_name":"Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363169504,"creation_date":1363169504,"answer_id":15382305,"question_id":226910,"body_markdown":"Above methods of date parsing are nice , i just added new check in existing methods that double check the converted date  with original date using formater, so it works for almost each case as i verified. e.g. 02/29/2013 is invalid date.\r\nGiven function parse the date according to current acceptable date formats. It returns true if date is not parsed successfully.\r\n \r\n   \r\n\r\n     public final boolean validateDateFormat(final String date) {\r\n            String[] formatStrings = {&quot;MM/dd/yyyy&quot;};\r\n            boolean isInvalidFormat = false;\r\n            Date dateObj;\r\n            for (String formatString : formatStrings) {\r\n                try {\r\n                    SimpleDateFormat sdf = (SimpleDateFormat) DateFormat.getDateInstance();\r\n                    sdf.applyPattern(formatString);\r\n                    sdf.setLenient(false);\r\n                    dateObj = sdf.parse(date);\r\n                    System.out.println(dateObj);\r\n                    if (date.equals(sdf.format(dateObj))) {\r\n                        isInvalidFormat = false;\r\n                        break;\r\n                    }\r\n                } catch (ParseException e) {\r\n                    isInvalidFormat = true;\r\n                }\r\n            }\r\n            return isInvalidFormat;\r\n        }\r\n","title":"How to sanity check a date in Java","body":"<p>Above methods of date parsing are nice , i just added new check in existing methods that double check the converted date  with original date using formater, so it works for almost each case as i verified. e.g. 02/29/2013 is invalid date.\nGiven function parse the date according to current acceptable date formats. It returns true if date is not parsed successfully.</p>\n\n<pre><code> public final boolean validateDateFormat(final String date) {\n        String[] formatStrings = {\"MM/dd/yyyy\"};\n        boolean isInvalidFormat = false;\n        Date dateObj;\n        for (String formatString : formatStrings) {\n            try {\n                SimpleDateFormat sdf = (SimpleDateFormat) DateFormat.getDateInstance();\n                sdf.applyPattern(formatString);\n                sdf.setLenient(false);\n                dateObj = sdf.parse(date);\n                System.out.println(dateObj);\n                if (date.equals(sdf.format(dateObj))) {\n                    isInvalidFormat = false;\n                    break;\n                }\n            } catch (ParseException e) {\n                isInvalidFormat = true;\n            }\n        }\n        return isInvalidFormat;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1395473,"reputation":730,"user_id":1325331,"display_name":"Ziya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1374096781,"creation_date":1374096781,"answer_id":17710658,"question_id":226910,"body_markdown":"I suggest you to use &lt;code&gt;org.apache.commons.validator.GenericValidator&lt;/code&gt; class from apache.\r\n\r\n&lt;code&gt;GenericValidator.isDate(String value, String datePattern, boolean strict);&lt;/code&gt;\r\n\r\nNote: strict - Whether or not to have an exact match of the datePattern.","title":"How to sanity check a date in Java","body":"<p>I suggest you to use <code>org.apache.commons.validator.GenericValidator</code> class from apache.</p>\n\n<p><code>GenericValidator.isDate(String value, String datePattern, boolean strict);</code></p>\n\n<p>Note: strict - Whether or not to have an exact match of the datePattern.</p>\n"},{"tags":[],"owner":{"account_id":157581,"reputation":29,"user_id":2084112,"display_name":"Dresden Sparrow"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1378499888,"creation_date":1378499888,"answer_id":18666219,"question_id":226910,"body_markdown":"This is working great for me. Approach suggested above by Ben.    \r\n\r\n    private static boolean isDateValid(String s) {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        try {\r\n            Date d = asDate(s);\r\n            if (sdf.format(d).equals(s)) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        } catch (ParseException e) {\r\n            return false;\r\n        }\r\n    }","title":"How to sanity check a date in Java","body":"<p>This is working great for me. Approach suggested above by Ben.    </p>\n\n<pre><code>private static boolean isDateValid(String s) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\n    try {\n        Date d = asDate(s);\n        if (sdf.format(d).equals(s)) {\n            return true;\n        } else {\n            return false;\n        }\n    } catch (ParseException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1645357341,"creation_date":1399071328,"answer_id":23438158,"question_id":226910,"body_markdown":"# java.time\r\n\r\nWith the [Date and Time API][1] ([java.time][2] classes) built into Java 8 and later, you can use the [`LocalDate`][3] class.\r\n\r\n    public static boolean isDateValid(int year, int month, int day) {\r\n        try {\r\n            LocalDate.of(year, month, day);\r\n        } catch (DateTimeException e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n","title":"How to sanity check a date in Java","body":"<h1>java.time</h1>\n<p>With the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Date and Time API</a> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes) built into Java 8 and later, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class.</p>\n<pre><code>public static boolean isDateValid(int year, int month, int day) {\n    try {\n        LocalDate.of(year, month, day);\n    } catch (DateTimeException e) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1565851786,"creation_date":1432900450,"answer_id":30528952,"question_id":226910,"body_markdown":"Building on [Aravind&#39;s answer][1] to fix the problem pointed out by [ceklock in his comment][2], I added a method to verify that the `dateString` doesn&#39;t contain any invalid character.\r\n\r\nHere is how I do:\r\n\r\n    private boolean isDateCorrect(String dateString) {\r\n\t\ttry {\r\n\t\t\tDate date = mDateFormatter.parse(dateString);\r\n\t\t\tCalendar calendar = Calendar.getInstance();\r\n\t\t\tcalendar.setTime(date);\r\n\t\t\treturn matchesOurDatePattern(dateString);    //added my method\r\n\t\t}\r\n\t\tcatch (ParseException e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * This will check if the provided string matches our date format\r\n\t * @param dateString\r\n\t * @return true if the passed string matches format 2014-1-15 (YYYY-MM-dd)\r\n\t */\r\n\tprivate boolean matchesDatePattern(String dateString) {\r\n\t\treturn dateString.matches(&quot;^\\\\d+\\\\-\\\\d+\\\\-\\\\d+&quot;);\r\n\t}\r\n\r\n  [1]: https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/4528094#4528094\r\n  [2]: https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/30528952#comment35086192_4528094","title":"How to sanity check a date in Java","body":"<p>Building on <a href=\"https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/4528094#4528094\">Aravind's answer</a> to fix the problem pointed out by <a href=\"https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java/30528952#comment35086192_4528094\">ceklock in his comment</a>, I added a method to verify that the <code>dateString</code> doesn't contain any invalid character.</p>\n\n<p>Here is how I do:</p>\n\n<pre><code>private boolean isDateCorrect(String dateString) {\n    try {\n        Date date = mDateFormatter.parse(dateString);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(date);\n        return matchesOurDatePattern(dateString);    //added my method\n    }\n    catch (ParseException e) {\n        return false;\n    }\n}\n\n/**\n * This will check if the provided string matches our date format\n * @param dateString\n * @return true if the passed string matches format 2014-1-15 (YYYY-MM-dd)\n */\nprivate boolean matchesDatePattern(String dateString) {\n    return dateString.matches(\"^\\\\d+\\\\-\\\\d+\\\\-\\\\d+\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7773637,"reputation":51,"user_id":5882412,"display_name":"mawa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1454579360,"creation_date":1454579360,"answer_id":35197612,"question_id":226910,"body_markdown":"I think the simpliest is just to convert a string into a date object and convert it back to a string. The given date string is fine if both strings still match.\r\n\r\n    public boolean isDateValid(String dateString, String pattern)\r\n    {\t\r\n        try\r\n        {\r\n            SimpleDateFormat sdf = new SimpleDateFormat(pattern);\r\n            if (sdf.format(sdf.parse(dateString)).equals(dateString))\r\n                return true;\r\n        }\r\n        catch (ParseException pe) {}\r\n        \r\n        return false;\r\n    }\r\n","title":"How to sanity check a date in Java","body":"<p>I think the simpliest is just to convert a string into a date object and convert it back to a string. The given date string is fine if both strings still match.</p>\n\n<pre><code>public boolean isDateValid(String dateString, String pattern)\n{   \n    try\n    {\n        SimpleDateFormat sdf = new SimpleDateFormat(pattern);\n        if (sdf.format(sdf.parse(dateString)).equals(dateString))\n            return true;\n    }\n    catch (ParseException pe) {}\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5667532,"reputation":427,"user_id":4483303,"display_name":"TennisVisuals"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472748684,"creation_date":1472748684,"answer_id":39276958,"question_id":226910,"body_markdown":"Here&#39;s what I did for Node environment using no external libraries:\r\n\r\n    Date.prototype.yyyymmdd = function() {\r\n       var yyyy = this.getFullYear().toString();\r\n       var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based\r\n       var dd  = this.getDate().toString();\r\n       return zeroPad([yyyy, mm, dd].join(&#39;-&#39;));  \r\n    };\r\n\r\n    function zeroPad(date_string) {\r\n       var dt = date_string.split(&#39;-&#39;);\r\n       return dt[0] + &#39;-&#39; + (dt[1][1]?dt[1]:&quot;0&quot;+dt[1][0]) + &#39;-&#39; + (dt[2][1]?dt[2]:&quot;0&quot;+dt[2][0]);\r\n    }\r\n\r\n    function isDateCorrect(in_string) {\r\n       if (!matchesDatePattern) return false;\r\n       in_string = zeroPad(in_string);\r\n       try {\r\n          var idate = new Date(in_string);\r\n          var out_string = idate.yyyymmdd();\r\n          return in_string == out_string;\r\n       } catch(err) {\r\n          return false;\r\n       }\r\n\r\n       function matchesDatePattern(date_string) {\r\n          var dateFormat = /[0-9]+-[0-9]+-[0-9]+/;\r\n          return dateFormat.test(date_string); \r\n       }\r\n    }\r\n\r\nAnd here is how to use it:\r\n\r\n    isDateCorrect(&#39;2014-02-23&#39;)\r\n    true\r\n\r\n","title":"How to sanity check a date in Java","body":"<p>Here's what I did for Node environment using no external libraries:</p>\n\n<pre><code>Date.prototype.yyyymmdd = function() {\n   var yyyy = this.getFullYear().toString();\n   var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based\n   var dd  = this.getDate().toString();\n   return zeroPad([yyyy, mm, dd].join('-'));  \n};\n\nfunction zeroPad(date_string) {\n   var dt = date_string.split('-');\n   return dt[0] + '-' + (dt[1][1]?dt[1]:\"0\"+dt[1][0]) + '-' + (dt[2][1]?dt[2]:\"0\"+dt[2][0]);\n}\n\nfunction isDateCorrect(in_string) {\n   if (!matchesDatePattern) return false;\n   in_string = zeroPad(in_string);\n   try {\n      var idate = new Date(in_string);\n      var out_string = idate.yyyymmdd();\n      return in_string == out_string;\n   } catch(err) {\n      return false;\n   }\n\n   function matchesDatePattern(date_string) {\n      var dateFormat = /[0-9]+-[0-9]+-[0-9]+/;\n      return dateFormat.test(date_string); \n   }\n}\n</code></pre>\n\n<p>And here is how to use it:</p>\n\n<pre><code>isDateCorrect('2014-02-23')\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1570067686,"creation_date":1474583109,"answer_id":39649815,"question_id":226910,"body_markdown":"# tl;dr\r\n\r\nUse the [strict mode][1] on [`java.time.DateTimeFormatter`][2] to parse a [`LocalDate`][3]. Trap for the [`DateTimeParseException`][4].\r\n\r\n    LocalDate.parse(                   // Represent a date-only value, without time-of-day and without time zone.\r\n        &quot;31/02/2000&quot; ,                 // Input string.\r\n        DateTimeFormatter              // Define a formatting pattern to match your input string.\r\n        .ofPattern ( &quot;dd/MM/uuuu&quot; )\r\n        .withResolverStyle ( ResolverStyle.STRICT )  // Specify leniency in tolerating questionable inputs.\r\n    )\r\n\r\nAfter parsing, you might check for reasonable value. For example, a birth date within last one hundred years.\r\n\r\n    birthDate.isAfter( LocalDate.now().minusYears( 100 ) )\r\n\r\n# Avoid legacy date-time classes\r\n\r\nAvoid using the troublesome old date-time classes shipped with the earliest versions of Java. Now supplanted by the [java.time][5] classes.\r\n\r\n# `LocalDate` &amp; `DateTimeFormatter` &amp; `ResolverStyle`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    String input = &quot;31/02/2000&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;dd/MM/uuuu&quot; );\r\n    try {\r\n        LocalDate ld = LocalDate.parse ( input , f );\r\n        System.out.println ( &quot;ld: &quot; + ld );\r\n    } catch ( DateTimeParseException e ) {\r\n        System.out.println ( &quot;ERROR: &quot; + e );\r\n    }\r\n\r\nThe [`java.time.DateTimeFormatter`][2] class can be set to parse strings with any of three leniency modes defined in the [`ResolverStyle`][6] enum. We insert a line into the above code to try each of the modes.\r\n\r\n    f = f.withResolverStyle ( ResolverStyle.LENIENT );\r\n\r\nThe results:\r\n\r\n - `ResolverStyle.LENIENT`&lt;br /&gt;ld: 2000-03-02\r\n - `ResolverStyle.SMART`&lt;br /&gt;ld: 2000-02-29\r\n - `ResolverStyle.STRICT`&lt;br /&gt;ERROR: java.time.format.DateTimeParseException: Text &#39;31/02/2000&#39; could not be parsed: Invalid date &#39;FEBRUARY 31&#39;\r\n\r\nWe can see that in [`ResolverStyle.LENIENT`][7] mode, the invalid date is moved forward an equivalent number of days. In [`ResolverStyle.SMART`][8] mode (the default), a logical decision is made to keep the date within the month and going with the last possible day of the month, Feb 29 in a leap year, as there is no 31st day in that month. The [`ResolverStyle.STRICT`][1] mode throws an exception complaining that there is no such date.\r\n\r\nAll three of these are reasonable depending on your business problem and policies. Sounds like in your case you want the strict mode to reject the invalid date rather than adjust it.\r\n\r\n\r\n----------\r\n\r\n\r\n[![Table of all date-time types in Java, both modern and legacy.][9]][9]\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][10]][10]\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#LENIENT\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#SMART\r\n  [9]: https://i.stack.imgur.com/bDIIx.png\r\n  [10]: https://i.stack.imgur.com/JV8ms.png","title":"How to sanity check a date in Java","body":"<h1>tl;dr</h1>\n\n<p>Use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT\" rel=\"noreferrer\">strict mode</a> on <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>java.time.DateTimeFormatter</code></a> to parse a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>. Trap for the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeParseException.html\" rel=\"noreferrer\"><code>DateTimeParseException</code></a>.</p>\n\n<pre><code>LocalDate.parse(                   // Represent a date-only value, without time-of-day and without time zone.\n    \"31/02/2000\" ,                 // Input string.\n    DateTimeFormatter              // Define a formatting pattern to match your input string.\n    .ofPattern ( \"dd/MM/uuuu\" )\n    .withResolverStyle ( ResolverStyle.STRICT )  // Specify leniency in tolerating questionable inputs.\n)\n</code></pre>\n\n<p>After parsing, you might check for reasonable value. For example, a birth date within last one hundred years.</p>\n\n<pre><code>birthDate.isAfter( LocalDate.now().minusYears( 100 ) )\n</code></pre>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>Avoid using the troublesome old date-time classes shipped with the earliest versions of Java. Now supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<h1><code>LocalDate</code> &amp; <code>DateTimeFormatter</code> &amp; <code>ResolverStyle</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>String input = \"31/02/2000\";\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( \"dd/MM/uuuu\" );\ntry {\n    LocalDate ld = LocalDate.parse ( input , f );\n    System.out.println ( \"ld: \" + ld );\n} catch ( DateTimeParseException e ) {\n    System.out.println ( \"ERROR: \" + e );\n}\n</code></pre>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>java.time.DateTimeFormatter</code></a> class can be set to parse strings with any of three leniency modes defined in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html\" rel=\"noreferrer\"><code>ResolverStyle</code></a> enum. We insert a line into the above code to try each of the modes.</p>\n\n<pre><code>f = f.withResolverStyle ( ResolverStyle.LENIENT );\n</code></pre>\n\n<p>The results:</p>\n\n<ul>\n<li><code>ResolverStyle.LENIENT</code><br />ld: 2000-03-02</li>\n<li><code>ResolverStyle.SMART</code><br />ld: 2000-02-29</li>\n<li><code>ResolverStyle.STRICT</code><br />ERROR: java.time.format.DateTimeParseException: Text '31/02/2000' could not be parsed: Invalid date 'FEBRUARY 31'</li>\n</ul>\n\n<p>We can see that in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#LENIENT\" rel=\"noreferrer\"><code>ResolverStyle.LENIENT</code></a> mode, the invalid date is moved forward an equivalent number of days. In <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#SMART\" rel=\"noreferrer\"><code>ResolverStyle.SMART</code></a> mode (the default), a logical decision is made to keep the date within the month and going with the last possible day of the month, Feb 29 in a leap year, as there is no 31st day in that month. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#STRICT\" rel=\"noreferrer\"><code>ResolverStyle.STRICT</code></a> mode throws an exception complaining that there is no such date.</p>\n\n<p>All three of these are reasonable depending on your business problem and policies. Sounds like in your case you want the strict mode to reject the invalid date rather than adjust it.</p>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/bDIIx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bDIIx.png\" alt=\"Table of all date-time types in Java, both modern and legacy.\"></a></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/JV8ms.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JV8ms.png\" alt=\"Table of which java.time library to use with which version of Java or Android\"></a></p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":2662349,"reputation":807,"user_id":2301721,"accept_rate":0,"display_name":"ashishdhiman2007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499231344,"creation_date":1499231344,"answer_id":44917419,"question_id":226910,"body_markdown":"    // to return valid days of month, according to month and year\r\n    int returnDaysofMonth(int month, int year) {\r\n        int daysInMonth;\r\n        boolean leapYear;\r\n        leapYear = checkLeap(year);\r\n        if (month == 4 || month == 6 || month == 9 || month == 11)\r\n            daysInMonth = 30;\r\n        else if (month == 2)\r\n            daysInMonth = (leapYear) ? 29 : 28;\r\n        else\r\n            daysInMonth = 31;\r\n        return daysInMonth;\r\n    }\r\n\r\n    // to check a year is leap or not\r\n    private boolean checkLeap(int year) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.set(Calendar.YEAR, year);\r\n        return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\r\n    }","title":"How to sanity check a date in Java","body":"<pre><code>// to return valid days of month, according to month and year\nint returnDaysofMonth(int month, int year) {\n    int daysInMonth;\n    boolean leapYear;\n    leapYear = checkLeap(year);\n    if (month == 4 || month == 6 || month == 9 || month == 11)\n        daysInMonth = 30;\n    else if (month == 2)\n        daysInMonth = (leapYear) ? 29 : 28;\n    else\n        daysInMonth = 31;\n    return daysInMonth;\n}\n\n// to check a year is leap or not\nprivate boolean checkLeap(int year) {\n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.YEAR, year);\n    return cal.getActualMaximum(Calendar.DAY_OF_YEAR) &gt; 365;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12622250,"reputation":107,"user_id":9177302,"display_name":"db07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541020033,"creation_date":1541020033,"answer_id":53091974,"question_id":226910,"body_markdown":"Here is I would check the date format:\r\n\r\n     public static boolean checkFormat(String dateTimeString) {\r\n        return dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}&quot;) || dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}&quot;)\r\n                || dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}&quot;) || dateTimeString\r\n                .matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;) ||\r\n                dateTimeString.matches(&quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;);\r\n    }","title":"How to sanity check a date in Java","body":"<p>Here is I would check the date format:</p>\n\n<pre><code> public static boolean checkFormat(String dateTimeString) {\n    return dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}\") || dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}\")\n            || dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\") || dateTimeString\n            .matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z\") ||\n            dateTimeString.matches(\"^\\\\d{4}-\\\\d{2}-\\\\d{2}\\\\s\\\\d{2}:\\\\d{2}:\\\\d{2}Z\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10567145,"reputation":151,"user_id":7785060,"display_name":"Suheb Rafique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562244743,"creation_date":1562244743,"answer_id":56888385,"question_id":226910,"body_markdown":"            public static String detectDateFormat(String inputDate, String requiredFormat) {\r\n            String tempDate = inputDate.replace(&quot;/&quot;, &quot;&quot;).replace(&quot;-&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n            String dateFormat;\r\n    \r\n            if (tempDate.matches(&quot;([0-12]{2})([0-31]{2})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;MMddyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([0-31]{2})([0-12]{2})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;ddMMyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([0-12]{2})([0-31]{2})&quot;)) {\r\n                dateFormat = &quot;yyyyMMdd&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([0-31]{2})([0-12]{2})&quot;)) {\r\n                dateFormat = &quot;yyyyddMM&quot;;\r\n            } else if (tempDate.matches(&quot;([0-31]{2})([a-z]{3})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;ddMMMyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([a-z]{3})([0-31]{2})([0-9]{4})&quot;)) {\r\n                dateFormat = &quot;MMMddyyyy&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([a-z]{3})([0-31]{2})&quot;)) {\r\n                dateFormat = &quot;yyyyMMMdd&quot;;\r\n            } else if (tempDate.matches(&quot;([0-9]{4})([0-31]{2})([a-z]{3})&quot;)) {\r\n                dateFormat = &quot;yyyyddMMM&quot;;\r\n            } else {\r\n                return &quot;Pattern Not Added&quot;;\r\n    //add your required regex\r\n            }\r\n            try {\r\n                String formattedDate = new SimpleDateFormat(requiredFormat, Locale.ENGLISH).format(new SimpleDateFormat(dateFormat).parse(tempDate));\r\n              \r\n                return formattedDate;\r\n            } catch (Exception e) {\r\n                //\r\n                return &quot;&quot;;\r\n            }\r\n    \r\n        }\r\n\r\n","title":"How to sanity check a date in Java","body":"<pre><code>        public static String detectDateFormat(String inputDate, String requiredFormat) {\n        String tempDate = inputDate.replace(\"/\", \"\").replace(\"-\", \"\").replace(\" \", \"\");\n        String dateFormat;\n\n        if (tempDate.matches(\"([0-12]{2})([0-31]{2})([0-9]{4})\")) {\n            dateFormat = \"MMddyyyy\";\n        } else if (tempDate.matches(\"([0-31]{2})([0-12]{2})([0-9]{4})\")) {\n            dateFormat = \"ddMMyyyy\";\n        } else if (tempDate.matches(\"([0-9]{4})([0-12]{2})([0-31]{2})\")) {\n            dateFormat = \"yyyyMMdd\";\n        } else if (tempDate.matches(\"([0-9]{4})([0-31]{2})([0-12]{2})\")) {\n            dateFormat = \"yyyyddMM\";\n        } else if (tempDate.matches(\"([0-31]{2})([a-z]{3})([0-9]{4})\")) {\n            dateFormat = \"ddMMMyyyy\";\n        } else if (tempDate.matches(\"([a-z]{3})([0-31]{2})([0-9]{4})\")) {\n            dateFormat = \"MMMddyyyy\";\n        } else if (tempDate.matches(\"([0-9]{4})([a-z]{3})([0-31]{2})\")) {\n            dateFormat = \"yyyyMMMdd\";\n        } else if (tempDate.matches(\"([0-9]{4})([0-31]{2})([a-z]{3})\")) {\n            dateFormat = \"yyyyddMMM\";\n        } else {\n            return \"Pattern Not Added\";\n//add your required regex\n        }\n        try {\n            String formattedDate = new SimpleDateFormat(requiredFormat, Locale.ENGLISH).format(new SimpleDateFormat(dateFormat).parse(tempDate));\n\n            return formattedDate;\n        } catch (Exception e) {\n            //\n            return \"\";\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1562347700,"creation_date":1562347700,"answer_id":56907180,"question_id":226910,"body_markdown":"setLenient to false if you like a strict validation\r\n\r\n    public boolean isThisDateValid(String dateToValidate, String dateFromat){\r\n\t\t\r\n\t\tif(dateToValidate == null){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(dateFromat);\r\n\t\tsdf.setLenient(false);\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t//if not valid, it will throw ParseException\r\n\t\t\tDate date = sdf.parse(dateToValidate);\r\n\t\t\tSystem.out.println(date);\r\n\t\t\r\n\t\t} catch (ParseException e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}","title":"How to sanity check a date in Java","body":"<p>setLenient to false if you like a strict validation</p>\n\n<pre><code>public boolean isThisDateValid(String dateToValidate, String dateFromat){\n\n    if(dateToValidate == null){\n        return false;\n    }\n\n    SimpleDateFormat sdf = new SimpleDateFormat(dateFromat);\n    sdf.setLenient(false);\n\n    try {\n\n        //if not valid, it will throw ParseException\n        Date date = sdf.parse(dateToValidate);\n        System.out.println(date);\n\n    } catch (ParseException e) {\n\n        e.printStackTrace();\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10419412,"reputation":637,"user_id":7682476,"display_name":"vijay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564477455,"creation_date":1564477455,"answer_id":57268013,"question_id":226910,"body_markdown":"looks like ***SimpleDateFormat*** is not checking the pattern strictly even after *setLenient(false);* method is applied on it, so i have used below method to validate if the date inputted is valid date or not as per supplied pattern.\r\n    \r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    public boolean isValidFormat(String dateString, String pattern) {\r\n\t\tboolean valid = true;\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\r\n\t\ttry {\r\n\t\t\tformatter.parse(dateString);\r\n\t\t} catch (DateTimeParseException e) {\r\n\t\t\tvalid = false;\r\n\t\t}\r\n\t\treturn valid;\r\n\t}","title":"How to sanity check a date in Java","body":"<p>looks like <strong><em>SimpleDateFormat</em></strong> is not checking the pattern strictly even after <em>setLenient(false);</em> method is applied on it, so i have used below method to validate if the date inputted is valid date or not as per supplied pattern.</p>\n\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\npublic boolean isValidFormat(String dateString, String pattern) {\n    boolean valid = true;\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern);\n    try {\n        formatter.parse(dateString);\n    } catch (DateTimeParseException e) {\n        valid = false;\n    }\n    return valid;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270457,"reputation":1691,"user_id":560410,"display_name":"skay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570051958,"creation_date":1570051958,"answer_id":58209655,"question_id":226910,"body_markdown":"With &#39;legacy&#39; date format, we can format the result and compare it back to the source.\r\n\r\n    \tpublic boolean isValidFormat(String source, String pattern) {\r\n\t\tSimpleDateFormat sd = new SimpleDateFormat(pattern);\r\n\t\tsd.setLenient(false);\r\n\t\ttry {\r\n\t\t\tDate date = sd.parse(source);\r\n\t\t\treturn date != null &amp;&amp; sd.format(date).equals(source);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nThis execerpt says &#39;false&#39; to source=01.01.04 with pattern &#39;01.01.2004&#39;","title":"How to sanity check a date in Java","body":"<p>With 'legacy' date format, we can format the result and compare it back to the source.</p>\n\n<pre><code>    public boolean isValidFormat(String source, String pattern) {\n    SimpleDateFormat sd = new SimpleDateFormat(pattern);\n    sd.setLenient(false);\n    try {\n        Date date = sd.parse(source);\n        return date != null &amp;&amp; sd.format(date).equals(source);\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>This execerpt says 'false' to source=01.01.04 with pattern '01.01.2004'</p>\n"},{"tags":[],"owner":{"account_id":2305114,"reputation":8699,"user_id":2024527,"accept_rate":80,"display_name":"SANAT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624282824,"creation_date":1624282824,"answer_id":68069005,"question_id":226910,"body_markdown":"We can use the `org.apache.commons.validator.GenericValidator`&#39;s method directly without adding the whole library:\r\n\r\n\r\n    public static boolean isValidDate(String value, String datePattern, boolean strict) {\r\n\r\n        if (value == null\r\n                || datePattern == null\r\n                || datePattern.length() &lt;= 0) {\r\n\r\n            return false;\r\n        }\r\n\r\n        SimpleDateFormat formatter = new SimpleDateFormat(datePattern, Locale.ENGLISH);\r\n        formatter.setLenient(false);\r\n\r\n        try {\r\n            formatter.parse(value);\r\n        } catch(ParseException e) {\r\n            return false;\r\n        }\r\n\r\n        if (strict &amp;&amp; (datePattern.length() != value.length())) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }","title":"How to sanity check a date in Java","body":"<p>We can use the <code>org.apache.commons.validator.GenericValidator</code>'s method directly without adding the whole library:</p>\n<pre><code>public static boolean isValidDate(String value, String datePattern, boolean strict) {\n\n    if (value == null\n            || datePattern == null\n            || datePattern.length() &lt;= 0) {\n\n        return false;\n    }\n\n    SimpleDateFormat formatter = new SimpleDateFormat(datePattern, Locale.ENGLISH);\n    formatter.setLenient(false);\n\n    try {\n        formatter.parse(value);\n    } catch(ParseException e) {\n        return false;\n    }\n\n    if (strict &amp;&amp; (datePattern.length() != value.length())) {\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657385475,"creation_date":1657203980,"answer_id":72899575,"question_id":226910,"body_markdown":"A simple and elegant way for **Android developers**  (Java 8 not required):\r\n\r\n    // month value is 1-based. e.g., 1 for January.\r\n    public static boolean isDateValid(int year, int month, int day) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        try {\r\n            calendar.setLenient(false);\r\n            calendar.set(year, month-1, day);\r\n            calendar.getTime();\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n","title":"How to sanity check a date in Java","body":"<p>A simple and elegant way for <strong>Android developers</strong>  (Java 8 not required):</p>\n<pre><code>// month value is 1-based. e.g., 1 for January.\npublic static boolean isDateValid(int year, int month, int day) {\n    Calendar calendar = Calendar.getInstance();\n    try {\n        calendar.setLenient(false);\n        calendar.set(year, month-1, day);\n        calendar.getTime();\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26121378,"reputation":1,"user_id":19813614,"display_name":"Nagendra Rao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661084750,"creation_date":1661084750,"answer_id":73434373,"question_id":226910,"body_markdown":"Below code works with dd/MM/yyyy format and can be used to check NotNull,NotEmpty as well.\r\n\r\npublic static boolean validateJavaDate(String strDate) {\r\n\r\n\t\tif (strDate != null &amp;&amp; !strDate.isEmpty() &amp;&amp; !strDate.equalsIgnoreCase(&quot; &quot;)) {\r\n\t\t\t{\r\n\r\n\t\t\t\tSimpleDateFormat date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\t\t\tdate.setLenient(false);\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tDate javaDate = date.parse(strDate);\r\n\t\t\t\t\tSystem.out.println(strDate + &quot; Valid Date format&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcatch (ParseException e) {\r\n\t\t\t\t\tSystem.out.println(strDate + &quot; Invalid Date format&quot;);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tSystem.out.println(strDate + &quot;----&gt; Date is Null/Empty&quot;);\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t}","title":"How to sanity check a date in Java","body":"<p>Below code works with dd/MM/yyyy format and can be used to check NotNull,NotEmpty as well.</p>\n<p>public static boolean validateJavaDate(String strDate) {</p>\n<pre><code>    if (strDate != null &amp;&amp; !strDate.isEmpty() &amp;&amp; !strDate.equalsIgnoreCase(&quot; &quot;)) {\n        {\n\n            SimpleDateFormat date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n            date.setLenient(false);\n\n            try {\n                Date javaDate = date.parse(strDate);\n                System.out.println(strDate + &quot; Valid Date format&quot;);\n            }\n\n            catch (ParseException e) {\n                System.out.println(strDate + &quot; Invalid Date format&quot;);\n                return false;\n            }\n            return true;\n        }\n\n    } else {\n        System.out.println(strDate + &quot;----&gt; Date is Null/Empty&quot;);\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1077744,"reputation":81,"user_id":1075520,"display_name":"mgo1977"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680291872,"creation_date":1680291872,"answer_id":75902243,"question_id":226910,"body_markdown":"A simple way without using any external library would be:\r\n\r\n    private static final Pattern p_DATE = Pattern.compile(&quot;^\\\\s*(\\\\d+)-(\\\\d+)-(\\\\d+)\\\\s*$&quot;);\r\n    \r\n    private static Date parseDate(String v) {\r\n    \t\r\n    \tif ( v==null || v.isBlank() ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// 2023-03-02\r\n    \tMatcher m = p_DATE.matcher(v);\r\n    \t\r\n    \tif ( ! m.find() ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tint day = Integer.parseInt(m.group(3), 10);\r\n    \tint mon = Integer.parseInt(m.group(2), 10);\r\n    \tint year = Integer.parseInt(m.group(1), 10);\r\n    \t\r\n    \t// convert years prior to 99\r\n    \tif ( year&lt;99 ) {\r\n    \t\tyear += 2000;\r\n    \t}\r\n    \t\r\n    \tif ( \r\n    \t\t\t(day&lt;0 || day&gt;31) ||\r\n    \t\t\t(mon&lt;1 || mon&gt;12) \r\n\t\t) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// validate max day\r\n    \tint maxDayOfTheMonth = getMaxDayOfTheMonth(mon, year);\r\n\r\n    \tif ( day &gt; maxDayOfTheMonth ) {\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tCalendar cal = Calendar.getInstance();\r\n    \tcal.set(Calendar.DAY_OF_MONTH, day);\r\n    \tcal.set(Calendar.MONTH, mon-1);\r\n    \tcal.set(Calendar.YEAR, year);\r\n    \t\r\n    \tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n    \tcal.set(Calendar.MINUTE, 0);\r\n    \tcal.set(Calendar.SECOND, 0);\r\n    \tcal.set(Calendar.MILLISECOND, 0);\r\n    \t\r\n\t\treturn cal.getTime();\r\n\t}\r\n\r\n\tprivate static int getMaxDayOfTheMonth(int mon, int year) {\r\n\t\t\r\n\t\tCalendar cal = Calendar.getInstance();\r\n    \tcal.set(Calendar.DAY_OF_MONTH, 1);\r\n    \tcal.set(Calendar.MONTH, mon-1);\r\n    \tcal.set(Calendar.YEAR, year);\r\n    \t\r\n    \tcal.add(Calendar.MONTH, 1);\r\n    \tcal.add(Calendar.DAY_OF_YEAR, -1);\r\n    \t\r\n    \treturn cal.get(Calendar.DAY_OF_MONTH);\r\n\t}","title":"How to sanity check a date in Java","body":"<p>A simple way without using any external library would be:</p>\n<pre><code>private static final Pattern p_DATE = Pattern.compile(&quot;^\\\\s*(\\\\d+)-(\\\\d+)-(\\\\d+)\\\\s*$&quot;);\n\nprivate static Date parseDate(String v) {\n    \n    if ( v==null || v.isBlank() ) {\n        return null;\n    }\n    \n    // 2023-03-02\n    Matcher m = p_DATE.matcher(v);\n    \n    if ( ! m.find() ) {\n        return null;\n    }\n    \n    int day = Integer.parseInt(m.group(3), 10);\n    int mon = Integer.parseInt(m.group(2), 10);\n    int year = Integer.parseInt(m.group(1), 10);\n    \n    // convert years prior to 99\n    if ( year&lt;99 ) {\n        year += 2000;\n    }\n    \n    if ( \n            (day&lt;0 || day&gt;31) ||\n            (mon&lt;1 || mon&gt;12) \n    ) {\n        return null;\n    }\n    \n    // validate max day\n    int maxDayOfTheMonth = getMaxDayOfTheMonth(mon, year);\n\n    if ( day &gt; maxDayOfTheMonth ) {\n        return null;\n    }\n    \n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.DAY_OF_MONTH, day);\n    cal.set(Calendar.MONTH, mon-1);\n    cal.set(Calendar.YEAR, year);\n    \n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    \n    return cal.getTime();\n}\n\nprivate static int getMaxDayOfTheMonth(int mon, int year) {\n    \n    Calendar cal = Calendar.getInstance();\n    cal.set(Calendar.DAY_OF_MONTH, 1);\n    cal.set(Calendar.MONTH, mon-1);\n    cal.set(Calendar.YEAR, year);\n    \n    cal.add(Calendar.MONTH, 1);\n    cal.add(Calendar.DAY_OF_YEAR, -1);\n    \n    return cal.get(Calendar.DAY_OF_MONTH);\n}\n</code></pre>\n"}],"owner":{"account_id":13290,"reputation":2082,"user_id":26595,"accept_rate":100,"display_name":"Bloodboiler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282435,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":226920,"answer_count":25,"score":93,"last_activity_date":1680291872,"creation_date":1224698648,"question_id":226910,"body_markdown":"I find it curious that the most obvious way to create `Date` objects in Java has been deprecated and appears to have been &quot;substituted&quot; with a not so obvious to use lenient calendar.\r\n\r\nHow do you check that a date, given as a combination of day, month, and year, is a valid date?\r\n\r\nFor instance, 2008-02-31 (as in yyyy-mm-dd) would be an invalid date.\r\n","title":"How to sanity check a date in Java","body":"<p>I find it curious that the most obvious way to create <code>Date</code> objects in Java has been deprecated and appears to have been \"substituted\" with a not so obvious to use lenient calendar.</p>\n\n<p>How do you check that a date, given as a combination of day, month, and year, is a valid date?</p>\n\n<p>For instance, 2008-02-31 (as in yyyy-mm-dd) would be an invalid date.</p>\n"},{"tags":["java","json","spring-boot","swagger"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1663221229,"post_id":73725565,"comment_id":130188783,"body_markdown":"Maybe this [question](https://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string) will help. Additionally how are getting the date? There is no annotation on it.","body":"Maybe this <a href=\"https://stackoverflow.com/questions/40274353/how-to-use-localdatetime-requestparam-in-spring-i-get-failed-to-convert-string\">question</a> will help. Additionally how are getting the date? There is no annotation on it."},{"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"score":0,"creation_date":1680291602,"post_id":73725565,"comment_id":133879538,"body_markdown":"add it inside your controller method `@RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd/MM/yyyy&quot;) LocalDate date`","body":"add it inside your controller method <code>@RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd&#47;MM&#47;yyyy&quot;) LocalDate date</code>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663220148,"creation_date":1663220148,"answer_id":73726074,"question_id":73725565,"body_markdown":"Perhaps this will help. Convert String date to LocalDate:\r\n\r\n    String dateString = &quot;07/11/1957&quot;;  // dd/MM/yyyy\r\n\r\n    java.time.format.DateTimeFormatter formatter = \r\n                    java.time.format.DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\r\n\r\n    java.time.LocalDate date = java.time.LocalDate.parse(dateString, formatter);\r\n\r\n    System.out.println(date); // Display LocalDate in console Window","title":"Failed to convert String to LocalDate","body":"<p>Perhaps this will help. Convert String date to LocalDate:</p>\n<pre><code>String dateString = &quot;07/11/1957&quot;;  // dd/MM/yyyy\n\njava.time.format.DateTimeFormatter formatter = \n                java.time.format.DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;);\n\njava.time.LocalDate date = java.time.LocalDate.parse(dateString, formatter);\n\nSystem.out.println(date); // Display LocalDate in console Window\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18089135,"reputation":450,"user_id":13149219,"display_name":"Utsav10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663226364,"creation_date":1663226364,"answer_id":73727025,"question_id":73725565,"body_markdown":"Assuming that you&#39;re using a request param to accept the data parameter\r\n```\r\n@GetMapping(&quot;/orders/date&quot;)\r\n@Operation(summary = &quot;Find all orders by date&quot;)\r\npublic List&lt;OrderInfo&gt; findAllOrderByDate(\r\n    @RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd/MM/yyyy&quot;) LocalDate date\r\n){\r\n    return orderService.findAllOrdersByDate(date);\r\n}\r\n```\r\nPlease ensure that you have valid Jackson dependencies","title":"Failed to convert String to LocalDate","body":"<p>Assuming that you're using a request param to accept the data parameter</p>\n<pre><code>@GetMapping(&quot;/orders/date&quot;)\n@Operation(summary = &quot;Find all orders by date&quot;)\npublic List&lt;OrderInfo&gt; findAllOrderByDate(\n    @RequestParam(&quot;date&quot;) @JsonFormat(&quot;dd/MM/yyyy&quot;) LocalDate date\n){\n    return orderService.findAllOrdersByDate(date);\n}\n</code></pre>\n<p>Please ensure that you have valid Jackson dependencies</p>\n"},{"tags":[],"owner":{"account_id":26340864,"reputation":11,"user_id":19999972,"display_name":"Kilves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663311602,"creation_date":1663311535,"answer_id":73741038,"question_id":73725565,"body_markdown":"Solution was to add @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) before Localdate date parameter in my Controller class method. Formatting tips also helped. Thanks to all!\r\n\r\n```\r\n@GetMapping(&quot;/orders/date&quot;)\r\n    @Operation(summary = &quot;Find all orders by date&quot;)\r\n    public List&lt;OrderInfo&gt; findAllOrderByDate(@DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate date){\r\n        return orderService.findAllOrdersByDate(date);\r\n    }\r\n```","title":"Failed to convert String to LocalDate","body":"<p>Solution was to add @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) before Localdate date parameter in my Controller class method. Formatting tips also helped. Thanks to all!</p>\n<pre><code>@GetMapping(&quot;/orders/date&quot;)\n    @Operation(summary = &quot;Find all orders by date&quot;)\n    public List&lt;OrderInfo&gt; findAllOrderByDate(@DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate date){\n        return orderService.findAllOrdersByDate(date);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680291511,"creation_date":1680291511,"answer_id":75902203,"question_id":73725565,"body_markdown":"the best way to control of date format is by the request param by your controller \r\n\r\nFor example, if I expected this format &quot;dd/MM/yyyy&quot; Just I need to add this annotation before Date param `@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)` in your controller method.\r\n\r\nlook at the following example:\r\n```\r\n    @GetMapping\r\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\r\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\r\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n        LocalDate fromDate,\r\n        @RequestParam(name = &quot;toDate&quot;, required = false)\r\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n        LocalDate toDate,\r\n        @RequestParam Long id,\r\n        @RequestParam String name\r\n    ) {\r\n\r\n        /// your business here\r\n    }\r\n```  \r\n\r\nIf I need to change the date format for example to **&quot;yyyy-MM-dd&quot;** Like the above way just need to add it on the controller method by `@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)`\r\n\r\n\r\nAnd if we have another type of date like `LocalDateTime` and we need to control the date and time format, for example we expected this format **&quot;yyyy-MM-dd HH:mm:ss&quot;** so we need to add this annotation before `LocalDateTime` parameter in the controller method `@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)` Look at the following example:\r\n\r\n```\r\n    @GetMapping\r\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\r\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\r\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        LocalDateTime fromDate,\r\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        LocalDateTime toDate,\r\n        @RequestParam Long id,\r\n        @RequestParam String name\r\n    ) {\r\n\r\n        /// your business here\r\n    }\r\n``` \r\n\r\nand that is it. :)","title":"Failed to convert String to LocalDate","body":"<p>the best way to control of date format is by the request param by your controller</p>\n<p>For example, if I expected this format &quot;dd/MM/yyyy&quot; Just I need to add this annotation before Date param <code>@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)</code> in your controller method.</p>\n<p>look at the following example:</p>\n<pre><code>    @GetMapping\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n        LocalDate fromDate,\n        @RequestParam(name = &quot;toDate&quot;, required = false)\n        @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n        LocalDate toDate,\n        @RequestParam Long id,\n        @RequestParam String name\n    ) {\n\n        /// your business here\n    }\n</code></pre>\n<p>If I need to change the date format for example to <strong>&quot;yyyy-MM-dd&quot;</strong> Like the above way just need to add it on the controller method by <code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</code></p>\n<p>And if we have another type of date like <code>LocalDateTime</code> and we need to control the date and time format, for example we expected this format <strong>&quot;yyyy-MM-dd HH:mm:ss&quot;</strong> so we need to add this annotation before <code>LocalDateTime</code> parameter in the controller method <code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</code> Look at the following example:</p>\n<pre><code>    @GetMapping\n    public ResponseEntity&lt;MyObject&gt; getSomeThing(\n        @RequestParam(name = &quot;fromDate&quot;, required = false)\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n        LocalDateTime fromDate,\n        @DateTimeFormat(pattern = &quot;pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n        LocalDateTime toDate,\n        @RequestParam Long id,\n        @RequestParam String name\n    ) {\n\n        /// your business here\n    }\n</code></pre>\n<p>and that is it. :)</p>\n"}],"owner":{"account_id":26340864,"reputation":11,"user_id":19999972,"display_name":"Kilves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1680291511,"creation_date":1663215296,"question_id":73725565,"body_markdown":"I have a method what should find object from database by inserted date. I used LocalDate class, but  if I try it in swagger I get a error message. I need only dates and format should be dd/MM/yyyy. Please help :)\r\n\r\n**Error message in swagger:**\r\n Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDate&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.time.LocalDate] for value &#39;15/04/2022&#39;; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [15/04/2022]\r\n\r\n\r\nEntity: \r\n```@Data\r\n@Entity\r\n@Table(name = &quot;\\&quot;order\\&quot;&quot;)\r\npublic class Order {\r\n\r\n    @Column(name = &quot;delivery_date&quot;, nullable = false)\r\n    private LocalDate deliveryDate\r\n```\r\n\r\nDto:\r\n```\r\n@Data\r\npublic class OrderInfo implements Serializable {\r\n    private LocalDate deliveryDate;\r\n```\r\nMethod:\r\n``` \r\n@GetMapping(&quot;/orders/date&quot;)\r\n    @Operation(summary = &quot;Find all orders by date&quot;)\r\n    public List&lt;OrderInfo&gt; findAllOrderByDate(LocalDate date){\r\n        return orderService.findAllOrdersByDate(date);\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Failed to convert String to LocalDate","body":"<p>I have a method what should find object from database by inserted date. I used LocalDate class, but  if I try it in swagger I get a error message. I need only dates and format should be dd/MM/yyyy. Please help :)</p>\n<p><strong>Error message in swagger:</strong>\nFailed to convert value of type 'java.lang.String' to required type 'java.time.LocalDate'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.time.LocalDate] for value '15/04/2022'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [15/04/2022]</p>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;\\&quot;order\\&quot;&quot;)\npublic class Order {\n\n    @Column(name = &quot;delivery_date&quot;, nullable = false)\n    private LocalDate deliveryDate\n</code></pre>\n<p>Dto:</p>\n<pre><code>@Data\npublic class OrderInfo implements Serializable {\n    private LocalDate deliveryDate;\n</code></pre>\n<p>Method:</p>\n<pre><code>@GetMapping(&quot;/orders/date&quot;)\n    @Operation(summary = &quot;Find all orders by date&quot;)\n    public List&lt;OrderInfo&gt; findAllOrderByDate(LocalDate date){\n        return orderService.findAllOrdersByDate(date);\n    }\n</code></pre>\n"},{"tags":["java","sql-server","spring","jpa","jpql"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1607274758,"post_id":65124820,"comment_id":115215101,"body_markdown":"I don&#39;t think stored procedures are a good match for JPA.","body":"I don&#39;t think stored procedures are a good match for JPA."},{"owner":{"account_id":5066537,"reputation":710,"user_id":4066507,"accept_rate":23,"display_name":"Ace"},"score":0,"creation_date":1607274882,"post_id":65124820,"comment_id":115215138,"body_markdown":"@duffymo Isnt there any workaround that supports this?","body":"@duffymo Isnt there any workaround that supports this?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1607275840,"post_id":65124820,"comment_id":115215422,"body_markdown":"Not that I know of.  JPA is an layer on top of relational databases that allows to pretend that you&#39;re dealing only with objects.  Stored procedures are not a good fit in that model.  You&#39;re already using Spring.  Just use Spring JDBC template to manage it.","body":"Not that I know of.  JPA is an layer on top of relational databases that allows to pretend that you&#39;re dealing only with objects.  Stored procedures are not a good fit in that model.  You&#39;re already using Spring.  Just use Spring JDBC template to manage it."},{"owner":{"account_id":17804992,"reputation":307,"user_id":12930883,"display_name":"RED-ONE"},"score":0,"creation_date":1686005052,"post_id":65124820,"comment_id":134737410,"body_markdown":"You can have a look [here](https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256), I hope it helps :\n[How to call a stored procedure from Java and JPA](https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256)","body":"You can have a look <a href=\"https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256\">here</a>, I hope it helps : <a href=\"https://stackoverflow.com/questions/3572626/how-to-call-a-stored-procedure-from-java-and-jpa/70788256#70788256\">How to call a stored procedure from Java and JPA</a>"}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607356733,"creation_date":1607356733,"answer_id":65185071,"question_id":65124820,"body_markdown":"Firstly, this is not really the use case for procedure. Procedure is meant to modify data on the database without any return value, then you could use:\r\n\r\n    @Procedure(procedureName = &quot;procedure_name&quot;)\r\n    void procedure(); // notice void\r\n\r\nYou should rather use a [function][1] using `create function` syntax. Function can modify data and return the result.\r\n\r\nSecondly if you want to map it to some class, I see two solutions (using `EntityManager`):\r\n\r\n 1. Using `ResultTransformer`:\r\n\r\n\t\tentityManager.createNativeQuery(\r\n\t\t\t&quot;select * from function_name(:parameter)&quot;\r\n\t\t)\r\n\t\t\t.setParameter(&quot;parameter&quot;, parameter)\r\n\t\t\t.unwrap(org.hibernate.query.NativeQuery.class)\r\n\t\t\t.setResultTransformer(new ResultTransformer() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic Object transformTuple(Object[] tuple, String[] aliases) {\r\n\t\t\t\t\treturn new Sp(tuple[0]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic List transformList(List collection) {\r\n\t\t\t\t\treturn collection;\r\n\t\t\t\t}\r\n\r\n\t\t\t})\r\n\t\t\t.getResultList();\r\n\r\n    Note that `ResultTransformer` is deprecated, but is so powerful, it will not be removed until there is a sensible replacement, see [the note][2] from hibernate developer.\r\n\r\n 2. Using `ResultSetMapping`. Place the proper annotation over an entity:\r\n\r\n        @SqlResultSetMapping(\r\n        \tname = &quot;sp_mapping&quot;,\r\n        \tclasses = @ConstructorResult(\r\n        \t\ttargetClass = Sp.class,\r\n        \t\tcolumns = {\r\n        \t\t\t@ColumnResult(name = &quot;attribute&quot;, type = Long.class)\r\n        \t\t})\r\n        )\r\n\r\n    And invoke the function using the mapping as parameter:\r\n\r\n\t\tentityManager.createNativeQuery(\r\n\t\t\t&quot;select * &quot; +\r\n\t\t\t&quot;from function_name(:parameter);&quot;,\r\n\t\t\t&quot;sp_mapping&quot;\r\n\t\t)\r\n\t\t\t.setParameter(&quot;parameter&quot;, parameter)\r\n\t\t\t.getResultList();\r\n    \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/statements/create-function-transact-sql?view=sql-server-ver15\r\n  [2]: https://vladmihalcea.com/hibernate-resulttransformer/","title":"Stored procedure call with Spring JPA","body":"<p>Firstly, this is not really the use case for procedure. Procedure is meant to modify data on the database without any return value, then you could use:</p>\n<pre><code>@Procedure(procedureName = &quot;procedure_name&quot;)\nvoid procedure(); // notice void\n</code></pre>\n<p>You should rather use a <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/statements/create-function-transact-sql?view=sql-server-ver15\" rel=\"nofollow noreferrer\">function</a> using <code>create function</code> syntax. Function can modify data and return the result.</p>\n<p>Secondly if you want to map it to some class, I see two solutions (using <code>EntityManager</code>):</p>\n<ol>\n<li><p>Using <code>ResultTransformer</code>:</p>\n<pre><code>entityManager.createNativeQuery(\n    &quot;select * from function_name(:parameter)&quot;\n)\n    .setParameter(&quot;parameter&quot;, parameter)\n    .unwrap(org.hibernate.query.NativeQuery.class)\n    .setResultTransformer(new ResultTransformer() {\n        @Override\n        public Object transformTuple(Object[] tuple, String[] aliases) {\n            return new Sp(tuple[0]);\n        }\n\n        @Override\n        public List transformList(List collection) {\n            return collection;\n        }\n\n    })\n    .getResultList();\n</code></pre>\n<p>Note that <code>ResultTransformer</code> is deprecated, but is so powerful, it will not be removed until there is a sensible replacement, see <a href=\"https://vladmihalcea.com/hibernate-resulttransformer/\" rel=\"nofollow noreferrer\">the note</a> from hibernate developer.</p>\n</li>\n<li><p>Using <code>ResultSetMapping</code>. Place the proper annotation over an entity:</p>\n<pre><code>@SqlResultSetMapping(\n    name = &quot;sp_mapping&quot;,\n    classes = @ConstructorResult(\n        targetClass = Sp.class,\n        columns = {\n            @ColumnResult(name = &quot;attribute&quot;, type = Long.class)\n        })\n)\n</code></pre>\n<p>And invoke the function using the mapping as parameter:</p>\n<pre><code>entityManager.createNativeQuery(\n    &quot;select * &quot; +\n    &quot;from function_name(:parameter);&quot;,\n    &quot;sp_mapping&quot;\n)\n    .setParameter(&quot;parameter&quot;, parameter)\n    .getResultList();\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1189940,"reputation":100,"user_id":1162991,"display_name":"codeimust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680291121,"creation_date":1680291121,"answer_id":75902147,"question_id":65124820,"body_markdown":"In case someone else runs into this, according to baeldung document, it looks like you just need to replace `EXECUTE` with `CALL` like\r\n\r\n```\r\n@Query(value = &quot;CALL dbs.multitable_Test(:inputObj);&quot;, nativeQuery = true)\r\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\r\n```\r\nSource:\r\nhttps://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation","title":"Stored procedure call with Spring JPA","body":"<p>In case someone else runs into this, according to baeldung document, it looks like you just need to replace <code>EXECUTE</code> with <code>CALL</code> like</p>\n<pre><code>@Query(value = &quot;CALL dbs.multitable_Test(:inputObj);&quot;, nativeQuery = true)\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\n</code></pre>\n<p>Source:\n<a href=\"https://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-stored-procedures#query-annotation</a></p>\n"}],"owner":{"account_id":5066537,"reputation":710,"user_id":4066507,"accept_rate":23,"display_name":"Ace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2719,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680291121,"creation_date":1606993738,"question_id":65124820,"body_markdown":"I need to invoke a stored procedure using the JPA. The stored procedure operates on multiple tables and return some of the columns from these tables.\r\n\r\n\r\nTried with the @Procedure it doesn&#39;t seem to work, always the stored procedure is not found in this case.\r\n\r\nDirectly calling the procedure using native query was successful, but with this approach, I am need to map the result returned to List of an Object. \r\n\r\nMy implementation in the repository looks like below,\r\n\r\n```\r\n@Query(value = &quot;EXECUTE dbs.multitable_Test :inputObj&quot;, nativeQuery = true)\r\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\r\n```\r\n\r\nThe result returned from the stored procedure needs to be mapped to the sp class.\r\n\r\n\r\nHow can this be achieved while we have multiple tables response in the single result set?\r\n\r\nAlready tried with the attributeConvert from \r\n[this link][1], still getting the below exception.\r\n\r\n`org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type`\r\n\r\n\r\nAny help with this is appreciated.\r\n\r\n  [1]: https://www.baeldung.com/jpa-attribute-converters","title":"Stored procedure call with Spring JPA","body":"<p>I need to invoke a stored procedure using the JPA. The stored procedure operates on multiple tables and return some of the columns from these tables.</p>\n<p>Tried with the @Procedure it doesn't seem to work, always the stored procedure is not found in this case.</p>\n<p>Directly calling the procedure using native query was successful, but with this approach, I am need to map the result returned to List of an Object.</p>\n<p>My implementation in the repository looks like below,</p>\n<pre><code>@Query(value = &quot;EXECUTE dbs.multitable_Test :inputObj&quot;, nativeQuery = true)\nList&lt;sp&gt; multitable_Test(@Param(&quot;inputObj&quot;)String inputObj);\n</code></pre>\n<p>The result returned from the stored procedure needs to be mapped to the sp class.</p>\n<p>How can this be achieved while we have multiple tables response in the single result set?</p>\n<p>Already tried with the attributeConvert from\n<a href=\"https://www.baeldung.com/jpa-attribute-converters\" rel=\"nofollow noreferrer\">this link</a>, still getting the below exception.</p>\n<p><code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type</code></p>\n<p>Any help with this is appreciated.</p>\n"},{"tags":["java","date","localization","timezone","gmt"],"comments":[{"owner":{"display_name":"user130532"},"score":0,"creation_date":1332776692,"post_id":308683,"comment_id":33754749,"body_markdown":"I know these types of topics are completely over discussed, but I found the commons-lang package really handles these common java issues well. http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/time/ Check out the various packages they have.","body":"I know these types of topics are completely over discussed, but I found the commons-lang package really handles these common java issues well. <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/time/\" rel=\"nofollow noreferrer\">commons.apache.org/lang/api-2.5/org/apache/commons/lang/time</a> Check out the various packages they have."},{"owner":{"account_id":1796004,"reputation":2709,"user_id":2109800,"display_name":"mc0e"},"score":0,"creation_date":1488170087,"post_id":308683,"comment_id":72096027,"body_markdown":"Which local time do you want, and to what precision.  Most timezones are defined relative to UTC with a fixed offset measured in [SI](https://en.wikipedia.org/wiki/SI_base_unit) seconds, but the relationship of GMT which is based on solar observation and a (slightly) variable length second is more complex.  The two differ by up to 0.9 seconds.","body":"Which local time do you want, and to what precision.  Most timezones are defined relative to UTC with a fixed offset measured in <a href=\"https://en.wikipedia.org/wiki/SI_base_unit\" rel=\"nofollow noreferrer\">SI</a> seconds, but the relationship of GMT which is based on solar observation and a (slightly) variable length second is more complex.  The two differ by up to 0.9 seconds."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1530680766,"post_id":308683,"comment_id":89315309,"body_markdown":"A `Date` doesn’t hold a time zone, so &quot;but in the local timezone” is not correct (or inaccurate at best). See [All about java.util.Date](https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/).","body":"A <code>Date</code> doesn’t hold a time zone, so &quot;but in the local timezone” is not correct (or inaccurate at best). See <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">All about java.util.Date</a>."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":14,"up_vote_count":456,"is_accepted":true,"score":442,"last_activity_date":1420228821,"creation_date":1227272672,"answer_id":308689,"question_id":308683,"body_markdown":"`java.util.Date` has no specific time zone, although its value is most commonly thought of in relation to UTC. What makes you think it&#39;s in local time?\r\n\r\nTo be precise: the value within a `java.util.Date` is the number of milliseconds since the Unix epoch, which occurred at midnight January 1st 1970, UTC. The same epoch could also be described in other time zones, but the traditional description is in terms of UTC. As it&#39;s a number of milliseconds since a fixed epoch, the value within `java.util.Date` is the same around the world at any particular instant, regardless of local time zone.\r\n\r\nI suspect the problem is that you&#39;re displaying it via an instance of Calendar which uses the local timezone, or possibly using `Date.toString()` which also uses the local timezone, or a `SimpleDateFormat` instance, which, by default, also uses local timezone.\r\n\r\nIf this isn&#39;t the problem, please post some sample code.\r\n\r\nI would, however, recommend that you use [Joda-Time][1] anyway, which offers a much clearer API.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p><code>java.util.Date</code> has no specific time zone, although its value is most commonly thought of in relation to UTC. What makes you think it's in local time?</p>\n\n<p>To be precise: the value within a <code>java.util.Date</code> is the number of milliseconds since the Unix epoch, which occurred at midnight January 1st 1970, UTC. The same epoch could also be described in other time zones, but the traditional description is in terms of UTC. As it's a number of milliseconds since a fixed epoch, the value within <code>java.util.Date</code> is the same around the world at any particular instant, regardless of local time zone.</p>\n\n<p>I suspect the problem is that you're displaying it via an instance of Calendar which uses the local timezone, or possibly using <code>Date.toString()</code> which also uses the local timezone, or a <code>SimpleDateFormat</code> instance, which, by default, also uses local timezone.</p>\n\n<p>If this isn't the problem, please post some sample code.</p>\n\n<p>I would, however, recommend that you use <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> anyway, which offers a much clearer API.</p>\n"},{"tags":[],"owner":{"account_id":15137,"reputation":7882,"user_id":1356709,"accept_rate":53,"display_name":"user2427"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1227273006,"creation_date":1227273006,"answer_id":308704,"question_id":308683,"body_markdown":"With:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n\r\nThen `cal` have the current date and time.&lt;br&gt;\r\nYou also could get the current Date and Time for timezone with:\r\n\r\n    Calendar cal2 = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT-2&quot;));\r\n\r\nYou could ask `cal.get(Calendar.DATE);` or other Calendar constant about others details.&lt;br&gt;\r\nDate and Timestamp are deprecated in Java. Calendar class it isn&#39;t.\r\n\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>With:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\n</code></pre>\n\n<p>Then <code>cal</code> have the current date and time.<br>\nYou also could get the current Date and Time for timezone with:</p>\n\n<pre><code>Calendar cal2 = Calendar.getInstance(TimeZone.getTimeZone(\"GMT-2\"));\n</code></pre>\n\n<p>You could ask <code>cal.get(Calendar.DATE);</code> or other Calendar constant about others details.<br>\nDate and Timestamp are deprecated in Java. Calendar class it isn't.</p>\n"},{"tags":[],"owner":{"account_id":72367,"reputation":776,"user_id":208977,"accept_rate":60,"display_name":"mjh2007"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1264523520,"creation_date":1264523520,"answer_id":2140824,"question_id":308683,"body_markdown":"You can use:\r\n\r\n    Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\nThen all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied. I think the previous poster is correct that the Date() object always returns a GMT it&#39;s not until you go to do something with the date object that it gets converted to the local time zone.\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>You can use:</p>\n\n<pre><code>Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n</code></pre>\n\n<p>Then all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied. I think the previous poster is correct that the Date() object always returns a GMT it's not until you go to do something with the date object that it gets converted to the local time zone.</p>\n"},{"tags":[],"owner":{"account_id":111574,"reputation":2086,"user_id":294674,"display_name":"Ahmad Nadeem"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1336627214,"creation_date":1268738040,"answer_id":2453820,"question_id":308683,"body_markdown":"\t\tCalendar c = Calendar.getInstance();\r\n\t\tSystem.out.println(&quot;current: &quot;+c.getTime());\r\n\r\n\t\tTimeZone z = c.getTimeZone();\r\n\t\tint offset = z.getRawOffset();\r\n\t\tif(z.inDaylightTime(new Date())){\r\n\t\t\toffset = offset + z.getDSTSavings();\r\n\t\t}\r\n\t\tint offsetHrs = offset / 1000 / 60 / 60;\r\n\t\tint offsetMins = offset / 1000 / 60 % 60;\r\n\r\n\t\tSystem.out.println(&quot;offset: &quot; + offsetHrs);\r\n\t\tSystem.out.println(&quot;offset: &quot; + offsetMins);\r\n\r\n\t\tc.add(Calendar.HOUR_OF_DAY, (-offsetHrs));\r\n\t\tc.add(Calendar.MINUTE, (-offsetMins));\r\n\r\n\t\tSystem.out.println(&quot;GMT Time: &quot;+c.getTime());\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>    Calendar c = Calendar.getInstance();\n    System.out.println(\"current: \"+c.getTime());\n\n    TimeZone z = c.getTimeZone();\n    int offset = z.getRawOffset();\n    if(z.inDaylightTime(new Date())){\n        offset = offset + z.getDSTSavings();\n    }\n    int offsetHrs = offset / 1000 / 60 / 60;\n    int offsetMins = offset / 1000 / 60 % 60;\n\n    System.out.println(\"offset: \" + offsetHrs);\n    System.out.println(\"offset: \" + offsetMins);\n\n    c.add(Calendar.HOUR_OF_DAY, (-offsetHrs));\n    c.add(Calendar.MINUTE, (-offsetMins));\n\n    System.out.println(\"GMT Time: \"+c.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":600131,"reputation":2857,"user_id":303071,"display_name":"Dan"},"down_vote_count":2,"up_vote_count":286,"is_accepted":false,"score":284,"last_activity_date":1269673703,"creation_date":1269673703,"answer_id":2528480,"question_id":308683,"body_markdown":"    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \r\n    //Local time zone\t\r\n    SimpleDateFormat dateFormatLocal = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \r\n    //Time in GMT\r\n    return dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\r\n\r\n\t","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\ndateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n\n//Local time zone   \nSimpleDateFormat dateFormatLocal = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\n\n//Time in GMT\nreturn dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1328865592,"creation_date":1270564114,"answer_id":2585570,"question_id":308683,"body_markdown":"&gt; Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\nThen all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied\r\n\r\nWrong!\r\n\r\n    Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    aGMTCalendar.getTime(); //or getTimeInMillis()\r\n    \r\nand \r\n\r\n    Calendar aNotGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT-2&quot;));aNotGMTCalendar.getTime();\r\n\r\nwill return the same time. Idem for \r\n\r\n    new Date(); //it&#39;s not GMT.\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<blockquote>\n  <p>Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n  Then all operations performed using the aGMTCalendar object will be done with the GMT time zone and will not have the daylight savings time or fixed offsets applied</p>\n</blockquote>\n\n<p>Wrong!</p>\n\n<pre><code>Calendar aGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\naGMTCalendar.getTime(); //or getTimeInMillis()\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Calendar aNotGMTCalendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT-2\"));aNotGMTCalendar.getTime();\n</code></pre>\n\n<p>will return the same time. Idem for </p>\n\n<pre><code>new Date(); //it's not GMT.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1398407588,"creation_date":1289226226,"answer_id":4124699,"question_id":308683,"body_markdown":"Actually not time, but it&#39;s representation could be changed.\r\n\r\n    SimpleDateFormat f = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    f.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    System.out.println(f.format(new Date()));\r\n\r\nTime is the same in any point of the Earth, but our perception of time could be different depending on location.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Actually not time, but it's representation could be changed.</p>\n\n<pre><code>SimpleDateFormat f = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\nf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nSystem.out.println(f.format(new Date()));\n</code></pre>\n\n<p>Time is the same in any point of the Earth, but our perception of time could be different depending on location.</p>\n"},{"tags":[],"owner":{"account_id":687526,"reputation":61,"user_id":549847,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1327060367,"creation_date":1292931374,"answer_id":4498814,"question_id":308683,"body_markdown":"    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    System.out.println(dateFormatGmt.format(date));","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"yyyy-MM-dd\");\ndateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nSystem.out.println(dateFormatGmt.format(date));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1550574625,"creation_date":1310666780,"answer_id":6697884,"question_id":308683,"body_markdown":"This definitely returns UTC time: as String and Date objects !\r\n\r\n    static final String DATE_FORMAT = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\n    public static Date getUTCdatetimeAsDate() {\r\n    \t// note: doesn&#39;t check for null\r\n    \treturn stringDateToDate(getUTCdatetimeAsString());\r\n    }\r\n\r\n    public static String getUTCdatetimeAsString() {\r\n\t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\r\n\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\tfinal String utcTime = sdf.format(new Date());\r\n\t\t\r\n\t\treturn utcTime;\r\n\t}\r\n\r\n\tpublic static Date stringDateToDate(String StrDate) {\r\n\t\tDate dateToReturn = null;\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(DATEFORMAT);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdateToReturn = (Date)dateFormat.parse(StrDate);\r\n\t\t}\r\n\t\tcatch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn dateToReturn;\r\n\t}\r\n\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This definitely returns UTC time: as String and Date objects !</p>\n\n<pre><code>static final String DATE_FORMAT = \"yyyy-MM-dd HH:mm:ss\";\n\npublic static Date getUTCdatetimeAsDate() {\n    // note: doesn't check for null\n    return stringDateToDate(getUTCdatetimeAsString());\n}\n\npublic static String getUTCdatetimeAsString() {\n    final SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    final String utcTime = sdf.format(new Date());\n\n    return utcTime;\n}\n\npublic static Date stringDateToDate(String StrDate) {\n    Date dateToReturn = null;\n    SimpleDateFormat dateFormat = new SimpleDateFormat(DATEFORMAT);\n\n    try {\n        dateToReturn = (Date)dateFormat.parse(StrDate);\n    }\n    catch (ParseException e) {\n        e.printStackTrace();\n    }\n\n    return dateToReturn;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63038,"reputation":3959,"user_id":186858,"accept_rate":59,"display_name":"so_mv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1318126360,"creation_date":1318121490,"answer_id":7700729,"question_id":308683,"body_markdown":"Sample code to render system time in a specific time zone and a specific format.\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n    \r\n    public class TimZoneTest {\r\n        public static void main (String[] args){\r\n            //&lt;GMT&gt;&lt;+/-&gt;&lt;hour&gt;:&lt;minutes&gt;\r\n            // Any screw up in this format, timezone defaults to GMT QUIETLY. So test your format a few times.\r\n    \r\n            System.out.println(my_time_in(&quot;GMT-5:00&quot;, &quot;MM/dd/yyyy HH:mm:ss&quot;) );\r\n            System.out.println(my_time_in(&quot;GMT+5:30&quot;, &quot;&#39;at&#39; HH:mm a z &#39;on&#39; MM/dd/yyyy&quot;));\r\n            \r\n            System.out.println(&quot;---------------------------------------------&quot;);\r\n            // Alternate format \r\n            System.out.println(my_time_in(&quot;America/Los_Angeles&quot;, &quot;&#39;at&#39; HH:mm a z &#39;on&#39; MM/dd/yyyy&quot;) );\r\n            System.out.println(my_time_in(&quot;America/Buenos_Aires&quot;, &quot;&#39;at&#39; HH:mm a z &#39;on&#39; MM/dd/yyyy&quot;) );\r\n    \r\n    \r\n        }\r\n    \r\n        public static String my_time_in(String target_time_zone, String format){\r\n            TimeZone tz = TimeZone.getTimeZone(target_time_zone);\r\n            Date date = Calendar.getInstance().getTime();\r\n            SimpleDateFormat date_format_gmt = new SimpleDateFormat(format);\r\n            date_format_gmt.setTimeZone(tz);\r\n            return date_format_gmt.format(date);\r\n        }\r\n    \r\n    }\r\n\r\nOutput\r\n\r\n    10/08/2011 21:07:21\r\n    at 07:37 AM GMT+05:30 on 10/09/2011\r\n    at 19:07 PM PDT on 10/08/2011\r\n    at 23:07 PM ART on 10/08/2011\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Sample code to render system time in a specific time zone and a specific format.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.TimeZone;\n\npublic class TimZoneTest {\n    public static void main (String[] args){\n        //&lt;GMT&gt;&lt;+/-&gt;&lt;hour&gt;:&lt;minutes&gt;\n        // Any screw up in this format, timezone defaults to GMT QUIETLY. So test your format a few times.\n\n        System.out.println(my_time_in(\"GMT-5:00\", \"MM/dd/yyyy HH:mm:ss\") );\n        System.out.println(my_time_in(\"GMT+5:30\", \"'at' HH:mm a z 'on' MM/dd/yyyy\"));\n\n        System.out.println(\"---------------------------------------------\");\n        // Alternate format \n        System.out.println(my_time_in(\"America/Los_Angeles\", \"'at' HH:mm a z 'on' MM/dd/yyyy\") );\n        System.out.println(my_time_in(\"America/Buenos_Aires\", \"'at' HH:mm a z 'on' MM/dd/yyyy\") );\n\n\n    }\n\n    public static String my_time_in(String target_time_zone, String format){\n        TimeZone tz = TimeZone.getTimeZone(target_time_zone);\n        Date date = Calendar.getInstance().getTime();\n        SimpleDateFormat date_format_gmt = new SimpleDateFormat(format);\n        date_format_gmt.setTimeZone(tz);\n        return date_format_gmt.format(date);\n    }\n\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>10/08/2011 21:07:21\nat 07:37 AM GMT+05:30 on 10/09/2011\nat 19:07 PM PDT on 10/08/2011\nat 23:07 PM ART on 10/08/2011\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284947,"reputation":6187,"user_id":583344,"accept_rate":46,"display_name":"nithinreddy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484631337,"creation_date":1334644767,"answer_id":10186364,"question_id":308683,"body_markdown":"You can directly use this\r\n\r\n    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;dd:MM:yyyy HH:mm:ss&quot;);\r\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    System.out.println(dateFormatGmt.format(new Date())+&quot;&quot;);","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>You can directly use this</p>\n\n<pre><code>SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"dd:MM:yyyy HH:mm:ss\");\ndateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nSystem.out.println(dateFormatGmt.format(new Date())+\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":474453,"reputation":147,"user_id":884141,"display_name":"huljas"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1336128715,"creation_date":1336128715,"answer_id":10447421,"question_id":308683,"body_markdown":"If you want a Date object with fields adjusted for UTC you can do it like this with [Joda Time][1]:\r\n\r\n    import org.joda.time.DateTimeZone;\r\n    import java.util.Date;\r\n    \r\n    ...\r\n\r\n    Date local = new Date();\r\n    System.out.println(&quot;Local: &quot; + local);\r\n    DateTimeZone zone = DateTimeZone.getDefault();\r\n    long utc = zone.convertLocalToUTC(local.getTime(), false);\r\n    System.out.println(&quot;UTC: &quot; + new Date(utc));\r\n\r\n  [1]: http://joda-time.sourceforge.net/","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you want a Date object with fields adjusted for UTC you can do it like this with <a href=\"http://joda-time.sourceforge.net/\">Joda Time</a>:</p>\n\n<pre><code>import org.joda.time.DateTimeZone;\nimport java.util.Date;\n\n...\n\nDate local = new Date();\nSystem.out.println(\"Local: \" + local);\nDateTimeZone zone = DateTimeZone.getDefault();\nlong utc = zone.convertLocalToUTC(local.getTime(), false);\nSystem.out.println(\"UTC: \" + new Date(utc));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1473326,"reputation":59,"user_id":1384339,"display_name":"Rene"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1336559665,"creation_date":1336559665,"answer_id":10514345,"question_id":308683,"body_markdown":"Here an other suggestion to get a GMT Timestamp object:\r\n\r\n    import java.sql.Timestamp;\r\n    import java.util.Calendar;\r\n\r\n    ...\r\n\r\n    private static Timestamp getGMT() {\r\n       Calendar cal = Calendar.getInstance();\r\n       return new Timestamp(cal.getTimeInMillis()\r\n                           -cal.get(Calendar.ZONE_OFFSET)\r\n                           -cal.get(Calendar.DST_OFFSET));\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here an other suggestion to get a GMT Timestamp object:</p>\n\n<pre><code>import java.sql.Timestamp;\nimport java.util.Calendar;\n\n...\n\nprivate static Timestamp getGMT() {\n   Calendar cal = Calendar.getInstance();\n   return new Timestamp(cal.getTimeInMillis()\n                       -cal.get(Calendar.ZONE_OFFSET)\n                       -cal.get(Calendar.DST_OFFSET));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":259304,"reputation":71887,"user_id":542091,"accept_rate":92,"display_name":"Ovidiu Latcu"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1337259877,"creation_date":1337259877,"answer_id":10636276,"question_id":308683,"body_markdown":"Just to make this simpler, to create a `Date` in `UTC` you can use [`Calendar`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html) :\r\n\r\n    Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\nWhich will construct a new instance for `Calendar` using the &quot;UTC&quot; `TimeZone`.\r\n\r\nIf you need a `Date` object from that calendar you could just use `getTime()`.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Just to make this simpler, to create a <code>Date</code> in <code>UTC</code> you can use <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html\" rel=\"nofollow\"><code>Calendar</code></a> :</p>\n\n<pre><code>Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\n</code></pre>\n\n<p>Which will construct a new instance for <code>Calendar</code> using the \"UTC\" <code>TimeZone</code>.</p>\n\n<p>If you need a <code>Date</code> object from that calendar you could just use <code>getTime()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1507985,"reputation":125,"user_id":1410897,"display_name":"Dana Wilson"},"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1551689296,"creation_date":1337709670,"answer_id":10707492,"question_id":308683,"body_markdown":"Here is what seems to be incorrect in [Jon Skeet&#39;s answer](https://stackoverflow.com/a/308689/366904). He said:\r\n\r\n&gt; `java.util.Date` is always in UTC. What makes you think it&#39;s in local\r\n&gt; time? I suspect the problem is that you&#39;re displaying it via an\r\n&gt; instance of Calendar which uses the local timezone, or possibly using\r\n&gt; `Date.toString()` which also uses the local timezone.\r\n\r\nHowever, the code:\r\n\r\n    System.out.println(new java.util.Date().getHours() + &quot; hours&quot;);\r\n\r\n\r\ngives the local hours, not GMT (UTC hours), using no `Calendar` and no `SimpleDateFormat` at all.\r\n\r\nThat is why is seems something is incorrect.\r\n\r\n\r\nPutting together the responses, the code: \r\n\r\n    System.out.println(Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;))\r\n                               .get(Calendar.HOUR_OF_DAY) + &quot; Hours&quot;);\r\n\r\nshows the GMT hours instead of the local hours -- note that `getTime.getHours()` is missing because that would create a `Date()` object, which theoretically stores the date in GMT, but gives back the hours in the local time zone.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here is what seems to be incorrect in <a href=\"https://stackoverflow.com/a/308689/366904\">Jon Skeet's answer</a>. He said:</p>\n\n<blockquote>\n  <p><code>java.util.Date</code> is always in UTC. What makes you think it's in local\n  time? I suspect the problem is that you're displaying it via an\n  instance of Calendar which uses the local timezone, or possibly using\n  <code>Date.toString()</code> which also uses the local timezone.</p>\n</blockquote>\n\n<p>However, the code:</p>\n\n<pre><code>System.out.println(new java.util.Date().getHours() + \" hours\");\n</code></pre>\n\n<p>gives the local hours, not GMT (UTC hours), using no <code>Calendar</code> and no <code>SimpleDateFormat</code> at all.</p>\n\n<p>That is why is seems something is incorrect.</p>\n\n<p>Putting together the responses, the code: </p>\n\n<pre><code>System.out.println(Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"))\n                           .get(Calendar.HOUR_OF_DAY) + \" Hours\");\n</code></pre>\n\n<p>shows the GMT hours instead of the local hours -- note that <code>getTime.getHours()</code> is missing because that would create a <code>Date()</code> object, which theoretically stores the date in GMT, but gives back the hours in the local time zone.</p>\n"},{"tags":[],"owner":{"account_id":1893257,"reputation":51,"user_id":1710772,"display_name":"shahtapa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1349065796,"creation_date":1349063332,"answer_id":12667316,"question_id":308683,"body_markdown":"Here is another way to get GMT time in String format\r\n\r\n    String DATE_FORMAT = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot; ;\r\n    final SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\r\n    sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    String dateTimeString =  sdf.format(new Date());\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here is another way to get GMT time in String format</p>\n\n<pre><code>String DATE_FORMAT = \"EEE, dd MMM yyyy HH:mm:ss z\" ;\nfinal SimpleDateFormat sdf = new SimpleDateFormat(DATE_FORMAT);\nsdf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nString dateTimeString =  sdf.format(new Date());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2065755,"reputation":713,"user_id":1841293,"accept_rate":0,"display_name":"Hitesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354695698,"creation_date":1354695698,"answer_id":13718937,"question_id":308683,"body_markdown":"To put it simple. A calendar object stores information about time zone but when you perform cal.getTime() then the timezone information will be lost. So for Timezone conversions I will advice to use DateFormat classes...\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>To put it simple. A calendar object stores information about time zone but when you perform cal.getTime() then the timezone information will be lost. So for Timezone conversions I will advice to use DateFormat classes...</p>\n"},{"tags":[],"owner":{"account_id":2023955,"reputation":41,"user_id":1809496,"display_name":"Bogdan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1364215576,"creation_date":1364215576,"answer_id":15615331,"question_id":308683,"body_markdown":"This worked for me, returns the timestamp in GMT!\r\n\r\n        Date currDate;\r\n    \tSimpleDateFormat dateFormatGmt = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \tdateFormatGmt.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \tSimpleDateFormat dateFormatLocal = new SimpleDateFormat(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \t\r\n    \tlong currTime = 0;\r\n\t\ttry {\r\n\r\n\t\t\tcurrDate = dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\r\n\t\t\tcurrTime = currDate.getTime();\r\n\t\t} catch (ParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This worked for me, returns the timestamp in GMT!</p>\n\n<pre><code>    Date currDate;\n    SimpleDateFormat dateFormatGmt = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\n    dateFormatGmt.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n    SimpleDateFormat dateFormatLocal = new SimpleDateFormat(\"yyyy-MMM-dd HH:mm:ss\");\n\n    long currTime = 0;\n    try {\n\n        currDate = dateFormatLocal.parse( dateFormatGmt.format(new Date()) );\n        currTime = currDate.getTime();\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":485248,"reputation":669,"user_id":901442,"display_name":"moberme"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1368732911,"creation_date":1368732911,"answer_id":16595970,"question_id":308683,"body_markdown":"This works for getting UTC milliseconds in Android.\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    int utcOffset = c.get(Calendar.ZONE_OFFSET) + c.get(Calendar.DST_OFFSET);  \r\n    Long utcMilliseconds = c.getTimeInMillis() + utcOffset;","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This works for getting UTC milliseconds in Android.</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\nint utcOffset = c.get(Calendar.ZONE_OFFSET) + c.get(Calendar.DST_OFFSET);  \nLong utcMilliseconds = c.getTimeInMillis() + utcOffset;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80013,"reputation":2646,"user_id":226513,"accept_rate":67,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1382798387,"creation_date":1382798387,"answer_id":19607953,"question_id":308683,"body_markdown":"This code prints the current time UTC.\r\n\r\n\timport java.text.ParseException;\r\n\timport java.text.SimpleDateFormat;\r\n\timport java.util.Date;\r\n\timport java.util.TimeZone;\r\n\t\r\n\t\r\n\tpublic class Test\r\n\t{\r\n\t\tpublic static void main(final String[] args) throws ParseException\r\n\t\t{\r\n\t\t\tfinal SimpleDateFormat f = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\r\n\t\t\tf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\t\tSystem.out.println(f.format(new Date()));\r\n\t\t}\r\n\t}\r\n\r\n\r\nResult\r\n\r\n    2013-10-26 14:37:48 UTC\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This code prints the current time UTC.</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.TimeZone;\n\n\npublic class Test\n{\n    public static void main(final String[] args) throws ParseException\n    {\n        final SimpleDateFormat f = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss z\");\n        f.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n        System.out.println(f.format(new Date()));\n    }\n}\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>2013-10-26 14:37:48 UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":510,"is_accepted":false,"score":510,"last_activity_date":1588777114,"creation_date":1382955286,"answer_id":19632076,"question_id":308683,"body_markdown":"# tl;dr\r\n\r\n    Instant.now()   // Capture the current moment in UTC. \r\n\r\nGenerate a String to represent that value:\r\n\r\n    Instant.now().toString()  \r\n\r\n&gt;2016-09-13T23:30:52.123Z\r\n\r\n# Details\r\n\r\nAs [the correct answer by Jon Skeet][1] stated, a java.util.Date object has **no time zone**&lt;sup&gt;†&lt;/sup&gt;. But its [`toString`][2] implementation applies the JVM’s default time zone when generating the String representation of that date-time value. Confusingly to the na&#239;ve programmer, a Date *seems* to have a time zone but does not.\r\n\r\nThe `java.util.Date`, `j.u.Calendar`, and `java.text.SimpleDateFormat` classes bundled with Java are notoriously troublesome. **Avoid them.** Instead, use either of these competent date-time libraries: \r\n\r\n - [java.time.*][3] package in Java 8\r\n - [Joda-Time][4]\r\n\r\njava.time (Java 8)\r\n==\r\n\r\n[Java 8][5] brings an excellent new [java.time.* package][6] to supplant the old java.util.Date/Calendar classes. \r\n\r\nGetting current time in UTC/GMT is a simple one-liner…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Instant instant = Instant.now();\r\n\r\nThat [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class is the basic building block in java.time, representing a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond). \r\n\r\nIn Java 8, the current moment is captured with only up to milliseconds resolution. [Java 9 brings a fresh implementation][7] of [`Clock`][8] captures the current moment in up to the full nanosecond capability of this class, depending on the ability of your host computer’s clock hardware.\r\n\r\nIt’s `toString` method generates a String representation of its value using [one specific ISO 8601 format][9]. That format outputs zero, three, six or nine digits digits ([milliseconds][10], [microseconds][11], or [nanoseconds][12]) as necessary to represent the fraction-of-second.\r\n\r\nIf you want more flexible formatting, or other additional features, then apply an offset-from-UTC of zero, for UTC itself ([`ZoneOffset.UTC` constant][13]) to get a [`OffsetDateTime`][14]. \r\n\r\n    OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC );\r\n\r\nDump to console…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;now.toString(): &quot; + now );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    now.toString(): 2014-01-21T23:42:03.522Z\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/MZe55.png&quot; alt=&quot;Table of date-time types in Java, both modern and legacy.&quot; /&gt;\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][16]][16]\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nJoda-Time\r\n==\r\n\r\nUPDATE: The [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\n\r\nUsing the [Joda-Time][4] 3rd-party open-source free-of-cost library, you can get the current date-time in just one line of code.\r\n\r\nJoda-Time inspired the new java.time.* classes in Java 8, but has a different architecture. You may use Joda-Time in older versions of Java. Joda-Time continues to work in Java 8 and continues to be actively maintained (as of 2014). However, the Joda-Time team does advise migration to java.time.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;UTC/GMT date-time in ISO 8601 format: &quot; + new org.joda.time.DateTime( org.joda.time.DateTimeZone.UTC ) );\r\n\r\nMore detailed example code (Joda-Time 2.3)…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    org.joda.time.DateTime now = new org.joda.time.DateTime(); // Default time zone.\r\n    org.joda.time.DateTime zulu = now.toDateTime( org.joda.time.DateTimeZone.UTC );\r\n\r\nDump to console…\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    System.out.println( &quot;Local time in ISO 8601 format: &quot; + now );\r\n    System.out.println( &quot;Same moment in UTC (Zulu): &quot; + zulu );\r\n\r\nWhen run…\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Local time in ISO 8601 format: 2014-01-21T15:34:29.933-08:00\r\n    Same moment in UTC (Zulu): 2014-01-21T23:34:29.933Z\r\n\r\nFor more example code doing time zone work, see [my answer](https://stackoverflow.com/a/19378311/642706) to a similar question.\r\n\r\n# Time Zone\r\n\r\nI recommend you always specify a time zone rather than relying implicitly on the JVM’s current default time zone (which can change at any moment!). Such reliance seems to be a common cause of confusion and bugs in date-time work.\r\n\r\nWhen calling `now()` pass the desired/expected time zone to be assigned. Use the [`DateTimeZone`][17] class.\r\n\r\n    DateTimeZone zoneMontr&#233;al = DateTimeZone.forID( &quot;America/Montreal&quot; );\r\n    DateTime now = DateTime.now( zoneMontr&#233;al );\r\n\r\nThat class holds a [constant for UTC][18] time zone.\r\n\r\n    DateTime now = DateTime.now( DateTimeZone.UTC );\r\n\r\nIf you truly want to use the JVM’s current default time zone, make an explicit call so your code is self-documenting.\r\n\r\n    DateTimeZone zoneDefault = DateTimeZone.getDefault();\r\n\r\n\r\n# ISO 8601\r\n\r\nRead about [ISO 8601][19] formats. Both java.time and Joda-Time use that standard’s sensible formats as their defaults for both parsing and generating strings.\r\n\r\n\r\n----------\r\n&lt;sup&gt;†&lt;/sup&gt; Actually, java.util.Date *does* have a time zone, buried deep under layers of source code. For most practical purposes, that time zone is ignored. So, as shorthand, we say java.util.Date has no time zone. Furthermore, that buried time zone is *not* the one used by Date’s `toString` method; that method uses the JVM’s current default time zone. All the more reason to avoid this confusing class and stick with Joda-Time and java.time.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/308689/642706\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString%28%29\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [4]: http://www.joda.org/joda-time/\r\n  [5]: http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [7]: https://bugs.openjdk.java.net/browse/JDK-8068730\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n  [10]: https://en.wikipedia.org/wiki/Millisecond\r\n  [11]: https://en.wikipedia.org/wiki/Microsecond\r\n  [12]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [13]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#UTC\r\n  [14]: https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\r\n  [15]: https://i.stack.imgur.com/KLNm3.png\r\n  [16]: https://i.stack.imgur.com/eT2Oo.png\r\n  [17]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\r\n  [18]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\r\n  [19]: https://en.wikipedia.org/wiki/ISO_8601","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.now()   // Capture the current moment in UTC. \n</code></pre>\n\n<p>Generate a String to represent that value:</p>\n\n<pre><code>Instant.now().toString()  \n</code></pre>\n\n<blockquote>\n  <p>2016-09-13T23:30:52.123Z</p>\n</blockquote>\n\n<h1>Details</h1>\n\n<p>As <a href=\"https://stackoverflow.com/a/308689/642706\">the correct answer by Jon Skeet</a> stated, a java.util.Date object has <strong>no time zone</strong><sup>†</sup>. But its <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Date.html#toString%28%29\" rel=\"noreferrer\"><code>toString</code></a> implementation applies the JVM’s default time zone when generating the String representation of that date-time value. Confusingly to the naïve programmer, a Date <em>seems</em> to have a time zone but does not.</p>\n\n<p>The <code>java.util.Date</code>, <code>j.u.Calendar</code>, and <code>java.text.SimpleDateFormat</code> classes bundled with Java are notoriously troublesome. <strong>Avoid them.</strong> Instead, use either of these competent date-time libraries: </p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time.*</a> package in Java 8</li>\n<li><a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a></li>\n</ul>\n\n<h1>java.time (Java 8)</h1>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\">Java 8</a> brings an excellent new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time.* package</a> to supplant the old java.util.Date/Calendar classes. </p>\n\n<p>Getting current time in UTC/GMT is a simple one-liner…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Instant instant = Instant.now();\n</code></pre>\n\n<p>That <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class is the basic building block in java.time, representing a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>. </p>\n\n<p>In Java 8, the current moment is captured with only up to milliseconds resolution. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"noreferrer\">Java 9 brings a fresh implementation</a> of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"noreferrer\"><code>Clock</code></a> captures the current moment in up to the full nanosecond capability of this class, depending on the ability of your host computer’s clock hardware.</p>\n\n<p>It’s <code>toString</code> method generates a String representation of its value using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"noreferrer\">one specific ISO 8601 format</a>. That format outputs zero, three, six or nine digits digits (<a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a>, <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a>, or <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>) as necessary to represent the fraction-of-second.</p>\n\n<p>If you want more flexible formatting, or other additional features, then apply an offset-from-UTC of zero, for UTC itself (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html#UTC\" rel=\"noreferrer\"><code>ZoneOffset.UTC</code> constant</a>) to get a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>. </p>\n\n<pre><code>OffsetDateTime now = OffsetDateTime.now( ZoneOffset.UTC );\n</code></pre>\n\n<p>Dump to console…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"now.toString(): \" + now );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>now.toString(): 2014-01-21T23:42:03.522Z\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/MZe55.png\" alt=\"Table of date-time types in Java, both modern and legacy.\" /></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/eT2Oo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eT2Oo.png\" alt=\"Table of which java.time library to use with which version of Java or Android\"></a></p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p>UPDATE: The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>Using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 3rd-party open-source free-of-cost library, you can get the current date-time in just one line of code.</p>\n\n<p>Joda-Time inspired the new java.time.* classes in Java 8, but has a different architecture. You may use Joda-Time in older versions of Java. Joda-Time continues to work in Java 8 and continues to be actively maintained (as of 2014). However, the Joda-Time team does advise migration to java.time.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"UTC/GMT date-time in ISO 8601 format: \" + new org.joda.time.DateTime( org.joda.time.DateTimeZone.UTC ) );\n</code></pre>\n\n<p>More detailed example code (Joda-Time 2.3)…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>org.joda.time.DateTime now = new org.joda.time.DateTime(); // Default time zone.\norg.joda.time.DateTime zulu = now.toDateTime( org.joda.time.DateTimeZone.UTC );\n</code></pre>\n\n<p>Dump to console…</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( \"Local time in ISO 8601 format: \" + now );\nSystem.out.println( \"Same moment in UTC (Zulu): \" + zulu );\n</code></pre>\n\n<p>When run…</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Local time in ISO 8601 format: 2014-01-21T15:34:29.933-08:00\nSame moment in UTC (Zulu): 2014-01-21T23:34:29.933Z\n</code></pre>\n\n<p>For more example code doing time zone work, see <a href=\"https://stackoverflow.com/a/19378311/642706\">my answer</a> to a similar question.</p>\n\n<h1>Time Zone</h1>\n\n<p>I recommend you always specify a time zone rather than relying implicitly on the JVM’s current default time zone (which can change at any moment!). Such reliance seems to be a common cause of confusion and bugs in date-time work.</p>\n\n<p>When calling <code>now()</code> pass the desired/expected time zone to be assigned. Use the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\" rel=\"noreferrer\"><code>DateTimeZone</code></a> class.</p>\n\n<pre><code>DateTimeZone zoneMontréal = DateTimeZone.forID( \"America/Montreal\" );\nDateTime now = DateTime.now( zoneMontréal );\n</code></pre>\n\n<p>That class holds a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\" rel=\"noreferrer\">constant for UTC</a> time zone.</p>\n\n<pre><code>DateTime now = DateTime.now( DateTimeZone.UTC );\n</code></pre>\n\n<p>If you truly want to use the JVM’s current default time zone, make an explicit call so your code is self-documenting.</p>\n\n<pre><code>DateTimeZone zoneDefault = DateTimeZone.getDefault();\n</code></pre>\n\n<h1>ISO 8601</h1>\n\n<p>Read about <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats. Both java.time and Joda-Time use that standard’s sensible formats as their defaults for both parsing and generating strings.</p>\n\n<hr>\n\n<p><sup>†</sup> Actually, java.util.Date <em>does</em> have a time zone, buried deep under layers of source code. For most practical purposes, that time zone is ignored. So, as shorthand, we say java.util.Date has no time zone. Furthermore, that buried time zone is <em>not</em> the one used by Date’s <code>toString</code> method; that method uses the JVM’s current default time zone. All the more reason to avoid this confusing class and stick with Joda-Time and java.time.</p>\n"},{"tags":[],"owner":{"account_id":2633295,"reputation":5279,"user_id":2278668,"accept_rate":100,"display_name":"Ingo"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1406758440,"creation_date":1383342597,"answer_id":19735955,"question_id":308683,"body_markdown":"Use this Class to get ever the right UTC Time from a Online NTP Server: \r\n\r\n\r\n    import java.net.DatagramPacket;\r\n    import java.net.DatagramSocket;\r\n    import java.net.InetAddress;\r\n\r\n\r\n    class NTP_UTC_Time\r\n    {\r\n    private static final String TAG = &quot;SntpClient&quot;;\r\n\r\n    private static final int RECEIVE_TIME_OFFSET = 32;\r\n    private static final int TRANSMIT_TIME_OFFSET = 40;\r\n    private static final int NTP_PACKET_SIZE = 48;\r\n\r\n    private static final int NTP_PORT = 123;\r\n    private static final int NTP_MODE_CLIENT = 3;\r\n    private static final int NTP_VERSION = 3;\r\n\r\n    // Number of seconds between Jan 1, 1900 and Jan 1, 1970\r\n    // 70 years plus 17 leap days\r\n    private static final long OFFSET_1900_TO_1970 = ((365L * 70L) + 17L) * 24L * 60L * 60L;\r\n\r\n    private long mNtpTime;\r\n\r\n    public boolean requestTime(String host, int timeout) {\r\n        try {\r\n            DatagramSocket socket = new DatagramSocket();\r\n            socket.setSoTimeout(timeout);\r\n            InetAddress address = InetAddress.getByName(host);\r\n            byte[] buffer = new byte[NTP_PACKET_SIZE];\r\n            DatagramPacket request = new DatagramPacket(buffer, buffer.length, address, NTP_PORT);\r\n\r\n            buffer[0] = NTP_MODE_CLIENT | (NTP_VERSION &lt;&lt; 3);\r\n\r\n            writeTimeStamp(buffer, TRANSMIT_TIME_OFFSET);\r\n\r\n            socket.send(request);\r\n\r\n            // read the response\r\n            DatagramPacket response = new DatagramPacket(buffer, buffer.length);\r\n            socket.receive(response);          \r\n            socket.close();\r\n       \r\n            mNtpTime = readTimeStamp(buffer, RECEIVE_TIME_OFFSET);            \r\n        } catch (Exception e) {\r\n          //  if (Config.LOGD) Log.d(TAG, &quot;request time failed: &quot; + e);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n    \r\n\r\n    public long getNtpTime() {\r\n        return mNtpTime;\r\n    }\r\n\r\n\r\n    /**\r\n     * Reads an unsigned 32 bit big endian number from the given offset in the buffer.\r\n     */\r\n    private long read32(byte[] buffer, int offset) {\r\n        byte b0 = buffer[offset];\r\n        byte b1 = buffer[offset+1];\r\n        byte b2 = buffer[offset+2];\r\n        byte b3 = buffer[offset+3];\r\n\r\n        // convert signed bytes to unsigned values\r\n        int i0 = ((b0 &amp; 0x80) == 0x80 ? (b0 &amp; 0x7F) + 0x80 : b0);\r\n        int i1 = ((b1 &amp; 0x80) == 0x80 ? (b1 &amp; 0x7F) + 0x80 : b1);\r\n        int i2 = ((b2 &amp; 0x80) == 0x80 ? (b2 &amp; 0x7F) + 0x80 : b2);\r\n        int i3 = ((b3 &amp; 0x80) == 0x80 ? (b3 &amp; 0x7F) + 0x80 : b3);\r\n\r\n        return ((long)i0 &lt;&lt; 24) + ((long)i1 &lt;&lt; 16) + ((long)i2 &lt;&lt; 8) + (long)i3;\r\n    }\r\n\r\n    /**\r\n     * Reads the NTP time stamp at the given offset in the buffer and returns \r\n     * it as a system time (milliseconds since January 1, 1970).\r\n     */    \r\n    private long readTimeStamp(byte[] buffer, int offset) {\r\n        long seconds = read32(buffer, offset);\r\n        long fraction = read32(buffer, offset + 4);\r\n        return ((seconds - OFFSET_1900_TO_1970) * 1000) + ((fraction * 1000L) / 0x100000000L);        \r\n    }\r\n\r\n    /**\r\n     * Writes 0 as NTP starttime stamp in the buffer. --&gt; Then NTP returns Time OFFSET since 1900\r\n     */    \r\n    private void writeTimeStamp(byte[] buffer, int offset) {    \t\r\n    \tint ofs =  offset++;\r\n    \t\r\n    \tfor (int i=ofs;i&lt;(ofs+8);i++)\r\n    \t  buffer[i] = (byte)(0);             \r\n    }\r\n                  \r\n    }\r\n\r\n\r\n\r\nAnd use it with:\r\n\r\n            long now = 0;\r\n\r\n            NTP_UTC_Time client = new NTP_UTC_Time();\r\n\r\n            if (client.requestTime(&quot;pool.ntp.org&quot;, 2000)) {              \r\n              now = client.getNtpTime();\r\n            }\r\n\r\n\r\nIf you need UTC Time &quot;now&quot; as DateTimeString use function:\r\n\r\n\r\n    private String get_UTC_Datetime_from_timestamp(long timeStamp){\r\n\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\tCalendar cal = Calendar.getInstance();\r\n\t  \t\tTimeZone tz = cal.getTimeZone();\r\n\t  \t\t\r\n\t  \t\tint tzt = tz.getOffset(System.currentTimeMillis());\r\n\t  \t\t\t  \t\t\t  \t\t\r\n\t  \t\ttimeStamp -= tzt;\r\n\t\t\t\r\n\t\t    // DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;,Locale.getDefault());\r\n\t\t    DateFormat sdf = new SimpleDateFormat();\r\n\t\t    Date netDate = (new Date(timeStamp));\r\n\t\t    return sdf.format(netDate);\r\n\t\t}\r\n\t\tcatch(Exception ex){\r\n\t\t    return &quot;&quot;;\r\n\t\t }\r\n\t\t} \r\n\r\n\r\nand use it with:\r\n\r\n    String UTC_DateTime = get_UTC_Datetime_from_timestamp(now);","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Use this Class to get ever the right UTC Time from a Online NTP Server: </p>\n\n<pre><code>import java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\n\n\nclass NTP_UTC_Time\n{\nprivate static final String TAG = \"SntpClient\";\n\nprivate static final int RECEIVE_TIME_OFFSET = 32;\nprivate static final int TRANSMIT_TIME_OFFSET = 40;\nprivate static final int NTP_PACKET_SIZE = 48;\n\nprivate static final int NTP_PORT = 123;\nprivate static final int NTP_MODE_CLIENT = 3;\nprivate static final int NTP_VERSION = 3;\n\n// Number of seconds between Jan 1, 1900 and Jan 1, 1970\n// 70 years plus 17 leap days\nprivate static final long OFFSET_1900_TO_1970 = ((365L * 70L) + 17L) * 24L * 60L * 60L;\n\nprivate long mNtpTime;\n\npublic boolean requestTime(String host, int timeout) {\n    try {\n        DatagramSocket socket = new DatagramSocket();\n        socket.setSoTimeout(timeout);\n        InetAddress address = InetAddress.getByName(host);\n        byte[] buffer = new byte[NTP_PACKET_SIZE];\n        DatagramPacket request = new DatagramPacket(buffer, buffer.length, address, NTP_PORT);\n\n        buffer[0] = NTP_MODE_CLIENT | (NTP_VERSION &lt;&lt; 3);\n\n        writeTimeStamp(buffer, TRANSMIT_TIME_OFFSET);\n\n        socket.send(request);\n\n        // read the response\n        DatagramPacket response = new DatagramPacket(buffer, buffer.length);\n        socket.receive(response);          \n        socket.close();\n\n        mNtpTime = readTimeStamp(buffer, RECEIVE_TIME_OFFSET);            \n    } catch (Exception e) {\n      //  if (Config.LOGD) Log.d(TAG, \"request time failed: \" + e);\n        return false;\n    }\n\n    return true;\n}\n\n\npublic long getNtpTime() {\n    return mNtpTime;\n}\n\n\n/**\n * Reads an unsigned 32 bit big endian number from the given offset in the buffer.\n */\nprivate long read32(byte[] buffer, int offset) {\n    byte b0 = buffer[offset];\n    byte b1 = buffer[offset+1];\n    byte b2 = buffer[offset+2];\n    byte b3 = buffer[offset+3];\n\n    // convert signed bytes to unsigned values\n    int i0 = ((b0 &amp; 0x80) == 0x80 ? (b0 &amp; 0x7F) + 0x80 : b0);\n    int i1 = ((b1 &amp; 0x80) == 0x80 ? (b1 &amp; 0x7F) + 0x80 : b1);\n    int i2 = ((b2 &amp; 0x80) == 0x80 ? (b2 &amp; 0x7F) + 0x80 : b2);\n    int i3 = ((b3 &amp; 0x80) == 0x80 ? (b3 &amp; 0x7F) + 0x80 : b3);\n\n    return ((long)i0 &lt;&lt; 24) + ((long)i1 &lt;&lt; 16) + ((long)i2 &lt;&lt; 8) + (long)i3;\n}\n\n/**\n * Reads the NTP time stamp at the given offset in the buffer and returns \n * it as a system time (milliseconds since January 1, 1970).\n */    \nprivate long readTimeStamp(byte[] buffer, int offset) {\n    long seconds = read32(buffer, offset);\n    long fraction = read32(buffer, offset + 4);\n    return ((seconds - OFFSET_1900_TO_1970) * 1000) + ((fraction * 1000L) / 0x100000000L);        \n}\n\n/**\n * Writes 0 as NTP starttime stamp in the buffer. --&gt; Then NTP returns Time OFFSET since 1900\n */    \nprivate void writeTimeStamp(byte[] buffer, int offset) {        \n    int ofs =  offset++;\n\n    for (int i=ofs;i&lt;(ofs+8);i++)\n      buffer[i] = (byte)(0);             \n}\n\n}\n</code></pre>\n\n<p>And use it with:</p>\n\n<pre><code>        long now = 0;\n\n        NTP_UTC_Time client = new NTP_UTC_Time();\n\n        if (client.requestTime(\"pool.ntp.org\", 2000)) {              \n          now = client.getNtpTime();\n        }\n</code></pre>\n\n<p>If you need UTC Time \"now\" as DateTimeString use function:</p>\n\n<pre><code>private String get_UTC_Datetime_from_timestamp(long timeStamp){\n\n    try{\n\n        Calendar cal = Calendar.getInstance();\n        TimeZone tz = cal.getTimeZone();\n\n        int tzt = tz.getOffset(System.currentTimeMillis());\n\n        timeStamp -= tzt;\n\n        // DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\",Locale.getDefault());\n        DateFormat sdf = new SimpleDateFormat();\n        Date netDate = (new Date(timeStamp));\n        return sdf.format(netDate);\n    }\n    catch(Exception ex){\n        return \"\";\n     }\n    } \n</code></pre>\n\n<p>and use it with:</p>\n\n<pre><code>String UTC_DateTime = get_UTC_Datetime_from_timestamp(now);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389186518,"creation_date":1389186518,"answer_id":20996588,"question_id":308683,"body_markdown":"**Converting Current DateTime in UTC:**\r\n\r\n    DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n    \r\n    DateTimeZone dateTimeZone = DateTimeZone.getDefault(); //Default Time Zone\r\n    \r\n    DateTime currDateTime = new DateTime(); //Current DateTime\r\n    \r\n    long utcTime = dateTimeZone.convertLocalToUTC(currDateTime .getMillis(), false);\r\n    \r\n    String currTime = formatter.print(utcTime); //UTC time converted to string from long in format of formatter\r\n    \r\n    currDateTime = formatter.parseDateTime(currTime); //Converted to DateTime in UTC\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p><strong>Converting Current DateTime in UTC:</strong></p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormat.forPattern(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n\nDateTimeZone dateTimeZone = DateTimeZone.getDefault(); //Default Time Zone\n\nDateTime currDateTime = new DateTime(); //Current DateTime\n\nlong utcTime = dateTimeZone.convertLocalToUTC(currDateTime .getMillis(), false);\n\nString currTime = formatter.print(utcTime); //UTC time converted to string from long in format of formatter\n\ncurrDateTime = formatter.parseDateTime(currTime); //Converted to DateTime in UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3718356,"reputation":6301,"user_id":3093939,"accept_rate":55,"display_name":"Gal Rom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401169962,"creation_date":1401169962,"answer_id":23881937,"question_id":308683,"body_markdown":"this is my implementation:\r\n\r\n    public static String GetCurrentTimeStamp()\r\n\t{\r\n\t\tCalendar cal=Calendar.getInstance();\r\n\t\tlong offset = cal.getTimeZone().getOffset(System.currentTimeMillis());//if you want in UTC else remove it .\r\n\t\treturn new java.sql.Timestamp(System.currentTimeMillis()+offset).toString();\t\r\n\t}\r\n\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>this is my implementation:</p>\n\n<pre><code>public static String GetCurrentTimeStamp()\n{\n    Calendar cal=Calendar.getInstance();\n    long offset = cal.getTimeZone().getOffset(System.currentTimeMillis());//if you want in UTC else remove it .\n    return new java.sql.Timestamp(System.currentTimeMillis()+offset).toString();    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2278676,"reputation":1090,"user_id":2061551,"accept_rate":87,"display_name":"Managarm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436355504,"creation_date":1436350710,"answer_id":31289752,"question_id":308683,"body_markdown":"If you&#39;re using joda time and want the current time in milliseconds *without your local offset* you can use this:\r\n\r\n    long instant = DateTimeZone.UTC.getMillisKeepLocal(DateTimeZone.getDefault(), System.currentTimeMillis());","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you're using joda time and want the current time in milliseconds <em>without your local offset</em> you can use this:</p>\n\n<pre><code>long instant = DateTimeZone.UTC.getMillisKeepLocal(DateTimeZone.getDefault(), System.currentTimeMillis());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21931,"reputation":3864,"user_id":53702,"accept_rate":92,"display_name":"Matthias van der Vlies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439276104,"creation_date":1439276104,"answer_id":31935095,"question_id":308683,"body_markdown":"If you want to avoid parsing the date and just want a timestamp in GMT, you could use:\r\n\r\n    final Date gmt = new Timestamp(System.currentTimeMillis()\r\n    \t\t\t- Calendar.getInstance().getTimeZone()\r\n    \t\t\t\t\t.getOffset(System.currentTimeMillis()));","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you want to avoid parsing the date and just want a timestamp in GMT, you could use:</p>\n\n<pre><code>final Date gmt = new Timestamp(System.currentTimeMillis()\n            - Calendar.getInstance().getTimeZone()\n                    .getOffset(System.currentTimeMillis()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7456466,"reputation":990,"user_id":5669587,"display_name":"Ashallar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472656216,"creation_date":1472656216,"answer_id":39253241,"question_id":308683,"body_markdown":"Here is my implementation of toUTC:\r\n\r\n        public static Date toUTC(Date date){\r\n        long datems = date.getTime();\r\n        long timezoneoffset = TimeZone.getDefault().getOffset(datems);\r\n        datems -= timezoneoffset;\r\n        return new Date(datems);\r\n    }\r\n\r\nThere&#39;s probably several ways to improve it, but it works for me.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Here is my implementation of toUTC:</p>\n\n<pre><code>    public static Date toUTC(Date date){\n    long datems = date.getTime();\n    long timezoneoffset = TimeZone.getDefault().getOffset(datems);\n    datems -= timezoneoffset;\n    return new Date(datems);\n}\n</code></pre>\n\n<p>There's probably several ways to improve it, but it works for me.</p>\n"},{"tags":[],"owner":{"account_id":9470730,"reputation":31,"user_id":7041660,"display_name":"Arjun Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476876104,"creation_date":1476873102,"answer_id":40128836,"question_id":308683,"body_markdown":"    public static void main(String args[]){\r\n        LocalDate date=LocalDate.now();  \r\n        System.out.println(&quot;Current date = &quot;+date);\r\n    }","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>public static void main(String args[]){\n    LocalDate date=LocalDate.now();  \n    System.out.println(\"Current date = \"+date);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11833518,"reputation":41,"user_id":8659540,"display_name":"santoshlokhande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530676266,"creation_date":1530674678,"answer_id":51165321,"question_id":308683,"body_markdown":"    public class CurrentUtcDate \r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDate date = new Date();\r\n    \t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \t\tdateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \t\tSystem.out.println(&quot;UTC Time is: &quot; + dateFormat.format(date));\r\n    \t}\r\n    }\r\n     \r\nOutput:\r\n\r\n    UTC Time is: 22-01-2018 13:14:35\r\n\r\nYou can change the date format as needed.\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<pre><code>public class CurrentUtcDate \n{\n    public static void main(String[] args) {\n        Date date = new Date();\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\n        dateFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n        System.out.println(\"UTC Time is: \" + dateFormat.format(date));\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>UTC Time is: 22-01-2018 13:14:35\n</code></pre>\n\n<p>You can change the date format as needed.</p>\n"},{"tags":[],"owner":{"account_id":4685065,"reputation":485,"user_id":3792674,"display_name":"Asif"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541112446,"creation_date":1541112446,"answer_id":53110451,"question_id":308683,"body_markdown":"Use java.time package and include below code-\r\n\r\n`ZonedDateTime now = ZonedDateTime.now( ZoneOffset.UTC );`\r\n\r\nor\r\n\r\n`LocalDateTime now2 = LocalDateTime.now( ZoneOffset.UTC );`\r\n\r\ndepending on your application need.","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Use java.time package and include below code-</p>\n\n<p><code>ZonedDateTime now = ZonedDateTime.now( ZoneOffset.UTC );</code></p>\n\n<p>or</p>\n\n<p><code>LocalDateTime now2 = LocalDateTime.now( ZoneOffset.UTC );</code></p>\n\n<p>depending on your application need.</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551685972,"creation_date":1551685972,"answer_id":54978787,"question_id":308683,"body_markdown":"Current date in the UTC\r\n\r\n    Instant.now().toString().replaceAll(&quot;T.*&quot;, &quot;&quot;);","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>Current date in the UTC</p>\n\n<pre><code>Instant.now().toString().replaceAll(\"T.*\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2459173,"reputation":1210,"user_id":2149492,"display_name":"JohnPan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644414647,"creation_date":1642668169,"answer_id":70783077,"question_id":308683,"body_markdown":"This is the way I do it when I need to **output a Date object**, which is usually the case when you need to save a Date in an SQL database and I want it to be in UTC. I just subtract the offset time of the local time zone.\r\n\r\n        ZonedDateTime now = ZonedDateTime.now();\r\n        Date nowUTC = new Date(1000 * (now.toEpochSecond() - now.getOffset().getTotalSeconds()));\r\n\r\n--UPDATE\r\nBasil&#39;s suggestion for a cleaner way to have the same result would be\r\n\r\n        Date nowUTC = Date.from(ZonedDateTime.now().toInstant());\r\n\r\nBUT after testing this in a non-UTC java system env, I saw that the results are not the same. With Basil&#39;s code, the Date is still on local zone\r\n","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>This is the way I do it when I need to <strong>output a Date object</strong>, which is usually the case when you need to save a Date in an SQL database and I want it to be in UTC. I just subtract the offset time of the local time zone.</p>\n<pre><code>    ZonedDateTime now = ZonedDateTime.now();\n    Date nowUTC = new Date(1000 * (now.toEpochSecond() - now.getOffset().getTotalSeconds()));\n</code></pre>\n<p>--UPDATE\nBasil's suggestion for a cleaner way to have the same result would be</p>\n<pre><code>    Date nowUTC = Date.from(ZonedDateTime.now().toInstant());\n</code></pre>\n<p>BUT after testing this in a non-UTC java system env, I saw that the results are not the same. With Basil's code, the Date is still on local zone</p>\n"},{"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648325470,"creation_date":1648282277,"answer_id":71626343,"question_id":308683,"body_markdown":"The Simple Function that you can use:\r\n\r\nEdit: this version uses the modern java.time classes.\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss z&quot;);\r\n\t\r\n\tpublic static String getUtcDateTime() {\r\n\t    return ZonedDateTime.now(ZoneId.of(&quot;Etc/UTC&quot;)).format(FORMATTER);\r\n\t}\r\n\r\nReturn value from the method:\r\n\r\n    26-03-2022 17:38:55 UTC\r\n\r\nOriginal function:\r\n\r\n     public String getUTC_DateTime() {\r\n        SimpleDateFormat dateTimeFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss z&quot;);\r\n        dateTimeFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));//gmt\r\n        return dateTimeFormat.format(new Date());\r\n\r\n    }\r\n\r\nreturn of above function:\r\n\r\n    26-03-2022 08:07:21 UTC ","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>The Simple Function that you can use:</p>\n<p>Edit: this version uses the modern java.time classes.</p>\n<pre><code>private static final DateTimeFormatter FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss z&quot;);\n\npublic static String getUtcDateTime() {\n    return ZonedDateTime.now(ZoneId.of(&quot;Etc/UTC&quot;)).format(FORMATTER);\n}\n</code></pre>\n<p>Return value from the method:</p>\n<pre><code>26-03-2022 17:38:55 UTC\n</code></pre>\n<p>Original function:</p>\n<pre><code> public String getUTC_DateTime() {\n    SimpleDateFormat dateTimeFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss z&quot;);\n    dateTimeFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));//gmt\n    return dateTimeFormat.format(new Date());\n\n}\n</code></pre>\n<p>return of above function:</p>\n<pre><code>26-03-2022 08:07:21 UTC \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1191980,"reputation":3020,"user_id":1164529,"accept_rate":80,"display_name":"Harpreet"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680290117,"creation_date":1680205560,"answer_id":75892382,"question_id":308683,"body_markdown":"If you are developing for Android and you are familiar with the `Calendar` class then here is a quick relevant code to convert your current time to UTC time. But remember it will not convert the timezone. *(Converting timezone is another different story)*\r\n\r\n \r\n\r\n    public Calendar getMyTimeInUTC(Calendar calendar) {\r\n        final int utcOffset = calendar.get(Calendar.ZONE_OFFSET) + calendar.get(Calendar.DST_OFFSET);\r\n        calendar.setTimeInMillis(calendar.getTimeInMillis() - utcOffset);\r\n        return calendar;\r\n    }","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>If you are developing for Android and you are familiar with the <code>Calendar</code> class then here is a quick relevant code to convert your current time to UTC time. But remember it will not convert the timezone. <em>(Converting timezone is another different story)</em></p>\n<pre><code>public Calendar getMyTimeInUTC(Calendar calendar) {\n    final int utcOffset = calendar.get(Calendar.ZONE_OFFSET) + calendar.get(Calendar.DST_OFFSET);\n    calendar.setTimeInMillis(calendar.getTimeInMillis() - utcOffset);\n    return calendar;\n}\n</code></pre>\n"}],"owner":{"account_id":10506,"reputation":9869,"user_id":19888,"accept_rate":100,"display_name":"Behrang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212151,"favorite_count":0,"down_vote_count":2,"up_vote_count":585,"accepted_answer_id":308689,"answer_count":34,"score":583,"last_activity_date":1680290117,"creation_date":1227272536,"question_id":308683,"body_markdown":"When I create a new `Date` object, it is initialized to the current time but in the local timezone. How can I get the current date and time in GMT?","title":"How can I get the current date and time in UTC or GMT in Java?","body":"<p>When I create a new <code>Date</code> object, it is initialized to the current time but in the local timezone. How can I get the current date and time in GMT?</p>\n"},{"tags":["java","android","crash"],"answers":[{"tags":[],"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680290065,"creation_date":1680243052,"answer_id":75895357,"question_id":75894976,"body_markdown":"You can register crash handler in app level\r\nI suggest use this code in your Application class\r\n\r\n```java\r\npublic class CrashHandler implements Thread.UncaughtExceptionHandler {\r\n\r\n    public static final String TAG = CrashHandler.class.getSimpleName();\r\n    private static CrashHandler instance = new CrashHandler();\r\n    private Context mContext;\r\n\r\n    private CrashHandler() {\r\n    }\r\n\r\n    public static CrashHandler getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    public void init(Context context) {\r\n        mContext = context;\r\n        Thread.setDefaultUncaughtExceptionHandler(instance);\r\n    }\r\n\r\n    @Override\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        //crash info and exceptions here\r\n    }\r\n}\r\n```\r\n\r\nAnd in your Application class \r\n\r\n```java\r\npublic App  extends Application{\r\n\r\n     @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        CrashHandler.getInstance().init(this);\r\n    }\r\n   \r\n}\r\n```\r\n\r\nLast step, register your owner custom application class in your android manifest file\r\n\r\n\r\n\r\n\r\n","title":"How to catch the crash logs globally in Android Java?","body":"<p>You can register crash handler in app level\nI suggest use this code in your Application class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CrashHandler implements Thread.UncaughtExceptionHandler {\n\n    public static final String TAG = CrashHandler.class.getSimpleName();\n    private static CrashHandler instance = new CrashHandler();\n    private Context mContext;\n\n    private CrashHandler() {\n    }\n\n    public static CrashHandler getInstance() {\n        return instance;\n    }\n\n    public void init(Context context) {\n        mContext = context;\n        Thread.setDefaultUncaughtExceptionHandler(instance);\n    }\n\n    @Override\n    public void uncaughtException(Thread t, Throwable e) {\n        //crash info and exceptions here\n    }\n}\n</code></pre>\n<p>And in your Application class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public App  extends Application{\n\n     @Override\n    public void onCreate() {\n        super.onCreate();\n        CrashHandler.getInstance().init(this);\n    }\n   \n}\n</code></pre>\n<p>Last step, register your owner custom application class in your android manifest file</p>\n"}],"owner":{"account_id":2093373,"reputation":29,"user_id":1862673,"display_name":"Shawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680245012,"answer_count":1,"score":1,"last_activity_date":1680290065,"creation_date":1680238522,"question_id":75894976,"body_markdown":"I have created multiple Activities and Fragments along with different threads in my application. Its hard to predict the application crash at sometime.\r\nIs there anything will help me to catch all the crashes globally at Main Activity or Manifest level ?\r\n\r\nTried putting try catches in all the Activities so that it catches any crash occurs in its child Fragment. But unfortunately its not happening.","title":"How to catch the crash logs globally in Android Java?","body":"<p>I have created multiple Activities and Fragments along with different threads in my application. Its hard to predict the application crash at sometime.\nIs there anything will help me to catch all the crashes globally at Main Activity or Manifest level ?</p>\n<p>Tried putting try catches in all the Activities so that it catches any crash occurs in its child Fragment. But unfortunately its not happening.</p>\n"},{"tags":["java",".net","design-patterns","io","decorator"],"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":2,"creation_date":1308190231,"post_id":6366385,"comment_id":7454727,"body_markdown":"possible duplicate of [when do we need Decorator Pattern?](http://stackoverflow.com/questions/3477962/when-do-we-need-decorator-pattern)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3477962/when-do-we-need-decorator-pattern\">when do we need Decorator Pattern?</a>"},{"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"score":3,"creation_date":1514042314,"post_id":6366385,"comment_id":82876477,"body_markdown":"It is not a duplicate because the question is about the specific use cases of io library.","body":"It is not a duplicate because the question is about the specific use cases of io library."}],"answers":[{"tags":[],"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308190107,"creation_date":1308190107,"answer_id":6366398,"question_id":6366385,"body_markdown":"One way you can decorate an input/output stream is to apply compression/decompression to it. See the classes in `java.util.zip`, for example. Such a decorated stream can be used exactly the same way as a &quot;regular&quot; input/output stream, with compression/decompression performed totally transparently.","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>One way you can decorate an input/output stream is to apply compression/decompression to it. See the classes in <code>java.util.zip</code>, for example. Such a decorated stream can be used exactly the same way as a \"regular\" input/output stream, with compression/decompression performed totally transparently.</p>\n"},{"tags":[],"owner":{"account_id":379520,"reputation":76919,"user_id":732945,"accept_rate":75,"display_name":"Alex Aza"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1308190279,"creation_date":1308190279,"answer_id":6366420,"question_id":6366385,"body_markdown":"In .NET, there are a bunch of stream decorators, like BufferedStream, CryptoStream, GzipStream, etc. All those decorate `Stream` class.","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>In .NET, there are a bunch of stream decorators, like BufferedStream, CryptoStream, GzipStream, etc. All those decorate <code>Stream</code> class.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582124473,"creation_date":1308190332,"answer_id":6366427,"question_id":6366385,"body_markdown":"The decorator pattern is used in java.io classes when you manipulated input/output streams (and the same applies for readers and writers).\r\n\r\ninputstream, bytearrayinputstream, stringbuilderinputstreams and so on are based elements. Filterinputstream is the base class for the decorator classes. Filter input streams (such as bufferedinput stream) can do additional things when they read streams or write to them. \r\n\r\nThey are built by encapsulating a stream, and are streams themselves. \r\n\r\n    new BufferedReader( new FileInputStream() ).readLine();\r\n\r\nI can&#39;t think of any class implementing this pattern in java.net, but I think your were told about this package as it is strongly tied to java.io (socket.getInputStream for instance).\r\n\r\nActually, here is a course from O&#39;Relly ([pdf on uwosh.edu | archive.org][uwosh.edu], [slides on slideshare.net][slideshare.net]) that explains how decorator is implemented in java.io.\r\n\r\n\r\n  [uwosh.edu]: https://web.archive.org/web/20160528132555/http://www.uwosh.edu/faculty_staff/huen/262/f09/slides/15_Decorator_Pattern.ppt\r\n  [slideshare.net]: https://www.slideshare.net/abhijitgaikwad/15-decorator-pattern-17658638","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>The decorator pattern is used in java.io classes when you manipulated input/output streams (and the same applies for readers and writers).</p>\n\n<p>inputstream, bytearrayinputstream, stringbuilderinputstreams and so on are based elements. Filterinputstream is the base class for the decorator classes. Filter input streams (such as bufferedinput stream) can do additional things when they read streams or write to them. </p>\n\n<p>They are built by encapsulating a stream, and are streams themselves. </p>\n\n<pre><code>new BufferedReader( new FileInputStream() ).readLine();\n</code></pre>\n\n<p>I can't think of any class implementing this pattern in java.net, but I think your were told about this package as it is strongly tied to java.io (socket.getInputStream for instance).</p>\n\n<p>Actually, here is a course from O'Relly (<a href=\"https://web.archive.org/web/20160528132555/http://www.uwosh.edu/faculty_staff/huen/262/f09/slides/15_Decorator_Pattern.ppt\" rel=\"nofollow noreferrer\">pdf on uwosh.edu | archive.org</a>, <a href=\"https://www.slideshare.net/abhijitgaikwad/15-decorator-pattern-17658638\" rel=\"nofollow noreferrer\">slides on slideshare.net</a>) that explains how decorator is implemented in java.io.</p>\n"},{"tags":[],"owner":{"account_id":420875,"reputation":225,"user_id":798793,"accept_rate":57,"display_name":"Will Johnson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308192379,"creation_date":1308191109,"answer_id":6366484,"question_id":6366385,"body_markdown":"The decorator pattern is used to add functionality to existing objects such as a class defined in a library. You can then &quot;decorate&quot; it to fit your needs. If you are interested in learning more about patterns I recommend &quot;Design Patterns&quot; by the Gang of Four. ","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>The decorator pattern is used to add functionality to existing objects such as a class defined in a library. You can then \"decorate\" it to fit your needs. If you are interested in learning more about patterns I recommend \"Design Patterns\" by the Gang of Four. </p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":1,"up_vote_count":163,"is_accepted":true,"score":162,"last_activity_date":1471915328,"creation_date":1308191851,"answer_id":6366543,"question_id":6366385,"body_markdown":"[`InputStream`][1] is an abstract class. Most concrete implementations like [`BufferedInputStream`][2], [`GzipInputStream`][3], [`ObjectInputStream`][4], etc. have a constructor that takes an instance of the **same** abstract class. That&#39;s the recognition key of the decorator pattern (this also applies to constructors taking an instance of the same interface).\r\n\r\nWhen such a constructor is used, all methods will delegate to the wrapped instance, with changes in the way the methods behave. For example, buffering the stream in memory beforehand, decompressing the stream beforehand or interpreting the stream differently. Some even have additional methods that finally also delegate further to the wrapped instance. Those methods decorate the wrapped instance with extra behaviour.\r\n\r\nLet&#39;s say that we have a bunch of serialized Java objects in a Gzipped file and that we want to read them quickly.\r\n\r\nFirst open an inputstream of it:\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;/objects.gz&quot;);\r\n\r\nWe want speed, so let&#39;s buffer it in memory:\r\n\r\n    BufferedInputStream bis = new BufferedInputStream(fis);\r\n\r\nThe file is gzipped, so we need to ungzip it:\r\n\r\n    GzipInputStream gis = new GzipInputStream(bis);\r\n\r\nWe need to unserialize those Java objects:\r\n\r\n    ObjectInputStream ois = new ObjectInputStream(gis);\r\n\r\nNow we can finally use it:\r\n\r\n    SomeObject someObject = (SomeObject) ois.readObject();\r\n    // ...\r\n\r\nThe benefit is that you have a lot of freedom to decorate the stream using one or more various decorators to suit your needs. That&#39;s much better than having a single class for every possible combination like `ObjectGzipBufferedFileInputStream`, `ObjectBufferedFileInputStream`, `GzipBufferedFileInputStream`, `ObjectGzipFileInputStream`, `ObjectFileInputStream`, `GzipFileInputStream`, `BufferedFileInputStream`, etc.\r\n\r\nNote that when you&#39;re about to close the stream, just closing the *outermost* decorator is sufficient. It will delegate the close call all the way to the bottom.\r\n\r\n    ois.close();\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries/\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/io/ObjectInputStream.html","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\" rel=\"noreferrer\"><code>InputStream</code></a> is an abstract class. Most concrete implementations like <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\" rel=\"noreferrer\"><code>BufferedInputStream</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html\" rel=\"noreferrer\"><code>GzipInputStream</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/ObjectInputStream.html\" rel=\"noreferrer\"><code>ObjectInputStream</code></a>, etc. have a constructor that takes an instance of the <strong>same</strong> abstract class. That's the recognition key of the decorator pattern (this also applies to constructors taking an instance of the same interface).</p>\n\n<p>When such a constructor is used, all methods will delegate to the wrapped instance, with changes in the way the methods behave. For example, buffering the stream in memory beforehand, decompressing the stream beforehand or interpreting the stream differently. Some even have additional methods that finally also delegate further to the wrapped instance. Those methods decorate the wrapped instance with extra behaviour.</p>\n\n<p>Let's say that we have a bunch of serialized Java objects in a Gzipped file and that we want to read them quickly.</p>\n\n<p>First open an inputstream of it:</p>\n\n<pre><code>FileInputStream fis = new FileInputStream(\"/objects.gz\");\n</code></pre>\n\n<p>We want speed, so let's buffer it in memory:</p>\n\n<pre><code>BufferedInputStream bis = new BufferedInputStream(fis);\n</code></pre>\n\n<p>The file is gzipped, so we need to ungzip it:</p>\n\n<pre><code>GzipInputStream gis = new GzipInputStream(bis);\n</code></pre>\n\n<p>We need to unserialize those Java objects:</p>\n\n<pre><code>ObjectInputStream ois = new ObjectInputStream(gis);\n</code></pre>\n\n<p>Now we can finally use it:</p>\n\n<pre><code>SomeObject someObject = (SomeObject) ois.readObject();\n// ...\n</code></pre>\n\n<p>The benefit is that you have a lot of freedom to decorate the stream using one or more various decorators to suit your needs. That's much better than having a single class for every possible combination like <code>ObjectGzipBufferedFileInputStream</code>, <code>ObjectBufferedFileInputStream</code>, <code>GzipBufferedFileInputStream</code>, <code>ObjectGzipFileInputStream</code>, <code>ObjectFileInputStream</code>, <code>GzipFileInputStream</code>, <code>BufferedFileInputStream</code>, etc.</p>\n\n<p>Note that when you're about to close the stream, just closing the <em>outermost</em> decorator is sufficient. It will delegate the close call all the way to the bottom.</p>\n\n<pre><code>ois.close();\n</code></pre>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries/\">Examples of GoF Design Patterns in Java&#39;s core libraries</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1680289618,"creation_date":1464349338,"answer_id":37482635,"question_id":6366385,"body_markdown":"Let&#39;s understand components of **Decorator** pattern before going through java IO classes.\r\n\r\n\r\n[Decorator][2] pattern has four components ( Wikipedia )\r\n\r\n&gt;1. *Component:*  The *Component* defines the interface for objects that can have responsibilties added dynamically\r\n&gt;2. *ConcreteComponent:* It is simply an implementation of *Component* interface\r\n&gt;3. *Decorator:* The *Decorator* has a reference to a *Component*, and also conforms to the  *Component* interface. Decorator is essentially wrapping the *Component*\r\n&gt;4. *ConcreteDecorator:* The *ConcreteDecorator* just adds responsibilities to the original *Component*.\r\n\r\n\r\nNow let&#39;s map these concepts to java.io pacakge classes.\r\n\r\n*Component:*\r\n\r\n[InputStream][3] : \r\n&gt; This abstract class is the superclass of all classes representing an input stream of bytes.\r\n&gt;\r\n&gt; Applications that need to define a subclass of InputStream must always provide a method that returns the next byte of input.\r\n\r\n`public abstract int read()` is an abstract method.\r\n\r\n*ConcreteComponent:*\r\n\r\n[FileInputStream][4]:\r\n\r\n&gt; A FileInputStream obtains input bytes from a file in a file system. What files are available depends on the host environment.\r\n&gt;\r\n&gt; FileInputStream is meant for reading streams of raw bytes such as image data. For reading streams of characters, consider using FileReader.\r\n\r\nExamples of all ConcreteComponents of InputStream:\r\n\r\n    AudioInputStream, ByteArrayInputStream, FileInputStream, FilterInputStream, \r\n    InputStream, ObjectInputStream, PipedInputStream, SequenceInputStream, \r\n    StringBufferInputStream\r\n\r\n\r\n*Decorator:*\r\n\r\n[FilterInputStream][5]:\r\n\r\n&gt; A FilterInputStream contains some other input stream, which it uses as its basic source of data, possibly transforming the data along the way or providing additional functionality. \r\n\r\nPlease note that `FilterInputStream` implements `InputStream` =&gt; *Decorator implements Component as shown in UML diagram*.\r\n\r\n    public class FilterInputStream\r\n    extends InputStream\r\n\r\n*ConcreteDecorator:*\r\n\r\n[BufferedInputStream][6]\r\n\r\n&gt; A BufferedInputStream adds functionality to another input stream-namely, the ability to buffer the input and to support the mark and reset methods.\r\n\r\nExamples of all *ConcreteDecorators*:\r\n\r\n    BufferedInputStream, CheckedInputStream, CipherInputStream, DataInputStream, \r\n    DeflaterInputStream, DigestInputStream, InflaterInputStream, \r\n    LineNumberInputStream, ProgressMonitorInputStream, PushbackInputStream\r\n\r\n***Working example code:***\r\n\r\nI have used `BufferedInputStream` to read each character of a word, which has been stored in a text file a.txt\r\n\r\n    BufferedInputStream bis = new BufferedInputStream(new FileInputStream(new File(&quot;ravindra.txt&quot;)));\r\n    while(bis.available()&gt;0)\r\n    {\r\n            char c = (char)bis.read();\r\n            System.out.println(&quot;Character = &quot;+c);\r\n    }\r\n\r\n***When to use this pattern:***\r\n\r\n1. Object responsibilities and behaviours should be dynamically added/removed\r\n2. Concrete implementations should be decoupled from responsibilities and behaviours\r\n3. When sub - classing is too costly to dynamically add/remove responsibilities \r\n\r\n  [1]: http://i.stack.imgur.com/doTDj.png\r\n  [2]: https://en.wikipedia.org/wiki/Decorator_pattern\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/io/FilterInputStream.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>Let's understand components of <strong>Decorator</strong> pattern before going through java IO classes.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">Decorator</a> pattern has four components ( Wikipedia )</p>\n<blockquote>\n<ol>\n<li><em>Component:</em>  The <em>Component</em> defines the interface for objects that can have responsibilties added dynamically</li>\n<li><em>ConcreteComponent:</em> It is simply an implementation of <em>Component</em> interface</li>\n<li><em>Decorator:</em> The <em>Decorator</em> has a reference to a <em>Component</em>, and also conforms to the  <em>Component</em> interface. Decorator is essentially wrapping the <em>Component</em></li>\n<li><em>ConcreteDecorator:</em> The <em>ConcreteDecorator</em> just adds responsibilities to the original <em>Component</em>.</li>\n</ol>\n</blockquote>\n<p>Now let's map these concepts to java.io pacakge classes.</p>\n<p><em>Component:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a> :</p>\n<blockquote>\n<p>This abstract class is the superclass of all classes representing an input stream of bytes.</p>\n<p>Applications that need to define a subclass of InputStream must always provide a method that returns the next byte of input.</p>\n</blockquote>\n<p><code>public abstract int read()</code> is an abstract method.</p>\n<p><em>ConcreteComponent:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html\" rel=\"nofollow noreferrer\">FileInputStream</a>:</p>\n<blockquote>\n<p>A FileInputStream obtains input bytes from a file in a file system. What files are available depends on the host environment.</p>\n<p>FileInputStream is meant for reading streams of raw bytes such as image data. For reading streams of characters, consider using FileReader.</p>\n</blockquote>\n<p>Examples of all ConcreteComponents of InputStream:</p>\n<pre><code>AudioInputStream, ByteArrayInputStream, FileInputStream, FilterInputStream, \nInputStream, ObjectInputStream, PipedInputStream, SequenceInputStream, \nStringBufferInputStream\n</code></pre>\n<p><em>Decorator:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FilterInputStream.html\" rel=\"nofollow noreferrer\">FilterInputStream</a>:</p>\n<blockquote>\n<p>A FilterInputStream contains some other input stream, which it uses as its basic source of data, possibly transforming the data along the way or providing additional functionality.</p>\n</blockquote>\n<p>Please note that <code>FilterInputStream</code> implements <code>InputStream</code> =&gt; <em>Decorator implements Component as shown in UML diagram</em>.</p>\n<pre><code>public class FilterInputStream\nextends InputStream\n</code></pre>\n<p><em>ConcreteDecorator:</em></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\" rel=\"nofollow noreferrer\">BufferedInputStream</a></p>\n<blockquote>\n<p>A BufferedInputStream adds functionality to another input stream-namely, the ability to buffer the input and to support the mark and reset methods.</p>\n</blockquote>\n<p>Examples of all <em>ConcreteDecorators</em>:</p>\n<pre><code>BufferedInputStream, CheckedInputStream, CipherInputStream, DataInputStream, \nDeflaterInputStream, DigestInputStream, InflaterInputStream, \nLineNumberInputStream, ProgressMonitorInputStream, PushbackInputStream\n</code></pre>\n<p><em><strong>Working example code:</strong></em></p>\n<p>I have used <code>BufferedInputStream</code> to read each character of a word, which has been stored in a text file a.txt</p>\n<pre><code>BufferedInputStream bis = new BufferedInputStream(new FileInputStream(new File(&quot;ravindra.txt&quot;)));\nwhile(bis.available()&gt;0)\n{\n        char c = (char)bis.read();\n        System.out.println(&quot;Character = &quot;+c);\n}\n</code></pre>\n<p><em><strong>When to use this pattern:</strong></em></p>\n<ol>\n<li>Object responsibilities and behaviours should be dynamically added/removed</li>\n<li>Concrete implementations should be decoupled from responsibilities and behaviours</li>\n<li>When sub - classing is too costly to dynamically add/remove responsibilities</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1803543,"reputation":21,"user_id":1641213,"display_name":"kosalgeek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484047858,"creation_date":1484047858,"answer_id":41567777,"question_id":6366385,"body_markdown":"Well, I may be late to the party but this question never gets old. The key point to understand **Decorator** is that it gives you the ability to plug an object to an existing object to another existing object and so on. It is popular to implement this pattern in a constructor. For example,\r\n\r\n        Icecream ic = new RainbowTopUp(new ChocoTopUp(new Vanilla()));\r\n\r\nIf you look at the diagram in the wikipedia, you would see *ConcreteComponent* and *Decorator* inherit from the same superclass/interface, *Component*. That is, these two classes have the same implement method(s). \r\n\r\nHowever, in the *Decorator* class, you&#39;d see an arrow back to the *Component*, which means you use *Component* somewhere in the *Decorator* class. In this case, you use the *Component* as a datatype of a constructor in the *Decorator*. That is the big trick. Without this trick, you won&#39;t be able to plug a new object to an existing object.\r\n\r\nAfter that, you can create subclasses inheriting from the *Decorator* class. Because all classes have the same root, every single classes can freely plugin without any order.","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>Well, I may be late to the party but this question never gets old. The key point to understand <strong>Decorator</strong> is that it gives you the ability to plug an object to an existing object to another existing object and so on. It is popular to implement this pattern in a constructor. For example,</p>\n\n<pre><code>    Icecream ic = new RainbowTopUp(new ChocoTopUp(new Vanilla()));\n</code></pre>\n\n<p>If you look at the diagram in the wikipedia, you would see <em>ConcreteComponent</em> and <em>Decorator</em> inherit from the same superclass/interface, <em>Component</em>. That is, these two classes have the same implement method(s). </p>\n\n<p>However, in the <em>Decorator</em> class, you'd see an arrow back to the <em>Component</em>, which means you use <em>Component</em> somewhere in the <em>Decorator</em> class. In this case, you use the <em>Component</em> as a datatype of a constructor in the <em>Decorator</em>. That is the big trick. Without this trick, you won't be able to plug a new object to an existing object.</p>\n\n<p>After that, you can create subclasses inheriting from the <em>Decorator</em> class. Because all classes have the same root, every single classes can freely plugin without any order.</p>\n"},{"tags":[],"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1514049514,"creation_date":1513994531,"answer_id":47949162,"question_id":6366385,"body_markdown":"&lt;h1&gt;A - Decorator Pattern&lt;/h1&gt;\r\n\r\n&lt;h3&gt;A.1 - Use Case of Decorator Pattern&lt;/h3&gt;\r\n\r\nDecorator pattern is used for extending a legacy functionality without changing the legacy class. Let&#39;s say, we have a concrete class that implements an interface. And we need to extend the functionality of the existing method however because that the existing class, and its methods are already used by other classes, thus we don&#39;t want to make a change in the existing classes. But we also need extended functionality on newer class, then how do we solve this problem?\r\n\r\n    1- We can&#39;t change the existing legacy code\r\n    2- We want to extend the functionality\r\n\r\nSo we use decorator pattern, wrap the existing class inside the decorators.\r\n\r\n&lt;h2&gt;B - Basic GoF Decorator Pattern Example&lt;/h2&gt;\r\n\r\nHere we have a simple interface and an implementation/concrete class. The interface has one simple method, which is `getMessageOfTheDay` and it returns a `String`. Assume that there are lots of other classes using this method. So if we want to make a change in the implementation/concrete class, it will affect the old legacy code. We want to change it for only the new classes so we use the decorator pattern.\r\n\r\nHere is a trivial example of Gang Of Four Decorator Design pattern;\r\n\r\n&lt;h3&gt;B.1 - Greeter.java&lt;/h3&gt;\r\n\r\n    public interface Greeter {\r\n    \tString getMessageOfTheDay();\r\n    }\r\n\r\n&lt;h3&gt;B.2 - BasicGreeter.java&lt;/h3&gt;\r\n\r\n    public class BasicGreeter implements Greeter {\r\n    \r\n    \t@Override\r\n    \tpublic String getMessageOfTheDay() {\r\n    \t\treturn &quot;Welcome to my server&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;h3&gt;B.3 - Abstract Decorator Class: GreeterDecorator.java&lt;/h3&gt;\r\n\r\n    public abstract class GreeterDecorator implements Greeter {\r\n    \t\r\n    \tprotected Greeter greeter;\r\n    \t\r\n    \tpublic GreeterDecorator(Greeter greeter) {\r\n    \t\tthis.greeter = greeter;\r\n    \t}\r\n    \r\n    \tpublic String getMessageOfTheDay() {\r\n    \t\treturn greeter.getMessageOfTheDay();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;B.4 - Concrete Decorator Class: StrangerDecorator.java&lt;/h3&gt;\r\n\r\n    public class StrangerDecorator extends GreeterDecorator {\r\n    \r\n    \tpublic StrangerDecorator(Greeter greeter) {\r\n    \t\tsuper(greeter);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getMessageOfTheDay() {\r\n    \t\treturn &quot;Hello Stranger &quot; + super.getMessageOfTheDay();\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;h3&gt;B.5 - Demo Code: DecoratorDemo .java&lt;/h3&gt;\r\n\r\n    public class DecoratorDemo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tGreeter greeter = new BasicGreeter();\r\n    \t\t\r\n    \t\tString motd = greeter.getMessageOfTheDay();\r\n    \t\t\r\n    \t\tSystem.out.println(motd);\r\n    \t\t\r\n    \t\tGreeter newGreeter = new StrangerDecorator(greeter);\r\n    \t\t\r\n    \t\tString newMotd = newGreeter.getMessageOfTheDay();\r\n    \t\t\r\n    \t\tSystem.out.println(newMotd);\r\n    \t\t\r\n    \t\tGreeter muchNewGreeter = new StrangerDecorator(new StrangerDecorator(greeter));\r\n    \t\t\r\n    \t\tString newestMotd = muchNewGreeter.getMessageOfTheDay();\r\n    \t\t\r\n    \t\tSystem.out.println(newestMotd);\r\n    \t}\r\n    \r\n    }\r\n\r\nTake a look at those examples. The abstract decorator class is needed to wrap the original contract and implementation. Using the abstract decorator, you can create newer multiple decorators but in this example, **BasicGreeter** is wrapped inside the abstract decorator and we have only created on new decorator class which is **StrangeGreeter**. Please notify that decorator classes can be used like a train, we can wrap a decorator inside another decorator or the same. The functionality is extendable but the original class is preserved without any modification.\r\n\r\n&lt;h2&gt;C - OutputStream Demo&lt;/h2&gt;\r\n\r\nLet&#39;s take a look at this example. We want to write a string to file with OutputStream. Here is the demo code;\r\n\r\n&lt;h3&gt;C.1 - Sample OutputStream Demo To Write A File&lt;/h3&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    public class FileWriterDemo {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile file = new File(&quot;./normal.txt&quot;);\r\n    \t\tfile.createNewFile();\r\n    \t\t\r\n    \t\tOutputStream oStream = new FileOutputStream(file);\r\n    \t\t\r\n    \t\tString content = &quot;I love Commodore 64&quot;;\r\n    \t\t\r\n    \t\toStream.write(content.getBytes());\r\n    \t\t\r\n    \t\toStream.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;H3&gt;C.2 - JSON Decorator Output: normal.txt&lt;/H3&gt;\r\n\r\nThere will be a new file with name &quot;normal.txt&quot; created under the project folder and the content will be;\r\n\r\n    I love Commodore 64\r\n\r\n&lt;h2&gt;D - JSON OutputStream Decorator Demo&lt;/h2&gt;\r\n\r\nNow, I want to create a JSON wrapper format, which is as follows; \r\n\r\n    {\r\n        data: &lt;data here&gt;\r\n    }\r\n\r\nWhat I want is to write the content inside a simple one field **JSON** format. How can we achieve this goal? There are many trivial ways. However, I will use the *GoF Decorator Pattern* by writing a **JSONDecorator** which extends the **OutputStream** class of Java;\r\n\r\n&lt;H3&gt;D.1 - JSON Decorator for OutputStream: JSONStream.java&lt;/H3&gt;\r\n\r\n    public class JSONStream extends OutputStream {\r\n    \t\r\n    \tprotected OutputStream outputStream;\r\n    \t\r\n    \tpublic JSONStream(OutputStream outputStream) {\r\n    \t\tthis.outputStream = outputStream;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void write(int b) throws IOException {\r\n    \t\toutputStream.write(b);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(byte[] b) throws IOException {\r\n    \t\tString content = new String(b);\r\n    \t\t\r\n    \t\tcontent = &quot;{\\r\\n\\tdata:\\&quot;&quot; + content + &quot;\\&quot;\\r\\n}&quot;;\r\n    \t\t\r\n    \t\toutputStream.write(content.getBytes());\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;H3&gt;D.2 - JSON Decorator Demo: JSONDecoratorDemo.java&lt;/H3&gt;\r\n\r\n    public class JSONDecoratorDemo {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile file = new File(&quot;./json.txt&quot;);\r\n    \t\tfile.createNewFile();\r\n    \t\t\r\n    \t\tOutputStream oStream = new FileOutputStream(file);\r\n    \t\t\r\n    \t\tJSONStream js = new JSONStream(oStream);\r\n    \t\t\r\n    \t\tString content = &quot;I love Commodore 64&quot;;\r\n    \t\t\r\n    \t\tjs.write(content.getBytes());\r\n    \t\t\r\n    \t\tjs.close();\r\n    \t\toStream.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n&lt;H3&gt;D.3 - JSON Decorator Output: json.txt&lt;/H3&gt;\r\n\r\n    {\r\n    \tdata:&quot;I love Commodore 64&quot;\r\n    }\r\n\r\nActually, **OutputStream** itself a Decorator Pattern, it is the abstract decorator and concrete decorator in here is the **JSONStream** class. ","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<h1>A - Decorator Pattern</h1>\n\n<h3>A.1 - Use Case of Decorator Pattern</h3>\n\n<p>Decorator pattern is used for extending a legacy functionality without changing the legacy class. Let's say, we have a concrete class that implements an interface. And we need to extend the functionality of the existing method however because that the existing class, and its methods are already used by other classes, thus we don't want to make a change in the existing classes. But we also need extended functionality on newer class, then how do we solve this problem?</p>\n\n<pre><code>1- We can't change the existing legacy code\n2- We want to extend the functionality\n</code></pre>\n\n<p>So we use decorator pattern, wrap the existing class inside the decorators.</p>\n\n<h2>B - Basic GoF Decorator Pattern Example</h2>\n\n<p>Here we have a simple interface and an implementation/concrete class. The interface has one simple method, which is <code>getMessageOfTheDay</code> and it returns a <code>String</code>. Assume that there are lots of other classes using this method. So if we want to make a change in the implementation/concrete class, it will affect the old legacy code. We want to change it for only the new classes so we use the decorator pattern.</p>\n\n<p>Here is a trivial example of Gang Of Four Decorator Design pattern;</p>\n\n<h3>B.1 - Greeter.java</h3>\n\n<pre><code>public interface Greeter {\n    String getMessageOfTheDay();\n}\n</code></pre>\n\n<h3>B.2 - BasicGreeter.java</h3>\n\n<pre><code>public class BasicGreeter implements Greeter {\n\n    @Override\n    public String getMessageOfTheDay() {\n        return \"Welcome to my server\";\n    }\n\n}\n</code></pre>\n\n<h3>B.3 - Abstract Decorator Class: GreeterDecorator.java</h3>\n\n<pre><code>public abstract class GreeterDecorator implements Greeter {\n\n    protected Greeter greeter;\n\n    public GreeterDecorator(Greeter greeter) {\n        this.greeter = greeter;\n    }\n\n    public String getMessageOfTheDay() {\n        return greeter.getMessageOfTheDay();\n    }\n\n}\n</code></pre>\n\n<h3>B.4 - Concrete Decorator Class: StrangerDecorator.java</h3>\n\n<pre><code>public class StrangerDecorator extends GreeterDecorator {\n\n    public StrangerDecorator(Greeter greeter) {\n        super(greeter);\n    }\n\n    @Override\n    public String getMessageOfTheDay() {\n        return \"Hello Stranger \" + super.getMessageOfTheDay();\n    }\n\n}\n</code></pre>\n\n<h3>B.5 - Demo Code: DecoratorDemo .java</h3>\n\n<pre><code>public class DecoratorDemo {\n\n    public static void main(String[] args) {\n        Greeter greeter = new BasicGreeter();\n\n        String motd = greeter.getMessageOfTheDay();\n\n        System.out.println(motd);\n\n        Greeter newGreeter = new StrangerDecorator(greeter);\n\n        String newMotd = newGreeter.getMessageOfTheDay();\n\n        System.out.println(newMotd);\n\n        Greeter muchNewGreeter = new StrangerDecorator(new StrangerDecorator(greeter));\n\n        String newestMotd = muchNewGreeter.getMessageOfTheDay();\n\n        System.out.println(newestMotd);\n    }\n\n}\n</code></pre>\n\n<p>Take a look at those examples. The abstract decorator class is needed to wrap the original contract and implementation. Using the abstract decorator, you can create newer multiple decorators but in this example, <strong>BasicGreeter</strong> is wrapped inside the abstract decorator and we have only created on new decorator class which is <strong>StrangeGreeter</strong>. Please notify that decorator classes can be used like a train, we can wrap a decorator inside another decorator or the same. The functionality is extendable but the original class is preserved without any modification.</p>\n\n<h2>C - OutputStream Demo</h2>\n\n<p>Let's take a look at this example. We want to write a string to file with OutputStream. Here is the demo code;</p>\n\n<h3>C.1 - Sample OutputStream Demo To Write A File</h3>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class FileWriterDemo {\n\n    public static void main(String[] args) throws IOException {\n        File file = new File(\"./normal.txt\");\n        file.createNewFile();\n\n        OutputStream oStream = new FileOutputStream(file);\n\n        String content = \"I love Commodore 64\";\n\n        oStream.write(content.getBytes());\n\n        oStream.close();\n    }\n\n}\n</code></pre>\n\n<p><H3>C.2 - JSON Decorator Output: normal.txt</H3></p>\n\n<p>There will be a new file with name \"normal.txt\" created under the project folder and the content will be;</p>\n\n<pre><code>I love Commodore 64\n</code></pre>\n\n<h2>D - JSON OutputStream Decorator Demo</h2>\n\n<p>Now, I want to create a JSON wrapper format, which is as follows; </p>\n\n<pre><code>{\n    data: &lt;data here&gt;\n}\n</code></pre>\n\n<p>What I want is to write the content inside a simple one field <strong>JSON</strong> format. How can we achieve this goal? There are many trivial ways. However, I will use the <em>GoF Decorator Pattern</em> by writing a <strong>JSONDecorator</strong> which extends the <strong>OutputStream</strong> class of Java;</p>\n\n<p><H3>D.1 - JSON Decorator for OutputStream: JSONStream.java</H3></p>\n\n<pre><code>public class JSONStream extends OutputStream {\n\n    protected OutputStream outputStream;\n\n    public JSONStream(OutputStream outputStream) {\n        this.outputStream = outputStream;\n    }\n\n    @Override\n    public void write(int b) throws IOException {\n        outputStream.write(b);\n    }\n\n    @Override\n    public void write(byte[] b) throws IOException {\n        String content = new String(b);\n\n        content = \"{\\r\\n\\tdata:\\\"\" + content + \"\\\"\\r\\n}\";\n\n        outputStream.write(content.getBytes());\n    }\n\n}\n</code></pre>\n\n<p><H3>D.2 - JSON Decorator Demo: JSONDecoratorDemo.java</H3></p>\n\n<pre><code>public class JSONDecoratorDemo {\n\n    public static void main(String[] args) throws IOException {\n        File file = new File(\"./json.txt\");\n        file.createNewFile();\n\n        OutputStream oStream = new FileOutputStream(file);\n\n        JSONStream js = new JSONStream(oStream);\n\n        String content = \"I love Commodore 64\";\n\n        js.write(content.getBytes());\n\n        js.close();\n        oStream.close();\n    }\n\n}\n</code></pre>\n\n<p><H3>D.3 - JSON Decorator Output: json.txt</H3></p>\n\n<pre><code>{\n    data:\"I love Commodore 64\"\n}\n</code></pre>\n\n<p>Actually, <strong>OutputStream</strong> itself a Decorator Pattern, it is the abstract decorator and concrete decorator in here is the <strong>JSONStream</strong> class. </p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51366,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":6366543,"answer_count":8,"score":64,"last_activity_date":1680289618,"creation_date":1308189952,"question_id":6366385,"body_markdown":"I have read in [wikipedia][1] that *Decorator pattern* is used for *.Net* and *Java IO* classes.\r\n\r\nCan anybody explain how this is being used? And what is the benefit of it with a possible example?\r\n\r\nThere is an example of *Windows forms* on wikipedia but I want to know how it happens with *Java IO* classes.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Decorator_pattern","title":"Use Cases and Examples of GoF Decorator Pattern for IO","body":"<p>I have read in <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"noreferrer\">wikipedia</a> that <em>Decorator pattern</em> is used for <em>.Net</em> and <em>Java IO</em> classes.</p>\n\n<p>Can anybody explain how this is being used? And what is the benefit of it with a possible example?</p>\n\n<p>There is an example of <em>Windows forms</em> on wikipedia but I want to know how it happens with <em>Java IO</em> classes.</p>\n"},{"tags":["java","spring","spring-boot","properties"],"answers":[{"tags":[],"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680289152,"creation_date":1680289152,"answer_id":75901901,"question_id":75893043,"body_markdown":"After some digging we found out that a library, that the project was using, had a SpringConfig that required the application.properties file through a @PropertySource. Since this should not be required we added ignoreResourceNotFound. \r\n\r\nPrevious code\r\n\r\n    @PropertySource(value = &quot;classpath:application.properties&quot;)\r\n\r\nNew code\r\n\r\n    @PropertySource(value = &quot;classpath:application.properties&quot;, ignoreResourceNotFound = true)\r\n\r\nHope this will help anyone who has a similar problem. ","title":"How to prevent spring-boot from trying to load application.properties instead of our own defined properties?","body":"<p>After some digging we found out that a library, that the project was using, had a SpringConfig that required the application.properties file through a @PropertySource. Since this should not be required we added ignoreResourceNotFound.</p>\n<p>Previous code</p>\n<pre><code>@PropertySource(value = &quot;classpath:application.properties&quot;)\n</code></pre>\n<p>New code</p>\n<pre><code>@PropertySource(value = &quot;classpath:application.properties&quot;, ignoreResourceNotFound = true)\n</code></pre>\n<p>Hope this will help anyone who has a similar problem.</p>\n"}],"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901901,"answer_count":1,"score":0,"last_activity_date":1680289152,"creation_date":1680210743,"question_id":75893043,"body_markdown":"I&#39;m running into a strange problem while migrating a old spring-boot service to use externalized configuration. \r\nThe service in local and server side keep trying to load application.properties eventhough we provide the profile. \r\nI even tried to force &quot;spring.config.name&quot; to the value we need via System.setProperty(&quot;spring.config.name&quot;, getPropertiesPath()), but this still doesn&#39;t work and I would prefer not to do it that way. \r\n\r\nHere the short version of the exception:\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n```\r\n\r\nHere the modified Application.java\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tprotected static final String CONTAINER_ENVIRONMENT_KEY = &quot;ENVIRONMENT&quot;;\r\n\tprivate static final String CDS_SERVICE_CHARTS_PROPERTIES_PATH  = &quot;server.properties&quot;;\r\n\tprivate static final String APPLICATION_LOCAL_PROPERTIES_PATH  = &quot;application-local.properties&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;spring.config.name&quot;, getPropertiesPath());\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n\tprotected static String getPropertiesPath() {\r\n\t\treturn StringUtils.isBlank(System.getenv(CONTAINER_ENVIRONMENT_KEY)) ? APPLICATION_LOCAL_PROPERTIES_PATH : CDS_SERVICE_CHARTS_PROPERTIES_PATH;\r\n\t}\r\n}\r\n```\r\nI&#39;ve run through all the possible source following this properties order from springboot documentation: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\r\nand there no other config that we use except for testing. \r\nOn top of that there no reference of application.properties anywhere in the code, I assume there a lib that we used that might cause the problem. \r\nI can really see where the service try to get application.properties instead of what we provided. \r\n\r\nNote we did the same process of using a externalized configuration in other services and didn&#39;t have that problem. \r\n\r\n\r\nHere the Full trace of the exception on run time, note that there no reference to our app in it.\r\n```\r\n2023-03-30T17:02:23,073  INFO [main]   637:Application                              : The following 1 profile is active: &quot;local&quot; \r\n2023-03-30T17:02:26,586  WARN [main]   591:AnnotationConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist \r\n2023-03-30T17:02:26,848 ERROR [main]   821:SpringApplication                        : Application run failed \r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.7.7.jar:2.7.7]\r\n\tat com.mydomain.Application.main(Application.java:22) [classes/:?]\r\nCaused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:159) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:110) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:81) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:67) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:462) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:279) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.3.24.jar:5.3.24]\r\n\t... 13 more\r\nDisconnected from the target VM, address: &#39;127.0.0.1:59414&#39;, transport: &#39;socket&#39;\r\n```","title":"How to prevent spring-boot from trying to load application.properties instead of our own defined properties?","body":"<p>I'm running into a strange problem while migrating a old spring-boot service to use externalized configuration.\nThe service in local and server side keep trying to load application.properties eventhough we provide the profile.\nI even tried to force &quot;spring.config.name&quot; to the value we need via System.setProperty(&quot;spring.config.name&quot;, getPropertiesPath()), but this still doesn't work and I would prefer not to do it that way.</p>\n<p>Here the short version of the exception:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n</code></pre>\n<p>Here the modified Application.java</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    protected static final String CONTAINER_ENVIRONMENT_KEY = &quot;ENVIRONMENT&quot;;\n    private static final String CDS_SERVICE_CHARTS_PROPERTIES_PATH  = &quot;server.properties&quot;;\n    private static final String APPLICATION_LOCAL_PROPERTIES_PATH  = &quot;application-local.properties&quot;;\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;spring.config.name&quot;, getPropertiesPath());\n        SpringApplication.run(Application.class, args);\n    }\n\n    protected static String getPropertiesPath() {\n        return StringUtils.isBlank(System.getenv(CONTAINER_ENVIRONMENT_KEY)) ? APPLICATION_LOCAL_PROPERTIES_PATH : CDS_SERVICE_CHARTS_PROPERTIES_PATH;\n    }\n}\n</code></pre>\n<p>I've run through all the possible source following this properties order from springboot documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config</a>\nand there no other config that we use except for testing.\nOn top of that there no reference of application.properties anywhere in the code, I assume there a lib that we used that might cause the problem.\nI can really see where the service try to get application.properties instead of what we provided.</p>\n<p>Note we did the same process of using a externalized configuration in other services and didn't have that problem.</p>\n<p>Here the Full trace of the exception on run time, note that there no reference to our app in it.</p>\n<pre><code>2023-03-30T17:02:23,073  INFO [main]   637:Application                              : The following 1 profile is active: &quot;local&quot; \n2023-03-30T17:02:26,586  WARN [main]   591:AnnotationConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist \n2023-03-30T17:02:26,848 ERROR [main]   821:SpringApplication                        : Application run failed \norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.mydomain.Application]; nested exception is java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.7.7.jar:2.7.7]\n    at com.mydomain.Application.main(Application.java:22) [classes/:?]\nCaused by: java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:159) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:110) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:81) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:67) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.ResourcePropertySource.&lt;init&gt;(ResourcePropertySource.java:67) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:37) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:462) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:279) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:303) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174) ~[spring-context-5.3.24.jar:5.3.24]\n    ... 13 more\nDisconnected from the target VM, address: '127.0.0.1:59414', transport: 'socket'\n</code></pre>\n"},{"tags":["java","rest","get","jersey"],"answers":[{"tags":[],"owner":{"account_id":19867713,"reputation":1,"user_id":14554604,"display_name":"Pushpak Bhagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646993218,"creation_date":1646992231,"answer_id":71436626,"question_id":68805623,"body_markdown":"The Jakarta EE Working Group has announced that javax is now officially and finally renamed as jakarta with the release of the Jakarta EE 9 Platform and Web Profile specifications and related TCKs.\r\n\r\nTo use that @XmlRootElement ,\r\nimport jakarta.xml.bind.annotation.XmlRootElement,\r\nafter adding following ,\r\n\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.33&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"@XmlRootElement not working in jersey rest","body":"<p>The Jakarta EE Working Group has announced that javax is now officially and finally renamed as jakarta with the release of the Jakarta EE 9 Platform and Web Profile specifications and related TCKs.</p>\n<p>To use that @XmlRootElement ,\nimport jakarta.xml.bind.annotation.XmlRootElement,\nafter adding following ,</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\n        &lt;version&gt;2.33&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25764457,"reputation":21,"user_id":19514762,"display_name":"Wanjalize"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680289145,"creation_date":1680289145,"answer_id":75901899,"question_id":68805623,"body_markdown":"For anyone facing this issue all you need to do is instead of returning an object return a string. Using an XmlMapper, which is a subclass of ObjectMapper, create a string and return it. However, the object which will be converted into a string needs to have the same configs as the employee object in the case above.\r\nHow to do it.\r\n\r\nstep 1: Get the required dependency for the XmlMapper class.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.11.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nstep 2: Inside the method that you intend to return xmls with create an XmlMapper object.\r\n```\r\nXmlMapper xmlMapper = new XmlMapper();\r\n```\r\nstep 3: Now convert the object that you intend to return as an xml into a string using the xmlMapper object created above. In the example provided above, the object to return was employee hence el has been used here.\r\n```\r\nString xml = xmlMapper.writeValueAsString(el);\r\n```\r\nStep 4: return the string\r\n```\r\nreturn xml;\r\n```\r\nNB: your method or controller will have to return a String and not an Employee object in this case. Additionally, use `@Produces(MediaType.APPLICATION_XML)` above your resource to signal to your consumer what to expect.\r\n\r\nAlso, in your consumers&#39; header, it is good but not necessary to show what you are expecting from the server by using a `Accept: Application/xml` in your headers. It is not necessary since most consumers by default accept all data formats.\r\n\r\n","title":"@XmlRootElement not working in jersey rest","body":"<p>For anyone facing this issue all you need to do is instead of returning an object return a string. Using an XmlMapper, which is a subclass of ObjectMapper, create a string and return it. However, the object which will be converted into a string needs to have the same configs as the employee object in the case above.\nHow to do it.</p>\n<p>step 1: Get the required dependency for the XmlMapper class.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>step 2: Inside the method that you intend to return xmls with create an XmlMapper object.</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\n</code></pre>\n<p>step 3: Now convert the object that you intend to return as an xml into a string using the xmlMapper object created above. In the example provided above, the object to return was employee hence el has been used here.</p>\n<pre><code>String xml = xmlMapper.writeValueAsString(el);\n</code></pre>\n<p>Step 4: return the string</p>\n<pre><code>return xml;\n</code></pre>\n<p>NB: your method or controller will have to return a String and not an Employee object in this case. Additionally, use <code>@Produces(MediaType.APPLICATION_XML)</code> above your resource to signal to your consumer what to expect.</p>\n<p>Also, in your consumers' header, it is good but not necessary to show what you are expecting from the server by using a <code>Accept: Application/xml</code> in your headers. It is not necessary since most consumers by default accept all data formats.</p>\n"}],"owner":{"account_id":12798891,"reputation":21,"user_id":9260831,"display_name":"AATIF KHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680289145,"creation_date":1629128255,"question_id":68805623,"body_markdown":"ERROR: \r\n\r\n&gt;MessageBodyWriter not found for media type=application/xml, type=class com.example.DemoRest2.Employee, genericType=class com.example.DemoRest2.Employee.\r\n\r\nI want to return the object of  Employee.class in xml format but getting above error.\r\nI am using @XmlRootElement annotation. However, it works fine when I return it in string format.\r\n\r\nEmployeeRsource.java\r\n\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n\r\n    @Path(&quot;employee&quot;)\r\n    public class EmployeeResource {\r\n\t\r\n\t@GET\r\n\t@Produces(MediaType.APPLICATION_XML)\r\n\tpublic Employee getEmp() {\r\n\t\t\r\n\t\tEmployee e1 = new Employee();\r\n\t\te1.setName(&quot;Tom&quot;);\r\n\t\te1.setAge(25);\r\n\t\tSystem.out.println(e1);\r\n\t\t\r\n\t\treturn e1;\r\n\t}\r\n    }\r\n\r\n  \r\n\r\nEmployee.java\r\n\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n    @XmlRootElement\r\n    public class Employee {\r\n\t\r\n\tprivate String name;\r\n\tprivate int age;\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\tpublic void setAge(int age) {\r\n\t\tthis.age = age;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Employee [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\r\n\t}\t\r\n\r\n    }\r\n\r\n\r\n\r\nGetting &quot;INTERNAL SERVER ERROR 500&quot; on user interface\r\n\r\nI am already having following dependencies:\r\njersey-media-jaxb - 3.0.2\r\njaxb-api - 2.3.1\r\njersey-container-servlet-core\r\njersey-hk2\r\njersey version - 3.0.2","title":"@XmlRootElement not working in jersey rest","body":"<p>ERROR:</p>\n<blockquote>\n<p>MessageBodyWriter not found for media type=application/xml, type=class com.example.DemoRest2.Employee, genericType=class com.example.DemoRest2.Employee.</p>\n</blockquote>\n<p>I want to return the object of  Employee.class in xml format but getting above error.\nI am using @XmlRootElement annotation. However, it works fine when I return it in string format.</p>\n<p>EmployeeRsource.java</p>\n<pre><code>import jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;employee&quot;)\npublic class EmployeeResource {\n\n@GET\n@Produces(MediaType.APPLICATION_XML)\npublic Employee getEmp() {\n    \n    Employee e1 = new Employee();\n    e1.setName(&quot;Tom&quot;);\n    e1.setAge(25);\n    System.out.println(e1);\n    \n    return e1;\n}\n}\n</code></pre>\n<p>Employee.java</p>\n<pre><code>import javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\npublic class Employee {\n\nprivate String name;\nprivate int age;\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic int getAge() {\n    return age;\n}\npublic void setAge(int age) {\n    this.age = age;\n}\n@Override\npublic String toString() {\n    return &quot;Employee [name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\n}   \n\n}\n</code></pre>\n<p>Getting &quot;INTERNAL SERVER ERROR 500&quot; on user interface</p>\n<p>I am already having following dependencies:\njersey-media-jaxb - 3.0.2\njaxb-api - 2.3.1\njersey-container-servlet-core\njersey-hk2\njersey version - 3.0.2</p>\n"},{"tags":["java","junit","assertion","optional-parameters"],"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":1,"creation_date":1680369807,"post_id":75901700,"comment_id":133888494,"body_markdown":"Not sure if I correctly understand your question, but maybe [`hasValue`](https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractOptionalAssert.html#hasValue(VALUE)) is what you are looking for","body":"Not sure if I correctly understand your question, but maybe <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractOptionalAssert.html#hasValue(VALUE)\" rel=\"nofollow noreferrer\"><code>hasValue</code></a> is what you are looking for"},{"owner":{"account_id":10171374,"reputation":57,"user_id":7511565,"accept_rate":100,"display_name":"Wallace Soares"},"score":0,"creation_date":1681006368,"post_id":75901700,"comment_id":133989403,"body_markdown":"Not sure it solves the problem. Because when I didn&#39;t had the Optional value I could just use `contains` to assert all the properties in one line. Using the Optional value I&#39;m getting this difference on the object hash. Using `hasValue` the issue persists, I have to assert property by property. But thanks :D","body":"Not sure it solves the problem. Because when I didn&#39;t had the Optional value I could just use <code>contains</code> to assert all the properties in one line. Using the Optional value I&#39;m getting this difference on the object hash. Using <code>hasValue</code> the issue persists, I have to assert property by property. But thanks :D"}],"owner":{"account_id":10171374,"reputation":57,"user_id":7511565,"accept_rate":100,"display_name":"Wallace Soares"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680288009,"creation_date":1680287560,"question_id":75901700,"body_markdown":"Suppose you have this entity:\r\n\r\n```\r\npublic class Object {\r\n@Nullable byte[] prop1;\r\n\r\nbyte[] prop2;\r\n\r\npublic Optional&lt;byte[]&gt; getProp1(){\r\n    return Optional.ofNullable(prop1);\r\n}\r\n```\r\n\r\nWhile doing my test for integration with Scylla I&#39;m generating a fixture for the object and storing on Scylla. To assert that the fixture was properly stored I&#39;m getting it back using my repository function to assert that the data was stored. As described below.\r\n\r\n```\r\nassertThat(result).isPresent();\r\nassertThat(result).contains(expectedObject);\r\n```\r\n\r\nWhen no optional properties are present on the object entity, `contains` function works properly and assert that indeed we stored the data. However when involves `Optional` properties the `contains` function is unable to assert due the object hash difference.\r\n\r\n```\r\nobejctStored -&gt; Object@5dtsad\r\nobejctRetrived -&gt; Object@53kjlas\r\n```\r\n\r\nMy question is: is there a function for assertion that reads the content and assert the values, including Optional properties, similar what I did above?\r\n\r\n[EDIT] - And avoid asserting value by value explicitly?","title":"Is it possible to assert a query on scylla to match the content of a entity when there are Optional elements?","body":"<p>Suppose you have this entity:</p>\n<pre><code>public class Object {\n@Nullable byte[] prop1;\n\nbyte[] prop2;\n\npublic Optional&lt;byte[]&gt; getProp1(){\n    return Optional.ofNullable(prop1);\n}\n</code></pre>\n<p>While doing my test for integration with Scylla I'm generating a fixture for the object and storing on Scylla. To assert that the fixture was properly stored I'm getting it back using my repository function to assert that the data was stored. As described below.</p>\n<pre><code>assertThat(result).isPresent();\nassertThat(result).contains(expectedObject);\n</code></pre>\n<p>When no optional properties are present on the object entity, <code>contains</code> function works properly and assert that indeed we stored the data. However when involves <code>Optional</code> properties the <code>contains</code> function is unable to assert due the object hash difference.</p>\n<pre><code>obejctStored -&gt; Object@5dtsad\nobejctRetrived -&gt; Object@53kjlas\n</code></pre>\n<p>My question is: is there a function for assertion that reads the content and assert the values, including Optional properties, similar what I did above?</p>\n<p>[EDIT] - And avoid asserting value by value explicitly?</p>\n"},{"tags":["java","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680287636,"creation_date":1680287636,"answer_id":75901714,"question_id":75900962,"body_markdown":"Use `export TESTCONTAINERS_RYUK_CONTAINER_IMAGE=testcontainers/ryuk:0.4.0` as an environment variable. `-D` it allows to define a system property which is not taken into account.\r\n\r\nRead more [here][1].\r\n\r\n\r\n  [1]: https://www.testcontainers.org/features/configuration/#configuration-locations","title":"How to set up property for testcontainers","body":"<p>Use <code>export TESTCONTAINERS_RYUK_CONTAINER_IMAGE=testcontainers/ryuk:0.4.0</code> as an environment variable. <code>-D</code> it allows to define a system property which is not taken into account.</p>\n<p>Read more <a href=\"https://www.testcontainers.org/features/configuration/#configuration-locations\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":20547337,"reputation":273,"user_id":15080825,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901714,"answer_count":1,"score":0,"last_activity_date":1680287636,"creation_date":1680281719,"question_id":75900962,"body_markdown":"I want to set up ryuk.container.image as a private registry image. What I tried:\r\n\r\n - -Dryuk.container.image\r\n -  -DRYUK_CONTAINER_IMAGE\r\n -  -DTESTCONTAINER_RYUK_CONTAINER_IMAGE\r\n\r\nWithout success. \r\n\r\nWhen I create custom testcontainers.properties and add: ryuk.container.image=ryuk.image:3.0.3 it being picked up, but when I inject maven property there It does not substitute it:\r\n\r\nryuk.container.image=${my.property} - not working\r\n\r\nHow I can specify ryuk.container.image as -D command or substitute it with maven property?","title":"How to set up property for testcontainers","body":"<p>I want to set up ryuk.container.image as a private registry image. What I tried:</p>\n<ul>\n<li>-Dryuk.container.image</li>\n<li>-DRYUK_CONTAINER_IMAGE</li>\n<li>-DTESTCONTAINER_RYUK_CONTAINER_IMAGE</li>\n</ul>\n<p>Without success.</p>\n<p>When I create custom testcontainers.properties and add: ryuk.container.image=ryuk.image:3.0.3 it being picked up, but when I inject maven property there It does not substitute it:</p>\n<p>ryuk.container.image=${my.property} - not working</p>\n<p>How I can specify ryuk.container.image as -D command or substitute it with maven property?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1680280339,"post_id":75900718,"comment_id":133877161,"body_markdown":"It looks like you&#39;re trying to create code by guessing, which will lead to frustration. If you&#39;re going to use the Swing GUI library, I know of no short-cuts to learning to use it well, and the best place to learn it is through the [Swing Tutorials](http://docs.oracle.com/javase/tutorial/uiswing/index.html).","body":"It looks like you&#39;re trying to create code by guessing, which will lead to frustration. If you&#39;re going to use the Swing GUI library, I know of no short-cuts to learning to use it well, and the best place to learn it is through the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Swing Tutorials</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1680280445,"post_id":75900718,"comment_id":133877180,"body_markdown":"As for your code, my own recommendation is to scrap it and start over. Most of that code needs to be outside of the main method or any static method and into proper OOP-complaint classes with private instance and public methods, code that follows basic Java OOPs practices. The main method should only create your main objects and set them running, and that&#39;s it. If you&#39;re not yet familiar with these, then best to hold off on GUI coding and first learn these principles.","body":"As for your code, my own recommendation is to scrap it and start over. Most of that code needs to be outside of the main method or any static method and into proper OOP-complaint classes with private instance and public methods, code that follows basic Java OOPs practices. The main method should only create your main objects and set them running, and that&#39;s it. If you&#39;re not yet familiar with these, then best to hold off on GUI coding and first learn these principles."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680287487,"creation_date":1680287109,"answer_id":75901635,"question_id":75900718,"body_markdown":"Your code produced an interesting game field.  I&#39;m impressed that you&#39;re just learning.\r\n\r\nI took your idea and created the following GUI.\r\n\r\n[![Display Graphics][1]][1]\r\n\r\nI started the player in the center of the map.  I&#39;m representing the player as a blue circle.\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.\r\n\r\nThe first thing I did was create a game model.  I made the map a `java.awt.Dimension` specifying the width and height of the map.  The drawing `JPanel` dimensions are based on the map dimensions.  I specified the player position with a `java.awt.Point`, which holds an X and Y `int`.\r\n\r\nYou can add one or more monsters or obstacles the same way, by defining them as a `Point`.\r\n\r\nNext, I created the `JFrame` and a drawing `JPanel`.  I used key bindings rather than a key listener.  Yes, the code looks more complicated.  The advantage is that key bindings continue to work when the drawing `JPanel` doesn&#39;t have focus.  I added the WASD keys as a bonus.\r\n\r\nDrawing the player is a rather simple math equation.  I draw the circle based on the center point, so I have to adjust the drawing coordinates in the `drawOval`.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.  You should separate the classes into different files.  Good luck expanding your game.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class DisplayGraphics implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new DisplayGraphics());\r\n    \t}\r\n    \r\n    \tprivate final DisplayModel model;\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tpublic DisplayGraphics() {\r\n    \t\tthis.model = new DisplayModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Display Graphics&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final int playerWidth, margin;\r\n    \r\n    \t\tprivate final DisplayModel model;\r\n    \r\n    \t\tpublic DrawingPanel(DisplayModel model) {\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.margin = 10;\r\n    \t\t\tthis.playerWidth = 16;\r\n    \t\t\tint totalWidth = 2 * margin + (model.getMap().width + 1) * playerWidth;\r\n    \t\t\tint totalHeight = 2 * margin + (model.getMap().height + 1) * playerWidth;\r\n    \t\t\tthis.setPreferredSize(new Dimension(totalWidth, totalHeight));\r\n    \t\t\tsetKeyBindings();\r\n    \t\t}\r\n    \r\n    \t\tprivate void setKeyBindings() {\r\n    \t\t\tInputMap inputMap = getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\r\n    \t\t\tActionMap actionMap = getActionMap();\r\n    \r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;down&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), &quot;left&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), &quot;right&quot;);\r\n    \r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;up&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;down&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;left&quot;);\r\n    \t\t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;right&quot;);\r\n    \r\n    \t\t\tactionMap.put(&quot;up&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionY(-1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tactionMap.put(&quot;down&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionY(+1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tactionMap.put(&quot;left&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionX(-1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\tactionMap.put(&quot;right&quot;, new AbstractAction() {\r\n    \t\t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tmodel.incrementPlayerPositionX(+1);\r\n    \t\t\t\t\trepaint();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tPoint p = model.getPlayerPosition();\r\n    \t\t\tint halfWidth = playerWidth / 2;\r\n    \t\t\tint x = margin + halfWidth + p.x * playerWidth;\r\n    \t\t\tint y = margin + halfWidth + p.y * playerWidth;\r\n    \t\t\tg.setColor(Color.blue);\r\n    \t\t\tg.fillOval(x - halfWidth, y - halfWidth, playerWidth, playerWidth);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class DisplayModel {\r\n    \r\n    \t\tprivate Point playerPosition;\r\n    \r\n    \t\tprivate final Dimension map;\r\n    \r\n    \t\tpublic DisplayModel() {\r\n    \t\t\tthis.map = new Dimension(40, 30);\r\n    \t\t\tthis.playerPosition = new Point(map.width / 2, map.height / 2);\r\n    \t\t}\r\n    \r\n    \t\tpublic void incrementPlayerPositionX(int increment) {\r\n    \t\t\tplayerPosition.x += increment;\r\n    \t\t\tif (playerPosition.x &lt; 0) {\r\n    \t\t\t\tplayerPosition.x = 0;\r\n    \t\t\t}\r\n    \t\t\tif (playerPosition.x &gt; map.width) {\r\n    \t\t\t\tplayerPosition.x = map.width;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic void incrementPlayerPositionY(int increment) {\r\n    \t\t\tplayerPosition.y += increment;\r\n    \t\t\tif (playerPosition.y &lt; 0) {\r\n    \t\t\t\tplayerPosition.y = 0;\r\n    \t\t\t}\r\n    \t\t\tif (playerPosition.y &gt; map.height) {\r\n    \t\t\t\tplayerPosition.y = map.height;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tpublic Point getPlayerPosition() {\r\n    \t\t\treturn playerPosition;\r\n    \t\t}\r\n    \r\n    \t\tpublic Dimension getMap() {\r\n    \t\t\treturn map;\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JKQdo.png\r\n","title":"Is there a way to reload my JFrame game other than using setVisible() to true and false?","body":"<p>Your code produced an interesting game field.  I'm impressed that you're just learning.</p>\n<p>I took your idea and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/JKQdo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKQdo.png\" alt=\"Display Graphics\" /></a></p>\n<p>I started the player in the center of the map.  I'm representing the player as a blue circle.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.</p>\n<p>The first thing I did was create a game model.  I made the map a <code>java.awt.Dimension</code> specifying the width and height of the map.  The drawing <code>JPanel</code> dimensions are based on the map dimensions.  I specified the player position with a <code>java.awt.Point</code>, which holds an X and Y <code>int</code>.</p>\n<p>You can add one or more monsters or obstacles the same way, by defining them as a <code>Point</code>.</p>\n<p>Next, I created the <code>JFrame</code> and a drawing <code>JPanel</code>.  I used key bindings rather than a key listener.  Yes, the code looks more complicated.  The advantage is that key bindings continue to work when the drawing <code>JPanel</code> doesn't have focus.  I added the WASD keys as a bonus.</p>\n<p>Drawing the player is a rather simple math equation.  I draw the circle based on the center point, so I have to adjust the drawing coordinates in the <code>drawOval</code>.</p>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.  You should separate the classes into different files.  Good luck expanding your game.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingUtilities;\n\npublic class DisplayGraphics implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new DisplayGraphics());\n    }\n\n    private final DisplayModel model;\n\n    private final DrawingPanel drawingPanel;\n\n    public DisplayGraphics() {\n        this.model = new DisplayModel();\n        this.drawingPanel = new DrawingPanel(model);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Display Graphics&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(drawingPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private final int playerWidth, margin;\n\n        private final DisplayModel model;\n\n        public DrawingPanel(DisplayModel model) {\n            this.model = model;\n            this.margin = 10;\n            this.playerWidth = 16;\n            int totalWidth = 2 * margin + (model.getMap().width + 1) * playerWidth;\n            int totalHeight = 2 * margin + (model.getMap().height + 1) * playerWidth;\n            this.setPreferredSize(new Dimension(totalWidth, totalHeight));\n            setKeyBindings();\n        }\n\n        private void setKeyBindings() {\n            InputMap inputMap = getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), &quot;up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), &quot;down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), &quot;left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), &quot;right&quot;);\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;up&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0), &quot;down&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0), &quot;left&quot;);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0), &quot;right&quot;);\n\n            actionMap.put(&quot;up&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionY(-1);\n                    repaint();\n                }\n            });\n\n            actionMap.put(&quot;down&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionY(+1);\n                    repaint();\n                }\n            });\n\n            actionMap.put(&quot;left&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionX(-1);\n                    repaint();\n                }\n            });\n\n            actionMap.put(&quot;right&quot;, new AbstractAction() {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void actionPerformed(ActionEvent event) {\n                    model.incrementPlayerPositionX(+1);\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Point p = model.getPlayerPosition();\n            int halfWidth = playerWidth / 2;\n            int x = margin + halfWidth + p.x * playerWidth;\n            int y = margin + halfWidth + p.y * playerWidth;\n            g.setColor(Color.blue);\n            g.fillOval(x - halfWidth, y - halfWidth, playerWidth, playerWidth);\n        }\n\n    }\n\n    public class DisplayModel {\n\n        private Point playerPosition;\n\n        private final Dimension map;\n\n        public DisplayModel() {\n            this.map = new Dimension(40, 30);\n            this.playerPosition = new Point(map.width / 2, map.height / 2);\n        }\n\n        public void incrementPlayerPositionX(int increment) {\n            playerPosition.x += increment;\n            if (playerPosition.x &lt; 0) {\n                playerPosition.x = 0;\n            }\n            if (playerPosition.x &gt; map.width) {\n                playerPosition.x = map.width;\n            }\n        }\n\n        public void incrementPlayerPositionY(int increment) {\n            playerPosition.y += increment;\n            if (playerPosition.y &lt; 0) {\n                playerPosition.y = 0;\n            }\n            if (playerPosition.y &gt; map.height) {\n                playerPosition.y = map.height;\n            }\n        }\n\n        public Point getPlayerPosition() {\n            return playerPosition;\n        }\n\n        public Dimension getMap() {\n            return map;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680287318,"creation_date":1680287318,"answer_id":75901670,"question_id":75900718,"body_markdown":"For example, I would first start with OOP classes, here starting with a Player class, one that holds its own position, a symbol and its own health value, 0 to 100. A simple example could look like so:\r\n```\r\npublic class Player {\r\n    private int x;\r\n    private int y;\r\n    private int health;\r\n    private String symbol;\r\n\r\n\tpublic Player() {\r\n\t\t// no-arg constructor if needed\r\n\t}\r\n\t\r\n    public Player(int x, int y, int health, String symbol) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.health = health;\r\n        this.symbol = symbol;\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public void setX(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public void setY(int y) {\r\n        this.y = y;\r\n    }\r\n\r\n    public int getHealth() {\r\n        return health;\r\n    }\r\n\r\n    public void setHealth(int health) {\r\n        this.health = health;\r\n    }\r\n    \r\n    public void setSymbol(String symbol) {\r\n        this.symbol = symbol;\r\n    }\r\n    \r\n    public String getSymbol() {\r\n        return symbol;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is nothing more than a simple &quot;POJO&quot; or &quot;Plain Old Java Object, one with a few fields, constructors and some getters and setters. Nothing fancy.\r\n\r\nI&#39;d create other objects, such as an object to represent the map and any other entities that the map might hold or that the player might interact with. I will dispense with this for now for simplicity, but will show a sample Swing GUI for displaying and changing the location of a Player:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class DisplayGraphicsPanel extends JPanel {\r\n    public static final int MAX_X = 80;\r\n    public static final int MAX_Y = 36;\r\n    private static final Dimension CELL_SIZE = new Dimension(15, 17);\r\n\r\n    private Player player = new Player(0, 0, 100, &quot;@&quot;);\r\n    private JPanel gridHolderPanel = new JPanel(new GridLayout(MAX_Y, MAX_X, 1, 1));\r\n    private JPanel[][] panelGrid = new JPanel[MAX_Y][MAX_X];\r\n    private JLabel playerLabel;\r\n    private JLabel healthLabel = new JLabel(&quot;100%&quot;);\r\n\r\n    private int condition = WHEN_IN_FOCUSED_WINDOW;\r\n    private InputMap inputMap = getInputMap(condition);\r\n    private ActionMap actionMap = getActionMap();\r\n\r\n    public DisplayGraphicsPanel() {\r\n        playerLabel = new JLabel(player.getSymbol());\r\n        gridHolderPanel.setBackground(Color.BLACK);\r\n        gridHolderPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n        for (int y = 0; y &lt; MAX_Y; y++) {\r\n            for (int x = 0; x &lt; MAX_X; x++) {\r\n                JPanel panel = new JPanel();\r\n                panel.setBackground(Color.WHITE);\r\n                panel.setPreferredSize(CELL_SIZE);\r\n                panel.setLayout(new GridBagLayout());\r\n                panelGrid[y][x] = panel;\r\n                gridHolderPanel.add(panel);\r\n            }\r\n        }\r\n        panelGrid[0][0].add(playerLabel);\r\n\r\n        JPanel statusPanel = new JPanel();\r\n        statusPanel.add(new JLabel(&quot;Health:&quot;));\r\n        statusPanel.add(Box.createHorizontalStrut(5));\r\n        statusPanel.add(healthLabel);\r\n\r\n        setLayout(new BorderLayout());\r\n        add(gridHolderPanel);\r\n        add(statusPanel, BorderLayout.PAGE_END);\r\n\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), 0, 1);\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), 0, -1);\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), -1, 0);\r\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), 1, 0);\r\n    }\r\n\r\n    private void putIntoMaps(KeyStroke kStroke, int xDir, int yDir) {\r\n        inputMap.put(kStroke, kStroke.toString());\r\n        actionMap.put(kStroke.toString(), new MoveAction(xDir, yDir));\r\n    }\r\n\r\n    private class MoveAction extends AbstractAction {\r\n        private int xDir;\r\n        private int yDir;\r\n\r\n        public MoveAction(int xDir, int yDir) {\r\n            this.xDir = xDir;\r\n            this.yDir = yDir;\r\n        }\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            int playerX = player.getX();\r\n            playerX += xDir;\r\n\r\n            // make sure we don&#39;t go out of bounds\r\n            playerX = Math.max(0, playerX);\r\n            playerX = Math.min(playerX, MAX_X);\r\n            player.setX(playerX);\r\n            \r\n            int playerY = player.getY();\r\n            playerY += yDir;\r\n            \r\n            playerY = Math.max(0, playerY);\r\n            playerY = Math.min(playerY, MAX_Y);\r\n            player.setY(playerY);\r\n            \r\n            int health = player.getHealth();\r\n            health += Math.random() &gt; 0.5 ? 4 : -4;\r\n            health = Math.min(100, health);\r\n            player.setHealth(health);\r\n            \r\n            healthLabel.setText(String.format(&quot;%02d%%&quot;, player.getHealth()));\r\n\r\n            panelGrid[playerY][playerX].add(playerLabel);\r\n            gridHolderPanel.revalidate();\r\n            gridHolderPanel.repaint();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            DisplayGraphicsPanel mainPanel = new DisplayGraphicsPanel();\r\n\r\n            JFrame frame = new JFrame(&quot;GUI&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThis class uses a JPanel that holds a grid of other JPanel cells in a 2D array, and uses [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) to capture arrow keystrokes and use them to move the player. Key Bindings are much better to use than a KeyListener, and the tutorial (in the link) will explain it well. Briefly, I have bound each of the arrow keys with an action, one that changes the x or y field of the player object, and then I use those values to move a JLabel that is displayed within the JPanel grid.","title":"Is there a way to reload my JFrame game other than using setVisible() to true and false?","body":"<p>For example, I would first start with OOP classes, here starting with a Player class, one that holds its own position, a symbol and its own health value, 0 to 100. A simple example could look like so:</p>\n<pre><code>public class Player {\n    private int x;\n    private int y;\n    private int health;\n    private String symbol;\n\n    public Player() {\n        // no-arg constructor if needed\n    }\n    \n    public Player(int x, int y, int health, String symbol) {\n        this.x = x;\n        this.y = y;\n        this.health = health;\n        this.symbol = symbol;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public int getHealth() {\n        return health;\n    }\n\n    public void setHealth(int health) {\n        this.health = health;\n    }\n    \n    public void setSymbol(String symbol) {\n        this.symbol = symbol;\n    }\n    \n    public String getSymbol() {\n        return symbol;\n    }\n\n}\n</code></pre>\n<p>This is nothing more than a simple &quot;POJO&quot; or &quot;Plain Old Java Object, one with a few fields, constructors and some getters and setters. Nothing fancy.</p>\n<p>I'd create other objects, such as an object to represent the map and any other entities that the map might hold or that the player might interact with. I will dispense with this for now for simplicity, but will show a sample Swing GUI for displaying and changing the location of a Player:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class DisplayGraphicsPanel extends JPanel {\n    public static final int MAX_X = 80;\n    public static final int MAX_Y = 36;\n    private static final Dimension CELL_SIZE = new Dimension(15, 17);\n\n    private Player player = new Player(0, 0, 100, &quot;@&quot;);\n    private JPanel gridHolderPanel = new JPanel(new GridLayout(MAX_Y, MAX_X, 1, 1));\n    private JPanel[][] panelGrid = new JPanel[MAX_Y][MAX_X];\n    private JLabel playerLabel;\n    private JLabel healthLabel = new JLabel(&quot;100%&quot;);\n\n    private int condition = WHEN_IN_FOCUSED_WINDOW;\n    private InputMap inputMap = getInputMap(condition);\n    private ActionMap actionMap = getActionMap();\n\n    public DisplayGraphicsPanel() {\n        playerLabel = new JLabel(player.getSymbol());\n        gridHolderPanel.setBackground(Color.BLACK);\n        gridHolderPanel.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        for (int y = 0; y &lt; MAX_Y; y++) {\n            for (int x = 0; x &lt; MAX_X; x++) {\n                JPanel panel = new JPanel();\n                panel.setBackground(Color.WHITE);\n                panel.setPreferredSize(CELL_SIZE);\n                panel.setLayout(new GridBagLayout());\n                panelGrid[y][x] = panel;\n                gridHolderPanel.add(panel);\n            }\n        }\n        panelGrid[0][0].add(playerLabel);\n\n        JPanel statusPanel = new JPanel();\n        statusPanel.add(new JLabel(&quot;Health:&quot;));\n        statusPanel.add(Box.createHorizontalStrut(5));\n        statusPanel.add(healthLabel);\n\n        setLayout(new BorderLayout());\n        add(gridHolderPanel);\n        add(statusPanel, BorderLayout.PAGE_END);\n\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), 0, 1);\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), 0, -1);\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), -1, 0);\n        putIntoMaps(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), 1, 0);\n    }\n\n    private void putIntoMaps(KeyStroke kStroke, int xDir, int yDir) {\n        inputMap.put(kStroke, kStroke.toString());\n        actionMap.put(kStroke.toString(), new MoveAction(xDir, yDir));\n    }\n\n    private class MoveAction extends AbstractAction {\n        private int xDir;\n        private int yDir;\n\n        public MoveAction(int xDir, int yDir) {\n            this.xDir = xDir;\n            this.yDir = yDir;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            int playerX = player.getX();\n            playerX += xDir;\n\n            // make sure we don't go out of bounds\n            playerX = Math.max(0, playerX);\n            playerX = Math.min(playerX, MAX_X);\n            player.setX(playerX);\n            \n            int playerY = player.getY();\n            playerY += yDir;\n            \n            playerY = Math.max(0, playerY);\n            playerY = Math.min(playerY, MAX_Y);\n            player.setY(playerY);\n            \n            int health = player.getHealth();\n            health += Math.random() &gt; 0.5 ? 4 : -4;\n            health = Math.min(100, health);\n            player.setHealth(health);\n            \n            healthLabel.setText(String.format(&quot;%02d%%&quot;, player.getHealth()));\n\n            panelGrid[playerY][playerX].add(playerLabel);\n            gridHolderPanel.revalidate();\n            gridHolderPanel.repaint();\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            DisplayGraphicsPanel mainPanel = new DisplayGraphicsPanel();\n\n            JFrame frame = new JFrame(&quot;GUI&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p>This class uses a JPanel that holds a grid of other JPanel cells in a 2D array, and uses <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> to capture arrow keystrokes and use them to move the player. Key Bindings are much better to use than a KeyListener, and the tutorial (in the link) will explain it well. Briefly, I have bound each of the arrow keys with an action, one that changes the x or y field of the player object, and then I use those values to move a JLabel that is displayed within the JPanel grid.</p>\n"}],"owner":{"account_id":28180552,"reputation":1,"user_id":21537648,"display_name":"Jacob Katz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1680287487,"creation_date":1680279591,"question_id":75900718,"body_markdown":"So the goal here is essentially to create a basic text-based roguelike game. I&#39;m fairly new to java, so I&#39;m sure you&#39;ll find tons of stuff to be improved with my program. The biggest thing I have is I don&#39;t know of a good way to update the screen so it accurately displays the player&#39;s position. What I am currently using is `setVisible(false)` and `setVisible(true)` to completely reload the program, which is fine for now for the purposes of development and at least ensuring things are working. However, the time has come for where that no longer does what I need it, so my question is essentially how do I reload it each time an arrow key is pressed (that&#39;s the input for moving the player). \r\n\r\n\r\nI have experimented with repaint() with nothing to show for it as I could not get it to do anything. Any help would be greatly appreciated!\r\n\r\nHere is the code as it is: \r\n\r\n```\r\nimport java.awt.*;\r\n\r\nimport javax.swing.JFrame;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.*;\r\n\r\npublic class DisplayGraphics extends Canvas{  \r\n\t// Global game variables\r\n\tint screenW = 1024;\r\n\tint screenH = 768;\r\n\r\n\tstatic JFrame f = null;\r\n\tstatic int playerX = 0;\r\n\tstatic int playerY = 0;\r\n\tstatic String[][] map = new String[80][36];\r\n\r\n\r\n//\tpublic void makeMap(String[][] map) {\r\n//\t\t\r\n//\t}\r\n\r\n\t\r\n\tpublic void paint(Graphics g) {  \r\n\t\tfor (int x=0;x&lt;map.length;x++) {\r\n\t\t\tfor (int y=0;y&lt;map[x].length;y++) {\r\n\t\t\t\tif (x==playerX&amp;&amp; y==playerY) map[x][y] = &quot;@&quot;;\r\n\t\t\t\telse map[x][y] = &quot;.&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int x=0;x&lt;map.length;x++) {\r\n\t\t\tfor (int y=0;y&lt;map[x].length;y++) {\r\n\t\t\t\tg.drawString(map[x][y], (11+(8*x)), (13*y)+14);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tg.drawString(&quot;HEALTH:&quot;, 10, 545);\r\n\t}  \r\n\t\r\n\r\n\tpublic static void main(String[] args) {  \r\n\r\n\t\t// DEFINE PLAYER VARIABLES \r\n\t\tDisplayGraphics m=new DisplayGraphics();  \r\n\t\tf=new JFrame();  \r\n\t\tf.add(m);  \r\n\t\tf.setSize(840,610);\r\n\r\n\t\t\r\n\t\t//we get the keyboard input\r\n\t\tf.addKeyListener(new KeyAdapter() {\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\tint keyCode = e.getKeyCode();\r\n\t\t\t\tif (keyCode == KeyEvent.VK_UP) {\r\n\t\t\t\t\tSystem.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerY--;\r\n\t\t\t\t\tSystem.out.println(playerY);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t\telse if (keyCode == KeyEvent.VK_DOWN) {\r\n\t\t\t\t\tSystem.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerY++;\r\n\t\t\t\t\tSystem.out.println(playerY);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\t}\r\n\t\t\t\telse if (keyCode == KeyEvent.VK_LEFT) {\r\n\t\t\t\t\tSystem.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerX--;\r\n\t\t\t\t\tSystem.out.println(playerX);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t\telse if (keyCode == KeyEvent.VK_RIGHT) {\r\n\t\t\t\t\tSystem.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\r\n\t\t\t\t\tplayerX++;\r\n\t\t\t\t\tSystem.out.println(playerX);\r\n\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\tf.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tf.setVisible(true); \r\n\t}\r\n\t\r\n    public void actionPerformed(KeyEvent event) {\r\n        f.repaint();\r\n    }\r\n\r\n}  \r\n\r\n```\r\n","title":"Is there a way to reload my JFrame game other than using setVisible() to true and false?","body":"<p>So the goal here is essentially to create a basic text-based roguelike game. I'm fairly new to java, so I'm sure you'll find tons of stuff to be improved with my program. The biggest thing I have is I don't know of a good way to update the screen so it accurately displays the player's position. What I am currently using is <code>setVisible(false)</code> and <code>setVisible(true)</code> to completely reload the program, which is fine for now for the purposes of development and at least ensuring things are working. However, the time has come for where that no longer does what I need it, so my question is essentially how do I reload it each time an arrow key is pressed (that's the input for moving the player).</p>\n<p>I have experimented with repaint() with nothing to show for it as I could not get it to do anything. Any help would be greatly appreciated!</p>\n<p>Here is the code as it is:</p>\n<pre><code>import java.awt.*;\n\nimport javax.swing.JFrame;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.*;\n\npublic class DisplayGraphics extends Canvas{  \n    // Global game variables\n    int screenW = 1024;\n    int screenH = 768;\n\n    static JFrame f = null;\n    static int playerX = 0;\n    static int playerY = 0;\n    static String[][] map = new String[80][36];\n\n\n//  public void makeMap(String[][] map) {\n//      \n//  }\n\n    \n    public void paint(Graphics g) {  \n        for (int x=0;x&lt;map.length;x++) {\n            for (int y=0;y&lt;map[x].length;y++) {\n                if (x==playerX&amp;&amp; y==playerY) map[x][y] = &quot;@&quot;;\n                else map[x][y] = &quot;.&quot;;\n            }\n        }\n        for (int x=0;x&lt;map.length;x++) {\n            for (int y=0;y&lt;map[x].length;y++) {\n                g.drawString(map[x][y], (11+(8*x)), (13*y)+14);\n            }\n        }\n\n        g.drawString(&quot;HEALTH:&quot;, 10, 545);\n    }  \n    \n\n    public static void main(String[] args) {  \n\n        // DEFINE PLAYER VARIABLES \n        DisplayGraphics m=new DisplayGraphics();  \n        f=new JFrame();  \n        f.add(m);  \n        f.setSize(840,610);\n\n        \n        //we get the keyboard input\n        f.addKeyListener(new KeyAdapter() {\n            public void keyPressed(KeyEvent e) {\n                int keyCode = e.getKeyCode();\n                if (keyCode == KeyEvent.VK_UP) {\n                    System.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\n                    playerY--;\n                    System.out.println(playerY);\n                    f.setVisible(false);\n                    f.setVisible(true);\n                }\n                else if (keyCode == KeyEvent.VK_DOWN) {\n                    System.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\n                    playerY++;\n                    System.out.println(playerY);\n                    f.setVisible(false);\n                    f.setVisible(true); }\n                else if (keyCode == KeyEvent.VK_LEFT) {\n                    System.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\n                    playerX--;\n                    System.out.println(playerX);\n                    f.setVisible(false);\n                    f.setVisible(true);\n                }\n                else if (keyCode == KeyEvent.VK_RIGHT) {\n                    System.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\n                    playerX++;\n                    System.out.println(playerX);\n                    f.setVisible(false);\n                    f.setVisible(true);\n                }\n            }\n        });\n        f.setVisible(true); \n    }\n    \n    public void actionPerformed(KeyEvent event) {\n        f.repaint();\n    }\n\n}  \n\n</code></pre>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679938817,"post_id":75858709,"comment_id":133807414,"body_markdown":"Which SQLite JDBC jar are you using? Try taking out the Class.forName(&quot;org.sqlite.JDBC&quot;). From https://www.sqlitetutorial.net/sqlite-java/sqlite-jdbc-driver/","body":"Which SQLite JDBC jar are you using? Try taking out the Class.forName(&quot;org.sqlite.JDBC&quot;). From <a href=\"https://www.sqlitetutorial.net/sqlite-java/sqlite-jdbc-driver/\" rel=\"nofollow noreferrer\">sqlitetutorial.net/sqlite-java/sqlite-jdbc-driver</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1679942420,"post_id":75858709,"comment_id":133808239,"body_markdown":"The fact you get compilation errors for SQLite JDBC driver classes, suggests you copied the sources of the SQLite JDBC driver into your project instead of adding the JAR with compiled classes of the JDBC driver onto the classpath of your project.","body":"The fact you get compilation errors for SQLite JDBC driver classes, suggests you copied the sources of the SQLite JDBC driver into your project instead of adding the JAR with compiled classes of the JDBC driver onto the classpath of your project."}],"answers":[{"tags":[],"owner":{"account_id":27745867,"reputation":1,"user_id":21181392,"display_name":"adshdsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680286712,"creation_date":1680286712,"answer_id":75901593,"question_id":75858709,"body_markdown":"The answer is simple: I forgot to add JDBC to project libraries. Thanks.","title":"Java JDBC: Driver can&#39;t get connection to database","body":"<p>The answer is simple: I forgot to add JDBC to project libraries. Thanks.</p>\n"}],"owner":{"account_id":27745867,"reputation":1,"user_id":21181392,"display_name":"adshdsa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680286712,"creation_date":1679938321,"question_id":75858709,"body_markdown":"I am getting this error and I don&#39;t know how to fix it.\r\n\r\nMy code:\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\n\r\npublic class Main {\r\npublic static void main(String[] args) {\r\n        Connection c = null;\r\n\r\n        try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:test.db&quot;);\r\n        } catch ( Exception e ) {\r\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\r\n            System.exit(0);\r\n        }\r\n        System.out.println(&quot;Opened database successfully&quot;);\r\n}\r\n```\r\n\r\nHere is list of all the errors appeared in the console:\r\n```\r\nError:(28, 1) java: org.sqlite.Stmt is not abstract and does not override abstract method isCloseOnCompletion() in java.sql.Statement\r\n\r\nError:(45, 21) java: incompatible types: org.sqlite.core.DB cannot be converted to org.sqlite.DB\r\n\r\nError:(158, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\r\n\r\nError:(214, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\r\n\r\nError:(42, 7) java: org.sqlite.RS is not abstract and does not override abstract method &lt;T&gt;getObject(java.lang.String,java.lang.Class&lt;T&gt;) in java.sql.ResultSet\r\n\r\nError:(34, 1) java: org.sqlite.MetaData is not abstract and does not override abstract method generatedKeyAlwaysReturned() in java.sql.DatabaseMetaData\r\n\r\nError:(35, 7) java: org.sqlite.PrepStmt is not abstract and does not override abstract method setNClob(int,java.io.Reader) in java.sql.PreparedStatement\r\n```\r\n\r\nAlso Stmt.java class is opening so I guess I get these errors because of it.\r\n\r\nI tried to add JDBC to project variables but it didn&#39;t work for me.","title":"Java JDBC: Driver can&#39;t get connection to database","body":"<p>I am getting this error and I don't know how to fix it.</p>\n<p>My code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class Main {\npublic static void main(String[] args) {\n        Connection c = null;\n\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:test.db&quot;);\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n            System.exit(0);\n        }\n        System.out.println(&quot;Opened database successfully&quot;);\n}\n</code></pre>\n<p>Here is list of all the errors appeared in the console:</p>\n<pre><code>Error:(28, 1) java: org.sqlite.Stmt is not abstract and does not override abstract method isCloseOnCompletion() in java.sql.Statement\n\nError:(45, 21) java: incompatible types: org.sqlite.core.DB cannot be converted to org.sqlite.DB\n\nError:(158, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\n\nError:(214, 25) java: incompatible types: org.sqlite.DB cannot be converted to org.sqlite.core.DB\n\nError:(42, 7) java: org.sqlite.RS is not abstract and does not override abstract method &lt;T&gt;getObject(java.lang.String,java.lang.Class&lt;T&gt;) in java.sql.ResultSet\n\nError:(34, 1) java: org.sqlite.MetaData is not abstract and does not override abstract method generatedKeyAlwaysReturned() in java.sql.DatabaseMetaData\n\nError:(35, 7) java: org.sqlite.PrepStmt is not abstract and does not override abstract method setNClob(int,java.io.Reader) in java.sql.PreparedStatement\n</code></pre>\n<p>Also Stmt.java class is opening so I guess I get these errors because of it.</p>\n<p>I tried to add JDBC to project variables but it didn't work for me.</p>\n"},{"tags":["java","database","mapping","record","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1586178815,"post_id":61057659,"comment_id":108024301,"body_markdown":"1) I&#39;m not sure how MapStruct relates to your question here. 2) You&#39;ve already answered the part where you cannot cast. A `RecordMapperProvider` is a *generic, global* provider for *all* `RecordMapper` instances, not just the one you&#39;re interested in for a single query execution. The reason wyh you&#39;re getting the wrong data cannot be answered from the facts that you&#39;ve presented in your question so far. May I recommend to read this guide: https://stackoverflow.com/help/minimal-reproducible-example. It is difficult to see what you&#39;re trying to do and what exactly fails from your question so far","body":"1) I&#39;m not sure how MapStruct relates to your question here. 2) You&#39;ve already answered the part where you cannot cast. A <code>RecordMapperProvider</code> is a <i>generic, global</i> provider for <i>all</i> <code>RecordMapper</code> instances, not just the one you&#39;re interested in for a single query execution. The reason wyh you&#39;re getting the wrong data cannot be answered from the facts that you&#39;ve presented in your question so far. May I recommend to read this guide: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. It is difficult to see what you&#39;re trying to do and what exactly fails from your question so far"},{"owner":{"account_id":3064089,"reputation":1969,"user_id":2596187,"display_name":"emazzotta"},"score":0,"creation_date":1586182701,"post_id":61057659,"comment_id":108026775,"body_markdown":"Sorry Lukas, I did some digging and it turns out in the end the issue I had was simply caused by performing a select with an asterisk instead of specifying the individual fields. Once I specified the fields, the POJO mapping works just fine. My problem is solved now.","body":"Sorry Lukas, I did some digging and it turns out in the end the issue I had was simply caused by performing a select with an asterisk instead of specifying the individual fields. Once I specified the fields, the POJO mapping works just fine. My problem is solved now."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1586247261,"post_id":61057659,"comment_id":108051030,"body_markdown":"Using an explicit asterisk will produce the columns in the order in which they&#39;re defined in the SQL table. If the generated code is not in sync with the SQL table, the generated order might not be correct, so jOOQ would be expecting a different order...","body":"Using an explicit asterisk will produce the columns in the order in which they&#39;re defined in the SQL table. If the generated code is not in sync with the SQL table, the generated order might not be correct, so jOOQ would be expecting a different order..."}],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586170293,"creation_date":1586170293,"answer_id":61058106,"question_id":61057659,"body_markdown":"There is no support for Generics for mapping source and target as of now :\r\nhttps://github.com/mapstruct/mapstruct/issues/583\r\n\r\nExample wrokaround:\r\n\r\nhttps://github.com/mapstruct/mapstruct/issues/631\r\n\r\nYou need to use concrete classes when defining the mapper.","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>There is no support for Generics for mapping source and target as of now :\n<a href=\"https://github.com/mapstruct/mapstruct/issues/583\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/583</a></p>\n\n<p>Example wrokaround:</p>\n\n<p><a href=\"https://github.com/mapstruct/mapstruct/issues/631\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/631</a></p>\n\n<p>You need to use concrete classes when defining the mapper.</p>\n"},{"tags":[],"owner":{"account_id":3064089,"reputation":1969,"user_id":2596187,"display_name":"emazzotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586421643,"creation_date":1586421643,"answer_id":61117162,"question_id":61057659,"body_markdown":"The question was a result of the problem described here: https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order\r\n\r\nBut it turns out that the problem can be solved without even needing any sort of mapper.\r\n\r\nProblem:\r\nIf JOOQ generates POJOs/Records/etc. based on a database which has the attributes of a table in a certain order, but the order of the attributes changes after JOOQ already generated the POJOs/Records/etc. it&#39;s possible that a `SELECT *` will not map the fields to the correct attributes in the POJOs \r\n\r\nE.g. The POJO `Language` has the attributes `country` and `language` and suddenly `Language` contains the table value of `country` in `Lanugage.getLanguage()` and the table value of `lanugage` in `Language.getCountry()`.\r\n\r\nThis issue can be solved by specifying an order (regardless what the actual order of the database fields are) in the `SELECT`-statement, like `SELECT language, country`.","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>The question was a result of the problem described here: <a href=\"https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order\">POJO Mapping in JOOQ regardless of parameter order</a></p>\n\n<p>But it turns out that the problem can be solved without even needing any sort of mapper.</p>\n\n<p>Problem:\nIf JOOQ generates POJOs/Records/etc. based on a database which has the attributes of a table in a certain order, but the order of the attributes changes after JOOQ already generated the POJOs/Records/etc. it's possible that a <code>SELECT *</code> will not map the fields to the correct attributes in the POJOs </p>\n\n<p>E.g. The POJO <code>Language</code> has the attributes <code>country</code> and <code>language</code> and suddenly <code>Language</code> contains the table value of <code>country</code> in <code>Lanugage.getLanguage()</code> and the table value of <code>lanugage</code> in <code>Language.getCountry()</code>.</p>\n\n<p>This issue can be solved by specifying an order (regardless what the actual order of the database fields are) in the <code>SELECT</code>-statement, like <code>SELECT language, country</code>.</p>\n"},{"tags":[],"owner":{"account_id":1592881,"reputation":19,"user_id":3293405,"display_name":"Eric Riese"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680286577,"creation_date":1680286577,"answer_id":75901577,"question_id":61057659,"body_markdown":"I generated my Record classes and POJOs with jOOQ codegen and my minimal mapper just worked\r\n```java\r\n@Mapper\r\npublic interface FooMapper extends RecordMapper&lt;FooRecord, Foo&gt;, RecordUnmapper&lt;Foo, FooRecord&gt; {\r\n}\r\n```\r\nIt warns about unmapped fields, but you can suppress that with.\r\n```java\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n```","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>I generated my Record classes and POJOs with jOOQ codegen and my minimal mapper just worked</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface FooMapper extends RecordMapper&lt;FooRecord, Foo&gt;, RecordUnmapper&lt;Foo, FooRecord&gt; {\n}\n</code></pre>\n<p>It warns about unmapped fields, but you can suppress that with.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n</code></pre>\n"}],"owner":{"account_id":3064089,"reputation":1969,"user_id":2596187,"display_name":"emazzotta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2059,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":61117162,"answer_count":3,"score":4,"last_activity_date":1680286577,"creation_date":1586168736,"question_id":61057659,"body_markdown":"I would like to implement my own `RecordMapper` and use Mapstruct to map the Record to the POJO. I don&#39;t quite understand how to accomplish this. I followed this part of the docs: https://www.jooq.org/doc/3.13/manual/sql-execution/fetching/pojos-with-recordmapper-provider/\r\n\r\nMy mapper looks like this:\r\n\r\n```\r\npublic class LanguageMapper&lt;R extends Record, E&gt; implements RecordMapper&lt;R, Language&gt; {\r\n\r\n  @Override\r\n  public Language map(R record) {\r\n    LanguageRecord languageRecord = (LanguageRecord) record;\r\n\r\n    // this is just an example, in the future this is the kind of mapping that would be performed automatically via mapstruct\r\n    return new Language(\r\n             languageRecord.getId(), \r\n             languageRecord.getNamespaceId(), \r\n             languageRecord.getLanguage(), \r\n             languageRecord.getCountryCode(), \r\n             languageRecord.getLanguageTag()\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nThe issue is that as a `record` I&#39;m not actually getting a `LanguageRecord` but a `RecordImpl` of my language table and can thus not cast `record` to `LanguageRecord`. Any idea what I need to change?\r\n\r\nWhat&#39;s interesting when using the `RecordImpl` is, if I do something like this\r\n\r\n```\r\nrecord.get(LANGUAGE.LANGUAGE_TAG);\r\n```\r\n\r\nIt will already get the wrong information (it&#39;s getting the LANGUAGE.NAMESPACE_ID). Thus when getting it like this and then mapping it to the POJO it will be wrong as well.\r\n\r\n(Created this question based on this question https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order)","title":"Use Mapstruct as RecordMapper for JOOQ","body":"<p>I would like to implement my own <code>RecordMapper</code> and use Mapstruct to map the Record to the POJO. I don't quite understand how to accomplish this. I followed this part of the docs: <a href=\"https://www.jooq.org/doc/3.13/manual/sql-execution/fetching/pojos-with-recordmapper-provider/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/3.13/manual/sql-execution/fetching/pojos-with-recordmapper-provider/</a></p>\n\n<p>My mapper looks like this:</p>\n\n<pre><code>public class LanguageMapper&lt;R extends Record, E&gt; implements RecordMapper&lt;R, Language&gt; {\n\n  @Override\n  public Language map(R record) {\n    LanguageRecord languageRecord = (LanguageRecord) record;\n\n    // this is just an example, in the future this is the kind of mapping that would be performed automatically via mapstruct\n    return new Language(\n             languageRecord.getId(), \n             languageRecord.getNamespaceId(), \n             languageRecord.getLanguage(), \n             languageRecord.getCountryCode(), \n             languageRecord.getLanguageTag()\n    );\n  }\n}\n</code></pre>\n\n<p>The issue is that as a <code>record</code> I'm not actually getting a <code>LanguageRecord</code> but a <code>RecordImpl</code> of my language table and can thus not cast <code>record</code> to <code>LanguageRecord</code>. Any idea what I need to change?</p>\n\n<p>What's interesting when using the <code>RecordImpl</code> is, if I do something like this</p>\n\n<pre><code>record.get(LANGUAGE.LANGUAGE_TAG);\n</code></pre>\n\n<p>It will already get the wrong information (it's getting the LANGUAGE.NAMESPACE_ID). Thus when getting it like this and then mapping it to the POJO it will be wrong as well.</p>\n\n<p>(Created this question based on this question <a href=\"https://stackoverflow.com/questions/60926102/pojo-mapping-in-jooq-regardless-of-parameter-order\">POJO Mapping in JOOQ regardless of parameter order</a>)</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1679432262,"post_id":75806145,"comment_id":133720881,"body_markdown":"I don&#39;t think you&#39;re setting the boolean values correctly. You have to use an if statement and inside the if statement you have to set the boolean values. If the cell is empty then you set the variable to true or false.","body":"I don&#39;t think you&#39;re setting the boolean values correctly. You have to use an if statement and inside the if statement you have to set the boolean values. If the cell is empty then you set the variable to true or false."},{"owner":{"account_id":19522308,"reputation":1726,"user_id":14283885,"display_name":"Chris G"},"score":0,"creation_date":1679483055,"post_id":75806145,"comment_id":133728897,"body_markdown":"@AliasCartellano they do print true or false tho","body":"@AliasCartellano they do print true or false tho"},{"owner":{"account_id":19522308,"reputation":1726,"user_id":14283885,"display_name":"Chris G"},"score":0,"creation_date":1679485912,"post_id":75806145,"comment_id":133729642,"body_markdown":"I just realized after making a few more test that my condition actually works and it reads the `continue;` line inside the if statement but the code inserts the null data inside my `arrayList` anyway which is why I&#39;m having issues","body":"I just realized after making a few more test that my condition actually works and it reads the <code>continue;</code> line inside the if statement but the code inserts the null data inside my <code>arrayList</code> anyway which is why I&#39;m having issues"}],"answers":[{"tags":[],"owner":{"account_id":19522308,"reputation":1726,"user_id":14283885,"display_name":"Chris G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679493198,"creation_date":1679493198,"answer_id":75813157,"question_id":75806145,"body_markdown":"Fixed my issue, posting the answer in case it helps someone else. I noticed that my condition was ok and that it went inside my if statement but after the continue it kept saving null values in my `arrayList`\r\n\r\n    /*-------------IMPORT Rutas----------*/\r\n        public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\r\n            JSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;error&quot;, &quot;&quot;);\r\n            ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\r\n            try {\r\n                XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\r\n                XSSFSheet sheet = workbook.getSheetAt(0);\r\n                DataFormatter formater = new DataFormatter();\r\n                int rowCount = 1;\r\n                RutasImportDto dto;\r\n    \r\n                for (Row row : sheet) {\r\n                    dto = new RutasImportDto();\r\n                    if (rowCount &lt; 4) {\r\n                        rowCount++;\r\n                        continue;\r\n                    }\r\n                    if (rowCount == 4) {\r\n                        Cell cell = row.getCell(0);\r\n                        if (cell == null) {\r\n                            continue;\r\n                        }\r\n                        if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;N&#186; DE PLANTA&quot;)) {\r\n                            // si la el encabezado interpreta que est&#225; en la fila 4\r\n                            // aumentamos el rowCount para ajustar los n&#250;meros de filas\r\n                            rowCount++;\r\n                            continue;// for Row...\r\n                        }\r\n    \r\n                    }\r\n                    int nullCounter = 0;//se inicializa null counter\r\n                    for (int i = 0; i &lt; 4; i++) {\r\n                        //obtener valor de celda y variables para validar si vienen con datos vacios\r\n                        Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n                        boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\r\n                        boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \r\n                        \r\n                        //si viene vacio, aumentar contador y pasar a sgte celda\r\n                        if (cell == null || isBlankCell || isEmptyStringCell) {\r\n                            nullCounter++;\r\n                            //si celda esta vacia, continuar con la iteracion\r\n                            continue;\r\n                        } \r\n                        //si no, guardar datos para luego almacenar en arraylist\r\n                        switch (i) {\r\n                            case 0:\r\n                                dto.setPlantNumber(formater.formatCellValue(cell));\r\n                            break;\r\n                            case 1:\r\n                                dto.setUserId(formater.formatCellValue(cell));\r\n                            break;\r\n                            case 2:\r\n                                dto.setStartDay(formater.formatCellValue(cell));\r\n                            break;\r\n                            case 3:\r\n                                dto.setHour(formater.formatCellValue(cell));\r\n                            break;\r\n                            default:\r\n                            break;\r\n                        }\r\n                        \r\n                    }\r\n                    //si las 4 columnas de la fila son null, no guardar datos en arraylist\r\n                    if(nullCounter==4){\r\n                        //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\r\n                    } else {\r\n                        dto.setRow(rowCount);\r\n                        arrayList.add(dto);\r\n                    }\r\n                    rowCount++;\r\n                }\r\n                jsonObject = persistImportRutas(arrayList, loggedUserId);\r\n                // log.info(&quot;***** arrayList &quot;+ arrayList);\r\n            } catch (Throwable th) {\r\n                jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\r\n                log.error(&quot;processImportRutas : &quot; + th.getMessage());\r\n                log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\r\n            }\r\n            // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\r\n            return jsonObject.toString();\r\n        }\r\n\r\nSo I added this `int nullCounter = 0;` a null counter that resets every time it iterates thru my 4 columns and goes for the next row. Everytime my condition is true and the cell values are empty or null I increase that counter then `continue;`.\r\n\r\n    if (cell == null || isBlankCell || isEmptyStringCell) {\r\n        nullCounter++;\r\n        //si celda esta vacia, continuar con la iteracion\r\n        continue;\r\n    } \r\nThe max number that counter can reach before it resets its 4, if it reaches 4 then that means that all 4 columns in that row were null or empty so instead of just adding the data to my arrayList I make another condition and check if that counter equals 4. If the condition is true then ignores the data and continues iterating, else, add the data to my arrayList `arrayList.add(dto);`\r\n\r\n\r\n    if(nullCounter==4){\r\n         //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\r\n    } else {\r\n         dto.setRow(rowCount);\r\n         arrayList.add(dto);\r\n    }\r\n    rowCount++;\r\n\r\nand That finally solved the problem","title":"Check if cell value is empty or null with Apache POI?","body":"<p>Fixed my issue, posting the answer in case it helps someone else. I noticed that my condition was ok and that it went inside my if statement but after the continue it kept saving null values in my <code>arrayList</code></p>\n<pre><code>/*-------------IMPORT Rutas----------*/\n    public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;error&quot;, &quot;&quot;);\n        ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\n        try {\n            XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\n            XSSFSheet sheet = workbook.getSheetAt(0);\n            DataFormatter formater = new DataFormatter();\n            int rowCount = 1;\n            RutasImportDto dto;\n\n            for (Row row : sheet) {\n                dto = new RutasImportDto();\n                if (rowCount &lt; 4) {\n                    rowCount++;\n                    continue;\n                }\n                if (rowCount == 4) {\n                    Cell cell = row.getCell(0);\n                    if (cell == null) {\n                        continue;\n                    }\n                    if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;Nº DE PLANTA&quot;)) {\n                        // si la el encabezado interpreta que está en la fila 4\n                        // aumentamos el rowCount para ajustar los números de filas\n                        rowCount++;\n                        continue;// for Row...\n                    }\n\n                }\n                int nullCounter = 0;//se inicializa null counter\n                for (int i = 0; i &lt; 4; i++) {\n                    //obtener valor de celda y variables para validar si vienen con datos vacios\n                    Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                    boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\n                    boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \n                    \n                    //si viene vacio, aumentar contador y pasar a sgte celda\n                    if (cell == null || isBlankCell || isEmptyStringCell) {\n                        nullCounter++;\n                        //si celda esta vacia, continuar con la iteracion\n                        continue;\n                    } \n                    //si no, guardar datos para luego almacenar en arraylist\n                    switch (i) {\n                        case 0:\n                            dto.setPlantNumber(formater.formatCellValue(cell));\n                        break;\n                        case 1:\n                            dto.setUserId(formater.formatCellValue(cell));\n                        break;\n                        case 2:\n                            dto.setStartDay(formater.formatCellValue(cell));\n                        break;\n                        case 3:\n                            dto.setHour(formater.formatCellValue(cell));\n                        break;\n                        default:\n                        break;\n                    }\n                    \n                }\n                //si las 4 columnas de la fila son null, no guardar datos en arraylist\n                if(nullCounter==4){\n                    //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\n                } else {\n                    dto.setRow(rowCount);\n                    arrayList.add(dto);\n                }\n                rowCount++;\n            }\n            jsonObject = persistImportRutas(arrayList, loggedUserId);\n            // log.info(&quot;***** arrayList &quot;+ arrayList);\n        } catch (Throwable th) {\n            jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\n            log.error(&quot;processImportRutas : &quot; + th.getMessage());\n            log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\n        }\n        // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\n        return jsonObject.toString();\n    }\n</code></pre>\n<p>So I added this <code>int nullCounter = 0;</code> a null counter that resets every time it iterates thru my 4 columns and goes for the next row. Everytime my condition is true and the cell values are empty or null I increase that counter then <code>continue;</code>.</p>\n<pre><code>if (cell == null || isBlankCell || isEmptyStringCell) {\n    nullCounter++;\n    //si celda esta vacia, continuar con la iteracion\n    continue;\n} \n</code></pre>\n<p>The max number that counter can reach before it resets its 4, if it reaches 4 then that means that all 4 columns in that row were null or empty so instead of just adding the data to my arrayList I make another condition and check if that counter equals 4. If the condition is true then ignores the data and continues iterating, else, add the data to my arrayList <code>arrayList.add(dto);</code></p>\n<pre><code>if(nullCounter==4){\n     //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\n} else {\n     dto.setRow(rowCount);\n     arrayList.add(dto);\n}\nrowCount++;\n</code></pre>\n<p>and That finally solved the problem</p>\n"},{"tags":[],"owner":{"display_name":"user21538194"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680285128,"creation_date":1680285128,"answer_id":75901387,"question_id":75806145,"body_markdown":"Make a counter, increase inside condition. Then if counter is 4 do nothing else save data in array\r\n```\r\nif(nullCounter==4){\r\n     //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\r\n} else {\r\n     dto.setRow(rowCount);\r\n     arrayList.add(dto);\r\n}\r\nrowCount++;\r\n```\r\n\r\n","title":"Check if cell value is empty or null with Apache POI?","body":"<p>Make a counter, increase inside condition. Then if counter is 4 do nothing else save data in array</p>\n<pre><code>if(nullCounter==4){\n     //log.info(&quot;fila completamente vacia no se agregan datos a arrayList en fila: {}&quot;, rowCount);\n} else {\n     dto.setRow(rowCount);\n     arrayList.add(dto);\n}\nrowCount++;\n</code></pre>\n"}],"owner":{"account_id":19522308,"reputation":1726,"user_id":14283885,"display_name":"Chris G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901387,"answer_count":2,"score":0,"last_activity_date":1680285128,"creation_date":1679431140,"question_id":75806145,"body_markdown":"I have the following method in java\r\n\r\n    /*-------------IMPORT Rutas----------*/\r\n        public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\r\n            JSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;error&quot;, &quot;&quot;);\r\n            ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\r\n            try {\r\n                XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\r\n                XSSFSheet sheet = workbook.getSheetAt(0);\r\n                DataFormatter formater = new DataFormatter();\r\n                int rowCount = 1;\r\n                RutasImportDto dto;\r\n    \r\n                for (Row row : sheet) {\r\n                    dto = new RutasImportDto();\r\n                    if (rowCount &lt; 4) {\r\n                        rowCount++;\r\n                        continue;\r\n                    }\r\n                    if (rowCount == 4) {\r\n                        Cell cell = row.getCell(0);\r\n                        if (cell == null) {\r\n                            continue;\r\n                        }\r\n                        if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;N&#186; DE PLANTA&quot;)) {\r\n                            // si la el encabezado interpreta que est&#225; en la fila 4\r\n                            // aumentamos el rowCount para ajustar los n&#250;meros de filas\r\n                            rowCount++;\r\n                            continue;// for Row...\r\n                        }\r\n    \r\n                    }\r\n                    for (int i = 0; i &lt; 4; i++) {\r\n                        Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n                        boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\r\n                        boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \r\n                        //condition is ignored\r\n                        if (cell == null || isBlankCell || isEmptyStringCell) {\r\n                            continue;\r\n                        }\r\n    \r\n                        //log.info(&quot;celda valor: {}&quot;,cell);\r\n                        // if (cell == null || cell.getCellTypeEnum() == CellType.BLANK) {\r\n                        //     continue;\r\n                        // }\r\n                        switch (i) {\r\n                            case 0:\r\n                                dto.setPlantNumber(formater.formatCellValue(cell));\r\n                                break;\r\n                            case 1:\r\n                                dto.setUserId(formater.formatCellValue(cell));\r\n                                break;\r\n                            case 2:\r\n                                dto.setStartDay(formater.formatCellValue(cell));\r\n                                break;\r\n                            case 3:\r\n                                dto.setHour(formater.formatCellValue(cell));\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    }\r\n                    dto.setRow(rowCount);\r\n                    arrayList.add(dto);\r\n                    rowCount++;\r\n                }\r\n                jsonObject = persistImportRutas(arrayList, loggedUserId);\r\n                // log.info(&quot;***** arrayList &quot;+ arrayList);\r\n            } catch (Throwable th) {\r\n                jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\r\n                log.error(&quot;processImportRutas : &quot; + th.getMessage());\r\n                log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\r\n            }\r\n            // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\r\n            return jsonObject.toString();\r\n        }\r\n\r\nMy code reads 4 columns \r\n\r\n`1-` plantnumber \r\n\r\n`2-` userId\r\n\r\n`3-` startDay\r\n\r\n`4-` Hour\r\n\r\nIf all 4 columns are empty the code should ignore the row and read the next one, if they have value then it should store values in an `ArrayList` for further validations/instructions.\r\n\r\nI&#39;m trying to make it so that when I upload my excel file, it ignores rows that are empty or null and continue with the loop but it completely ignores my condition and returns a bunch of errors messages\r\n\r\nI followed the answers from [this](https://stackoverflow.com/questions/15764417/how-to-check-if-an-excel-cell-is-empty-using-apache-poi) other question but nothing in there seems to work for me \r\n\r\n    Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n    boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\r\n    boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \r\n    //condition is ignored\r\n    if (cell == null || isBlankCell || isEmptyStringCell) {\r\n       continue;\r\n    }\r\n\r\nIn this method `persistImportRutas` is where I make other validations with the data I got from the cells and return error msgs if data is null/empty or not valid and insert in my DB the ones that are valid but the problem is that my code is not ignoring the rows that are empty or null and it tries to validate the cell values and returns error cuz of it. My Apache POI version is `3.17`","title":"Check if cell value is empty or null with Apache POI?","body":"<p>I have the following method in java</p>\n<pre><code>/*-------------IMPORT Rutas----------*/\n    public String processImportRutas(MultipartFile fileDocument, long loggedUserId) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;error&quot;, &quot;&quot;);\n        ArrayList&lt;RutasImportDto&gt; arrayList = new ArrayList&lt;&gt;();\n        try {\n            XSSFWorkbook workbook = new XSSFWorkbook(fileDocument.getInputStream());\n            XSSFSheet sheet = workbook.getSheetAt(0);\n            DataFormatter formater = new DataFormatter();\n            int rowCount = 1;\n            RutasImportDto dto;\n\n            for (Row row : sheet) {\n                dto = new RutasImportDto();\n                if (rowCount &lt; 4) {\n                    rowCount++;\n                    continue;\n                }\n                if (rowCount == 4) {\n                    Cell cell = row.getCell(0);\n                    if (cell == null) {\n                        continue;\n                    }\n                    if (formater.formatCellValue(cell).equalsIgnoreCase(&quot;Nº DE PLANTA&quot;)) {\n                        // si la el encabezado interpreta que está en la fila 4\n                        // aumentamos el rowCount para ajustar los números de filas\n                        rowCount++;\n                        continue;// for Row...\n                    }\n\n                }\n                for (int i = 0; i &lt; 4; i++) {\n                    Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                    boolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\n                    boolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \n                    //condition is ignored\n                    if (cell == null || isBlankCell || isEmptyStringCell) {\n                        continue;\n                    }\n\n                    //log.info(&quot;celda valor: {}&quot;,cell);\n                    // if (cell == null || cell.getCellTypeEnum() == CellType.BLANK) {\n                    //     continue;\n                    // }\n                    switch (i) {\n                        case 0:\n                            dto.setPlantNumber(formater.formatCellValue(cell));\n                            break;\n                        case 1:\n                            dto.setUserId(formater.formatCellValue(cell));\n                            break;\n                        case 2:\n                            dto.setStartDay(formater.formatCellValue(cell));\n                            break;\n                        case 3:\n                            dto.setHour(formater.formatCellValue(cell));\n                            break;\n                        default:\n                            break;\n                    }\n                }\n                dto.setRow(rowCount);\n                arrayList.add(dto);\n                rowCount++;\n            }\n            jsonObject = persistImportRutas(arrayList, loggedUserId);\n            // log.info(&quot;***** arrayList &quot;+ arrayList);\n        } catch (Throwable th) {\n            jsonObject.put(&quot;error&quot;, th.getMessage()).toString();\n            log.error(&quot;processImportRutas : &quot; + th.getMessage());\n            log.debug(&quot;processImportRutas : &quot; + th.getMessage(), th);\n        }\n        // log.info(&quot;***** jsonObject.toString &quot;+ jsonObject.toString());\n        return jsonObject.toString();\n    }\n</code></pre>\n<p>My code reads 4 columns</p>\n<p><code>1-</code> plantnumber</p>\n<p><code>2-</code> userId</p>\n<p><code>3-</code> startDay</p>\n<p><code>4-</code> Hour</p>\n<p>If all 4 columns are empty the code should ignore the row and read the next one, if they have value then it should store values in an <code>ArrayList</code> for further validations/instructions.</p>\n<p>I'm trying to make it so that when I upload my excel file, it ignores rows that are empty or null and continue with the loop but it completely ignores my condition and returns a bunch of errors messages</p>\n<p>I followed the answers from <a href=\"https://stackoverflow.com/questions/15764417/how-to-check-if-an-excel-cell-is-empty-using-apache-poi\">this</a> other question but nothing in there seems to work for me</p>\n<pre><code>Cell cell = row.getCell(i, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\nboolean isBlankCell = CellType.BLANK == cell.getCellTypeEnum();\nboolean isEmptyStringCell = CellType.STRING == cell.getCellTypeEnum() &amp;&amp; cell.getStringCellValue().trim().isEmpty(); \n//condition is ignored\nif (cell == null || isBlankCell || isEmptyStringCell) {\n   continue;\n}\n</code></pre>\n<p>In this method <code>persistImportRutas</code> is where I make other validations with the data I got from the cells and return error msgs if data is null/empty or not valid and insert in my DB the ones that are valid but the problem is that my code is not ignoring the rows that are empty or null and it tries to validate the cell values and returns error cuz of it. My Apache POI version is <code>3.17</code></p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679746563,"post_id":75839515,"comment_id":133778137,"body_markdown":"&quot;because the boolean will always be true if the user is in the audio channel.&quot; isn&#39;t that exactly what you want?","body":"&quot;because the boolean will always be true if the user is in the audio channel.&quot; isn&#39;t that exactly what you want?"},{"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"score":0,"creation_date":1679749753,"post_id":75839515,"comment_id":133778574,"body_markdown":"I wanted to get the voice state from the bot, if the bot is already in a channel, it must not join any other one. When i use if (voiceState.inAudioChannel()), the bot won&#39;t join because the boolean is related to the user, not the bot itself","body":"I wanted to get the voice state from the bot, if the bot is already in a channel, it must not join any other one. When i use if (voiceState.inAudioChannel()), the bot won&#39;t join because the boolean is related to the user, not the bot itself"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679751642,"post_id":75839515,"comment_id":133778831,"body_markdown":"That&#39;s weird because it gets the voice state from the self `Member` which is guild scoped.","body":"That&#39;s weird because it gets the voice state from the self <code>Member</code> which is guild scoped."}],"answers":[{"tags":[],"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680284694,"creation_date":1680284694,"answer_id":75901340,"question_id":75839515,"body_markdown":"I managed to do it by creating a flag &quot;joined&quot; and a counter.\r\n\r\n```\r\n    private static boolean joined;\r\n    private static int counter;\r\n\r\npublic static void joinVoiceChannel(TextChannel channel, GuildVoiceState voiceState, Guild guild) {\r\n if (voiceState.inAudioChannel()) {\r\n\r\n            net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\r\n            audioManager.openAudioConnection(audioChannel);\r\n            channel.sendMessage(&quot;Joining voice channel: &quot; + audioChannel.getName()).queue();\r\n            joined = true;\r\n            counter += 1 ;\r\n        }\r\n\r\n        if (joined &amp; counter == 2) {\r\n            channel.sendMessage(&quot;I&#39;m already in the voice channel&quot;).queue();\r\n            counter = 0;\r\n        }\r\n    }\r\n```\r\n\r\nBasically, when Join command is triggered, the flag turns true and counter receives 1. If triggered again, the counter will become 2, the bot won&#39;t join and then reset both the flag and the counter.","title":"Can&#39;t make my discord bot check if it&#39;s already in a voice channel","body":"<p>I managed to do it by creating a flag &quot;joined&quot; and a counter.</p>\n<pre><code>    private static boolean joined;\n    private static int counter;\n\npublic static void joinVoiceChannel(TextChannel channel, GuildVoiceState voiceState, Guild guild) {\n if (voiceState.inAudioChannel()) {\n\n            net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\n            audioManager.openAudioConnection(audioChannel);\n            channel.sendMessage(&quot;Joining voice channel: &quot; + audioChannel.getName()).queue();\n            joined = true;\n            counter += 1 ;\n        }\n\n        if (joined &amp; counter == 2) {\n            channel.sendMessage(&quot;I'm already in the voice channel&quot;).queue();\n            counter = 0;\n        }\n    }\n</code></pre>\n<p>Basically, when Join command is triggered, the flag turns true and counter receives 1. If triggered again, the counter will become 2, the bot won't join and then reset both the flag and the counter.</p>\n"}],"owner":{"account_id":25110546,"reputation":25,"user_id":18960242,"display_name":"Yago Andrade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75901340,"answer_count":1,"score":0,"last_activity_date":1680284694,"creation_date":1679715018,"question_id":75839515,"body_markdown":"I&#39;m coding a Discord Bot using JDA and i&#39;m coding some audio stuff. I&#39;ve already written all necessary classes regarding audio setups and commands. I have a play, join, skip and leave commands that work just fine, but I can&#39;t seem to figure out a way to make the bot check if it&#39;s already connected to a voice channel in the join method, i.e. when i first use the join command, it joins, but in the second try (even if the bot has already joined) it will say the same thing.\r\n\r\n\r\n```\r\n public static void joinVoiceChannel(TextChannel channel, Guild guild) {\r\n        GuildVoiceState voiceState = guild.getSelfMember().getVoiceState();\r\n\r\n        if (!voiceState.inAudioChannel()) {\r\n            channel.sendMessage(&quot;You must be in a voice channel to use this command.&quot;).queue();\r\n            return;\r\n        }\r\n\r\n        AudioChannel audioChannel = voiceState.getChannel();\r\n\r\n        if (audioChannel == null) {\r\n            channel.sendMessage(&quot;Failed to join voice channel.&quot;).queue();\r\n            return;\r\n        }\r\n\r\n        net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\r\n        audioManager.openAudioConnection(audioChannel);\r\n        channel.sendMessage(&quot;Joined voice channel: &quot; + audioChannel.getName()).queue();\r\n    }\r\n```\r\n\r\n\r\n\r\nI&#39;ve elaborated my thoughts around something like:  \r\n```\r\nif (voiceState.inAudioChannel()) {\r\n        channel.sendMessage(&quot;I&#39;m already in a voice channel!&quot;).queue();\r\n        return;\r\n```\r\nbut it just doesn&#39;t make any sense, because the boolean will always be true if the user is in the audio channel.","title":"Can&#39;t make my discord bot check if it&#39;s already in a voice channel","body":"<p>I'm coding a Discord Bot using JDA and i'm coding some audio stuff. I've already written all necessary classes regarding audio setups and commands. I have a play, join, skip and leave commands that work just fine, but I can't seem to figure out a way to make the bot check if it's already connected to a voice channel in the join method, i.e. when i first use the join command, it joins, but in the second try (even if the bot has already joined) it will say the same thing.</p>\n<pre><code> public static void joinVoiceChannel(TextChannel channel, Guild guild) {\n        GuildVoiceState voiceState = guild.getSelfMember().getVoiceState();\n\n        if (!voiceState.inAudioChannel()) {\n            channel.sendMessage(&quot;You must be in a voice channel to use this command.&quot;).queue();\n            return;\n        }\n\n        AudioChannel audioChannel = voiceState.getChannel();\n\n        if (audioChannel == null) {\n            channel.sendMessage(&quot;Failed to join voice channel.&quot;).queue();\n            return;\n        }\n\n        net.dv8tion.jda.api.managers.AudioManager audioManager = guild.getAudioManager();\n        audioManager.openAudioConnection(audioChannel);\n        channel.sendMessage(&quot;Joined voice channel: &quot; + audioChannel.getName()).queue();\n    }\n</code></pre>\n<p>I've elaborated my thoughts around something like:</p>\n<pre><code>if (voiceState.inAudioChannel()) {\n        channel.sendMessage(&quot;I'm already in a voice channel!&quot;).queue();\n        return;\n</code></pre>\n<p>but it just doesn't make any sense, because the boolean will always be true if the user is in the audio channel.</p>\n"},{"tags":["java","github-actions"],"comments":[{"owner":{"account_id":3959308,"reputation":47345,"user_id":3266847,"accept_rate":100,"display_name":"Benjamin W."},"score":2,"creation_date":1680291484,"post_id":75901304,"comment_id":133879516,"body_markdown":"&quot;Environment secrets&quot; doesn&#39;t mean &quot;these secrets are set in the environment&quot;, it&#39;s &quot;[these secrets are only available in workflow jobs that reference this specific environment](https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment#environment-secrets)&quot;. You have to reference them in any case using the [`secrets` context](https://docs.github.com/en/actions/learn-github-actions/contexts#secrets-context), for example via `${{ secrets.TEST_PASSWORD }}`. For more specific advice, you have to show the relevant part of your workflow file.","body":"&quot;Environment secrets&quot; doesn&#39;t mean &quot;these secrets are set in the environment&quot;, it&#39;s &quot;<a href=\"https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment#environment-secrets\" rel=\"nofollow noreferrer\">these secrets are only available in workflow jobs that reference this specific environment</a>&quot;. You have to reference them in any case using the <a href=\"https://docs.github.com/en/actions/learn-github-actions/contexts#secrets-context\" rel=\"nofollow noreferrer\"><code>secrets</code> context</a>, for example via <code>${{ secrets.TEST_PASSWORD }}</code>. For more specific advice, you have to show the relevant part of your workflow file."},{"owner":{"account_id":4845455,"reputation":3888,"user_id":3909198,"accept_rate":86,"display_name":"inquisitive"},"score":0,"creation_date":1687789084,"post_id":75901304,"comment_id":134981861,"body_markdown":"If I want to access these values in code? eg - I want to access GITHUB_RUN_ATTEMPT and GITHUB_RUN_ID inside code where I use this to create a unique queue name along with uuid @BenjaminW.","body":"If I want to access these values in code? eg - I want to access GITHUB_RUN_ATTEMPT and GITHUB_RUN_ID inside code where I use this to create a unique queue name along with uuid @BenjaminW."},{"owner":{"account_id":3959308,"reputation":47345,"user_id":3266847,"accept_rate":100,"display_name":"Benjamin W."},"score":0,"creation_date":1687790114,"post_id":75901304,"comment_id":134982100,"body_markdown":"Those *are* environment variables, and they&#39;re accessible as `$GITHUB_RUN_ATTEMPT` and `$GITHUB_RUN_ID`, or in the `github` context as `${{ github.run_id }}` and `${{ github.run_attempt }}`. That&#39;s different from accessing secrets.","body":"Those <i>are</i> environment variables, and they&#39;re accessible as <code>$GITHUB_RUN_ATTEMPT</code> and <code>$GITHUB_RUN_ID</code>, or in the <code>github</code> context as <code>${{ github.run_id }}</code> and <code>${{ github.run_attempt }}</code>. That&#39;s different from accessing secrets."}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680284400,"creation_date":1680284400,"question_id":75901304,"body_markdown":"## Introduction\r\n\r\nCurrently, I&#39;m trying to develop a project that connects to a website.\r\nThis project uses Java with Playwright.\r\n\r\nAnd I store the login and password in the environment variable.\r\n\r\nThese credentials are used to execute the tests of the project.\r\n\r\nTo store these variable to GitHub Action I used this:\r\n\r\n[![Environement variable of the GitHub repositry][1]][1]\r\n\r\n## Problem\r\n\r\nWhen I execute the tests locally I don&#39;t have any problem, but when I execute the tests in GitHub Actions they didn&#39;t have any variable environment.\r\n\r\n## Question\r\n\r\nDoes someone know how we can use [`System::getenv`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)) with GitHub Action ?\r\n\r\n  [1]: https://i.stack.imgur.com/qRCDq.png","title":"Access env variable with Java and Github Action","body":"<h2>Introduction</h2>\n<p>Currently, I'm trying to develop a project that connects to a website.\nThis project uses Java with Playwright.</p>\n<p>And I store the login and password in the environment variable.</p>\n<p>These credentials are used to execute the tests of the project.</p>\n<p>To store these variable to GitHub Action I used this:</p>\n<p><a href=\"https://i.stack.imgur.com/qRCDq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qRCDq.png\" alt=\"Environement variable of the GitHub repositry\" /></a></p>\n<h2>Problem</h2>\n<p>When I execute the tests locally I don't have any problem, but when I execute the tests in GitHub Actions they didn't have any variable environment.</p>\n<h2>Question</h2>\n<p>Does someone know how we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)\" rel=\"nofollow noreferrer\"><code>System::getenv</code></a> with GitHub Action ?</p>\n"},{"tags":["java","log4j2"],"owner":{"account_id":27695027,"reputation":1,"user_id":21140936,"display_name":"Spring Boot Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680283667,"creation_date":1680283605,"question_id":75901208,"body_markdown":"I have two ear file and inside it we have multiple jars. Both ear contains utility.jar which have MyLogger1 class which have log4j2.properties file which writes to file logfile1\r\n\r\n- ear1 logging using MyLogger1, all logs printed in logfile1\r\n- for ear2 we are logging using MyLogger1 from utility.jar as well as own CustomLogger class which have properties file bikelog4j2 which writes to logfile2\r\n\r\nI want ear2 logs inside particular file specified in bikelog4j2.properties. Its working as expected when we have below configuration in normal method but not working when we have below configuration inside static block.\r\n\r\nwith static block some logs from ear2 printed inside logfile2 and some printed in logfile1\r\n\r\n\r\n```\r\n{\r\nProperties properties = new Properties();\r\nResourceBundle labels = ResourceBundle.getBundle(&quot;log4j2&quot;);//bikelog4j2 for CustomLogger class\r\nEnumeration keys = labels.getKeys();\r\nwhile (keys.hasMoreElements()) {\r\n\tString key = (String) keys.nextElement();\r\n\tString value = (String) labels.getObject(key);\r\n\tproperties.setProperty(key, value);\r\n}\r\n\r\ncontext = (LoggerContext) LogManager.getContext(false);\r\nconfig = new PropertiesConfigurationBuilder().setConfigurationSource(ConfigurationSource.NULL_SOURCE).setRootProperties(properties).setLoggerContext(context).build();\r\ncontext.setConfiguration(config);\r\nConfigurator.initialize(config);\r\n}\r\n```\r\n","title":"How to print logs in one file under log4j2 with static initialization block?","body":"<p>I have two ear file and inside it we have multiple jars. Both ear contains utility.jar which have MyLogger1 class which have log4j2.properties file which writes to file logfile1</p>\n<ul>\n<li>ear1 logging using MyLogger1, all logs printed in logfile1</li>\n<li>for ear2 we are logging using MyLogger1 from utility.jar as well as own CustomLogger class which have properties file bikelog4j2 which writes to logfile2</li>\n</ul>\n<p>I want ear2 logs inside particular file specified in bikelog4j2.properties. Its working as expected when we have below configuration in normal method but not working when we have below configuration inside static block.</p>\n<p>with static block some logs from ear2 printed inside logfile2 and some printed in logfile1</p>\n<pre><code>{\nProperties properties = new Properties();\nResourceBundle labels = ResourceBundle.getBundle(&quot;log4j2&quot;);//bikelog4j2 for CustomLogger class\nEnumeration keys = labels.getKeys();\nwhile (keys.hasMoreElements()) {\n    String key = (String) keys.nextElement();\n    String value = (String) labels.getObject(key);\n    properties.setProperty(key, value);\n}\n\ncontext = (LoggerContext) LogManager.getContext(false);\nconfig = new PropertiesConfigurationBuilder().setConfigurationSource(ConfigurationSource.NULL_SOURCE).setRootProperties(properties).setLoggerContext(context).build();\ncontext.setConfiguration(config);\nConfigurator.initialize(config);\n}\n</code></pre>\n"},{"tags":["java","mongodb","list","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7480007,"reputation":11,"user_id":5685043,"display_name":"Himanshu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680283565,"creation_date":1680283565,"answer_id":75901200,"question_id":75901103,"body_markdown":"It seems you are not saving player information like using playerRepository.save(). As you did for gameRepository.\r\n\r\n```\r\n@Override\r\n    public void saveGame(Game game, String playerId){\r\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\r\n        player.get().getGames().add(game);\r\n        playerRepository.save(player); // saving player information with new game data\r\n    }\r\n```","title":"Can&#39;t add Object to the List. SpringBoot. MongoDB","body":"<p>It seems you are not saving player information like using playerRepository.save(). As you did for gameRepository.</p>\n<pre><code>@Override\n    public void saveGame(Game game, String playerId){\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\n        player.get().getGames().add(game);\n        playerRepository.save(player); // saving player information with new game data\n    }\n</code></pre>\n"}],"owner":{"account_id":26273296,"reputation":1,"user_id":19942878,"display_name":"Anna kuzmina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680283565,"creation_date":1680282873,"question_id":75901103,"body_markdown":"I can&#39;t add anything to the list &#39;games&#39; and I don&#39;t understand why. Everything works well with MySQL but I can&#39;t save the object into List&lt;Game&gt; game with MongoDB. The &#39;game&#39; is successfully created and saved in the collection. Will appreciate any help. \r\nThank you!\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.annotation.Transient;\r\nimport org.springframework.data.mongodb.core.mapping.DBRef;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\n@Document(collection = &quot;player&quot;)\r\npublic class Player {\r\n    @Id\r\n    private String playerId;\r\n    private String name;\r\n    private LocalDate registerDate;\r\n    @Transient\r\n    Double rate;\r\n\r\n    @JsonIgnore\r\n    @DBRef\r\n    private List&lt;Game&gt; games = new ArrayList&lt;&gt;();\r\n\r\n    //{games = new ArrayList&lt;&gt;();}\r\n\r\n    public Player(String name) {\r\n        this.name = name;\r\n        this.registerDate = LocalDate.now();\r\n    }\r\n```\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.DBRef;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\n@Document(collection = &quot;game&quot;)\r\npublic class Game {\r\n    @Id\r\n    private String gameId;\r\n    private int dice1;\r\n    private int dice2;\r\n    @JsonIgnore\r\n    @DBRef(lazy=true)\r\n    private Player player;\r\n    private boolean win;\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.exceptions.HttpException;\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Game;\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Player;\r\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.repository.GameRepository;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class GameServiceImpl implements GameService{\r\n\r\n    private final GameRepository gameRepository;\r\n    private final PlayerService playerService;\r\n    private  final PlayGameServiceImpl playGameService;\r\n    @Override\r\n    public Game playGame(String playerId) {\r\n        if(playerService.getAllPlayers().isEmpty()){\r\n            throw new HttpException(HttpStatus.INSUFFICIENT_STORAGE,&quot;There is no registered player&quot;);\r\n        }\r\n        Player player = playerService.findPlayerById(playerId);\r\n        if(player==null){\r\n            throw new HttpException(HttpStatus.NOT_FOUND,&quot;Player with this id is not found&quot;);\r\n        }\r\n\r\n        Game gamePlayed = playGameService.play();\r\n        gamePlayed.setPlayer(player);\r\n        player.calculateRate();\r\n        playerService.saveGame(gamePlayed,playerId);\r\n        return gameRepository.save(gamePlayed);\r\n    }\r\n```\r\nImplementation of method play in playGameService:\r\n\r\n```\r\n@Override\r\n    public Game play() {\r\n        int dice1 = getRandomNum();\r\n        int  dice2 = getRandomNum();\r\n        return Game.builder().dice1(dice1).dice2(dice2).win(getWin(dice1,dice2)).build();\r\n    }\r\n```\r\n\r\nPlayerServiceImpl:\r\n```\r\n    @Override\r\n    public void saveGame(Game game, String playerId){\r\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\r\n        player.get().getGames().add(game);\r\n    }\r\n```\r\nControllers:\r\n\r\n```\r\n    @PostMapping(&quot;/{id}/games&quot;)\r\n    public ResponseEntity&lt;?&gt; playGame(@PathVariable String id) {\r\n\r\n        Game gameToSave;\r\n        try {\r\n            gameToSave = gameService.playGame(id);\r\n        } catch (HttpException ex) {\r\n            return ResponseEntity.status(ex.getStatus()).body(ex.getMessage());\r\n        }\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(gameToSave);\r\n\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nThank you for your time","title":"Can&#39;t add Object to the List. SpringBoot. MongoDB","body":"<p>I can't add anything to the list 'games' and I don't understand why. Everything works well with MySQL but I can't save the object into List game with MongoDB. The 'game' is successfully created and saved in the collection. Will appreciate any help.\nThank you!</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.annotation.Transient;\nimport org.springframework.data.mongodb.core.mapping.DBRef;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Document(collection = &quot;player&quot;)\npublic class Player {\n    @Id\n    private String playerId;\n    private String name;\n    private LocalDate registerDate;\n    @Transient\n    Double rate;\n\n    @JsonIgnore\n    @DBRef\n    private List&lt;Game&gt; games = new ArrayList&lt;&gt;();\n\n    //{games = new ArrayList&lt;&gt;();}\n\n    public Player(String name) {\n        this.name = name;\n        this.registerDate = LocalDate.now();\n    }\n</code></pre>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.DBRef;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\n@Document(collection = &quot;game&quot;)\npublic class Game {\n    @Id\n    private String gameId;\n    private int dice1;\n    private int dice2;\n    @JsonIgnore\n    @DBRef(lazy=true)\n    private Player player;\n    private boolean win;\n\n}\n</code></pre>\n<pre><code>\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.exceptions.HttpException;\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Game;\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.domain.Player;\nimport cat.itacademy.barcelonactiva.kuzmina.ganna.s05.t02.n01.DiceGameS05T02N01MySQL.model.repository.GameRepository;\nimport lombok.AllArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n\n@Service\n@AllArgsConstructor\npublic class GameServiceImpl implements GameService{\n\n    private final GameRepository gameRepository;\n    private final PlayerService playerService;\n    private  final PlayGameServiceImpl playGameService;\n    @Override\n    public Game playGame(String playerId) {\n        if(playerService.getAllPlayers().isEmpty()){\n            throw new HttpException(HttpStatus.INSUFFICIENT_STORAGE,&quot;There is no registered player&quot;);\n        }\n        Player player = playerService.findPlayerById(playerId);\n        if(player==null){\n            throw new HttpException(HttpStatus.NOT_FOUND,&quot;Player with this id is not found&quot;);\n        }\n\n        Game gamePlayed = playGameService.play();\n        gamePlayed.setPlayer(player);\n        player.calculateRate();\n        playerService.saveGame(gamePlayed,playerId);\n        return gameRepository.save(gamePlayed);\n    }\n</code></pre>\n<p>Implementation of method play in playGameService:</p>\n<pre><code>@Override\n    public Game play() {\n        int dice1 = getRandomNum();\n        int  dice2 = getRandomNum();\n        return Game.builder().dice1(dice1).dice2(dice2).win(getWin(dice1,dice2)).build();\n    }\n</code></pre>\n<p>PlayerServiceImpl:</p>\n<pre><code>    @Override\n    public void saveGame(Game game, String playerId){\n        Optional&lt;Player&gt; player = playerRepository.findById(playerId);\n        player.get().getGames().add(game);\n    }\n</code></pre>\n<p>Controllers:</p>\n<pre><code>    @PostMapping(&quot;/{id}/games&quot;)\n    public ResponseEntity&lt;?&gt; playGame(@PathVariable String id) {\n\n        Game gameToSave;\n        try {\n            gameToSave = gameService.playGame(id);\n        } catch (HttpException ex) {\n            return ResponseEntity.status(ex.getStatus()).body(ex.getMessage());\n        }\n            return ResponseEntity.status(HttpStatus.CREATED).body(gameToSave);\n\n    }\n</code></pre>\n<p>Thank you for your time</p>\n"},{"tags":["java","android","uri"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500457438,"post_id":45186747,"comment_id":77340917,"body_markdown":"what do you need real path for?","body":"what do you need real path for?"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500457603,"post_id":45186747,"comment_id":77341036,"body_markdown":"Ability to copy to a new path or delete file.","body":"Ability to copy to a new path or delete file."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500457711,"post_id":45186747,"comment_id":77341119,"body_markdown":"then see `ContentResolver#openInputStream` and `ContentResolver#delete`","body":"then see <code>ContentResolver#openInputStream</code> and <code>ContentResolver#delete</code>"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500458092,"post_id":45186747,"comment_id":77341393,"body_markdown":"Yes, it&#39;s possible, thanks.","body":"Yes, it&#39;s possible, thanks."},{"owner":{"account_id":6850340,"reputation":6801,"user_id":6021469,"accept_rate":29,"display_name":"Shweta Chauhan"},"score":0,"creation_date":1500458264,"post_id":45186747,"comment_id":77341531,"body_markdown":"Check this may help you: https://thenewboston.com/forum/topic.php?id=12045","body":"Check this may help you: <a href=\"https://thenewboston.com/forum/topic.php?id=12045\" rel=\"nofollow noreferrer\">thenewboston.com/forum/topic.php?id=12045</a>"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500458813,"post_id":45186747,"comment_id":77341924,"body_markdown":"no @shweta it will not help","body":"no @shweta it will not help"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500923123,"post_id":45186747,"comment_id":77538771,"body_markdown":"@pskink Deleting doesn&#39;t work for Chrome URI: permission denied. MediaStore URI deleted without problems.","body":"@pskink Deleting doesn&#39;t work for Chrome URI: permission denied. MediaStore URI deleted without problems."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500923577,"post_id":45186747,"comment_id":77539002,"body_markdown":"what does it return?","body":"what does it return?"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500970564,"post_id":45186747,"comment_id":77556734,"body_markdown":"@pskink Nothing, only `java.lang.SecurityException: Permission Denial: writing org.chromium.chrome.browser.util.ChromeFileProvider uri content://com.chrome.dev.FileProvider/downloads/%5BTorrent-Soft.Net%5D_KEYS.torrent from pid=2406, uid=10063 requires the provider be exported, or grantUriPermission()`. Even if I request rights with `grantUriPermission()` it gives an error that the rights cannot be granted.","body":"@pskink Nothing, only <code>java.lang.SecurityException: Permission Denial: writing org.chromium.chrome.browser.util.ChromeFileProvider uri content:&#47;&#47;com.chrome.dev.FileProvider&#47;downloads&#47;%5BTorrent-S&zwnj;&#8203;oft.Net%5D_KEYS.torr&zwnj;&#8203;ent from pid=2406, uid=10063 requires the provider be exported, or grantUriPermission()</code>. Even if I request rights with <code>grantUriPermission()</code> it gives an error that the rights cannot be granted."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500971675,"post_id":45186747,"comment_id":77557436,"body_markdown":"post your code then","body":"post your code then"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500973708,"post_id":45186747,"comment_id":77558913,"body_markdown":"@pskink `activity.getContentResolver().delete(uri, null, null);`","body":"@pskink <code>activity.getContentResolver().delete(uri, null, null);</code>"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500973739,"post_id":45186747,"comment_id":77558931,"body_markdown":"and permission request: `activity.grantUriPermission(activity.getPackageName(), uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION); int takeFlags = Intent.FLAG_GRANT_WRITE_URI_PERMISSION; activity.getContentResolver().takePersistableUriPermission(uri, takeFlags);`","body":"and permission request: <code>activity.grantUriPermission(activity.getPackageName(), uri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION); int takeFlags = Intent.FLAG_GRANT_WRITE_URI_PERMISSION; activity.getContentResolver().takePersistableUriPermission(u&zwnj;&#8203;ri, takeFlags);</code>"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500974121,"post_id":45186747,"comment_id":77559219,"body_markdown":"you cannot `grantUriPermission` for yourself - it has to be done by a package that owns `com.chrome.dev.FileProvider` - imagine you have a folder with read only files and anybody can read it but only trusted people can change them - it is obvious that it is your responiblity to `grantChangePermission` for them","body":"you cannot <code>grantUriPermission</code> for yourself - it has to be done by a package that owns <code>com.chrome.dev.FileProvider</code> - imagine you have a folder with read only files and anybody can read it but only trusted people can change them - it is obvious that it is your responiblity to <code>grantChangePermission</code> for them"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500974314,"post_id":45186747,"comment_id":77559373,"body_markdown":"I cannot delete file until the content provider allows it to be deleted?","body":"I cannot delete file until the content provider allows it to be deleted?"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1500974560,"post_id":45186747,"comment_id":77559581,"body_markdown":"dont you think it makes sense? would it be better if anybody could delete anything? what would be any permissions for then?","body":"dont you think it makes sense? would it be better if anybody could delete anything? what would be any permissions for then?"},{"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"score":0,"creation_date":1500980683,"post_id":45186747,"comment_id":77564105,"body_markdown":"@pskink Yes, but situation arises that user of my app choose option to delete file after opening, but it can be deleted only if the path to the file is available, otherwise the file cannot be deleted. This behavior is very strange for user.","body":"@pskink Yes, but situation arises that user of my app choose option to delete file after opening, but it can be deleted only if the path to the file is available, otherwise the file cannot be deleted. This behavior is very strange for user."},{"owner":{"account_id":1744483,"reputation":876,"user_id":1594998,"accept_rate":43,"display_name":"Kostadin Georgiev"},"score":0,"creation_date":1603963919,"post_id":45186747,"comment_id":114203951,"body_markdown":"@proninyaroslav Did you find any solution to get the FilePath from Chrome URI, is it possible?","body":"@proninyaroslav Did you find any solution to get the FilePath from Chrome URI, is it possible?"}],"answers":[{"tags":[],"owner":{"account_id":5832041,"reputation":341,"user_id":4596212,"display_name":"Sonam Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500457552,"creation_date":1500457552,"answer_id":45186840,"question_id":45186747,"body_markdown":"Try this:\r\n\r\n    @TargetApi(19)\r\n     private static String generatePath(Uri uri,Context context){\r\n        String filePath = null;\r\n        if(DocumentsContract.isDocumentUri(context, uri)){\r\n            String wholeID = DocumentsContract.getDocumentId(uri);\r\n\r\n            String id = wholeID.split(&quot;:&quot;)[1];\r\n\r\n            String[] column = { MediaStore.Video.Media.DATA };\r\n            String sel = MediaStore.Video.Media._ID + &quot;=?&quot;;\r\n\r\n            Cursor cursor = context.getContentResolver().\r\n                    query(MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\r\n                            column, sel, new String[]{ id }, null);\r\n\r\n\r\n\r\n            int columnIndex = cursor.getColumnIndex(column[0]);\r\n\r\n            if (cursor.moveToFirst()) {\r\n                filePath = cursor.getString(columnIndex);\r\n            }\r\n\r\n            cursor.close();\r\n        }\r\n        return filePath;\r\n    }","title":"How to get real path from FileProvider URI?","body":"<p>Try this:</p>\n\n<pre><code>@TargetApi(19)\n private static String generatePath(Uri uri,Context context){\n    String filePath = null;\n    if(DocumentsContract.isDocumentUri(context, uri)){\n        String wholeID = DocumentsContract.getDocumentId(uri);\n\n        String id = wholeID.split(\":\")[1];\n\n        String[] column = { MediaStore.Video.Media.DATA };\n        String sel = MediaStore.Video.Media._ID + \"=?\";\n\n        Cursor cursor = context.getContentResolver().\n                query(MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\n                        column, sel, new String[]{ id }, null);\n\n\n\n        int columnIndex = cursor.getColumnIndex(column[0]);\n\n        if (cursor.moveToFirst()) {\n            filePath = cursor.getString(columnIndex);\n        }\n\n        cursor.close();\n    }\n    return filePath;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7362779,"reputation":1546,"user_id":5605517,"accept_rate":55,"display_name":"Esperanz0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500457700,"creation_date":1500457700,"answer_id":45186899,"question_id":45186747,"body_markdown":"I&#39;m using this for getting full path from selected file.\r\nMeybe it will help You\r\n\r\n        final Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;application/zip&quot;);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\r\n        if (intent.resolveActivity(getPackageManager()) != null) {\r\n            // file browser has been found on the device\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Select File Browser&quot;), SELECT_FILE_REQUEST_CODE);\r\n\r\n\r\n\r\n \r\n\r\n    @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            if (resultCode == RESULT_OK) {\r\n                if (requestCode == SELECT_FILE_REQUEST_CODE) {\r\n      \r\n                    final Uri uri = data.getData();\r\n      \r\n                    if (uri.getScheme().equals(&quot;file&quot;)) {\r\n                        // the direct path to the file has been returned\r\n                        final String path = uri.getPath();\r\n                        final File file = new File(path);\r\n                        mFilePath = path;\r\n    \r\n                        updateFileInfo(file.getName(), file.length(), mFileType);\r\n                    } else if (uri.getScheme().equals(&quot;content&quot;)) {\r\n                        // an Uri has been returned\r\n                        mFileStreamUri = uri;\r\n    \r\n                        final Bundle extras = data.getExtras();\r\n                        if (extras != null &amp;&amp; extras.containsKey(Intent.EXTRA_STREAM))\r\n                            mFileStreamUri = extras.getParcelable(Intent.EXTRA_STREAM);\r\n    \r\n                        // file name and size must be obtained from Content Provider\r\n                        final Bundle bundle = new Bundle();\r\n                        bundle.putParcelable(EXTRA_URI, uri);\r\n                        getLoaderManager().restartLoader(SELECT_FILE_REQ, bundle, this);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n     @Override\r\n        public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\r\n            final Uri uri = args.getParcelable(EXTRA_URI);\r\n    \r\n            return new CursorLoader(this, uri, null, null, null, null);\r\n        }\r\n    \r\n        @Override\r\n        public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\r\n            if (data != null &amp;&amp; data.moveToNext()) {\r\n                /*\r\n                 * Here we have to check the column indexes by name as we have requested for all. The order may be different.\r\n    \t\t\t */\r\n                final String fileName = data.getString(data.getColumnIndex(MediaStore.MediaColumns.DISPLAY_NAME)/* 0 DISPLAY_NAME */);\r\n                final int fileSize = data.getInt(data.getColumnIndex(MediaStore.MediaColumns.SIZE) /* 1 SIZE */);\r\n                String filePath = null;\r\n                final int dataIndex = data.getColumnIndex(MediaStore.MediaColumns.DATA);\r\n                if (dataIndex != -1)\r\n                    filePath = data.getString(dataIndex /* 2 DATA */);\r\n                if (!TextUtils.isEmpty(filePath))\r\n                    mFilePath = filePath;\r\n    \r\n                updateFileInfo(fileName, fileSize, mFileType);\r\n\r\n","title":"How to get real path from FileProvider URI?","body":"<p>I'm using this for getting full path from selected file.\nMeybe it will help You</p>\n\n<pre><code>    final Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(\"application/zip\");\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n\n    if (intent.resolveActivity(getPackageManager()) != null) {\n        // file browser has been found on the device\n        startActivityForResult(Intent.createChooser(intent, \"Select File Browser\"), SELECT_FILE_REQUEST_CODE);\n\n\n\n\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (resultCode == RESULT_OK) {\n            if (requestCode == SELECT_FILE_REQUEST_CODE) {\n\n                final Uri uri = data.getData();\n\n                if (uri.getScheme().equals(\"file\")) {\n                    // the direct path to the file has been returned\n                    final String path = uri.getPath();\n                    final File file = new File(path);\n                    mFilePath = path;\n\n                    updateFileInfo(file.getName(), file.length(), mFileType);\n                } else if (uri.getScheme().equals(\"content\")) {\n                    // an Uri has been returned\n                    mFileStreamUri = uri;\n\n                    final Bundle extras = data.getExtras();\n                    if (extras != null &amp;&amp; extras.containsKey(Intent.EXTRA_STREAM))\n                        mFileStreamUri = extras.getParcelable(Intent.EXTRA_STREAM);\n\n                    // file name and size must be obtained from Content Provider\n                    final Bundle bundle = new Bundle();\n                    bundle.putParcelable(EXTRA_URI, uri);\n                    getLoaderManager().restartLoader(SELECT_FILE_REQ, bundle, this);\n                }\n            }\n        }\n    }\n\n @Override\n    public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\n        final Uri uri = args.getParcelable(EXTRA_URI);\n\n        return new CursorLoader(this, uri, null, null, null, null);\n    }\n\n    @Override\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\n        if (data != null &amp;&amp; data.moveToNext()) {\n            /*\n             * Here we have to check the column indexes by name as we have requested for all. The order may be different.\n             */\n            final String fileName = data.getString(data.getColumnIndex(MediaStore.MediaColumns.DISPLAY_NAME)/* 0 DISPLAY_NAME */);\n            final int fileSize = data.getInt(data.getColumnIndex(MediaStore.MediaColumns.SIZE) /* 1 SIZE */);\n            String filePath = null;\n            final int dataIndex = data.getColumnIndex(MediaStore.MediaColumns.DATA);\n            if (dataIndex != -1)\n                filePath = data.getString(dataIndex /* 2 DATA */);\n            if (!TextUtils.isEmpty(filePath))\n                mFilePath = filePath;\n\n            updateFileInfo(fileName, fileSize, mFileType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4000262,"reputation":187,"user_id":3296468,"display_name":"Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500458301,"creation_date":1500458301,"answer_id":45187122,"question_id":45186747,"body_markdown":"You can try this. getting real path from URI\r\n\r\n    File file = new File(getRealPathFromURI(selectedImageURI));\r\n\r\nmethod\r\n\r\n    private String getRealPathFromURI(Uri contentURI) {\r\n        String result;\r\n        Cursor cursor = getContentResolver().query(contentURI, null, null, null, null);\r\n        if (cursor == null) { //checking\r\n            result = contentURI.getPath();\r\n        } else { \r\n            cursor.moveToFirst(); \r\n            int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA); \r\n            result = cursor.getString(idx);\r\n            cursor.close();\r\n        }\r\n        return result;\r\n    }","title":"How to get real path from FileProvider URI?","body":"<p>You can try this. getting real path from URI</p>\n\n<pre><code>File file = new File(getRealPathFromURI(selectedImageURI));\n</code></pre>\n\n<p>method</p>\n\n<pre><code>private String getRealPathFromURI(Uri contentURI) {\n    String result;\n    Cursor cursor = getContentResolver().query(contentURI, null, null, null, null);\n    if (cursor == null) { //checking\n        result = contentURI.getPath();\n    } else { \n        cursor.moveToFirst(); \n        int idx = cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA); \n        result = cursor.getString(idx);\n        cursor.close();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9142998,"reputation":240,"user_id":6800260,"display_name":"Akash Ratanpara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501244510,"creation_date":1501243791,"answer_id":45373174,"question_id":45186747,"body_markdown":"You can try this solution for get real path from file provider URI.\r\n\r\nFirst you need to define file provider path file as following.\r\n\r\n&gt; provider_paths.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-path name=&quot;/storage/emulated/0&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;\r\n\r\n\r\nDeclare file provider in **AndroidMenifest.xml** as following.\r\n\r\n&gt; AndroidMenifest.xml\r\n\r\n    &lt;application&gt;\r\n        .\r\n        .\r\n        .\r\n        &lt;provider\r\n                android:name=&quot;android.support.v4.content.FileProvider&quot;\r\n                android:authorities=&quot;${applicationId}&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n        &lt;/provider&gt;\r\n     &lt;/application&gt;\r\n\r\n\r\nNow in activity side.\r\n\r\n&gt; MyActivity.java\r\n\r\n    private Uri picUri;\r\n    \r\n        private void takePhotoFromCamera() {\r\n            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n            if (Utils.isNougat()) {\r\n                picUri = FileProvider.getUriForFile(this, getPackageName(), imageHelper\r\n                        .createImageFile());\r\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n            }else {\r\n                picUri = Uri.fromFile(imageHelper.createImageFile());\r\n            }\r\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, picUri);\r\n            startActivityForResult(intent, Const.ServiceCode.TAKE_PHOTO);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * This method is used for handel result after captured image from camera .\r\n        */\r\n        private void onCaptureImageResult() {\r\n            if(Utils.isNougat()){\r\n                documentImage = imageHelper.getRealPathFromURI(picUri.getPath());\r\n            }else {\r\n                documentImage = imageHelper.getRealPathFromURI(picUri);\r\n            }\r\n        }\r\n\r\n\r\n\r\nFollowing my method for get real path.\r\n\r\n    public String getRealPathFromURI(Uri contentURI) {\r\n            String result;\r\n            Cursor cursor = context.getContentResolver().query(contentURI, null,\r\n                    null, null, null);\r\n    \r\n            if (cursor == null) { // Source is Dropbox or other similar local file\r\n                // path\r\n                result = contentURI.getPath();\r\n            } else {\r\n                cursor.moveToFirst();\r\n                try {\r\n                    int idx = cursor\r\n                            .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\r\n                    result = cursor.getString(idx);\r\n                } catch (Exception e) {\r\n                    AppLog.handleException(ImageHelper.class.getName(), e);\r\n                    Toast.makeText(context, context.getResources().getString(\r\n                            R.string.error_get_image), Toast.LENGTH_SHORT).show();\r\n    \r\n                    result = &quot;&quot;;\r\n                }\r\n                cursor.close();\r\n            }\r\n            return result;\r\n        }\r\n\r\nHope you solve your problem.\r\n","title":"How to get real path from FileProvider URI?","body":"<p>You can try this solution for get real path from file provider URI.</p>\n\n<p>First you need to define file provider path file as following.</p>\n\n<blockquote>\n  <p>provider_paths.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;external-path name=\"/storage/emulated/0\" path=\".\"/&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>Declare file provider in <strong>AndroidMenifest.xml</strong> as following.</p>\n\n<blockquote>\n  <p>AndroidMenifest.xml</p>\n</blockquote>\n\n<pre><code>&lt;application&gt;\n    .\n    .\n    .\n    &lt;provider\n            android:name=\"android.support.v4.content.FileProvider\"\n            android:authorities=\"${applicationId}\"\n            android:exported=\"false\"\n            android:grantUriPermissions=\"true\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\n                android:resource=\"@xml/provider_paths\"/&gt;\n    &lt;/provider&gt;\n &lt;/application&gt;\n</code></pre>\n\n<p>Now in activity side.</p>\n\n<blockquote>\n  <p>MyActivity.java</p>\n</blockquote>\n\n<pre><code>private Uri picUri;\n\n    private void takePhotoFromCamera() {\n        Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        if (Utils.isNougat()) {\n            picUri = FileProvider.getUriForFile(this, getPackageName(), imageHelper\n                    .createImageFile());\n            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n            intent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n        }else {\n            picUri = Uri.fromFile(imageHelper.createImageFile());\n        }\n        intent.putExtra(MediaStore.EXTRA_OUTPUT, picUri);\n        startActivityForResult(intent, Const.ServiceCode.TAKE_PHOTO);\n    }\n\n\n    /**\n     * This method is used for handel result after captured image from camera .\n    */\n    private void onCaptureImageResult() {\n        if(Utils.isNougat()){\n            documentImage = imageHelper.getRealPathFromURI(picUri.getPath());\n        }else {\n            documentImage = imageHelper.getRealPathFromURI(picUri);\n        }\n    }\n</code></pre>\n\n<p>Following my method for get real path.</p>\n\n<pre><code>public String getRealPathFromURI(Uri contentURI) {\n        String result;\n        Cursor cursor = context.getContentResolver().query(contentURI, null,\n                null, null, null);\n\n        if (cursor == null) { // Source is Dropbox or other similar local file\n            // path\n            result = contentURI.getPath();\n        } else {\n            cursor.moveToFirst();\n            try {\n                int idx = cursor\n                        .getColumnIndex(MediaStore.Images.ImageColumns.DATA);\n                result = cursor.getString(idx);\n            } catch (Exception e) {\n                AppLog.handleException(ImageHelper.class.getName(), e);\n                Toast.makeText(context, context.getResources().getString(\n                        R.string.error_get_image), Toast.LENGTH_SHORT).show();\n\n                result = \"\";\n            }\n            cursor.close();\n        }\n        return result;\n    }\n</code></pre>\n\n<p>Hope you solve your problem.</p>\n"}],"owner":{"account_id":6686012,"reputation":722,"user_id":5994250,"accept_rate":50,"display_name":"proninyaroslav"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15005,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1680283408,"creation_date":1500457344,"question_id":45186747,"body_markdown":"I have this code for decoding `content://` URI:\r\n\r\n    Cursor cursor = null;\r\n    try {\r\n        cursor = context.getContentResolver().query(contentUri,\r\n                         new String[] { MediaStore.Files.FileColumns.DATA },\r\n                         null, null, null);\r\n\r\n        int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Files.FileColumns.DATA);\r\n        cursor.moveToFirst();\r\n    \r\n        return cursor.getString(columnIndex);\r\n\r\n    } finally {\r\n        if (cursor != null) {cursor.close()};\r\n    }\r\n\r\nbut it doesn&#39;t work for `FileProvider` URI (e.g Chrome Dev URI of downloaded files: `content://com.chrome.dev.FileProvider/downloads/`). Is there a way to get a real path?","title":"How to get real path from FileProvider URI?","body":"<p>I have this code for decoding <code>content://</code> URI:</p>\n\n<pre><code>Cursor cursor = null;\ntry {\n    cursor = context.getContentResolver().query(contentUri,\n                     new String[] { MediaStore.Files.FileColumns.DATA },\n                     null, null, null);\n\n    int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Files.FileColumns.DATA);\n    cursor.moveToFirst();\n\n    return cursor.getString(columnIndex);\n\n} finally {\n    if (cursor != null) {cursor.close()};\n}\n</code></pre>\n\n<p>but it doesn't work for <code>FileProvider</code> URI (e.g Chrome Dev URI of downloaded files: <code>content://com.chrome.dev.FileProvider/downloads/</code>). Is there a way to get a real path?</p>\n"},{"tags":["java","intellij-idea","reflection"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1680282371,"post_id":75901034,"comment_id":133877615,"body_markdown":"No. Reflection is at runtime. Further, here you&#39;re looping over ***all*** methods in `Dog`.","body":"No. Reflection is at runtime. Further, here you&#39;re looping over <b><i>all</i></b> methods in <code>Dog</code>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680283042,"post_id":75901034,"comment_id":133877781,"body_markdown":"In all cases? No, because that would be roughly equivalent to solving the halting problem (maybe even equivalent, but I obviously don&#39;t have a formal proof for that). Trivial counterexample: `obj.getClass().getMethod(Math.random() &gt; 0.5 ? &quot;a&quot; : &quot;b&quot;).invoke(obj)`.","body":"In all cases? No, because that would be roughly equivalent to solving the halting problem (maybe even equivalent, but I obviously don&#39;t have a formal proof for that). Trivial counterexample: <code>obj.getClass().getMethod(Math.random() &gt; 0.5 ? &quot;a&quot; : &quot;b&quot;).invoke(obj)</code>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1680298439,"post_id":75901034,"comment_id":133880810,"body_markdown":"It already fails at iterating over `getDeclaredMethods`, which does not impose any order guarantee on the returned array.","body":"It already fails at iterating over <code>getDeclaredMethods</code>, which does not impose any order guarantee on the returned array."}],"owner":{"account_id":5269607,"reputation":371,"user_id":4208324,"accept_rate":40,"display_name":"festiv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680282407,"creation_date":1680282260,"question_id":75901034,"body_markdown":"Let&#39;s say I have the following ReflectionTest.java file:\r\n\r\n    import java.lang.Class;\r\n    import java.lang.reflect.*;\r\n\r\n    public class ReflectionTest {\r\n    public static void main(String[] args) {\r\n        try {\r\n\r\n            // create an object of Dog\r\n            Dog d1 = new Dog();\r\n\r\n            // create an object of Class\r\n            // using getClass()\r\n            Class obj = d1.getClass();\r\n\r\n            // using object of Class to\r\n            // get all the declared methods of Dog\r\n            Method[] methods = obj.getDeclaredMethods();\r\n\r\n            // create an object of the Method class\r\n            for (Method m : methods) {\r\n\r\n                // get names of methods\r\n                System.out.println(&quot;Method Name: &quot; + m.getName());\r\n\r\n                // get the access modifier of methods\r\n                int modifier = m.getModifiers();\r\n                System.out.println(&quot;Modifier: &quot; + Modifier.toString(modifier));\r\n\r\n                // get the return types of method\r\n                System.out.println(&quot;Return Types: &quot; + m.getReturnType());\r\n\r\n                // invoke the method\r\n                m.invoke(d1);\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n\r\nI am wondering, technically speaking, can a static analysis tool figure out, in 100% of the cases, which actual method of which specific class will be invoked by `m.invoke(d1);` and navigate me there? Kind of like the functionality IntelliJ already provides by holding the Cmd key and clicking with the left button of the mouse on a method - you get redirected to the actual method&#39;s implementation or get asked to choose one of all implementations in working with an interface, for example.\r\n\r\nI am mostly interested in actual theoretical language level explanation as to what is possible and what not and why.","title":"Is it technically possible for Intellij to statically know which exact class&#39; method will be invoked on java.lang.Method m.invoke(instance) call","body":"<p>Let's say I have the following ReflectionTest.java file:</p>\n<pre><code>import java.lang.Class;\nimport java.lang.reflect.*;\n\npublic class ReflectionTest {\npublic static void main(String[] args) {\n    try {\n\n        // create an object of Dog\n        Dog d1 = new Dog();\n\n        // create an object of Class\n        // using getClass()\n        Class obj = d1.getClass();\n\n        // using object of Class to\n        // get all the declared methods of Dog\n        Method[] methods = obj.getDeclaredMethods();\n\n        // create an object of the Method class\n        for (Method m : methods) {\n\n            // get names of methods\n            System.out.println(&quot;Method Name: &quot; + m.getName());\n\n            // get the access modifier of methods\n            int modifier = m.getModifiers();\n            System.out.println(&quot;Modifier: &quot; + Modifier.toString(modifier));\n\n            // get the return types of method\n            System.out.println(&quot;Return Types: &quot; + m.getReturnType());\n\n            // invoke the method\n            m.invoke(d1);\n            System.out.println(&quot; &quot;);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I am wondering, technically speaking, can a static analysis tool figure out, in 100% of the cases, which actual method of which specific class will be invoked by <code>m.invoke(d1);</code> and navigate me there? Kind of like the functionality IntelliJ already provides by holding the Cmd key and clicking with the left button of the mouse on a method - you get redirected to the actual method's implementation or get asked to choose one of all implementations in working with an interface, for example.</p>\n<p>I am mostly interested in actual theoretical language level explanation as to what is possible and what not and why.</p>\n"},{"tags":["java","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680282796,"post_id":75901041,"comment_id":133877728,"body_markdown":"Though [&quot;pom properties documentation&quot;](https://maven.apache.org/pom.html#properties) states: &quot;...Their values are accessible anywhere within a POM &quot;...you cannot use a &quot;property from parent pom&quot; to &quot;identify your parent pom&quot; (hen-egg-problem;)","body":"Though <a href=\"https://maven.apache.org/pom.html#properties\" rel=\"nofollow noreferrer\">&quot;pom properties documentation&quot;</a> states: &quot;...Their values are accessible anywhere within a POM &quot;...you cannot use a &quot;property from parent pom&quot; to &quot;identify your parent pom&quot; (hen-egg-problem;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1680283818,"post_id":75901041,"comment_id":133877953,"body_markdown":"..also `relativePath` won&#39;t help (maven 3.9.1)... a child pom has to provide it&#39;s parent&#39;s &quot;full coordinates&quot; (at least once)","body":"..also <code>relativePath</code> won&#39;t help (maven 3.9.1)... a child pom has to provide it&#39;s parent&#39;s &quot;full coordinates&quot; (at least once)"}],"owner":{"account_id":121922,"reputation":1517,"user_id":315378,"accept_rate":48,"display_name":"zp26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680282318,"creation_date":1680282318,"question_id":75901041,"body_markdown":"I have create a simple project with parent and child pom.xml files.\r\nThe parent pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.apache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache&lt;/artifactId&gt;\r\n            &lt;version&gt;18&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\r\n        &lt;name&gt;First CI Friendly&lt;/name&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;central&lt;/id&gt;\r\n                &lt;name&gt;repo-releases&lt;/name&gt;\r\n                &lt;url&gt;https://repo.jfrog.io/artifactory/test&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;snapshots&lt;/id&gt;\r\n                &lt;name&gt;repo-artifactory-primary-1-snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.jfrog.io/artifactory/test-snapshot&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.1.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\r\n                        &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;flatten&lt;/id&gt;\r\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;flatten&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;flatten.clean&lt;/id&gt;\r\n                            &lt;phase&gt;clean&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;clean&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd the pom.xml is like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ci-child&lt;/artifactId&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThe parent deploy work fine, but I&#39;m not be able to import the parent pom.xml from remote repo.\r\nI have an error like this:\r\n\r\n    [FATAL] Non-resolvable parent POM for org.apache.maven.ci:ci-child:${revision}: Could not transfer artifact org.apache.maven.ci:ci-parent:pom:${revision} from/to central (...): Authorization failed for .../remote-repos/org/apache/maven/ci/ci-parent/$%257Brevision%257D/ci-parent-$%257Brevision%257D.pom 403 Forbidden and &#39;parent.relativePath&#39; points at wrong local POM @ line 6, column 13\r\n\r\nHow can set up my projects?\r\nThanks.\r\n\r\n\r\n","title":"Deploy parent pom with ${revision} version","body":"<p>I have create a simple project with parent and child pom.xml files.\nThe parent pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.apache&lt;/groupId&gt;\n        &lt;artifactId&gt;apache&lt;/artifactId&gt;\n        &lt;version&gt;18&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\n    &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\n    &lt;name&gt;First CI Friendly&lt;/name&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;revision&gt;1.0.0-SNAPSHOT&lt;/revision&gt;\n    &lt;/properties&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;repo-releases&lt;/name&gt;\n            &lt;url&gt;https://repo.jfrog.io/artifactory/test&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;repo-artifactory-primary-1-snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.jfrog.io/artifactory/test-snapshot&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\n                    &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;flatten&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;flatten&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;flatten.clean&lt;/id&gt;\n                        &lt;phase&gt;clean&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;clean&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And the pom.xml is like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\n        &lt;artifactId&gt;ci-parent&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.apache.maven.ci&lt;/groupId&gt;\n    &lt;artifactId&gt;ci-child&lt;/artifactId&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The parent deploy work fine, but I'm not be able to import the parent pom.xml from remote repo.\nI have an error like this:</p>\n<pre><code>[FATAL] Non-resolvable parent POM for org.apache.maven.ci:ci-child:${revision}: Could not transfer artifact org.apache.maven.ci:ci-parent:pom:${revision} from/to central (...): Authorization failed for .../remote-repos/org/apache/maven/ci/ci-parent/$%257Brevision%257D/ci-parent-$%257Brevision%257D.pom 403 Forbidden and 'parent.relativePath' points at wrong local POM @ line 6, column 13\n</code></pre>\n<p>How can set up my projects?\nThanks.</p>\n"},{"tags":["java","maven","intellij-idea","javafx","jpackage"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661977525,"post_id":73560693,"comment_id":129902648,"body_markdown":"I don&#39;t know the reason for this, [`-t exe` is a valid option](https://docs.oracle.com/en/java/javase/18/docs/specs/man/jpackage.html) that appears to be in the right location in the command line.  I just have a mac, so I can&#39;t verify your command on windows.  It probably doesn&#39;t make much difference, but does the same error occur when using the windows command prompt rather than IntelliJ terminal?  If you just run jpackage with the `--version` option, does it work?","body":"I don&#39;t know the reason for this, <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\"><code>-t exe</code> is a valid option</a> that appears to be in the right location in the command line.  I just have a mac, so I can&#39;t verify your command on windows.  It probably doesn&#39;t make much difference, but does the same error occur when using the windows command prompt rather than IntelliJ terminal?  If you just run jpackage with the <code>--version</code> option, does it work?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661977593,"post_id":73560693,"comment_id":129902671,"body_markdown":"Maybe take a look at [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) and try using their scripts for packaging your JavaFX app using jpackage.","body":"Maybe take a look at <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> and try using their scripts for packaging your JavaFX app using jpackage."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661978560,"post_id":73560693,"comment_id":129902959,"body_markdown":"The jpackage-maven-plugin should not be a dependency in your app in the current section, instead, it should be in the [build section](https://maven.apache.org/pom.html#Plugins) (or not there if not used at all).  I haven&#39;t used the `panteleyev` plugin, but I have used the [akman](https://github.com/Akman/jpackage-maven-plugin) plugin with JavaFX, and that works fine as an alternative to using the command line for packaging.","body":"The jpackage-maven-plugin should not be a dependency in your app in the current section, instead, it should be in the <a href=\"https://maven.apache.org/pom.html#Plugins\" rel=\"nofollow noreferrer\">build section</a> (or not there if not used at all).  I haven&#39;t used the <code>panteleyev</code> plugin, but I have used the <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">akman</a> plugin with JavaFX, and that works fine as an alternative to using the command line for packaging."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1661982126,"post_id":73560693,"comment_id":129903830,"body_markdown":"For building the jar file, use maven not the Idea artifact mechanism.  Run`mvn package` on your project, you can do that by double-clicking LifeCycle | Package in the maven window in Idea.  The output jar will be located in the `target` directory, not the `out` directory, and it is the jar from the target which should be used as input to jpackage.","body":"For building the jar file, use maven not the Idea artifact mechanism.  Run<code>mvn package</code> on your project, you can do that by double-clicking LifeCycle | Package in the maven window in Idea.  The output jar will be located in the <code>target</code> directory, not the <code>out</code> directory, and it is the jar from the target which should be used as input to jpackage."},{"owner":{"display_name":"user18773012"},"score":0,"creation_date":1662034699,"post_id":73560693,"comment_id":129915904,"body_markdown":"1) jpackage --version doesn&#39;t work. I did the envoirenment variable to jpackage: &quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; | 2) JPackageScriptFX I can not follow the step because I don&#39;t understand it. | 3) I wrote the mvn package on the Terminal and get an error that said that they not know what mvn is. | I have just edited my pom.xml","body":"1) jpackage --version doesn&#39;t work. I did the envoirenment variable to jpackage: &quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; | 2) JPackageScriptFX I can not follow the step because I don&#39;t understand it. | 3) I wrote the mvn package on the Terminal and get an error that said that they not know what mvn is. | I have just edited my pom.xml"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662054527,"post_id":73560693,"comment_id":129923730,"body_markdown":"&quot;on the Terminal and get an error that said that they not know what mvn is&quot; -&gt; Here is a guide for [Windows setup for maven environment variables](https://stackoverflow.com/questions/45119595/how-to-add-maven-to-the-path-variable) which allows you to use maven on your path from the command line without needing to specify the full path to the mvn executable each time you run it.  Setting the path to maven isn&#39;t necessary for invoking maven from your IDE as the IDE will be preconfigured to access and use a version of maven it ships with.","body":"&quot;on the Terminal and get an error that said that they not know what mvn is&quot; -&gt; Here is a guide for <a href=\"https://stackoverflow.com/questions/45119595/how-to-add-maven-to-the-path-variable\">Windows setup for maven environment variables</a> which allows you to use maven on your path from the command line without needing to specify the full path to the mvn executable each time you run it.  Setting the path to maven isn&#39;t necessary for invoking maven from your IDE as the IDE will be preconfigured to access and use a version of maven it ships with."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662054777,"post_id":73560693,"comment_id":129923794,"body_markdown":"&quot;`jpackage --version` doesn&#39;t work.&quot; -&gt; it should work.  On my setup it outputs `17.0.2`, which is the version being used.  Likely your environment settings (path variable) is wrong.  I don&#39;t know the specifics of what you have wrong, but you could do some research on how to set environment path variables on windows.","body":"&quot;<code>jpackage --version</code> doesn&#39;t work.&quot; -&gt; it should work.  On my setup it outputs <code>17.0.2</code>, which is the version being used.  Likely your environment settings (path variable) is wrong.  I don&#39;t know the specifics of what you have wrong, but you could do some research on how to set environment path variables on windows."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662076691,"post_id":73560693,"comment_id":129928694,"body_markdown":"You don&#39;t need the `maven-jar-plugin` section in your pom.xml. Maven knows how to package jar files by default and I think the custom configuration with a `test` classifier is wrong.","body":"You don&#39;t need the <code>maven-jar-plugin</code> section in your pom.xml. Maven knows how to package jar files by default and I think the custom configuration with a <code>test</code> classifier is wrong."},{"owner":{"display_name":"user18773012"},"score":0,"creation_date":1662124179,"post_id":73560693,"comment_id":129939685,"body_markdown":"I can see on the terminal the versions of java, jpackage and maven. But when I use this input on the intellij terminal `jpackage --type exe --input out/artifacts/DemoFxApp_jar --dest &quot;C:\\Users\\user\\Documents&quot; --main-jar .\\DemoFxApp.jar --main-class main.java.Launcher --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics`. I get an **installer** and when I run it nothing happens. No **exe** file to see but I want make an **exe** and not an **installer**.","body":"I can see on the terminal the versions of java, jpackage and maven. But when I use this input on the intellij terminal <code>jpackage --type exe --input out&#47;artifacts&#47;DemoFxApp_jar --dest &quot;C:\\Users\\user\\Documents&quot; --main-jar .\\DemoFxApp.jar --main-class main.java.Launcher --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics</code>. I get an <b>installer</b> and when I run it nothing happens. No <b>exe</b> file to see but I want make an <b>exe</b> and not an <b>installer</b>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1662144607,"post_id":73560693,"comment_id":129946584,"body_markdown":"There is a guide to making an exe without an installer in the [tag info](https://stackoverflow.com/tags/javafx/info).   To add additional info, you can edit the question, it can be more readable than comments to do that sometimes.","body":"There is a guide to making an exe without an installer in the <a href=\"https://stackoverflow.com/tags/javafx/info\">tag info</a>.   To add additional info, you can edit the question, it can be more readable than comments to do that sometimes."},{"owner":{"display_name":"user18773012"},"score":0,"creation_date":1662226106,"post_id":73560693,"comment_id":129959316,"body_markdown":"Thanks for the help, but somehow I feel like it&#39;s not working for me. I give up with jpackage.","body":"Thanks for the help, but somehow I feel like it&#39;s not working for me. I give up with jpackage."}],"owner":{"display_name":"user18773012"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680281407,"creation_date":1661972221,"question_id":73560693,"body_markdown":"I have read like every jpackage question on overflow, but nothing helps me. When I have a .jar of the FX project, I can&#39;t even run the .jar file even though I have the JRE.\r\n\r\nMy input on IntelliJ Terminal:\r\n\r\n\r\n**&quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; -t exe --name DemoFxApp --app-version 1.0 --input out/artifacts/DemoFxApp_jar/DemoFxApp.jar --dest &quot;C:\\Users\\user\\Desktop&quot; --main-jar DemoFxApp.jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics**\r\n\r\n\r\nThe output is a unexpected Token **-t** and **exe**\r\n\r\nI installed this package:\r\n\r\n\r\n**OpenJDK: 18.0.2.1 | JavaFX-SDK: 18.0.2 | JRE: 1.8.0_341**\r\n\r\n\r\nMy project structur:\r\n```\r\nDemoFxApp\r\n|-out\r\n|  |- artifacts\r\n|     |- DemoFxApp_jar\r\n|        |- DemoFxApp.jar\r\n|\r\n|-src\r\n|  |-main\r\n|    |-java\r\n|    | |-app\r\n|    | | |- SceneSwitch.java\r\n|    | |\r\n|    | |-controller\r\n|    | | |-ControllerFirstScreen.java\r\n|    | | |-ControllerSecondScreen.java\r\n|    | |\r\n|    | |-Launcher.java\r\n|    |\r\n|    |-resources\r\n|      |-FirstScreen.fxml\r\n|      |-SecondScreen.fxml\r\n|\r\n|-pom.xml  \r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;DemoFxApp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DemoFxApp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;18&lt;/maven.compiler.release&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;javaFxVersion&gt;18.0.2&lt;/javaFxVersion&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"How to make an Application on JavaFX with jpackage?","body":"<p>I have read like every jpackage question on overflow, but nothing helps me. When I have a .jar of the FX project, I can't even run the .jar file even though I have the JRE.</p>\n<p>My input on IntelliJ Terminal:</p>\n<p><strong>&quot;C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\jpackage.exe&quot; -t exe --name DemoFxApp --app-version 1.0 --input out/artifacts/DemoFxApp_jar/DemoFxApp.jar --dest &quot;C:\\Users\\user\\Desktop&quot; --main-jar DemoFxApp.jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-18.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics</strong></p>\n<p>The output is a unexpected Token <strong>-t</strong> and <strong>exe</strong></p>\n<p>I installed this package:</p>\n<p><strong>OpenJDK: 18.0.2.1 | JavaFX-SDK: 18.0.2 | JRE: 1.8.0_341</strong></p>\n<p>My project structur:</p>\n<pre><code>DemoFxApp\n|-out\n|  |- artifacts\n|     |- DemoFxApp_jar\n|        |- DemoFxApp.jar\n|\n|-src\n|  |-main\n|    |-java\n|    | |-app\n|    | | |- SceneSwitch.java\n|    | |\n|    | |-controller\n|    | | |-ControllerFirstScreen.java\n|    | | |-ControllerSecondScreen.java\n|    | |\n|    | |-Launcher.java\n|    |\n|    |-resources\n|      |-FirstScreen.fxml\n|      |-SecondScreen.fxml\n|\n|-pom.xml  \n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;DemoFxApp&lt;/groupId&gt;\n    &lt;artifactId&gt;DemoFxApp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;18&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;javaFxVersion&gt;18.0.2&lt;/javaFxVersion&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-base&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;${javaFxVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","uuid"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1680191032,"post_id":75890203,"comment_id":133859800,"body_markdown":"I think this might be triggering a weird bug, but because the annotation `@GeneratedValue` should only be used for the primary key column(s), but here is being used in a non pk column. In his case in particular, can you generate the UUID for `not_pk_uuid` in the code?","body":"I think this might be triggering a weird bug, but because the annotation <code>@GeneratedValue</code> should only be used for the primary key column(s), but here is being used in a non pk column. In his case in particular, can you generate the UUID for <code>not_pk_uuid</code> in the code?"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1680191517,"post_id":75890203,"comment_id":133859960,"body_markdown":"I&#39;m totally good not using `@GeneratedValue` for the `not_pk_uuid` column. I just want the column to get the automatically generated value from Postgres. And given that column is defined as `NOT NULL` in Postgres, then I need an @NotNull annotation on the property in the Java entity, right? And that appears to be failing with a `must not be null` exception in JPA.","body":"I&#39;m totally good not using <code>@GeneratedValue</code> for the <code>not_pk_uuid</code> column. I just want the column to get the automatically generated value from Postgres. And given that column is defined as <code>NOT NULL</code> in Postgres, then I need an @NotNull annotation on the property in the Java entity, right? And that appears to be failing with a <code>must not be null</code> exception in JPA."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1680193483,"post_id":75890203,"comment_id":133860498,"body_markdown":"@Augusto I must use the value generated by Postgres. IOW, I am not allowed to generate the UUID on the Java side.","body":"@Augusto I must use the value generated by Postgres. IOW, I am not allowed to generate the UUID on the Java side."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1680211323,"post_id":75890203,"comment_id":133864588,"body_markdown":"This isn&#39;t covered by JPA, but providers have provider specific options (see EclipseLink&#39;s https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_returninsert.htm ) as various databases have DB specific support for returning generated data from identity and triggers. I don&#39;t know what if any support Hibernate has: the  JPA blessed way would be to mark the column as insertable=false and then read back the entity after flush/commit to get the value; a saveAndFetch approach.","body":"This isn&#39;t covered by JPA, but providers have provider specific options (see EclipseLink&#39;s <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_returninsert.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a> ) as various databases have DB specific support for returning generated data from identity and triggers. I don&#39;t know what if any support Hibernate has: the  JPA blessed way would be to mark the column as insertable=false and then read back the entity after flush/commit to get the value; a saveAndFetch approach."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":1,"creation_date":1680281195,"post_id":75890203,"comment_id":133877355,"body_markdown":"@Chris I did end up finding, what appears to be, a simpler pathway: https://stackoverflow.com/a/75900798/501113","body":"@Chris I did end up finding, what appears to be, a simpler pathway: <a href=\"https://stackoverflow.com/a/75900798/501113\">stackoverflow.com/a/75900798/501113</a>"}],"answers":[{"tags":[],"owner":{"account_id":7298128,"reputation":66,"user_id":5562053,"display_name":"Marco Belladelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680270662,"creation_date":1680270662,"answer_id":75899318,"question_id":75890203,"body_markdown":"You can use Hibernate&#39;s `@Generated` annotation, which indicates that the column you&#39;re annotating is generated on the database side and will need to be retrieved after inserting new records with a subsequent select statement.\r\n\r\nJPA&#39;s `@GeneratedValue` annotation is used to define primary key generation, as others have pointed out, and should not be used here.","title":"Non-PK automatic UUID (generated on INSERT by Postgres) is failing a JPA Repository.save() for the matching Entity","body":"<p>You can use Hibernate's <code>@Generated</code> annotation, which indicates that the column you're annotating is generated on the database side and will need to be retrieved after inserting new records with a subsequent select statement.</p>\n<p>JPA's <code>@GeneratedValue</code> annotation is used to define primary key generation, as others have pointed out, and should not be used here.</p>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680281062,"creation_date":1680280253,"answer_id":75900798,"question_id":75890203,"body_markdown":"Thanks to [@Marco Belladielli][1]&#39;s [answer][2], I was FINALLY put on the right track to solve this.\r\n\r\n**tl;dr:**\r\nSpecifically...\r\n - **DO NOT** use the annotation...\r\n   - `@GeneratedValue` - With or without parameters, as it is used exclusive for the PK (Primary Key) generation\r\n   - `@NotNull` - Even though the Postgres DDL explicitly shows the column as `NOT NULL`\r\n - Use the annotation...\r\n   - `@Generated(...)` - With specifically precise parameters\r\n   - `@Column(...)` - Again, with specifically precise parameters\r\n\r\n\r\n----------\r\n\r\n\r\n**Details:**\r\n\r\nThe only code changes is to the Entity&#39;s batchUuid property. This is what ended up working:\r\n\r\n```java\r\nimport org.hibernate.annotations.Generated;\r\nimport org.hibernate.annotations.GenerationTime;\r\n\r\n...\r\n\r\n  @Column(insertable = false, updatable = false, nullable = false)\r\n  @Generated(GenerationTime.INSERT)\r\n  private UUID notPkUuid;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/5562053/marco-belladelli\r\n  [2]: https://stackoverflow.com/a/75899318/501113","title":"Non-PK automatic UUID (generated on INSERT by Postgres) is failing a JPA Repository.save() for the matching Entity","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/5562053/marco-belladelli\">@Marco Belladielli</a>'s <a href=\"https://stackoverflow.com/a/75899318/501113\">answer</a>, I was FINALLY put on the right track to solve this.</p>\n<p><strong>tl;dr:</strong>\nSpecifically...</p>\n<ul>\n<li><strong>DO NOT</strong> use the annotation...\n<ul>\n<li><code>@GeneratedValue</code> - With or without parameters, as it is used exclusive for the PK (Primary Key) generation</li>\n<li><code>@NotNull</code> - Even though the Postgres DDL explicitly shows the column as <code>NOT NULL</code></li>\n</ul>\n</li>\n<li>Use the annotation...\n<ul>\n<li><code>@Generated(...)</code> - With specifically precise parameters</li>\n<li><code>@Column(...)</code> - Again, with specifically precise parameters</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><strong>Details:</strong></p>\n<p>The only code changes is to the Entity's batchUuid property. This is what ended up working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.annotations.Generated;\nimport org.hibernate.annotations.GenerationTime;\n\n...\n\n  @Column(insertable = false, updatable = false, nullable = false)\n  @Generated(GenerationTime.INSERT)\n  private UUID notPkUuid;\n</code></pre>\n"}],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75900798,"answer_count":2,"score":1,"last_activity_date":1680281062,"creation_date":1680190183,"question_id":75890203,"body_markdown":"I have a pre-existing Postgres table designed to automatically generate a DEFAULT value for a UUID typed column THAT IS NOT THE PRIMARY KEY.\r\n\r\nHere&#39;s the DDL:\r\n\r\n```sql\r\nCREATE SEQUENCE IF NOT EXISTS uuid_column_table_seq;\r\nCREATE TABLE IF NOT EXISTS uuid_column_table\r\n(\r\n    uuid_column_table_id     integer  DEFAULT nextval(&#39;uuid_column_table_seq&#39;) NOT NULL,\r\n    not_pk_uuid              uuid     DEFAULT uuid_generate_v4()               NOT NULL,\r\n    label                    text,\r\n    PRIMARY KEY (uuid_column_table_id)\r\n);\r\n```\r\n\r\nAnd I have a JPA entity (I&#39;m attempting) to match:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;uuid_column_table&quot;)\r\npublic class UuidColumnTableEntity {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer uuidColumnTableId;\r\n\r\n  @Column\r\n  @GeneratedValue\r\n  private UUID notPkUuid;\r\n\r\n  @Column\r\n  private String label;\r\n\r\n  public Integer getUuidColumnTableId() {\r\n    return this.uuidColumnTableId;\r\n  }\r\n\r\n  public void setUuidColumnTableId(Integer uuidColumnTableId) {\r\n    this.uuidColumnTableId = uuidColumnTableId;\r\n  }\r\n\r\n  public UUID getNotPkUuid() {\r\n    return this.notPkUuid;\r\n  }\r\n\r\n  public void setNotPkUuid(UUID notPkUuid) {\r\n    this.notPkUuid = notPkUuid;\r\n  }\r\n\r\n  public String getLabel() {\r\n    return this.label;\r\n  }\r\n\r\n  public void setLabel(String label) {\r\n    this.label = label;\r\n  }\r\n}\r\n```\r\n\r\nWhen I execute the following code...\r\n\r\n```java\r\nvar uuidColumnTableEntity = new UuidColumnTableEntity();\r\nuuidColumnTableEntity.setLabel(&quot;Test Label&quot;);\r\nvar uuidColumnTableEntityWithPk = UuidColumnTableEntityRepository.save(uuidColumnTableEntity);\r\n```\r\n\r\n\r\n...on the JPA repository of `UuidColumnTableEntityRepository.save()`, I am getting an JPA exception of:\r\n\r\n`could not execute statement; SQL [n/a]; constraint [not_pk_uuid\\&quot; of relation \\&quot;uuid_column_table]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement`\r\n\r\n\r\nGiven I am unable to change the Postgres DDL definition, what do I need to correct in defining my JPA entity?\r\n\r\nVersions:\r\n \r\n - Java 17\r\n - Spring Boot 2.5.6\r\n - Jakarta Persistence 2.2.3\r\n - Postgres 13.3\r\n\r\n\r\n----------\r\n\r\n\r\nNote: I searched for some time hoping someone had a nearby answer to this. However, I found scads of questions and answers that are years out of date. And those closer in time were about how to get JPA to generate the value as opposed to reading back the value generated by the Postgres `INSERT`.","title":"Non-PK automatic UUID (generated on INSERT by Postgres) is failing a JPA Repository.save() for the matching Entity","body":"<p>I have a pre-existing Postgres table designed to automatically generate a DEFAULT value for a UUID typed column THAT IS NOT THE PRIMARY KEY.</p>\n<p>Here's the DDL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SEQUENCE IF NOT EXISTS uuid_column_table_seq;\nCREATE TABLE IF NOT EXISTS uuid_column_table\n(\n    uuid_column_table_id     integer  DEFAULT nextval('uuid_column_table_seq') NOT NULL,\n    not_pk_uuid              uuid     DEFAULT uuid_generate_v4()               NOT NULL,\n    label                    text,\n    PRIMARY KEY (uuid_column_table_id)\n);\n</code></pre>\n<p>And I have a JPA entity (I'm attempting) to match:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;uuid_column_table&quot;)\npublic class UuidColumnTableEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer uuidColumnTableId;\n\n  @Column\n  @GeneratedValue\n  private UUID notPkUuid;\n\n  @Column\n  private String label;\n\n  public Integer getUuidColumnTableId() {\n    return this.uuidColumnTableId;\n  }\n\n  public void setUuidColumnTableId(Integer uuidColumnTableId) {\n    this.uuidColumnTableId = uuidColumnTableId;\n  }\n\n  public UUID getNotPkUuid() {\n    return this.notPkUuid;\n  }\n\n  public void setNotPkUuid(UUID notPkUuid) {\n    this.notPkUuid = notPkUuid;\n  }\n\n  public String getLabel() {\n    return this.label;\n  }\n\n  public void setLabel(String label) {\n    this.label = label;\n  }\n}\n</code></pre>\n<p>When I execute the following code...</p>\n<pre class=\"lang-java prettyprint-override\"><code>var uuidColumnTableEntity = new UuidColumnTableEntity();\nuuidColumnTableEntity.setLabel(&quot;Test Label&quot;);\nvar uuidColumnTableEntityWithPk = UuidColumnTableEntityRepository.save(uuidColumnTableEntity);\n</code></pre>\n<p>...on the JPA repository of <code>UuidColumnTableEntityRepository.save()</code>, I am getting an JPA exception of:</p>\n<p><code>could not execute statement; SQL [n/a]; constraint [not_pk_uuid\\&quot; of relation \\&quot;uuid_column_table]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement</code></p>\n<p>Given I am unable to change the Postgres DDL definition, what do I need to correct in defining my JPA entity?</p>\n<p>Versions:</p>\n<ul>\n<li>Java 17</li>\n<li>Spring Boot 2.5.6</li>\n<li>Jakarta Persistence 2.2.3</li>\n<li>Postgres 13.3</li>\n</ul>\n<hr />\n<p>Note: I searched for some time hoping someone had a nearby answer to this. However, I found scads of questions and answers that are years out of date. And those closer in time were about how to get JPA to generate the value as opposed to reading back the value generated by the Postgres <code>INSERT</code>.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":10297479,"reputation":479,"user_id":7597158,"display_name":"Thirumaran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656442951,"creation_date":1589093685,"answer_id":61708282,"question_id":61708101,"body_markdown":"Hi refer this link [custom-sequence-based-idgenerator][1]\r\n\r\n\r\n  [1]: https://thorben-janssen.com/custom-sequence-based-idgenerator/\r\n\r\ncreate custom generator by extending SequenceStyleGenerator and override configure and generate method\r\n\r\n    public class StringPrefixedSequenceIdGenerator extends \r\n    SequenceStyleGenerator {\r\n \r\n    public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\r\n    public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\r\n    private String valuePrefix;\r\n \r\n    public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\r\n    public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\r\n    private String numberFormat;\r\n \r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor session,\r\n            Object object) throws HibernateException {\r\n        return valuePrefix + String.format(numberFormat, \r\n        super.generate(session, object));\r\n    }\r\n \r\n    @Override\r\n    public void configure(Type type, Properties params,\r\n            ServiceRegistry serviceRegistry) throws MappingException {\r\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\r\n        valuePrefix = \r\n    ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\r\n                params, VALUE_PREFIX_DEFAULT);\r\n        numberFormat = \r\n    ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\r\n                params, NUMBER_FORMAT_DEFAULT);\r\n    }\r\n \r\n    }\r\n\r\nand in your entity \r\n\r\n    @Entity\r\n    public class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \r\n    &quot;book_seq&quot;)\r\n    @GenericGenerator(\r\n        name = &quot;book_seq&quot;, \r\n        strategy = \r\n    &quot;org.thoughts.on.java.generators.StringPrefixedSequenceIdGenerator&quot;, \r\n        parameters = {\r\n            @Parameter(name = \r\n    StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;50&quot;),\r\n            @Parameter(name = \r\n    StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = \r\n    &quot;B_&quot;),\r\n            @Parameter(name = \r\n    StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = \r\n    &quot;%05d&quot;) })\r\n    private String id;\r\n \r\n    ...\r\n    }","title":"Custom Sequence Generator in Spring Boot JPA","body":"<p>Hi refer this link <a href=\"https://thorben-janssen.com/custom-sequence-based-idgenerator/\" rel=\"nofollow noreferrer\">custom-sequence-based-idgenerator</a></p>\n<p>create custom generator by extending SequenceStyleGenerator and override configure and generate method</p>\n<pre><code>public class StringPrefixedSequenceIdGenerator extends \nSequenceStyleGenerator {\n\npublic static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\npublic static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\nprivate String valuePrefix;\n\npublic static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\npublic static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\nprivate String numberFormat;\n\n@Override\npublic Serializable generate(SharedSessionContractImplementor session,\n        Object object) throws HibernateException {\n    return valuePrefix + String.format(numberFormat, \n    super.generate(session, object));\n}\n\n@Override\npublic void configure(Type type, Properties params,\n        ServiceRegistry serviceRegistry) throws MappingException {\n    super.configure(LongType.INSTANCE, params, serviceRegistry);\n    valuePrefix = \nConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\n            params, VALUE_PREFIX_DEFAULT);\n    numberFormat = \nConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\n            params, NUMBER_FORMAT_DEFAULT);\n}\n\n}\n</code></pre>\n<p>and in your entity</p>\n<pre><code>@Entity\npublic class Book {\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \n&quot;book_seq&quot;)\n@GenericGenerator(\n    name = &quot;book_seq&quot;, \n    strategy = \n&quot;org.thoughts.on.java.generators.StringPrefixedSequenceIdGenerator&quot;, \n    parameters = {\n        @Parameter(name = \nStringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;50&quot;),\n        @Parameter(name = \nStringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = \n&quot;B_&quot;),\n        @Parameter(name = \nStringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = \n&quot;%05d&quot;) })\nprivate String id;\n\n...\n}\n</code></pre>\n"}],"owner":{"account_id":7737093,"reputation":11,"user_id":5858327,"display_name":"Prakash Rawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17055,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680281058,"creation_date":1589092541,"question_id":61708101,"body_markdown":"I want the **empid** to be generated in sequence like EMP_01,EMP_02.....\r\n\r\n\r\n***Employee.classs***\r\n    \r\n    import aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator;\r\n    import lombok.ToString;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    import org.hibernate.annotations.Parameter;\r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    @ToString\r\n    @Entity\r\n    public class Employee {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;emp_seq&quot;)\r\n        @GenericGenerator(name = &quot;emp_seq&quot;, strategy = &quot;aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator&quot;,\r\n                parameters = {\r\n                @Parameter(name = StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = &quot;50&quot;),\r\n                @Parameter(name = StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = &quot;B_&quot;),\r\n                @Parameter(name = StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = &quot;%05d&quot;) })\r\n        private String empid;\r\n    \r\n        private String empname;\r\n        private String empcontact;\r\n        private String empemail;\r\n        private String empphoto;\r\n    \r\n        @OneToMany(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;Skillset&gt; skillset;\r\n    \r\n        public String getEmpid() {\r\n            return empid;\r\n        }\r\n    \r\n        public void setEmpid(String empid) {\r\n            this.empid = empid;\r\n        }\r\n    \r\n        public String getEmpname() {\r\n            return empname;\r\n        }\r\n    \r\n        public void setEmpname(String empname) {\r\n            this.empname = empname;\r\n        }\r\n    \r\n        public String getEmpcontact() {\r\n            return empcontact;\r\n        }\r\n    \r\n        public void setEmpcontact(String empcontact) {\r\n            this.empcontact = empcontact;\r\n        }\r\n    \r\n        public String getEmpemail() {\r\n            return empemail;\r\n        }\r\n    \r\n        public void setEmpemail(String empemail) {\r\n            this.empemail = empemail;\r\n        }\r\n    \r\n        public String getEmpphoto() {\r\n            return empphoto;\r\n        }\r\n    \r\n        public void setEmpphoto(String empphoto) {\r\n            this.empphoto = empphoto;\r\n        }\r\n    \r\n        public List&lt;Skillset&gt; getSkillset() {\r\n            return skillset;\r\n        }\r\n    \r\n        public void setSkillset(List&lt;Skillset&gt; skillset) {\r\n            this.skillset = skillset;\r\n            skillset.forEach(s -&gt; s.setEmployee(this));\r\n        }\r\n    }\r\n\r\n***StringPrefixedSequenceIdGenerator***\r\n\r\n\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.MappingException;\r\n    import org.hibernate.engine.spi.SharedSessionContractImplementor;\r\n    import org.hibernate.id.enhanced.SequenceStyleGenerator;\r\n    import org.hibernate.internal.util.config.ConfigurationHelper;\r\n    import org.hibernate.service.ServiceRegistry;\r\n    import org.hibernate.type.LongType;\r\n    import org.hibernate.type.Type;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Properties;\r\n    \r\n    public class StringPrefixedSequenceIdGenerator extends SequenceStyleGenerator {\r\n    \r\n        public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\r\n        public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\r\n        private String valuePrefix;\r\n    \r\n        public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\r\n        public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\r\n        private String numberFormat;\r\n    \r\n        @Override\r\n        public Serializable generate(SharedSessionContractImplementor session,\r\n                                     Object object) throws HibernateException {\r\n            return valuePrefix + String.format(numberFormat, super.generate(session, object));\r\n        }\r\n    \r\n        @Override\r\n        public void configure(Type type, Properties params,\r\n                              ServiceRegistry serviceRegistry) throws MappingException {\r\n            super.configure(LongType.INSTANCE, params, serviceRegistry);\r\n            valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\r\n                    params, VALUE_PREFIX_DEFAULT);\r\n            numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\r\n                    params, NUMBER_FORMAT_DEFAULT);\r\n        }\r\n    \r\n    }\r\n\r\nhow can generate the sequence with some prefix.\r\nI tried so many solution on net but nothing worked.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\n\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\nPlease help me to find what can I do to generate the sequence with some prefix.\r\n\r\n\r\n\r\nImplemented the Solution Provide by Thirumaran But getting Error \r\n\r\n    \r\n\r\n\r\n    java.sql.SQLSyntaxErrorException: Table &#39;purozon.emp_seq&#39; doesn&#39;t exist\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1003) ~[mysql-connector-java-8.0.19.jar:8.0.19]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.4.2.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]\r\n    \tat org.hibernate.id.enhanced.TableStructure.executeQuery(TableStructure.java:216) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure.access$300(TableStructure.java:46) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:138) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:126) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:57) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:523) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator.generate(StringPrefixedSequenceIdGenerator.java:28) ~[classes/:na]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:710) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:696) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat com.sun.proxy.$Proxy112.save(Unknown Source) ~[na:na]\r\n    \tat aurozen.assign.aurozenassign.controller.EmployeeController.addEmployee(EmployeeController.java:41) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat aurozen.assign.aurozenassign.filter.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:56) ~[classes/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\n\r\n\r\n***Schema Name is purozon*** \r\n\r\n","title":"Custom Sequence Generator in Spring Boot JPA","body":"<p>I want the <strong>empid</strong> to be generated in sequence like EMP_01,EMP_02.....</p>\n\n<p><strong><em>Employee.classs</em></strong></p>\n\n<pre><code>import aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator;\nimport lombok.ToString;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Parameter;\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n@ToString\n@Entity\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"emp_seq\")\n    @GenericGenerator(name = \"emp_seq\", strategy = \"aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator\",\n            parameters = {\n            @Parameter(name = StringPrefixedSequenceIdGenerator.INCREMENT_PARAM, value = \"50\"),\n            @Parameter(name = StringPrefixedSequenceIdGenerator.VALUE_PREFIX_PARAMETER, value = \"B_\"),\n            @Parameter(name = StringPrefixedSequenceIdGenerator.NUMBER_FORMAT_PARAMETER, value = \"%05d\") })\n    private String empid;\n\n    private String empname;\n    private String empcontact;\n    private String empemail;\n    private String empphoto;\n\n    @OneToMany(mappedBy = \"employee\", cascade = CascadeType.ALL)\n    private List&lt;Skillset&gt; skillset;\n\n    public String getEmpid() {\n        return empid;\n    }\n\n    public void setEmpid(String empid) {\n        this.empid = empid;\n    }\n\n    public String getEmpname() {\n        return empname;\n    }\n\n    public void setEmpname(String empname) {\n        this.empname = empname;\n    }\n\n    public String getEmpcontact() {\n        return empcontact;\n    }\n\n    public void setEmpcontact(String empcontact) {\n        this.empcontact = empcontact;\n    }\n\n    public String getEmpemail() {\n        return empemail;\n    }\n\n    public void setEmpemail(String empemail) {\n        this.empemail = empemail;\n    }\n\n    public String getEmpphoto() {\n        return empphoto;\n    }\n\n    public void setEmpphoto(String empphoto) {\n        this.empphoto = empphoto;\n    }\n\n    public List&lt;Skillset&gt; getSkillset() {\n        return skillset;\n    }\n\n    public void setSkillset(List&lt;Skillset&gt; skillset) {\n        this.skillset = skillset;\n        skillset.forEach(s -&gt; s.setEmployee(this));\n    }\n}\n</code></pre>\n\n<p><strong><em>StringPrefixedSequenceIdGenerator</em></strong></p>\n\n<pre><code>import org.hibernate.HibernateException;\nimport org.hibernate.MappingException;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.enhanced.SequenceStyleGenerator;\nimport org.hibernate.internal.util.config.ConfigurationHelper;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.type.LongType;\nimport org.hibernate.type.Type;\n\nimport java.io.Serializable;\nimport java.util.Properties;\n\npublic class StringPrefixedSequenceIdGenerator extends SequenceStyleGenerator {\n\n    public static final String VALUE_PREFIX_PARAMETER = \"valuePrefix\";\n    public static final String VALUE_PREFIX_DEFAULT = \"\";\n    private String valuePrefix;\n\n    public static final String NUMBER_FORMAT_PARAMETER = \"numberFormat\";\n    public static final String NUMBER_FORMAT_DEFAULT = \"%d\";\n    private String numberFormat;\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session,\n                                 Object object) throws HibernateException {\n        return valuePrefix + String.format(numberFormat, super.generate(session, object));\n    }\n\n    @Override\n    public void configure(Type type, Properties params,\n                          ServiceRegistry serviceRegistry) throws MappingException {\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\n        valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\n                params, VALUE_PREFIX_DEFAULT);\n        numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\n                params, NUMBER_FORMAT_DEFAULT);\n    }\n\n}\n</code></pre>\n\n<p>how can generate the sequence with some prefix.\nI tried so many solution on net but nothing worked.\nPlease help me to find what can I do to generate the sequence with some prefix.</p>\n\n<p>Please help me to find what can I do to generate the sequence with some prefix.\nPlease help me to find what can I do to generate the sequence with some prefix.\nPlease help me to find what can I do to generate the sequence with some prefix.\nPlease help me to find what can I do to generate the sequence with some prefix.</p>\n\n<p>Implemented the Solution Provide by Thirumaran But getting Error </p>\n\n<pre><code>java.sql.SQLSyntaxErrorException: Table 'purozon.emp_seq' doesn't exist\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1003) ~[mysql-connector-java-8.0.19.jar:8.0.19]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-3.4.2.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-3.4.2.jar:na]\n    at org.hibernate.id.enhanced.TableStructure.executeQuery(TableStructure.java:216) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure.access$300(TableStructure.java:46) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:138) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure$1$1.execute(TableStructure.java:126) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:57) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.TableStructure$1.getNextValue(TableStructure.java:125) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.PooledOptimizer.generate(PooledOptimizer.java:73) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:523) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at aurozen.assign.aurozenassign.StringPrefixedSequenceIdGenerator.generate(StringPrefixedSequenceIdGenerator.java:28) ~[classes/:na]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:710) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:696) ~[hibernate-core-5.4.12.Final.jar:5.4.12.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314) ~[spring-orm-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at com.sun.proxy.$Proxy101.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178) ~[spring-data-jpa-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at com.sun.proxy.$Proxy112.save(Unknown Source) ~[na:na]\n    at aurozen.assign.aurozenassign.controller.EmployeeController.addEmployee(EmployeeController.java:41) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at aurozen.assign.aurozenassign.filter.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:56) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.5.RELEASE.jar:5.2.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.33.jar:9.0.33]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n\n<p><strong><em>Schema Name is purozon</em></strong> </p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-thymeleaf"],"owner":{"account_id":28180698,"reputation":1,"user_id":21537760,"display_name":"Michael Nunziata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680280960,"creation_date":1680280586,"question_id":75900849,"body_markdown":"im  spring boot jpa and thymelead which get data from excel file. up to insert works fine but after if i import another file i want to check if data exist in db update its value and if not just insert a new one.\r\n\r\nhere my code..serviceClass\r\n```\r\nString filePathExcel=GetPath.GetPathDesktop()+&quot;\\\\Iniziale.xlsx&quot;;\r\n\t\t\t FileInputStream inputStream;\r\n\t\t\t \r\n\t\t\t inputStream = new FileInputStream(filePathExcel);\r\n\t\t\t\tWorkbook workbook = new XSSFWorkbook(inputStream);\r\n\t\t\t\tSheet  firstSheet = workbook.getSheetAt(0);\r\n\t\t\t\tIterator&lt;Row&gt; rowIterator= firstSheet.iterator();\r\n\t\t\t\trowIterator.next();\r\n\t\t\t\tint riga =0;\r\n\t\t\t\tint  count=0;\r\n\t\t\t\twhile(rowIterator.hasNext()) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\tSystem.out.println(&quot;NUMERO ROW :&quot;+count);\r\n\t\t\t\t\tRow nextRow = rowIterator.next();\r\n\t\t\t\t\tIterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\r\n\t\t\t\t\twhile(cellIterator.hasNext()) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tCell nextCell = cellIterator.next();\r\n\t\t\t\t\t\tint colIndex = nextCell.getColumnIndex();\r\n\t\t\t\t\t\tswitch(colIndex) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcase 1:\t\r\n\t\t\t\t\t\t\triga++;\r\n                            //HERE I FIND ALL THE DATA IN DB\r\n\t\t\t\t\t\t\tList&lt;CodiceQuotazioni&gt;list = codiceQuotazioniService.findAll();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor(CodiceQuotazioni cod:list) {\r\n\t\t\t\t\t\t\t//HERE I LOOP THROUGH THE RES AND I FIND SINGLE ONE\r\n\t\t\t\t\t\t\t\tOptional&lt;CodiceQuotazioni&gt; vekkio= codiceQuotazioniRepo.findByCodice(cod.getCodice().toString());\r\n                                 //CONTROL IF THE CODICE IS NEW ONE\r\n\t\t\t\t\t\t\t\tif (codice != null ) {\r\n\t\t\t\t\t\t\t\tcodice= nextCell.getStringCellValue();\t\r\n\t\t\t\t\t\t\t\tSystem.out.println(codice+&quot; codice alla riga&quot;+riga);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}else \r\n//HERE I CONTROL IF ITS ALREADY IN DB \r\nif(codice.equals(vekkio.toString())){\r\n\t\t\t\t\t\t\t\t\tvekkio.get().setCodice(cod.getCodice());\r\n\t\t\t\t\t\t\t\t}break;\r\n\t\t\t\t\t\t}break;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\trrp = (int) nextCell.getNumericCellValue();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdefault:break;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcodiceQuotazioniRepo.save(new CodiceQuotazioni(codice,rrp));\r\n\t\t\t}\r\n\t\t\tworkbook.close();\r\n\t\t\t\r\n\t\t\treturn codiceLista;\t\t\r\n           }\r\n```\r\n","title":"spring boot insert o update or any other solution","body":"<p>im  spring boot jpa and thymelead which get data from excel file. up to insert works fine but after if i import another file i want to check if data exist in db update its value and if not just insert a new one.</p>\n<p>here my code..serviceClass</p>\n<pre><code>String filePathExcel=GetPath.GetPathDesktop()+&quot;\\\\Iniziale.xlsx&quot;;\n             FileInputStream inputStream;\n             \n             inputStream = new FileInputStream(filePathExcel);\n                Workbook workbook = new XSSFWorkbook(inputStream);\n                Sheet  firstSheet = workbook.getSheetAt(0);\n                Iterator&lt;Row&gt; rowIterator= firstSheet.iterator();\n                rowIterator.next();\n                int riga =0;\n                int  count=0;\n                while(rowIterator.hasNext()) {\n                    count++;\n                    System.out.println(&quot;NUMERO ROW :&quot;+count);\n                    Row nextRow = rowIterator.next();\n                    Iterator&lt;Cell&gt; cellIterator = nextRow.cellIterator();\n                    while(cellIterator.hasNext()) {\n                        \n                        Cell nextCell = cellIterator.next();\n                        int colIndex = nextCell.getColumnIndex();\n                        switch(colIndex) {\n                        \n                        case 1: \n                            riga++;\n                            //HERE I FIND ALL THE DATA IN DB\n                            List&lt;CodiceQuotazioni&gt;list = codiceQuotazioniService.findAll();\n                            \n                            for(CodiceQuotazioni cod:list) {\n                            //HERE I LOOP THROUGH THE RES AND I FIND SINGLE ONE\n                                Optional&lt;CodiceQuotazioni&gt; vekkio= codiceQuotazioniRepo.findByCodice(cod.getCodice().toString());\n                                 //CONTROL IF THE CODICE IS NEW ONE\n                                if (codice != null ) {\n                                codice= nextCell.getStringCellValue();  \n                                System.out.println(codice+&quot; codice alla riga&quot;+riga);\n                                break;\n                                }else \n//HERE I CONTROL IF ITS ALREADY IN DB \nif(codice.equals(vekkio.toString())){\n                                    vekkio.get().setCodice(cod.getCodice());\n                                }break;\n                        }break;\n                            \n                        case 2:\n                            \n                        rrp = (int) nextCell.getNumericCellValue();\n                        \n                            break;\n                            \n                            default:break;\n                            \n                        }\n                }\n                codiceQuotazioniRepo.save(new CodiceQuotazioni(codice,rrp));\n            }\n            workbook.close();\n            \n            return codiceLista;     \n           }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","pom.xml"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1680247573,"post_id":75895828,"comment_id":133869064,"body_markdown":"Use spring-boot 3.x","body":"Use spring-boot 3.x"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1680255110,"post_id":75895828,"comment_id":133870725,"body_markdown":"With spring boot 2.x,  `servlet` package is `javax` not `jakarta`","body":"With spring boot 2.x,  <code>servlet</code> package is <code>javax</code> not <code>jakarta</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680279725,"creation_date":1680276649,"answer_id":75900273,"question_id":75895828,"body_markdown":"*Java EE* became *Jakarta EE* when Oracle Corp donated the technologies to the Eclipse Foundation. \r\n\r\nDuring this transition, the package naming of the various APIs changed from `javax.*` to `jakarta.*`. \r\n\r\n - Spring Boot 2 supports the old naming: `javax.*`\r\n - Spring Boot 3 supports the new naming: `jakarta.*`\r\n\r\nI would recommend going with Spring Boot 3 and [Jakarta EE][1]. Be sure to study the release notes as many changes happened in this major new version. \r\n\r\nIf you use any libraries that rely on the old naming, you’ll have to stick with Spring Boot 2 and the older Java EE APIs and naming. \r\n\r\n\r\n----------\r\n\r\n\r\nThis Jakarta transition has been covered thoroughly by the industry press. You might want to occasionally read that press to keep yourself abreast of such changes. \r\n\r\n\r\n  [1]: https://jakarta.ee/","title":"Unable to start web server; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<p><em>Java EE</em> became <em>Jakarta EE</em> when Oracle Corp donated the technologies to the Eclipse Foundation.</p>\n<p>During this transition, the package naming of the various APIs changed from <code>javax.*</code> to <code>jakarta.*</code>.</p>\n<ul>\n<li>Spring Boot 2 supports the old naming: <code>javax.*</code></li>\n<li>Spring Boot 3 supports the new naming: <code>jakarta.*</code></li>\n</ul>\n<p>I would recommend going with Spring Boot 3 and <a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta EE</a>. Be sure to study the release notes as many changes happened in this major new version.</p>\n<p>If you use any libraries that rely on the old naming, you’ll have to stick with Spring Boot 2 and the older Java EE APIs and naming.</p>\n<hr />\n<p>This Jakarta transition has been covered thoroughly by the industry press. You might want to occasionally read that press to keep yourself abreast of such changes.</p>\n"}],"owner":{"account_id":28176035,"reputation":1,"user_id":21533805,"display_name":"ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1680279725,"creation_date":1680247052,"question_id":75895828,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.jpa&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SpringBootJpa1&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;SpringBootJpa1&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.secure&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;SecurityDemo&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nSeeing this error ! \r\n","title":"Unable to start web server; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jpa&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBootJpa1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootJpa1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.secure&lt;/groupId&gt;\n            &lt;artifactId&gt;SecurityDemo&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Seeing this error !</p>\n"},{"tags":["java","spring-boot","rest"],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680278888,"creation_date":1680278888,"question_id":75900628,"body_markdown":"i try to response this object:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\r\n        private ConfigResponse config;\r\n    \r\n        @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\r\n        private Resource route;\r\n    }\r\n\r\n\r\nbut how can i do it?\r\n\r\ni try like this:\r\n\r\n    @GetMapping(DEVICE_ID_PATH)\r\n        public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n            log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n            var deviceSummary = mobileComplexService.getSummary(id);\r\n    \r\n            return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\r\n        }\r\n\r\nbut it gets me:\r\n\r\n&gt; org.springframework.http.converter.HttpMessageConversionException:\r\n&gt; Type definition error: [simple type, class\r\n&gt; java.io.BufferedInputStream]; nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\r\n&gt; serializer found for class java.io.BufferedInputStream and no\r\n&gt; properties discovered to create BeanSerializer (to avoid exception,\r\n&gt; disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference\r\n&gt; chain:\r\n&gt; ru.fabit.visor.ui.web.http.model.response.complexes.mobilecomplex.DeviceSummaryResponse[&quot;route&quot;]-&gt;org.springframework.core.io.InputStreamResource[&quot;inputStream&quot;])\r\n\r\n","title":"how to resnopjnse file and json in one object Spring boot","body":"<p>i try to response this object:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DeviceSummaryResponse {\n\n    @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\n    private ConfigResponse config;\n\n    @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\n    private Resource route;\n}\n</code></pre>\n<p>but how can i do it?</p>\n<p>i try like this:</p>\n<pre><code>@GetMapping(DEVICE_ID_PATH)\n    public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n        var deviceSummary = mobileComplexService.getSummary(id);\n\n        return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\n    }\n</code></pre>\n<p>but it gets me:</p>\n<blockquote>\n<p>org.springframework.http.converter.HttpMessageConversionException:\nType definition error: [simple type, class\njava.io.BufferedInputStream]; nested exception is\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\nserializer found for class java.io.BufferedInputStream and no\nproperties discovered to create BeanSerializer (to avoid exception,\ndisable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference\nchain:\nru.fabit.visor.ui.web.http.model.response.complexes.mobilecomplex.DeviceSummaryResponse[&quot;route&quot;]-&gt;org.springframework.core.io.InputStreamResource[&quot;inputStream&quot;])</p>\n</blockquote>\n"},{"tags":["java","android","pdf-generation","itext7"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680278897,"post_id":75900558,"comment_id":133876812,"body_markdown":"The file exists bur does not belong to your app.","body":"The file exists bur does not belong to your app."},{"owner":{"account_id":25880957,"reputation":1,"user_id":19610022,"display_name":"Mohd Ashfaq"},"score":0,"creation_date":1680328592,"post_id":75900558,"comment_id":133883486,"body_markdown":"What does that mean?","body":"What does that mean?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1680328694,"post_id":75900558,"comment_id":133883491,"body_markdown":"Well is it true or not?","body":"Well is it true or not?"},{"owner":{"account_id":5909013,"reputation":1390,"user_id":4649860,"display_name":"Chirag Thummar"},"score":0,"creation_date":1689151494,"post_id":75900558,"comment_id":135171277,"body_markdown":"There is file permission issue","body":"There is file permission issue"}],"owner":{"account_id":25880957,"reputation":1,"user_id":19610022,"display_name":"Mohd Ashfaq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680278578,"creation_date":1680278380,"question_id":75900558,"body_markdown":"The app is generating the pdf in AVD but when I am running it in my android device it is not generating the pdf.\r\n\r\nAndroid device OS - 11\r\n\r\nAVD 1 - 11 API 30\r\n\r\nAVD 2 - Tiramisu API 33\r\n\r\nApp is working fine in both AVDs\r\n\r\nI tried adding \r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nand this is my build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.invoicemaker&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.invoicemaker&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    packagingOptions {\r\n        exclude(&quot;com/itextpdf/io/font/cmap_info.txt&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/MSungStd-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/MSung-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/STSong-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/STSongStd-Light.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJoStd-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HYGoThic-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJo-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/KozMinPro-Regular.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/MHei-Medium.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiMin-W3.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/cjk_registry.properties&quot;)\r\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiKakuGo-W5.properties&quot;)\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;com.itextpdf:itext7-core:7.1.3&#39;\r\n}\r\n```\r\n\r\nThis is my code :\r\n\r\n```\r\npackage com.example.invoicemaker;\r\n\r\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.OutputStream;\r\n\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.content.DialogInterface;\r\nimport android.content.RestrictionEntry;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.itextpdf.io.image.ImageData;\r\nimport com.itextpdf.io.image.ImageDataFactory;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.borders.Border;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Image;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.property.TextAlignment;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\r\n    private String name, phone, address, date, price;\r\n    private Button button;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        nameEditText= findViewById(R.id.nameEditText);\r\n        numberEditText= findViewById(R.id.phoneEditText);\r\n        addressEditText= findViewById(R.id.addressEditText);\r\n        dateEditText= findViewById(R.id.invoiceDateEditText);\r\n        priceEditText= findViewById(R.id.priceEditText);\r\n        button = findViewById(R.id.button);\r\n\r\n        name = nameEditText.toString();\r\n        phone = numberEditText.toString();\r\n        address = addressEditText.toString();\r\n        date = dateEditText.toString();\r\n        price = priceEditText.toString();\r\n\r\n        if (!checkPermission()) {\r\n            try {\r\n                openActivity();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            if (checkPermission()) {\r\n                requestPermissionAndContinue();\r\n            } else {\r\n                try {\r\n                    openActivity();\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n    private static final int PERMISSION_REQUEST_CODE = 200;\r\n    private boolean checkPermission() {\r\n\r\n        return ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                ;\r\n    }\r\n\r\n    private void requestPermissionAndContinue() {\r\n        if (ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, WRITE_EXTERNAL_STORAGE)\r\n                    &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(this, READ_EXTERNAL_STORAGE)) {\r\n                AlertDialog.Builder alertBuilder = new AlertDialog.Builder(this);\r\n                alertBuilder.setCancelable(true);\r\n                alertBuilder.setTitle(getString(R.string.permission_necessary));\r\n                alertBuilder.setMessage(R.string.storage_permission_is_encessary_to_wrote_event);\r\n                alertBuilder.setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE\r\n                                , READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n                    }\r\n                });\r\n                AlertDialog alert = alertBuilder.create();\r\n                alert.show();\r\n                Log.e(&quot;&quot;, &quot;permission denied, show dialog&quot;);\r\n            } else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,\r\n                        READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\r\n            }\r\n        } else {\r\n        try {\r\n            openActivity():\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (permissions.length &gt; 0 &amp;&amp; grantResults.length &gt; 0) {\r\n\r\n                boolean flag = true;\r\n                for (int i = 0; i &lt; grantResults.length; i++) {\r\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                        flag = false;\r\n                    }\r\n                }\r\n                if (flag) {\r\n                    try {\r\n                        openActivity();\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } else {\r\n                    finish();\r\n                }\r\n\r\n            } else {\r\n                finish();\r\n            }\r\n        } else {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n    private void openActivity() throws FileNotFoundException {\r\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n        File file = new File(path, &quot;myPDF.pdf&quot;);\r\n        OutputStream outputStream = new FileOutputStream(file);\r\n\r\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\r\n        PdfDocument pdfDocument = new PdfDocument(writer);\r\n        Document document = new Document(pdfDocument);\r\n\r\n        //        TABLE 1\r\n\r\n        float[] columnWidth1 = {280, 280};\r\n        Table table1 = new Table(columnWidth1);\r\n\r\n        Drawable d1 = getDrawable(R.drawable.logo);\r\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\r\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\r\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\r\n        byte[] bitmapData1 = stream1.toByteArray();\r\n\r\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\r\n        Image image1 = new Image(imageData1);\r\n        image1.setWidth(100f);\r\n\r\n        //  ROW 01\r\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\r\n        //  ROW 02\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\r\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n        //  ROW 05\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n\r\n\r\n\r\n        //        TABLE 2\r\n\r\n        float[] columnWidth2 = {280, 280};\r\n        Table table2 = new Table(columnWidth2);\r\n\r\n        //  ROW 01\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\r\n        //  ROW 02\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\r\n        //  ROW 03\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 04\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 05\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 06\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\r\n\r\n        //        TABLE 3\r\n\r\n        float[] columnWidth3 = {280, 280};\r\n        Table table3 = new Table(columnWidth3);\r\n\r\n        //  ROW 01\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        //  ROW 02\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@tameerenautrust.com&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;+91 9198809256&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;Lucknow Uttar Pradesh&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 05\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\r\n\r\n        document.add(table1);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table2);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table3);\r\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        document.close();\r\n    }\r\n}\r\n```\r\nBefore trying the code above, I was using this code :\r\n\r\n```\r\npackage com.example.invoicemaker;\r\n\r\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.OutputStream;\r\n\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.content.DialogInterface;\r\nimport android.content.RestrictionEntry;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.itextpdf.io.image.ImageData;\r\nimport com.itextpdf.io.image.ImageDataFactory;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.borders.Border;\r\nimport com.itextpdf.layout.element.Cell;\r\nimport com.itextpdf.layout.element.Image;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.property.TextAlignment;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\r\n    private String name, phone, address, date, price;\r\n    private Button button;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        nameEditText= findViewById(R.id.nameEditText);\r\n        numberEditText= findViewById(R.id.phoneEditText);\r\n        addressEditText= findViewById(R.id.addressEditText);\r\n        dateEditText= findViewById(R.id.invoiceDateEditText);\r\n        priceEditText= findViewById(R.id.priceEditText);\r\n        button = findViewById(R.id.button);\r\n\r\n        name = nameEditText.toString();\r\n        phone = numberEditText.toString();\r\n        address = addressEditText.toString();\r\n        date = dateEditText.toString();\r\n        price = priceEditText.toString();\r\n\r\n        try {\r\n            createPDF();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void createPDF() throws FileNotFoundException {\r\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n        File file = new File(path, &quot;myPDF.pdf&quot;);\r\n        OutputStream outputStream = new FileOutputStream(file);\r\n\r\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\r\n        PdfDocument pdfDocument = new PdfDocument(writer);\r\n        Document document = new Document(pdfDocument);\r\n\r\n        //        TABLE 1\r\n\r\n        float[] columnWidth1 = {280, 280};\r\n        Table table1 = new Table(columnWidth1);\r\n\r\n        Drawable d1 = getDrawable(R.drawable.logo);\r\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\r\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\r\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\r\n        byte[] bitmapData1 = stream1.toByteArray();\r\n\r\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\r\n        Image image1 = new Image(imageData1);\r\n        image1.setWidth(100f);\r\n\r\n        //  ROW 01\r\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\r\n        //  ROW 02\r\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\r\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n        //  ROW 05\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\r\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\r\n\r\n        //        TABLE 2\r\n\r\n        float[] columnWidth2 = {280, 280};\r\n        Table table2 = new Table(columnWidth2);\r\n\r\n        //  ROW 01\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\r\n        //  ROW 02\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\r\n        //  ROW 03\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 04\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\r\n        //  ROW 05\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\r\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 06\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\r\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\r\n\r\n        //        TABLE 3\r\n\r\n        float[] columnWidth3 = {280, 280};\r\n        Table table3 = new Table(columnWidth3);\r\n\r\n        //  ROW 01\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\r\n        //  ROW 02\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@XXXXXXXX.com&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 03\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXXXXX&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 04\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXX&quot;)).setBorder(Border.NO_BORDER));\r\n        //  ROW 05\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\r\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\r\n\r\n        document.add(table1);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table2);\r\n        document.add(new Paragraph(&quot;\\n&quot;));\r\n        document.add(table3);\r\n\r\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\r\n        document.close();\r\n    }\r\n}\r\n```\r\n\r\nERROR SHOWN IN LOG CAT :\r\n\r\n```\r\njava.io.FileNotFoundException: /storage/emulated/0/Download/myPDF.pdf: open failed: EEXIST (File exists)\r\nat libcore.io.IoBridge.open(IoBridge.java:492)\r\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\r\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\r\nat com.example.invoicemaker.MainActivity.createPDF(MainActivity.java:77)\r\nat com.example.invoicemaker.MainActivity.onCreate(MainActivity.java:68)\r\nat android.app.Activity.performCreate(Activity.java:8119)\r\nat android.app.Activity.performCreate(Activity.java:8103)\r\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\r\n```\r\nAND MORE...","title":"Making a pdf generator using iText7 library for android. Problem is that the app is generating pdf in android studio but not in my android phone","body":"<p>The app is generating the pdf in AVD but when I am running it in my android device it is not generating the pdf.</p>\n<p>Android device OS - 11</p>\n<p>AVD 1 - 11 API 30</p>\n<p>AVD 2 - Tiramisu API 33</p>\n<p>App is working fine in both AVDs</p>\n<p>I tried adding</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>and this is my build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.invoicemaker'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.invoicemaker&quot;\n        minSdk 26\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    packagingOptions {\n        exclude(&quot;com/itextpdf/io/font/cmap_info.txt&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/MSungStd-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/MSung-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/STSong-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/STSongStd-Light.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJoStd-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HYGoThic-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HYSMyeongJo-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/KozMinPro-Regular.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/MHei-Medium.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiMin-W3.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/cjk_registry.properties&quot;)\n        exclude(&quot;com/itextpdf/io/font/cmap/HeiseiKakuGo-W5.properties&quot;)\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.itextpdf:itext7-core:7.1.3'\n}\n</code></pre>\n<p>This is my code :</p>\n<pre><code>package com.example.invoicemaker;\n\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\n\n\nimport android.annotation.TargetApi;\nimport android.content.DialogInterface;\nimport android.content.RestrictionEntry;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.itextpdf.io.image.ImageData;\nimport com.itextpdf.io.image.ImageDataFactory;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.Border;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Image;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.property.TextAlignment;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\n    private String name, phone, address, date, price;\n    private Button button;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        nameEditText= findViewById(R.id.nameEditText);\n        numberEditText= findViewById(R.id.phoneEditText);\n        addressEditText= findViewById(R.id.addressEditText);\n        dateEditText= findViewById(R.id.invoiceDateEditText);\n        priceEditText= findViewById(R.id.priceEditText);\n        button = findViewById(R.id.button);\n\n        name = nameEditText.toString();\n        phone = numberEditText.toString();\n        address = addressEditText.toString();\n        date = dateEditText.toString();\n        price = priceEditText.toString();\n\n        if (!checkPermission()) {\n            try {\n                openActivity();\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        } else {\n            if (checkPermission()) {\n                requestPermissionAndContinue();\n            } else {\n                try {\n                    openActivity();\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n    private static final int PERMISSION_REQUEST_CODE = 200;\n    private boolean checkPermission() {\n\n        return ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n                ;\n    }\n\n    private void requestPermissionAndContinue() {\n        if (ContextCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(this, READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, WRITE_EXTERNAL_STORAGE)\n                    &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(this, READ_EXTERNAL_STORAGE)) {\n                AlertDialog.Builder alertBuilder = new AlertDialog.Builder(this);\n                alertBuilder.setCancelable(true);\n                alertBuilder.setTitle(getString(R.string.permission_necessary));\n                alertBuilder.setMessage(R.string.storage_permission_is_encessary_to_wrote_event);\n                alertBuilder.setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int which) {\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE\n                                , READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n                    }\n                });\n                AlertDialog alert = alertBuilder.create();\n                alert.show();\n                Log.e(&quot;&quot;, &quot;permission denied, show dialog&quot;);\n            } else {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,\n                        READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_CODE);\n            }\n        } else {\n        try {\n            openActivity():\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n        if (requestCode == PERMISSION_REQUEST_CODE) {\n            if (permissions.length &gt; 0 &amp;&amp; grantResults.length &gt; 0) {\n\n                boolean flag = true;\n                for (int i = 0; i &lt; grantResults.length; i++) {\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                        flag = false;\n                    }\n                }\n                if (flag) {\n                    try {\n                        openActivity();\n                    } catch (FileNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                } else {\n                    finish();\n                }\n\n            } else {\n                finish();\n            }\n        } else {\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        }\n    }\n\n    private void openActivity() throws FileNotFoundException {\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n        File file = new File(path, &quot;myPDF.pdf&quot;);\n        OutputStream outputStream = new FileOutputStream(file);\n\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\n        PdfDocument pdfDocument = new PdfDocument(writer);\n        Document document = new Document(pdfDocument);\n\n        //        TABLE 1\n\n        float[] columnWidth1 = {280, 280};\n        Table table1 = new Table(columnWidth1);\n\n        Drawable d1 = getDrawable(R.drawable.logo);\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\n        byte[] bitmapData1 = stream1.toByteArray();\n\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\n        Image image1 = new Image(imageData1);\n        image1.setWidth(100f);\n\n        //  ROW 01\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\n        //  ROW 02\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n        //  ROW 05\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n\n\n\n        //        TABLE 2\n\n        float[] columnWidth2 = {280, 280};\n        Table table2 = new Table(columnWidth2);\n\n        //  ROW 01\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\n        //  ROW 02\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\n        //  ROW 03\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 04\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 05\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 06\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\n\n        //        TABLE 3\n\n        float[] columnWidth3 = {280, 280};\n        Table table3 = new Table(columnWidth3);\n\n        //  ROW 01\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\n        //  ROW 02\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@tameerenautrust.com&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;+91 9198809256&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;Lucknow Uttar Pradesh&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 05\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\n\n        document.add(table1);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table2);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table3);\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\n\n        document.close();\n    }\n}\n</code></pre>\n<p>Before trying the code above, I was using this code :</p>\n<pre><code>package com.example.invoicemaker;\n\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\n\n\nimport android.annotation.TargetApi;\nimport android.content.DialogInterface;\nimport android.content.RestrictionEntry;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.itextpdf.io.image.ImageData;\nimport com.itextpdf.io.image.ImageDataFactory;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.borders.Border;\nimport com.itextpdf.layout.element.Cell;\nimport com.itextpdf.layout.element.Image;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.property.TextAlignment;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText nameEditText, numberEditText, addressEditText, dateEditText, priceEditText;\n    private String name, phone, address, date, price;\n    private Button button;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        nameEditText= findViewById(R.id.nameEditText);\n        numberEditText= findViewById(R.id.phoneEditText);\n        addressEditText= findViewById(R.id.addressEditText);\n        dateEditText= findViewById(R.id.invoiceDateEditText);\n        priceEditText= findViewById(R.id.priceEditText);\n        button = findViewById(R.id.button);\n\n        name = nameEditText.toString();\n        phone = numberEditText.toString();\n        address = addressEditText.toString();\n        date = dateEditText.toString();\n        price = priceEditText.toString();\n\n        try {\n            createPDF();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void createPDF() throws FileNotFoundException {\n        String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n        File file = new File(path, &quot;myPDF.pdf&quot;);\n        OutputStream outputStream = new FileOutputStream(file);\n\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\n        PdfDocument pdfDocument = new PdfDocument(writer);\n        Document document = new Document(pdfDocument);\n\n        //        TABLE 1\n\n        float[] columnWidth1 = {280, 280};\n        Table table1 = new Table(columnWidth1);\n\n        Drawable d1 = getDrawable(R.drawable.logo);\n        Bitmap bmp1 = ((BitmapDrawable)d1).getBitmap();\n        ByteArrayOutputStream stream1 = new ByteArrayOutputStream();\n        bmp1.compress(Bitmap.CompressFormat.JPEG, 100, stream1);\n        byte[] bitmapData1 = stream1.toByteArray();\n\n        ImageData imageData1 = ImageDataFactory.create(bitmapData1);\n        Image image1 = new Image(imageData1);\n        image1.setWidth(100f);\n\n        //  ROW 01\n        table1.addCell(new Cell(3, 1).add(image1).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(50f));\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;KALAM PUBLIC\\nSCHOOL&quot;).setFontSize(20f)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.CENTER).setMarginTop(90f).setMarginLeft(100f));\n        //  ROW 02\n        table1.addCell(new Cell(3, 1).add(new Paragraph(&quot;MANAGED BY\\nTAMEER-E-NAU\\nWELFARE TRUST&quot;)).setBorder(Border.NO_BORDER).setMarginTop(20f));\n        table1.addCell(new Cell(3,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table1.addCell(new Cell().add(new Paragraph(&quot;\\n&quot;)).setBorder(Border.NO_BORDER));\n        table1.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice Date:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Invoice To:&quot;).setBold()).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n        //  ROW 05\n        table1.addCell(new Cell().add(new Paragraph(&quot;3/10/2023&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.LEFT));\n        table1.addCell(new Cell().add(new Paragraph(&quot;Mohd Ashfaq&quot;)).setBorder(Border.NO_BORDER).setTextAlignment(TextAlignment.RIGHT));\n\n        //        TABLE 2\n\n        float[] columnWidth2 = {280, 280};\n        Table table2 = new Table(columnWidth2);\n\n        //  ROW 01\n        table2.addCell(new Cell().add(new Paragraph(&quot;DESCRIPTION&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;PRICE&quot;)));\n        //  ROW 02\n        table2.addCell(new Cell().add(new Paragraph(&quot;Donate&quot;)));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;)));\n        //  ROW 03\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2, 1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 04\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)));\n        //  ROW 05\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;\\n&quot;)));\n        table2.addCell(new Cell(2,1).add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 06\n        table2.addCell(new Cell().add(new Paragraph(&quot;SUB TOTAL :&quot;).setBold()));\n        table2.addCell(new Cell().add(new Paragraph(&quot;10,000 INR&quot;).setBold()));\n\n        //        TABLE 3\n\n        float[] columnWidth3 = {280, 280};\n        Table table3 = new Table(columnWidth3);\n\n        //  ROW 01\n        table3.addCell(new Cell().add(new Paragraph(&quot;PAYMENT MODE - CASH&quot;).setBold()).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;CONTACT&quot;).setBold()).setBorder(Border.NO_BORDER));\n        //  ROW 02\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;contact@XXXXXXXX.com&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 03\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXXXXX&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 04\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;XXXXXXX&quot;)).setBorder(Border.NO_BORDER));\n        //  ROW 05\n        table3.addCell(new Cell().add(new Paragraph(&quot;&quot;)).setBorder(Border.NO_BORDER));\n        table3.addCell(new Cell().add(new Paragraph(&quot;Pin Code 226020&quot;)).setBorder(Border.NO_BORDER));\n\n        document.add(table1);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table2);\n        document.add(new Paragraph(&quot;\\n&quot;));\n        document.add(table3);\n\n        Toast.makeText(this, &quot;Done!&quot;, Toast.LENGTH_SHORT).show();\n        document.close();\n    }\n}\n</code></pre>\n<p>ERROR SHOWN IN LOG CAT :</p>\n<pre><code>java.io.FileNotFoundException: /storage/emulated/0/Download/myPDF.pdf: open failed: EEXIST (File exists)\nat libcore.io.IoBridge.open(IoBridge.java:492)\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\nat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:186)\nat com.example.invoicemaker.MainActivity.createPDF(MainActivity.java:77)\nat com.example.invoicemaker.MainActivity.onCreate(MainActivity.java:68)\nat android.app.Activity.performCreate(Activity.java:8119)\nat android.app.Activity.performCreate(Activity.java:8103)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1359)\n</code></pre>\n<p>AND MORE...</p>\n"},{"tags":["java","java-stream","tostring"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680212251,"post_id":75892955,"comment_id":133864749,"body_markdown":"StringBuilder is declared but not used in the replacement.  But anyway, what is the expected output and what is `getCell()`?  Showing some sample data with any classes, if they exist, would help.","body":"StringBuilder is declared but not used in the replacement.  But anyway, what is the expected output and what is <code>getCell()</code>?  Showing some sample data with any classes, if they exist, would help."},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1680212299,"post_id":75892955,"comment_id":133864758,"body_markdown":"@WJS better now?","body":"@WJS better now?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1680212568,"post_id":75892955,"comment_id":133864791,"body_markdown":"`flatMap()` expects a stream. You&#39;re returning a single string. Maybe just try `map()`?","body":"<code>flatMap()</code> expects a stream. You&#39;re returning a single string. Maybe just try <code>map()</code>?"},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1680213291,"post_id":75892955,"comment_id":133864919,"body_markdown":"@shmosel blindly turning flatMap into map does not banish the rats.  Any other thoughts?","body":"@shmosel blindly turning flatMap into map does not banish the rats.  Any other thoughts?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1680214006,"post_id":75892955,"comment_id":133865030,"body_markdown":"Well, I didn&#39;t say blindly. Looks like you actually need `mapToObj()`.","body":"Well, I didn&#39;t say blindly. Looks like you actually need <code>mapToObj()</code>."},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1680239266,"post_id":75892955,"comment_id":133867747,"body_markdown":"@shmosel Hey, whada know. Blindly turning `flatMap` into `mapToObj` banished the rats. Thanks. Consider writing it up as an answer so I can give you credit for it.","body":"@shmosel Hey, whada know. Blindly turning <code>flatMap</code> into <code>mapToObj</code> banished the rats. Thanks. Consider writing it up as an answer so I can give you credit for it."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680240030,"creation_date":1680240030,"answer_id":75895096,"question_id":75892955,"body_markdown":"Your outer stream calls `flatMap()` which is supposed to expand each element into a stream (in this case, `IntStream`) and flatten the results back into one stream. It&#39;s failing because the provided fuction returns a single string instead of a stream. Since the result is one-for-one, you just need an ordinary map operation to transform each row into a string:\r\n\r\n    return IntStream\r\n        .range(0, rows)\r\n        .mapToObj(row -&gt; columns\r\n            .stream()\r\n            .map( col -&gt; col.getCell(row) )\r\n            .collect( Collectors.joining(columnSeparator) )\r\n        )\r\n        .collect( Collectors.joining( System.lineSeparator() ) )\r\n    ;","title":"How to do a row first traversal of a list of lists of the same length using IntStream","body":"<p>Your outer stream calls <code>flatMap()</code> which is supposed to expand each element into a stream (in this case, <code>IntStream</code>) and flatten the results back into one stream. It's failing because the provided fuction returns a single string instead of a stream. Since the result is one-for-one, you just need an ordinary map operation to transform each row into a string:</p>\n<pre><code>return IntStream\n    .range(0, rows)\n    .mapToObj(row -&gt; columns\n        .stream()\n        .map( col -&gt; col.getCell(row) )\n        .collect( Collectors.joining(columnSeparator) )\n    )\n    .collect( Collectors.joining( System.lineSeparator() ) )\n;\n</code></pre>\n"}],"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75895096,"answer_count":1,"score":0,"last_activity_date":1680278515,"creation_date":1680210099,"question_id":75892955,"body_markdown":"I have some [working code](https://stackoverflow.com/a/26674200/1493294) that turns this:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n    new Columns()\r\n        .addLine(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;)\r\n        .addLine(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;)\r\n        .print()\r\n    ;\r\n}\r\n```\r\n\r\ninto this:\r\n\r\n```none\r\nOne Two Three Four \r\n1   2   3     4    \r\n```\r\n\r\nbut while trying to improve it with [this also working code](https://codereview.stackexchange.com/q/284061/40367), and follow the advice given about it [here](https://codereview.stackexchange.com/a/284234/40367), I tried to replace this working `toString()` code:\r\n\r\n```Java\r\npublic String toString(){\r\n    \r\n    final StringBuilder result = new StringBuilder();\r\n    final int rows = columns.get(0).size();\r\n\r\n    IntStream\r\n        .range(0, rows)\r\n        .forEach( \r\n            row -&gt; {\r\n                result\r\n                    .append( \r\n                        columns\r\n                        .stream()\r\n                        .map(col -&gt; col.getCell(row))\r\n                        .collect( Collectors.joining(columnSeparator) )\r\n                    )\r\n                ;\r\n                result.append( System.lineSeparator() );\r\n            }\r\n        )\r\n    ;\r\n\r\n    return result.toString();\r\n}\r\n```\r\n\r\nwith this broken `toString()` code:  &lt;sup&gt;[was following this](https://stackoverflow.com/a/32296261/1493294)&lt;/sup&gt;\r\n\r\n```Java\r\npublic String toString(){\r\n    \r\n    final int rows = columns.get(0).size();\r\n    \r\n    return IntStream\r\n        .range(0, rows)\r\n        .flatMap(row -&gt; columns\r\n            .stream()\r\n            .map( col -&gt; col.getCell(row) )\r\n            .collect( Collectors.joining(columnSeparator) )\r\n        )\r\n        .collect( Collectors.joining( System.lineSeparator() ) )\r\n    ;\r\n}\r\n```\r\nonly to see this:\r\n\r\n```none\r\nColumns.java:81: error: incompatible types: bad return type in lambda expression\r\n                .collect( Collectors.joining(columnSeparator) )\r\n                        ^\r\n    inference variable R has incompatible bounds\r\n      equality constraints: String\r\n      lower bounds: IntStream,Object\r\n  where R,A,T are type-variables:\r\n    R extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\r\n    A extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\r\n    T extends Object declared in interface Stream\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n1 error\r\n```\r\n\r\nto which I can only say, rats.\r\n\r\n----\r\n\r\nIf you&#39;re the kind that hates clicking links here&#39;s the highlights of what you&#39;re missing:\r\n\r\n    private final List&lt;Column&gt; columns = new ArrayList&lt;&gt;();\r\n\r\nAnd down in the `Column` class we find\r\n\r\n    public String getCell(int row){\r\n        return padCell( words.get(row), maxLength );\r\n    }\r\n\r\nThe advise I was given: &quot;replace the `StringBuilder` in toString with another joining `Collector`.&quot;\r\n\r\nThe `toString` is trying to traverse these columns row by row concatenating the padded cells of strings it finds in each. Completing a row of cells from all columns before going to the next row.\r\n\r\nYes I know a simple double for loop can do this but where&#39;s the fun in that? \r\n\r\n&lt;sup&gt;Honestly it works but leaves unneeded column separators hanging on the side which bugs me&lt;/sup&gt;\r\n","title":"How to do a row first traversal of a list of lists of the same length using IntStream","body":"<p>I have some <a href=\"https://stackoverflow.com/a/26674200/1493294\">working code</a> that turns this:</p>\n<pre><code>public static void main(String[] args) {\n    new Columns()\n        .addLine(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;)\n        .addLine(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;)\n        .print()\n    ;\n}\n</code></pre>\n<p>into this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>One Two Three Four \n1   2   3     4    \n</code></pre>\n<p>but while trying to improve it with <a href=\"https://codereview.stackexchange.com/q/284061/40367\">this also working code</a>, and follow the advice given about it <a href=\"https://codereview.stackexchange.com/a/284234/40367\">here</a>, I tried to replace this working <code>toString()</code> code:</p>\n<pre><code>public String toString(){\n    \n    final StringBuilder result = new StringBuilder();\n    final int rows = columns.get(0).size();\n\n    IntStream\n        .range(0, rows)\n        .forEach( \n            row -&gt; {\n                result\n                    .append( \n                        columns\n                        .stream()\n                        .map(col -&gt; col.getCell(row))\n                        .collect( Collectors.joining(columnSeparator) )\n                    )\n                ;\n                result.append( System.lineSeparator() );\n            }\n        )\n    ;\n\n    return result.toString();\n}\n</code></pre>\n<p>with this broken <code>toString()</code> code:  <sup><a href=\"https://stackoverflow.com/a/32296261/1493294\">was following this</a></sup></p>\n<pre><code>public String toString(){\n    \n    final int rows = columns.get(0).size();\n    \n    return IntStream\n        .range(0, rows)\n        .flatMap(row -&gt; columns\n            .stream()\n            .map( col -&gt; col.getCell(row) )\n            .collect( Collectors.joining(columnSeparator) )\n        )\n        .collect( Collectors.joining( System.lineSeparator() ) )\n    ;\n}\n</code></pre>\n<p>only to see this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Columns.java:81: error: incompatible types: bad return type in lambda expression\n                .collect( Collectors.joining(columnSeparator) )\n                        ^\n    inference variable R has incompatible bounds\n      equality constraints: String\n      lower bounds: IntStream,Object\n  where R,A,T are type-variables:\n    R extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\n    A extends Object declared in method &lt;R,A&gt;collect(Collector&lt;? super T,A,R&gt;)\n    T extends Object declared in interface Stream\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n1 error\n</code></pre>\n<p>to which I can only say, rats.</p>\n<hr />\n<p>If you're the kind that hates clicking links here's the highlights of what you're missing:</p>\n<pre><code>private final List&lt;Column&gt; columns = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And down in the <code>Column</code> class we find</p>\n<pre><code>public String getCell(int row){\n    return padCell( words.get(row), maxLength );\n}\n</code></pre>\n<p>The advise I was given: &quot;replace the <code>StringBuilder</code> in toString with another joining <code>Collector</code>.&quot;</p>\n<p>The <code>toString</code> is trying to traverse these columns row by row concatenating the padded cells of strings it finds in each. Completing a row of cells from all columns before going to the next row.</p>\n<p>Yes I know a simple double for loop can do this but where's the fun in that?</p>\n<p><sup>Honestly it works but leaves unneeded column separators hanging on the side which bugs me</sup></p>\n"},{"tags":["java","pdfbox","boxable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680262459,"post_id":75897623,"comment_id":133872461,"body_markdown":"A PDF may not be the right format for 200,000(?) rows.","body":"A PDF may not be the right format for 200,000(?) rows."}],"owner":{"account_id":14043952,"reputation":53,"user_id":10144712,"display_name":"Shahzad Hussain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680277803,"creation_date":1680259445,"question_id":75897623,"body_markdown":"I am trying to generate the pdf using pdfbox/boxable with 200000 rows, But it is taking around 2 hours to generate the pdf. Data is in arraylist format.\r\n\r\n    BaseTable baseTable = new BaseTable(yStart, yStartNewPage, bottomMargin,\r\n              tableWidth, margin, doc, page, true, true);\r\n    DataTable dataTable = new DataTable(baseTable, page);\r\n    \r\n    dataTable.addListToTable(data, hasHeader); //This part is taking a lot of time\r\n    baseTable.draw();\r\n    File result = new File(destination);\r\n    \r\n    contentStream.close();\r\n    doc.save(result);\r\n\r\nPlease help me to fix this issue.","title":"PDFBOX or Boxable is taking some time to generate a PDF for excessively large data of two hundred thousand rows","body":"<p>I am trying to generate the pdf using pdfbox/boxable with 200000 rows, But it is taking around 2 hours to generate the pdf. Data is in arraylist format.</p>\n<pre><code>BaseTable baseTable = new BaseTable(yStart, yStartNewPage, bottomMargin,\n          tableWidth, margin, doc, page, true, true);\nDataTable dataTable = new DataTable(baseTable, page);\n\ndataTable.addListToTable(data, hasHeader); //This part is taking a lot of time\nbaseTable.draw();\nFile result = new File(destination);\n\ncontentStream.close();\ndoc.save(result);\n</code></pre>\n<p>Please help me to fix this issue.</p>\n"},{"tags":["java","android","database","gradle","kotlin"],"answers":[{"tags":[],"owner":{"account_id":295108,"reputation":72036,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584623318,"creation_date":1584623318,"answer_id":60757911,"question_id":60757876,"body_markdown":"You cannot copy something into the assets folder at runtime if that is what you are asking. You will need to download the file then store it in the file system at runtime","title":"Is there any way that I can read database file from local computer (local server) and copy to assets folder in android?","body":"<p>You cannot copy something into the assets folder at runtime if that is what you are asking. You will need to download the file then store it in the file system at runtime</p>\n"}],"owner":{"account_id":7328545,"reputation":19,"user_id":5582230,"display_name":"Satinder Gill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680277705,"creation_date":1584623166,"question_id":60757876,"body_markdown":"    @Singleton\r\n    @Provides\r\n    fun provideDB(applicationContext: Context): myDB{\r\n        return Room.databaseBuilder(applicationContext, myDB::class.java, DatabaseConstants.DATABASE)\r\n                .createFromAsset(&quot;sample2.db&quot;)\r\n                .fallbackToDestructiveMigration()\r\n                .build()\r\n    }\r\n\r\n\r\nThis is my code in which I am reading sample2.db from the assets folder. \r\nI want to read it from the local server and paste it to the assets folder so that I can use it the way I am using it during runtime.\r\nThe app should read the file from the local server and paste to the assets folder or update the file if already present.\r\n\r\n","title":"Is there any way that I can read database file from local computer (local server) and copy to assets folder in android?","body":"<pre><code>@Singleton\n@Provides\nfun provideDB(applicationContext: Context): myDB{\n    return Room.databaseBuilder(applicationContext, myDB::class.java, DatabaseConstants.DATABASE)\n            .createFromAsset(\"sample2.db\")\n            .fallbackToDestructiveMigration()\n            .build()\n}\n</code></pre>\n\n<p>This is my code in which I am reading sample2.db from the assets folder. \nI want to read it from the local server and paste it to the assets folder so that I can use it the way I am using it during runtime.\nThe app should read the file from the local server and paste to the assets folder or update the file if already present.</p>\n"},{"tags":["java","spring","apache-camel","amazon-sqs","aws-sdk-java-2.0"],"owner":{"account_id":9229113,"reputation":1100,"user_id":6855849,"accept_rate":75,"display_name":"Samet Baskıcı"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680277326,"creation_date":1680277326,"question_id":75900396,"body_markdown":"\r\nI would like to set an interceptor to intercept all SQS messages coming through my app in one place regardless of how many queues I have.\r\n\r\nI am using Spring Boot.\r\n\r\nvia ***spring-cloud-aws-messaging*** I am able to do it by extending QueueMessageHandler and passing it to the listener as a handler factory like the following.\r\n\r\n    public class AwsSQSMessageHandler extends QueueMessageHandler {\r\n    \r\n        public AwsSQSMessageHandler(List&lt;MessageConverter&gt; messageConverters) {\r\n            super(messageConverters);\r\n        }\r\n    \r\n        @Override\r\n        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n            try {\r\n                MDC.put(&quot;requestId&quot;, &quot;RequestId=&quot; + UUID.randomUUID());\r\n                super.handleMessage(message);\r\n            } finally {\r\n                MDC.clear();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\r\n        SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\r\n        factory.setAmazonSqs(amazonSqs);\r\n        factory.setQueueMessageHandler(new AwsSQSMessageHandler(getConverters()));\r\n        return factory;\r\n    }\r\n\r\nHow can I do it by apache camel on my spring boot project?\r\n\r\nHere is my camel config for 2 queue:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class MessageRoute1 extends RouteBuilder {\r\n    \r\n        private final MessageProcessor1 messageProcessor1;\r\n        private final SqsClient sqsClient;\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n            from(aws2Sqs(&quot;queue1&quot;).amazonSQSClient(sqsClient)\r\n            ).process(messageProcessor1);\r\n        }\r\n    }\r\n    \r\n    \r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class MessageRoute2 extends RouteBuilder {\r\n    \r\n        private final MessageProcessor2 messageProcessor2;\r\n        private final SqsClient sqsClient;\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n            from(aws2Sqs(&quot;queue2&quot;).amazonSQSClient(sqsClient)\r\n            ).process(messageProcessor2);\r\n        }\r\n    }\r\n\r\nDo you have any idea How to do the same thing here?","title":"How to set an interceptor for all sqs routes in apache Camel","body":"<p>I would like to set an interceptor to intercept all SQS messages coming through my app in one place regardless of how many queues I have.</p>\n<p>I am using Spring Boot.</p>\n<p>via <em><strong>spring-cloud-aws-messaging</strong></em> I am able to do it by extending QueueMessageHandler and passing it to the listener as a handler factory like the following.</p>\n<pre><code>public class AwsSQSMessageHandler extends QueueMessageHandler {\n\n    public AwsSQSMessageHandler(List&lt;MessageConverter&gt; messageConverters) {\n        super(messageConverters);\n    }\n\n    @Override\n    public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n        try {\n            MDC.put(&quot;requestId&quot;, &quot;RequestId=&quot; + UUID.randomUUID());\n            super.handleMessage(message);\n        } finally {\n            MDC.clear();\n        }\n    }\n}\n\n@Bean\n@Primary\npublic SimpleMessageListenerContainerFactory simpleMessageListenerContainerFactory(AmazonSQSAsync amazonSqs) {\n    SimpleMessageListenerContainerFactory factory = new SimpleMessageListenerContainerFactory();\n    factory.setAmazonSqs(amazonSqs);\n    factory.setQueueMessageHandler(new AwsSQSMessageHandler(getConverters()));\n    return factory;\n}\n</code></pre>\n<p>How can I do it by apache camel on my spring boot project?</p>\n<p>Here is my camel config for 2 queue:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class MessageRoute1 extends RouteBuilder {\n\n    private final MessageProcessor1 messageProcessor1;\n    private final SqsClient sqsClient;\n\n    @Override\n    public void configure() throws Exception {\n        from(aws2Sqs(&quot;queue1&quot;).amazonSQSClient(sqsClient)\n        ).process(messageProcessor1);\n    }\n}\n\n\n@Component\n@RequiredArgsConstructor\npublic class MessageRoute2 extends RouteBuilder {\n\n    private final MessageProcessor2 messageProcessor2;\n    private final SqsClient sqsClient;\n\n    @Override\n    public void configure() throws Exception {\n        from(aws2Sqs(&quot;queue2&quot;).amazonSQSClient(sqsClient)\n        ).process(messageProcessor2);\n    }\n}\n</code></pre>\n<p>Do you have any idea How to do the same thing here?</p>\n"},{"tags":["java","swt","narrator"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1680254150,"post_id":75896492,"comment_id":133870522,"body_markdown":"SWT has quite a lot of accessibility support that might help - see for example the SWT snippets https://www.eclipse.org/swt/snippets/#accessibility","body":"SWT has quite a lot of accessibility support that might help - see for example the SWT snippets <a href=\"https://www.eclipse.org/swt/snippets/#accessibility\" rel=\"nofollow noreferrer\">eclipse.org/swt/snippets/#accessibility</a>"}],"owner":{"account_id":27891215,"reputation":13,"user_id":21297550,"display_name":"Peter Orgovan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680276737,"creation_date":1680252007,"question_id":75896492,"body_markdown":"I have SWT tree viewer and I have issue with narrator support. Currently narrator is reacting only when I go from row to another row and reading content of hole row. If I move with keyboard in one row from column to column narrator is not reading anything. It seems like it doesn&#39;t send any event to narrator when this movement from column to column is done. I found out that I can catch this event with TraverseListener, but I don&#39;t know how I could notify narrator to catch this event and read content of new cell where I move to.\r\n[![enter image description here](https://i.stack.imgur.com/64F2I.png)](https://i.stack.imgur.com/64F2I.png)\r\n\r\n```\r\npackage test.test;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.eclipse.jdt.annotation.Nullable;\r\nimport org.eclipse.jface.viewers.CellEditor;\r\nimport org.eclipse.jface.viewers.CheckboxCellEditor;\r\nimport org.eclipse.jface.viewers.ColumnLabelProvider;\r\nimport org.eclipse.jface.viewers.ColumnViewerEditor;\r\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationEvent;\r\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationStrategy;\r\nimport org.eclipse.jface.viewers.EditingSupport;\r\nimport org.eclipse.jface.viewers.FocusCellOwnerDrawHighlighter;\r\nimport org.eclipse.jface.viewers.ITreeContentProvider;\r\nimport org.eclipse.jface.viewers.TextCellEditor;\r\nimport org.eclipse.jface.viewers.TreeViewer;\r\nimport org.eclipse.jface.viewers.TreeViewerColumn;\r\nimport org.eclipse.jface.viewers.TreeViewerEditor;\r\nimport org.eclipse.jface.viewers.TreeViewerFocusCellManager;\r\nimport org.eclipse.jface.viewers.Viewer;\r\nimport org.eclipse.jface.viewers.ViewerCell;\r\nimport org.eclipse.jface.viewers.ViewerRow;\r\nimport org.eclipse.swt.SWT;\r\nimport org.eclipse.swt.events.TraverseEvent;\r\nimport org.eclipse.swt.events.TraverseListener;\r\nimport org.eclipse.swt.layout.FillLayout;\r\nimport org.eclipse.swt.widgets.Display;\r\nimport org.eclipse.swt.widgets.Shell;\r\nimport org.eclipse.swt.widgets.Widget;\r\n\r\nclass TestTreeViewer {\r\n    public TestTreeViewer(final Shell shell) {\r\n        final TreeViewer v = new TreeViewer(shell, SWT.BORDER | SWT.FULL_SELECTION);\r\n        v.getTree().setLinesVisible(true);\r\n        v.getTree().setHeaderVisible(true);\r\n\r\n        v.getTree().addTraverseListener(new TraverseListener() {\r\n\r\n            @Override\r\n            public void keyTraversed(TraverseEvent e) {\r\n                System.out.print(&quot;TraverseEvent&quot;);\r\n                Widget widget = e.widget;\r\n            }\r\n        });\r\n\r\n        final TreeViewerFocusCellManager mgr = new TreeViewerFocusCellManager(v, new FocusCellOwnerDrawHighlighter(v));\r\n        ColumnViewerEditorActivationStrategy actSupport = new ColumnViewerEditorActivationStrategy(v) {\r\n            @Override\r\n            protected boolean isEditorActivationEvent(ColumnViewerEditorActivationEvent event) {\r\n                return (event.eventType == ColumnViewerEditorActivationEvent.TRAVERSAL) || (event.eventType == ColumnViewerEditorActivationEvent.MOUSE_DOUBLE_CLICK_SELECTION) || ((event.eventType == ColumnViewerEditorActivationEvent.KEY_PRESSED) &amp;&amp; ((event.keyCode == SWT.CR) || (event.character == &#39; &#39;))) || (event.eventType == ColumnViewerEditorActivationEvent.PROGRAMMATIC);\r\n            }\r\n        };\r\n\r\n        TreeViewerEditor.create(v, mgr, actSupport, ColumnViewerEditor.TABBING_HORIZONTAL | ColumnViewerEditor.TABBING_MOVE_TO_ROW_NEIGHBOR | ColumnViewerEditor.TABBING_VERTICAL | ColumnViewerEditor.KEYBOARD_ACTIVATION);\r\n\r\n        final TextCellEditor textCellEditor = new TextCellEditor(v.getTree());\r\n        final CheckboxCellEditor checkboxCellEditor = new CheckboxCellEditor(v.getTree());\r\n\r\n        TreeViewerColumn column = new TreeViewerColumn(v, SWT.NONE);\r\n        column.getColumn().setWidth(200);\r\n        column.getColumn().setMoveable(true);\r\n        column.getColumn().setText(&quot;Column 1&quot;);\r\n        column.setLabelProvider(new ColumnLabelProvider() {\r\n\r\n            @Override\r\n            public String getText(Object element) {\r\n                return &quot;Column 1 =&gt; &quot; + element;\r\n            }\r\n\r\n        });\r\n        column.setEditingSupport(new EditingSupport(v) {\r\n            @Override\r\n            protected boolean canEdit(Object element) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            protected CellEditor getCellEditor(Object element) {\r\n                return textCellEditor;\r\n            }\r\n\r\n            @Override\r\n            protected Object getValue(Object element) {\r\n                return ((MyModel) element).counter + &quot;&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected void setValue(Object element, Object value) {\r\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\r\n                v.update(element, null);\r\n            }\r\n        });\r\n\r\n        column = new TreeViewerColumn(v, SWT.NONE);\r\n        column.getColumn().setWidth(200);\r\n        column.getColumn().setMoveable(true);\r\n        column.getColumn().setText(&quot;Column 2&quot;);\r\n        column.setLabelProvider(new ColumnLabelProvider() {\r\n\r\n            @Override\r\n            public String getText(Object element) {\r\n                return &quot;Column 2 =&gt; &quot; + element;\r\n            }\r\n\r\n        });\r\n        column.setEditingSupport(new EditingSupport(v) {\r\n            @Override\r\n            protected boolean canEdit(Object element) {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            protected CellEditor getCellEditor(Object element) {\r\n                return textCellEditor;\r\n            }\r\n\r\n            @Override\r\n            protected Object getValue(Object element) {\r\n                return ((MyModel) element).counter + &quot;&quot;;\r\n            }\r\n\r\n            @Override\r\n            protected void setValue(Object element, Object value) {\r\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\r\n                v.update(element, null);\r\n            }\r\n        });\r\n\r\n        column = new TreeViewerColumn(v, SWT.NONE);\r\n        column.getColumn().setWidth(200);\r\n        column.getColumn().setMoveable(true);\r\n        column.getColumn().setText(&quot;Column 3&quot;);\r\n        column.setLabelProvider(new ColumnLabelProvider() {\r\n\r\n            @Override\r\n            public String getText(Object element) {\r\n                if (element == null) {\r\n                    return &quot;&quot;;\r\n                }\r\n                return ((MyModel) element).bool + &quot;&quot;;\r\n            }\r\n\r\n        });\r\n        column.setEditingSupport(new EditingSupport(v) {\r\n            @Override\r\n            protected boolean canEdit(Object element) {\r\n                return true;\r\n            }\r\n\r\n            @Override\r\n            protected CellEditor getCellEditor(Object element) {\r\n                return checkboxCellEditor;\r\n            }\r\n\r\n            @Override\r\n            protected Object getValue(Object element) {\r\n                return Boolean.valueOf(((MyModel) element).bool);\r\n            }\r\n\r\n            @Override\r\n            protected void setValue(Object element, Object value) {\r\n                ((MyModel) element).bool = ((Boolean) value).booleanValue();\r\n                v.update(element, null);\r\n            }\r\n        });\r\n\r\n        v.setContentProvider(new MyContentProvider());\r\n        v.setInput(createModel());\r\n        v.getControl().addTraverseListener(e -&gt; {\r\n            if (((e.detail == SWT.TRAVERSE_TAB_NEXT) || (e.detail == SWT.TRAVERSE_TAB_PREVIOUS)) &amp;&amp; (mgr.getFocusCell().getColumnIndex() == 2)) {\r\n                ColumnViewerEditor editor = v.getColumnViewerEditor();\r\n                ViewerCell cell = mgr.getFocusCell();\r\n\r\n                try {\r\n                    Method m = ColumnViewerEditor.class.getDeclaredMethod(&quot;processTraverseEvent&quot;, new Class[] { int.class, ViewerRow.class, TraverseEvent.class });\r\n                    m.setAccessible(true);\r\n                    m.invoke(editor, Integer.valueOf(cell.getColumnIndex()), cell.getViewerRow(), e);\r\n                } catch (SecurityException | NoSuchMethodException | IllegalArgumentException | IllegalAccessException | InvocationTargetException e1) {\r\n                    // TODO Auto-generated catch block\r\n                    e1.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private MyModel createModel() {\r\n\r\n        MyModel root = new MyModel(0, null);\r\n        root.counter = 0;\r\n\r\n        MyModel tmp;\r\n        MyModel subItem;\r\n        for (int i = 1; i &lt; 10; i++) {\r\n            tmp = new MyModel(i, root);\r\n            root.child.add(tmp);\r\n            for (int j = 1; j &lt; i; j++) {\r\n                subItem = new MyModel(j, tmp);\r\n                subItem.child.add(new MyModel(j * 100, subItem));\r\n                tmp.child.add(subItem);\r\n            }\r\n        }\r\n\r\n        return root;\r\n    }\r\n\r\n    public static void init() {\r\n        Display display = new Display();\r\n        Shell shell = new Shell(display);\r\n        shell.setLayout(new FillLayout());\r\n        TestTreeViewer snip = new TestTreeViewer(shell);\r\n        snip.toString();\r\n        shell.open();\r\n\r\n        while (!shell.isDisposed()) {\r\n            if (!display.readAndDispatch()) {\r\n                display.sleep();\r\n            }\r\n        }\r\n\r\n        display.dispose();\r\n    }\r\n\r\n    private static class MyContentProvider implements ITreeContentProvider {\r\n\r\n        @Override\r\n        public Object[] getElements(Object inputElement) {\r\n            return ((MyModel) inputElement).child.toArray();\r\n        }\r\n\r\n        @Override\r\n        public void dispose() {\r\n            //\r\n        }\r\n\r\n        @Override\r\n        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\r\n            //\r\n        }\r\n\r\n        @Override\r\n        public Object[] getChildren(Object parentElement) {\r\n            return getElements(parentElement);\r\n        }\r\n\r\n        @Override\r\n        public Object getParent(@Nullable Object element) {\r\n            if (element == null) {\r\n                return null;\r\n            }\r\n            return ((MyModel) element).parent;\r\n        }\r\n\r\n        @Override\r\n        public boolean hasChildren(Object element) {\r\n            return ((MyModel) element).child.size() &gt; 0;\r\n        }\r\n\r\n    }\r\n\r\n    public static class MyModel {\r\n\r\n        @Nullable\r\n        public MyModel parent;\r\n        public List&lt;MyModel&gt; child = new ArrayList&lt;&gt;();\r\n        public int counter;\r\n        public boolean bool;\r\n\r\n        public MyModel(int counter, MyModel parent) {\r\n            this.parent = parent;\r\n            this.counter = counter;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            String rv = &quot;Item &quot;;\r\n            if (parent != null) {\r\n                rv = parent + &quot;.&quot;;\r\n            }\r\n            rv += counter;\r\n\r\n            return rv;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n \r\n\r\nI am able to catch event when I move from column to column with Traverse Listener but I don&#39;t know how to notify Narrator that this change happened. Also how to specify cell where is currently my position.\r\n\r\nThere is also some weird behavior of narrator that for some reason it seems as it can catch selection of just elements in first column. I don&#39;t know why is this behavior as every column I create in the same. way. [![enter image description here][1]][1]\r\n\r\nThank you for you ideas!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GIYoL.png","title":"How to invoke narrator to read content of cell","body":"<p>I have SWT tree viewer and I have issue with narrator support. Currently narrator is reacting only when I go from row to another row and reading content of hole row. If I move with keyboard in one row from column to column narrator is not reading anything. It seems like it doesn't send any event to narrator when this movement from column to column is done. I found out that I can catch this event with TraverseListener, but I don't know how I could notify narrator to catch this event and read content of new cell where I move to.\n<a href=\"https://i.stack.imgur.com/64F2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64F2I.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package test.test;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.eclipse.jdt.annotation.Nullable;\nimport org.eclipse.jface.viewers.CellEditor;\nimport org.eclipse.jface.viewers.CheckboxCellEditor;\nimport org.eclipse.jface.viewers.ColumnLabelProvider;\nimport org.eclipse.jface.viewers.ColumnViewerEditor;\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationEvent;\nimport org.eclipse.jface.viewers.ColumnViewerEditorActivationStrategy;\nimport org.eclipse.jface.viewers.EditingSupport;\nimport org.eclipse.jface.viewers.FocusCellOwnerDrawHighlighter;\nimport org.eclipse.jface.viewers.ITreeContentProvider;\nimport org.eclipse.jface.viewers.TextCellEditor;\nimport org.eclipse.jface.viewers.TreeViewer;\nimport org.eclipse.jface.viewers.TreeViewerColumn;\nimport org.eclipse.jface.viewers.TreeViewerEditor;\nimport org.eclipse.jface.viewers.TreeViewerFocusCellManager;\nimport org.eclipse.jface.viewers.Viewer;\nimport org.eclipse.jface.viewers.ViewerCell;\nimport org.eclipse.jface.viewers.ViewerRow;\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.events.TraverseEvent;\nimport org.eclipse.swt.events.TraverseListener;\nimport org.eclipse.swt.layout.FillLayout;\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Shell;\nimport org.eclipse.swt.widgets.Widget;\n\nclass TestTreeViewer {\n    public TestTreeViewer(final Shell shell) {\n        final TreeViewer v = new TreeViewer(shell, SWT.BORDER | SWT.FULL_SELECTION);\n        v.getTree().setLinesVisible(true);\n        v.getTree().setHeaderVisible(true);\n\n        v.getTree().addTraverseListener(new TraverseListener() {\n\n            @Override\n            public void keyTraversed(TraverseEvent e) {\n                System.out.print(&quot;TraverseEvent&quot;);\n                Widget widget = e.widget;\n            }\n        });\n\n        final TreeViewerFocusCellManager mgr = new TreeViewerFocusCellManager(v, new FocusCellOwnerDrawHighlighter(v));\n        ColumnViewerEditorActivationStrategy actSupport = new ColumnViewerEditorActivationStrategy(v) {\n            @Override\n            protected boolean isEditorActivationEvent(ColumnViewerEditorActivationEvent event) {\n                return (event.eventType == ColumnViewerEditorActivationEvent.TRAVERSAL) || (event.eventType == ColumnViewerEditorActivationEvent.MOUSE_DOUBLE_CLICK_SELECTION) || ((event.eventType == ColumnViewerEditorActivationEvent.KEY_PRESSED) &amp;&amp; ((event.keyCode == SWT.CR) || (event.character == ' '))) || (event.eventType == ColumnViewerEditorActivationEvent.PROGRAMMATIC);\n            }\n        };\n\n        TreeViewerEditor.create(v, mgr, actSupport, ColumnViewerEditor.TABBING_HORIZONTAL | ColumnViewerEditor.TABBING_MOVE_TO_ROW_NEIGHBOR | ColumnViewerEditor.TABBING_VERTICAL | ColumnViewerEditor.KEYBOARD_ACTIVATION);\n\n        final TextCellEditor textCellEditor = new TextCellEditor(v.getTree());\n        final CheckboxCellEditor checkboxCellEditor = new CheckboxCellEditor(v.getTree());\n\n        TreeViewerColumn column = new TreeViewerColumn(v, SWT.NONE);\n        column.getColumn().setWidth(200);\n        column.getColumn().setMoveable(true);\n        column.getColumn().setText(&quot;Column 1&quot;);\n        column.setLabelProvider(new ColumnLabelProvider() {\n\n            @Override\n            public String getText(Object element) {\n                return &quot;Column 1 =&gt; &quot; + element;\n            }\n\n        });\n        column.setEditingSupport(new EditingSupport(v) {\n            @Override\n            protected boolean canEdit(Object element) {\n                return false;\n            }\n\n            @Override\n            protected CellEditor getCellEditor(Object element) {\n                return textCellEditor;\n            }\n\n            @Override\n            protected Object getValue(Object element) {\n                return ((MyModel) element).counter + &quot;&quot;;\n            }\n\n            @Override\n            protected void setValue(Object element, Object value) {\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\n                v.update(element, null);\n            }\n        });\n\n        column = new TreeViewerColumn(v, SWT.NONE);\n        column.getColumn().setWidth(200);\n        column.getColumn().setMoveable(true);\n        column.getColumn().setText(&quot;Column 2&quot;);\n        column.setLabelProvider(new ColumnLabelProvider() {\n\n            @Override\n            public String getText(Object element) {\n                return &quot;Column 2 =&gt; &quot; + element;\n            }\n\n        });\n        column.setEditingSupport(new EditingSupport(v) {\n            @Override\n            protected boolean canEdit(Object element) {\n                return true;\n            }\n\n            @Override\n            protected CellEditor getCellEditor(Object element) {\n                return textCellEditor;\n            }\n\n            @Override\n            protected Object getValue(Object element) {\n                return ((MyModel) element).counter + &quot;&quot;;\n            }\n\n            @Override\n            protected void setValue(Object element, Object value) {\n                ((MyModel) element).counter = Integer.parseInt(value.toString());\n                v.update(element, null);\n            }\n        });\n\n        column = new TreeViewerColumn(v, SWT.NONE);\n        column.getColumn().setWidth(200);\n        column.getColumn().setMoveable(true);\n        column.getColumn().setText(&quot;Column 3&quot;);\n        column.setLabelProvider(new ColumnLabelProvider() {\n\n            @Override\n            public String getText(Object element) {\n                if (element == null) {\n                    return &quot;&quot;;\n                }\n                return ((MyModel) element).bool + &quot;&quot;;\n            }\n\n        });\n        column.setEditingSupport(new EditingSupport(v) {\n            @Override\n            protected boolean canEdit(Object element) {\n                return true;\n            }\n\n            @Override\n            protected CellEditor getCellEditor(Object element) {\n                return checkboxCellEditor;\n            }\n\n            @Override\n            protected Object getValue(Object element) {\n                return Boolean.valueOf(((MyModel) element).bool);\n            }\n\n            @Override\n            protected void setValue(Object element, Object value) {\n                ((MyModel) element).bool = ((Boolean) value).booleanValue();\n                v.update(element, null);\n            }\n        });\n\n        v.setContentProvider(new MyContentProvider());\n        v.setInput(createModel());\n        v.getControl().addTraverseListener(e -&gt; {\n            if (((e.detail == SWT.TRAVERSE_TAB_NEXT) || (e.detail == SWT.TRAVERSE_TAB_PREVIOUS)) &amp;&amp; (mgr.getFocusCell().getColumnIndex() == 2)) {\n                ColumnViewerEditor editor = v.getColumnViewerEditor();\n                ViewerCell cell = mgr.getFocusCell();\n\n                try {\n                    Method m = ColumnViewerEditor.class.getDeclaredMethod(&quot;processTraverseEvent&quot;, new Class[] { int.class, ViewerRow.class, TraverseEvent.class });\n                    m.setAccessible(true);\n                    m.invoke(editor, Integer.valueOf(cell.getColumnIndex()), cell.getViewerRow(), e);\n                } catch (SecurityException | NoSuchMethodException | IllegalArgumentException | IllegalAccessException | InvocationTargetException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n            }\n        });\n    }\n\n    private MyModel createModel() {\n\n        MyModel root = new MyModel(0, null);\n        root.counter = 0;\n\n        MyModel tmp;\n        MyModel subItem;\n        for (int i = 1; i &lt; 10; i++) {\n            tmp = new MyModel(i, root);\n            root.child.add(tmp);\n            for (int j = 1; j &lt; i; j++) {\n                subItem = new MyModel(j, tmp);\n                subItem.child.add(new MyModel(j * 100, subItem));\n                tmp.child.add(subItem);\n            }\n        }\n\n        return root;\n    }\n\n    public static void init() {\n        Display display = new Display();\n        Shell shell = new Shell(display);\n        shell.setLayout(new FillLayout());\n        TestTreeViewer snip = new TestTreeViewer(shell);\n        snip.toString();\n        shell.open();\n\n        while (!shell.isDisposed()) {\n            if (!display.readAndDispatch()) {\n                display.sleep();\n            }\n        }\n\n        display.dispose();\n    }\n\n    private static class MyContentProvider implements ITreeContentProvider {\n\n        @Override\n        public Object[] getElements(Object inputElement) {\n            return ((MyModel) inputElement).child.toArray();\n        }\n\n        @Override\n        public void dispose() {\n            //\n        }\n\n        @Override\n        public void inputChanged(Viewer viewer, Object oldInput, Object newInput) {\n            //\n        }\n\n        @Override\n        public Object[] getChildren(Object parentElement) {\n            return getElements(parentElement);\n        }\n\n        @Override\n        public Object getParent(@Nullable Object element) {\n            if (element == null) {\n                return null;\n            }\n            return ((MyModel) element).parent;\n        }\n\n        @Override\n        public boolean hasChildren(Object element) {\n            return ((MyModel) element).child.size() &gt; 0;\n        }\n\n    }\n\n    public static class MyModel {\n\n        @Nullable\n        public MyModel parent;\n        public List&lt;MyModel&gt; child = new ArrayList&lt;&gt;();\n        public int counter;\n        public boolean bool;\n\n        public MyModel(int counter, MyModel parent) {\n            this.parent = parent;\n            this.counter = counter;\n        }\n\n        @Override\n        public String toString() {\n            String rv = &quot;Item &quot;;\n            if (parent != null) {\n                rv = parent + &quot;.&quot;;\n            }\n            rv += counter;\n\n            return rv;\n        }\n    }\n\n}\n</code></pre>\n<p>I am able to catch event when I move from column to column with Traverse Listener but I don't know how to notify Narrator that this change happened. Also how to specify cell where is currently my position.</p>\n<p>There is also some weird behavior of narrator that for some reason it seems as it can catch selection of just elements in first column. I don't know why is this behavior as every column I create in the same. way. <a href=\"https://i.stack.imgur.com/GIYoL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GIYoL.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you for you ideas!</p>\n"},{"tags":["java","rabbitmq","queue","microservices"],"comments":[{"owner":{"account_id":22650505,"reputation":31,"user_id":16825231,"display_name":"Tomer_Harari"},"score":0,"creation_date":1680277911,"post_id":75900252,"comment_id":133876549,"body_markdown":"One more thing I&#39;d like to ask is if it is possible to add to queue straight from Spring Cloud Gateway. With Spring Cloud Gateway I want to set it up so that user makes a POST request to /shipments and this will place their request straight onto my queue. I couldn&#39;t find anything online about doing this and would appreciate some help there.","body":"One more thing I&#39;d like to ask is if it is possible to add to queue straight from Spring Cloud Gateway. With Spring Cloud Gateway I want to set it up so that user makes a POST request to /shipments and this will place their request straight onto my queue. I couldn&#39;t find anything online about doing this and would appreciate some help there."}],"owner":{"account_id":22650505,"reputation":31,"user_id":16825231,"display_name":"Tomer_Harari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680276518,"creation_date":1680276518,"question_id":75900252,"body_markdown":"I want to build a microservice application for a company. Initially I took a monolithic approach to this application but I want to learn more about microservices so I&#39;m refactoring everything. The application takes a list of purchase order numbers (unique identifier of an order) from the user and generates FedEx shipping labels for each order. The monolithic application currently does this synchroneously by first scraping the web for each customer&#39;s information (name, address, phone number...) and then once each customer has all the information needed it reaches out to FedEx API and sends a request to create a shipment.\r\n\r\nI used Excalidraw to come up with a diagram of how this app would work and would appreciate any feedback on whether or not this approach would work / is the best practice in terms of a microservice Architecture. Also I&#39;d be using RabbitMQ queues for each queue. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y3hlv.png\r\n\r\n\r\nHere is a run through of the diagram:\r\nClient reaches hits API Gateway (Spring CLoud Gateway) with a Bulk Shipment Request (Essentially a list of purchase order numbers) and then each shipment request is added to the shipment-request-queue. The customer service consumes this queue and does web scraping for each purchase order number to get customer details. Once a customer information has been gathered, the customer object is placed on customer-queue. Shipment service then consumes customer object and builds a request to send to FedEx servers and create shipping label for the customer. The FedEx response will then go to the FedEx-queue and a Notification service will then take the response off the FedEx-queue and send an email to the client about the details.\r\n\r\n","title":"Microservice Design for a Java Spring Application","body":"<p>I want to build a microservice application for a company. Initially I took a monolithic approach to this application but I want to learn more about microservices so I'm refactoring everything. The application takes a list of purchase order numbers (unique identifier of an order) from the user and generates FedEx shipping labels for each order. The monolithic application currently does this synchroneously by first scraping the web for each customer's information (name, address, phone number...) and then once each customer has all the information needed it reaches out to FedEx API and sends a request to create a shipment.</p>\n<p>I used Excalidraw to come up with a diagram of how this app would work and would appreciate any feedback on whether or not this approach would work / is the best practice in terms of a microservice Architecture. Also I'd be using RabbitMQ queues for each queue.</p>\n<p><a href=\"https://i.stack.imgur.com/Y3hlv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3hlv.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a run through of the diagram:\nClient reaches hits API Gateway (Spring CLoud Gateway) with a Bulk Shipment Request (Essentially a list of purchase order numbers) and then each shipment request is added to the shipment-request-queue. The customer service consumes this queue and does web scraping for each purchase order number to get customer details. Once a customer information has been gathered, the customer object is placed on customer-queue. Shipment service then consumes customer object and builds a request to send to FedEx servers and create shipping label for the customer. The FedEx response will then go to the FedEx-queue and a Notification service will then take the response off the FedEx-queue and send an email to the client about the details.</p>\n"},{"tags":["java","json","jackson","jsonschema","java-record"],"comments":[{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":0,"creation_date":1680202120,"post_id":75889435,"comment_id":133862525,"body_markdown":"We have 4 generators for Java listed at https://json-schema.org/implementations.html#code-generation.  Maybe one of them will work for you.","body":"We have 4 generators for Java listed at <a href=\"https://json-schema.org/implementations.html#code-generation\" rel=\"nofollow noreferrer\">json-schema.org/implementations.html#code-generation</a>.  Maybe one of them will work for you."},{"owner":{"account_id":471114,"reputation":7423,"user_id":878701,"accept_rate":86,"display_name":"gregsdennis"},"score":1,"creation_date":1680202174,"post_id":75889435,"comment_id":133862537,"body_markdown":"I think interfaces is the right way to handle `anyOf` for a strictly-typed language like .Net or Java.  I think the lib is doing it right.","body":"I think interfaces is the right way to handle <code>anyOf</code> for a strictly-typed language like .Net or Java.  I think the lib is doing it right."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680202687,"post_id":75889435,"comment_id":133862657,"body_markdown":"Is the goal to write the json or read it. Writing is easy because Java knows what animal record types are in the main object - I can give you an answer if this is the case. Reading, however, requires the animal json to carry some indication of the animal type because, otherwise, there is no way for the deserialiser to know which kind of animal is being read. If animalType can be added to each of the animals, then I can provide a solution.","body":"Is the goal to write the json or read it. Writing is easy because Java knows what animal record types are in the main object - I can give you an answer if this is the case. Reading, however, requires the animal json to carry some indication of the animal type because, otherwise, there is no way for the deserialiser to know which kind of animal is being read. If animalType can be added to each of the animals, then I can provide a solution."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680207241,"post_id":75889435,"comment_id":133863711,"body_markdown":"Incorrect: Java records can indeed implement interfaces. A record cannot *extend* another class because it already extends the abstract class `java.lang.Record`. To quote [JEP 395](https://openjdk.org/jeps/395): A record class can implement interfaces. A record class cannot specify a superclass since that would mean inherited state, beyond the state described in the header. A record class can, however, freely specify superinterfaces and declare instance methods to implement them. …","body":"Incorrect: Java records can indeed implement interfaces. A record cannot <i>extend</i> another class because it already extends the abstract class <code>java.lang.Record</code>. To quote <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a>: A record class can implement interfaces. A record class cannot specify a superclass since that would mean inherited state, beyond the state described in the header. A record class can, however, freely specify superinterfaces and declare instance methods to implement them. …"},{"owner":{"account_id":24070761,"reputation":13,"user_id":18046714,"display_name":"Djoust"},"score":0,"creation_date":1680258535,"post_id":75889435,"comment_id":133871580,"body_markdown":"@JohnWilliams the goal is to generate json from my java record, i made a slide mistake in coming up with an example, in the real world the second anyOf type is just a (array of) string.","body":"@JohnWilliams the goal is to generate json from my java record, i made a slide mistake in coming up with an example, in the real world the second anyOf type is just a (array of) string."},{"owner":{"account_id":24070761,"reputation":13,"user_id":18046714,"display_name":"Djoust"},"score":0,"creation_date":1680258541,"post_id":75889435,"comment_id":133871582,"body_markdown":"@BasilBourque\nThanks! Records can implement an interface. Why it didnt work for me was that the record that needs to implement the interface was a nested record. This is an easy fix.\n\nSo than i could use the annotation examples in the linked post.\nBut what if i want to use a json opbject and a string in the anyOf statement?","body":"@BasilBourque Thanks! Records can implement an interface. Why it didnt work for me was that the record that needs to implement the interface was a nested record. This is an easy fix.  So than i could use the annotation examples in the linked post. But what if i want to use a json opbject and a string in the anyOf statement?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680276310,"creation_date":1680264737,"answer_id":75898405,"question_id":75889435,"body_markdown":"To produce json like the following:\r\n\r\n    {\r\n      &quot;animals&quot; : [ {\r\n        &quot;mammalType&quot; : &quot;dog&quot;,\r\n        &quot;furColour&quot; : &quot;brown&quot;\r\n      }, \r\n        &quot;someString&quot;\r\n      ]\r\n    }\r\n\r\nWhich corresponds to schema like this:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n            &quot;animals&quot;: {\r\n                &quot;type&quot;: &quot;array&quot;,\r\n                &quot;items&quot;: {\r\n                    &quot;anyOf&quot;: [\r\n                        {&quot;$ref&quot;: &quot;mammale.json&quot;},\r\n                        {&quot;type&quot;: &quot;String&quot;}\r\n                    ],\r\n                    &quot;minContains&quot;: 1,\r\n                    &quot;uniqueItems&quot;: true\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen the following will do it:\r\n\r\n    public record ResponseServiceAlgolia(Object[] animals) {}\r\n    \r\n    public record Mammal(String mammalType, String furColour) {}\r\n    \r\n    public static void main(String[] args) throws JsonProcessingException {\r\n    \t\r\n    \tMammal mammal = new Mammal(&quot;dog&quot;, &quot;brown&quot;);\r\n    \t\r\n    \tObject[] animals = new Object[] {mammal, &quot;someString&quot;};\r\n    \tResponseServiceAlgolia responseServiceAlgolia = new ResponseServiceAlgolia(animals);\r\n    \t\r\n\t\tObjectMapper objectMapper = JsonMapper.builder().enable(SerializationFeature.INDENT_OUTPUT).build();\r\n    \t\r\n    \tvar json = objectMapper.writeValueAsString(responseServiceAlgolia);\r\n        System.out.println(json);\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    {\r\n      &quot;animals&quot; : [ {\r\n        &quot;mammalType&quot; : &quot;dog&quot;,\r\n        &quot;furColour&quot; : &quot;brown&quot;\r\n      }, &quot;someString&quot; ]\r\n    }\r\n\r\n\r\n","title":"Json schema with anyOf field to java record","body":"<p>To produce json like the following:</p>\n<pre><code>{\n  &quot;animals&quot; : [ {\n    &quot;mammalType&quot; : &quot;dog&quot;,\n    &quot;furColour&quot; : &quot;brown&quot;\n  }, \n    &quot;someString&quot;\n  ]\n}\n</code></pre>\n<p>Which corresponds to schema like this:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;animals&quot;: {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;items&quot;: {\n                &quot;anyOf&quot;: [\n                    {&quot;$ref&quot;: &quot;mammale.json&quot;},\n                    {&quot;type&quot;: &quot;String&quot;}\n                ],\n                &quot;minContains&quot;: 1,\n                &quot;uniqueItems&quot;: true\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then the following will do it:</p>\n<pre><code>public record ResponseServiceAlgolia(Object[] animals) {}\n\npublic record Mammal(String mammalType, String furColour) {}\n\npublic static void main(String[] args) throws JsonProcessingException {\n    \n    Mammal mammal = new Mammal(&quot;dog&quot;, &quot;brown&quot;);\n    \n    Object[] animals = new Object[] {mammal, &quot;someString&quot;};\n    ResponseServiceAlgolia responseServiceAlgolia = new ResponseServiceAlgolia(animals);\n    \n    ObjectMapper objectMapper = JsonMapper.builder().enable(SerializationFeature.INDENT_OUTPUT).build();\n    \n    var json = objectMapper.writeValueAsString(responseServiceAlgolia);\n    System.out.println(json);\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{\n  &quot;animals&quot; : [ {\n    &quot;mammalType&quot; : &quot;dog&quot;,\n    &quot;furColour&quot; : &quot;brown&quot;\n  }, &quot;someString&quot; ]\n}\n</code></pre>\n"}],"owner":{"account_id":24070761,"reputation":13,"user_id":18046714,"display_name":"Djoust"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75898405,"answer_count":1,"score":1,"last_activity_date":1680276310,"creation_date":1680186091,"question_id":75889435,"body_markdown":"How can I generate java record objects for java schemas with the `anyOf` field?\r\n\r\nI have the following schemas:\r\n\r\nanimals.json\r\n``` json\r\n{\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;animals&quot;: {\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;items&quot;: {\r\n                &quot;anyOf&quot;: [\r\n                    {&quot;$ref&quot;: &quot;mammale.json&quot;},\r\n                    {&quot;$ref&quot;: &quot;bird.json&quot;}\r\n                ],\r\n                &quot;minContains&quot;: 1,\r\n                &quot;uniqueItems&quot;: true\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nmammal.json\r\n``` json\r\n{\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;mammalType&quot;: {&quot;type&quot;: &quot;string&quot;},\r\n        &quot;furColor&quot;: {&quot;type&quot;: &quot;string&quot;}\r\n    }\r\n}\r\n```\r\n\r\nbird.json\r\n``` json\r\n{\r\n    &quot;type&quot;: &quot;string&quot;\r\n}\r\n```\r\n\r\nI want to output a json that looks like the following:\r\n``` json\r\n{\r\n    &quot;animals&quot;: [\r\n        {\r\n            &quot;mammalType&quot;: &quot;dog&quot;,\r\n            &quot;furColour&quot;: &quot;brown&quot;\r\n        },\r\n        &quot;someBirdsName&quot;\r\n    ]\r\n}\r\n```\r\n\r\nIs there a recommended way to represent the &#39;anyOf&#39; structure in the java records (preferably with Jackson annotation)?\r\n\r\nI found a solution when using POJOs, where they use an interface:\r\nhttps://stackoverflow.com/questions/63319783/json-schema-with-anyof-fields-to-pojo\r\n\r\nThis looks like a good solution but how do I us an arbitrary string that doesnt implements the interface?\r\n","title":"Json schema with anyOf field to java record","body":"<p>How can I generate java record objects for java schemas with the <code>anyOf</code> field?</p>\n<p>I have the following schemas:</p>\n<p>animals.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;animals&quot;: {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;items&quot;: {\n                &quot;anyOf&quot;: [\n                    {&quot;$ref&quot;: &quot;mammale.json&quot;},\n                    {&quot;$ref&quot;: &quot;bird.json&quot;}\n                ],\n                &quot;minContains&quot;: 1,\n                &quot;uniqueItems&quot;: true\n            }\n        }\n    }\n}\n</code></pre>\n<p>mammal.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;mammalType&quot;: {&quot;type&quot;: &quot;string&quot;},\n        &quot;furColor&quot;: {&quot;type&quot;: &quot;string&quot;}\n    }\n}\n</code></pre>\n<p>bird.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;string&quot;\n}\n</code></pre>\n<p>I want to output a json that looks like the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;animals&quot;: [\n        {\n            &quot;mammalType&quot;: &quot;dog&quot;,\n            &quot;furColour&quot;: &quot;brown&quot;\n        },\n        &quot;someBirdsName&quot;\n    ]\n}\n</code></pre>\n<p>Is there a recommended way to represent the 'anyOf' structure in the java records (preferably with Jackson annotation)?</p>\n<p>I found a solution when using POJOs, where they use an interface:\n<a href=\"https://stackoverflow.com/questions/63319783/json-schema-with-anyof-fields-to-pojo\">Json schema with anyOf fields to POJO</a></p>\n<p>This looks like a good solution but how do I us an arbitrary string that doesnt implements the interface?</p>\n"},{"tags":["java","spring","maven","jetty","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1405940511,"post_id":24862086,"comment_id":38612654,"body_markdown":"Does your app start with those dependencies? With the exact dependencies that you&#39;ve listed, I get a  ClassNotFoundException for RequestMappingHandlerMapping that causes startup to fail. Adding a dependency on spring-boot-starter-web corrects that and the management facilities are then available on 8081.","body":"Does your app start with those dependencies? With the exact dependencies that you&#39;ve listed, I get a  ClassNotFoundException for RequestMappingHandlerMapping that causes startup to fail. Adding a dependency on spring-boot-starter-web corrects that and the management facilities are then available on 8081."},{"owner":{"account_id":393626,"reputation":1237,"user_id":755588,"accept_rate":67,"display_name":"James"},"score":0,"creation_date":1405946212,"post_id":24862086,"comment_id":38616103,"body_markdown":"Yes it does start, I should also note that the mvn parent for my project is the spring-boot-starter-parent pom - it might be that provides extra requirements.","body":"Yes it does start, I should also note that the mvn parent for my project is the spring-boot-starter-parent pom - it might be that provides extra requirements."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1405954444,"post_id":24862086,"comment_id":38621793,"body_markdown":"The starter parent only provides dependency (and plugin) management. It doesn&#39;t add any dependencies to your application. Some more information that would be useful: the version of Boot you&#39;re using and the output produced at startup. Even better would be a simple project that reproduces the problem.","body":"The starter parent only provides dependency (and plugin) management. It doesn&#39;t add any dependencies to your application. Some more information that would be useful: the version of Boot you&#39;re using and the output produced at startup. Even better would be a simple project that reproduces the problem."},{"owner":{"account_id":393626,"reputation":1237,"user_id":755588,"accept_rate":67,"display_name":"James"},"score":0,"creation_date":1405954629,"post_id":24862086,"comment_id":38621927,"body_markdown":"I&#39;ll update to add the entire pom so you can see versions etc.","body":"I&#39;ll update to add the entire pom so you can see versions etc."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1405955726,"creation_date":1405955726,"answer_id":24868636,"question_id":24862086,"body_markdown":"It looks like IntelliJ has made a mess of the classpath. Looking at the jars supplied with `-classpath` there&#39;s a lot of Spring Boot 1.0.2.RELEASE jars in there which doesn&#39;t match your pom.\r\n\r\nThe banner in the startup logs also shows that you&#39;re running Spring Boot 1.0.2.RELEASE:\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v1.0.2.RELEASE)\r\n    \r\nConvincing IntelliJ to use the right classpath, or running your application on the command line with `mvn spring-boot:run` should fix your problem, although I strongly suspect that you&#39;ll also need to add a dependency on `spring-webmvc`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot Actuator Not Working","body":"<p>It looks like IntelliJ has made a mess of the classpath. Looking at the jars supplied with <code>-classpath</code> there's a lot of Spring Boot 1.0.2.RELEASE jars in there which doesn't match your pom.</p>\n\n<p>The banner in the startup logs also shows that you're running Spring Boot 1.0.2.RELEASE:</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.0.2.RELEASE)\n</code></pre>\n\n<p>Convincing IntelliJ to use the right classpath, or running your application on the command line with <code>mvn spring-boot:run</code> should fix your problem, although I strongly suspect that you'll also need to add a dependency on <code>spring-webmvc</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6323824,"reputation":1258,"user_id":4910851,"accept_rate":50,"display_name":"Clement.Xu"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1470275652,"creation_date":1468202921,"answer_id":38298214,"question_id":24862086,"body_markdown":"As you want to get the health status via HTTP, you may want to add this dependency and have a try:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Spring Boot Actuator Not Working","body":"<p>As you want to get the health status via HTTP, you may want to add this dependency and have a try:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7176041,"reputation":918,"user_id":5481947,"accept_rate":67,"display_name":"Anil Konduru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519764545,"creation_date":1519763286,"answer_id":49017384,"question_id":24862086,"body_markdown":"This might help someone using Jersey with Spring Boot.\r\n    \r\nIf you are using Jersey with Spring Boot, actuator doesn&#39;t work default \r\n    like spring MVC. To make it work, spring.jersey.application-path need \r\n    to be set with your context path.\r\n    \r\n    spring.jersey.application-path=/mytest-app\r\n    \r\nOR\r\n    \r\n    server.servlet-path=/mytest-app\r\n    \r\nAlso make sure following properties are set.\r\n    \r\n    server.context-path=/mytest-app\r\n    management.security.enabled=false\r\n    management.health.defaults.enabled=true\r\n     ","title":"Spring Boot Actuator Not Working","body":"<p>This might help someone using Jersey with Spring Boot.</p>\n\n<p>If you are using Jersey with Spring Boot, actuator doesn't work default \n    like spring MVC. To make it work, spring.jersey.application-path need \n    to be set with your context path.</p>\n\n<pre><code>spring.jersey.application-path=/mytest-app\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>server.servlet-path=/mytest-app\n</code></pre>\n\n<p>Also make sure following properties are set.</p>\n\n<pre><code>server.context-path=/mytest-app\nmanagement.security.enabled=false\nmanagement.health.defaults.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611854945,"creation_date":1611854945,"answer_id":65942247,"question_id":24862086,"body_markdown":"The simplest answer is, rather than point the request to \r\n\r\n    http://127.0.0.1:8081/health\r\n\r\nPoint to \r\n\r\n    http://127.0.0.1:8081/actuator/health","title":"Spring Boot Actuator Not Working","body":"<p>The simplest answer is, rather than point the request to</p>\n<pre><code>http://127.0.0.1:8081/health\n</code></pre>\n<p>Point to</p>\n<pre><code>http://127.0.0.1:8081/actuator/health\n</code></pre>\n"},{"tags":[],"owner":{"account_id":351045,"reputation":91,"user_id":687281,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680276135,"creation_date":1680276135,"answer_id":75900196,"question_id":24862086,"body_markdown":"if you run app from the Itellij IDEA make sure IDE synced the libs after you add actuator dependency. I faced the situation when IDE didn&#39;t add libs to classpath and nothing worked. To be sure push the button &quot;Reload all maven projects&quot;.","title":"Spring Boot Actuator Not Working","body":"<p>if you run app from the Itellij IDEA make sure IDE synced the libs after you add actuator dependency. I faced the situation when IDE didn't add libs to classpath and nothing worked. To be sure push the button &quot;Reload all maven projects&quot;.</p>\n"}],"owner":{"account_id":393626,"reputation":1237,"user_id":755588,"accept_rate":67,"display_name":"James"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45596,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":24868636,"answer_count":5,"score":15,"last_activity_date":1680276135,"creation_date":1405936004,"question_id":24862086,"body_markdown":"With the following pom dependencies:\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt; spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/parent&gt;\r\n\r\n\t\t&lt;groupId&gt;test.actuator&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;actuator-load-testing-webapp&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;main.basedir&gt;${basedir}/../..&lt;/main.basedir&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\n\r\nThe following application.properties file located at classpath root:\r\n\r\n    management.address: 127.0.0.1\r\n    management.port: 8081\r\n    endpoints.shutdown.enabled: true\r\n    security.require_ssl: false\r\n    shell.ssh.enabled: false\r\n    spring.jmx.enabled: false\r\n\r\nAnd the following application main/config:\r\n\r\n\t@Configuration\r\n\t@EnableAutoConfiguration\r\n\t@EnableConfigurationProperties\r\n\t@ComponentScan\r\n\tpublic class SampleJettyApplication {\r\n\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tSpringApplication.run(SampleJettyApplication.class, args);\r\n\t\t}\r\n\t}\r\n\r\nI was expecting the management facilities to be available on 127.0.0.1:8081 i.e.\r\n\r\n\thttp://127.0.0.1:8081/health\r\n\r\nBut nothing loads on the endpoint, what have I done wrong?\r\n\r\n\r\nUpdated: Startup logs\r\n\r\n\t/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/bin/java -Dorg.eclipse.jetty.servlet.Default.dirAllowed=true -Didea.launcher.port=7538 &quot;-Didea.launcher.bin.path=/Applications/IntelliJ IDEA 13.app/bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/ant-javafx.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/javafx-doclet.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/javafx-mx.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/tools.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/deploy.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/htmlconverter.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/javaws.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jfxrt.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/plugin.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Users/james.mchugh/Documents/workspaceGamesPlatform/core/actuator-parent/actuator-load-testing-webapp/target/classes:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-starter/1.0.2.RELEASE/spring-boot-starter-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot/1.0.2.RELEASE/spring-boot-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-core/4.0.3.RELEASE/spring-core-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-context/4.0.3.RELEASE/spring-context-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-aop/4.0.3.RELEASE/spring-aop-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-beans/4.0.3.RELEASE/spring-beans-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-expression/4.0.3.RELEASE/spring-expression-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.0.2.RELEASE/spring-boot-autoconfigure-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.0.2.RELEASE/spring-boot-starter-logging-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.7/jcl-over-slf4j-1.7.7.jar:/Users/james.mchugh/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/Users/james.mchugh/.m2/repository/org/slf4j/jul-to-slf4j/1.7.7/jul-to-slf4j-1.7.7.jar:/Users/james.mchugh/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.7/log4j-over-slf4j-1.7.7.jar:/Users/james.mchugh/.m2/repository/ch/qos/logback/logback-classic/1.1.2/logback-classic-1.1.2.jar:/Users/james.mchugh/.m2/repository/ch/qos/logback/logback-core/1.1.2/logback-core-1.1.2.jar:/Users/james.mchugh/.m2/repository/org/yaml/snakeyaml/1.13/snakeyaml-1.13.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-starter-jetty/1.0.2.RELEASE/spring-boot-starter-jetty-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-webapp/8.1.14.v20131031/jetty-webapp-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-xml/8.1.14.v20131031/jetty-xml-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-util/8.1.14.v20131031/jetty-util-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-servlet/8.1.14.v20131031/jetty-servlet-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-security/8.1.14.v20131031/jetty-security-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-server/8.1.14.v20131031/jetty-server-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-continuation/8.1.14.v20131031/jetty-continuation-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-http/8.1.14.v20131031/jetty-http-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-io/8.1.14.v20131031/jetty-io-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-jsp/8.1.14.v20131031/jetty-jsp-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.servlet.jsp/2.2.0.v201112011158/javax.servlet.jsp-2.2.0.v201112011158.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.servlet/3.0.0.v201112011016/javax.servlet-3.0.0.v201112011016.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/org.apache.jasper.glassfish/2.2.2.v201112011158/org.apache.jasper.glassfish-2.2.2.v201112011158.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.servlet.jsp.jstl/1.2.0.v201105211821/javax.servlet.jsp.jstl-1.2.0.v201105211821.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/org.apache.taglibs.standard.glassfish/1.2.0.v201112081803/org.apache.taglibs.standard.glassfish-1.2.0.v201112081803.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.el/2.2.0.v201108011116/javax.el-2.2.0.v201108011116.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/com.sun.el/2.2.0.v201108011116/com.sun.el-2.2.0.v201108011116.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/org.eclipse.jdt.core/3.7.1/org.eclipse.jdt.core-3.7.1.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-webmvc/4.0.3.RELEASE/spring-webmvc-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-web/4.0.3.RELEASE/spring-web-4.0.3.RELEASE.jar:/Applications/IntelliJ IDEA 13.app/lib/idea_rt.jar&quot; com.intellij.rt.execution.application.AppMain test.actuator.jetty.SampleJettyApplication\r\n\r\n\t  .   ____          _            __ _ _\r\n\t /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n\t( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n\t \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n\t  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n\t =========|_|==============|___/=/_/_/_/\r\n\t :: Spring Boot ::        (v1.0.2.RELEASE)\r\n\r\n\t2014-07-21 15:58:55.173  INFO 65654 --- [           main] g.l.jetty.SampleJettyApplication         : Starting SampleJettyApplication on gl02729m-2.test.corp with PID 65654 (/Users/james.mchugh/Documents/workspaceGamesPlatform/core/actuator-parent/actuator-load-testing-webapp/target/classes started by james.mchugh in /Users/james.mchugh/Documents/workspaceGamesPlatform/core/actuator-parent/actuator-test-utils/actuator-load-testing-webapp)\r\n\t2014-07-21 15:58:55.223  INFO 65654 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@188fd321: startup date [Mon Jul 21 15:58:55 BST 2014]; root of context hierarchy\r\n\t2014-07-21 15:58:56.157  INFO 65654 --- [           main] e.j.JettyEmbeddedServletContainerFactory : Server initialized with port: 8080\r\n\t2014-07-21 15:58:56.161  INFO 65654 --- [           main] org.eclipse.jetty.server.Server          : jetty-8.1.14.v20131031\r\n\t2014-07-21 15:58:56.201  INFO 65654 --- [           main] /                                        : Initializing Spring embedded WebApplicationContext\r\n\t2014-07-21 15:58:56.201  INFO 65654 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 981 ms\r\n\t2014-07-21 15:58:56.496  INFO 65654 --- [           main] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n\t2014-07-21 15:58:56.499  INFO 65654 --- [           main] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n\t2014-07-21 15:58:56.516  INFO 65654 --- [           main] o.e.jetty.server.AbstractConnector       : Started SelectChannelConnector@0.0.0.0:8080\r\n\t2014-07-21 15:58:56.606  INFO 65654 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n\t2014-07-21 15:58:56.687  INFO 65654 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public java.lang.String test.actuator.jetty.web.SampleController.helloWorld()\r\n\t2014-07-21 15:58:56.708  INFO 65654 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n\t2014-07-21 15:58:56.708  INFO 65654 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n\t2014-07-21 15:58:56.848  INFO 65654 --- [           main] /                                        : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n\t2014-07-21 15:58:56.849  INFO 65654 --- [           main] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n\t2014-07-21 15:58:56.863  INFO 65654 --- [           main] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 14 ms\r\n\t2014-07-21 15:58:56.913  INFO 65654 --- [           main] o.e.jetty.server.AbstractConnector       : Started SelectChannelConnector@0.0.0.0:8080\r\n\t2014-07-21 15:58:56.916  INFO 65654 --- [           main] .s.b.c.e.j.JettyEmbeddedServletContainer : Jetty started on port: 8080\r\n\t2014-07-21 15:58:56.918  INFO 65654 --- [           main] g.l.jetty.SampleJettyApplication         : Started SampleJettyApplication in 2.108 seconds (JVM running for 2.529)\r\n","title":"Spring Boot Actuator Not Working","body":"<p>With the following pom dependencies:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt; spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;test.actuator&lt;/groupId&gt;\n    &lt;artifactId&gt;actuator-load-testing-webapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;main.basedir&gt;${basedir}/../..&lt;/main.basedir&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The following application.properties file located at classpath root:</p>\n\n<pre><code>management.address: 127.0.0.1\nmanagement.port: 8081\nendpoints.shutdown.enabled: true\nsecurity.require_ssl: false\nshell.ssh.enabled: false\nspring.jmx.enabled: false\n</code></pre>\n\n<p>And the following application main/config:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@EnableConfigurationProperties\n@ComponentScan\npublic class SampleJettyApplication {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(SampleJettyApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>I was expecting the management facilities to be available on 127.0.0.1:8081 i.e.</p>\n\n<pre><code>http://127.0.0.1:8081/health\n</code></pre>\n\n<p>But nothing loads on the endpoint, what have I done wrong?</p>\n\n<p>Updated: Startup logs</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/bin/java -Dorg.eclipse.jetty.servlet.Default.dirAllowed=true -Didea.launcher.port=7538 \"-Didea.launcher.bin.path=/Applications/IntelliJ IDEA 13.app/bin\" -Dfile.encoding=UTF-8 -classpath \"/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/ant-javafx.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/dt.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/javafx-doclet.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/javafx-mx.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/jconsole.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/sa-jdi.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/lib/tools.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/charsets.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/deploy.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/htmlconverter.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/javaws.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jce.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jfr.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jfxrt.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/jsse.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/management-agent.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/plugin.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/resources.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/rt.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/dnsns.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/localedata.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/sunec.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre/lib/ext/zipfs.jar:/Users/james.mchugh/Documents/workspaceGamesPlatform/core/actuator-parent/actuator-load-testing-webapp/target/classes:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-starter/1.0.2.RELEASE/spring-boot-starter-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot/1.0.2.RELEASE/spring-boot-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-core/4.0.3.RELEASE/spring-core-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-context/4.0.3.RELEASE/spring-context-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-aop/4.0.3.RELEASE/spring-aop-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-beans/4.0.3.RELEASE/spring-beans-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-expression/4.0.3.RELEASE/spring-expression-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/1.0.2.RELEASE/spring-boot-autoconfigure-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-starter-logging/1.0.2.RELEASE/spring-boot-starter-logging-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.7/jcl-over-slf4j-1.7.7.jar:/Users/james.mchugh/.m2/repository/org/slf4j/slf4j-api/1.7.7/slf4j-api-1.7.7.jar:/Users/james.mchugh/.m2/repository/org/slf4j/jul-to-slf4j/1.7.7/jul-to-slf4j-1.7.7.jar:/Users/james.mchugh/.m2/repository/org/slf4j/log4j-over-slf4j/1.7.7/log4j-over-slf4j-1.7.7.jar:/Users/james.mchugh/.m2/repository/ch/qos/logback/logback-classic/1.1.2/logback-classic-1.1.2.jar:/Users/james.mchugh/.m2/repository/ch/qos/logback/logback-core/1.1.2/logback-core-1.1.2.jar:/Users/james.mchugh/.m2/repository/org/yaml/snakeyaml/1.13/snakeyaml-1.13.jar:/Users/james.mchugh/.m2/repository/org/springframework/boot/spring-boot-starter-jetty/1.0.2.RELEASE/spring-boot-starter-jetty-1.0.2.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-webapp/8.1.14.v20131031/jetty-webapp-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-xml/8.1.14.v20131031/jetty-xml-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-util/8.1.14.v20131031/jetty-util-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-servlet/8.1.14.v20131031/jetty-servlet-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-security/8.1.14.v20131031/jetty-security-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-server/8.1.14.v20131031/jetty-server-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-continuation/8.1.14.v20131031/jetty-continuation-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-http/8.1.14.v20131031/jetty-http-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-io/8.1.14.v20131031/jetty-io-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/jetty-jsp/8.1.14.v20131031/jetty-jsp-8.1.14.v20131031.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.servlet.jsp/2.2.0.v201112011158/javax.servlet.jsp-2.2.0.v201112011158.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.servlet/3.0.0.v201112011016/javax.servlet-3.0.0.v201112011016.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/org.apache.jasper.glassfish/2.2.2.v201112011158/org.apache.jasper.glassfish-2.2.2.v201112011158.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.servlet.jsp.jstl/1.2.0.v201105211821/javax.servlet.jsp.jstl-1.2.0.v201105211821.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/org.apache.taglibs.standard.glassfish/1.2.0.v201112081803/org.apache.taglibs.standard.glassfish-1.2.0.v201112081803.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/javax.el/2.2.0.v201108011116/javax.el-2.2.0.v201108011116.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/com.sun.el/2.2.0.v201108011116/com.sun.el-2.2.0.v201108011116.jar:/Users/james.mchugh/.m2/repository/org/eclipse/jetty/orbit/org.eclipse.jdt.core/3.7.1/org.eclipse.jdt.core-3.7.1.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-webmvc/4.0.3.RELEASE/spring-webmvc-4.0.3.RELEASE.jar:/Users/james.mchugh/.m2/repository/org/springframework/spring-web/4.0.3.RELEASE/spring-web-4.0.3.RELEASE.jar:/Applications/IntelliJ IDEA 13.app/lib/idea_rt.jar\" com.intellij.rt.execution.application.AppMain test.actuator.jetty.SampleJettyApplication\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.0.2.RELEASE)\n\n2014-07-21 15:58:55.173  INFO 65654 --- [           main] g.l.jetty.SampleJettyApplication         : Starting SampleJettyApplication on gl02729m-2.test.corp with PID 65654 (/Users/james.mchugh/Documents/workspaceGamesPlatform/core/actuator-parent/actuator-load-testing-webapp/target/classes started by james.mchugh in /Users/james.mchugh/Documents/workspaceGamesPlatform/core/actuator-parent/actuator-test-utils/actuator-load-testing-webapp)\n2014-07-21 15:58:55.223  INFO 65654 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@188fd321: startup date [Mon Jul 21 15:58:55 BST 2014]; root of context hierarchy\n2014-07-21 15:58:56.157  INFO 65654 --- [           main] e.j.JettyEmbeddedServletContainerFactory : Server initialized with port: 8080\n2014-07-21 15:58:56.161  INFO 65654 --- [           main] org.eclipse.jetty.server.Server          : jetty-8.1.14.v20131031\n2014-07-21 15:58:56.201  INFO 65654 --- [           main] /                                        : Initializing Spring embedded WebApplicationContext\n2014-07-21 15:58:56.201  INFO 65654 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 981 ms\n2014-07-21 15:58:56.496  INFO 65654 --- [           main] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]\n2014-07-21 15:58:56.499  INFO 65654 --- [           main] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2014-07-21 15:58:56.516  INFO 65654 --- [           main] o.e.jetty.server.AbstractConnector       : Started SelectChannelConnector@0.0.0.0:8080\n2014-07-21 15:58:56.606  INFO 65654 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2014-07-21 15:58:56.687  INFO 65654 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public java.lang.String test.actuator.jetty.web.SampleController.helloWorld()\n2014-07-21 15:58:56.708  INFO 65654 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2014-07-21 15:58:56.708  INFO 65654 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2014-07-21 15:58:56.848  INFO 65654 --- [           main] /                                        : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2014-07-21 15:58:56.849  INFO 65654 --- [           main] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2014-07-21 15:58:56.863  INFO 65654 --- [           main] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 14 ms\n2014-07-21 15:58:56.913  INFO 65654 --- [           main] o.e.jetty.server.AbstractConnector       : Started SelectChannelConnector@0.0.0.0:8080\n2014-07-21 15:58:56.916  INFO 65654 --- [           main] .s.b.c.e.j.JettyEmbeddedServletContainer : Jetty started on port: 8080\n2014-07-21 15:58:56.918  INFO 65654 --- [           main] g.l.jetty.SampleJettyApplication         : Started SampleJettyApplication in 2.108 seconds (JVM running for 2.529)\n</code></pre>\n"},{"tags":["java","spring","hibernate","kotlin","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680275590,"creation_date":1680275590,"answer_id":75900112,"question_id":75899893,"body_markdown":"Since you are using Spring Boot 3, which is based on `jakarta.*` you&#39;d need to  use a jakarta version of orm-mapper:\r\n\r\n    implementation &#39;org.hibernate.search:hibernate-search-mapper-orm-jakarta:6.1.8.Final&#39;","title":"Hibernate Search is required javax.persistence.EntityManager","body":"<p>Since you are using Spring Boot 3, which is based on <code>jakarta.*</code> you'd need to  use a jakarta version of orm-mapper:</p>\n<pre><code>implementation 'org.hibernate.search:hibernate-search-mapper-orm-jakarta:6.1.8.Final'\n</code></pre>\n"}],"owner":{"account_id":15749236,"reputation":13,"user_id":13524562,"display_name":"anna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75900112,"answer_count":1,"score":0,"last_activity_date":1680275590,"creation_date":1680274179,"question_id":75899893,"body_markdown":"I&#39;m trying make test application using Hibernate Search. I have note repository which \r\nextend SimpleJpaRepository with required parameter `jakarta.persistence.EntityManager`. But when i try to create search session `Search.session(entityManager)` I get an error that the Search.session() need javax.persistence.EntityManager. So question is how can i create Search session using `jakarta.persistence.EntityManager`?\r\n\r\nNoteRepository:\r\n\r\n    @Repository\r\n    @Transactional\r\n    class NoteRepositoryImpl(\r\n        private val entityManager: EntityManager,\r\n    ) : SimpleJpaRepository&lt;NoteEntity, Long&gt;(NoteEntity::class.java, entityManager), NoteRepository {\r\n    \r\n        override fun search(query: String): List&lt;NoteEntity&gt; {\r\n            val session = Search.session(entityManager)\r\n    \r\n            val result = session.search(NoteEntity::class.java)\r\n                .where { it.match().fields(&quot;title&quot;, &quot;tag&quot;, &quot;content&quot;).matching(query) }\r\n                .fetch(0, 100)\r\n            return result.hits().map { it as NoteEntity }\r\n        }\r\n    }\r\n\r\nGradle file:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n        id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.7.22&#39;\r\n        id &#39;org.jetbrains.kotlin.plugin.spring&#39; version &#39;1.7.22&#39;\r\n        id &quot;org.jetbrains.kotlin.plugin.jpa&quot; version &quot;1.7.22&quot;\r\n        id &#39;org.jetbrains.kotlin.plugin.allopen&#39; version &#39;1.7.22&#39;\r\n    }\r\n    \r\n    allOpen {\r\n        annotation(&quot;jakarta.persistence.Entity&quot;)\r\n        annotation(&quot;jakarta.persistence.Embeddable&quot;)\r\n        annotation(&quot;jakarta.persistence.MappedSuperclass&quot;)\r\n    }\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;com.fasterxml.jackson.module:jackson-module-kotlin&#39;\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-reflect&#39;\r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \r\n        implementation &#39;org.hibernate.search:hibernate-search-mapper-orm:6.1.8.Final&#39;\r\n        implementation &#39;org.hibernate.search:hibernate-search-backend-lucene:6.1.8.Final&#39;\r\n    \r\n        runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    \r\n        annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.withType(KotlinCompile) {\r\n        kotlinOptions {\r\n            freeCompilerArgs = [&#39;-Xjsr305=strict&#39;]\r\n            jvmTarget = &#39;17&#39;\r\n        }\r\n    }\r\n\r\n","title":"Hibernate Search is required javax.persistence.EntityManager","body":"<p>I'm trying make test application using Hibernate Search. I have note repository which\nextend SimpleJpaRepository with required parameter <code>jakarta.persistence.EntityManager</code>. But when i try to create search session <code>Search.session(entityManager)</code> I get an error that the Search.session() need javax.persistence.EntityManager. So question is how can i create Search session using <code>jakarta.persistence.EntityManager</code>?</p>\n<p>NoteRepository:</p>\n<pre><code>@Repository\n@Transactional\nclass NoteRepositoryImpl(\n    private val entityManager: EntityManager,\n) : SimpleJpaRepository&lt;NoteEntity, Long&gt;(NoteEntity::class.java, entityManager), NoteRepository {\n\n    override fun search(query: String): List&lt;NoteEntity&gt; {\n        val session = Search.session(entityManager)\n\n        val result = session.search(NoteEntity::class.java)\n            .where { it.match().fields(&quot;title&quot;, &quot;tag&quot;, &quot;content&quot;).matching(query) }\n            .fetch(0, 100)\n        return result.hits().map { it as NoteEntity }\n    }\n}\n</code></pre>\n<p>Gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '3.0.4'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'org.jetbrains.kotlin.jvm' version '1.7.22'\n    id 'org.jetbrains.kotlin.plugin.spring' version '1.7.22'\n    id &quot;org.jetbrains.kotlin.plugin.jpa&quot; version &quot;1.7.22&quot;\n    id 'org.jetbrains.kotlin.plugin.allopen' version '1.7.22'\n}\n\nallOpen {\n    annotation(&quot;jakarta.persistence.Entity&quot;)\n    annotation(&quot;jakarta.persistence.Embeddable&quot;)\n    annotation(&quot;jakarta.persistence.MappedSuperclass&quot;)\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'com.fasterxml.jackson.module:jackson-module-kotlin'\n    implementation 'org.jetbrains.kotlin:kotlin-reflect'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n\n    implementation 'org.hibernate.search:hibernate-search-mapper-orm:6.1.8.Final'\n    implementation 'org.hibernate.search:hibernate-search-backend-lucene:6.1.8.Final'\n\n    runtimeOnly 'org.postgresql:postgresql'\n\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.withType(KotlinCompile) {\n    kotlinOptions {\n        freeCompilerArgs = ['-Xjsr305=strict']\n        jvmTarget = '17'\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":5967997,"reputation":3627,"user_id":4691230,"accept_rate":40,"display_name":"The Coder"},"score":1,"creation_date":1538556127,"post_id":52622944,"comment_id":92179600,"body_markdown":"Replace `@Request` with `@RequestBody`","body":"Replace <code>@Request</code> with <code>@RequestBody</code>"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":1,"creation_date":1538557700,"post_id":52622944,"comment_id":92180407,"body_markdown":"Sorry it is RequestBody I am using it only.It was an copy paste error .Even with RequestBody it throws same error.","body":"Sorry it is RequestBody I am using it only.It was an copy paste error .Even with RequestBody it throws same error."},{"owner":{"account_id":7712408,"reputation":2531,"user_id":5841297,"accept_rate":50,"display_name":"Phenomenal One"},"score":3,"creation_date":1538558123,"post_id":52622944,"comment_id":92180660,"body_markdown":"Try using `@ModelAttribute` instead of `@RequestBody`","body":"Try using <code>@ModelAttribute</code> instead of <code>@RequestBody</code>"},{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":1,"creation_date":1538558266,"post_id":52622944,"comment_id":92180745,"body_markdown":"Spring doesn&#39;t know that all these data in form are used to compose an object of type Organisation","body":"Spring doesn&#39;t know that all these data in form are used to compose an object of type Organisation"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1538558982,"post_id":52622944,"comment_id":92181158,"body_markdown":"Hi Maruthi, By using @Modelattribute I was able to hit the controller but the attribute &quot;Teachers&quot; in Organisation class is binded with null value can you kindly help me if there is any mistake with POSTMAN request format?","body":"Hi Maruthi, By using @Modelattribute I was able to hit the controller but the attribute &quot;Teachers&quot; in Organisation class is binded with null value can you kindly help me if there is any mistake with POSTMAN request format?"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":1,"creation_date":1538629989,"post_id":52622944,"comment_id":92211266,"body_markdown":"@Maruthi Thanks alot for the guidance and time able to achieve the result.","body":"@Maruthi Thanks alot for the guidance and time able to achieve the result."},{"owner":{"account_id":8628085,"reputation":132,"user_id":6460660,"accept_rate":100,"display_name":"Azhagu Surya"},"score":0,"creation_date":1668421216,"post_id":52622944,"comment_id":131392670,"body_markdown":"@SrikR did you resolve this issue?","body":"@SrikR did you resolve this issue?"}],"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680275347,"creation_date":1538555770,"question_id":52622944,"body_markdown":"I am trying to create a REST API in the format which will accept request data with both JSON and MultipartFile type. \r\n\r\nTHis is my request which will be in following format in POSTMAN:\r\n[![REquest Format i PostMan][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RTdM6.png\r\n\r\nMy POJO classes are as follows:\r\n\r\n**Class:Organisation**\r\n\r\n    public class Organisation\r\n    {\r\n    \tpriavet int org_id;\r\n    \tprivate MultipartFile organisationRegistrationDocument;\r\n    \tprivate Teachers[]\r\n    \t\r\n    \t// getters and setters\r\n    }\r\n\r\n**Class: Teachers**\r\n\r\n    class Teachers{\r\n    \t\r\n    \tprivate String teacherId;\r\n    \tprivate MultipartFile teacherPhoto;\r\n    \t\r\n    \t// getters and setters\r\n    }\r\nMy controller Class is as follows:\r\n\r\n    @RequestMapping(value=&quot;/test&quot;,method=RequestMethod.POST,headers = {&quot;content-type=multipart/mixed&quot;,&quot;content-type=multipart/form-data&quot;})\r\n    \tprivate ResponseEntity&lt;Object&gt; testUpload(@RequestBody Organisation org) {\r\n    \t\treturn null;\r\n    \t}\r\n Error Thrown from POSTMAN:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2018-10-03T07:38:30.439+0000&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;Required request part &#39;org&#39; is not present&quot;,\r\n        &quot;path&quot;: &quot;/test&quot;\r\n    }\r\n\r\nSo anyone can kindly guide me what can I am doing wrong due to which I am not able to achieve the desired result to process request of the above form?","title":"How to handle Request with JSON and Multipart File in spring boot","body":"<p>I am trying to create a REST API in the format which will accept request data with both JSON and MultipartFile type. </p>\n\n<p>THis is my request which will be in following format in POSTMAN:\n<a href=\"https://i.stack.imgur.com/RTdM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RTdM6.png\" alt=\"REquest Format i PostMan\"></a></p>\n\n<p>My POJO classes are as follows:</p>\n\n<p><strong>Class:Organisation</strong></p>\n\n<pre><code>public class Organisation\n{\n    priavet int org_id;\n    private MultipartFile organisationRegistrationDocument;\n    private Teachers[]\n\n    // getters and setters\n}\n</code></pre>\n\n<p><strong>Class: Teachers</strong></p>\n\n<pre><code>class Teachers{\n\n    private String teacherId;\n    private MultipartFile teacherPhoto;\n\n    // getters and setters\n}\n</code></pre>\n\n<p>My controller Class is as follows:</p>\n\n<pre><code>@RequestMapping(value=\"/test\",method=RequestMethod.POST,headers = {\"content-type=multipart/mixed\",\"content-type=multipart/form-data\"})\n    private ResponseEntity&lt;Object&gt; testUpload(@RequestBody Organisation org) {\n        return null;\n    }\n</code></pre>\n\n<p>Error Thrown from POSTMAN:</p>\n\n<pre><code>{\n    \"timestamp\": \"2018-10-03T07:38:30.439+0000\",\n    \"status\": 400,\n    \"error\": \"Bad Request\",\n    \"message\": \"Required request part 'org' is not present\",\n    \"path\": \"/test\"\n}\n</code></pre>\n\n<p>So anyone can kindly guide me what can I am doing wrong due to which I am not able to achieve the desired result to process request of the above form?</p>\n"},{"tags":["javascript","java","jax-rs","pusher"],"answers":[{"tags":[],"owner":{"account_id":1004110,"reputation":2593,"user_id":1018290,"accept_rate":76,"display_name":"Will Sewell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487854887,"creation_date":1484137385,"answer_id":41590882,"question_id":41587640,"body_markdown":"You need to use *presence channels* to get information about the [members in a channel](https://pusher.com/docs/client_api_guide/client_presence_channels#channel_members). In your case you could get the count of subscribers with `var count = presenceChannel.members.count;`.","title":"Pusher: How to get private channel subscription count in pusher?","body":"<p>You need to use <em>presence channels</em> to get information about the <a href=\"https://pusher.com/docs/client_api_guide/client_presence_channels#channel_members\" rel=\"nofollow noreferrer\">members in a channel</a>. In your case you could get the count of subscribers with <code>var count = presenceChannel.members.count;</code>.</p>\n"},{"tags":[],"owner":{"account_id":54864,"reputation":3316,"user_id":164236,"accept_rate":42,"display_name":"DrewEaster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486401661,"creation_date":1486401661,"answer_id":42073621,"question_id":41587640,"body_markdown":"It is possible to get subscription count for private channels, you don&#39;t have to use a presence channel. However, to get subscription count for a private channel you have to explicitly enable that feature via your Pusher dashboard as it&#39;s not enabled by default:\r\n\r\nhttps://pusher.com/docs/rest_api#method-get-channel","title":"Pusher: How to get private channel subscription count in pusher?","body":"<p>It is possible to get subscription count for private channels, you don't have to use a presence channel. However, to get subscription count for a private channel you have to explicitly enable that feature via your Pusher dashboard as it's not enabled by default:</p>\n\n<p><a href=\"https://pusher.com/docs/rest_api#method-get-channel\" rel=\"nofollow noreferrer\">https://pusher.com/docs/rest_api#method-get-channel</a></p>\n"},{"tags":[],"owner":{"account_id":3369510,"reputation":4400,"user_id":2829128,"accept_rate":92,"display_name":"AlexioVay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680275241,"creation_date":1680275241,"answer_id":75900052,"question_id":41587640,"body_markdown":"Check out my **example of a private chat of 2 users** where I validate if **one user is currently typing** or **recording a voice message**:\r\n\r\n\r\n    channel.pusher.channel(&#39;private-chat.{{ $thread_id }}&#39;)\r\n        .bind(&quot;pusher:subscription_count&quot;, (data) =&gt; {\r\n            let activeUsers = data.subscription_count;\r\n            console.log(activeUsers);\r\n            if (activeUsers === 1) {\r\n                @this.recordingVoice = false;\r\n                @this.typing = false;\r\n            }\r\n        });\r\n\r\nI&#39;m using Laravel Echo/Pusher with Livewire to solve this. I send the php variables with `@this.recordingVoice = false` to the Livewire component that stops displaying `User X is currently recording a voice message...` when the other user is leaving the chat room/dm inbox.","title":"Pusher: How to get private channel subscription count in pusher?","body":"<p>Check out my <strong>example of a private chat of 2 users</strong> where I validate if <strong>one user is currently typing</strong> or <strong>recording a voice message</strong>:</p>\n<pre><code>channel.pusher.channel('private-chat.{{ $thread_id }}')\n    .bind(&quot;pusher:subscription_count&quot;, (data) =&gt; {\n        let activeUsers = data.subscription_count;\n        console.log(activeUsers);\n        if (activeUsers === 1) {\n            @this.recordingVoice = false;\n            @this.typing = false;\n        }\n    });\n</code></pre>\n<p>I'm using Laravel Echo/Pusher with Livewire to solve this. I send the php variables with <code>@this.recordingVoice = false</code> to the Livewire component that stops displaying <code>User X is currently recording a voice message...</code> when the other user is leaving the chat room/dm inbox.</p>\n"}],"owner":{"display_name":"user6328945"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680275241,"creation_date":1484128564,"question_id":41587640,"body_markdown":"**What I want:** How can i get subscription count after subscription of a private channel in pusher.Actually i want private chat between only 2 users.\r\n\r\n**What I Know and Doing**: . I know that i private channel can be subscribed by multiple clients(users).So whenever server trigger the data to private channel then all subscribed user get that response.\r\n\r\n**Channel subscription code in java script (Client-1):**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Pusher Test&lt;/title&gt;\r\n      &lt;script src=&quot;https://js.pusher.com/3.2/pusher.min.js&quot;&gt;&lt;/script&gt;\r\n      &lt;script&gt;\r\n    \r\n        // Enable pusher logging - don&#39;t include this in production\r\n        Pusher.logToConsole = true;\r\n        var pusher = new Pusher(&#39;PUSHER_KEY&#39;, {\r\n          authEndpoint: &#39;http://localhost:8080/medecube/rest/initial/pusher/auth&#39;,\r\n           auth: {\r\n              headers: {\r\n                &#39;X-CSRF-Token&#39;: &quot;12345&quot;\r\n              }\r\n            } \r\n          \r\n        });\r\n    \t\r\n        var channel = pusher.subscribe(&#39;private-channel&#39;);\r\n        channel.bind(&#39;pusher:subscription_succeeded&#39;, function() {\r\n            var triggered = channel.trigger(&#39;client-myEvent&#39;, { &quot;message&quot;: &quot;i am pusher client1&quot; });\r\n          }); \r\n     \r\n      &lt;/script&gt;\r\n    &lt;/head&gt;\r\nSame channel subscribed by client 2\r\n**Channel subscription code in java script (Client-2):**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;Pusher Test&lt;/title&gt;\r\n      &lt;script src=&quot;https://js.pusher.com/3.2/pusher.min.js&quot;&gt;&lt;/script&gt;\r\n      &lt;script&gt;\r\n    \r\n        // Enable pusher logging - don&#39;t include this in production\r\n        Pusher.logToConsole = true;\r\n        var pusher = new Pusher(&#39;PUSHER_KEY&#39;, {\r\n          authEndpoint: &#39;http://localhost:8080/medecube/rest/initial/pusher/auth&#39;,\r\n           auth: {\r\n              headers: {\r\n                &#39;X-CSRF-Token&#39;: &quot;12345&quot;\r\n              }\r\n            } \r\n          \r\n        });\r\n    \t\r\n        var channel = pusher.subscribe(&#39;private-channel&#39;);\r\n        channel.bind(&#39;pusher:subscription_succeeded&#39;, function() {\r\n            var triggered = channel.trigger(&#39;client-myEvent&#39;, { &quot;message&quot;: &quot;i am pusher client2&quot; });\r\n          }); \r\n     \r\n      &lt;/script&gt;\r\n    &lt;/head&gt;\r\n\r\n\r\n**Event Trigger by server:**\r\n\r\nPusher : `Event recd : {&quot;event&quot;:&quot;client-myEvent&quot;,&quot;data&quot;:{&quot;message&quot;:&quot;i am pusher client2&quot;},&quot;channel&quot;:&quot;private-channel&quot;}`\r\n\r\nThen both client get same response. I want only one user subscribe only 1 channel.","title":"Pusher: How to get private channel subscription count in pusher?","body":"<p><strong>What I want:</strong> How can i get subscription count after subscription of a private channel in pusher.Actually i want private chat between only 2 users.</p>\n\n<p><strong>What I Know and Doing</strong>: . I know that i private channel can be subscribed by multiple clients(users).So whenever server trigger the data to private channel then all subscribed user get that response.</p>\n\n<p><strong>Channel subscription code in java script (Client-1):</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n  &lt;title&gt;Pusher Test&lt;/title&gt;\n  &lt;script src=\"https://js.pusher.com/3.2/pusher.min.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n\n    // Enable pusher logging - don't include this in production\n    Pusher.logToConsole = true;\n    var pusher = new Pusher('PUSHER_KEY', {\n      authEndpoint: 'http://localhost:8080/medecube/rest/initial/pusher/auth',\n       auth: {\n          headers: {\n            'X-CSRF-Token': \"12345\"\n          }\n        } \n\n    });\n\n    var channel = pusher.subscribe('private-channel');\n    channel.bind('pusher:subscription_succeeded', function() {\n        var triggered = channel.trigger('client-myEvent', { \"message\": \"i am pusher client1\" });\n      }); \n\n  &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>Same channel subscribed by client 2\n<strong>Channel subscription code in java script (Client-2):</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n  &lt;title&gt;Pusher Test&lt;/title&gt;\n  &lt;script src=\"https://js.pusher.com/3.2/pusher.min.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n\n    // Enable pusher logging - don't include this in production\n    Pusher.logToConsole = true;\n    var pusher = new Pusher('PUSHER_KEY', {\n      authEndpoint: 'http://localhost:8080/medecube/rest/initial/pusher/auth',\n       auth: {\n          headers: {\n            'X-CSRF-Token': \"12345\"\n          }\n        } \n\n    });\n\n    var channel = pusher.subscribe('private-channel');\n    channel.bind('pusher:subscription_succeeded', function() {\n        var triggered = channel.trigger('client-myEvent', { \"message\": \"i am pusher client2\" });\n      }); \n\n  &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p><strong>Event Trigger by server:</strong></p>\n\n<p>Pusher : <code>Event recd : {\"event\":\"client-myEvent\",\"data\":{\"message\":\"i am pusher client2\"},\"channel\":\"private-channel\"}</code></p>\n\n<p>Then both client get same response. I want only one user subscribe only 1 channel.</p>\n"},{"tags":["python","java","android","socket.io"],"owner":{"account_id":17465417,"reputation":154,"user_id":12662254,"display_name":"Aryan Arabshahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680274982,"creation_date":1680274982,"question_id":75900022,"body_markdown":"I&#39;ve created a simple voice call app that sends the Microphone input audio to the socket server which is written in Python and gets the audio through socket connection and plays it.\r\nThere is a problem with playing the audio on **Android device**. The sound is broken and it doesn&#39;t work correctly. I wrote a **python client** to receive the audio data and play it and it **works perfectly** with the Python client but I really don&#39;t know what is wrong with the Android code.\r\nIt is the Socket Server (Python):\r\n\r\n```\r\nimport eventlet\r\nfrom eventlet.wsgi import server as wsgi_server\r\nfrom socketio import Server as SocketServer, WSGIApp\r\n\r\n\r\nsio = SocketServer()\r\nsocket_app = WSGIApp(sio)\r\n\r\n\r\n@sio.event\r\ndef broadcast_audio(sid, data):\r\n    sio.emit(&#39;audio_stream&#39;, data)\r\n\r\n\r\nwsgi_server(eventlet.listen((&#39;&#39;, 5000)), socket_app)\r\n\r\n```\r\nAnd this is the Java code for the Android:\r\n```\r\npackage dev.codewithcoffee.penpal;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.content.pm.PackageManager;\r\nimport android.media.AudioFormat;\r\nimport android.media.AudioManager;\r\nimport android.media.AudioRecord;\r\nimport android.media.AudioTrack;\r\nimport android.media.MediaRecorder;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\n\r\nimport java.net.URISyntaxException;\r\n\r\nimport io.socket.client.IO;\r\nimport io.socket.client.Socket;\r\nimport io.socket.emitter.Emitter;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Socket mSocket;\r\n    private AudioTrack audioTrack;\r\n    private int audioTrackOffset = 0;\r\n    private int recordSampleRate, bufferSize;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n\r\n        View callView = inflater.inflate(R.layout.activity_call, null);\r\n\r\n        // recordSampleRate = AudioTrack.getNativeOutputSampleRate(AudioManager.STREAM_MUSIC);\r\n        // bufferSize = AudioTrack.getMinBufferSize(recordSampleRate, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\r\n\r\n        recordSampleRate = 44100;\r\n        bufferSize = 4096;\r\n\r\n        audioTrack = new AudioTrack(AudioManager.STREAM_MUSIC, recordSampleRate, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT, bufferSize, AudioTrack.MODE_STREAM);\r\n        audioTrack.play();\r\n\r\n\r\n        initializeSocket();\r\n\r\n        startBroadcastAudio();\r\n\r\n        setContentView(callView);\r\n    }\r\n\r\n    private void initializeSocket() {\r\n        IO.Options options = new IO.Options();\r\n        options.forceNew = true;\r\n        options.reconnection = true;\r\n        options.reconnectionDelay = 2000;\r\n        options.reconnectionDelayMax = 5000;\r\n\r\n        try {\r\n            mSocket = IO.socket(&quot;http://192.168.1.3:5000&quot;);\r\n\r\n           mSocket.on(&quot;audio_stream&quot;, onAudioStream);\r\n\r\n            if (!mSocket.connected()) {\r\n                mSocket.connect();\r\n            }\r\n        } catch (URISyntaxException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private final Emitter.Listener onAudioStream = new Emitter.Listener() {\r\n        @Override\r\n        public void call(Object... args) {\r\n            try {\r\n                byte[] audioBytes = (byte[]) args[0];\r\n\r\n                audioTrack.write(audioBytes, 0, audioBytes.length);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    };\r\n\r\n    private void broadcastAudio() {\r\n\r\n        if (ActivityCompat.checkSelfPermission(this,\r\n                android.Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n\r\n        AudioRecord audioRecorder = new AudioRecord(\r\n                MediaRecorder.AudioSource.MIC,\r\n                recordSampleRate,\r\n                AudioFormat.CHANNEL_IN_STEREO,\r\n                AudioFormat.ENCODING_PCM_16BIT,\r\n                bufferSize\r\n        );\r\n\r\n        // Continuously read audio data from the recorder and send it to the server\r\n        byte[] buffer = new byte[bufferSize];\r\n        audioRecorder.startRecording();\r\n\r\n        while (true) {\r\n            int numBytesRead = audioRecorder.read(buffer, 0, bufferSize);\r\n            if (numBytesRead &gt; 0) {\r\n                // Send audio data to server through socket connection\r\n                mSocket.emit(&quot;broadcast_audio&quot;, buffer);\r\n            }\r\n        }\r\n    }\r\n\r\n    private class MyAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... params) {\r\n            // Run your function here\r\n            broadcastAudio();\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void result) {\r\n            // This method is called on the main thread\r\n            // You can update the UI here if needed\r\n        }\r\n    }\r\n\r\n    // Call this method to start the async task\r\n    private void startBroadcastAudio() {\r\n        MyAsyncTask task = new MyAsyncTask();\r\n        task.execute();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried different things to fix the android code, changing the buffer size and calc it by the existing method but it doesn&#39;t work too.","title":"How to play streamed audio thought socketio on Android Device?","body":"<p>I've created a simple voice call app that sends the Microphone input audio to the socket server which is written in Python and gets the audio through socket connection and plays it.\nThere is a problem with playing the audio on <strong>Android device</strong>. The sound is broken and it doesn't work correctly. I wrote a <strong>python client</strong> to receive the audio data and play it and it <strong>works perfectly</strong> with the Python client but I really don't know what is wrong with the Android code.\nIt is the Socket Server (Python):</p>\n<pre><code>import eventlet\nfrom eventlet.wsgi import server as wsgi_server\nfrom socketio import Server as SocketServer, WSGIApp\n\n\nsio = SocketServer()\nsocket_app = WSGIApp(sio)\n\n\n@sio.event\ndef broadcast_audio(sid, data):\n    sio.emit('audio_stream', data)\n\n\nwsgi_server(eventlet.listen(('', 5000)), socket_app)\n\n</code></pre>\n<p>And this is the Java code for the Android:</p>\n<pre><code>package dev.codewithcoffee.penpal;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.content.pm.PackageManager;\nimport android.media.AudioFormat;\nimport android.media.AudioManager;\nimport android.media.AudioRecord;\nimport android.media.AudioTrack;\nimport android.media.MediaRecorder;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\n\nimport java.net.URISyntaxException;\n\nimport io.socket.client.IO;\nimport io.socket.client.Socket;\nimport io.socket.emitter.Emitter;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Socket mSocket;\n    private AudioTrack audioTrack;\n    private int audioTrackOffset = 0;\n    private int recordSampleRate, bufferSize;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        LayoutInflater inflater = LayoutInflater.from(this);\n\n        View callView = inflater.inflate(R.layout.activity_call, null);\n\n        // recordSampleRate = AudioTrack.getNativeOutputSampleRate(AudioManager.STREAM_MUSIC);\n        // bufferSize = AudioTrack.getMinBufferSize(recordSampleRate, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);\n\n        recordSampleRate = 44100;\n        bufferSize = 4096;\n\n        audioTrack = new AudioTrack(AudioManager.STREAM_MUSIC, recordSampleRate, AudioFormat.CHANNEL_OUT_MONO, AudioFormat.ENCODING_PCM_16BIT, bufferSize, AudioTrack.MODE_STREAM);\n        audioTrack.play();\n\n\n        initializeSocket();\n\n        startBroadcastAudio();\n\n        setContentView(callView);\n    }\n\n    private void initializeSocket() {\n        IO.Options options = new IO.Options();\n        options.forceNew = true;\n        options.reconnection = true;\n        options.reconnectionDelay = 2000;\n        options.reconnectionDelayMax = 5000;\n\n        try {\n            mSocket = IO.socket(&quot;http://192.168.1.3:5000&quot;);\n\n           mSocket.on(&quot;audio_stream&quot;, onAudioStream);\n\n            if (!mSocket.connected()) {\n                mSocket.connect();\n            }\n        } catch (URISyntaxException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private final Emitter.Listener onAudioStream = new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            try {\n                byte[] audioBytes = (byte[]) args[0];\n\n                audioTrack.write(audioBytes, 0, audioBytes.length);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    };\n\n    private void broadcastAudio() {\n\n        if (ActivityCompat.checkSelfPermission(this,\n                android.Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n            return;\n        }\n\n        AudioRecord audioRecorder = new AudioRecord(\n                MediaRecorder.AudioSource.MIC,\n                recordSampleRate,\n                AudioFormat.CHANNEL_IN_STEREO,\n                AudioFormat.ENCODING_PCM_16BIT,\n                bufferSize\n        );\n\n        // Continuously read audio data from the recorder and send it to the server\n        byte[] buffer = new byte[bufferSize];\n        audioRecorder.startRecording();\n\n        while (true) {\n            int numBytesRead = audioRecorder.read(buffer, 0, bufferSize);\n            if (numBytesRead &gt; 0) {\n                // Send audio data to server through socket connection\n                mSocket.emit(&quot;broadcast_audio&quot;, buffer);\n            }\n        }\n    }\n\n    private class MyAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        @Override\n        protected Void doInBackground(Void... params) {\n            // Run your function here\n            broadcastAudio();\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            // This method is called on the main thread\n            // You can update the UI here if needed\n        }\n    }\n\n    // Call this method to start the async task\n    private void startBroadcastAudio() {\n        MyAsyncTask task = new MyAsyncTask();\n        task.execute();\n    }\n}\n</code></pre>\n<p>I tried different things to fix the android code, changing the buffer size and calc it by the existing method but it doesn't work too.</p>\n"},{"tags":["java","hibernate","criteriaquery","criteriabuilder"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680275398,"post_id":75899908,"comment_id":133875924,"body_markdown":"See [the following](https://stackoverflow.com/questions/46423209/find-native-sql-query-from-typedquery#59507282)","body":"See <a href=\"https://stackoverflow.com/questions/46423209/find-native-sql-query-from-typedquery#59507282\">the following</a>"}],"owner":{"account_id":8475277,"reputation":435,"user_id":6356736,"accept_rate":50,"display_name":"Doppu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680274695,"creation_date":1680274271,"question_id":75899908,"body_markdown":"I need to print the sql query with `CriteriaQuery`. The code is:\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n       CriteriaQuery&lt;Student&gt; query = cb.createQuery(Student.class);\r\n    ......\r\n    \r\n    //other operantion\r\n    \r\n    query.select(from);\r\n                query.where(predicateList.toArray(new Predicate[] {}));\r\n      \r\n                TypedQuery&lt;Student&gt; exec = em.createQuery(query); //here in debug it prints the name of the object\r\n                resultList = exec.getResultList();\r\n\r\n\r\n\r\nIn my persistence I put:\r\n\r\n&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n\r\n\r\nThe problem is that the debugt console it doesn&#39;t print the sql of `CriteriaQuery` but only the name of object\r\n\r\nAnyone can help me ho can I resolve my problem\r\n","title":"how print sql string in debug eclipse","body":"<p>I need to print the sql query with <code>CriteriaQuery</code>. The code is:</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\n   CriteriaQuery&lt;Student&gt; query = cb.createQuery(Student.class);\n......\n\n//other operantion\n\nquery.select(from);\n            query.where(predicateList.toArray(new Predicate[] {}));\n  \n            TypedQuery&lt;Student&gt; exec = em.createQuery(query); //here in debug it prints the name of the object\n            resultList = exec.getResultList();\n</code></pre>\n<p>In my persistence I put:</p>\n\n<p>The problem is that the debugt console it doesn't print the sql of <code>CriteriaQuery</code> but only the name of object</p>\n<p>Anyone can help me ho can I resolve my problem</p>\n"},{"tags":["java","itext","pdfbox","digital-signature","bouncycastle"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1680105812,"post_id":75878372,"comment_id":133842146,"body_markdown":"`PdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null); return sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);` - This makes no sense. If your signing service returns a CMS signature container, use that and don&#39;t try to reconstruct one.","body":"<code>PdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null); return sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);</code> - This makes no sense. If your signing service returns a CMS signature container, use that and don&#39;t try to reconstruct one."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1680105854,"post_id":75878372,"comment_id":133842167,"body_markdown":"*&quot;replacing .. per .. The signed PDF was generated, but it generated an error in the API verifier.&quot;* - please share the PDF for analysis.","body":"<i>&quot;replacing .. per .. The signed PDF was generated, but it generated an error in the API verifier.&quot;</i> - please share the PDF for analysis."},{"owner":{"account_id":28158965,"reputation":1,"user_id":21519242,"display_name":"ero"},"score":0,"creation_date":1680203533,"post_id":75878372,"comment_id":133862868,"body_markdown":"Thanks mkl, found out my mistake. Your contribution on &quot;This makes no sense&quot; helped too. But, another mistake made me lose a lot of time too. I will post the fix soon.","body":"Thanks mkl, found out my mistake. Your contribution on &quot;This makes no sense&quot; helped too. But, another mistake made me lose a lot of time too. I will post the fix soon."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1680208139,"post_id":75878372,"comment_id":133863924,"body_markdown":"Ok. I now would have had some time for analysis. Great that you already found out yourself.","body":"Ok. I now would have had some time for analysis. Great that you already found out yourself."}],"owner":{"account_id":28158965,"reputation":1,"user_id":21519242,"display_name":"ero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680273861,"creation_date":1680099062,"question_id":75878372,"body_markdown":"I need to follow the following steps:\r\n\r\n1) Prepare the signature document\r\n\r\n2) Calculate which bytes (bytes-ranges) of the file prepared in step 1 should enter the hash computation. Unlike a detached signature, the hash calculation for PDF enveloped signatures is not the SHA256 hash of the original (full) document. It is a part of the document prepared in step 1.\r\n\r\n3) Compute the SHA256 hash of these bytes\r\n\r\n4) Submit the SHA256 hash to the signPKCS7 operation of this API.\r\n\r\n5) The result of the signPKCS7 operation must be encoded in hexadecimal and embedded in the space that was previously allocated in the document in step 1.\r\n\r\nI get a .crt certificate and a .p7s file from the API. I&#39;ve tried several ways to attach this p7s signature to the PDF\r\n\r\nWhen checking the p7s file and the pdf prepared in step 1 on the platform made available by them, it is validated. But in my attempts to attach the p7s to the PDF it doesn&#39;t work.\r\n\r\n```java\r\n\tprivate void signature() throws GeneralSecurityException, IOException {\r\n\t\tpdf = new File(pdfUploadedAddress);\r\n\t\tpdf.mkdirs();\r\n\r\n\t\tBouncyCastleProvider providerBC = new BouncyCastleProvider();\r\n\t\tSecurity.addProvider(providerBC);\r\n\r\n\t\tCertificateFactory factory = CertificateFactory.getInstance(&quot;X.509&quot;, &quot;BC&quot;);\r\n\r\n\t\tCertificate[] chain = new Certificate[1];\r\n\t\tFile initialFile = new File(pathFileCertificate);\r\n\t\tInputStream stream = new FileInputStream(initialFile);\r\n\r\n\t\tchain[0] = factory.generateCertificate(stream);\r\n\r\n\t\temptySignature(pdfUploadedAddress, TEMP, &quot;sig&quot;, chain);\r\n\r\n\t\tcreateSignature(TEMP, DEST + RESULT_FILES[0], &quot;sig&quot;, chain);\r\n\r\n\t}\r\n\r\n\tpublic void emptySignature(String src, String dest, String fieldname, Certificate[] chain)\r\n\t\t\tthrows IOException, GeneralSecurityException {\r\n\r\n\t\tPdfReader reader = new PdfReader(src);\r\n\t\tPdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), new StampingProperties());\r\n\t\tPdfSignatureAppearance appearance = signer.getSignatureAppearance();\r\n\t\tappearance.setPageRect(new Rectangle(36, 748, 200, 100)).setPageNumber(1).setCertificate(chain[0]);\r\n\t\tsigner.setFieldName(fieldname);\r\n\r\n\t\t/*\r\n\t\t * ExternalBlankSignatureContainer constructor will create the PdfDictionary for\r\n\t\t * the signature information and will insert the /Filter and /SubFilter values\r\n\t\t * into this dictionary. It will leave just a blank placeholder for the\r\n\t\t * signature that is to be inserted later.\r\n\t\t */\r\n\t\tIExternalSignatureContainer external = new ExternalBlankSignatureContainer(PdfName.Adobe_PPKLite,\r\n\t\t\t\tPdfName.Adbe_pkcs7_detached);\r\n\r\n\t\t// Sign the document using an external container.\r\n\t\t// 8192 is the size of the empty signature placeholder.\r\n\t\tsigner.signExternalContainer(external, 8192);\r\n\r\n\t}\r\n\r\npublic void createSignature(String src, String dest, String fieldName, Certificate[] chain)\r\n\t\t\tthrows IOException, GeneralSecurityException {\r\n\r\n\t\r\n\t\tPdfReader reader = new PdfReader(src);\r\n\t\ttry (FileOutputStream fos = new FileOutputStream(dest)) {\r\n\t\t\tPdfSigner signer = new PdfSigner(reader, fos, new StampingProperties());\r\n\t\t\tIExternalSignatureContainer external = new MyExternalSignatureContainer(chain);\r\n\r\n\t\t\tsigner.signDeferred(signer.getDocument(), fieldName, fos, external);\r\n\r\n\t\t}\r\n\t\r\n\t}\r\nclass MyExternalSignatureContainer implements IExternalSignatureContainer {\r\n\r\n\t\tprotected Certificate[] chain;\r\n\r\n\t\tpublic MyExternalSignatureContainer(Certificate[] chain) {\r\n\t\t\tthis.chain = chain;\r\n\t\t}\r\n\r\n\t\tpublic byte[] sign(InputStream is) throws GeneralSecurityException {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tFile file = new File(&quot;src/main/resources/signature.p7s&quot;);\r\n\t\t\t\tbyte[] p7sFile = Files.readAllBytes(file.toPath());\r\n\r\n\t\t\t\tPdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null);\r\n\t\t\t\treturn sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);\r\n\r\n\t\t\t} catch (IOException ioe) {\r\n\t\t\t\tthrow new RuntimeException(ioe);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void modifySigningDictionary(PdfDictionary signDic) {\r\n\t\t\tsignDic.put(PdfName.Filter, PdfName.Adobe_PPKLite);\r\n\t\t\t// change here\r\n\t\t\tsignDic.put(PdfName.SubFilter, PdfName.Adbe_pkcs7_detached);\r\n\t\t}\r\n\t}\r\n\t\t\r\n```\r\n\r\nThe error returned when running this code was as follows:\r\n\r\ncom.itextpdf.kernel.exceptions.PdfException: Unknown PdfException.\r\n\r\nIn another attempt, replacing\r\n\r\nPdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null);\r\nreturn sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);\r\n\r\nper\r\n\r\nreturn p7sFile;\r\n\r\nThe signed PDF was generated, but it generated an error in the API verifier.\r\n\r\nAttributes -&gt; Required Attributes -&gt; IdMessageDigest -&gt; Disapproved. Failed to construct the attribute. Problems getting the hash\r\n\r\nIdContentType -&gt; Approved\r\n\r\n**To response Mkl&#39;s post:**\r\n\r\nSigned PDF\r\nhttps://www.dropbox.com/s/unwlfp4f4ipvijh/SignedPDF.pdf?dl=0\r\n\r\n**Problem solved**\r\n\r\n1) Replacing the lines, following mkl&#39;s tip in the comments\r\n\r\nPdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null);\r\n                return sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);\r\n\r\nper\r\n\r\nreturn p7sFile;\r\n\r\n2) I was calculating and hashing the temporary PDF with the blank signature to the API, however it must be hashed without the signature part and iText already helps you with that. The sign() method receives an InputStream that must be used to hash the prepared PDF correctly.\r\nThe sign method now looks like this:\r\n\r\n```\r\npublic byte[] sign(InputStream is) throws GeneralSecurityException {\r\n\r\n            try {\r\n\t\t\t\tBouncyCastleDigest digest = new BouncyCastleDigest();\r\n\t\t\t\tbyte[] hash = DigestAlgorithms.digest(is, digest.getMessageDigest(&quot;SHA256&quot;));\r\n\r\n                //API call that generates the .p7s signature\r\n                signPKCS7API(hash);\r\n\r\n                File file = new File(&quot;src/main/resources/signature.p7s&quot;);\r\n                byte[] p7sFile = Files.readAllBytes(file.toPath());\r\n\r\n                return p7sFile;\r\n\r\n            } catch (IOException ioe) {\r\n                throw new RuntimeException(ioe);\r\n            }\r\n        } ```","title":"How to attach a p7s signature received from an API to a PDF, preferably in JAVA","body":"<p>I need to follow the following steps:</p>\n<ol>\n<li><p>Prepare the signature document</p>\n</li>\n<li><p>Calculate which bytes (bytes-ranges) of the file prepared in step 1 should enter the hash computation. Unlike a detached signature, the hash calculation for PDF enveloped signatures is not the SHA256 hash of the original (full) document. It is a part of the document prepared in step 1.</p>\n</li>\n<li><p>Compute the SHA256 hash of these bytes</p>\n</li>\n<li><p>Submit the SHA256 hash to the signPKCS7 operation of this API.</p>\n</li>\n<li><p>The result of the signPKCS7 operation must be encoded in hexadecimal and embedded in the space that was previously allocated in the document in step 1.</p>\n</li>\n</ol>\n<p>I get a .crt certificate and a .p7s file from the API. I've tried several ways to attach this p7s signature to the PDF</p>\n<p>When checking the p7s file and the pdf prepared in step 1 on the platform made available by them, it is validated. But in my attempts to attach the p7s to the PDF it doesn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void signature() throws GeneralSecurityException, IOException {\n        pdf = new File(pdfUploadedAddress);\n        pdf.mkdirs();\n\n        BouncyCastleProvider providerBC = new BouncyCastleProvider();\n        Security.addProvider(providerBC);\n\n        CertificateFactory factory = CertificateFactory.getInstance(&quot;X.509&quot;, &quot;BC&quot;);\n\n        Certificate[] chain = new Certificate[1];\n        File initialFile = new File(pathFileCertificate);\n        InputStream stream = new FileInputStream(initialFile);\n\n        chain[0] = factory.generateCertificate(stream);\n\n        emptySignature(pdfUploadedAddress, TEMP, &quot;sig&quot;, chain);\n\n        createSignature(TEMP, DEST + RESULT_FILES[0], &quot;sig&quot;, chain);\n\n    }\n\n    public void emptySignature(String src, String dest, String fieldname, Certificate[] chain)\n            throws IOException, GeneralSecurityException {\n\n        PdfReader reader = new PdfReader(src);\n        PdfSigner signer = new PdfSigner(reader, new FileOutputStream(dest), new StampingProperties());\n        PdfSignatureAppearance appearance = signer.getSignatureAppearance();\n        appearance.setPageRect(new Rectangle(36, 748, 200, 100)).setPageNumber(1).setCertificate(chain[0]);\n        signer.setFieldName(fieldname);\n\n        /*\n         * ExternalBlankSignatureContainer constructor will create the PdfDictionary for\n         * the signature information and will insert the /Filter and /SubFilter values\n         * into this dictionary. It will leave just a blank placeholder for the\n         * signature that is to be inserted later.\n         */\n        IExternalSignatureContainer external = new ExternalBlankSignatureContainer(PdfName.Adobe_PPKLite,\n                PdfName.Adbe_pkcs7_detached);\n\n        // Sign the document using an external container.\n        // 8192 is the size of the empty signature placeholder.\n        signer.signExternalContainer(external, 8192);\n\n    }\n\npublic void createSignature(String src, String dest, String fieldName, Certificate[] chain)\n            throws IOException, GeneralSecurityException {\n\n    \n        PdfReader reader = new PdfReader(src);\n        try (FileOutputStream fos = new FileOutputStream(dest)) {\n            PdfSigner signer = new PdfSigner(reader, fos, new StampingProperties());\n            IExternalSignatureContainer external = new MyExternalSignatureContainer(chain);\n\n            signer.signDeferred(signer.getDocument(), fieldName, fos, external);\n\n        }\n    \n    }\nclass MyExternalSignatureContainer implements IExternalSignatureContainer {\n\n        protected Certificate[] chain;\n\n        public MyExternalSignatureContainer(Certificate[] chain) {\n            this.chain = chain;\n        }\n\n        public byte[] sign(InputStream is) throws GeneralSecurityException {\n\n            try {\n\n                File file = new File(&quot;src/main/resources/signature.p7s&quot;);\n                byte[] p7sFile = Files.readAllBytes(file.toPath());\n\n                PdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null);\n                return sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);\n\n            } catch (IOException ioe) {\n                throw new RuntimeException(ioe);\n            }\n        }\n\n        public void modifySigningDictionary(PdfDictionary signDic) {\n            signDic.put(PdfName.Filter, PdfName.Adobe_PPKLite);\n            // change here\n            signDic.put(PdfName.SubFilter, PdfName.Adbe_pkcs7_detached);\n        }\n    }\n        \n</code></pre>\n<p>The error returned when running this code was as follows:</p>\n<p>com.itextpdf.kernel.exceptions.PdfException: Unknown PdfException.</p>\n<p>In another attempt, replacing</p>\n<p>PdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null);\nreturn sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);</p>\n<p>per</p>\n<p>return p7sFile;</p>\n<p>The signed PDF was generated, but it generated an error in the API verifier.</p>\n<p>Attributes -&gt; Required Attributes -&gt; IdMessageDigest -&gt; Disapproved. Failed to construct the attribute. Problems getting the hash</p>\n<p>IdContentType -&gt; Approved</p>\n<p><strong>To response Mkl's post:</strong></p>\n<p>Signed PDF\n<a href=\"https://www.dropbox.com/s/unwlfp4f4ipvijh/SignedPDF.pdf?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/unwlfp4f4ipvijh/SignedPDF.pdf?dl=0</a></p>\n<p><strong>Problem solved</strong></p>\n<ol>\n<li>Replacing the lines, following mkl's tip in the comments</li>\n</ol>\n<p>PdfPKCS7 sgn = new PdfPKCS7(null, chain[0].getEncoded(), null);\nreturn sgn.getEncodedPKCS7(p7sFile, PdfSigner.CryptoStandard.CMS, null, null, null);</p>\n<p>per</p>\n<p>return p7sFile;</p>\n<ol start=\"2\">\n<li>I was calculating and hashing the temporary PDF with the blank signature to the API, however it must be hashed without the signature part and iText already helps you with that. The sign() method receives an InputStream that must be used to hash the prepared PDF correctly.\nThe sign method now looks like this:</li>\n</ol>\n<pre><code>public byte[] sign(InputStream is) throws GeneralSecurityException {\n\n            try {\n                BouncyCastleDigest digest = new BouncyCastleDigest();\n                byte[] hash = DigestAlgorithms.digest(is, digest.getMessageDigest(&quot;SHA256&quot;));\n\n                //API call that generates the .p7s signature\n                signPKCS7API(hash);\n\n                File file = new File(&quot;src/main/resources/signature.p7s&quot;);\n                byte[] p7sFile = Files.readAllBytes(file.toPath());\n\n                return p7sFile;\n\n            } catch (IOException ioe) {\n                throw new RuntimeException(ioe);\n            }\n        } ```\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1680288038,"post_id":75899844,"comment_id":133878803,"body_markdown":"No, and PDFBox always embeds except for the standard 14 fonts. Not embedding fonts is asking for trouble.","body":"No, and PDFBox always embeds except for the standard 14 fonts. Not embedding fonts is asking for trouble."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1680527249,"post_id":75899844,"comment_id":133908520,"body_markdown":"K J, could i bother you with futher explanation? I&#39;m loading the font from a .ttf file provided by the user so it could be a vanilla font like &quot;times roman&quot; or not. I understand what you say about embedding but I sill can&#39;t figure out how to turn a PDType0Font into a bold one. Doing something like PDType0Font.load(document,new File(fontFilePath + style)) returns NullPointerException becasue I do not have a .ttf file for the bold variation of the font","body":"K J, could i bother you with futher explanation? I&#39;m loading the font from a .ttf file provided by the user so it could be a vanilla font like &quot;times roman&quot; or not. I understand what you say about embedding but I sill can&#39;t figure out how to turn a PDType0Font into a bold one. Doing something like PDType0Font.load(document,new File(fontFilePath + style)) returns NullPointerException becasue I do not have a .ttf file for the bold variation of the font"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1680530053,"post_id":75899844,"comment_id":133909356,"body_markdown":"You can&#39;t turn a loaded font into a bold font. You can simulate this somewhat, by using fill and stroke text rendering mode, but that isn&#39;t the real thing. You could also simulate italic by using a skew transformation, but that too isn&#39;t the real thing. I don&#39;t know itext, you should look at their javadoc to see what it does. &quot;fontFilePath + style&quot; wouldn&#39;t work anyway, you&#39;d get &quot;Times.ttfBold&quot;","body":"You can&#39;t turn a loaded font into a bold font. You can simulate this somewhat, by using fill and stroke text rendering mode, but that isn&#39;t the real thing. You could also simulate italic by using a skew transformation, but that too isn&#39;t the real thing. I don&#39;t know itext, you should look at their javadoc to see what it does. &quot;fontFilePath + style&quot; wouldn&#39;t work anyway, you&#39;d get &quot;Times.ttfBold&quot;"}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680273840,"creation_date":1680273840,"question_id":75899844,"body_markdown":"My web application has a functionality to create PDF reports and it is implemented using iText 5. I have been tasked with migrating that implementation to PDFBox 2.0.27 but I&#39;m stuck with everything font related.\r\n\r\niText5 provides the following method to create a non-embedded base font with a particular style like bold or italic:\r\n\r\n```\r\nbaseFont = BaseFont.createFont(fontFilePath + style, BaseFont.WINANSI, BaseFont.NOT_EMBEDDED);\r\n```\r\n\r\nI have been trying to replicate that using PDFBox but I can&#39;t seem to find a way to create a bold or italic font using the .ttf file of the original font. I have tried setting the font weight in the font dictionary, but it appears to have no effect\r\n\r\n```\r\nPDType0Font originalFont = PDType0Font.load(document,new File(fontFilePath));\r\nCOSDictionary dict = new COSDictionary(originalFont.getCOSObject());\r\ndict.setInt(COSName.FONT_WEIGHT, 700);\r\ndict.setItem(COSName.ENCODING, COSName.IDENTITY_H);\r\ndict.setItem(COSName.FONT_FILE2, COSNull.NULL);\r\nbaseFont = new PDType0Font(dict);\r\n```\r\n\r\nI have also tried using the setFontWeight over the font descriptor of the base font, but again it has no effect\r\n\r\n```\r\nPDType0Font originalFont = PDType0Font.load(document,new File(fontFilePath));\r\nCOSDictionary dict = new COSDictionary(originalFont.getCOSObject());\r\ndict.setItem(COSName.ENCODING, COSName.IDENTITY_H);\r\ndict.setItem(COSName.FONT_FILE2, COSNull.NULL);\r\nbaseFont = new PDType0Font(dict);\r\nbaseFont.getFontDescriptor().setFontWeight(700);\r\n```\r\n\r\nIs there a way to do this without requiring another .ttf file representing the bold (or italic) version of the font?","title":"PDFBOX, How to modify an existing font to make it bold or italic","body":"<p>My web application has a functionality to create PDF reports and it is implemented using iText 5. I have been tasked with migrating that implementation to PDFBox 2.0.27 but I'm stuck with everything font related.</p>\n<p>iText5 provides the following method to create a non-embedded base font with a particular style like bold or italic:</p>\n<pre><code>baseFont = BaseFont.createFont(fontFilePath + style, BaseFont.WINANSI, BaseFont.NOT_EMBEDDED);\n</code></pre>\n<p>I have been trying to replicate that using PDFBox but I can't seem to find a way to create a bold or italic font using the .ttf file of the original font. I have tried setting the font weight in the font dictionary, but it appears to have no effect</p>\n<pre><code>PDType0Font originalFont = PDType0Font.load(document,new File(fontFilePath));\nCOSDictionary dict = new COSDictionary(originalFont.getCOSObject());\ndict.setInt(COSName.FONT_WEIGHT, 700);\ndict.setItem(COSName.ENCODING, COSName.IDENTITY_H);\ndict.setItem(COSName.FONT_FILE2, COSNull.NULL);\nbaseFont = new PDType0Font(dict);\n</code></pre>\n<p>I have also tried using the setFontWeight over the font descriptor of the base font, but again it has no effect</p>\n<pre><code>PDType0Font originalFont = PDType0Font.load(document,new File(fontFilePath));\nCOSDictionary dict = new COSDictionary(originalFont.getCOSObject());\ndict.setItem(COSName.ENCODING, COSName.IDENTITY_H);\ndict.setItem(COSName.FONT_FILE2, COSNull.NULL);\nbaseFont = new PDType0Font(dict);\nbaseFont.getFontDescriptor().setFontWeight(700);\n</code></pre>\n<p>Is there a way to do this without requiring another .ttf file representing the bold (or italic) version of the font?</p>\n"},{"tags":["java","sql","database","user-interface","ms-access"],"comments":[{"owner":{"account_id":7637440,"reputation":7951,"user_id":5790584,"display_name":"Eric Brandt"},"score":3,"creation_date":1593088556,"post_id":62575322,"comment_id":110660924,"body_markdown":"What are the values being passed to the `INSERT` statement parameters, and what are the datatypes of the corresponding columns in the table? It&#39;s possible you&#39;re trying to pass a value that can&#39;t be implicitly cast to the data type required for the column.","body":"What are the values being passed to the <code>INSERT</code> statement parameters, and what are the datatypes of the corresponding columns in the table? It&#39;s possible you&#39;re trying to pass a value that can&#39;t be implicitly cast to the data type required for the column."},{"owner":{"account_id":18930191,"reputation":31,"user_id":13812448,"display_name":"Calvin Beck"},"score":0,"creation_date":1594122450,"post_id":62575322,"comment_id":111009739,"body_markdown":"The values of the first row in the database are : RAC001, 6, 96.4, -1, 08:30:00, Tom2473. The datatypes of the columns are as follows in access: RaceName (Short Text), NoSwimmers(Number), AvgTime(Number), RaceOnTime(Yes/No), TimeOfDay(Date/Time), WinID(Short Text)","body":"The values of the first row in the database are : RAC001, 6, 96.4, -1, 08:30:00, Tom2473. The datatypes of the columns are as follows in access: RaceName (Short Text), NoSwimmers(Number), AvgTime(Number), RaceOnTime(Yes/No), TimeOfDay(Date/Time), WinID(Short Text)"},{"owner":{"account_id":7637440,"reputation":7951,"user_id":5790584,"display_name":"Eric Brandt"},"score":0,"creation_date":1594126154,"post_id":62575322,"comment_id":111011882,"body_markdown":"It&#39;s been years since I worked in Access so I can&#39;t offer an actual answer, but I know it&#39;s touchy about datetime data. Maybe try your code without the `TimeOfDay` column to see if that&#39;s the issue. If it is, you may want to write a new question that focuses on how to handle that specific input parameter.","body":"It&#39;s been years since I worked in Access so I can&#39;t offer an actual answer, but I know it&#39;s touchy about datetime data. Maybe try your code without the <code>TimeOfDay</code> column to see if that&#39;s the issue. If it is, you may want to write a new question that focuses on how to handle that specific input parameter."}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680273517,"creation_date":1680272370,"answer_id":75899609,"question_id":62575322,"body_markdown":"You try to insert a `string` val into a numeric field.\r\n\r\nYou use a `setString` to set vals of the statement. The index for `setString` starts at `1`. You call `pst.setString(0, racename);`, you set the value at `0`, which is not existing.\r\n\r\nThis worked for me, change the index of `setStrings`:\r\n\r\n    // pst = con.prepareStatement(&quot;insert into tblRace(RaceName,NoSwimmers,AvgTime,RaceOnTime,TimeOfDay,WinID)values(?,?,?,?,?,?)&quot;);\r\n    pst.setString(1,racename);\r\n    pst.setString(2,noofswimmers);\r\n    pst.setString(3,avgtime);\r\n    pst.setString(4,raceontime);\r\n    pst.setString(5,tod);\r\n    pst.setString(6,winid);\r\n    // pst.executeUpdate\r\n\r\nYou want to convert a `string` val to a `data` type that isn&#39;t compatible. You use the appropriate `set` for each parameter based on `data`.\r\n\r\n`NoSwimmers` is of integer type, use `setInt` instead of `setString` to set value.\r\n\r\n`setInt` set val of `NoSwimmers` after converting to an int using `parseInt`. Use the appropriate `set` for each parameter based on `data`.\r\n\r\n---\r\n\r\nThis set the value corectly, and should fix the error.\r\n\r\n#### Edit:\r\n\r\n1. Check `data` type in the `database` table you are inserting vals into.\r\n\r\nYou see the datatype of the columns in the table.\r\n\r\n    RaceName (Short Text)\r\n    NoSwimmers(Number)\r\n    AvgTime(Number)\r\n    RaceOnTime(Yes/No)\r\n    TimeOfDay(Date/Time)\r\n    WinID(Short Text)\r\n\r\n2. Check the `data` type of columns in table to ensure that the val is passed to the `INSERT` for each column.\r\n\r\nThis is trying to pass a val that is not casted to `data` type for columns.\r\n\r\nWe try to pass a `string` val to a column with a numeric `data` type. In the code the val is passed to `INSERT` parameters obtained from `GUI`.\r\n\r\n**Be sure that the `data` of each val matches the `data` required for each column.**\r\n\r\n3. The solution provided in the previous answer should be valid as it adresses the issue of using the wrong methods to set parameters.\r\n\r\nIn the code we see the `setString` is used to set parameter values for all columns. We should use the appropriate methods based on `data` type parameters.\r\n\r\nWe use `setInt` for `NoSwimmers`, `setDouble` for `AvgTime`, `setBoolean` for `RaceOnTime` and `setDate` for `TimeOfDay` - we can successfully pass the vals to columns.\r\n\r\nEnsure that the `data` of vals is passed to `INSERT` params to match `data` for each column in the table, **use the appropriate set methods based on `data` types.**","title":"invalid character value for cast","body":"<p>You try to insert a <code>string</code> val into a numeric field.</p>\n<p>You use a <code>setString</code> to set vals of the statement. The index for <code>setString</code> starts at <code>1</code>. You call <code>pst.setString(0, racename);</code>, you set the value at <code>0</code>, which is not existing.</p>\n<p>This worked for me, change the index of <code>setStrings</code>:</p>\n<pre><code>// pst = con.prepareStatement(&quot;insert into tblRace(RaceName,NoSwimmers,AvgTime,RaceOnTime,TimeOfDay,WinID)values(?,?,?,?,?,?)&quot;);\npst.setString(1,racename);\npst.setString(2,noofswimmers);\npst.setString(3,avgtime);\npst.setString(4,raceontime);\npst.setString(5,tod);\npst.setString(6,winid);\n// pst.executeUpdate\n</code></pre>\n<p>You want to convert a <code>string</code> val to a <code>data</code> type that isn't compatible. You use the appropriate <code>set</code> for each parameter based on <code>data</code>.</p>\n<p><code>NoSwimmers</code> is of integer type, use <code>setInt</code> instead of <code>setString</code> to set value.</p>\n<p><code>setInt</code> set val of <code>NoSwimmers</code> after converting to an int using <code>parseInt</code>. Use the appropriate <code>set</code> for each parameter based on <code>data</code>.</p>\n<hr />\n<p>This set the value corectly, and should fix the error.</p>\n<h4>Edit:</h4>\n<ol>\n<li>Check <code>data</code> type in the <code>database</code> table you are inserting vals into.</li>\n</ol>\n<p>You see the datatype of the columns in the table.</p>\n<pre><code>RaceName (Short Text)\nNoSwimmers(Number)\nAvgTime(Number)\nRaceOnTime(Yes/No)\nTimeOfDay(Date/Time)\nWinID(Short Text)\n</code></pre>\n<ol start=\"2\">\n<li>Check the <code>data</code> type of columns in table to ensure that the val is passed to the <code>INSERT</code> for each column.</li>\n</ol>\n<p>This is trying to pass a val that is not casted to <code>data</code> type for columns.</p>\n<p>We try to pass a <code>string</code> val to a column with a numeric <code>data</code> type. In the code the val is passed to <code>INSERT</code> parameters obtained from <code>GUI</code>.</p>\n<p><strong>Be sure that the <code>data</code> of each val matches the <code>data</code> required for each column.</strong></p>\n<ol start=\"3\">\n<li>The solution provided in the previous answer should be valid as it adresses the issue of using the wrong methods to set parameters.</li>\n</ol>\n<p>In the code we see the <code>setString</code> is used to set parameter values for all columns. We should use the appropriate methods based on <code>data</code> type parameters.</p>\n<p>We use <code>setInt</code> for <code>NoSwimmers</code>, <code>setDouble</code> for <code>AvgTime</code>, <code>setBoolean</code> for <code>RaceOnTime</code> and <code>setDate</code> for <code>TimeOfDay</code> - we can successfully pass the vals to columns.</p>\n<p>Ensure that the <code>data</code> of vals is passed to <code>INSERT</code> params to match <code>data</code> for each column in the table, <strong>use the appropriate set methods based on <code>data</code> types.</strong></p>\n"}],"owner":{"account_id":18930191,"reputation":31,"user_id":13812448,"display_name":"Calvin Beck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680273517,"creation_date":1593087989,"question_id":62575322,"body_markdown":"I keep on receiving this error, `net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.0-SNAPSHOT data exception: invalid character value for cast`. I&#39;m not sure how to fix it I have tried leaving out the primary key from my values part of my sql query, i&#39;m not sure if the data is incompatible or if i am somehow declaring it wrong please help. I am trying to insert values from a GUI into an existing database.\r\n\r\nHere is my code\r\n\r\n    \r\n\r\n        String racename, noofswimmers, avgtime, raceontime, tod, winid;\r\n        racename = txtracename.getText();\r\n        noofswimmers = txtnoswimmers.getText();\r\n        avgtime = txtavgtime.getText();\r\n        raceontime = txtraceontime.getText();\r\n        tod = txttod.getText();\r\n        winid = txtwinid.getText();\r\n        \r\n        \r\n        \r\n        try {\r\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n            con = DriverManager.getConnection(&quot;jdbc:ucanaccess://C:/Users/Calvin/Documents/SwimGala.accdb&quot;);\r\n            \r\n            pst = con.prepareStatement(&quot;insert into tblRace(RaceName,NoSwimmers,AvgTime,RaceOnTime,TimeOfDay,WinID)values(?,?,?,?,?,?)&quot;);\r\n            pst.setString(0,racename);\r\n            pst.setString(1,noofswimmers);\r\n            pst.setString(2,avgtime);\r\n            pst.setString(3,raceontime);\r\n            pst.setString(4,tod);\r\n            pst.setString(5,winid);\r\n            pst.executeUpdate();\r\n            JOptionPane.showMessageDialog(this,&quot;Record added&quot;);\r\n            \r\n            \r\n                    \r\n            \r\n        } catch (ClassNotFoundException ex) {\r\n            Logger.getLogger(Tabl.class.getName()).log(Level.SEVERE, null, ex);\r\n            JOptionPane.showMessageDialog(this,ex);\r\n            \r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(Tabl.class.getName()).log(Level.SEVERE, null, ex);\r\n            JOptionPane.showMessageDialog(this,ex);\r\n        }\r\n\r\n ","title":"invalid character value for cast","body":"<p>I keep on receiving this error, <code>net.ucanaccess.jdbc.UcanaccessSQLException: UCAExc:::5.0.0-SNAPSHOT data exception: invalid character value for cast</code>. I'm not sure how to fix it I have tried leaving out the primary key from my values part of my sql query, i'm not sure if the data is incompatible or if i am somehow declaring it wrong please help. I am trying to insert values from a GUI into an existing database.</p>\n<p>Here is my code</p>\n<pre><code>    String racename, noofswimmers, avgtime, raceontime, tod, winid;\n    racename = txtracename.getText();\n    noofswimmers = txtnoswimmers.getText();\n    avgtime = txtavgtime.getText();\n    raceontime = txtraceontime.getText();\n    tod = txttod.getText();\n    winid = txtwinid.getText();\n    \n    \n    \n    try {\n        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n        con = DriverManager.getConnection(&quot;jdbc:ucanaccess://C:/Users/Calvin/Documents/SwimGala.accdb&quot;);\n        \n        pst = con.prepareStatement(&quot;insert into tblRace(RaceName,NoSwimmers,AvgTime,RaceOnTime,TimeOfDay,WinID)values(?,?,?,?,?,?)&quot;);\n        pst.setString(0,racename);\n        pst.setString(1,noofswimmers);\n        pst.setString(2,avgtime);\n        pst.setString(3,raceontime);\n        pst.setString(4,tod);\n        pst.setString(5,winid);\n        pst.executeUpdate();\n        JOptionPane.showMessageDialog(this,&quot;Record added&quot;);\n        \n        \n                \n        \n    } catch (ClassNotFoundException ex) {\n        Logger.getLogger(Tabl.class.getName()).log(Level.SEVERE, null, ex);\n        JOptionPane.showMessageDialog(this,ex);\n        \n    } catch (SQLException ex) {\n        Logger.getLogger(Tabl.class.getName()).log(Level.SEVERE, null, ex);\n        JOptionPane.showMessageDialog(this,ex);\n    }\n</code></pre>\n"},{"tags":["java","json","spring-mvc","postman"],"owner":{"account_id":27889316,"reputation":1,"user_id":21296040,"display_name":"meckest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680273430,"creation_date":1680267387,"question_id":75898801,"body_markdown":"I am trying to send POST request using postman to my REST API controller, but i&#39;m getting 415Unsupported Media Type. As i understand JSON type isn&#39;t supported by the API,even though i have included application/json in paramenters. If i change Account to String, function works as expected.I would like to ask, what am i missing and what is the most elegant way to add JSON support, ideally without importing more dependencies. You can find my code below:\r\n\r\n\r\nController: \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/accounts&quot;)\r\npublic class AccountController {\r\n    private final AccountDAO accountDAO;\r\n    private Service service = new Service();\r\n\r\n    public AccountController(AccountDAO accountDAO) {\r\n        this.accountDAO = accountDAO;\r\n    }\r\n\r\n    @PostMapping(value = &quot;/&quot;, consumes  = {&quot;application/json&quot;}, produces = {&quot;application/json&quot;})\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Account createAccount(@RequestBody Account account) {\r\n        Account newAccount = accountDAO.save(account);\r\n        return newAccount;\r\n    }\r\n}\r\n```\r\n\r\nPOJO:\r\n\r\n```\r\n@Entity\r\npublic class Account {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String iban;\r\n\r\n    private String currency;\r\n\r\n    private BigDecimal balance;\r\n// getters and setters\r\n}\r\n```\r\nSpringConfig:\r\n```\r\n\r\n@Configuration\r\n@ComponentScan(&quot;com.banker&quot;)\r\n@EnableWebMvc\r\npublic class SpringConfig{ }\r\n```\r\n\r\nInitializer:\r\n```\r\n\r\npublic class SpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[] {SpringConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[]{&quot;/&quot;};\r\n    }\r\n}\r\n\r\n```\r\n\r\nDependencies:\r\n```\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.version&gt;6.0.6&lt;/spring.version&gt;\r\n    &lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nPostman request: POST to http://localhost:8080/accounts/, Content-Type = application/json, Accept = */*\r\nBody:\r\n```\r\n{\r\n    &quot;iban&quot; : &quot;abs&quot;,\r\n    &quot;balance&quot; : 1000.0,\r\n    &quot;currency&quot; : &quot;euro&quot;\r\n}\r\n```","title":"Spring MVC not being able to process JSON: 415Unsupported Media Type","body":"<p>I am trying to send POST request using postman to my REST API controller, but i'm getting 415Unsupported Media Type. As i understand JSON type isn't supported by the API,even though i have included application/json in paramenters. If i change Account to String, function works as expected.I would like to ask, what am i missing and what is the most elegant way to add JSON support, ideally without importing more dependencies. You can find my code below:</p>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/accounts&quot;)\npublic class AccountController {\n    private final AccountDAO accountDAO;\n    private Service service = new Service();\n\n    public AccountController(AccountDAO accountDAO) {\n        this.accountDAO = accountDAO;\n    }\n\n    @PostMapping(value = &quot;/&quot;, consumes  = {&quot;application/json&quot;}, produces = {&quot;application/json&quot;})\n    @ResponseStatus(HttpStatus.CREATED)\n    public Account createAccount(@RequestBody Account account) {\n        Account newAccount = accountDAO.save(account);\n        return newAccount;\n    }\n}\n</code></pre>\n<p>POJO:</p>\n<pre><code>@Entity\npublic class Account {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String iban;\n\n    private String currency;\n\n    private BigDecimal balance;\n// getters and setters\n}\n</code></pre>\n<p>SpringConfig:</p>\n<pre><code>\n@Configuration\n@ComponentScan(&quot;com.banker&quot;)\n@EnableWebMvc\npublic class SpringConfig{ }\n</code></pre>\n<p>Initializer:</p>\n<pre><code>\npublic class SpringMvcDispatcherServletInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {SpringConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[]{&quot;/&quot;};\n    }\n}\n\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;spring.version&gt;6.0.6&lt;/spring.version&gt;\n    &lt;/properties&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Postman request: POST to http://localhost:8080/accounts/, Content-Type = application/json, Accept = <em>/</em>\nBody:</p>\n<pre><code>{\n    &quot;iban&quot; : &quot;abs&quot;,\n    &quot;balance&quot; : 1000.0,\n    &quot;currency&quot; : &quot;euro&quot;\n}\n</code></pre>\n"},{"tags":["java","linq","aspose","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680272510,"creation_date":1679981648,"answer_id":75862630,"question_id":75858947,"body_markdown":"`LinkLabel` in your expression should be surrounded with square brackets. So the expression before building the report should look like this:\r\n\r\n`&lt;&lt;link [LinkLabel]&gt;&gt;`\r\n\r\nwhere `LinkLabel` is the name of variable that contains the url or bookmark name. For example see the following code:\r\n```java\r\nDocument document = new Document();\r\nDocumentBuilder builder = new DocumentBuilder(document);\r\nbuilder.write(&quot;&lt;&lt;link [LinkLabel]&gt;&gt;&quot;);\r\n    \r\nReportingEngine engine = new ReportingEngine();\r\nengine.buildReport(document, &quot;https://www.aspose.com/&quot;, &quot;LinkLabel&quot;);\r\n    \r\ndocument.save(&quot;C:\\\\Temp\\\\out.docx&quot;);\r\n```\r\nIn this case url is also used as displayed text. If it is required to use different value as displayed text, the second parameter should be used:\r\n```java\r\nDocument document = new Document();\r\nDocumentBuilder builder = new DocumentBuilder(document);\r\n// Define variables with url and displayed text.\r\n// In real case the data will come from your data source.\r\nbuilder.write(&quot;&lt;&lt;var [url=\\&quot;https://www.aspose.com/\\&quot;]&gt;&gt;&quot;);\r\nbuilder.write(&quot;&lt;&lt;var [displayed_text=\\&quot;Link To Aspose Web Site\\&quot;]&gt;&gt;&quot;);\r\nbuilder.write(&quot;&lt;&lt;link [url] [displayed_text]&gt;&gt;&quot;);\r\n    \r\nReportingEngine engine = new ReportingEngine();\r\nengine.buildReport(document, new Object());\r\n    \r\ndocument.save(&quot;C:\\\\Temp\\\\out.docx&quot;);\r\n```\r\n\r\nEIDT: The curly brackets you have mentioned are not actually a simple curly brackets, they are special nodes - FieldStart, FieldSeparator and FieldEnd. See the following article to learn more about representing field in MS Word and Aspose.Words:\r\n&lt;https://docs.aspose.com/words/net/fields-overview/&gt;\r\n\r\nAfter producing the document using the following code:\r\n```java\r\nDocumentBuilder builder = new DocumentBuilder();\r\nbuilder.write(&quot;&lt;&lt;link [LinkLabel]&gt;&gt;&quot;);\r\nReportingEngine engine = new ReportingEngine();\r\nengine.buildReport(builder.getDocument(), &quot;label&quot;, &quot;LinkLabel&quot;);\r\nbuilder.getDocument().save(&quot;C:\\\\Temp\\\\out.docx&quot;);\r\n```\r\nThe field is constructed properly:\r\n[![enter image description here][1]][1]\r\nInternally such field is represented like this:\r\n```xml\r\n&lt;w:hyperlink w:anchor=&quot;label&quot; w:history=&quot;1&quot;&gt;\r\n\t&lt;w:r&gt;\r\n\t\t&lt;w:rPr&gt;\r\n\t\t\t&lt;w:rStyle w:val=&quot;Hyperlink&quot; /&gt;\r\n\t\t&lt;/w:rPr&gt;\r\n\t\t&lt;w:t&gt;label&lt;/w:t&gt;\r\n\t&lt;/w:r&gt;\r\n&lt;/w:hyperlink&gt;\r\n```\r\nBut the method `Document.getText()` does not return &quot;curly brackets&quot; for special field nodes, that is why you do not see them in the string output.\r\n\r\n  [1]: https://i.stack.imgur.com/WMzpB.png","title":"Why does buildReport() assemble an invalid hyperlink in Aspose (Java Words)?","body":"<p><code>LinkLabel</code> in your expression should be surrounded with square brackets. So the expression before building the report should look like this:</p>\n<p><code>&lt;&lt;link [LinkLabel]&gt;&gt;</code></p>\n<p>where <code>LinkLabel</code> is the name of variable that contains the url or bookmark name. For example see the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document document = new Document();\nDocumentBuilder builder = new DocumentBuilder(document);\nbuilder.write(&quot;&lt;&lt;link [LinkLabel]&gt;&gt;&quot;);\n    \nReportingEngine engine = new ReportingEngine();\nengine.buildReport(document, &quot;https://www.aspose.com/&quot;, &quot;LinkLabel&quot;);\n    \ndocument.save(&quot;C:\\\\Temp\\\\out.docx&quot;);\n</code></pre>\n<p>In this case url is also used as displayed text. If it is required to use different value as displayed text, the second parameter should be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document document = new Document();\nDocumentBuilder builder = new DocumentBuilder(document);\n// Define variables with url and displayed text.\n// In real case the data will come from your data source.\nbuilder.write(&quot;&lt;&lt;var [url=\\&quot;https://www.aspose.com/\\&quot;]&gt;&gt;&quot;);\nbuilder.write(&quot;&lt;&lt;var [displayed_text=\\&quot;Link To Aspose Web Site\\&quot;]&gt;&gt;&quot;);\nbuilder.write(&quot;&lt;&lt;link [url] [displayed_text]&gt;&gt;&quot;);\n    \nReportingEngine engine = new ReportingEngine();\nengine.buildReport(document, new Object());\n    \ndocument.save(&quot;C:\\\\Temp\\\\out.docx&quot;);\n</code></pre>\n<p>EIDT: The curly brackets you have mentioned are not actually a simple curly brackets, they are special nodes - FieldStart, FieldSeparator and FieldEnd. See the following article to learn more about representing field in MS Word and Aspose.Words:\n<a href=\"https://docs.aspose.com/words/net/fields-overview/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/net/fields-overview/</a></p>\n<p>After producing the document using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DocumentBuilder builder = new DocumentBuilder();\nbuilder.write(&quot;&lt;&lt;link [LinkLabel]&gt;&gt;&quot;);\nReportingEngine engine = new ReportingEngine();\nengine.buildReport(builder.getDocument(), &quot;label&quot;, &quot;LinkLabel&quot;);\nbuilder.getDocument().save(&quot;C:\\\\Temp\\\\out.docx&quot;);\n</code></pre>\n<p>The field is constructed properly:\n<a href=\"https://i.stack.imgur.com/WMzpB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WMzpB.png\" alt=\"enter image description here\" /></a>\nInternally such field is represented like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;w:hyperlink w:anchor=&quot;label&quot; w:history=&quot;1&quot;&gt;\n    &lt;w:r&gt;\n        &lt;w:rPr&gt;\n            &lt;w:rStyle w:val=&quot;Hyperlink&quot; /&gt;\n        &lt;/w:rPr&gt;\n        &lt;w:t&gt;label&lt;/w:t&gt;\n    &lt;/w:r&gt;\n&lt;/w:hyperlink&gt;\n</code></pre>\n<p>But the method <code>Document.getText()</code> does not return &quot;curly brackets&quot; for special field nodes, that is why you do not see them in the string output.</p>\n"}],"owner":{"account_id":7172714,"reputation":1535,"user_id":5479704,"accept_rate":57,"display_name":"Liam Hanninen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75862630,"answer_count":1,"score":0,"last_activity_date":1680272510,"creation_date":1679939981,"question_id":75858947,"body_markdown":"I&#39;m using Aspose (Java) with LINQ reporting syntax to build a report dynamically. This [piece of documentation][1] explains how to insert hyperlinks into a document. Which, most generally, looks like this\r\n\r\n    &lt;&lt;link [uri_or_bookmark_expression] [display_text_expression]&gt;&gt;\r\n\r\nThe last paragraph states &quot;While building a report...&quot; which I am interpreting as executing [buildReport()][2]. We need to execute buildReport anyway for obvious reasons. But the output when we use buildReport() is invalid and therefore not properly converted to a hyperlink in the Word doc.\r\n\r\n    _engine = new ReportingEngine();\r\n    _engine.getKnownTypes().add(Helper.class);\r\n    _engine.setOptions(ReportBuildOptions.ALLOW_MISSING_MEMBERS | ReportBuildOptions.REMOVE_EMPTY_PARAGRAPHS);\r\n    Document document = new Document;\r\n    DocumentBuilder builder = new DocumentBuilder(document);\r\n\r\n    builder.writer(&quot;&lt;&lt;link [LinkLabel]&gt;&gt;&quot;);\r\n    //document.getText(): &lt;&lt;link [LinkLabel]&gt;&gt;\r\n    _engine.buildReport(document, dataSource, &quot;NewDoc&quot;);\r\n    //document.getText() now: HYPERLINK \\l &quot;LinkLabel&quot; \r\n\r\nBefore build:\r\n\r\n    &lt;&lt;link LinkLabel&gt;&gt;\r\n\r\nAfter build:\r\n\r\n    HYPERLINK \\l &quot;LinkLabel&quot;\r\n\r\nSo it appears *an attempt is made* to convert the LINQ reporting syntax to Word-friendly code. But the Word-friendly results are invalid.\r\nWhen I create a hyperlink in Word manually it generates this code (when I reveal it using Alt+F9): `{ HYPERLINK \\l &quot;LinkLabel&quot; }`. So it seems like the squiggly brackets ({ and `}`) were dropped in buildReport. Why did it drop them? Or are one/some of my assumptions off?\r\n\r\n\r\n  [1]: https://docs.aspose.com/words/java/inserting-hyperlinks-dynamically/\r\n  [2]: https://reference.aspose.com/words/java/com.aspose.words/reportingengine/#buildReport-com.aspose.words.Document-java.lang.Object-java.lang.String","title":"Why does buildReport() assemble an invalid hyperlink in Aspose (Java Words)?","body":"<p>I'm using Aspose (Java) with LINQ reporting syntax to build a report dynamically. This <a href=\"https://docs.aspose.com/words/java/inserting-hyperlinks-dynamically/\" rel=\"nofollow noreferrer\">piece of documentation</a> explains how to insert hyperlinks into a document. Which, most generally, looks like this</p>\n<pre><code>&lt;&lt;link [uri_or_bookmark_expression] [display_text_expression]&gt;&gt;\n</code></pre>\n<p>The last paragraph states &quot;While building a report...&quot; which I am interpreting as executing <a href=\"https://reference.aspose.com/words/java/com.aspose.words/reportingengine/#buildReport-com.aspose.words.Document-java.lang.Object-java.lang.String\" rel=\"nofollow noreferrer\">buildReport()</a>. We need to execute buildReport anyway for obvious reasons. But the output when we use buildReport() is invalid and therefore not properly converted to a hyperlink in the Word doc.</p>\n<pre><code>_engine = new ReportingEngine();\n_engine.getKnownTypes().add(Helper.class);\n_engine.setOptions(ReportBuildOptions.ALLOW_MISSING_MEMBERS | ReportBuildOptions.REMOVE_EMPTY_PARAGRAPHS);\nDocument document = new Document;\nDocumentBuilder builder = new DocumentBuilder(document);\n\nbuilder.writer(&quot;&lt;&lt;link [LinkLabel]&gt;&gt;&quot;);\n//document.getText(): &lt;&lt;link [LinkLabel]&gt;&gt;\n_engine.buildReport(document, dataSource, &quot;NewDoc&quot;);\n//document.getText() now: HYPERLINK \\l &quot;LinkLabel&quot; \n</code></pre>\n<p>Before build:</p>\n<pre><code>&lt;&lt;link LinkLabel&gt;&gt;\n</code></pre>\n<p>After build:</p>\n<pre><code>HYPERLINK \\l &quot;LinkLabel&quot;\n</code></pre>\n<p>So it appears <em>an attempt is made</em> to convert the LINQ reporting syntax to Word-friendly code. But the Word-friendly results are invalid.\nWhen I create a hyperlink in Word manually it generates this code (when I reveal it using Alt+F9): <code>{ HYPERLINK \\l &quot;LinkLabel&quot; }</code>. So it seems like the squiggly brackets ({ and <code>}</code>) were dropped in buildReport. Why did it drop them? Or are one/some of my assumptions off?</p>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680272433,"creation_date":1680272433,"answer_id":75899620,"question_id":75899421,"body_markdown":"Your Resource route contains something that is not serialisable, ie java.io.BufferedInputStream.\r\n\r\nTry disable SerializationFeature.FAIL_ON_EMPTY_BEANS. If that doesn’t work you will need to restructure so as not to reference BufferedInputStream or any other classes that are not Serializable.","title":"org.springframework.http.converter.HttpMessageConversionException: Type definition error","body":"<p>Your Resource route contains something that is not serialisable, ie java.io.BufferedInputStream.</p>\n<p>Try disable SerializationFeature.FAIL_ON_EMPTY_BEANS. If that doesn’t work you will need to restructure so as not to reference BufferedInputStream or any other classes that are not Serializable.</p>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680272433,"creation_date":1680271341,"question_id":75899421,"body_markdown":"I try return object with Resource and simple Object, but get error:\r\n\r\n&gt; org.springframework.http.converter.HttpMessageConversionException:\r\n&gt; Type definition error: [simple type, class\r\n&gt; java.io.BufferedInputStream]; nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\r\n&gt; serializer found for class java.io.BufferedInputStream and no\r\n&gt; properties discovered to create BeanSerializer (to avoid exception,\r\n&gt; disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference\r\n&gt; chain:\r\n&gt; ru.fabit.visor.ui.web.http.model.response.complexes.mobilecomplex.DeviceSummaryResponse[&quot;route&quot;]-&gt;org.springframework.core.io.InputStreamResource[&quot;inputStream&quot;])\r\n\r\n\r\nRest method:\r\n\r\n    @GetMapping(DEVICE_ID_PATH)\r\n        public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\r\n    \r\n            log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\r\n    \r\n            var deviceSummary = mobileComplexService.getSummary(id);\r\n    \r\n            return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\r\n        }\r\n\r\nresponse Entity:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class DeviceSummaryResponse {\r\n    \r\n        @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\r\n        private ConfigResponse config;\r\n    \r\n        @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\r\n        private Resource route;\r\n    }\r\n\r\n\r\nHow can i return this object?","title":"org.springframework.http.converter.HttpMessageConversionException: Type definition error","body":"<p>I try return object with Resource and simple Object, but get error:</p>\n<blockquote>\n<p>org.springframework.http.converter.HttpMessageConversionException:\nType definition error: [simple type, class\njava.io.BufferedInputStream]; nested exception is\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\nserializer found for class java.io.BufferedInputStream and no\nproperties discovered to create BeanSerializer (to avoid exception,\ndisable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference\nchain:\nru.fabit.visor.ui.web.http.model.response.complexes.mobilecomplex.DeviceSummaryResponse[&quot;route&quot;]-&gt;org.springframework.core.io.InputStreamResource[&quot;inputStream&quot;])</p>\n</blockquote>\n<p>Rest method:</p>\n<pre><code>@GetMapping(DEVICE_ID_PATH)\n    public ResponseEntity&lt;DeviceSummaryResponse&gt; getDeviceSummary(@PathVariable(name = &quot;id&quot;) Long id) {\n\n        log.debug(&quot;REST request to get summary for complex with id = {}&quot;, id);\n\n        var deviceSummary = mobileComplexService.getSummary(id);\n\n        return ResponseEntity.ok().body(deviceSummaryMapper.toResponse(deviceSummary));\n    }\n</code></pre>\n<p>response Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class DeviceSummaryResponse {\n\n    @ApiModelProperty(value = &quot;Конфигурация устройства&quot;, required = true)\n    private ConfigResponse config;\n\n    @ApiModelProperty(value = &quot;GPX файл с маршрутом устройства&quot;, required = true)\n    private Resource route;\n}\n</code></pre>\n<p>How can i return this object?</p>\n"},{"tags":["java","http","jersey"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1680277765,"post_id":75899618,"comment_id":133876509,"body_markdown":"since `ledgerTreatmentMapper` is not `static`, it is an instance variable - `new LedgerTreatmentServiceImpl(...` is creating a new instance, and each instance will have its own instance variable (non-`static` fields), which will not change once initialized, but can differ between instances","body":"since <code>ledgerTreatmentMapper</code> is not <code>static</code>, it is an instance variable - <code>new LedgerTreatmentServiceImpl(...</code> is creating a new instance, and each instance will have its own instance variable (non-<code>static</code> fields), which will not change once initialized, but can differ between instances"}],"owner":{"account_id":28179395,"reputation":1,"user_id":21536669,"display_name":"ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680272423,"creation_date":1680272423,"question_id":75899618,"body_markdown":"``` java\r\n@Path(&quot;/autoBlend/{type}&quot;)\r\n    @GET\r\n    public String autoBlend(@Context HttpServletRequest request, @Context HttpServletResponse response,@PathParam(&quot;type&quot;) String type){\r\n        log.info(&quot;==============进入自动勾兑逻辑=========&quot;);\r\n        //&#39;4,3,2&#39;\r\n        String ids = request.getParameter(&quot;ids&quot;);\r\n        log.info(&quot;获取的ids {} type {}&quot;,ids,type );\r\n        if (StrUtil.isEmpty(ids)) {\r\n            return R.error().msg(&quot;请先勾选需要勾兑的数据&quot;).json();\r\n        }\r\n        String[] idArray = ids.split(&quot;,&quot;);\r\n        String tableName = TableMapping.tableMapping.get(type);\r\n        log.info(&quot;tablename{}&quot;,tableName);\r\n        @Cleanup\r\n        SqlSession sqlSession = sqlSessionFactory.openSession(false);\r\n        try {\r\n            LedgerTreatmentMapper ledgerTreatmentMapper = sqlSession.getMapper(LedgerTreatmentMapper.class);\r\n            log.info(&quot;ledgerTreatmentMapper {}&quot;,ledgerTreatmentMapper);\r\n            ledgerTreatmentService = new LedgerTreatmentServiceImpl(ledgerTreatmentMapper);\r\n            ledgerTreatmentService.autoBlend(tableName,idArray);\r\n            sqlSession.commit();\r\n        } catch (Exception e) {\r\n            sqlSession.rollback();\r\n            log.error(&quot;自动勾兑失败&quot;,e);\r\n            return R.error().code(RCode.FAIL.getCode()).msg(&quot;自动勾兑失败&quot;).json();\r\n        }\r\n\r\n        return R.success().code(RCode.SUCCESS.getCode()).msg(&quot;自动勾兑成功&quot;).json();\r\n\r\n    }\r\n```\r\n\r\n```java\r\n@Slf4j\r\npublic class LedgerTreatmentServiceImpl implements LedgerTreatmentService {\r\n\r\n    private final LedgerTreatmentMapper ledgerTreatmentMapper;\r\n\r\n    public LedgerTreatmentServiceImpl(LedgerTreatmentMapper ledgerTreatmentMapper) {\r\n        this.ledgerTreatmentMapper = ledgerTreatmentMapper;\r\n    }\r\n\r\n    @Override\r\n    public void autoBlend(String tableName,String[] ids) {\r\n    // ..................\r\n    }\r\n        \r\n}\r\n```\r\n\r\nThe &quot;ledgerTreatmentMapper&quot; is different every time a request comes in,But in my &#39;LedgerTreatmentServiceImpl&#39; class &#39;LedgerTreatmentMapper&#39; final modified, as if each request in LedgerTreatmentMapper will be initialized to a different value, Is this final keyword invalid? I&#39;m very confused about this, right? \r\n\r\n\r\nI think since &quot;final&quot; is immutable, ledgerTreatmentMapper should initialize the error when the second request comes in.","title":"Are final modified class member variables mutable in http requests？","body":"<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/autoBlend/{type}&quot;)\n    @GET\n    public String autoBlend(@Context HttpServletRequest request, @Context HttpServletResponse response,@PathParam(&quot;type&quot;) String type){\n        log.info(&quot;==============进入自动勾兑逻辑=========&quot;);\n        //'4,3,2'\n        String ids = request.getParameter(&quot;ids&quot;);\n        log.info(&quot;获取的ids {} type {}&quot;,ids,type );\n        if (StrUtil.isEmpty(ids)) {\n            return R.error().msg(&quot;请先勾选需要勾兑的数据&quot;).json();\n        }\n        String[] idArray = ids.split(&quot;,&quot;);\n        String tableName = TableMapping.tableMapping.get(type);\n        log.info(&quot;tablename{}&quot;,tableName);\n        @Cleanup\n        SqlSession sqlSession = sqlSessionFactory.openSession(false);\n        try {\n            LedgerTreatmentMapper ledgerTreatmentMapper = sqlSession.getMapper(LedgerTreatmentMapper.class);\n            log.info(&quot;ledgerTreatmentMapper {}&quot;,ledgerTreatmentMapper);\n            ledgerTreatmentService = new LedgerTreatmentServiceImpl(ledgerTreatmentMapper);\n            ledgerTreatmentService.autoBlend(tableName,idArray);\n            sqlSession.commit();\n        } catch (Exception e) {\n            sqlSession.rollback();\n            log.error(&quot;自动勾兑失败&quot;,e);\n            return R.error().code(RCode.FAIL.getCode()).msg(&quot;自动勾兑失败&quot;).json();\n        }\n\n        return R.success().code(RCode.SUCCESS.getCode()).msg(&quot;自动勾兑成功&quot;).json();\n\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class LedgerTreatmentServiceImpl implements LedgerTreatmentService {\n\n    private final LedgerTreatmentMapper ledgerTreatmentMapper;\n\n    public LedgerTreatmentServiceImpl(LedgerTreatmentMapper ledgerTreatmentMapper) {\n        this.ledgerTreatmentMapper = ledgerTreatmentMapper;\n    }\n\n    @Override\n    public void autoBlend(String tableName,String[] ids) {\n    // ..................\n    }\n        \n}\n</code></pre>\n<p>The &quot;ledgerTreatmentMapper&quot; is different every time a request comes in,But in my 'LedgerTreatmentServiceImpl' class 'LedgerTreatmentMapper' final modified, as if each request in LedgerTreatmentMapper will be initialized to a different value, Is this final keyword invalid? I'm very confused about this, right?</p>\n<p>I think since &quot;final&quot; is immutable, ledgerTreatmentMapper should initialize the error when the second request comes in.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9460,"page":532,"page_size":100}
