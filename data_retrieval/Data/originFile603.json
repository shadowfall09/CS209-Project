{"items":[{"tags":["java","loops","while-loop","break"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":3,"creation_date":1510688032,"post_id":47293838,"comment_id":81538521,"body_markdown":"To most programmers, &quot;stopping a loop&quot; and &quot;exiting a loop&quot; is the same thing, so you may need to change your title to make it clear what you actually want to ask about.","body":"To most programmers, &quot;stopping a loop&quot; and &quot;exiting a loop&quot; is the same thing, so you may need to change your title to make it clear what you actually want to ask about."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1510688265,"post_id":47293838,"comment_id":81538643,"body_markdown":"So basically you want that the program asks you for a new input in each iteration? If so, just move the first two lines (`System.out.println(&quot;Geben Sie...&quot;)` and `USER_INPUT = ...`) into the loop. Als Randbemerkung: dein englisch scheint gut genug zu sein, um hier zu posten, dann solltest du deinen Quellcode auch auf englisch verfassen. Es ist dann f&#252;r andere wesentlich einfacher deinen Quellcode zu verstehen und es geh&#246;rt zum &quot;guten Ton&quot;, den Quellcode auf englisch zu verfassen.","body":"So basically you want that the program asks you for a new input in each iteration? If so, just move the first two lines (<code>System.out.println(&quot;Geben Sie...&quot;)</code> and <code>USER_INPUT = ...</code>) into the loop. Als Randbemerkung: dein englisch scheint gut genug zu sein, um hier zu posten, dann solltest du deinen Quellcode auch auf englisch verfassen. Es ist dann f&#252;r andere wesentlich einfacher deinen Quellcode zu verstehen und es geh&#246;rt zum &quot;guten Ton&quot;, den Quellcode auf englisch zu verfassen."},{"owner":{"account_id":10893655,"reputation":36,"user_id":8008487,"display_name":"gabri2503"},"score":0,"creation_date":1510688529,"post_id":47293838,"comment_id":81538767,"body_markdown":"omgggggg, im so... tank your rly much dude","body":"omgggggg, im so... tank your rly much dude"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1510688584,"post_id":47293838,"comment_id":81538797,"body_markdown":"No, please dont tank me x)","body":"No, please dont tank me x)"},{"owner":{"account_id":10893655,"reputation":36,"user_id":8008487,"display_name":"gabri2503"},"score":0,"creation_date":1510688643,"post_id":47293838,"comment_id":81538830,"body_markdown":"ja ich werds versuchen hab garnicht dran gedacht aber danke f&#252;r die info! :)","body":"ja ich werds versuchen hab garnicht dran gedacht aber danke f&#252;r die info! :)"}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1510688826,"post_id":47294022,"comment_id":81538938,"body_markdown":"This does not answer the question. OP basically asked how to &quot;pause&quot; the loop and read a new user input in every iteration.","body":"This does not answer the question. OP basically asked how to &quot;pause&quot; the loop and read a new user input in every iteration."},{"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"score":0,"creation_date":1510689180,"post_id":47294022,"comment_id":81539137,"body_markdown":"@Turing85 He asked how to stop the loop without stopping the method , or he should ask his question in clear English so people don&#39;t get confused if you feel my answer misses the question","body":"@Turing85 He asked how to stop the loop without stopping the method , or he should ask his question in clear English so people don&#39;t get confused if you feel my answer misses the question"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1510689332,"post_id":47294022,"comment_id":81539223,"body_markdown":"From OP&#39;s question: &quot;So my question is, how do I just run the methode once and then he starts me asking again, what I want to do&quot;. You do not answer questions based on their title alone. If the question is unclear, you ask for clarification instead of posting speculative answers.","body":"From OP&#39;s question: &quot;So my question is, how do I just run the methode once and then he starts me asking again, what I want to do&quot;. You do not answer questions based on their title alone. If the question is unclear, you ask for clarification instead of posting speculative answers."},{"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"score":0,"creation_date":1510690268,"post_id":47294022,"comment_id":81539714,"body_markdown":"@Turing85 ok, man if the answer does not help OP solve his problem so he shouldn&#39;t accept it . There are people who search according to the title and then get disappointed in mismatch and not finding the answer. So I hope my answer will help people who search according to the titles","body":"@Turing85 ok, man if the answer does not help OP solve his problem so he shouldn&#39;t accept it . There are people who search according to the title and then get disappointed in mismatch and not finding the answer. So I hope my answer will help people who search according to the titles"}],"tags":[],"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510688662,"creation_date":1510688662,"answer_id":47294022,"question_id":47293838,"body_markdown":"If you want to stop executing the method you put the `return` statement in the end of this method, if you want to skip an iteration you put `continue` in your loop skipping one iteration. And if you put `break` your loop stops and not the method.\r\nI believe you&#39;re looking for `break`\r\n\r\nRead the docs [while loop][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html","title":"How to not print everything inside a loop but make it based on decisions","body":"<p>If you want to stop executing the method you put the <code>return</code> statement in the end of this method, if you want to skip an iteration you put <code>continue</code> in your loop skipping one iteration. And if you put <code>break</code> your loop stops and not the method.\nI believe you're looking for <code>break</code></p>\n\n<p>Read the docs <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">while loop</a></p>\n"}],"owner":{"account_id":10893655,"reputation":36,"user_id":8008487,"display_name":"gabri2503"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677930852,"creation_date":1510687893,"question_id":47293838,"body_markdown":"so I have a question to Java. I want to print everything from the method once and not every time.\r\nThe method is called `refrigeratorInformation`.\r\nSo my question is, how do I just run the methode once and then get asked again, what I want to do next. Here is the code:\r\n```\r\nSystem.out.println(&quot;State what you would like to do with the refrigerator:&quot;);\r\nUSER_INPUT = input.nextLine();\r\nwhile(true){\r\n     if (USER_INPUT.equalsIgnoreCase(&quot;I want to close the refrigerator&quot;)){\r\n         TimeUnit.SECONDS.sleep(1);\r\n         System.out.println(&quot;Shutting down!&quot;);\r\n         TimeUnit.SECONDS.sleep(3);\r\n         System.exit(0);\r\n     } else if (USER_INPUT.equalsIgnoreCase(&quot;What is the current temperature inside the refrigerator&quot;)){\r\n         refrigeratorTemperature();\r\n     } else if (USER_INPUT.equalsIgnoreCase(&quot;Show me some info about the refrigerator&quot;)){\r\n         refrigeratorInformation();\r\n     }            \r\n}\r\n```\r\nAnd here is the methods code:\r\n```\r\npublic void refrigeratorInformation(){\r\n    dimension= &quot;Width is 178cm, Height 66,8cm &amp; length is 59,5cm&quot;;\r\n    usage = 157;\r\n    volume = 707.5; // in liter\r\n    name = &quot;Build Your Body Fat&quot;;\r\n    weight = 63;\r\n    try{\r\n        System.out.println(name);\r\n        System.out.println(weight);\r\n        System.out.println(volume +&quot; Liter&quot;);\r\n        System.out.println(&quot;The refrigerator has a usage of &quot; + usage + &quot;kWh&quot;);\r\n        System.out.println(dimension);\r\n        TimeUnit.SECONDS.sleep(5);\r\n    } \r\n...\r\n```\r\nI would be pretty thankful, if you could help me out ","title":"How to not print everything inside a loop but make it based on decisions","body":"<p>so I have a question to Java. I want to print everything from the method once and not every time.\nThe method is called <code>refrigeratorInformation</code>.\nSo my question is, how do I just run the methode once and then get asked again, what I want to do next. Here is the code:</p>\n<pre><code>System.out.println(&quot;State what you would like to do with the refrigerator:&quot;);\nUSER_INPUT = input.nextLine();\nwhile(true){\n     if (USER_INPUT.equalsIgnoreCase(&quot;I want to close the refrigerator&quot;)){\n         TimeUnit.SECONDS.sleep(1);\n         System.out.println(&quot;Shutting down!&quot;);\n         TimeUnit.SECONDS.sleep(3);\n         System.exit(0);\n     } else if (USER_INPUT.equalsIgnoreCase(&quot;What is the current temperature inside the refrigerator&quot;)){\n         refrigeratorTemperature();\n     } else if (USER_INPUT.equalsIgnoreCase(&quot;Show me some info about the refrigerator&quot;)){\n         refrigeratorInformation();\n     }            \n}\n</code></pre>\n<p>And here is the methods code:</p>\n<pre><code>public void refrigeratorInformation(){\n    dimension= &quot;Width is 178cm, Height 66,8cm &amp; length is 59,5cm&quot;;\n    usage = 157;\n    volume = 707.5; // in liter\n    name = &quot;Build Your Body Fat&quot;;\n    weight = 63;\n    try{\n        System.out.println(name);\n        System.out.println(weight);\n        System.out.println(volume +&quot; Liter&quot;);\n        System.out.println(&quot;The refrigerator has a usage of &quot; + usage + &quot;kWh&quot;);\n        System.out.println(dimension);\n        TimeUnit.SECONDS.sleep(5);\n    } \n...\n</code></pre>\n<p>I would be pretty thankful, if you could help me out</p>\n"},{"tags":["java","angular","spring-boot","authentication","spring-security"],"answers":[{"tags":[],"owner":{"account_id":3286088,"reputation":435,"user_id":2765587,"accept_rate":88,"display_name":"Monopole Magnet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580995462,"creation_date":1580994331,"answer_id":60095690,"question_id":60082514,"body_markdown":"In HttpClient, the POST method has a little bit different signature than a GET: https://github.com/angular/angular/blob/master/packages/http/src/http.ts\r\n\r\nThe second parameter is any request body we want to send, not the options, which are the third parameter. So withCredentials: true was simply never set correctly on the actual request.\r\n\r\nChanging the call to:\r\n\r\n    this.http.post(\r\n      this.url, null, { withCredentials: true })\r\n\r\nfixed the problem.","title":"Why is Angular not sending cookies with a POST request even though I&#39;ve set withCredentials to true?","body":"<p>In HttpClient, the POST method has a little bit different signature than a GET: <a href=\"https://github.com/angular/angular/blob/master/packages/http/src/http.ts\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/blob/master/packages/http/src/http.ts</a></p>\n\n<p>The second parameter is any request body we want to send, not the options, which are the third parameter. So withCredentials: true was simply never set correctly on the actual request.</p>\n\n<p>Changing the call to:</p>\n\n<pre><code>this.http.post(\n  this.url, null, { withCredentials: true })\n</code></pre>\n\n<p>fixed the problem.</p>\n"}],"owner":{"account_id":3286088,"reputation":435,"user_id":2765587,"accept_rate":88,"display_name":"Monopole Magnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677930545,"creation_date":1580929460,"question_id":60082514,"body_markdown":"I have edited the question to make more sense. The original was:\r\n\r\n&gt; How can I fix Angular and Spring Boot configuration with Spring JDBC authentication so that I am able to logout even with CSRF protection enabled?\r\n\r\nWith CSRF disabled for /logout:\r\n\r\nI am able to login (receiving CSRF and JSESSIONID cookies) and logout (200 OK is received) using Postman.\r\n\r\nI am able to login (receiving CSRF and JSESSIONID cookies) and logout (200 OK is received) using Firefox and the Angular frontend.\r\n\r\nWith CSRF enabled for /logout:\r\n\r\nI am able to login (receiving CSRF and JSESSIONID cookies) and logout (200 OK is received) using Postman.\r\n\r\nI am able to login using Firefox and the Angular frontend.\r\n\r\nWhen trying to log out, however...\r\n\r\nThere is first a preflight request that succeeds:\r\n\r\n![][1]\r\n\r\nThen, I see a request to /logout:\r\n\r\n![][2]\r\n\r\nI debugged the backend and it seems Spring is unable to find a matching CSRF token in its TokenRepository. So I end up with a MissingCsrfTokenException and a 403 Forbidden. How can I fix that?\r\n\r\nBackend:\r\n\r\nSecurityConfiguration:\r\n\r\n```\r\npackage org.adventure.configuration;\r\n\r\nimport org.adventure.security.RESTAuthenticationEntryPoint;\r\nimport org.adventure.security.RESTAuthenticationFailureHandler;\r\nimport org.adventure.security.RESTAuthenticationSuccessHandler;\r\nimport org.adventure.security.RESTLogoutSuccessHandler;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configurers.provisioning.JdbcUserDetailsManagerConfigurer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.csrf.CookieCsrfTokenRepository;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n@Configuration\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private RESTAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Autowired\r\n    private RESTAuthenticationSuccessHandler authenticationSuccessHandler;\r\n\r\n    @Autowired\r\n    private RESTAuthenticationFailureHandler authenticationFailureHandler;\r\n\r\n    @Autowired\r\n    private RESTLogoutSuccessHandler restLogoutSuccessHandler;\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    private AccountsProperties accountsProperties;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeRequests().antMatchers(&quot;/h2-console/**&quot;)\r\n                .permitAll();\r\n        httpSecurity.authorizeRequests().antMatchers(&quot;/secure/**&quot;).authenticated();\r\n        httpSecurity.cors().configurationSource(corsConfigurationSource());\r\n        httpSecurity.csrf()\r\n                .ignoringAntMatchers(&quot;/h2-console/**&quot;)\r\n                .ignoringAntMatchers(&quot;/login&quot;)\r\n                //.ignoringAntMatchers(&quot;/logout&quot;)\r\n                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\r\n        httpSecurity.headers()\r\n                .frameOptions()\r\n                .sameOrigin();\r\n        httpSecurity.exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\r\n        httpSecurity.formLogin().successHandler(authenticationSuccessHandler);\r\n        httpSecurity.formLogin().failureHandler(authenticationFailureHandler);\r\n        httpSecurity.logout().logoutSuccessHandler(restLogoutSuccessHandler);\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        JdbcUserDetailsManagerConfigurer jdbcUserDetailsManagerConfigurer = auth.jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .withDefaultSchema();\r\n\r\n        if (Objects.nonNull(accountsProperties)) {\r\n            FirstUser firstUser = accountsProperties.getFirstUser();\r\n            if (Objects.nonNull(firstUser)) {\r\n                String name = firstUser.getName();\r\n                String password = firstUser.getPassword();\r\n                if (Objects.nonNull(name) &amp;&amp; Objects.nonNull(password) &amp;&amp;\r\n                !(&quot;&quot;.equals(name) || &quot;&quot;.equals(password))) {\r\n                    jdbcUserDetailsManagerConfigurer.withUser(User.withUsername(name)\r\n                            .password(passwordEncoder().encode(password))\r\n                            .roles(&quot;USER&quot;));\r\n                }\r\n            }\r\n            FirstAdmin firstAdmin = accountsProperties.getFirstAdmin();\r\n            if (Objects.nonNull(firstAdmin)) {\r\n                String name = firstAdmin.getName();\r\n                String password = firstAdmin.getPassword();\r\n                if (Objects.nonNull(name) &amp;&amp; Objects.nonNull(password) &amp;&amp;\r\n                    !(&quot;&quot;.equals(name) || &quot;&quot;.equals(password))) {\r\n                    jdbcUserDetailsManagerConfigurer.withUser(User.withUsername(name)\r\n                            .password(passwordEncoder().encode(password))\r\n                            .roles(&quot;ADMIN&quot;));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(12); // Strength increased as per OWASP Password Storage Cheat Sheet\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;X-XSRF-TOKEN&quot;, &quot;Content-Type&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        source.registerCorsConfiguration(&quot;/secure/classifieds&quot;, configuration);\r\n        source.registerCorsConfiguration(&quot;/login&quot;, configuration);\r\n        source.registerCorsConfiguration(&quot;/logout&quot;, configuration);\r\n        return source;\r\n    }\r\n}\r\n```\r\n\r\nRESTAuthenticationEntryPoint:\r\n\r\n```\r\npackage org.adventure.security;\r\n\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.web.AuthenticationEntryPoint;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n@Component\r\npublic class RESTAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                         AuthenticationException authException) throws IOException {\r\n\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED);\r\n    }\r\n}\r\n```\r\n\r\nRESTAuthenticationFailureHandler\r\n```\r\npackage org.adventure.security;\r\n\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\n\r\n@Component\r\npublic class RESTAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {\r\n\r\n    @Override\r\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\r\n                                        AuthenticationException exception) throws IOException, ServletException {\r\n\r\n        super.onAuthenticationFailure(request, response, exception);\r\n    }\r\n}\r\n```\r\n\r\nRESTAuthenticationSuccessHandler\r\n\r\n```\r\npackage org.adventure.security;\r\n\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.web.authentication.SimpleUrlAuthenticationSuccessHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@Component\r\npublic class RESTAuthenticationSuccessHandler extends SimpleUrlAuthenticationSuccessHandler {\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\r\n                                        Authentication authentication) {\r\n        clearAuthenticationAttributes(request);\r\n    }\r\n}\r\n```\r\n\r\nRESTLogoutSuccessHandler\r\n```\r\npackage org.adventure.security;\r\n\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@Component\r\npublic class RESTLogoutSuccessHandler implements LogoutSuccessHandler {\r\n\r\n    @Override\r\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response,\r\n                                Authentication authentication) {\r\n        response.setStatus(HttpServletResponse.SC_OK);\r\n    }\r\n}\r\n```\r\n\r\nFrontend:\r\n\r\nTo /login and /logout I make POST requests with withCredentials: true, and have a HttpInterceptor configured:\r\n\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport { HttpInterceptor, HttpXsrfTokenExtractor, HttpRequest, HttpHandler, HttpEvent } from &#39;@angular/common/http&#39;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\n\r\n@Injectable()\r\nexport class XsrfInterceptor implements HttpInterceptor {\r\n\r\n    constructor(private tokenExtractor: HttpXsrfTokenExtractor) {\r\n    }\r\n\r\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n        let requestToForward = req;\r\n        let token = this.tokenExtractor.getToken() as string;\r\n        if (token !== null) {\r\n            requestToForward = req.clone({ setHeaders: { &quot;X-XSRF-TOKEN&quot;: token } });\r\n        }\r\n        return next.handle(requestToForward);\r\n    }\r\n}\r\n```\r\n\r\nLogoutService:\r\n\r\n```\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport { HttpClient } from &#39;@angular/common/http&#39;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\nimport { map } from &#39;rxjs/operators&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class LogoutService {\r\n\r\n  private url = &#39;http://localhost:8080/logout&#39;;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public logout(): Observable&lt;any&gt; {\r\n    return this.http.post(\r\n      this.url, { withCredentials: true }).pipe(\r\n        map(response =&gt; {\r\n          console.log(response)\r\n        })\r\n      );\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B7qbq.png\r\n  [2]: https://i.stack.imgur.com/GchJG.png","title":"Why is Angular not sending cookies with a POST request even though I&#39;ve set withCredentials to true?","body":"<p>I have edited the question to make more sense. The original was:</p>\n\n<blockquote>\n  <p>How can I fix Angular and Spring Boot configuration with Spring JDBC authentication so that I am able to logout even with CSRF protection enabled?</p>\n</blockquote>\n\n<p>With CSRF disabled for /logout:</p>\n\n<p>I am able to login (receiving CSRF and JSESSIONID cookies) and logout (200 OK is received) using Postman.</p>\n\n<p>I am able to login (receiving CSRF and JSESSIONID cookies) and logout (200 OK is received) using Firefox and the Angular frontend.</p>\n\n<p>With CSRF enabled for /logout:</p>\n\n<p>I am able to login (receiving CSRF and JSESSIONID cookies) and logout (200 OK is received) using Postman.</p>\n\n<p>I am able to login using Firefox and the Angular frontend.</p>\n\n<p>When trying to log out, however...</p>\n\n<p>There is first a preflight request that succeeds:</p>\n\n<p><img src=\"https://i.stack.imgur.com/B7qbq.png\" alt=\"\"></p>\n\n<p>Then, I see a request to /logout:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GchJG.png\" alt=\"\"></p>\n\n<p>I debugged the backend and it seems Spring is unable to find a matching CSRF token in its TokenRepository. So I end up with a MissingCsrfTokenException and a 403 Forbidden. How can I fix that?</p>\n\n<p>Backend:</p>\n\n<p>SecurityConfiguration:</p>\n\n<pre><code>package org.adventure.configuration;\n\nimport org.adventure.security.RESTAuthenticationEntryPoint;\nimport org.adventure.security.RESTAuthenticationFailureHandler;\nimport org.adventure.security.RESTAuthenticationSuccessHandler;\nimport org.adventure.security.RESTLogoutSuccessHandler;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configurers.provisioning.JdbcUserDetailsManagerConfigurer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.csrf.CookieCsrfTokenRepository;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport javax.sql.DataSource;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Objects;\n\n@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private RESTAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Autowired\n    private RESTAuthenticationSuccessHandler authenticationSuccessHandler;\n\n    @Autowired\n    private RESTAuthenticationFailureHandler authenticationFailureHandler;\n\n    @Autowired\n    private RESTLogoutSuccessHandler restLogoutSuccessHandler;\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    private AccountsProperties accountsProperties;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests().antMatchers(\"/h2-console/**\")\n                .permitAll();\n        httpSecurity.authorizeRequests().antMatchers(\"/secure/**\").authenticated();\n        httpSecurity.cors().configurationSource(corsConfigurationSource());\n        httpSecurity.csrf()\n                .ignoringAntMatchers(\"/h2-console/**\")\n                .ignoringAntMatchers(\"/login\")\n                //.ignoringAntMatchers(\"/logout\")\n                .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse());\n        httpSecurity.headers()\n                .frameOptions()\n                .sameOrigin();\n        httpSecurity.exceptionHandling().authenticationEntryPoint(authenticationEntryPoint);\n        httpSecurity.formLogin().successHandler(authenticationSuccessHandler);\n        httpSecurity.formLogin().failureHandler(authenticationFailureHandler);\n        httpSecurity.logout().logoutSuccessHandler(restLogoutSuccessHandler);\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        JdbcUserDetailsManagerConfigurer jdbcUserDetailsManagerConfigurer = auth.jdbcAuthentication()\n                .dataSource(dataSource)\n                .withDefaultSchema();\n\n        if (Objects.nonNull(accountsProperties)) {\n            FirstUser firstUser = accountsProperties.getFirstUser();\n            if (Objects.nonNull(firstUser)) {\n                String name = firstUser.getName();\n                String password = firstUser.getPassword();\n                if (Objects.nonNull(name) &amp;&amp; Objects.nonNull(password) &amp;&amp;\n                !(\"\".equals(name) || \"\".equals(password))) {\n                    jdbcUserDetailsManagerConfigurer.withUser(User.withUsername(name)\n                            .password(passwordEncoder().encode(password))\n                            .roles(\"USER\"));\n                }\n            }\n            FirstAdmin firstAdmin = accountsProperties.getFirstAdmin();\n            if (Objects.nonNull(firstAdmin)) {\n                String name = firstAdmin.getName();\n                String password = firstAdmin.getPassword();\n                if (Objects.nonNull(name) &amp;&amp; Objects.nonNull(password) &amp;&amp;\n                    !(\"\".equals(name) || \"\".equals(password))) {\n                    jdbcUserDetailsManagerConfigurer.withUser(User.withUsername(name)\n                            .password(passwordEncoder().encode(password))\n                            .roles(\"ADMIN\"));\n                }\n            }\n        }\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12); // Strength increased as per OWASP Password Storage Cheat Sheet\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(\"http://localhost:4200\"));\n        configuration.setAllowedMethods(Arrays.asList(\"GET\", \"POST\"));\n        configuration.setAllowedHeaders(List.of(\"X-XSRF-TOKEN\", \"Content-Type\"));\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", configuration);\n        source.registerCorsConfiguration(\"/secure/classifieds\", configuration);\n        source.registerCorsConfiguration(\"/login\", configuration);\n        source.registerCorsConfiguration(\"/logout\", configuration);\n        return source;\n    }\n}\n</code></pre>\n\n<p>RESTAuthenticationEntryPoint:</p>\n\n<pre><code>package org.adventure.security;\n\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n@Component\npublic class RESTAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n                         AuthenticationException authException) throws IOException {\n\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED);\n    }\n}\n</code></pre>\n\n<p>RESTAuthenticationFailureHandler</p>\n\n<pre><code>package org.adventure.security;\n\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class RESTAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {\n\n    @Override\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response,\n                                        AuthenticationException exception) throws IOException, ServletException {\n\n        super.onAuthenticationFailure(request, response, exception);\n    }\n}\n</code></pre>\n\n<p>RESTAuthenticationSuccessHandler</p>\n\n<pre><code>package org.adventure.security;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.SimpleUrlAuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@Component\npublic class RESTAuthenticationSuccessHandler extends SimpleUrlAuthenticationSuccessHandler {\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n                                        Authentication authentication) {\n        clearAuthenticationAttributes(request);\n    }\n}\n</code></pre>\n\n<p>RESTLogoutSuccessHandler</p>\n\n<pre><code>package org.adventure.security;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@Component\npublic class RESTLogoutSuccessHandler implements LogoutSuccessHandler {\n\n    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response,\n                                Authentication authentication) {\n        response.setStatus(HttpServletResponse.SC_OK);\n    }\n}\n</code></pre>\n\n<p>Frontend:</p>\n\n<p>To /login and /logout I make POST requests with withCredentials: true, and have a HttpInterceptor configured:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpInterceptor, HttpXsrfTokenExtractor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class XsrfInterceptor implements HttpInterceptor {\n\n    constructor(private tokenExtractor: HttpXsrfTokenExtractor) {\n    }\n\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        let requestToForward = req;\n        let token = this.tokenExtractor.getToken() as string;\n        if (token !== null) {\n            requestToForward = req.clone({ setHeaders: { \"X-XSRF-TOKEN\": token } });\n        }\n        return next.handle(requestToForward);\n    }\n}\n</code></pre>\n\n<p>LogoutService:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LogoutService {\n\n  private url = 'http://localhost:8080/logout';\n\n  constructor(private http: HttpClient) { }\n\n  public logout(): Observable&lt;any&gt; {\n    return this.http.post(\n      this.url, { withCredentials: true }).pipe(\n        map(response =&gt; {\n          console.log(response)\n        })\n      );\n  }\n}\n</code></pre>\n"},{"tags":["java","c","dll","java-native-interface"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1676158582,"post_id":75423533,"comment_id":133082215,"body_markdown":"We could use a description of &quot;not supported.&quot;  Exactly what error do you get?  Did you call (I think it&#39;s) `System.loadLibrary()` first?  Where&#39;s the JNI code in Java?","body":"We could use a description of &quot;not supported.&quot;  Exactly what error do you get?  Did you call (I think it&#39;s) <code>System.loadLibrary()</code> first?  Where&#39;s the JNI code in Java?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1676196175,"post_id":75423533,"comment_id":133085458,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1676277456,"post_id":75423533,"comment_id":133097640,"body_markdown":"Do you need to actually pass data to this library somewhere? Do you have header files that go with this library? SWIG can help you generate the necessary glue code, or you could give JNA a try to call the functions directly.","body":"Do you need to actually pass data to this library somewhere? Do you have header files that go with this library? SWIG can help you generate the necessary glue code, or you could give JNA a try to call the functions directly."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678313206,"post_id":75635455,"comment_id":133510669,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75635455/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27810413,"reputation":456,"user_id":21232911,"display_name":"nischal sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677930407,"creation_date":1677930407,"answer_id":75635455,"question_id":75423533,"body_markdown":"please provide the whole because the problem you are stating is in the printf statement, which is not present in the given code. On the top of it i dont know how are you able to get the output as i am getting errors of several undeclared variables.\r\nif you want to calibrate in java then you have to use %d.f rather than dll and use printf statement while typing %d.f rather than println","title":"Call Java -&gt; C -&gt; dll","body":"<p>please provide the whole because the problem you are stating is in the printf statement, which is not present in the given code. On the top of it i dont know how are you able to get the output as i am getting errors of several undeclared variables.\nif you want to calibrate in java then you have to use %d.f rather than dll and use printf statement while typing %d.f rather than println</p>\n"}],"owner":{"account_id":11166560,"reputation":1,"user_id":8195059,"display_name":"R.Lerma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677930407,"creation_date":1676152355,"question_id":75423533,"body_markdown":"I&#39;m doing an implementation in Java that I need to send a C function, but it calls a dll too.\r\nThis is the C code:\r\n\r\n```\r\nint SampleCalibration7points(void){\r\n\t\r\n\tint sel_coeff_7P, neg_flags;\r\n\t\r\n\tint i, ret;\r\n\t\r\n\tint cali_type, cali_points;\r\n\t\r\n\t// COEFFICIENT_COUNT = 10 \r\n\t// global variable\r\n\tint coefficients[COEFFICIENT_COUNT] = {0};\r\n\r\n\t// 7 points calibration\r\n\t// complete calibration input, 24 bit values\r\n\t// {Pressure_ref[%], Pressure_raw, Tambient_ref, Tambient_raw}\r\n\tdouble cali_data[7][4] \t= \t{ \t{30,\t982368,\t\t10,\t420864},\r\n\t\t\t\t\t\t\t\t\t{90,\t7950208,\t10,\t420901},\r\n\t\t\t\t\t\t\t\t\t{30,\t770304,\t\t25,\t1571148},\r\n\t\t\t\t\t\t\t\t\t{50,\t2362176,\t25,\t1581184},\r\n\t\t\t\t\t\t\t\t\t{90,\t7768800,\t25,\t1581104},\r\n\t\t\t\t\t\t\t\t\t{30,\t547968,\t\t40,\t2749136},\r\n\t\t\t\t\t\t\t\t\t{90,\t7620416,\t40,\t2749312}};\r\n\r\n\tint range_check;\r\n\tint test;\r\n\r\n\tdouble P_raw[7], P_des[7], T_raw[7],T_raw_back[7], T_des[7];\r\n\tdouble P_corr[7], T_corr[7],P_corr_percent[7], T_corr_deg[7]; \r\n\t\r\n\t\r\n\t// limit definition\r\n\t// pressure limits are 0 and 100, due to percentage reference\r\n\tdouble T_min = -40.0, T_max = 85.0;\r\n\t \r\n\t// choose coefficient to be calculated\r\n\r\n\t/*\r\n\t\t//FLAGS for selCoeffs\r\n\t\t#define CO_OFFSET_S\t\t\t0x1\r\n\t\t#define CO_GAIN_S\t\t\t0x2\r\n\t\t#define CO_TCG\t\t\t\t0x4\r\n\t\t#define CO_TCO\t\t\t\t0x8\r\n\t\t#define CO_SOT_TCO\t\t\t0x10\r\n\t\t#define CO_SOT_TCG\t\t\t0x20\r\n\t\t#define CO_SOT_S\t\t\t0x40\r\n\t\t#define CO_OFFSET_T\t\t\t0x80\r\n\t\t#define CO_GAIN_T\t\t\t0x100\r\n\t\t#define CO_SOT_T\t\t\t0x200\r\n\t*/\r\n\tsel_coeff_7P = (CO_OFFSET_S|CO_GAIN_S|CO_TCO|CO_TCG|CO_OFFSET_T|CO_GAIN_T|CO_SOT_TCO|CO_SOT_TCG|CO_SOT_T|CO_SOT_S);    \r\n\r\n\t// calibration type, default value \r\n\tcali_type = 0;\r\n\t\r\n\t// number of calibration points\r\n\tcali_points = 7;   \r\n\t\r\n\t// rearrange data for coefficent calculation\r\n\tfor ( i=0; i &lt; cali_points; i++ ) {\r\n\t\t\r\n\t\tP_raw[i] = cali_data[i][1];\r\n\t\t// generate digital reference pressure values -&gt; P_des[x]\r\n\t\tP_des[i] = ConvertBridgeFromPercent( cali_data[i][0]);\r\n\t\t\r\n\t\tT_raw[i] = cali_data[i][3] ;  \r\n\t\t// generate digital reference temp values -&gt; T_des[x]\r\n\t\tConvertTempFromDegrees(&amp;T_des[i], cali_data[i][2], T_min, T_max );\r\n\t}\r\n\r\n\t// call DLL function\r\n\t// coefficent calculation\r\n\tret = CalculateCoefficients( coefficients,\r\n\t\t\t\t\t\t\t\t\t&amp;neg_flags, \r\n\t\t\t\t\t\t\t\t\tcali_points, //number of coeffs max 7 \r\n\t\t\t\t\t\t\t\t\tsel_coeff_7P,\r\n\t\t\t\t\t\t\t\t\tcali_type, \r\n\t\t\t\t\t\t\t\t\tP_raw, P_des, \r\n\t\t\t\t\t\t\t\t\tT_raw, T_des);\t  \r\n\r\n\t\t/********** Coefficients resulst, T[-40..85]\t*************\r\n\t\tcoefficients =\t{\t-520831,\r\n\t\t\t\t\t\t\t5880723,\r\n\t\t\t\t\t\t\t489,\r\n\t\t\t\t\t\t\t379060,\r\n\t\t\t\t\t\t\t-4349,\r\n\t\t\t\t\t\t\t\t-296970,\r\n\t\t\t\t\t\t\t-278951,\r\n\t\t\t\t\t\t\t-317710,\r\n\t\t\t\t\t\t\t3817446,\r\n\t\t\t\t\t\t\t-49055\r\n\t\t\t\t\t\t}\r\n\t\t***************************************************/\r\n\t\r\n\tfor (i = 0;i&lt;cali_points;i++){\r\n\t\t// call DLL functions\r\n\t\tT_corr[i] = GetCorrectedTemp(coefficients, T_raw[i]);\r\n\t\tConvertTempToDegrees (&amp;T_corr_deg[i] , (int) T_corr[i],  T_min, T_max );\r\n\r\n\t\tP_corr[i] = GetCorrectedBridge (coefficients, P_raw[i] , T_raw[i]); \r\n\t\tP_corr_percent[i] = ConvertBridgeToPercent(P_corr[i]); \r\n\t\t// Convert pressure precentage values to the according pressure values, depending on customers limits\r\n\t}\r\n\t\t/********** Corrected raw values, applying coefficients *************  \r\n\t\t\r\n\t\tcorrected temperature[counts] =\t\t\t\r\n\t\t\t\t\t\t\t{\t\t\r\n\t\t\t\t\t\t\t\t 6710884,\t\r\n\t\t\t\t\t\t\t\t 6710949,\t\r\n\t\t\t\t\t\t\t\t 8712632,\t\r\n\t\t\t\t\t\t\t\t 8729989,\t\r\n\t\t\t\t\t\t\t\t 8729851,\t\r\n\t\t\t\t\t\t\t\t10737550,\t\r\n\t\t\t\t\t\t\t\t10737550\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\tcorrected pressure [counts]=\t\t\t\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t  5033172,\t\r\n\t\t\t\t\t\t\t\t 15099510,\t\r\n\t\t\t\t\t\t\t\t  5033171,\t\r\n\t\t\t\t\t\t\t\t  8388615,\t\r\n\t\t\t\t\t\t\t\t 15099510,\t\r\n\t\t\t\t\t\t\t\t  5033171,\t\r\n\t\t\t\t\t\t\t\t 15099510\t\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\r\n\t\t*******************************************************************/    \r\n\r\n\r\n\t//check coefficients range, returns 1 when range is exceeded, else 0 \r\n\t// call DLL function\r\n\trange_check = VerifyCoefficients(coefficients) ; \t\t\t\t\t\t\t\t   \r\n\treturn 0;\r\n}\r\n```\r\n\r\nand the dll is CalibrationL6.dll\r\n\r\nFor example: CalculateCoefficients is one of the functions that belongs to dll.\r\n\r\nDo you know what is the best way to do that? because I don&#39;t know if with the JNI functionality my C file keeps calling the dll that is needed.\r\n\r\n\r\nI tried to call dll (CalibrationL6.dll) directly with Java, but it&#39;s not supported, that&#39;s why I&#39;m trying to use C code instead.","title":"Call Java -&gt; C -&gt; dll","body":"<p>I'm doing an implementation in Java that I need to send a C function, but it calls a dll too.\nThis is the C code:</p>\n<pre><code>int SampleCalibration7points(void){\n    \n    int sel_coeff_7P, neg_flags;\n    \n    int i, ret;\n    \n    int cali_type, cali_points;\n    \n    // COEFFICIENT_COUNT = 10 \n    // global variable\n    int coefficients[COEFFICIENT_COUNT] = {0};\n\n    // 7 points calibration\n    // complete calibration input, 24 bit values\n    // {Pressure_ref[%], Pressure_raw, Tambient_ref, Tambient_raw}\n    double cali_data[7][4]  =   {   {30,    982368,     10, 420864},\n                                    {90,    7950208,    10, 420901},\n                                    {30,    770304,     25, 1571148},\n                                    {50,    2362176,    25, 1581184},\n                                    {90,    7768800,    25, 1581104},\n                                    {30,    547968,     40, 2749136},\n                                    {90,    7620416,    40, 2749312}};\n\n    int range_check;\n    int test;\n\n    double P_raw[7], P_des[7], T_raw[7],T_raw_back[7], T_des[7];\n    double P_corr[7], T_corr[7],P_corr_percent[7], T_corr_deg[7]; \n    \n    \n    // limit definition\n    // pressure limits are 0 and 100, due to percentage reference\n    double T_min = -40.0, T_max = 85.0;\n     \n    // choose coefficient to be calculated\n\n    /*\n        //FLAGS for selCoeffs\n        #define CO_OFFSET_S         0x1\n        #define CO_GAIN_S           0x2\n        #define CO_TCG              0x4\n        #define CO_TCO              0x8\n        #define CO_SOT_TCO          0x10\n        #define CO_SOT_TCG          0x20\n        #define CO_SOT_S            0x40\n        #define CO_OFFSET_T         0x80\n        #define CO_GAIN_T           0x100\n        #define CO_SOT_T            0x200\n    */\n    sel_coeff_7P = (CO_OFFSET_S|CO_GAIN_S|CO_TCO|CO_TCG|CO_OFFSET_T|CO_GAIN_T|CO_SOT_TCO|CO_SOT_TCG|CO_SOT_T|CO_SOT_S);    \n\n    // calibration type, default value \n    cali_type = 0;\n    \n    // number of calibration points\n    cali_points = 7;   \n    \n    // rearrange data for coefficent calculation\n    for ( i=0; i &lt; cali_points; i++ ) {\n        \n        P_raw[i] = cali_data[i][1];\n        // generate digital reference pressure values -&gt; P_des[x]\n        P_des[i] = ConvertBridgeFromPercent( cali_data[i][0]);\n        \n        T_raw[i] = cali_data[i][3] ;  \n        // generate digital reference temp values -&gt; T_des[x]\n        ConvertTempFromDegrees(&amp;T_des[i], cali_data[i][2], T_min, T_max );\n    }\n\n    // call DLL function\n    // coefficent calculation\n    ret = CalculateCoefficients( coefficients,\n                                    &amp;neg_flags, \n                                    cali_points, //number of coeffs max 7 \n                                    sel_coeff_7P,\n                                    cali_type, \n                                    P_raw, P_des, \n                                    T_raw, T_des);    \n\n        /********** Coefficients resulst, T[-40..85]    *************\n        coefficients =  {   -520831,\n                            5880723,\n                            489,\n                            379060,\n                            -4349,\n                                -296970,\n                            -278951,\n                            -317710,\n                            3817446,\n                            -49055\n                        }\n        ***************************************************/\n    \n    for (i = 0;i&lt;cali_points;i++){\n        // call DLL functions\n        T_corr[i] = GetCorrectedTemp(coefficients, T_raw[i]);\n        ConvertTempToDegrees (&amp;T_corr_deg[i] , (int) T_corr[i],  T_min, T_max );\n\n        P_corr[i] = GetCorrectedBridge (coefficients, P_raw[i] , T_raw[i]); \n        P_corr_percent[i] = ConvertBridgeToPercent(P_corr[i]); \n        // Convert pressure precentage values to the according pressure values, depending on customers limits\n    }\n        /********** Corrected raw values, applying coefficients *************  \n        \n        corrected temperature[counts] =         \n                            {       \n                                 6710884,   \n                                 6710949,   \n                                 8712632,   \n                                 8729989,   \n                                 8729851,   \n                                10737550,   \n                                10737550    \n                            }\n                            \n        corrected pressure [counts]=            \n                            {\n                                  5033172,  \n                                 15099510,  \n                                  5033171,  \n                                  8388615,  \n                                 15099510,  \n                                  5033171,  \n                                 15099510   \n                            }                   \n        *******************************************************************/    \n\n\n    //check coefficients range, returns 1 when range is exceeded, else 0 \n    // call DLL function\n    range_check = VerifyCoefficients(coefficients) ;                                   \n    return 0;\n}\n</code></pre>\n<p>and the dll is CalibrationL6.dll</p>\n<p>For example: CalculateCoefficients is one of the functions that belongs to dll.</p>\n<p>Do you know what is the best way to do that? because I don't know if with the JNI functionality my C file keeps calling the dll that is needed.</p>\n<p>I tried to call dll (CalibrationL6.dll) directly with Java, but it's not supported, that's why I'm trying to use C code instead.</p>\n"},{"tags":["java","fonts","itext","awt","jfreechart"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677923233,"post_id":75634105,"comment_id":133435941,"body_markdown":"`Noto Sans (notoSansRegular.ttf)` does not support CJK fonts. Try `https://github.com/notofonts/noto-cjk/blob/main/Sans/Variable/TTF/NotoSansCJKjp-VF.ttf`","body":"<code>Noto Sans (notoSansRegular.ttf)</code> does not support CJK fonts. Try <code>https:&#47;&#47;github.com&#47;notofonts&#47;noto-cjk&#47;blob&#47;main&#47;Sans&#47;Variabl&zwnj;&#8203;e&#47;TTF&#47;NotoSansCJKjp-&zwnj;&#8203;VF.ttf</code>"}],"answers":[{"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677924687,"post_id":75634715,"comment_id":133436151,"body_markdown":"...and note, your PDF printer app setting may not be set or usable with the charset scheme...","body":"...and note, your PDF printer app setting may not be set or usable with the charset scheme..."}],"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677930393,"creation_date":1677921543,"answer_id":75634715,"question_id":75634105,"body_markdown":"No simple way to get it right whenever required, keep foreign character Strings completely separate from other String encodings, and use render GUI components for individual Strings encoded.\r\nnote: the font chosen for use should have an image of the character to render to screen but may not carry such image unless it was specifically for that language symbol *...using Noto Sans TTF to load the Font(using java.awt.Font)...* \r\n\r\n\r\njava.awt.Font[] fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAllFonts();\r\n\r\n,..loop over the array and put the names into a String array getName(). getFamilyName()...\r\n\r\nfontnames[] = fonts.getFontName();\r\n\r\n\r\nbut, put the text into a .properties file (special java data file and class , a java utility system) or a text file written and saved in foreign charset encoding line by line, to read from file as bytes and draw each string from.\r\nWhere you use foreign characters, put the characters into a new String with the charset name or alias encoding also in the String constructor declaration arguments.\r\n\r\nSee the api docs constructor summary for String. (note:  getbytes() method )\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/String.html\r\n\r\n*String(byte[] bytes, String charsetName)*\r\n\r\n*String(byte[] bytes, Charset charset)*\r\n\r\nEncodings supported in Oracle Corp.  java. \r\nnote: the machine OS must have the charset installed to use the encoding specified, so check to know if it is present.    *java.nio.charset.Charset.availableCharsets()* \r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\r\n\r\n*String(StringBuilder builder)*\r\nand also see api docs\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\r\n\r\ninsert(int offset, int i)\r\n\r\nWith StringBuilder class you can build a String by using the byte numeric value that matches each character in the charset encoding.\r\nOr if a two byte character create a char with   (radix is usually hexadecimal)\r\n\r\n*Character.forDigit(int digit, int radix)*\r\n\r\ninsert(int offset, char c)\r\n\r\nThen do as above, store it into a String with charset labeled.\r\n\r\n*Character.getName(int codePoint)*\r\nhttps://en.m.wikipedia.org/wiki/Hiragana_(Unicode_block)\r\nYou may need to map foreign characters to Unicode code points for UTF-8 or UTF-16 to create web pages that also respond by international ISO &quot;locale&quot; setting common in Java and HTML XML.\r\n\r\n\r\n* Note when output onto panels or textareas e.t.c. the locale should be set on the GUI component to reflect the foreign characters scheme used.\r\n...and after the value is placed onto or into the GUI, call repaint() with the component and also on the main component window setIgnoreRepaint(false) only once.\r\n\r\n* There are a small number of encodings in various languages principally for &quot;web&quot; that carry both the language script and a limited English symbol ASCII subset together e.g. ISO-2022-JP\r\n\r\nFINALLY choose how the locale and GUI components language script will be for use, the machine OS it is run on must have the charset.\r\nThis last point also refers to the .java source code file AND the charset flag for javac command to compile in, that being why it often is UTF-8 or UTF-16 is used against a code map of numerics for a language.\r\n\r\n\r\n-----\r\nfollowing link may be of some minor help with internationalization and charsets, encodings.  \r\n\r\nhttps://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk","title":"How to add Japanese text in Jfreechart labels for SpiderWebPlot usinf awt Font","body":"<p>No simple way to get it right whenever required, keep foreign character Strings completely separate from other String encodings, and use render GUI components for individual Strings encoded.\nnote: the font chosen for use should have an image of the character to render to screen but may not carry such image unless it was specifically for that language symbol <em>...using Noto Sans TTF to load the Font(using java.awt.Font)...</em></p>\n<p>java.awt.Font[] fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAllFonts();</p>\n<p>,..loop over the array and put the names into a String array getName(). getFamilyName()...</p>\n<p>fontnames[] = fonts.getFontName();</p>\n<p>but, put the text into a .properties file (special java data file and class , a java utility system) or a text file written and saved in foreign charset encoding line by line, to read from file as bytes and draw each string from.\nWhere you use foreign characters, put the characters into a new String with the charset name or alias encoding also in the String constructor declaration arguments.</p>\n<p>See the api docs constructor summary for String. (note:  getbytes() method )\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/String.html</a></p>\n<p><em>String(byte[] bytes, String charsetName)</em></p>\n<p><em>String(byte[] bytes, Charset charset)</em></p>\n<p>Encodings supported in Oracle Corp.  java.\nnote: the machine OS must have the charset installed to use the encoding specified, so check to know if it is present.    <em>java.nio.charset.Charset.availableCharsets()</em>\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html</a></p>\n<p><em>String(StringBuilder builder)</em>\nand also see api docs\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html</a></p>\n<p>insert(int offset, int i)</p>\n<p>With StringBuilder class you can build a String by using the byte numeric value that matches each character in the charset encoding.\nOr if a two byte character create a char with   (radix is usually hexadecimal)</p>\n<p><em>Character.forDigit(int digit, int radix)</em></p>\n<p>insert(int offset, char c)</p>\n<p>Then do as above, store it into a String with charset labeled.</p>\n<p><em>Character.getName(int codePoint)</em>\n<a href=\"https://en.m.wikipedia.org/wiki/Hiragana_(Unicode_block)\" rel=\"nofollow noreferrer\">https://en.m.wikipedia.org/wiki/Hiragana_(Unicode_block)</a>\nYou may need to map foreign characters to Unicode code points for UTF-8 or UTF-16 to create web pages that also respond by international ISO &quot;locale&quot; setting common in Java and HTML XML.</p>\n<ul>\n<li><p>Note when output onto panels or textareas e.t.c. the locale should be set on the GUI component to reflect the foreign characters scheme used.\n...and after the value is placed onto or into the GUI, call repaint() with the component and also on the main component window setIgnoreRepaint(false) only once.</p>\n</li>\n<li><p>There are a small number of encodings in various languages principally for &quot;web&quot; that carry both the language script and a limited English symbol ASCII subset together e.g. ISO-2022-JP</p>\n</li>\n</ul>\n<p>FINALLY choose how the locale and GUI components language script will be for use, the machine OS it is run on must have the charset.\nThis last point also refers to the .java source code file AND the charset flag for javac command to compile in, that being why it often is UTF-8 or UTF-16 is used against a code map of numerics for a language.</p>\n<hr />\n<p>following link may be of some minor help with internationalization and charsets, encodings.</p>\n<p><a href=\"https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk</a></p>\n"}],"owner":{"account_id":9471530,"reputation":107,"user_id":7042240,"accept_rate":100,"display_name":"Francis Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677930393,"creation_date":1677912204,"question_id":75634105,"body_markdown":"I&#39;m using Jfreechart to generate SpiderWebPlot and in my Dataset I have text in Japanese and whenever I generate this into a PDF Japaenese text doesn&#39;t appear. \r\n\r\n      DefaultCategoryDataset dataset = new DefaultCategoryDataset();\r\n    dataset.addValue(5, &quot;current month&quot;, &quot;hi項目&quot;);\r\n    dataset.addValue(4, &quot;current month&quot;, &quot;B&quot;);\r\n    dataset.addValue(3, &quot;current month&quot;, &quot;C&quot;);\r\n    dataset.addValue(5, &quot;current month&quot;, &quot;D&quot;);\r\n    dataset.addValue(2, &quot;current month&quot;, &quot;E&quot;);\r\n    dataset.addValue(4, &quot;previous month&quot;, &quot;hi項目&quot;);\r\n    dataset.addValue(4, &quot;previous month&quot;, &quot;B&quot;);\r\n    dataset.addValue(2, &quot;previous month&quot;, &quot;C&quot;);\r\n    dataset.addValue(4, &quot;previous month&quot;, &quot;D&quot;);\r\n    dataset.addValue(4, &quot;previous month&quot;, &quot;E&quot;);\r\n\r\nThis is my Dataset and while setting the Font for the labels I&#39;m doing this\r\n\r\n  \r\n\r\n     SpiderWebPlot spiderWebPlot = new SpiderWebPlot(dataset);\r\n\r\n        ClassLoader classLoader = ReportVariables.class.getClassLoader();\r\n        URL resource = classLoader.getResource(&quot;notoSansRegular.ttf&quot;);\r\n        assert resource != null;\r\n        var f = new File(resource.toURI());\r\n        InputStream is = new FileInputStream(f);\r\n        Font font = Font.createFont(Font.TRUETYPE_FONT, is);\r\n    \r\n    spiderWebPlot.setLabelFont(openFontTTF(&quot;notoSansRegular&quot;));\r\n\r\nI&#39;m using Noto Sans TTF to load the Font(using java.awt.Font) . I&#39;m still not getting what is the issue? Can someone help ?\r\nThis how my chart looks like\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K9AqO.png","title":"How to add Japanese text in Jfreechart labels for SpiderWebPlot usinf awt Font","body":"<p>I'm using Jfreechart to generate SpiderWebPlot and in my Dataset I have text in Japanese and whenever I generate this into a PDF Japaenese text doesn't appear.</p>\n<pre><code>  DefaultCategoryDataset dataset = new DefaultCategoryDataset();\ndataset.addValue(5, &quot;current month&quot;, &quot;hi項目&quot;);\ndataset.addValue(4, &quot;current month&quot;, &quot;B&quot;);\ndataset.addValue(3, &quot;current month&quot;, &quot;C&quot;);\ndataset.addValue(5, &quot;current month&quot;, &quot;D&quot;);\ndataset.addValue(2, &quot;current month&quot;, &quot;E&quot;);\ndataset.addValue(4, &quot;previous month&quot;, &quot;hi項目&quot;);\ndataset.addValue(4, &quot;previous month&quot;, &quot;B&quot;);\ndataset.addValue(2, &quot;previous month&quot;, &quot;C&quot;);\ndataset.addValue(4, &quot;previous month&quot;, &quot;D&quot;);\ndataset.addValue(4, &quot;previous month&quot;, &quot;E&quot;);\n</code></pre>\n<p>This is my Dataset and while setting the Font for the labels I'm doing this</p>\n<pre><code> SpiderWebPlot spiderWebPlot = new SpiderWebPlot(dataset);\n\n    ClassLoader classLoader = ReportVariables.class.getClassLoader();\n    URL resource = classLoader.getResource(&quot;notoSansRegular.ttf&quot;);\n    assert resource != null;\n    var f = new File(resource.toURI());\n    InputStream is = new FileInputStream(f);\n    Font font = Font.createFont(Font.TRUETYPE_FONT, is);\n\nspiderWebPlot.setLabelFont(openFontTTF(&quot;notoSansRegular&quot;));\n</code></pre>\n<p>I'm using Noto Sans TTF to load the Font(using java.awt.Font) . I'm still not getting what is the issue? Can someone help ?\nThis how my chart looks like\n<a href=\"https://i.stack.imgur.com/K9AqO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K9AqO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","log4j","slf4j"],"comments":[{"owner":{"account_id":3489518,"reputation":315,"user_id":2919551,"display_name":"bendem"},"score":0,"creation_date":1677848294,"post_id":75627119,"comment_id":133422829,"body_markdown":"This sounds like an xy problem. Most of the information in the logs is accessible without parsing the logs, simply by asking flyway for it. What information are you trying to extract from flyway?","body":"This sounds like an xy problem. Most of the information in the logs is accessible without parsing the logs, simply by asking flyway for it. What information are you trying to extract from flyway?"},{"owner":{"account_id":3489518,"reputation":315,"user_id":2919551,"display_name":"bendem"},"score":0,"creation_date":1678019904,"post_id":75627119,"comment_id":133448429,"body_markdown":"Why do you need all the log lines generated by flyway? You mention &quot;further processing&quot;.","body":"Why do you need all the log lines generated by flyway? You mention &quot;further processing&quot;."}],"answers":[{"comments":[{"owner":{"account_id":153244,"reputation":12386,"user_id":368364,"accept_rate":96,"display_name":"RBA"},"score":0,"creation_date":1677920123,"post_id":75630474,"comment_id":133435564,"body_markdown":"I&#39;m running Flyway multithreaded as I&#39;m applying migrations to several hundreds schemas.","body":"I&#39;m running Flyway multithreaded as I&#39;m applying migrations to several hundreds schemas."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1677954173,"post_id":75630474,"comment_id":133440702,"body_markdown":"@RBA. okay . i updated my answer accordingly.please check","body":"@RBA. okay . i updated my answer accordingly.please check"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677929930,"creation_date":1677866694,"answer_id":75630474,"question_id":75627119,"body_markdown":"How about configuring all the flyway loggers (i.e. logger start with the name `org.flywaydb`) to output the logs to a file appender with a fixed file path , then your codes read all content from this log file to a variable for further processing ? \r\n\r\nThe file appender also need to be configured as additive such that it will forward the log to the original root logger which print the logs to console. It is also required to be configured as &quot;non-append&quot; mode which will clear the file before writing the logs to ensure that the log file will not contain the log from the previous run . \r\n\r\nIf you need to execute Flyway concurrently in multiple threads , you can use [routing appender][1] to forward the logs of different threads to their own separate log files based on some thread identifier you defined in MDC\r\n\r\nAn example configuration is : \r\n\r\n``` xml\r\n&lt;Appenders&gt;\r\n   &lt;Routing name=&quot;Routing&quot;&gt;\r\n\t\t\t&lt;Routes pattern=&quot;$${ctx:threadId}&quot;&gt;\r\n\t\t\t\t&lt;Route&gt;\r\n\t\t\t\t\t&lt;File fileName=&quot;/logs/flyway-${ctx:threadId}.log&quot;\r\n\t\t\t\t\t\t\tname=&quot;flyway-${ctx:threadId}&quot;\r\n\t\t\t\t\t\t\tappend=&quot;false&quot;&gt;\t\t\t\t\t\t\r\n\t\t\t\t\t&lt;/File&gt;\r\n\t\t\t\t&lt;/Route&gt;\r\n\t\t\t&lt;/Routes&gt;\r\n\t\t&lt;/Routing&gt;\r\n&lt;/Appenders&gt;\r\n\r\n\r\n&lt;Loggers&gt;\r\n   &lt;Logger name=&quot;org.flywaydb&quot; level=&quot;DEBUG&quot; &gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;Routing&quot;/&gt;\r\n\t&lt;/Logger&gt;\r\n&lt;/Loggers&gt;\r\n```\r\n\r\nIn codes before you execute flyway , you configure a thread identifier and put it in MDC , something likes : \r\n\r\n``` java\r\nString threadId = threadId +  UUID.randomUUID().toString();\r\n\r\nThreadContext.put(&quot;threadId&quot;, threadId);\r\n\r\n//execute flyway\r\n\r\n//read all content from log to a string to further process\r\nPath logFilePath = Path.of(&quot;/logs/flyway-&quot; + threadId + &quot;.log&quot;);\r\nString logs = Files.readString(logFilePath);\r\n\r\nThreadContext.clearAll();\r\n```\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/appenders.html#RoutingAppender","title":"Capture output of @Sl4j for a package in a SpringBoot application","body":"<p>How about configuring all the flyway loggers (i.e. logger start with the name <code>org.flywaydb</code>) to output the logs to a file appender with a fixed file path , then your codes read all content from this log file to a variable for further processing ?</p>\n<p>The file appender also need to be configured as additive such that it will forward the log to the original root logger which print the logs to console. It is also required to be configured as &quot;non-append&quot; mode which will clear the file before writing the logs to ensure that the log file will not contain the log from the previous run .</p>\n<p>If you need to execute Flyway concurrently in multiple threads , you can use <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#RoutingAppender\" rel=\"nofollow noreferrer\">routing appender</a> to forward the logs of different threads to their own separate log files based on some thread identifier you defined in MDC</p>\n<p>An example configuration is :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Appenders&gt;\n   &lt;Routing name=&quot;Routing&quot;&gt;\n            &lt;Routes pattern=&quot;$${ctx:threadId}&quot;&gt;\n                &lt;Route&gt;\n                    &lt;File fileName=&quot;/logs/flyway-${ctx:threadId}.log&quot;\n                            name=&quot;flyway-${ctx:threadId}&quot;\n                            append=&quot;false&quot;&gt;                     \n                    &lt;/File&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n&lt;/Appenders&gt;\n\n\n&lt;Loggers&gt;\n   &lt;Logger name=&quot;org.flywaydb&quot; level=&quot;DEBUG&quot; &gt;\n            &lt;AppenderRef ref=&quot;Routing&quot;/&gt;\n    &lt;/Logger&gt;\n&lt;/Loggers&gt;\n</code></pre>\n<p>In codes before you execute flyway , you configure a thread identifier and put it in MDC , something likes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String threadId = threadId +  UUID.randomUUID().toString();\n\nThreadContext.put(&quot;threadId&quot;, threadId);\n\n//execute flyway\n\n//read all content from log to a string to further process\nPath logFilePath = Path.of(&quot;/logs/flyway-&quot; + threadId + &quot;.log&quot;);\nString logs = Files.readString(logFilePath);\n\nThreadContext.clearAll();\n</code></pre>\n"}],"owner":{"account_id":153244,"reputation":12386,"user_id":368364,"accept_rate":96,"display_name":"RBA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75630474,"answer_count":1,"score":0,"last_activity_date":1677929930,"creation_date":1677846725,"question_id":75627119,"body_markdown":"I have a class which is using Flyway to apply migrations for an application\r\n\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.flywaydb.core.Flyway;\r\n    import org.flywaydb.core.api.MigrationInfo;\r\n    import org.flywaydb.core.api.MigrationInfoService;\r\n    import org.flywaydb.core.api.MigrationVersion;\r\n    import org.flywaydb.core.api.configuration.FluentConfiguration;\r\n    import org.flywaydb.core.api.output.MigrateResult;\r\n    import org.flywaydb.core.internal.info.MigrationInfoDumper;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    @Slf4j\r\n    public class FlywayService {\r\n    \r\n        Flyway flyway;\r\n    \r\n        public FlywayService(Properties props, String dbServer, String schema, String user, String password) {\r\n            FluentConfiguration flywayConfig = Flyway.configure();\r\n            flywayConfig.configuration(props);\r\n    \r\n            flywayConfig.dataSource(&quot;jdbc:oracle:thin:@&quot; + dbServer, user, password);\r\n            flywayConfig.schemas(schema.toUpperCase());\r\n            flyway = flywayConfig.load();\r\n        }\r\n    \r\n        public void runInfo() {\r\n            MigrationInfoService info = flyway.info();\r\n            MigrationInfo current = info.current();\r\n            MigrationVersion currentSchemaVersion = current == null ? MigrationVersion.EMPTY : current.getVersion();\r\n    \r\n            MigrationVersion schemaVersionToOutput = currentSchemaVersion == null ? MigrationVersion.EMPTY : currentSchemaVersion;\r\n            StringBuffer buffer = new StringBuffer();\r\n            buffer.append(&quot;Schema version: &quot;)\r\n                    .append(schemaVersionToOutput).append(&quot;\\n&quot;)\r\n                    .append(MigrationInfoDumper.dumpToAsciiTable(info.all()));\r\n    \r\n            log.info(buffer.toString());\r\n    \r\n        }\r\n    }\r\n\r\nLogging is made through lombok(version 1.18.22) @Sl4j. What I need is to capture the all the log lines Flyway output to a String for some further processing but also keeping the lines logged by Flyway in spring.log.\r\n[![enter image description here][1]][1]\r\n\r\nAlso, I&#39;m running Flyway multithreaded as I&#39;m applying migrations to several hundreds schemas.\r\nEven I&#39;ve searched for several hours, I still could not find an approach to do this. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WASyx.png","title":"Capture output of @Sl4j for a package in a SpringBoot application","body":"<p>I have a class which is using Flyway to apply migrations for an application</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.flywaydb.core.Flyway;\nimport org.flywaydb.core.api.MigrationInfo;\nimport org.flywaydb.core.api.MigrationInfoService;\nimport org.flywaydb.core.api.MigrationVersion;\nimport org.flywaydb.core.api.configuration.FluentConfiguration;\nimport org.flywaydb.core.api.output.MigrateResult;\nimport org.flywaydb.core.internal.info.MigrationInfoDumper;\n\nimport java.util.Properties;\n\n@Slf4j\npublic class FlywayService {\n\n    Flyway flyway;\n\n    public FlywayService(Properties props, String dbServer, String schema, String user, String password) {\n        FluentConfiguration flywayConfig = Flyway.configure();\n        flywayConfig.configuration(props);\n\n        flywayConfig.dataSource(&quot;jdbc:oracle:thin:@&quot; + dbServer, user, password);\n        flywayConfig.schemas(schema.toUpperCase());\n        flyway = flywayConfig.load();\n    }\n\n    public void runInfo() {\n        MigrationInfoService info = flyway.info();\n        MigrationInfo current = info.current();\n        MigrationVersion currentSchemaVersion = current == null ? MigrationVersion.EMPTY : current.getVersion();\n\n        MigrationVersion schemaVersionToOutput = currentSchemaVersion == null ? MigrationVersion.EMPTY : currentSchemaVersion;\n        StringBuffer buffer = new StringBuffer();\n        buffer.append(&quot;Schema version: &quot;)\n                .append(schemaVersionToOutput).append(&quot;\\n&quot;)\n                .append(MigrationInfoDumper.dumpToAsciiTable(info.all()));\n\n        log.info(buffer.toString());\n\n    }\n}\n</code></pre>\n<p>Logging is made through lombok(version 1.18.22) @Sl4j. What I need is to capture the all the log lines Flyway output to a String for some further processing but also keeping the lines logged by Flyway in spring.log.\n<a href=\"https://i.stack.imgur.com/WASyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WASyx.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, I'm running Flyway multithreaded as I'm applying migrations to several hundreds schemas.\nEven I've searched for several hours, I still could not find an approach to do this.</p>\n"},{"tags":["java","android-seekbar"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":1,"creation_date":1677755475,"post_id":75614559,"comment_id":133402225,"body_markdown":"Does this answer your question? [how to change SeekBar color in android? (Programmatically)](https://stackoverflow.com/questions/45329174/how-to-change-seekbar-color-in-android-programmatically)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45329174/how-to-change-seekbar-color-in-android-programmatically\">how to change SeekBar color in android? (Programmatically)</a>"}],"answers":[{"tags":[],"owner":{"account_id":1090746,"reputation":569,"user_id":1085437,"accept_rate":14,"display_name":"Hector4888"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677821571,"creation_date":1677821571,"answer_id":75623482,"question_id":75614559,"body_markdown":"**I Solved My Problem , I just put 3rd line in 1st placed**\r\n\r\n viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_joyscore_progress));    \r\n\r\nviewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._495A87));\r\n            viewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._495A87));\r\n            \r\n ","title":"How to change color of seekbar setProgressDrawable programmatically","body":"<p><strong>I Solved My Problem , I just put 3rd line in 1st placed</strong></p>\n<p>viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_joyscore_progress));</p>\n<p>viewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._495A87));\nviewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._495A87));</p>\n"}],"owner":{"account_id":1090746,"reputation":569,"user_id":1085437,"accept_rate":14,"display_name":"Hector4888"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677925936,"creation_date":1677754970,"question_id":75614559,"body_markdown":"I have a seekbar in my adapter class and 3 buttons. When I press button one by one, I want to change seekbar progress according to buttons.\r\n\r\n    if (pos==0){\r\n        viewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._495A87));\r\n        viewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._495A87));\r\n        viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_joyscore_progress));\r\n    }\r\n    else if(pos==1){\r\n        viewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._83CBC2));\r\n        viewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._83CBC2));\r\n        viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_biomescore_progress));\r\n    }\r\n    else {\r\n        viewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._EF8470));\r\n        viewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._EF8470));\r\n        viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_joyurth_progress));\r\n    }\r\n\r\n","title":"How to change color of seekbar setProgressDrawable programmatically","body":"<p>I have a seekbar in my adapter class and 3 buttons. When I press button one by one, I want to change seekbar progress according to buttons.</p>\n<pre><code>if (pos==0){\n    viewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._495A87));\n    viewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._495A87));\n    viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_joyscore_progress));\n}\nelse if(pos==1){\n    viewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._83CBC2));\n    viewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._83CBC2));\n    viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_biomescore_progress));\n}\nelse {\n    viewholder.binding.quizNameTv.setTextColor(context.getResources().getColor(R.color._EF8470));\n    viewholder.binding.quizSeekbar.setThumb(ViewUtil.setSeekbarThumb(context,R.color._EF8470));\n    viewholder.binding.quizSeekbar.setProgressDrawable(context.getResources().getDrawable(R.drawable.quiz_seekbar_joyurth_progress));\n}\n</code></pre>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677774213,"post_id":75618150,"comment_id":133407987,"body_markdown":"If you&#39;re talking about changing this setting in a running process, I doubt that it&#39;s possible. You might be able to change some settings using JMX, but I don&#39;t know if you can toggle any particular GC setting.","body":"If you&#39;re talking about changing this setting in a running process, I doubt that it&#39;s possible. You might be able to change some settings using JMX, but I don&#39;t know if you can toggle any particular GC setting."},{"owner":{"account_id":12939238,"reputation":39,"user_id":21232216,"display_name":"lorenzo cavalieri"},"score":0,"creation_date":1677774414,"post_id":75618150,"comment_id":133408053,"body_markdown":"a ok close this report thanks","body":"a ok close this report thanks"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677782021,"creation_date":1677781646,"answer_id":75619483,"question_id":75618150,"body_markdown":"You can use the [`DiagnosticCommandMBean`] to send the same commands to the HotSpot&#160;JVM, you can send via [`jcmd`], except that “VM.log” becomes “vmLog”, etc.\r\n\r\nThe following code enables logging to stdout\r\n\r\n```java\r\nimport java.lang.management.ManagementFactory;\r\n \r\nimport javax.management.*;\r\n \r\nclass GcLogExample {\r\n    public static void main(String[] args) throws JMException {\r\n \r\n\t    String[] command = { &quot;what=gc&quot; };\r\n \r\n\t    String result = (String)ManagementFactory.getPlatformMBeanServer().invoke(\r\n\t        ObjectName.getInstance(&quot;com.sun.management:type=DiagnosticCommand&quot;),\r\n\t        &quot;vmLog&quot;, new Object[] { command },\r\n            new String[] { command.getClass().getName() });\r\n \r\n\t    if(!result.isBlank()) System.out.println(result);\r\n \r\n\t    for(int i = 0; i &lt; 300; i++) {\r\n\t        var obj = new int[10_000_000];\r\n\t    }\r\n    }\r\n}\r\n```\r\n[Demo on Ideone]\r\n\r\n\r\nThe following variant enables garbage collection logging into a temporary file:\r\n\r\n```java\r\nclass GcLogExample {\r\n    public static void main(String[] args) throws JMException, IOException {\r\n \r\n      Path p = Files.createTempFile(&quot;gc&quot;, &quot;.log&quot;);\r\n      System.out.println(&quot;GcLogExample.main(): logging to &quot; + p);\r\n\r\n      String[] command = { &quot;output=&quot; + p, &quot;what=gc&quot; };\r\n \r\n      String result = (String)ManagementFactory.getPlatformMBeanServer().invoke(\r\n          ObjectName.getInstance(&quot;com.sun.management:type=DiagnosticCommand&quot;),\r\n          &quot;vmLog&quot;, new Object[] { command },\r\n          new String[] { command.getClass().getName() });\r\n \r\n      if(!result.isBlank()) System.out.println(result);\r\n \r\n      for(int i = 0; i &lt; 300; i++) {\r\n          var obj = new int[10_000_000];\r\n      }\r\n    }\r\n}\r\n```\r\n\r\nYou can turn the garbage collector logging off by sending the command `what=gc=off`.\r\n\r\n[`DiagnosticCommandMBean`]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.management/com/sun/management/DiagnosticCommandMBean.html\r\n[`jcmd`]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jcmd.html\r\n[Demo on Ideone]: https://ideone.com/rbREqh","title":"How can I generate a &quot;Garbage Collector Logs&quot;","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.management/com/sun/management/DiagnosticCommandMBean.html\" rel=\"nofollow noreferrer\"><code>DiagnosticCommandMBean</code></a> to send the same commands to the HotSpot JVM, you can send via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jcmd.html\" rel=\"nofollow noreferrer\"><code>jcmd</code></a>, except that “VM.log” becomes “vmLog”, etc.</p>\n<p>The following code enables logging to stdout</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.management.ManagementFactory;\n \nimport javax.management.*;\n \nclass GcLogExample {\n    public static void main(String[] args) throws JMException {\n \n        String[] command = { &quot;what=gc&quot; };\n \n        String result = (String)ManagementFactory.getPlatformMBeanServer().invoke(\n            ObjectName.getInstance(&quot;com.sun.management:type=DiagnosticCommand&quot;),\n            &quot;vmLog&quot;, new Object[] { command },\n            new String[] { command.getClass().getName() });\n \n        if(!result.isBlank()) System.out.println(result);\n \n        for(int i = 0; i &lt; 300; i++) {\n            var obj = new int[10_000_000];\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/rbREqh\" rel=\"nofollow noreferrer\">Demo on Ideone</a></p>\n<p>The following variant enables garbage collection logging into a temporary file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GcLogExample {\n    public static void main(String[] args) throws JMException, IOException {\n \n      Path p = Files.createTempFile(&quot;gc&quot;, &quot;.log&quot;);\n      System.out.println(&quot;GcLogExample.main(): logging to &quot; + p);\n\n      String[] command = { &quot;output=&quot; + p, &quot;what=gc&quot; };\n \n      String result = (String)ManagementFactory.getPlatformMBeanServer().invoke(\n          ObjectName.getInstance(&quot;com.sun.management:type=DiagnosticCommand&quot;),\n          &quot;vmLog&quot;, new Object[] { command },\n          new String[] { command.getClass().getName() });\n \n      if(!result.isBlank()) System.out.println(result);\n \n      for(int i = 0; i &lt; 300; i++) {\n          var obj = new int[10_000_000];\n      }\n    }\n}\n</code></pre>\n<p>You can turn the garbage collector logging off by sending the command <code>what=gc=off</code>.</p>\n"}],"owner":{"account_id":12939238,"reputation":39,"user_id":21232216,"display_name":"lorenzo cavalieri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677925683,"creation_date":1677773999,"question_id":75618150,"body_markdown":"How do I generate a garbage collector log in Java?\r\n\r\nFollowing many guides on the internet, they tell me to modify the command line I use to start Java, by inserting certain flags. Is there any other alternative way to generate it right away?\r\n\r\nIs it possible?\r\n\r\nI tried to search on the internet, but everyone tells me to insert a certain flag to make it generate the log, but I need to do it immediately. I&#39;m hoping it is possible.","title":"How can I generate a &quot;Garbage Collector Logs&quot;","body":"<p>How do I generate a garbage collector log in Java?</p>\n<p>Following many guides on the internet, they tell me to modify the command line I use to start Java, by inserting certain flags. Is there any other alternative way to generate it right away?</p>\n<p>Is it possible?</p>\n<p>I tried to search on the internet, but everyone tells me to insert a certain flag to make it generate the log, but I need to do it immediately. I'm hoping it is possible.</p>\n"},{"tags":["java","javafx","classloader","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1677937386,"post_id":75633040,"comment_id":133437792,"body_markdown":"Have you tried bundling the code as a jar file and importing it as a custom component in SceneBuilder? That might make it so SceneBuilder can load your `MySwitch` class. See https://stackoverflow.com/questions/30063792/adding-a-custom-component-to-scenebuilder-2-0 (I understand that question is asking about a different problem, but it might also solve your issue as a side effect.)","body":"Have you tried bundling the code as a jar file and importing it as a custom component in SceneBuilder? That might make it so SceneBuilder can load your <code>MySwitch</code> class. See <a href=\"https://stackoverflow.com/questions/30063792/adding-a-custom-component-to-scenebuilder-2-0\" title=\"adding a custom component to scenebuilder 2 0\">stackoverflow.com/questions/30063792/&hellip;</a> (I understand that question is asking about a different problem, but it might also solve your issue as a side effect.)"},{"owner":{"account_id":10747722,"reputation":552,"user_id":9087223,"display_name":"Ambrus T&#243;th"},"score":0,"creation_date":1677946803,"post_id":75633040,"comment_id":133439357,"body_markdown":"Yes, I tried it by making a fat jar file with shadowJar.","body":"Yes, I tried it by making a fat jar file with shadowJar."}],"owner":{"account_id":10747722,"reputation":552,"user_id":9087223,"display_name":"Ambrus T&#243;th"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677924806,"creation_date":1677891862,"question_id":75633040,"body_markdown":"I have the following code which can be nicely imported in Scene Builder:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;fx:root type=&quot;javafx.scene.layout.VBox&quot;\r\n         xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n         xmlns=&quot;http://javafx.com/javafx/18&quot;&gt;\r\n    &lt;TextField fx:id=&quot;textField&quot; text=&quot;Default&quot;/&gt;\r\n    &lt;Button onMouseClicked=&quot;#doSomething&quot; text=&quot;Click Me&quot;/&gt;\r\n&lt;/fx:root&gt;\r\n```\r\n\r\n```java\r\npackage client.components;\r\n\r\nimport javafx.beans.property.StringProperty;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\n\r\npublic class MySwitch extends VBox {\r\n    @FXML\r\n    private TextField textField;\r\n\r\n    public MySwitch(){\r\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/client/components/MySwitch.fxml&quot;));\r\n        fxmlLoader.setRoot(this);\r\n        fxmlLoader.setController(MySwitch.this);\r\n\r\n        try {\r\n            fxmlLoader.load();\r\n        } catch (IOException exception) {\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n\r\n    // you have to make getters and setters to create an input field of a component\r\n    public String getAsd() {\r\n        return asdProperty().get();\r\n    }\r\n\r\n    public void setAsd(String value) {\r\n        asdProperty().set(value);\r\n    }\r\n\r\n    public StringProperty asdProperty() {\r\n        return textField.textProperty();\r\n    }\r\n\r\n    @FXML\r\n    public void doSomething() {\r\n        System.out.println(&quot;The button was clicked!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe problem with this approach is that in my MySwitch.fxml, the editor (IntelliJ) only assumes that the root is a VBox, not a MySwitch insance, so it marks `#doSomething` with red. However, when I change VBox to MySwitch, there is nice autocompletion and everything seems to still run perfectly. In this case though, Scene Builder cannot import the file, it complains about the class not being found. I tried debugging Scene Builder and it seems that inside `exploreEntry`, the catch block with CANNOT_INSTANTIATE is called for my component. How could I achive that I have the best of both worlds (IntelliJ &amp; SceneBuilder working at the same time)?\r\n\r\nMy fxml file after changing it to MySwitch:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;?import client.components.MySwitch?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;fx:root type=&quot;client.components.MySwitch&quot;\r\n         xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n         xmlns=&quot;http://javafx.com/javafx/18&quot;&gt;\r\n    &lt;TextField fx:id=&quot;textField&quot; text=&quot;Default&quot;/&gt;\r\n    &lt;Button onMouseClicked=&quot;#doSomething&quot; text=&quot;Click Me&quot;/&gt;\r\n&lt;/fx:root&gt;\r\n```","title":"Importing a custom component in Scene Builder with a custom class as root element","body":"<p>I have the following code which can be nicely imported in Scene Builder:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;fx:root type=&quot;javafx.scene.layout.VBox&quot;\n         xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n         xmlns=&quot;http://javafx.com/javafx/18&quot;&gt;\n    &lt;TextField fx:id=&quot;textField&quot; text=&quot;Default&quot;/&gt;\n    &lt;Button onMouseClicked=&quot;#doSomething&quot; text=&quot;Click Me&quot;/&gt;\n&lt;/fx:root&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package client.components;\n\nimport javafx.beans.property.StringProperty;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\n\nimport java.io.IOException;\nimport java.net.URL;\n\npublic class MySwitch extends VBox {\n    @FXML\n    private TextField textField;\n\n    public MySwitch(){\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/client/components/MySwitch.fxml&quot;));\n        fxmlLoader.setRoot(this);\n        fxmlLoader.setController(MySwitch.this);\n\n        try {\n            fxmlLoader.load();\n        } catch (IOException exception) {\n            throw new RuntimeException(exception);\n        }\n    }\n\n    // you have to make getters and setters to create an input field of a component\n    public String getAsd() {\n        return asdProperty().get();\n    }\n\n    public void setAsd(String value) {\n        asdProperty().set(value);\n    }\n\n    public StringProperty asdProperty() {\n        return textField.textProperty();\n    }\n\n    @FXML\n    public void doSomething() {\n        System.out.println(&quot;The button was clicked!&quot;);\n    }\n}\n</code></pre>\n<p>The problem with this approach is that in my MySwitch.fxml, the editor (IntelliJ) only assumes that the root is a VBox, not a MySwitch insance, so it marks <code>#doSomething</code> with red. However, when I change VBox to MySwitch, there is nice autocompletion and everything seems to still run perfectly. In this case though, Scene Builder cannot import the file, it complains about the class not being found. I tried debugging Scene Builder and it seems that inside <code>exploreEntry</code>, the catch block with CANNOT_INSTANTIATE is called for my component. How could I achive that I have the best of both worlds (IntelliJ &amp; SceneBuilder working at the same time)?</p>\n<p>My fxml file after changing it to MySwitch:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;?import client.components.MySwitch?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;fx:root type=&quot;client.components.MySwitch&quot;\n         xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n         xmlns=&quot;http://javafx.com/javafx/18&quot;&gt;\n    &lt;TextField fx:id=&quot;textField&quot; text=&quot;Default&quot;/&gt;\n    &lt;Button onMouseClicked=&quot;#doSomething&quot; text=&quot;Click Me&quot;/&gt;\n&lt;/fx:root&gt;\n</code></pre>\n"},{"tags":["java","java-8","date-format","java-time"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1677852967,"post_id":75628066,"comment_id":133424240,"body_markdown":"&quot;What is the difference between hh and HH ?&quot; &lt;- Questions like this are usually best answered by reading the official documentation first: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns","body":"&quot;What is the difference between hh and HH ?&quot; &lt;- Questions like this are usually best answered by reading the official documentation first: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/format/&hellip;</a>"},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1677853124,"post_id":75628066,"comment_id":133424301,"body_markdown":"&quot;Why it does&#39;nt work with the clock-hour-of-am-pm (1-12) ?&quot; &lt;- Because your String doesn&#39;t say whether the time is am or pm, so the time cannot be mapped to a single specific time. 1 in 12 hour format could either be 1 or 13 in 24 hour format. When parsing the time you get an exception because of this ambiguity.","body":"&quot;Why it does&#39;nt work with the clock-hour-of-am-pm (1-12) ?&quot; &lt;- Because your String doesn&#39;t say whether the time is am or pm, so the time cannot be mapped to a single specific time. 1 in 12 hour format could either be 1 or 13 in 24 hour format. When parsing the time you get an exception because of this ambiguity."},{"owner":{"account_id":23648865,"reputation":11,"user_id":19150222,"display_name":"Tam Thai"},"score":0,"creation_date":1677853183,"post_id":75628066,"comment_id":133424328,"body_markdown":"Well for the difference between hh and HH you can take a look [here](https://stackoverflow.com/questions/17341214/difference-between-java-hhmm-and-hhmm-on-simpledateformat)","body":"Well for the difference between hh and HH you can take a look <a href=\"https://stackoverflow.com/questions/17341214/difference-between-java-hhmm-and-hhmm-on-simpledateformat\">here</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677923839,"post_id":75628066,"comment_id":133436023,"body_markdown":"The problem with clock-hour-of-am-pm (`hh`) is that with `01` Java cannot guess whether you intended 1 AM or 1 PM (AKA 13) and therefore refuses to construct a `LocalDateTime` for you. The other problem of course being that with hours 0 and 13 through 23 they will be formatted wrong, into the 1 - 12 range.","body":"The problem with clock-hour-of-am-pm (<code>hh</code>) is that with <code>01</code> Java cannot guess whether you intended 1 AM or 1 PM (AKA 13) and therefore refuses to construct a <code>LocalDateTime</code> for you. The other problem of course being that with hours 0 and 13 through 23 they will be formatted wrong, into the 1 - 12 range."}],"answers":[{"comments":[{"owner":{"account_id":1249654,"reputation":159470,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1677863822,"post_id":75628315,"comment_id":133427597,"body_markdown":"This is not an answer. It should be a comment, an edit to the original question, or a new question.","body":"This is not an answer. It should be a comment, an edit to the original question, or a new question."},{"owner":{"account_id":12749600,"reputation":37708,"user_id":13138364,"display_name":"tdy"},"score":1,"creation_date":1677906517,"post_id":75628315,"comment_id":133434268,"body_markdown":"This is definitely an answer, but OP included some classic signs of a non-answer (&quot;thanks&quot; and &quot;if I want to&quot;). I just edited those out to avoid the confusion.","body":"This is definitely an answer, but OP included some classic signs of a non-answer (&quot;thanks&quot; and &quot;if I want to&quot;). I just edited those out to avoid the confusion."}],"tags":[],"owner":{"account_id":14741144,"reputation":31,"user_id":10645780,"display_name":"Bryan PRADILLON"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677905956,"creation_date":1677853628,"answer_id":75628315,"question_id":75628066,"body_markdown":"As explained by @OH GOD SPIDERS, I needed to either add `a` to specify AM/PM or use `HH` to specify 24-hour format.\r\n\r\nSo to use the clock-hour-of-am-pm (1-12) format, add `a`:\r\n\r\n    DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy hh:mma&quot;);\r\n\r\nOr to use hour-of-day format (0-23), change `hh` to `HH`:\r\n\r\n    DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm&quot;);","title":"Text &#39;03/03/2023 01:56&#39; could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor","body":"<p>As explained by @OH GOD SPIDERS, I needed to either add <code>a</code> to specify AM/PM or use <code>HH</code> to specify 24-hour format.</p>\n<p>So to use the clock-hour-of-am-pm (1-12) format, add <code>a</code>:</p>\n<pre><code>DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy hh:mma&quot;);\n</code></pre>\n<p>Or to use hour-of-day format (0-23), change <code>hh</code> to <code>HH</code>:</p>\n<pre><code>DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm&quot;);\n</code></pre>\n"}],"owner":{"account_id":14741144,"reputation":31,"user_id":10645780,"display_name":"Bryan PRADILLON"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1677923614,"answer_count":1,"score":-1,"last_activity_date":1677923975,"creation_date":1677852186,"question_id":75628066,"body_markdown":"I get an unexpected exception when I try to parse a LocalDateTime (using JDK 8).\r\n\r\n\r\n```\r\nDateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy hh:mm&quot;);\r\n\r\nString dateStr = LocalDateTime.now().format(DTF);\r\n// =&gt; dateStr = 03/03/2023 01:56\r\n\r\nLocalDateTime date = LocalDateTime.parse(dateStr, DTF);\r\n// =&gt; throw DateTimeParseException\r\n```\r\n\r\nI don&#39;t undestand why the parse method throw a DateTimeParseException wheareas the format method work properly. I&#39;m using the same DateTimeFormatter to format the date to string.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;03/03/2023 01:56&#39; could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor: {MinuteOfHour=56, HourOfAmPm=1},ISO resolved to 2023-03-03 of type java.time.format.Parsed\r\nat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\r\nat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855) at java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n\r\nDo you have an idea ?\r\n\r\nI changed the pattern of DateTimeFormatter for hour-of-day (0-23).\r\n\r\n`DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm&quot;);` \r\n=&gt; This work fine.\r\n\r\nWhy it doesn&#39;t work with the clock-hour-of-am-pm (1-12) ?","title":"Text &#39;03/03/2023 01:56&#39; could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor","body":"<p>I get an unexpected exception when I try to parse a LocalDateTime (using JDK 8).</p>\n<pre><code>DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy hh:mm&quot;);\n\nString dateStr = LocalDateTime.now().format(DTF);\n// =&gt; dateStr = 03/03/2023 01:56\n\nLocalDateTime date = LocalDateTime.parse(dateStr, DTF);\n// =&gt; throw DateTimeParseException\n</code></pre>\n<p>I don't undestand why the parse method throw a DateTimeParseException wheareas the format method work properly. I'm using the same DateTimeFormatter to format the date to string.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '03/03/2023 01:56' could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor: {MinuteOfHour=56, HourOfAmPm=1},ISO resolved to 2023-03-03 of type java.time.format.Parsed\nat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\nat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855) at java.time.LocalDateTime.parse(LocalDateTime.java:492)</p>\n</blockquote>\n<p>Do you have an idea ?</p>\n<p>I changed the pattern of DateTimeFormatter for hour-of-day (0-23).</p>\n<p><code>DateTimeFormatter DTF = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy HH:mm&quot;);</code>\n=&gt; This work fine.</p>\n<p>Why it doesn't work with the clock-hour-of-am-pm (1-12) ?</p>\n"},{"tags":["java","constructor","static","static-variables"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1437328198,"post_id":31504094,"comment_id":50971064,"body_markdown":"Please format your code and question properly.","body":"Please format your code and question properly."},{"owner":{"account_id":5924590,"reputation":8476,"user_id":4660897,"accept_rate":89,"display_name":"Tot Zam"},"score":1,"creation_date":1437328295,"post_id":31504094,"comment_id":50971089,"body_markdown":"possible duplicate of [Initialize a static final field in the constructor](http://stackoverflow.com/questions/5093744/initialize-a-static-final-field-in-the-constructor)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5093744/initialize-a-static-final-field-in-the-constructor\">Initialize a static final field in the constructor</a>"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437328149,"creation_date":1437328149,"answer_id":31504134,"question_id":31504094,"body_markdown":"This is how the language was designed.. What if you wanted to have another `int` field named `i` in the constructor?, then which `i` should be considered?. Also, static fields are initialized before the constructor is called i.e, during class *initilization* phase. A constructor gets called only when a new instance is created. \r\n\r\nImagine what would happen (supposed to happen) if you load and initialize a class but not *create a new instance*. ","title":"Why can&#39;t I declare a static variable in a Java constructor?","body":"<p>This is how the language was designed.. What if you wanted to have another <code>int</code> field named <code>i</code> in the constructor?, then which <code>i</code> should be considered?. Also, static fields are initialized before the constructor is called i.e, during class <em>initilization</em> phase. A constructor gets called only when a new instance is created. </p>\n\n<p>Imagine what would happen (supposed to happen) if you load and initialize a class but not <em>create a new instance</em>. </p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1437328442,"creation_date":1437328442,"answer_id":31504183,"question_id":31504094,"body_markdown":"Because of where you are declaring `i`:\r\n\r\n    Student5(){  \r\n        static int i=0;\r\n        System.out.println(i++);  \r\n    }\r\n\r\nthe compiler treats it as a local variable in the constructor:\r\nLocal variables cannot be declared as `static`. For details on what modifiers are allowed for local variables, see [Section 14.4 of the Java Language Specification][1].\r\n\r\nJudging from what the code appears to be trying to do, you probably want `i` to be a static member of `Student5`, not a local variable in the constructor:\r\n\r\n    class Student5{\r\n        private static int i = 0;\r\n    \r\n        Student5(){  \r\n            System.out.println(i++);  \r\n        }\r\n    \r\n    . . .\r\n    }  \r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.4","title":"Why can&#39;t I declare a static variable in a Java constructor?","body":"<p>Because of where you are declaring <code>i</code>:</p>\n\n<pre><code>Student5(){  \n    static int i=0;\n    System.out.println(i++);  \n}\n</code></pre>\n\n<p>the compiler treats it as a local variable in the constructor:\nLocal variables cannot be declared as <code>static</code>. For details on what modifiers are allowed for local variables, see <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.4\" rel=\"noreferrer\">Section 14.4 of the Java Language Specification</a>.</p>\n\n<p>Judging from what the code appears to be trying to do, you probably want <code>i</code> to be a static member of <code>Student5</code>, not a local variable in the constructor:</p>\n\n<pre><code>class Student5{\n    private static int i = 0;\n\n    Student5(){  \n        System.out.println(i++);  \n    }\n\n. . .\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437328886,"creation_date":1437328463,"answer_id":31504185,"question_id":31504094,"body_markdown":"If you want to declare `static` variable then declare it outside of the constructor, at class level like this -  \r\n\r\n    public class Student5{\r\n    \r\n       private static int i;\r\n    \r\n    }  \r\n\r\nYou declaration of `static` occurred at your constructor which is a local variable and local variable can not be `static`. And that&#39;s why you are getting - `illegal modifier for parameter i`. And finally for initializing `static` variable you may use a static initialization block (though it&#39;s not mandatory) -  \r\n\r\n\r\n    public class Student5{\r\n    \r\n       private static int i;\r\n    \r\n       static {\r\n          i = 5;\r\n       }\r\n    \r\n    }  ","title":"Why can&#39;t I declare a static variable in a Java constructor?","body":"<p>If you want to declare <code>static</code> variable then declare it outside of the constructor, at class level like this -  </p>\n\n<pre><code>public class Student5{\n\n   private static int i;\n\n}  \n</code></pre>\n\n<p>You declaration of <code>static</code> occurred at your constructor which is a local variable and local variable can not be <code>static</code>. And that's why you are getting - <code>illegal modifier for parameter i</code>. And finally for initializing <code>static</code> variable you may use a static initialization block (though it's not mandatory) -  </p>\n\n<pre><code>public class Student5{\n\n   private static int i;\n\n   static {\n      i = 5;\n   }\n\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4476563,"reputation":5607,"user_id":3641545,"accept_rate":79,"display_name":"Zarwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437328607,"creation_date":1437328607,"answer_id":31504207,"question_id":31504094,"body_markdown":"Static variables are variables that can be referenced without having an instance of the class. By defining one instead of a constructor, which is called when you create an instance of the class, you are contradicting yourself. Either make it defined without having an instance (outside of the constructor and static) or make it specific to an instance (inside the constructor and not static).\r\n\r\nYou might want to rethink what you are actually trying to do and if you really need a static variable.","title":"Why can&#39;t I declare a static variable in a Java constructor?","body":"<p>Static variables are variables that can be referenced without having an instance of the class. By defining one instead of a constructor, which is called when you create an instance of the class, you are contradicting yourself. Either make it defined without having an instance (outside of the constructor and static) or make it specific to an instance (inside the constructor and not static).</p>\n\n<p>You might want to rethink what you are actually trying to do and if you really need a static variable.</p>\n"}],"owner":{"account_id":6649073,"reputation":33,"user_id":5132758,"display_name":"Deepak Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10715,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":31504183,"answer_count":4,"score":1,"last_activity_date":1677923536,"creation_date":1437327932,"question_id":31504094,"body_markdown":"The compiler says _&quot;illegal modifier for parameter i&quot;_. Please tell me what I&#39;m doing wrong. Why can&#39;t I declare a static variable in a Java constructor?\r\n\r\n    class Student5{  \r\n      \r\n        Student5() {  \r\n            static int i = 0;\r\n            System.out.println(i++);  \r\n        }\r\n    \r\n        public static void main(String args[]){  \r\n            Student5 c1 = new Student5();\r\n            Student5 c2 = new Student5();\r\n            Student5 c3 = new Student5();\r\n        }\r\n    }  ","title":"Why can&#39;t I declare a static variable in a Java constructor?","body":"<p>The compiler says <em>&quot;illegal modifier for parameter i&quot;</em>. Please tell me what I'm doing wrong. Why can't I declare a static variable in a Java constructor?</p>\n<pre><code>class Student5{  \n  \n    Student5() {  \n        static int i = 0;\n        System.out.println(i++);  \n    }\n\n    public static void main(String args[]){  \n        Student5 c1 = new Student5();\n        Student5 c2 = new Student5();\n        Student5 c3 = new Student5();\n    }\n}  \n</code></pre>\n"},{"tags":["java","performance","bytecode"],"comments":[{"owner":{"account_id":3424165,"reputation":6012,"user_id":2870532,"accept_rate":70,"display_name":"Tony"},"score":2,"creation_date":1406870894,"post_id":25073124,"comment_id":39008461,"body_markdown":"You see the clicked answer in that post? You do the same thing: a wrong benchmark.","body":"You see the clicked answer in that post? You do the same thing: a wrong benchmark."},{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":0,"creation_date":1406871728,"post_id":25073124,"comment_id":39008708,"body_markdown":"Do not ask why microbenchmarks perform the way they do under JIT optimization. That way lies madness.","body":"Do not ask why microbenchmarks perform the way they do under JIT optimization. That way lies madness."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1406909838,"post_id":25073124,"comment_id":39029519,"body_markdown":"Why are you calling the access to a `private` instance variable `executeGlobal()`?","body":"Why are you calling the access to a <code>private</code> instance variable <code>executeGlobal()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":387936,"reputation":4713,"user_id":746569,"accept_rate":64,"display_name":"MichaelCMS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406869941,"creation_date":1406869941,"answer_id":25073242,"question_id":25073124,"body_markdown":"Another reason could be the cache missing.\r\n\r\nCache misses bring a ~250% penalty , when CPU needs to refresh it&#39;s cache (that means the variable you are trying to access isn&#39;t in the CPU cache is in RAM).\r\n\r\nLooking at the results of your test, it seems to be a cache miss problem :\r\n\r\nYour local variables (mLocal and i ) are accessed in every cycle, but they are close to one another in memory since they were added to the stack recently.\r\n\r\nmPublic and mStatic aren&#39;t within the same page of memory as &quot;i&quot;. So your for loop should switch memory pages between the page where &quot;i&quot; with the page where mPublic / mStatic is .\r\n\r\n\r\nOfc you cannot know how memory actually gets mapped, so this is just a guess.\r\n\r\nIf you are at it, could you do another experiment ?\r\nDeclare a static integer next to the static mStatic variable and use that integer in the loop. Is performance improving ?","title":"Why static/member variable are slower than local variable?","body":"<p>Another reason could be the cache missing.</p>\n\n<p>Cache misses bring a ~250% penalty , when CPU needs to refresh it's cache (that means the variable you are trying to access isn't in the CPU cache is in RAM).</p>\n\n<p>Looking at the results of your test, it seems to be a cache miss problem :</p>\n\n<p>Your local variables (mLocal and i ) are accessed in every cycle, but they are close to one another in memory since they were added to the stack recently.</p>\n\n<p>mPublic and mStatic aren't within the same page of memory as \"i\". So your for loop should switch memory pages between the page where \"i\" with the page where mPublic / mStatic is .</p>\n\n<p>Ofc you cannot know how memory actually gets mapped, so this is just a guess.</p>\n\n<p>If you are at it, could you do another experiment ?\nDeclare a static integer next to the static mStatic variable and use that integer in the loop. Is performance improving ?</p>\n"},{"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677923478,"creation_date":1406870820,"answer_id":25073381,"question_id":25073124,"body_markdown":"You&#39;re a victim of runtime optimization.\r\n\r\nIf you change your code a little:\r\n\r\n```java\r\nQuestion q = new Question();\r\nfor (int i=0; i&lt;2; i++) {\r\n    q.executeGlobal();\r\n    q.executeStatic();\r\n    q.executeLocal();\r\n}\r\n```\r\n\r\nYou get this:\r\n\r\n```none\r\nType Global: 38331943 ns\r\nType Static: 57761889 ns\r\nType Local: 3010189 ns\r\nType Global: 46249688 ns\r\nType Static: 52745009 ns\r\nType Local: 0 ns\r\n```\r\n\r\nWhat happens is that pretty soon the runtime realizes that your local variable keeps getting assigned, but never gets read (or used), and optimizes out the whole loop.\r\n\r\nAs for the difference between class instance fields and static fields, they&#39;re both on the heap, but the static fields are shared across all object instances, so there&#39;s an extra level of indirection.","title":"Why static/member variable are slower than local variable?","body":"<p>You're a victim of runtime optimization.</p>\n<p>If you change your code a little:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Question q = new Question();\nfor (int i=0; i&lt;2; i++) {\n    q.executeGlobal();\n    q.executeStatic();\n    q.executeLocal();\n}\n</code></pre>\n<p>You get this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Type Global: 38331943 ns\nType Static: 57761889 ns\nType Local: 3010189 ns\nType Global: 46249688 ns\nType Static: 52745009 ns\nType Local: 0 ns\n</code></pre>\n<p>What happens is that pretty soon the runtime realizes that your local variable keeps getting assigned, but never gets read (or used), and optimizes out the whole loop.</p>\n<p>As for the difference between class instance fields and static fields, they're both on the heap, but the static fields are shared across all object instances, so there's an extra level of indirection.</p>\n"},{"tags":[],"owner":{"account_id":372473,"reputation":2297,"user_id":721540,"accept_rate":8,"display_name":"dgm"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1406881445,"creation_date":1406880960,"answer_id":25075789,"question_id":25073124,"body_markdown":"In general, jvm uses three different memory segments\r\n\r\n 1. Heap - contains all created objects in runtime, objects only plus\r\n    their object attributes (instance variables)  \r\n 2. Stack - contains local variables and Reference variables(variables that hold the address of an object in the heap)\r\n 3. Code segment - the segment where the actual compiled Java bytecodes resides when loaded\r\n\r\nStack values only exist within the scope of the function they are created in. Once it returns, they are discarded.\r\n\r\nHeap values however exist on the heap. They are created at some point in time, and destructed at another (either by GC or manually). Java only stores primitives on the stack. This keeps the stack small and helps keeping individual stack frames small, thus allowing more nested calls. Objects are created on the heap, and only references (which in turn are primitives) are passed around on the stack.\r\n\r\nJava uses three different kind of variables \r\n\r\n - Static Variable : - Class variables are called static variables.\r\n   There is only one occurrence of a class variable per JVM per class\r\n   loader. When a class is loaded the class variables (aka static\r\n   variables) are initialized. They reside where the class(bytecode)\r\n   resides, which is in the Code Segment\r\n - Instance variables:- Instance variables are non-static and there is\r\n   one occurrence of an instance variable in each class instance (i.e.\r\n   each object). Also known as a member variable or a field.\r\n - Local variables: Local variables have a narrower scope than instance\r\n   variables. The lifetime of a local variable is determined by\r\n   execution path\r\n\r\nAccessing the Stack is relatively faster (though, it is purely JVM implementation specific) than Code segment and hence theistically accessing local variable is faster than global.\r\n\r\nFor details, you can check http://blog.jamesdbloom.com/JVMInternals.html or [it-haggar_bytecode][1]\r\n\r\n\r\nThere is another article that analyze the performance of  [static vs local variable][2]\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/ibm/library/it-haggar_bytecode/\r\n  [2]: http://jacksondunstan.com/articles/1690","title":"Why static/member variable are slower than local variable?","body":"<p>In general, jvm uses three different memory segments</p>\n\n<ol>\n<li>Heap - contains all created objects in runtime, objects only plus\ntheir object attributes (instance variables)  </li>\n<li>Stack - contains local variables and Reference variables(variables that hold the address of an object in the heap)</li>\n<li>Code segment - the segment where the actual compiled Java bytecodes resides when loaded</li>\n</ol>\n\n<p>Stack values only exist within the scope of the function they are created in. Once it returns, they are discarded.</p>\n\n<p>Heap values however exist on the heap. They are created at some point in time, and destructed at another (either by GC or manually). Java only stores primitives on the stack. This keeps the stack small and helps keeping individual stack frames small, thus allowing more nested calls. Objects are created on the heap, and only references (which in turn are primitives) are passed around on the stack.</p>\n\n<p>Java uses three different kind of variables </p>\n\n<ul>\n<li>Static Variable : - Class variables are called static variables.\nThere is only one occurrence of a class variable per JVM per class\nloader. When a class is loaded the class variables (aka static\nvariables) are initialized. They reside where the class(bytecode)\nresides, which is in the Code Segment</li>\n<li>Instance variables:- Instance variables are non-static and there is\none occurrence of an instance variable in each class instance (i.e.\neach object). Also known as a member variable or a field.</li>\n<li>Local variables: Local variables have a narrower scope than instance\nvariables. The lifetime of a local variable is determined by\nexecution path</li>\n</ul>\n\n<p>Accessing the Stack is relatively faster (though, it is purely JVM implementation specific) than Code segment and hence theistically accessing local variable is faster than global.</p>\n\n<p>For details, you can check <a href=\"http://blog.jamesdbloom.com/JVMInternals.html\" rel=\"noreferrer\">http://blog.jamesdbloom.com/JVMInternals.html</a> or <a href=\"http://www.ibm.com/developerworks/ibm/library/it-haggar_bytecode/\" rel=\"noreferrer\">it-haggar_bytecode</a></p>\n\n<p>There is another article that analyze the performance of  <a href=\"http://jacksondunstan.com/articles/1690\" rel=\"noreferrer\">static vs local variable</a></p>\n"}],"owner":{"account_id":3389681,"reputation":347,"user_id":2844805,"accept_rate":34,"display_name":"game on"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4148,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25073381,"answer_count":3,"score":3,"last_activity_date":1677923478,"creation_date":1406869220,"question_id":25073124,"body_markdown":"I&#39;ve seen this thread: https://stackoverflow.com/questions/25029785/speed-of-if-compared-to-conditional/25029880#25029880\r\n\r\nMade my own class for checking the speed\r\n\r\n    public class Question {\r\n\tstatic long startTime;\r\n\tstatic long elapsedTime;\r\n\t\r\n\tstatic String mStatic;\r\n\tprivate String mPublic;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tQuestion q = new Question();\r\n\t\tq.executeGlobal();\r\n\t\tq.executeStatic();\r\n\t\tq.executeLocal();\r\n\t}\r\n\r\n\tpublic void executeLocal() {\r\n\t\tString mLocal;\r\n\t\tstartTime = System.nanoTime();\r\n\t\tfor (int i = 0; i &lt; 1000000000; i++) {\r\n\t\t\tmLocal = &quot;&quot;;\r\n\t\t}\r\n\t\telapsedTime = System.nanoTime() - startTime;\r\n\t\tSystem.out.println(&quot;Type Local: &quot; + elapsedTime + &quot; ns&quot;);\r\n\r\n\t}\r\n\r\n\tpublic void executeGlobal() {\r\n\t\tstartTime = System.nanoTime();\r\n\t\tfor (int i = 0; i &lt; 1000000000; i++) {\r\n\t\t\tmPublic = &quot;&quot;;\r\n\t\t}\r\n\t\telapsedTime = System.nanoTime() - startTime;\r\n\t\tSystem.out.println(&quot;Type Global: &quot; + elapsedTime + &quot; ns&quot;);\r\n\r\n\t}\r\n\r\n\tpublic void executeStatic() {\r\n\t\tstartTime = System.nanoTime();\r\n\t\tfor (int i = 0; i &lt; 1000000000; i++) {\r\n\t\t\tmStatic = &quot;&quot;;\r\n\t\t}\r\n\t\telapsedTime = System.nanoTime() - startTime;\r\n\t\tSystem.out.println(&quot;Type Static: &quot; + elapsedTime + &quot; ns&quot;);\r\n\t}\r\n\r\n    }\r\n\r\nResult:\r\n\r\n    Type Global: 45693028 ns\r\n    Type Static: 43853723 ns\r\n    Type Local: 2057505 ns\r\n\r\nIn the answer @Rod_algonquin answered that it is because of the **getstatic**/**putstatic** bytecode for static variable and **getfield**/**putfield** bytecode for the member variable, that it is calculating through bit-shifting and some addition.\r\n\r\nAt first I thought that only **Objects** causes this, but upon trying to reference primitive the result is the same `local variable` is still **faster**.\r\n\r\nWhy is that local variable is faster? except the bytecode explanation.\r\n\r\n","title":"Why static/member variable are slower than local variable?","body":"<p>I've seen this thread: <a href=\"https://stackoverflow.com/questions/25029785/speed-of-if-compared-to-conditional/25029880#25029880\">Speed of if compared to conditional</a></p>\n\n<p>Made my own class for checking the speed</p>\n\n<pre><code>public class Question {\nstatic long startTime;\nstatic long elapsedTime;\n\nstatic String mStatic;\nprivate String mPublic;\n\npublic static void main(String[] args) {\n    Question q = new Question();\n    q.executeGlobal();\n    q.executeStatic();\n    q.executeLocal();\n}\n\npublic void executeLocal() {\n    String mLocal;\n    startTime = System.nanoTime();\n    for (int i = 0; i &lt; 1000000000; i++) {\n        mLocal = \"\";\n    }\n    elapsedTime = System.nanoTime() - startTime;\n    System.out.println(\"Type Local: \" + elapsedTime + \" ns\");\n\n}\n\npublic void executeGlobal() {\n    startTime = System.nanoTime();\n    for (int i = 0; i &lt; 1000000000; i++) {\n        mPublic = \"\";\n    }\n    elapsedTime = System.nanoTime() - startTime;\n    System.out.println(\"Type Global: \" + elapsedTime + \" ns\");\n\n}\n\npublic void executeStatic() {\n    startTime = System.nanoTime();\n    for (int i = 0; i &lt; 1000000000; i++) {\n        mStatic = \"\";\n    }\n    elapsedTime = System.nanoTime() - startTime;\n    System.out.println(\"Type Static: \" + elapsedTime + \" ns\");\n}\n\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Type Global: 45693028 ns\nType Static: 43853723 ns\nType Local: 2057505 ns\n</code></pre>\n\n<p>In the answer @Rod_algonquin answered that it is because of the <strong>getstatic</strong>/<strong>putstatic</strong> bytecode for static variable and <strong>getfield</strong>/<strong>putfield</strong> bytecode for the member variable, that it is calculating through bit-shifting and some addition.</p>\n\n<p>At first I thought that only <strong>Objects</strong> causes this, but upon trying to reference primitive the result is the same <code>local variable</code> is still <strong>faster</strong>.</p>\n\n<p>Why is that local variable is faster? except the bytecode explanation.</p>\n"},{"tags":["java","shadowing"],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677923318,"creation_date":1408983312,"answer_id":25490119,"question_id":25490081,"body_markdown":"&gt; Why can&#39;t I access the shadowed variable in inTestOne() method with &quot;this&quot; keyword in line 8?\r\n\r\nBecause `x` is *not* a member variable of the class; it is a *local* variable. The keyword `this` can be used to access a member fields of the class, not local variables.\r\n\r\nOnce a variable is shadowed, you have no access to it. This is OK, because both the variable and the local inner class are yours to change; if you want to access the shadowed variable, all you need to do is renaming it (or renaming the variable that shadows it, whatever makes more sense to you).\r\n\r\nNote: don&#39;t forget to mark the local variable `final`, otherwise you wouldn&#39;t be able to access it even when it is not shadowed.","title":"Access to shadowed variable in local class","body":"<blockquote>\n<p>Why can't I access the shadowed variable in inTestOne() method with &quot;this&quot; keyword in line 8?</p>\n</blockquote>\n<p>Because <code>x</code> is <em>not</em> a member variable of the class; it is a <em>local</em> variable. The keyword <code>this</code> can be used to access a member fields of the class, not local variables.</p>\n<p>Once a variable is shadowed, you have no access to it. This is OK, because both the variable and the local inner class are yours to change; if you want to access the shadowed variable, all you need to do is renaming it (or renaming the variable that shadows it, whatever makes more sense to you).</p>\n<p>Note: don't forget to mark the local variable <code>final</code>, otherwise you wouldn't be able to access it even when it is not shadowed.</p>\n"},{"comments":[{"owner":{"account_id":83491,"reputation":45831,"user_id":234053,"display_name":"Alexander Gessler"},"score":1,"creation_date":1408983400,"post_id":25490127,"comment_id":39784755,"body_markdown":"And even then, `x` is effective final but not `final` so accessing it from a local class only works in Java 8+.","body":"And even then, <code>x</code> is effective final but not <code>final</code> so accessing it from a local class only works in Java 8+."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408983326,"creation_date":1408983326,"answer_id":25490127,"question_id":25490081,"body_markdown":"`this.` is used to access **members** - a local variable is not a member, so it cannot be accessed this way when it&#39;s shadowed.","title":"Access to shadowed variable in local class","body":"<p><code>this.</code> is used to access <strong>members</strong> - a local variable is not a member, so it cannot be accessed this way when it's shadowed.</p>\n"}],"owner":{"account_id":2519148,"reputation":135,"user_id":2189852,"accept_rate":55,"display_name":"Blaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2439,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677923318,"creation_date":1408983170,"question_id":25490081,"body_markdown":"I&#39;m new to Java and I&#39;m confused by below example \r\n\r\n```\r\npublic class Test {\r\n \r\n   int testOne(){  //member method\r\n       int x=5;\r\n       class inTest  // local class in member method\r\n       {\r\n           void inTestOne(int x){\r\n               System.out.print(&quot;x is &quot;+x);\r\n               // System.out.print(&quot;this.x is &quot;+this.x);\r\n           }\r\n       }\r\n       inTest ins=new inTest(); // create an instance of inTest local class (inner class)\r\n       ins.inTestOne(10);\r\n       return 0;\r\n   }\r\n\r\n   public static void main(String[] args) {\r\n       Test obj = new Test();\r\n       obj.testOne();\r\n   }\r\n}\r\n```\r\n\r\nWhy can&#39;t I access the shadowed variable in inTestOne() method with &quot;this&quot; keyword in line 8?","title":"Access to shadowed variable in local class","body":"<p>I'm new to Java and I'm confused by below example</p>\n<pre><code>public class Test {\n \n   int testOne(){  //member method\n       int x=5;\n       class inTest  // local class in member method\n       {\n           void inTestOne(int x){\n               System.out.print(&quot;x is &quot;+x);\n               // System.out.print(&quot;this.x is &quot;+this.x);\n           }\n       }\n       inTest ins=new inTest(); // create an instance of inTest local class (inner class)\n       ins.inTestOne(10);\n       return 0;\n   }\n\n   public static void main(String[] args) {\n       Test obj = new Test();\n       obj.testOne();\n   }\n}\n</code></pre>\n<p>Why can't I access the shadowed variable in inTestOne() method with &quot;this&quot; keyword in line 8?</p>\n"},{"tags":["java","variables","foreach","static","local-variables"],"comments":[{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":0,"creation_date":1509970196,"post_id":47136705,"comment_id":81222554,"body_markdown":"you should read scope of variables. Its nearly same in all language . FYI - class level, method level, block level etc.","body":"you should read scope of variables. Its nearly same in all language . FYI - class level, method level, block level etc."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1509970252,"post_id":47136705,"comment_id":81222591,"body_markdown":"That is called [Variable Shadowing](https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class)","body":"That is called <a href=\"https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class\">Variable Shadowing</a>"},{"owner":{"account_id":11132302,"reputation":1532,"user_id":8171929,"accept_rate":100,"display_name":"Dheeraj Joshi"},"score":1,"creation_date":1509970263,"post_id":47136705,"comment_id":81222601,"body_markdown":"it is variable shadowing","body":"it is variable shadowing"},{"owner":{"account_id":6446129,"reputation":432,"user_id":4994582,"accept_rate":0,"display_name":"Bikramjit Rajbongshi"},"score":0,"creation_date":1509970302,"post_id":47136705,"comment_id":81222625,"body_markdown":"The local variable always hides (shadows) the variable declared as &quot;global&quot; (class variables)","body":"The local variable always hides (shadows) the variable declared as &quot;global&quot; (class variables)"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1509970320,"post_id":47136705,"comment_id":81222637,"body_markdown":"Change to `System.out.println(Test.x);` and you&#39;ll access the static variable.","body":"Change to <code>System.out.println(Test.x);</code> and you&#39;ll access the static variable."}],"answers":[{"tags":[],"owner":{"account_id":12163861,"reputation":227,"user_id":8880709,"display_name":"hi olaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509970346,"creation_date":1509970346,"answer_id":47136782,"question_id":47136705,"body_markdown":"The inner variable declaration of x override the static one.\r\nIf you need to access the static variable you can access it with `Test.x`","title":"Java static variables and local variables","body":"<p>The inner variable declaration of x override the static one.\nIf you need to access the static variable you can access it with <code>Test.x</code></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1509970361,"creation_date":1509970361,"answer_id":47136791,"question_id":47136705,"body_markdown":"The local variable hides the original static field somewhat, but it is not inaccessible:\r\n\r\n    Test.x\r\n\r\nAnd for non-static fields:\r\n\r\n    this.x // not in this case\r\n\r\nSo it is allowed, and in effect one often sees:\r\n\r\n    public class Pt {\r\n        private final int x;\r\n        public Pt(int x) {\r\n            this.x = x;\r\n        }\r\n    }\r\n\r\nWhich prevents the need to introduce some convention (_x, mX).\r\n\r\nWhat is not allowed:\r\n\r\n    void f() {\r\n        int x = 42;\r\n        if (true) {\r\n            int x = 13; // COMPILER ERROR\r\n            ...\r\n        }\r\n    }\r\n\r\nAs this is bad style, causing confusion.","title":"Java static variables and local variables","body":"<p>The local variable hides the original static field somewhat, but it is not inaccessible:</p>\n\n<pre><code>Test.x\n</code></pre>\n\n<p>And for non-static fields:</p>\n\n<pre><code>this.x // not in this case\n</code></pre>\n\n<p>So it is allowed, and in effect one often sees:</p>\n\n<pre><code>public class Pt {\n    private final int x;\n    public Pt(int x) {\n        this.x = x;\n    }\n}\n</code></pre>\n\n<p>Which prevents the need to introduce some convention (_x, mX).</p>\n\n<p>What is not allowed:</p>\n\n<pre><code>void f() {\n    int x = 42;\n    if (true) {\n        int x = 13; // COMPILER ERROR\n        ...\n    }\n}\n</code></pre>\n\n<p>As this is bad style, causing confusion.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509971029,"creation_date":1509970406,"answer_id":47136800,"question_id":47136705,"body_markdown":"The duplicate variable compilation error happens for two variables with the same name declared in the same scope : fields or method declaration scope.&lt;br&gt;\r\nIn your example, each variable is declared in a distinct scope.&lt;br&gt;\r\nAs a consequence, as you refer `x` in the method declaring `x`, by default it refers to the variable with the nearer scope available (the `x` local variable) that so shadows the other variable (the `x` field variable).\r\n\r\nTo reference the shadowed variable :\r\n\r\n- if it is a static field (your case), prefix it with the class name declaring it : `Test.x`\r\n- if it is an instance field, prefix it with the `this` keyword : `this.x`\r\n\r\n","title":"Java static variables and local variables","body":"<p>The duplicate variable compilation error happens for two variables with the same name declared in the same scope : fields or method declaration scope.<br>\nIn your example, each variable is declared in a distinct scope.<br>\nAs a consequence, as you refer <code>x</code> in the method declaring <code>x</code>, by default it refers to the variable with the nearer scope available (the <code>x</code> local variable) that so shadows the other variable (the <code>x</code> field variable).</p>\n\n<p>To reference the shadowed variable :</p>\n\n<ul>\n<li>if it is a static field (your case), prefix it with the class name declaring it : <code>Test.x</code></li>\n<li>if it is an instance field, prefix it with the <code>this</code> keyword : <code>this.x</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12182843,"reputation":9,"user_id":8893790,"display_name":"Joicy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509970449,"creation_date":1509970449,"answer_id":47136815,"question_id":47136705,"body_markdown":"When you have a local variable same as static variable, static variable of the class is shadowed by the local variable. ","title":"Java static variables and local variables","body":"<p>When you have a local variable same as static variable, static variable of the class is shadowed by the local variable. </p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509970491,"creation_date":1509970491,"answer_id":47136831,"question_id":47136705,"body_markdown":"It doesn&#39;t throw an error because Java has the concept of [**shadowing**](https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class). In essence, the variable with the lowest [scope](http://www.geeksforgeeks.org/variable-scope-in-java/) is used.\r\n\r\nThe static field is still accessible, you just need to fully qualify it:\r\n\r\n    for(int x:nums){\r\n        System.out.println(x);       // Local x\r\n        System.out.println(Test.x);  // static x\r\n    }\r\n\r\nThis can be confusing to a reader of your code and so should be avoided in most cases. If you find yourself with a field and local variable named identically, there&#39;s *probably* something up and you should re-evaluate how you&#39;ve named your variables.\r\n\r\nIn your specific case, `x` is not a descriptive name and both variables would benefit from better, more descriptive names.\r\n\r\nIn certain cases, such as within a constructor or setter method, it&#39;s beneficial to have local variables and fields with the same names, and this is where shadowing is a useful feature.","title":"Java static variables and local variables","body":"<p>It doesn't throw an error because Java has the concept of <a href=\"https://stackoverflow.com/questions/1092099/what-is-variable-shadowing-used-for-in-a-java-class\"><strong>shadowing</strong></a>. In essence, the variable with the lowest <a href=\"http://www.geeksforgeeks.org/variable-scope-in-java/\" rel=\"nofollow noreferrer\">scope</a> is used.</p>\n\n<p>The static field is still accessible, you just need to fully qualify it:</p>\n\n<pre><code>for(int x:nums){\n    System.out.println(x);       // Local x\n    System.out.println(Test.x);  // static x\n}\n</code></pre>\n\n<p>This can be confusing to a reader of your code and so should be avoided in most cases. If you find yourself with a field and local variable named identically, there's <em>probably</em> something up and you should re-evaluate how you've named your variables.</p>\n\n<p>In your specific case, <code>x</code> is not a descriptive name and both variables would benefit from better, more descriptive names.</p>\n\n<p>In certain cases, such as within a constructor or setter method, it's beneficial to have local variables and fields with the same names, and this is where shadowing is a useful feature.</p>\n"}],"owner":{"account_id":12182940,"reputation":2576,"user_id":8893859,"display_name":"Gaurav Pathak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1596,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1509970489,"accepted_answer_id":47136791,"answer_count":5,"score":4,"last_activity_date":1677923134,"creation_date":1509970068,"question_id":47136705,"body_markdown":"I am new in Java and came across one OCJA-1.8 sample question where I am having some doubt. I need clarification on this behavior of JVM.\r\n\r\n\r\n\r\n     public class Test{\r\n\r\n\tstatic int x=1;//**This is static class level variable**\r\n\r\n       public static void main(String[] args){\r\n\t\tint[] nums={1,2,3,4,5};\r\n\t\tfor(int x:nums){ // Local variable declared for for-each loop.\r\n\t\t\tSystem.out.println(x);\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\nWhy has the JVM not thrown an error for a duplicate variable for the variable which is declared inside for each loop &#39;int x&#39;? As static variable has class level scope.","title":"Java static variables and local variables","body":"<p>I am new in Java and came across one OCJA-1.8 sample question where I am having some doubt. I need clarification on this behavior of JVM.</p>\n<pre><code> public class Test{\n\nstatic int x=1;//**This is static class level variable**\n\n   public static void main(String[] args){\n    int[] nums={1,2,3,4,5};\n    for(int x:nums){ // Local variable declared for for-each loop.\n        System.out.println(x);\n    }\n  }\n}\n</code></pre>\n<p>Why has the JVM not thrown an error for a duplicate variable for the variable which is declared inside for each loop 'int x'? As static variable has class level scope.</p>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1416304613,"post_id":26991291,"comment_id":42513990,"body_markdown":"Why do you think a local variable is static?","body":"Why do you think a local variable is static?"},{"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"score":1,"creation_date":1416304714,"post_id":26991291,"comment_id":42514057,"body_markdown":"Seems you need to examine [that](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html)","body":"Seems you need to examine <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">that</a>"},{"owner":{"account_id":3457726,"reputation":1775,"user_id":2895833,"accept_rate":82,"display_name":"Xipo"},"score":0,"creation_date":1416315936,"post_id":26991291,"comment_id":42520615,"body_markdown":"@immibis Don&#39;t forget that the word `field` is just a naming convention used to describe `member variables`. So a field is a variable type, just like a `local variable` is a variable type. Of course they are not the same type.","body":"@immibis Don&#39;t forget that the word <code>field</code> is just a naming convention used to describe <code>member variables</code>. So a field is a variable type, just like a <code>local variable</code> is a variable type. Of course they are not the same type."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1416350201,"post_id":26991291,"comment_id":42540060,"body_markdown":"@Xipo Don&#39;t forget that the phrase `member variable` is just a naming convention used to describe `fields` (in some languages other than Java).","body":"@Xipo Don&#39;t forget that the phrase <code>member variable</code> is just a naming convention used to describe <code>fields</code> (in some languages other than Java)."},{"owner":{"account_id":3457726,"reputation":1775,"user_id":2895833,"accept_rate":82,"display_name":"Xipo"},"score":0,"creation_date":1416386179,"post_id":26991291,"comment_id":42550916,"body_markdown":"@immibis I agree with you, the only thing I wanted to point out is that fields are variables.","body":"@immibis I agree with you, the only thing I wanted to point out is that fields are variables."}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677923031,"creation_date":1416304605,"answer_id":26991340,"question_id":26991291,"body_markdown":"A field cannot be referred by a static method because it belongs to an _&lt;b&gt;Instance&lt;/b&gt;_ of a _Class_ and therefore it is out of the static method&#39;s &lt;b&gt;scope&lt;/b&gt;.\r\n\r\nLocal variables are never static. By &quot;local&quot; variables, it is understood variables declared and used in a code block, whether that code block be a static initializer, class initializer or method/constructor body. The &lt;b&gt;scope&lt;/b&gt; of such variables is of course determined by the code block they are declared in.\r\n\r\nNot to be mixed with variables declared in classes (fields), whether they be instance variables (non static; one per instance) or class variables (static; one per class).\r\n\r\n","title":"Java - local variables in static method","body":"<p>A field cannot be referred by a static method because it belongs to an <em><b>Instance</b></em> of a <em>Class</em> and therefore it is out of the static method's <b>scope</b>.</p>\n<p>Local variables are never static. By &quot;local&quot; variables, it is understood variables declared and used in a code block, whether that code block be a static initializer, class initializer or method/constructor body. The <b>scope</b> of such variables is of course determined by the code block they are declared in.</p>\n<p>Not to be mixed with variables declared in classes (fields), whether they be instance variables (non static; one per instance) or class variables (static; one per class).</p>\n"},{"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1416315833,"post_id":26991343,"comment_id":42520561,"body_markdown":"@Xipo You implied it: `&quot;Cannot make static reference to a non-static field&quot;` &gt;&gt; `Then a local variable in a static method SHOULD be static as well`. That&#39;s what I understood at least.","body":"@Xipo You implied it: <code>&quot;Cannot make static reference to a non-static field&quot;</code> &gt;&gt; <code>Then a local variable in a static method SHOULD be static as well</code>. That&#39;s what I understood at least."},{"owner":{"account_id":3457726,"reputation":1775,"user_id":2895833,"accept_rate":82,"display_name":"Xipo"},"score":0,"creation_date":1416316877,"post_id":26991343,"comment_id":42521240,"body_markdown":"Ok I get it, I am just saying that I was literal and was not implying anything. I explain myself [here](http://stackoverflow.com/questions/26991291/java-local-variables-in-static-method/26991343?noredirect=1#comment42520615_26991291).","body":"Ok I get it, I am just saying that I was literal and was not implying anything. I explain myself <a href=\"http://stackoverflow.com/questions/26991291/java-local-variables-in-static-method/26991343?noredirect=1#comment42520615_26991291\">here</a>."}],"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1416304613,"creation_date":1416304613,"answer_id":26991343,"question_id":26991291,"body_markdown":"A local variable is not a field.","title":"Java - local variables in static method","body":"<p>A local variable is not a field.</p>\n"},{"tags":[],"owner":{"account_id":4728705,"reputation":3094,"user_id":3824920,"accept_rate":89,"display_name":"Denis Lukenich"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416304763,"creation_date":1416304763,"answer_id":26991395,"question_id":26991291,"body_markdown":"The simple conflict in your exception is that you expect a local variable to be a field. Which is not true. \r\n\r\nA local variable is just living inside a method. Where it doesn&#39;t matter if this method is private, public, static, final or anything else.\r\n\r\nWhile a field is living with the Object instance.\r\n\r\nAnd a static field is living with the class.","title":"Java - local variables in static method","body":"<p>The simple conflict in your exception is that you expect a local variable to be a field. Which is not true. </p>\n\n<p>A local variable is just living inside a method. Where it doesn't matter if this method is private, public, static, final or anything else.</p>\n\n<p>While a field is living with the Object instance.</p>\n\n<p>And a static field is living with the class.</p>\n"},{"tags":[],"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1416308030,"creation_date":1416308030,"answer_id":26992527,"question_id":26991291,"body_markdown":"1. Variables declared inside a method live on the stack. These are called __Local__ variables\r\n2. Variables declared as static live in the class. These are called __Class__ variables. (though they are often referred to as static variables)\r\n3. Variables declared nonstatic inside the class live inside the specific instance. These are called __Instance__ variables. \r\n\r\nBasically every time you enter a static or nonstatic method, memory is reserved for each variable you declare inside that block. This memory is freed when the block is exited. (exit from a method, or exiting a { } block. The lifespan of local variables is always the block you declare them in.\r\n\r\n","title":"Java - local variables in static method","body":"<ol>\n<li>Variables declared inside a method live on the stack. These are called <strong>Local</strong> variables</li>\n<li>Variables declared as static live in the class. These are called <strong>Class</strong> variables. (though they are often referred to as static variables)</li>\n<li>Variables declared nonstatic inside the class live inside the specific instance. These are called <strong>Instance</strong> variables. </li>\n</ol>\n\n<p>Basically every time you enter a static or nonstatic method, memory is reserved for each variable you declare inside that block. This memory is freed when the block is exited. (exit from a method, or exiting a { } block. The lifespan of local variables is always the block you declare them in.</p>\n"}],"owner":{"account_id":3457726,"reputation":1775,"user_id":2895833,"accept_rate":82,"display_name":"Xipo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3326,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":26991340,"answer_count":4,"score":0,"last_activity_date":1677923031,"creation_date":1416304450,"question_id":26991291,"body_markdown":"Since inside static methods we:\r\n&gt;1. Cannot make static reference to a non-static field\r\n\r\n \r\n\r\n  2. Then a local variable in a static method &lt;b&gt;SHOULD&lt;/b&gt; be &lt;b&gt;static&lt;/b&gt; as\r\n    well.\r\n\r\nBut according to this answer here: &lt;https://stackoverflow.com/questions/10645914/are-local-variables-in-static-methods-also-static/10645921#10645921&gt;\r\n\r\n\r\n&gt;3. Local variables in static methods are just local variables in a static method. They&#39;re &lt;b&gt;not static&lt;/b&gt;, and they&#39;re not special in any way.\r\n\r\nThere is a conflict between my deduction (2) and the statement taken from Ernests answer (3) which I cannot explain.   \r\n\r\nCould someone explain if my deduction is wrong, and why is that?  \r\nAnd if I am not wrong what is the correct answer to the question &quot;Are local variables in static methods also static&quot; ?  \r\n\r\n&lt;b&gt;EDIT:&lt;/b&gt; I am &lt;b&gt;NOT&lt;/b&gt; confused by what a &lt;b&gt;local variable&lt;/b&gt; OR a &lt;b&gt;member variable (field)&lt;/b&gt; OR a &lt;b&gt;static&lt;/b&gt; is. \r\n \r\nI just thought that:  \r\n&lt;b&gt;IF&lt;/b&gt; `&quot;static methods cannot make reference to non static field&quot;`  &lt;b&gt;AND&lt;/b&gt; `&quot;fields are variables&quot;`\r\n&lt;b&gt;THEN&lt;/b&gt; `&quot;variables in static methods are also static&quot;`  \r\nmaking a variable in a static method &lt;b&gt;both&lt;/b&gt; local &amp;&amp; static\r\n  \r\n \r\n\r\n\r\nThank you.","title":"Java - local variables in static method","body":"<p>Since inside static methods we:</p>\n\n<blockquote>\n  <ol>\n  <li>Cannot make static reference to a non-static field</li>\n  </ol>\n</blockquote>\n\n<ol start=\"2\">\n<li>Then a local variable in a static method <b>SHOULD</b> be <b>static</b> as\nwell.</li>\n</ol>\n\n<p>But according to this answer here: <a href=\"https://stackoverflow.com/questions/10645914/are-local-variables-in-static-methods-also-static/10645921#10645921\">Are local variables in static methods also static?</a></p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>Local variables in static methods are just local variables in a static method. They're <b>not static</b>, and they're not special in any way.</li>\n  </ol>\n</blockquote>\n\n<p>There is a conflict between my deduction (2) and the statement taken from Ernests answer (3) which I cannot explain.   </p>\n\n<p>Could someone explain if my deduction is wrong, and why is that?<br>\nAnd if I am not wrong what is the correct answer to the question \"Are local variables in static methods also static\" ?  </p>\n\n<p><b>EDIT:</b> I am <b>NOT</b> confused by what a <b>local variable</b> OR a <b>member variable (field)</b> OR a <b>static</b> is. </p>\n\n<p>I just thought that:<br>\n<b>IF</b> <code>\"static methods cannot make reference to non static field\"</code>  <b>AND</b> <code>\"fields are variables\"</code>\n<b>THEN</b> <code>\"variables in static methods are also static\"</code><br>\nmaking a variable in a static method <b>both</b> local &amp;&amp; static</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677557018,"post_id":75587759,"comment_id":133357029,"body_markdown":"because unlike wht you expect r1 is 3 and c1 is 2. you mistook the ordering","body":"because unlike wht you expect r1 is 3 and c1 is 2. you mistook the ordering"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677557310,"post_id":75587759,"comment_id":133357064,"body_markdown":"when you pass 2x3, inside your code it is applying a for loop for a 3x2","body":"when you pass 2x3, inside your code it is applying a for loop for a 3x2"}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677572607,"creation_date":1677572607,"answer_id":75589485,"question_id":75587759,"body_markdown":"I think, you should edit the code like this\r\n```\r\n...\r\n        int r1 = a.length, c1 = a[0].length; //2 3\r\n        int r2 = b.length, c2 = b[0].length; //3 2\r\n...\r\n```","title":"Java matrix multiplication 3x2 and 2x3, how to fix ArrayIndexOutOfBoundsException","body":"<p>I think, you should edit the code like this</p>\n<pre><code>...\n        int r1 = a.length, c1 = a[0].length; //2 3\n        int r2 = b.length, c2 = b[0].length; //3 2\n...\n</code></pre>\n"}],"owner":{"account_id":27896376,"reputation":1,"user_id":21301583,"display_name":"Yuliia Herasymova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677922716,"answer_count":1,"score":-1,"last_activity_date":1677922705,"creation_date":1677556823,"question_id":75587759,"body_markdown":"This method works for multiplication of 2x2 and 2x2 matrices only, but it&#39;s not working for 3x2 and 2x3. It results in\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:\r\n&gt; Index 2 out of bounds for length 2\r\n\r\nWhat am I doing wrong?\r\n\r\n```java\r\npublic class MultiplyMatrix {\r\n    public static int[][] multiply(int[][] a, int[][] b) {\r\n\r\n        int r1 = a[0].length, c1 = a.length; //2 3\r\n        int r2 = b[0].length, c2 = b.length; //3 2\r\n\r\n        int[][] multiply = new int[r1][c2];\r\n\r\n        for (int i = 0; i &lt; r1; i++) {\r\n            for (int j = 0; j &lt; c2; j++) {\r\n                for (int k = 0; k &lt; c1; k++) {\r\n                    multiply[i][j] += a[i][k] * b[k][j];\r\n                }\r\n            }\r\n        }\r\n        return multiply;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Test your code here!\\n&quot;);\r\n\r\n        // Get a result of your code\r\n\r\n        int[][] a = { {1, 2, 3}, {4, 5, 6} };\r\n        int[][] b = { {7, 8}, {9, 10}, {11, 12} };\r\n\r\n\r\n        int[][] result = multiply(a, b);\r\n        System.out.println(Arrays.deepToString(result).replace(&quot;],&quot;, &quot;]\\n&quot;));\r\n    }\r\n}\r\n```\r\n","title":"Java matrix multiplication 3x2 and 2x3, how to fix ArrayIndexOutOfBoundsException","body":"<p>This method works for multiplication of 2x2 and 2x2 matrices only, but it's not working for 3x2 and 2x3. It results in</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException:\nIndex 2 out of bounds for length 2</p>\n</blockquote>\n<p>What am I doing wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultiplyMatrix {\n    public static int[][] multiply(int[][] a, int[][] b) {\n\n        int r1 = a[0].length, c1 = a.length; //2 3\n        int r2 = b[0].length, c2 = b.length; //3 2\n\n        int[][] multiply = new int[r1][c2];\n\n        for (int i = 0; i &lt; r1; i++) {\n            for (int j = 0; j &lt; c2; j++) {\n                for (int k = 0; k &lt; c1; k++) {\n                    multiply[i][j] += a[i][k] * b[k][j];\n                }\n            }\n        }\n        return multiply;\n    }\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Test your code here!\\n&quot;);\n\n        // Get a result of your code\n\n        int[][] a = { {1, 2, 3}, {4, 5, 6} };\n        int[][] b = { {7, 8}, {9, 10}, {11, 12} };\n\n\n        int[][] result = multiply(a, b);\n        System.out.println(Arrays.deepToString(result).replace(&quot;],&quot;, &quot;]\\n&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1621503,"reputation":1451,"user_id":1497944,"display_name":"Kedar Joshi"},"score":1,"creation_date":1519656593,"post_id":48991094,"comment_id":84987037,"body_markdown":"`&lt;option th:each=&quot;Subject : ${subjects}&quot;\nth:value=&quot;${Subject}&quot;\nth:text=&quot;${Subject}&quot;&gt;&lt;/option&gt;`","body":"<code>&lt;option th:each=&quot;Subject : ${subjects}&quot; th:value=&quot;${Subject}&quot; th:text=&quot;${Subject}&quot;&gt;&lt;&#47;option&gt;</code>"},{"owner":{"account_id":8589306,"reputation":431,"user_id":6434370,"accept_rate":86,"display_name":"Jill"},"score":0,"creation_date":1519656908,"post_id":48991094,"comment_id":84987221,"body_markdown":"@KedarJoshi That worked! Thank you so much you sound legend","body":"@KedarJoshi That worked! Thank you so much you sound legend"}],"answers":[{"comments":[{"owner":{"account_id":8589306,"reputation":431,"user_id":6434370,"accept_rate":86,"display_name":"Jill"},"score":0,"creation_date":1519658484,"post_id":48991197,"comment_id":84988160,"body_markdown":"That worked perfectly, thank you so much! Can&#39;t believe I didn&#39;t try that, Monday tiredness must be getting to me.","body":"That worked perfectly, thank you so much! Can&#39;t believe I didn&#39;t try that, Monday tiredness must be getting to me."}],"tags":[],"owner":{"account_id":7203312,"reputation":1453,"user_id":5499829,"accept_rate":100,"display_name":"tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519656746,"creation_date":1519656746,"answer_id":48991197,"question_id":48991094,"body_markdown":"You&#39;re html section seems to be wrong as you&#39;re using the whole list at `th:value` and `th:text` (and so get all the entries in each line).\r\n\r\nShould be\r\n\r\n    &lt;option th:each=&quot;Subject : ${subjects}&quot;\r\n    th:value=&quot;${Subject}&quot;\r\n    th:text=&quot;${Subject}&quot;&gt;&lt;/option&gt;\r\n\r\nimo. Notice the use of `${Subject}` rather than `${subject[s]}`","title":"How to populate a combo box with an ArrayList in Thymeleaf?","body":"<p>You're html section seems to be wrong as you're using the whole list at <code>th:value</code> and <code>th:text</code> (and so get all the entries in each line).</p>\n\n<p>Should be</p>\n\n<pre><code>&lt;option th:each=\"Subject : ${subjects}\"\nth:value=\"${Subject}\"\nth:text=\"${Subject}\"&gt;&lt;/option&gt;\n</code></pre>\n\n<p>imo. Notice the use of <code>${Subject}</code> rather than <code>${subject[s]}</code></p>\n"}],"owner":{"account_id":8589306,"reputation":431,"user_id":6434370,"accept_rate":86,"display_name":"Jill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48991197,"answer_count":1,"score":1,"last_activity_date":1677922314,"creation_date":1519656381,"question_id":48991094,"body_markdown":"I have an ArrayList that contains objects, I want to populate the drop down box with each object (subject) in the arraylist.\r\n\r\nAt the moment my code is adding the ArrayList to the combo box however it&#39;s displaying everything in the ArrayList on each line rather than it displaying one subject per line. (See image below)\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5i59.png\r\n\r\nHow do I get it to display each object in the arraylist?\r\n\r\n\r\n**My controller**\r\n\r\n    @GetMapping(&quot;/addexam&quot;)\r\n    public String showExamForm(Model model) {\r\n        Authentication loggedInUser = SecurityContextHolder.getContext().getAuthentication();\r\n        String email = loggedInUser.getName();\r\n        User user = userRepository.findByEmailAddress(email);\r\n        ArrayList&lt;String&gt; subjects = new ArrayList&lt;String&gt;();\r\n        for (Subject sub : user.getSubject()) {\r\n            subjects.add(sub.getSubjectName());\r\n        }\r\n        model.addAttribute(&quot;subjects&quot;, subjects);\r\n        return &quot;addExam&quot;;\r\n    }\r\n\r\n**HTML file**\r\n\r\n    &lt;select class=&quot;form-control&quot; id=&quot;subjectOrder&quot; name=&quot;subjectOrder&quot;&gt;\r\n        &lt;option value=&quot;&quot;&gt;Select subject&lt;/option&gt;\r\n        &lt;option th:each=&quot;Subject : ${subjects}&quot; th:value=&quot;${subjects}&quot; th:text=&quot;${subjects}&quot;&gt;&lt;/option&gt;\r\n    &lt;/select&gt;","title":"How to populate a combo box with an ArrayList in Thymeleaf?","body":"<p>I have an ArrayList that contains objects, I want to populate the drop down box with each object (subject) in the arraylist.</p>\n\n<p>At the moment my code is adding the ArrayList to the combo box however it's displaying everything in the ArrayList on each line rather than it displaying one subject per line. (See image below)</p>\n\n<p><a href=\"https://i.stack.imgur.com/B5i59.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5i59.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I get it to display each object in the arraylist?</p>\n\n<p><strong>My controller</strong></p>\n\n<pre><code>@GetMapping(\"/addexam\")\npublic String showExamForm(Model model) {\n    Authentication loggedInUser = SecurityContextHolder.getContext().getAuthentication();\n    String email = loggedInUser.getName();\n    User user = userRepository.findByEmailAddress(email);\n    ArrayList&lt;String&gt; subjects = new ArrayList&lt;String&gt;();\n    for (Subject sub : user.getSubject()) {\n        subjects.add(sub.getSubjectName());\n    }\n    model.addAttribute(\"subjects\", subjects);\n    return \"addExam\";\n}\n</code></pre>\n\n<p><strong>HTML file</strong></p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"subjectOrder\" name=\"subjectOrder\"&gt;\n    &lt;option value=\"\"&gt;Select subject&lt;/option&gt;\n    &lt;option th:each=\"Subject : ${subjects}\" th:value=\"${subjects}\" th:text=\"${subjects}\"&gt;&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1677915893,"post_id":75634309,"comment_id":133435109,"body_markdown":"please, show some details, sometimes error itself is not enough to get answer","body":"please, show some details, sometimes error itself is not enough to get answer"}],"owner":{"account_id":27929557,"reputation":1,"user_id":21327929,"display_name":"Aasa Padmini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677922174,"answer_count":0,"score":0,"last_activity_date":1677922190,"creation_date":1677915511,"question_id":75634309,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n\tat org.asynchttpclient.DefaultAsyncHttpClient.&lt;clinit&gt;(DefaultAsyncHttpClient.java:49)\r\n\tat org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:94)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:47)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java:135)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:107)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:94)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:85)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;(DriverCommandExecutor.java:80)\r\n\tat org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.&lt;init&gt;(ChromiumDriverCommandExecutor.java:35)\r\n\tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:94)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\tat Testing.EMCEATApplicationFormTest.main(EMCEATApplicationFormTest.java:13)\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 14 more\r\nhow to resolve those errors???\r\n\r\n","title":"errors to resolve in the java programme in eclipse application","body":"<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\nat org.asynchttpclient.DefaultAsyncHttpClient.(DefaultAsyncHttpClient.java:49)\nat org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\nat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:94)\nat org.openqa.selenium.remote.http.netty.NettyClient.(NettyClient.java:47)\nat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java:135)\nat org.openqa.selenium.remote.HttpCommandExecutor.(HttpCommandExecutor.java:107)\nat org.openqa.selenium.remote.HttpCommandExecutor.(HttpCommandExecutor.java:94)\nat org.openqa.selenium.remote.HttpCommandExecutor.(HttpCommandExecutor.java:85)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.(DriverCommandExecutor.java:80)\nat org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.(ChromiumDriverCommandExecutor.java:35)\nat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.(ChromeDriver.java:94)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:82)\nat org.openqa.selenium.chrome.ChromeDriver.(ChromeDriver.java:50)\nat Testing.EMCEATApplicationFormTest.main(EMCEATApplicationFormTest.java:13)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 14 more\nhow to resolve those errors???</p>\n"},{"tags":["java","rpm","gradle-plugin","netflix-nebula-plugins"],"answers":[{"tags":[],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677922138,"creation_date":1677922138,"answer_id":75634758,"question_id":75571594,"body_markdown":"I have found the way to use the latest gradle ospackage plugin, it has just changed name from `nebula.ospackage` to `com.netflix.nebula.ospackage` so:\r\n\r\n```\r\nplugins {\r\n    id &quot;com.netflix.nebula.ospackage&quot; version &quot;11.0.0&quot;\r\n}\r\n```\r\nworks perfectly !","title":"How to use latest gradle-ospackage-plugin from GitHub","body":"<p>I have found the way to use the latest gradle ospackage plugin, it has just changed name from <code>nebula.ospackage</code> to <code>com.netflix.nebula.ospackage</code> so:</p>\n<pre><code>plugins {\n    id &quot;com.netflix.nebula.ospackage&quot; version &quot;11.0.0&quot;\n}\n</code></pre>\n<p>works perfectly !</p>\n"}],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75634758,"answer_count":1,"score":2,"last_activity_date":1677922138,"creation_date":1677410030,"question_id":75571594,"body_markdown":"I have recently upgraded to Gradle 8 finding out that the `nebula.ospackage` plugin distributed in [Gradle plugin Portal][1] is not compatible. \r\n\r\nIn [gradle-ospackage-plugin GitHub][2] repo, there&#39;s the 11 version which claim to resolve the incompatibility with Gradle 8.\r\n\r\nThis code doesn&#39;t work:\r\n\r\n```\r\nplugins {\r\n    id &quot;nebula.ospackage&quot; version &quot;11.0.0&quot;\r\n}\r\n```\r\n\r\nwith:\r\n\r\n```\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;nebula.ospackage:nebula.ospackage.gradle.plugin:11.0.0&#39;)\r\n  Searched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n```\r\n\r\nHow to use in Gradle a plugin from GitHub and not from the official Gradle Plugin site?\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://plugins.gradle.org/\r\n  [2]: https://github.com/nebula-plugins/gradle-ospackage-plugin","title":"How to use latest gradle-ospackage-plugin from GitHub","body":"<p>I have recently upgraded to Gradle 8 finding out that the <code>nebula.ospackage</code> plugin distributed in <a href=\"https://plugins.gradle.org/\" rel=\"nofollow noreferrer\">Gradle plugin Portal</a> is not compatible.</p>\n<p>In <a href=\"https://github.com/nebula-plugins/gradle-ospackage-plugin\" rel=\"nofollow noreferrer\">gradle-ospackage-plugin GitHub</a> repo, there's the 11 version which claim to resolve the incompatibility with Gradle 8.</p>\n<p>This code doesn't work:</p>\n<pre><code>plugins {\n    id &quot;nebula.ospackage&quot; version &quot;11.0.0&quot;\n}\n</code></pre>\n<p>with:</p>\n<pre><code>- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'nebula.ospackage:nebula.ospackage.gradle.plugin:11.0.0')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n</code></pre>\n<p>How to use in Gradle a plugin from GitHub and not from the official Gradle Plugin site?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","gradle","proguard","obfuscation"],"owner":{"account_id":13715845,"reputation":3,"user_id":11651437,"display_name":"Kāshān Asim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677921410,"creation_date":1677921410,"question_id":75634700,"body_markdown":"I am using this configuration in my proguard task:\r\n\r\n```\r\ntask proguard(type: ProGuardTask) {\r\n    dependsOn tasks.extractJar\r\n    verbose\r\n    injars &quot;${buildDir}/extracted/BOOT-INF/classes&quot;\r\n    outjars &quot;${buildDir}/obfuscatedClasses.jar&quot;\r\n    // Automatically handle the Java version of this build.\r\n    if (System.getProperty(&#39;java.version&#39;).startsWith(&#39;1.&#39;)) {\r\n        // Before Java 9, the runtime classes were packaged in a single jar file.\r\n        libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/lib/rt.jar&quot;\r\n    } else {\r\n        // As of Java 9, the runtime classes are packaged in modular jmod files.\r\n        libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/jmods/java.base.jmod&quot;, jarfilter: &#39;!**.jar&#39;, filter: &#39;!module-info.class&#39;\r\n        //libraryjars &quot;${System.getProperty(&#39;java.home&#39;)}/jmods/.....&quot;\r\n    }\r\n    // This will contain the Spring dependencies.\r\n    libraryjars sourceSets.main.compileClasspath\r\n    keepdirectories\r\n    keep &#39;class org.springframework.boot.loader.JarLauncher&#39;\r\n    // Keep the main class entry point.\r\n    keep &#39;public class com.etugra.rss.service.sam.SamApplication { \\\r\n            public static void main(java.lang.String[]); \\\r\n         }&#39;\r\n    keepattributes &#39;*Annotation*&#39;\r\n    // This simple example requires classes with @Component annotation classes\r\n    // to be kept, since otherwise components could end up with clashing names,\r\n    // if they do not set the name explicitly.\r\n    keep &#39;public @org.springframework.stereotype.Component class **&#39;\r\n    // You may need to keep classes or members based on other annotations such as:\r\n    keepclassmembers &#39;public class * { \\\r\n            @org.springframework.beans.factory.annotation.Autowired *; \\\r\n            @org.springframework.beans.factory.annotation.Value *; \\\r\n        }&#39;\r\n    ignorewarnings\r\n    // After ProGuard has executed, repackage the app.\r\n    finalizedBy tasks.repackage\r\n\r\n}\r\n```\r\n\r\n\r\nEven after using the keep ```&#39;public @org.springframework.stereotype.Component class **&#39;``` I am still getting bean already exist error.\r\n\r\n\r\n```\r\n2023-03-03 14:28:40,462 [1] [main] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext: WARN : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.etugra.rss.service.sam.SamApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;a&#39; for bean class [com.etugra.rss.service.sam.v.a] conflicts with existing, non-compatible bean definition of same name and class [com.etugra.rss.service.sam.t.a.a]\r\n2023-03-03 14:28:40,719 [1] [main] org.springframework.boot.SpringApplication: ERROR: Application run failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.etugra.rss.service.sam.SamApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;a&#39; for bean class [com.etugra.rss.service.sam.v.a] conflicts with existing, non-compatible bean definition of same name and class [com.etugra.rss.service.sam.t.a.a]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n        at com.etugra.rss.service.sam.SamApplication.main(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;a&#39; for bean class [com.etugra.rss.service.sam.v.a] conflicts with existing, non-compatible bean definition of same name and class [com.etugra.rss.service.sam.t.a.a]\r\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)\r\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)\r\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)\r\n        ... 21 more\r\n```\r\n\r\nMy running environment :\r\n\r\n1) Java 17 \r\n\r\n2) ProGuard version : 7.2.1\r\n\r\n(Note : Un-ofuscated jar is working but obfuscated is not working in above environment)\r\nI want the obfuscated Jar to be totally unreadable when opened with a dcompiler like JdGui etc.\r\n\r\n\r\n\r\n\r\nI tried to Obfuscate my springboot project&#39;s jar using guardsquare proguard. I am able to generate an obfuscated jar but upon execution it gives me bean already exist error. I except it to work functionally like the jar without obfuscation.","title":"Obfuscated Jar is not running","body":"<p>I am using this configuration in my proguard task:</p>\n<pre><code>task proguard(type: ProGuardTask) {\n    dependsOn tasks.extractJar\n    verbose\n    injars &quot;${buildDir}/extracted/BOOT-INF/classes&quot;\n    outjars &quot;${buildDir}/obfuscatedClasses.jar&quot;\n    // Automatically handle the Java version of this build.\n    if (System.getProperty('java.version').startsWith('1.')) {\n        // Before Java 9, the runtime classes were packaged in a single jar file.\n        libraryjars &quot;${System.getProperty('java.home')}/lib/rt.jar&quot;\n    } else {\n        // As of Java 9, the runtime classes are packaged in modular jmod files.\n        libraryjars &quot;${System.getProperty('java.home')}/jmods/java.base.jmod&quot;, jarfilter: '!**.jar', filter: '!module-info.class'\n        //libraryjars &quot;${System.getProperty('java.home')}/jmods/.....&quot;\n    }\n    // This will contain the Spring dependencies.\n    libraryjars sourceSets.main.compileClasspath\n    keepdirectories\n    keep 'class org.springframework.boot.loader.JarLauncher'\n    // Keep the main class entry point.\n    keep 'public class com.etugra.rss.service.sam.SamApplication { \\\n            public static void main(java.lang.String[]); \\\n         }'\n    keepattributes '*Annotation*'\n    // This simple example requires classes with @Component annotation classes\n    // to be kept, since otherwise components could end up with clashing names,\n    // if they do not set the name explicitly.\n    keep 'public @org.springframework.stereotype.Component class **'\n    // You may need to keep classes or members based on other annotations such as:\n    keepclassmembers 'public class * { \\\n            @org.springframework.beans.factory.annotation.Autowired *; \\\n            @org.springframework.beans.factory.annotation.Value *; \\\n        }'\n    ignorewarnings\n    // After ProGuard has executed, repackage the app.\n    finalizedBy tasks.repackage\n\n}\n</code></pre>\n<p>Even after using the keep <code>'public @org.springframework.stereotype.Component class **'</code> I am still getting bean already exist error.</p>\n<pre><code>2023-03-03 14:28:40,462 [1] [main] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext: WARN : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.etugra.rss.service.sam.SamApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'a' for bean class [com.etugra.rss.service.sam.v.a] conflicts with existing, non-compatible bean definition of same name and class [com.etugra.rss.service.sam.t.a.a]\n2023-03-03 14:28:40,719 [1] [main] org.springframework.boot.SpringApplication: ERROR: Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.etugra.rss.service.sam.SamApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'a' for bean class [com.etugra.rss.service.sam.v.a] conflicts with existing, non-compatible bean definition of same name and class [com.etugra.rss.service.sam.t.a.a]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:188)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n        at com.etugra.rss.service.sam.SamApplication.main(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'a' for bean class [com.etugra.rss.service.sam.v.a] conflicts with existing, non-compatible bean definition of same name and class [com.etugra.rss.service.sam.t.a.a]\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:295)\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:206)\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:174)\n        ... 21 more\n</code></pre>\n<p>My running environment :</p>\n<ol>\n<li><p>Java 17</p>\n</li>\n<li><p>ProGuard version : 7.2.1</p>\n</li>\n</ol>\n<p>(Note : Un-ofuscated jar is working but obfuscated is not working in above environment)\nI want the obfuscated Jar to be totally unreadable when opened with a dcompiler like JdGui etc.</p>\n<p>I tried to Obfuscate my springboot project's jar using guardsquare proguard. I am able to generate an obfuscated jar but upon execution it gives me bean already exist error. I except it to work functionally like the jar without obfuscation.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":5194004,"reputation":122,"user_id":4155961,"display_name":"Dusman"},"score":1,"creation_date":1569326370,"post_id":19417670,"comment_id":102553940,"body_markdown":"https://thoughts-on-java.org/spring-data-jpa-query-annotation/ read the &quot;Avoid Entity Name References&quot; part in this article, It will useful.","body":"<a href=\"https://thoughts-on-java.org/spring-data-jpa-query-annotation/\" rel=\"nofollow noreferrer\">thoughts-on-java.org/spring-data-jpa-query-annotation</a> read the &quot;Avoid Entity Name References&quot; part in this article, It will useful."}],"answers":[{"comments":[{"owner":{"display_name":"user41871"},"score":9,"creation_date":1382078598,"post_id":19443031,"comment_id":28828326,"body_markdown":"This is really useful information. It would be great to include this kind of higher-level design guidance in the actual reference materials if it&#39;s not already there. Like &quot;best practices&quot; callouts or something.","body":"This is really useful information. It would be great to include this kind of higher-level design guidance in the actual reference materials if it&#39;s not already there. Like &quot;best practices&quot; callouts or something."},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":2,"creation_date":1382078926,"post_id":19443031,"comment_id":28828486,"body_markdown":"Well, this is software architecture and design 1:1. If we included such stuff in the reference documentation, where should we stop then? ;)","body":"Well, this is software architecture and design 1:1. If we included such stuff in the reference documentation, where should we stop then? ;)"},{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":3,"creation_date":1389538255,"post_id":19443031,"comment_id":31697337,"body_markdown":"I&#39;m facing this very scenario in the design of an application now... providing a &#39;dto&#39; and a &#39;repo&#39; for each model... It doesn&#39;t smell right.","body":"I&#39;m facing this very scenario in the design of an application now... providing a &#39;dto&#39; and a &#39;repo&#39; for each model... It doesn&#39;t smell right."},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1399377577,"post_id":19443031,"comment_id":36027126,"body_markdown":"@OliverGierke When I am trying to expose my SD Neo4j repository using Spring Data REST where my neo4j repository is exactly the same as above, its not generating `_embedded` field and throwing 500 error... else repository with proper Domain class is working fine.. any workout there ?","body":"@OliverGierke When I am trying to expose my SD Neo4j repository using Spring Data REST where my neo4j repository is exactly the same as above, its not generating <code>_embedded</code> field and throwing 500 error... else repository with proper Domain class is working fine.. any workout there ?"},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":0,"creation_date":1399463835,"post_id":19443031,"comment_id":36070257,"body_markdown":"That&#39;s a new question, not a comment, isn&#39;t it?","body":"That&#39;s a new question, not a comment, isn&#39;t it?"},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":0,"creation_date":1413542538,"post_id":19443031,"comment_id":41491784,"body_markdown":"I&#39;m doing the monkey 1:1 abstraction of services over repositories as my services take Long id parameters and repositories take the corresponding objects in the JPQL queries. The controllers expecting ids and repositories expecting objects is sensible ?","body":"I&#39;m doing the monkey 1:1 abstraction of services over repositories as my services take Long id parameters and repositories take the corresponding objects in the JPQL queries. The controllers expecting ids and repositories expecting objects is sensible ?"}],"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":6,"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1567176915,"creation_date":1382077802,"answer_id":19443031,"question_id":19417670,"body_markdown":"First of all, I know we&#39;re raising the bar here quite a bit but this is already tremendously less code than you had to write without the help of Spring Data JPA. \r\n\r\nSecond, I think you don&#39;t need the service class in the first place, if all you do is forward a call to the repository. We recommend using services in front of the repositories if you have business logic that needs orchestration of different repositories within a transaction or has other business logic to encapsulate.\r\n\r\nGenerally speaking, you can of course do something like this:\r\n\r\n    interface ProductRepository&lt;T extends Product&gt; extends CrudRepository&lt;T, Long&gt; {\r\n\r\n        @Query(&quot;select p from #{#entityName} p where ?1 member of p.categories&quot;)\r\n        Iterable&lt;T&gt; findByCategory(String category);\r\n\t\r\n        Iterable&lt;T&gt; findByName(String name);\r\n    }\r\n\r\nThis will allow you to use the repository on the client side like this:\r\n\r\n    class MyClient {\r\n\r\n      @Autowired\r\n      public MyClient(ProductRepository&lt;Car&gt; carRepository, \r\n                      ProductRepository&lt;Wine&gt; wineRepository) { … }\r\n    }\r\n\r\nand it will work as expected. However there are a few things to notice:\r\n\r\n**This only works if the domain classes use single table inheritance.** The only information about the domain class we can get at bootstrap time is that it will be `Product` objects. So for methods like `findAll()` and even `findByName(…)` the relevant queries will start with `select p from Product p where…`. This is due to the fact that the reflection lookup will never ever be able to produce `Wine` or `Car` *unless* you create a dedicated repository interface for it to capture the concrete type information.\r\n\r\nGenerally speaking, we recommend creating repository interfaces per [aggregate root][1]. This means you don&#39;t have a repo for every domain class per se. Even more important, a 1:1 abstraction of a service over a repository is completely missing the point as well. If you build services, you don&#39;t build one for every repository (a monkey could do that, and we&#39;re no monkeys, are we? ;). A service is exposing a higher level API, is much more use-case drive and usually orchestrates calls to multiple repositories.\r\n\r\nAlso, if you build services on top of repositories, you usually want to enforce the clients to use the service instead of the repository (a classical example here is that a service for user management also triggers password generation and encryption, so that by no means it would be a good idea to let developers use the repository directly as they&#39;d effectively work around the encryption). So you usually want to be selective about who can persist which domain objects to not create dependencies all over the place.\r\n\r\n## Summary\r\n\r\nYes, you can build generic repositories and use them with multiple domain types but there are quite strict technical limitations. Still, from an architectural point of view, the scenario you describe above shouldn&#39;t even pop up as this means you&#39;re facing a design smell anyway.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Domain-driven_design#Building_blocks_of_DDD","title":"Using generics in Spring Data JPA repositories","body":"<p>First of all, I know we're raising the bar here quite a bit but this is already tremendously less code than you had to write without the help of Spring Data JPA. </p>\n\n<p>Second, I think you don't need the service class in the first place, if all you do is forward a call to the repository. We recommend using services in front of the repositories if you have business logic that needs orchestration of different repositories within a transaction or has other business logic to encapsulate.</p>\n\n<p>Generally speaking, you can of course do something like this:</p>\n\n<pre><code>interface ProductRepository&lt;T extends Product&gt; extends CrudRepository&lt;T, Long&gt; {\n\n    @Query(\"select p from #{#entityName} p where ?1 member of p.categories\")\n    Iterable&lt;T&gt; findByCategory(String category);\n\n    Iterable&lt;T&gt; findByName(String name);\n}\n</code></pre>\n\n<p>This will allow you to use the repository on the client side like this:</p>\n\n<pre><code>class MyClient {\n\n  @Autowired\n  public MyClient(ProductRepository&lt;Car&gt; carRepository, \n                  ProductRepository&lt;Wine&gt; wineRepository) { … }\n}\n</code></pre>\n\n<p>and it will work as expected. However there are a few things to notice:</p>\n\n<p><strong>This only works if the domain classes use single table inheritance.</strong> The only information about the domain class we can get at bootstrap time is that it will be <code>Product</code> objects. So for methods like <code>findAll()</code> and even <code>findByName(…)</code> the relevant queries will start with <code>select p from Product p where…</code>. This is due to the fact that the reflection lookup will never ever be able to produce <code>Wine</code> or <code>Car</code> <em>unless</em> you create a dedicated repository interface for it to capture the concrete type information.</p>\n\n<p>Generally speaking, we recommend creating repository interfaces per <a href=\"http://en.wikipedia.org/wiki/Domain-driven_design#Building_blocks_of_DDD\" rel=\"noreferrer\">aggregate root</a>. This means you don't have a repo for every domain class per se. Even more important, a 1:1 abstraction of a service over a repository is completely missing the point as well. If you build services, you don't build one for every repository (a monkey could do that, and we're no monkeys, are we? ;). A service is exposing a higher level API, is much more use-case drive and usually orchestrates calls to multiple repositories.</p>\n\n<p>Also, if you build services on top of repositories, you usually want to enforce the clients to use the service instead of the repository (a classical example here is that a service for user management also triggers password generation and encryption, so that by no means it would be a good idea to let developers use the repository directly as they'd effectively work around the encryption). So you usually want to be selective about who can persist which domain objects to not create dependencies all over the place.</p>\n\n<h2>Summary</h2>\n\n<p>Yes, you can build generic repositories and use them with multiple domain types but there are quite strict technical limitations. Still, from an architectural point of view, the scenario you describe above shouldn't even pop up as this means you're facing a design smell anyway.</p>\n"},{"comments":[{"owner":{"account_id":287182,"reputation":419,"user_id":586841,"display_name":"Systemsplanet"},"score":0,"creation_date":1570768298,"post_id":57080036,"comment_id":103025588,"body_markdown":"how would you use this with a nativeQuery?","body":"how would you use this with a nativeQuery?"}],"tags":[],"owner":{"account_id":16336562,"reputation":9,"user_id":11798616,"display_name":"Ye Ma"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1563380186,"creation_date":1563379189,"answer_id":57080036,"question_id":19417670,"body_markdown":"I am working a project to create the generic repository for cassandra with spring data.\r\n\r\nFirstly create a repository interface with code.\r\n\r\n    StringBuilder sourceCode = new StringBuilder();\r\n    sourceCode.append(&quot;import org.springframework.boot.autoconfigure.security.SecurityProperties.User;\\n&quot;);\r\n    sourceCode.append(&quot;import org.springframework.data.cassandra.repository.AllowFiltering;\\n&quot;);\r\n    sourceCode.append(&quot;import org.springframework.data.cassandra.repository.Query;\\n&quot;);\r\n    sourceCode.append(&quot;import org.springframework.data.repository.CrudRepository;\\n&quot;);\r\n    sourceCode.append(&quot;\\n&quot;);\r\n    sourceCode.append(&quot;public interface TestRepository extends CrudRepository&lt;Entity, Long&gt; {\\n&quot;);\r\n    sourceCode.append(&quot;}&quot;);\r\n\r\nCompile the code and get the class, I use org.mdkt.compiler.InMemoryJavaCompiler\r\n\r\n    ClassLoader classLoader = org.springframework.util.ClassUtils.getDefaultClassLoader();\r\n    compiler = InMemoryJavaCompiler.newInstance();\r\n    compiler.useParentClassLoader(classLoader);\r\n    Class&lt;?&gt; testRepository = compiler.compile(&quot;TestRepository&quot;, sourceCode.toString());\r\n\r\nAnd initialize the repository in spring data runtime. This is a little tricky as I debug the SpringData code to find how it initialize a repository interface in spring.\r\n\r\n    CassandraSessionFactoryBean bean = context.getBean(CassandraSessionFactoryBean.class);\r\n    RepositoryFragments repositoryFragmentsToUse = (RepositoryFragments) Optional.empty().orElseGet(RepositoryFragments::empty); \r\n    CassandraRepositoryFactory factory = new CassandraRepositoryFactory(\r\n        new CassandraAdminTemplate(bean.getObject(), bean.getConverter()));\r\n    factory.setBeanClassLoader(compiler.getClassloader());\r\n    Object repository = factory.getRepository(testRepository, repositoryFragmentsToUse);\r\n\r\nNow you can try the save method of the repository and you can try other methods such as findById.\r\n\r\n    Method method = repository.getClass().getMethod(&quot;save&quot;, paramTypes);\r\n    T obj = (T) method.invoke(repository, params.toArray());\r\n\r\nA full sample code and implementation I have put in this repo\r\nhttps://github.com/maye-msft/generic-repository-springdata.\r\n\r\nYou can extend it to JPA with the similar logic.","title":"Using generics in Spring Data JPA repositories","body":"<p>I am working a project to create the generic repository for cassandra with spring data.</p>\n\n<p>Firstly create a repository interface with code.</p>\n\n<pre><code>StringBuilder sourceCode = new StringBuilder();\nsourceCode.append(\"import org.springframework.boot.autoconfigure.security.SecurityProperties.User;\\n\");\nsourceCode.append(\"import org.springframework.data.cassandra.repository.AllowFiltering;\\n\");\nsourceCode.append(\"import org.springframework.data.cassandra.repository.Query;\\n\");\nsourceCode.append(\"import org.springframework.data.repository.CrudRepository;\\n\");\nsourceCode.append(\"\\n\");\nsourceCode.append(\"public interface TestRepository extends CrudRepository&lt;Entity, Long&gt; {\\n\");\nsourceCode.append(\"}\");\n</code></pre>\n\n<p>Compile the code and get the class, I use org.mdkt.compiler.InMemoryJavaCompiler</p>\n\n<pre><code>ClassLoader classLoader = org.springframework.util.ClassUtils.getDefaultClassLoader();\ncompiler = InMemoryJavaCompiler.newInstance();\ncompiler.useParentClassLoader(classLoader);\nClass&lt;?&gt; testRepository = compiler.compile(\"TestRepository\", sourceCode.toString());\n</code></pre>\n\n<p>And initialize the repository in spring data runtime. This is a little tricky as I debug the SpringData code to find how it initialize a repository interface in spring.</p>\n\n<pre><code>CassandraSessionFactoryBean bean = context.getBean(CassandraSessionFactoryBean.class);\nRepositoryFragments repositoryFragmentsToUse = (RepositoryFragments) Optional.empty().orElseGet(RepositoryFragments::empty); \nCassandraRepositoryFactory factory = new CassandraRepositoryFactory(\n    new CassandraAdminTemplate(bean.getObject(), bean.getConverter()));\nfactory.setBeanClassLoader(compiler.getClassloader());\nObject repository = factory.getRepository(testRepository, repositoryFragmentsToUse);\n</code></pre>\n\n<p>Now you can try the save method of the repository and you can try other methods such as findById.</p>\n\n<pre><code>Method method = repository.getClass().getMethod(\"save\", paramTypes);\nT obj = (T) method.invoke(repository, params.toArray());\n</code></pre>\n\n<p>A full sample code and implementation I have put in this repo\n<a href=\"https://github.com/maye-msft/generic-repository-springdata\" rel=\"nofollow noreferrer\">https://github.com/maye-msft/generic-repository-springdata</a>.</p>\n\n<p>You can extend it to JPA with the similar logic.</p>\n"},{"comments":[{"owner":{"account_id":427076,"reputation":2255,"user_id":808655,"accept_rate":90,"display_name":"skyman"},"score":0,"creation_date":1588032230,"post_id":61384615,"comment_id":108738815,"body_markdown":"Thank you for going to so much trouble in your answer.  Ironically, I am about to start a project to rebuild the application that this question arose from - thank you!","body":"Thank you for going to so much trouble in your answer.  Ironically, I am about to start a project to rebuild the application that this question arose from - thank you!"},{"owner":{"account_id":13525254,"reputation":825,"user_id":9757258,"display_name":"Jose Mhlanga"},"score":0,"creation_date":1588070541,"post_id":61384615,"comment_id":108752280,"body_markdown":"Happy to help. Faced with the same boilerplate in prev projects. All the best in yr projects the Spring way. We all like Clean code! Cheers","body":"Happy to help. Faced with the same boilerplate in prev projects. All the best in yr projects the Spring way. We all like Clean code! Cheers"},{"owner":{"account_id":6599982,"reputation":201,"user_id":5098594,"display_name":"Julien O"},"score":0,"creation_date":1605670265,"post_id":61384615,"comment_id":114720097,"body_markdown":"@JoseMhlanga I&#39;ve just found this post and it seems interesting, but I wonder why you created AbstractBaseRepository and don&#39;t directly make MyDomainRepository extends JpaRepository ?\nIs it only in case where you move from Jpa to another library ? (But in this case you may need implementation since it may not be generated by Spring)","body":"@JoseMhlanga I&#39;ve just found this post and it seems interesting, but I wonder why you created AbstractBaseRepository and don&#39;t directly make MyDomainRepository extends JpaRepository ? Is it only in case where you move from Jpa to another library ? (But in this case you may need implementation since it may not be generated by Spring)"},{"owner":{"account_id":13525254,"reputation":825,"user_id":9757258,"display_name":"Jose Mhlanga"},"score":0,"creation_date":1605680951,"post_id":61384615,"comment_id":114722437,"body_markdown":"The reasons I defined the `AbstractBaseRepository` is so that all our repositories wont have to repeat the extending `JpaRepository` all the time in every repository we create, especially for general crud operations, we just want to encourage reusability, but u are free to do it another way","body":"The reasons I defined the <code>AbstractBaseRepository</code> is so that all our repositories wont have to repeat the extending <code>JpaRepository</code> all the time in every repository we create, especially for general crud operations, we just want to encourage reusability, but u are free to do it another way"},{"owner":{"account_id":3549648,"reputation":123,"user_id":2964815,"display_name":"anmi"},"score":0,"creation_date":1616447067,"post_id":61384615,"comment_id":118001073,"body_markdown":"Thank you very much. I have two questions: first why do we need &#39;AbstractBaseService&#39;? and second is &#39;@Autowired&#39; at &#39;AbstractBaseRepositoryImpl&#39; constructor is useless? It won&#39;t get autowired because it is abstract and is created when &#39;MyDomainServiceImpl&#39; gets created, right?","body":"Thank you very much. I have two questions: first why do we need &#39;AbstractBaseService&#39;? and second is &#39;@Autowired&#39; at &#39;AbstractBaseRepositoryImpl&#39; constructor is useless? It won&#39;t get autowired because it is abstract and is created when &#39;MyDomainServiceImpl&#39; gets created, right?"},{"owner":{"account_id":13525254,"reputation":825,"user_id":9757258,"display_name":"Jose Mhlanga"},"score":0,"creation_date":1616573690,"post_id":61384615,"comment_id":118041749,"body_markdown":"Okay, in proper software development, we need to expose data through interfaces to clients (including other devs), so the `AbstractBaseService` exposes only necessary generic methods for each `entities`, rather than expose the `repository` itself, and then `AbstractBaseRepositoryImpl`, its a marker service for the generics that can be used with it along. Cheers","body":"Okay, in proper software development, we need to expose data through interfaces to clients (including other devs), so the <code>AbstractBaseService</code> exposes only necessary generic methods for each <code>entities</code>, rather than expose the <code>repository</code> itself, and then <code>AbstractBaseRepositoryImpl</code>, its a marker service for the generics that can be used with it along. Cheers"},{"owner":{"account_id":3896812,"reputation":591,"user_id":3225638,"display_name":"Lorenzo"},"score":0,"creation_date":1623890951,"post_id":61384615,"comment_id":120208987,"body_markdown":"On a side note, use of `Serializable` is frowned upon in production code due to security vulnerabilities during deserialisation. I&#39;m not sure why you would need it anyways though since spring maps directly to DTOs and back already ?","body":"On a side note, use of <code>Serializable</code> is frowned upon in production code due to security vulnerabilities during deserialisation. I&#39;m not sure why you would need it anyways though since spring maps directly to DTOs and back already ?"},{"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"score":0,"creation_date":1637576427,"post_id":61384615,"comment_id":123854230,"body_markdown":"Hello Good solution thanks for it. But my question how to make it more than for 2 and more daos (repositories)?","body":"Hello Good solution thanks for it. But my question how to make it more than for 2 and more daos (repositories)?"},{"owner":{"account_id":15611532,"reputation":784,"user_id":11262834,"display_name":"Hamza Assada"},"score":0,"creation_date":1666455920,"post_id":61384615,"comment_id":130943481,"body_markdown":"I think you meant by AbstractBaseRepositoryImpl = AbstractBaseServiceImpl, the name Repository in the base service confused me, is this the case??, and do we really need to mark the AbstractService with @Service annotation?","body":"I think you meant by AbstractBaseRepositoryImpl = AbstractBaseServiceImpl, the name Repository in the base service confused me, is this the case??, and do we really need to mark the AbstractService with @Service annotation?"}],"tags":[],"owner":{"account_id":13525254,"reputation":825,"user_id":9757258,"display_name":"Jose Mhlanga"},"comment_count":9,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1612194497,"creation_date":1587636693,"answer_id":61384615,"question_id":19417670,"body_markdown":"This is very possible! I am probably very late to the party. But this will certainly help someone in the future. Here is a complete solution that works like a charm!\r\n\r\nCreate `BaseEntity` class for your entities as follows:\r\n\r\n    @MappedSuperclass\r\n    public class AbstractBaseEntity implements Serializable{\r\n    \r\n        @Id @GeneratedValue\r\n        private Long id;\r\n        @Version\r\n        private int version;\r\n        private LocalDateTime createdAt;\r\n        private LocalDateTime updatedAt;\r\n    \r\n        public AbstractBaseEntity() {\r\n            this.createdAt = LocalDateTime.now();\r\n            this.updatedAt = LocalDateTime.now();\r\n        }\r\n    \r\n        // getters and setters      \r\n    }\r\n\r\nCreate a generic JPA Repository interface for your DAO persistence as follows: \r\nNB. Remember to put the `@NoRepositoryBean` so that JPA will not try to find an implementation for the repository!\r\n\r\n    @NoRepositoryBean\r\n    public interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\r\n    extends JpaRepository&lt;T, ID&gt;{\r\n        \r\n    }\r\n\r\nCreate a Base Service class that uses the above base JPA repository. This is the one that other service interfaces in your domain will simply extend as follows:\r\n\r\n    public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\r\n        public abstract T save(T entity);\r\n        public abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\r\n    \r\n        public abstract Optional&lt;T&gt; findById(ID entityId);\r\n        public abstract T update(T entity);\r\n        public abstract T updateById(T entity, ID entityId);   \r\n        public abstract void delete(T entity);\r\n        public abstract void deleteById(ID entityId);\r\n        // other methods u might need to be generic\r\n        \r\n    }\r\n\r\nThen create an abstract implementation for the base JPA repository &amp; the basic CRUD methods will also be provided their implementations as in the following:\r\n\r\n    @Service\r\n    @Transactional\r\n    public abstract class AbstractBaseRepositoryImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\r\n            implements AbstractBaseService&lt;T, ID&gt;{\r\n        \r\n        private AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\r\n        \r\n        @Autowired\r\n        public AbstractBaseRepositoryImpl(AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository) {\r\n            this.abstractBaseRepository = abstractBaseRepository;\r\n        }\r\n        \r\n        @Override\r\n        public T save(T entity) {\r\n            return (T) abstractBaseRepository.save(entity);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;T&gt; findAll() {\r\n            return abstractBaseRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;T&gt; findById(ID entityId) {\r\n            return abstractBaseRepository.findById(entityId);\r\n        }\r\n    \r\n        @Override\r\n        public T update(T entity) {\r\n            return (T) abstractBaseRepository.save(entity);\r\n        }\r\n    \r\n        @Override\r\n        public T updateById(T entity, ID entityId) {\r\n            Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\r\n            if(optional.isPresent()){\r\n                return (T) abstractBaseRepository.save(entity);\r\n            }else{\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void delete(T entity) {\r\n            abstractBaseRepository.delete(entity);\r\n        }\r\n    \r\n        @Override\r\n        public void deleteById(ID entityId) {\r\n            abstractBaseRepository.deleteById(entityId);\r\n        }\r\n    \r\n    }\r\n\r\nHow to use the above abstract `entity`, `service`, `repository`, and `implementation`:\r\n\r\nExample here will be a `MyDomain` entity. Create a domain entity that extends the `AbstractBaseEntity` as follows: \r\nNB. `ID`, `createdAt`, `updatedAt`, `version`, etc will be automatically be included in the `MyDomain` entity from the `AbstractBaseEntity` \r\n\r\n    @Entity\r\n    public class MyDomain extends AbstractBaseEntity{\r\n    \r\n        private String attribute1;\r\n        private String attribute2;\r\n        // getters and setters\r\n    }\r\n\r\nThen create a `repository` for the `MyDomain` entity that extends the `AbstractBaseRepository` as follows: \r\n\r\n    @Repository\r\n    public interface MyDomainRepository extends AbstractBaseRepository&lt;MyDomain, Long&gt;{\r\n    \r\n    }\r\n\r\nAlso, Create a `service` interface for the `MyDomain` entity as follows:\r\n\r\n    public interface MyDomainService extends AbstractBaseService&lt;MyDomain, Long&gt;{\r\n    \r\n    }\r\n\r\nThen provide an implementation for the `MyDomain` entity that extends the `AbstractBaseRepositoryImpl` implementation as follows: \r\n\r\n    @Service\r\n    @Transactional\r\n    public class MyDomainServiceImpl extends AbstractBaseRepositoryImpl&lt;MyDomain, Long&gt; \r\n            implements MyDomainService{\r\n        private MyDomainRepository myDomainRepository;\r\n\r\n        public MyDomainServiceImpl(MyDomainRepository myDomainRepository) {\r\n            super(myDomainRepository);\r\n        }\r\n        // other specialized methods from the MyDomainService interface\r\n    \r\n    }\r\n    Now use your `MyDomainService` service in your controller as follows: \r\n    \r\n    @RestController // or @Controller\r\n    @CrossOrigin\r\n    @RequestMapping(value = &quot;/&quot;)\r\n    public class MyDomainController {\r\n        \r\n        private final MyDomainService myDomainService;\r\n    \r\n        @Autowired\r\n        public MyDomainController(MyDomainService myDomainService) {\r\n            this.myDomainService = myDomainService;\r\n        }\r\n       \r\n        @GetMapping\r\n        public List&lt;MyDomain&gt; getMyDomains(){\r\n            return myDomainService.findAll();\r\n        }   \r\n        // other controller methods\r\n\r\n    }\r\n\r\n**NB.** Make sure that the `AbstractBaseRepository` is annotated with `@NoRepositoryBean` so that `JPA` does not try to find an implementation for the bean.\r\nAlso the `AbstractBaseServiceImpl` must be marked abstract, otherwise JPA will try to autowire all the children daos of the `AbstractBaseRepository` in the constructor of the class leading to a `NoUniqueBeanDefinitionException` since more than 1 daos (repository) will be injected when the bean is created!\r\nNow your `service`, `repository`, and `implementations` are more reusable. We all hate boilerplate! \r\n\r\nHope this helps someone.\r\n\r\n\r\n\r\n\r\n","title":"Using generics in Spring Data JPA repositories","body":"<p>This is very possible! I am probably very late to the party. But this will certainly help someone in the future. Here is a complete solution that works like a charm!</p>\n<p>Create <code>BaseEntity</code> class for your entities as follows:</p>\n<pre><code>@MappedSuperclass\npublic class AbstractBaseEntity implements Serializable{\n\n    @Id @GeneratedValue\n    private Long id;\n    @Version\n    private int version;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n\n    public AbstractBaseEntity() {\n        this.createdAt = LocalDateTime.now();\n        this.updatedAt = LocalDateTime.now();\n    }\n\n    // getters and setters      \n}\n</code></pre>\n<p>Create a generic JPA Repository interface for your DAO persistence as follows:\nNB. Remember to put the <code>@NoRepositoryBean</code> so that JPA will not try to find an implementation for the repository!</p>\n<pre><code>@NoRepositoryBean\npublic interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\nextends JpaRepository&lt;T, ID&gt;{\n    \n}\n</code></pre>\n<p>Create a Base Service class that uses the above base JPA repository. This is the one that other service interfaces in your domain will simply extend as follows:</p>\n<pre><code>public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\n    public abstract T save(T entity);\n    public abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\n\n    public abstract Optional&lt;T&gt; findById(ID entityId);\n    public abstract T update(T entity);\n    public abstract T updateById(T entity, ID entityId);   \n    public abstract void delete(T entity);\n    public abstract void deleteById(ID entityId);\n    // other methods u might need to be generic\n    \n}\n</code></pre>\n<p>Then create an abstract implementation for the base JPA repository &amp; the basic CRUD methods will also be provided their implementations as in the following:</p>\n<pre><code>@Service\n@Transactional\npublic abstract class AbstractBaseRepositoryImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\n        implements AbstractBaseService&lt;T, ID&gt;{\n    \n    private AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\n    \n    @Autowired\n    public AbstractBaseRepositoryImpl(AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository) {\n        this.abstractBaseRepository = abstractBaseRepository;\n    }\n    \n    @Override\n    public T save(T entity) {\n        return (T) abstractBaseRepository.save(entity);\n    }\n\n    @Override\n    public List&lt;T&gt; findAll() {\n        return abstractBaseRepository.findAll();\n    }\n\n    @Override\n    public Optional&lt;T&gt; findById(ID entityId) {\n        return abstractBaseRepository.findById(entityId);\n    }\n\n    @Override\n    public T update(T entity) {\n        return (T) abstractBaseRepository.save(entity);\n    }\n\n    @Override\n    public T updateById(T entity, ID entityId) {\n        Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\n        if(optional.isPresent()){\n            return (T) abstractBaseRepository.save(entity);\n        }else{\n            return null;\n        }\n    }\n\n    @Override\n    public void delete(T entity) {\n        abstractBaseRepository.delete(entity);\n    }\n\n    @Override\n    public void deleteById(ID entityId) {\n        abstractBaseRepository.deleteById(entityId);\n    }\n\n}\n</code></pre>\n<p>How to use the above abstract <code>entity</code>, <code>service</code>, <code>repository</code>, and <code>implementation</code>:</p>\n<p>Example here will be a <code>MyDomain</code> entity. Create a domain entity that extends the <code>AbstractBaseEntity</code> as follows:\nNB. <code>ID</code>, <code>createdAt</code>, <code>updatedAt</code>, <code>version</code>, etc will be automatically be included in the <code>MyDomain</code> entity from the <code>AbstractBaseEntity</code></p>\n<pre><code>@Entity\npublic class MyDomain extends AbstractBaseEntity{\n\n    private String attribute1;\n    private String attribute2;\n    // getters and setters\n}\n</code></pre>\n<p>Then create a <code>repository</code> for the <code>MyDomain</code> entity that extends the <code>AbstractBaseRepository</code> as follows:</p>\n<pre><code>@Repository\npublic interface MyDomainRepository extends AbstractBaseRepository&lt;MyDomain, Long&gt;{\n\n}\n</code></pre>\n<p>Also, Create a <code>service</code> interface for the <code>MyDomain</code> entity as follows:</p>\n<pre><code>public interface MyDomainService extends AbstractBaseService&lt;MyDomain, Long&gt;{\n\n}\n</code></pre>\n<p>Then provide an implementation for the <code>MyDomain</code> entity that extends the <code>AbstractBaseRepositoryImpl</code> implementation as follows:</p>\n<pre><code>@Service\n@Transactional\npublic class MyDomainServiceImpl extends AbstractBaseRepositoryImpl&lt;MyDomain, Long&gt; \n        implements MyDomainService{\n    private MyDomainRepository myDomainRepository;\n\n    public MyDomainServiceImpl(MyDomainRepository myDomainRepository) {\n        super(myDomainRepository);\n    }\n    // other specialized methods from the MyDomainService interface\n\n}\nNow use your `MyDomainService` service in your controller as follows: \n\n@RestController // or @Controller\n@CrossOrigin\n@RequestMapping(value = &quot;/&quot;)\npublic class MyDomainController {\n    \n    private final MyDomainService myDomainService;\n\n    @Autowired\n    public MyDomainController(MyDomainService myDomainService) {\n        this.myDomainService = myDomainService;\n    }\n   \n    @GetMapping\n    public List&lt;MyDomain&gt; getMyDomains(){\n        return myDomainService.findAll();\n    }   \n    // other controller methods\n\n}\n</code></pre>\n<p><strong>NB.</strong> Make sure that the <code>AbstractBaseRepository</code> is annotated with <code>@NoRepositoryBean</code> so that <code>JPA</code> does not try to find an implementation for the bean.\nAlso the <code>AbstractBaseServiceImpl</code> must be marked abstract, otherwise JPA will try to autowire all the children daos of the <code>AbstractBaseRepository</code> in the constructor of the class leading to a <code>NoUniqueBeanDefinitionException</code> since more than 1 daos (repository) will be injected when the bean is created!\nNow your <code>service</code>, <code>repository</code>, and <code>implementations</code> are more reusable. We all hate boilerplate!</p>\n<p>Hope this helps someone.</p>\n"},{"comments":[{"owner":{"account_id":16889976,"reputation":375,"user_id":12213891,"display_name":"Husniddin Muhammad Amin"},"score":0,"creation_date":1700631985,"post_id":75634646,"comment_id":136677031,"body_markdown":"Good jod bro! Thank you)","body":"Good jod bro! Thank you)"}],"tags":[],"owner":{"account_id":9365523,"reputation":330,"user_id":6950568,"accept_rate":83,"display_name":"ScottSummers"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677921316,"creation_date":1677920833,"answer_id":75634646,"question_id":19417670,"body_markdown":"I found an one more way to do this using one less class, inspired by @Jose Mhlanga&#39;s answer\r\n\r\nCreate a `BaseEntity`\r\n\r\n    @Getter\r\n    @Setter\r\n    @MappedSuperclass\r\n    public class BaseEntity {\r\n\t    @Id\r\n\t    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t    Long id;\r\n    }\r\n\r\nCreate a `BaseRepository`\r\n```\r\n@NoRepositoryBean\r\npublic interface BaseRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T, Long&gt; { }\r\n```\r\nFinally create a `BaseService` to complete the setup\r\n\r\n```\r\npublic interface BaseService&lt;T extends BaseEntity&gt; {\r\n\r\n\tBaseRepository&lt;T&gt; getRepository();\r\n\r\n\tdefault T create(T t) {\r\n\t\treturn getRepository().save(t);\r\n\t}\r\n\t\r\n\tdefault Optional&lt;T&gt; update(T t) {\r\n\t\tif (getRepository().existsById(t.getId())) {\r\n\t\t\treturn Optional.of(getRepository().save(t));\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\t\r\n\tdefault Optional&lt;T&gt; get(Long id) {\r\n\t\treturn getRepository().findById(id);\r\n\t}\r\n\t\r\n\tdefault List&lt;T&gt; getAll() {\r\n\t\treturn getRepository().findAll();\r\n\t}\r\n\t\r\n\tdefault void delete(Long id) {\r\n\t\tgetRepository().deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nNow we can start creating our entities. Let&#39;s say we have an entity called `Category`. We will create a model, repository, service and controller.\r\n\r\nThe entity and repository will look something like:\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\npublic class Category extends BaseEntity { String name; }\r\n\r\npublic interface CategoryRepository extends BaseRepository&lt;Category&gt; { }\r\n```\r\nFor service, we need to override only one method: `getRepository()`\r\n\r\n```\r\n@ApplicationScoped\r\npublic class CategoryService implements BaseService&lt;Category&gt; {\r\n\r\n\t@Inject\r\n\tCategoryRepository categoryRepository;\r\n\r\n\t@Override\r\n\tpublic BaseRepository&lt;Category&gt; getRepository() {\r\n\t\treturn categoryRepository;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nFinally, we create the controller. I haven&#39;t quite reached where I could create an abstraction for controller as well. Will edit this if I do.\r\n```\r\n@Path(&quot;categories&quot;)\r\n@ApplicationScoped\r\npublic class CategoryController {\r\n\r\n    // You can (and should!) use BaseService here.\r\n    // Omitting that part as that would need qualifier.\r\n\t@Inject\r\n\tCategoryService categoryService;\r\n\r\n\t@POST\r\n\tpublic Response create(Category category) {\r\n\t\treturn Response.status(Status.CREATED).entity(categoryService.create(category)).build();\r\n\t}\r\n\r\n\t@PUT\r\n\t@Path(&quot;{id}&quot;)\r\n\tpublic Response update(Category category, @PathParam(&quot;id&quot;) Long id) {\r\n\t\tif (Objects.isNull(category.getId()))\r\n\t\t\tcategory.setId(id);\r\n\t\treturn categoryService.update(category).map(i -&gt; Response.status(Status.ACCEPTED).entity(i).build())\r\n\t\t\t\t.orElseGet(() -&gt; Response.status(Status.NOT_FOUND).build());\r\n\t}\r\n\t\r\n\t@DELETE\r\n\t@Path(&quot;{id}&quot;)\r\n\tpublic Response delete(@PathParam(&quot;id&quot;) Long id) {\r\n\t\tcategoryService.delete(id);\r\n\t\treturn Response.status(Status.ACCEPTED).build();\r\n\t}\r\n\t\r\n\t@GET\r\n\t@Path(&quot;{id}&quot;)\r\n\tpublic Response get(@PathParam(&quot;id&quot;) Long id) {\r\n\t\treturn categoryService.get(id).map(i -&gt; Response.status(Status.OK).entity(i).build())\r\n\t\t\t\t.orElseGet(() -&gt; Response.status(Status.NO_CONTENT).build());\r\n\t}\r\n\t\r\n\t@GET\r\n\tpublic Response get() {\r\n\t\treturn Response.status(Status.OK).entity(categoryService.getAll()).build();\r\n\t}\r\n}\r\n```\r\n\r\nHope this helps. Cheers!","title":"Using generics in Spring Data JPA repositories","body":"<p>I found an one more way to do this using one less class, inspired by @Jose Mhlanga's answer</p>\n<p>Create a <code>BaseEntity</code></p>\n<pre><code>@Getter\n@Setter\n@MappedSuperclass\npublic class BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n}\n</code></pre>\n<p>Create a <code>BaseRepository</code></p>\n<pre><code>@NoRepositoryBean\npublic interface BaseRepository&lt;T extends BaseEntity&gt; extends JpaRepository&lt;T, Long&gt; { }\n</code></pre>\n<p>Finally create a <code>BaseService</code> to complete the setup</p>\n<pre><code>public interface BaseService&lt;T extends BaseEntity&gt; {\n\n    BaseRepository&lt;T&gt; getRepository();\n\n    default T create(T t) {\n        return getRepository().save(t);\n    }\n    \n    default Optional&lt;T&gt; update(T t) {\n        if (getRepository().existsById(t.getId())) {\n            return Optional.of(getRepository().save(t));\n        }\n        return Optional.empty();\n    }\n    \n    default Optional&lt;T&gt; get(Long id) {\n        return getRepository().findById(id);\n    }\n    \n    default List&lt;T&gt; getAll() {\n        return getRepository().findAll();\n    }\n    \n    default void delete(Long id) {\n        getRepository().deleteById(id);\n    }\n    \n}\n</code></pre>\n<p>Now we can start creating our entities. Let's say we have an entity called <code>Category</code>. We will create a model, repository, service and controller.</p>\n<p>The entity and repository will look something like:</p>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class Category extends BaseEntity { String name; }\n\npublic interface CategoryRepository extends BaseRepository&lt;Category&gt; { }\n</code></pre>\n<p>For service, we need to override only one method: <code>getRepository()</code></p>\n<pre><code>@ApplicationScoped\npublic class CategoryService implements BaseService&lt;Category&gt; {\n\n    @Inject\n    CategoryRepository categoryRepository;\n\n    @Override\n    public BaseRepository&lt;Category&gt; getRepository() {\n        return categoryRepository;\n    }\n\n}\n</code></pre>\n<p>Finally, we create the controller. I haven't quite reached where I could create an abstraction for controller as well. Will edit this if I do.</p>\n<pre><code>@Path(&quot;categories&quot;)\n@ApplicationScoped\npublic class CategoryController {\n\n    // You can (and should!) use BaseService here.\n    // Omitting that part as that would need qualifier.\n    @Inject\n    CategoryService categoryService;\n\n    @POST\n    public Response create(Category category) {\n        return Response.status(Status.CREATED).entity(categoryService.create(category)).build();\n    }\n\n    @PUT\n    @Path(&quot;{id}&quot;)\n    public Response update(Category category, @PathParam(&quot;id&quot;) Long id) {\n        if (Objects.isNull(category.getId()))\n            category.setId(id);\n        return categoryService.update(category).map(i -&gt; Response.status(Status.ACCEPTED).entity(i).build())\n                .orElseGet(() -&gt; Response.status(Status.NOT_FOUND).build());\n    }\n    \n    @DELETE\n    @Path(&quot;{id}&quot;)\n    public Response delete(@PathParam(&quot;id&quot;) Long id) {\n        categoryService.delete(id);\n        return Response.status(Status.ACCEPTED).build();\n    }\n    \n    @GET\n    @Path(&quot;{id}&quot;)\n    public Response get(@PathParam(&quot;id&quot;) Long id) {\n        return categoryService.get(id).map(i -&gt; Response.status(Status.OK).entity(i).build())\n                .orElseGet(() -&gt; Response.status(Status.NO_CONTENT).build());\n    }\n    \n    @GET\n    public Response get() {\n        return Response.status(Status.OK).entity(categoryService.getAll()).build();\n    }\n}\n</code></pre>\n<p>Hope this helps. Cheers!</p>\n"}],"owner":{"account_id":427076,"reputation":2255,"user_id":808655,"accept_rate":90,"display_name":"skyman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79019,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":19443031,"answer_count":4,"score":49,"last_activity_date":1677921316,"creation_date":1381980022,"question_id":19417670,"body_markdown":"I have a number of simple object types that need to be persisted to a database.  I am using Spring JPA to manage this persistence.  For each object type I need to build the following:\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface FacilityRepository extends JpaRepository&lt;Facility, Long&gt; {\r\n    }\r\n    \r\n    \r\n    public interface FacilityService {\r\n    \tpublic Facility create(Facility facility);\r\n    }\r\n    \r\n    @Service\r\n    public class FacilityServiceImpl implements FacilityService {\r\n    \r\n    \t@Resource\r\n    \tprivate FacilityRepository countryRepository;\r\n    \t\r\n    \t@Transactional\r\n    \tpublic Facility create(Facility facility) {\r\n    \t\tFacility created = facility;\r\n    \t\treturn facilityRepository.save(created);\r\n    \t}\r\n    }\r\n\r\nIt occurred to me that it may be possible to replace the multiple classes for each object type with three generics based classes, thus saving a lot of boilerplate coding.  I am not exactly sure how to go about it and in fact if it is a good idea?","title":"Using generics in Spring Data JPA repositories","body":"<p>I have a number of simple object types that need to be persisted to a database.  I am using Spring JPA to manage this persistence.  For each object type I need to build the following:</p>\n\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface FacilityRepository extends JpaRepository&lt;Facility, Long&gt; {\n}\n\n\npublic interface FacilityService {\n    public Facility create(Facility facility);\n}\n\n@Service\npublic class FacilityServiceImpl implements FacilityService {\n\n    @Resource\n    private FacilityRepository countryRepository;\n\n    @Transactional\n    public Facility create(Facility facility) {\n        Facility created = facility;\n        return facilityRepository.save(created);\n    }\n}\n</code></pre>\n\n<p>It occurred to me that it may be possible to replace the multiple classes for each object type with three generics based classes, thus saving a lot of boilerplate coding.  I am not exactly sure how to go about it and in fact if it is a good idea?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1677627834,"post_id":75598334,"comment_id":133374945,"body_markdown":"timestamp.toLocalDateTime().toLocalDate() ?  just a guess, I have not tried it.","body":"timestamp.toLocalDateTime().toLocalDate() ?  just a guess, I have not tried it."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677628564,"post_id":75598334,"comment_id":133375046,"body_markdown":"@undefinedsymbol that&#39;s the right general idea, but it would always round downwards.  So you&#39;ll need to add 12 hours, somewhere along the way.  Oh, and you can do the same thing with the `truncatedTo` method.","body":"@undefinedsymbol that&#39;s the right general idea, but it would always round downwards.  So you&#39;ll need to add 12 hours, somewhere along the way.  Oh, and you can do the same thing with the <code>truncatedTo</code> method."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1677635244,"post_id":75598334,"comment_id":133375952,"body_markdown":"Do you really need to use Timestamp?","body":"Do you really need to use Timestamp?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1677639307,"post_id":75598334,"comment_id":133376443,"body_markdown":"@DawoodIbnKareem dangerously bad advice, you can&#39;t treat date/times with that cavalier attitude, you get bugs that tests don&#39;t catch. Trivial example: On half of all daylight savings switchover days, &#39;add 12 hours then round&#39; is __WRONG__ for about half an hour.","body":"@DawoodIbnKareem dangerously bad advice, you can&#39;t treat date/times with that cavalier attitude, you get bugs that tests don&#39;t catch. Trivial example: On half of all daylight savings switchover days, &#39;add 12 hours then round&#39; is <b>WRONG</b> for about half an hour."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677639885,"post_id":75598334,"comment_id":133376516,"body_markdown":"Well, that depends what you mean by &quot;wrong&quot;.  I guess OP needs to decide whether they want the cutover to always happen at 12:00pm, or whether they want the cutover to happen halfway between midnight today and midnight tomorrow.","body":"Well, that depends what you mean by &quot;wrong&quot;.  I guess OP needs to decide whether they want the cutover to always happen at 12:00pm, or whether they want the cutover to happen halfway between midnight today and midnight tomorrow."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677639897,"post_id":75598334,"comment_id":133376519,"body_markdown":"By what time zone do you want to determine the date? For any given moment, the date varies around the globe by time zone. (I&#39;m voting to close for lack of details.)","body":"By what time zone do you want to determine the date? For any given moment, the date varies around the globe by time zone. (I&#39;m voting to close for lack of details.)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677639999,"post_id":75598334,"comment_id":133376535,"body_markdown":"@DawoodibnKareem Unfortunately, the OP has not detailed their requirements. So we cannot answer this Question precisely. I suggest voting to close.","body":"@DawoodibnKareem Unfortunately, the OP has not detailed their requirements. So we cannot answer this Question precisely. I suggest voting to close."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677640059,"post_id":75598334,"comment_id":133376543,"body_markdown":"FYI… The `java.sql.Timestamp` class is one of the terrible legacy date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"FYI… The <code>java.sql.Timestamp</code> class is one of the terrible legacy date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677640089,"post_id":75598334,"comment_id":133376549,"body_markdown":"@BasilBourque or you could write an answer that makes your assumptions clear - like whether they mean &quot;nearest UTC day&quot; or &quot;nearest local day&quot;, and how they want to handle the dates when daylight savings starts and ends.","body":"@BasilBourque or you could write an answer that makes your assumptions clear - like whether they mean &quot;nearest UTC day&quot; or &quot;nearest local day&quot;, and how they want to handle the dates when daylight savings starts and ends."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1677639387,"post_id":75598877,"comment_id":133376453,"body_markdown":"This doesn&#39;t work - it conflates human reckoning with computer reckoning. Instants don&#39;t do days. Period (heh), days are a human concept. First convert to some appropriate human reckoning type (LocalDateTime or ZonedDateTime seem appropriate here), and then do the human math (such as &#39;round to nearest day&#39;) from there.","body":"This doesn&#39;t work - it conflates human reckoning with computer reckoning. Instants don&#39;t do days. Period (heh), days are a human concept. First convert to some appropriate human reckoning type (LocalDateTime or ZonedDateTime seem appropriate here), and then do the human math (such as &#39;round to nearest day&#39;) from there."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677666761,"post_id":75598877,"comment_id":133381460,"body_markdown":"*Instants don&#39;t do days* If that assertion is correct, then there&#39;s no hope as the &#39;ur datum&#39; ( `Timestamp`) is already an &#39;instant&#39; and moving that into some other form of &quot;human reckoning type&quot; isn&#39;t going to help.","body":"<i>Instants don&#39;t do days</i> If that assertion is correct, then there&#39;s no hope as the &#39;ur datum&#39; ( <code>Timestamp</code>) is already an &#39;instant&#39; and moving that into some other form of &quot;human reckoning type&quot; isn&#39;t going to help."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677673772,"post_id":75598877,"comment_id":133383424,"body_markdown":"It does help - the missing information (which time zone) can then be added. At the very least the code makes clear that timestamp info is coming from A and timezone is coming from B and here they are being explicitly mixed together (at `.atZone(theZone)`.","body":"It does help - the missing information (which time zone) can then be added. At the very least the code makes clear that timestamp info is coming from A and timezone is coming from B and here they are being explicitly mixed together (at <code>.atZone(theZone)</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677676166,"post_id":75598877,"comment_id":133384230,"body_markdown":"I might be missing something but I don&#39;t see timezones mentioned at all.","body":"I might be missing something but I don&#39;t see timezones mentioned at all."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677920362,"post_id":75598877,"comment_id":133435584,"body_markdown":"@g00se Although `java.sql.Timestamp` is built on `java.util.Date`, and so *in theory* it is a instant-like thing, in practice given the definition in JDBC that it matches the datetime as stored in the database using the default local JVM timezone, it is in fact a rather floating definition and more like a local datetime. For example, retrieving a (timezone-less) `TIMESTAMP` value of 2023-03-03 23:50 with JVMs in different timezones will produces different instants and dates between 2023-03-03 and 2023-03-04 if derived from the instant, but they all have the same local time value.","body":"@g00se Although <code>java.sql.Timestamp</code> is built on <code>java.util.Date</code>, and so <i>in theory</i> it is a instant-like thing, in practice given the definition in JDBC that it matches the datetime as stored in the database using the default local JVM timezone, it is in fact a rather floating definition and more like a local datetime. For example, retrieving a (timezone-less) <code>TIMESTAMP</code> value of 2023-03-03 23:50 with JVMs in different timezones will produces different instants and dates between 2023-03-03 and 2023-03-04 if derived from the instant, but they all have the same local time value."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677924830,"post_id":75598877,"comment_id":133436168,"body_markdown":"@MarkRotteveel *For example, retrieving a (timezone-less) TIMESTAMP value of 2023-03-03 23:50 with JVMs in different timezones will produces different instants and dates between 2023-03-03 and 2023-03-04 if derived from the instant* Yes, but that&#39;s in the nature of an instant measured from the epoch itself isn&#39;t it? I&#39;d be interested to see any source documentation on *given the definition in JDBC that it matches the datetime as stored in the database using the default local JVM timezone* (though I&#39;m not quite sure what you mean there)","body":"@MarkRotteveel <i>For example, retrieving a (timezone-less) TIMESTAMP value of 2023-03-03 23:50 with JVMs in different timezones will produces different instants and dates between 2023-03-03 and 2023-03-04 if derived from the instant</i> Yes, but that&#39;s in the nature of an instant measured from the epoch itself isn&#39;t it? I&#39;d be interested to see any source documentation on <i>given the definition in JDBC that it matches the datetime as stored in the database using the default local JVM timezone</i> (though I&#39;m not quite sure what you mean there)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1677925328,"post_id":75598877,"comment_id":133436229,"body_markdown":"I mean that if you have a database with a SQL `TIMESTAMP` 2023-03-03 23:50 and you retrieve it in a JVM with default time zone Europe/Amsterdam, you get an instant equivalent of 2023-03-03 22:50 UTC, with Europe/London, you get 2023-03-03 23:50 UTC, with America/New_York, you get 2023-03-04 04:50 UTC from the same value. The definition in JDBC is not explicit (the closest you&#39;ll get is a statement in `PreparedStatement.setTimestamp(int, Calendar)`: _&quot;If no Calendar object is specified, the driver uses the default timezone, which is that of the virtual machine running the application.&quot;_","body":"I mean that if you have a database with a SQL <code>TIMESTAMP</code> 2023-03-03 23:50 and you retrieve it in a JVM with default time zone Europe/Amsterdam, you get an instant equivalent of 2023-03-03 22:50 UTC, with Europe/London, you get 2023-03-03 23:50 UTC, with America/New_York, you get 2023-03-04 04:50 UTC from the same value. The definition in JDBC is not explicit (the closest you&#39;ll get is a statement in <code>PreparedStatement.setTimestamp(int, Calendar)</code>: <i>&quot;If no Calendar object is specified, the driver uses the default timezone, which is that of the virtual machine running the application.&quot;</i>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677925343,"post_id":75598877,"comment_id":133436230,"body_markdown":"The behaviour of `java.sql.Timestamp.parse(String)` also suggests this. See also [my answer here](https://stackoverflow.com/a/14070771/466862)","body":"The behaviour of <code>java.sql.Timestamp.parse(String)</code> also suggests this. See also <a href=\"https://stackoverflow.com/a/14070771/466862\">my answer here</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677926590,"post_id":75598877,"comment_id":133436354,"body_markdown":"I think if I have the time, I&#39;ll do some experiments with this. e.g. if I have, let&#39;s say, a MySql `timestamp` column, what you&#39;re saying is that `ResultSet.getTimestamp` is going to produce a different value based on the value of `user.timezone`?","body":"I think if I have the time, I&#39;ll do some experiments with this. e.g. if I have, let&#39;s say, a MySql <code>timestamp</code> column, what you&#39;re saying is that <code>ResultSet.getTimestamp</code> is going to produce a different value based on the value of <code>user.timezone</code>?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677955678,"post_id":75598877,"comment_id":133440971,"body_markdown":"@g00se It has to. After all, `j.s.Timestamp`&#39;s fields represent millis-since-epoch __and that is all__ (well, an int field with nanos, which doesn&#39;t change what it represents). No timezone field. So, if the DBN is storing y/m/d/h/m/s info, and you read that into a `j.s.Timestamp` object, somebody (DB, or JDBC) __must have__ a timezone to go from one to the other.","body":"@g00se It has to. After all, <code>j.s.Timestamp</code>&#39;s fields represent millis-since-epoch <b>and that is all</b> (well, an int field with nanos, which doesn&#39;t change what it represents). No timezone field. So, if the DBN is storing y/m/d/h/m/s info, and you read that into a <code>j.s.Timestamp</code> object, somebody (DB, or JDBC) <b>must have</b> a timezone to go from one to the other."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677955746,"post_id":75598877,"comment_id":133440981,"body_markdown":"This is why `.getTimestamp` should be __banned__ in your linting tools. `.getObject()` with the right j.t type is how to do it. Even if truly it really is a millis-since-epoch (`java.time.Instant`-esque) thing - still better to do `.getObject(idx/colName, Instant.class)` and thus alleviate the considerable baggage that `.getTimestamp` brings to the table.","body":"This is why <code>.getTimestamp</code> should be <b>banned</b> in your linting tools. <code>.getObject()</code> with the right j.t type is how to do it. Even if truly it really is a millis-since-epoch (<code>java.time.Instant</code>-esque) thing - still better to do <code>.getObject(idx&#47;colName, Instant.class)</code> and thus alleviate the considerable baggage that <code>.getTimestamp</code> brings to the table."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678008146,"post_id":75598877,"comment_id":133446853,"body_markdown":"Yes I&#39;m beginning to see how this &#39;extra processing&#39; is in reality potentially problematic. Of course we need to consider what happened on the insert too. Have you written up a &#39;best practice&#39; anywhere btw?","body":"Yes I&#39;m beginning to see how this &#39;extra processing&#39; is in reality potentially problematic. Of course we need to consider what happened on the insert too. Have you written up a &#39;best practice&#39; anywhere btw?"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":12,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677635051,"creation_date":1677635051,"answer_id":75598877,"question_id":75598334,"body_markdown":"I think this might be the sort of thing you&#39;re after for rounding to the nearest day:\r\n\r\n    import java.sql.Timestamp;\r\n    import java.time.*;\r\n    import java.time.temporal.*;\r\n    \r\n    public class SqlTimestamp {\r\n    \r\n        public static void main(String... strings) {\r\n            Timestamp[] timestamps = {\r\n                    Timestamp.valueOf(&quot;2023-02-19 00:00:00.000000000&quot;),\r\n                    Timestamp.valueOf(&quot;2023-02-25 23:59:59.999999999&quot;),\r\n                    Timestamp.valueOf(&quot;2023-02-25 11:00:00.000000000&quot;),\r\n                    Timestamp.valueOf(&quot;2023-02-25 12:29:00.000000000&quot;),\r\n                    Timestamp.valueOf(&quot;2023-02-25 12:30:00.000000000&quot;),\r\n                    Timestamp.valueOf(&quot;2023-02-25 12:29:59.999999999&quot;)\r\n            };\r\n    \r\n            for (int i = 0; i &lt; timestamps.length; i++) {\r\n                Instant inst = Instant.ofEpochMilli(timestamps[i].getTime());\r\n                Instant startDay = inst.truncatedTo(ChronoUnit.DAYS);\r\n                Instant nextDay = startDay.plus(1, ChronoUnit.DAYS);\r\n                Instant roundValue = nextDay;\r\n                if (inst.toEpochMilli() - startDay.toEpochMilli() &lt; nextDay.toEpochMilli() - inst.toEpochMilli()) {\r\n                    roundValue = startDay;\r\n                }\r\n                System.out.printf(&quot;Start: %s, next: %s. Instant %s rounds to %s%n&quot;, startDay, nextDay, inst, roundValue);\r\n            }\r\n        }\r\n    }","title":"How to round a java.sql.Timestamp to nearest day?","body":"<p>I think this might be the sort of thing you're after for rounding to the nearest day:</p>\n<pre><code>import java.sql.Timestamp;\nimport java.time.*;\nimport java.time.temporal.*;\n\npublic class SqlTimestamp {\n\n    public static void main(String... strings) {\n        Timestamp[] timestamps = {\n                Timestamp.valueOf(&quot;2023-02-19 00:00:00.000000000&quot;),\n                Timestamp.valueOf(&quot;2023-02-25 23:59:59.999999999&quot;),\n                Timestamp.valueOf(&quot;2023-02-25 11:00:00.000000000&quot;),\n                Timestamp.valueOf(&quot;2023-02-25 12:29:00.000000000&quot;),\n                Timestamp.valueOf(&quot;2023-02-25 12:30:00.000000000&quot;),\n                Timestamp.valueOf(&quot;2023-02-25 12:29:59.999999999&quot;)\n        };\n\n        for (int i = 0; i &lt; timestamps.length; i++) {\n            Instant inst = Instant.ofEpochMilli(timestamps[i].getTime());\n            Instant startDay = inst.truncatedTo(ChronoUnit.DAYS);\n            Instant nextDay = startDay.plus(1, ChronoUnit.DAYS);\n            Instant roundValue = nextDay;\n            if (inst.toEpochMilli() - startDay.toEpochMilli() &lt; nextDay.toEpochMilli() - inst.toEpochMilli()) {\n                roundValue = startDay;\n            }\n            System.out.printf(&quot;Start: %s, next: %s. Instant %s rounds to %s%n&quot;, startDay, nextDay, inst, roundValue);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677640167,"post_id":75599243,"comment_id":133376558,"body_markdown":"Haha, did you just post an answer that&#39;s equivalent to what you described in a comment as &quot;dangerously bad advice&quot;?  (Upvoted for making me smile)","body":"Haha, did you just post an answer that&#39;s equivalent to what you described in a comment as &quot;dangerously bad advice&quot;?  (Upvoted for making me smile)"},{"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"score":0,"creation_date":1677707117,"post_id":75599243,"comment_id":133393582,"body_markdown":"good point about the daylight savings .. As it so happens the app makes the assumption that all time is in UTC thus did not mention it.","body":"good point about the daylight savings .. As it so happens the app makes the assumption that all time is in UTC thus did not mention it."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1677713499,"post_id":75599243,"comment_id":133394823,"body_markdown":"@Oxnard If you add that to the question - i.e., that all the timestamps are UTC, and that you&#39;re interested only in the closest UTC date, rounding down before 12:00 UTC and up after 12:00 UTC - then it will remove the ambiguities that have stopped people from answering, and your question might get reopened.  If that happens, it&#39;s possible you&#39;ll get an answer using `Instant` instead of `LocalDate` and `LocalDateTime`, which is (in my opinion) the correct approach when everything&#39;s UTC.","body":"@Oxnard If you add that to the question - i.e., that all the timestamps are UTC, and that you&#39;re interested only in the closest UTC date, rounding down before 12:00 UTC and up after 12:00 UTC - then it will remove the ambiguities that have stopped people from answering, and your question might get reopened.  If that happens, it&#39;s possible you&#39;ll get an answer using <code>Instant</code> instead of <code>LocalDate</code> and <code>LocalDateTime</code>, which is (in my opinion) the correct approach when everything&#39;s UTC."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677920053,"post_id":75599243,"comment_id":133435557,"body_markdown":"There is no JDBC v5 specification. The latest JDBC specification is JDBC 4.3.","body":"There is no JDBC v5 specification. The latest JDBC specification is JDBC 4.3."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677944151,"post_id":75599243,"comment_id":133438911,"body_markdown":"Good catch, @MarkRotteveel - turns out I&#39;m misremembering; it&#39;s JDBCv4 spec (or was it v4.2?) that requires java.time types to be supported in `.getObject()`.","body":"Good catch, @MarkRotteveel - turns out I&#39;m misremembering; it&#39;s JDBCv4 spec (or was it v4.2?) that requires java.time types to be supported in <code>.getObject()</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677952134,"post_id":75599243,"comment_id":133440344,"body_markdown":"The `java.time` support was introduced with JDBC 4.2 (together with Java 8).","body":"The <code>java.time</code> support was introduced with JDBC 4.2 (together with Java 8)."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677640076,"creation_date":1677640076,"answer_id":75599243,"question_id":75598334,"body_markdown":"The central problem is this: A `java.sql.Timestamp` object represents an instant in time without timezone information.\r\n\r\nMeaning, what you want is __utterly impossible__ - your timestamp object just tracks a moment in time, and at some moment in time, it was January 5th 2022 in one locale, and january 6th in another. &#39;some moment in time&#39; doesn&#39;t translate to a date. Not without localizing it to some timezone.\r\n\r\nGiven that it is `java.sql.Timestamp`, 2 things seem obvious:\r\n\r\n* You got this from a database.\r\n* Likely that database represents some date/time reckoning where &#39;round to the nearest day even makes sense&#39; (TIMESTAMP WITHOUT TIME ZONE certainly would not!!), and you used `.getTimestamp()` to get this value, which is _incorrect_ - that&#39;s a common mistake, because the entire `java.util.Date` hierarchy of classes are all incorrect and badly named (for example, Date represents a moment in time and not a date at all. Simply read the deprecated notice on e.g. `.getYear()` for some proof).\r\n\r\nThis means what you need to really do is read the data out of the database properly. `getDate` and `getTimestamp` are all obsolete methods you should never use - because the types they return are broken. The right call is something like `.getObject(idx, LocalDate.class)`, or `.getObject(idx, ZonedDateTime.class)`. The JDBC spec (v5) guarantees that this will work, but best thing to do here is to check what your database types actually are, read up on what they actually represent, then pick the right type from the `java.time` package, then try it to confirm this works.\r\n\r\nIf for some reason you&#39;re stuck with legacy code, then know that political timezone changes are GOING to happen and WILL break stuff (such as the most recent JDKs dropping pre-1970s support in the timezone files because tzdata project decided to do that, or countries simply switching timezones.. Which all of mainland europe is going to soon, so this isn&#39;t some &#39;yeah yeah never gonna happen&#39; hypothetical!)  - be prepare for weirdo errors where all of a sudden your &#39;nearest date&#39; rounder starts rounding 11:20 in the morning up when you expected it to round down, that sort of thing.\r\n\r\nNevertheless, best to write as clean as you can, so, take your obsolete instant in time and turn it into the non-obsolete data type to represent instants in time, and from there, do your conversions:\r\n\r\n```\r\nInstant i = timestamp.toInstant(); // move away from obsolete types\r\nZonedDateTime zdt = i.atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;);\r\n\r\n// you&#39;ll need to know what the timezone is that is represented\r\n// with the timestamp, as the timestamp type doesn&#39;t know.\r\n// That, or, do as I said and avoid java.sql.Timestamp in the first place.\r\n\r\nLocalDateTime ldt = zdt.toLocalDateTime();\r\n\r\n// now, what does &#39;round&#39; mean? Days do not neccessarily have 24 hours.\r\n// They can have 23, 25, or in rare cases, even weirder values.\r\n// Perhaps it is more sensible to say, 12 noon and up rounds up,\r\n// instead of going for e.g. 11:30 or 12:30 on daylight savings switch days.\r\n\r\nLocalDate answer = ldt.toLocalDate();\r\nif (ldt.getHour() &gt; 11) answer = answer.plusDays(1);\r\nreturn answer;\r\n```\r\n\r\nIf you actually want &#39;nearest&#39;, even though that is kinda weird, there is no baked in method to do this. Remaining in `ZonedDateTime` land, truncate to the nearest day, add a day, take the average between the two, then check whether you&#39;re past this midpoint or not to know if you need to add a day.\r\n","title":"How to round a java.sql.Timestamp to nearest day?","body":"<p>The central problem is this: A <code>java.sql.Timestamp</code> object represents an instant in time without timezone information.</p>\n<p>Meaning, what you want is <strong>utterly impossible</strong> - your timestamp object just tracks a moment in time, and at some moment in time, it was January 5th 2022 in one locale, and january 6th in another. 'some moment in time' doesn't translate to a date. Not without localizing it to some timezone.</p>\n<p>Given that it is <code>java.sql.Timestamp</code>, 2 things seem obvious:</p>\n<ul>\n<li>You got this from a database.</li>\n<li>Likely that database represents some date/time reckoning where 'round to the nearest day even makes sense' (TIMESTAMP WITHOUT TIME ZONE certainly would not!!), and you used <code>.getTimestamp()</code> to get this value, which is <em>incorrect</em> - that's a common mistake, because the entire <code>java.util.Date</code> hierarchy of classes are all incorrect and badly named (for example, Date represents a moment in time and not a date at all. Simply read the deprecated notice on e.g. <code>.getYear()</code> for some proof).</li>\n</ul>\n<p>This means what you need to really do is read the data out of the database properly. <code>getDate</code> and <code>getTimestamp</code> are all obsolete methods you should never use - because the types they return are broken. The right call is something like <code>.getObject(idx, LocalDate.class)</code>, or <code>.getObject(idx, ZonedDateTime.class)</code>. The JDBC spec (v5) guarantees that this will work, but best thing to do here is to check what your database types actually are, read up on what they actually represent, then pick the right type from the <code>java.time</code> package, then try it to confirm this works.</p>\n<p>If for some reason you're stuck with legacy code, then know that political timezone changes are GOING to happen and WILL break stuff (such as the most recent JDKs dropping pre-1970s support in the timezone files because tzdata project decided to do that, or countries simply switching timezones.. Which all of mainland europe is going to soon, so this isn't some 'yeah yeah never gonna happen' hypothetical!)  - be prepare for weirdo errors where all of a sudden your 'nearest date' rounder starts rounding 11:20 in the morning up when you expected it to round down, that sort of thing.</p>\n<p>Nevertheless, best to write as clean as you can, so, take your obsolete instant in time and turn it into the non-obsolete data type to represent instants in time, and from there, do your conversions:</p>\n<pre><code>Instant i = timestamp.toInstant(); // move away from obsolete types\nZonedDateTime zdt = i.atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;);\n\n// you'll need to know what the timezone is that is represented\n// with the timestamp, as the timestamp type doesn't know.\n// That, or, do as I said and avoid java.sql.Timestamp in the first place.\n\nLocalDateTime ldt = zdt.toLocalDateTime();\n\n// now, what does 'round' mean? Days do not neccessarily have 24 hours.\n// They can have 23, 25, or in rare cases, even weirder values.\n// Perhaps it is more sensible to say, 12 noon and up rounds up,\n// instead of going for e.g. 11:30 or 12:30 on daylight savings switch days.\n\nLocalDate answer = ldt.toLocalDate();\nif (ldt.getHour() &gt; 11) answer = answer.plusDays(1);\nreturn answer;\n</code></pre>\n<p>If you actually want 'nearest', even though that is kinda weird, there is no baked in method to do this. Remaining in <code>ZonedDateTime</code> land, truncate to the nearest day, add a day, take the average between the two, then check whether you're past this midpoint or not to know if you need to add a day.</p>\n"}],"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1677678924,"answer_count":2,"score":-2,"last_activity_date":1677920586,"creation_date":1677627489,"question_id":75598334,"body_markdown":"I&#39;m trying to round a java.sql.Timestamp to the nearest day. All the timestamps are in UTC time.\r\n\r\nAt this location &lt;https://stackoverflow.com/a/60100403/9745488&gt;, I saw a way to get to the hour, but I can&#39;t seem to figure it out.\r\n\r\nThe 1800000 seems to be 30 minutes in milliseconds, so for me 12 hours would be 43200000ms. The 60000 * 60 would seem to be 1 hour in milliseconds. I tried doing (60000*60*24), but the results just don&#39;t come out right. How to do this rounding?\r\n\r\n```java\r\npublic class SqlTimestamp {\r\n \r\n public static void main(String...strings) {\r\n  Timestamp[] timestamps = {\r\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-19 00:00:00.000000000&quot;).getTime()),\r\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 23:59:59.999999999&quot;).getTime()),\r\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:00:00.000000000&quot;).getTime()),\r\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:29:00.000000000&quot;).getTime()),\r\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:30:00.000000000&quot;).getTime()),\r\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:29:59.999999999&quot;).getTime()),\r\n  };\r\n  \r\n  for(int i = 0; i &lt; timestamps.length; i++) {\r\n   System.out.println(&quot;Original timestamp value=&quot; + timestamps[i].toString());\r\n   System.out.println(&quot;round to nearest hour=&quot; +   Timestamp.from(Instant.ofEpochMilli(((timestamps[i].getTime()+1800000)/(60000*60))*(60000*60)))   );\r\n   \r\n   System.out.println(&quot;round to nearest day=&quot; +   Timestamp.from(Instant.ofEpochMilli((((timestamps[i].getTime()+43200000)/(60000*60*24))*(60000*60*24))   )  )    );\r\n  }\r\n```\r\n","title":"How to round a java.sql.Timestamp to nearest day?","body":"<p>I'm trying to round a java.sql.Timestamp to the nearest day. All the timestamps are in UTC time.</p>\n<p>At this location <a href=\"https://stackoverflow.com/a/60100403/9745488\">https://stackoverflow.com/a/60100403/9745488</a>, I saw a way to get to the hour, but I can't seem to figure it out.</p>\n<p>The 1800000 seems to be 30 minutes in milliseconds, so for me 12 hours would be 43200000ms. The 60000 * 60 would seem to be 1 hour in milliseconds. I tried doing (60000<em>60</em>24), but the results just don't come out right. How to do this rounding?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SqlTimestamp {\n \n public static void main(String...strings) {\n  Timestamp[] timestamps = {\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-19 00:00:00.000000000&quot;).getTime()),\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 23:59:59.999999999&quot;).getTime()),\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:00:00.000000000&quot;).getTime()),\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:29:00.000000000&quot;).getTime()),\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:30:00.000000000&quot;).getTime()),\n    new Timestamp(Timestamp.valueOf(&quot;2023-02-25 12:29:59.999999999&quot;).getTime()),\n  };\n  \n  for(int i = 0; i &lt; timestamps.length; i++) {\n   System.out.println(&quot;Original timestamp value=&quot; + timestamps[i].toString());\n   System.out.println(&quot;round to nearest hour=&quot; +   Timestamp.from(Instant.ofEpochMilli(((timestamps[i].getTime()+1800000)/(60000*60))*(60000*60)))   );\n   \n   System.out.println(&quot;round to nearest day=&quot; +   Timestamp.from(Instant.ofEpochMilli((((timestamps[i].getTime()+43200000)/(60000*60*24))*(60000*60*24))   )  )    );\n  }\n</code></pre>\n"},{"tags":["java","maven","tomcat"],"comments":[{"owner":{"account_id":13482967,"reputation":59,"user_id":9727669,"display_name":"SantiMar"},"score":0,"creation_date":1606674018,"post_id":60906948,"comment_id":115025825,"body_markdown":"were you able to solve this? i&#39;m having the same problem","body":"were you able to solve this? i&#39;m having the same problem"}],"answers":[{"comments":[{"owner":{"account_id":13300676,"reputation":99,"user_id":9602278,"display_name":"aayoustic"},"score":0,"creation_date":1664275801,"post_id":67964525,"comment_id":130429125,"body_markdown":"Hus Mukh - Tried this but still facing the same issue. Is there any additional dependency that needs to be injected or any additional configuration that you did?","body":"Hus Mukh - Tried this but still facing the same issue. Is there any additional dependency that needs to be injected or any additional configuration that you did?"}],"tags":[],"owner":{"account_id":435735,"reputation":125,"user_id":3534982,"display_name":"Hus Mukh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623641734,"creation_date":1623641734,"answer_id":67964525,"question_id":60906948,"body_markdown":"If you are using java 11 then you must receive this erorr as no more JAXB(  javax.xml.bind does not exist any more in java 11)\r\n\r\nAdd below dependencies in your pom file to resolve this.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"ClassNotFoundException: javax.jws.WebService","body":"<p>If you are using java 11 then you must receive this erorr as no more JAXB(  javax.xml.bind does not exist any more in java 11)</p>\n<p>Add below dependencies in your pom file to resolve this.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18622939,"reputation":19,"user_id":13572670,"display_name":"Grzegorz_Koroluk"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671022187,"creation_date":1671022187,"answer_id":74798572,"question_id":60906948,"body_markdown":"I had the same problem and changed in IDE used Java version from 11 to 8, plus set my Maven to 3.3.9 and &quot;ClassNotFoundException: javax.jws.WebService&quot; problem was solved for me.","title":"ClassNotFoundException: javax.jws.WebService","body":"<p>I had the same problem and changed in IDE used Java version from 11 to 8, plus set my Maven to 3.3.9 and &quot;ClassNotFoundException: javax.jws.WebService&quot; problem was solved for me.</p>\n"},{"tags":[],"owner":{"account_id":15593636,"reputation":11,"user_id":11249833,"display_name":"Andres Kangur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677919100,"creation_date":1677919100,"answer_id":75634528,"question_id":60906948,"body_markdown":"This JAR solved similar issue for me.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"ClassNotFoundException: javax.jws.WebService","body":"<p>This JAR solved similar issue for me.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.jws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16095880,"reputation":71,"user_id":11618066,"display_name":"Michal S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12147,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1677919100,"creation_date":1585429236,"question_id":60906948,"body_markdown":"I&#39;m trying to deploy a simple java servlet to Tomcat, one that consumes a web-service which is deployed to same Tomcat on localhost. I&#39;m working with a Maven project in Netbeans.\r\n\r\nThe servlet imports the following classes:\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.xml.ws.WebServiceRef;\r\n\r\nI&#39;m able to deploy the generated war file to Tomcat, but i fail to start the application with the following errors in catalina.out:\r\n\r\n```\r\n    28-Mar-2020 20:57:12.769 SEVERE [http-nio-8080-exec-93] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [/opt/tomcat/apache-tomcat-9.0.31/webapps/CalculatorWebServiceClient.war]\r\n                        java.lang.IllegalStateException: Error starting child\r\n                                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\r\n                                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n                                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n                                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)\r\n                                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:493)\r\n                                at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1642)\r\n                                at jdk.internal.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)\r\n                                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                                at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n                                at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n                                at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\r\n                                at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n                                at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1590)\r\n                                at org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:294)\r\n                                at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:212)\r\n                                at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n                                at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n                ...\r\n                  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/CalculatorWebServiceClient]]\r\n                                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n                                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n                                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\r\n                                ... 43 more\r\n                        Caused by: java.lang.TypeNotPresentException: Type javax.jws.WebService not present\r\n                                at java.base/sun.reflect.annotation.TypeNotPresentExceptionProxy.generateException(TypeNotPresentExceptionProxy.java:46)\r\n                                at java.base/sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:86)\r\n                                at com.sun.proxy.$Proxy2.value(Unknown Source)\r\n                                at org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1699)\r\n                                at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1137)\r\n                                at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:774)\r\n                                at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:301)\r\n                                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n                                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5051)\r\n                                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n                                ... 44 more\r\n                        Caused by: java.lang.ClassNotFoundException: javax.jws.WebService\r\n                                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1365)\r\n                                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1188)\r\n                                at java.base/java.lang.Class.forName0(Native Method)\r\n                                at java.base/java.lang.Class.forName(Class.java:398)\r\n                                at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\r\n```\r\n\r\nI have noticed the *ClassNotFoundException: javax.jws.WebService* in the log file and edited the pom.xml file to include:\r\n\r\n``javax.xml.ws.jaxws-api.2.3.1`` and also its compile dependencies as found per [https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.3.1/][1]:\r\n\r\n```\r\njavax.annotation.javax.annotation-api.1.3.2\r\njavax.xml.bind.jaxb-api.2.3.1\r\njavax.xml.soap.javax.xml.soap-api.1.4.0\r\n```\r\nWhen inspecting the project directory i can see that the correspondig libraries are present in WEB-INF/lib directory. \r\n\r\nEven after this I keep getting the same error message and cannot start the application.\r\nCould somebody tell me what i&#39;m missing here?\r\n\r\nKind regards,\r\nMichal","title":"ClassNotFoundException: javax.jws.WebService","body":"<p>I'm trying to deploy a simple java servlet to Tomcat, one that consumes a web-service which is deployed to same Tomcat on localhost. I'm working with a Maven project in Netbeans.</p>\n\n<p>The servlet imports the following classes:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.xml.ws.WebServiceRef;\n</code></pre>\n\n<p>I'm able to deploy the generated war file to Tomcat, but i fail to start the application with the following errors in catalina.out:</p>\n\n<pre><code>    28-Mar-2020 20:57:12.769 SEVERE [http-nio-8080-exec-93] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [/opt/tomcat/apache-tomcat-9.0.31/webapps/CalculatorWebServiceClient.war]\n                        java.lang.IllegalStateException: Error starting child\n                                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:720)\n                                at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n                                at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n                                at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:978)\n                                at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:493)\n                                at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1642)\n                                at jdk.internal.reflect.GeneratedMethodAccessor66.invoke(Unknown Source)\n                                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                                at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n                                at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n                                at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n                                at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n                                at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1590)\n                                at org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:294)\n                                at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:212)\n                                at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n                                at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n                ...\n                  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/CalculatorWebServiceClient]]\n                                at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n                                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n                                at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:717)\n                                ... 43 more\n                        Caused by: java.lang.TypeNotPresentException: Type javax.jws.WebService not present\n                                at java.base/sun.reflect.annotation.TypeNotPresentExceptionProxy.generateException(TypeNotPresentExceptionProxy.java:46)\n                                at java.base/sun.reflect.annotation.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:86)\n                                at com.sun.proxy.$Proxy2.value(Unknown Source)\n                                at org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1699)\n                                at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1137)\n                                at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:774)\n                                at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:301)\n                                at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n                                at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5051)\n                                at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n                                ... 44 more\n                        Caused by: java.lang.ClassNotFoundException: javax.jws.WebService\n                                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1365)\n                                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1188)\n                                at java.base/java.lang.Class.forName0(Native Method)\n                                at java.base/java.lang.Class.forName(Class.java:398)\n                                at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\n</code></pre>\n\n<p>I have noticed the <em>ClassNotFoundException: javax.jws.WebService</em> in the log file and edited the pom.xml file to include:</p>\n\n<p><code>javax.xml.ws.jaxws-api.2.3.1</code> and also its compile dependencies as found per [<a href=\"https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.3.1/][1]\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api/2.3.1/][1]</a>:</p>\n\n<pre><code>javax.annotation.javax.annotation-api.1.3.2\njavax.xml.bind.jaxb-api.2.3.1\njavax.xml.soap.javax.xml.soap-api.1.4.0\n</code></pre>\n\n<p>When inspecting the project directory i can see that the correspondig libraries are present in WEB-INF/lib directory. </p>\n\n<p>Even after this I keep getting the same error message and cannot start the application.\nCould somebody tell me what i'm missing here?</p>\n\n<p>Kind regards,\nMichal</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677914751,"post_id":75634223,"comment_id":133435000,"body_markdown":"Enter the following into the &quot;Search...&quot; box at the top of this Web page: _[java] generics instanceof_ Or just go to: https://stackoverflow.com/questions/1570073/java-instanceof-and-generics","body":"Enter the following into the &quot;Search...&quot; box at the top of this Web page: <i>[java] generics instanceof</i> Or just go to: <a href=\"https://stackoverflow.com/questions/1570073/java-instanceof-and-generics\" title=\"java instanceof and generics\">stackoverflow.com/questions/1570073/&hellip;</a>"},{"owner":{"account_id":8661699,"reputation":1670,"user_id":6483824,"accept_rate":95,"display_name":"mike"},"score":0,"creation_date":1677915119,"post_id":75634223,"comment_id":133435027,"body_markdown":"If I cast ps to Object, then instanceof does generate error. But above code does compile.","body":"If I cast ps to Object, then instanceof does generate error. But above code does compile."}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677915114,"creation_date":1677914823,"answer_id":75634260,"question_id":75634223,"body_markdown":"instanceof will be unable to distinguish between `WeakReference&lt;String&gt;` and `WeakReference&lt;Integer&gt;`. Because these types (String and Integer) are erased during compilation (hence the name &quot;type erasure&quot;) and at runtime it will only know that it is a WeakReference containing something of type Object.\r\n\r\nIn Java generics are a way of avoiding the need for casting when you retrieve an object from a generic type (in earlier versions you had to cast a lot). But they don&#39;t really exist at runtime.\r\n\r\nHere is the Java spec on the topic: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6","title":"Using instanceof with generics","body":"<p>instanceof will be unable to distinguish between <code>WeakReference&lt;String&gt;</code> and <code>WeakReference&lt;Integer&gt;</code>. Because these types (String and Integer) are erased during compilation (hence the name &quot;type erasure&quot;) and at runtime it will only know that it is a WeakReference containing something of type Object.</p>\n<p>In Java generics are a way of avoiding the need for casting when you retrieve an object from a generic type (in earlier versions you had to cast a lot). But they don't really exist at runtime.</p>\n<p>Here is the Java spec on the topic: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6</a></p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1677918351,"creation_date":1677915375,"answer_id":75634297,"question_id":75634223,"body_markdown":"Checking if a `WeakReference&lt;String&gt;` is a `WeakReference&lt;String&gt;` does not require the runtime to check anything regarding generic types. It is trivially true, after all.\r\n\r\nMore meaningful/useful examples would be:\r\n\r\n```\r\nList&lt;String&gt; x = new LinkedList&lt;&gt;();\r\nif (x instanceof ArrayList&lt;String&gt;) {\r\n    System.out.println(&quot;Ok&quot;);\r\n}\r\n```\r\n\r\n```\r\nList&lt;Integer&gt; x = new LinkedList&lt;&gt;();\r\nif (x instanceof ArrayList&lt;? extends Number&gt;) {\r\n    System.out.println(&quot;Ok&quot;);\r\n}\r\n```\r\n\r\nIn both of these cases, the &quot;generics parts&quot; can be checked all at compile time. It is only when you need to determine generics at runtime that is problematic, because the runtime does not know about generics. An example of this would be:\r\n\r\n```\r\nList&lt;?&gt; x = new LinkedList&lt;Integer&gt;();\r\n// this does not compile because the runtime will need to check if the &quot;?&quot; is String, which it can&#39;t.\r\nif (x instanceof ArrayList&lt;String&gt;) {\r\n    System.out.println(&quot;Ok&quot;);\r\n}\r\n```\r\n\r\nAccording to the [spec][1], the type needs to be &quot;downcast-compatible&quot; with the expression:\r\n\r\n&gt; The RelationalExpression must be downcast compatible with the ReferenceType ([&#167;5.5][2]), or a compile-time error occurs.\r\n\r\nAnd that means:\r\n\r\n&gt; If an expression can be converted to a reference type by a casting conversion other than a narrowing reference conversion which is unchecked, we say the expression (or its value) is downcast compatible with the reference type.\r\n\r\nSo a rule of thumb is that if `(T)foo` gives you an unchecked warning, that means `foo instanceof T` does not compile.\r\n\r\nNote that the spec didn&#39;t always say this. The [Java 8 spec][3] said:\r\n\r\n&gt; It is a compile-time error if the ReferenceType mentioned after the instanceof operator does not denote a reference type that is reifiable ([&#167;4.7][4]).\r\n\r\nWhich would have made `instanceof WeakReference&lt;String&gt;` invalid in all situations.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.20.2\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.5\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.20.2\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.7","title":"Using instanceof with generics","body":"<p>Checking if a <code>WeakReference&lt;String&gt;</code> is a <code>WeakReference&lt;String&gt;</code> does not require the runtime to check anything regarding generic types. It is trivially true, after all.</p>\n<p>More meaningful/useful examples would be:</p>\n<pre><code>List&lt;String&gt; x = new LinkedList&lt;&gt;();\nif (x instanceof ArrayList&lt;String&gt;) {\n    System.out.println(&quot;Ok&quot;);\n}\n</code></pre>\n<pre><code>List&lt;Integer&gt; x = new LinkedList&lt;&gt;();\nif (x instanceof ArrayList&lt;? extends Number&gt;) {\n    System.out.println(&quot;Ok&quot;);\n}\n</code></pre>\n<p>In both of these cases, the &quot;generics parts&quot; can be checked all at compile time. It is only when you need to determine generics at runtime that is problematic, because the runtime does not know about generics. An example of this would be:</p>\n<pre><code>List&lt;?&gt; x = new LinkedList&lt;Integer&gt;();\n// this does not compile because the runtime will need to check if the &quot;?&quot; is String, which it can't.\nif (x instanceof ArrayList&lt;String&gt;) {\n    System.out.println(&quot;Ok&quot;);\n}\n</code></pre>\n<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">spec</a>, the type needs to be &quot;downcast-compatible&quot; with the expression:</p>\n<blockquote>\n<p>The RelationalExpression must be downcast compatible with the ReferenceType (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">§5.5</a>), or a compile-time error occurs.</p>\n</blockquote>\n<p>And that means:</p>\n<blockquote>\n<p>If an expression can be converted to a reference type by a casting conversion other than a narrowing reference conversion which is unchecked, we say the expression (or its value) is downcast compatible with the reference type.</p>\n</blockquote>\n<p>So a rule of thumb is that if <code>(T)foo</code> gives you an unchecked warning, that means <code>foo instanceof T</code> does not compile.</p>\n<p>Note that the spec didn't always say this. The <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.20.2\" rel=\"nofollow noreferrer\">Java 8 spec</a> said:</p>\n<blockquote>\n<p>It is a compile-time error if the ReferenceType mentioned after the instanceof operator does not denote a reference type that is reifiable (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.7\" rel=\"nofollow noreferrer\">§4.7</a>).</p>\n</blockquote>\n<p>Which would have made <code>instanceof WeakReference&lt;String&gt;</code> invalid in all situations.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677917272,"creation_date":1677916509,"answer_id":75634371,"question_id":75634223,"body_markdown":"In Java, Generics&lt;sup&gt;[1,][1]&lt;/sup&gt;&lt;sup&gt;[2,][2]&lt;/sup&gt;&lt;sup&gt;[3][3]&lt;/sup&gt; uses type parameters. The code in your question uses type arguments and not type parameters. Similar to method parameters vs method arguments as explained in [Difference between arguments and parameters in Java][4].\r\n\r\nEven if you replace the `String` with the `?` wildcard, the code still compiles, i.e.\r\n```java\r\nWeakReference&lt;?&gt; ps = new WeakReference&lt;&gt;(new String());\r\nif (ps instanceof WeakReference&lt;?&gt;) {\r\n    System.out.println(&quot;Ok&quot;);\r\n}\r\n```\r\nThis is because the same generic argument is being used, i.e. `?`\r\n\r\nIf you replace the arguments with parameters, then the code will not compile, for example:\r\n```java\r\nimport java.lang.ref.WeakReference;\r\n\r\npublic class TestClaz&lt;T&gt; {\r\n\r\n    public static &lt;T&gt; void main(String[] args) {\r\n        WeakReference&lt;T&gt; ps = new WeakReference&lt;&gt;(new String());\r\n        if (ps instanceof WeakReference&lt;T&gt;) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nHere `T` is a type parameter (and **not** a type argument) and my IDE&lt;sup&gt;[4][5]&lt;/sup&gt; gives the following compiler error:\r\n&gt; Cannot infer type arguments for WeakReference&lt;&gt;\r\n\r\nThis part of the code does not compile:\r\n```java\r\nWeakReference&lt;T&gt; ps = new WeakReference&lt;&gt;(new String());\r\n```\r\nIf I change that line to:\r\n```java\r\nWeakReference&lt;T&gt; ps = new WeakReference&lt;T&gt;(new String());\r\n```\r\nThen the compiler error becomes:\r\n&gt; The constructor WeakReference&amp;lt;T&amp;gt;(String) is undefined\r\n\r\nNow I can add a cast to `T`, as in:\r\n```java\r\nWeakReference&lt;T&gt; ps = new WeakReference&lt;T&gt;((T) new String());\r\n```\r\nand then the code compiles but with the following [compiler] warning:\r\n&gt; Unchecked cast from String to T\r\n\r\nIn other words, the compiler cannot know whether `String` can be cast to `T` because, at runtime, `T` could be any class and not necessarily one that can be cast to `String`, hence the compiler cannot verify that `String` can be cast to `T`.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Generics lesson in Oracle&#39;s Java tutorials.  \r\n&lt;sup&gt;2&lt;/sup&gt; Generics bonus lesson in Oracle&#39;s Java tutorials.  \r\n&lt;sup&gt;3&lt;/sup&gt; Generics guide from Oracle&#39;s Java documentation.  \r\n&lt;sup&gt;4&lt;/sup&gt; My IDE is Eclipse.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/index.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/extra/generics/index.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/generics.html\r\n  [4]: https://stackoverflow.com/questions/12709026/difference-between-arguments-and-parameters-in-java\r\n  [5]: https://www.eclipse.org/","title":"Using instanceof with generics","body":"<p>In Java, Generics<sup><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">1,</a></sup><sup><a href=\"https://docs.oracle.com/javase/tutorial/extra/generics/index.html\" rel=\"nofollow noreferrer\">2,</a></sup><sup><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/generics.html\" rel=\"nofollow noreferrer\">3</a></sup> uses type parameters. The code in your question uses type arguments and not type parameters. Similar to method parameters vs method arguments as explained in <a href=\"https://stackoverflow.com/questions/12709026/difference-between-arguments-and-parameters-in-java\">Difference between arguments and parameters in Java</a>.</p>\n<p>Even if you replace the <code>String</code> with the <code>?</code> wildcard, the code still compiles, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeakReference&lt;?&gt; ps = new WeakReference&lt;&gt;(new String());\nif (ps instanceof WeakReference&lt;?&gt;) {\n    System.out.println(&quot;Ok&quot;);\n}\n</code></pre>\n<p>This is because the same generic argument is being used, i.e. <code>?</code></p>\n<p>If you replace the arguments with parameters, then the code will not compile, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.ref.WeakReference;\n\npublic class TestClaz&lt;T&gt; {\n\n    public static &lt;T&gt; void main(String[] args) {\n        WeakReference&lt;T&gt; ps = new WeakReference&lt;&gt;(new String());\n        if (ps instanceof WeakReference&lt;T&gt;) {\n            System.out.println(&quot;Ok&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here <code>T</code> is a type parameter (and <strong>not</strong> a type argument) and my IDE<sup><a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">4</a></sup> gives the following compiler error:</p>\n<blockquote>\n<p>Cannot infer type arguments for WeakReference&lt;&gt;</p>\n</blockquote>\n<p>This part of the code does not compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeakReference&lt;T&gt; ps = new WeakReference&lt;&gt;(new String());\n</code></pre>\n<p>If I change that line to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeakReference&lt;T&gt; ps = new WeakReference&lt;T&gt;(new String());\n</code></pre>\n<p>Then the compiler error becomes:</p>\n<blockquote>\n<p>The constructor WeakReference&lt;T&gt;(String) is undefined</p>\n</blockquote>\n<p>Now I can add a cast to <code>T</code>, as in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeakReference&lt;T&gt; ps = new WeakReference&lt;T&gt;((T) new String());\n</code></pre>\n<p>and then the code compiles but with the following [compiler] warning:</p>\n<blockquote>\n<p>Unchecked cast from String to T</p>\n</blockquote>\n<p>In other words, the compiler cannot know whether <code>String</code> can be cast to <code>T</code> because, at runtime, <code>T</code> could be any class and not necessarily one that can be cast to <code>String</code>, hence the compiler cannot verify that <code>String</code> can be cast to <code>T</code>.</p>\n<p><sup>1</sup> Generics lesson in Oracle's Java tutorials.<br />\n<sup>2</sup> Generics bonus lesson in Oracle's Java tutorials.<br />\n<sup>3</sup> Generics guide from Oracle's Java documentation.<br />\n<sup>4</sup> My IDE is Eclipse.</p>\n"}],"owner":{"account_id":8661699,"reputation":1670,"user_id":6483824,"accept_rate":95,"display_name":"mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75634297,"answer_count":3,"score":5,"last_activity_date":1677918351,"creation_date":1677914271,"question_id":75634223,"body_markdown":"I am reading about generics, and I learned that they don&#39;t allow the use of `instanceof`. However, the following code compiles:\r\n\r\n    WeakReference&lt;String&gt; ps = new WeakReference&lt;&gt;(new String());\r\n    if (ps instanceof WeakReference&lt;String&gt;) {\r\n        System.out.println(&quot;Ok&quot;);\r\n    }\r\n\r\nCan anyone clarify what I don&#39;t understand?","title":"Using instanceof with generics","body":"<p>I am reading about generics, and I learned that they don't allow the use of <code>instanceof</code>. However, the following code compiles:</p>\n<pre><code>WeakReference&lt;String&gt; ps = new WeakReference&lt;&gt;(new String());\nif (ps instanceof WeakReference&lt;String&gt;) {\n    System.out.println(&quot;Ok&quot;);\n}\n</code></pre>\n<p>Can anyone clarify what I don't understand?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677917026,"creation_date":1677917026,"answer_id":75634404,"question_id":75627837,"body_markdown":"Using something like this:\r\n\r\n    @Query(&quot;select a from AdvertSearch a where (?1 is null or a.city.id = ?1) and (?2 is null or a.type = ?2)&quot;)\r\n    Page&lt;AdvertSearch&gt; find(Integer cityId, OfficeType type, Pageable pageable);","title":"How to filter data with Spring Jpa over optional fields?","body":"<p>Using something like this:</p>\n<pre><code>@Query(&quot;select a from AdvertSearch a where (?1 is null or a.city.id = ?1) and (?2 is null or a.type = ?2)&quot;)\nPage&lt;AdvertSearch&gt; find(Integer cityId, OfficeType type, Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677917026,"creation_date":1677850964,"question_id":75627837,"body_markdown":"I have a method using Jpa to fetch data (in this case it is Page object). (I am using MySQL)\r\n\r\n    public AdvertSearchResponseDto findAdvertSearchAsPage(AdvertSearchPageRequestDto dto, Pageable pageable) throws CityNotFoundException {\r\n    \r\n            Page&lt;AdvertSearch&gt; advertSearchPage;\r\n            if (dto.getCityId() != null) {\r\n                Cities city = citiesRepository.findById(dto.getCityId())\r\n                        .orElseThrow(() -&gt; new CityNotFoundException(CITY_NOT_FOUND_MSG));\r\n                if (dto.getType() != null) {\r\n                    advertSearchPage = advertSearchRepository.findByCityAndOfficeType(city.getName(), dto.getType(), pageable);\r\n                } else {\r\n                    advertSearchPage = advertSearchRepository.findByCity(city.getName(), pageable);\r\n                }\r\n            } else {\r\n                if (dto.getType() != null) {\r\n                    advertSearchPage = advertSearchRepository.findByOfficeType(dto.getType(), pageable);\r\n                } else {\r\n                    advertSearchPage = advertSearchRepository.findAll(pageable);\r\n                }\r\n            }\r\n\r\nAs you see I get a dto as parameter and it is an object as follows:\r\n\r\n    @Data\r\n    public class AdvertSearchPageRequestDto {\r\n        private Integer cityId;\r\n        private OfficeType type;\r\n    }\r\nHere is only 2 fields and I use 4 different if-else combination, but I need to add more fields to dto object and my query should work for maybe 4-5 fields so I cannot make all combinations for each fields. These fields are all optional and I need to make query for only non-null fields and It will return page so should use **Pageable**.\r\n\r\nHow can I achieve that ?\r\n\r\n","title":"How to filter data with Spring Jpa over optional fields?","body":"<p>I have a method using Jpa to fetch data (in this case it is Page object). (I am using MySQL)</p>\n<pre><code>public AdvertSearchResponseDto findAdvertSearchAsPage(AdvertSearchPageRequestDto dto, Pageable pageable) throws CityNotFoundException {\n\n        Page&lt;AdvertSearch&gt; advertSearchPage;\n        if (dto.getCityId() != null) {\n            Cities city = citiesRepository.findById(dto.getCityId())\n                    .orElseThrow(() -&gt; new CityNotFoundException(CITY_NOT_FOUND_MSG));\n            if (dto.getType() != null) {\n                advertSearchPage = advertSearchRepository.findByCityAndOfficeType(city.getName(), dto.getType(), pageable);\n            } else {\n                advertSearchPage = advertSearchRepository.findByCity(city.getName(), pageable);\n            }\n        } else {\n            if (dto.getType() != null) {\n                advertSearchPage = advertSearchRepository.findByOfficeType(dto.getType(), pageable);\n            } else {\n                advertSearchPage = advertSearchRepository.findAll(pageable);\n            }\n        }\n</code></pre>\n<p>As you see I get a dto as parameter and it is an object as follows:</p>\n<pre><code>@Data\npublic class AdvertSearchPageRequestDto {\n    private Integer cityId;\n    private OfficeType type;\n}\n</code></pre>\n<p>Here is only 2 fields and I use 4 different if-else combination, but I need to add more fields to dto object and my query should work for maybe 4-5 fields so I cannot make all combinations for each fields. These fields are all optional and I need to make query for only non-null fields and It will return page so should use <strong>Pageable</strong>.</p>\n<p>How can I achieve that ?</p>\n"},{"tags":["java","android","kotlin","screen-recording","mediamuxer"],"comments":[{"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"score":0,"creation_date":1678043190,"post_id":75634400,"comment_id":133452327,"body_markdown":"Consider editing your question to include the eapplicable code / script related to your problem.","body":"Consider editing your question to include the eapplicable code / script related to your problem."}],"owner":{"account_id":25324792,"reputation":21,"user_id":19145616,"display_name":"Rana Hamza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677916978,"creation_date":1677916978,"question_id":75634400,"body_markdown":"I want to merge video in mp4 and audio in preferably PCM other m4A using MediaMuxer while recording that mp4 file using MediaProjection and audio using PlaybackcaptureApi. So, when user stop recording he gets the final result immediately\r\n\r\nI am trying to make an screen recorder app to capture screen and internal audio. \r\nFor now what I am doing is:\r\n1- Capturing Screen using Media Projection+ Media Recorder.\r\n2- Recording internal audio using AudioPlaybackCapture API ( for android 10 and above) , AudioRecord .\r\nThis gives me PCM , So I convert it into to m4A format.\r\n3- After that I use mediaMuxer to merge these m4A audio file and mp4 video file i created in above 2 steps.\r\n\r\nSo far its working fine.\r\nBut its too slow.\r\nI want to achieve real time Conversion. So, Please guide me is it possible ( if then please guide me how):\r\nTo merge video and audio using MediaMuxer while capturing screen and internal audio.\r\n\r\nDon&#39;t want to use ffmpg or something like that.\r\n\r\nSorry, its long post. But just wanted to make things clear.\r\nPlease help me if you can. Thanks in advance. Thanks for reading.","title":"How can I merge mp4 video file and PCM or m4A audio file in real time while they are being recording with MediaMixer in android kotlin/java","body":"<p>I want to merge video in mp4 and audio in preferably PCM other m4A using MediaMuxer while recording that mp4 file using MediaProjection and audio using PlaybackcaptureApi. So, when user stop recording he gets the final result immediately</p>\n<p>I am trying to make an screen recorder app to capture screen and internal audio.\nFor now what I am doing is:\n1- Capturing Screen using Media Projection+ Media Recorder.\n2- Recording internal audio using AudioPlaybackCapture API ( for android 10 and above) , AudioRecord .\nThis gives me PCM , So I convert it into to m4A format.\n3- After that I use mediaMuxer to merge these m4A audio file and mp4 video file i created in above 2 steps.</p>\n<p>So far its working fine.\nBut its too slow.\nI want to achieve real time Conversion. So, Please guide me is it possible ( if then please guide me how):\nTo merge video and audio using MediaMuxer while capturing screen and internal audio.</p>\n<p>Don't want to use ffmpg or something like that.</p>\n<p>Sorry, its long post. But just wanted to make things clear.\nPlease help me if you can. Thanks in advance. Thanks for reading.</p>\n"},{"tags":["java","android-studio"],"answers":[{"comments":[{"owner":{"account_id":27932661,"reputation":1,"user_id":21330308,"display_name":"Wilson Romero"},"score":0,"creation_date":1677922308,"post_id":75634373,"comment_id":133435807,"body_markdown":"I solved it check if you have something written in XML in this tag android:text=&quot;error&quot;","body":"I solved it check if you have something written in XML in this tag android:text=&quot;error&quot;"}],"tags":[],"owner":{"account_id":27932684,"reputation":1,"user_id":21330326,"display_name":"Samuii"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677916553,"creation_date":1677916553,"answer_id":75634373,"question_id":75634321,"body_markdown":"I think the problem is at this line \r\n```java \r\nString id = mAuth.getCurrentUser().getUid();\r\n```\r\nthe getCurrentUser() method may return a Null object and then the getUid() will give you the NullPointerException , you should write this instead \r\n```java\r\nFirebaseUser mFirebaseUser = mAuth.getCurrentUser();\r\nif(mFirebaseUser != null) {\r\n    currentUserID = mFirebaseUser.getUid(); \r\n    //Do what you need to do with the id\r\n}\r\n```\r\nyou may refer to [this answer](https://stackoverflow.com/a/51366549/21330326) as well \r\n","title":"I try to make register but when i put all information the app close in the post i have the error","body":"<p>I think the problem is at this line</p>\n<pre class=\"lang-java prettyprint-override\"><code>String id = mAuth.getCurrentUser().getUid();\n</code></pre>\n<p>the getCurrentUser() method may return a Null object and then the getUid() will give you the NullPointerException , you should write this instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>FirebaseUser mFirebaseUser = mAuth.getCurrentUser();\nif(mFirebaseUser != null) {\n    currentUserID = mFirebaseUser.getUid(); \n    //Do what you need to do with the id\n}\n</code></pre>\n<p>you may refer to <a href=\"https://stackoverflow.com/a/51366549/21330326\">this answer</a> as well</p>\n"}],"owner":{"account_id":27932661,"reputation":1,"user_id":21330308,"display_name":"Wilson Romero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677916553,"creation_date":1677915821,"question_id":75634321,"body_markdown":"I try to make register but when i put all information the app close in the post i have the error.\r\ni wanna make this \r\nthis my code.\r\n\r\n\r\n```\r\npackage com.example.aprendosiosi;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class RegistersActivity extends AppCompatActivity {\r\n\r\n    Button btn_register;\r\n    EditText name,email,password;\r\n    FirebaseFirestore mFirestore;\r\n    FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_registers);\r\n        mFirestore = FirebaseFirestore.getInstance();\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        name = findViewById(R.id.nombre);\r\n        email = findViewById(R.id.correo);\r\n        password = findViewById(R.id.contrasena);\r\n        btn_register = findViewById(R.id.btn_registro);\r\n\r\n        //evento del boton//\r\n        btn_register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //extrayendo el dato que se escriba//\r\n                String nameUser = name.getText().toString().trim();\r\n                String emailUser = email.getText().toString().trim();\r\n                String passUser = password.getText().toString().trim();\r\n\r\n                if( nameUser.isEmpty() &amp;&amp; emailUser.isEmpty() &amp;&amp; passUser.isEmpty()){\r\n\r\n                    Toast.makeText(RegistersActivity.this, &quot;Complete los datos&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                } else{\r\n                        //creando un metodo para registrar//\r\n                    registerUser(nameUser,emailUser,passUser);\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n    //construyendo el metodo //\r\n    private void registerUser(String nameUser, String emailUser, String passUser) {\r\n//prosedimiento para registrase//\r\n        mAuth.createUserWithEmailAndPassword(emailUser,passUser).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                String id = mAuth.getCurrentUser().getUid();\r\n                Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                map.put(&quot;id&quot;, id);\r\n                map.put(&quot;name&quot;, nameUser);\r\n                map.put(&quot;email&quot;, emailUser);\r\n                map.put(&quot;password&quot;, passUser);\r\n\r\n                mFirestore.collection(&quot;user&quot;).document(id).set(map).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        finish();\r\n                        startActivity( new Intent( RegistersActivity.this, MainActivity.class));\r\n                        Toast.makeText(RegistersActivity.this, &quot;Usuario registrado&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(RegistersActivity.this, &quot;Erro al guardar&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(RegistersActivity.this, &quot;Erro al registrar&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nAnd this my error .\r\n\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.aprendosiosi, PID: 9539\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n        at com.example.aprendosiosi.RegistersActivity$3.onComplete(RegistersActivity.java:70)\r\n        at com.google.android.gms.tasks.zzi.run(com.google.android.gms:play-services-tasks@@18.0.2:1)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8633)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n\r\nI try to make register but when i put all information the app close in the post i have the error.","title":"I try to make register but when i put all information the app close in the post i have the error","body":"<p>I try to make register but when i put all information the app close in the post i have the error.\ni wanna make this\nthis my code.</p>\n<pre><code>package com.example.aprendosiosi;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class RegistersActivity extends AppCompatActivity {\n\n    Button btn_register;\n    EditText name,email,password;\n    FirebaseFirestore mFirestore;\n    FirebaseAuth mAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_registers);\n        mFirestore = FirebaseFirestore.getInstance();\n        mAuth = FirebaseAuth.getInstance();\n\n        name = findViewById(R.id.nombre);\n        email = findViewById(R.id.correo);\n        password = findViewById(R.id.contrasena);\n        btn_register = findViewById(R.id.btn_registro);\n\n        //evento del boton//\n        btn_register.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //extrayendo el dato que se escriba//\n                String nameUser = name.getText().toString().trim();\n                String emailUser = email.getText().toString().trim();\n                String passUser = password.getText().toString().trim();\n\n                if( nameUser.isEmpty() &amp;&amp; emailUser.isEmpty() &amp;&amp; passUser.isEmpty()){\n\n                    Toast.makeText(RegistersActivity.this, &quot;Complete los datos&quot;, Toast.LENGTH_SHORT).show();\n\n                } else{\n                        //creando un metodo para registrar//\n                    registerUser(nameUser,emailUser,passUser);\n\n                }\n            }\n        });\n    }\n    //construyendo el metodo //\n    private void registerUser(String nameUser, String emailUser, String passUser) {\n//prosedimiento para registrase//\n        mAuth.createUserWithEmailAndPassword(emailUser,passUser).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                String id = mAuth.getCurrentUser().getUid();\n                Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                map.put(&quot;id&quot;, id);\n                map.put(&quot;name&quot;, nameUser);\n                map.put(&quot;email&quot;, emailUser);\n                map.put(&quot;password&quot;, passUser);\n\n                mFirestore.collection(&quot;user&quot;).document(id).set(map).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void unused) {\n                        finish();\n                        startActivity( new Intent( RegistersActivity.this, MainActivity.class));\n                        Toast.makeText(RegistersActivity.this, &quot;Usuario registrado&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(RegistersActivity.this, &quot;Erro al guardar&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(RegistersActivity.this, &quot;Erro al registrar&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p>And this my error .</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.aprendosiosi, PID: 9539\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\nat com.example.aprendosiosi.RegistersActivity$3.onComplete(RegistersActivity.java:70)\nat com.google.android.gms.tasks.zzi.run(com.google.android.gms:play-services-tasks@@18.0.2:1)\nat android.os.Handler.handleCallback(Handler.java:938)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:246)\nat android.app.ActivityThread.main(ActivityThread.java:8633)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)</p>\n<p>I try to make register but when i put all information the app close in the post i have the error.</p>\n"},{"tags":["java","android"],"owner":{"display_name":"user17716493"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677916222,"creation_date":1677916222,"question_id":75634347,"body_markdown":"```\r\nmCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n\r\n            @Override\r\n            public void onVerificationCompleted(@NonNull PhoneAuthCredential credential) {\r\n                // This callback will be invoked in two situations:\r\n                // 1 - Instant verification. In some cases the phone number can be instantly\r\n                //     verified without needing to send or enter a verification code.\r\n                // 2 - Auto-retrieval. On some devices Google Play services can automatically\r\n                //     detect the incoming verification SMS and perform verification without\r\n                //     user action.\r\n                Log.d(TAG, &quot;onVerificationCompleted:&quot; + credential);\r\n\r\n                signInWithPhoneAuthCredential(credential);\r\n            }\r\n\r\n            @Override\r\n            public void onVerificationFailed(@NonNull FirebaseException e) {\r\n                // This callback is invoked in an invalid request for verification is made,\r\n                // for instance if the the phone number format is not valid.\r\n                Log.w(TAG, &quot;onVerificationFailed&quot;, e);\r\n\r\n                if (e instanceof FirebaseAuthInvalidCredentialsException) {\r\n                    // Invalid request\r\n                    Toast.makeText(SignupActivity.this, &quot;Error code&quot;, Toast.LENGTH_SHORT).show();\r\n                } else if (e instanceof FirebaseTooManyRequestsException) {\r\n                    // The SMS quota for the project has been exceeded\r\n                    Toast.makeText(SignupActivity.this, &quot;Too many requests sorry! Try again!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                // Show a message and update the UI\r\n            }\r\n\r\n            @Override\r\n            public void onCodeSent(@NonNull String verificationId,\r\n                                   @NonNull PhoneAuthProvider.ForceResendingToken token) {\r\n                // I tried to put this super.onCodeSent(verificationId, token);\r\n                // The SMS verification code has been sent to the provided phone number, we\r\n                // now need to ask the user to enter the code and then construct a credential\r\n                // by combining the code with a verification ID.\r\n                Log.d(TAG, &quot;onCodeSent:&quot; + verificationId);\r\n\r\n                // Save verification ID and resending token so we can use them later\r\n                mVerificationId = verificationId;\r\n                mResendToken = token;\r\n                reload();\r\n                send_code_btn.setOnClickListener(view -&gt; {\r\n                    codeInput = codeText.getText().toString();\r\n\r\n                    if (codeInput.isEmpty()) {\r\n                        Toast.makeText(SignupActivity.this, &quot;Enter a code&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(SignupActivity.this, &quot;CLICKED CLICKED&quot;, Toast.LENGTH_SHORT).show();\r\n                        verifyPhoneNumberWithCode(mVerificationId, codeInput);\r\n                    }\r\n                });\r\n            }\r\n        };`\r\n\r\nMethod: verify\r\n\r\n`\r\nprivate void verifyPhoneNumberWithCode(String verificationId, String smsCode) {\r\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationId, smsCode);\r\n\r\n}\r\n`\r\n\r\nMethod: signInWithPhoneAuthCredential\r\n\r\n`\r\nprivate void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n                        Log.d(TAG, &quot;signInWithCredential: success&quot;);\r\n\r\n                        FirebaseUser user = task.getResult().getUser();\r\n                        updateUI(user);\r\n                    } else {\r\n                        Log.w(TAG, &quot;signInWithCredential: failure&quot;, task.getException());\r\n                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\r\n                            Toast.makeText(SignupActivity.this, &quot;Error see logs&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n```\r\n\r\nI have followed firebase docs step by step but when I run my app the verification code sent successfully and everything is ok but when I enter the verification code and press verify in my app `OnVerificationComplete` method from firebase is not listen why!! I tried to debug my app and I found the debugger is not go to verification complete so not even on failure method but when I go over the quota it show the toast `Too many requests`. \r\n\r\nPlease help me!\r\n\r\nI tried all the solutions enabling api on gcloud and firebase but none of them is helping me but I believe the credential is not go to onverification compelete because when i tried to put signInWithCredential on method verifyPhoneNumberWithCode firebase sign me in and it work but I want to check for code validation!!!!","title":"Firebase OnVerificationComplete is not working: android studio","body":"<pre><code>mCallbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n\n            @Override\n            public void onVerificationCompleted(@NonNull PhoneAuthCredential credential) {\n                // This callback will be invoked in two situations:\n                // 1 - Instant verification. In some cases the phone number can be instantly\n                //     verified without needing to send or enter a verification code.\n                // 2 - Auto-retrieval. On some devices Google Play services can automatically\n                //     detect the incoming verification SMS and perform verification without\n                //     user action.\n                Log.d(TAG, &quot;onVerificationCompleted:&quot; + credential);\n\n                signInWithPhoneAuthCredential(credential);\n            }\n\n            @Override\n            public void onVerificationFailed(@NonNull FirebaseException e) {\n                // This callback is invoked in an invalid request for verification is made,\n                // for instance if the the phone number format is not valid.\n                Log.w(TAG, &quot;onVerificationFailed&quot;, e);\n\n                if (e instanceof FirebaseAuthInvalidCredentialsException) {\n                    // Invalid request\n                    Toast.makeText(SignupActivity.this, &quot;Error code&quot;, Toast.LENGTH_SHORT).show();\n                } else if (e instanceof FirebaseTooManyRequestsException) {\n                    // The SMS quota for the project has been exceeded\n                    Toast.makeText(SignupActivity.this, &quot;Too many requests sorry! Try again!&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                // Show a message and update the UI\n            }\n\n            @Override\n            public void onCodeSent(@NonNull String verificationId,\n                                   @NonNull PhoneAuthProvider.ForceResendingToken token) {\n                // I tried to put this super.onCodeSent(verificationId, token);\n                // The SMS verification code has been sent to the provided phone number, we\n                // now need to ask the user to enter the code and then construct a credential\n                // by combining the code with a verification ID.\n                Log.d(TAG, &quot;onCodeSent:&quot; + verificationId);\n\n                // Save verification ID and resending token so we can use them later\n                mVerificationId = verificationId;\n                mResendToken = token;\n                reload();\n                send_code_btn.setOnClickListener(view -&gt; {\n                    codeInput = codeText.getText().toString();\n\n                    if (codeInput.isEmpty()) {\n                        Toast.makeText(SignupActivity.this, &quot;Enter a code&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        Toast.makeText(SignupActivity.this, &quot;CLICKED CLICKED&quot;, Toast.LENGTH_SHORT).show();\n                        verifyPhoneNumberWithCode(mVerificationId, codeInput);\n                    }\n                });\n            }\n        };`\n\nMethod: verify\n\n`\nprivate void verifyPhoneNumberWithCode(String verificationId, String smsCode) {\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationId, smsCode);\n\n}\n`\n\nMethod: signInWithPhoneAuthCredential\n\n`\nprivate void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, task -&gt; {\n                    if (task.isSuccessful()) {\n                        Log.d(TAG, &quot;signInWithCredential: success&quot;);\n\n                        FirebaseUser user = task.getResult().getUser();\n                        updateUI(user);\n                    } else {\n                        Log.w(TAG, &quot;signInWithCredential: failure&quot;, task.getException());\n                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\n                            Toast.makeText(SignupActivity.this, &quot;Error see logs&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    }\n</code></pre>\n<p>I have followed firebase docs step by step but when I run my app the verification code sent successfully and everything is ok but when I enter the verification code and press verify in my app <code>OnVerificationComplete</code> method from firebase is not listen why!! I tried to debug my app and I found the debugger is not go to verification complete so not even on failure method but when I go over the quota it show the toast <code>Too many requests</code>.</p>\n<p>Please help me!</p>\n<p>I tried all the solutions enabling api on gcloud and firebase but none of them is helping me but I believe the credential is not go to onverification compelete because when i tried to put signInWithCredential on method verifyPhoneNumberWithCode firebase sign me in and it work but I want to check for code validation!!!!</p>\n"},{"tags":["java","maven","github-actions","maven-plugin"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677787971,"post_id":75620346,"comment_id":133411619,"body_markdown":"Is the `testng.xml` file checked in in the repository? If so, where is it located?","body":"Is the <code>testng.xml</code> file checked in in the repository? If so, where is it located?"},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1677791439,"post_id":75620346,"comment_id":133412514,"body_markdown":"@dan1st: it is in the same repo under the project folder. \nIs the error because testing.xml is not accessible?","body":"@dan1st: it is in the same repo under the project folder.  Is the error because testing.xml is not accessible?"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677817851,"post_id":75620346,"comment_id":133416262,"body_markdown":"Error: &quot;**Suite file /home/runner/work/denodo_CI_CD/denodo_CI_CD/testng.xml is not a valid file**&quot;. Please include your directory structure in your question along with your relevant workflow. Also, as commented earlier, verify the existence and contents of the `testing.xml` if it&#39;s checked into the repo. Thanks!","body":"Error: &quot;<b>Suite file /home/runner/work/denodo_CI_CD/denodo_CI_CD/testng.xml is not a valid file</b>&quot;. Please include your directory structure in your question along with your relevant workflow. Also, as commented earlier, verify the existence and contents of the <code>testing.xml</code> if it&#39;s checked into the repo. Thanks!"},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1677822789,"post_id":75620346,"comment_id":133416930,"body_markdown":"@Azeem: resolved the issue by copying the actual path of the testng.xml and adding it but now i am getting the following error:\n Cannot find class in classpath: denodoproject.test001GET\nError:  org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process","body":"@Azeem: resolved the issue by copying the actual path of the testng.xml and adding it but now i am getting the following error:  Cannot find class in classpath: denodoproject.test001GET Error:  org.apache.maven.surefire.booter.SurefireBooterForkException&zwnj;&#8203;: There was an error in the forked process"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677823184,"post_id":75620346,"comment_id":133416987,"body_markdown":"@User1515: Please edit your question and add this under an UPDATE section. Regarding the new classpath error, this looks relevant https://stackoverflow.com/questions/7600898/testng-error-cannot-find-class-in-classpath.","body":"@User1515: Please edit your question and add this under an UPDATE section. Regarding the new classpath error, this looks relevant <a href=\"https://stackoverflow.com/questions/7600898/testng-error-cannot-find-class-in-classpath\" title=\"testng error cannot find class in classpath\">stackoverflow.com/questions/7600898/&hellip;</a>."},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1677823928,"post_id":75620346,"comment_id":133417112,"body_markdown":"@Azeem: updated. And i checked the link. I am running the project from Github actions and doing a clean before run:\n run: mvn clean test","body":"@Azeem: updated. And i checked the link. I am running the project from Github actions and doing a clean before run:  run: mvn clean test"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677824906,"post_id":75620346,"comment_id":133417270,"body_markdown":"@User1515: Is it working locally? No errors?","body":"@User1515: Is it working locally? No errors?"},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1677827919,"post_id":75620346,"comment_id":133417739,"body_markdown":"@Azeem: yes its working locally with no errors. I didnt have to even change the path of testng.xml in local which had resolved the earlier issue","body":"@Azeem: yes its working locally with no errors. I didnt have to even change the path of testng.xml in local which had resolved the earlier issue"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677828152,"post_id":75620346,"comment_id":133417784,"body_markdown":"@User1515: That&#39;s strange. You might want to include your relevant workflow in your question as well. Apart from that, it looks like an [MCVE](https://stackoverflow.com/help/minimal-reproducible-example) would help to reproduce this. If this is a public repo, you can share its link. Otherwise, a stripped down version of this repo would help reproduce this in isolation.","body":"@User1515: That&#39;s strange. You might want to include your relevant workflow in your question as well. Apart from that, it looks like an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a> would help to reproduce this. If this is a public repo, you can share its link. Otherwise, a stripped down version of this repo would help reproduce this in isolation."},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":1,"creation_date":1677839806,"post_id":75620346,"comment_id":133420662,"body_markdown":"@Azeem: Repo: https://github.com/paras21avenue/denodo.git\nAdded the workflow im using in the question","body":"@Azeem: Repo: <a href=\"https://github.com/paras21avenue/denodo.git\" rel=\"nofollow noreferrer\">github.com/paras21avenue/denodo.git</a> Added the workflow im using in the question"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677863421,"post_id":75620346,"comment_id":133427500,"body_markdown":"@User1515: Your repo doesn&#39;t have the workflow that you included in your question. Were you testing it on the same repo?","body":"@User1515: Your repo doesn&#39;t have the workflow that you included in your question. Were you testing it on the same repo?"},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1677867237,"post_id":75620346,"comment_id":133428464,"body_markdown":"@Azeem: yes , the code in edited with no actual code as the actual code is private, just a Printf was added to duplicate the scenario. The actual repo is private. But the same repo has been duplicated. The workflow I’m using is in the other repo. I will add the workflow if it’s needed","body":"@Azeem: yes , the code in edited with no actual code as the actual code is private, just a Printf was added to duplicate the scenario. The actual repo is private. But the same repo has been duplicated. The workflow I’m using is in the other repo. I will add the workflow if it’s needed"},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1677872127,"post_id":75620346,"comment_id":133429739,"body_markdown":"Added workflow to the repo","body":"Added workflow to the repo"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1677913265,"post_id":75620346,"comment_id":133434880,"body_markdown":"@User1515: Thanks! The `pom.xml` on the root of the repo is the same as it is in the `denodoproject` directory. Running `cd denodoproject` and `mvn clean test` works fine. See https://github.com/iamazeem/test/actions/runs/4329774294/workflow#L22-L23. It&#39;s on the root where the error occurs. You need to configure your project accordingly, maybe have a root `pom.xml` configured to point to other subprojects and vice versa.","body":"@User1515: Thanks! The <code>pom.xml</code> on the root of the repo is the same as it is in the <code>denodoproject</code> directory. Running <code>cd denodoproject</code> and <code>mvn clean test</code> works fine. See <a href=\"https://github.com/iamazeem/test/actions/runs/4329774294/workflow#L22-L23\" rel=\"nofollow noreferrer\">github.com/iamazeem/test/actions/runs/4329774294/&hellip;</a>. It&#39;s on the root where the error occurs. You need to configure your project accordingly, maybe have a root <code>pom.xml</code> configured to point to other subprojects and vice versa."},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":0,"creation_date":1677915848,"post_id":75620346,"comment_id":133435105,"body_markdown":"@Azeem: thanks but if i replicate the exact same thing in my actual project. I still get classpath not found, its very strange. Im running : cd Promotion and mvn clean test. Screenshot of project str is attached in question. POM is actuall the exact replica, even the class name is the same. I just dont have package created in the actual project.","body":"@Azeem: thanks but if i replicate the exact same thing in my actual project. I still get classpath not found, its very strange. Im running : cd Promotion and mvn clean test. Screenshot of project str is attached in question. POM is actuall the exact replica, even the class name is the same. I just dont have package created in the actual project."},{"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"score":1,"creation_date":1677918273,"post_id":75620346,"comment_id":133435390,"body_markdown":"Something related to the project str i assume, i reverted to the exact same and it works.\nWill work with that. thanks a lot","body":"Something related to the project str i assume, i reverted to the exact same and it works. Will work with that. thanks a lot"}],"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677915920,"creation_date":1677787697,"question_id":75620346,"body_markdown":"I am trying to run a maven project from GitHub actions but it&#39;s failing with a lot of errors which I am unable to resolve. Any help is highly appreciated.\r\n\r\nError:\r\n\r\n```\r\n2023-03-02T19:55:03.1308665Z [INFO] -------------------------------------------------------\r\n2023-03-02T19:55:03.1309334Z [INFO]  T E S T S\r\n2023-03-02T19:55:03.1309709Z [INFO] -------------------------------------------------------\r\n2023-03-02T19:55:03.7212762Z [INFO] \r\n2023-03-02T19:55:03.7213543Z [INFO] Results:\r\n2023-03-02T19:55:03.7213970Z [INFO] \r\n2023-03-02T19:55:03.7230143Z [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n2023-03-02T19:55:03.7230436Z [INFO] \r\n2023-03-02T19:55:03.7285928Z [INFO] ------------------------------------------------------------------------\r\n2023-03-02T19:55:03.7286503Z [INFO] BUILD FAILURE\r\n2023-03-02T19:55:03.7287068Z [INFO] ------------------------------------------------------------------------\r\n2023-03-02T19:55:03.7302478Z [INFO] Total time:  7.605 s\r\n2023-03-02T19:55:03.7305208Z [INFO] Finished at: 2023-03-02T19:55:03Z\r\n2023-03-02T19:55:03.7306231Z [INFO] ------------------------------------------------------------------------\r\n2023-03-02T19:55:03.7315453Z [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project denodoproject: There are test failures.\r\n2023-03-02T19:55:03.7316101Z [ERROR] \r\n2023-03-02T19:55:03.7317796Z [ERROR] Please refer to /home/runner/work/denodo_CI_CD/denodo_CI_CD/target/surefire-reports for the individual test results.\r\n2023-03-02T19:55:03.7318580Z [ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n2023-03-02T19:55:03.7319475Z [ERROR] There was an error in the forked process\r\n2023-03-02T19:55:03.7320519Z [ERROR] Suite file /home/runner/work/denodo_CI_CD/denodo_CI_CD/testng.xml is not a valid file\r\n2023-03-02T19:55:03.7321637Z [ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n2023-03-02T19:55:03.7322487Z [ERROR] Suite file /home/runner/work/denodo_CI_CD/denodo_CI_CD/testng.xml is not a valid file\r\n2023-03-02T19:55:03.7323596Z [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\r\n2023-03-02T19:55:03.7324553Z [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:283)\r\n2023-03-02T19:55:03.7325514Z [ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:246)\r\n2023-03-02T19:55:03.7326565Z [ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1161)\r\n2023-03-02T19:55:03.7327529Z [ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1002)\r\n2023-03-02T19:55:03.7328448Z [ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:848)\r\n2023-03-02T19:55:03.7329281Z [ERROR] \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\r\n2023-03-02T19:55:03.7330233Z [ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\r\n2023-03-02T19:55:03.7331185Z [ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\r\n2023-03-02T19:55:03.7333467Z [ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\r\n2023-03-02T19:55:03.7334284Z [ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\r\n2023-03-02T19:55:03.7335259Z [ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\r\n2023-03-02T19:55:03.7335819Z [ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\r\n2023-03-02T19:55:03.7336637Z [ERROR] \tat org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\r\n2023-03-02T19:55:03.7337270Z [ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\r\n2023-03-02T19:55:03.7337908Z [ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\r\n2023-03-02T19:55:03.7339932Z [ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\r\n2023-03-02T19:55:03.7340915Z [ERROR] \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\r\n2023-03-02T19:55:03.7341820Z [ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\r\n2023-03-02T19:55:03.7342725Z [ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:260)\r\n2023-03-02T19:55:03.7344494Z [ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:172)\r\n2023-03-02T19:55:03.7344946Z [ERROR] \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:100)\r\n2023-03-02T19:55:03.7348803Z [ERROR] \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:821)\r\n2023-03-02T19:55:03.7350150Z [ERROR] \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:270)\r\n2023-03-02T19:55:03.7351361Z [ERROR] \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\r\n2023-03-02T19:55:03.7351775Z [ERROR] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2023-03-02T19:55:03.7355639Z [ERROR] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n2023-03-02T19:55:03.7356926Z [ERROR] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2023-03-02T19:55:03.7357418Z [ERROR] \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n2023-03-02T19:55:03.7357904Z [ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n2023-03-02T19:55:03.7358471Z [ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n2023-03-02T19:55:03.7359040Z [ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n2023-03-02T19:55:03.7359611Z [ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n```\r\n\r\nCan anyone help me to resolve this? I have changed the plugin versions and everything possible.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t&lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n\t\t&lt;/suiteXmlFiles&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe `testng.xml` points to the class I want to run. Thanks in advance! \r\n\r\n\r\nUpdate: Was able to resolve the issue by adding the full path of the testng.xml file but getting the following error now:\r\n\r\n```\r\nCannot find class in classpath: denodoproject.test001GET\r\nError:  org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n```\r\n\r\nHere&#39;s the screenshot of the folder structure and the `testng.xml` file is added:\r\n\r\n![directory structure](https://i.stack.imgur.com/RRUqb.png)\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot;&gt;\r\n  &lt;test thread-count=&quot;5&quot; name=&quot;Test&quot;&gt;\r\n    &lt;classes&gt;\r\n      &lt;class name=&quot;denodoproject.test001GET&quot;/&gt;\r\n    &lt;/classes&gt;\r\n  &lt;/test&gt; &lt;!-- Test --&gt;\r\n&lt;/suite&gt; &lt;!-- Suite --&gt;\r\n```\r\n\r\nAdding the workflow used in github actions:\r\n\r\n```yaml\r\nname: Java CI with Maven\r\n\r\non:\r\n  workflow_dispatch:\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - uses: actions/checkout@v2\r\n    - name: Set up JDK 1.8\r\n      uses: actions/setup-java@v1\r\n      with:\r\n        java-version: 1.8\r\n\r\n    - name: Build with Maven\r\n      run: mvn clean test\r\n```\r\n\r\nError: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9E02S.png","title":"Github actions: Maven project: Cannot find class in classpath","body":"<p>I am trying to run a maven project from GitHub actions but it's failing with a lot of errors which I am unable to resolve. Any help is highly appreciated.</p>\n<p>Error:</p>\n<pre><code>2023-03-02T19:55:03.1308665Z [INFO] -------------------------------------------------------\n2023-03-02T19:55:03.1309334Z [INFO]  T E S T S\n2023-03-02T19:55:03.1309709Z [INFO] -------------------------------------------------------\n2023-03-02T19:55:03.7212762Z [INFO] \n2023-03-02T19:55:03.7213543Z [INFO] Results:\n2023-03-02T19:55:03.7213970Z [INFO] \n2023-03-02T19:55:03.7230143Z [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n2023-03-02T19:55:03.7230436Z [INFO] \n2023-03-02T19:55:03.7285928Z [INFO] ------------------------------------------------------------------------\n2023-03-02T19:55:03.7286503Z [INFO] BUILD FAILURE\n2023-03-02T19:55:03.7287068Z [INFO] ------------------------------------------------------------------------\n2023-03-02T19:55:03.7302478Z [INFO] Total time:  7.605 s\n2023-03-02T19:55:03.7305208Z [INFO] Finished at: 2023-03-02T19:55:03Z\n2023-03-02T19:55:03.7306231Z [INFO] ------------------------------------------------------------------------\n2023-03-02T19:55:03.7315453Z [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project denodoproject: There are test failures.\n2023-03-02T19:55:03.7316101Z [ERROR] \n2023-03-02T19:55:03.7317796Z [ERROR] Please refer to /home/runner/work/denodo_CI_CD/denodo_CI_CD/target/surefire-reports for the individual test results.\n2023-03-02T19:55:03.7318580Z [ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n2023-03-02T19:55:03.7319475Z [ERROR] There was an error in the forked process\n2023-03-02T19:55:03.7320519Z [ERROR] Suite file /home/runner/work/denodo_CI_CD/denodo_CI_CD/testng.xml is not a valid file\n2023-03-02T19:55:03.7321637Z [ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n2023-03-02T19:55:03.7322487Z [ERROR] Suite file /home/runner/work/denodo_CI_CD/denodo_CI_CD/testng.xml is not a valid file\n2023-03-02T19:55:03.7323596Z [ERROR]    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:657)\n2023-03-02T19:55:03.7324553Z [ERROR]    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:283)\n2023-03-02T19:55:03.7325514Z [ERROR]    at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:246)\n2023-03-02T19:55:03.7326565Z [ERROR]    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1161)\n2023-03-02T19:55:03.7327529Z [ERROR]    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1002)\n2023-03-02T19:55:03.7328448Z [ERROR]    at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:848)\n2023-03-02T19:55:03.7329281Z [ERROR]    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n2023-03-02T19:55:03.7330233Z [ERROR]    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:342)\n2023-03-02T19:55:03.7331185Z [ERROR]    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:330)\n2023-03-02T19:55:03.7333467Z [ERROR]    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n2023-03-02T19:55:03.7334284Z [ERROR]    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:175)\n2023-03-02T19:55:03.7335259Z [ERROR]    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:76)\n2023-03-02T19:55:03.7335819Z [ERROR]    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:163)\n2023-03-02T19:55:03.7336637Z [ERROR]    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n2023-03-02T19:55:03.7337270Z [ERROR]    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:160)\n2023-03-02T19:55:03.7337908Z [ERROR]    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n2023-03-02T19:55:03.7339932Z [ERROR]    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n2023-03-02T19:55:03.7340915Z [ERROR]    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n2023-03-02T19:55:03.7341820Z [ERROR]    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n2023-03-02T19:55:03.7342725Z [ERROR]    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:260)\n2023-03-02T19:55:03.7344494Z [ERROR]    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:172)\n2023-03-02T19:55:03.7344946Z [ERROR]    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:100)\n2023-03-02T19:55:03.7348803Z [ERROR]    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:821)\n2023-03-02T19:55:03.7350150Z [ERROR]    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:270)\n2023-03-02T19:55:03.7351361Z [ERROR]    at org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\n2023-03-02T19:55:03.7351775Z [ERROR]    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023-03-02T19:55:03.7355639Z [ERROR]    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2023-03-02T19:55:03.7356926Z [ERROR]    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023-03-02T19:55:03.7357418Z [ERROR]    at java.lang.reflect.Method.invoke(Method.java:498)\n2023-03-02T19:55:03.7357904Z [ERROR]    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n2023-03-02T19:55:03.7358471Z [ERROR]    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n2023-03-02T19:55:03.7359040Z [ERROR]    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n2023-03-02T19:55:03.7359611Z [ERROR]    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n</code></pre>\n<p>Can anyone help me to resolve this? I have changed the plugin versions and everything possible.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;inherited&gt;true&lt;/inherited&gt;\n    &lt;configuration&gt;\n        &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n        &lt;/suiteXmlFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The <code>testng.xml</code> points to the class I want to run. Thanks in advance!</p>\n<p>Update: Was able to resolve the issue by adding the full path of the testng.xml file but getting the following error now:</p>\n<pre><code>Cannot find class in classpath: denodoproject.test001GET\nError:  org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n</code></pre>\n<p>Here's the screenshot of the folder structure and the <code>testng.xml</code> file is added:</p>\n<p><img src=\"https://i.stack.imgur.com/RRUqb.png\" alt=\"directory structure\" /></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot;&gt;\n  &lt;test thread-count=&quot;5&quot; name=&quot;Test&quot;&gt;\n    &lt;classes&gt;\n      &lt;class name=&quot;denodoproject.test001GET&quot;/&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n<p>Adding the workflow used in github actions:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Java CI with Maven\n\non:\n  workflow_dispatch:\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v2\n    - name: Set up JDK 1.8\n      uses: actions/setup-java@v1\n      with:\n        java-version: 1.8\n\n    - name: Build with Maven\n      run: mvn clean test\n</code></pre>\n<p>Error:</p>\n<p><a href=\"https://i.stack.imgur.com/9E02S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9E02S.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","compilation"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":2,"creation_date":1677913699,"post_id":75634161,"comment_id":133434915,"body_markdown":"`test2(new B()); // stdout A` - that&#39;s so not true, in this case you get B not A, because you already overriding A&#39;s method","body":"<code>test2(new B()); &#47;&#47; stdout A</code> - that&#39;s so not true, in this case you get B not A, because you already overriding A&#39;s method"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1677913715,"post_id":75634161,"comment_id":133434919,"body_markdown":"That code does not print `A` and `A`. It prints `A` and `B`.","body":"That code does not print <code>A</code> and <code>A</code>. It prints <code>A</code> and <code>B</code>."},{"owner":{"account_id":4929986,"reputation":734,"user_id":3970079,"accept_rate":75,"display_name":"HyeonJunOh"},"score":0,"creation_date":1677913854,"post_id":75634161,"comment_id":133434927,"body_markdown":"@tornadoradon Thank you :) I change the definition.","body":"@tornadoradon Thank you :) I change the definition."},{"owner":{"account_id":4929986,"reputation":734,"user_id":3970079,"accept_rate":75,"display_name":"HyeonJunOh"},"score":0,"creation_date":1677914631,"post_id":75634161,"comment_id":133434992,"body_markdown":"@Sweeper Oh, I got confused with C.","body":"@Sweeper Oh, I got confused with C."}],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1677914212,"creation_date":1677913907,"answer_id":75634208,"question_id":75634161,"body_markdown":"Java basically has 2 ways to determine what method implementation to run:\r\n\r\n 1. Static dispatch\r\n 2. Dynamic dispatch\r\n\r\n**Static dispatch** is when you **compile** the code, Java will look at the type of the variable you are using and select the method for that type.\r\n\r\nIn **Dynamic dispatch**, however, the decision of what method to execute is done by the **receiving object** irrespective of any types of variables. This is done **at runtime**.\r\n\r\nSo you can think of it as Java &quot;asking&quot; **the object** to execute the selected method, and then the Java object looking to see if it has that method , and if it doesn&#39;t have the method implemented in its class it &quot;asks&quot; it&#39;s super class. And that process goes all the way to the root class of the hierarchy.\r\n\r\n**Note**: in Java objects always know what their class is. You can call methods like `object.getClass()`. So internally you can imagine it takes advantage of this fact.\r\n\r\nActual implementation details are probably slightly more nuanced, and full of optimizations, but this is the mental model you can use.\r\n\r\nIn fact, in Smalltalk (the first or second OO language, depending on who you ask) this is exactly how it would happen. A &quot;method call&quot; would send a &quot;message&quot; to the object, and the object would either execute the method or pass it to the superclass. If no implementation was found you&#39;d get an exception (since Smalltalk had no static typing).\r\n\r\nThis is why dynamic dispatch is sometimes referred to as &quot;message passing&quot;.","title":"How does Java interface type parameter work?","body":"<p>Java basically has 2 ways to determine what method implementation to run:</p>\n<ol>\n<li>Static dispatch</li>\n<li>Dynamic dispatch</li>\n</ol>\n<p><strong>Static dispatch</strong> is when you <strong>compile</strong> the code, Java will look at the type of the variable you are using and select the method for that type.</p>\n<p>In <strong>Dynamic dispatch</strong>, however, the decision of what method to execute is done by the <strong>receiving object</strong> irrespective of any types of variables. This is done <strong>at runtime</strong>.</p>\n<p>So you can think of it as Java &quot;asking&quot; <strong>the object</strong> to execute the selected method, and then the Java object looking to see if it has that method , and if it doesn't have the method implemented in its class it &quot;asks&quot; it's super class. And that process goes all the way to the root class of the hierarchy.</p>\n<p><strong>Note</strong>: in Java objects always know what their class is. You can call methods like <code>object.getClass()</code>. So internally you can imagine it takes advantage of this fact.</p>\n<p>Actual implementation details are probably slightly more nuanced, and full of optimizations, but this is the mental model you can use.</p>\n<p>In fact, in Smalltalk (the first or second OO language, depending on who you ask) this is exactly how it would happen. A &quot;method call&quot; would send a &quot;message&quot; to the object, and the object would either execute the method or pass it to the superclass. If no implementation was found you'd get an exception (since Smalltalk had no static typing).</p>\n<p>This is why dynamic dispatch is sometimes referred to as &quot;message passing&quot;.</p>\n"}],"owner":{"account_id":4929986,"reputation":734,"user_id":3970079,"accept_rate":75,"display_name":"HyeonJunOh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75634208,"answer_count":1,"score":0,"last_activity_date":1677914212,"creation_date":1677913187,"question_id":75634161,"body_markdown":"How does Java know the exact call address on runtime if the given type is interface? For example,\r\n\r\n```java\r\n// A few definitions\r\n\r\npublic interface In {\r\n  void method();\r\n}\r\n\r\npublic class A implements In {\r\n  public void method() {\r\n    System.out.println(&quot;A&quot;);\r\n  }\r\n}\r\n\r\npublic class B extends A {\r\n  public void method() {\r\n    System.out.println(&quot;B&quot;);\r\n  }\r\n}\r\n```\r\nThere are some interface, class definitions, and use those as follow.\r\n\r\n```java\r\n// ... Java stuff...\r\npublic int main() {\r\n  test1(new A()); // stdout A\r\n  test2(new B()); // stdout A\r\n}\r\n\r\npublic void test1(In i) {\r\n  i.method();\r\n}\r\n\r\npublic void test2(A a) {\r\n  a.method();\r\n}\r\n```\r\n\r\nFrom the result of test1, Java runtime seems to know exact given `i`&#39;s type cause `test1` print out `A` which is given by `main` as an argument.\r\n\r\nThe result of test2, if given parameter type is not an interface, Java runtime doesn&#39;t know the given type `B` and just access to method of `A` which is actually not given by `main`.\r\n\r\nSecond case `test2` is quite straightforward to me because compiler doesn&#39;t know which subtype of `A` is given as a parameter, so just compile to bytecode just call method of `A`. So the runtime just call `A`&#39;s method.\r\n\r\nBut first case `test1`, how can the runtime know exactly what a given type is?","title":"How does Java interface type parameter work?","body":"<p>How does Java know the exact call address on runtime if the given type is interface? For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A few definitions\n\npublic interface In {\n  void method();\n}\n\npublic class A implements In {\n  public void method() {\n    System.out.println(&quot;A&quot;);\n  }\n}\n\npublic class B extends A {\n  public void method() {\n    System.out.println(&quot;B&quot;);\n  }\n}\n</code></pre>\n<p>There are some interface, class definitions, and use those as follow.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ... Java stuff...\npublic int main() {\n  test1(new A()); // stdout A\n  test2(new B()); // stdout A\n}\n\npublic void test1(In i) {\n  i.method();\n}\n\npublic void test2(A a) {\n  a.method();\n}\n</code></pre>\n<p>From the result of test1, Java runtime seems to know exact given <code>i</code>'s type cause <code>test1</code> print out <code>A</code> which is given by <code>main</code> as an argument.</p>\n<p>The result of test2, if given parameter type is not an interface, Java runtime doesn't know the given type <code>B</code> and just access to method of <code>A</code> which is actually not given by <code>main</code>.</p>\n<p>Second case <code>test2</code> is quite straightforward to me because compiler doesn't know which subtype of <code>A</code> is given as a parameter, so just compile to bytecode just call method of <code>A</code>. So the runtime just call <code>A</code>'s method.</p>\n<p>But first case <code>test1</code>, how can the runtime know exactly what a given type is?</p>\n"},{"tags":["java","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677913652,"post_id":75634169,"comment_id":133434911,"body_markdown":"Java is pass-by-value, but the value that is passed is the reference to the object (in this case the list), given `permuteUtil` modifies the list passed in by adding a value to the list, calling `permuteUtil`, and then **removing** a value from the list, the end result is an empty list, because ultimately it is one and the same list. You&#39;ll end up with a list with multiple reference to the same, empty, list.","body":"Java is pass-by-value, but the value that is passed is the reference to the object (in this case the list), given <code>permuteUtil</code> modifies the list passed in by adding a value to the list, calling <code>permuteUtil</code>, and then <b>removing</b> a value from the list, the end result is an empty list, because ultimately it is one and the same list. You&#39;ll end up with a list with multiple reference to the same, empty, list."}],"owner":{"account_id":16422382,"reputation":1,"user_id":11863292,"display_name":"Pritha Rahut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677913394,"answer_count":0,"score":0,"last_activity_date":1677913426,"creation_date":1677913279,"question_id":75634169,"body_markdown":"I have the following code:\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        permuteUtil(new ArrayList&lt;Integer&gt;(), nums, result);\r\n        return result;\r\n    }\r\n\r\n    public void permuteUtil(List&lt;Integer&gt; current, int[] nums, List&lt;List&lt;Integer&gt;&gt; result){\r\n        if(current.size() == nums.length){\r\n            result.add(current);\r\n        }\r\n        for(int i=0; i&lt;nums.length; i++){\r\n            if(!current.contains(nums[i])){\r\n                current.add(nums[i]);\r\n                permuteUtil(current, nums, result);\r\n                current.remove(current.size()-1);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nI am modifying the current list and adding it to result set, however when current.size() == nums.length condition is fulfilled, an empty list gets added to result. \r\n\r\nBut when I create a new list from current and add it to result, it works fine. \r\n```result.add(new ArrayList&lt;&gt;(current))```\r\n\r\nPlease help me understand what exactly happens when I try to add current directly to result.","title":"is list parameter in java, pass-by-reference or pass-by-value?","body":"<p>I have the following code:</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        permuteUtil(new ArrayList&lt;Integer&gt;(), nums, result);\n        return result;\n    }\n\n    public void permuteUtil(List&lt;Integer&gt; current, int[] nums, List&lt;List&lt;Integer&gt;&gt; result){\n        if(current.size() == nums.length){\n            result.add(current);\n        }\n        for(int i=0; i&lt;nums.length; i++){\n            if(!current.contains(nums[i])){\n                current.add(nums[i]);\n                permuteUtil(current, nums, result);\n                current.remove(current.size()-1);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am modifying the current list and adding it to result set, however when current.size() == nums.length condition is fulfilled, an empty list gets added to result.</p>\n<p>But when I create a new list from current and add it to result, it works fine.\n<code>result.add(new ArrayList&lt;&gt;(current))</code></p>\n<p>Please help me understand what exactly happens when I try to add current directly to result.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1678025092,"post_id":75634160,"comment_id":133449176,"body_markdown":"THis is not possible - see https://stackoverflow.com/questions/4783421/how-can-i-include-raw-json-in-an-object-using-jackson for a similar question.","body":"THis is not possible - see <a href=\"https://stackoverflow.com/questions/4783421/how-can-i-include-raw-json-in-an-object-using-jackson\" title=\"how can i include raw json in an object using jackson\">stackoverflow.com/questions/4783421/&hellip;</a> for a similar question."}],"owner":{"account_id":4083510,"reputation":139,"user_id":3353393,"accept_rate":57,"display_name":"user3353393"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677913146,"creation_date":1677913146,"question_id":75634160,"body_markdown":"I have a interesting problem. Basically I have requirement where we need to generate HMAC SH256 out of RAW json body which is pretty easy. Problem is that our model is a little bit tricky and I don&#39;t know how to handle this correctly so it will work. So basically we receive JSON request looking like this: \r\n\r\n    {\r\n    \t&quot;type&quot;:&quot;ef3be186-fba4-4778-ad29-8b8f87a10de8&quot;,\r\n    \t&quot;body&quot;:{\r\n    \t\t&quot;isActive&quot;:true,\r\n    \t\t&quot;balance&quot;:&quot;$3,858.83&quot;,\r\n    \t\t&quot;tags&quot;:[\r\n    \t\t\t&quot;labore&quot;,\r\n    \t\t\t&quot;aliquip&quot;,\r\n    \t\t\t&quot;velit&quot;,\r\n    \t\t\t&quot;consequat&quot;,\r\n    \t\t\t&quot;tempor&quot;,\r\n    \t\t\t&quot;in&quot;,\r\n    \t\t\t&quot;sint&quot;\r\n    \t\t],\r\n    \t\t&quot;friends&quot;:[\r\n    \t\t\t{\r\n    \t\t\t\t&quot;id&quot;:0,\r\n    \t\t\t\t&quot;name&quot;:&quot;Gay Roth&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;id&quot;:1,\r\n    \t\t\t\t&quot;name&quot;:&quot;Glenda Farmer&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;id&quot;:2,\r\n    \t\t\t\t&quot;name&quot;:&quot;Suzanne Puckett&quot;\r\n    \t\t\t}\r\n    \t\t],\r\n    \t\t&quot;greeting&quot;:&quot;Hello, Blanca Sharp! You have 2 unread messages.&quot;,\r\n    \t\t&quot;favoriteFruit&quot;:&quot;strawberry&quot;\r\n    \t}\r\n    }\r\n\r\nNothing special at this moment problem is that everything on body tag need to stay exactly the same os new lanes / indention etc. We are using Jackson to map pojos and our pojo looks like this (but it doesn&#39;t work): \r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @EqualsAndHashCode\r\n    public class RandomRequest {\r\n    \r\n        private String type;\r\n    \r\n        @JsonRawValue\r\n        private String body;\r\n    \r\n    }\r\n\r\nError: \r\n\r\n**java.io.UncheckedIOException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT** \r\n\r\nSo my question is simple. Is there any way to tell jackson to map just type and leave body part untouched as a pure JSON ? (not JSONNode / Object - those will lose all formatting - we need just pure raw JSON string)","title":"Jackson - part of model as a raw json while deserializing","body":"<p>I have a interesting problem. Basically I have requirement where we need to generate HMAC SH256 out of RAW json body which is pretty easy. Problem is that our model is a little bit tricky and I don't know how to handle this correctly so it will work. So basically we receive JSON request looking like this:</p>\n<pre><code>{\n    &quot;type&quot;:&quot;ef3be186-fba4-4778-ad29-8b8f87a10de8&quot;,\n    &quot;body&quot;:{\n        &quot;isActive&quot;:true,\n        &quot;balance&quot;:&quot;$3,858.83&quot;,\n        &quot;tags&quot;:[\n            &quot;labore&quot;,\n            &quot;aliquip&quot;,\n            &quot;velit&quot;,\n            &quot;consequat&quot;,\n            &quot;tempor&quot;,\n            &quot;in&quot;,\n            &quot;sint&quot;\n        ],\n        &quot;friends&quot;:[\n            {\n                &quot;id&quot;:0,\n                &quot;name&quot;:&quot;Gay Roth&quot;\n            },\n            {\n                &quot;id&quot;:1,\n                &quot;name&quot;:&quot;Glenda Farmer&quot;\n            },\n            {\n                &quot;id&quot;:2,\n                &quot;name&quot;:&quot;Suzanne Puckett&quot;\n            }\n        ],\n        &quot;greeting&quot;:&quot;Hello, Blanca Sharp! You have 2 unread messages.&quot;,\n        &quot;favoriteFruit&quot;:&quot;strawberry&quot;\n    }\n}\n</code></pre>\n<p>Nothing special at this moment problem is that everything on body tag need to stay exactly the same os new lanes / indention etc. We are using Jackson to map pojos and our pojo looks like this (but it doesn't work):</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@EqualsAndHashCode\npublic class RandomRequest {\n\n    private String type;\n\n    @JsonRawValue\n    private String body;\n\n}\n</code></pre>\n<p>Error:</p>\n<p><strong>java.io.UncheckedIOException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of <code>java.lang.String</code> out of START_OBJECT</strong></p>\n<p>So my question is simple. Is there any way to tell jackson to map just type and leave body part untouched as a pure JSON ? (not JSONNode / Object - those will lose all formatting - we need just pure raw JSON string)</p>\n"},{"tags":["java","spring-boot","wiremock"],"answers":[{"comments":[{"owner":{"account_id":12602960,"reputation":133,"user_id":9165045,"display_name":"Yacine Ait Yaiz"},"score":0,"creation_date":1514963111,"post_id":48071315,"comment_id":83118934,"body_markdown":"Thanks for the suggestion. I Will try this and let you know of that dit the trick.","body":"Thanks for the suggestion. I Will try this and let you know of that dit the trick."},{"owner":{"account_id":6051829,"reputation":1859,"user_id":5405478,"accept_rate":77,"display_name":"Vladyslav Nikolaiev"},"score":4,"creation_date":1595363881,"post_id":48071315,"comment_id":111447808,"body_markdown":"This still can cause raise conditions. WireMock start can take some time, since `start()` is not blocking operation and it takes some time to init stubs. As a result it can be not started yet fully, when the first request from test are being fired.","body":"This still can cause raise conditions. WireMock start can take some time, since <code>start()</code> is not blocking operation and it takes some time to init stubs. As a result it can be not started yet fully, when the first request from test are being fired."}],"tags":[],"owner":{"account_id":7233641,"reputation":2294,"user_id":5519648,"display_name":"Alex M981"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1514954720,"creation_date":1514954720,"answer_id":48071315,"question_id":48065941,"body_markdown":"you might create static instance of WireMockServer in your test. Here is a code sample:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class YourApplicationTests {\r\n        static WireMockServer mockHttpServer = new WireMockServer(10000); // endpoint port here\r\n\r\n        @BeforeClass\r\n        public static void setup() throws Exception {\r\n            mockHttpServer.stubFor(get(urlPathMatching(&quot;/&quot;)).willReturn(aResponse().withBody(&quot;test&quot;).withStatus(200)));\r\n            mockHttpServer.start();\r\n        }\r\n\r\n        @AfterClass\r\n        public static void teardown() throws Exception {\r\n            mockHttpServer.stop();\r\n        }\r\n\r\n        @Test\r\n        public void someTest() throws Exception {\r\n            // your test code here\r\n        }\r\n    }","title":"How to get wiremock running before the spring boot application status up?","body":"<p>you might create static instance of WireMockServer in your test. Here is a code sample:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class YourApplicationTests {\n    static WireMockServer mockHttpServer = new WireMockServer(10000); // endpoint port here\n\n    @BeforeClass\n    public static void setup() throws Exception {\n        mockHttpServer.stubFor(get(urlPathMatching(\"/\")).willReturn(aResponse().withBody(\"test\").withStatus(200)));\n        mockHttpServer.start();\n    }\n\n    @AfterClass\n    public static void teardown() throws Exception {\n        mockHttpServer.stop();\n    }\n\n    @Test\n    public void someTest() throws Exception {\n        // your test code here\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12602960,"reputation":133,"user_id":9165045,"display_name":"Yacine Ait Yaiz"},"score":2,"creation_date":1514984565,"post_id":48075537,"comment_id":83129661,"body_markdown":"Thanks for the feedback. I used the spring cloud contract version of wiremock first. But this version is only started after the application context is already started. And that is actually my problem. The accepted answer is working for me.","body":"Thanks for the feedback. I used the spring cloud contract version of wiremock first. But this version is only started after the application context is already started. And that is actually my problem. The accepted answer is working for me."}],"tags":[],"owner":{"account_id":991044,"reputation":3566,"user_id":1008361,"display_name":"Tom"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514975291,"creation_date":1514975291,"answer_id":48075537,"question_id":48065941,"body_markdown":"The Spring Boot team have built a WireMock integration. Might be worth checking it out rather than rolling your own: http://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.1.2.RELEASE/#_spring_cloud_contract_wiremock","title":"How to get wiremock running before the spring boot application status up?","body":"<p>The Spring Boot team have built a WireMock integration. Might be worth checking it out rather than rolling your own: <a href=\"http://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.1.2.RELEASE/#_spring_cloud_contract_wiremock\" rel=\"nofollow noreferrer\">http://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.1.2.RELEASE/#_spring_cloud_contract_wiremock</a></p>\n"},{"tags":[],"owner":{"account_id":9045259,"reputation":5321,"user_id":6737860,"display_name":"Thomas K&#229;sene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596515498,"creation_date":1596515498,"answer_id":63240317,"question_id":48065941,"body_markdown":"I&#39;m late to the party here, but I&#39;ve been struggling with the same thing several times, and while the accepted answer can work in many cases, here&#39;s the solution I came up with:\r\n\r\nhttps://github.com/ThomasKasene/wiremock-junit-extension\r\n\r\nIt&#39;s a custom JUnit Jupiter extension that you put over your test class, and it&#39;ll start up the server for you, much like Spring Cloud Contract&#39;s version. The difference is that it&#39;s detached from the Spring context so it can be started before Spring spins up its context.","title":"How to get wiremock running before the spring boot application status up?","body":"<p>I'm late to the party here, but I've been struggling with the same thing several times, and while the accepted answer can work in many cases, here's the solution I came up with:</p>\n<p><a href=\"https://github.com/ThomasKasene/wiremock-junit-extension\" rel=\"nofollow noreferrer\">https://github.com/ThomasKasene/wiremock-junit-extension</a></p>\n<p>It's a custom JUnit Jupiter extension that you put over your test class, and it'll start up the server for you, much like Spring Cloud Contract's version. The difference is that it's detached from the Spring context so it can be started before Spring spins up its context.</p>\n"},{"tags":[],"owner":{"account_id":3265414,"reputation":405,"user_id":2750013,"display_name":"Dalibor Grudenic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631648584,"creation_date":1631648584,"answer_id":69183709,"question_id":48065941,"body_markdown":"If you are running Wiremock programmatically inside JUnit tests you might run into race condition since start() is non blocking. Check official documentation [here][1] it states that in context of JUnit tests:\r\n\r\n - For JUnit 4.x and JUnit 5 Vintage you should use JUnit rule included\r\n   in WireMock\r\n - For JUnit 5+ Jupiter use JUnit Jupiter extension\r\n\r\n\r\n  [1]: http://wiremock.org/docs/junit-extensions/","title":"How to get wiremock running before the spring boot application status up?","body":"<p>If you are running Wiremock programmatically inside JUnit tests you might run into race condition since start() is non blocking. Check official documentation <a href=\"http://wiremock.org/docs/junit-extensions/\" rel=\"nofollow noreferrer\">here</a> it states that in context of JUnit tests:</p>\n<ul>\n<li>For JUnit 4.x and JUnit 5 Vintage you should use JUnit rule included\nin WireMock</li>\n<li>For JUnit 5+ Jupiter use JUnit Jupiter extension</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677912795,"creation_date":1662591020,"answer_id":73642141,"question_id":48065941,"body_markdown":"In my case, the static config was working locally and in our CI, until we migrated our CI to cloud.. for some reason, one test was failing, because one Spring bean initiates its cache at startup by calling a remote service, and wiremock was not available at that time.. so the cache would be empty.\r\n\r\nwhy did this start to happen ? I have no idea.. but after adding more logs, to track when the Spring bean was getting instantiated vs when Wiremock was being setup, I realized that the Spring beans were being reused from a previous test.\r\n\r\nso my solution, in addition to the static config, was to add `@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)` on my test, to make sure that the whole Spring context was being reloaded before running the tests     ","title":"How to get wiremock running before the spring boot application status up?","body":"<p>In my case, the static config was working locally and in our CI, until we migrated our CI to cloud.. for some reason, one test was failing, because one Spring bean initiates its cache at startup by calling a remote service, and wiremock was not available at that time.. so the cache would be empty.</p>\n<p>why did this start to happen ? I have no idea.. but after adding more logs, to track when the Spring bean was getting instantiated vs when Wiremock was being setup, I realized that the Spring beans were being reused from a previous test.</p>\n<p>so my solution, in addition to the static config, was to add <code>@DirtiesContext(classMode = ClassMode.BEFORE_CLASS)</code> on my test, to make sure that the whole Spring context was being reloaded before running the tests</p>\n"}],"owner":{"account_id":12602960,"reputation":133,"user_id":9165045,"display_name":"Yacine Ait Yaiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14973,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":48071315,"answer_count":5,"score":12,"last_activity_date":1677912795,"creation_date":1514917535,"question_id":48065941,"body_markdown":"I have an integration test for a spring boot micro-service. The problem is that the service calls an external service (via REST) on startup. I’m using WireMock to mock the call. Spring makes the application start before WireMock is started. Because of this, the rest call fails and so does the service.\r\n\r\nThe call is made by a library that is also made by our company, so I cannot change anything there. \r\n\r\nDo you have any suggestions for me?","title":"How to get wiremock running before the spring boot application status up?","body":"<p>I have an integration test for a spring boot micro-service. The problem is that the service calls an external service (via REST) on startup. I’m using WireMock to mock the call. Spring makes the application start before WireMock is started. Because of this, the rest call fails and so does the service.</p>\n<p>The call is made by a library that is also made by our company, so I cannot change anything there.</p>\n<p>Do you have any suggestions for me?</p>\n"},{"tags":["java","android","android-studio","android-fragments"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1677913639,"post_id":75634057,"comment_id":133434908,"body_markdown":"Did you [read the documentation about intercepting the back button in a fragment](https://developer.android.com/guide/navigation/navigation-custom-back)?","body":"Did you <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"nofollow noreferrer\">read the documentation about intercepting the back button in a fragment</a>?"}],"owner":{"account_id":26011589,"reputation":5,"user_id":19720568,"display_name":"Rumaion Tomal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677912644,"creation_date":1677911406,"question_id":75634057,"body_markdown":"Please understand at first, I want to show a dialog when user press on back button. \r\n\r\nExample: I have 4 Fragment like A,B,C,D.\r\n\r\nIf user go to A -&gt; C then, When user want to come A &lt;- C or C to other there he will get a dialog. But if user go A -&gt; B or A &lt;- B or B-&gt;D or B &lt;- D or A &lt;- D they will not get any dialog. Mean dialog will be only for C fragment. \r\n\r\n\r\nI was try this code:\r\n\r\n```\r\n@Override\r\n    public void onBackPressed(){\r\n            \r\n            super.onBackPressed();\r\n        \r\n    }\r\n\r\n```\r\n\r\nBut \r\n```\r\n@Override\r\n    public void onBackPressed()\r\n```\r\nis not in Fragment Class. It show error\r\n \r\n","title":"How to show dialog when someone backpress from specific Fragment in android JAVA","body":"<p>Please understand at first, I want to show a dialog when user press on back button.</p>\n<p>Example: I have 4 Fragment like A,B,C,D.</p>\n<p>If user go to A -&gt; C then, When user want to come A &lt;- C or C to other there he will get a dialog. But if user go A -&gt; B or A &lt;- B or B-&gt;D or B &lt;- D or A &lt;- D they will not get any dialog. Mean dialog will be only for C fragment.</p>\n<p>I was try this code:</p>\n<pre><code>@Override\n    public void onBackPressed(){\n            \n            super.onBackPressed();\n        \n    }\n\n</code></pre>\n<p>But</p>\n<pre><code>@Override\n    public void onBackPressed()\n</code></pre>\n<p>is not in Fragment Class. It show error</p>\n"},{"tags":["java","kotlin","fragment"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677989617,"post_id":75634098,"comment_id":133445143,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25299281,"reputation":3,"user_id":19123805,"display_name":"Felicia "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677912151,"creation_date":1677912151,"question_id":75634098,"body_markdown":"I call method from java fragment to kotlin fragment using\r\n\r\nRecordfragment().startRecording()\r\n\r\n\r\nbut error applied \r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Chronometer.setBase(long)&#39; on a null object reference\r\n        at com.fypvpreventor.VpreventorFYP.Record.startRecording(Record.java:114)\r\n        at com.fypvpreventor.VpreventorFYP.fragments.SensorFragment.sendMessage(SensorFragment.kt:111)\r\n        at com.fypvpreventor.VpreventorFYP.fragments.SensorFragment.access$sendMessage(SensorFragment.kt:36)\r\n        at com.fypvpreventor.VpreventorFYP.fragments.SensorFragment$sensorListener$1.onSensorChanged(SensorFragment.kt:94)\r\n        at android.hardware.SystemSensorManager$SensorEventQueue.dispatchSensorEvent(SystemSensorManager.java:944)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:363)\r\n        at android.os.Looper.loop(Looper.java:176)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\r\n```","title":"use method of java fragment in kotlin fragment but error: java.lang.NullPointerException","body":"<p>I call method from java fragment to kotlin fragment using</p>\n<p>Recordfragment().startRecording()</p>\n<p>but error applied</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Chronometer.setBase(long)' on a null object reference\n        at com.fypvpreventor.VpreventorFYP.Record.startRecording(Record.java:114)\n        at com.fypvpreventor.VpreventorFYP.fragments.SensorFragment.sendMessage(SensorFragment.kt:111)\n        at com.fypvpreventor.VpreventorFYP.fragments.SensorFragment.access$sendMessage(SensorFragment.kt:36)\n        at com.fypvpreventor.VpreventorFYP.fragments.SensorFragment$sensorListener$1.onSensorChanged(SensorFragment.kt:94)\n        at android.hardware.SystemSensorManager$SensorEventQueue.dispatchSensorEvent(SystemSensorManager.java:944)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:363)\n        at android.os.Looper.loop(Looper.java:176)\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\n</code></pre>\n"},{"tags":["java","bash","maven","apache-spark","java-17"],"answers":[{"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1677923948,"post_id":75634087,"comment_id":133436034,"body_markdown":"Well, we only have to hope that they will succeed in correcting what causes this trouble in either Spark or Scala. Until then, our program will stay linked to the previous Java version. In my mind, in the past, migrating from Java 3 to 4, 5, 6, 7, 8 was easier. Since 9+, it takes up to years.","body":"Well, we only have to hope that they will succeed in correcting what causes this trouble in either Spark or Scala. Until then, our program will stay linked to the previous Java version. In my mind, in the past, migrating from Java 3 to 4, 5, 6, 7, 8 was easier. Since 9+, it takes up to years."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677934528,"post_id":75634087,"comment_id":133437405,"body_markdown":"The access to `sun.nio.ch.DirectBuffer` most likely is for releasing the buffer timely, instead of relying on garbage collection. A clean solution is not possible yet; it will be there when the [Foreign memory access API](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/package-summary.html) is not  a *preview feature* anymore.","body":"The access to <code>sun.nio.ch.DirectBuffer</code> most likely is for releasing the buffer timely, instead of relying on garbage collection. A clean solution is not possible yet; it will be there when the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/package-summary.html\" rel=\"nofollow noreferrer\">Foreign memory access API</a> is not  a <i>preview feature</i> anymore."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677911947,"creation_date":1677911947,"answer_id":75634087,"question_id":75633758,"body_markdown":"[JEP 261: Module System][1] has this to say:\r\n\r\n\r\n&gt; Two new **JDK-specific** _[emphasis added]_ JAR-file manifest attributes are defined to correspond to the `--add-exports` and `--add-opens` command-line options:\r\n&gt;\r\n&gt; * `Add-Exports: &lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*`\r\n&gt; * `Add-Opens: &lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*`\r\n&gt;\r\n&gt; The value of each attribute is a space-separated list of slash-separated module-name/package-name pairs. A `&lt;module&gt;/&lt;package&gt;` pair in the value of an `Add-Exports` attribute has the same meaning as the command-line option `--add-exports &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED`. A `&lt;module&gt;/&lt;package&gt;` pair in the value of an `Add-Opens` attribute has the same meaning as the command-line option `--add-opens &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED`.\r\n&gt;\r\n&gt; Each attribute can occur at most once, in the main section of a `MANIFEST.MF` file. A particular pair can be listed more than once. If a specified module was not resolved, or if a specified package does not exist, then the corresponding pair is ignored. **These attributes are interpreted only in the main executable JAR file of an application, i.e., in the JAR file specified to the `-jar` option of the Java run-time launcher; they are ignored in all other JAR files.** _[emphasis added]_\r\n\r\n\r\nAs emphasized, these attributes are JDK-specific. They do not appear to be part of the [JAR file specification][2]. And they only work with the JAR file specified with the `-jar` option.\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/261\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/specs/jar/jar.html","title":"Does a way exist through jar, manifest... to setup --add-exports, --add-opens directives definitively, to avoid passing them on command line?","body":"<p><a href=\"https://openjdk.org/jeps/261\" rel=\"nofollow noreferrer\">JEP 261: Module System</a> has this to say:</p>\n<blockquote>\n<p>Two new <strong>JDK-specific</strong> <em>[emphasis added]</em> JAR-file manifest attributes are defined to correspond to the <code>--add-exports</code> and <code>--add-opens</code> command-line options:</p>\n<ul>\n<li><code>Add-Exports: &lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*</code></li>\n<li><code>Add-Opens: &lt;module&gt;/&lt;package&gt;( &lt;module&gt;/&lt;package&gt;)*</code></li>\n</ul>\n<p>The value of each attribute is a space-separated list of slash-separated module-name/package-name pairs. A <code>&lt;module&gt;/&lt;package&gt;</code> pair in the value of an <code>Add-Exports</code> attribute has the same meaning as the command-line option <code>--add-exports &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED</code>. A <code>&lt;module&gt;/&lt;package&gt;</code> pair in the value of an <code>Add-Opens</code> attribute has the same meaning as the command-line option <code>--add-opens &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED</code>.</p>\n<p>Each attribute can occur at most once, in the main section of a <code>MANIFEST.MF</code> file. A particular pair can be listed more than once. If a specified module was not resolved, or if a specified package does not exist, then the corresponding pair is ignored. <strong>These attributes are interpreted only in the main executable JAR file of an application, i.e., in the JAR file specified to the <code>-jar</code> option of the Java run-time launcher; they are ignored in all other JAR files.</strong> <em>[emphasis added]</em></p>\n</blockquote>\n<p>As emphasized, these attributes are JDK-specific. They do not appear to be part of the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/jar/jar.html\" rel=\"nofollow noreferrer\">JAR file specification</a>. And they only work with the JAR file specified with the <code>-jar</code> option.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75634087,"answer_count":1,"score":2,"last_activity_date":1677911947,"creation_date":1677906296,"question_id":75633758,"body_markdown":"I encounter a problem that the whole _Spark_ community has:  \r\nwhen I switch from _Java_ 11 to 17, _Spark_ (for me the `3.3.2` version) fails with: \r\n\r\n`java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0xe25b2fe) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0xe25b2fe`\r\n\r\nThe solution is to :\r\n- Change your _Maven_ launch of unit tests,\r\n- Change your Dockerfiles,\r\n- Change your _java_ command lines in any script involving directly or indirectly your classes or _Spark_,\r\n- And ask all your customers to do the same\r\n\r\nto go from: \r\n\r\n```bash\r\njava -jar target/myProgram.jar\r\n```\r\n\r\nto : \r\n\r\n```bash\r\njava --add-exports java.base/sun.nio.ch=ALL-UNNAMED \\\r\n   --add-opens java.base/java.util=ALL-UNNAMED \\\r\n   --add-opens java.base/java.nio=ALL-UNNAMED \\\r\n   --add-opens java.base/java.lang=ALL-UNNAMED \\\r\n   --add-opens java.base/java.lang.invoke=ALL-UNNAMED \\\r\n   -jar myProgram.jar\r\n```\r\n\r\nAnd you understand that the response is, at 100%:  \r\n&quot;_No, let&#39;s stay on Java 11.  \r\nSpark (or Scala) doesn&#39;t handle Java 17 correctly, making it unusable with it_&quot;\r\n\r\nDoes an alternative solution exist, that would allow me to, like I would do savagely a:  \r\n`System.setProperty(&quot;my.property&quot;, &quot;myValue&quot;)`  \r\nif I was really willing so,  \r\n\r\nto setup at the earliest place of my build process,  \r\nsomething that would ensure that for/from any launch of the classes, jars I&#39;m producing here - whenever they are intended for tests, runtime, containerization... -,\r\n\r\nthe underlying _java_ command launching them will assume the  \r\n`--add-exports java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED    --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED`  \r\nto come along with it, avoiding for anyone the clumsy (and sometimes impossible task) of correcting all the java command lines everywhere?\r\n\r\n\r\nBecause it&#39;s a definitive stumbling block for the migration from Java 11 to Java 17.","title":"Does a way exist through jar, manifest... to setup --add-exports, --add-opens directives definitively, to avoid passing them on command line?","body":"<p>I encounter a problem that the whole <em>Spark</em> community has:<br />\nwhen I switch from <em>Java</em> 11 to 17, <em>Spark</em> (for me the <code>3.3.2</code> version) fails with:</p>\n<p><code>java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0xe25b2fe) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0xe25b2fe</code></p>\n<p>The solution is to :</p>\n<ul>\n<li>Change your <em>Maven</em> launch of unit tests,</li>\n<li>Change your Dockerfiles,</li>\n<li>Change your <em>java</em> command lines in any script involving directly or indirectly your classes or <em>Spark</em>,</li>\n<li>And ask all your customers to do the same</li>\n</ul>\n<p>to go from:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar target/myProgram.jar\n</code></pre>\n<p>to :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --add-exports java.base/sun.nio.ch=ALL-UNNAMED \\\n   --add-opens java.base/java.util=ALL-UNNAMED \\\n   --add-opens java.base/java.nio=ALL-UNNAMED \\\n   --add-opens java.base/java.lang=ALL-UNNAMED \\\n   --add-opens java.base/java.lang.invoke=ALL-UNNAMED \\\n   -jar myProgram.jar\n</code></pre>\n<p>And you understand that the response is, at 100%:<br />\n&quot;<em>No, let's stay on Java 11.<br />\nSpark (or Scala) doesn't handle Java 17 correctly, making it unusable with it</em>&quot;</p>\n<p>Does an alternative solution exist, that would allow me to, like I would do savagely a:<br />\n<code>System.setProperty(&quot;my.property&quot;, &quot;myValue&quot;)</code><br />\nif I was really willing so,</p>\n<p>to setup at the earliest place of my build process,<br />\nsomething that would ensure that for/from any launch of the classes, jars I'm producing here - whenever they are intended for tests, runtime, containerization... -,</p>\n<p>the underlying <em>java</em> command launching them will assume the<br />\n<code>--add-exports java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED    --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED</code><br />\nto come along with it, avoiding for anyone the clumsy (and sometimes impossible task) of correcting all the java command lines everywhere?</p>\n<p>Because it's a definitive stumbling block for the migration from Java 11 to Java 17.</p>\n"},{"tags":["java","android","broadcastreceiver","background-service","call-recording"],"owner":{"display_name":"user19585513"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677910808,"creation_date":1677910677,"question_id":75634013,"body_markdown":"I noticed that google dialer has a announcement feature after starting call recording...\r\nto overcome this i want to create an app without any UI which should record incoming and outgoing calls automatically when user get or make a call and after that it should save recording to storage.\r\n\r\nshould i use only background service? or broadcast receiver? or Both...\r\nI have tried to achieve that using following code but yet to achieve it.\r\nthanks there!\r\n\r\n\r\n```\r\npackage com.example.central_device_manager;\r\n\r\nimport android.app.Service;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.media.MediaRecorder;\r\nimport android.net.Uri;\r\nimport android.os.Environment;\r\nimport android.os.IBinder;\r\nimport android.telephony.PhoneStateListener;\r\nimport android.telephony.TelephonyManager;\r\nimport android.util.Log;\r\n\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\n\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class CallRecorder extends Service{\r\n\r\n    public static final String TAG = &quot;MyTag&quot;;\r\n    private MediaRecorder recorder;\r\n    private String phoneNumber;\r\n    private boolean isRecording;\r\n    private Context context;\r\n\r\n    public CallRecorder() {\r\n        // Default constructor required by Android\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) { return null; }\r\n\r\n    private CallRecorder(Context context) {\r\n        recorder = new MediaRecorder();\r\n        this.context = context;\r\n    }\r\n\r\n    public static CallRecorder instance;\r\n\r\n    public static CallRecorder getInstance(Context context) {\r\n        if (instance == null) {\r\n            instance = new CallRecorder(context);\r\n        }\r\n\r\n        return instance;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Log.d(TAG,&quot;onStartCommand is started...&quot;);\r\n        startRecording();\r\n        return Service.START_REDELIVER_INTENT;\r\n    }\r\n\r\n    public void startRecording() {\r\n        Log.d(TAG,&quot;startRecording is started...&quot;);\r\n        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n        PhoneStateListener callStateListener = new PhoneStateListener() {\r\n            String fileName;\r\n            File recording;\r\n\r\n            public void onCallStateChanged(int state, String incomingNumber) {\r\n                Log.d(TAG,&quot;onCallStateChanged executed due to call state changed...&quot;);\r\n                switch (state) {\r\n                    case TelephonyManager.CALL_STATE_RINGING:\r\n                        Log.d(TAG,&quot;Phone is ringing...&quot;);\r\n                        phoneNumber = incomingNumber;\r\n                        break;\r\n                    case TelephonyManager.CALL_STATE_OFFHOOK:\r\n                        Log.d(TAG,&quot;Phone is on offhook state...&quot;);\r\n                        if (!isRecording) {\r\n                            Log.d(TAG,&quot;starting record...&quot;);\r\n                            // start recording\r\n                            Toast.makeText(getApplicationContext(), &quot;Recording started&quot;, Toast.LENGTH_SHORT).show();\r\n                            recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_COMMUNICATION);\r\n                            recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n                            recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\r\n                            File path = Environment.getExternalStorageDirectory();\r\n                            try {\r\n                                File dir = new File(path, &quot;CallRecorder&quot;);\r\n                                if (!dir.exists()) {\r\n                                    dir.mkdirs();\r\n                                }\r\n                                fileName = &quot;record_&quot; + phoneNumber + &quot;.mp4&quot;;\r\n                                recording = new File(dir, fileName);\r\n                                recorder.setOutputFile(recording.getAbsolutePath());\r\n                                recorder.prepare();\r\n                                recorder.start();\r\n                                isRecording = true;\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                        if (state == TelephonyManager.CALL_STATE_IDLE) {\r\n                            Log.d(TAG,&quot;stopping record...&quot;);\r\n                            // stop recording\r\n                            if (isRecording) {\r\n                                recorder.stop();\r\n                                recorder.reset();\r\n                                isRecording = false;\r\n                                Toast.makeText(getApplicationContext(), &quot;Recording stopped&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                \r\n                            } else {\r\n                                // recording was not started, do nothing\r\n                            }\r\n                        } else if (state == TelephonyManager.CALL_STATE_RINGING) {\r\n                            // call is ringing, do nothing\r\n                        } else {\r\n                            Log.d(TAG,&quot;Unable to identify call state...&quot;);\r\n                            // call state is unknown, do nothing\r\n                        }\r\n                }\r\n            }\r\n\r\n        };\r\n        telephonyManager.listen(callStateListener,PhoneStateListener.LISTEN_CALL_STATE);\r\n        Log.d(TAG,&quot;startRecording method executed...&quot;);\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to create autocall recording app(service) without User Interface in android studio?","body":"<p>I noticed that google dialer has a announcement feature after starting call recording...\nto overcome this i want to create an app without any UI which should record incoming and outgoing calls automatically when user get or make a call and after that it should save recording to storage.</p>\n<p>should i use only background service? or broadcast receiver? or Both...\nI have tried to achieve that using following code but yet to achieve it.\nthanks there!</p>\n<pre><code>package com.example.central_device_manager;\n\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.media.MediaRecorder;\nimport android.net.Uri;\nimport android.os.Environment;\nimport android.os.IBinder;\nimport android.telephony.PhoneStateListener;\nimport android.telephony.TelephonyManager;\nimport android.util.Log;\n\n\nimport androidx.annotation.Nullable;\n\n\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class CallRecorder extends Service{\n\n    public static final String TAG = &quot;MyTag&quot;;\n    private MediaRecorder recorder;\n    private String phoneNumber;\n    private boolean isRecording;\n    private Context context;\n\n    public CallRecorder() {\n        // Default constructor required by Android\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) { return null; }\n\n    private CallRecorder(Context context) {\n        recorder = new MediaRecorder();\n        this.context = context;\n    }\n\n    public static CallRecorder instance;\n\n    public static CallRecorder getInstance(Context context) {\n        if (instance == null) {\n            instance = new CallRecorder(context);\n        }\n\n        return instance;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.d(TAG,&quot;onStartCommand is started...&quot;);\n        startRecording();\n        return Service.START_REDELIVER_INTENT;\n    }\n\n    public void startRecording() {\n        Log.d(TAG,&quot;startRecording is started...&quot;);\n        TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n        PhoneStateListener callStateListener = new PhoneStateListener() {\n            String fileName;\n            File recording;\n\n            public void onCallStateChanged(int state, String incomingNumber) {\n                Log.d(TAG,&quot;onCallStateChanged executed due to call state changed...&quot;);\n                switch (state) {\n                    case TelephonyManager.CALL_STATE_RINGING:\n                        Log.d(TAG,&quot;Phone is ringing...&quot;);\n                        phoneNumber = incomingNumber;\n                        break;\n                    case TelephonyManager.CALL_STATE_OFFHOOK:\n                        Log.d(TAG,&quot;Phone is on offhook state...&quot;);\n                        if (!isRecording) {\n                            Log.d(TAG,&quot;starting record...&quot;);\n                            // start recording\n                            Toast.makeText(getApplicationContext(), &quot;Recording started&quot;, Toast.LENGTH_SHORT).show();\n                            recorder.setAudioSource(MediaRecorder.AudioSource.VOICE_COMMUNICATION);\n                            recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n                            recorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\n                            File path = Environment.getExternalStorageDirectory();\n                            try {\n                                File dir = new File(path, &quot;CallRecorder&quot;);\n                                if (!dir.exists()) {\n                                    dir.mkdirs();\n                                }\n                                fileName = &quot;record_&quot; + phoneNumber + &quot;.mp4&quot;;\n                                recording = new File(dir, fileName);\n                                recorder.setOutputFile(recording.getAbsolutePath());\n                                recorder.prepare();\n                                recorder.start();\n                                isRecording = true;\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                        if (state == TelephonyManager.CALL_STATE_IDLE) {\n                            Log.d(TAG,&quot;stopping record...&quot;);\n                            // stop recording\n                            if (isRecording) {\n                                recorder.stop();\n                                recorder.reset();\n                                isRecording = false;\n                                Toast.makeText(getApplicationContext(), &quot;Recording stopped&quot;, Toast.LENGTH_SHORT).show();\n\n                                \n                            } else {\n                                // recording was not started, do nothing\n                            }\n                        } else if (state == TelephonyManager.CALL_STATE_RINGING) {\n                            // call is ringing, do nothing\n                        } else {\n                            Log.d(TAG,&quot;Unable to identify call state...&quot;);\n                            // call state is unknown, do nothing\n                        }\n                }\n            }\n\n        };\n        telephonyManager.listen(callStateListener,PhoneStateListener.LISTEN_CALL_STATE);\n        Log.d(TAG,&quot;startRecording method executed...&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":0,"creation_date":1677828626,"post_id":75623581,"comment_id":133417893,"body_markdown":"please post your complete code with mediaPlayer audio url","body":"please post your complete code with mediaPlayer audio url"}],"answers":[{"tags":[],"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677910768,"creation_date":1677910768,"answer_id":75634020,"question_id":75623581,"body_markdown":"I resolved this problem with the code below\r\n```\r\n    mediaPlayer.start();\r\n    isMediaPLayerPaused=false;\r\n    new Thread(this::run).start();\r\n\r\n    public void run() {\r\n            activity.runOnUiThread(() -&gt; {\r\n                \r\n                    if(!mediaPlayer.isPlaying()&amp;&amp;!isMediaPLayerPaused){\r\n                        //some actions that you want to be done after completion\r\n                    }\r\n                \r\n                new Handler().postDelayed(this::run, 10);\r\n            });\r\n        }\r\n```","title":"How do I know when an audio track has ended in MediaPlayer?","body":"<p>I resolved this problem with the code below</p>\n<pre><code>    mediaPlayer.start();\n    isMediaPLayerPaused=false;\n    new Thread(this::run).start();\n\n    public void run() {\n            activity.runOnUiThread(() -&gt; {\n                \n                    if(!mediaPlayer.isPlaying()&amp;&amp;!isMediaPLayerPaused){\n                        //some actions that you want to be done after completion\n                    }\n                \n                new Handler().postDelayed(this::run, 10);\n            });\n        }\n</code></pre>\n"}],"owner":{"account_id":27229251,"reputation":23,"user_id":20757245,"display_name":"nnn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677910768,"creation_date":1677822616,"question_id":75623581,"body_markdown":"I want to know when my audio track is ended to perform some actions.\r\n\r\nI faced the problem that OnCompletionListener is not working even if I set `mediaPlayer.setLooping(false)`\r\n\r\nBtw, MediaPlayer is working...\r\n\r\n```\r\nmediaPlayer.setOnCompletionListener(mp -&gt; {\r\n                audioIsFinished=true;\r\n                releasePlayer();\r\n                myHolder.play.setImageResource(R.drawable.ic_baseline_play_arrow_24);\r\n                myHolder.divider.setVisibility(View.INVISIBLE);\r\n                myHolder.currentTime.setVisibility(View.INVISIBLE);\r\n                myHolder.seekBar.setVisibility(View.INVISIBLE);\r\n}\r\n\r\nholder.play.setOnClickListener(view -&gt; {\r\n            if(holder.getAdapterPosition() == currentPlayingPosition){\r\n                if(mediaPlayer!=null){\r\n                    if(mediaPlayer.isPlaying()) {\r\n                        mediaPlayer.pause();\r\n                        holder.play.setImageResource(R.drawable.ic_baseline_play_arrow_24);\r\n                    }\r\n                    else {\r\n                        mediaPlayer.start();\r\n                        holder.play.setImageResource(R.drawable.ic_baseline_pause_24);\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                mediaPlayer = new MediaPlayer();\r\n                fileName = notesList.get(holder.getAdapterPosition()).getPath();\r\n                try {\r\n                    mediaPlayer.setDataSource(fileName);\r\n                    mediaPlayer.prepare();\r\n                    mediaPlayer.start();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                holder.seekBar.setVisibility(View.VISIBLE);\r\n                holder.divider.setVisibility(View.VISIBLE);\r\n                holder.currentTime.setVisibility(View.VISIBLE);\r\n                holder.seekBar.setEnabled(false);\r\n                holder.seekBar.setProgress(0);\r\n   holder.play.setImageResource(R.drawable.ic_baseline_pause_24);\r\n            }\r\n        });\r\n```\r\n\r\n","title":"How do I know when an audio track has ended in MediaPlayer?","body":"<p>I want to know when my audio track is ended to perform some actions.</p>\n<p>I faced the problem that OnCompletionListener is not working even if I set <code>mediaPlayer.setLooping(false)</code></p>\n<p>Btw, MediaPlayer is working...</p>\n<pre><code>mediaPlayer.setOnCompletionListener(mp -&gt; {\n                audioIsFinished=true;\n                releasePlayer();\n                myHolder.play.setImageResource(R.drawable.ic_baseline_play_arrow_24);\n                myHolder.divider.setVisibility(View.INVISIBLE);\n                myHolder.currentTime.setVisibility(View.INVISIBLE);\n                myHolder.seekBar.setVisibility(View.INVISIBLE);\n}\n\nholder.play.setOnClickListener(view -&gt; {\n            if(holder.getAdapterPosition() == currentPlayingPosition){\n                if(mediaPlayer!=null){\n                    if(mediaPlayer.isPlaying()) {\n                        mediaPlayer.pause();\n                        holder.play.setImageResource(R.drawable.ic_baseline_play_arrow_24);\n                    }\n                    else {\n                        mediaPlayer.start();\n                        holder.play.setImageResource(R.drawable.ic_baseline_pause_24);\n                    }\n                }\n            }\n            else{\n                mediaPlayer = new MediaPlayer();\n                fileName = notesList.get(holder.getAdapterPosition()).getPath();\n                try {\n                    mediaPlayer.setDataSource(fileName);\n                    mediaPlayer.prepare();\n                    mediaPlayer.start();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                holder.seekBar.setVisibility(View.VISIBLE);\n                holder.divider.setVisibility(View.VISIBLE);\n                holder.currentTime.setVisibility(View.VISIBLE);\n                holder.seekBar.setEnabled(false);\n                holder.seekBar.setProgress(0);\n   holder.play.setImageResource(R.drawable.ic_baseline_pause_24);\n            }\n        });\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1444925466,"post_id":33153271,"comment_id":54116241,"body_markdown":"I don&#39;t think there is a way to bypass this behavior other than writing your own method. Or just rename the field to `fooin` maybe without the uppercase ?","body":"I don&#39;t think there is a way to bypass this behavior other than writing your own method. Or just rename the field to <code>fooin</code> maybe without the uppercase ?"}],"answers":[{"tags":[],"owner":{"account_id":2777930,"reputation":2390,"user_id":2391110,"display_name":"Ben M."},"comment_count":0,"down_vote_count":1,"up_vote_count":50,"is_accepted":true,"score":49,"last_activity_date":1445025398,"creation_date":1445025398,"answer_id":33178614,"question_id":33153271,"body_markdown":"To overcome this problem, I&#39;ve defined the query manually using the `@Query` annotation.  I&#39;ll happily accept anyone else&#39;s answer if they find a solution that doesn&#39;t require a manual query.\r\n\r\n    public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\r\n        \r\n        @Query(&quot;SELECT t FROM Thing t WHERE t.fooIn = ?1 AND t.bar = ?2&quot;)\r\n        ThingEntity findByFooInAndBar(String fooIn, String bar);\r\n    }","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>To overcome this problem, I've defined the query manually using the <code>@Query</code> annotation.  I'll happily accept anyone else's answer if they find a solution that doesn't require a manual query.</p>\n\n<pre><code>public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\n\n    @Query(\"SELECT t FROM Thing t WHERE t.fooIn = ?1 AND t.bar = ?2\")\n    ThingEntity findByFooInAndBar(String fooIn, String bar);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9501435,"reputation":121,"user_id":7062370,"display_name":"Oscar E. Rodr&#237;guez G&#243;mez"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1609457808,"creation_date":1477276341,"answer_id":40209934,"question_id":33153271,"body_markdown":"Spring is parsing &#39;In&#39; in your method to create the query. Check the link for create your query: you should change the name of the variable `fooIn` to `fooin` or something like that...\r\n\r\n - [Query creation][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>Spring is parsing 'In' in your method to create the query. Check the link for create your query: you should change the name of the variable <code>fooIn</code> to <code>fooin</code> or something like that...</p>\n<ul>\n<li><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">Query creation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16107556,"reputation":11,"user_id":11626689,"display_name":"Rog Tebs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560186625,"creation_date":1560184892,"answer_id":56530326,"question_id":33153271,"body_markdown":"I observed the code kindly and notice your return is not a `list` but an `object`.   \r\nChange that part to `List&lt;ThingEntity&gt;`.","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>I observed the code kindly and notice your return is not a <code>list</code> but an <code>object</code>.<br>\nChange that part to <code>List&lt;ThingEntity&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":19862995,"reputation":1,"user_id":14550979,"display_name":"Jayesh Ghare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677910308,"creation_date":1677910308,"answer_id":75633993,"question_id":33153271,"body_markdown":"Instead you can use native sql query which is more easier to use.\r\n**here &#39;?&#39; stands for the parameter that you are passing**.\r\n\r\n\r\n\r\n    @Repository\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n    \t\t @Query(value = &quot;SELECT * FROM user WHERE username=?&quot;,nativeQuery = true)\r\n    \t\t public User findByUsername(String username);\r\n    }\r\n\r\n","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>Instead you can use native sql query which is more easier to use.\n<strong>here '?' stands for the parameter that you are passing</strong>.</p>\n<pre><code>@Repository\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n         @Query(value = &quot;SELECT * FROM user WHERE username=?&quot;,nativeQuery = true)\n         public User findByUsername(String username);\n}\n</code></pre>\n"}],"owner":{"account_id":2777930,"reputation":2390,"user_id":2391110,"display_name":"Ben M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145950,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":33178614,"answer_count":4,"score":43,"last_activity_date":1677910308,"creation_date":1444924828,"question_id":33153271,"body_markdown":"Here is a simplified example of my problem.  I have this repository and entity class.\r\n\r\n    public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\r\n        ThingEntity findByFooInAndBar(String fooIn, String bar);\r\n    }\r\n\r\n    @Entity\r\n    public class ThingEntity {\r\n        @Column(name=&quot;FOO_IN&quot;, nullable=false, length=1)\r\n        private String fooIn;\r\n\r\n        public String getFooIn() {\r\n            return fooIn;\r\n        }\r\n\r\n        public setFooIn(String fooIn) {\r\n            this.fooIn = fooIn;\r\n        }\r\n\r\n        /* not including bar property for brevity&#39;s sake */\r\n    }\r\n\r\nSpring is throwing the following exception.\r\n\r\n    org.springframework.data.mapping.PropertyReferenceException: No property foo found for type ThingEntity!\r\n\r\nIt looks like Spring is taking the method `findByFooInAndBar` and thinks that `foo` is my property name and `in` is a keyword for matching values within a collection.\r\n\r\nHow do I get it to understand that the property name is `fooIn`, not `foo`?","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>Here is a simplified example of my problem.  I have this repository and entity class.</p>\n\n<pre><code>public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\n    ThingEntity findByFooInAndBar(String fooIn, String bar);\n}\n\n@Entity\npublic class ThingEntity {\n    @Column(name=\"FOO_IN\", nullable=false, length=1)\n    private String fooIn;\n\n    public String getFooIn() {\n        return fooIn;\n    }\n\n    public setFooIn(String fooIn) {\n        this.fooIn = fooIn;\n    }\n\n    /* not including bar property for brevity's sake */\n}\n</code></pre>\n\n<p>Spring is throwing the following exception.</p>\n\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property foo found for type ThingEntity!\n</code></pre>\n\n<p>It looks like Spring is taking the method <code>findByFooInAndBar</code> and thinks that <code>foo</code> is my property name and <code>in</code> is a keyword for matching values within a collection.</p>\n\n<p>How do I get it to understand that the property name is <code>fooIn</code>, not <code>foo</code>?</p>\n"},{"tags":["java","android-studio","android-debug","voice-recording"],"owner":{"account_id":27449488,"reputation":1,"user_id":20942005,"display_name":"Talha Waris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677909483,"creation_date":1677909483,"question_id":75633943,"body_markdown":"**RecordFragment**\r\nI build a voice recording app Problem is that i give every permissions but when i install my app and click on the record Button Neither the dialogue permission box is open for asking to users and nor the button is changed on clicking the record button for recording. I have checked all my mobile setting for permission but there is no any issue. \r\n\r\n `private NavController navController;\r\n\r\n    // listImage view on record fragment\r\n    private ImageButton list_btn;\r\n    private ImageButton record_btn;\r\n    private boolean isRecording = false;\r\n    private static final String recordPermissions = Manifest.permission.RECORD_AUDIO;\r\n    private static final int PERMISSION_CODE = 210;\r\n    public RecordFragment(){\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState){\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_record, container, false);\r\n    }\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        navController = Navigation.findNavController(view);\r\n        list_btn = view.findViewById(R.id.list_btn);\r\n        record_btn = view.findViewById(R.id.record_btn);\r\n\r\n        list_btn.setOnClickListener(this);\r\n        record_btn.setOnClickListener(this);\r\n    }\r\n    @Override\r\n    public void onClick(View view){\r\n        switch (view.getId()){\r\n            case R.id.list_btn:\r\n                navController.navigate(R.id.action_recordFragment_to_audioListFragment);\r\n                break;\r\n\r\n            case R.id.record_btn:\r\n                if (isRecording){\r\n                    // stop Recording\r\n                    record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red, null));\r\n                    isRecording = false;\r\n                } else{\r\n                    // start Recording\r\n                    if (checkPermissions()){\r\n                        record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_re, null));\r\n                        isRecording = true;\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n  `  private boolean checkPermissions(){\r\n        // if we have permissions to record\r\n        Log.d(&quot;RecordFragment&quot;, &quot;checkPermissions() called&quot;);\r\n        if (ActivityCompat.checkSelfPermission(getContext(), recordPermissions) == PackageManager.PERMISSION_GRANTED){\r\n            return true;\r\n        } else{\r\n            ActivityCompat.requestPermissions(getActivity(), new String[]{recordPermissions}, PERMISSION_CODE);\r\n            return false;\r\n        }\r\n    }`\r\n\r\n    `@Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults){\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode){\r\n            case PERMISSION_CODE:\r\n                if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // permission granted, start recording\r\n                    Log.d(&quot;RecordFragment&quot;, &quot;mic_re drawable ID: &quot; + R.drawable.mic_red);\r\n                    record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red,               null));\r\n                    isRecording = true;\r\n                } else{\r\n                    // permission denied, show message\r\n                    Toast.makeText(getContext(), &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n}``\r\n\r\n\r\n**AndriodManifest.xml**\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    `&lt;uses-permission android:name=&quot;android.Manifest.permissions.RECORD_AUDIO&quot;/&gt;`\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.VoiceRecording&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;`","title":"unable to open android.permission.RECORD_AUDIO permissions dialogue box and change record Button on clicking for recording","body":"<p><strong>RecordFragment</strong>\nI build a voice recording app Problem is that i give every permissions but when i install my app and click on the record Button Neither the dialogue permission box is open for asking to users and nor the button is changed on clicking the record button for recording. I have checked all my mobile setting for permission but there is no any issue.</p>\n<p>`private NavController navController;</p>\n<pre><code>// listImage view on record fragment\nprivate ImageButton list_btn;\nprivate ImageButton record_btn;\nprivate boolean isRecording = false;\nprivate static final String recordPermissions = Manifest.permission.RECORD_AUDIO;\nprivate static final int PERMISSION_CODE = 210;\npublic RecordFragment(){\n    // Required empty public constructor\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState){\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_record, container, false);\n}\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    navController = Navigation.findNavController(view);\n    list_btn = view.findViewById(R.id.list_btn);\n    record_btn = view.findViewById(R.id.record_btn);\n\n    list_btn.setOnClickListener(this);\n    record_btn.setOnClickListener(this);\n}\n@Override\npublic void onClick(View view){\n    switch (view.getId()){\n        case R.id.list_btn:\n            navController.navigate(R.id.action_recordFragment_to_audioListFragment);\n            break;\n\n        case R.id.record_btn:\n            if (isRecording){\n                // stop Recording\n                record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red, null));\n                isRecording = false;\n            } else{\n                // start Recording\n                if (checkPermissions()){\n                    record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_re, null));\n                    isRecording = true;\n                }\n            }\n            break;\n    }\n\n}\n</code></pre>\n<p><code>  private boolean checkPermissions(){ // if we have permissions to record Log.d(&quot;RecordFragment&quot;, &quot;checkPermissions() called&quot;); if (ActivityCompat.checkSelfPermission(getContext(), recordPermissions) == PackageManager.PERMISSION_GRANTED){ return true; } else{ ActivityCompat.requestPermissions(getActivity(), new String[]{recordPermissions}, PERMISSION_CODE); return false; } }</code></p>\n<pre><code>`@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults){\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode){\n        case PERMISSION_CODE:\n            if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // permission granted, start recording\n                Log.d(&quot;RecordFragment&quot;, &quot;mic_re drawable ID: &quot; + R.drawable.mic_red);\n                record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red,               null));\n                isRecording = true;\n            } else{\n                // permission denied, show message\n                Toast.makeText(getContext(), &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n            break;\n    }\n}\n</code></pre>\n<p>}``</p>\n<p><strong>AndriodManifest.xml</strong>\n`\n</p>\n<pre><code>`&lt;uses-permission android:name=&quot;android.Manifest.permissions.RECORD_AUDIO&quot;/&gt;`\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.VoiceRecording&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;meta-data\n            android:name=&quot;android.app.lib_name&quot;\n            android:value=&quot;&quot; /&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p>`</p>\n"},{"tags":["java","themes","codenameone","blogs","android-theme"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677909305,"creation_date":1677909305,"answer_id":75633934,"question_id":75631240,"body_markdown":"The class `AjoutBlogForm` expects an object of type `Blog` in the constructor. Notice that `theme` is defined in `MyApplication` as a `Resources` type. Those are separate classes that have no common ancestor as `Blog` is a class you defined with a distinct purpose. \r\n\r\nFrom the code you posted I don&#39;t understand why you pass `blog` in the constructor since it doesn&#39;t seem like you&#39;re using it at all. I suggest removing the entry from the constructor and changing the call to pass no arguments.","title":"Codename one &quot;theme&quot; passed on parameter doesnt work","body":"<p>The class <code>AjoutBlogForm</code> expects an object of type <code>Blog</code> in the constructor. Notice that <code>theme</code> is defined in <code>MyApplication</code> as a <code>Resources</code> type. Those are separate classes that have no common ancestor as <code>Blog</code> is a class you defined with a distinct purpose.</p>\n<p>From the code you posted I don't understand why you pass <code>blog</code> in the constructor since it doesn't seem like you're using it at all. I suggest removing the entry from the constructor and changing the call to pass no arguments.</p>\n"}],"owner":{"account_id":22856871,"reputation":11,"user_id":17001598,"display_name":"Ons kh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677909305,"creation_date":1677872300,"question_id":75631240,"body_markdown":"i have in package `com.mycompany.myapp` this file `MyApplication.java` that has a start function like this \r\n```\r\npublic void start() {\r\n        if(current != null){\r\n            current.show();\r\n            return;\r\n        }\r\n        new AjoutBlogForm(theme).show();\r\n    }\r\n```\r\nbut the `theme` passed in parameter doesnt want to work it shows &#39;incompatible types: recources cannot be converted to Blog&#39;\r\n\r\nin my class `AjoutBlogForm` i have this :\r\n\r\n```\r\npublic class AjoutBlogForm extends BaseForm {\r\n\r\n    Form current;\r\n    public AjoutBlogForm(Blog blog) {\r\n        super(&quot;Newsfeed&quot;,BoxLayout.y()); //herigate men Newsfeed w l formulaire vertical\r\n    \r\n        Toolbar tb = new Toolbar(true);\r\n        current = this ;\r\n        setToolbar(tb);\r\n        getTitleArea().setUIID(&quot;Container&quot;);\r\n        setTitle(&quot;Ajout Blog&quot;);\r\n        getContentPane().setScrollVisible(false);\r\n        \r\n        //\r\n\r\n        TextField titre = new TextField(&quot;&quot;, &quot;entrer Titre!!&quot;);\r\n        titre.setUIID(&quot;TextFieldBlack&quot;);\r\n        addStringValue(&quot;titre&quot;,titre);\r\n        \r\n        TextField contenu = new TextField(&quot;&quot;, &quot;entrer contenu!!&quot;);\r\n        contenu.setUIID(&quot;TextFieldBlack&quot;);\r\n        addStringValue(&quot;contenu&quot;,contenu);\r\n\r\n        TextField imageBlog = new TextField(&quot;&quot;, &quot;entrer image!!&quot;);\r\n        imageBlog.setUIID(&quot;TextFieldBlack&quot;);\r\n        addStringValue(&quot;imageBlog&quot;,imageBlog);\r\n        \r\n        \r\n        Button btnAjouter = new Button(&quot;Ajouter&quot;);\r\n        addStringValue(&quot;&quot;, btnAjouter);\r\n        \r\n        \r\n        //onclick button event \r\n        btnAjouter.addActionListener((e) -&gt; {\r\n            try {\r\n                \r\n                if(titre.getText().equals(&quot;&quot;) || contenu.getText().equals(&quot;&quot;) || imageBlog.getText().equals(&quot;&quot;)) {\r\n                    Dialog.show(&quot;Veuillez v&#233;rifier les donn&#233;es&quot;,&quot;&quot;,&quot;Annuler&quot;, &quot;OK&quot;);\r\n                }\r\n                \r\n                else {\r\n                    InfiniteProgress ip = new InfiniteProgress();; //Loading  after insert data\r\n                    final Dialog iDialog = ip.showInfiniteBlocking();\r\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                    \r\n                    //njibo iduser men session (current user)\r\n                    Blog b = new Blog(\r\n                                  String.valueOf(titre.getText()).toString(),\r\n                                  String.valueOf(contenu.getText()).toString(),\r\n                                  format.format(new Date()),\r\n                                  format.format(new Date()),\r\n                                  String.valueOf(imageBlog.getText()).toString(),\r\n                                  0);\r\n                    \r\n                    System.out.println(&quot;data  blog == &quot;+b);\r\n\r\n \r\n                    ServicesBlog.getInstance().ajoutBlog(b);\r\n                    \r\n                    iDialog.dispose();\r\n\r\n                    refreshTheme();//Actualisation\r\n                }\r\n            }catch(Exception ex ) {\r\n                ex.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void addStringValue(String s, Component v) {\r\n        add(BorderLayout.west(new Label(s,&quot;PaddedLabel&quot;))\r\n        .add(BorderLayout.CENTER,v));\r\n        add(createLineSeparator(0xeeeeee));\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nand in my entity is this :\r\n\r\n```\r\npublic class Blog {\r\n\r\n    private int id;\r\n    private String titre, contenu;\r\n    private String dateCreation,dateModification;\r\n    private String imageBlog;\r\n    private int etat;\r\n\r\n    public Blog() {\r\n    }\r\n\r\n    public Blog(String titre, String contenu) {\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n    }\r\n\r\n    public Blog(String titre, String contenu, String imageBlog, int etat) {\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n        this.imageBlog = imageBlog;\r\n        this.etat = etat;\r\n    }\r\n\r\n    public Blog(String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n        this.dateCreation = dateCreation;\r\n        this.dateModification = dateModification;\r\n        this.imageBlog = imageBlog;\r\n        this.etat = etat;\r\n    }\r\n\r\n    public Blog(int id, String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\r\n        this.id = id;\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n        this.dateCreation = dateCreation;\r\n        this.dateModification = dateModification;\r\n        this.imageBlog = imageBlog;\r\n        this.etat = etat;\r\n    }\r\n\r\n    public String getImageBlog() {\r\n        return imageBlog;\r\n    }\r\n\r\n    public void setImageBlog(String imageBlog) {\r\n        this.imageBlog = imageBlog;\r\n    }\r\n\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getTitre() {\r\n        return titre;\r\n    }\r\n\r\n    public String getContenu() {\r\n        return contenu;\r\n    }\r\n\r\n    public String getDateCreation() {\r\n        return dateCreation;\r\n    }\r\n\r\n    public String getDateModification() {\r\n        return dateModification;\r\n    }\r\n\r\n    public int getEtat() {\r\n        return etat;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setTitre(String titre) {\r\n        this.titre = titre;\r\n    }\r\n\r\n    public void setContenu(String contenu) {\r\n        this.contenu = contenu;\r\n    }\r\n\r\n    public void setDateCreation(String dateCreation) {\r\n        this.dateCreation = dateCreation;\r\n    }\r\n\r\n    public void setDateModification(String dateModification) {\r\n        this.dateModification = dateModification;\r\n    }\r\n\r\n    public void setEtat(int etat) {\r\n        this.etat = etat;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ni tried rebuilding the project multiple times, it works for other functions of the templates just it doesnt work for AjoutBlogForm.\r\ni was expecting the theme to work and to be able to add the blog.","title":"Codename one &quot;theme&quot; passed on parameter doesnt work","body":"<p>i have in package <code>com.mycompany.myapp</code> this file <code>MyApplication.java</code> that has a start function like this</p>\n<pre><code>public void start() {\n        if(current != null){\n            current.show();\n            return;\n        }\n        new AjoutBlogForm(theme).show();\n    }\n</code></pre>\n<p>but the <code>theme</code> passed in parameter doesnt want to work it shows 'incompatible types: recources cannot be converted to Blog'</p>\n<p>in my class <code>AjoutBlogForm</code> i have this :</p>\n<pre><code>public class AjoutBlogForm extends BaseForm {\n\n    Form current;\n    public AjoutBlogForm(Blog blog) {\n        super(&quot;Newsfeed&quot;,BoxLayout.y()); //herigate men Newsfeed w l formulaire vertical\n    \n        Toolbar tb = new Toolbar(true);\n        current = this ;\n        setToolbar(tb);\n        getTitleArea().setUIID(&quot;Container&quot;);\n        setTitle(&quot;Ajout Blog&quot;);\n        getContentPane().setScrollVisible(false);\n        \n        //\n\n        TextField titre = new TextField(&quot;&quot;, &quot;entrer Titre!!&quot;);\n        titre.setUIID(&quot;TextFieldBlack&quot;);\n        addStringValue(&quot;titre&quot;,titre);\n        \n        TextField contenu = new TextField(&quot;&quot;, &quot;entrer contenu!!&quot;);\n        contenu.setUIID(&quot;TextFieldBlack&quot;);\n        addStringValue(&quot;contenu&quot;,contenu);\n\n        TextField imageBlog = new TextField(&quot;&quot;, &quot;entrer image!!&quot;);\n        imageBlog.setUIID(&quot;TextFieldBlack&quot;);\n        addStringValue(&quot;imageBlog&quot;,imageBlog);\n        \n        \n        Button btnAjouter = new Button(&quot;Ajouter&quot;);\n        addStringValue(&quot;&quot;, btnAjouter);\n        \n        \n        //onclick button event \n        btnAjouter.addActionListener((e) -&gt; {\n            try {\n                \n                if(titre.getText().equals(&quot;&quot;) || contenu.getText().equals(&quot;&quot;) || imageBlog.getText().equals(&quot;&quot;)) {\n                    Dialog.show(&quot;Veuillez vérifier les données&quot;,&quot;&quot;,&quot;Annuler&quot;, &quot;OK&quot;);\n                }\n                \n                else {\n                    InfiniteProgress ip = new InfiniteProgress();; //Loading  after insert data\n                    final Dialog iDialog = ip.showInfiniteBlocking();\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n                    \n                    //njibo iduser men session (current user)\n                    Blog b = new Blog(\n                                  String.valueOf(titre.getText()).toString(),\n                                  String.valueOf(contenu.getText()).toString(),\n                                  format.format(new Date()),\n                                  format.format(new Date()),\n                                  String.valueOf(imageBlog.getText()).toString(),\n                                  0);\n                    \n                    System.out.println(&quot;data  blog == &quot;+b);\n\n \n                    ServicesBlog.getInstance().ajoutBlog(b);\n                    \n                    iDialog.dispose();\n\n                    refreshTheme();//Actualisation\n                }\n            }catch(Exception ex ) {\n                ex.printStackTrace();\n            }\n        });\n    }\n\n\n    private void addStringValue(String s, Component v) {\n        add(BorderLayout.west(new Label(s,&quot;PaddedLabel&quot;))\n        .add(BorderLayout.CENTER,v));\n        add(createLineSeparator(0xeeeeee));\n    }\n    \n}\n\n</code></pre>\n<p>and in my entity is this :</p>\n<pre><code>public class Blog {\n\n    private int id;\n    private String titre, contenu;\n    private String dateCreation,dateModification;\n    private String imageBlog;\n    private int etat;\n\n    public Blog() {\n    }\n\n    public Blog(String titre, String contenu) {\n        this.titre = titre;\n        this.contenu = contenu;\n    }\n\n    public Blog(String titre, String contenu, String imageBlog, int etat) {\n        this.titre = titre;\n        this.contenu = contenu;\n        this.imageBlog = imageBlog;\n        this.etat = etat;\n    }\n\n    public Blog(String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\n        this.titre = titre;\n        this.contenu = contenu;\n        this.dateCreation = dateCreation;\n        this.dateModification = dateModification;\n        this.imageBlog = imageBlog;\n        this.etat = etat;\n    }\n\n    public Blog(int id, String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\n        this.id = id;\n        this.titre = titre;\n        this.contenu = contenu;\n        this.dateCreation = dateCreation;\n        this.dateModification = dateModification;\n        this.imageBlog = imageBlog;\n        this.etat = etat;\n    }\n\n    public String getImageBlog() {\n        return imageBlog;\n    }\n\n    public void setImageBlog(String imageBlog) {\n        this.imageBlog = imageBlog;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n    public String getTitre() {\n        return titre;\n    }\n\n    public String getContenu() {\n        return contenu;\n    }\n\n    public String getDateCreation() {\n        return dateCreation;\n    }\n\n    public String getDateModification() {\n        return dateModification;\n    }\n\n    public int getEtat() {\n        return etat;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setTitre(String titre) {\n        this.titre = titre;\n    }\n\n    public void setContenu(String contenu) {\n        this.contenu = contenu;\n    }\n\n    public void setDateCreation(String dateCreation) {\n        this.dateCreation = dateCreation;\n    }\n\n    public void setDateModification(String dateModification) {\n        this.dateModification = dateModification;\n    }\n\n    public void setEtat(int etat) {\n        this.etat = etat;\n    }\n}\n</code></pre>\n<p>i tried rebuilding the project multiple times, it works for other functions of the templates just it doesnt work for AjoutBlogForm.\ni was expecting the theme to work and to be able to add the blog.</p>\n"},{"tags":["java","spring-boot","jakarta-mail","sendmail","send"],"comments":[{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1677929989,"post_id":75633889,"comment_id":133436753,"body_markdown":"Is there an antivirus software involved? Sometimes they interfere by setting up a transparent proxy and this might explain the delay.","body":"Is there an antivirus software involved? Sometimes they interfere by setting up a transparent proxy and this might explain the delay."}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677908643,"creation_date":1677908643,"question_id":75633889,"body_markdown":"After sending an email I am storing it into a folder using java mail API. The folder.appendMessages takes 8 to 10.005 seconds to store a single message with attachment of 3.26MB.\r\n\r\nBelow is the code,\r\n\r\n```\r\n\tFolder folder = store.getFolder(&quot;Sent&quot;);\r\n\t\tfolder.open(Folder.READ_WRITE);\r\n\t\tmsg.setFlag(Flag.SEEN, true);\r\n\t\tlong previousTime3 = System.currentTimeMillis();\r\n\t\tfolder.appendMessages(new Message[] { msg });\r\n\t\tlong currentTime3 = System.currentTimeMillis();\r\n\r\n\t\tdouble elapsedTime3 = (currentTime3 - previousTime3) / 1000.0;\r\n\t\tSystem.out.println(&quot;Time in seconds--folder.appendMessages :&quot; + elapsedTime3);\r\n```\r\nHow can I reduce this time?","title":"folder.appendMessages takes more time in java mail api while sending email","body":"<p>After sending an email I am storing it into a folder using java mail API. The folder.appendMessages takes 8 to 10.005 seconds to store a single message with attachment of 3.26MB.</p>\n<p>Below is the code,</p>\n<pre><code>    Folder folder = store.getFolder(&quot;Sent&quot;);\n        folder.open(Folder.READ_WRITE);\n        msg.setFlag(Flag.SEEN, true);\n        long previousTime3 = System.currentTimeMillis();\n        folder.appendMessages(new Message[] { msg });\n        long currentTime3 = System.currentTimeMillis();\n\n        double elapsedTime3 = (currentTime3 - previousTime3) / 1000.0;\n        System.out.println(&quot;Time in seconds--folder.appendMessages :&quot; + elapsedTime3);\n</code></pre>\n<p>How can I reduce this time?</p>\n"},{"tags":["java","android"],"owner":{"account_id":27129691,"reputation":1,"user_id":20672071,"display_name":"Gen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677908460,"creation_date":1677908460,"question_id":75633875,"body_markdown":"Is there anyone konw how to fix OpenAiService duplication?\r\nI used gpt-3.5-turbo by OpenAI API and currently OpenAiService works.\r\n`OpenAiService service = new OpenAiService(&quot;API_KEY&quot;);`\r\n\r\nThanks,\r\n\r\nMessage is below.\r\nCreates a new OpenAiService that wraps OpenAiApi\r\nBut I don&#39;t konw how to fix this.","title":"OpenAiService duplicated","body":"<p>Is there anyone konw how to fix OpenAiService duplication?\nI used gpt-3.5-turbo by OpenAI API and currently OpenAiService works.\n<code>OpenAiService service = new OpenAiService(&quot;API_KEY&quot;);</code></p>\n<p>Thanks,</p>\n<p>Message is below.\nCreates a new OpenAiService that wraps OpenAiApi\nBut I don't konw how to fix this.</p>\n"},{"tags":["java","spring-boot","elasticsearch","amazon-ec2","ssl-certificate"],"owner":{"account_id":25414251,"reputation":51,"user_id":19221489,"display_name":"TheCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677906683,"creation_date":1677774387,"question_id":75618238,"body_markdown":"I have elasticsearch and springboot jar in a single AWS-ec2 box\r\n\r\nI am pushing data from a springboot application to elasticsearch\r\nBoth springboot jar and elastisearch have self generated ssl certificates\r\n\r\nAll restendpoints in the SB-jar works fine with Https call, but the api calls which push data to elasticsearch throws the below error\r\n```\r\njava.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nI have imported certificates to trust store using the below commands\r\n\r\n```\r\nkeytool -genkeypair -alias localhost:9200 -keyalg RSA -validity 1000 -keysize 2048 -keystore /home/ec2-user/mycert.jks\r\n\r\nkeytool -export -alias localhost:9200 -keystore /home/ec2-user/mycert.jks -rfc -file /home/ec2-user/mycert1.jks\r\n\r\nkeytool -import -noprompt -trustcacerts -alias localhost:9200 -file /home/ec2-user/mycert1.jks -keystore /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.amzn2.0.1.x86_64/jre/lib/security/cacerts -file mycert1.jks\r\n```\r\nBut still the certificate issue persists. Please let me know what certificate I am missing to add\r\n\r\nVersions used: \r\njava 8 &amp;\r\nelasticsearch 7.16.2","title":"java SSLHandshakeException and elasticsearch","body":"<p>I have elasticsearch and springboot jar in a single AWS-ec2 box</p>\n<p>I am pushing data from a springboot application to elasticsearch\nBoth springboot jar and elastisearch have self generated ssl certificates</p>\n<p>All restendpoints in the SB-jar works fine with Https call, but the api calls which push data to elasticsearch throws the below error</p>\n<pre><code>java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I have imported certificates to trust store using the below commands</p>\n<pre><code>keytool -genkeypair -alias localhost:9200 -keyalg RSA -validity 1000 -keysize 2048 -keystore /home/ec2-user/mycert.jks\n\nkeytool -export -alias localhost:9200 -keystore /home/ec2-user/mycert.jks -rfc -file /home/ec2-user/mycert1.jks\n\nkeytool -import -noprompt -trustcacerts -alias localhost:9200 -file /home/ec2-user/mycert1.jks -keystore /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.amzn2.0.1.x86_64/jre/lib/security/cacerts -file mycert1.jks\n</code></pre>\n<p>But still the certificate issue persists. Please let me know what certificate I am missing to add</p>\n<p>Versions used:\njava 8 &amp;\nelasticsearch 7.16.2</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1677897287,"post_id":75633300,"comment_id":133433605,"body_markdown":"Why is `parameter` optional here?","body":"Why is <code>parameter</code> optional here?"},{"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"score":0,"creation_date":1677898712,"post_id":75633300,"comment_id":133433690,"body_markdown":"I want use CASE expression but I dont&#39;t know where I difine the parameter for that.","body":"I want use CASE expression but I dont&#39;t know where I difine the parameter for that."}],"answers":[{"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1677901578,"post_id":75633421,"comment_id":133433905,"body_markdown":"@TimBiegeleisen do you actually know that? If you do then either you or I have something very different to each other as my setup a) compiles successfully (which actually checks the resultant SQL (see the Room documentation)) and b) runs the query successfully. Look forward to you providing the fact that it does not work. If not then perhaps you should ask a question as to why the answer does work, explaining why it should not.","body":"@TimBiegeleisen do you actually know that? If you do then either you or I have something very different to each other as my setup a) compiles successfully (which actually checks the resultant SQL (see the Room documentation)) and b) runs the query successfully. Look forward to you providing the fact that it does not work. If not then perhaps you should ask a question as to why the answer does work, explaining why it should not."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1677901726,"post_id":75633421,"comment_id":133433917,"body_markdown":"I partially recant my comment, the query might _run_, but it is not what the OP intends.  The OP&#39;s intended logic is to order by just _one_ column in ascending or descending order.  Your answer (and the OP&#39;s original query) are ordering by _four_ columns.","body":"I partially recant my comment, the query might <i>run</i>, but it is not what the OP intends.  The OP&#39;s intended logic is to order by just <i>one</i> column in ascending or descending order.  Your answer (and the OP&#39;s original query) are ordering by <i>four</i> columns."},{"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"score":0,"creation_date":1677904461,"post_id":75633421,"comment_id":133434127,"body_markdown":"Oh,it&#39;s the expression in Query that I have problem. Your anwer works well.Special Thanks!","body":"Oh,it&#39;s the expression in Query that I have problem. Your anwer works well.Special Thanks!"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1677905668,"post_id":75633421,"comment_id":133434203,"body_markdown":"@TimBiegeleisen not sure how you come to the conclusion, actual results (see answer) appear to contradict what you are saying.","body":"@TimBiegeleisen not sure how you come to the conclusion, actual results (see answer) appear to contradict what you are saying."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677906328,"creation_date":1677899412,"answer_id":75633421,"question_id":75633300,"body_markdown":"I believe you could use-\r\n\r\n    @Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\r\n    &quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\r\n    &quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\r\n    &quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\r\n    &quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;)\r\n    List&lt;Word&gt; findWord(int childId, int parameter);\r\n\r\ni.e. : to indicate where the parameter value is to be used (bound). Room knows to bind the same value multiple times\r\n\r\n\r\n**Additional re the comment:-**\r\n\r\n&gt; I partially recant my comment, the query might run, but it is not what the OP intends. The OP&#39;s intended logic is to order by just one column in ascending or descending order. Your answer (and the OP&#39;s original query) are ordering by four columns.\r\n\r\nUsing slightly adapted Query (to not take into account the childId column (to simplify/reduce insertions to suit)) as per:-\r\n\r\n    @Query(\r\n        &quot;SELECT * FROM words /*WHERE childId = :childId*/ ORDER BY &quot; +\r\n                &quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\r\n                &quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\r\n                &quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\r\n                &quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;\r\n    )\r\n    fun findWord(/*childId: Int,*/ parameter: Int): List&lt;Words&gt;\r\n\r\nand then using the following code in an activity (allowMainThreadQueries for brevity):-\r\n\r\n        daoDB1.insert(Words(wordName = &quot;C&quot;, datetime = (System.currentTimeMillis() / 1000) - (10 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;Z&quot;, datetime = (System.currentTimeMillis() / 1000) + (8 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;A&quot;, datetime = (System.currentTimeMillis() / 1000) - (7 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;B&quot;, datetime = (System.currentTimeMillis() / 1000) - (8 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;Y&quot;, datetime = (System.currentTimeMillis() / 1000) + (10 * onedayAsLong)))\r\n\r\n\r\n        for (w in daoDB1.findWord(0)) {\r\n            Log.d(&quot;DBINFO_RSLT1&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(1)) {\r\n            Log.d(&quot;DBINFO_RSLT2&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(2)) {\r\n            Log.d(&quot;DBINFO_RSLT3&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(3)) {\r\n            Log.d(&quot;DBINFO_RSLT4&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(99 /*&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; OOOPS??? &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;*/)) {\r\n            Log.d(&quot;DBINFO_RSLT5&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n\r\n\r\nThen the result in the log is:-\r\n\r\n\r\n    2023-03-04 15:42:56.237 D/DBINFO_RSLT1: Word is Y DateTime is 1686544976 ID is 5\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is C DateTime is 1669264976 ID is 1\r\n\r\n\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Y DateTime is 1686544976 ID is 5\r\n    \r\n    \r\n    2023-03-04 15:42:56.245 D/DBINFO_RSLT3: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is Y DateTime is 1686544976 ID is 5\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is A DateTime is 1671856976 ID is 3\r\n    \r\n    \r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is Y DateTime is 1686544976 ID is 5\r\n    2023-03-04 15:42:56.250 D/DBINFO_RSLT4: Word is Z DateTime is 1684816976 ID is 2\r\n    \r\n    \r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Y DateTime is 1686544976 ID is 5\r\n\r\n- i.e. all appear to be sorted as probably expected (last set RSLT5 purposefully not meeting any of the CASE conditions).","title":"ROOM ORDER BY CASE: Where Can I define the optional parameter?","body":"<p>I believe you could use-</p>\n<pre><code>@Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\n&quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\n&quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\n&quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\n&quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;)\nList&lt;Word&gt; findWord(int childId, int parameter);\n</code></pre>\n<p>i.e. : to indicate where the parameter value is to be used (bound). Room knows to bind the same value multiple times</p>\n<p><strong>Additional re the comment:-</strong></p>\n<blockquote>\n<p>I partially recant my comment, the query might run, but it is not what the OP intends. The OP's intended logic is to order by just one column in ascending or descending order. Your answer (and the OP's original query) are ordering by four columns.</p>\n</blockquote>\n<p>Using slightly adapted Query (to not take into account the childId column (to simplify/reduce insertions to suit)) as per:-</p>\n<pre><code>@Query(\n    &quot;SELECT * FROM words /*WHERE childId = :childId*/ ORDER BY &quot; +\n            &quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\n            &quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\n            &quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\n            &quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;\n)\nfun findWord(/*childId: Int,*/ parameter: Int): List&lt;Words&gt;\n</code></pre>\n<p>and then using the following code in an activity (allowMainThreadQueries for brevity):-</p>\n<pre><code>    daoDB1.insert(Words(wordName = &quot;C&quot;, datetime = (System.currentTimeMillis() / 1000) - (10 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;Z&quot;, datetime = (System.currentTimeMillis() / 1000) + (8 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;A&quot;, datetime = (System.currentTimeMillis() / 1000) - (7 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;B&quot;, datetime = (System.currentTimeMillis() / 1000) - (8 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;Y&quot;, datetime = (System.currentTimeMillis() / 1000) + (10 * onedayAsLong)))\n\n\n    for (w in daoDB1.findWord(0)) {\n        Log.d(&quot;DBINFO_RSLT1&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(1)) {\n        Log.d(&quot;DBINFO_RSLT2&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(2)) {\n        Log.d(&quot;DBINFO_RSLT3&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(3)) {\n        Log.d(&quot;DBINFO_RSLT4&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(99 /*&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; OOOPS??? &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;*/)) {\n        Log.d(&quot;DBINFO_RSLT5&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n</code></pre>\n<p>Then the result in the log is:-</p>\n<pre><code>2023-03-04 15:42:56.237 D/DBINFO_RSLT1: Word is Y DateTime is 1686544976 ID is 5\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is C DateTime is 1669264976 ID is 1\n\n\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Y DateTime is 1686544976 ID is 5\n\n\n2023-03-04 15:42:56.245 D/DBINFO_RSLT3: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is Y DateTime is 1686544976 ID is 5\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is A DateTime is 1671856976 ID is 3\n\n\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is Y DateTime is 1686544976 ID is 5\n2023-03-04 15:42:56.250 D/DBINFO_RSLT4: Word is Z DateTime is 1684816976 ID is 2\n\n\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Y DateTime is 1686544976 ID is 5\n</code></pre>\n<ul>\n<li>i.e. all appear to be sorted as probably expected (last set RSLT5 purposefully not meeting any of the CASE conditions).</li>\n</ul>\n"}],"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75633421,"answer_count":1,"score":0,"last_activity_date":1677906328,"creation_date":1677897171,"question_id":75633300,"body_markdown":"&gt; I would like insert the Query in DAO interface like below.\r\n\r\n```\r\n@Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\r\n&quot;CASE WHEN parameter = 0 THEN dateTime END DESC, &quot; +\r\n&quot;CASE WHEN parameter = 1 THEN dateTime END ASC, &quot; +\r\n&quot;CASE WHEN parameter = 2 THEN wordName END DESC, &quot; +\r\n&quot;CASE WHEN parameter = 3 THEN wordName END ASC&quot;)\r\nList&lt;Word&gt; findWord(int childId, int parameter);\r\n```\r\n\r\nBut I can&#39;t figure out where and how define the optional parameter used after CASE WHEN(below).\r\n\r\n```\r\nprivate int parameter;\r\n```\r\n\r\nHow can I get it?\r\nThank you.","title":"ROOM ORDER BY CASE: Where Can I define the optional parameter?","body":"<blockquote>\n<p>I would like insert the Query in DAO interface like below.</p>\n</blockquote>\n<pre><code>@Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\n&quot;CASE WHEN parameter = 0 THEN dateTime END DESC, &quot; +\n&quot;CASE WHEN parameter = 1 THEN dateTime END ASC, &quot; +\n&quot;CASE WHEN parameter = 2 THEN wordName END DESC, &quot; +\n&quot;CASE WHEN parameter = 3 THEN wordName END ASC&quot;)\nList&lt;Word&gt; findWord(int childId, int parameter);\n</code></pre>\n<p>But I can't figure out where and how define the optional parameter used after CASE WHEN(below).</p>\n<pre><code>private int parameter;\n</code></pre>\n<p>How can I get it?\nThank you.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1328576770,"creation_date":1328576770,"answer_id":9169693,"question_id":9169673,"body_markdown":"The for loop needs to be in a method, a constructor, or at a bare minimum, between a pair of `{}` brackets.  But probably a constructor.","title":"Illegal start of type for a for loop?","body":"<p>The for loop needs to be in a method, a constructor, or at a bare minimum, between a pair of <code>{}</code> brackets.  But probably a constructor.</p>\n"},{"comments":[{"owner":{"account_id":241834,"reputation":4336,"user_id":512915,"accept_rate":96,"display_name":"Robert"},"score":0,"creation_date":1328576919,"post_id":9169695,"comment_id":11534925,"body_markdown":"I am trying to make an array of the object Lab3Label is that the same thing?","body":"I am trying to make an array of the object Lab3Label is that the same thing?"},{"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"score":1,"creation_date":1328576973,"post_id":9169695,"comment_id":11534938,"body_markdown":"Yes, the square brackets need to be next to the Object type, not the variable name.","body":"Yes, the square brackets need to be next to the Object type, not the variable name."}],"tags":[],"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328576811,"creation_date":1328576811,"answer_id":9169695,"question_id":9169673,"body_markdown":"It needs to be within a method in the Class. Also the array should be declared like this:\r\n\r\n`Lab3Label[] label = new Lab3Label[9];`","title":"Illegal start of type for a for loop?","body":"<p>It needs to be within a method in the Class. Also the array should be declared like this:</p>\n\n<p><code>Lab3Label[] label = new Lab3Label[9];</code></p>\n"},{"tags":[],"owner":{"account_id":32417,"reputation":40343,"user_id":89989,"accept_rate":74,"display_name":"Gordon Gustafson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328576839,"creation_date":1328576839,"answer_id":9169699,"question_id":9169673,"body_markdown":"Your loop code is perfectly legal, but it needs to be inside a method for it to actually be interpreted as code and run. Currently its just sitting inside the class declaration along with the line before it, so the poor compiler has no idea what you want to do with that code or when you want it to run. :D","title":"Illegal start of type for a for loop?","body":"<p>Your loop code is perfectly legal, but it needs to be inside a method for it to actually be interpreted as code and run. Currently its just sitting inside the class declaration along with the line before it, so the poor compiler has no idea what you want to do with that code or when you want it to run. :D</p>\n"},{"tags":[],"owner":{"account_id":96649,"reputation":466,"user_id":262603,"accept_rate":80,"display_name":"warbio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328577136,"creation_date":1328577136,"answer_id":9169730,"question_id":9169673,"body_markdown":"As many already pointed out you need to run the loop from a method. Here is an example:\r\n\r\n    Class Lab3Panel extends JPanel{\r\n\r\n    Lab3Panel () {\r\n\r\n        setLayout(new GridLayout(3,3));\r\n    }\r\n\r\n\r\n    Lab3Label[] label = new Lab3Label[9];\r\n   \r\n    newlabels();\r\n\r\n    public void newlabels()\r\n    {\r\n\r\n      for(int i = 0; i &lt; 9; i++){\r\n\r\n        label[i] = new Lab3Label();\r\n        add(label[i]);\r\n      }\r\n    }\r\n","title":"Illegal start of type for a for loop?","body":"<p>As many already pointed out you need to run the loop from a method. Here is an example:</p>\n\n<pre><code>Class Lab3Panel extends JPanel{\n\nLab3Panel () {\n\n    setLayout(new GridLayout(3,3));\n}\n\n\nLab3Label[] label = new Lab3Label[9];\n\nnewlabels();\n\npublic void newlabels()\n{\n\n  for(int i = 0; i &lt; 9; i++){\n\n    label[i] = new Lab3Label();\n    add(label[i]);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":241834,"reputation":4336,"user_id":512915,"accept_rate":96,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14470,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9169693,"answer_count":4,"score":4,"last_activity_date":1677905220,"creation_date":1328576639,"question_id":9169673,"body_markdown":" Why am I getting the error :java:16: error: illegal start of type\r\n\t\t\r\n    for(int i = 0; i &lt; 9; i++){\r\n\r\nI have checked old labs and this is the correct usage of it I thought.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n\r\n    class Lab3Panel extends JPanel {\r\n\r\n\t\tLab3Panel() {\r\n\t\t\tsetLayout(new GridLayout(3,3));\r\n\t\t}\r\n\r\n\t\tLab3Label label[] = new Lab3Label[9];\r\n\r\n\t\tfor (int i = 0; i &lt; 9; i++) {\r\n\t\t\tlabel[i] = new Lab3Label();\r\n\t\t\tadd(label[i]);\r\n\t\t}\r\n\r\n        // ...\r\n    }","title":"Illegal start of type for a for loop?","body":"<p>Why am I getting the error :java:16: error: illegal start of type</p>\n<pre><code>for(int i = 0; i &lt; 9; i++){\n</code></pre>\n<p>I have checked old labs and this is the correct usage of it I thought.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\n\nclass Lab3Panel extends JPanel {\n\n    Lab3Panel() {\n        setLayout(new GridLayout(3,3));\n    }\n\n    Lab3Label label[] = new Lab3Label[9];\n\n    for (int i = 0; i &lt; 9; i++) {\n        label[i] = new Lab3Label();\n        add(label[i]);\n    }\n\n    // ...\n}\n</code></pre>\n"},{"tags":["java","android","string","android-studio"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677784950,"post_id":75619946,"comment_id":133410934,"body_markdown":"Afaik there&#39;s no such standard API for that, so you will have to code it yourself.","body":"Afaik there&#39;s no such standard API for that, so you will have to code it yourself."},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677784966,"post_id":75619946,"comment_id":133410938,"body_markdown":"I put on my examples numbers like 1.1 which i need to be 1.10000 etc.","body":"I put on my examples numbers like 1.1 which i need to be 1.10000 etc."},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677785554,"post_id":75619946,"comment_id":133411077,"body_markdown":"%.6f on a number like: 1234 will give a result of 1234.000000 which is now 10 digits. However you have an idea, can you tell me how to check if there is excess digits amd how to cut them?","body":"%.6f on a number like: 1234 will give a result of 1234.000000 which is now 10 digits. However you have an idea, can you tell me how to check if there is excess digits amd how to cut them?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1677785986,"post_id":75619946,"comment_id":133411187,"body_markdown":"( some caution needed for numbers greater than or equal 100_000 or negatives )","body":"( some caution needed for numbers greater than or equal 100_000 or negatives )"},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677786035,"post_id":75619946,"comment_id":133411195,"body_markdown":"&quot;0.01234000&quot;.substring(0, 6) does it count the &#39;.&#39;  also to return 0.0123, or I should use (0, 7) if the &#39;.&#39; has effect also.","body":"&quot;0.01234000&quot;.substring(0, 6) does it count the &#39;.&#39;  also to return 0.0123, or I should use (0, 7) if the &#39;.&#39; has effect also."},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677786418,"post_id":75619946,"comment_id":133411282,"body_markdown":"If i use (0, 7) what if the number is 123456.0, it will return a result like 123456. The &#39;.&#39; Included at the end","body":"If i use (0, 7) what if the number is 123456.0, it will return a result like 123456. The &#39;.&#39; Included at the end"}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1677787570,"post_id":75620307,"comment_id":133411535,"body_markdown":"The best answer might be this answer combined with using `Math.log10(double)` from my answer.","body":"The best answer might be this answer combined with using <code>Math.log10(double)</code> from my answer."}],"tags":[],"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677787333,"creation_date":1677787333,"answer_id":75620307,"question_id":75619946,"body_markdown":"You could use the [DecimalFormat][1] class to format your numbers, then maybe switch on the length of your number and play with the ```setMinimumFractionDigits```, ```setMaximumFractionDigits```, ```setMinimumIntegerDigits``` and ```setMaximumIntegerDigits``` methods to format your number with the number of leading and trailing zeros you want.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"How can a number be formatted so the position of the decimal point varies with magnitude?","body":"<p>You could use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a> class to format your numbers, then maybe switch on the length of your number and play with the <code>setMinimumFractionDigits</code>, <code>setMaximumFractionDigits</code>, <code>setMinimumIntegerDigits</code> and <code>setMaximumIntegerDigits</code> methods to format your number with the number of leading and trailing zeros you want.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677805322,"creation_date":1677787445,"answer_id":75620325,"question_id":75619946,"body_markdown":"You can use `Math.log10(double)` to discover how many digits are in the number.  Create a variable format specifier using the result:\r\n  \r\n    public static String digitsDemo (double x) {\r\n        int digits = (int) Math.log10 (x);\r\n        String form = &quot;%.&quot; + ( 6 - digits - 1) + &quot;f&quot;;\r\n        return String.format (form, x);\r\n    }\r\n    \r\n    public static void testDigitsDemo () {\r\n        double [] a = { 1.01234, 10.1234, 101.234, 1012.34, 10123.4, 101234\r\n                      ,1.10000, 1.33000, 100.0, 1.0, 0.5, 0.25, .000000789\r\n                      ,0.00000567, 1.0000567, 999_999, 0.000900, 1.987999999\r\n                      };\r\n        for (double b : a) { \r\n            System.out.println (digitsDemo (b));\r\n        }\r\n        System.out.println ();\r\n    }\r\n\r\nResults:     \r\n\r\n      1.01234\r\n      10.1234\r\n      101.234\r\n      1012.34\r\n      10123.4\r\n      101234\r\n      1.10000\r\n      1.33000\r\n      100.000\r\n      1.00000\r\n      0.50000\r\n      0.25000\r\n      0.00000078900\r\n      0.0000056700\r\n      1.00006\r\n      999999\r\n      0.00090000\r\n      1.98800\r\n\r\n\r\nThis code has some known shortcomings:\r\n\r\n 1. It will throw a `NumberFormatException` if the value is `1_000_000.0` or greater or  is zero.\r\n 2. If the number is too small, it can ignore the format and show excess digits to the right of the decimal point. This is shown in the test run results. \r\n 3. Negative numbers have not been considered. ","title":"How can a number be formatted so the position of the decimal point varies with magnitude?","body":"<p>You can use <code>Math.log10(double)</code> to discover how many digits are in the number.  Create a variable format specifier using the result:</p>\n<pre><code>public static String digitsDemo (double x) {\n    int digits = (int) Math.log10 (x);\n    String form = &quot;%.&quot; + ( 6 - digits - 1) + &quot;f&quot;;\n    return String.format (form, x);\n}\n\npublic static void testDigitsDemo () {\n    double [] a = { 1.01234, 10.1234, 101.234, 1012.34, 10123.4, 101234\n                  ,1.10000, 1.33000, 100.0, 1.0, 0.5, 0.25, .000000789\n                  ,0.00000567, 1.0000567, 999_999, 0.000900, 1.987999999\n                  };\n    for (double b : a) { \n        System.out.println (digitsDemo (b));\n    }\n    System.out.println ();\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>  1.01234\n  10.1234\n  101.234\n  1012.34\n  10123.4\n  101234\n  1.10000\n  1.33000\n  100.000\n  1.00000\n  0.50000\n  0.25000\n  0.00000078900\n  0.0000056700\n  1.00006\n  999999\n  0.00090000\n  1.98800\n</code></pre>\n<p>This code has some known shortcomings:</p>\n<ol>\n<li>It will throw a <code>NumberFormatException</code> if the value is <code>1_000_000.0</code> or greater or  is zero.</li>\n<li>If the number is too small, it can ignore the format and show excess digits to the right of the decimal point. This is shown in the test run results.</li>\n<li>Negative numbers have not been considered.</li>\n</ol>\n"}],"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75620325,"answer_count":2,"score":0,"last_activity_date":1677904513,"creation_date":1677784710,"question_id":75619946,"body_markdown":"I have different types of numbers of type float and/or double.\r\n\r\nI want to set these numbers to a specific format of 6 digits.\r\n\r\nExamples:\r\n```\r\n1.01234\r\n10.1234\r\n101.234\r\n1012.34\r\n10123.4\r\n101234\r\n1.10000\r\n1.33000\r\n```\r\nRegardless of how a number looks, whether is has a a decimal or it doesn&#39;t, I want it to be 6 digits.\r\n\r\nSo I have:\r\n```\r\nString s = &quot;123.4&quot;;\r\n```\r\n\r\nI want printout to look like: `123.400`\r\n\r\nI know I can use `String.format(&quot;%.3f&quot;, s)` to get result of type xxx.xxx\r\n\r\nBut what if have a different number?\r\n\r\nCheck the examples below and required results:\r\n```none\r\n123456 to 123456\r\n1.2    to 1.20000\r\n0.56   to 0.56000\r\n0.001  to 0.00100\r\n```\r\nNote that the required result has 6 digits.","title":"How can a number be formatted so the position of the decimal point varies with magnitude?","body":"<p>I have different types of numbers of type float and/or double.</p>\n<p>I want to set these numbers to a specific format of 6 digits.</p>\n<p>Examples:</p>\n<pre><code>1.01234\n10.1234\n101.234\n1012.34\n10123.4\n101234\n1.10000\n1.33000\n</code></pre>\n<p>Regardless of how a number looks, whether is has a a decimal or it doesn't, I want it to be 6 digits.</p>\n<p>So I have:</p>\n<pre><code>String s = &quot;123.4&quot;;\n</code></pre>\n<p>I want printout to look like: <code>123.400</code></p>\n<p>I know I can use <code>String.format(&quot;%.3f&quot;, s)</code> to get result of type xxx.xxx</p>\n<p>But what if have a different number?</p>\n<p>Check the examples below and required results:</p>\n<pre class=\"lang-none prettyprint-override\"><code>123456 to 123456\n1.2    to 1.20000\n0.56   to 0.56000\n0.001  to 0.00100\n</code></pre>\n<p>Note that the required result has 6 digits.</p>\n"},{"tags":["java","functional-programming","reactive-programming"],"comments":[{"owner":{"account_id":5505304,"reputation":211,"user_id":4373302,"display_name":"Daniel Stiefel"},"score":0,"creation_date":1510144934,"post_id":47179937,"comment_id":81308835,"body_markdown":"could you explain to me what Mono is?","body":"could you explain to me what Mono is?"},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":1,"creation_date":1510145234,"post_id":47179937,"comment_id":81309055,"body_markdown":"check -&gt; http://musigma.org/java/2016/11/21/reactor.html","body":"check -&gt; <a href=\"http://musigma.org/java/2016/11/21/reactor.html\" rel=\"nofollow noreferrer\">musigma.org/java/2016/11/21/reactor.html</a>"},{"owner":{"account_id":2573644,"reputation":140,"user_id":2231829,"display_name":"indranil32"},"score":1,"creation_date":1510145428,"post_id":47179937,"comment_id":81309190,"body_markdown":"If you use the block(Duration timeout) with zero duration -\n https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block-java.time.Duration-","body":"If you use the block(Duration timeout) with zero duration -  <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block-java.time.Duration-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":3,"creation_date":1510145788,"post_id":47180085,"comment_id":81309406,"body_markdown":"I know usage of block but as it will make a blocking call I don&#39;t want to use it. Isn&#39;t there another way?","body":"I know usage of block but as it will make a blocking call I don&#39;t want to use it. Isn&#39;t there another way?"}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":1,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1510145463,"creation_date":1510145046,"answer_id":47180085,"question_id":47179937,"body_markdown":"According to the [doc][1] you can do:\r\n\r\n\r\n    String getValue(Mono&lt;String&gt; mono) {\r\n        return mono.block();\r\n    }\r\n\r\n\r\nbe aware of the blocking call\r\n\r\n\r\n  [1]: http://musigma.org/java/2016/11/21/reactor.html","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>According to the <a href=\"http://musigma.org/java/2016/11/21/reactor.html\" rel=\"noreferrer\">doc</a> you can do:</p>\n\n<pre><code>String getValue(Mono&lt;String&gt; mono) {\n    return mono.block();\n}\n</code></pre>\n\n<p>be aware of the blocking call</p>\n"},{"comments":[{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":1,"creation_date":1510146649,"post_id":47180610,"comment_id":81309970,"body_markdown":"That&#39;s what I am looking for-&gt; how to subscribe it? May be via lambda?","body":"That&#39;s what I am looking for-&gt; how to subscribe it? May be via lambda?"},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1510147448,"post_id":47180610,"comment_id":81310557,"body_markdown":"Yes, that&#39;s one option. See the edit. But the point is that you can&#39;t write `getValue` method in your question.","body":"Yes, that&#39;s one option. See the edit. But the point is that you can&#39;t write <code>getValue</code> method in your question."},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1510151229,"post_id":47180610,"comment_id":81313240,"body_markdown":"Actually with string value I need to call another method... Let&#39;s say Mono&lt;string&gt; myMono has &quot;abc&quot;  as actual string. With that String I need to call another method say print(String str) in that method. So how do I achieve it.. myMono.subscribe(value-&gt;print(value)) ?","body":"Actually with string value I need to call another method... Let&#39;s say Mono&lt;string&gt; myMono has &quot;abc&quot;  as actual string. With that String I need to call another method say print(String str) in that method. So how do I achieve it.. myMono.subscribe(value-&gt;print(value)) ?"},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1510151291,"post_id":47180610,"comment_id":81313297,"body_markdown":"Yes, just as I show with `Console.out.println` in the example.","body":"Yes, just as I show with <code>Console.out.println</code> in the example."},{"owner":{"account_id":6602409,"reputation":9636,"user_id":5100278,"accept_rate":78,"display_name":"Kingamere"},"score":0,"creation_date":1652191635,"post_id":47180610,"comment_id":127543418,"body_markdown":"What is Console.out.println? Shouldn&#39;t it be System.out.println?","body":"What is Console.out.println? Shouldn&#39;t it be System.out.println?"},{"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":1,"creation_date":1652193296,"post_id":47180610,"comment_id":127544235,"body_markdown":"@Kingamere Yes, not sure what I confused it with.","body":"@Kingamere Yes, not sure what I confused it with."}],"tags":[],"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":6,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1652193260,"creation_date":1510146576,"answer_id":47180610,"question_id":47179937,"body_markdown":"Getting a `String` from a `Mono&lt;String&gt;` without a blocking call isn&#39;t easy, it&#39;s impossible. By definition. If the `String` isn&#39;t available yet (which `Mono&lt;String&gt;` allows), you can&#39;t get it except by waiting until it comes in and that&#39;s exactly what blocking is.\r\n\r\nInstead of &quot;getting a `String`&quot; you `subscribe` to the `Mono` and the `Subscriber` you pass will get the `String` when it becomes available (maybe immediately). E.g.\r\n\r\n    myMono.subscribe(\r\n      value -&gt; System.out.println(value), \r\n      error -&gt; error.printStackTrace(), \r\n      () -&gt; System.out.println(&quot;completed without a value&quot;)\r\n    )\r\n\r\nwill print the value or error produced by `myMono` (type of `value` is `String`, type of `error` is `Throwable`). At https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html you can see other variants of `subscribe` too.","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Getting a <code>String</code> from a <code>Mono&lt;String&gt;</code> without a blocking call isn't easy, it's impossible. By definition. If the <code>String</code> isn't available yet (which <code>Mono&lt;String&gt;</code> allows), you can't get it except by waiting until it comes in and that's exactly what blocking is.</p>\n<p>Instead of &quot;getting a <code>String</code>&quot; you <code>subscribe</code> to the <code>Mono</code> and the <code>Subscriber</code> you pass will get the <code>String</code> when it becomes available (maybe immediately). E.g.</p>\n<pre><code>myMono.subscribe(\n  value -&gt; System.out.println(value), \n  error -&gt; error.printStackTrace(), \n  () -&gt; System.out.println(&quot;completed without a value&quot;)\n)\n</code></pre>\n<p>will print the value or error produced by <code>myMono</code> (type of <code>value</code> is <code>String</code>, type of <code>error</code> is <code>Throwable</code>). At <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html</a> you can see other variants of <code>subscribe</code> too.</p>\n"},{"comments":[{"owner":{"account_id":8012569,"reputation":360,"user_id":6043812,"display_name":"AjCodez"},"score":8,"creation_date":1521738220,"post_id":47194133,"comment_id":85870842,"body_markdown":"Just an FYI, instead of creating your own `print(String str)` method and doing `this::print`, you can simply do `System.out::print`","body":"Just an FYI, instead of creating your own <code>print(String str)</code> method and doing <code>this::print</code>, you can simply do <code>System.out::print</code>"},{"owner":{"account_id":6246568,"reputation":1461,"user_id":4858233,"accept_rate":38,"display_name":"Ray Zhang"},"score":0,"creation_date":1560399078,"post_id":47194133,"comment_id":99724702,"body_markdown":"Why does this exact piece of code gives me an error: &quot;Cannot infer type argument(s) for &lt;R&gt; flatMap(Function&lt;? super T,? extends Mono&lt;? extends R&gt;&gt;)&quot; ??","body":"Why does this exact piece of code gives me an error: &quot;Cannot infer type argument(s) for &lt;R&gt; flatMap(Function&lt;? super T,? extends Mono&lt;? extends R&gt;&gt;)&quot; ??"},{"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"score":0,"creation_date":1614948743,"post_id":47194133,"comment_id":117548039,"body_markdown":"This gives me the error [here](https://stackoverflow.com/questions/66492668/to-take-a-string-from-a-fluxstring-throws-type-mismatch-cannot-convert-from-d)","body":"This gives me the error <a href=\"https://stackoverflow.com/questions/66492668/to-take-a-string-from-a-fluxstring-throws-type-mismatch-cannot-convert-from-d\">here</a>"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1619596361,"post_id":47194133,"comment_id":118949781,"body_markdown":"does this answer provide any extra information other than Alexey Romanov&#39;s?","body":"does this answer provide any extra information other than Alexey Romanov&#39;s?"}],"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1521742601,"creation_date":1510203161,"answer_id":47194133,"question_id":47179937,"body_markdown":"Finally what worked for me is calling flatMap method like below:\r\n\r\n    public void getValue(Mono&lt;String&gt; monoString)\r\n    {\r\n       monoString.flatMap(this::print);\r\n    }\r\n","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Finally what worked for me is calling flatMap method like below:</p>\n\n<pre><code>public void getValue(Mono&lt;String&gt; monoString)\n{\n   monoString.flatMap(this::print);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8012569,"reputation":360,"user_id":6043812,"display_name":"AjCodez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521738060,"creation_date":1521738060,"answer_id":49434412,"question_id":47179937,"body_markdown":"What worked for me was the following:\r\n\r\n`monoString.subscribe(this::print);`","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>What worked for me was the following:</p>\n\n<p><code>monoString.subscribe(this::print);</code></p>\n"},{"comments":[{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":3,"creation_date":1543640908,"post_id":53563949,"comment_id":94001286,"body_markdown":"While this might answer the authors question, it lacks some explaining words and/or links to documentation. Raw code snippets are not very helpful without some phrases around them. You may also find [how to write a good answer](https://stackoverflow.com/help/how-to-answer) very helpful. Please edit your answer - [From Review](https://stackoverflow.com/review/low-quality-posts/21564390)","body":"While this might answer the authors question, it lacks some explaining words and/or links to documentation. Raw code snippets are not very helpful without some phrases around them. You may also find <a href=\"https://stackoverflow.com/help/how-to-answer\">how to write a good answer</a> very helpful. Please edit your answer - <a href=\"https://stackoverflow.com/review/low-quality-posts/21564390\">From Review</a>"},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":2,"creation_date":1543830361,"post_id":53563949,"comment_id":94045183,"body_markdown":"What&#39;s User, monoUser and getId? None of them are in original question. So all you are trying is to solve an hypothetical query.","body":"What&#39;s User, monoUser and getId? None of them are in original question. So all you are trying is to solve an hypothetical query."},{"owner":{"account_id":2448055,"reputation":390,"user_id":2134923,"display_name":"Ahmed Aziz"},"score":0,"creation_date":1633527253,"post_id":53563949,"comment_id":122783294,"body_markdown":"This will return a Mono back with the value of the ID --&gt; Mono&lt;Integer&gt; if the id is Integer. I think the question was to return a String and not a Mono","body":"This will return a Mono back with the value of the ID --&gt; Mono&lt;Integer&gt; if the id is Integer. I think the question was to return a String and not a Mono"}],"tags":[],"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1543607170,"creation_date":1543607170,"answer_id":53563949,"question_id":47179937,"body_markdown":"Better\r\n\r\n    monoUser.map(User::getId) ","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Better</p>\n\n<pre><code>monoUser.map(User::getId) \n</code></pre>\n"},{"comments":[{"owner":{"account_id":5339594,"reputation":3245,"user_id":4257225,"accept_rate":100,"display_name":"Spartan"},"score":1,"creation_date":1622372366,"post_id":62157113,"comment_id":119769430,"body_markdown":"But it blocks the call","body":"But it blocks the call"}],"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591116530,"creation_date":1591116530,"answer_id":62157113,"question_id":47179937,"body_markdown":"Simplest answer is:\r\n\r\n     String returnVal = mono.block();","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Simplest answer is:</p>\n\n<pre><code> String returnVal = mono.block();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1615415911,"post_id":66427946,"comment_id":117687509,"body_markdown":"I think this is now deprecated","body":"I think this is now deprecated"}],"tags":[],"owner":{"account_id":6404433,"reputation":623,"user_id":4966135,"display_name":"Vijay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614624829,"creation_date":1614624829,"answer_id":66427946,"question_id":47179937,"body_markdown":"This should work\r\n\r\n    String str = monoString.toProcessor().block();","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>This should work</p>\n<pre><code>String str = monoString.toProcessor().block();\n</code></pre>\n"}],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143428,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":47194133,"answer_count":7,"score":50,"last_activity_date":1677904227,"creation_date":1510144674,"question_id":47179937,"body_markdown":"I have a method which accepts Mono&lt;String&gt; as a param.\r\nAll I want is to get the actual String from it. Googled but didn&#39;t find answer except calling block() over Mono object but it will make a blocking call **so want to avoid using block(). Please suggest other way if possible.**\r\nThe reason why I need this String is because inside this method I need to call another method say print() with the actual String value.\r\nI understand this is easy but I am new to reactive programming.\r\n\r\nCode:\r\n\r\n    public String getValue(Mono&lt;String&gt; monoString) {\r\n        // How to get actual String from param monoString\r\n        // and call print(String) method\r\n    }\r\n\r\n    public void print(String str) {\r\n        System.out.println(str);\r\n    }\r\n","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>I have a method which accepts Mono as a param.\nAll I want is to get the actual String from it. Googled but didn't find answer except calling block() over Mono object but it will make a blocking call <strong>so want to avoid using block(). Please suggest other way if possible.</strong>\nThe reason why I need this String is because inside this method I need to call another method say print() with the actual String value.\nI understand this is easy but I am new to reactive programming.</p>\n<p>Code:</p>\n<pre><code>public String getValue(Mono&lt;String&gt; monoString) {\n    // How to get actual String from param monoString\n    // and call print(String) method\n}\n\npublic void print(String str) {\n    System.out.println(str);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677804334,"creation_date":1677804334,"answer_id":75622223,"question_id":75622097,"body_markdown":"You don&#39;t really have to test your configuration class. But if you really want to test it, you should test it by loading the context, but not using the mocking.\r\n\r\n    @SpringBootTest\r\n    @Import(RestConfiguration.class)\r\n    class RestConfigurationTest {\r\n    \r\n    }\r\n\r\nThis will load your configuration class and test your values.","title":"Unit Test a function inside @Configuration - SpringBoot","body":"<p>You don't really have to test your configuration class. But if you really want to test it, you should test it by loading the context, but not using the mocking.</p>\n<pre><code>@SpringBootTest\n@Import(RestConfiguration.class)\nclass RestConfigurationTest {\n\n}\n</code></pre>\n<p>This will load your configuration class and test your values.</p>\n"}],"owner":{"account_id":14599431,"reputation":1,"user_id":10544101,"display_name":"dp101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677904069,"creation_date":1677803001,"question_id":75622097,"body_markdown":"I have added an x-correlation-id in request header inside the restTemplate function shown below. I want to write a unit test to verify if x-correlation-id is attached to the request header. I am not a Java developer and this is a one off task. Please help me unit test the part where &quot;x-correlation-id&quot; - X_CORRELATION_ID is in the request header\r\n```\r\n@Configuration\r\npublic class RestConfiguration {\r\n    private static final Logger log = LoggerFactory.getLogger(RestConfiguration.class);\r\n\r\n    @Bean @Primary\r\n    public RestTemplate restTemplate(\r\n            CorrelationComponent correlationComponent,\r\n            CloudTokener cloudTokener,\r\n            @Value(&quot;${tokens.aad.role-app.resource}&quot;) String resourceId,\r\n            RestTemplateBuilder restTemplateBuilder,\r\n            @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout,\r\n            @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout\r\n    ) {\r\n        log.trace(&quot;restTemplate() start&quot;);\r\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = Arrays.asList((request, body, execution) -&gt; {\r\n            // add correlation ID header\r\n            \r\n            request.getHeaders().set(Constants.X_CORRELATION_ID, correlationComponent.getCorrelationId());\r\n            return execution.execute(request, body);\r\n        });\r\n        RestTemplate bean = restTemplateBuilder\r\n                .setConnectTimeout(Duration.ofMillis(connectTimeout))\r\n                .setReadTimeout(Duration.ofMillis(readTimeout))\r\n                .interceptors(interceptors)\r\n                .build();\r\n        log.trace(&quot;restTemplate() end&quot;);\r\n        return bean;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI know I am doing this wrong. Please help me write the correct unit test specifically in SpringBoot Java.\r\n```\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.web.client.RestTemplateBuilder;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\nimport static org.mockito.Mockito.mock;\r\n\r\nclass RestConfigurationTest {\r\n    RestConfiguration restConfiguration;\r\n    @Value(&quot;${tokens.abc.role-app.resource}&quot;) String resourceId;\r\n    @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout;\r\n    @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout;\r\n    @BeforeEach\r\n    void setUp() {\r\n        restConfiguration = new RestConfiguration();\r\n    }\r\n    @Test\r\n    public void testRestTemplate() {\r\n        CorrelationComponent correlationComponent = mock(CorrelationComponent.class);\r\n        CloudTokener cloudTokener = mock(CloudTokener.class);\r\n        RestTemplateBuilder restTemplateBuilder = mock(RestTemplateBuilder.class);\r\n        RestTemplate restTemplate = restConfiguration.restTemplate(correlationComponent,azureTokener, resourceId, restTemplateBuilder, connectTimeout, readTimeout );\r\n        \r\n    }\r\n    @AfterEach\r\n    void tearDown() {\r\n    }\r\n\r\n}\r\n```\r\n","title":"Unit Test a function inside @Configuration - SpringBoot","body":"<p>I have added an x-correlation-id in request header inside the restTemplate function shown below. I want to write a unit test to verify if x-correlation-id is attached to the request header. I am not a Java developer and this is a one off task. Please help me unit test the part where &quot;x-correlation-id&quot; - X_CORRELATION_ID is in the request header</p>\n<pre><code>@Configuration\npublic class RestConfiguration {\n    private static final Logger log = LoggerFactory.getLogger(RestConfiguration.class);\n\n    @Bean @Primary\n    public RestTemplate restTemplate(\n            CorrelationComponent correlationComponent,\n            CloudTokener cloudTokener,\n            @Value(&quot;${tokens.aad.role-app.resource}&quot;) String resourceId,\n            RestTemplateBuilder restTemplateBuilder,\n            @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout,\n            @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout\n    ) {\n        log.trace(&quot;restTemplate() start&quot;);\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = Arrays.asList((request, body, execution) -&gt; {\n            // add correlation ID header\n            \n            request.getHeaders().set(Constants.X_CORRELATION_ID, correlationComponent.getCorrelationId());\n            return execution.execute(request, body);\n        });\n        RestTemplate bean = restTemplateBuilder\n                .setConnectTimeout(Duration.ofMillis(connectTimeout))\n                .setReadTimeout(Duration.ofMillis(readTimeout))\n                .interceptors(interceptors)\n                .build();\n        log.trace(&quot;restTemplate() end&quot;);\n        return bean;\n    }\n}\n</code></pre>\n<p>I know I am doing this wrong. Please help me write the correct unit test specifically in SpringBoot Java.</p>\n<pre><code>\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.web.client.RestTemplate;\n\nimport static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.Mockito.mock;\n\nclass RestConfigurationTest {\n    RestConfiguration restConfiguration;\n    @Value(&quot;${tokens.abc.role-app.resource}&quot;) String resourceId;\n    @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout;\n    @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout;\n    @BeforeEach\n    void setUp() {\n        restConfiguration = new RestConfiguration();\n    }\n    @Test\n    public void testRestTemplate() {\n        CorrelationComponent correlationComponent = mock(CorrelationComponent.class);\n        CloudTokener cloudTokener = mock(CloudTokener.class);\n        RestTemplateBuilder restTemplateBuilder = mock(RestTemplateBuilder.class);\n        RestTemplate restTemplate = restConfiguration.restTemplate(correlationComponent,azureTokener, resourceId, restTemplateBuilder, connectTimeout, readTimeout );\n        \n    }\n    @AfterEach\n    void tearDown() {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","permissions","android-permissions","user-permissions"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1677893300,"post_id":75632946,"comment_id":133433290,"body_markdown":"Picking a photo is [exactly the example directly from the docs](https://developer.android.com/training/basics/intents/result). You don&#39;t need any of that permission code or anything version specific. Why do you think any of that is necessary?","body":"Picking a photo is <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">exactly the example directly from the docs</a>. You don&#39;t need any of that permission code or anything version specific. Why do you think any of that is necessary?"}],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1677916117,"post_id":75633591,"comment_id":133435126,"body_markdown":"But...as you could have read in a comment on the post that permission is not needed. And has nothing to do with the problem. So why talk about it?","body":"But...as you could have read in a comment on the post that permission is not needed. And has nothing to do with the problem. So why talk about it?"},{"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"score":0,"creation_date":1677918723,"post_id":75633591,"comment_id":133435431,"body_markdown":"If so then need to create a new storage access framework. `ActivityResultContracts` Api will request the storage permission and read images.","body":"If so then need to create a new storage access framework. <code>ActivityResultContracts</code> Api will request the storage permission and read images."}],"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677902899,"creation_date":1677902899,"answer_id":75633591,"question_id":75632946,"body_markdown":"The `maxSdkVersion` attribute which you have given in the manifest file will not provide the permission level above 29. So, for that you need to remove it and make a small change in that: \r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;`\r\n\r\n\r\n","title":"Pick Image Files From Gallery In Android 11 and Above Or Below in Android Studio","body":"<p>The <code>maxSdkVersion</code> attribute which you have given in the manifest file will not provide the permission level above 29. So, for that you need to remove it and make a small change in that:</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;</code></p>\n"}],"owner":{"account_id":27717283,"reputation":1,"user_id":21329158,"display_name":"Ezequiel Guazai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677902899,"creation_date":1677890237,"question_id":75632946,"body_markdown":"I have a problem, I want to get images on devices with android versions lower and higher than 10, but it only takes those from lower than 10, how could I solve this problem?\r\n\r\nI tried this...\r\n\r\nXML\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot;/&gt;\r\n```\r\n\r\nMy Class\r\n```\r\nlayoutMiscellaneous.findViewById(R.id.laoutAddImage).setOnClickListener(view -&gt; {\r\n            bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n            if (ContextCompat.checkSelfPermission(\r\n                    getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\r\n            ) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(\r\n                        CreateNoteActivity.this,\r\n                        new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                        REQUEST_CODE_STORAGE_PERMISSION\r\n                );\r\n            } else {\r\n                selectImage();\r\n            }\r\n        });\r\n\r\nprivate void selectImage() {\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        if (intent.resolveActivity(getPackageManager())  != null) {\r\n            startActivityForResult(intent, REQUEST_CODE_SELECTED_IMAGE);\r\n        }\r\n    }\r\n\r\n@Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                selectImage();\r\n            } else {\r\n                Toast.makeText(this, R.string.permissao_recusada, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSo What can i do?\r\n","title":"Pick Image Files From Gallery In Android 11 and Above Or Below in Android Studio","body":"<p>I have a problem, I want to get images on devices with android versions lower and higher than 10, but it only takes those from lower than 10, how could I solve this problem?</p>\n<p>I tried this...</p>\n<p>XML</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot;/&gt;\n</code></pre>\n<p>My Class</p>\n<pre><code>layoutMiscellaneous.findViewById(R.id.laoutAddImage).setOnClickListener(view -&gt; {\n            bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n            if (ContextCompat.checkSelfPermission(\n                    getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\n            ) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(\n                        CreateNoteActivity.this,\n                        new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n                        REQUEST_CODE_STORAGE_PERMISSION\n                );\n            } else {\n                selectImage();\n            }\n        });\n\nprivate void selectImage() {\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        if (intent.resolveActivity(getPackageManager())  != null) {\n            startActivityForResult(intent, REQUEST_CODE_SELECTED_IMAGE);\n        }\n    }\n\n@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                selectImage();\n            } else {\n                Toast.makeText(this, R.string.permissao_recusada, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>So What can i do?</p>\n"},{"tags":["java","maven","dependency-management","maven-enforcer-plugin"],"answers":[{"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1366642187,"post_id":16150014,"comment_id":23075236,"body_markdown":"Regarding your first point, yes you are correct (hence the comment in my XML bemoaning the stupidity of needing to do this). It sounds like we agree on your second point (regarding backwards compatibility).","body":"Regarding your first point, yes you are correct (hence the comment in my XML bemoaning the stupidity of needing to do this). It sounds like we agree on your second point (regarding backwards compatibility)."},{"owner":{"account_id":128351,"reputation":1497,"user_id":326120,"accept_rate":50,"display_name":"Andreas Krueger"},"score":0,"creation_date":1366664412,"post_id":16150014,"comment_id":23087434,"body_markdown":"Duncan, I think that I already gave you the answer about your second question, too. The risk is to potentially face run-time errors. Since the direct dependenies are already compiled, when you include them, the Maven build will not tell you. All that can occur, when mixing up different versions of indirect dependencies are run-time errors. A run time error also being a deployment error of a WAR. JAR or EAR file in the web or application container.","body":"Duncan, I think that I already gave you the answer about your second question, too. The risk is to potentially face run-time errors. Since the direct dependenies are already compiled, when you include them, the Maven build will not tell you. All that can occur, when mixing up different versions of indirect dependencies are run-time errors. A run time error also being a deployment error of a WAR. JAR or EAR file in the web or application container."}],"tags":[],"owner":{"account_id":128351,"reputation":1497,"user_id":326120,"accept_rate":50,"display_name":"Andreas Krueger"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1366641989,"creation_date":1366641989,"answer_id":16150014,"question_id":16100315,"body_markdown":"If JUnit as an artifact is coming through as a dependency in compile scope, it is a bug of one of your libraries, here: ca.juliusdavies.\r\n\r\nJUnit should always be included in test scope. Thus, it is **not** packed into the produced .jar, .war or .ear file, on successful build.\r\n\r\nGenerally speaking, there is no harm in excluding already included dependencies, as when library 1 and library 2 share one common dependency.\r\n\r\nThe only problem, of course, that can occur, is when library 1 and library 2 include different versions of the same dependent artifact. **This can cause run-time errors**, when the features of the library have changed.\r\nFortunately, this is not often the case, unless the difference in the version numbers is great. In general, it is advisable to include the latest dependency version and exlude the older one. This is most of the time viable.\r\n\r\nIf not, check wheter there are updates to the first-level dependencies of your project.","title":"Solving Maven dependency convergence issues","body":"<p>If JUnit as an artifact is coming through as a dependency in compile scope, it is a bug of one of your libraries, here: ca.juliusdavies.</p>\n\n<p>JUnit should always be included in test scope. Thus, it is <strong>not</strong> packed into the produced .jar, .war or .ear file, on successful build.</p>\n\n<p>Generally speaking, there is no harm in excluding already included dependencies, as when library 1 and library 2 share one common dependency.</p>\n\n<p>The only problem, of course, that can occur, is when library 1 and library 2 include different versions of the same dependent artifact. <strong>This can cause run-time errors</strong>, when the features of the library have changed.\nFortunately, this is not often the case, unless the difference in the version numbers is great. In general, it is advisable to include the latest dependency version and exlude the older one. This is most of the time viable.</p>\n\n<p>If not, check wheter there are updates to the first-level dependencies of your project.</p>\n"},{"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1367231757,"post_id":16239482,"comment_id":23293664,"body_markdown":"A very good response, thank you. I hadn&#39;t thought about the dangers of maintaining an exclusion.","body":"A very good response, thank you. I hadn&#39;t thought about the dangers of maintaining an exclusion."},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1367240458,"post_id":16239482,"comment_id":23298367,"body_markdown":"I awarded you the bounty due to the level of detail in your answer. It was nice to see a (somewhat) real world example of how this can go wrong.","body":"I awarded you the bounty due to the level of detail in your answer. It was nice to see a (somewhat) real world example of how this can go wrong."},{"owner":{"display_name":"user2015707"},"score":0,"creation_date":1367242566,"post_id":16239482,"comment_id":23299717,"body_markdown":"@DuncanJones Thanks. My answer is rather a warning than a solution. Still, I hope it will help.","body":"@DuncanJones Thanks. My answer is rather a warning than a solution. Still, I hope it will help."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1530183206,"post_id":16239482,"comment_id":89150430,"body_markdown":"In the specific case of JUnit with compile scope the exclusion approach is correct, but &quot;generally speaking&quot; the dependencyManagement approach should be preferable.  See http://timsteffens.blogspot.com/2014/05/solving-conflicts-with-transitive-maven.html","body":"In the specific case of JUnit with compile scope the exclusion approach is correct, but &quot;generally speaking&quot; the dependencyManagement approach should be preferable.  See <a href=\"http://timsteffens.blogspot.com/2014/05/solving-conflicts-with-transitive-maven.html\" rel=\"nofollow noreferrer\">timsteffens.blogspot.com/2014/05/&hellip;</a>"},{"owner":{"account_id":1932164,"reputation":593,"user_id":1741338,"accept_rate":80,"display_name":"Kieran Ryan"},"score":0,"creation_date":1586350679,"post_id":16239482,"comment_id":108095755,"body_markdown":"@DuncanJones: Great movie - Moon :-)","body":"@DuncanJones: Great movie - Moon :-)"}],"tags":[],"owner":{"display_name":"user2015707"},"comment_count":5,"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1366989279,"creation_date":1366988312,"answer_id":16239482,"question_id":16100315,"body_markdown":"We all agree that JUnit should never be set to another scope than `test`. Generally speaking I don&#39;t think either that there is another solution than excluding the unwanted dependency, so we all agree that your are right to do it.\r\n\r\n**A SIMPLE CASE :**\r\n\r\n\r\nAs Andreas Krueger says, there may be a risk with versions (I actually encountered it). Let say that the project&#39;s dependencies are the following:\r\n\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-group1:projectA:2.0\r\n    \t +-group2:projectB:3.8.1\r\n      +-group2:projectB:4.11\r\n\r\nNote that it is only a mere simplification of your case. Seeing this dependency tree, you would exclude the dependency projectB given by projectA :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;group1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;group2&lt;/groupId&gt;\r\n          &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 3.8.1. Everything would be fine and the project would run without encountering any problem at all.\r\n\r\nThen, a while after, let say that you decide to upgrade to the next version of project A, version 3.0 which adds new great features :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;group1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;group2&lt;/groupId&gt;\r\n          &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe problem is that **you are not aware yet** that projectA version 3.0 also have upgraded its dependency projectB to version 5.0 :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-group1:projectA:3.0\r\n    \t +-group2:projectB:5.0\r\n      +-group2:projectB:4.11\r\n\t   \r\nIn that case, the exclusion you would have made a while ago excludes projectB version 5.0. \r\n\r\n\r\nHowever, **projectA version 3.0 needs the improvements from project B version 5.0**. Because of the exclusion, after packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 5.0. At the moment you use any of projectA&#39;s new features, the program wouldn&#39;t run correctly.\r\n\r\n**WHAT WAS THE SOLUTION ?**\r\n\r\nI encountered this problem in a Java-EE project.\r\n\r\nA team developped database services. They packaged it as projectA. Each time they updated the services, they also updated a file listing all their current dependencies and the current versions.\r\n\r\nProjectA was a dependency for the Java-EE project I was working on. Each time the service-team updated ProjectA, I also checked the versions&#39; updates.\r\n\r\n**In fact, there is no harm in excluding a dependency.** But each time you update a dependency where an exclusion has been set, You have to check :\r\n\r\n - if this exclusion still makes sense.\r\n - if you need to upgrade the version of the excluded dependency in your own project.\r\n\r\nI guess maven exclusions are like kitchen knifes. It&#39;s sharp, cuts vegetables with no effort, but requires care when handling it...","title":"Solving Maven dependency convergence issues","body":"<p>We all agree that JUnit should never be set to another scope than <code>test</code>. Generally speaking I don't think either that there is another solution than excluding the unwanted dependency, so we all agree that your are right to do it.</p>\n\n<p><strong>A SIMPLE CASE :</strong></p>\n\n<p>As Andreas Krueger says, there may be a risk with versions (I actually encountered it). Let say that the project's dependencies are the following:</p>\n\n<pre><code>+-foo:bar:1.0-SNAPSHOT\n  +-group1:projectA:2.0\n     +-group2:projectB:3.8.1\n  +-group2:projectB:4.11\n</code></pre>\n\n<p>Note that it is only a mere simplification of your case. Seeing this dependency tree, you would exclude the dependency projectB given by projectA :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;group1&lt;/groupId&gt;\n  &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n  &lt;version&gt;2.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;group2&lt;/groupId&gt;\n      &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 3.8.1. Everything would be fine and the project would run without encountering any problem at all.</p>\n\n<p>Then, a while after, let say that you decide to upgrade to the next version of project A, version 3.0 which adds new great features :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;group1&lt;/groupId&gt;\n  &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n  &lt;version&gt;3.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;group2&lt;/groupId&gt;\n      &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The problem is that <strong>you are not aware yet</strong> that projectA version 3.0 also have upgraded its dependency projectB to version 5.0 :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>+-foo:bar:1.0-SNAPSHOT\n  +-group1:projectA:3.0\n     +-group2:projectB:5.0\n  +-group2:projectB:4.11\n</code></pre>\n\n<p>In that case, the exclusion you would have made a while ago excludes projectB version 5.0. </p>\n\n<p>However, <strong>projectA version 3.0 needs the improvements from project B version 5.0</strong>. Because of the exclusion, after packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 5.0. At the moment you use any of projectA's new features, the program wouldn't run correctly.</p>\n\n<p><strong>WHAT WAS THE SOLUTION ?</strong></p>\n\n<p>I encountered this problem in a Java-EE project.</p>\n\n<p>A team developped database services. They packaged it as projectA. Each time they updated the services, they also updated a file listing all their current dependencies and the current versions.</p>\n\n<p>ProjectA was a dependency for the Java-EE project I was working on. Each time the service-team updated ProjectA, I also checked the versions' updates.</p>\n\n<p><strong>In fact, there is no harm in excluding a dependency.</strong> But each time you update a dependency where an exclusion has been set, You have to check :</p>\n\n<ul>\n<li>if this exclusion still makes sense.</li>\n<li>if you need to upgrade the version of the excluded dependency in your own project.</li>\n</ul>\n\n<p>I guess maven exclusions are like kitchen knifes. It's sharp, cuts vegetables with no effort, but requires care when handling it...</p>\n"},{"tags":[],"owner":{"account_id":6419769,"reputation":502,"user_id":4976790,"display_name":"Gaurav Tanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677902008,"creation_date":1677902008,"answer_id":75633540,"question_id":16100315,"body_markdown":"Best way to solve this dependency issue while using enforcer in project,\r\nOne should add error causing dependency in dependency management i.e pom.xml\r\nlike in this junit is causing the problem, so picking the higher version and add as dependency in pom.xml\r\n\r\n                &lt;dependency&gt;&lt;groupId&gt;junit_or_group_id_error_causing_dependency&lt;/groupId&gt;&lt;artifactId&gt;Junit_or_artifact_id_group_id_error_causing_dependency&lt;/artifactId&gt;&lt;version&gt;4.11_or_higher_version_of_error_causing_dependency&lt;/version&gt;&lt;/dependency&gt;\r\n\r\nExclusion can be other solution,but I found it more cleaner way of doing the same.","title":"Solving Maven dependency convergence issues","body":"<p>Best way to solve this dependency issue while using enforcer in project,\nOne should add error causing dependency in dependency management i.e pom.xml\nlike in this junit is causing the problem, so picking the higher version and add as dependency in pom.xml</p>\n<pre><code>            &lt;dependency&gt;&lt;groupId&gt;junit_or_group_id_error_causing_dependency&lt;/groupId&gt;&lt;artifactId&gt;Junit_or_artifact_id_group_id_error_causing_dependency&lt;/artifactId&gt;&lt;version&gt;4.11_or_higher_version_of_error_causing_dependency&lt;/version&gt;&lt;/dependency&gt;\n</code></pre>\n<p>Exclusion can be other solution,but I found it more cleaner way of doing the same.</p>\n"}],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48058,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":16239482,"answer_count":3,"score":47,"last_activity_date":1677902008,"creation_date":1366359685,"question_id":16100315,"body_markdown":"I use the maven-enforcer-plugin to check for dependency convergence issues. A typical output would be:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    [WARNING] Rule 1: org.apache.maven.plugins.enforcer.DependencyConvergence failed \r\n      with message:\r\n    Failed while enforcing releasability the error(s) are [\r\n    Dependency convergence error for junit:junit:3.8.1 paths to dependency are:\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-ca.juliusdavies:not-yet-commons-ssl:0.3.9\r\n        +-commons-httpclient:commons-httpclient:3.0\r\n          +-junit:junit:3.8.1\r\n    and\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-junit:junit:4.11\r\n    ]\r\n\r\nSeeing this message, I would normally &quot;solve&quot; it by excluding the transitive dependency, e.g.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ca.juliusdavies&lt;/groupId&gt;\r\n      &lt;artifactId&gt;not-yet-commons-ssl&lt;/artifactId&gt;\r\n      &lt;version&gt;0.3.9&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;!-- This artifact links to another artifact which stupidly includes \r\n          junit in compile scope --&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;d like to understand whether this is truly a fix and the risks involved in excluding libraries in this fashion. As I see it:\r\n\r\n - The &quot;fix&quot; is normally safe, provided I&#39;m choosing to use the newer version. This relies on the library authors maintaining backwards compatibility.\r\n\r\n - There is typically no impact on the Maven build (since the nearer definition wins), however by excluding the dependency I&#39;m telling Maven that I know about this problem and thus appeasing the maven-enforcer-plugin.\r\n\r\nAre my thoughts correct and is there an alternative way of handling this issue? I&#39;m interested in answers that focus on the general case - I realise the `junit` example above is a little strange.","title":"Solving Maven dependency convergence issues","body":"<p>I use the maven-enforcer-plugin to check for dependency convergence issues. A typical output would be:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[WARNING] Rule 1: org.apache.maven.plugins.enforcer.DependencyConvergence failed \n  with message:\nFailed while enforcing releasability the error(s) are [\nDependency convergence error for junit:junit:3.8.1 paths to dependency are:\n+-foo:bar:1.0-SNAPSHOT\n  +-ca.juliusdavies:not-yet-commons-ssl:0.3.9\n    +-commons-httpclient:commons-httpclient:3.0\n      +-junit:junit:3.8.1\nand\n+-foo:bar:1.0-SNAPSHOT\n  +-junit:junit:4.11\n]\n</code></pre>\n\n<p>Seeing this message, I would normally \"solve\" it by excluding the transitive dependency, e.g.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;ca.juliusdavies&lt;/groupId&gt;\n  &lt;artifactId&gt;not-yet-commons-ssl&lt;/artifactId&gt;\n  &lt;version&gt;0.3.9&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;!-- This artifact links to another artifact which stupidly includes \n      junit in compile scope --&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I'd like to understand whether this is truly a fix and the risks involved in excluding libraries in this fashion. As I see it:</p>\n\n<ul>\n<li><p>The \"fix\" is normally safe, provided I'm choosing to use the newer version. This relies on the library authors maintaining backwards compatibility.</p></li>\n<li><p>There is typically no impact on the Maven build (since the nearer definition wins), however by excluding the dependency I'm telling Maven that I know about this problem and thus appeasing the maven-enforcer-plugin.</p></li>\n</ul>\n\n<p>Are my thoughts correct and is there an alternative way of handling this issue? I'm interested in answers that focus on the general case - I realise the <code>junit</code> example above is a little strange.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"score":0,"creation_date":1549254901,"post_id":54510167,"comment_id":95823701,"body_markdown":"Thank you for your answer but registerForContextMenu doesn&#39;t react in my app","body":"Thank you for your answer but registerForContextMenu doesn&#39;t react in my app"},{"owner":{"account_id":4748150,"reputation":3816,"user_id":3838901,"display_name":"Farid Haq"},"score":0,"creation_date":1549255128,"post_id":54510167,"comment_id":95823747,"body_markdown":"onCreate method calls only one time when your activity first lunch.  If you want to react your registerForContextMen you need to put this method inside Listener method when you click any event.","body":"onCreate method calls only one time when your activity first lunch.  If you want to react your registerForContextMen you need to put this method inside Listener method when you click any event."},{"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"score":0,"creation_date":1549255230,"post_id":54510167,"comment_id":95823767,"body_markdown":"I did exactly what you said but still no result","body":"I did exactly what you said but still no result"}],"tags":[],"owner":{"account_id":4748150,"reputation":3816,"user_id":3838901,"display_name":"Farid Haq"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549254682,"creation_date":1549254682,"answer_id":54510167,"question_id":54510081,"body_markdown":"Not clear your question since you did not submitted full code, i think it may work for you.\r\n\r\n       textViews.setOnClickListener(new OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n           registerForContextMenu(color);\r\n           registerForContextMenu(size);\r\n        }\r\n    });","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>Not clear your question since you did not submitted full code, i think it may work for you.</p>\n\n<pre><code>   textViews.setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {\n       registerForContextMenu(color);\n       registerForContextMenu(size);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549256308,"creation_date":1549256308,"answer_id":54510342,"question_id":54510081,"body_markdown":"after clicking TextView I should use method openContextMenu(View v); following code is working in my case \r\n       \r\n  \r\n\r\n      color = (TextView)findViewById(R.id.color);\r\n        size = (TextView)findViewById(R.id.size);\r\n        registerForContextMenu(color);\r\n        registerForContextMenu(size);\r\n        color.setOnClickListener(v -&gt; {\r\n                openContextMenu(color);\r\n        });\r\n        size.setOnClickListener(v -&gt; {\r\n            openContextMenu(size);\r\n        });\r\n\r\n","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>after clicking TextView I should use method openContextMenu(View v); following code is working in my case </p>\n\n<pre><code>  color = (TextView)findViewById(R.id.color);\n    size = (TextView)findViewById(R.id.size);\n    registerForContextMenu(color);\n    registerForContextMenu(size);\n    color.setOnClickListener(v -&gt; {\n            openContextMenu(color);\n    });\n    size.setOnClickListener(v -&gt; {\n        openContextMenu(size);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13692468,"reputation":71,"user_id":9879923,"display_name":"storytellerF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677901630,"creation_date":1677901630,"answer_id":75633527,"question_id":54510081,"body_markdown":"Should use &quot;long click&quot; to invoke **ContextMenu**","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>Should use &quot;long click&quot; to invoke <strong>ContextMenu</strong></p>\n"}],"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677901630,"creation_date":1549253885,"question_id":54510081,"body_markdown":"Created two `TextView` and call method `registerForContextMenu` method, called @override method `onCreateContextMenu` but when I clicked into `textViews` it doesn&#39;t work following procedure.what might be reason for it ?\r\n\r\n    TextView color,size;\r\n    \r\n        final int COLOR_RED = 1;\r\n        final int COLOR_BLUE = 2;\r\n    \r\n        final int SIZE_26 = 26;\r\n        final int SIZE_30 = 30;\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            color = (TextView)findViewById(R.id.color);\r\n            size = (TextView)findViewById(R.id.size);\r\n            Log.d(&quot;nimae&quot;,&quot;ishla&quot;);\r\n            registerForContextMenu(color);\r\n            registerForContextMenu(size);\r\n  \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)\r\n        {\r\n           \r\n                switch (v.getId()){\r\n                    case R.id.color:\r\n                        menu.add(0,COLOR_RED,0,&quot;Qizil&quot;);\r\n                        menu.add(0,COLOR_BLUE,0,&quot;Ko`k&quot;);\r\n                        break;\r\n                    case R.id.size:\r\n                        menu.add(0,SIZE_26,0,&quot;26 size&quot;);\r\n                        menu.add(0,SIZE_30,0,&quot;30 size&quot;);\r\n                        break;\r\n                }\r\n    \r\n    \r\n        }","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>Created two <code>TextView</code> and call method <code>registerForContextMenu</code> method, called @override method <code>onCreateContextMenu</code> but when I clicked into <code>textViews</code> it doesn't work following procedure.what might be reason for it ?</p>\n\n<pre><code>TextView color,size;\n\n    final int COLOR_RED = 1;\n    final int COLOR_BLUE = 2;\n\n    final int SIZE_26 = 26;\n    final int SIZE_30 = 30;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        color = (TextView)findViewById(R.id.color);\n        size = (TextView)findViewById(R.id.size);\n        Log.d(\"nimae\",\"ishla\");\n        registerForContextMenu(color);\n        registerForContextMenu(size);\n\n\n    }\n\n    @Override\n    public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)\n    {\n\n            switch (v.getId()){\n                case R.id.color:\n                    menu.add(0,COLOR_RED,0,\"Qizil\");\n                    menu.add(0,COLOR_BLUE,0,\"Ko`k\");\n                    break;\n                case R.id.size:\n                    menu.add(0,SIZE_26,0,\"26 size\");\n                    menu.add(0,SIZE_30,0,\"30 size\");\n                    break;\n            }\n\n\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":19672763,"reputation":1776,"user_id":15062361,"display_name":"Pepe N O"},"score":1,"creation_date":1677900216,"post_id":75633434,"comment_id":133433793,"body_markdown":"Move your project to vscode, has better management of dependencies.","body":"Move your project to vscode, has better management of dependencies."},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":0,"creation_date":1677900482,"post_id":75633434,"comment_id":133433813,"body_markdown":"@PepeNO can I debug my code from within VSCode? Thanks","body":"@PepeNO can I debug my code from within VSCode? Thanks"},{"owner":{"account_id":19672763,"reputation":1776,"user_id":15062361,"display_name":"Pepe N O"},"score":1,"creation_date":1677900553,"post_id":75633434,"comment_id":133433825,"body_markdown":"Of course, step by step and step over. Even visual studio is  more powerful.","body":"Of course, step by step and step over. Even visual studio is  more powerful."},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":0,"creation_date":1677900746,"post_id":75633434,"comment_id":133433839,"body_markdown":"I&#39;m already using VSCode for other things (bash scripts). I might try if it works better for me. Thanks a lot for the suggestion! @PepeNO","body":"I&#39;m already using VSCode for other things (bash scripts). I might try if it works better for me. Thanks a lot for the suggestion! @PepeNO"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678091101,"post_id":75633434,"comment_id":133459198,"body_markdown":"Try IDE main menu `File | Invalidate Caches | Invalidate and Restart` to see if it helps. If still not, you may report this issue in IDEA issue tracker: https://youtrack.jetbrains.com/issues/IDEA","body":"Try IDE main menu <code>File | Invalidate Caches | Invalidate and Restart</code> to see if it helps. If still not, you may report this issue in IDEA issue tracker: <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677900554,"creation_date":1677899746,"question_id":75633434,"body_markdown":"might be best explain with an example:\r\n\r\n- I have 2 maven projects (projectA and projectB)\r\n- In projectB classes, I can use any of projectA public functions/features.\r\n- I created a new function (let&#39;s call it functionX) inside of one of projectA&#39;s classes.\r\n- I&#39;ve build projectA already and I can see the new build inside $HOME\\\\.m2\\repository\\whatever\r\n- I want to use functionX in projectB but it&#39;s not auto-showing. But I can see other public functions of the class.\r\n- Building the project from within IntelliJ results in an error (because I&#39;m using a function it cannot identify).\r\n- Building the same project in terminal and using &quot;mvn clean install&quot; does not produce an error.\r\n- I tried &quot;Reload all Maven projects&quot; multiple times.\r\n- I&#39;ve closed and reopen IntelliJ multiple times.\r\n- I&#39;m using version 2022.2.3 CE.\r\n\r\nAny ideas on how to fix/force a refresh? Thanks\r\n\r\n---\r\n\r\nsample snippet of my pom.xml in projectB\r\n\r\n    &lt;projectA.version&gt;(0.0,)&lt;/projectA.version&gt;\r\n    ..\r\n    ..\r\n    ..\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.myhost.projectA&lt;/groupId&gt;\r\n        &lt;artifactId&gt;projectA.core&lt;/artifactId&gt;\r\n        &lt;version&gt;${projectA.version}&lt;/version&gt;    \r\n    &lt;/dependency&gt;","title":"Java/IntelliJ/maven: so I made a change in a package and my other package can&#39;t see the updates?","body":"<p>might be best explain with an example:</p>\n<ul>\n<li>I have 2 maven projects (projectA and projectB)</li>\n<li>In projectB classes, I can use any of projectA public functions/features.</li>\n<li>I created a new function (let's call it functionX) inside of one of projectA's classes.</li>\n<li>I've build projectA already and I can see the new build inside $HOME\\.m2\\repository\\whatever</li>\n<li>I want to use functionX in projectB but it's not auto-showing. But I can see other public functions of the class.</li>\n<li>Building the project from within IntelliJ results in an error (because I'm using a function it cannot identify).</li>\n<li>Building the same project in terminal and using &quot;mvn clean install&quot; does not produce an error.</li>\n<li>I tried &quot;Reload all Maven projects&quot; multiple times.</li>\n<li>I've closed and reopen IntelliJ multiple times.</li>\n<li>I'm using version 2022.2.3 CE.</li>\n</ul>\n<p>Any ideas on how to fix/force a refresh? Thanks</p>\n<hr />\n<p>sample snippet of my pom.xml in projectB</p>\n<pre><code>&lt;projectA.version&gt;(0.0,)&lt;/projectA.version&gt;\n..\n..\n..\n&lt;dependency&gt;\n    &lt;groupId&gt;com.myhost.projectA&lt;/groupId&gt;\n    &lt;artifactId&gt;projectA.core&lt;/artifactId&gt;\n    &lt;version&gt;${projectA.version}&lt;/version&gt;    \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","eclipse","javafx"],"owner":{"account_id":27931463,"reputation":1,"user_id":21329368,"display_name":"Pia Br&#252;ckner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677898001,"answer_count":0,"score":0,"last_activity_date":1677900507,"creation_date":1677895491,"question_id":75633226,"body_markdown":"So, I tried to create my first JavaFX project and everything went fine until I tried to add a new &quot;JavaFX Document&quot;.\r\n\r\nWhen I try to create one I get this message:\r\n\r\n```lang-none\r\nAn error has occurred. See error log for more details.\r\norg/eclipse/jface/databinding/swt/WidgetProperties\r\n```\r\n\r\nLog:\r\n\r\n```lang-none\r\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\r\n\tat org.eclipse.fx.ide.ui.wizards.AbstractJDTElementPage.createControl(AbstractJDTElementPage.java:109)\r\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\r\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\r\n\tat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\r\n\tat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\r\n\tat org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\r\n\tat org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:73)\r\n\tat org.eclipse.ui.internal.dialogs.NewWizardNewPage.lambda$0(NewWizardNewPage.java:342)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:780)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:777)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1542)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1211)\r\n\tat org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:272)\r\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:329)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\r\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n\tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n\tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\r\n\tat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\r\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.ui_3.8.0.202204150904\r\n\t... 68 more\r\n```\r\n\r\n\r\nIn the added picture you can see that I added a databinding jar with a WidgetProperties.class in it. I have no idea what I have to change.\r\n\r\nI hope you can help me!\r\n\r\nThanks\r\nAip\r\n\r\n\r\nTried to create a new &quot;JavaFX Document&quot; -&gt; Got nothing","title":"JavaFX: java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties","body":"<p>So, I tried to create my first JavaFX project and everything went fine until I tried to add a new &quot;JavaFX Document&quot;.</p>\n<p>When I try to create one I get this message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>An error has occurred. See error log for more details.\norg/eclipse/jface/databinding/swt/WidgetProperties\n</code></pre>\n<p>Log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\n    at org.eclipse.fx.ide.ui.wizards.AbstractJDTElementPage.createControl(AbstractJDTElementPage.java:109)\n    at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\n    at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\n    at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\n    at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\n    at org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\n    at org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:73)\n    at org.eclipse.ui.internal.dialogs.NewWizardNewPage.lambda$0(NewWizardNewPage.java:342)\n    at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:780)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:777)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1542)\n    at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1211)\n    at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:272)\n    at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:329)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\n    at org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\n    at org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\n    at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\n    at org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\n    at org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.ui_3.8.0.202204150904\n    ... 68 more\n</code></pre>\n<p>In the added picture you can see that I added a databinding jar with a WidgetProperties.class in it. I have no idea what I have to change.</p>\n<p>I hope you can help me!</p>\n<p>Thanks\nAip</p>\n<p>Tried to create a new &quot;JavaFX Document&quot; -&gt; Got nothing</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677902248,"post_id":75633410,"comment_id":133433957,"body_markdown":"The imports are `import java.io.File; import android.os.Environment;`.   You can look them up via the Android javadocs: use Google to find them.","body":"The imports are <code>import java.io.File; import android.os.Environment;</code>.   You can look them up via the Android javadocs: use Google to find them."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677902482,"post_id":75633410,"comment_id":133433975,"body_markdown":"And to diagnose problems with android studio not being able to find imports read https://stackoverflow.com/questions/21100688.","body":"And to diagnose problems with android studio not being able to find imports read <a href=\"https://stackoverflow.com/questions/21100688\">stackoverflow.com/questions/21100688</a>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677902682,"post_id":75633410,"comment_id":133433991,"body_markdown":"&quot;How am I supposed to know this?&quot; - Googling for &quot;android javadoc file&quot; gives me https://developer.android.com/reference/java/io/File as the first search result.   So maybe the trick is to improve your searching technique ...","body":"&quot;How am I supposed to know this?&quot; - Googling for &quot;android javadoc file&quot; gives me <a href=\"https://developer.android.com/reference/java/io/File\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/io/File</a> as the first search result.   So maybe the trick is to improve your searching technique ..."}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677899257,"creation_date":1677899257,"question_id":75633410,"body_markdown":"I am trying to add a line of code to get the path to external storage directory\r\n`File extStore = Environment.getExternalStorageDirectory();`\r\n\r\nHowever, I cannot figure out what I need to Import to get the `File` and `Environment` objects\r\n\r\nAndroid studio is not automatically adding it as I expected\r\n\r\nSearching online, I cannot find anywhere what I need to import\r\n\r\nHow am I supposed to know this? \r\n\r\nStack Overflow answers like this do not provide the required Imports to make it work \r\n\r\nhttps://stackoverflow.com/questions/5858107/how-to-get-file-path-from-sd-card-in-android","title":"Android Studio not adding Imports, cannot find Import for File class","body":"<p>I am trying to add a line of code to get the path to external storage directory\n<code>File extStore = Environment.getExternalStorageDirectory();</code></p>\n<p>However, I cannot figure out what I need to Import to get the <code>File</code> and <code>Environment</code> objects</p>\n<p>Android studio is not automatically adding it as I expected</p>\n<p>Searching online, I cannot find anywhere what I need to import</p>\n<p>How am I supposed to know this?</p>\n<p>Stack Overflow answers like this do not provide the required Imports to make it work</p>\n<p><a href=\"https://stackoverflow.com/questions/5858107/how-to-get-file-path-from-sd-card-in-android\">how to get file path from sd card in android</a></p>\n"},{"tags":["java","spring-boot","maven","jpa","push-notification"],"answers":[{"comments":[{"owner":{"account_id":18322198,"reputation":137,"user_id":13342723,"display_name":"abdcg"},"score":0,"creation_date":1677902756,"post_id":75633384,"comment_id":133434001,"body_markdown":"TYSM this was exactly the missing piece I was looking for!","body":"TYSM this was exactly the missing piece I was looking for!"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677898729,"creation_date":1677898729,"answer_id":75633384,"question_id":75633366,"body_markdown":"You can use the `@Scheduled` annotation.\r\n\r\nIn your main application class, you need to first enable scheduling.\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class MyApplication {\r\n    // ...\r\n}\r\n```\r\n\r\nThen, add `@Scheduled` to a method of one of your components.\r\n\r\n```java\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport java.util.concurrent.TimeUnit;\r\n@Component \r\npublic class MyTask {\r\n    @Scheduled(fixedDelay = 5, timeUnit = TimeUnit.MINUTES)\r\n    public void run() {\r\n        // execute periodic task\r\n    }\r\n}\r\n```","title":"Having a method run at application start continuously","body":"<p>You can use the <code>@Scheduled</code> annotation.</p>\n<p>In your main application class, you need to first enable scheduling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class MyApplication {\n    // ...\n}\n</code></pre>\n<p>Then, add <code>@Scheduled</code> to a method of one of your components.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Component;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport java.util.concurrent.TimeUnit;\n@Component \npublic class MyTask {\n    @Scheduled(fixedDelay = 5, timeUnit = TimeUnit.MINUTES)\n    public void run() {\n        // execute periodic task\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18322198,"reputation":137,"user_id":13342723,"display_name":"abdcg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75633384,"answer_count":1,"score":1,"last_activity_date":1677898729,"creation_date":1677898376,"question_id":75633366,"body_markdown":"I am having a little bit of trouble with something I am trying to pull off. I have an application that uses Java 19 and Springboot that is being hosted locally (but will eventually be hosted elsewhere). I have an SQL database setup on the same. I want to be able to send users an email, based on the due date of an event they are participating in. I have a few methods that allow me to query using JPA to find these emails, the issue I am having is actually calling these methods. I want these methods to run on intervals of 5 minutes always (that is to say, I want the methods to query the DB every 5 minutes of so). Is there a way to do this? As of now any call to a repository is triggered by events on the front-end, and I am uncertain as to how I could call these methods continuously? Please find below the methods: \r\n```\r\nmport java.util.Timer;\r\n\r\n//Main class\r\npublic class SchedulerMain {\r\n\t\r\n    \r\n    \r\n    \r\n    //Timer for 7 days\r\n    public static Boolean sevenDays() throws InterruptedException {\r\n\r\n\t\tTimer time = new Timer(); // Instantiate Timer Object\r\n\t\tScheduledTaskSevenDays st = new ScheduledTaskSevenDays(); // Instantiate SheduledTask class\r\n\t\ttime.schedule(st, 0, 300000); // Create Repetitively task for every 5 minutes\r\n        \r\n        return true;\r\n\t\r\n\t}\r\n}\r\n\r\n\r\npublic class ScheduledTaskSevenDays extends TimerTask {\r\n\r\n\r\n\t@Autowired\r\n\tprivate AdminService adminService;\r\n\r\n\t// To run for 7 days\r\n\tpublic void run() {\r\n\t\t//Going to call on method here to gather participants and send email\r\n\t\tadminService.SevenDayNotification();\r\n\t}\r\n}\r\n\r\n public boolean SevenDayNotification() { \r\n        System.out.println(&quot;Start of email Method&quot;);\r\n         try {\r\n             \r\n             \r\n             //Get Survey Participation from DB\r\n             List&lt;String&gt; surveyParticipation;\r\n             surveyParticipation = surveyParticipationRepository.findAllParticipantEmailSevenDays();\r\n             System.out.println(&quot;we have a list of participants&quot;);\r\n \r\n             //send emails to all participants in the survey\r\n             for(int i = 0; i&lt;surveyParticipation.size(); i++)\r\n             {\r\n                 System.out.println(&quot;im in the loop&quot;);\r\n                 emailService.sendMessage(surveyParticipation.get(i), &quot;Notice: Survey will end soon&quot;, &quot;This survey is set to end in 7 days, please be sure to complete and submit it before the due date.&quot; );\r\n             }\r\n             System.out.println(&quot;we are returning true&quot;);\r\n             //return true if successful\r\n             return true;\r\n            \r\n         }\r\n         catch(Exception e){\r\n             //return false if unsuccessful\r\n             System.out.println(&quot;I have failed at sending email&quot;);\r\n             System.out.println(e.getMessage());\r\n             return false;\r\n         }\r\n     }\r\n```\r\n ","title":"Having a method run at application start continuously","body":"<p>I am having a little bit of trouble with something I am trying to pull off. I have an application that uses Java 19 and Springboot that is being hosted locally (but will eventually be hosted elsewhere). I have an SQL database setup on the same. I want to be able to send users an email, based on the due date of an event they are participating in. I have a few methods that allow me to query using JPA to find these emails, the issue I am having is actually calling these methods. I want these methods to run on intervals of 5 minutes always (that is to say, I want the methods to query the DB every 5 minutes of so). Is there a way to do this? As of now any call to a repository is triggered by events on the front-end, and I am uncertain as to how I could call these methods continuously? Please find below the methods:</p>\n<pre><code>mport java.util.Timer;\n\n//Main class\npublic class SchedulerMain {\n    \n    \n    \n    \n    //Timer for 7 days\n    public static Boolean sevenDays() throws InterruptedException {\n\n        Timer time = new Timer(); // Instantiate Timer Object\n        ScheduledTaskSevenDays st = new ScheduledTaskSevenDays(); // Instantiate SheduledTask class\n        time.schedule(st, 0, 300000); // Create Repetitively task for every 5 minutes\n        \n        return true;\n    \n    }\n}\n\n\npublic class ScheduledTaskSevenDays extends TimerTask {\n\n\n    @Autowired\n    private AdminService adminService;\n\n    // To run for 7 days\n    public void run() {\n        //Going to call on method here to gather participants and send email\n        adminService.SevenDayNotification();\n    }\n}\n\n public boolean SevenDayNotification() { \n        System.out.println(&quot;Start of email Method&quot;);\n         try {\n             \n             \n             //Get Survey Participation from DB\n             List&lt;String&gt; surveyParticipation;\n             surveyParticipation = surveyParticipationRepository.findAllParticipantEmailSevenDays();\n             System.out.println(&quot;we have a list of participants&quot;);\n \n             //send emails to all participants in the survey\n             for(int i = 0; i&lt;surveyParticipation.size(); i++)\n             {\n                 System.out.println(&quot;im in the loop&quot;);\n                 emailService.sendMessage(surveyParticipation.get(i), &quot;Notice: Survey will end soon&quot;, &quot;This survey is set to end in 7 days, please be sure to complete and submit it before the due date.&quot; );\n             }\n             System.out.println(&quot;we are returning true&quot;);\n             //return true if successful\n             return true;\n            \n         }\n         catch(Exception e){\n             //return false if unsuccessful\n             System.out.println(&quot;I have failed at sending email&quot;);\n             System.out.println(e.getMessage());\n             return false;\n         }\n     }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","liquibase"],"answers":[{"comments":[{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1678418534,"post_id":75633374,"comment_id":133532760,"body_markdown":"I am confused. I am using maven with 3.16.1 and 3.17.X or later with default format. It works in 3.16.1 but not 3.17.x or later. Why is this an issue now?","body":"I am confused. I am using maven with 3.16.1 and 3.17.X or later with default format. It works in 3.16.1 but not 3.17.x or later. Why is this an issue now?"}],"tags":[],"owner":{"account_id":5509485,"reputation":1,"user_id":4376280,"display_name":"Opeoluwa Odu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677898461,"creation_date":1677898461,"answer_id":75633374,"question_id":74831142,"body_markdown":"Maven timestamp by default produces an incompatible file name: **2022-12-17T01:09:39Z**\r\n\r\nTo change this you would have to add to your pom.xml:\r\n\r\n    &lt;properties&gt;\r\n            &lt;maven.build.timestamp.format&gt;yyyyMMddHHmmss&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Liquibase maven plugin fails to create change log in version 4.17.0 or later","body":"<p>Maven timestamp by default produces an incompatible file name: <strong>2022-12-17T01:09:39Z</strong></p>\n<p>To change this you would have to add to your pom.xml:</p>\n<pre><code>&lt;properties&gt;\n        &lt;maven.build.timestamp.format&gt;yyyyMMddHHmmss&lt;/maven.build.timestamp.format&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677898461,"creation_date":1671239711,"question_id":74831142,"body_markdown":"I upgraded liquibase from 4.16.1 to 4.18.0. When I run command\r\n\r\n    mvn liquibase:diff -Pdev -Dliquibase.url=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.username=&quot;db-admin&quot; -Dliquibase.password=&quot;PASSWORD&quot; -Dliquibase.referenceUrl=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.referenceUsername=&quot;sa&quot; -Dliquibase.referencePassword=&quot;PASSWORD&quot;\r\n\r\nI get the error\r\n\r\n    [ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:4.18.0:diff (default-cli) on project pres: \r\n    [ERROR] Error setting up or running Liquibase:\r\n    [ERROR] liquibase.exception.CommandExecutionException: java.io.IOException: Cannot parse resource location: &#39;src/main/resources/db/changelog/dev/2022-12-17T01:09:39Z_changelog.xml\r\n\r\n**pom.xml**\r\n```\r\n            &lt;!-- Liquibase plugin--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n                    &lt;outputChangeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/outputChangeLogFile&gt;\r\n                    &lt;changeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/changeLogFile&gt;\r\n                    &lt;diffChangeLogFile&gt;\r\n                        src/main/resources/db/changelog/${activeProfile}/${maven.build.timestamp}_changelog.xml\r\n                    &lt;/diffChangeLogFile&gt;\r\n                    &lt;logging&gt;info&lt;/logging&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;!-- Liquibase dependencies--&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                        &lt;version&gt;${liquibase-core.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\r\n                        &lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${validation-api.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                        &lt;version&gt;${javassist.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${jaxb-api.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\nIn 4.16.x or before liquibase creates change log file if not present and now it’s not creating it. Anything changed?\r\n","title":"Liquibase maven plugin fails to create change log in version 4.17.0 or later","body":"<p>I upgraded liquibase from 4.16.1 to 4.18.0. When I run command</p>\n<pre><code>mvn liquibase:diff -Pdev -Dliquibase.url=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.username=&quot;db-admin&quot; -Dliquibase.password=&quot;PASSWORD&quot; -Dliquibase.referenceUrl=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.referenceUsername=&quot;sa&quot; -Dliquibase.referencePassword=&quot;PASSWORD&quot;\n</code></pre>\n<p>I get the error</p>\n<pre><code>[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:4.18.0:diff (default-cli) on project pres: \n[ERROR] Error setting up or running Liquibase:\n[ERROR] liquibase.exception.CommandExecutionException: java.io.IOException: Cannot parse resource location: 'src/main/resources/db/changelog/dev/2022-12-17T01:09:39Z_changelog.xml\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>            &lt;!-- Liquibase plugin--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n                    &lt;outputChangeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/outputChangeLogFile&gt;\n                    &lt;changeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/changeLogFile&gt;\n                    &lt;diffChangeLogFile&gt;\n                        src/main/resources/db/changelog/${activeProfile}/${maven.build.timestamp}_changelog.xml\n                    &lt;/diffChangeLogFile&gt;\n                    &lt;logging&gt;info&lt;/logging&gt;\n                &lt;/configuration&gt;\n\n                &lt;!-- Liquibase dependencies--&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-core.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n                        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n                        &lt;version&gt;${validation-api.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                        &lt;version&gt;${javassist.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                        &lt;version&gt;${jaxb-api.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>In 4.16.x or before liquibase creates change log file if not present and now it’s not creating it. Anything changed?</p>\n"},{"tags":["java","android","button"],"answers":[{"tags":[],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677896174,"creation_date":1677896174,"answer_id":75633249,"question_id":75600174,"body_markdown":"Well after a few days and more research i find a way to help me get what I want. It&#39;s actually funny, it&#39;s also quite simple.\r\n\r\nWhat you need is to call the layout containing the button, remove the child view (button) from that layout and add another layout.\r\n\r\nfirst you create 2 layouts in xml, in my case i need 3:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/one&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/two&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/men&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Mens&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/women&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Womens&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/boys&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Boys&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/girl&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Girls&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n```\r\nafter that you call and use the removeView, addView:\r\n```\r\n    package com.example.pushbutton;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button men,women,boy,girl;\r\n    LinearLayout one,two;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        men = findViewById(R.id.men);\r\n        women = findViewById(R.id.women);\r\n        boy = findViewById(R.id.boys);\r\n        girl = findViewById(R.id.girl);\r\n        one = findViewById(R.id.one);\r\n        two = findViewById(R.id.two);\r\n\r\n        men.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                two.removeView(men);\r\n                one.addView(men);\r\n            }\r\n        });\r\n\r\n    }\r\n    }\r\n```","title":"android studio: Automatic push/organize button when click","body":"<p>Well after a few days and more research i find a way to help me get what I want. It's actually funny, it's also quite simple.</p>\n<p>What you need is to call the layout containing the button, remove the child view (button) from that layout and add another layout.</p>\n<p>first you create 2 layouts in xml, in my case i need 3:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot; &gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/one&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/two&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/men&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Mens&quot;\n            &gt;&lt;/Button&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/women&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Womens&quot;\n            &gt;&lt;/Button&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/boys&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Boys&quot;\n            &gt;&lt;/Button&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/girl&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Girls&quot;\n            &gt;&lt;/Button&gt;\n\n    &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>after that you call and use the removeView, addView:</p>\n<pre><code>    package com.example.pushbutton;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.LinearLayout;\n\n    public class MainActivity extends AppCompatActivity {\n    Button men,women,boy,girl;\n    LinearLayout one,two;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        men = findViewById(R.id.men);\n        women = findViewById(R.id.women);\n        boy = findViewById(R.id.boys);\n        girl = findViewById(R.id.girl);\n        one = findViewById(R.id.one);\n        two = findViewById(R.id.two);\n\n        men.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                two.removeView(men);\n                one.addView(men);\n            }\n        });\n\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677896174,"creation_date":1677651588,"question_id":75600174,"body_markdown":"I&#39;m currently working on a small project for my semester when I run into a problem while designing the figma, preparing for implementation.\r\nThe problem is simple, that when the user presses one of the 4 buttons, the button pressed will be pushed up and if the user presses it again to cancel, it will return to the original position.\r\n\r\nImage example:\r\nhttps://i.stack.imgur.com/CiOBL.jpg\r\n\r\nI did try using 3 listview for this question, 2 contain other buttons and 1 only appear when  there is a button been pressed but fail due to my lack of knowledge and to confess it confuse me a lot.\r\n\r\nSo i am really gratefull if someone can help me with this, thank you in advance.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CiOBL.jpg","title":"android studio: Automatic push/organize button when click","body":"<p>I'm currently working on a small project for my semester when I run into a problem while designing the figma, preparing for implementation.\nThe problem is simple, that when the user presses one of the 4 buttons, the button pressed will be pushed up and if the user presses it again to cancel, it will return to the original position.</p>\n<p>Image example:\n<a href=\"https://i.stack.imgur.com/CiOBL.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CiOBL.jpg</a></p>\n<p>I did try using 3 listview for this question, 2 contain other buttons and 1 only appear when  there is a button been pressed but fail due to my lack of knowledge and to confess it confuse me a lot.</p>\n<p>So i am really gratefull if someone can help me with this, thank you in advance.</p>\n"},{"tags":["java","command-line","classpath"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1571758377,"post_id":58507668,"comment_id":103343365,"body_markdown":"If you&#39;re using that path in an ant script, couldn&#39;t you let the script pick up those paths (e.g. configure them via properties) and let it expand them to the actual jar paths?","body":"If you&#39;re using that path in an ant script, couldn&#39;t you let the script pick up those paths (e.g. configure them via properties) and let it expand them to the actual jar paths?"},{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":1,"creation_date":1571759557,"post_id":58507668,"comment_id":103344054,"body_markdown":"can you double check your command line- the should be `-classpath folder\\*` . That is, dont&#39;t forget the slash before `*`","body":"can you double check your command line- the should be <code>-classpath folder\\*</code> . That is, dont&#39;t forget the slash before <code>*</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1571763127,"post_id":58507668,"comment_id":103345771,"body_markdown":"Remove all spaces after each `;`.  Whitespace is not ignored in a classpath.  (And put a directory separator before each asterisk, as Daniele said.)","body":"Remove all spaces after each <code>;</code>.  Whitespace is not ignored in a classpath.  (And put a directory separator before each asterisk, as Daniele said.)"},{"owner":{"account_id":9771678,"reputation":21,"user_id":7243336,"display_name":"Srinivas"},"score":0,"creation_date":1571779273,"post_id":58507668,"comment_id":103352328,"body_markdown":"yes the stackoverflow editor was not displaying the slash before the * if I use a single backslash \\\\* in the path, I have updated the question to use \\\\\\* and to display it as expected","body":"yes the stackoverflow editor was not displaying the slash before the * if I use a single backslash \\* in the path, I have updated the question to use \\\\* and to display it as expected"}],"answers":[{"tags":[],"owner":{"account_id":9771678,"reputation":21,"user_id":7243336,"display_name":"Srinivas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677895888,"creation_date":1571778973,"answer_id":58512423,"question_id":58507668,"body_markdown":"Here is the solution that finally worked as expected. When the &#39;*&#39; character is used in the classpath for my specific scenario, it skipped everything after the first path. Using the double quotes (&quot;) for each path separately and then using &quot;;&quot; as the delimiter is the solution.\r\n\r\nHaving any space before or after the semi-colon &quot;;&quot; will also not work\r\n\r\n```shell\r\njavac -verbose -classpath &quot;C:\\Program Files\\lib\\java\\core\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\core\\locale\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\ext\\\\*&quot; testClass.java\r\n```","title":"set java classpath to multiple folders that have jar files and run from command line","body":"<p>Here is the solution that finally worked as expected. When the '*' character is used in the classpath for my specific scenario, it skipped everything after the first path. Using the double quotes (&quot;) for each path separately and then using &quot;;&quot; as the delimiter is the solution.</p>\n<p>Having any space before or after the semi-colon &quot;;&quot; will also not work</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -verbose -classpath &quot;C:\\Program Files\\lib\\java\\core\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\core\\locale\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\ext\\\\*&quot; testClass.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606306026,"creation_date":1606306026,"answer_id":65004401,"question_id":58507668,"body_markdown":"If you have jars in different directories, you need to set class path to all of this directory. \r\n\r\nWindows\r\n\r\n    java -cp ./folder1/*;./folder2/*;./folder3/* com.xyz.MainClass\r\n\r\nLinux ( ; is changed to :)\r\n\r\n    java -cp ./folder1/*:./folder2/*:./folder3/* com.xyz.MainClass","title":"set java classpath to multiple folders that have jar files and run from command line","body":"<p>If you have jars in different directories, you need to set class path to all of this directory.</p>\n<p>Windows</p>\n<pre><code>java -cp ./folder1/*;./folder2/*;./folder3/* com.xyz.MainClass\n</code></pre>\n<p>Linux ( ; is changed to :)</p>\n<pre><code>java -cp ./folder1/*:./folder2/*:./folder3/* com.xyz.MainClass\n</code></pre>\n"}],"owner":{"account_id":9771678,"reputation":21,"user_id":7243336,"display_name":"Srinivas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10077,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58512423,"answer_count":2,"score":1,"last_activity_date":1677895888,"creation_date":1571758189,"question_id":58507668,"body_markdown":"I am trying to run a simple java class using Windows command line. I have set JAVA_HOME and added it to the System path variable.\r\n\r\nI have multiple jars in different folders and I am trying to add all of them using classpath using the below command. However when &quot;*&quot; is used, only the first path is picked by classpath and it is ignoring the remaining paths though I am using the &quot;;&quot; character. It does not work if the path uses the &quot;/&quot; separator. \r\nIs it possible to specify paths to multiple folders that have jar files and compile from a command line\r\n\r\n\r\njavac -verbose -classpath &quot;C:\\Program Files\\lib\\java\\core\\\\*; C:\\Program Files\\lib\\java\\core\\locale\\\\*; C:\\Program Files\\lib\\java\\modules\\\\*; C:\\Program Files\\lib\\java\\modules\\ext\\\\*;&quot; testClass.java\r\n\r\nUltimately I want to use this classpath setup in an ant script in netbeans project properties to simplify the setup.","title":"set java classpath to multiple folders that have jar files and run from command line","body":"<p>I am trying to run a simple java class using Windows command line. I have set JAVA_HOME and added it to the System path variable.</p>\n\n<p>I have multiple jars in different folders and I am trying to add all of them using classpath using the below command. However when \"*\" is used, only the first path is picked by classpath and it is ignoring the remaining paths though I am using the \";\" character. It does not work if the path uses the \"/\" separator. \nIs it possible to specify paths to multiple folders that have jar files and compile from a command line</p>\n\n<p>javac -verbose -classpath \"C:\\Program Files\\lib\\java\\core\\*; C:\\Program Files\\lib\\java\\core\\locale\\*; C:\\Program Files\\lib\\java\\modules\\*; C:\\Program Files\\lib\\java\\modules\\ext\\*;\" testClass.java</p>\n\n<p>Ultimately I want to use this classpath setup in an ant script in netbeans project properties to simplify the setup.</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677887017,"post_id":75632662,"comment_id":133432589,"body_markdown":"Why is `randValues` a `Comparable[]` instead of `Integer[]`?","body":"Why is <code>randValues</code> a <code>Comparable[]</code> instead of <code>Integer[]</code>?"},{"owner":{"account_id":26996044,"reputation":11,"user_id":20558135,"display_name":"Jael"},"score":0,"creation_date":1677887192,"post_id":75632662,"comment_id":133432610,"body_markdown":"So I could run it through my mergesort method","body":"So I could run it through my mergesort method"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677887265,"post_id":75632662,"comment_id":133432624,"body_markdown":"You can still pass it. `Integer[]` is a subclass of `Comparable[]`. (Plus it&#39;s not a [raw type](https://stackoverflow.com/q/2770321/1553851).)","body":"You can still pass it. <code>Integer[]</code> is a subclass of <code>Comparable[]</code>. (Plus it&#39;s not a <a href=\"https://stackoverflow.com/q/2770321/1553851\">raw type</a>.)"}],"answers":[{"comments":[{"owner":{"account_id":26996044,"reputation":11,"user_id":20558135,"display_name":"Jael"},"score":0,"creation_date":1677889521,"post_id":75632843,"comment_id":133432876,"body_markdown":"I&#39;m trying to find a solution that doesn&#39;t import any packages other than java.util.Random","body":"I&#39;m trying to find a solution that doesn&#39;t import any packages other than java.util.Random"},{"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"score":0,"creation_date":1677892810,"post_id":75632843,"comment_id":133433236,"body_markdown":"Oh well in that case I don&#39;t care.","body":"Oh well in that case I don&#39;t care."}],"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677888611,"creation_date":1677888611,"answer_id":75632843,"question_id":75632662,"body_markdown":"You can achieve this using the built-in sorting capabilities and the [Comparator][1] interface.\r\n\r\n    import java.util.Random;\r\n    import static java.util.stream.Collectors.*;\r\n\r\n    String[] names = {&quot;James&quot;, &quot;Oliver&quot;, &quot;Liam&quot;, &quot;Noah&quot;, &quot;Ethan&quot;, &quot;Lucas&quot;, &quot;Henry&quot;, &quot;Owen&quot;, &quot;Leo&quot;, &quot;Mason&quot;};\r\n    Random rand = new Random();\r\n\r\n    Arrays.sort(names, comparing(s -&gt; rand.nextInt()));\r\n\r\nThe static `Comparators.comparing` function creates a `Comparator` from a given lambda function that, in this case, merely needs to return some random number.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Comparator.html","title":"Shuffling array according to assigned random values","body":"<p>You can achieve this using the built-in sorting capabilities and the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> interface.</p>\n<pre><code>import java.util.Random;\nimport static java.util.stream.Collectors.*;\n\nString[] names = {&quot;James&quot;, &quot;Oliver&quot;, &quot;Liam&quot;, &quot;Noah&quot;, &quot;Ethan&quot;, &quot;Lucas&quot;, &quot;Henry&quot;, &quot;Owen&quot;, &quot;Leo&quot;, &quot;Mason&quot;};\nRandom rand = new Random();\n\nArrays.sort(names, comparing(s -&gt; rand.nextInt()));\n</code></pre>\n<p>The static <code>Comparators.comparing</code> function creates a <code>Comparator</code> from a given lambda function that, in this case, merely needs to return some random number.</p>\n"}],"owner":{"account_id":26996044,"reputation":11,"user_id":20558135,"display_name":"Jael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677894908,"creation_date":1677885891,"question_id":75632662,"body_markdown":"I watched a [video disscussing a shuffling algorithm that runs at O(nlogn)](https://youtu.be/4zx5bM2OcvA?t=111)\r\nThe following python code is given:\r\n```\r\ndef shuffle(arr):\r\n      rand_values = [random.random() for i in range(len(arr))]\r\n      rand_indexes = [i for i in range(len(arr))]\r\n      rand_indexes.sort(key=lambda i: rand_values[i])\r\n      arr = [arr[i] for i in rand_indexes]\r\n```\r\nIn the method an array of random values is created eg `[57,12,84,5,71]`\r\nAn array of index is created eg `[0,1,2,3,4]`\r\nThen the index array is sorted accroing to the rand values eg `[3,1,0,4,2]`\r\nFinally the array is shuffled using the random indexes array eg if arr = `[H,o,w,d,y]` it would be shuffled as `[d,o,H,y,w]`\r\n\r\nI am trying to get the same algrothim working in Java so it still runs in O(nlogn) without using any packages besides Random\r\n\r\nWhat I have at the moment: \r\n\r\n```\r\npublic void shuffle(Object[] a) {\r\n    \tif (a.length &lt; 2) {\r\n    \t\treturn;\r\n    \t}\r\n\r\n    \tint size = a.length;\r\n    \tRandom rand = new Random();\r\n    \tComparable[] randValues = new Comparable[size];\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\trandValues[i] = rand.nextInt(Integer.MAX_VALUE);\r\n    \t}\r\n    \t\r\n    \tObject randIndex[] = new Object[a.length];\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\trandIndex[i] = i;\r\n    \t}\r\n    \t\r\n    \tComparable[] sortedArr = mergesort(randValues);\r\n        //mergesort is a seperate sorting method with param Comparable[] a\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\t\trandIndex[i] = sortedArr[i];\r\n    \t\t}\r\n    \t\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\tint index = (int) randIndex[i];\r\n    \t\ta[i] =  a[index];\r\n    \t}\r\n    \t\r\n    }\r\n```\r\nCurrently, I am stuck trying to sort the `randIndex` array based of the random values.","title":"Shuffling array according to assigned random values","body":"<p>I watched a <a href=\"https://youtu.be/4zx5bM2OcvA?t=111\" rel=\"nofollow noreferrer\">video disscussing a shuffling algorithm that runs at O(nlogn)</a>\nThe following python code is given:</p>\n<pre><code>def shuffle(arr):\n      rand_values = [random.random() for i in range(len(arr))]\n      rand_indexes = [i for i in range(len(arr))]\n      rand_indexes.sort(key=lambda i: rand_values[i])\n      arr = [arr[i] for i in rand_indexes]\n</code></pre>\n<p>In the method an array of random values is created eg <code>[57,12,84,5,71]</code>\nAn array of index is created eg <code>[0,1,2,3,4]</code>\nThen the index array is sorted accroing to the rand values eg <code>[3,1,0,4,2]</code>\nFinally the array is shuffled using the random indexes array eg if arr = <code>[H,o,w,d,y]</code> it would be shuffled as <code>[d,o,H,y,w]</code></p>\n<p>I am trying to get the same algrothim working in Java so it still runs in O(nlogn) without using any packages besides Random</p>\n<p>What I have at the moment:</p>\n<pre><code>public void shuffle(Object[] a) {\n        if (a.length &lt; 2) {\n            return;\n        }\n\n        int size = a.length;\n        Random rand = new Random();\n        Comparable[] randValues = new Comparable[size];\n        for (int i = 0; i &lt; size; i++) {\n            randValues[i] = rand.nextInt(Integer.MAX_VALUE);\n        }\n        \n        Object randIndex[] = new Object[a.length];\n        for (int i = 0; i &lt; size; i++) {\n            randIndex[i] = i;\n        }\n        \n        Comparable[] sortedArr = mergesort(randValues);\n        //mergesort is a seperate sorting method with param Comparable[] a\n        for (int i = 0; i &lt; size; i++) {\n                randIndex[i] = sortedArr[i];\n            }\n        \n        for (int i = 0; i &lt; size; i++) {\n            int index = (int) randIndex[i];\n            a[i] =  a[index];\n        }\n        \n    }\n</code></pre>\n<p>Currently, I am stuck trying to sort the <code>randIndex</code> array based of the random values.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4998538,"reputation":11306,"user_id":4018207,"accept_rate":81,"display_name":"AndiGeeky"},"score":0,"creation_date":1444308891,"post_id":33016327,"comment_id":53855745,"body_markdown":"Simple use `Volley` or `Retrofit`..!!","body":"Simple use <code>Volley</code> or <code>Retrofit</code>..!!"},{"owner":{"account_id":321908,"reputation":5944,"user_id":641020,"accept_rate":75,"display_name":"J.G.Sebring"},"score":0,"creation_date":1444309143,"post_id":33016327,"comment_id":53855965,"body_markdown":"This is because the package `org.apache.http` is no longer included in sdk 23+ - http://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-apache-http-client","body":"This is because the package <code>org.apache.http</code> is no longer included in sdk 23+ - <a href=\"http://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-apache-http-client\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/marshmallow/&hellip;</a>"},{"owner":{"account_id":5056228,"reputation":45,"user_id":4059396,"accept_rate":22,"display_name":"Ryan Scollard"},"score":0,"creation_date":1444311420,"post_id":33016327,"comment_id":53857800,"body_markdown":"How do I replace my existing code so I can use Retrofit?...Is there no new library I can call in that will call in these methods?","body":"How do I replace my existing code so I can use Retrofit?...Is there no new library I can call in that will call in these methods?"}],"answers":[{"tags":[],"owner":{"account_id":4495789,"reputation":329,"user_id":3655609,"display_name":"Wael Galal El Deen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447576932,"creation_date":1447576932,"answer_id":33717859,"question_id":33016327,"body_markdown":"Apache HTTP Client Removal\r\nAndroid 6.0 release removes support for the Apache HTTP client. If your app is using this client and targets Android 2.3 (API level 9) or higher, use the HttpURLConnection class instead. This API is more efficient because it reduces network use through transparent compression and response caching, and minimizes power consumption. \r\n\r\nHere is an example to use the new class:\r\n\r\n    URL url = new URL(&quot;http://www.android.com/&quot;);\r\n       HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n       try {\r\n         InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n         readStream(in);\r\n        finally {\r\n         urlConnection.disconnect();\r\n       }\r\n    }\r\n\r\nTo continue using the Apache HTTP APIs, you must first declare the following compile-time dependency in your build.gradle file:\r\n\r\n    android {\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n    }\r\n\r\n","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>Apache HTTP Client Removal\nAndroid 6.0 release removes support for the Apache HTTP client. If your app is using this client and targets Android 2.3 (API level 9) or higher, use the HttpURLConnection class instead. This API is more efficient because it reduces network use through transparent compression and response caching, and minimizes power consumption. </p>\n\n<p>Here is an example to use the new class:</p>\n\n<pre><code>URL url = new URL(\"http://www.android.com/\");\n   HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n   try {\n     InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n     readStream(in);\n    finally {\n     urlConnection.disconnect();\n   }\n}\n</code></pre>\n\n<p>To continue using the Apache HTTP APIs, you must first declare the following compile-time dependency in your build.gradle file:</p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1581412"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456389883,"creation_date":1456389883,"answer_id":35622299,"question_id":33016327,"body_markdown":"You have to add the dependencies of HttpClient in your build.gradle file:\r\n\r\nandroid {\r\n\r\n    compileSdkVersion 23\r\n\r\n    buildToolsVersion &quot;22.0.1&quot;\r\n\r\n    useLibrary &#39;org.apache.http.legacy&#39;\r\n\r\n    ...\r\n\r\n}","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>You have to add the dependencies of HttpClient in your build.gradle file:</p>\n\n<p>android {</p>\n\n<pre><code>compileSdkVersion 23\n\nbuildToolsVersion \"22.0.1\"\n\nuseLibrary 'org.apache.http.legacy'\n\n...\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3846747,"reputation":1146,"user_id":6223139,"display_name":"Vaishakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461050929,"creation_date":1461050929,"answer_id":36711419,"question_id":33016327,"body_markdown":"The Apache httpclient module that contains `NameValuePair`,`DefaultHttpClient`,`HttpParams` etc are deprecated from Android Api level 22 Lollipop 5.1 onwards, if you still want to use these deprecated classes in your project then add a line `useLibrary &#39;org.apache.http.legacy&#39;` in your app&#39;s build.gradle file inside the android block as shown below and sync project\r\n    \r\n    android {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.3&quot;\r\n    useLibrary &#39;org.apache.http.legacy&#39;","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>The Apache httpclient module that contains <code>NameValuePair</code>,<code>DefaultHttpClient</code>,<code>HttpParams</code> etc are deprecated from Android Api level 22 Lollipop 5.1 onwards, if you still want to use these deprecated classes in your project then add a line <code>useLibrary 'org.apache.http.legacy'</code> in your app's build.gradle file inside the android block as shown below and sync project</p>\n\n<pre><code>android {\ncompileSdkVersion 23\nbuildToolsVersion \"23.0.3\"\nuseLibrary 'org.apache.http.legacy'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11127352,"reputation":67,"user_id":8168420,"display_name":"kader hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664794767,"creation_date":1664794767,"answer_id":73934456,"question_id":33016327,"body_markdown":" \r\nimplementation &#39;com.google.http-client:google-http-client-android:+&#39;\r\n\r\n   implementation &#39;com.google.api-client:google-api-client-android:+&#39;\r\n\r\n   implementation &#39;com.google.http-client:google-http-client-gson:+&#39;\r\n  \r\nadd this 3 in Gradle file\r\n\r\n`android {\r\n    useLibrary &#39;org.apache.http.legacy&#39; //add this one\r\n}`\r\n\r\n","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>implementation 'com.google.http-client:google-http-client-android:+'</p>\n<p>implementation 'com.google.api-client:google-api-client-android:+'</p>\n<p>implementation 'com.google.http-client:google-http-client-gson:+'</p>\n<p>add this 3 in Gradle file</p>\n<p><code>android { useLibrary 'org.apache.http.legacy' //add this one }</code></p>\n"}],"owner":{"account_id":5056228,"reputation":45,"user_id":4059396,"accept_rate":22,"display_name":"Ryan Scollard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1677891755,"creation_date":1444308544,"question_id":33016327,"body_markdown":"I am currently developing a login and registration page using Android Studio. I am having issues with HttpParams and NameValuePair being deprecated. It&#39;s Android Studio 1.4. Is there libraries I can import for this?\r\n\r\n    @Override\r\n        protected Void doInBackground(Void... params) {\r\n            ArrayList&lt;NameValuePair&gt; dataToSend = new ArrayList&lt;&gt;();\r\n            dataToSend.add(new BasicNameValuerPair(&quot;name&quot;, user.name));\r\n            dataToSend.add(new BasicNameValuerPair(&quot;username&quot;, user.username));\r\n            dataToSend.add(new BasicNameValuerPair(&quot;password&quot;, user.password));\r\n\r\n            HttpParams httpRequestParams = new BasicHttpParams();\r\n            HttpConnectionParams.setConnectionTimeout(httpRequestParams, CONNECTION_TIMEOUT);\r\n\r\n \r\n","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>I am currently developing a login and registration page using Android Studio. I am having issues with HttpParams and NameValuePair being deprecated. It's Android Studio 1.4. Is there libraries I can import for this?</p>\n\n<pre><code>@Override\n    protected Void doInBackground(Void... params) {\n        ArrayList&lt;NameValuePair&gt; dataToSend = new ArrayList&lt;&gt;();\n        dataToSend.add(new BasicNameValuerPair(\"name\", user.name));\n        dataToSend.add(new BasicNameValuerPair(\"username\", user.username));\n        dataToSend.add(new BasicNameValuerPair(\"password\", user.password));\n\n        HttpParams httpRequestParams = new BasicHttpParams();\n        HttpConnectionParams.setConnectionTimeout(httpRequestParams, CONNECTION_TIMEOUT);\n</code></pre>\n"},{"tags":["java","rest","cryptography","ssl-certificate","truststore"],"owner":{"account_id":27376582,"reputation":1,"user_id":20881825,"display_name":"user20881825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677891568,"creation_date":1677868296,"question_id":75630682,"body_markdown":"I have java program which contains the RestAPI calls. I got root certificate from server side which contains one immediate certificate. I need to import this root certificate at client side to provide HTTPS SSL support. To do that, I need to store the public key of immediate certificate into the java trust store on local side. For that, I exported the immediate key form root certs via keystore explorer tool and imported that cacerts with keytool and my web service ran successfully. But I don&#39;t want to do this manual step so is there any way if I can import the root certificate(p12) into the java truststore and it automatically can pick immediate public key when required. Or if we can get all the immediate certificates from root and can load that into the keystore. \r\n\r\nOr is there any way to get the all immediate keys from root certificate and can load that into the TrustManager through java?\r\n\r\nI know there are multiple solutions provided on the internal regarding this but nothing worked for me.\r\n\r\nI want a solution to import immediate certs form the root certificate into the cacerts.","title":"Getting issue unable to find valid certification path to requested target when using root certificate containing immediate certificate","body":"<p>I have java program which contains the RestAPI calls. I got root certificate from server side which contains one immediate certificate. I need to import this root certificate at client side to provide HTTPS SSL support. To do that, I need to store the public key of immediate certificate into the java trust store on local side. For that, I exported the immediate key form root certs via keystore explorer tool and imported that cacerts with keytool and my web service ran successfully. But I don't want to do this manual step so is there any way if I can import the root certificate(p12) into the java truststore and it automatically can pick immediate public key when required. Or if we can get all the immediate certificates from root and can load that into the keystore.</p>\n<p>Or is there any way to get the all immediate keys from root certificate and can load that into the TrustManager through java?</p>\n<p>I know there are multiple solutions provided on the internal regarding this but nothing worked for me.</p>\n<p>I want a solution to import immediate certs form the root certificate into the cacerts.</p>\n"},{"tags":["java","android","storage","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1597173762,"post_id":63364476,"comment_id":112046249,"body_markdown":"Indeed. That is only for Android Q.","body":"Indeed. That is only for Android Q."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1597173825,"post_id":63364476,"comment_id":112046287,"body_markdown":"`Some of the files in the download directories were not listing`. I think that not a single file is listed.","body":"<code>Some of the files in the download directories were not listing</code>. I think that not a single file is listed."},{"owner":{"account_id":7717943,"reputation":2840,"user_id":5845024,"accept_rate":75,"display_name":"Ebin Joy"},"score":0,"creation_date":1597203575,"post_id":63364476,"comment_id":112053774,"body_markdown":"Yes, that is true","body":"Yes, that is true"}],"answers":[{"comments":[{"owner":{"account_id":4869826,"reputation":1468,"user_id":7906057,"accept_rate":71,"display_name":"Mark Delphi"},"score":2,"creation_date":1610554579,"post_id":63365276,"comment_id":116172415,"body_markdown":"What about the Android versions below SKD 29? How to deal with permissions? My App supports SDKs 21+. I still need to consider permissions for those versions. Thanks!","body":"What about the Android versions below SKD 29? How to deal with permissions? My App supports SDKs 21+. I still need to consider permissions for those versions. Thanks!"},{"owner":{"account_id":3682094,"reputation":157,"user_id":3066829,"display_name":"user3066829"},"score":0,"creation_date":1618613559,"post_id":63365276,"comment_id":118664272,"body_markdown":"I have application targeting 29 in playstore. Do i need to release new version immediately on playstore befor 5th may? Or i can wait for my next release?","body":"I have application targeting 29 in playstore. Do i need to release new version immediately on playstore befor 5th may? Or i can wait for my next release?"},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1618615908,"post_id":63365276,"comment_id":118664764,"body_markdown":"No - you only need to do this if you target 30 - &quot;This is only applicable to apps that target Android 11 (API level 30) and declare the MANAGE_EXTERNAL_STORAGE permission, which is added in Android 11&quot; -  https://support.google.com/googleplay/android-developer/answer/10467955 - no doubt this will be a temporary reprieve and Google might decide somepoint in the future all new apps and releases target 30+. Basically you should have a migration strategy in place when you target api 30 .. I&#39;d be surprised, unless you&#39;re a big player in the app sphere that you&#39;ll be an easy pass for the permission.","body":"No - you only need to do this if you target 30 - &quot;This is only applicable to apps that target Android 11 (API level 30) and declare the MANAGE_EXTERNAL_STORAGE permission, which is added in Android 11&quot; -  <a href=\"https://support.google.com/googleplay/android-developer/answer/10467955\" rel=\"nofollow noreferrer\">support.google.com/googleplay/android-developer/answer/10467&zwnj;&#8203;955</a> - no doubt this will be a temporary reprieve and Google might decide somepoint in the future all new apps and releases target 30+. Basically you should have a migration strategy in place when you target api 30 .. I&#39;d be surprised, unless you&#39;re a big player in the app sphere that you&#39;ll be an easy pass for the permission."},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1618616653,"post_id":63365276,"comment_id":118664919,"body_markdown":"see below update from @Pawel - &quot;update: play store will require target sdk 30 as of August 2021&quot;","body":"see below update from @Pawel - &quot;update: play store will require target sdk 30 as of August 2021&quot;"},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":1,"creation_date":1619175127,"post_id":63365276,"comment_id":118831442,"body_markdown":"@MarkKeen Would you please take a look into: https://stackoverflow.com/questions/63364476/requestlegacyexternalstorage-is-not-working-in-android-11-api-30#comment118831398_63365334","body":"@MarkKeen Would you please take a look into: <a href=\"https://stackoverflow.com/questions/63364476/requestlegacyexternalstorage-is-not-working-in-android-11-api-30#comment118831398_63365334\" title=\"requestlegacyexternalstorage is not working in android 11 api 30%23comment118831398_63365334\">stackoverflow.com/questions/63364476/&hellip;</a>"},{"owner":{"account_id":4626325,"reputation":916,"user_id":3750050,"accept_rate":20,"display_name":"Dale_Plante"},"score":0,"creation_date":1684752677,"post_id":63365276,"comment_id":134557870,"body_markdown":"And I thought Apple was bad for developers :eye-roll:","body":"And I thought Apple was bad for developers :eye-roll:"}],"tags":[],"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"comment_count":6,"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1618998019,"creation_date":1597174824,"answer_id":63365276,"question_id":63364476,"body_markdown":"&gt; But now when I targetSdkVersion 30, this no longer seems to work\r\n\r\nThat is correct.  Android 11 (API 30+)  `requestLegacyExternalStorage=true` does nothing and you can no longer &quot;opt-out&quot;.  It was available in Android 10 to give developers a transition/grace period to be able to migrate to the scoped storage model.\r\n\r\nOption 1: Migrate data in your app whilst still targeting API 29, then once you&#39;re migrated data is compatible with scoped storage you should be able to release an update targetting API 30 - https://developer.android.com/training/data-storage/use-cases\r\n\r\nThis can come with its own problems if users skip this version and updates directly from a previous version to the latest and you&#39;re stuck with un-migrated data you can&#39;t access.\r\n\r\nOption 2: It seems that Google sees this obvious caveat and has included a `preserveLegacyExternalStorage=true` option when targetting API 30 to allow you to migrate data. https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage\r\n\r\nGoing forward you can reference this table for deciding what storage &quot;framework&quot; to use based on the use-case: https://developer.android.com/training/data-storage\r\n\r\nThere is a potential that some apps simply won&#39;t be able to successfully migrate, based on how they interacted with the `File` API as Google&#39;s solution will not encompass all current use-cases and there might not be a migration path. \r\n\r\nFor instance, I released an app a couple of years ago that allowed users to update album artwork using `MediaStore` and `ContentResolver` to update the data for the album artwork image - this was stored in shared storage. Having looked at the Android 10+ AOSP `MediaProvider` source code it seems that apps that used to use `MediaStore` to update album artwork to point to a data file no longer works, simply because the `MediaProvider` internally creates its own artwork in a hidden `.thumbnails` folder looking directly at the mp3&#39;s and using a `MediaExtractor`, and never references the `ContentValues` that were inserted to reference the artwork.  So even though you can update the artwork yourself, query the `MediaStore` for it and see it, other apps have to use `ContentResolver#loadThumbnail` in API 29+ that does not reference your updated values and either creates an artwork lazily, or picks the already generated file in the `.thumbnails` folder.  Obviously, none of this is documented, and I got a massive backlash to my app with negative reviews, yet these changes were breaking changes and completely out of my control and took me looking through AOSP source code to find that Android had fundamentally changed behaviour.  \r\n\r\n(This wasn&#39;t a rant, but an example of how these changes offered no migration path because of fundamental undocumented behaviour to AOSP).\r\n\r\n","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<blockquote>\n<p>But now when I targetSdkVersion 30, this no longer seems to work</p>\n</blockquote>\n<p>That is correct.  Android 11 (API 30+)  <code>requestLegacyExternalStorage=true</code> does nothing and you can no longer &quot;opt-out&quot;.  It was available in Android 10 to give developers a transition/grace period to be able to migrate to the scoped storage model.</p>\n<p>Option 1: Migrate data in your app whilst still targeting API 29, then once you're migrated data is compatible with scoped storage you should be able to release an update targetting API 30 - <a href=\"https://developer.android.com/training/data-storage/use-cases\" rel=\"noreferrer\">https://developer.android.com/training/data-storage/use-cases</a></p>\n<p>This can come with its own problems if users skip this version and updates directly from a previous version to the latest and you're stuck with un-migrated data you can't access.</p>\n<p>Option 2: It seems that Google sees this obvious caveat and has included a <code>preserveLegacyExternalStorage=true</code> option when targetting API 30 to allow you to migrate data. <a href=\"https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage\" rel=\"noreferrer\">https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage</a></p>\n<p>Going forward you can reference this table for deciding what storage &quot;framework&quot; to use based on the use-case: <a href=\"https://developer.android.com/training/data-storage\" rel=\"noreferrer\">https://developer.android.com/training/data-storage</a></p>\n<p>There is a potential that some apps simply won't be able to successfully migrate, based on how they interacted with the <code>File</code> API as Google's solution will not encompass all current use-cases and there might not be a migration path.</p>\n<p>For instance, I released an app a couple of years ago that allowed users to update album artwork using <code>MediaStore</code> and <code>ContentResolver</code> to update the data for the album artwork image - this was stored in shared storage. Having looked at the Android 10+ AOSP <code>MediaProvider</code> source code it seems that apps that used to use <code>MediaStore</code> to update album artwork to point to a data file no longer works, simply because the <code>MediaProvider</code> internally creates its own artwork in a hidden <code>.thumbnails</code> folder looking directly at the mp3's and using a <code>MediaExtractor</code>, and never references the <code>ContentValues</code> that were inserted to reference the artwork.  So even though you can update the artwork yourself, query the <code>MediaStore</code> for it and see it, other apps have to use <code>ContentResolver#loadThumbnail</code> in API 29+ that does not reference your updated values and either creates an artwork lazily, or picks the already generated file in the <code>.thumbnails</code> folder.  Obviously, none of this is documented, and I got a massive backlash to my app with negative reviews, yet these changes were breaking changes and completely out of my control and took me looking through AOSP source code to find that Android had fundamentally changed behaviour.</p>\n<p>(This wasn't a rant, but an example of how these changes offered no migration path because of fundamental undocumented behaviour to AOSP).</p>\n"},{"comments":[{"owner":{"account_id":8944184,"reputation":1789,"user_id":9138982,"display_name":"Moustafa EL-Saghier"},"score":1,"creation_date":1611611069,"post_id":63365334,"comment_id":116503317,"body_markdown":"any tutorial about step for doing that, please?","body":"any tutorial about step for doing that, please?"},{"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"score":2,"creation_date":1613418676,"post_id":63365334,"comment_id":117064421,"body_markdown":"I have searched for 6 hours, but at last found the clear concept, thanks, But, is there any tutorial that show migrating and supports all api regardless ?","body":"I have searched for 6 hours, but at last found the clear concept, thanks, But, is there any tutorial that show migrating and supports all api regardless ?"},{"owner":{"account_id":15245154,"reputation":51,"user_id":11000209,"display_name":"opLW "},"score":0,"creation_date":1613808945,"post_id":63365334,"comment_id":117195141,"body_markdown":"Did you test the &quot;upgrade from targetting sdk 29 to 30&quot; case. I have tried several time. But accessing to legacy storage is always failed whether target from 28 to 30 or from 29 to 30.","body":"Did you test the &quot;upgrade from targetting sdk 29 to 30&quot; case. I have tried several time. But accessing to legacy storage is always failed whether target from 28 to 30 or from 29 to 30."},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1613821103,"post_id":63365334,"comment_id":117197700,"body_markdown":"@opLW I have no issue with installation upgrade on API 30 emulator.","body":"@opLW I have no issue with installation upgrade on API 30 emulator."},{"owner":{"account_id":15245154,"reputation":51,"user_id":11000209,"display_name":"opLW "},"score":0,"creation_date":1613956459,"post_id":63365334,"comment_id":117228121,"body_markdown":"Oh, sorry. I miss something. Now I get the case right.","body":"Oh, sorry. I miss something. Now I get the case right."},{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":0,"creation_date":1618616587,"post_id":63365334,"comment_id":118664907,"body_markdown":"&quot;update: play store will require target sdk 30 as of August 2021&quot; - that refactor you&#39;ve been putting off just got a deadline ...","body":"&quot;update: play store will require target sdk 30 as of August 2021&quot; - that refactor you&#39;ve been putting off just got a deadline ..."},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":1,"creation_date":1619175028,"post_id":63365334,"comment_id":118831398,"body_markdown":"@Pawel I migrated my code to the new solution for Android API 30 and it works on Emulator API 30 but still, picking an image from the gallery doesn&#39;t work on Emulator API 29!;\n\nThe targetSDK is 30;\n\nBut, if I add `requestLegacyExternalStorage = true` while I&#39;m following that new solution (MediaStore - API 30), it works on every API version.\nIs that what should we do?","body":"@Pawel I migrated my code to the new solution for Android API 30 and it works on Emulator API 30 but still, picking an image from the gallery doesn&#39;t work on Emulator API 29!;  The targetSDK is 30;  But, if I add <code>requestLegacyExternalStorage = true</code> while I&#39;m following that new solution (MediaStore - API 30), it works on every API version. Is that what should we do?"},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1619177385,"post_id":63365334,"comment_id":118832352,"body_markdown":"@Dr.jacky sorry but I can&#39;t advocate for google on how they&#39;re going to execute their store policies. If you have issues with scoped storage implementation open up a new question.","body":"@Dr.jacky sorry but I can&#39;t advocate for google on how they&#39;re going to execute their store policies. If you have issues with scoped storage implementation open up a new question."},{"owner":{"account_id":6838510,"reputation":591,"user_id":5259634,"display_name":"ahmetvefa53"},"score":0,"creation_date":1636458506,"post_id":63365334,"comment_id":123557069,"body_markdown":"@Pawel on my app preserveLegacyExternalStorage = true . ı have installed on android device after that update system to android 11 but externalstorageLegacy is false why?","body":"@Pawel on my app preserveLegacyExternalStorage = true . ı have installed on android device after that update system to android 11 but externalstorageLegacy is false why?"},{"owner":{"account_id":3354060,"reputation":5435,"user_id":2817457,"accept_rate":50,"display_name":"Jianwu Chen"},"score":0,"creation_date":1646609233,"post_id":63365334,"comment_id":126159619,"body_markdown":"For my case, run Android 11 is good with permission of:MANAGE_EXTERNAL_STORAGE,  but when run on Android 10 or bellow, I can list the media files such as jpg file, but no other files will be shown? I&#39;m completely blocked.","body":"For my case, run Android 11 is good with permission of:MANAGE_EXTERNAL_STORAGE,  but when run on Android 10 or bellow, I can list the media files such as jpg file, but no other files will be shown? I&#39;m completely blocked."}],"tags":[],"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"comment_count":10,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1632617568,"creation_date":1597175100,"answer_id":63365334,"question_id":63364476,"body_markdown":"As stated in https://developer.android.com/about/versions/11/privacy/storage there are some changes regarding storage on Android 11:\r\n\r\n- Android 10 devices\r\n  - `requestLegacyExternalStorage` will continue to work regardless of target sdk\r\n- Android 11 devices\r\n  - new installation targetting sdk 29: `requestLegacyExternalStorage` value is respected \r\n  - new installation targetting sdk 30: `requestLegacyExternalStorage` is always `false`\r\n  - upgrade from targetting sdk 29 to 30: if [`preserveLegacyExternalStorage`][1] is set then `requestLegacyExternalStorage` is `true` (this is pure migration case and this state won&#39;t be preserved should user uninstall/reinstall the app)\r\n\r\nYou&#39;re pretty much forced to implement scoped storage at this point. Unless you&#39;re ready to migrate just keep targetting sdk 29 as there&#39;s no way to enforce legacy storage on Android 11 devices with target sdk 30.\r\n\r\n*update: play store requires target sdk 30 as of August 2021*\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>As stated in <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a> there are some changes regarding storage on Android 11:</p>\n<ul>\n<li>Android 10 devices\n<ul>\n<li><code>requestLegacyExternalStorage</code> will continue to work regardless of target sdk</li>\n</ul>\n</li>\n<li>Android 11 devices\n<ul>\n<li>new installation targetting sdk 29: <code>requestLegacyExternalStorage</code> value is respected</li>\n<li>new installation targetting sdk 30: <code>requestLegacyExternalStorage</code> is always <code>false</code></li>\n<li>upgrade from targetting sdk 29 to 30: if <a href=\"https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage\" rel=\"noreferrer\"><code>preserveLegacyExternalStorage</code></a> is set then <code>requestLegacyExternalStorage</code> is <code>true</code> (this is pure migration case and this state won't be preserved should user uninstall/reinstall the app)</li>\n</ul>\n</li>\n</ul>\n<p>You're pretty much forced to implement scoped storage at this point. Unless you're ready to migrate just keep targetting sdk 29 as there's no way to enforce legacy storage on Android 11 devices with target sdk 30.</p>\n<p><em>update: play store requires target sdk 30 as of August 2021</em></p>\n"},{"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":13,"creation_date":1609019993,"post_id":65380083,"comment_id":115732448,"body_markdown":"This comes with a big caveat, the app must conform to the Google Play policy for this permission, &quot; the app’s usage of the permission must fall within permitted uses, and must be directly tied to the core functionality of the app&quot; - so unless your app is a File Manager or Virus scanning app etc.. I&#39;d advise not to use this permission, otherwise you might find its rejected and have a load of refactoring to do.","body":"This comes with a big caveat, the app must conform to the Google Play policy for this permission, &quot; the app’s usage of the permission must fall within permitted uses, and must be directly tied to the core functionality of the app&quot; - so unless your app is a File Manager or Virus scanning app etc.. I&#39;d advise not to use this permission, otherwise you might find its rejected and have a load of refactoring to do."},{"owner":{"account_id":10769590,"reputation":164,"user_id":7923421,"display_name":"RkKhanpuriya"},"score":0,"creation_date":1638117096,"post_id":65380083,"comment_id":123996568,"body_markdown":"@MarkKeen any solution for this problem?","body":"@MarkKeen any solution for this problem?"},{"owner":{"account_id":3354060,"reputation":5435,"user_id":2817457,"accept_rate":50,"display_name":"Jianwu Chen"},"score":0,"creation_date":1646609488,"post_id":65380083,"comment_id":126159659,"body_markdown":"I applied for this permission. And get approved. my application is an eBook reader. But the problem is now my app only works for android 11+. For the older version, there&#39;s no way to get MANAGE_EXTERNAL_STORAGE permission.","body":"I applied for this permission. And get approved. my application is an eBook reader. But the problem is now my app only works for android 11+. For the older version, there&#39;s no way to get MANAGE_EXTERNAL_STORAGE permission."}],"tags":[],"owner":{"account_id":18360968,"reputation":425,"user_id":13373095,"display_name":"Rituraj Shakti"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1608468930,"creation_date":1608468930,"answer_id":65380083,"question_id":63364476,"body_markdown":"Don&#39;t do this until early 2021 (said by google):-\r\n\r\nIf you want to target to android 11, you should use the MANAGE_EXTERNAL_STORAGE permission.\r\n\r\nVisit this page for more details: https://developer.android.com/training/data-storage/manage-all-files","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>Don't do this until early 2021 (said by google):-</p>\n<p>If you want to target to android 11, you should use the MANAGE_EXTERNAL_STORAGE permission.</p>\n<p>Visit this page for more details: <a href=\"https://developer.android.com/training/data-storage/manage-all-files\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/manage-all-files</a></p>\n"},{"tags":[],"owner":{"account_id":3385111,"reputation":718,"user_id":2841217,"display_name":"Ajay Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622131268,"creation_date":1622131268,"answer_id":67725873,"question_id":63364476,"body_markdown":"Applications that run on Android 11 but target Android 10 (API level 29) can still request the requestLegacyExternalStorage attribute. This flag allows applications to temporarily opt out of the changes associated with scoped storage, such as granting access to different directories and different types of media files. \r\n**After updating application to target Android 11, the system ignores the requestLegacyExternalStorage flag.**","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>Applications that run on Android 11 but target Android 10 (API level 29) can still request the requestLegacyExternalStorage attribute. This flag allows applications to temporarily opt out of the changes associated with scoped storage, such as granting access to different directories and different types of media files.\n<strong>After updating application to target Android 11, the system ignores the requestLegacyExternalStorage flag.</strong></p>\n"},{"tags":[],"owner":{"account_id":4185789,"reputation":24,"user_id":3429579,"display_name":"Hesam"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635799536,"creation_date":1635799124,"answer_id":69802544,"question_id":63364476,"body_markdown":"No need to call &quot;requestLegacyExternalStorage=true&quot; which is not working for Android 11+.\r\n\r\nThere is a new update in https://github.com/apache/cordova-plugin-media to cover the saving file path issue for android 11+.\r\n\r\nIf you update &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioHandler.java&quot; and &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioPlayer.java&quot; in your project, then it should be working. \r\n\r\nhttps://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioHandler.java\r\n\r\n\r\nhttps://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioPlayer.java\r\n\r\n\r\n","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>No need to call &quot;requestLegacyExternalStorage=true&quot; which is not working for Android 11+.</p>\n<p>There is a new update in <a href=\"https://github.com/apache/cordova-plugin-media\" rel=\"nofollow noreferrer\">https://github.com/apache/cordova-plugin-media</a> to cover the saving file path issue for android 11+.</p>\n<p>If you update &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioHandler.java&quot; and &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioPlayer.java&quot; in your project, then it should be working.</p>\n<p><a href=\"https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioHandler.java\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioHandler.java</a></p>\n<p><a href=\"https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioPlayer.java\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioPlayer.java</a></p>\n"}],"owner":{"account_id":7717943,"reputation":2840,"user_id":5845024,"accept_rate":75,"display_name":"Ebin Joy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95139,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":63365276,"answer_count":5,"score":48,"last_activity_date":1677889873,"creation_date":1597171381,"question_id":63364476,"body_markdown":"Google has introduced some changes recently related to storage APIs in API 29 like scoped storage and we opted out by adding &#39;requestLegacyExternalStorage=true&#39; in Manifest. But now when I targetSdkVersion 30, this no longer seems to work. Some of the files in the download directories were not listing (File.listFiles) after this change.","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>Google has introduced some changes recently related to storage APIs in API 29 like scoped storage and we opted out by adding 'requestLegacyExternalStorage=true' in Manifest. But now when I targetSdkVersion 30, this no longer seems to work. Some of the files in the download directories were not listing (File.listFiles) after this change.</p>\n"},{"tags":["java","jlink","jdeps"],"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677888799,"creation_date":1677888799,"question_id":75632855,"body_markdown":"I am working on a JAVA project with ECLIPSE.\r\nI would like to use XSLT3.\r\nFor that, I need to import a package called SAXON.HE.jar\r\n\r\nMy Java Version is 14.\r\n\r\nWhen I use jdeps to get the SAXON.HE.jar dependencies, I get :\r\n\r\n       net.sf.saxon.trans  -&gt; org.apache.xml.resolver  **not found**\r\n       net.sf.saxon.trans  -&gt; org.apache.xml.resolver.helpers  **not found**\r\n    \r\n       net.sf.saxon.gizmo   -&gt; jline.console     **not found**\r\n       net.sf.saxon.gizmo   -&gt; jline.console.completer       **not found**\r\n       net.sf.saxon.gizmo   -&gt; jline.internal            **not found**\r\n\r\nSo I am not able to create my custom JRE with JLink because I have an error because of this not found objects.\r\n\r\nHow can I solve that ?","title":"Get a fuctionnal jar with jlink","body":"<p>I am working on a JAVA project with ECLIPSE.\nI would like to use XSLT3.\nFor that, I need to import a package called SAXON.HE.jar</p>\n<p>My Java Version is 14.</p>\n<p>When I use jdeps to get the SAXON.HE.jar dependencies, I get :</p>\n<pre><code>   net.sf.saxon.trans  -&gt; org.apache.xml.resolver  **not found**\n   net.sf.saxon.trans  -&gt; org.apache.xml.resolver.helpers  **not found**\n\n   net.sf.saxon.gizmo   -&gt; jline.console     **not found**\n   net.sf.saxon.gizmo   -&gt; jline.console.completer       **not found**\n   net.sf.saxon.gizmo   -&gt; jline.internal            **not found**\n</code></pre>\n<p>So I am not able to create my custom JRE with JLink because I have an error because of this not found objects.</p>\n<p>How can I solve that ?</p>\n"},{"tags":["java","spring-boot","maven","google-secret-manager","spring-starter"],"comments":[{"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"score":0,"creation_date":1682514975,"post_id":75632802,"comment_id":134228048,"body_markdown":"Same problem here. It was working fine until recently, and I don&#39;t know why. Dis you find any solution ?","body":"Same problem here. It was working fine until recently, and I don&#39;t know why. Dis you find any solution ?"}],"owner":{"account_id":15171388,"reputation":39,"user_id":10947324,"display_name":"Gunni Saggu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677887904,"creation_date":1677887904,"question_id":75632802,"body_markdown":"Receiving this error while using secrets from GCP secret manager. It works fine when the service is deployed in cloud. But running on local machine throws DEADLINE_EXCEEDED.\r\n\r\nDependencies I am using\r\n\r\n```\r\nspring boot version = 2.3.6.RELEASE\r\n&lt;spring-cloud-gcp.version&gt;1.2.8.RELEASE&lt;/spring-cloud-gcp.version&gt;\r\n&lt;spring-boot-release.version&gt;2.3.4.RELEASE&lt;/spring-boot-release.version&gt;\r\n&lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nusing secrets like this in application.yaml\r\nId: ${sm://projects/{project-id}/secrets/clientid}\r\n\r\nalready tried with different version of dependencies but no luck","title":"com.google.api.gax.rpc.DeadlineExceededException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED while using spring-cloud-gcp-starter-secretmanager","body":"<p>Receiving this error while using secrets from GCP secret manager. It works fine when the service is deployed in cloud. But running on local machine throws DEADLINE_EXCEEDED.</p>\n<p>Dependencies I am using</p>\n<pre><code>spring boot version = 2.3.6.RELEASE\n&lt;spring-cloud-gcp.version&gt;1.2.8.RELEASE&lt;/spring-cloud-gcp.version&gt;\n&lt;spring-boot-release.version&gt;2.3.4.RELEASE&lt;/spring-boot-release.version&gt;\n&lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>using secrets like this in application.yaml\nId: ${sm://projects/{project-id}/secrets/clientid}</p>\n<p>already tried with different version of dependencies but no luck</p>\n"},{"tags":["java","wav","playback","javasound"],"answers":[{"comments":[{"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"score":0,"creation_date":1235403465,"post_id":577926,"comment_id":389880,"body_markdown":"In fact I don&#39;t run it in a separate thread, just linked that for brevity.\nTHANKS A LOT!!!","body":"In fact I don&#39;t run it in a separate thread, just linked that for brevity. THANKS A LOT!!!"},{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1248859353,"post_id":577926,"comment_id":1022077,"body_markdown":"@Jataro - you are correct; I had missed that call in the API; I&#39;ll update the code.","body":"@Jataro - you are correct; I had missed that call in the API; I&#39;ll update the code."},{"owner":{"account_id":67906,"reputation":946,"user_id":198438,"accept_rate":54,"display_name":"lucks"},"score":0,"creation_date":1305076577,"post_id":577926,"comment_id":6871781,"body_markdown":"drain() doesn&#39;t seem to be applicable to Clips according to http://download.oracle.com/javase/tutorial/sound/playing.html","body":"drain() doesn&#39;t seem to be applicable to Clips according to <a href=\"http://download.oracle.com/javase/tutorial/sound/playing.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/sound/playing.html</a>"},{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":1,"creation_date":1305107147,"post_id":577926,"comment_id":6877016,"body_markdown":"@lucks - thanks! I&#39;ve corrected the code. From the doc: _Once you have started a sound playing, how do you find when it&#39;s finished? We saw one solution above—invoking the drain method after writing the last buffer of data—but that approach is applicable only to a SourceDataLine. Another approach, which works for both SourceDataLines and Clips, is to register to receive notifications from the line whenever the line changes its state. These notifications are generated in the form of LineEvent objects, of which there are four types: OPEN, CLOSE, START, and STOP._","body":"@lucks - thanks! I&#39;ve corrected the code. From the doc: <i>Once you have started a sound playing, how do you find when it&#39;s finished? We saw one solution above—invoking the drain method after writing the last buffer of data—but that approach is applicable only to a SourceDataLine. Another approach, which works for both SourceDataLines and Clips, is to register to receive notifications from the line whenever the line changes its state. These notifications are generated in the form of LineEvent objects, of which there are four types: OPEN, CLOSE, START, and STOP.</i>"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1317072820,"post_id":577926,"comment_id":9166334,"body_markdown":"So it appears that you must play it in its own thread, which thread doesn&#39;t terminate until the file is over? (i.e. if the application&#39;s main thread exits, the program will exit, unlike most java threaded apps).","body":"So it appears that you must play it in its own thread, which thread doesn&#39;t terminate until the file is over? (i.e. if the application&#39;s main thread exits, the program will exit, unlike most java threaded apps)."},{"owner":{"account_id":5903825,"reputation":5005,"user_id":4646346,"accept_rate":83,"display_name":"Sathish"},"score":0,"creation_date":1468559586,"post_id":577926,"comment_id":64185829,"body_markdown":"Thanks for the example code. When i try the same code, i don&#39;t see it playing the Wav file. It just waits and there is no sound. I&#39;m trying to run the program on my Windows TP. Is there any setting or player that i need to select? Please advise.","body":"Thanks for the example code. When i try the same code, i don&#39;t see it playing the Wav file. It just waits and there is no sound. I&#39;m trying to run the program on my Windows TP. Is there any setting or player that i need to select? Please advise."}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":6,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1317072664,"creation_date":1235401740,"answer_id":577926,"question_id":577724,"body_markdown":"I&#39;m not sure why the second approach you linked to starts another thread; I believe the audio will be played in its own thread anyway. Is the problem that your application finishes before the clip has finished playing?\r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.sound.sampled.LineEvent.Type;\r\n\r\n    private static void playClip(File clipFile) throws IOException, \r\n      UnsupportedAudioFileException, LineUnavailableException, InterruptedException {\r\n      class AudioListener implements LineListener {\r\n        private boolean done = false;\r\n        @Override public synchronized void update(LineEvent event) {\r\n          Type eventType = event.getType();\r\n          if (eventType == Type.STOP || eventType == Type.CLOSE) {\r\n            done = true;\r\n            notifyAll();\r\n          }\r\n        }\r\n        public synchronized void waitUntilDone() throws InterruptedException {\r\n          while (!done) { wait(); }\r\n        }\r\n      }\r\n      AudioListener listener = new AudioListener();\r\n      AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(clipFile);\r\n      try {\r\n        Clip clip = AudioSystem.getClip();\r\n        clip.addLineListener(listener);\r\n        clip.open(audioInputStream);\r\n        try {\r\n          clip.start();\r\n          listener.waitUntilDone();\r\n        } finally {\r\n          clip.close();\r\n        }\r\n      } finally {\r\n        audioInputStream.close();\r\n      }\r\n    }","title":"Trouble playing wav in Java","body":"<p>I'm not sure why the second approach you linked to starts another thread; I believe the audio will be played in its own thread anyway. Is the problem that your application finishes before the clip has finished playing?</p>\n\n<pre><code>import javax.sound.sampled.*;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.sound.sampled.LineEvent.Type;\n\nprivate static void playClip(File clipFile) throws IOException, \n  UnsupportedAudioFileException, LineUnavailableException, InterruptedException {\n  class AudioListener implements LineListener {\n    private boolean done = false;\n    @Override public synchronized void update(LineEvent event) {\n      Type eventType = event.getType();\n      if (eventType == Type.STOP || eventType == Type.CLOSE) {\n        done = true;\n        notifyAll();\n      }\n    }\n    public synchronized void waitUntilDone() throws InterruptedException {\n      while (!done) { wait(); }\n    }\n  }\n  AudioListener listener = new AudioListener();\n  AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(clipFile);\n  try {\n    Clip clip = AudioSystem.getClip();\n    clip.addLineListener(listener);\n    clip.open(audioInputStream);\n    try {\n      clip.start();\n      listener.waitUntilDone();\n    } finally {\n      clip.close();\n    }\n  } finally {\n    audioInputStream.close();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21939,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":577926,"answer_count":1,"score":10,"last_activity_date":1677887774,"creation_date":1235397727,"question_id":577724,"body_markdown":"I&#39;m trying to play a\r\n\r\n    PCM_UNSIGNED 11025.0 Hz, 8 bit, mono, 1 bytes/frame\r\n\r\nfile as described [here (1)][1] and [here(2)][2].\r\n\r\nThe first approach works, but I don&#39;t want to depend on `sun.*` stuff. The second results in just some leading frames being played, that sounds more like a click. Can&#39;t be an IO issue as I&#39;m playing from a ByteArrayInputStream.\r\n\r\nWhy might this happen?\r\n\r\n  [1]: https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26311#26311\r\n  [2]: https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26318#26318","title":"Trouble playing wav in Java","body":"<p>I'm trying to play a</p>\n<pre><code>PCM_UNSIGNED 11025.0 Hz, 8 bit, mono, 1 bytes/frame\n</code></pre>\n<p>file as described <a href=\"https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26311#26311\">here (1)</a> and <a href=\"https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26318#26318\">here(2)</a>.</p>\n<p>The first approach works, but I don't want to depend on <code>sun.*</code> stuff. The second results in just some leading frames being played, that sounds more like a click. Can't be an IO issue as I'm playing from a ByteArrayInputStream.</p>\n<p>Why might this happen?</p>\n"},{"tags":["java","json","encoding"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1677887450,"post_id":75632756,"comment_id":133432645,"body_markdown":"JSON is defined to be UTF-8. If you see `Gon&#195;&#167;alves`, you received UTF-8 but parsed it as ISO-8859-1. Remove `;charset=` (or if you must, UTF_8`). You&#39;re converting a string to bytes back to a string, that&#39;s never a good idea.","body":"JSON is defined to be UTF-8. If you see <code>Gon&#195;&#167;alves</code>, you received UTF-8 but parsed it as ISO-8859-1. Remove <code>;charset=</code> (or if you must, UTF_8`). You&#39;re converting a string to bytes back to a string, that&#39;s never a good idea."},{"owner":{"account_id":11196114,"reputation":31,"user_id":8214699,"display_name":"RJA"},"score":0,"creation_date":1677964626,"post_id":75632756,"comment_id":133442494,"body_markdown":"I tried to put UTF-8, but it doesn&#39;t work: i got Ces&#195;ƒ&#194;&#161;rio instead of Ces&#225;rio: `Accept: application/json;charset=UTF-8;  String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(StandardCharsets.UTF_8));`         I have also tried &#39;byte[] fn=`destination.get(&quot;first_name&quot;).toString().getBytes(StandardCharsets.UTF_8);                        String destination_name =  new String(fn, StandardCharsets.UTF_8)`;                                                                   I have also tried remove the charset from the request but it also didn&#39;t work.","body":"I tried to put UTF-8, but it doesn&#39;t work: i got Ces&#195;ƒ&#194;&#161;rio instead of Ces&#225;rio: <code>Accept: application&#47;json;charset=UTF-8;  String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(Sta&zwnj;&#8203;ndardCharsets.UTF_8)&zwnj;&#8203;);</code>         I have also tried &#39;byte[] fn=<code>destination.get(&quot;first_name&quot;).toString().getBytes(Standar&zwnj;&#8203;dCharsets.UTF_8);                        String destination_name =  new String(fn, StandardCharsets.UTF_8)</code>;                                                                   I have also tried remove the charset from the request but it also didn&#39;t work."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677967152,"post_id":75632756,"comment_id":133442925,"body_markdown":"_String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(StandardCharsets.UTF_8))_ this still converts a string to bytes and back again with undefined encodings, you should NEVER write that code. It&#39;s clear you don&#39;t understand how this works. you can&#39;t convert from bytes to characters or vice versa without specifying an encoding, so calling `new String(byteArr)` should be something you&#39;d never do. But you are, which - indicates you might need to take a step back and fully grok what&#39;s happening here before continuing to try random stuff and praying.","body":"<i>String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(Sta&zwnj;&#8203;ndardCharsets.UTF_8)&zwnj;&#8203;)</i> this still converts a string to bytes and back again with undefined encodings, you should NEVER write that code. It&#39;s clear you don&#39;t understand how this works. you can&#39;t convert from bytes to characters or vice versa without specifying an encoding, so calling <code>new String(byteArr)</code> should be something you&#39;d never do. But you are, which - indicates you might need to take a step back and fully grok what&#39;s happening here before continuing to try random stuff and praying."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677967193,"post_id":75632756,"comment_id":133442936,"body_markdown":"It&#39;s possible/likely that the data you get is already hosed and thus there&#39;s nothing you can do other than send a ticket to whatever gave you this JSON, or if it&#39;s you / your company, look at the code that made it.","body":"It&#39;s possible/likely that the data you get is already hosed and thus there&#39;s nothing you can do other than send a ticket to whatever gave you this JSON, or if it&#39;s you / your company, look at the code that made it."}],"owner":{"account_id":11196114,"reputation":31,"user_id":8214699,"display_name":"RJA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677887251,"creation_date":1677887251,"question_id":75632756,"body_markdown":"I&#39;m using curl to get the content of my Shopify store in a java application:\r\n\r\n\r\n    curl --ssl-no-revoke -sb -X GET &quot;myshopiy_url&quot; -H &quot;X-Shopify-Access-Token: token&quot; -H &quot;Accept: application/json;charset=ISO-8859-1&quot;\r\n\r\n\r\nI have tried many alternatives:\r\n\r\n    String destination_name = \r\n                new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;) \r\n                + &quot; &quot; + \r\n                new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;); \r\n    \r\n    String destination_name = \r\n                new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;) \r\n                + &quot; &quot; + \r\n                new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;); \r\n    \r\n    String destination_name = \r\n                new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;) \r\n                + &quot; &quot; + \r\n                new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;); \r\n\r\nBut i&#39;m always getting wierd characters:\r\n\r\n    Instead of N&#250;mero, i get N&#195;&#186;mero, instead of Gon&#231;alves i get Gon&#195;&#167;alves\r\n\r\nAnother wierd thing is that in my Pc, the characters appear like they should be, but in another Pc they don&#39;t, same OS (win 10), same language, etc..\r\n\r\nDoes anyone has any idea on how to fix this?\r\n\r\n","title":"How to encode json with ISO-8859-1 in java aplication?","body":"<p>I'm using curl to get the content of my Shopify store in a java application:</p>\n<pre><code>curl --ssl-no-revoke -sb -X GET &quot;myshopiy_url&quot; -H &quot;X-Shopify-Access-Token: token&quot; -H &quot;Accept: application/json;charset=ISO-8859-1&quot;\n</code></pre>\n<p>I have tried many alternatives:</p>\n<pre><code>String destination_name = \n            new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;) \n            + &quot; &quot; + \n            new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;); \n\nString destination_name = \n            new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;) \n            + &quot; &quot; + \n            new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;); \n\nString destination_name = \n            new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;) \n            + &quot; &quot; + \n            new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;); \n</code></pre>\n<p>But i'm always getting wierd characters:</p>\n<pre><code>Instead of Número, i get NÃºmero, instead of Gonçalves i get GonÃ§alves\n</code></pre>\n<p>Another wierd thing is that in my Pc, the characters appear like they should be, but in another Pc they don't, same OS (win 10), same language, etc..</p>\n<p>Does anyone has any idea on how to fix this?</p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":6654102,"reputation":414,"user_id":5135249,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652244166,"creation_date":1652244166,"answer_id":72195516,"question_id":72194502,"body_markdown":"After modifying **build.gradle** code like below, not getting same error.\r\n\r\n```\r\ntasks.named(&quot;bootJar&quot;) {\r\n    launchScript {\r\n        properties &#39;mode&#39;: &#39;service&#39;\r\n        properties &#39;logFolder&#39;: &#39;logs/&#39;\r\n        properties &#39;logFilename&#39;: &#39;stdout&#39;\r\n        properties &#39;pidFolder&#39;: &#39;run/&#39;\r\n        properties &#39;pidFilename&#39;: &quot;${archiveBaseName.get()}.pid&quot;\r\n    }\r\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\r\n    mainClass = &#39;jp.co.rakuten.english.ReduBatchApplication&#39;\r\n}\r\n```","title":"Spring boot gradle - getting No signature of method: .bootJar() is applicable for argument types","body":"<p>After modifying <strong>build.gradle</strong> code like below, not getting same error.</p>\n<pre><code>tasks.named(&quot;bootJar&quot;) {\n    launchScript {\n        properties 'mode': 'service'\n        properties 'logFolder': 'logs/'\n        properties 'logFilename': 'stdout'\n        properties 'pidFolder': 'run/'\n        properties 'pidFilename': &quot;${archiveBaseName.get()}.pid&quot;\n    }\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\n    mainClass = 'jp.co.rakuten.english.ReduBatchApplication'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16443760,"reputation":372,"user_id":11879205,"display_name":"t7e"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677886713,"creation_date":1677886713,"answer_id":75632725,"question_id":72194502,"body_markdown":"An addition to @Sam&#39;s answer. I did it this way:\r\n\r\n```\r\nbootJar {\r\n    mainClass = &quot;jp.co.abc.BatchApplication&quot;\r\n}\r\n```","title":"Spring boot gradle - getting No signature of method: .bootJar() is applicable for argument types","body":"<p>An addition to @Sam's answer. I did it this way:</p>\n<pre><code>bootJar {\n    mainClass = &quot;jp.co.abc.BatchApplication&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":6654102,"reputation":414,"user_id":5135249,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677886713,"creation_date":1652232902,"question_id":72194502,"body_markdown":"I am upgrading spring boot and gradle version in spring boot batch application as below,\r\n\r\n**spring boot** - 2.3.3.RELEASE to 2.6.7\r\n\r\n**gradle** - 6.6 to 7.4.2\r\n\r\nwhile building project getting below error\r\n```\r\nBuild file &#39;/Users/abcuser/Documents/PROJECT/newbatch/build.gradle&#39; line: 29\r\n\r\nA problem occurred evaluating root project &#39;newbatch&#39;.\r\n&gt; No signature of method: build_8555gqf06rjal4kabfn0v4b5b.bootJar() is applicable for argument types: (build_8555gqf06rjal4kabfn0v4b5b$_run_closure2) values: [build_8555gqf06rjal4kabfn0v4b5b$_run_closure2@3a423977]\r\n\r\n```\r\n\r\n**build.gradle** is as below \r\n\r\n```\r\nbuildscript {\r\n    ext {\r\n        springBootVersion = &#39;2.6.7&#39;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &quot;${springBootVersion}&quot;\r\n}\r\n\r\nbootJar {\r\n    launchScript {\r\n        properties &#39;mode&#39;: &#39;service&#39;\r\n        properties &#39;logFolder&#39;: &#39;logs/&#39;\r\n        properties &#39;logFilename&#39;: &#39;stdout&#39;\r\n        properties &#39;pidFolder&#39;: &#39;run/&#39;\r\n        properties &#39;pidFilename&#39;: &quot;${archiveBaseName.get()}.pid&quot;\r\n    }\r\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\r\n    mainClassName(&#39;jp.co.abc.BatchApplication&#39;)\r\n}\r\n```\r\n\r\n**gradle-wrapper.properties** is as below \r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```\r\n","title":"Spring boot gradle - getting No signature of method: .bootJar() is applicable for argument types","body":"<p>I am upgrading spring boot and gradle version in spring boot batch application as below,</p>\n<p><strong>spring boot</strong> - 2.3.3.RELEASE to 2.6.7</p>\n<p><strong>gradle</strong> - 6.6 to 7.4.2</p>\n<p>while building project getting below error</p>\n<pre><code>Build file '/Users/abcuser/Documents/PROJECT/newbatch/build.gradle' line: 29\n\nA problem occurred evaluating root project 'newbatch'.\n&gt; No signature of method: build_8555gqf06rjal4kabfn0v4b5b.bootJar() is applicable for argument types: (build_8555gqf06rjal4kabfn0v4b5b$_run_closure2) values: [build_8555gqf06rjal4kabfn0v4b5b$_run_closure2@3a423977]\n\n</code></pre>\n<p><strong>build.gradle</strong> is as below</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '2.6.7'\n    }\n}\nplugins {\n    id 'org.springframework.boot' version &quot;${springBootVersion}&quot;\n}\n\nbootJar {\n    launchScript {\n        properties 'mode': 'service'\n        properties 'logFolder': 'logs/'\n        properties 'logFilename': 'stdout'\n        properties 'pidFolder': 'run/'\n        properties 'pidFilename': &quot;${archiveBaseName.get()}.pid&quot;\n    }\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\n    mainClassName('jp.co.abc.BatchApplication')\n}\n</code></pre>\n<p><strong>gradle-wrapper.properties</strong> is as below</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":57027,"reputation":53987,"user_id":170842,"accept_rate":87,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1459192921,"creation_date":1459192921,"answer_id":36269526,"question_id":36269488,"body_markdown":"I believe it must be `&#39;\\u0000&#39;`. Please visit this [page][1] for more information.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/basic-types.html#characters","title":"How do I make a Null character in Kotlin","body":"<p>I believe it must be <code>'\\u0000'</code>. Please visit this <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#characters\">page</a> for more information.</p>\n"},{"comments":[{"owner":{"account_id":7941961,"reputation":1508,"user_id":5995648,"display_name":"Arbaz.in"},"score":1,"creation_date":1638784049,"post_id":36269616,"comment_id":124171354,"body_markdown":"Working fine only issue is &#39;\\u0000&#39; will add two �� .","body":"Working fine only issue is &#39;\\u0000&#39; will add two �� ."}],"tags":[],"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1677886363,"creation_date":1459193287,"answer_id":36269616,"question_id":36269488,"body_markdown":"These options will work:\r\n\r\n* `&#39;\\u0000&#39;` (Unicode escape syntax, as described in the [docs][1])\r\n* `0.toChar()` ([conversions][2] are optimized and have no function call overhead)\r\n* `import java.lang.Character.MIN_VALUE as nullChar`, then use `nullChar` ([renaming import][3])\r\n\r\nStarting from Kotlin 1.3, this seems to be the straightforward option:\r\n\r\n* [`Char.MIN_VALUE`][4]\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/basic-types.html#characters\r\n  [2]: https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\r\n  [3]: https://kotlinlang.org/docs/reference/packages.html#imports\r\n  [4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/-m-i-n_-v-a-l-u-e.html","title":"How do I make a Null character in Kotlin","body":"<p>These options will work:</p>\n<ul>\n<li><code>'\\u0000'</code> (Unicode escape syntax, as described in the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#characters\" rel=\"noreferrer\">docs</a>)</li>\n<li><code>0.toChar()</code> (<a href=\"https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\" rel=\"noreferrer\">conversions</a> are optimized and have no function call overhead)</li>\n<li><code>import java.lang.Character.MIN_VALUE as nullChar</code>, then use <code>nullChar</code> (<a href=\"https://kotlinlang.org/docs/reference/packages.html#imports\" rel=\"noreferrer\">renaming import</a>)</li>\n</ul>\n<p>Starting from Kotlin 1.3, this seems to be the straightforward option:</p>\n<ul>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/-m-i-n_-v-a-l-u-e.html\" rel=\"noreferrer\"><code>Char.MIN_VALUE</code></a></li>\n</ul>\n"}],"owner":{"account_id":2409048,"reputation":811,"user_id":2104648,"accept_rate":86,"display_name":"Caelum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10480,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":36269616,"answer_count":2,"score":38,"last_activity_date":1677886363,"creation_date":1459192786,"question_id":36269488,"body_markdown":"In Java, one can use the escape sequence `\\0` to represent the [Null character][1]\r\n\r\n`\\0` and `\\0000` are not valid escape sequences in Kotlin, so I&#39;ve been using a static java char and accessing that from Kotlin.\r\n\r\n    public class StringUtils{\r\n      public static char escapeChar = &#39;\\0&#39;;\r\n    }\r\n\r\nIs there a Null character literal, or a better way of doing this in Kotlin?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Null_character","title":"How do I make a Null character in Kotlin","body":"<p>In Java, one can use the escape sequence <code>\\0</code> to represent the <a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"noreferrer\">Null character</a></p>\n\n<p><code>\\0</code> and <code>\\0000</code> are not valid escape sequences in Kotlin, so I've been using a static java char and accessing that from Kotlin.</p>\n\n<pre><code>public class StringUtils{\n  public static char escapeChar = '\\0';\n}\n</code></pre>\n\n<p>Is there a Null character literal, or a better way of doing this in Kotlin?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1677873450,"post_id":75631043,"comment_id":133429997,"body_markdown":"`Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;ntnK&#39;]&quot;}`","body":"<code>Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;ntnK&#39;]&quot;}</code>"},{"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"score":0,"creation_date":1677873754,"post_id":75631043,"comment_id":133430072,"body_markdown":"@JimGarrison Do you know why it would search by css selector when I don&#39;t have it in my code?","body":"@JimGarrison Do you know why it would search by css selector when I don&#39;t have it in my code?"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1677884077,"post_id":75631043,"comment_id":133432172,"body_markdown":"Try `btnK` instead of `ntnK`.","body":"Try <code>btnK</code> instead of <code>ntnK</code>."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677885854,"creation_date":1677885854,"answer_id":75632657,"question_id":75631043,"body_markdown":"Once you invoke an url through _`get()`_ and then immediately try to invoke _`sendKeys()`_ within the _username_ field, the _username_ field may not have completely [rendered](https://stackoverflow.com/a/47237075/7429447).\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nIdeally, to send a character sequence within an _Username_ field you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _id_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;))).sendKeys(&quot;jetswept&quot;);\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#username&quot;))).sendKeys(&quot;jetswept&quot;);\r\n\t\r\n- Using _xpath_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=&#39;username&#39;]&quot;))).sendKeys(&quot;jetswept&quot;);","title":"I cant get my automation testcase to run past the &quot;first&quot; line","body":"<p>Once you invoke an url through <em><code>get()</code></em> and then immediately try to invoke <em><code>sendKeys()</code></em> within the <em>username</em> field, the <em>username</em> field may not have completely <a href=\"https://stackoverflow.com/a/47237075/7429447\">rendered</a>.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ideally, to send a character sequence within an <em>Username</em> field you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>id</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;))).sendKeys(&quot;jetswept&quot;);\n</code></pre>\n</li>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#username&quot;))).sendKeys(&quot;jetswept&quot;);\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id='username']&quot;))).sendKeys(&quot;jetswept&quot;);\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75632657,"answer_count":1,"score":1,"last_activity_date":1677885854,"creation_date":1677870944,"question_id":75631043,"body_markdown":"I&#39;m creating an automated test suite for my job and currently I can&#39;t get it to run past the first line i.e \r\n```\r\n&quot;driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;example&quot;);\r\n```\r\n\r\nI decided to try google to see if i could make any headway and this is the code i started out with \r\n\r\n\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n\r\npublic class fgiLogin {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.setProperty(&quot;webDriver.chrome.driver&quot;,\r\n&quot;C:\\\\Users\\\\examplefolder\\\\Documents\\\\examplefolder\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://google.com&quot;);\r\n\r\n        driver.manage().window().maximize();\r\n\r\n        Thread.sleep(5000);\r\n\r\n\r\n        driver.findElement(By.className(&quot;gLFyf&quot;)).sendKeys(&quot;fruit&quot;);\r\n        driver.findElement(By.name(&quot;ntnK&quot;)).click();\r\n\r\n        driver.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAfter the word fruit is placed into the google search bar thats where the test is failing.\r\n\r\nthis is the error set i get in intellij\r\n\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 10097\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n[1677870261.213][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;ntnK&#39;]&quot;}\r\n  (Session info: chrome=110.0.5481.178)\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [2937306020c9aa7bccf03e80ec05305a, findElement {using=name, value=ntnK}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.178, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\ne1723\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:50557}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:50557/devtoo..., se:cdpVersion: 110.0.5481.178, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 2937306020c9aa7bccf03e80ec05305a\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:66)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:352)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\r\n\tat fgiLogin.main(fgiLogin.java:20)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nHow can i get the code to work past the initial line of sending the keys to the search bar?\r\n\r\n\r\n\r\nTried to change the driver.get to id, classname, name, and etc. I want the google search button to click and the driver to close as expected. The search bar will enter fruit and the automation breaks.","title":"I cant get my automation testcase to run past the &quot;first&quot; line","body":"<p>I'm creating an automated test suite for my job and currently I can't get it to run past the first line i.e</p>\n<pre><code>&quot;driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;example&quot;);\n</code></pre>\n<p>I decided to try google to see if i could make any headway and this is the code i started out with</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\n\npublic class fgiLogin {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        System.setProperty(&quot;webDriver.chrome.driver&quot;,\n&quot;C:\\\\Users\\\\examplefolder\\\\Documents\\\\examplefolder\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://google.com&quot;);\n\n        driver.manage().window().maximize();\n\n        Thread.sleep(5000);\n\n\n        driver.findElement(By.className(&quot;gLFyf&quot;)).sendKeys(&quot;fruit&quot;);\n        driver.findElement(By.name(&quot;ntnK&quot;)).click();\n\n        driver.close();\n    }\n\n}\n</code></pre>\n<p>After the word fruit is placed into the google search bar thats where the test is failing.</p>\n<p>this is the error set i get in intellij</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 10097\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1677870261.213][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='ntnK']&quot;}\n  (Session info: chrome=110.0.5481.178)\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [2937306020c9aa7bccf03e80ec05305a, findElement {using=name, value=ntnK}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.178, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\ne1723\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:50557}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:50557/devtoo..., se:cdpVersion: 110.0.5481.178, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 2937306020c9aa7bccf03e80ec05305a\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:66)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:352)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\n    at fgiLogin.main(fgiLogin.java:20)\n\nProcess finished with exit code 1\n</code></pre>\n<p>How can i get the code to work past the initial line of sending the keys to the search bar?</p>\n<p>Tried to change the driver.get to id, classname, name, and etc. I want the google search button to click and the driver to close as expected. The search bar will enter fruit and the automation breaks.</p>\n"},{"tags":["java","android","memory"],"owner":{"account_id":1058531,"reputation":1108,"user_id":1060673,"accept_rate":42,"display_name":"yesbutmaybeno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677885703,"creation_date":1677885703,"question_id":75632647,"body_markdown":"So this will provide a rough estimate on the Java memory usage: `Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()`\r\n\r\nIs there an equivalent for the amount of graphics memory? Used up from loaded Textures and such?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SmWkp.png","title":"How to track graphics memory usage in Android app?","body":"<p>So this will provide a rough estimate on the Java memory usage: <code>Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()</code></p>\n<p>Is there an equivalent for the amount of graphics memory? Used up from loaded Textures and such?</p>\n<p><a href=\"https://i.stack.imgur.com/SmWkp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SmWkp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rest","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677881491,"post_id":75629488,"comment_id":133431729,"body_markdown":"This isn&#39;t valid Java code. Please make sure that code that you&#39;re using in a question is syntactically valid (except where the question is specifically about syntax). As a hint: you should not be mocking the method that you&#39;re trying to test.","body":"This isn&#39;t valid Java code. Please make sure that code that you&#39;re using in a question is syntactically valid (except where the question is specifically about syntax). As a hint: you should not be mocking the method that you&#39;re trying to test."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677885057,"creation_date":1677885057,"answer_id":75632599,"question_id":75629488,"body_markdown":"The key idea with using mocks to test is that you should never mock what is being tested, only other methods or classes that are used incidentally. In this case, the `createFromDtos` method should not be mocked, but the `createFrom` method that it uses can be.\r\n\r\nFor example:\r\n\r\n```java\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Spy;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class XYZConverterTest {\r\n\r\n    @Spy\r\n    XYZConverter&lt;DomainClass, EntityClass&gt; converter;\r\n\r\n    @Mock\r\n    DomainClass domainClass;\r\n\r\n    @Mock\r\n    EntityClass entityClass;\r\n\r\n    @Test\r\n    public void createFromDtos() {\r\n        when(converter.createFrom(domainClass)).thenReturn(entityClass);\r\n        List&lt;EntityClass&gt; converted = converter.createFromDtos(List.of(domainClass));\r\n        assertEquals(List.of(entityClass), converted);\r\n    }\r\n}\r\n```","title":"Writing Test case for Generic interface with default method","body":"<p>The key idea with using mocks to test is that you should never mock what is being tested, only other methods or classes that are used incidentally. In this case, the <code>createFromDtos</code> method should not be mocked, but the <code>createFrom</code> method that it uses can be.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Spy;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport java.util.List;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class XYZConverterTest {\n\n    @Spy\n    XYZConverter&lt;DomainClass, EntityClass&gt; converter;\n\n    @Mock\n    DomainClass domainClass;\n\n    @Mock\n    EntityClass entityClass;\n\n    @Test\n    public void createFromDtos() {\n        when(converter.createFrom(domainClass)).thenReturn(entityClass);\n        List&lt;EntityClass&gt; converted = converter.createFromDtos(List.of(domainClass));\n        assertEquals(List.of(entityClass), converted);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21091366,"reputation":31,"user_id":15503193,"display_name":"MAYANK DEVRANI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677885057,"creation_date":1677860263,"question_id":75629488,"body_markdown":"I&#39;m trying to write test cases for the interface with default method\r\n Interface:\r\n\r\n    public interface XYZConverter &lt;D extends DomainClass, E Extends EntityClass&gt;{\r\n       E createFrom(D dto);\r\n       E updateEntity(E entity, D dto);\r\n       \r\n       default dtos.stream().map(this::createFrom).collect(Collectors.toList());\r\n    }\r\n\r\nand my test class be like:\r\n\r\n    public class XYZConverterTest&lt;D,E&gt;{\r\n    \r\n        XYZConverter converter = spy(XYZConverter.class);\r\n        \r\n    @Mock\r\n    DomainClass domainClass;\r\n    \r\n    @Mock\r\n    EntityClass entityClass;\r\n    \r\n    @BeforeEach\r\n    void setUp(){\r\n      MockitoAnnotations.openMocks(this);\r\n      domainClass = getDomainClass();\r\n    entityClass = getEntityClass();\r\n     \r\n    }\r\n    \r\n    @Test\r\n    void createFromDtos(){\r\n      EntityClass = getEntityClass();\r\n      domainClass = getDomainClass();\r\n      Mockito.when(converter.createFromDtos(Collection&lt;D&gt; domainClass)).thenReturn(List.of(entityClass));\r\n    }\r\n    }\r\n\r\nI tried to create test cases but had no luck if anyone can help me with writing test cases? ","title":"Writing Test case for Generic interface with default method","body":"<p>I'm trying to write test cases for the interface with default method\nInterface:</p>\n<pre><code>public interface XYZConverter &lt;D extends DomainClass, E Extends EntityClass&gt;{\n   E createFrom(D dto);\n   E updateEntity(E entity, D dto);\n   \n   default dtos.stream().map(this::createFrom).collect(Collectors.toList());\n}\n</code></pre>\n<p>and my test class be like:</p>\n<pre><code>public class XYZConverterTest&lt;D,E&gt;{\n\n    XYZConverter converter = spy(XYZConverter.class);\n    \n@Mock\nDomainClass domainClass;\n\n@Mock\nEntityClass entityClass;\n\n@BeforeEach\nvoid setUp(){\n  MockitoAnnotations.openMocks(this);\n  domainClass = getDomainClass();\nentityClass = getEntityClass();\n \n}\n\n@Test\nvoid createFromDtos(){\n  EntityClass = getEntityClass();\n  domainClass = getDomainClass();\n  Mockito.when(converter.createFromDtos(Collection&lt;D&gt; domainClass)).thenReturn(List.of(entityClass));\n}\n}\n</code></pre>\n<p>I tried to create test cases but had no luck if anyone can help me with writing test cases?</p>\n"},{"tags":["java","apache-commons"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1677845093,"post_id":75625163,"comment_id":133421997,"body_markdown":"Can&#39;t you switch to NIO/2 and its `WatchService`?","body":"Can&#39;t you switch to NIO/2 and its <code>WatchService</code>?"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1678091066,"post_id":75625163,"comment_id":133459188,"body_markdown":"`WatchService` works, but I can&#39;t use it in my application for other reasons...","body":"<code>WatchService</code> works, but I can&#39;t use it in my application for other reasons..."}],"answers":[{"comments":[{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1677836112,"post_id":75625209,"comment_id":133419680,"body_markdown":"I thought about it, but it does nothing, neither overwriting nor explicitly deleting and moving again","body":"I thought about it, but it does nothing, neither overwriting nor explicitly deleting and moving again"},{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":1,"creation_date":1677836307,"post_id":75625209,"comment_id":133419739,"body_markdown":"thats strange. I would suggest you to run FileAlterationObserver in a ever running thread","body":"thats strange. I would suggest you to run FileAlterationObserver in a ever running thread"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1677837416,"post_id":75625209,"comment_id":133420021,"body_markdown":"that&#39;s exactly what I am doing","body":"that&#39;s exactly what I am doing"}],"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677883471,"creation_date":1677835206,"answer_id":75625209,"question_id":75625163,"body_markdown":"make use of `onFileChange` hook provided by `FileAlterationListener`\r\n```\r\n@Override\r\npublic void onFileChange(File file) {\r\n    System.out.println(&quot;File got changed &quot;+ file);\r\n}\r\n```","title":"Is it possible to detect file overwriting using Apache Commons IO?","body":"<p>make use of <code>onFileChange</code> hook provided by <code>FileAlterationListener</code></p>\n<pre><code>@Override\npublic void onFileChange(File file) {\n    System.out.println(&quot;File got changed &quot;+ file);\n}\n</code></pre>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677883471,"creation_date":1677834892,"question_id":75625163,"body_markdown":"I&#39;m using Apache&#39;s `FileAlterationMonitor` to monitor a specific directory in my project, and I was wondering if there is a way to monitor file overwriting too, since otherwise I&#39;d have to delete a file, wait the monitor to perform a check to detect the file was deleted, and then write the file again to behave correctly","title":"Is it possible to detect file overwriting using Apache Commons IO?","body":"<p>I'm using Apache's <code>FileAlterationMonitor</code> to monitor a specific directory in my project, and I was wondering if there is a way to monitor file overwriting too, since otherwise I'd have to delete a file, wait the monitor to perform a check to detect the file was deleted, and then write the file again to behave correctly</p>\n"},{"tags":["java","spring-boot","spring-profiles","spring-properties"],"answers":[{"comments":[{"owner":{"account_id":2039459,"reputation":999,"user_id":1821020,"accept_rate":30,"display_name":"Sunil Rk"},"score":0,"creation_date":1605254480,"post_id":64813309,"comment_id":114599831,"body_markdown":"Thanks for the reply, but I would like to activate via properties because I don&#39;t to modify java file when I want to add or delete active profiles","body":"Thanks for the reply, but I would like to activate via properties because I don&#39;t to modify java file when I want to add or delete active profiles"},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1605256543,"post_id":64813309,"comment_id":114600518,"body_markdown":"Add this into properties or set via an environment variable `spring.profiles.active=dev` - bear in mind you need to have the right filename when loading via a properties file.","body":"Add this into properties or set via an environment variable <code>spring.profiles.active=dev</code> - bear in mind you need to have the right filename when loading via a properties file."},{"owner":{"account_id":2039459,"reputation":999,"user_id":1821020,"accept_rate":30,"display_name":"Sunil Rk"},"score":0,"creation_date":1605256833,"post_id":64813309,"comment_id":114600626,"body_markdown":"i am surprised why spring.profiles.active=cache is not working, cache is a profile created on class as shown above. \nI got what you want to saying, but my profiles are on the classes.","body":"i am surprised why spring.profiles.active=cache is not working, cache is a profile created on class as shown above.  I got what you want to saying, but my profiles are on the classes."},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1605256932,"post_id":64813309,"comment_id":114600663,"body_markdown":"If you look at the top of the spring log output it usually tells you which profile has been activated (within the first 10 lines). If the default profile is loaded and you&#39;ve added the line into config, try setting it as an environment variable. If it works its likely the properties file you&#39;ve specified is not being picked up. Try it and update the question with any log output your seeing in relation to the active profile loaded","body":"If you look at the top of the spring log output it usually tells you which profile has been activated (within the first 10 lines). If the default profile is loaded and you&#39;ve added the line into config, try setting it as an environment variable. If it works its likely the properties file you&#39;ve specified is not being picked up. Try it and update the question with any log output your seeing in relation to the active profile loaded"}],"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1605223570,"creation_date":1605223570,"answer_id":64813309,"question_id":64812810,"body_markdown":"To activate a profile via annotations you need `@ActiveProfile(&quot;profileName&quot;)`. The `@Profile` annotation is used to label an object as being a member of the profile.","title":"spring.profiles.active is not working in springboot application","body":"<p>To activate a profile via annotations you need <code>@ActiveProfile(&quot;profileName&quot;)</code>. The <code>@Profile</code> annotation is used to label an object as being a member of the profile.</p>\n"},{"tags":[],"owner":{"account_id":16267237,"reputation":620,"user_id":11746899,"display_name":"Opri"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605257217,"creation_date":1605257217,"answer_id":64817843,"question_id":64812810,"body_markdown":"you can also try to run the application and pass them as command line args\r\n\r\n    java -jar -Dspring.profiles.active={your_profile_name} application.jar\r\n\r\nor if you run the app via maven:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles={your_profile_name}\r\n\r\nHere is an nice example I found on the internet with all the ways you can set the spring profile, it should help : https://www.baeldung.com/spring-profiles","title":"spring.profiles.active is not working in springboot application","body":"<p>you can also try to run the application and pass them as command line args</p>\n<pre><code>java -jar -Dspring.profiles.active={your_profile_name} application.jar\n</code></pre>\n<p>or if you run the app via maven:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles={your_profile_name}\n</code></pre>\n<p>Here is an nice example I found on the internet with all the ways you can set the spring profile, it should help : <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-profiles</a></p>\n"},{"tags":[],"owner":{"account_id":1938618,"reputation":698,"user_id":1745416,"display_name":"JohnC"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664312471,"creation_date":1664312471,"answer_id":73873773,"question_id":64812810,"body_markdown":"I encountered a similar issue where SpringBoot wasn&#39;t activating the profiles set in the spring.profiles.active application property.  \r\n\r\nThe issue was the result of the code base using a non standard name and location for the application property file (not my doing).  Once I specified the location via the command line arg- `--spring.config.location=/non/standard/location/acme.properties`- the profile was activated.","title":"spring.profiles.active is not working in springboot application","body":"<p>I encountered a similar issue where SpringBoot wasn't activating the profiles set in the spring.profiles.active application property.</p>\n<p>The issue was the result of the code base using a non standard name and location for the application property file (not my doing).  Once I specified the location via the command line arg- <code>--spring.config.location=/non/standard/location/acme.properties</code>- the profile was activated.</p>\n"},{"tags":[],"owner":{"account_id":27586394,"reputation":79,"user_id":21054492,"display_name":"ZoltanB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677883010,"creation_date":1677883010,"answer_id":75632414,"question_id":64812810,"body_markdown":"Hint: for IntellyJ fans&lt;br&gt;\r\nDo not forget to select &quot;Add VM Options&quot; in &quot;Modify Options&quot; dropdown of Edit Configurations dialog and **then** enter &lt;br&gt;\r\n-Dspring.profiles.active=...","title":"spring.profiles.active is not working in springboot application","body":"<p>Hint: for IntellyJ fans<br>\nDo not forget to select &quot;Add VM Options&quot; in &quot;Modify Options&quot; dropdown of Edit Configurations dialog and <strong>then</strong> enter <br>\n-Dspring.profiles.active=...</p>\n"}],"owner":{"account_id":2039459,"reputation":999,"user_id":1821020,"accept_rate":30,"display_name":"Sunil Rk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32323,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1677883010,"creation_date":1605220378,"question_id":64812810,"body_markdown":"I have created Profiles in Java class like this,\r\n\r\n````\r\n@Profile(value = &quot;cache&quot;)\r\npublic class MapCache {\r\n....\r\n}\r\n`````\r\nThese profiles are not getting activated when **spring.profiles.active** used, but if i use **spring.profiles.include** profiles are working fine. \n\nI would like activate profiles through properties which are added in application.properties\r\n\r\nNote: application is running in independent jetty instance.\r\n\r\nAny tip would be great on this.","title":"spring.profiles.active is not working in springboot application","body":"<p>I have created Profiles in Java class like this,</p>\n<pre><code>@Profile(value = &quot;cache&quot;)\npublic class MapCache {\n....\n}\n</code></pre>\n<p>These profiles are not getting activated when <strong>spring.profiles.active</strong> used, but if i use <strong>spring.profiles.include</strong> profiles are working fine.</p>\n<p>I would like activate profiles through properties which are added in application.properties</p>\n<p>Note: application is running in independent jetty instance.</p>\n<p>Any tip would be great on this.</p>\n"},{"tags":["java","augmented-reality","arcore","hittest","sceneform"],"owner":{"account_id":20762182,"reputation":1,"user_id":18822181,"display_name":"Karan Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677882991,"creation_date":1677832467,"question_id":75624802,"body_markdown":"After detecting a HitTest how to create a trackable at that place\r\n\r\nI tried detecting trackables by \r\n```java\r\nCollection &lt;AugmentedImage&gt; trackables  = getArSceneView().getArFrame().getUpdatedTrackables(AugmentedImage.class);\r\n```\r\n\r\nBut after printing size of trackables which are formed by ARCore through Toast it is most of the time zero. Actaually I want a trackable so that I can attach it to anchor node so that it doesn&#39;t shake or move when I move the camera.\r\nBut so far I am not able to place a trackable at the location of HitTest or the AnchorNode at hit test.","title":"How do I create a trackable plane and attach it to an AnchorNode placed at the position of HitTest in ARCore?","body":"<p>After detecting a HitTest how to create a trackable at that place</p>\n<p>I tried detecting trackables by</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection &lt;AugmentedImage&gt; trackables  = getArSceneView().getArFrame().getUpdatedTrackables(AugmentedImage.class);\n</code></pre>\n<p>But after printing size of trackables which are formed by ARCore through Toast it is most of the time zero. Actaually I want a trackable so that I can attach it to anchor node so that it doesn't shake or move when I move the camera.\nBut so far I am not able to place a trackable at the location of HitTest or the AnchorNode at hit test.</p>\n"},{"tags":["java","quarkus","minio"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1677836183,"post_id":75619349,"comment_id":133419704,"body_markdown":"I don&#39;t see how a preview is being served in the snippet you posted","body":"I don&#39;t see how a preview is being served in the snippet you posted"},{"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"score":0,"creation_date":1677836431,"post_id":75619349,"comment_id":133419779,"body_markdown":"the snippet is an example of I get the InputStream from MinIO... I asked for the implementation of how it can be served indeed.","body":"the snippet is an example of I get the InputStream from MinIO... I asked for the implementation of how it can be served indeed."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1677836829,"post_id":75619349,"comment_id":133419875,"body_markdown":"You can use `InputStream` in Quarkus if you need to","body":"You can use <code>InputStream</code> in Quarkus if you need to"},{"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"score":0,"creation_date":1677837552,"post_id":75619349,"comment_id":133420057,"body_markdown":"question edited, maybe it&#39;s more clear and understandable","body":"question edited, maybe it&#39;s more clear and understandable"},{"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"score":0,"creation_date":1677848023,"post_id":75619349,"comment_id":133422746,"body_markdown":"@geoand a sort of [this](https://stackoverflow.com/questions/69161606/how-to-stream-response-body-in-quarkus-with-kotlin)","body":"@geoand a sort of <a href=\"https://stackoverflow.com/questions/69161606/how-to-stream-response-body-in-quarkus-with-kotlin\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677881850,"creation_date":1677850418,"answer_id":75627740,"question_id":75619349,"body_markdown":"Thanks to [this](https://github.com/quarkusio/quarkus/issues/18444)\r\n\r\nI was able to solve in this way:\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public CompletionStage&lt;Response&gt; downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx,\r\n                                                  @QueryParam(&quot;preview&quot;) boolean preview, @HeaderParam(&quot;Range&quot;) String range) {\r\n\r\n        ResFile resFile;\r\n        try {\r\n            resFile = resFileService.getResFile(fileId, ctx);\r\n        } catch (NotFoundException e) {\r\n            return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n        }\r\n\r\n\r\n        if (preview) {\r\n\r\n            if (range == null) {\r\n\r\n                String contentType = resFile.getMimeType();\r\n\r\n                return CompletableFuture.supplyAsync(() -&gt; {\r\n                    try {\r\n                        return resFileService.loadFileAsResource(fileId, ctx);\r\n                    } catch (MinIOException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build());\r\n                    } catch (NotFoundException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n                    }\r\n                }).thenApplyAsync(file -&gt; {\r\n                    try {\r\n                        return Response.ok((StreamingOutput) output -&gt; {\r\n                                    try (final InputStream is = (InputStream) file) {\r\n                                        IOUtils.copyLarge(is, output);\r\n                                    }\r\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(HttpHeaders.CONTENT_LENGTH, resFile.getSize())\r\n                                .status(HttpStatus.SC_PARTIAL_CONTENT).build();\r\n                    } catch (NotFoundException e) {\r\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n                    }\r\n                }).handleAsync((r, e) -&gt; {\r\n                    if (e != null) {\r\n                        log.error(&quot;Error&quot;, e);\r\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\r\n                    }\r\n                    return r;\r\n                });\r\n\r\n            } else {\r\n\r\n                String[] ranges = range.split(&quot;-&quot;);\r\n                long rangeStart = Long.parseLong(ranges[0].substring(6));\r\n                long rangeEnd;\r\n                if (ranges.length &gt; 1) {\r\n                    rangeEnd = Long.parseLong(ranges[1]);\r\n                } else {\r\n                    rangeEnd = rangeStart + chunkSize;\r\n                }\r\n\r\n                log.info(&quot;@@@Range: {} - {}&quot;, rangeStart, rangeEnd);\r\n\r\n                String contentType = resFile.getMimeType();\r\n\r\n                rangeEnd = Math.min(rangeEnd, resFile.getSize() - 1);\r\n                final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\r\n                long finalRangeEnd = rangeEnd;\r\n\r\n                return CompletableFuture.supplyAsync(() -&gt; {\r\n                    try {\r\n                        return resFileService.loadFileAsResource(fileId, ctx);\r\n                    } catch (MinIOException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\r\n                    } catch (NotFoundException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n                    }\r\n                }).thenApplyAsync(file -&gt; {\r\n                    try {\r\n                        return Response.ok((StreamingOutput) output -&gt; {\r\n                                    try (final InputStream is = (InputStream) file) {\r\n                                        long byets = IOUtils.copyLarge(is, output, rangeStart, finalRangeEnd);\r\n                                        log.info(&quot;@@@Bytes: {}&quot;, byets);\r\n                                    }\r\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(HttpHeaders.CONTENT_LENGTH, contentLength)\r\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + finalRangeEnd + &quot;/&quot; + resFile.getSize())\r\n                                .status(HttpStatus.SC_PARTIAL_CONTENT)\r\n                                .build();\r\n                    } catch (NotFoundException e) {\r\n                        log.error(&quot;File not found&quot;, e);\r\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n                    }\r\n                }).handleAsync((r, e) -&gt; {\r\n                    if (e != null) {\r\n                        log.error(&quot;Error&quot;, e);\r\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\r\n                    }\r\n                    return r;\r\n                });\r\n            }\r\n        } else {\r\n\r\n            String contentType = resFile.getMimeType();\r\n\r\n            return CompletableFuture.supplyAsync(() -&gt; {\r\n                try {\r\n                    return resFileService.loadFileAsResource(fileId, ctx);\r\n                } catch (MinIOException e) {\r\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\r\n                } catch (NotFoundException e) {\r\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n                }\r\n            }).thenApplyAsync(file -&gt; {\r\n                try {\r\n                    return Response.ok((StreamingOutput) output -&gt; {\r\n                                try (final InputStream is = (InputStream) file) {\r\n                                    IOUtils.copyLarge(is, output);\r\n                                }\r\n                            }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                            .header(HttpHeaders.CONTENT_TYPE, contentType).build();\r\n                } catch (NotFoundException e) {\r\n                    return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n                }\r\n            }).handleAsync((r, e) -&gt; {\r\n                if (e != null) {\r\n                    log.error(&quot;Error&quot;, e);\r\n                    return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\r\n                }\r\n                return r;\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nNo `Uni` and `AsyncFile` needed.\r\n\r\n","title":"How to use Uni and AsyncFile in Quarkus for serve a preview of large file?","body":"<p>Thanks to <a href=\"https://github.com/quarkusio/quarkus/issues/18444\" rel=\"nofollow noreferrer\">this</a></p>\n<p>I was able to solve in this way:</p>\n<pre><code>    @GET\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public CompletionStage&lt;Response&gt; downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx,\n                                                  @QueryParam(&quot;preview&quot;) boolean preview, @HeaderParam(&quot;Range&quot;) String range) {\n\n        ResFile resFile;\n        try {\n            resFile = resFileService.getResFile(fileId, ctx);\n        } catch (NotFoundException e) {\n            return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n        }\n\n\n        if (preview) {\n\n            if (range == null) {\n\n                String contentType = resFile.getMimeType();\n\n                return CompletableFuture.supplyAsync(() -&gt; {\n                    try {\n                        return resFileService.loadFileAsResource(fileId, ctx);\n                    } catch (MinIOException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build());\n                    } catch (NotFoundException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n                    }\n                }).thenApplyAsync(file -&gt; {\n                    try {\n                        return Response.ok((StreamingOutput) output -&gt; {\n                                    try (final InputStream is = (InputStream) file) {\n                                        IOUtils.copyLarge(is, output);\n                                    }\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(HttpHeaders.CONTENT_LENGTH, resFile.getSize())\n                                .status(HttpStatus.SC_PARTIAL_CONTENT).build();\n                    } catch (NotFoundException e) {\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n                    }\n                }).handleAsync((r, e) -&gt; {\n                    if (e != null) {\n                        log.error(&quot;Error&quot;, e);\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\n                    }\n                    return r;\n                });\n\n            } else {\n\n                String[] ranges = range.split(&quot;-&quot;);\n                long rangeStart = Long.parseLong(ranges[0].substring(6));\n                long rangeEnd;\n                if (ranges.length &gt; 1) {\n                    rangeEnd = Long.parseLong(ranges[1]);\n                } else {\n                    rangeEnd = rangeStart + chunkSize;\n                }\n\n                log.info(&quot;@@@Range: {} - {}&quot;, rangeStart, rangeEnd);\n\n                String contentType = resFile.getMimeType();\n\n                rangeEnd = Math.min(rangeEnd, resFile.getSize() - 1);\n                final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\n                long finalRangeEnd = rangeEnd;\n\n                return CompletableFuture.supplyAsync(() -&gt; {\n                    try {\n                        return resFileService.loadFileAsResource(fileId, ctx);\n                    } catch (MinIOException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\n                    } catch (NotFoundException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n                    }\n                }).thenApplyAsync(file -&gt; {\n                    try {\n                        return Response.ok((StreamingOutput) output -&gt; {\n                                    try (final InputStream is = (InputStream) file) {\n                                        long byets = IOUtils.copyLarge(is, output, rangeStart, finalRangeEnd);\n                                        log.info(&quot;@@@Bytes: {}&quot;, byets);\n                                    }\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(HttpHeaders.CONTENT_LENGTH, contentLength)\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + finalRangeEnd + &quot;/&quot; + resFile.getSize())\n                                .status(HttpStatus.SC_PARTIAL_CONTENT)\n                                .build();\n                    } catch (NotFoundException e) {\n                        log.error(&quot;File not found&quot;, e);\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n                    }\n                }).handleAsync((r, e) -&gt; {\n                    if (e != null) {\n                        log.error(&quot;Error&quot;, e);\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\n                    }\n                    return r;\n                });\n            }\n        } else {\n\n            String contentType = resFile.getMimeType();\n\n            return CompletableFuture.supplyAsync(() -&gt; {\n                try {\n                    return resFileService.loadFileAsResource(fileId, ctx);\n                } catch (MinIOException e) {\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\n                } catch (NotFoundException e) {\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n                }\n            }).thenApplyAsync(file -&gt; {\n                try {\n                    return Response.ok((StreamingOutput) output -&gt; {\n                                try (final InputStream is = (InputStream) file) {\n                                    IOUtils.copyLarge(is, output);\n                                }\n                            }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                            .header(HttpHeaders.CONTENT_TYPE, contentType).build();\n                } catch (NotFoundException e) {\n                    return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n                }\n            }).handleAsync((r, e) -&gt; {\n                if (e != null) {\n                    log.error(&quot;Error&quot;, e);\n                    return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\n                }\n                return r;\n            });\n        }\n    }\n</code></pre>\n<p>No <code>Uni</code> and <code>AsyncFile</code> needed.</p>\n"}],"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75627740,"answer_count":1,"score":2,"last_activity_date":1677881850,"creation_date":1677780691,"question_id":75619349,"body_markdown":"How to use `Uni` and `AsyncFile` in Quarkus for serve a preview of a large file as, for example, a `video/mp4` file, while reading it from minio?\r\n\r\nI tried to implement this with `Response` class, following [this](https://github.com/saravanastar/video-streaming), but without success:\r\n```\r\n    @GET\r\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Response downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx, @QueryParam(&quot;preview&quot;) boolean preview,\r\n                                 @HeaderParam(value = &quot;Range&quot;) String httpRangeList) {\r\n        try {\r\n\r\n            ResFile resFile = resFileService.getResFile(fileId, ctx);\r\n            String contentType = resFile.getMimeType();\r\n            Long size = resFile.getSize();\r\n\r\n            long rangeStart = 0;\r\n            long rangeEnd = size - 1;\r\n\r\n            if (preview) {\r\n\r\n                if (httpRangeList == null) {\r\n                    return Response.status(Response.Status.OK)\r\n                            .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                            .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                            .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                            .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\r\n                            .header(&quot;Content-Length&quot;, String.valueOf(size))\r\n                            .entity(resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, size)).build();\r\n                } else {\r\n\r\n                    String[] ranges = httpRangeList.split(&quot;-&quot;);\r\n                    rangeStart = Long.parseLong(ranges[0].substring(6));\r\n                    if (ranges.length &gt; 1) {\r\n                        rangeEnd = Long.parseLong(ranges[1]);\r\n                    } else {\r\n                        rangeEnd = rangeStart + chunkSize;\r\n                    }\r\n\r\n                    rangeEnd = Math.min(rangeEnd, size - 1);\r\n                    final byte[] data = resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, rangeEnd).readAllBytes();\r\n\r\n                    log.info(&quot;data size: {}&quot;, data.length);\r\n\r\n                    final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\r\n\r\n                    if (rangeEnd &gt;= size) {\r\n                        return Response.status(Response.Status.OK)\r\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\r\n                                .header(&quot;Content-Length&quot;, contentLength)\r\n                                .entity(data).build();\r\n                    }\r\n                    else {\r\n                        return Response.status(Response.Status.PARTIAL_CONTENT)\r\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\r\n                                .header(&quot;Content-Length&quot;, contentLength)\r\n                                .entity(data).build();\r\n                    }\r\n                }\r\n\r\n            } else {\r\n\r\n                return Response.status(Response.Status.OK)\r\n                        .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                        .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                        .entity(resFileService.loadFileAsResource(fileId, ctx)).build();\r\n            }\r\n        } catch (NotFoundException e) {\r\n            return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n        } catch (IOException | MinIOException e) {\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e.getMessage())).build();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    public InputStream loadFileAsResource(UUID uuid, String ctx) throws MinIOException, NotFoundException {\r\n\r\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(uuid, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, uuid)));\r\n        return minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath());\r\n    }\r\n\r\n    public ByteArrayInputStream loadFileAsResourceRange(UUID fileId, String ctx, Long rangeStart, Long rangeEnd) throws MinIOException, NotFoundException, IOException {\r\n\r\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(fileId, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, fileId)));\r\n\r\n        Files.copy(minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath()),\r\n                Paths.get(&quot;/tmp/&quot; + resFile.getFileName()), StandardCopyOption.REPLACE_EXISTING);\r\n\r\n        return new ByteArrayInputStream(IOUtils.toByteArray(new FileInputStream(&quot;/tmp/&quot; + resFile.getFileName())), rangeStart.intValue(), rangeEnd.intValue());\r\n    }\r\n```\r\n\r\n```\r\n    public InputStream downloadFile(String bucket, String filename) throws MinIOException {\r\n        try {\r\n            if(minioClient == null)\r\n                initializeMinIOClient();\r\n            // Get the object from bucket\r\n            return minioClient.getObject(GetObjectArgs.builder().bucket(bucket).object(filename).build());\r\n        } catch (Exception e) {\r\n            throw new MinIOException(String.format(&quot;Error occurred while downloading file &#39;%s&#39; | &quot;, filename), e);\r\n        }\r\n    }\r\n```\r\n\r\nAnd from [this](https://stackoverflow.com/a/72524030/11621071) I read about `Uni` and `AsyncFile`.\r\n\r\nBut I don&#39;t know how to implement it.\r\n\r\nNOTE: Preferably I would like to return dirrectly reading the InputStream without saving the file as I take it from MinIO","title":"How to use Uni and AsyncFile in Quarkus for serve a preview of large file?","body":"<p>How to use <code>Uni</code> and <code>AsyncFile</code> in Quarkus for serve a preview of a large file as, for example, a <code>video/mp4</code> file, while reading it from minio?</p>\n<p>I tried to implement this with <code>Response</code> class, following <a href=\"https://github.com/saravanastar/video-streaming\" rel=\"nofollow noreferrer\">this</a>, but without success:</p>\n<pre><code>    @GET\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Response downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx, @QueryParam(&quot;preview&quot;) boolean preview,\n                                 @HeaderParam(value = &quot;Range&quot;) String httpRangeList) {\n        try {\n\n            ResFile resFile = resFileService.getResFile(fileId, ctx);\n            String contentType = resFile.getMimeType();\n            Long size = resFile.getSize();\n\n            long rangeStart = 0;\n            long rangeEnd = size - 1;\n\n            if (preview) {\n\n                if (httpRangeList == null) {\n                    return Response.status(Response.Status.OK)\n                            .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                            .header(HttpHeaders.CONTENT_TYPE, contentType)\n                            .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                            .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\n                            .header(&quot;Content-Length&quot;, String.valueOf(size))\n                            .entity(resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, size)).build();\n                } else {\n\n                    String[] ranges = httpRangeList.split(&quot;-&quot;);\n                    rangeStart = Long.parseLong(ranges[0].substring(6));\n                    if (ranges.length &gt; 1) {\n                        rangeEnd = Long.parseLong(ranges[1]);\n                    } else {\n                        rangeEnd = rangeStart + chunkSize;\n                    }\n\n                    rangeEnd = Math.min(rangeEnd, size - 1);\n                    final byte[] data = resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, rangeEnd).readAllBytes();\n\n                    log.info(&quot;data size: {}&quot;, data.length);\n\n                    final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\n\n                    if (rangeEnd &gt;= size) {\n                        return Response.status(Response.Status.OK)\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\n                                .header(&quot;Content-Length&quot;, contentLength)\n                                .entity(data).build();\n                    }\n                    else {\n                        return Response.status(Response.Status.PARTIAL_CONTENT)\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\n                                .header(&quot;Content-Length&quot;, contentLength)\n                                .entity(data).build();\n                    }\n                }\n\n            } else {\n\n                return Response.status(Response.Status.OK)\n                        .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                        .header(HttpHeaders.CONTENT_TYPE, contentType)\n                        .entity(resFileService.loadFileAsResource(fileId, ctx)).build();\n            }\n        } catch (NotFoundException e) {\n            return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n        } catch (IOException | MinIOException e) {\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e.getMessage())).build();\n        }\n    }\n</code></pre>\n<pre><code>    public InputStream loadFileAsResource(UUID uuid, String ctx) throws MinIOException, NotFoundException {\n\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(uuid, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, uuid)));\n        return minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath());\n    }\n\n    public ByteArrayInputStream loadFileAsResourceRange(UUID fileId, String ctx, Long rangeStart, Long rangeEnd) throws MinIOException, NotFoundException, IOException {\n\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(fileId, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, fileId)));\n\n        Files.copy(minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath()),\n                Paths.get(&quot;/tmp/&quot; + resFile.getFileName()), StandardCopyOption.REPLACE_EXISTING);\n\n        return new ByteArrayInputStream(IOUtils.toByteArray(new FileInputStream(&quot;/tmp/&quot; + resFile.getFileName())), rangeStart.intValue(), rangeEnd.intValue());\n    }\n</code></pre>\n<pre><code>    public InputStream downloadFile(String bucket, String filename) throws MinIOException {\n        try {\n            if(minioClient == null)\n                initializeMinIOClient();\n            // Get the object from bucket\n            return minioClient.getObject(GetObjectArgs.builder().bucket(bucket).object(filename).build());\n        } catch (Exception e) {\n            throw new MinIOException(String.format(&quot;Error occurred while downloading file '%s' | &quot;, filename), e);\n        }\n    }\n</code></pre>\n<p>And from <a href=\"https://stackoverflow.com/a/72524030/11621071\">this</a> I read about <code>Uni</code> and <code>AsyncFile</code>.</p>\n<p>But I don't know how to implement it.</p>\n<p>NOTE: Preferably I would like to return dirrectly reading the InputStream without saving the file as I take it from MinIO</p>\n"},{"tags":["java","spring-boot","instanceof","java-19"],"comments":[{"owner":{"account_id":5174533,"reputation":12742,"user_id":4142130,"display_name":"Hoopje"},"score":1,"creation_date":1672773493,"post_id":74997594,"comment_id":132348513,"body_markdown":"I cannot reproduce your problem. `rec1 instanceof Interface1` returned true, as expected, when I tried it.","body":"I cannot reproduce your problem. <code>rec1 instanceof Interface1</code> returned true, as expected, when I tried it."},{"owner":{"account_id":1476884,"reputation":536,"user_id":5474918,"display_name":"martinspielmann"},"score":0,"creation_date":1672774122,"post_id":74997594,"comment_id":132348674,"body_markdown":"@Hoopje thanks a lot for your efforts. You are completely correct. The behavior was a side effect of spring-boot-devtools and was not related to what I thought it could be o.0 Added answer... Thanks again","body":"@Hoopje thanks a lot for your efforts. You are completely correct. The behavior was a side effect of spring-boot-devtools and was not related to what I thought it could be o.0 Added answer... Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":1476884,"reputation":536,"user_id":5474918,"display_name":"martinspielmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672773677,"creation_date":1672773677,"answer_id":74997802,"question_id":74997594,"body_markdown":"Found the root cause to the problem here: https://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class\r\n\r\nIt is not related to Records or other new Java features.\r\n\r\nThe problem is caused by Spring Boot, or more specifically, the `spring-boot-devtools` dependency present in my project. It introduces an additional class loader to the project. When a class is loaded by different class loaders, they will not be treated as of the same class, although, their canonical class name is in fact the same.\r\n\r\nIn the linked question this led to `ClassCastException`s which look confusing, like:\r\n\r\n    com.pack.Class1 cannot be cast to com.pack.Class1\r\n\r\nIn addition to the failing class casts described in the linked question, the wrong result of the `instanceof` operator is another symptom of the underlying class loader problem.\r\n\r\nHowever, in both cases, the solution is to remove the `spring-boot-devtools` \r\ndependency or configure it specifically to your needs, see http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload","title":"Record implementing Interface returns false when checked using instanceof (spring-boot, Java 19)","body":"<p>Found the root cause to the problem here: <a href=\"https://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class\">ClassCastException when casting to the same class</a></p>\n<p>It is not related to Records or other new Java features.</p>\n<p>The problem is caused by Spring Boot, or more specifically, the <code>spring-boot-devtools</code> dependency present in my project. It introduces an additional class loader to the project. When a class is loaded by different class loaders, they will not be treated as of the same class, although, their canonical class name is in fact the same.</p>\n<p>In the linked question this led to <code>ClassCastException</code>s which look confusing, like:</p>\n<pre><code>com.pack.Class1 cannot be cast to com.pack.Class1\n</code></pre>\n<p>In addition to the failing class casts described in the linked question, the wrong result of the <code>instanceof</code> operator is another symptom of the underlying class loader problem.</p>\n<p>However, in both cases, the solution is to remove the <code>spring-boot-devtools</code>\ndependency or configure it specifically to your needs, see <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload</a></p>\n"}],"owner":{"account_id":1476884,"reputation":536,"user_id":5474918,"display_name":"martinspielmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74997802,"answer_count":1,"score":1,"last_activity_date":1677881319,"creation_date":1672772265,"question_id":74997594,"body_markdown":"Code example is below.\r\n\r\nI have a Record that implements an Interface.\r\nWhen I check if an object of type Record is an `instanceof` the Interface, the result is `false`.\r\n\r\nIs there any special Java behavior with the combination of Records/Interfaces/instanceof?\r\n\r\nThe following example results illustrates the problem. `isInstanceOf` stays `false`, but I would expect that the condition and thus the variable evaluates to `true`.\r\n\r\n```java\r\ninterface Interface1 {}\r\n\r\nrecord Record1(String foo) implements Interface1 {}\r\n\r\n...\r\n\r\nRecord1 rec1 = new Record1(&quot;foo&quot;);\r\nboolean isInstanceOf = false;\r\n\r\nif (rec1 instanceof Interface1){\r\n    isInstanceOf = true;\r\n}\r\n\r\n// isInstanceOf is still false\r\n```","title":"Record implementing Interface returns false when checked using instanceof (spring-boot, Java 19)","body":"<p>Code example is below.</p>\n<p>I have a Record that implements an Interface.\nWhen I check if an object of type Record is an <code>instanceof</code> the Interface, the result is <code>false</code>.</p>\n<p>Is there any special Java behavior with the combination of Records/Interfaces/instanceof?</p>\n<p>The following example results illustrates the problem. <code>isInstanceOf</code> stays <code>false</code>, but I would expect that the condition and thus the variable evaluates to <code>true</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Interface1 {}\n\nrecord Record1(String foo) implements Interface1 {}\n\n...\n\nRecord1 rec1 = new Record1(&quot;foo&quot;);\nboolean isInstanceOf = false;\n\nif (rec1 instanceof Interface1){\n    isInstanceOf = true;\n}\n\n// isInstanceOf is still false\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677880933,"creation_date":1677866086,"answer_id":75630382,"question_id":75630276,"body_markdown":"For this use case, try using Postman and configure it to pass JSON to the API Gateway endpoint. The API Gateway endpoint passes the JSON to the Lambda function. So in my example here, I have configured an API Gateway endpoint that accepts a PUT request and accepts JSON that specifies a file name. \r\n\r\nThe Lambda function generates a presigned URL and returns it, as shown at bottom of screen shot.\r\n\r\nSee Postman sending the request: \r\n\r\n[![enter image description here][1]][1] \r\n\r\nThe Lambda function gets the value like this within the Lambda handler. No need for input streams or anything like that. Notice the string value you specify within **event.get()** matches the value in JSON. \r\n\r\n    public class UploadHandler implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\r\n    \r\n        @Override\r\n        public String handleRequest(Map&lt;String, String&gt; event, Context context) {\r\n            LambdaLogger logger = context.getLogger();\r\n            String fileName = event.get(&quot;filename&quot;);\r\n    \r\n    ...\r\n\r\nOf course, you have to setup your API gateway endpoint to use that specific Lambda function. Once you do - you can make requests, pass the JSON and the Lambda function can get the value(s). \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SL95Q.png","title":"Pass JSON file to a Java AWS Lambda Function via API Gateway","body":"<p>For this use case, try using Postman and configure it to pass JSON to the API Gateway endpoint. The API Gateway endpoint passes the JSON to the Lambda function. So in my example here, I have configured an API Gateway endpoint that accepts a PUT request and accepts JSON that specifies a file name.</p>\n<p>The Lambda function generates a presigned URL and returns it, as shown at bottom of screen shot.</p>\n<p>See Postman sending the request:</p>\n<p><a href=\"https://i.stack.imgur.com/SL95Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SL95Q.png\" alt=\"enter image description here\" /></a></p>\n<p>The Lambda function gets the value like this within the Lambda handler. No need for input streams or anything like that. Notice the string value you specify within <strong>event.get()</strong> matches the value in JSON.</p>\n<pre><code>public class UploadHandler implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\n\n    @Override\n    public String handleRequest(Map&lt;String, String&gt; event, Context context) {\n        LambdaLogger logger = context.getLogger();\n        String fileName = event.get(&quot;filename&quot;);\n\n...\n</code></pre>\n<p>Of course, you have to setup your API gateway endpoint to use that specific Lambda function. Once you do - you can make requests, pass the JSON and the Lambda function can get the value(s).</p>\n"}],"owner":{"account_id":27929273,"reputation":1,"user_id":21327713,"display_name":"Fabian Misch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677880988,"creation_date":1677865340,"question_id":75630276,"body_markdown":"I am testing a bit with AWS lambda functions and API Gateway and by now, I can not answer the following question to myself:\r\nWhat is the best practice to parse a JSON Body of a Request via an AWS API Gateway to a Lambda Function?\r\n\r\nI have written several Request Handlers, that parse a JSON Input using a map of String or even a default Java Class. This works quiet well when testing it and just passing the JSON definition to my Lambda function. But when it comes to the part, where I am using curl, the JSON data is, of course, in the request body and my Function is not extracting it. So I am wondering, what is the best way to parse JSON data that is in a Request Body via a Java Method? \r\n\r\nIs there a way to just pass the body through the AWS API Gateway? Or do I just have to use an inputStream in my Java Method and extract the JSON data on my own?\r\n\r\nThanks in advance!","title":"Pass JSON file to a Java AWS Lambda Function via API Gateway","body":"<p>I am testing a bit with AWS lambda functions and API Gateway and by now, I can not answer the following question to myself:\nWhat is the best practice to parse a JSON Body of a Request via an AWS API Gateway to a Lambda Function?</p>\n<p>I have written several Request Handlers, that parse a JSON Input using a map of String or even a default Java Class. This works quiet well when testing it and just passing the JSON definition to my Lambda function. But when it comes to the part, where I am using curl, the JSON data is, of course, in the request body and my Function is not extracting it. So I am wondering, what is the best way to parse JSON data that is in a Request Body via a Java Method?</p>\n<p>Is there a way to just pass the body through the AWS API Gateway? Or do I just have to use an inputStream in my Java Method and extract the JSON data on my own?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","unit-testing"],"answers":[{"comments":[{"owner":{"account_id":5479459,"reputation":1180,"user_id":4356398,"display_name":"BALA"},"score":0,"creation_date":1524464023,"post_id":49974344,"comment_id":86964792,"body_markdown":"faker is for creating fake data, but for creating an object with fake data for class, requires so much manual interaction.","body":"faker is for creating fake data, but for creating an object with fake data for class, requires so much manual interaction."},{"owner":{"account_id":1068225,"reputation":5459,"user_id":1068167,"accept_rate":97,"display_name":"span"},"score":0,"creation_date":1524464810,"post_id":49974344,"comment_id":86965148,"body_markdown":"Not really, you just write a loop to populate whichever objects you need.","body":"Not really, you just write a loop to populate whichever objects you need."}],"tags":[],"owner":{"account_id":1068225,"reputation":5459,"user_id":1068167,"accept_rate":97,"display_name":"span"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1524463373,"creation_date":1524463373,"answer_id":49974344,"question_id":49974306,"body_markdown":"You can use java Faker:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n        &lt;version&gt;0.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nExample usage:\r\n\r\n    Faker faker = new Faker();\r\n    \r\n    String name = faker.name().fullName(); // Miss Samanta Schmidt\r\n    String firstName = faker.name().firstName(); // Emory\r\n    String lastName = faker.name().lastName(); // Barton\r\n    \r\n    String streetAddress = faker.address().streetAddress(); // 60018 Sawayn Brooks Suite 449\r\n\r\nProject site: http://dius.github.io/java-faker/","title":"How to create object with fake data in java?","body":"<p>You can use java Faker:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;0.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>Faker faker = new Faker();\n\nString name = faker.name().fullName(); // Miss Samanta Schmidt\nString firstName = faker.name().firstName(); // Emory\nString lastName = faker.name().lastName(); // Barton\n\nString streetAddress = faker.address().streetAddress(); // 60018 Sawayn Brooks Suite 449\n</code></pre>\n\n<p>Project site: <a href=\"http://dius.github.io/java-faker/\" rel=\"nofollow noreferrer\">http://dius.github.io/java-faker/</a></p>\n"},{"comments":[{"owner":{"account_id":5479459,"reputation":1180,"user_id":4356398,"display_name":"BALA"},"score":0,"creation_date":1524463913,"post_id":49974351,"comment_id":86964750,"body_markdown":"Create an object with fake data, without manual interaction. If I use mockito, again I have to fake all required fields. Instead is there any ways to create object with fake data.","body":"Create an object with fake data, without manual interaction. If I use mockito, again I have to fake all required fields. Instead is there any ways to create object with fake data."}],"tags":[],"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524463406,"creation_date":1524463406,"answer_id":49974351,"question_id":49974306,"body_markdown":"You need not create `Parties` data if you are focussing on `Person` in your tests. You can always write like this:\r\n\r\n    Mockito.doReturn(new ArrayList()).when(your-mocked-person-object.getParties());","title":"How to create object with fake data in java?","body":"<p>You need not create <code>Parties</code> data if you are focussing on <code>Person</code> in your tests. You can always write like this:</p>\n\n<pre><code>Mockito.doReturn(new ArrayList()).when(your-mocked-person-object.getParties());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524464441,"creation_date":1524464441,"answer_id":49974570,"question_id":49974306,"body_markdown":"Here are some tricks that are often used for quick test data:\r\n\r\n1) Create one person object as a base (manually). Various tests need only to modify parts of the data, such as on change the last name, etc.\r\n\r\n2) Create a data generation utility, such as FakePersonCreator. It can use a combination of fixed strings and random data. Write a function that generates a person and have the tests use it.\r\n\r\n3) Use real data as your test data. You can record it from a real program run, and export it into a file. Then you have two options: \r\n\r\n - Read your test data from the file, on test run\r\n   \r\n - Write a utility that generates java code which builds the test\r\n   data  (person ) according to your data file\r\n\r\n4) Keep most of your test data (person) empty. Have each test only set the fields that it needs to check.\r\n\r\n5) Use a mocking framework (e.g. Mockito) to mock the test data. Create mock objects that only return the fields actually needed for testing.","title":"How to create object with fake data in java?","body":"<p>Here are some tricks that are often used for quick test data:</p>\n\n<p>1) Create one person object as a base (manually). Various tests need only to modify parts of the data, such as on change the last name, etc.</p>\n\n<p>2) Create a data generation utility, such as FakePersonCreator. It can use a combination of fixed strings and random data. Write a function that generates a person and have the tests use it.</p>\n\n<p>3) Use real data as your test data. You can record it from a real program run, and export it into a file. Then you have two options: </p>\n\n<ul>\n<li><p>Read your test data from the file, on test run</p></li>\n<li><p>Write a utility that generates java code which builds the test\ndata  (person ) according to your data file</p></li>\n</ul>\n\n<p>4) Keep most of your test data (person) empty. Have each test only set the fields that it needs to check.</p>\n\n<p>5) Use a mocking framework (e.g. Mockito) to mock the test data. Create mock objects that only return the fields actually needed for testing.</p>\n"},{"tags":[],"owner":{"account_id":5479459,"reputation":1180,"user_id":4356398,"display_name":"BALA"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1524482460,"creation_date":1524482460,"answer_id":49979862,"question_id":49974306,"body_markdown":"Finally, I found a solution for fake the object data from the class by using PODAM library in Java without the manual interaction.\r\n\r\nWe can use Podam library to fake data for object.\r\n\r\n**Dependency**\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;podam&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.1.0.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**Code**\r\n\r\n    PodamFactory factory = new PodamFactoryImpl();\r\n\tPerson myPojo = factory.manufacturePojo(Person.class);\r\n\r\nRef: [PODAM][1]\r\n\r\n\r\n  [1]: http://mtedone.github.io/podam/index.html","title":"How to create object with fake data in java?","body":"<p>Finally, I found a solution for fake the object data from the class by using PODAM library in Java without the manual interaction.</p>\n\n<p>We can use Podam library to fake data for object.</p>\n\n<p><strong>Dependency</strong></p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\n        &lt;artifactId&gt;podam&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>PodamFactory factory = new PodamFactoryImpl();\nPerson myPojo = factory.manufacturePojo(Person.class);\n</code></pre>\n\n<p>Ref: <a href=\"http://mtedone.github.io/podam/index.html\" rel=\"noreferrer\">PODAM</a></p>\n"},{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677880239,"creation_date":1656046975,"answer_id":72739191,"question_id":49974306,"body_markdown":"You can do this with a one-liner using **Instancio**:\r\n\r\n```java\r\nPerson person = Instancio.create(Person.class);\r\n```\r\n\r\nThis returns a populated person including nested objects and collections. You can also use the builder API to customise generated values:\r\n\r\n```java\r\nPerson person = Instancio.of(Person.class)\r\n    .generate(field(&quot;age&quot;), gen -&gt; gen.ints().range(18, 65))\r\n    .create();\r\n```\r\n\r\nIf you use JUnit 5, you can also use it with `@ParameterizedTest`s:\r\n\r\n```java\r\n@ExtendWith(InstancioExtension.class)\r\nclass ExampleTest {\r\n\r\n    @ParameterizedTest\r\n    @InstancioSource\r\n    void example(Person person) {\r\n        // snip...\r\n    }\r\n}\r\n```\r\n\r\nYou can find more examples in the [Instancio user guide][1].\r\n\r\nhttps://www.github.com/instancio/instancio\r\n\r\nDisclaimer: I&#39;m the author of this library.\r\n\r\n  [1]: https://www.instancio.org","title":"How to create object with fake data in java?","body":"<p>You can do this with a one-liner using <strong>Instancio</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = Instancio.create(Person.class);\n</code></pre>\n<p>This returns a populated person including nested objects and collections. You can also use the builder API to customise generated values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = Instancio.of(Person.class)\n    .generate(field(&quot;age&quot;), gen -&gt; gen.ints().range(18, 65))\n    .create();\n</code></pre>\n<p>If you use JUnit 5, you can also use it with <code>@ParameterizedTest</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(InstancioExtension.class)\nclass ExampleTest {\n\n    @ParameterizedTest\n    @InstancioSource\n    void example(Person person) {\n        // snip...\n    }\n}\n</code></pre>\n<p>You can find more examples in the <a href=\"https://www.instancio.org\" rel=\"nofollow noreferrer\">Instancio user guide</a>.</p>\n<p><a href=\"https://www.github.com/instancio/instancio\" rel=\"nofollow noreferrer\">https://www.github.com/instancio/instancio</a></p>\n<p>Disclaimer: I'm the author of this library.</p>\n"}],"owner":{"account_id":5479459,"reputation":1180,"user_id":4356398,"display_name":"BALA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14331,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":5,"score":6,"last_activity_date":1677880239,"creation_date":1524463199,"question_id":49974306,"body_markdown":"Suppose if I want to create an object with fake data for `Person` class, manually It&#39;ll take too much time, And `Person` class internally contains `Parties` class. \r\nIs there any simple ways to create Object with fake data. \r\nBy using mockito we can create object, but again manually faking data is difficult.\r\n\r\n    class Person {\r\n    \tint age;\r\n    \tArrayList&lt;Parties&gt; parties;\r\n    \r\n    \tpublic int getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic void setAge(int age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic ArrayList&lt;Parties&gt; getParties() {\r\n    \t\treturn parties;\r\n    \t}\r\n    \r\n    \tpublic void setParties(ArrayList&lt;Parties&gt; parties) {\r\n    \t\tthis.parties = parties;\r\n    \t}\r\n    }\r\n\r\n\r\n    class Parties {\r\n    \tprivate int date, month, year;\r\n    \r\n    \tpublic int getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(int date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \tpublic int getMonth() {\r\n    \t\treturn month;\r\n    \t}\r\n    \r\n    \tpublic void setMonth(int month) {\r\n    \t\tthis.month = month;\r\n    \t}\r\n    \r\n    \tpublic int getYear() {\r\n    \t\treturn year;\r\n    \t}\r\n    \r\n    \tpublic void setYear(int year) {\r\n    \t\tthis.year = year;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create object with fake data in java?","body":"<p>Suppose if I want to create an object with fake data for <code>Person</code> class, manually It'll take too much time, And <code>Person</code> class internally contains <code>Parties</code> class. \nIs there any simple ways to create Object with fake data. \nBy using mockito we can create object, but again manually faking data is difficult.</p>\n\n<pre><code>class Person {\n    int age;\n    ArrayList&lt;Parties&gt; parties;\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public ArrayList&lt;Parties&gt; getParties() {\n        return parties;\n    }\n\n    public void setParties(ArrayList&lt;Parties&gt; parties) {\n        this.parties = parties;\n    }\n}\n\n\nclass Parties {\n    private int date, month, year;\n\n    public int getDate() {\n        return date;\n    }\n\n    public void setDate(int date) {\n        this.date = date;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public void setMonth(int month) {\n        this.month = month;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1677880120,"post_id":75625901,"comment_id":133431445,"body_markdown":"Why do you want to use multiple security filter chains? You could use only one filter chain.","body":"Why do you want to use multiple security filter chains? You could use only one filter chain."},{"owner":{"account_id":2412143,"reputation":813,"user_id":2106997,"accept_rate":75,"display_name":"Ole K"},"score":0,"creation_date":1678012076,"post_id":75625901,"comment_id":133447307,"body_markdown":"Project is build up modular. So a module may provide additional `requestMatcher`","body":"Project is build up modular. So a module may provide additional <code>requestMatcher</code>"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1678012353,"post_id":75625901,"comment_id":133447344,"body_markdown":"As dmitriys already wrote, there is no way to merge it out of the box, you have to implement it by yourself. dmitriys&#39; answer is a nivce workaround. Every module needs its own  URL sub path.","body":"As dmitriys already wrote, there is no way to merge it out of the box, you have to implement it by yourself. dmitriys&#39; answer is a nivce workaround. Every module needs its own  URL sub path."}],"answers":[{"comments":[{"owner":{"account_id":2412143,"reputation":813,"user_id":2106997,"accept_rate":75,"display_name":"Ole K"},"score":0,"creation_date":1678088002,"post_id":75631735,"comment_id":133458498,"body_markdown":"I only notice a differences in the response status, when an endpoint does not exists while using `securityMatcher`. Instead of HTTP Status 403 I now get HTTP Status 404 Not found","body":"I only notice a differences in the response status, when an endpoint does not exists while using <code>securityMatcher</code>. Instead of HTTP Status 403 I now get HTTP Status 404 Not found"},{"owner":{"account_id":3058717,"reputation":182,"user_id":2591854,"accept_rate":75,"display_name":"user2591854"},"score":0,"creation_date":1695238947,"post_id":75631735,"comment_id":135999522,"body_markdown":"I was porting an application from Spring Boot 2 --&gt; 3 and ran into this problem.  I had two `SecurityFilterChain` `@Beans` configured, but using the `@Order` annotation.  SB3 ignored this ordering and sent all requests to the 1st `SecurityFilterChain` - this prevented any of the form login stuff from running since everything was denied.  I removed the `@Order` annotation on both beans and added `.securityMatcher(&quot;/api/core/**&quot;)` to the first one - this then allowed the browser initiated requests to hit the 2nd `SecurityFilterChain`.","body":"I was porting an application from Spring Boot 2 --&gt; 3 and ran into this problem.  I had two <code>SecurityFilterChain</code> <code>@Beans</code> configured, but using the <code>@Order</code> annotation.  SB3 ignored this ordering and sent all requests to the 1st <code>SecurityFilterChain</code> - this prevented any of the form login stuff from running since everything was denied.  I removed the <code>@Order</code> annotation on both beans and added <code>.securityMatcher(&quot;&#47;api&#47;core&#47;**&quot;)</code> to the first one - this then allowed the browser initiated requests to hit the 2nd <code>SecurityFilterChain</code>."}],"tags":[],"owner":{"account_id":4927037,"reputation":36,"user_id":3968018,"display_name":"dmitriys"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677880234,"creation_date":1677876452,"answer_id":75631735,"question_id":75625901,"body_markdown":"As I understand. `SecurityFilterChain` beans do not merge `requestMatchers` they just execute matched filters.\r\n\r\nOption that may work (didn&#39;t check):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .securityMatcher(&quot;/api/core/**&quot;)\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(&quot;/api/core/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n            );\r\n        \r\n        return http.build();\r\n    }\r\n    @Bean\r\n    public SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\r\n        http\r\n            .securityMatcher(&quot;/api/module2/**&quot;)\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(&quot;/api/module2/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n        );\r\n    \r\n        return http.build();\r\n    }","title":"How to add additional requestMatchers in multiple SecurityFilterChain?","body":"<p>As I understand. <code>SecurityFilterChain</code> beans do not merge <code>requestMatchers</code> they just execute matched filters.</p>\n<p>Option that may work (didn't check):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .securityMatcher(&quot;/api/core/**&quot;)\n        .authorizeHttpRequests(auth -&gt; auth\n            .requestMatchers(&quot;/api/core/**&quot;).permitAll()\n            .anyRequest().authenticated()\n        );\n    \n    return http.build();\n}\n@Bean\npublic SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\n    http\n        .securityMatcher(&quot;/api/module2/**&quot;)\n        .authorizeHttpRequests(auth -&gt; auth\n            .requestMatchers(&quot;/api/module2/**&quot;).permitAll()\n            .anyRequest().authenticated()\n    );\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":2412143,"reputation":813,"user_id":2106997,"accept_rate":75,"display_name":"Ole K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75631735,"answer_count":1,"score":0,"last_activity_date":1677880234,"creation_date":1677839357,"question_id":75625901,"body_markdown":"Lets assume I am adding some security in Spring Boot 3 using the `SecurityFilterChain` `@Bean` multiple times.\r\n\r\nThe first `@Bean` looks as follow:\r\n\r\n&lt;!-- laguage: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeHttpRequests(auth -&gt; auth\r\n\t\t\t.requestMatchers(&quot;/api/core/**&quot;).permitAll()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nWhile the second `@Bean` is supposed to add **additional `requestMatchers`**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeHttpRequests(auth -&gt; auth\r\n\t\t\t.requestMatchers(&quot;/api/module2/**&quot;).permitAll()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nUnfortunately, the second method `filterChainAdditional` is correctly called in the expected order.\r\n**But it does not extend the `requestMatchers`**.\r\n\r\nEven more curious in the second bean all `requestMatchers` seem to be unavailable in the `HttpSecurity` context.\r\n\r\nAnyone has an idea how to solve this probably?","title":"How to add additional requestMatchers in multiple SecurityFilterChain?","body":"<p>Lets assume I am adding some security in Spring Boot 3 using the <code>SecurityFilterChain</code> <code>@Bean</code> multiple times.</p>\n<p>The first <code>@Bean</code> looks as follow:</p>\n\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(auth -&gt; auth\n        .requestMatchers(&quot;/api/core/**&quot;).permitAll()\n        .anyRequest().authenticated()\n    );\n\n    return http.build();\n}\n</code></pre>\n<p>While the second <code>@Bean</code> is supposed to add <strong>additional <code>requestMatchers</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(auth -&gt; auth\n        .requestMatchers(&quot;/api/module2/**&quot;).permitAll()\n        .anyRequest().authenticated()\n    );\n\n    return http.build();\n}\n</code></pre>\n<p>Unfortunately, the second method <code>filterChainAdditional</code> is correctly called in the expected order.\n<strong>But it does not extend the <code>requestMatchers</code></strong>.</p>\n<p>Even more curious in the second bean all <code>requestMatchers</code> seem to be unavailable in the <code>HttpSecurity</code> context.</p>\n<p>Anyone has an idea how to solve this probably?</p>\n"},{"tags":["java","weblogic","consul","spring-cloud-consul","sidecar"],"owner":{"account_id":19360818,"reputation":1,"user_id":14156095,"display_name":"Angelo G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677879820,"creation_date":1677879820,"question_id":75632130,"body_markdown":"I am trying to register all the manage servers running in WebLogic 12 in Consul Discovery Server. In order do do that, I create a war project with **spring-cloud-consul** dependency. This is a spring-boot application. application run with each manage server in WebLogic server.\r\n\r\nHere is the pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nweblogic.xml\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n...\r\n\t&lt;container-descriptor&gt;\r\n\t\t&lt;gzip-compression&gt;\r\n\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;min-content-length&gt;4096&lt;/min-content-length&gt;\r\n\t\t\t&lt;content-type&gt;text/html&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/xml&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;application/json&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;application/x-javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;application/javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/x-javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/x-json&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/css&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/plain&lt;/content-type&gt;\r\n\t\t&lt;/gzip-compression&gt;\r\n\t\t&lt;servlet-reload-check-secs&gt;-1&lt;/servlet-reload-check-secs&gt;\r\n\t\t&lt;prefer-application-packages&gt;\r\n\t\t\t&lt;package-name&gt;org.slf4j.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.springframework.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;com.ecwid.consul.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- jsr311 --&gt;\r\n\t\t\t&lt;package-name&gt;javax.ws.rs.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- javassist --&gt;\r\n\t\t\t&lt;package-name&gt;javassist.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- aop repackaged --&gt;\r\n\t\t\t&lt;package-name&gt;org.aopalliance.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- jersey 2 --&gt;\r\n\t\t\t&lt;package-name&gt;jersey.repackaged.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.glassfish.jersey.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;com.sun.research.ws.wadl.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- hk2 --&gt;\r\n\t\t\t&lt;package-name&gt;org.glassfish.hk2.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.jvnet.hk2.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.jvnet.tiger_types.*&lt;/package-name&gt;\r\n\t\t&lt;/prefer-application-packages&gt;\r\n\r\n\t\t&lt;prefer-application-resources&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/javax.servlet.ServletContainerInitializer&lt;/resource-name&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/javax.ws.rs.ext.RuntimeDelegate&lt;/resource-name&gt;\r\n\t\t\t&lt;!-- jersey --&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/resource-name&gt;\r\n\t\t\t&lt;resource-name&gt;org.glassfish.jersey.*&lt;/resource-name&gt;\r\n\t\t\t&lt;resource-name&gt;jersey.repackaged.*&lt;/resource-name&gt;\r\n\t\t\t&lt;!-- hk2 --&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/resource-name&gt;\r\n\t\t&lt;/prefer-application-resources&gt;\r\n\t&lt;/container-descriptor&gt;\r\n\t&lt;jsp-descriptor&gt;\r\n\t\t&lt;page-check-seconds&gt;-1&lt;/page-check-seconds&gt;\r\n\t&lt;/jsp-descriptor&gt;\r\n&lt;/weblogic-web-app&gt;\r\n```\r\n\r\nWhen I run the consul client as a standalone app it run and register to the consul server fine. But when the consul client run with weblogic with each manage server, the application starts fine but it never get register into the consul server. I don&#39;t see any exception in the logs that can explain the root cause.\r\n\r\nWhen I run the client as a standalone I can see in the logs how it get register into the server.\r\n\r\nI also tried to shutdown the consul server in order to see what happens. The result is that I get an exception telling me that the client cannot reach the server. So it tells me that the client is trying to get to the server in some way.\r\n\r\nAny idea why this is happening? Once I tried to do the same with eureka and had no issues.\r\n\r\nThanks,","title":"Failed to run spring-boot-consul client in weblogic","body":"<p>I am trying to register all the manage servers running in WebLogic 12 in Consul Discovery Server. In order do do that, I create a war project with <strong>spring-cloud-consul</strong> dependency. This is a spring-boot application. application run with each manage server in WebLogic server.</p>\n<p>Here is the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>weblogic.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n...\n    &lt;container-descriptor&gt;\n        &lt;gzip-compression&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;min-content-length&gt;4096&lt;/min-content-length&gt;\n            &lt;content-type&gt;text/html&lt;/content-type&gt;\n            &lt;content-type&gt;text/xml&lt;/content-type&gt;\n            &lt;content-type&gt;application/json&lt;/content-type&gt;\n            &lt;content-type&gt;application/x-javascript&lt;/content-type&gt;\n            &lt;content-type&gt;application/javascript&lt;/content-type&gt;\n            &lt;content-type&gt;text/javascript&lt;/content-type&gt;\n            &lt;content-type&gt;text/x-javascript&lt;/content-type&gt;\n            &lt;content-type&gt;text/x-json&lt;/content-type&gt;\n            &lt;content-type&gt;text/css&lt;/content-type&gt;\n            &lt;content-type&gt;text/plain&lt;/content-type&gt;\n        &lt;/gzip-compression&gt;\n        &lt;servlet-reload-check-secs&gt;-1&lt;/servlet-reload-check-secs&gt;\n        &lt;prefer-application-packages&gt;\n            &lt;package-name&gt;org.slf4j.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.springframework.*&lt;/package-name&gt;\n            &lt;package-name&gt;com.ecwid.consul.*&lt;/package-name&gt;\n            &lt;!-- jsr311 --&gt;\n            &lt;package-name&gt;javax.ws.rs.*&lt;/package-name&gt;\n            &lt;!-- javassist --&gt;\n            &lt;package-name&gt;javassist.*&lt;/package-name&gt;\n            &lt;!-- aop repackaged --&gt;\n            &lt;package-name&gt;org.aopalliance.*&lt;/package-name&gt;\n            &lt;!-- jersey 2 --&gt;\n            &lt;package-name&gt;jersey.repackaged.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.glassfish.jersey.*&lt;/package-name&gt;\n            &lt;package-name&gt;com.sun.research.ws.wadl.*&lt;/package-name&gt;\n            &lt;!-- hk2 --&gt;\n            &lt;package-name&gt;org.glassfish.hk2.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.jvnet.hk2.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.jvnet.tiger_types.*&lt;/package-name&gt;\n        &lt;/prefer-application-packages&gt;\n\n        &lt;prefer-application-resources&gt;\n            &lt;resource-name&gt;META-INF/services/javax.servlet.ServletContainerInitializer&lt;/resource-name&gt;\n            &lt;resource-name&gt;META-INF/services/javax.ws.rs.ext.RuntimeDelegate&lt;/resource-name&gt;\n            &lt;!-- jersey --&gt;\n            &lt;resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/resource-name&gt;\n            &lt;resource-name&gt;org.glassfish.jersey.*&lt;/resource-name&gt;\n            &lt;resource-name&gt;jersey.repackaged.*&lt;/resource-name&gt;\n            &lt;!-- hk2 --&gt;\n            &lt;resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/resource-name&gt;\n        &lt;/prefer-application-resources&gt;\n    &lt;/container-descriptor&gt;\n    &lt;jsp-descriptor&gt;\n        &lt;page-check-seconds&gt;-1&lt;/page-check-seconds&gt;\n    &lt;/jsp-descriptor&gt;\n&lt;/weblogic-web-app&gt;\n</code></pre>\n<p>When I run the consul client as a standalone app it run and register to the consul server fine. But when the consul client run with weblogic with each manage server, the application starts fine but it never get register into the consul server. I don't see any exception in the logs that can explain the root cause.</p>\n<p>When I run the client as a standalone I can see in the logs how it get register into the server.</p>\n<p>I also tried to shutdown the consul server in order to see what happens. The result is that I get an exception telling me that the client cannot reach the server. So it tells me that the client is trying to get to the server in some way.</p>\n<p>Any idea why this is happening? Once I tried to do the same with eureka and had no issues.</p>\n<p>Thanks,</p>\n"},{"tags":["java","kotlin","google-drive-api","android-jetpack-compose"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1677896087,"post_id":75632121,"comment_id":133433532,"body_markdown":"&quot;Is that a Java pratice to wrap everything in class ?&quot; Yes, Java requires that everything be wrapped in a class.  Kotlin hides that implementation detail from you, although it still happens in the bytecode.","body":"&quot;Is that a Java pratice to wrap everything in class ?&quot; Yes, Java requires that everything be wrapped in a class.  Kotlin hides that implementation detail from you, although it still happens in the bytecode."},{"owner":{"account_id":18265720,"reputation":109,"user_id":13297517,"display_name":"Tessan"},"score":0,"creation_date":1677938052,"post_id":75632121,"comment_id":133437896,"body_markdown":"ok I see! Do you know what&#39;s wrong with the import ?","body":"ok I see! Do you know what&#39;s wrong with the import ?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1677979046,"post_id":75632121,"comment_id":133444204,"body_markdown":"I&#39;m not sure.  I&#39;m guessing here, but [this page](https://cloud.google.com/java/docs/reference/google-auth-library/latest/com.google.auth.http.HttpCredentialsAdapter) suggests that at least `HttpCredentialsAdapter` is part of [google-auth-library](https://github.com/googleapis/google-auth-library-java), so try adding that dependency.","body":"I&#39;m not sure.  I&#39;m guessing here, but <a href=\"https://cloud.google.com/java/docs/reference/google-auth-library/latest/com.google.auth.http.HttpCredentialsAdapter\" rel=\"nofollow noreferrer\">this page</a> suggests that at least <code>HttpCredentialsAdapter</code> is part of <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">google-auth-library</a>, so try adding that dependency."}],"owner":{"account_id":18265720,"reputation":109,"user_id":13297517,"display_name":"Tessan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677879721,"creation_date":1677879721,"question_id":75632121,"body_markdown":"Firstly, I don&#39;t know if it&#39;s important to specify it but I&#39;m using Jetpack compose and I&#39;m a beginner in Android development. \r\n\r\nI&#39;m building an app that should communicate with Google Drive in order to upload and download light datas. For that, I tried to add these dependencies in the build.gradle file of my app (as recommended in this [doc page][1]):\r\n\r\n```Gradle\r\ndependencies {\r\n    implementation &#39;com.google.api-client:google-api-client:2.0.0&#39;\r\n    implementation &#39;com.google.oauth-client:google-oauth-client-jetty:1.34.1&#39;\r\n    implementation &#39;com.google.apis:google-api-services-drive:v3-rev20220815-2.0.0&#39;\r\n}\r\n```\r\n\r\nThen I just copy-pasted [this][2] Java sample code in my project and I used the &quot;convert Java to Kotlin&quot; feature of android studio to convert the sample to kotlin code. You can see the result of this conversion here:\r\n\r\n```Kotlin\r\nimport com.google.api.client.googleapis.json.GoogleJsonResponseException\r\nimport com.google.api.client.http.HttpRequestInitializer\r\nimport com.google.api.client.http.javanet.NetHttpTransport\r\nimport com.google.api.client.json.gson.GsonFactory\r\nimport com.google.api.services.drive.Drive\r\nimport com.google.api.services.drive.DriveScopes\r\nimport com.google.auth.http.HttpCredentialsAdapter\r\nimport com.google.auth.oauth2.GoogleCredentials\r\nimport java.io.ByteArrayOutputStream\r\nimport java.io.IOException\r\nimport java.io.OutputStream\r\nimport java.util.*\r\n\r\n/* Class to demonstrate use-case of drive&#39;s download file. */\r\nobject DownloadFile {\r\n    /**\r\n     * Download a Document file in PDF format.\r\n     *\r\n     * @param realFileId file ID of any workspace document format file.\r\n     * @return byte array stream if successful, `null` otherwise.\r\n     * @throws IOException if service account credentials file not found.\r\n     */\r\n    @Throws(IOException::class)\r\n    fun downloadFile(realFileId: String?): ByteArrayOutputStream {\r\n        /* Load pre-authorized user credentials from the environment.\r\n           TODO(developer) - See https://developers.google.com/identity for\r\n          guides on implementing OAuth2 for your application.*/\r\n        val credentials: GoogleCredentials = GoogleCredentials.getApplicationDefault()\r\n            .createScoped(Arrays.asList(DriveScopes.DRIVE_FILE))\r\n        val requestInitializer: HttpRequestInitializer = HttpCredentialsAdapter(\r\n            credentials\r\n        )\r\n\r\n        // Build a new authorized API client service.\r\n        val service = Drive.Builder(\r\n            NetHttpTransport(),\r\n            GsonFactory.getDefaultInstance(),\r\n            requestInitializer\r\n        )\r\n            .setApplicationName(&quot;Drive samples&quot;)\r\n            .build()\r\n        return try {\r\n            val outputStream: OutputStream = ByteArrayOutputStream()\r\n            service.files()[realFileId]\r\n                .executeMediaAndDownloadTo(outputStream)\r\n            outputStream as ByteArrayOutputStream\r\n        } catch (e: GoogleJsonResponseException) {\r\n            // TODO(developer) - handle error appropriately\r\n            System.err.println(&quot;Unable to move file: &quot; + e.details)\r\n            throw e\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nBefore being able to run this code I have 2 importation issues. I can&#39;t import HttpCredentialsAdapter and GoogleCredentials. It seems that com.google.auth can&#39;t be found to import `com.google.auth.http.HttpCredentialsAdapter` and `com.google.auth.oauth2.GoogleCredentials`. What is the correct way to import these modules ?\r\n\r\nFurethermore, I find the sample code a little weird. Why not just create a function downloadFile(Id) directly rather than wrap it in a class DownloadFile? Is that a Java pratice to wrap everything in class ?\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/quickstart/java\r\n  [2]: https://developers.google.com/drive/api/guides/manage-uploads","title":"Communication between google drive API and jetpack compose app","body":"<p>Firstly, I don't know if it's important to specify it but I'm using Jetpack compose and I'm a beginner in Android development.</p>\n<p>I'm building an app that should communicate with Google Drive in order to upload and download light datas. For that, I tried to add these dependencies in the build.gradle file of my app (as recommended in this <a href=\"https://developers.google.com/drive/api/quickstart/java\" rel=\"nofollow noreferrer\">doc page</a>):</p>\n<pre><code>dependencies {\n    implementation 'com.google.api-client:google-api-client:2.0.0'\n    implementation 'com.google.oauth-client:google-oauth-client-jetty:1.34.1'\n    implementation 'com.google.apis:google-api-services-drive:v3-rev20220815-2.0.0'\n}\n</code></pre>\n<p>Then I just copy-pasted <a href=\"https://developers.google.com/drive/api/guides/manage-uploads\" rel=\"nofollow noreferrer\">this</a> Java sample code in my project and I used the &quot;convert Java to Kotlin&quot; feature of android studio to convert the sample to kotlin code. You can see the result of this conversion here:</p>\n<pre><code>import com.google.api.client.googleapis.json.GoogleJsonResponseException\nimport com.google.api.client.http.HttpRequestInitializer\nimport com.google.api.client.http.javanet.NetHttpTransport\nimport com.google.api.client.json.gson.GsonFactory\nimport com.google.api.services.drive.Drive\nimport com.google.api.services.drive.DriveScopes\nimport com.google.auth.http.HttpCredentialsAdapter\nimport com.google.auth.oauth2.GoogleCredentials\nimport java.io.ByteArrayOutputStream\nimport java.io.IOException\nimport java.io.OutputStream\nimport java.util.*\n\n/* Class to demonstrate use-case of drive's download file. */\nobject DownloadFile {\n    /**\n     * Download a Document file in PDF format.\n     *\n     * @param realFileId file ID of any workspace document format file.\n     * @return byte array stream if successful, `null` otherwise.\n     * @throws IOException if service account credentials file not found.\n     */\n    @Throws(IOException::class)\n    fun downloadFile(realFileId: String?): ByteArrayOutputStream {\n        /* Load pre-authorized user credentials from the environment.\n           TODO(developer) - See https://developers.google.com/identity for\n          guides on implementing OAuth2 for your application.*/\n        val credentials: GoogleCredentials = GoogleCredentials.getApplicationDefault()\n            .createScoped(Arrays.asList(DriveScopes.DRIVE_FILE))\n        val requestInitializer: HttpRequestInitializer = HttpCredentialsAdapter(\n            credentials\n        )\n\n        // Build a new authorized API client service.\n        val service = Drive.Builder(\n            NetHttpTransport(),\n            GsonFactory.getDefaultInstance(),\n            requestInitializer\n        )\n            .setApplicationName(&quot;Drive samples&quot;)\n            .build()\n        return try {\n            val outputStream: OutputStream = ByteArrayOutputStream()\n            service.files()[realFileId]\n                .executeMediaAndDownloadTo(outputStream)\n            outputStream as ByteArrayOutputStream\n        } catch (e: GoogleJsonResponseException) {\n            // TODO(developer) - handle error appropriately\n            System.err.println(&quot;Unable to move file: &quot; + e.details)\n            throw e\n        }\n    }\n}\n\n</code></pre>\n<p>Before being able to run this code I have 2 importation issues. I can't import HttpCredentialsAdapter and GoogleCredentials. It seems that com.google.auth can't be found to import <code>com.google.auth.http.HttpCredentialsAdapter</code> and <code>com.google.auth.oauth2.GoogleCredentials</code>. What is the correct way to import these modules ?</p>\n<p>Furethermore, I find the sample code a little weird. Why not just create a function downloadFile(Id) directly rather than wrap it in a class DownloadFile? Is that a Java pratice to wrap everything in class ?</p>\n"},{"tags":["java","spring","proxy","annotations"],"comments":[{"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"score":0,"creation_date":1550525601,"post_id":54755339,"comment_id":96292886,"body_markdown":"Possibly because when someone implements an interface, they can use whatever parameter names they want to (they don&#39;t have to match the interface definition).","body":"Possibly because when someone implements an interface, they can use whatever parameter names they want to (they don&#39;t have to match the interface definition)."},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":1,"creation_date":1550529038,"post_id":54755339,"comment_id":96294120,"body_markdown":"[This answer](https://stackoverflow.com/a/41357607/3591528) has some details, but basically there isn&#39;t enough debug info on interfaces for Spring to discover the parameter name by reflection (unless you jump through some hoops).","body":"<a href=\"https://stackoverflow.com/a/41357607/3591528\">This answer</a> has some details, but basically there isn&#39;t enough debug info on interfaces for Spring to discover the parameter name by reflection (unless you jump through some hoops)."}],"owner":{"account_id":13016118,"reputation":21,"user_id":9407292,"display_name":"Khalanirek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677879643,"creation_date":1550523929,"question_id":54755339,"body_markdown":"I have interface `UserController` and class `UserControllerImpl`.\r\nWhen I add `@RequestMapping` and `@PathVariable` in `UserControllerImpl` and I am using proxy based on class I am able to get user using this URL:\r\n\r\nGET: `http://localhost:8080/company-control/users/25`\r\n\r\nWhen I change proxy to based on interface and add `@RequestMapping` and `@PatyVariable` to interface I am not able to get it and I receive following error:\r\n\r\n&gt; Request processing failed; nested exception is java.lang.IllegalArgumentException: Name for argument type [int] not available, and parameter name information not found in class file either.\r\n\r\nI am able to solve this issue adding `userId` to `@PathVariable`.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @GetMapping(&quot;/{userId}&quot;)\r\n    public User getUser(@PathVariable(&quot;userId&quot;) int userId);\r\n\r\nCould someone explain me why I have to add `userId` to `@PathVariable` if I use the same variable name?\r\n\r\nIs it connected with proxy?","title":"@PathVariable annotation works different with proxy based on Interface/Class","body":"<p>I have interface <code>UserController</code> and class <code>UserControllerImpl</code>.\nWhen I add <code>@RequestMapping</code> and <code>@PathVariable</code> in <code>UserControllerImpl</code> and I am using proxy based on class I am able to get user using this URL:</p>\n<p>GET: <code>http://localhost:8080/company-control/users/25</code></p>\n<p>When I change proxy to based on interface and add <code>@RequestMapping</code> and <code>@PatyVariable</code> to interface I am not able to get it and I receive following error:</p>\n<blockquote>\n<p>Request processing failed; nested exception is java.lang.IllegalArgumentException: Name for argument type [int] not available, and parameter name information not found in class file either.</p>\n</blockquote>\n<p>I am able to solve this issue adding <code>userId</code> to <code>@PathVariable</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/{userId}&quot;)\npublic User getUser(@PathVariable(&quot;userId&quot;) int userId);\n</code></pre>\n<p>Could someone explain me why I have to add <code>userId</code> to <code>@PathVariable</code> if I use the same variable name?</p>\n<p>Is it connected with proxy?</p>\n"},{"tags":["java","spring-mvc","httpclient","inputstream","closeablehttpresponse"],"answers":[{"comments":[{"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"score":0,"creation_date":1677880160,"post_id":75632113,"comment_id":133431452,"body_markdown":"Thank you for the answer! Could you make the things clear for me: if I&#39;m downloading a large file which size is 200MB, would this file take up that much space in the application memory with this method?","body":"Thank you for the answer! Could you make the things clear for me: if I&#39;m downloading a large file which size is 200MB, would this file take up that much space in the application memory with this method?"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1677885082,"post_id":75632113,"comment_id":133432332,"body_markdown":"Yes if that&#39;s the case, save the file to the disk using FileOutputStream and use FileSystemResource to send it  alternatively you can use UrlResource","body":"Yes if that&#39;s the case, save the file to the disk using FileOutputStream and use FileSystemResource to send it  alternatively you can use UrlResource"}],"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677879581,"creation_date":1677879581,"answer_id":75632113,"question_id":75632079,"body_markdown":"You can always create a copy of the InputStream obtained from the HttpEntity and use the copy to create the InputStreamResource that is returned in the ResponseEntity. This way, the original InputStream obtained from the HttpEntity can be safely closed before the ResponseEntity is returned.\r\n\r\n    InputStream inputStream = entity.getContent();\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    IOUtils.copy(inputStream, outputStream);\r\n    byte[] contentBytes = outputStream.toByteArray();\r\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(contentBytes);\r\n    InputStreamResource inputStreamResource = new InputStreamResource(byteArrayInputStream);\r\n\r\n\r\nOr save use the byte[] and use it to return `ByteArrayResource` instead of `InputStreamResource`","title":"Close CloseableHttpResponse after returning InputStream Spring MVC","body":"<p>You can always create a copy of the InputStream obtained from the HttpEntity and use the copy to create the InputStreamResource that is returned in the ResponseEntity. This way, the original InputStream obtained from the HttpEntity can be safely closed before the ResponseEntity is returned.</p>\n<pre><code>InputStream inputStream = entity.getContent();\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\nIOUtils.copy(inputStream, outputStream);\nbyte[] contentBytes = outputStream.toByteArray();\nByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(contentBytes);\nInputStreamResource inputStreamResource = new InputStreamResource(byteArrayInputStream);\n</code></pre>\n<p>Or save use the byte[] and use it to return <code>ByteArrayResource</code> instead of <code>InputStreamResource</code></p>\n"}],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677879581,"creation_date":1677879285,"question_id":75632079,"body_markdown":"My controller method returns InputStreamResource in response body. I&#39;am getting InputStream from the CloseableHttpResponse in the TRY block and I close CloseableHttpResponse in FINALLY block. \r\n\r\n*The problem is that finally is called before the return and there is no chance to create InputStreamResource from the InputStream because CloseableHttpResponse is already closed*. \r\n\r\nWhat could be a possible solution in this case? Can I somehow close CloseableHttpResponse after returning InputStreamResource? I really need to use **CloseableHttpClient** and the method should return some **stream**.\r\n\r\n```\r\n    public ResponseEntity&lt;InputStreamResource&gt; getFileAsStream(@PathVariable(&quot;uuid&quot;) String uuid) throws IOException, InterruptedException {\r\n        CloseableHttpResponse response = fileService.importFileByUuid(uuid);\r\n        try {\r\n            HttpEntity entity = response.getEntity();\r\n            HttpHeaders responseHeaders = new HttpHeaders();\r\n            responseHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(entity.getContentLength()));\r\n            responseHeaders.add(HttpHeaders.CONTENT_TYPE, entity.getContentType().getValue());\r\n            responseHeaders.add(HttpHeaders.CONTENT_DISPOSITION, response.getFirstHeader(HttpHeaders.CONTENT_DISPOSITION).getValue());\r\n\r\n            if (entity != null) {\r\n                InputStream inputStream = entity.getContent();\r\n                InputStreamResource inputStreamResource = new InputStreamResource(inputStream);\r\n                return ResponseEntity.ok()\r\n                            .headers(responseHeaders)\r\n                            .body(inputStreamResource);\r\n            }\r\n            throw new IllegalStateException(String.format(\r\n                    &quot;Error during stream downloading, uuid = %s&quot;, uuid));\r\n        } finally {\r\n            response.close();\r\n        }\r\n    } \r\n```","title":"Close CloseableHttpResponse after returning InputStream Spring MVC","body":"<p>My controller method returns InputStreamResource in response body. I'am getting InputStream from the CloseableHttpResponse in the TRY block and I close CloseableHttpResponse in FINALLY block.</p>\n<p><em>The problem is that finally is called before the return and there is no chance to create InputStreamResource from the InputStream because CloseableHttpResponse is already closed</em>.</p>\n<p>What could be a possible solution in this case? Can I somehow close CloseableHttpResponse after returning InputStreamResource? I really need to use <strong>CloseableHttpClient</strong> and the method should return some <strong>stream</strong>.</p>\n<pre><code>    public ResponseEntity&lt;InputStreamResource&gt; getFileAsStream(@PathVariable(&quot;uuid&quot;) String uuid) throws IOException, InterruptedException {\n        CloseableHttpResponse response = fileService.importFileByUuid(uuid);\n        try {\n            HttpEntity entity = response.getEntity();\n            HttpHeaders responseHeaders = new HttpHeaders();\n            responseHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(entity.getContentLength()));\n            responseHeaders.add(HttpHeaders.CONTENT_TYPE, entity.getContentType().getValue());\n            responseHeaders.add(HttpHeaders.CONTENT_DISPOSITION, response.getFirstHeader(HttpHeaders.CONTENT_DISPOSITION).getValue());\n\n            if (entity != null) {\n                InputStream inputStream = entity.getContent();\n                InputStreamResource inputStreamResource = new InputStreamResource(inputStream);\n                return ResponseEntity.ok()\n                            .headers(responseHeaders)\n                            .body(inputStreamResource);\n            }\n            throw new IllegalStateException(String.format(\n                    &quot;Error during stream downloading, uuid = %s&quot;, uuid));\n        } finally {\n            response.close();\n        }\n    } \n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":5167849,"reputation":323,"user_id":4137300,"accept_rate":50,"display_name":"Aleksey Kurkov"},"score":0,"creation_date":1601505708,"post_id":64146396,"comment_id":113433100,"body_markdown":"Where user is logged in? To java application? To spring application? Or to postgres?","body":"Where user is logged in? To java application? To spring application? Or to postgres?"},{"owner":{"account_id":15184804,"reputation":223,"user_id":10957904,"display_name":"Blacit"},"score":0,"creation_date":1601505878,"post_id":64146396,"comment_id":113433143,"body_markdown":"I&#39;m sorry, I forgot to add. Yes. the application is on spring-boot and hibernate, I want to make logs in the table.","body":"I&#39;m sorry, I forgot to add. Yes. the application is on spring-boot and hibernate, I want to make logs in the table."}],"answers":[{"comments":[{"owner":{"account_id":15184804,"reputation":223,"user_id":10957904,"display_name":"Blacit"},"score":0,"creation_date":1601507289,"post_id":64146890,"comment_id":113433487,"body_markdown":"Yes, it&#39;s all ready, I have a full-fledged code) can you show how it will look exactly using SQL queries?) this is exactly what I need, because I already have a full-fledged project :)","body":"Yes, it&#39;s all ready, I have a full-fledged code) can you show how it will look exactly using SQL queries?) this is exactly what I need, because I already have a full-fledged project :)"},{"owner":{"account_id":5167849,"reputation":323,"user_id":4137300,"accept_rate":50,"display_name":"Aleksey Kurkov"},"score":0,"creation_date":1601509516,"post_id":64146890,"comment_id":113433937,"body_markdown":"I&#39;ve added code example. There is no SQL querries, because spring boot will do all job for you :) just create new Log object and save it to repository","body":"I&#39;ve added code example. There is no SQL querries, because spring boot will do all job for you :) just create new Log object and save it to repository"}],"tags":[],"owner":{"account_id":5167849,"reputation":323,"user_id":4137300,"accept_rate":50,"display_name":"Aleksey Kurkov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601509273,"creation_date":1601506806,"answer_id":64146890,"question_id":64146396,"body_markdown":"My plan of implementing your example.\r\n\r\n1) Create login page (login, password) with url mapping `/login`. When user writes his credentials, a controller redirects him from `/login` to `/success-login` page. \r\n\r\n2) Create controller with get mapping `/success-login`. When user gets to this page, it means that he is logged in. So here you can write an sql query to postgres table, something like `id=&quot;1&quot;, user=&quot;user1&quot;, event=&quot;log in&quot;`\r\n\r\nModel:\r\n\r\n    @Entity\r\n    public class Log {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        String user;\r\n        String event;\r\n    \r\n    // getters, setters, equals, hashcode ...\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface LogRepository extends CrudRepository&lt;Log, Long&gt; {\r\n    }\r\n\r\nController:\r\n\r\n    @Controller\r\n    public class LoginController {\r\n        @Autowired\r\n        LogRepository logRepository;\r\n    \r\n        @GetMapping(&quot;/login-success&quot;)\r\n        public String loginSuccess() {\r\n            Log log = new Log();\r\n            log.setUser(&quot;user1&quot;);\r\n            log.setEvent(&quot;log in&quot;);\r\n            logRepository.save(log);\r\n            return &quot;login-success&quot;;\r\n        }\r\n    }\r\n\r\n","title":"How to write Springboot application logs to a postgresql database","body":"<p>My plan of implementing your example.</p>\n<ol>\n<li><p>Create login page (login, password) with url mapping <code>/login</code>. When user writes his credentials, a controller redirects him from <code>/login</code> to <code>/success-login</code> page.</p>\n</li>\n<li><p>Create controller with get mapping <code>/success-login</code>. When user gets to this page, it means that he is logged in. So here you can write an sql query to postgres table, something like <code>id=&quot;1&quot;, user=&quot;user1&quot;, event=&quot;log in&quot;</code></p>\n</li>\n</ol>\n<p>Model:</p>\n<pre><code>@Entity\npublic class Log {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    String user;\n    String event;\n\n// getters, setters, equals, hashcode ...\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface LogRepository extends CrudRepository&lt;Log, Long&gt; {\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class LoginController {\n    @Autowired\n    LogRepository logRepository;\n\n    @GetMapping(&quot;/login-success&quot;)\n    public String loginSuccess() {\n        Log log = new Log();\n        log.setUser(&quot;user1&quot;);\n        log.setEvent(&quot;log in&quot;);\n        logRepository.save(log);\n        return &quot;login-success&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15184804,"reputation":223,"user_id":10957904,"display_name":"Blacit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1601542637,"accepted_answer_id":64146890,"answer_count":1,"score":0,"last_activity_date":1677878885,"creation_date":1601503506,"question_id":64146396,"body_markdown":"How you can implement transactions in the database, like logging? For example, the user is logged in and this is immediately written to the table.","title":"How to write Springboot application logs to a postgresql database","body":"<p>How you can implement transactions in the database, like logging? For example, the user is logged in and this is immediately written to the table.</p>\n"},{"tags":["java","json","spring","controller"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876245,"post_id":75631690,"comment_id":133430636,"body_markdown":"Do you have the `spring-boot-starter-thymeleaf` dependency?","body":"Do you have the <code>spring-boot-starter-thymeleaf</code> dependency?"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1677876299,"post_id":75631690,"comment_id":133430647,"body_markdown":"no, why I need it?","body":"no, why I need it?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876323,"post_id":75631690,"comment_id":133430657,"body_markdown":"Well what type of views are you using? If you&#39;re using resources/templates, you should probably be using Thymeleaf.","body":"Well what type of views are you using? If you&#39;re using resources/templates, you should probably be using Thymeleaf."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1677876418,"post_id":75631690,"comment_id":133430668,"body_markdown":"No one, in my HTML page is just a Hello World","body":"No one, in my HTML page is just a Hello World"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876471,"post_id":75631690,"comment_id":133430677,"body_markdown":"Did you configure any view resolver?","body":"Did you configure any view resolver?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876500,"post_id":75631690,"comment_id":133430686,"body_markdown":"In any case, adding `spring-boot-starter-thymeleaf` should allow it to work since your structure is exactly that of a Thymeleaf project.","body":"In any case, adding <code>spring-boot-starter-thymeleaf</code> should allow it to work since your structure is exactly that of a Thymeleaf project."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1677876501,"post_id":75631690,"comment_id":133430687,"body_markdown":"I try to configure it, but It gives me the same error...","body":"I try to configure it, but It gives me the same error..."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677876906,"creation_date":1677876906,"answer_id":75631788,"question_id":75631690,"body_markdown":"Add the `spring-boot-starter-thymeleaf` dependency. This automatically registers a view resolver for HTML files in src/main/resources/templates.","title":"Is there any possible way to use Controller and RestController annotations in one Spring Boot application?","body":"<p>Add the <code>spring-boot-starter-thymeleaf</code> dependency. This automatically registers a view resolver for HTML files in src/main/resources/templates.</p>\n"}],"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75631788,"answer_count":1,"score":0,"last_activity_date":1677876906,"creation_date":1677876025,"question_id":75631690,"body_markdown":"I have my application, which is running on Spring Boot. In my application, I have two controllers, @RestController and @Controller. &lt;br&gt;\r\nRest is for returning JSON data and Controller is for HTML pages. When I try to use these two boys in my one project, it always gives me an error code: &lt;br&gt;\r\n **Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [index]: would dispatch back to the current handler URL [/index] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause** &lt;br&gt;\r\nMy HTML page is located in **resources:/templates**. &lt;br&gt;\r\nRequestMappingClass:\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/api/&quot;)\r\npublic class PageRestController {\r\n    @GetMapping(value = &quot;/getUserData&quot;)\r\n    public ResponseEntity&lt;User&gt; getUser() {\r\n        User user = new User();\r\n\r\n        user.setName(&quot;Nika&quot;);\r\n        user.setSurname(&quot;Beridze&quot;);\r\n        user.setAge(19);\r\n\r\n        return ResponseEntity.ok().body(user);\r\n    }\r\n}\r\n```\r\nController:\r\n```java\r\n@Controller\r\npublic class PageController {\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String index() {\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```","title":"Is there any possible way to use Controller and RestController annotations in one Spring Boot application?","body":"<p>I have my application, which is running on Spring Boot. In my application, I have two controllers, @RestController and @Controller. <br>\nRest is for returning JSON data and Controller is for HTML pages. When I try to use these two boys in my one project, it always gives me an error code: <br>\n<strong>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [index]: would dispatch back to the current handler URL [/index] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause</strong> <br>\nMy HTML page is located in <strong>resources:/templates</strong>. <br>\nRequestMappingClass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/api/&quot;)\npublic class PageRestController {\n    @GetMapping(value = &quot;/getUserData&quot;)\n    public ResponseEntity&lt;User&gt; getUser() {\n        User user = new User();\n\n        user.setName(&quot;Nika&quot;);\n        user.setSurname(&quot;Beridze&quot;);\n        user.setAge(19);\n\n        return ResponseEntity.ok().body(user);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class PageController {\n    @GetMapping(&quot;/index&quot;)\n    public String index() {\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1651560537,"post_id":72041322,"comment_id":127386535,"body_markdown":"I think that you might add more details in  your question, to allow answers that better fit your need, or at least that can provide you with good insight of what is or is not possible for your case. The answer from @ricard-kollcaku is good in the specific cases of a random generator source, but to shuffle an existing data source, you&#39;ll need buffering in some way, and also be cautious about the consequences on the thoughput (for example: the first snippet from ricard answer might behave very differently depending on subscription demand, flatMap concurrency, other intermediate operators, etc.)","body":"I think that you might add more details in  your question, to allow answers that better fit your need, or at least that can provide you with good insight of what is or is not possible for your case. The answer from @ricard-kollcaku is good in the specific cases of a random generator source, but to shuffle an existing data source, you&#39;ll need buffering in some way, and also be cautious about the consequences on the thoughput (for example: the first snippet from ricard answer might behave very differently depending on subscription demand, flatMap concurrency, other intermediate operators, etc.)"}],"answers":[{"tags":[],"owner":{"account_id":14976113,"reputation":1632,"user_id":10811516,"display_name":"Ricard Kollcaku"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677876372,"creation_date":1651142828,"answer_id":72042326,"question_id":72041322,"body_markdown":"I don&#39;t think Reactor has a function that shuffles for you but there is one workaround you can do.\r\nIf you want to keep the upper stream as it is,\r\n\r\n    Random random = new Random();\r\n    Flux.range(1,256)\r\n        .flatMap(integer -&gt; Flux.just(integer).delayElements(Duration.ofMillis(random.nextInt(256))))\r\n        .subscribe(System.out::println);\r\n  }\r\n\r\nIf you need random elements: \r\n\r\n    Flux.range(1,256)\r\n            .map(integer -&gt; random.nextInt(256))\r\n            .subscribe(System.out::println)","title":"Shuffle emissions of a Flux in Reactor?","body":"<p>I don't think Reactor has a function that shuffles for you but there is one workaround you can do.\nIf you want to keep the upper stream as it is,</p>\n<pre><code>Random random = new Random();\nFlux.range(1,256)\n    .flatMap(integer -&gt; Flux.just(integer).delayElements(Duration.ofMillis(random.nextInt(256))))\n    .subscribe(System.out::println);\n</code></pre>\n<p>}</p>\n<p>If you need random elements:</p>\n<pre><code>Flux.range(1,256)\n        .map(integer -&gt; random.nextInt(256))\n        .subscribe(System.out::println)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677876697,"creation_date":1677876647,"answer_id":75631763,"question_id":72041322,"body_markdown":"Another more elegant way is to use `Flux.generate()` to emit a random value:\r\n\r\n    Random random = new Random();\r\n    \r\n    Flux.generate(sink -&gt; sink.next(random.nextInt(256)))\r\n            .subscribe(System.out::println);","title":"Shuffle emissions of a Flux in Reactor?","body":"<p>Another more elegant way is to use <code>Flux.generate()</code> to emit a random value:</p>\n<pre><code>Random random = new Random();\n\nFlux.generate(sink -&gt; sink.next(random.nextInt(256)))\n        .subscribe(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72042326,"answer_count":2,"score":0,"last_activity_date":1677876697,"creation_date":1651138388,"question_id":72041322,"body_markdown":"I have a `Flux` and I would like to shuffle its emissions.\r\n\r\nSo for emissions: \r\n```\r\n1, 2, 3, ...\r\n```\r\nI would like to have:\r\n```\r\n32, 5, 9, ...\r\n```\r\n\r\nIs it possible in Reactor?","title":"Shuffle emissions of a Flux in Reactor?","body":"<p>I have a <code>Flux</code> and I would like to shuffle its emissions.</p>\n<p>So for emissions:</p>\n<pre><code>1, 2, 3, ...\n</code></pre>\n<p>I would like to have:</p>\n<pre><code>32, 5, 9, ...\n</code></pre>\n<p>Is it possible in Reactor?</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1677880640,"post_id":75631611,"comment_id":133431546,"body_markdown":"The best option is probably to implement the API yourself. Or consider using something more robust like **fs2**. Or, if you don&#39;t care about the lazy nature of `Source` then yeah, just read everything in memory.","body":"The best option is probably to implement the API yourself. Or consider using something more robust like <b>fs2</b>. Or, if you don&#39;t care about the lazy nature of <code>Source</code> then yeah, just read everything in memory."},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":2,"creation_date":1677882742,"post_id":75631611,"comment_id":133431932,"body_markdown":"`Thread.currentThread.getContextClassLoader.getResourceAsStream(&quot;keystore.jks&quot;)`","body":"<code>Thread.currentThread.getContextClassLoader.getResourceAsStre&zwnj;&#8203;am(&quot;keystore.jks&quot;)</code>"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1677918865,"post_id":75631611,"comment_id":133435445,"body_markdown":"Just read it directly as `InputStream`","body":"Just read it directly as <code>InputStream</code>"}],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1677876512,"creation_date":1677876512,"answer_id":75631743,"question_id":75631611,"body_markdown":"You can convert a BufferedSource to `byte[]` and put it ByteArrayInputStream: something like this will work:\r\n\r\n    import scala.io.Source\r\n    import java.io.InputStream\r\n    \r\n    val bufferedSource: Source = Source.fromResource(&quot;keystore.jks&quot;)\r\n    val inputStream: InputStream = new java.io.ByteArrayInputStream(bufferedSource.getLines().mkString(&quot;\\n&quot;).getBytes(java.nio.charset.StandardCharsets.UTF_8))\r\n\r\n","title":"How to covert a BufferedSource in scala to InputStream?","body":"<p>You can convert a BufferedSource to <code>byte[]</code> and put it ByteArrayInputStream: something like this will work:</p>\n<pre><code>import scala.io.Source\nimport java.io.InputStream\n\nval bufferedSource: Source = Source.fromResource(&quot;keystore.jks&quot;)\nval inputStream: InputStream = new java.io.ByteArrayInputStream(bufferedSource.getLines().mkString(&quot;\\n&quot;).getBytes(java.nio.charset.StandardCharsets.UTF_8))\n</code></pre>\n"}],"owner":{"account_id":2040025,"reputation":159,"user_id":1821469,"accept_rate":75,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75631743,"answer_count":1,"score":1,"last_activity_date":1677876512,"creation_date":1677875374,"question_id":75631611,"body_markdown":"I was reading a file from classpath in scala using scala.io.Source using fromResources which provides with a BufferedSource. How can I convert it to an InputStream as a java method invoked expects inputstream.\r\n\r\n```\r\nscala.io.Source.fromResource(&quot;keystore.jks&quot;)\r\n```","title":"How to covert a BufferedSource in scala to InputStream?","body":"<p>I was reading a file from classpath in scala using scala.io.Source using fromResources which provides with a BufferedSource. How can I convert it to an InputStream as a java method invoked expects inputstream.</p>\n<pre><code>scala.io.Source.fromResource(&quot;keystore.jks&quot;)\n</code></pre>\n"},{"tags":["java","android","image-classification","tflite","videosdk.live"],"owner":{"account_id":22987292,"reputation":3,"user_id":17113316,"display_name":"TryingMeBest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677875689,"creation_date":1677875689,"question_id":75631653,"body_markdown":"I am currently doing a medical app whereby live meetings are implemented using a third-party SDK &quot;videosdk&quot;, and that we do classification on the patient&#39;s emotions during the live meeting. What I am trying to do here is that I want to extract a video frame of the participant during the live meeting, pass that video frame for pre-processing into a bitmap, and pass the bitmap into a tflite model for emotion classification. However, I am stuck towards how we should extract video frames from the current implementation. The following code shows the participant adapter java file from this website: \r\n\r\nhttps://docs.videosdk.live/android/guide/video-and-audio-calling-api-sdk/quick-start\r\n\r\n\r\n```\r\nimport android.graphics.Bitmap;\r\nimport android.os.Build;\r\nimport android.os.CountDownTimer;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport org.webrtc.EglRenderer;\r\nimport org.webrtc.VideoFrame;\r\nimport org.webrtc.VideoSink;\r\nimport org.webrtc.VideoTrack;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport live.videosdk.rtc.android.Meeting;\r\nimport live.videosdk.rtc.android.Participant;\r\nimport live.videosdk.rtc.android.Stream;\r\nimport live.videosdk.rtc.android.VideoView;\r\nimport live.videosdk.rtc.android.listeners.MeetingEventListener;\r\nimport live.videosdk.rtc.android.listeners.ParticipantEventListener;\r\n\r\n\r\npublic class ParticipantAdapter extends RecyclerView.Adapter&lt;ParticipantAdapter.PeerViewHolder&gt; {\r\n\r\n    private int containerHeight;\r\n    // creating a empty list which will store all participants\r\n    private final List&lt;Participant&gt; participants = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public PeerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        containerHeight = parent.getHeight();\r\n        return new PeerViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item_remote_peer, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PeerViewHolder holder, int position) {\r\n        Participant participant = participants.get(position);\r\n\r\n        ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n        layoutParams.height = containerHeight / 3;\r\n        holder.itemView.setLayoutParams(layoutParams);\r\n\r\n        holder.tvName.setText(participant.getDisplayName());\r\n\r\n        int count = 0;\r\n\r\n        // adding the initial video stream for the participant into the &#39;VideoView&#39;\r\n        for (Map.Entry&lt;String, Stream&gt; entry : participant.getStreams().entrySet()) {\r\n            Stream stream = entry.getValue();\r\n            if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\r\n                holder.participantView.setVisibility(View.VISIBLE);\r\n                VideoTrack videoTrack = (VideoTrack) stream.getTrack();\r\n                holder.participantView.addTrack(videoTrack);\r\n                break;\r\n            }\r\n            ++count;\r\n            Log.d(&quot;Something count: &quot;, String.valueOf(count));\r\n        }\r\n\r\n\r\n        // add Listener to the participant which will update start or stop the video stream of that participant\r\n        participant.addEventListener(new ParticipantEventListener() {\r\n            @Override\r\n            public void onStreamEnabled(Stream stream) {\r\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\r\n                    holder.participantView.setVisibility(View.VISIBLE);\r\n                    VideoTrack videoTrack = (VideoTrack) stream.getTrack();\r\n                    holder.participantView.addTrack(videoTrack);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onStreamDisabled(Stream stream) {\r\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\r\n                    holder.participantView.removeTrack();\r\n                    holder.participantView.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // this method returns the size of total number of participants\r\n    @Override\r\n    public int getItemCount() {\r\n        return participants.size();\r\n    }\r\n\r\n    static class PeerViewHolder extends RecyclerView.ViewHolder {\r\n        // &#39;VideoView&#39; to show Video Stream\r\n        public VideoView participantView;\r\n        public TextView tvName;\r\n        public View itemView;\r\n\r\n        PeerViewHolder(@NonNull View view) {\r\n            super(view);\r\n            itemView = view;\r\n            tvName = view.findViewById(R.id.tvName);\r\n            participantView = view.findViewById(R.id.participantView);\r\n        }\r\n    }\r\n\r\n\r\n    public ParticipantAdapter(Meeting meeting) {\r\n        // adding the local participant(You) to the list\r\n        participants.add(meeting.getLocalParticipant());\r\n\r\n        // adding Meeting Event listener to get the participant join/leave event in the meeting.\r\n        meeting.addEventListener(new MeetingEventListener() {\r\n            @Override\r\n            public void onParticipantJoined(Participant participant) {\r\n                // add participant to the list\r\n                participants.add(participant);\r\n                notifyItemInserted(participants.size() - 1);\r\n            }\r\n\r\n            @Override\r\n            public void onParticipantLeft(Participant participant) {\r\n                int pos = -1;\r\n                for (int i = 0; i &lt; participants.size(); i++) {\r\n                    if (participants.get(i).getId().equals(participant.getId())) {\r\n                        pos = i;\r\n                        break;\r\n                    }\r\n                }\r\n                // remove participant from the list\r\n                participants.remove(participant);\r\n\r\n                if (pos &gt;= 0) {\r\n                    notifyItemRemoved(pos);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have already tried methods like VideoSink, and have already attempted to try and use VideoFrame to get the buffer, to get the buffer in i420 and doing the conversion process, but all has failed so far. Can anyone help with this?","title":"How to extract a video frame of a participant using videosdk?","body":"<p>I am currently doing a medical app whereby live meetings are implemented using a third-party SDK &quot;videosdk&quot;, and that we do classification on the patient's emotions during the live meeting. What I am trying to do here is that I want to extract a video frame of the participant during the live meeting, pass that video frame for pre-processing into a bitmap, and pass the bitmap into a tflite model for emotion classification. However, I am stuck towards how we should extract video frames from the current implementation. The following code shows the participant adapter java file from this website:</p>\n<p><a href=\"https://docs.videosdk.live/android/guide/video-and-audio-calling-api-sdk/quick-start\" rel=\"nofollow noreferrer\">https://docs.videosdk.live/android/guide/video-and-audio-calling-api-sdk/quick-start</a></p>\n<pre><code>import android.graphics.Bitmap;\nimport android.os.Build;\nimport android.os.CountDownTimer;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport org.webrtc.EglRenderer;\nimport org.webrtc.VideoFrame;\nimport org.webrtc.VideoSink;\nimport org.webrtc.VideoTrack;\n\nimport java.nio.ByteBuffer;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport live.videosdk.rtc.android.Meeting;\nimport live.videosdk.rtc.android.Participant;\nimport live.videosdk.rtc.android.Stream;\nimport live.videosdk.rtc.android.VideoView;\nimport live.videosdk.rtc.android.listeners.MeetingEventListener;\nimport live.videosdk.rtc.android.listeners.ParticipantEventListener;\n\n\npublic class ParticipantAdapter extends RecyclerView.Adapter&lt;ParticipantAdapter.PeerViewHolder&gt; {\n\n    private int containerHeight;\n    // creating a empty list which will store all participants\n    private final List&lt;Participant&gt; participants = new ArrayList&lt;&gt;();\n\n\n    @NonNull\n    @Override\n    public PeerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        containerHeight = parent.getHeight();\n        return new PeerViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item_remote_peer, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull PeerViewHolder holder, int position) {\n        Participant participant = participants.get(position);\n\n        ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n        layoutParams.height = containerHeight / 3;\n        holder.itemView.setLayoutParams(layoutParams);\n\n        holder.tvName.setText(participant.getDisplayName());\n\n        int count = 0;\n\n        // adding the initial video stream for the participant into the 'VideoView'\n        for (Map.Entry&lt;String, Stream&gt; entry : participant.getStreams().entrySet()) {\n            Stream stream = entry.getValue();\n            if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\n                holder.participantView.setVisibility(View.VISIBLE);\n                VideoTrack videoTrack = (VideoTrack) stream.getTrack();\n                holder.participantView.addTrack(videoTrack);\n                break;\n            }\n            ++count;\n            Log.d(&quot;Something count: &quot;, String.valueOf(count));\n        }\n\n\n        // add Listener to the participant which will update start or stop the video stream of that participant\n        participant.addEventListener(new ParticipantEventListener() {\n            @Override\n            public void onStreamEnabled(Stream stream) {\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\n                    holder.participantView.setVisibility(View.VISIBLE);\n                    VideoTrack videoTrack = (VideoTrack) stream.getTrack();\n                    holder.participantView.addTrack(videoTrack);\n                }\n            }\n\n            @Override\n            public void onStreamDisabled(Stream stream) {\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\n                    holder.participantView.removeTrack();\n                    holder.participantView.setVisibility(View.GONE);\n                }\n            }\n        });\n    }\n\n    // this method returns the size of total number of participants\n    @Override\n    public int getItemCount() {\n        return participants.size();\n    }\n\n    static class PeerViewHolder extends RecyclerView.ViewHolder {\n        // 'VideoView' to show Video Stream\n        public VideoView participantView;\n        public TextView tvName;\n        public View itemView;\n\n        PeerViewHolder(@NonNull View view) {\n            super(view);\n            itemView = view;\n            tvName = view.findViewById(R.id.tvName);\n            participantView = view.findViewById(R.id.participantView);\n        }\n    }\n\n\n    public ParticipantAdapter(Meeting meeting) {\n        // adding the local participant(You) to the list\n        participants.add(meeting.getLocalParticipant());\n\n        // adding Meeting Event listener to get the participant join/leave event in the meeting.\n        meeting.addEventListener(new MeetingEventListener() {\n            @Override\n            public void onParticipantJoined(Participant participant) {\n                // add participant to the list\n                participants.add(participant);\n                notifyItemInserted(participants.size() - 1);\n            }\n\n            @Override\n            public void onParticipantLeft(Participant participant) {\n                int pos = -1;\n                for (int i = 0; i &lt; participants.size(); i++) {\n                    if (participants.get(i).getId().equals(participant.getId())) {\n                        pos = i;\n                        break;\n                    }\n                }\n                // remove participant from the list\n                participants.remove(participant);\n\n                if (pos &gt;= 0) {\n                    notifyItemRemoved(pos);\n                }\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>I have already tried methods like VideoSink, and have already attempted to try and use VideoFrame to get the buffer, to get the buffer in i420 and doing the conversion process, but all has failed so far. Can anyone help with this?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":4883421,"reputation":337,"user_id":3936513,"display_name":"VG P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677875658,"creation_date":1677817111,"question_id":75623121,"body_markdown":"```\r\nimport java.io.ByteArrayOutputStream;\r\n\r\n@Controller\r\n@RestController\r\n@RequestMapping\r\npublic class SplitPDFBySizeController {\r\n@RequestMapping(value = &quot;/upload/single/pdf/for/split/by/size&quot;, method = RequestMethod.POST)\r\n\tpublic void uploadFiles(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\t@RequestParam(&quot;splitFile&quot;) MultipartFile splitFile) {\r\n\r\n\t\ttry {\r\n\t\t\tInputStream source = splitFile.getInputStream();\r\n\r\n\t\t\tList&lt;ByteArrayOutputStream&gt; mergedFileStream = splitFileBySize(source);\r\n\r\n\t\t\tresponse.setHeader(&quot;Expires&quot;, &quot;0&quot;);\r\n\t\t\tresponse.setContentType(&quot;application/zip&quot;);\r\n\t\t\t//response.setContentType(&quot;octate-stream&quot;);\r\n\t\t\tresponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=pdfsplit.zip&quot;);\r\n\r\n\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tfor (ByteArrayOutputStream outputStream : mergedFileStream) {\r\n\t\t\t\tbaos.write(outputStream.toByteArray());\r\n\t\t\t}\r\n\r\n\t\t\tbyte[] totalBytes = baos.toByteArray(); // The concatenated byte array, ready to use\r\n\t\t\t\r\n\t\t     \r\n\t\t\tresponse.setContentLength(totalBytes.length);\r\n\t\t\tresponseOutputStream.write(totalBytes);\r\n\t\t\tresponseOutputStream.flush();\r\n\t\t\t//responseOutputStream.close();\r\n\t\t\tSystem.out.println(&quot;process completed&quot;);\r\n\t\t} catch (Exception exception) {\r\n\t\t\texception.printStackTrace();\r\n\t\t}\r\n\t}\r\n        \r\n\t\tprivate List&lt;ByteArrayOutputStream&gt; splitFileBySize(InputStream srcPdfFile) {\r\n\t\t\tList&lt;ByteArrayOutputStream&gt; files = new ArrayList&lt;&gt;(); \r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\t PdfDocument pdfDoc = new PdfDocument(new PdfReader(srcPdfFile));\r\n\r\n\t\t\t        List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc) {\r\n\t\t\t            @Override\r\n\t\t\t            protected PdfWriter getNextPdfWriter(PageRange documentPageRange) {\r\n\t\t\t            \tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\t            \tPdfWriter pdfWriter = new PdfWriter(byteArrayOutputStream);\r\n\t\t\t            \tfiles.add(byteArrayOutputStream);\r\n\t\t\t                return pdfWriter;\r\n\t\t\t            }\r\n\t\t\t        }.splitBySize(2000);\r\n\t\t\t        \r\n\t\t\t      \r\n\t\t\t        for (PdfDocument doc : splitDocuments) {\r\n\t\t\t            doc.close();\r\n\t\t\t        }\r\n\r\n\t\t\t        pdfDoc.close();\r\n\t\t\t\t\r\n\t\t\t\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn files;\r\n\t\t}\r\n}\r\n```\r\n\r\nUsing Itext7 pdf file is splitted in to multiple files which is working fine and output received as ByteArrayOutputStream for each splitted file.I have combained all ByteArrayOutputStream to one ByteArrayOutputStream in list and Zip is coming as response, but I am not able to open zip as it reported as cannot open zip archive, Is not archive. How to send it as valid zip response?\r\n\r\n","title":"How to return zip file in spring boot as a response using ByteArrayOutputStream","body":"<pre><code>import java.io.ByteArrayOutputStream;\n\n@Controller\n@RestController\n@RequestMapping\npublic class SplitPDFBySizeController {\n@RequestMapping(value = &quot;/upload/single/pdf/for/split/by/size&quot;, method = RequestMethod.POST)\n    public void uploadFiles(HttpServletRequest request, HttpServletResponse response,\n            @RequestParam(&quot;splitFile&quot;) MultipartFile splitFile) {\n\n        try {\n            InputStream source = splitFile.getInputStream();\n\n            List&lt;ByteArrayOutputStream&gt; mergedFileStream = splitFileBySize(source);\n\n            response.setHeader(&quot;Expires&quot;, &quot;0&quot;);\n            response.setContentType(&quot;application/zip&quot;);\n            //response.setContentType(&quot;octate-stream&quot;);\n            response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=pdfsplit.zip&quot;);\n\n\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            for (ByteArrayOutputStream outputStream : mergedFileStream) {\n                baos.write(outputStream.toByteArray());\n            }\n\n            byte[] totalBytes = baos.toByteArray(); // The concatenated byte array, ready to use\n            \n             \n            response.setContentLength(totalBytes.length);\n            responseOutputStream.write(totalBytes);\n            responseOutputStream.flush();\n            //responseOutputStream.close();\n            System.out.println(&quot;process completed&quot;);\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n        \n        private List&lt;ByteArrayOutputStream&gt; splitFileBySize(InputStream srcPdfFile) {\n            List&lt;ByteArrayOutputStream&gt; files = new ArrayList&lt;&gt;(); \n            try {\n                \n                 PdfDocument pdfDoc = new PdfDocument(new PdfReader(srcPdfFile));\n\n                    List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc) {\n                        @Override\n                        protected PdfWriter getNextPdfWriter(PageRange documentPageRange) {\n                            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                            PdfWriter pdfWriter = new PdfWriter(byteArrayOutputStream);\n                            files.add(byteArrayOutputStream);\n                            return pdfWriter;\n                        }\n                    }.splitBySize(2000);\n                    \n                  \n                    for (PdfDocument doc : splitDocuments) {\n                        doc.close();\n                    }\n\n                    pdfDoc.close();\n                \n            \n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return files;\n        }\n}\n</code></pre>\n<p>Using Itext7 pdf file is splitted in to multiple files which is working fine and output received as ByteArrayOutputStream for each splitted file.I have combained all ByteArrayOutputStream to one ByteArrayOutputStream in list and Zip is coming as response, but I am not able to open zip as it reported as cannot open zip archive, Is not archive. How to send it as valid zip response?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1677856316,"post_id":75628673,"comment_id":133425279,"body_markdown":"What restrictions are on the weights? If none, set w[0] = ex / p[0] and set all other weights to 0.0 (which is ridiculous).","body":"What restrictions are on the weights? If none, set w[0] = ex / p[0] and set all other weights to 0.0 (which is ridiculous)."},{"owner":{"account_id":26936914,"reputation":3,"user_id":20508410,"display_name":"Duy Pham Nguyen"},"score":0,"creation_date":1677856848,"post_id":75628673,"comment_id":133425452,"body_markdown":"Right now there are no restrictions but that would not be the best solution. I would like to keep the weights somewhat relative to its price.","body":"Right now there are no restrictions but that would not be the best solution. I would like to keep the weights somewhat relative to its price."},{"owner":{"account_id":26936914,"reputation":3,"user_id":20508410,"display_name":"Duy Pham Nguyen"},"score":0,"creation_date":1677857229,"post_id":75628673,"comment_id":133425562,"body_markdown":"The only restrictions i have right now is that the weight should not be below 0, which is quite trivial, because probability cannot be negative","body":"The only restrictions i have right now is that the weight should not be below 0, which is quite trivial, because probability cannot be negative"}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677875642,"creation_date":1677875642,"answer_id":75631643,"question_id":75628673,"body_markdown":"There are literally an infinite number of ways to do this.  It all depends on how you want your weights to be distributed.\r\n\r\nFor example you can decide that your weights have to follow a rule like this:\r\n\r\n    weight is proportional to Math.exp((price - k)*(price - k))\r\n\r\nNow as `k` goes to - infinity, the average price goes to the bottom price in your list.  Given `k` you can easily calculate what the average price should be.  As `k` goes to + infinity, the average price goes to the top price\r\n\r\nThere is no analytical way to figure out what `k` should be, but you can easily search with something like this untested code.\r\n\r\n    double k0 = 0.0;\r\n    double k1 = 1.0;\r\n    double epsilon = 0.00001;\r\n    while (averagePrice(k1) &lt; desiredPrice) {\r\n        k0 = k1;\r\n        k1 += k1;\r\n    }\r\n    if (desiredPrice &lt; averagePrice(k0)) {\r\n        k0 = -1;\r\n        k1 = 0;\r\n        while (desiredPrice &lt; averagePrice(k0)) {\r\n            k1 = k0;\r\n            k0 -= k0;\r\n        }\r\n    }\r\n    while (k0 + epsilon) {\r\n        kMid = (k0 + k1)/2;\r\n        double averageMid = averagePrice(kMid);\r\n        if (averageMid &lt; desiredPrice) {\r\n            k0 = kMid;\r\n        } else if (desiredPrice &lt; averageMid) {\r\n            k1 = kMid;\r\n        } else {\r\n            return weightsFor(kMid);\r\n        }\r\n    }\r\n    ... average out weightsFor(k0) and weightsFor(k1) to get desiredAverage\r\n\r\nIf you have a lot of prices fairly evenly distributed around your desired one, this will give weights that look a lot like a normal curve averaging near your desired one.\r\n\r\nBut you can literally choose any family of shapes that you want for the prices and the same idea will work.  And if you&#39;re tolerant of changing the shape, making `epsilon` larger will cut the search faster at the cost of having the final distribution a little less perfectly the ideal that you chose.","title":"How can I re distribute my weight such that expected outcome is the same","body":"<p>There are literally an infinite number of ways to do this.  It all depends on how you want your weights to be distributed.</p>\n<p>For example you can decide that your weights have to follow a rule like this:</p>\n<pre><code>weight is proportional to Math.exp((price - k)*(price - k))\n</code></pre>\n<p>Now as <code>k</code> goes to - infinity, the average price goes to the bottom price in your list.  Given <code>k</code> you can easily calculate what the average price should be.  As <code>k</code> goes to + infinity, the average price goes to the top price</p>\n<p>There is no analytical way to figure out what <code>k</code> should be, but you can easily search with something like this untested code.</p>\n<pre><code>double k0 = 0.0;\ndouble k1 = 1.0;\ndouble epsilon = 0.00001;\nwhile (averagePrice(k1) &lt; desiredPrice) {\n    k0 = k1;\n    k1 += k1;\n}\nif (desiredPrice &lt; averagePrice(k0)) {\n    k0 = -1;\n    k1 = 0;\n    while (desiredPrice &lt; averagePrice(k0)) {\n        k1 = k0;\n        k0 -= k0;\n    }\n}\nwhile (k0 + epsilon) {\n    kMid = (k0 + k1)/2;\n    double averageMid = averagePrice(kMid);\n    if (averageMid &lt; desiredPrice) {\n        k0 = kMid;\n    } else if (desiredPrice &lt; averageMid) {\n        k1 = kMid;\n    } else {\n        return weightsFor(kMid);\n    }\n}\n... average out weightsFor(k0) and weightsFor(k1) to get desiredAverage\n</code></pre>\n<p>If you have a lot of prices fairly evenly distributed around your desired one, this will give weights that look a lot like a normal curve averaging near your desired one.</p>\n<p>But you can literally choose any family of shapes that you want for the prices and the same idea will work.  And if you're tolerant of changing the shape, making <code>epsilon</code> larger will cut the search faster at the cost of having the final distribution a little less perfectly the ideal that you chose.</p>\n"}],"owner":{"account_id":26936914,"reputation":3,"user_id":20508410,"display_name":"Duy Pham Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75631643,"answer_count":1,"score":0,"last_activity_date":1677875642,"creation_date":1677855706,"question_id":75628673,"body_markdown":"I want to calculate expected outcome after resting a price, I tried using scaling matrix but it did not work. Appreciate any help.\r\n\r\n```\r\ndouble originalPrice = {5, 8, 18, 58, 80, 49.399167162403300}\r\n\r\ndouble originalWeight = {0.34146341463414637, 0.3902439024390244, 0.14634146341463414, 0.024390243902439025, 0.024390243902439025, 0.07317073170731707}\r\n```\r\nafter some iterations iterations my new prices and new weights are now,\r\n\r\n```\r\ndouble newPrices1 = [7.0, 8.0, 20.0, 58.0, 81.0, 49.3991671624033]\r\ndouble newWeight1 =  [0.3575704958570497, 0.3902439024390244, 0.15629694702450886, 0.024390243902439025, 0.024390243902439025, 0.04710816687453892]\r\n````\r\nnote: the EX (expected value) of originalPrice and newPrice1 is the same, you calculate by taking the product of respective price to respective weight and then take the total sum of it.\r\n\r\nin the next iteration the first price returns to its original value e.g we call it newPrices2\r\n```\r\ndouble newPrices2 = [5.0, 8.0, 20.0, 58.0, 82.0, 49.3991671624033]\r\n```\r\nI want to find new weights, that would keep my expected outcome the same\r\n\r\n```\r\ndouble newWeight2 = [x1,x2,x3,x4,x5,x6]\r\n```\r\n\r\nI tried scaling the vectors but it did not help, here is the code algorithm i tried. \r\n\r\n```\r\npublic static double[] redistributeWeight(double[] prices, \r\n double[] weights, double[] originalWeights) {\r\n        double totalOriginalPrice = 0.0;\r\n        double totalCurrentPrice = 0.0;\r\n\r\n        // Calculate the total original price and current price\r\n        for (int i = 0; i &lt; prices.length; i++) {\r\n            totalOriginalPrice += originalWeights[i] * prices[i];\r\n            totalCurrentPrice += weights[i] * prices[i];\r\n        }\r\n\r\n        // Calculate the scaling factor\r\n        double scaleFactor = totalOriginalPrice / totalCurrentPrice;\r\n\r\n        // Redistribute the weights based on the scaling factor\r\n        for (int i = 0; i &lt; weights.length; i++) {\r\n            weights[i] *= scaleFactor;\r\n        }\r\n\r\n        return weights;\r\n    }","title":"How can I re distribute my weight such that expected outcome is the same","body":"<p>I want to calculate expected outcome after resting a price, I tried using scaling matrix but it did not work. Appreciate any help.</p>\n<pre><code>double originalPrice = {5, 8, 18, 58, 80, 49.399167162403300}\n\ndouble originalWeight = {0.34146341463414637, 0.3902439024390244, 0.14634146341463414, 0.024390243902439025, 0.024390243902439025, 0.07317073170731707}\n</code></pre>\n<p>after some iterations iterations my new prices and new weights are now,</p>\n<pre><code>double newPrices1 = [7.0, 8.0, 20.0, 58.0, 81.0, 49.3991671624033]\ndouble newWeight1 =  [0.3575704958570497, 0.3902439024390244, 0.15629694702450886, 0.024390243902439025, 0.024390243902439025, 0.04710816687453892]\n</code></pre>\n<p>note: the EX (expected value) of originalPrice and newPrice1 is the same, you calculate by taking the product of respective price to respective weight and then take the total sum of it.</p>\n<p>in the next iteration the first price returns to its original value e.g we call it newPrices2</p>\n<pre><code>double newPrices2 = [5.0, 8.0, 20.0, 58.0, 82.0, 49.3991671624033]\n</code></pre>\n<p>I want to find new weights, that would keep my expected outcome the same</p>\n<pre><code>double newWeight2 = [x1,x2,x3,x4,x5,x6]\n</code></pre>\n<p>I tried scaling the vectors but it did not help, here is the code algorithm i tried.</p>\n<pre><code>public static double[] redistributeWeight(double[] prices, \n double[] weights, double[] originalWeights) {\n        double totalOriginalPrice = 0.0;\n        double totalCurrentPrice = 0.0;\n\n        // Calculate the total original price and current price\n        for (int i = 0; i &lt; prices.length; i++) {\n            totalOriginalPrice += originalWeights[i] * prices[i];\n            totalCurrentPrice += weights[i] * prices[i];\n        }\n\n        // Calculate the scaling factor\n        double scaleFactor = totalOriginalPrice / totalCurrentPrice;\n\n        // Redistribute the weights based on the scaling factor\n        for (int i = 0; i &lt; weights.length; i++) {\n            weights[i] *= scaleFactor;\n        }\n\n        return weights;\n    }\n</code></pre>\n"},{"tags":["java","facebook-graph-api"],"owner":{"account_id":27656254,"reputation":1,"user_id":21110062,"display_name":"denisa ungurean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677875629,"creation_date":1675077262,"question_id":75283616,"body_markdown":"type here\r\n\r\nHello! I am tring to run my android app and login into facebook account but when i run it i get 2 errors and i can&#39;t find a way to solve them.\r\nThe errors i get are: \r\n1. E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 100, subErrorCode: 33, errorType: GraphMethodException, errorMessage: Unsupported post request. Object with ID &#39;1234&#39; does not exist, cannot be loaded due to missing permissions, or does not support this operation. Please read the Graph API documentation at https://developers.facebook.com/docs/graph-api}\r\n2. E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 190, subErrorCode: -1, errorType: OAuthException, errorMessage: Error validating application. Cannot get application info due to a system error.}\r\n\r\nI am using the latest android studio version for this and for Facebook sign in i am using this  code: \r\n\r\n\r\n```\r\npackage com.example.whatarewegoingtoeattoday;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.FacebookSdk;\r\nimport com.facebook.login.LoginManager;\r\nimport com.facebook.login.LoginResult;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class FacebookSignInActivity extends LoginActivity {\r\n\r\n    CallbackManager callbackManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        //FacebookSdk.sdkInitialize(getApplicationContext());\r\n\r\n        //mAuth = FirebaseAuth.getInstance();\r\n\r\n        callbackManager = CallbackManager.Factory.create();\r\n        LoginManager.getInstance().logInWithReadPermissions(this, Arrays.asList(&quot;public_profile&quot;));\r\n\r\n\r\n        LoginManager.getInstance().registerCallback(callbackManager,\r\n                new FacebookCallback&lt;LoginResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(LoginResult loginResult) {\r\n                        handleFacebookAccessToken(loginResult.getAccessToken());\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancel() {\r\n                        // App code\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(FacebookException exception) {\r\n                        // App code\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Pass the activity result back to the Facebook SDK\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    private void handleFacebookAccessToken(AccessToken token) {\r\n\r\n        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n                            updateUI(user);\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Toast.makeText(FacebookSignInActivity.this, &quot;&quot; +task.getException(), Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void updateUI(FirebaseUser user) {\r\n        Intent intent = new Intent(FacebookSignInActivity.this, LoginActivity.class);\r\n        //intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI watched many tutorials on youtube and i did the same as them, but my code it is still not working. \r\nPlease help me! :)","title":"E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 100, subErrorCode: 33, errorType: GraphMethodException, errorMessage: Unsupported post","body":"<p>type here</p>\n<p>Hello! I am tring to run my android app and login into facebook account but when i run it i get 2 errors and i can't find a way to solve them.\nThe errors i get are:</p>\n<ol>\n<li>E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 100, subErrorCode: 33, errorType: GraphMethodException, errorMessage: Unsupported post request. Object with ID '1234' does not exist, cannot be loaded due to missing permissions, or does not support this operation. Please read the Graph API documentation at <a href=\"https://developers.facebook.com/docs/graph-api%7D\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/graph-api}</a></li>\n<li>E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 190, subErrorCode: -1, errorType: OAuthException, errorMessage: Error validating application. Cannot get application info due to a system error.}</li>\n</ol>\n<p>I am using the latest android studio version for this and for Facebook sign in i am using this  code:</p>\n<pre><code>package com.example.whatarewegoingtoeattoday;\n\nimport androidx.annotation.NonNull;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport com.facebook.AccessToken;\nimport com.facebook.CallbackManager;\nimport com.facebook.FacebookCallback;\nimport com.facebook.FacebookException;\nimport com.facebook.FacebookSdk;\nimport com.facebook.login.LoginManager;\nimport com.facebook.login.LoginResult;\nimport com.google.firebase.auth.AuthCredential;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FacebookAuthProvider;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\nimport java.util.Arrays;\n\npublic class FacebookSignInActivity extends LoginActivity {\n\n    CallbackManager callbackManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        //FacebookSdk.sdkInitialize(getApplicationContext());\n\n        //mAuth = FirebaseAuth.getInstance();\n\n        callbackManager = CallbackManager.Factory.create();\n        LoginManager.getInstance().logInWithReadPermissions(this, Arrays.asList(&quot;public_profile&quot;));\n\n\n        LoginManager.getInstance().registerCallback(callbackManager,\n                new FacebookCallback&lt;LoginResult&gt;() {\n                    @Override\n                    public void onSuccess(LoginResult loginResult) {\n                        handleFacebookAccessToken(loginResult.getAccessToken());\n                    }\n\n                    @Override\n                    public void onCancel() {\n                        // App code\n                    }\n\n                    @Override\n                    public void onError(FacebookException exception) {\n                        // App code\n                    }\n                });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Pass the activity result back to the Facebook SDK\n        callbackManager.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    private void handleFacebookAccessToken(AccessToken token) {\n\n        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n\n                            FirebaseUser user = mAuth.getCurrentUser();\n                            updateUI(user);\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Toast.makeText(FacebookSignInActivity.this, &quot;&quot; +task.getException(), Toast.LENGTH_SHORT).show();\n\n                        }\n                    }\n                });\n    }\n\n    private void updateUI(FirebaseUser user) {\n        Intent intent = new Intent(FacebookSignInActivity.this, LoginActivity.class);\n        //intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>I watched many tutorials on youtube and i did the same as them, but my code it is still not working.\nPlease help me! :)</p>\n"},{"tags":["java","mockito","amazon-kinesis"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1686950592,"post_id":75631402,"comment_id":134874242,"body_markdown":"You cannot do `when(client.putRecord(any()).get())`, you can only do `when(client.putRecord(any()))`","body":"You cannot do <code>when(client.putRecord(any()).get())</code>, you can only do <code>when(client.putRecord(any()))</code>"}],"answers":[{"comments":[{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":0,"creation_date":1677876082,"post_id":75631519,"comment_id":133430601,"body_markdown":"Thanks for the detailed explanation. What is exactly `[PutRecordResponse type]`? Can you give me an example of `thenReturn` with a return value?","body":"Thanks for the detailed explanation. What is exactly <code>[PutRecordResponse type]</code>? Can you give me an example of <code>thenReturn</code> with a return value?"},{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":0,"creation_date":1677876763,"post_id":75631519,"comment_id":133430758,"body_markdown":"It&#39;s failing for `error: cannot find symbol when(res.getSequenceNumber()).thenReturn(&quot;12345&quot;);` and also `getShardId`.","body":"It&#39;s failing for <code>error: cannot find symbol when(res.getSequenceNumber()).thenReturn(&quot;12345&quot;);</code> and also <code>getShardId</code>."}],"tags":[],"owner":{"account_id":2423876,"reputation":802,"user_id":2116248,"accept_rate":45,"display_name":"Luiz Rossi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677875369,"creation_date":1677874564,"answer_id":75631519,"question_id":75631402,"body_markdown":"The reason for this error is that the thenReturn method expects a PutRecordResponse object, but you are passing in a PutRecordResult object.\r\n\r\nTo fix this error, you should create a PutRecordResponse object and set its sequenceNumber and shardId fields to appropriate values, then use it in the thenReturn method like this:\r\n\r\n    KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\r\n    PutRecordResponse res = mock(PutRecordResponse.class);\r\n    when(res.getSequenceNumber()).thenReturn(&quot;12345&quot;);\r\n    when(res.getShardId()).thenReturn(&quot;shard-12345&quot;);\r\n    when(kinesisClient.putRecord(any())).thenReturn([PutRecordResponse type]);\r\n\r\n    // Call the method that uses the mocked KinesisAsyncClient\r\n\r\nHere, we are mocking the PutRecordResponse object and setting its sequenceNumber and shardId fields to appropriate values. Then, we are using the thenReturn method to return a CompletableFuture that completes with the mocked PutRecordResponse object when the putRecord method is called on the mocked KinesisAsyncClient.","title":"No suitable method found for thenReturn","body":"<p>The reason for this error is that the thenReturn method expects a PutRecordResponse object, but you are passing in a PutRecordResult object.</p>\n<p>To fix this error, you should create a PutRecordResponse object and set its sequenceNumber and shardId fields to appropriate values, then use it in the thenReturn method like this:</p>\n<pre><code>KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\nPutRecordResponse res = mock(PutRecordResponse.class);\nwhen(res.getSequenceNumber()).thenReturn(&quot;12345&quot;);\nwhen(res.getShardId()).thenReturn(&quot;shard-12345&quot;);\nwhen(kinesisClient.putRecord(any())).thenReturn([PutRecordResponse type]);\n\n// Call the method that uses the mocked KinesisAsyncClient\n</code></pre>\n<p>Here, we are mocking the PutRecordResponse object and setting its sequenceNumber and shardId fields to appropriate values. Then, we are using the thenReturn method to return a CompletableFuture that completes with the mocked PutRecordResponse object when the putRecord method is called on the mocked KinesisAsyncClient.</p>\n"}],"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677875369,"creation_date":1677873567,"question_id":75631402,"body_markdown":"I am new to java and mockito, trying to mock my \r\n```\r\n//kinesisClient is of type KinesisAsyncClient\r\nPutRecordResponse result = kinesisClient.putRecord(putRecordRequest).get();\r\n```\r\nlike below:\r\n```\r\nKinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\r\nPutRecordResult res = mock(PutRecordResult.class);\r\nres.setShardId(&quot;shard-12345&quot;);\r\nwhen(kinesisClient.putRecord(any()).get())\r\n                .thenReturn(res);\r\n```\r\nit&#39;s giving \r\n```\r\nerror: no suitable method found for thenReturn(PutRecordResult)\r\n.thenReturn(res);\r\n```\r\nI tried \r\n```\r\nKinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\r\nfinal PutRecordResult res = new PutRecordResult();\r\nres.setShardId(&quot;shard-12345&quot;);\r\nwhen(kinesisClient.putRecord(any()).get())\r\n                .thenReturn(res);\r\n```\r\nbut same error. I am not sure what I am doing wrong here. Can anyone help me on this?","title":"No suitable method found for thenReturn","body":"<p>I am new to java and mockito, trying to mock my</p>\n<pre><code>//kinesisClient is of type KinesisAsyncClient\nPutRecordResponse result = kinesisClient.putRecord(putRecordRequest).get();\n</code></pre>\n<p>like below:</p>\n<pre><code>KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\nPutRecordResult res = mock(PutRecordResult.class);\nres.setShardId(&quot;shard-12345&quot;);\nwhen(kinesisClient.putRecord(any()).get())\n                .thenReturn(res);\n</code></pre>\n<p>it's giving</p>\n<pre><code>error: no suitable method found for thenReturn(PutRecordResult)\n.thenReturn(res);\n</code></pre>\n<p>I tried</p>\n<pre><code>KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\nfinal PutRecordResult res = new PutRecordResult();\nres.setShardId(&quot;shard-12345&quot;);\nwhen(kinesisClient.putRecord(any()).get())\n                .thenReturn(res);\n</code></pre>\n<p>but same error. I am not sure what I am doing wrong here. Can anyone help me on this?</p>\n"},{"tags":["java","google-cloud-firestore","server","firebase-admin"],"answers":[{"tags":[],"owner":{"account_id":1656903,"reputation":196,"user_id":1526201,"display_name":"Lahiru Maramba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677874006,"creation_date":1677873215,"answer_id":75631357,"question_id":75616698,"body_markdown":"You need `com.google.cloud:google-cloud-firestore` library to access `Firestore` from your server project. `google-cloud-firestore` is a dependency of `firebase-admin` ([ref][1]) and should install it as a dependency when you add Firebase Admin Java SDK to your project (unless you exclude it in your build file).\r\n\r\nRemove the line `implementation &#39;com.google.firebase:firebase-firestore:24.4.3&#39;` from your build.gradle and access Firestore through Firebase Admin SDK. You can refer to the [official docs][2] for code samples.\r\n\r\n\r\n  [1]: https://github.com/firebase/firebase-admin-java/blob/95e542790e1b22a26258a10f7edff3a5a29c86d4/pom.xml#L428\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/get-data#java_1","title":"Cannot add Firestore to Server","body":"<p>You need <code>com.google.cloud:google-cloud-firestore</code> library to access <code>Firestore</code> from your server project. <code>google-cloud-firestore</code> is a dependency of <code>firebase-admin</code> (<a href=\"https://github.com/firebase/firebase-admin-java/blob/95e542790e1b22a26258a10f7edff3a5a29c86d4/pom.xml#L428\" rel=\"nofollow noreferrer\">ref</a>) and should install it as a dependency when you add Firebase Admin Java SDK to your project (unless you exclude it in your build file).</p>\n<p>Remove the line <code>implementation 'com.google.firebase:firebase-firestore:24.4.3'</code> from your build.gradle and access Firestore through Firebase Admin SDK. You can refer to the <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#java_1\" rel=\"nofollow noreferrer\">official docs</a> for code samples.</p>\n"}],"owner":{"account_id":27445149,"reputation":21,"user_id":20939081,"display_name":"Mira&#231; Buğra &#214;zkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677874006,"creation_date":1677766716,"question_id":75616698,"body_markdown":"I am working on a server project where I want to user firebase firestore dependecies.\r\n\r\nI use the firebase-admin but when I try to add firestore sdk it says that it could not find it, and yes when I looked at that site there where nothing about firestore package.\r\n\r\nmy build.grade:\r\n\r\n```\r\nplugins {\r\nid &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\nmavenCentral()\r\n}\r\n\r\ndependencies {\r\n// Firebase Admin SDK dependency\r\nimplementation &#39;com.google.firebase:firebase-admin:9.1.1&#39;\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n    \r\n    // Declare the dependency for the Cloud Firestore library\r\n    // When NOT using the BoM, you must specify versions in Firebase library dependencies\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.3&#39;\r\n    \r\n    implementation &quot;org.slf4j:slf4j-simple:1.7.9&quot;\r\n\r\n}\r\ntest {\r\nuseJUnitPlatform()\r\n}\r\n```\r\n\r\nThe error:\r\n\r\n```\r\nserver:main: Could not find com.google.firebase:firebase-firestore:24.4.3.\r\nSearched in the following locations:\r\n\r\n- https://repo.maven.apache.org/maven2/com/google/firebase/firebase-firestore/24.4.3/firebase-firestore-24.4.3.pom\r\n  If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\r\n  Required by:\r\n  project :\r\n\r\nPossible solution:\r\n\r\n- Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html%60\r\n```\r\n\r\nI tried to look at the sites that the error code gave me but I couldnt perform anything since I dont know whether I can do this with firestore or not.","title":"Cannot add Firestore to Server","body":"<p>I am working on a server project where I want to user firebase firestore dependecies.</p>\n<p>I use the firebase-admin but when I try to add firestore sdk it says that it could not find it, and yes when I looked at that site there where nothing about firestore package.</p>\n<p>my build.grade:</p>\n<pre><code>plugins {\nid 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\nmavenCentral()\n}\n\ndependencies {\n// Firebase Admin SDK dependency\nimplementation 'com.google.firebase:firebase-admin:9.1.1'\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    \n    // Declare the dependency for the Cloud Firestore library\n    // When NOT using the BoM, you must specify versions in Firebase library dependencies\n    implementation 'com.google.firebase:firebase-firestore:24.4.3'\n    \n    implementation &quot;org.slf4j:slf4j-simple:1.7.9&quot;\n\n}\ntest {\nuseJUnitPlatform()\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>server:main: Could not find com.google.firebase:firebase-firestore:24.4.3.\nSearched in the following locations:\n\n- https://repo.maven.apache.org/maven2/com/google/firebase/firebase-firestore/24.4.3/firebase-firestore-24.4.3.pom\n  If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to adjust the 'metadataSources { ... }' of the repository declaration.\n  Required by:\n  project :\n\nPossible solution:\n\n- Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html%60\n</code></pre>\n<p>I tried to look at the sites that the error code gave me but I couldnt perform anything since I dont know whether I can do this with firestore or not.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","passwords"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677872719,"creation_date":1677857720,"answer_id":75629067,"question_id":75628635,"body_markdown":"I don&#39;t think you should really care about the size of the password because you don&#39;t know how the encryption algorithm will generate the password for you. API Keys for instance or crypted password can be very length (I have seen for instance some encrypted API key that have almost 900 chars).\r\n\r\nThe computers, the languages, the databases and the network in this modern world are adapted for this kind of situation.\r\nAlso, for security issue, your password have to be very strong.\r\n\r\n - For Java, use `String` it can support **2,147,483,647** characters. IMO you can use **120** or **128** chars for the password size.\r\n - For your database, [MySQL][1] for example (or any database) use **Text** types and its associated sub types.\r\n\r\n&gt; Spring Security may create proper data properties, but even so, I want\r\n&gt; to know the algorithm and the length for password field.\r\n\r\nYou can define a custom encryption in **Spring Security** with a bean, in you configuration file. The following is the [list][2] of all the algorithms supported by **Spring Security**: *NoOpPasswordEncoder*, *StandardPasswordEncoder*, *Pbkdf2PasswordEncoder*, *BCryptPasswordEncoder*, *SCryptPasswordEncoder*\r\n\r\n    @Bean\r\n    public PasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nTake in consideration that you have 2 sides when managing your security and applying encryption: the user side password and the encrypted password stored in the database. When the user issue an authentication process, the user type his password, not the encrypted password. The verification is made in a `AuthenticationProvider` that you define.\r\nSee an example bellow:\r\n\r\n\r\n    @Service\r\n    public class UserAuthenticationService implements AuthenticationProvider {\r\n    \r\n        private UserDetailsService service;\r\n        private PasswordEncoder encoder;\r\n    \r\n        public UserAuthenticationService(UserDetailsService service, PasswordEncoder encoder) {\r\n            this.service = service;\r\n            this.encoder = encoder;\r\n        }\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            var username = authentication.getName();\r\n            var password = authentication.getCredentials().toString();\r\n            var user = service.loadUserByUsername(username);\r\n            // You make this comparison here, between both password the user and the encrypted one in the database\r\n            if (!encoder.matches(password, user.getPassword())) {\r\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\r\n            }\r\n            return new UsernamePasswordAuthenticationToken(\r\n                user.getUsername(),\r\n                user.getPassword(),\r\n                user.getAuthorities()\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/string-types.html\r\n  [2]: https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html","title":"What should be password field length in dB when using Spring Security?","body":"<p>I don't think you should really care about the size of the password because you don't know how the encryption algorithm will generate the password for you. API Keys for instance or crypted password can be very length (I have seen for instance some encrypted API key that have almost 900 chars).</p>\n<p>The computers, the languages, the databases and the network in this modern world are adapted for this kind of situation.\nAlso, for security issue, your password have to be very strong.</p>\n<ul>\n<li>For Java, use <code>String</code> it can support <strong>2,147,483,647</strong> characters. IMO you can use <strong>120</strong> or <strong>128</strong> chars for the password size.</li>\n<li>For your database, <a href=\"https://dev.mysql.com/doc/refman/8.0/en/string-types.html\" rel=\"nofollow noreferrer\">MySQL</a> for example (or any database) use <strong>Text</strong> types and its associated sub types.</li>\n</ul>\n<blockquote>\n<p>Spring Security may create proper data properties, but even so, I want\nto know the algorithm and the length for password field.</p>\n</blockquote>\n<p>You can define a custom encryption in <strong>Spring Security</strong> with a bean, in you configuration file. The following is the <a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html\" rel=\"nofollow noreferrer\">list</a> of all the algorithms supported by <strong>Spring Security</strong>: <em>NoOpPasswordEncoder</em>, <em>StandardPasswordEncoder</em>, <em>Pbkdf2PasswordEncoder</em>, <em>BCryptPasswordEncoder</em>, <em>SCryptPasswordEncoder</em></p>\n<pre><code>@Bean\npublic PasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Take in consideration that you have 2 sides when managing your security and applying encryption: the user side password and the encrypted password stored in the database. When the user issue an authentication process, the user type his password, not the encrypted password. The verification is made in a <code>AuthenticationProvider</code> that you define.\nSee an example bellow:</p>\n<pre><code>@Service\npublic class UserAuthenticationService implements AuthenticationProvider {\n\n    private UserDetailsService service;\n    private PasswordEncoder encoder;\n\n    public UserAuthenticationService(UserDetailsService service, PasswordEncoder encoder) {\n        this.service = service;\n        this.encoder = encoder;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        var username = authentication.getName();\n        var password = authentication.getCredentials().toString();\n        var user = service.loadUserByUsername(username);\n        // You make this comparison here, between both password the user and the encrypted one in the database\n        if (!encoder.matches(password, user.getPassword())) {\n            throw new BadCredentialsException(&quot;Bad credentials&quot;);\n        }\n        return new UsernamePasswordAuthenticationToken(\n            user.getUsername(),\n            user.getPassword(),\n            user.getAuthorities()\n        );\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1677869879,"post_id":75630059,"comment_id":133429171,"body_markdown":"as i mentioned in the answer , and based on the information that i get , the exact length of the bcrypt hased password in the worst case is 60 + 8 = 68 bytes. But i will not define exactly its column to be varchar(68). i like to give some buffer to it simply because it make me feel more safe","body":"as i mentioned in the answer , and based on the information that i get , the exact length of the bcrypt hased password in the worst case is 60 + 8 = 68 bytes. But i will not define exactly its column to be varchar(68). i like to give some buffer to it simply because it make me feel more safe"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1677870241,"post_id":75630059,"comment_id":133429266,"body_markdown":"no matter how long the raw password are , the hashed password will always be 59 bytes or 60 bytes.","body":"no matter how long the raw password are , the hashed password will always be 59 bytes or 60 bytes."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1677872293,"post_id":75630059,"comment_id":133429769,"body_markdown":"80 or 120 really does not have much differences , really doesn&#39;t matter.. Both are okay to me. just follow your heart and moving forward to to next  more meaningful things.","body":"80 or 120 really does not have much differences , really doesn&#39;t matter.. Both are okay to me. just follow your heart and moving forward to to next  more meaningful things."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677866862,"creation_date":1677863739,"answer_id":75630059,"question_id":75628635,"body_markdown":"If you use spring security &#39;s suggestion which use [`DelegatingPasswordEncoder`][1] , it will always use `BCrypt` to encode a new password.\r\n\r\nAnd from this [answer][2] , the total length of a `BCrypt` hashed password is always about 60 bytes no matter how many characters does the password has. The hashed password also needed to be prefixed with `{bcrypt}` which is 8 bytes in order for `DelegatingPasswordEncoder` can decode it.  We give it some extra bytes for buffer and so make its column to be `varchar(80)` or so should be more than enough.\r\n\r\nFor the maximum length of the password that an user can use ,it depends on your business requirement. Just judge it by common sense and give it enough buffer should be okay.  For example, do you think it is common for a person to set his login password to be 200 characters ? If you think it does not make sense , most probably you need to choose the maximum length to a smaller value until you find a maximum value that make sense to you and then give it some buffer.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage-dpe\r\n  [2]: https://stackoverflow.com/a/5882472/339637","title":"What should be password field length in dB when using Spring Security?","body":"<p>If you use spring security 's suggestion which use <a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage-dpe\" rel=\"nofollow noreferrer\"><code>DelegatingPasswordEncoder</code></a> , it will always use <code>BCrypt</code> to encode a new password.</p>\n<p>And from this <a href=\"https://stackoverflow.com/a/5882472/339637\">answer</a> , the total length of a <code>BCrypt</code> hashed password is always about 60 bytes no matter how many characters does the password has. The hashed password also needed to be prefixed with <code>{bcrypt}</code> which is 8 bytes in order for <code>DelegatingPasswordEncoder</code> can decode it.  We give it some extra bytes for buffer and so make its column to be <code>varchar(80)</code> or so should be more than enough.</p>\n<p>For the maximum length of the password that an user can use ,it depends on your business requirement. Just judge it by common sense and give it enough buffer should be okay.  For example, do you think it is common for a person to set his login password to be 200 characters ? If you think it does not make sense , most probably you need to choose the maximum length to a smaller value until you find a maximum value that make sense to you and then give it some buffer.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":910,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75630059,"answer_count":2,"score":0,"last_activity_date":1677872719,"creation_date":1677855526,"question_id":75628635,"body_markdown":"I want to create my User table and set a proper size for password field used for signup request.\r\n\r\n```\r\n@Entity\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class User extends Person {\r\n\r\n    @Column(length = 50, nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(length = 120, nullable = false)\r\n    private String password;\r\n}\r\n```\r\n\r\nBut in here, I should think the length of the encrypted password. I made a search but could not found a solution. So, when using Spring Security, what is the password length in the User table (encrypted) and max length for password field while registering user? \r\n\r\nSpring Security may create proper data properties, but even so, I want to know the algorithm and the length for password field. \r\n\r\nAny help would be appreciated. ","title":"What should be password field length in dB when using Spring Security?","body":"<p>I want to create my User table and set a proper size for password field used for signup request.</p>\n<pre><code>@Entity\n@EqualsAndHashCode(callSuper = true)\npublic class User extends Person {\n\n    @Column(length = 50, nullable = false, unique = true)\n    private String username;\n\n    @Column(length = 120, nullable = false)\n    private String password;\n}\n</code></pre>\n<p>But in here, I should think the length of the encrypted password. I made a search but could not found a solution. So, when using Spring Security, what is the password length in the User table (encrypted) and max length for password field while registering user?</p>\n<p>Spring Security may create proper data properties, but even so, I want to know the algorithm and the length for password field.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1677782289,"post_id":75619526,"comment_id":133410272,"body_markdown":"`Vector`? `SimpleDate`? Looks legacy to me.","body":"<code>Vector</code>? <code>SimpleDate</code>? Looks legacy to me."},{"owner":{"account_id":27819274,"reputation":11,"user_id":21240013,"display_name":"Ebrahim Al-Aghbari"},"score":0,"creation_date":1677782617,"post_id":75619526,"comment_id":133410348,"body_markdown":"@MCEmperor Do you mean its old?","body":"@MCEmperor Do you mean its old?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677782821,"post_id":75619526,"comment_id":133410396,"body_markdown":"You&#39;re declaring the Vector inside the if statement which means it has local scope. It will disappear after the if statement and new one created again on the next tie. Probably not what you intended...","body":"You&#39;re declaring the Vector inside the if statement which means it has local scope. It will disappear after the if statement and new one created again on the next tie. Probably not what you intended..."},{"owner":{"account_id":27819274,"reputation":11,"user_id":21240013,"display_name":"Ebrahim Al-Aghbari"},"score":0,"creation_date":1677783066,"post_id":75619526,"comment_id":133410442,"body_markdown":"@Idle_Mind Thanks for your reply, I fixed that but what I am looking for is how to return a day from a changing vector.","body":"@Idle_Mind Thanks for your reply, I fixed that but what I am looking for is how to return a day from a changing vector."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677785339,"post_id":75619526,"comment_id":133411020,"body_markdown":"Update your code above so we can see your current incarnation.","body":"Update your code above so we can see your current incarnation."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677785647,"post_id":75619526,"comment_id":133411099,"body_markdown":"The modern classes to use are `LocalDate` for a date, `DayOfWeek` for -- what the name says -- and `ArrayList` instead of `Vector`. I recommend them all.","body":"The modern classes to use are <code>LocalDate</code> for a date, <code>DayOfWeek</code> for -- what the name says -- and <code>ArrayList</code> instead of <code>Vector</code>. I recommend them all."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677785747,"post_id":75619526,"comment_id":133411122,"body_markdown":"In the `count == maxcount` case you need to determine whether `freqDay` or `dayOfWeek(dates[i])` is earlier in the week. Which is easy with `DayOfWeek`, not quite so easy with strings, but still doable if you insist.","body":"In the <code>count == maxcount</code> case you need to determine whether <code>freqDay</code> or <code>dayOfWeek(dates[i])</code> is earlier in the week. Which is easy with <code>DayOfWeek</code>, not quite so easy with strings, but still doable if you insist."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677786473,"post_id":75619526,"comment_id":133411300,"body_markdown":"Also show us `dayOfWeek()` as well please.","body":"Also show us <code>dayOfWeek()</code> as well please."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1677797759,"post_id":75619526,"comment_id":133413828,"body_markdown":"@EbrahimAl-Aghbari https://en.wikipedia.org/wiki/Legacy_system","body":"@EbrahimAl-Aghbari <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Legacy_system</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677797789,"post_id":75619526,"comment_id":133413836,"body_markdown":"Explain the class `SimpleDate`. I cannot find that class bundled with Java.","body":"Explain the class <code>SimpleDate</code>. I cannot find that class bundled with Java."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677818850,"post_id":75619526,"comment_id":133416394,"body_markdown":"Not what you asked, your algorithm looks over-complicated to me. If there are 3 Tuesdays in the array, you count them 3 times. And 5000 times if there are 5000 Tuesdays. Once should suffice. Also determining the day of week of a given date is built into Java (the `LocalDate` class mentioned, for example), you had not needed code it yourself. And keeping the day as a string is impractical.","body":"Not what you asked, your algorithm looks over-complicated to me. If there are 3 Tuesdays in the array, you count them 3 times. And 5000 times if there are 5000 Tuesdays. Once should suffice. Also determining the day of week of a given date is built into Java (the <code>LocalDate</code> class mentioned, for example), you had not needed code it yourself. And keeping the day as a string is impractical."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677819166,"post_id":75619526,"comment_id":133416433,"body_markdown":"What I would have done: If the array has length 0, return the empty string. Use an `EnumMap&lt;DayOfWeek, Integer&gt;` for the counts (or an array of `&#236;nt`). Initialize all counts to 0. Iterate once through the date array and for each day of week increment the corresponding count. Then iterate once through the counts form Monday to Sunday to find the first highest count. So when I find the same count again, ignore it because we already know it’s later in the week. Only when finding a strictly higher count, record it as the max. Done.","body":"What I would have done: If the array has length 0, return the empty string. Use an <code>EnumMap&lt;DayOfWeek, Integer&gt;</code> for the counts (or an array of <code>&#236;nt</code>). Initialize all counts to 0. Iterate once through the date array and for each day of week increment the corresponding count. Then iterate once through the counts form Monday to Sunday to find the first highest count. So when I find the same count again, ignore it because we already know it’s later in the week. Only when finding a strictly higher count, record it as the max. Done."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677873868,"post_id":75620337,"comment_id":133430093,"body_markdown":"Looks correct to me.","body":"Looks correct to me."},{"owner":{"account_id":27819274,"reputation":11,"user_id":21240013,"display_name":"Ebrahim Al-Aghbari"},"score":0,"creation_date":1678561070,"post_id":75620337,"comment_id":133559174,"body_markdown":"This is a bit late response, but I realised you did not use the &quot;new&quot; keyword when creating the days list. Is there a reason for not using it, though days is a new object?\n`List&lt;String&gt; days = Arrays.asList(&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;);`","body":"This is a bit late response, but I realised you did not use the &quot;new&quot; keyword when creating the days list. Is there a reason for not using it, though days is a new object? <code>List&lt;String&gt; days = Arrays.asList(&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;, &quot;Sun&quot;);</code>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678568726,"post_id":75620337,"comment_id":133560243,"body_markdown":"If we wanted an EMPTY list then I would have done that. In this case, I wanted the days of the week already in the list. The `Arrays.asList()` method created the list for us and returned it.","body":"If we wanted an EMPTY list then I would have done that. In this case, I wanted the days of the week already in the list. The <code>Arrays.asList()</code> method created the list for us and returned it."}],"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677872151,"creation_date":1677787603,"answer_id":75620337,"question_id":75619526,"body_markdown":"Assuming `dayOfWeek()` returns only one of these values:\r\n\r\n    { &quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot; }\r\n\r\nYou could use a `List` to determine the order of them:\r\n\r\n      public static String mostFrequentDayOfWeek(SimpleDate[] dates ) {\r\n          int maxCount = 0;\r\n          int maxIndex = 0;\r\n          String freqDay = &quot;&quot;;\r\n    \r\n          List&lt;String&gt; days = Arrays.asList(&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;);\r\n          for(SimpleDate d1 : dates) {\r\n            int count = 0;\r\n            String day1 = dayOfWeek(d1);\r\n            for(SimpleDate d2 : dates) {\r\n              String day2 = dayOfWeek(d2);\r\n              if (day1.equals(day2)) {\r\n                count++;\r\n              }      \r\n            }\r\n            \r\n            if (count &gt; maxCount) {\r\n              maxCount = count;\r\n              maxIndex = days.indexOf(day1);\r\n              freqDay = day1;\r\n            }\r\n            else if (count == maxCount) {\r\n              int newIndex = days.indexOf(day1);\r\n              if (newIndex &lt; maxIndex) {\r\n                maxIndex = newIndex;\r\n                freqDay = day1;\r\n              }\r\n            }\r\n          }  \r\n        \r\n          return freqDay;\r\n      }\r\n\r\n","title":"How to choose the earliest day in a Vector (from &quot;Mon&quot; to &quot;Sun&quot;)","body":"<p>Assuming <code>dayOfWeek()</code> returns only one of these values:</p>\n<pre><code>{ &quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot; }\n</code></pre>\n<p>You could use a <code>List</code> to determine the order of them:</p>\n<pre><code>  public static String mostFrequentDayOfWeek(SimpleDate[] dates ) {\n      int maxCount = 0;\n      int maxIndex = 0;\n      String freqDay = &quot;&quot;;\n\n      List&lt;String&gt; days = Arrays.asList(&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;);\n      for(SimpleDate d1 : dates) {\n        int count = 0;\n        String day1 = dayOfWeek(d1);\n        for(SimpleDate d2 : dates) {\n          String day2 = dayOfWeek(d2);\n          if (day1.equals(day2)) {\n            count++;\n          }      \n        }\n        \n        if (count &gt; maxCount) {\n          maxCount = count;\n          maxIndex = days.indexOf(day1);\n          freqDay = day1;\n        }\n        else if (count == maxCount) {\n          int newIndex = days.indexOf(day1);\n          if (newIndex &lt; maxIndex) {\n            maxIndex = newIndex;\n            freqDay = day1;\n          }\n        }\n      }  \n    \n      return freqDay;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677792971,"creation_date":1677792971,"answer_id":75621048,"question_id":75619526,"body_markdown":"to solve the problem modify `else if` block\r\n\r\n    else if (count == maxcount) {\r\n        days.add(dayOfWeek(dates[i]));\r\n        if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\r\n            freqDay = dayOfWeek(dates[i]);\r\n        }\r\n    }\r\n\r\nmodified code as below:\r\n\r\n    public static String mostFrequentDayOfWeek(SimpleDate[] dates) {\r\n        int maxcount = 0;\r\n        String freqDay = &quot;&quot;;\r\n        Vector&lt;String&gt; days = new Vector&lt;String&gt;();\r\n    \r\n        for (int i = 0; i &lt; dates.length; i++) {\r\n    \r\n            int count = 0;\r\n            for (int j = 0; j &lt; dates.length; j++) {\r\n                if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\r\n                    count++;\r\n                }\r\n            }\r\n    \r\n            if (count &gt; maxcount) {\r\n                maxcount = count;\r\n                freqDay = dayOfWeek(dates[i]);\r\n            } else if (count == maxcount) {\r\n                days.add(dayOfWeek(dates[i]));\r\n                if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\r\n                    freqDay = dayOfWeek(dates[i]);\r\n                }\r\n            }\r\n        }\r\n        return freqDay;\r\n    }\r\n\r\n","title":"How to choose the earliest day in a Vector (from &quot;Mon&quot; to &quot;Sun&quot;)","body":"<p>to solve the problem modify <code>else if</code> block</p>\n<pre><code>else if (count == maxcount) {\n    days.add(dayOfWeek(dates[i]));\n    if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\n        freqDay = dayOfWeek(dates[i]);\n    }\n}\n</code></pre>\n<p>modified code as below:</p>\n<pre><code>public static String mostFrequentDayOfWeek(SimpleDate[] dates) {\n    int maxcount = 0;\n    String freqDay = &quot;&quot;;\n    Vector&lt;String&gt; days = new Vector&lt;String&gt;();\n\n    for (int i = 0; i &lt; dates.length; i++) {\n\n        int count = 0;\n        for (int j = 0; j &lt; dates.length; j++) {\n            if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\n                count++;\n            }\n        }\n\n        if (count &gt; maxcount) {\n            maxcount = count;\n            freqDay = dayOfWeek(dates[i]);\n        } else if (count == maxcount) {\n            days.add(dayOfWeek(dates[i]));\n            if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\n                freqDay = dayOfWeek(dates[i]);\n            }\n        }\n    }\n    return freqDay;\n}\n</code></pre>\n"}],"owner":{"account_id":27819274,"reputation":11,"user_id":21240013,"display_name":"Ebrahim Al-Aghbari"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75620337,"answer_count":2,"score":0,"last_activity_date":1677872151,"creation_date":1677781855,"question_id":75619526,"body_markdown":"This method takes a list of dates and it returns the most frequent day within the dates. It returns correctly; however, in case of tie between the days, the earliest day should be returned. For example, if there was a tie between Tuesday and Friday, the method should return &quot;Tue&quot;. However, I could not figure out how to do it. I figured out how to return in case of tie but not the earliest day. \r\n\r\n```\r\npublic static String mostFrequentDayOfWeek( SimpleDate[] dates ) {\r\n        int maxcount = 0;\r\n        String freqDay = &quot;&quot;;\r\n        Vector&lt;String&gt; days = new Vector&lt;String&gt;();\r\n\r\n        for (int i = 0; i &lt; dates.length; i++) {\r\n\r\n            int count = 0;\r\n            for (int j = 0; j &lt; dates.length; j++) {\r\n                if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            if (count &gt; maxcount) {\r\n                maxcount = count;\r\n                freqDay = dayOfWeek(dates[i]);\r\n            }\r\n\r\n            else if (count == maxcount) {\r\n                Vector&lt;String&gt; days;\r\n                days = new Vector&lt;String&gt;();\r\n                days.add(dayOfWeek(dates[i]));\r\n                freqDay = days.get(i);\r\n                \r\n            }\r\n        }\r\n        return freqDay;\r\n    }\r\n```\r\n\r\nThis is the bit where im stuck on:\r\n\r\n```\r\nelse if (count == maxcount) {\r\n                \r\n                \r\n                days.add(dayOfWeek(dates[i]));\r\n                freqDay = days.get(i);\r\n                \r\n            }\r\n```\r\nIt&#39;s not completed but im asking if you could demonstrate a way to do it.\r\n\r\n\r\n\r\nThe code should return the earliest most frequent day in case of tie only.\r\n\r\nThis is dayOfWeeks method as requested:\r\n\r\n    public static String dayOfWeek( SimpleDate date ) {\r\n            // declared vairables to utilise the getters of day, month and year in SimpleDate\r\n            int day = date.getDay();     \r\n            int month = date.getMonth(); \r\n            int year = date.getYear();   \r\n            int Z, X, Y, W, C, D;\r\n            String nameofday = &quot;&quot;; // a variable that will be returned by the method \r\n    \r\n            if(month &lt; 3){\r\n                month = month + 12;\r\n                year = year - 1;\r\n            }\r\n            C = year % 100;\r\n            D = year / 100;\r\n            W = 13*( month + 1 )/5;\r\n            X = C / 4;\r\n            Y = D / 4;\r\n            Z = W + X + Y + day + C - 2 * D;\r\n            day = Z % 7;\r\n    \r\n            if(day&lt;0){\r\n                day =+ 7;\r\n            }\r\n                    // switch-case statement to switch whatever the value of &#39;day&#39; to its corresponce abbreaviation\r\n            switch(day){\r\n                case 0 : nameofday = &quot;Sat&quot;;break;\r\n                case 1 : nameofday = &quot;Sun&quot;;break;\r\n                case 2 : nameofday = &quot;Mon&quot;;break;\r\n                case 3 : nameofday = &quot;Tue&quot;;break;\r\n                case 4 : nameofday = &quot;Wed&quot;;break;\r\n                case 5 : nameofday = &quot;Thu&quot;;break;\r\n                case 6 : nameofday = &quot;Fri&quot;;break;\r\n            }\r\n            return nameofday;\r\n        }","title":"How to choose the earliest day in a Vector (from &quot;Mon&quot; to &quot;Sun&quot;)","body":"<p>This method takes a list of dates and it returns the most frequent day within the dates. It returns correctly; however, in case of tie between the days, the earliest day should be returned. For example, if there was a tie between Tuesday and Friday, the method should return &quot;Tue&quot;. However, I could not figure out how to do it. I figured out how to return in case of tie but not the earliest day.</p>\n<pre><code>public static String mostFrequentDayOfWeek( SimpleDate[] dates ) {\n        int maxcount = 0;\n        String freqDay = &quot;&quot;;\n        Vector&lt;String&gt; days = new Vector&lt;String&gt;();\n\n        for (int i = 0; i &lt; dates.length; i++) {\n\n            int count = 0;\n            for (int j = 0; j &lt; dates.length; j++) {\n                if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\n                    count++;\n                }\n            }\n\n            if (count &gt; maxcount) {\n                maxcount = count;\n                freqDay = dayOfWeek(dates[i]);\n            }\n\n            else if (count == maxcount) {\n                Vector&lt;String&gt; days;\n                days = new Vector&lt;String&gt;();\n                days.add(dayOfWeek(dates[i]));\n                freqDay = days.get(i);\n                \n            }\n        }\n        return freqDay;\n    }\n</code></pre>\n<p>This is the bit where im stuck on:</p>\n<pre><code>else if (count == maxcount) {\n                \n                \n                days.add(dayOfWeek(dates[i]));\n                freqDay = days.get(i);\n                \n            }\n</code></pre>\n<p>It's not completed but im asking if you could demonstrate a way to do it.</p>\n<p>The code should return the earliest most frequent day in case of tie only.</p>\n<p>This is dayOfWeeks method as requested:</p>\n<pre><code>public static String dayOfWeek( SimpleDate date ) {\n        // declared vairables to utilise the getters of day, month and year in SimpleDate\n        int day = date.getDay();     \n        int month = date.getMonth(); \n        int year = date.getYear();   \n        int Z, X, Y, W, C, D;\n        String nameofday = &quot;&quot;; // a variable that will be returned by the method \n\n        if(month &lt; 3){\n            month = month + 12;\n            year = year - 1;\n        }\n        C = year % 100;\n        D = year / 100;\n        W = 13*( month + 1 )/5;\n        X = C / 4;\n        Y = D / 4;\n        Z = W + X + Y + day + C - 2 * D;\n        day = Z % 7;\n\n        if(day&lt;0){\n            day =+ 7;\n        }\n                // switch-case statement to switch whatever the value of 'day' to its corresponce abbreaviation\n        switch(day){\n            case 0 : nameofday = &quot;Sat&quot;;break;\n            case 1 : nameofday = &quot;Sun&quot;;break;\n            case 2 : nameofday = &quot;Mon&quot;;break;\n            case 3 : nameofday = &quot;Tue&quot;;break;\n            case 4 : nameofday = &quot;Wed&quot;;break;\n            case 5 : nameofday = &quot;Thu&quot;;break;\n            case 6 : nameofday = &quot;Fri&quot;;break;\n        }\n        return nameofday;\n    }\n</code></pre>\n"},{"tags":["java","spring","logging","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533714850,"creation_date":1498208807,"answer_id":44717428,"question_id":44552747,"body_markdown":"I don&#39;t think it&#39;s possible to override all child logger levels where a child logger level has already been explicitly set. \r\n\r\nSpring Boot&#39;s `LoggingEndpoint` delegates to `ch.qos.logback.classic.Logger.handleParentLevelChange()` and that method has a conditional block on `if(this.level == null) { }` so when the recursive call (which walks over all loggers) arrives at &quot;com.parent.child&quot; it will do nothing because &quot;com.parent.child&quot; already has an assigned level.\r\n\r\nYou can, of course, set a configuredLevel on a specific logger since that calls `ch.qos.logback.classic.Logger.setLevel()` and hence is not subject to the conditional block in `handleParentLevelChange()`.","title":"Spring Boot Actuator: can I change the logger level for entire package in one go?","body":"<p>I don't think it's possible to override all child logger levels where a child logger level has already been explicitly set. </p>\n\n<p>Spring Boot's <code>LoggingEndpoint</code> delegates to <code>ch.qos.logback.classic.Logger.handleParentLevelChange()</code> and that method has a conditional block on <code>if(this.level == null) { }</code> so when the recursive call (which walks over all loggers) arrives at \"com.parent.child\" it will do nothing because \"com.parent.child\" already has an assigned level.</p>\n\n<p>You can, of course, set a configuredLevel on a specific logger since that calls <code>ch.qos.logback.classic.Logger.setLevel()</code> and hence is not subject to the conditional block in <code>handleParentLevelChange()</code>.</p>\n"},{"tags":[],"owner":{"account_id":27930001,"reputation":1,"user_id":21328258,"display_name":"RichardL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677872150,"creation_date":1677872150,"answer_id":75631224,"question_id":44552747,"body_markdown":"Looking for this led me to a property that you might find useful.  Using curl, you can post the desired logging level as &quot;&quot; (zero length string) which has the effect of setting the configuredLevel to null.  This can be done for the child or parent in the hierarchy and then allows you dynamically set and unset from either the parent or the child class logging levels.","title":"Spring Boot Actuator: can I change the logger level for entire package in one go?","body":"<p>Looking for this led me to a property that you might find useful.  Using curl, you can post the desired logging level as &quot;&quot; (zero length string) which has the effect of setting the configuredLevel to null.  This can be done for the child or parent in the hierarchy and then allows you dynamically set and unset from either the parent or the child class logging levels.</p>\n"}],"owner":{"account_id":374969,"reputation":1404,"user_id":1522753,"accept_rate":36,"display_name":"Bartek Maraszek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677872150,"creation_date":1497467058,"question_id":44552747,"body_markdown":"In my Spring Boot application, I&#39;ve enabled the Actuators, and I can see all my loggers at: `localhost:8080/loggers` like this:\r\n\r\n    \r\n    &quot;com.parent&quot;:{&quot;configuredLevel&quot;:&quot;INFO&quot;,&quot;effectiveLevel&quot;:&quot;INFO&quot;},\r\n    &quot;com.parent.child&quot;:{&quot;configuredLevel&quot;:&quot;TRACE&quot;,&quot;effectiveLevel&quot;:&quot;TRACE&quot;}\r\n    [...]\r\n\r\nNow I change the logging level by sending a request:\r\n\r\n    curl -i -X POST -H &#39;Content-Type: application/json&#39; -d &#39;{&quot;configuredLevel&quot;: &quot;DEBUG&quot;}&#39; http://localhost:8080/loggers/com.parent\r\n\r\nHad the `configuredLevel` of `com.parent.child` not been set, changing the `com.parent`&#39;s logging level would have changed `com.parent.child`&#39;s  `effectiveLevel`.\r\n\r\nIs there a way to override all children&#39;s logger level in a single request even though the `configuredLevel` has already been set?\r\n\r\nI&#39;ve tried using `*` as a wildcard symbol, but it didn&#39;t work. Is what I&#39;m trying to do possible, or I have to reset the `configuredLevel` of all children separately?\r\n","title":"Spring Boot Actuator: can I change the logger level for entire package in one go?","body":"<p>In my Spring Boot application, I've enabled the Actuators, and I can see all my loggers at: <code>localhost:8080/loggers</code> like this:</p>\n\n<pre><code>\"com.parent\":{\"configuredLevel\":\"INFO\",\"effectiveLevel\":\"INFO\"},\n\"com.parent.child\":{\"configuredLevel\":\"TRACE\",\"effectiveLevel\":\"TRACE\"}\n[...]\n</code></pre>\n\n<p>Now I change the logging level by sending a request:</p>\n\n<pre><code>curl -i -X POST -H 'Content-Type: application/json' -d '{\"configuredLevel\": \"DEBUG\"}' http://localhost:8080/loggers/com.parent\n</code></pre>\n\n<p>Had the <code>configuredLevel</code> of <code>com.parent.child</code> not been set, changing the <code>com.parent</code>'s logging level would have changed <code>com.parent.child</code>'s  <code>effectiveLevel</code>.</p>\n\n<p>Is there a way to override all children's logger level in a single request even though the <code>configuredLevel</code> has already been set?</p>\n\n<p>I've tried using <code>*</code> as a wildcard symbol, but it didn't work. Is what I'm trying to do possible, or I have to reset the <code>configuredLevel</code> of all children separately?</p>\n"},{"tags":["java","android","flutter","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18775293,"reputation":581,"user_id":13691187,"display_name":"Ammar Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677872142,"creation_date":1677872142,"answer_id":75631222,"question_id":75631113,"body_markdown":"Found an answer [here][1]\r\nYou just need to copy the contents of jbr folder to jre folder and it works\r\n\r\n  [1]: https://stackoverflow.com/questions/68569430/unable-to-find-bundled-java-version-with-flutter-doctor-after-updating-android","title":"Android Studio after update Error: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg&#39;","body":"<p>Found an answer <a href=\"https://stackoverflow.com/questions/68569430/unable-to-find-bundled-java-version-with-flutter-doctor-after-updating-android\">here</a>\nYou just need to copy the contents of jbr folder to jre folder and it works</p>\n"}],"owner":{"account_id":18775293,"reputation":581,"user_id":13691187,"display_name":"Ammar Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75631222,"answer_count":1,"score":1,"last_activity_date":1677872142,"creation_date":1677871372,"question_id":75631113,"body_markdown":"After updating Android Studio to Electric Eel version, I try to build an apk from a Flutter project it gives the message \r\n```\r\nError: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg&#39;\r\n```\r\nI noticed that ```Program Files\\Android``` contained two Android Studio folders with the other named as ```Android Studio1``` and it contains the correct folders, while the other contained only this ```jre``` folder  and the file ```jvm.cfg``` doesn&#39;t exist, is there something I can do other than deleting the whole thing and re installing?","title":"Android Studio after update Error: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg&#39;","body":"<p>After updating Android Studio to Electric Eel version, I try to build an apk from a Flutter project it gives the message</p>\n<pre><code>Error: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg'\n</code></pre>\n<p>I noticed that <code>Program Files\\Android</code> contained two Android Studio folders with the other named as <code>Android Studio1</code> and it contains the correct folders, while the other contained only this <code>jre</code> folder  and the file <code>jvm.cfg</code> doesn't exist, is there something I can do other than deleting the whole thing and re installing?</p>\n"},{"tags":["java","mocking","mockito","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":3,"creation_date":1663653355,"post_id":73778856,"comment_id":130284060,"body_markdown":"That version of Quarkus is quite old actually... It&#39;s hard to know what&#39;s going on, but my guess is that you are seeing a bug that has already been fixed in newer Quarkus versions","body":"That version of Quarkus is quite old actually... It&#39;s hard to know what&#39;s going on, but my guess is that you are seeing a bug that has already been fixed in newer Quarkus versions"}],"answers":[{"tags":[],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672327164,"creation_date":1672327164,"answer_id":74952911,"question_id":73778856,"body_markdown":"Maybe too late but someone might be interested ...\r\n\r\nChange your application.properties like this :\r\n`%test.RESTCLIENT-1.0/mp-rest/scope=javax.enterprise.context.ApplicationScoped` where you may have `RESTCLIENT-1.0/mp-rest/scope=javax.inject.Singleton`.\r\nIn other word replace `javax.inject.Singleton` by `javax.enterprise.context.ApplicationScoped` for the test profile.","title":"Quarkus Mockito Not Inject Mock with Rest Client","body":"<p>Maybe too late but someone might be interested ...</p>\n<p>Change your application.properties like this :\n<code>%test.RESTCLIENT-1.0/mp-rest/scope=javax.enterprise.context.ApplicationScoped</code> where you may have <code>RESTCLIENT-1.0/mp-rest/scope=javax.inject.Singleton</code>.\nIn other word replace <code>javax.inject.Singleton</code> by <code>javax.enterprise.context.ApplicationScoped</code> for the test profile.</p>\n"},{"tags":[],"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677871797,"creation_date":1677871797,"answer_id":75631181,"question_id":73778856,"body_markdown":"From quarkus.io guide -\r\n\r\n&gt; By default, the @InjectMock annotation can be used for any normal CDI scoped bean (e.g. @ApplicationScoped, @RequestScoped). Mocking @Singleton beans can be performed by setting the `convertScopes` property to true (such as @InjectMock(convertScopes = true). This will convert the @Singleton bean to an @ApplicationScoped bean for the test.\r\n\r\n    @InjectMock(convertScopes = true)\r\n    @RestClient\r\n    MyRestService service;\r\n\r\nThis pretty much worked for me after researching for long hours\r\n\r\nhttps://quarkus.io/guides/getting-started-testing","title":"Quarkus Mockito Not Inject Mock with Rest Client","body":"<p>From quarkus.io guide -</p>\n<blockquote>\n<p>By default, the @InjectMock annotation can be used for any normal CDI scoped bean (e.g. @ApplicationScoped, @RequestScoped). Mocking @Singleton beans can be performed by setting the <code>convertScopes</code> property to true (such as @InjectMock(convertScopes = true). This will convert the @Singleton bean to an @ApplicationScoped bean for the test.</p>\n</blockquote>\n<pre><code>@InjectMock(convertScopes = true)\n@RestClient\nMyRestService service;\n</code></pre>\n<p>This pretty much worked for me after researching for long hours</p>\n<p><a href=\"https://quarkus.io/guides/getting-started-testing\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing</a></p>\n"}],"owner":{"account_id":24815272,"reputation":3,"user_id":18696174,"display_name":"devs4wl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75631181,"answer_count":2,"score":0,"last_activity_date":1677871797,"creation_date":1663618822,"question_id":73778856,"body_markdown":"Following quakus guide for mocking: https://quarkus.io/blog/mocking. The client is working fine in my **api**, but when I try to mock my **Rest Client**, it returns a error.\r\n\r\nMy test class:\r\n--------------\r\n\r\n    @InjectMock\r\n    @RestClient\r\n    CustomClient customClient;\r\n\r\nMy Rest Client:\r\n---------------\r\n\r\n    @Path(&quot;/clientes&quot;)\r\n    @ApplicationScoped\r\n    @RegisterRestClient\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public interface CustomClient {\r\n\r\n      @GET\r\n      Object findById(@QueryParam(&quot;id&quot;) String id);\r\n    }\r\n\r\nStack trace:\r\n------------\r\n\r\n    org.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\r\n\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.initTestState(QuarkusTestExtension.java:823)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:787)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n  \r\n\r\n    Caused by: org.mockito.exceptions.base.MockitoException: \r\n    Cannot mock/spy class com.sun.proxy.$Proxy90\r\n    Mockito cannot mock/spy because :\r\n    -final class\r\n\r\n    at io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.createMockAndSetTestField(CreateMockitoMocksCallback.java:54)\r\n\tat io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.afterConstruct(CreateMockitoMocksCallback.java:29)\r\n\t... 66 more\r\n\r\nIt seems `mockito` not injecting rest client. I&#39;m using **Quarkus** **1.13.1 Final**, due to organizational policies.","title":"Quarkus Mockito Not Inject Mock with Rest Client","body":"<p>Following quakus guide for mocking: <a href=\"https://quarkus.io/blog/mocking\" rel=\"nofollow noreferrer\">https://quarkus.io/blog/mocking</a>. The client is working fine in my <strong>api</strong>, but when I try to mock my <strong>Rest Client</strong>, it returns a error.</p>\n<h2>My test class:</h2>\n<pre><code>@InjectMock\n@RestClient\nCustomClient customClient;\n</code></pre>\n<h2>My Rest Client:</h2>\n<pre><code>@Path(&quot;/clientes&quot;)\n@ApplicationScoped\n@RegisterRestClient\n@Produces(MediaType.APPLICATION_JSON)\npublic interface CustomClient {\n\n  @GET\n  Object findById(@QueryParam(&quot;id&quot;) String id);\n}\n</code></pre>\n<h2>Stack trace:</h2>\n<pre><code>org.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\n\nat io.quarkus.test.junit.QuarkusTestExtension.initTestState(QuarkusTestExtension.java:823)\nat io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:787)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\nat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\nat java.base/java.util.Optional.orElseGet(Optional.java:369)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\nat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n\n\nCaused by: org.mockito.exceptions.base.MockitoException: \nCannot mock/spy class com.sun.proxy.$Proxy90\nMockito cannot mock/spy because :\n-final class\n\nat io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.createMockAndSetTestField(CreateMockitoMocksCallback.java:54)\nat io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.afterConstruct(CreateMockitoMocksCallback.java:29)\n... 66 more\n</code></pre>\n<p>It seems <code>mockito</code> not injecting rest client. I'm using <strong>Quarkus</strong> <strong>1.13.1 Final</strong>, due to organizational policies.</p>\n"},{"tags":["java","maven","apache-nifi"],"answers":[{"comments":[{"owner":{"account_id":1840430,"reputation":1299,"user_id":1669954,"display_name":"Tekz"},"score":0,"creation_date":1617658883,"post_id":66954645,"comment_id":118360564,"body_markdown":"Thanks for the reply, I need some clarification, on this Are you saying I should use `nifi-standard-services-api-nar` dependency in my `nifi-decoder-processors-nar` pom.xml\n\nand for compile time I should use other two jars dependencies in my `nifi-decoder-processors-processors` (where the actual processor code resides) pom.xml?\n\ni.e. https://mvnrepository.com/artifact/org.apache.nifi/nifi-lookup-service-api and https://mvnrepository.com/artifact/org.apache.nifi/nifi-record, just for compile time?","body":"Thanks for the reply, I need some clarification, on this Are you saying I should use <code>nifi-standard-services-api-nar</code> dependency in my <code>nifi-decoder-processors-nar</code> pom.xml  and for compile time I should use other two jars dependencies in my <code>nifi-decoder-processors-processors</code> (where the actual processor code resides) pom.xml?  i.e. <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-lookup-service-api\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.nifi/&hellip;</a> and <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-record\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.nifi/nifi-record</a>, just for compile time?"},{"owner":{"account_id":21061064,"reputation":517,"user_id":15479443,"display_name":"yaprak"},"score":1,"creation_date":1617706276,"post_id":66954645,"comment_id":118373192,"body_markdown":"I edited my reply to add compile dependency . I hope it helps.","body":"I edited my reply to add compile dependency . I hope it helps."},{"owner":{"account_id":1840430,"reputation":1299,"user_id":1669954,"display_name":"Tekz"},"score":0,"creation_date":1617757391,"post_id":66954645,"comment_id":118393245,"body_markdown":"Thanks a lot @yaprakme, yes I also managed to add the `nifi-lookup-service-api` and also `nifi-record` as I needed to use `Record` class, and it worked. Thanks a lot for your help.","body":"Thanks a lot @yaprakme, yes I also managed to add the <code>nifi-lookup-service-api</code> and also <code>nifi-record</code> as I needed to use <code>Record</code> class, and it worked. Thanks a lot for your help."}],"tags":[],"owner":{"account_id":21061064,"reputation":517,"user_id":15479443,"display_name":"yaprak"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617706123,"creation_date":1617633018,"answer_id":66954645,"question_id":66951167,"body_markdown":"in order to make use of it in runtime you must add below dependency in  nifi-decoder-processors-nar&#39;s pom file. type is nar\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.0&lt;/version&gt;\r\n            &lt;type&gt;nar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\nas for compiler time add below in nifi-decoder-processors-processors &#39; pom file (I found it in Nar&#39;s pom.xml in repository, you may think NAR as collection of dependency)\r\n\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;nifi-lookup-service-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.13.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n[see this post](https://community.cloudera.com/t5/Support-Questions/How-to-use-one-of-nifi-standard-services-like-DBCPService-in/td-p/179077) \r\n","title":"Cannot resolve org.apache.nifi:nifi-standard-services-api-nar - How to use LookupService inside CustomProcessor","body":"<p>in order to make use of it in runtime you must add below dependency in  nifi-decoder-processors-nar's pom file. type is nar</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\n        &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;type&gt;nar&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>as for compiler time add below in nifi-decoder-processors-processors ' pom file (I found it in Nar's pom.xml in repository, you may think NAR as collection of dependency)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-lookup-service-api&lt;/artifactId&gt;\n        &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://community.cloudera.com/t5/Support-Questions/How-to-use-one-of-nifi-standard-services-like-DBCPService-in/td-p/179077\" rel=\"nofollow noreferrer\">see this post</a></p>\n"},{"tags":[],"owner":{"account_id":27445650,"reputation":1,"user_id":20939490,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677869950,"creation_date":1677869950,"answer_id":75630908,"question_id":66951167,"body_markdown":"Run the following maven command (replace 1.20.0 with your version):\r\n\r\n    dependency:get -Dartifact=org.apache.nifi:nifi-standard-services-api-nar:1.20.0\r\n\r\nThis will make sure everything the NAR Mojo needs is in your _local_ repository.","title":"Cannot resolve org.apache.nifi:nifi-standard-services-api-nar - How to use LookupService inside CustomProcessor","body":"<p>Run the following maven command (replace 1.20.0 with your version):</p>\n<pre><code>dependency:get -Dartifact=org.apache.nifi:nifi-standard-services-api-nar:1.20.0\n</code></pre>\n<p>This will make sure everything the NAR Mojo needs is in your <em>local</em> repository.</p>\n"}],"owner":{"account_id":1840430,"reputation":1299,"user_id":1669954,"display_name":"Tekz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1220,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66954645,"answer_count":2,"score":3,"last_activity_date":1677869950,"creation_date":1617616479,"question_id":66951167,"body_markdown":"I&#39;m implementing Custom NiFi Processor to decode some files. During the decode process I need to lookup external CSV record for certain data mapping. Note the this decoding process is complex so it has to be a custom processor. I know I can setup external CSVRecordLookupService and then within my CustomController I can define a property descriptor as below\r\n\r\n~~~java\r\n    public static final PropertyDescriptor CLIENT_LOOKUP_SERVICE =\r\n            new PropertyDescriptor.Builder()\r\n                    .name(&quot;Client CSV Lookup service&quot;)\r\n                    .identifiesControllerService(LookupService.class)\r\n                    .required(true)\r\n                    .build();\r\n~~~\r\n\r\nMy first problem is How to refer `LookupService.class`, which maven Jar package should I use. After bit of investigation I found this [https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0](https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0). So I added it to my `processors` `pom.xml` as below\r\n\r\n~~~xml\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n~~~\r\n\r\nNow I can compile my class and `LookupService` is visible to the code. However I cannot build the `nar` or run the maven as it gives `Cannot resolve org.apache.nifi:nifi-standard-services-api-nar:1.13.0` error\r\n\r\nin the IDEA it also shows the error \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UE6jD.png\r\n\r\nHow to solve this issue and use `org.apache.nifi.lookup.LookupService` in my custom processor.\r\n\r\nI believe it probably because it comes as `nar` instead of `jar`. But my question is how do I use LookupService at compile time only and use the NiFi provided classes at run time by solving this issue.\r\n\r\n\r\n&gt; UPDATE\r\n\r\nI&#39;d like to provide an update on this, but the issue is not fully resolved.\r\n\r\nI found a jar in [maven repo](https://mvnrepository.com/artifact/org.apache.nifi/nifi-lookup-service-api/1.13.0) which has the `LookupService`\r\n\r\n\r\n\r\nThis together with [org.apache.nifi.serialization.record.Record](https://mvnrepository.com/artifact/org.apache.nifi/nifi-record)&#160;I can compile and run the maven successfully.&#160;\r\n\r\n\r\n\r\nAccording to maven repo dependency both these should be declared with the scope `provided`. So I did that.\r\n\r\nNow the problem is I cannot package the nar. It doesn&#39;t like the I excluded the LookupService class. even if I remove provided scope it doesn&#39;t get included as well.\r\n\r\n~~~\r\n[INFO] Generating documentation for NiFi extensions in the NAR...\r\n[INFO] Found a dependency on version 1.13.0 of NiFi API\r\n[ERROR] Could not generate extensions&#39; documentation\r\njava.lang.NoClassDefFoundError: org/apache/nifi/lookup/LookupService\r\n\r\n...\r\n...\r\n\r\n[ERROR] Failed to execute goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar (default-nar) on project nifi-decoder-processors-nar: Execution default-nar of goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar failed: A required class was missing while executing org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar: org/apache/nifi/lookup/LookupService\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    extension&gt;org.apache.nifi:nifi-nar-maven-plugin:1.3.1\r\n~~~\r\n\r\nSo how do we use this LookupService in our custom processors?\r\n","title":"Cannot resolve org.apache.nifi:nifi-standard-services-api-nar - How to use LookupService inside CustomProcessor","body":"<p>I'm implementing Custom NiFi Processor to decode some files. During the decode process I need to lookup external CSV record for certain data mapping. Note the this decoding process is complex so it has to be a custom processor. I know I can setup external CSVRecordLookupService and then within my CustomController I can define a property descriptor as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final PropertyDescriptor CLIENT_LOOKUP_SERVICE =\n            new PropertyDescriptor.Builder()\n                    .name(&quot;Client CSV Lookup service&quot;)\n                    .identifiesControllerService(LookupService.class)\n                    .required(true)\n                    .build();\n</code></pre>\n<p>My first problem is How to refer <code>LookupService.class</code>, which maven Jar package should I use. After bit of investigation I found this <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0</a>. So I added it to my <code>processors</code> <code>pom.xml</code> as below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\n            &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Now I can compile my class and <code>LookupService</code> is visible to the code. However I cannot build the <code>nar</code> or run the maven as it gives <code>Cannot resolve org.apache.nifi:nifi-standard-services-api-nar:1.13.0</code> error</p>\n<p>in the IDEA it also shows the error</p>\n<p><a href=\"https://i.stack.imgur.com/UE6jD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UE6jD.png\" alt=\"enter image description here\" /></a></p>\n<p>How to solve this issue and use <code>org.apache.nifi.lookup.LookupService</code> in my custom processor.</p>\n<p>I believe it probably because it comes as <code>nar</code> instead of <code>jar</code>. But my question is how do I use LookupService at compile time only and use the NiFi provided classes at run time by solving this issue.</p>\n<blockquote>\n<p>UPDATE</p>\n</blockquote>\n<p>I'd like to provide an update on this, but the issue is not fully resolved.</p>\n<p>I found a jar in <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-lookup-service-api/1.13.0\" rel=\"nofollow noreferrer\">maven repo</a> which has the <code>LookupService</code></p>\n<p>This together with <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-record\" rel=\"nofollow noreferrer\">org.apache.nifi.serialization.record.Record</a> I can compile and run the maven successfully. </p>\n<p>According to maven repo dependency both these should be declared with the scope <code>provided</code>. So I did that.</p>\n<p>Now the problem is I cannot package the nar. It doesn't like the I excluded the LookupService class. even if I remove provided scope it doesn't get included as well.</p>\n<pre><code>[INFO] Generating documentation for NiFi extensions in the NAR...\n[INFO] Found a dependency on version 1.13.0 of NiFi API\n[ERROR] Could not generate extensions' documentation\njava.lang.NoClassDefFoundError: org/apache/nifi/lookup/LookupService\n\n...\n...\n\n[ERROR] Failed to execute goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar (default-nar) on project nifi-decoder-processors-nar: Execution default-nar of goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar failed: A required class was missing while executing org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar: org/apache/nifi/lookup/LookupService\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    extension&gt;org.apache.nifi:nifi-nar-maven-plugin:1.3.1\n</code></pre>\n<p>So how do we use this LookupService in our custom processors?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"score":0,"creation_date":1677869971,"post_id":75630862,"comment_id":133429192,"body_markdown":"Thank you. I used Spring Boot&#39;s [`ObjectDeserializer&lt;T&gt;`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jackson/JsonObjectDeserializer.html) but the approach is the same","body":"Thank you. I used Spring Boot&#39;s <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jackson/JsonObjectDeserializer.html\" rel=\"nofollow noreferrer\"><code>ObjectDeserializer&lt;T&gt;</code></a> but the approach is the same"}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677869601,"creation_date":1677869601,"answer_id":75630862,"question_id":75626593,"body_markdown":"Because you want to encapsulate a polymorphic value into the `Object`field of your `Field` class the task can be solved with a custom [`StdDeserializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html) deserializer distinguishing the three cases you indicated (string, array, and map). So if you take a simplified version of your classes like below:\r\n\r\n~~~\r\n@Data\r\npublic class Field {\r\n    @JsonDeserialize(using = OptionDeserializer.class)\r\n    private Object option;\r\n}\r\n\r\n@Data\r\npublic class DetFieldOption {\r\n    private String value;\r\n    private String label;\r\n}\r\n~~~\r\n\r\nYou can define a custom `stdDeserializer` that can return a different object in the three cases you indicated checking if the `JsonNode` option is a string, an array, or an object:\r\n\r\n~~~\r\npublic class OptionDeserializer extends StdDeserializer&lt;Object&gt; {\r\n\r\n    public OptionDeserializer() {\r\n        super(Object.class);\r\n    }\r\n\r\n    @Override\r\n    public Object deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        ObjectCodec codec = jp.getCodec();\r\n        JsonNode node = codec.readTree(jp);\r\n        //jsonnode is an array so it will be converted to DetFieldOption[]\r\n        if (node.isArray()) {\r\n            return codec.treeToValue(node, DetFieldOption[].class);\r\n        }\r\n        //jsonnode is a pojo so to convert it to a Map&lt;String, String&gt;\r\n        //it is necessary to define a new TypeReference\r\n        //no key as Integer because in a json keys are always string\r\n        //but you can convert them to integer if you need\r\n        if (node.isObject()) {\r\n            TypeReference typeRef = new TypeReference&lt;Map&lt;String, String&gt;&gt;(){};\r\n            Map&lt;String, String&gt; map = codec.readValue(codec.treeAsTokens(node),\r\n                    dc.getTypeFactory().constructType(typeRef));\r\n            return map;\r\n        }\r\n        //default case node is a string\r\n        return node.asText();\r\n    }\r\n}\r\n~~~\r\nThen you can convert json strings like the following below to `Field` objects:\r\n\r\n~~~\r\nString json3 = &quot;&quot;&quot;\r\n                    {&quot;option&quot;: &quot;myString&quot;}\r\n              &quot;&quot;&quot;;\r\n\r\nString json2 = &quot;&quot;&quot;\r\n                    {&quot;option&quot;: [{&quot;value&quot;: &quot;myValue&quot;}]}\r\n               &quot;&quot;&quot;;\r\nString json3 = &quot;&quot;&quot;\r\n                    {&quot;option&quot;: {&quot;1&quot;: &quot;myString1&quot;}}\r\n               &quot;&quot;&quot;;\r\nField field1 = mapper.readValue(json1, Field.class);\r\nField field2 = mapper.readValue(json2, Field.class);\r\nField field3 = mapper.readValue(json3, Field.class);\r\n~~~\r\n\r\n\r\n","title":"Mapping Typescript dynamic types into Java Object&#39;s subclasses","body":"<p>Because you want to encapsulate a polymorphic value into the <code>Object</code>field of your <code>Field</code> class the task can be solved with a custom <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html\" rel=\"nofollow noreferrer\"><code>StdDeserializer</code></a> deserializer distinguishing the three cases you indicated (string, array, and map). So if you take a simplified version of your classes like below:</p>\n<pre><code>@Data\npublic class Field {\n    @JsonDeserialize(using = OptionDeserializer.class)\n    private Object option;\n}\n\n@Data\npublic class DetFieldOption {\n    private String value;\n    private String label;\n}\n</code></pre>\n<p>You can define a custom <code>stdDeserializer</code> that can return a different object in the three cases you indicated checking if the <code>JsonNode</code> option is a string, an array, or an object:</p>\n<pre><code>public class OptionDeserializer extends StdDeserializer&lt;Object&gt; {\n\n    public OptionDeserializer() {\n        super(Object.class);\n    }\n\n    @Override\n    public Object deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        ObjectCodec codec = jp.getCodec();\n        JsonNode node = codec.readTree(jp);\n        //jsonnode is an array so it will be converted to DetFieldOption[]\n        if (node.isArray()) {\n            return codec.treeToValue(node, DetFieldOption[].class);\n        }\n        //jsonnode is a pojo so to convert it to a Map&lt;String, String&gt;\n        //it is necessary to define a new TypeReference\n        //no key as Integer because in a json keys are always string\n        //but you can convert them to integer if you need\n        if (node.isObject()) {\n            TypeReference typeRef = new TypeReference&lt;Map&lt;String, String&gt;&gt;(){};\n            Map&lt;String, String&gt; map = codec.readValue(codec.treeAsTokens(node),\n                    dc.getTypeFactory().constructType(typeRef));\n            return map;\n        }\n        //default case node is a string\n        return node.asText();\n    }\n}\n</code></pre>\n<p>Then you can convert json strings like the following below to <code>Field</code> objects:</p>\n<pre><code>String json3 = &quot;&quot;&quot;\n                    {&quot;option&quot;: &quot;myString&quot;}\n              &quot;&quot;&quot;;\n\nString json2 = &quot;&quot;&quot;\n                    {&quot;option&quot;: [{&quot;value&quot;: &quot;myValue&quot;}]}\n               &quot;&quot;&quot;;\nString json3 = &quot;&quot;&quot;\n                    {&quot;option&quot;: {&quot;1&quot;: &quot;myString1&quot;}}\n               &quot;&quot;&quot;;\nField field1 = mapper.readValue(json1, Field.class);\nField field2 = mapper.readValue(json2, Field.class);\nField field3 = mapper.readValue(json3, Field.class);\n</code></pre>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75630862,"answer_count":1,"score":2,"last_activity_date":1677869601,"creation_date":1677843394,"question_id":75626593,"body_markdown":"I have a Typescript model being sent as JSON request to my back end server. I can&#39;t change the model into a more engineered format, so I have to use what the client is going to send me.\r\n\r\nThe Typescript interface uses the pipe to perform polymorphism as shown below:\r\n\r\n```typescript\r\nexport interface Field {\r\n  align: &#39;center&#39; | &#39;left&#39;; // css property that does not work  disabled: boolean;\r\n  label: string;\r\n  readonly: boolean;\r\n  ref: string; // unique identifier  size: string; // css width  type: FIELD_TYPES;\r\n  value: string;\r\n  required: boolean;\r\n  visible: string; // &#39;true&#39; | &#39;plugin:...&#39;  \r\n  invisible: &#39;true&#39; | &#39;false&#39;; // never used  \r\n  optional: string; // just in 3 fields, never used \r\n  option:\r\n    | string // &#39;plugin:...&#39;    \r\n    | { value: string; label: string; disable?: string; labelEng?: string, valueOfAnswerInInterestType?: string }[] //FieldOption\r\n    | { 1?: string; 2?: string; 3?: string; 4?: string; 5?: string; 6?: string };  //Map&lt;Integer,String&gt;\r\n}\r\n```\r\n\r\nAs you can see, `option` can either be `String` or an array, or a plain POJO.\r\n\r\nWhat I need to achieve is to create a Jackson mapping and use Java&#39;s powerful `instanceof` operator to work on the deserialized class.\r\n\r\nLook at this target model:\r\n\r\n```java\r\n@Data\r\npublic class Field {    \r\n    private DetFieldAlignment align; // css property that does not work  disabled: boolean;    \r\n    ....\r\n    private String optional;//  just in 3 fields, never used    \r\n   \r\n    private Object option; // &#39;plugin:...&#39; | [{ value: 1, label: &#39;my value&#39; }, ...] | { &quot;1&quot;: &quot;Option one ...&quot;}\r\n}\r\n\r\n@Data\r\npublic class DetFieldOption {\r\n    private String value;\r\n    private String label;\r\n    private String disable;\r\n    ....\r\n}\r\n\r\n```\r\n\r\nI need to instruct Jackson about polymorphic serialization for the possible subclasses of `Object`, but I am having difficulty.\r\nI wrote JUnit tests to validate the result (`option instanceof String` vs check that every item in list is `instanceof FieldOption`) but obviously it&#39;s not working.\r\n\r\nWith the above model, a `String` is recognized in my test payload, but the array of `FieldOption` translated into an array of `LinkedHashMap`s\r\n\r\nWithout yet working on the case of `Map&lt;Integer,String&gt;`, I have tried to add the following polymorphic annotations to `Object option` field\r\n\r\n```java\r\n @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)    \r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(String.class),            \r\n        @JsonSubTypes.Type(FieldOption.class)     \r\n    })    \r\n```\r\n\r\nIt does not work with the following exception\r\n```\r\nCaused by: java.lang.IllegalStateException: Subtypes java.lang.String and java.lang.Object have the same signature and cannot be uniquely deduced.\r\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.buildFingerprints(AsDeductionTypeDeserializer.java:89)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.&lt;init&gt;(AsDeductionTypeDeserializer.java:48)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.StdTypeResolverBuilder.buildTypeDeserializer(StdTypeResolverBuilder.java:166)\r\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findPropertyTypeDeserializer(BasicDeserializerFactory.java:2022)\r\n    ... 89 more\r\n```\r\n\r\nI can&#39;t control the payload coming from the front end, which means I can&#39;t ask the FE developers to add a type indication in the payload, especially considering that the object could be a String.\r\n\r\n## Question\r\nHow can I define a polymorphic serialization that deserializes into either:\r\n\r\n- java.lang.String\r\n- java.util.Collection&lt;FieldOption&gt;\r\n- java.util.Map&lt;Integer,String&gt;\r\n\r\nOf course, I don&#39;t expect keys to be other than integers\r\n","title":"Mapping Typescript dynamic types into Java Object&#39;s subclasses","body":"<p>I have a Typescript model being sent as JSON request to my back end server. I can't change the model into a more engineered format, so I have to use what the client is going to send me.</p>\n<p>The Typescript interface uses the pipe to perform polymorphism as shown below:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export interface Field {\n  align: 'center' | 'left'; // css property that does not work  disabled: boolean;\n  label: string;\n  readonly: boolean;\n  ref: string; // unique identifier  size: string; // css width  type: FIELD_TYPES;\n  value: string;\n  required: boolean;\n  visible: string; // 'true' | 'plugin:...'  \n  invisible: 'true' | 'false'; // never used  \n  optional: string; // just in 3 fields, never used \n  option:\n    | string // 'plugin:...'    \n    | { value: string; label: string; disable?: string; labelEng?: string, valueOfAnswerInInterestType?: string }[] //FieldOption\n    | { 1?: string; 2?: string; 3?: string; 4?: string; 5?: string; 6?: string };  //Map&lt;Integer,String&gt;\n}\n</code></pre>\n<p>As you can see, <code>option</code> can either be <code>String</code> or an array, or a plain POJO.</p>\n<p>What I need to achieve is to create a Jackson mapping and use Java's powerful <code>instanceof</code> operator to work on the deserialized class.</p>\n<p>Look at this target model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Field {    \n    private DetFieldAlignment align; // css property that does not work  disabled: boolean;    \n    ....\n    private String optional;//  just in 3 fields, never used    \n   \n    private Object option; // 'plugin:...' | [{ value: 1, label: 'my value' }, ...] | { &quot;1&quot;: &quot;Option one ...&quot;}\n}\n\n@Data\npublic class DetFieldOption {\n    private String value;\n    private String label;\n    private String disable;\n    ....\n}\n\n</code></pre>\n<p>I need to instruct Jackson about polymorphic serialization for the possible subclasses of <code>Object</code>, but I am having difficulty.\nI wrote JUnit tests to validate the result (<code>option instanceof String</code> vs check that every item in list is <code>instanceof FieldOption</code>) but obviously it's not working.</p>\n<p>With the above model, a <code>String</code> is recognized in my test payload, but the array of <code>FieldOption</code> translated into an array of <code>LinkedHashMap</code>s</p>\n<p>Without yet working on the case of <code>Map&lt;Integer,String&gt;</code>, I have tried to add the following polymorphic annotations to <code>Object option</code> field</p>\n<pre class=\"lang-java prettyprint-override\"><code> @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)    \n    @JsonSubTypes({\n        @JsonSubTypes.Type(String.class),            \n        @JsonSubTypes.Type(FieldOption.class)     \n    })    \n</code></pre>\n<p>It does not work with the following exception</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Subtypes java.lang.String and java.lang.Object have the same signature and cannot be uniquely deduced.\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.buildFingerprints(AsDeductionTypeDeserializer.java:89)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.&lt;init&gt;(AsDeductionTypeDeserializer.java:48)\n    at com.fasterxml.jackson.databind.jsontype.impl.StdTypeResolverBuilder.buildTypeDeserializer(StdTypeResolverBuilder.java:166)\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findPropertyTypeDeserializer(BasicDeserializerFactory.java:2022)\n    ... 89 more\n</code></pre>\n<p>I can't control the payload coming from the front end, which means I can't ask the FE developers to add a type indication in the payload, especially considering that the object could be a String.</p>\n<h2>Question</h2>\n<p>How can I define a polymorphic serialization that deserializes into either:</p>\n<ul>\n<li>java.lang.String</li>\n<li>java.util.Collection</li>\n<li>java.util.Map&lt;Integer,String&gt;</li>\n</ul>\n<p>Of course, I don't expect keys to be other than integers</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9622,"page":603,"page_size":100}
