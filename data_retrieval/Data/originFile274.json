{"items":[{"tags":["java","spring","spring-boot","quartz-scheduler","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":20039035,"reputation":3,"user_id":14690108,"display_name":"Yves J"},"score":0,"creation_date":1659501148,"post_id":73216109,"comment_id":129306976,"body_markdown":"Thank you!! It work!! Provides some directions to learn more!  Thanks again!!","body":"Thank you!! It work!! Provides some directions to learn more!  Thanks again!!"}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690962470,"creation_date":1659498699,"answer_id":73216109,"question_id":73215752,"body_markdown":"The HelloJob is not manage by spring.you can use util acquire UserRepository obj like this:\r\n\r\n    private UserRepository userRepository;\r\n\r\n\tpublic HelloJob() {\r\n\t\tthis.userRepository = SpringBeanUtils.getBean(UserRepository.class);\r\n\t}\r\n\r\nThe SpringBeanUtils :\r\n\r\n    @Component\r\n    public class SpringBeanUtils implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext context;\r\n    \r\n        public static Object getBean(String name) {\r\n            return getApplicationContext().getBean(name);\r\n        }\r\n    \r\n        public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; clazz) {\r\n            return getApplicationContext().getBean(name, clazz);\r\n        }\r\n    \r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\r\n            return getApplicationContext().getBean(clazz);\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            Assert.notNull(context, &quot;applicationContext must be not null&quot;);\r\n            return context;\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            SpringBeanUtils.context = applicationContext;\r\n        }\r\n    \r\n    }","title":"JdbcTemplate is not automatically injected (&amp;quartz)","body":"<p>The HelloJob is not manage by spring.you can use util acquire UserRepository obj like this:</p>\n<pre><code>private UserRepository userRepository;\n\npublic HelloJob() {\n    this.userRepository = SpringBeanUtils.getBean(UserRepository.class);\n}\n</code></pre>\n<p>The SpringBeanUtils :</p>\n<pre><code>@Component\npublic class SpringBeanUtils implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    public static Object getBean(String name) {\n        return getApplicationContext().getBean(name);\n    }\n\n    public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; clazz) {\n        return getApplicationContext().getBean(name, clazz);\n    }\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\n        return getApplicationContext().getBean(clazz);\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        Assert.notNull(context, &quot;applicationContext must be not null&quot;);\n        return context;\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        SpringBeanUtils.context = applicationContext;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20039035,"reputation":3,"user_id":14690108,"display_name":"Yves J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659507679,"accepted_answer_id":73216109,"answer_count":1,"score":0,"last_activity_date":1690962470,"creation_date":1659494435,"question_id":73215752,"body_markdown":"`JobController.java ` (POST/testjob)-&gt; to start quartz Scheduler\r\n\r\n(POST/testjob **=&gt;** start Scheduler **=&gt;** `QuartzJob.java` **=&gt;** run execute **=&gt;** HelloJob do runJob())\r\n\r\nBUT When `userRepository.printData()`, I got error `NullPointerException` from \r\n```\r\n@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n```\r\n\r\n### JobController : ###\r\n\r\n```\r\n@RestController\r\npublic class JobController {\r\n\t\r\n\tpublic static SchedulerFactory sf;\r\n\tpublic static Scheduler sched;\r\n\tpublic static CronTrigger trigger;\r\n\tpublic static JobDetail jobDetail;\r\n\t\r\n\t@RequestMapping(path = &quot;/testjob&quot;, method = RequestMethod.POST)\r\n\tpublic String testjob() {\r\n\t\tClass c;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tc = Class.forName(&quot;com.demo.jobs.HelloJob&quot;);\r\n\t\t\tsf = new org.quartz.impl.StdSchedulerFactory();\r\n\t\t\tsched = sf.getScheduler();\r\n\r\n\t\t\tjobDetail = JobBuilder.newJob(c).withIdentity(&quot;myJob&quot;, &quot;group1&quot;).build();\r\n\t\t\ttrigger = (CronTrigger) TriggerBuilder.newTrigger()\r\n\t\t\t\t\t.withIdentity(&quot;myTrigger&quot;, &quot;group1&quot;)\r\n\t\t\t\t\t.withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/5 0-59 0-23 * * ?&quot;))\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tsched.scheduleJob(jobDetail, trigger);\r\n\t\t\tsched.start();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;testjob!&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n### QuartzJob.java ###\r\n```\r\n@DisallowConcurrentExecution\r\npublic abstract class QuartzJob implements Job {\r\n\t\r\n\tpublic abstract void runJob() throws Exception;\r\n\t\r\n\t@Override\r\n\tpublic void execute(JobExecutionContext context) throws JobExecutionException {\r\n\t\ttry {\r\n\t\t\trunJob();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### HelloJob.java: ###\r\n```\r\npublic class HelloJob extends QuartzJob {\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\t@Override\r\n\tpublic void runJob() throws Exception{\r\n\t\ttry {\r\n\t\t\tuserRepository.printData();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### UserImpl.java: ###\r\n```\r\n@Repository\r\npublic class UserImpl implements UserRepository {\r\n\t\r\n\t@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n\t\r\n\t@Override\r\n\tpublic void printData() {\r\n\t\tList&lt;User&gt; result = jdbcTemplate.query(&quot; SELECT * FROM USER &quot;,\r\n\t\t\t\tnew BeanPropertyRowMapper&lt;User&gt;(User.class), new Object[] {});\r\n\t\tfor (User u : result) {\r\n\t\t\tSystem.out.println(&quot;name: &quot; + u.getName() + &quot; ~ &quot; + &quot;phone: &quot; + u.getPhone());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nDoes anybody have some experience with it? How to do it better? THANKS~\r\n\r\ngithub_demo:https://github.com/qxgnbryoo81014/demo","title":"JdbcTemplate is not automatically injected (&amp;quartz)","body":"<p><code>JobController.java </code> (POST/testjob)-&gt; to start quartz Scheduler</p>\n<p>(POST/testjob <strong>=&gt;</strong> start Scheduler <strong>=&gt;</strong> <code>QuartzJob.java</code> <strong>=&gt;</strong> run execute <strong>=&gt;</strong> HelloJob do runJob())</p>\n<p>BUT When <code>userRepository.printData()</code>, I got error <code>NullPointerException</code> from</p>\n<pre><code>@Autowired\n    private JdbcTemplate jdbcTemplate;\n</code></pre>\n<h3>JobController :</h3>\n<pre><code>@RestController\npublic class JobController {\n    \n    public static SchedulerFactory sf;\n    public static Scheduler sched;\n    public static CronTrigger trigger;\n    public static JobDetail jobDetail;\n    \n    @RequestMapping(path = &quot;/testjob&quot;, method = RequestMethod.POST)\n    public String testjob() {\n        Class c;\n        \n        try {\n            c = Class.forName(&quot;com.demo.jobs.HelloJob&quot;);\n            sf = new org.quartz.impl.StdSchedulerFactory();\n            sched = sf.getScheduler();\n\n            jobDetail = JobBuilder.newJob(c).withIdentity(&quot;myJob&quot;, &quot;group1&quot;).build();\n            trigger = (CronTrigger) TriggerBuilder.newTrigger()\n                    .withIdentity(&quot;myTrigger&quot;, &quot;group1&quot;)\n                    .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/5 0-59 0-23 * * ?&quot;))\n                    .build();\n\n            sched.scheduleJob(jobDetail, trigger);\n            sched.start();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        return &quot;testjob!&quot;;\n    }\n}\n</code></pre>\n<h3>QuartzJob.java</h3>\n<pre><code>@DisallowConcurrentExecution\npublic abstract class QuartzJob implements Job {\n    \n    public abstract void runJob() throws Exception;\n    \n    @Override\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        try {\n            runJob();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h3>HelloJob.java:</h3>\n<pre><code>public class HelloJob extends QuartzJob {\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public void runJob() throws Exception{\n        try {\n            userRepository.printData();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h3>UserImpl.java:</h3>\n<pre><code>@Repository\npublic class UserImpl implements UserRepository {\n    \n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n    \n    @Override\n    public void printData() {\n        List&lt;User&gt; result = jdbcTemplate.query(&quot; SELECT * FROM USER &quot;,\n                new BeanPropertyRowMapper&lt;User&gt;(User.class), new Object[] {});\n        for (User u : result) {\n            System.out.println(&quot;name: &quot; + u.getName() + &quot; ~ &quot; + &quot;phone: &quot; + u.getPhone());\n        }\n    }\n}\n</code></pre>\n<p>Does anybody have some experience with it? How to do it better? THANKS~</p>\n<p>github_demo:<a href=\"https://github.com/qxgnbryoo81014/demo\" rel=\"nofollow noreferrer\">https://github.com/qxgnbryoo81014/demo</a></p>\n"},{"tags":["java","datetime-format","java-time","datetime-parsing","dateformatter"],"comments":[{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":0,"creation_date":1516148231,"post_id":48291776,"comment_id":83568745,"body_markdown":"If I may ask - Why do you need BOTH 2 and 3 digits? I think you should stick with 3 digits. IMHO it&#39;s the most elegant way...","body":"If I may ask - Why do you need BOTH 2 and 3 digits? I think you should stick with 3 digits. IMHO it&#39;s the most elegant way..."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":0,"creation_date":1516148289,"post_id":48291776,"comment_id":83568766,"body_markdown":"thats not in my hands. my api accept date and we support dates in both formats/","body":"thats not in my hands. my api accept date and we support dates in both formats/"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1516180153,"post_id":48291776,"comment_id":83579080,"body_markdown":"As an aside, your return statement can be written as just `return formatDateTime.atOffset(ZoneOffset.UTC).toString();`.","body":"As an aside, your return statement can be written as just <code>return formatDateTime.atOffset(ZoneOffset.UTC).toString();</code>."}],"answers":[{"comments":[{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":0,"creation_date":1516149514,"post_id":48291867,"comment_id":83569070,"body_markdown":"@JimGarrison thx for the edit, I got used for writing Scala  :)","body":"@JimGarrison thx for the edit, I got used for writing Scala  :)"}],"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1593164994,"creation_date":1516148426,"answer_id":48291867,"question_id":48291776,"body_markdown":"You would need to build a formatter with a specified fraction \r\n\r\n   \r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n      .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n      .appendFraction(ChronoField.MILLI_OF_SECOND, 2, 3, true) // min 2 max 3\r\n      .toFormatter();\r\n\r\n    LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\r\n    ","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>You would need to build a formatter with a specified fraction</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n  .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n  .appendFraction(ChronoField.MILLI_OF_SECOND, 2, 3, true) // min 2 max 3\n  .toFormatter();\n\nLocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1516179512,"post_id":48292366,"comment_id":83578711,"body_markdown":"It works (if you omit the `T`), but is more complicated than necessary. I would at least use just `&quot;yyyy-MM-dd HH:mm:ss.[SSS][SS]&quot;`. And not use a builder, I think `DateTimeFormatter.of()` suffices.","body":"It works (if you omit the <code>T</code>), but is more complicated than necessary. I would at least use just <code>&quot;yyyy-MM-dd HH:mm:ss.[SSS][SS]&quot;</code>. And not use a builder, I think <code>DateTimeFormatter.of()</code> suffices."},{"owner":{"account_id":12542663,"reputation":334,"user_id":9127110,"display_name":"Harry Jones"},"score":0,"creation_date":1644234494,"post_id":48292366,"comment_id":125542487,"body_markdown":"I really think the square brackets should be used for the actual optional parts, rather than the entire format as a whole.\nAlso, this seems like a strange concatenation, is there any reason we can&#39;t use DateTimeFormatter.ofPattern(&quot;[yyyy-MM-dd HH:mm:ss.SSS][yyyy-MM-dd HH:mm:ss.SS]&quot;)?","body":"I really think the square brackets should be used for the actual optional parts, rather than the entire format as a whole. Also, this seems like a strange concatenation, is there any reason we can&#39;t use DateTimeFormatter.ofPattern(&quot;[yyyy-MM-dd HH:mm:ss.SSS][yyyy-MM-dd HH:mm:ss.SS]&quot;)?"}],"tags":[],"owner":{"account_id":5438753,"reputation":125,"user_id":4327374,"display_name":"EMH333"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1516202364,"creation_date":1516152408,"answer_id":48292366,"question_id":48291776,"body_markdown":"Using Java 8 you can use the `DateTimeFormatterBuilder` and a Pattern. See [this answer][1] for a little more information\r\n\r\n    public static String formatDate(final String date) {\r\n\r\n      DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ofPattern(&quot;&quot; + &quot;[yyyy-MM-dd HH:mm:ss.SSS]&quot; \r\n             + &quot;[yyyy-MM-dd HH:mm:ss.SS]&quot;));\r\n\r\n      DateTimeFormatter formatter = dateTimeFormatterBuilder.toFormatter();\r\n\r\n      try {\r\n        LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\r\n        return formatDateTime.atZone(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime().toString();\r\n      } catch (DateTimeParseException e) {\r\n        return &quot;&quot;;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39754641/4327374","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>Using Java 8 you can use the <code>DateTimeFormatterBuilder</code> and a Pattern. See <a href=\"https://stackoverflow.com/a/39754641/4327374\">this answer</a> for a little more information</p>\n\n<pre><code>public static String formatDate(final String date) {\n\n  DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ofPattern(\"\" + \"[yyyy-MM-dd HH:mm:ss.SSS]\" \n         + \"[yyyy-MM-dd HH:mm:ss.SS]\"));\n\n  DateTimeFormatter formatter = dateTimeFormatterBuilder.toFormatter();\n\n  try {\n    LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\n    return formatDateTime.atZone(ZoneId.of(\"UTC\")).toOffsetDateTime().toString();\n  } catch (DateTimeParseException e) {\n    return \"\";\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":1,"creation_date":1516166033,"post_id":48293854,"comment_id":83572977,"body_markdown":"interesting solution. I will try this","body":"interesting solution. I will try this"},{"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"score":1,"creation_date":1589491028,"post_id":48293854,"comment_id":109324377,"body_markdown":"I just want to note that `ZonedDateTime` also exists and is much more useful in my experience since it can parse the `Z` (or other time zones) at the end of strings into the correct time zone","body":"I just want to note that <code>ZonedDateTime</code> also exists and is much more useful in my experience since it can parse the <code>Z</code> (or other time zones) at the end of strings into the correct time zone"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1589497044,"post_id":48293854,"comment_id":109326577,"body_markdown":"@Dasmowenator Actually, the `Z` on the end is an offset-from-UTC rather than a time zone. So `Instant` or `OffsetDateTime` is more appropriate than `ZonedDateTime`. And this Question involves neither an offset nor a time zone, so the only relevant class here is `LocalDateTime`.  I added a graphic table showing all these classes labeling their purposes.","body":"@Dasmowenator Actually, the <code>Z</code> on the end is an offset-from-UTC rather than a time zone. So <code>Instant</code> or <code>OffsetDateTime</code> is more appropriate than <code>ZonedDateTime</code>. And this Question involves neither an offset nor a time zone, so the only relevant class here is <code>LocalDateTime</code>.  I added a graphic table showing all these classes labeling their purposes."},{"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"score":1,"creation_date":1589595396,"post_id":48293854,"comment_id":109364328,"body_markdown":"No the `Z` on the end signifies that it&#39;s in UTC time zone","body":"No the <code>Z</code> on the end signifies that it&#39;s in UTC time zone"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1589602510,"post_id":48293854,"comment_id":109365414,"body_markdown":"@Dasmowenator The `Z` is an offset-from-UTC of zero hours-minutes-seconds. But it is not a time zone. A time zone is a history of the past, present, and future changes to the offset used by the people of particular region. For example, `Atlantic/Reykjavik` &amp; `Africa/Accra` are time zones, zones  which happen to currently use an offset-from-UTC of zero. The distinction between offset and zone, and between `OffsetDateTime` and `ZonedDateTime` is important because when adding/subtracting a span-of-time, the offset will never change with the first of each of those, but may change with the second.","body":"@Dasmowenator The <code>Z</code> is an offset-from-UTC of zero hours-minutes-seconds. But it is not a time zone. A time zone is a history of the past, present, and future changes to the offset used by the people of particular region. For example, <code>Atlantic&#47;Reykjavik</code> &amp; <code>Africa&#47;Accra</code> are time zones, zones  which happen to currently use an offset-from-UTC of zero. The distinction between offset and zone, and between <code>OffsetDateTime</code> and <code>ZonedDateTime</code> is important because when adding/subtracting a span-of-time, the offset will never change with the first of each of those, but may change with the second."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1589497136,"creation_date":1516165023,"answer_id":48293854,"question_id":48291776,"body_markdown":"# tl;dr\r\n\r\nNo need to define a formatter at all. \r\n\r\n    LocalDateTime.parse(\r\n        &quot;2017-11-21 18:11:14.05&quot;.replace( &quot; &quot; , &quot;T&quot; )\r\n    )\r\n\r\n# ISO 8601\r\n\r\nThe [Answer by Sleiman Jneidi][1] is especially clever and high-tech, but there is a simpler way.\r\n\r\nAdjust your input string to comply with ISO 8601 format, the format used by default in the java.time classes. So no need to specify a formatting pattern at all. The default formatter can handle any number of decimal digits between zero (whole seconds) and nine (nanoseconds) for the fractional second. \r\n\r\nYour input is nearly compliant. Just replace the SPACE in the middle with a`T`. \r\n\r\n    String input = &quot;2017-11-21 18:11:14.05&quot;.replace( &quot; &quot; , &quot;T&quot; );\r\n    LocalDateTime ldt = LocalDateTime.parse( input );\r\n\r\n&gt;ldt.toString(): 2017-11-21T18:11:14.050\r\n\r\n\r\n----------\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48291867/642706\r\n  [2]: https://i.stack.imgur.com/MZe55.png","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<h1>tl;dr</h1>\n\n<p>No need to define a formatter at all. </p>\n\n<pre><code>LocalDateTime.parse(\n    \"2017-11-21 18:11:14.05\".replace( \" \" , \"T\" )\n)\n</code></pre>\n\n<h1>ISO 8601</h1>\n\n<p>The <a href=\"https://stackoverflow.com/a/48291867/642706\">Answer by Sleiman Jneidi</a> is especially clever and high-tech, but there is a simpler way.</p>\n\n<p>Adjust your input string to comply with ISO 8601 format, the format used by default in the java.time classes. So no need to specify a formatting pattern at all. The default formatter can handle any number of decimal digits between zero (whole seconds) and nine (nanoseconds) for the fractional second. </p>\n\n<p>Your input is nearly compliant. Just replace the SPACE in the middle with a<code>T</code>. </p>\n\n<pre><code>String input = \"2017-11-21 18:11:14.05\".replace( \" \" , \"T\" );\nLocalDateTime ldt = LocalDateTime.parse( input );\n</code></pre>\n\n<blockquote>\n  <p>ldt.toString(): 2017-11-21T18:11:14.050</p>\n</blockquote>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/MZe55.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MZe55.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1161075,"reputation":237,"user_id":1140558,"display_name":"juanluisrp"},"score":1,"creation_date":1606126743,"post_id":48300794,"comment_id":114856254,"body_markdown":"About the possible downside you state you can include the dot inside the optional part: `&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS]&quot;`","body":"About the possible downside you state you can include the dot inside the optional part: <code>&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS]&quot;</code>"},{"owner":{"account_id":129745,"reputation":17240,"user_id":328518,"accept_rate":72,"display_name":"Adil Bhatty"},"score":1,"creation_date":1632711089,"post_id":48300794,"comment_id":122557659,"body_markdown":"Thanks alot mate. I have created like this DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS][.SS][.S][&#39;Z&#39;]&quot;). As I am getting multi formats from server","body":"Thanks alot mate. I have created like this DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS][.SS&zwnj;&#8203;][.S][&#39;Z&#39;]&quot;). As I am getting multi formats from server"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1632725940,"post_id":48300794,"comment_id":122560496,"body_markdown":"@kaibuki Are you sure you sometimes receive a string with `Z` at the end and sometimes without it? Doesn’t sound too comforting, but if it’s so, then it’s so. I’m also not happy about hardcoding `Z`; consider pattern letter `X` instead of literal `&#39;Z&#39;`. Depending on circumstances other solutions to parsing those strings could be found too.","body":"@kaibuki Are you sure you sometimes receive a string with <code>Z</code> at the end and sometimes without it? Doesn’t sound too comforting, but if it’s so, then it’s so. I’m also not happy about hardcoding <code>Z</code>; consider pattern letter <code>X</code> instead of literal <code>&#39;Z&#39;</code>. Depending on circumstances other solutions to parsing those strings could be found too."},{"owner":{"account_id":129745,"reputation":17240,"user_id":328518,"accept_rate":72,"display_name":"Adil Bhatty"},"score":1,"creation_date":1632955655,"post_id":48300794,"comment_id":122636462,"body_markdown":"@OleV.V., yes I am getting date occasionally with the &quot;Z&quot;, I have reported it to the related team, awaiting for their fix it to a specific format. Thanks for suggestion of using literal &#39;X&#39;","body":"@OleV.V., yes I am getting date occasionally with the &quot;Z&quot;, I have reported it to the related team, awaiting for their fix it to a specific format. Thanks for suggestion of using literal &#39;X&#39;"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1632991095,"post_id":48300794,"comment_id":122644214,"body_markdown":"@kaibuki If you end up knowing whether you get `Z` or not (which will be good), you may use `DateTimeFormatter.ISO_OFFSET_DATE_TIME` if you get the `Z` and `DateTimeFormatter.ISO_LOCAL_DATE_TIME` if you don’t. Both the mentioned formatters handle varying number of decimals, no problem.","body":"@kaibuki If you end up knowing whether you get <code>Z</code> or not (which will be good), you may use <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code> if you get the <code>Z</code> and <code>DateTimeFormatter.ISO_LOCAL_DATE_TIME</code> if you don’t. Both the mentioned formatters handle varying number of decimals, no problem."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":5,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1690962434,"creation_date":1516190807,"answer_id":48300794,"question_id":48291776,"body_markdown":"The answers by [Basil Bourque](https://stackoverflow.com/a/48293854/5772882) and [Sleiman Jneidi](https://stackoverflow.com/a/48291867/5772882) are excellent. I just wanted to point out that [the answer by EMH333](https://stackoverflow.com/a/48292366/5772882) has a point in it too: the following very simple modification of the code in the question solves your problem.\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter\r\n                .ofPattern(&quot;yyyy-MM-dd HH:mm:ss.[SSS][SS]&quot;);\r\n\r\nThe square bracket in the format pattern string enclose optional parts, so this accepts 3 or 2 decimals in the fraction of seconds.\r\n\r\n - Potential advantage over Basil Bourque’s answer: gives better input validation, will object if there is only 1 or there are four decimals on the seconds (whether this is an advantage depends entirely on your situation).\r\n - Advantage over Sleiman Jneidi’s answer: You don’t need the builder.\r\n\r\nPossible downside: it accepts no decimals at all (as long as the decimal point is there).\r\n\r\nAs I said, the other solutions are very good too. Which one you prefer is mostly a matter of taste.","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>The answers by <a href=\"https://stackoverflow.com/a/48293854/5772882\">Basil Bourque</a> and <a href=\"https://stackoverflow.com/a/48291867/5772882\">Sleiman Jneidi</a> are excellent. I just wanted to point out that <a href=\"https://stackoverflow.com/a/48292366/5772882\">the answer by EMH333</a> has a point in it too: the following very simple modification of the code in the question solves your problem.</p>\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter\n            .ofPattern(&quot;yyyy-MM-dd HH:mm:ss.[SSS][SS]&quot;);\n</code></pre>\n<p>The square bracket in the format pattern string enclose optional parts, so this accepts 3 or 2 decimals in the fraction of seconds.</p>\n<ul>\n<li>Potential advantage over Basil Bourque’s answer: gives better input validation, will object if there is only 1 or there are four decimals on the seconds (whether this is an advantage depends entirely on your situation).</li>\n<li>Advantage over Sleiman Jneidi’s answer: You don’t need the builder.</li>\n</ul>\n<p>Possible downside: it accepts no decimals at all (as long as the decimal point is there).</p>\n<p>As I said, the other solutions are very good too. Which one you prefer is mostly a matter of taste.</p>\n"},{"tags":[],"owner":{"account_id":16343481,"reputation":21,"user_id":11803869,"display_name":"Patch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614596727,"creation_date":1614596727,"answer_id":66420948,"question_id":48291776,"body_markdown":"Ideally, you would account for a time that has 0 nanoseconds as well. If the time so happens to land perfectly on `2021-02-28T12:00:15.000Z`, it may actually be serialised to `2021-02-28T12:00:15Z` (at least, for something like java.time.OffsetDateTime it would be). It would therefore be more appropriate to use the following:\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]&quot;);\r\n```\r\n... and if you require time zone, like I did, then it would look this:\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]z&quot;);\r\n```","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>Ideally, you would account for a time that has 0 nanoseconds as well. If the time so happens to land perfectly on <code>2021-02-28T12:00:15.000Z</code>, it may actually be serialised to <code>2021-02-28T12:00:15Z</code> (at least, for something like java.time.OffsetDateTime it would be). It would therefore be more appropriate to use the following:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]&quot;);\n</code></pre>\n<p>... and if you require time zone, like I did, then it would look this:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]z&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665858621,"creation_date":1665858621,"answer_id":74082033,"question_id":48291776,"body_markdown":"[`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) allows specifying optional units using square brackets.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\r\n                    &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\r\n                    Locale.ENGLISH);\r\n    \r\n            // Test\r\n            Stream.of(\r\n                    &quot;2015-05-04 12:34:56.123456789&quot;,\r\n                    &quot;2015-05-04 12:34:56.123456&quot;,\r\n                    &quot;2015-05-04 12:34:56.123&quot;,\r\n                    &quot;2015-05-04 12:34:56&quot;\r\n            ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-05-04T12:34:56.123456789\r\n    2015-05-04T12:34:56.123456\r\n    2015-05-04T12:34:56.123\r\n    2015-05-04T12:34:56\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> allows specifying optional units using square brackets.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\n                &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\n                Locale.ENGLISH);\n\n        // Test\n        Stream.of(\n                &quot;2015-05-04 12:34:56.123456789&quot;,\n                &quot;2015-05-04 12:34:56.123456&quot;,\n                &quot;2015-05-04 12:34:56.123&quot;,\n                &quot;2015-05-04 12:34:56&quot;\n        ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-04T12:34:56.123456789\n2015-05-04T12:34:56.123456\n2015-05-04T12:34:56.123\n2015-05-04T12:34:56\n</code></pre>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22147,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":48293854,"answer_count":6,"score":27,"last_activity_date":1690962434,"creation_date":1516147657,"question_id":48291776,"body_markdown":"Here is my method to parse String into `LocalDateTime`.\r\n\r\n        public static String formatDate(final String date) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SS&quot;);\r\n            LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\r\n            return formatDateTime.atZone(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime().toString();\r\n        }\r\n\r\nbut this only works for input String like \r\n`2017-11-21 18:11:14.05`\r\nbut fails for `2017-11-21 18:11:14.057`\r\nwith `DateTimeParseException`.\r\n\r\nHow can I define a formatter that works for both `.SS` and `.SSS`?\r\n","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>Here is my method to parse String into <code>LocalDateTime</code>.</p>\n\n<pre><code>    public static String formatDate(final String date) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SS\");\n        LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\n        return formatDateTime.atZone(ZoneId.of(\"UTC\")).toOffsetDateTime().toString();\n    }\n</code></pre>\n\n<p>but this only works for input String like \n<code>2017-11-21 18:11:14.05</code>\nbut fails for <code>2017-11-21 18:11:14.057</code>\nwith <code>DateTimeParseException</code>.</p>\n\n<p>How can I define a formatter that works for both <code>.SS</code> and <code>.SSS</code>?</p>\n"},{"tags":["java","spring-boot","autowired"],"comments":[{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1690930470,"post_id":76815626,"comment_id":135420918,"body_markdown":"`abstract` classes are not component scanned.  You must autowire the constructor of the extending subclass.","body":"<code>abstract</code> classes are not component scanned.  You must autowire the constructor of the extending subclass."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690931755,"post_id":76815626,"comment_id":135421036,"body_markdown":"I was hoping for another way as I have 7 extended classes and did not want to add applicationContext to all their constructors but it does solve the problem! Add your comment as an answer. Any other solutions?","body":"I was hoping for another way as I have 7 extended classes and did not want to add applicationContext to all their constructors but it does solve the problem! Add your comment as an answer. Any other solutions?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690931853,"post_id":76815626,"comment_id":135421043,"body_markdown":"An abstract class has no independent existence except as part of a concrete subclass.  Spring is all about instantiating and wiring together concrete class instances.","body":"An abstract class has no independent existence except as part of a concrete subclass.  Spring is all about instantiating and wiring together concrete class instances."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690932030,"post_id":76815626,"comment_id":135421061,"body_markdown":"yet @JimGarrison one is able to autowire a setter method in an abstract class (as the link shows)","body":"yet @JimGarrison one is able to autowire a setter method in an abstract class (as the link shows)"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690932132,"post_id":76815626,"comment_id":135421068,"body_markdown":"Because setters can be inherited, while constructors cannot.  Maybe @PostConstruct?","body":"Because setters can be inherited, while constructors cannot.  Maybe @PostConstruct?"},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690934439,"post_id":76815626,"comment_id":135421310,"body_markdown":"I tried that before alright but setter did not fire before setConfigCheck...","body":"I tried that before alright but setter did not fire before setConfigCheck..."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690938018,"post_id":76815626,"comment_id":135421639,"body_markdown":"To &quot;set&quot; the appcontext with that method will require it to be private! (However you can retrieve the appcontext with a public method inside the same class). You may need to lower the variables security access modifier.","body":"To &quot;set&quot; the appcontext with that method will require it to be private! (However you can retrieve the appcontext with a public method inside the same class). You may need to lower the variables security access modifier."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690961792,"post_id":76815626,"comment_id":135424097,"body_markdown":"The context will be injected **after** the object has been created, you are trying to access the context during the object creation. At that point it isn&#39;t injected and thus a `NullPointerException` will occur.","body":"The context will be injected <b>after</b> the object has been created, you are trying to access the context during the object creation. At that point it isn&#39;t injected and thus a <code>NullPointerException</code> will occur."}],"answers":[{"comments":[{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690984360,"post_id":76816241,"comment_id":135429156,"body_markdown":"I tried this with no effect unfortunately.","body":"I tried this with no effect unfortunately."}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690943065,"creation_date":1690943065,"answer_id":76816241,"question_id":76815626,"body_markdown":"you can impl InitializingBean .\r\n    \r\n    @Component\r\n    @DependsOn({&quot;myConfig&quot;})\r\n    public class FirstCheck extends BaseCheck implements InitializingBean {\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            setConfigClass(&quot;myConfig&quot;);\r\n        }\r\n        \r\n    }","title":"How to get an applicationContext reference in abstract class?","body":"<p>you can impl InitializingBean .</p>\n<pre><code>@Component\n@DependsOn({&quot;myConfig&quot;})\npublic class FirstCheck extends BaseCheck implements InitializingBean {\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        setConfigClass(&quot;myConfig&quot;);\n    }\n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690979009,"post_id":76817648,"comment_id":135427778,"body_markdown":"An exciting idea!! I removed all the applicationContext references &amp; I added @Qualifier on all the configs as shown. \n\nAn issue I have is FirstCheck and the others are listeners and another class that starts the listeners is failing as the config class is null. I tried using @ DependsOn for all the configs in the listener starter class.\n\nThe code worked before where the configs were passed in the listener starter constructor, but I am moving away from that as SonarQube highlighted too many parameters in the constructor (9). \n\np.s. you can&#39;t do constructor injection on an abstract class","body":"An exciting idea!! I removed all the applicationContext references &amp; I added @Qualifier on all the configs as shown.   An issue I have is FirstCheck and the others are listeners and another class that starts the listeners is failing as the config class is null. I tried using @ DependsOn for all the configs in the listener starter class.  The code worked before where the configs were passed in the listener starter constructor, but I am moving away from that as SonarQube highlighted too many parameters in the constructor (9).   p.s. you can&#39;t do constructor injection on an abstract class"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690981084,"post_id":76817648,"comment_id":135428296,"body_markdown":"You can do constructor injection without issues as long as you pass the reference to the abstract class (which is what I&#39;m doing here). When using constructor injection things cannot be `null` unless you aren&#39;t instantating them by Spring but somewhere else!.","body":"You can do constructor injection without issues as long as you pass the reference to the abstract class (which is what I&#39;m doing here). When using constructor injection things cannot be <code>null</code> unless you aren&#39;t instantating them by Spring but somewhere else!."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690983757,"post_id":76817648,"comment_id":135428992,"body_markdown":"I won&#39;t get hung up on that, it&#39;s detailed in the baeldung post. \n\nThe @EventListener(ApplicationReadyEvent.class) is on the method that starts the listeners.... still the configs are null :-(","body":"I won&#39;t get hung up on that, it&#39;s detailed in the baeldung post.   The @EventListener(ApplicationReadyEvent.class) is on the method that starts the listeners.... still the configs are null :-("},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690983771,"post_id":76817648,"comment_id":135428997,"body_markdown":"Now where did you pull all those annotations away... You didn&#39;t mention those in your question also your question thus contains dumbed down code, please provide representative code. Basically a dependency cannot be null the application wouldn&#39;t even start with that and blow up during startup with unsatisfied dependencies. The `@EventListener` creates proxies and if things are private, final etc. those will be hidden for the proxy (so please add some actual code instead of dumbed down code).","body":"Now where did you pull all those annotations away... You didn&#39;t mention those in your question also your question thus contains dumbed down code, please provide representative code. Basically a dependency cannot be null the application wouldn&#39;t even start with that and blow up during startup with unsatisfied dependencies. The <code>@EventListener</code> creates proxies and if things are private, final etc. those will be hidden for the proxy (so please add some actual code instead of dumbed down code)."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690989130,"post_id":76817648,"comment_id":135430431,"body_markdown":"Thanks, you have answered the question I posed to be fair for the dumbed-down version.  I used Project Lombok to remove the constructor altogether, thereby eliminating this issue entirely!!","body":"Thanks, you have answered the question I posed to be fair for the dumbed-down version.  I used Project Lombok to remove the constructor altogether, thereby eliminating this issue entirely!!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690997872,"post_id":76817648,"comment_id":135432292,"body_markdown":"Ehrm.. Lombok will still generate a constructor, so you didn&#39;t eliminate anything adding additional frameworks/generators don&#39;t solve a problem but probably even hide it deeper.","body":"Ehrm.. Lombok will still generate a constructor, so you didn&#39;t eliminate anything adding additional frameworks/generators don&#39;t solve a problem but probably even hide it deeper."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1691065694,"post_id":76817648,"comment_id":135442984,"body_markdown":"Indeed, only a workaround, have a design fix now.","body":"Indeed, only a workaround, have a design fix now."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690962244,"creation_date":1690962244,"answer_id":76817648,"question_id":76815626,"body_markdown":"The problem is that you are trying to access the `ApplicationContext` in the constructor. At this point the `setApplicationContext` method hasn&#39;t been called as Spring is only able to call it **after the object has been constructed**. You are accessing it during construction and thus a `NullPointerException`.\r\n\r\nWhat you can do is either inject the `ApplicationContext` into the constructor so you can access it. Instead of using the `ApplicationContext` to lookup the bean use an `@Qualifier` and inject the correct config into the constructor instead of using `setConfigClass`\r\n\r\n```java\r\npublic abstract class BaseCheck {\r\n\r\n  protected AbstractConfig configClass;\r\n\r\n  protected BaseCheck(AbstractConfig configClass) {\r\n    this.configClass=configClass;\r\n  }\r\n\r\n  public AbstractConfig getConfigClass() {\r\n    return configClass;\r\n  }\r\n}\r\n\r\n\r\n@Component\r\npublic class FirstCheck extends BaseCheck {\r\n\r\n  public FirstCheck(@Qualifier(&quot;myConfig&quot;) AbstractConfig configClass) {\r\n      super(configClass);\r\n  }\r\n}\r\n```\r\n\r\nThis way you don&#39;t need to access the `ApplicationContext`. You already had the name in the constructor anyway as well on the `@DependsOn` (which can now be removed), so moving it to an `@Qualifier` to get the correct instance should do it. ","title":"How to get an applicationContext reference in abstract class?","body":"<p>The problem is that you are trying to access the <code>ApplicationContext</code> in the constructor. At this point the <code>setApplicationContext</code> method hasn't been called as Spring is only able to call it <strong>after the object has been constructed</strong>. You are accessing it during construction and thus a <code>NullPointerException</code>.</p>\n<p>What you can do is either inject the <code>ApplicationContext</code> into the constructor so you can access it. Instead of using the <code>ApplicationContext</code> to lookup the bean use an <code>@Qualifier</code> and inject the correct config into the constructor instead of using <code>setConfigClass</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseCheck {\n\n  protected AbstractConfig configClass;\n\n  protected BaseCheck(AbstractConfig configClass) {\n    this.configClass=configClass;\n  }\n\n  public AbstractConfig getConfigClass() {\n    return configClass;\n  }\n}\n\n\n@Component\npublic class FirstCheck extends BaseCheck {\n\n  public FirstCheck(@Qualifier(&quot;myConfig&quot;) AbstractConfig configClass) {\n      super(configClass);\n  }\n}\n</code></pre>\n<p>This way you don't need to access the <code>ApplicationContext</code>. You already had the name in the constructor anyway as well on the <code>@DependsOn</code> (which can now be removed), so moving it to an <code>@Qualifier</code> to get the correct instance should do it.</p>\n"}],"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817648,"answer_count":2,"score":0,"last_activity_date":1690962244,"creation_date":1690930180,"question_id":76815626,"body_markdown":"I am refactoring existing code and need to get an applicationContext reference in an abstract class.\r\n\r\nSimplifying, here are two classes illustrating the issue:\r\n\r\n    public abstract class BaseCheck {\r\n\r\n      private ApplicationContext applicationContext;\r\n    \r\n      protected AbstractConfig configClass;\r\n\r\n\r\n      @Autowired\r\n      // not called before setConfigClass called so null\r\n      public final void setApplicationContext(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n      }\r\n\r\n      public AbstractConfig getConfigClass() {\r\n        return configClass;\r\n      }\r\n\r\n      public void setConfigClass(String configClass) {\r\n        // fails due to null applicationContext\r\n        this.configClass = (AbstractConfig) applicationContext.getBean(configClass);\r\n      }\r\n\r\n    }\r\n\r\n\r\n    @Component\r\n    @DependsOn({&quot;myConfig&quot;})\r\n    public class FirstCheck extends BaseCheck {\r\n\r\n      public FirstCheck() {\r\n          setConfigClass(&quot;myConfig&quot;);\r\n      }\r\n    }\r\n\r\nI can&#39;t get applicationContext injected. This code annotates the setter as described in https://www.baeldung.com/spring-autowired-abstract-class\r\n\r\nI also tried implementing ApplicationContextAware, but that does not work for an abstract class either.\r\n\r\nDoes anyone know how I can get it to work?","title":"How to get an applicationContext reference in abstract class?","body":"<p>I am refactoring existing code and need to get an applicationContext reference in an abstract class.</p>\n<p>Simplifying, here are two classes illustrating the issue:</p>\n<pre><code>public abstract class BaseCheck {\n\n  private ApplicationContext applicationContext;\n\n  protected AbstractConfig configClass;\n\n\n  @Autowired\n  // not called before setConfigClass called so null\n  public final void setApplicationContext(ApplicationContext applicationContext) {\n    this.applicationContext = applicationContext;\n  }\n\n  public AbstractConfig getConfigClass() {\n    return configClass;\n  }\n\n  public void setConfigClass(String configClass) {\n    // fails due to null applicationContext\n    this.configClass = (AbstractConfig) applicationContext.getBean(configClass);\n  }\n\n}\n\n\n@Component\n@DependsOn({&quot;myConfig&quot;})\npublic class FirstCheck extends BaseCheck {\n\n  public FirstCheck() {\n      setConfigClass(&quot;myConfig&quot;);\n  }\n}\n</code></pre>\n<p>I can't get applicationContext injected. This code annotates the setter as described in <a href=\"https://www.baeldung.com/spring-autowired-abstract-class\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-autowired-abstract-class</a></p>\n<p>I also tried implementing ApplicationContextAware, but that does not work for an abstract class either.</p>\n<p>Does anyone know how I can get it to work?</p>\n"},{"tags":["java","operating-system","jvm"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1690773826,"post_id":76800376,"comment_id":135394886,"body_markdown":"*&quot;... in my opinion, is only a block of memory in the JVM process, the same as java heap&quot;* - Did you check whether your opinion is correct before asking?  The OpenJDK source code is available for all to read.  (If you want to understand how the JVM works under the hood, the best way is to read the source code.  That is preferable to ... in effect ... asking someone else to read it for you.)","body":"<i>&quot;... in my opinion, is only a block of memory in the JVM process, the same as java heap&quot;</i> - Did you check whether your opinion is correct before asking?  The OpenJDK source code is available for all to read.  (If you want to understand how the JVM works under the hood, the best way is to read the source code.  That is preferable to ... in effect ... asking someone else to read it for you.)"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690781828,"post_id":76800522,"comment_id":135395439,"body_markdown":"In your bullet point &quot;Arrays don&#39;t actually...&quot; does the final &quot;this&quot; refer to splitting the array?","body":"In your bullet point &quot;Arrays don&#39;t actually...&quot; does the final &quot;this&quot; refer to splitting the array?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690806877,"post_id":76800522,"comment_id":135399920,"body_markdown":"@tgdavies yes. Do you think the answer should be updated to make that more clear? I can edit if it&#39;ll help :)","body":"@tgdavies yes. Do you think the answer should be updated to make that more clear? I can edit if it&#39;ll help :)"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690774293,"creation_date":1690774293,"answer_id":76800522,"question_id":76800376,"body_markdown":"Depending on a ton of factors it&#39;s more likely to result in an explicit `malloc` call than just `.allocate`, though it depends on the OS+Arch and it may well be an alias for `.allocate`.\r\n\r\n\r\n-----\r\n\r\nSome context and detail in case that answer isn&#39;t particularly satisfying:\r\n\r\nSee [this answer](https://stackoverflow.com/questions/5670862/bytebuffer-allocate-vs-bytebuffer-allocatedirect) for some context.\r\n\r\nOrdinarily, objects in java (specifically, byte arrays, which is the underlying data store for your basic HeapByteBuffer, made by `.allocate`), have the following properties:\r\n\r\n* They are created and remain in the JVM heap memory.\r\n* The garbage collector will inspect them and keep track of them, and will move them around.\r\n* Arrays don&#39;t _actually_ have to be contiguous. The JVM will try but nothing in the spec says that the JVM must keep the bytes together. Again the garbage collector comes into play somewhat: If there are 2 large segments of free memory in the heap and you allocate a byte array somewhat larger than either slice, the GC would either have to move it all, or throw an exception, or allow the array to be &#39;split&#39; to avoid having to move stuff around. I&#39;m not sure any JVMs exist that really do this.\r\n* The memory is also part of the JVM&#39;s process; ordinarily as far as the OS is concerned the entire heap (whether they contain live objects or not) is considered &#39;used memory&#39; by the underlying OS.\r\n\r\nWith `.allocateDirect`, you break a bunch of those rules:\r\n\r\n* They are (probably) created separate; exists outside of the heap (e.g. would be in addition to `-Xmx`, the parameter to set max heap size, as an example).\r\n* Presumably this _always_ causes an OS-level `malloc` call, to ask the OS for a contiguous chunk of ram. `malloc` calls can take time.\r\n* The block really is contiguous because `malloc` made it.\r\n* The block is never moved around.\r\n\r\nNote that there are some gaps in the theory here - if it&#39;s explicitly `malloc`ed, then it should be explicitly `free`d, and yet ByteBuffer neither has a `deallocate()` method nor is it an (Auto)Closable. Also, the javadoc reserves lots of rights; for example, `.allocateDirect` __might__ do nothing different from `allocate` - the JVM is free to use the heap _or not_. These direct OS-level interactions tend to do that: Java has to run on a wide array of OS+Architecture combos. If some OS+arch combo doesn&#39;t _have_ direct buffers, what now? Should `.allocateDirect` fail-fast (throw an exception)? That would be sensible, except, only if the spec locks down specifically what a direct bytebuffer guarantees you, and therein lies a problem, because there is tons of variation across OS+Arch combos of what it really means.\r\n\r\n&quot;Does not move around&quot; is a requirement for various low-level I/O OS kernel calls (where you tell the kernel: Please just tell the network hardware in the system to _directly_ copy incoming bytes straight into this memory block - that kind of low-level I/O. Not all OSes support it, and not all support it in the same way). A plain jane heap buffer simply can&#39;t use that; if the underlying OS does support it and so does the JVM, the JVM has to make its own direct buffer (outside of the heap / in a section cordonned off from the GC to ensure it does not move), and start a separate process to blit those bytes into your buffer, taking into account the GC system as that can move around. In contrast, if you ask e.g. a `FileChannel` object to copy bytes from a file to your __direct__ buffer, it __might__ be possible that the native impl backing `FileChannel` of your JVM will just tell the OS to tell the SSD to _directly_ do so with no interaction from the OS/CPU whatsoever. Some hardware can do that. But only to &#39;fixed&#39; memory locations.\r\n\r\nWhether your JVM can _actually_ do all that - no guarantees. But _if_ it can, it can only do that if you make a direct buffer.\r\n","title":"Why DirectByteBuffer have higher allocation and deallocation costs?","body":"<p>Depending on a ton of factors it's more likely to result in an explicit <code>malloc</code> call than just <code>.allocate</code>, though it depends on the OS+Arch and it may well be an alias for <code>.allocate</code>.</p>\n<hr />\n<p>Some context and detail in case that answer isn't particularly satisfying:</p>\n<p>See <a href=\"https://stackoverflow.com/questions/5670862/bytebuffer-allocate-vs-bytebuffer-allocatedirect\">this answer</a> for some context.</p>\n<p>Ordinarily, objects in java (specifically, byte arrays, which is the underlying data store for your basic HeapByteBuffer, made by <code>.allocate</code>), have the following properties:</p>\n<ul>\n<li>They are created and remain in the JVM heap memory.</li>\n<li>The garbage collector will inspect them and keep track of them, and will move them around.</li>\n<li>Arrays don't <em>actually</em> have to be contiguous. The JVM will try but nothing in the spec says that the JVM must keep the bytes together. Again the garbage collector comes into play somewhat: If there are 2 large segments of free memory in the heap and you allocate a byte array somewhat larger than either slice, the GC would either have to move it all, or throw an exception, or allow the array to be 'split' to avoid having to move stuff around. I'm not sure any JVMs exist that really do this.</li>\n<li>The memory is also part of the JVM's process; ordinarily as far as the OS is concerned the entire heap (whether they contain live objects or not) is considered 'used memory' by the underlying OS.</li>\n</ul>\n<p>With <code>.allocateDirect</code>, you break a bunch of those rules:</p>\n<ul>\n<li>They are (probably) created separate; exists outside of the heap (e.g. would be in addition to <code>-Xmx</code>, the parameter to set max heap size, as an example).</li>\n<li>Presumably this <em>always</em> causes an OS-level <code>malloc</code> call, to ask the OS for a contiguous chunk of ram. <code>malloc</code> calls can take time.</li>\n<li>The block really is contiguous because <code>malloc</code> made it.</li>\n<li>The block is never moved around.</li>\n</ul>\n<p>Note that there are some gaps in the theory here - if it's explicitly <code>malloc</code>ed, then it should be explicitly <code>free</code>d, and yet ByteBuffer neither has a <code>deallocate()</code> method nor is it an (Auto)Closable. Also, the javadoc reserves lots of rights; for example, <code>.allocateDirect</code> <strong>might</strong> do nothing different from <code>allocate</code> - the JVM is free to use the heap <em>or not</em>. These direct OS-level interactions tend to do that: Java has to run on a wide array of OS+Architecture combos. If some OS+arch combo doesn't <em>have</em> direct buffers, what now? Should <code>.allocateDirect</code> fail-fast (throw an exception)? That would be sensible, except, only if the spec locks down specifically what a direct bytebuffer guarantees you, and therein lies a problem, because there is tons of variation across OS+Arch combos of what it really means.</p>\n<p>&quot;Does not move around&quot; is a requirement for various low-level I/O OS kernel calls (where you tell the kernel: Please just tell the network hardware in the system to <em>directly</em> copy incoming bytes straight into this memory block - that kind of low-level I/O. Not all OSes support it, and not all support it in the same way). A plain jane heap buffer simply can't use that; if the underlying OS does support it and so does the JVM, the JVM has to make its own direct buffer (outside of the heap / in a section cordonned off from the GC to ensure it does not move), and start a separate process to blit those bytes into your buffer, taking into account the GC system as that can move around. In contrast, if you ask e.g. a <code>FileChannel</code> object to copy bytes from a file to your <strong>direct</strong> buffer, it <strong>might</strong> be possible that the native impl backing <code>FileChannel</code> of your JVM will just tell the OS to tell the SSD to <em>directly</em> do so with no interaction from the OS/CPU whatsoever. Some hardware can do that. But only to 'fixed' memory locations.</p>\n<p>Whether your JVM can <em>actually</em> do all that - no guarantees. But <em>if</em> it can, it can only do that if you make a direct buffer.</p>\n"},{"comments":[{"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"score":0,"creation_date":1690871856,"post_id":76800968,"comment_id":135409652,"body_markdown":"Thanks for your answer!   There is one thing i not really understand.\n Could you please explain the reason why “direct ByteBuffers  require a more expensive collection of the old generation.”","body":"Thanks for your answer!   There is one thing i not really understand.  Could you please explain the reason why “direct ByteBuffers  require a more expensive collection of the old generation.”"},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1690897090,"post_id":76800968,"comment_id":135414931,"body_markdown":"GC activity is triggered by memory usage, but off heap memory isn&#39;t explicitly known by the GC. Without special actions, direct ByteBuffers will cause out of memory errors. To compensate, a special method is called which can call System.gc(), which forces a full collection: https://github.com/openjdk/jdk/blob/ee3e0917b393b879a543060ace2537be84f20e82/src/java.base/share/classes/java/nio/Bits.java#L106","body":"GC activity is triggered by memory usage, but off heap memory isn&#39;t explicitly known by the GC. Without special actions, direct ByteBuffers will cause out of memory errors. To compensate, a special method is called which can call System.gc(), which forces a full collection: <a href=\"https://github.com/openjdk/jdk/blob/ee3e0917b393b879a543060ace2537be84f20e82/src/java.base/share/classes/java/nio/Bits.java#L106\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690782792,"creation_date":1690782792,"answer_id":76800968,"question_id":76800376,"body_markdown":"Allocating a non-direct `ByteBuffer` can be fully optimized by the garbage collector, and it so it&#39;s potentially more efficient than allocating a direct `ByteBuffer`. In practice, the difference might not be that significant.\r\n\r\nThe bigger issue is deallocation. Both types of `ByteBuffers` can only be deallocated via garbage collection, but direct `ByteBuffers` typically require a more expensive collection of the old generation. Using short-lived direct `ByteBuffers` is therefore not advised, since it increases GC load.\r\n\r\nNote that there is an unsupported way of explicitly deleting direct `ByteBuffers`, but this capability will go away at some point, some time after the java.lang.foreign API is fully released. `MemorySegments` should then be used instead if you need short-lived off-heap buffers.","title":"Why DirectByteBuffer have higher allocation and deallocation costs?","body":"<p>Allocating a non-direct <code>ByteBuffer</code> can be fully optimized by the garbage collector, and it so it's potentially more efficient than allocating a direct <code>ByteBuffer</code>. In practice, the difference might not be that significant.</p>\n<p>The bigger issue is deallocation. Both types of <code>ByteBuffers</code> can only be deallocated via garbage collection, but direct <code>ByteBuffers</code> typically require a more expensive collection of the old generation. Using short-lived direct <code>ByteBuffers</code> is therefore not advised, since it increases GC load.</p>\n<p>Note that there is an unsupported way of explicitly deleting direct <code>ByteBuffers</code>, but this capability will go away at some point, some time after the java.lang.foreign API is fully released. <code>MemorySegments</code> should then be used instead if you need short-lived off-heap buffers.</p>\n"}],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76800522,"answer_count":2,"score":0,"last_activity_date":1690962164,"creation_date":1690771061,"question_id":76800376,"body_markdown":"Mentioned in the java docs of `ByteBuffer`, a direct buffer allocated by `allocateDirect` has higher allocation and deallocation costs. \r\n\r\n&gt; A direct byte buffer may be created by invoking the allocateDirect factory method of this class. The buffers returned by this method typically have somewhat higher allocation and deallocation costs than non-direct buffers. \r\n\r\nI wonder that why there are higher costs? What things need to do under the hood?\r\n\r\nI can understand the higher costs of `MappedByteBuffer` , due to the costs of `mmap`. But the `DirectByteBuffer`, in my opinion, is only a block of memory in the JVM process heap, the same as GC heap. Both them are in the JVM process heap.\r\n\r\nI don&#39;t know what&#39;s the difference to allocate or deallocate a block of memory inside or outside GC heap. ","title":"Why DirectByteBuffer have higher allocation and deallocation costs?","body":"<p>Mentioned in the java docs of <code>ByteBuffer</code>, a direct buffer allocated by <code>allocateDirect</code> has higher allocation and deallocation costs.</p>\n<blockquote>\n<p>A direct byte buffer may be created by invoking the allocateDirect factory method of this class. The buffers returned by this method typically have somewhat higher allocation and deallocation costs than non-direct buffers.</p>\n</blockquote>\n<p>I wonder that why there are higher costs? What things need to do under the hood?</p>\n<p>I can understand the higher costs of <code>MappedByteBuffer</code> , due to the costs of <code>mmap</code>. But the <code>DirectByteBuffer</code>, in my opinion, is only a block of memory in the JVM process heap, the same as GC heap. Both them are in the JVM process heap.</p>\n<p>I don't know what's the difference to allocate or deallocate a block of memory inside or outside GC heap.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1690962056,"post_id":76817567,"comment_id":135424159,"body_markdown":"Does this answer your question? [Rationale for Matcher throwing IllegalStateException when no &#39;matching&#39; method is called](https://stackoverflow.com/questions/12911504/rationale-for-matcher-throwing-illegalstateexception-when-no-matching-method-i) In short you likely need to call `matcher.find()` before `.group(2)`","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12911504/rationale-for-matcher-throwing-illegalstateexception-when-no-matching-method-i\">Rationale for Matcher throwing IllegalStateException when no &#39;matching&#39; method is called</a> In short you likely need to call <code>matcher.find()</code> before <code>.group(2)</code>"}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690962137,"creation_date":1690962137,"answer_id":76817635,"question_id":76817567,"body_markdown":"As I see, you need to call the `find()` method on the `Matcher` object to perform the match before accessing the groups and `find()` method is called on the `matcher` object to perform the match. If a match is found, you can then access the second group using `matcher.group(2)`. If no match is found, you can handle it accordingly.\r\n\r\ncheck this out :\r\n\r\n    private static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;);\r\n    Matcher matcher = REGEX.matcher(pivot);\r\n    \r\n    if (matcher.find()) {\r\n        String secondGroup = matcher.group(2);\r\n        System.out.println(secondGroup);\r\n    } else {\r\n        System.out.println(&quot;No match found.&quot;);\r\n    }","title":"Unable to match second group with Java regex","body":"<p>As I see, you need to call the <code>find()</code> method on the <code>Matcher</code> object to perform the match before accessing the groups and <code>find()</code> method is called on the <code>matcher</code> object to perform the match. If a match is found, you can then access the second group using <code>matcher.group(2)</code>. If no match is found, you can handle it accordingly.</p>\n<p>check this out :</p>\n<pre><code>private static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;);\nMatcher matcher = REGEX.matcher(pivot);\n\nif (matcher.find()) {\n    String secondGroup = matcher.group(2);\n    System.out.println(secondGroup);\n} else {\n    System.out.println(&quot;No match found.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":16348542,"reputation":551,"user_id":11807683,"display_name":"czr_RR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690962317,"accepted_answer_id":76817635,"answer_count":1,"score":0,"last_activity_date":1690962137,"creation_date":1690961628,"question_id":76817567,"body_markdown":"Having the following `String`: `|mykey:myvalue|` being `mykey` and `myvalue` any random set of characters, I&#39;m trying to retrieve the `myvalue` part with the following regex:\r\n\r\n```\r\nprivate static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;)\r\n\r\nString secondGroup = REGEX.matcher(pivot).group(2)\r\n```\r\n\r\nHowever, it will throw an exception as `java.lang.IllegalStateException: No match found`.\r\n\r\nHow can I match the previous string and return the second value?","title":"Unable to match second group with Java regex","body":"<p>Having the following <code>String</code>: <code>|mykey:myvalue|</code> being <code>mykey</code> and <code>myvalue</code> any random set of characters, I'm trying to retrieve the <code>myvalue</code> part with the following regex:</p>\n<pre><code>private static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;)\n\nString secondGroup = REGEX.matcher(pivot).group(2)\n</code></pre>\n<p>However, it will throw an exception as <code>java.lang.IllegalStateException: No match found</code>.</p>\n<p>How can I match the previous string and return the second value?</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"comments":[{"owner":{"account_id":18222032,"reputation":159,"user_id":13262591,"display_name":"Anonymous"},"score":1,"creation_date":1586928378,"post_id":61219459,"comment_id":108305451,"body_markdown":"I have made sure that my topic exists, also the code runs perfectly fine when I send without a partition key. Why does it show error on adding a partition key?","body":"I have made sure that my topic exists, also the code runs perfectly fine when I send without a partition key. Why does it show error on adding a partition key?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1586969084,"post_id":61219459,"comment_id":108327335,"body_markdown":"Not sure what you mean by &quot;partition key&quot;. It would be the &quot;record key&quot;, and even if you don&#39;t actually set one, then it is still sent as `null`. What partitioner are you using?","body":"Not sure what you mean by &quot;partition key&quot;. It would be the &quot;record key&quot;, and even if you don&#39;t actually set one, then it is still sent as <code>null</code>. What partitioner are you using?"},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":1,"creation_date":1626762434,"post_id":61219459,"comment_id":120972984,"body_markdown":"For the sake of completeness, the same happens when the topic is not created also.","body":"For the sake of completeness, the same happens when the topic is not created also."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1586910780,"creation_date":1586910780,"answer_id":61219459,"question_id":61217084,"body_markdown":"The error clearly states that the topic (or partition) you are producing to does not exist. \r\n\r\nUltimately, you will need to describe the topic (via CLI `kafka-topics --describe --topic &lt;topicName&gt;` or other means) to verify if this is true\r\n\r\n&gt; Kafka on HDInsight and I have no idea how to verify it and solve this issue.\r\n\r\nACLs are only setup if you installed the cluster with them, but I believe you can still list ACLs via `zookeper-shell` or SSHing into one of Hadoop masters. ","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>The error clearly states that the topic (or partition) you are producing to does not exist. </p>\n\n<p>Ultimately, you will need to describe the topic (via CLI <code>kafka-topics --describe --topic &lt;topicName&gt;</code> or other means) to verify if this is true</p>\n\n<blockquote>\n  <p>Kafka on HDInsight and I have no idea how to verify it and solve this issue.</p>\n</blockquote>\n\n<p>ACLs are only setup if you installed the cluster with them, but I believe you can still list ACLs via <code>zookeper-shell</code> or SSHing into one of Hadoop masters. </p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692542121,"post_id":61223216,"comment_id":135634692,"body_markdown":"Partitions? You mean brokers?","body":"Partitions? You mean brokers?"}],"tags":[],"owner":{"account_id":18222032,"reputation":159,"user_id":13262591,"display_name":"Anonymous"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586934702,"creation_date":1586934702,"answer_id":61223216,"question_id":61217084,"body_markdown":"I made the replication factor less than the number of partitions and it worked for me. It sounds odd to me but yes, it started working after it.","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>I made the replication factor less than the number of partitions and it worked for me. It sounds odd to me but yes, it started working after it.</p>\n"},{"tags":[],"owner":{"account_id":11517065,"reputation":203,"user_id":8440134,"display_name":"rajkumar21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624878775,"creation_date":1624878775,"answer_id":68162336,"question_id":61217084,"body_markdown":"I too had the same issue while creating a new topic. And when I described the topic, I could see that leaders were not assigned to the topic partitions.\r\n\r\n Topic: xxxxxxxxx Partition: 0    Leader: none       Replicas: 3,2,1 Isr:\r\n Topic: xxxxxxxxx Partition: 1    Leader: none       Replicas: 1,3,2 Isr:\r\n\r\nAfter some googling, figured out that this could happen when we some issue with controller broker, so restarted the controller broker.\r\n\r\nAnd Everything worked as expected...!\r\n","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>I too had the same issue while creating a new topic. And when I described the topic, I could see that leaders were not assigned to the topic partitions.</p>\n<p>Topic: xxxxxxxxx Partition: 0    Leader: none       Replicas: 3,2,1 Isr:\nTopic: xxxxxxxxx Partition: 1    Leader: none       Replicas: 1,3,2 Isr:</p>\n<p>After some googling, figured out that this could happen when we some issue with controller broker, so restarted the controller broker.</p>\n<p>And Everything worked as expected...!</p>\n"},{"tags":[],"owner":{"account_id":4596281,"reputation":1418,"user_id":3728233,"accept_rate":100,"display_name":"sbrk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675799715,"creation_date":1675799715,"answer_id":75378369,"question_id":61217084,"body_markdown":"If the topic exists but you&#39;re still seeing this error, it could mean that the supplied list of brokers is incorrect. Check the `bootstrap.servers` value, it should be pointing to the right Kafka cluster where the topic resides. \r\n\r\nI saw the same issue and I have multiple Kafka clusters and the topic clearly exists. However, my list of brokers was incorrect. ","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>If the topic exists but you're still seeing this error, it could mean that the supplied list of brokers is incorrect. Check the <code>bootstrap.servers</code> value, it should be pointing to the right Kafka cluster where the topic resides.</p>\n<p>I saw the same issue and I have multiple Kafka clusters and the topic clearly exists. However, my list of brokers was incorrect.</p>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692542098,"post_id":76776430,"comment_id":135634688,"body_markdown":"You shouldn&#39;t change that. Just create a new topic","body":"You shouldn&#39;t change that. Just create a new topic"}],"tags":[],"owner":{"account_id":24682324,"reputation":1,"user_id":18575896,"display_name":"Dipali Gangawane"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690961990,"creation_date":1690430566,"answer_id":76776430,"question_id":61217084,"body_markdown":"This error occurs when topic is not present or partition is not present. In my case my `amazon msk` cluster configuration having `auto.topic.cretion.enable` as `false`. Customizing the configurations and setting it as a `true` resolved the issue.","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>This error occurs when topic is not present or partition is not present. In my case my <code>amazon msk</code> cluster configuration having <code>auto.topic.cretion.enable</code> as <code>false</code>. Customizing the configurations and setting it as a <code>true</code> resolved the issue.</p>\n"}],"owner":{"account_id":18222032,"reputation":159,"user_id":13262591,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30319,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1690961990,"creation_date":1586897668,"question_id":61217084,"body_markdown":"I have created a sample application to check my producer&#39;s code. My application runs fine when I&#39;m sending data without a partitioning key. But, on specifying a key for data partitioning I&#39;m getting the error:\r\n```\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 37 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 38 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 39 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\r\n```\r\n for both consumer and producer. I have searched a lot on the internet, they have suggested to verify kafka.acl settings. I&#39;m using **kafka on HDInsight** and I have no idea how to verify it and solve this issue.\r\n\r\nMy cluster has following configuration:\r\n\r\n 1. Head Node: 2\r\n 2. Worker Node:4\r\n 3. Zookeeper: 3\r\n\r\nMY producer code:\r\n```\r\npublic static void produce(String brokers, String topicName) throws IOException{\r\n\r\n    // Set properties used to configure the producer\r\n    Properties properties = new Properties();\r\n      // Set the brokers (bootstrap servers)\r\n    properties.setProperty(&quot;bootstrap.servers&quot;, brokers);\r\n    properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n  properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n\r\n    // specify the protocol for Domain Joined clusters\r\n\r\n    //To create an Idempotent Producer\r\n    properties.setProperty(ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG, &quot;true&quot;);\r\n    properties.setProperty(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n    properties.setProperty(ProducerConfig.RETRIES_CONFIG, Integer.toString(Integer.MAX_VALUE));\r\n    properties.setProperty(ProducerConfig.TRANSACTIONAL_ID_CONFIG, &quot;test-transactional-id&quot;); \r\n    KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n    producer.initTransactions();\r\n    // So we can generate random sentences\r\n    Random random = new Random();\r\n    String[] sentences = new String[] {\r\n            &quot;the cow jumped over the moon&quot;,\r\n            &quot;an apple a day keeps the doctor away&quot;,\r\n            &quot;four score and seven years ago&quot;,\r\n            &quot;snow white and the seven dwarfs&quot;,\r\n            &quot;i am at two with nature&quot;,\r\n         };\r\n\r\n\r\n    for(String sentence: sentences){\r\n        // Send the sentence to the test topic\r\n        try\r\n        {\r\n            String key=sentence.substring(0,2);\r\n            producer.beginTransaction();\r\n            producer.send(new ProducerRecord&lt;String, String&gt;(topicName,key,sentence)).get();\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n          System.out.print(ex.getMessage());\r\n            throw new IOException(ex.toString());\r\n        }\r\n        producer.commitTransaction();\r\n    }\r\n}\r\n```\r\n\r\nAlso, My topic consists of 3 partitions with replication factor=3\r\n\r\n  [1]: https://i.stack.imgur.com/Svr0a.png\r\n  [2]: https://i.stack.imgur.com/7QVpR.png","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>I have created a sample application to check my producer's code. My application runs fine when I'm sending data without a partitioning key. But, on specifying a key for data partitioning I'm getting the error:</p>\n\n<pre><code>[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 37 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 38 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 39 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\n</code></pre>\n\n<p>for both consumer and producer. I have searched a lot on the internet, they have suggested to verify kafka.acl settings. I'm using <strong>kafka on HDInsight</strong> and I have no idea how to verify it and solve this issue.</p>\n\n<p>My cluster has following configuration:</p>\n\n<ol>\n<li>Head Node: 2</li>\n<li>Worker Node:4</li>\n<li>Zookeeper: 3</li>\n</ol>\n\n<p>MY producer code:</p>\n\n<pre><code>public static void produce(String brokers, String topicName) throws IOException{\n\n    // Set properties used to configure the producer\n    Properties properties = new Properties();\n      // Set the brokers (bootstrap servers)\n    properties.setProperty(\"bootstrap.servers\", brokers);\n    properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n  properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n\n    // specify the protocol for Domain Joined clusters\n\n    //To create an Idempotent Producer\n    properties.setProperty(ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG, \"true\");\n    properties.setProperty(ProducerConfig.ACKS_CONFIG, \"all\");\n    properties.setProperty(ProducerConfig.RETRIES_CONFIG, Integer.toString(Integer.MAX_VALUE));\n    properties.setProperty(ProducerConfig.TRANSACTIONAL_ID_CONFIG, \"test-transactional-id\"); \n    KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n    producer.initTransactions();\n    // So we can generate random sentences\n    Random random = new Random();\n    String[] sentences = new String[] {\n            \"the cow jumped over the moon\",\n            \"an apple a day keeps the doctor away\",\n            \"four score and seven years ago\",\n            \"snow white and the seven dwarfs\",\n            \"i am at two with nature\",\n         };\n\n\n    for(String sentence: sentences){\n        // Send the sentence to the test topic\n        try\n        {\n            String key=sentence.substring(0,2);\n            producer.beginTransaction();\n            producer.send(new ProducerRecord&lt;String, String&gt;(topicName,key,sentence)).get();\n        }\n        catch (Exception ex)\n        {\n          System.out.print(ex.getMessage());\n            throw new IOException(ex.toString());\n        }\n        producer.commitTransaction();\n    }\n}\n</code></pre>\n\n<p>Also, My topic consists of 3 partitions with replication factor=3</p>\n"},{"tags":["java","cloud","azure-blob-storage","azure-file-share"],"comments":[{"owner":{"account_id":1908539,"reputation":1102,"user_id":1722923,"accept_rate":43,"display_name":"Raju Rudru"},"score":0,"creation_date":1690880721,"post_id":76808715,"comment_id":135411393,"body_markdown":"are you using Azure SDK in your project? The error message looks like a dependent jar file is missing.","body":"are you using Azure SDK in your project? The error message looks like a dependent jar file is missing."},{"owner":{"account_id":17235840,"reputation":85,"user_id":12479336,"display_name":"oliver"},"score":0,"creation_date":1690882538,"post_id":76808715,"comment_id":135411773,"body_markdown":"Hi @RajuRudru I am using the below dependency. Now i am getting &quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot; Error. Kindly suggest me to resolve this. \n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;12.19.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"Hi @RajuRudru I am using the below dependency. Now i am getting &quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot; Error. Kindly suggest me to resolve this.  &lt;dependency&gt; \t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt; \t\t\t&lt;version&gt;12.19.0&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690961549,"creation_date":1690961549,"answer_id":76817557,"question_id":76808715,"body_markdown":"&gt; Need to upload the file from local to Azure blob File Share folder using Java code\r\n\r\nYou can use the below code to upload from the local path to Azure file storage using Azure Java SDK.\r\n\r\n**Code:** \r\n\r\n    import com.azure.storage.file.share.ShareFileClient;\r\n    import com.azure.storage.file.share.ShareFileClientBuilder; \r\n    \r\n        public static void main(String[] args) {\r\n            String connectionString = &quot;your-connection-string&quot;;\r\n            String shareName = &quot;fileshare1&quot;;\r\n            String directoryName = &quot;directory1&quot;;\r\n            String fileName = &quot;sample.csv&quot;;\r\n            String filePath = &quot;C:\\\\Users\\\\xxxx\\\\xxxx\\\\day.csv&quot;;\r\n        \r\n            // Create a ShareClient object\r\n                   // Create a ShareFileClient object\r\n            ShareFileClient fileClient = new ShareFileClientBuilder()\r\n                    .connectionString(connectionString)\r\n                    .shareName(shareName)\r\n                    .resourcePath(directoryName + &quot;/&quot; + fileName)\r\n                    .buildFileClient();\r\n        fileClient.uploadFromFile(filePath);\r\n        \r\n        System.out.println(&quot;File uploaded successfully.&quot;);\r\n        }\r\n\r\n**Dependency:** \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt;\r\n      &lt;version&gt;12.14.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n\r\n**Output:**\r\n\r\n     File uploaded successfully.\r\n![enter image description here](https://i.imgur.com/Uj72wHP.png)\r\n\r\n**Portal:** \r\n\r\n![enter image description here](https://i.imgur.com/WNIwGnI.png)\r\n\r\n**Reference:** \r\n\r\n[Azure File Share client library for Java | Microsoft Learn](https://learn.microsoft.com/en-us/java/api/overview/azure/storage-file-share-readme?view=azure-java-stable#upload-file-to-storage)\r\n","title":"Need to upload the file from local to Azure blob File Share folder using Java code","body":"<blockquote>\n<p>Need to upload the file from local to Azure blob File Share folder using Java code</p>\n</blockquote>\n<p>You can use the below code to upload from the local path to Azure file storage using Azure Java SDK.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import com.azure.storage.file.share.ShareFileClient;\nimport com.azure.storage.file.share.ShareFileClientBuilder; \n\n    public static void main(String[] args) {\n        String connectionString = &quot;your-connection-string&quot;;\n        String shareName = &quot;fileshare1&quot;;\n        String directoryName = &quot;directory1&quot;;\n        String fileName = &quot;sample.csv&quot;;\n        String filePath = &quot;C:\\\\Users\\\\xxxx\\\\xxxx\\\\day.csv&quot;;\n    \n        // Create a ShareClient object\n               // Create a ShareFileClient object\n        ShareFileClient fileClient = new ShareFileClientBuilder()\n                .connectionString(connectionString)\n                .shareName(shareName)\n                .resourcePath(directoryName + &quot;/&quot; + fileName)\n                .buildFileClient();\n    fileClient.uploadFromFile(filePath);\n    \n    System.out.println(&quot;File uploaded successfully.&quot;);\n    }\n</code></pre>\n<p><strong>Dependency:</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.azure&lt;/groupId&gt;\n  &lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt;\n  &lt;version&gt;12.14.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code> File uploaded successfully.\n</code></pre>\n<p><img src=\"https://i.imgur.com/Uj72wHP.png\" alt=\"enter image description here\" /></p>\n<p><strong>Portal:</strong></p>\n<p><img src=\"https://i.imgur.com/WNIwGnI.png\" alt=\"enter image description here\" /></p>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/storage-file-share-readme?view=azure-java-stable#upload-file-to-storage\" rel=\"nofollow noreferrer\">Azure File Share client library for Java | Microsoft Learn</a></p>\n"}],"owner":{"account_id":17235840,"reputation":85,"user_id":12479336,"display_name":"oliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817557,"answer_count":1,"score":0,"last_activity_date":1690961549,"creation_date":1690867368,"question_id":76808715,"body_markdown":"I am trying to upload the file from my local path to File Share folder in the Azure Storage blob by using below Java code. I am getting the below error. Kindly help me to resolve this issue or any code snippet to upload in the file share folder in azure blob.\r\n\r\n\t\t\t\r\n\r\n    String connectionString = &quot;&quot;;\r\n    String shareName = &quot;&quot;;\r\n    String filePath = &quot;&lt;local file path&gt;&quot;;\r\n    String fileName = &quot;&quot;;\r\n\r\n    // Create a ShareClient object\r\n    ShareClient shareClient = new ShareClientBuilder().connectionString(connectionString).shareName(shareName).buildClient();\r\n\r\n    try {\r\n        // Open the file as a stream\r\n        File file = new File(filePath);\r\n        FileInputStream fis = new FileInputStream(file);\r\n\r\n        // Upload the file to the share\r\n        ShareFileClient fileClient = shareClient.getDirectoryClient(&quot;&quot;).getFileClient(fileName);\r\n        fileClient.create(fis.available());\r\n        fileClient.upload(fis, fis.available());\r\n\r\n        // Close the file stream\r\n        fis.close();\r\n\r\n        System.out.println(&quot;File uploaded successfully.&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/azure/core/client/traits/HttpTrait\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat utilities.azureBlob3.main(azureBlob3.java:22)\r\n    Caused by: java.lang.ClassNotFoundException: com.azure.core.client.traits.HttpTrait\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 10 more","title":"Need to upload the file from local to Azure blob File Share folder using Java code","body":"<p>I am trying to upload the file from my local path to File Share folder in the Azure Storage blob by using below Java code. I am getting the below error. Kindly help me to resolve this issue or any code snippet to upload in the file share folder in azure blob.</p>\n<pre><code>String connectionString = &quot;&quot;;\nString shareName = &quot;&quot;;\nString filePath = &quot;&lt;local file path&gt;&quot;;\nString fileName = &quot;&quot;;\n\n// Create a ShareClient object\nShareClient shareClient = new ShareClientBuilder().connectionString(connectionString).shareName(shareName).buildClient();\n\ntry {\n    // Open the file as a stream\n    File file = new File(filePath);\n    FileInputStream fis = new FileInputStream(file);\n\n    // Upload the file to the share\n    ShareFileClient fileClient = shareClient.getDirectoryClient(&quot;&quot;).getFileClient(fileName);\n    fileClient.create(fis.available());\n    fileClient.upload(fis, fis.available());\n\n    // Close the file stream\n    fis.close();\n\n    System.out.println(&quot;File uploaded successfully.&quot;);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/azure/core/client/traits/HttpTrait\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at utilities.azureBlob3.main(azureBlob3.java:22)\nCaused by: java.lang.ClassNotFoundException: com.azure.core.client.traits.HttpTrait\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 10 more\n</code></pre>\n"},{"tags":["java","spring","jackson","spring-webflux"],"comments":[{"owner":{"account_id":3249972,"reputation":344,"user_id":2740568,"accept_rate":45,"display_name":"Nagesh"},"score":1,"creation_date":1599742957,"post_id":53378161,"comment_id":112872418,"body_markdown":"Did you find the solution?","body":"Did you find the solution?"}],"answers":[{"comments":[{"owner":{"account_id":439737,"reputation":408,"user_id":828878,"display_name":"localhorst"},"score":1,"creation_date":1597970315,"post_id":53477531,"comment_id":112313345,"body_markdown":"The above example does not compile","body":"The above example does not compile"}],"tags":[],"owner":{"account_id":11678392,"reputation":329,"user_id":8551059,"display_name":"Ashish"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543222430,"creation_date":1543222430,"answer_id":53477531,"question_id":53378161,"body_markdown":"Create a class (say CollectionT) and add List of T as an attribute there. Then You can easily cast it into Mono, which on, .map(x -&gt; x.getList()) will return a Mono of List of T. It also makes your code look more non-blocking by avoiding, .block()\r\n\r\nHere goes the code: -&gt;\r\n\r\n\r\n\r\n    public class CollectionT {\r\n    \r\n       private List&lt;T&gt; data;\r\n    \r\n       //getters\r\n       public List&lt;T&gt; getData(){\r\n        return data;\r\n       }\r\n   \r\n       //setters\r\n         ...\r\n    }\r\n    \r\n    public class RestConsumer&lt;T&gt; {\r\n        WebClient client = WebClient.create();\r\n    \r\n        public RestConsumer(){\r\n            //Initialize client\r\n        }\r\n    \r\n            public List&lt;T&gt; getList(String relativeUrl){\r\n                \r\n                    return client\r\n                        .get()\r\n                        .uri(relativeUrl)\r\n                        .retrieve()\r\n                        .bodyToMono(CollectionT.class)\r\n                        .map(x -&gt; x.getData());\r\n              \r\n        }\r\n    }\r\n","title":"Webflux webclient and generic types","body":"<p>Create a class (say CollectionT) and add List of T as an attribute there. Then You can easily cast it into Mono, which on, .map(x -> x.getList()) will return a Mono of List of T. It also makes your code look more non-blocking by avoiding, .block()</p>\n\n<p>Here goes the code: -></p>\n\n<pre><code>public class CollectionT {\n\n   private List&lt;T&gt; data;\n\n   //getters\n   public List&lt;T&gt; getData(){\n    return data;\n   }\n\n   //setters\n     ...\n}\n\npublic class RestConsumer&lt;T&gt; {\n    WebClient client = WebClient.create();\n\n    public RestConsumer(){\n        //Initialize client\n    }\n\n        public List&lt;T&gt; getList(String relativeUrl){\n\n                return client\n                    .get()\n                    .uri(relativeUrl)\n                    .retrieve()\n                    .bodyToMono(CollectionT.class)\n                    .map(x -&gt; x.getData());\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1604769880,"post_id":64607364,"comment_id":114450621,"body_markdown":"Very clever answer!","body":"Very clever answer!"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1642760491,"post_id":64607364,"comment_id":125163066,"body_markdown":"This is great. It worked. Thank you","body":"This is great. It worked. Thank you"}],"tags":[],"owner":{"account_id":18614888,"reputation":689,"user_id":13566428,"display_name":"Andrei Stoicescu"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1604056733,"creation_date":1604056733,"answer_id":64607364,"question_id":53378161,"body_markdown":"I encountered the same problem and in order to work I added ParameterizedTypeReference as a parameter for that function.\r\n\r\n    public &lt;T&gt; List&lt;T&gt; getList(String relativeUrl, \r\n                               ParameterizedTypeReference&lt;List&lt;T&gt;&gt; typeReference){\r\n        try{\r\n            return client\r\n                .get()\r\n                .uri(relativeUrl)\r\n                .retrieve()\r\n                .bodyToMono(typeReference)\r\n                .block();\r\n        } catch(Exception e){\r\n            return null;\r\n        }\r\n    }\r\n\r\nAnd call that function with\r\n\r\n    ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt; typeReference = new ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt;(){};\r\n    List&lt;MyClass&gt; strings = getList(relativeUrl, typeReference);","title":"Webflux webclient and generic types","body":"<p>I encountered the same problem and in order to work I added ParameterizedTypeReference as a parameter for that function.</p>\n<pre><code>public &lt;T&gt; List&lt;T&gt; getList(String relativeUrl, \n                           ParameterizedTypeReference&lt;List&lt;T&gt;&gt; typeReference){\n    try{\n        return client\n            .get()\n            .uri(relativeUrl)\n            .retrieve()\n            .bodyToMono(typeReference)\n            .block();\n    } catch(Exception e){\n        return null;\n    }\n}\n</code></pre>\n<p>And call that function with</p>\n<pre><code>ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt; typeReference = new ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt;(){};\nList&lt;MyClass&gt; strings = getList(relativeUrl, typeReference);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71795,"reputation":1978,"user_id":207552,"accept_rate":75,"display_name":"bschandramohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612747541,"creation_date":1612747541,"answer_id":66094838,"question_id":53378161,"body_markdown":"If you are using kotlin, key is to use reified to preserve the class type from generic types on the calling field. \r\n\r\nHere is the code: \r\n\r\n    inline fun &lt;reified T&gt; getMonoResult(uriParam: String): T? = client\r\n        .get()\r\n        .uri(uriParam)\r\n        .retrieve()\r\n        .bodyToMono(T::class.java)\r\n        .block(Duration.ofSeconds(1))\r\n\r\n    inline fun &lt;reified T&gt; getFluxResult(uriParam: String): MutableList&lt;T&gt;? = client\r\n        .get()\r\n        .uri(uriParam)\r\n        .retrieve()\r\n        .bodyToFlux(T::class.java)\r\n        .collectList()\r\n        .block(Duration.ofSeconds(1))\r\n\r\n","title":"Webflux webclient and generic types","body":"<p>If you are using kotlin, key is to use reified to preserve the class type from generic types on the calling field.</p>\n<p>Here is the code:</p>\n<pre><code>inline fun &lt;reified T&gt; getMonoResult(uriParam: String): T? = client\n    .get()\n    .uri(uriParam)\n    .retrieve()\n    .bodyToMono(T::class.java)\n    .block(Duration.ofSeconds(1))\n\ninline fun &lt;reified T&gt; getFluxResult(uriParam: String): MutableList&lt;T&gt;? = client\n    .get()\n    .uri(uriParam)\n    .retrieve()\n    .bodyToFlux(T::class.java)\n    .collectList()\n    .block(Duration.ofSeconds(1))\n</code></pre>\n"}],"owner":{"account_id":14782191,"reputation":201,"user_id":10675439,"display_name":"liorc2121"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16153,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1690961240,"creation_date":1542642347,"question_id":53378161,"body_markdown":"I am trying to build a generic class that will consume a REST API. The API returns lists of objects depending on the url.\r\n\r\nI have built a Generic class \r\n\r\n    public class RestConsumer&lt;T&gt; {\r\n        WebClient client;\r\n\r\n        public RestConsumer(){\r\n            //Initialize client\r\n        }\r\n\r\n        public List&lt;T&gt; getList(String relativeUrl){\r\n            try{\r\n                return client\r\n                    .get()\r\n                    .uri(relativeUrl)\r\n                    .retrieve()\r\n                    .bodyToMono(new ParameterizedTypeReference&lt;List&lt;T&gt;&gt; (){}\r\n                    .block()\r\n            catch(Exception e){}\r\n    }\r\n}\r\n\r\n\r\nThe problem is that T is replaced by Object at compilation time and the whole thing returns a List of LinkedHashMap instead of a List of T. I tried lots of workarounds but had no luck. Any clue?","title":"Webflux webclient and generic types","body":"<p>I am trying to build a generic class that will consume a REST API. The API returns lists of objects depending on the url.</p>\n<p>I have built a Generic class</p>\n<pre><code>public class RestConsumer&lt;T&gt; {\n    WebClient client;\n\n    public RestConsumer(){\n        //Initialize client\n    }\n\n    public List&lt;T&gt; getList(String relativeUrl){\n        try{\n            return client\n                .get()\n                .uri(relativeUrl)\n                .retrieve()\n                .bodyToMono(new ParameterizedTypeReference&lt;List&lt;T&gt;&gt; (){}\n                .block()\n        catch(Exception e){}\n}\n</code></pre>\n<p>}</p>\n<p>The problem is that T is replaced by Object at compilation time and the whole thing returns a List of LinkedHashMap instead of a List of T. I tried lots of workarounds but had no luck. Any clue?</p>\n"},{"tags":["java","arrays","encoding","sum","decoding"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1690961144,"post_id":76817469,"comment_id":135423957,"body_markdown":"The subtraction should be the other way round: `res[i - 1] = res[i] - input1[i - 1];`","body":"The subtraction should be the other way round: <code>res[i - 1] = res[i] - input1[i - 1];</code>"}],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1690961214,"creation_date":1690961214,"answer_id":76817513,"question_id":76817469,"body_markdown":" You made a mistake in writing here \r\n [![enter image description here][1]][1]\r\n\r\nThe correct calculation method is as follows     \r\n\r\n     res[i - 1] =  res[i] - input1[i - 1] ;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zmmPv.png","title":"Decode Simple Encoded Array in Java","body":"<p>You made a mistake in writing here\n<a href=\"https://i.stack.imgur.com/zmmPv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmmPv.png\" alt=\"enter image description here\" /></a></p>\n<p>The correct calculation method is as follows</p>\n<pre><code> res[i - 1] =  res[i] - input1[i - 1] ;\n</code></pre>\n"}],"owner":{"account_id":29141331,"reputation":3,"user_id":22324230,"display_name":"Sri Murugan G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76817513,"answer_count":1,"score":-1,"last_activity_date":1690961214,"creation_date":1690960774,"question_id":76817469,"body_markdown":"I have an encoded array in Java, and I need to find the first number and the sum of all numbers in the original array based on the encoding rules. The encoding used is as follows:\r\n\r\n- Each array element has been substituted with a value that is the difference of its original value and its succeeding element’s value.\r\n- The value in `arr[i] = arr[i+1] - arr[i]`\r\n- For example, if the original array is `{2, 5, 1, 7, 9, 3}`, the encoded array would be `{3, -4, 6, 2, -6, 3}`.\r\n\r\nI tried the following code, and it&#39;s giving the wrong output. Can someone please help me identify the issue?\r\n\r\n\r\n```\r\nclass Result {\r\n    int output1;\r\n    int output2;\r\n\r\n    public Result(int output1, int output2) {\r\n        this.output1 = output1;\r\n        this.output2 = output2;\r\n    }\r\n}\r\n\r\npublic class EncodedArray {\r\n\r\n    public static Result findOriginalFirstAndSum(int[] input1) {\r\n        int[] res = new int[input1.length];\r\n        res[res.length - 1] = input1[input1.length - 1];\r\n        for (int i = input1.length - 1; i &gt; 0; i--) {\r\n            res[i - 1] = input1[i - 1] - res[i];\r\n        }\r\n\r\n        int sum = 0;\r\n        for (int item : res) {\r\n            sum += item;\r\n        }\r\n\r\n        return new Result(res[0], sum);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] encodedArray = { 3, -4, 6, 2, -6, 3 };\r\n        Result result = findOriginalFirstAndSum(encodedArray);\r\n\r\n        System.out.println(&quot;First number in original array: &quot; + result.output1);\r\n        System.out.println(&quot;Sum of all numbers in original array: &quot; + result.output2);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe output I&#39;m getting is:\r\n\r\n```\r\nFirst number in the original array: -3\r\nSum of all numbers in the original array: 12\r\n\r\n```\r\nThe expected output should be:\r\n\r\n```\r\nFirst number in the original array: 2\r\nSum of all numbers in the original array: 27\r\n```\r\n\r\nAny help or suggestions on how to fix the code would be greatly appreciated. Thank you!","title":"Decode Simple Encoded Array in Java","body":"<p>I have an encoded array in Java, and I need to find the first number and the sum of all numbers in the original array based on the encoding rules. The encoding used is as follows:</p>\n<ul>\n<li>Each array element has been substituted with a value that is the difference of its original value and its succeeding element’s value.</li>\n<li>The value in <code>arr[i] = arr[i+1] - arr[i]</code></li>\n<li>For example, if the original array is <code>{2, 5, 1, 7, 9, 3}</code>, the encoded array would be <code>{3, -4, 6, 2, -6, 3}</code>.</li>\n</ul>\n<p>I tried the following code, and it's giving the wrong output. Can someone please help me identify the issue?</p>\n<pre><code>class Result {\n    int output1;\n    int output2;\n\n    public Result(int output1, int output2) {\n        this.output1 = output1;\n        this.output2 = output2;\n    }\n}\n\npublic class EncodedArray {\n\n    public static Result findOriginalFirstAndSum(int[] input1) {\n        int[] res = new int[input1.length];\n        res[res.length - 1] = input1[input1.length - 1];\n        for (int i = input1.length - 1; i &gt; 0; i--) {\n            res[i - 1] = input1[i - 1] - res[i];\n        }\n\n        int sum = 0;\n        for (int item : res) {\n            sum += item;\n        }\n\n        return new Result(res[0], sum);\n    }\n\n    public static void main(String[] args) {\n        int[] encodedArray = { 3, -4, 6, 2, -6, 3 };\n        Result result = findOriginalFirstAndSum(encodedArray);\n\n        System.out.println(&quot;First number in original array: &quot; + result.output1);\n        System.out.println(&quot;Sum of all numbers in original array: &quot; + result.output2);\n    }\n}\n</code></pre>\n<p>The output I'm getting is:</p>\n<pre><code>First number in the original array: -3\nSum of all numbers in the original array: 12\n\n</code></pre>\n<p>The expected output should be:</p>\n<pre><code>First number in the original array: 2\nSum of all numbers in the original array: 27\n</code></pre>\n<p>Any help or suggestions on how to fix the code would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","unit-testing","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690961156,"creation_date":1690961156,"answer_id":76817508,"question_id":76808707,"body_markdown":"You cannot do `when(new XYZ())`; Mockito cannot create stubbings for constructors.\r\n\r\nThe statement\r\n\r\n```\r\nwhen(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\r\n        .thenReturn(sslConnectionSocketFactory);\r\n```\r\n\r\nis seen by Mockito as\r\n\r\n```\r\nwhen(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE)\r\n        .thenReturn(sslConnectionSocketFactory);\r\n```\r\n\r\nand that&#39;s the reason for your error: `getSocketFactory` does not return a `SslConnectionSocketFactory`.\r\n\r\nPossible solutions:\r\n\r\n* Use PowerMockito to stub constructor calls\r\n* Don&#39;t couple your classes and use a factory instead. Several variants of this solution are presented in https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","title":"Mockito Test throwing error &quot;SSLConnectionSocketFactory&quot; cannot be returned","body":"<p>You cannot do <code>when(new XYZ())</code>; Mockito cannot create stubbings for constructors.</p>\n<p>The statement</p>\n<pre><code>when(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\n        .thenReturn(sslConnectionSocketFactory);\n</code></pre>\n<p>is seen by Mockito as</p>\n<pre><code>when(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE)\n        .thenReturn(sslConnectionSocketFactory);\n</code></pre>\n<p>and that's the reason for your error: <code>getSocketFactory</code> does not return a <code>SslConnectionSocketFactory</code>.</p>\n<p>Possible solutions:</p>\n<ul>\n<li>Use PowerMockito to stub constructor calls</li>\n<li>Don't couple your classes and use a factory instead. Several variants of this solution are presented in <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a></li>\n</ul>\n"}],"owner":{"account_id":26533048,"reputation":29,"user_id":20164966,"display_name":"snigdha singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690961156,"creation_date":1690867198,"question_id":76808707,"body_markdown":"I have written a code to perform http post operation:\r\n\r\n    public Response postResponse(\r\n            @NonNull final String payload,\r\n            @NonNull final String endpoint,\r\n            @NonNull final ContentType contentType,\r\n            @NonNull final String clientCertificate\r\n    ) {\r\n        SSLConnectionSocketFactory sslConnectionSocketFactory;\r\n        if (StringUtils.isNotEmpty(clientCertificate)) {\r\n            // Client certificate is present, thus using TLS\r\n            sslConnectionSocketFactory =\r\n                    new SSLConnectionSocketFactory(postUtility\r\n                            .getSocketFactory(clientCertificate),\r\n                            NoopHostnameVerifier.INSTANCE);\r\n        } else {\r\n            SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslcontext.init(null, null, new java.security.SecureRandom());\r\n\r\n            sslConnectionSocketFactory = new SSLConnectionSocketFactory(\r\n                    sslcontext,\r\n                    new String[]{&quot;TLSv1&quot;}, //{ &quot;TLS10&quot; },\r\n                    null,\r\n                    SSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n        }\r\n\r\n        HttpPost httpPost = new HttpPost(endpoint);\r\n        httpPost.setHeader(&quot;Content-Type&quot;, contentType.getMimeType());\r\n\r\n        httpPost.setEntity(\r\n                EntityBuilder.create()\r\n                        .setText(payload)\r\n                        .setContentType(contentType)\r\n                        .build()\r\n        );\r\n\r\n        try (\r\n                CloseableHttpClient httpclient = HttpClients.custom()\r\n                        .setSSLContext(SSLContext.getDefault())\r\n                        .setSSLSocketFactory(sslConnectionSocketFactory)\r\n                        .build();\r\n                CloseableHttpResponse response = httpclient.execute(httpPost)\r\n        ) {\r\n            return Response.status(response.getStatusLine().getStatusCode()).build();\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Unable to send response&quot;, ex);\r\n            return Response.serverError().build();\r\n        }\r\n    }\r\n\r\nAnd wrote below unit test with MockitoExtension.class but it seems to be throwing error:\r\nSSLConnectionSocketFactory$MockitoMock$1231118446 cannot be returned by getSocketFactory() getSocketFactory() should return SSLSocketFactory. Return type of getSocketFactory() method in postUtility class returns a SSLSocketFactory. I want to use MockitoExtension only and not PowerMockito\r\n\r\n    @Mock\r\n    private PostUtility postUtility;\r\n\r\n    @Mock\r\n    private SSLConnectionSocketFactory sslConnectionSocketFactory;\r\n\r\n    @Mock\r\n    private SSLSocketFactory sslSocketFactory;\r\n\r\n    @Mock\r\n    private CloseableHttpClient httpclient;\r\n\r\n    @Mock\r\n    private CloseableHttpResponse httpResponse;\r\n\r\n    @Mock\r\n    private StatusLine statusLine;\r\n\r\n    @Test\r\n    public void testPostResponse() throws Exception {\r\n        when(postUtility.getSocketFactory(clientCertificate))\r\n                .thenReturn(sslSocketFactory);\r\n        when(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\r\n                .thenReturn(sslConnectionSocketFactory);\r\n\r\n        when(httpResponse.getStatusLine()).thenReturn(statusLine);\r\n        when(statusLine.getStatusCode()).thenReturn(200);\r\n        when(httpclient.execute(any(HttpPost.class))).thenReturn(httpResponse);\r\n\r\n\r\n        Response response = className.postResponse(&quot;testPayLoad&quot;,&quot;testEndPoint&quot;,ContentType.TEXT_XML, &quot;testclientCertificate&quot;);\r\n   \r\n        assertEquals(200, response.getStatus(), &quot;Response status code should be 200&quot;);\r\n    }\r\n\r\n","title":"Mockito Test throwing error &quot;SSLConnectionSocketFactory&quot; cannot be returned","body":"<p>I have written a code to perform http post operation:</p>\n<pre><code>public Response postResponse(\n        @NonNull final String payload,\n        @NonNull final String endpoint,\n        @NonNull final ContentType contentType,\n        @NonNull final String clientCertificate\n) {\n    SSLConnectionSocketFactory sslConnectionSocketFactory;\n    if (StringUtils.isNotEmpty(clientCertificate)) {\n        // Client certificate is present, thus using TLS\n        sslConnectionSocketFactory =\n                new SSLConnectionSocketFactory(postUtility\n                        .getSocketFactory(clientCertificate),\n                        NoopHostnameVerifier.INSTANCE);\n    } else {\n        SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslcontext.init(null, null, new java.security.SecureRandom());\n\n        sslConnectionSocketFactory = new SSLConnectionSocketFactory(\n                sslcontext,\n                new String[]{&quot;TLSv1&quot;}, //{ &quot;TLS10&quot; },\n                null,\n                SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n    }\n\n    HttpPost httpPost = new HttpPost(endpoint);\n    httpPost.setHeader(&quot;Content-Type&quot;, contentType.getMimeType());\n\n    httpPost.setEntity(\n            EntityBuilder.create()\n                    .setText(payload)\n                    .setContentType(contentType)\n                    .build()\n    );\n\n    try (\n            CloseableHttpClient httpclient = HttpClients.custom()\n                    .setSSLContext(SSLContext.getDefault())\n                    .setSSLSocketFactory(sslConnectionSocketFactory)\n                    .build();\n            CloseableHttpResponse response = httpclient.execute(httpPost)\n    ) {\n        return Response.status(response.getStatusLine().getStatusCode()).build();\n    } catch (Exception ex) {\n        log.error(&quot;Unable to send response&quot;, ex);\n        return Response.serverError().build();\n    }\n}\n</code></pre>\n<p>And wrote below unit test with MockitoExtension.class but it seems to be throwing error:\nSSLConnectionSocketFactory$MockitoMock$1231118446 cannot be returned by getSocketFactory() getSocketFactory() should return SSLSocketFactory. Return type of getSocketFactory() method in postUtility class returns a SSLSocketFactory. I want to use MockitoExtension only and not PowerMockito</p>\n<pre><code>@Mock\nprivate PostUtility postUtility;\n\n@Mock\nprivate SSLConnectionSocketFactory sslConnectionSocketFactory;\n\n@Mock\nprivate SSLSocketFactory sslSocketFactory;\n\n@Mock\nprivate CloseableHttpClient httpclient;\n\n@Mock\nprivate CloseableHttpResponse httpResponse;\n\n@Mock\nprivate StatusLine statusLine;\n\n@Test\npublic void testPostResponse() throws Exception {\n    when(postUtility.getSocketFactory(clientCertificate))\n            .thenReturn(sslSocketFactory);\n    when(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\n            .thenReturn(sslConnectionSocketFactory);\n\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\n    when(statusLine.getStatusCode()).thenReturn(200);\n    when(httpclient.execute(any(HttpPost.class))).thenReturn(httpResponse);\n\n\n    Response response = className.postResponse(&quot;testPayLoad&quot;,&quot;testEndPoint&quot;,ContentType.TEXT_XML, &quot;testclientCertificate&quot;);\n\n    assertEquals(200, response.getStatus(), &quot;Response status code should be 200&quot;);\n}\n</code></pre>\n"},{"tags":["java","authentication","openid","steam"],"answers":[{"tags":[],"owner":{"account_id":23824799,"reputation":49,"user_id":17832003,"display_name":"Tavark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690961109,"creation_date":1690961109,"answer_id":76817503,"question_id":76817427,"body_markdown":"Since you are using Spring, I would recommend that you should have a look at [Spring Security][1], rather then implementing security relevant things on your own. The library already deals with most of the topics, like handling tokens etc., if you configure it properly.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html","title":"Steam login using openID in JAVA","body":"<p>Since you are using Spring, I would recommend that you should have a look at <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html\" rel=\"nofollow noreferrer\">Spring Security</a>, rather then implementing security relevant things on your own. The library already deals with most of the topics, like handling tokens etc., if you configure it properly.</p>\n"}],"owner":{"account_id":29142053,"reputation":1,"user_id":22324805,"display_name":"Hyeok Geun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690961109,"creation_date":1690960493,"question_id":76817427,"body_markdown":"I implemented Steam login in Java language. \r\n\r\nHowever, if &quot;is_valid:false&quot; appears, I am worried that I cannot log in.\r\n\r\nI&#39;m worried because it&#39;s random to log in even if I deliver accurate information to the team. \r\n\r\nmy question is\r\n\r\nI would definitely like to receive a response that it &quot;is valid: true&quot; if I deliver accurate information. \r\n\r\nIf that doesn&#39;t work, I&#39;d like to know another way to log in\r\n\r\n\r\n\r\n\r\n```\r\n   @GetMapping(&quot;/login/check&quot;)\r\n    public String startSession(\r\n        @RequestParam(value = &quot;openid.ns&quot;) String openidNs,\r\n        @RequestParam(value = &quot;openid.mode&quot;) String openidMode,\r\n        @RequestParam(value = &quot;openid.op_endpoint&quot;) String openidOpEndpoint,\r\n        @RequestParam(value = &quot;openid.claimed_id&quot;) String openidClaimedId,\r\n        @RequestParam(value = &quot;openid.identity&quot;) String openidIdentity,\r\n        @RequestParam(value = &quot;openid.return_to&quot;) String openidReturnTo,\r\n        @RequestParam(value = &quot;openid.response_nonce&quot;) String openidResponseNonce,\r\n        @RequestParam(value = &quot;openid.assoc_handle&quot;) String openidAssocHandle,\r\n        @RequestParam(value = &quot;openid.signed&quot;) String openidSigned,\r\n        @RequestParam(value = &quot;openid.sig&quot;) String openidSig,\r\n        HttpServletRequest request,\r\n        HttpServletResponse response) throws InterruptedException {\r\n\r\n\r\n        log.info(&quot;openidResponseNonce = {} &quot;, openidResponseNonce);\r\n\r\n        ResponseEntity&lt;String&gt; block = WebClient.create(&quot;https://steamcommunity.com&quot;)\r\n            .get()\r\n            .uri(uriBuilder -&gt; uriBuilder\r\n                .path(&quot;/openid/login&quot;)\r\n                .queryParam(&quot;openid.ns&quot;, openidNs)\r\n                .queryParam(&quot;openid.mode&quot;, &quot;check_authentication&quot;)\r\n                .queryParam(&quot;openid.op_endpoint&quot;, openidOpEndpoint)\r\n                .queryParam(&quot;openid.claimed_id&quot;, openidClaimedId)\r\n                .queryParam(&quot;openid.identity&quot;, openidIdentity)\r\n                .queryParam(&quot;openid.return_to&quot;, openidReturnTo)\r\n                .queryParam(&quot;openid.response_nonce&quot;, openidResponseNonce)\r\n                .queryParam(&quot;openid.assoc_handle&quot;, openidAssocHandle)\r\n                .queryParam(&quot;openid.signed&quot;, openidSigned)\r\n                .queryParam(&quot;openid.sig&quot;, openidSig)\r\n                .build()\r\n            )\r\n            .retrieve()\r\n            .toEntity(String.class)\r\n            .block();\r\n\r\n       \r\n        boolean isTrue = Objects.requireNonNull(block).getBody().contains(&quot;true&quot;);\r\n\r\n        log.info(&quot;isTrue = {} &quot;, isTrue);\r\n        if (!isTrue) {\r\n            return &quot;redirect:https://steamcommunity.com/openid/login?openid.ns=http://specs.openid.net/auth/2.0&amp;openid.claimed_id=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.identity=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.return_to=&quot; + baseUrl + &quot;/login/check&amp;openid.realm=&quot; + baseUrl + &quot;&amp;openid.mode=checkid_setup&quot;;\r\n        }\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n        Matcher matcher = pattern.matcher(openidIdentity);\r\n        String steamId;\r\n\r\n        if (matcher.find()) {\r\n            steamId = matcher.group();\r\n        } else {\r\n            throw new IllegalArgumentException();\r\n        }\r\n\r\n        if (!userService.findBySteamId(steamId).isPresent()) {\r\n            userService.create(getUserInfo(steamId));\r\n        }\r\n\r\n        SecurityUser user = SecurityUser.builder()\r\n            .id(userService.findBySteamId(steamId).get().getId())\r\n            .username(userService.findBySteamId(steamId).get().getUsername())\r\n            .steamId(steamId)\r\n            .build();\r\n\r\n        Authentication authentication = new OAuth2AuthenticationToken(user, user.getAuthorities(), &quot;steam&quot;);\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        HttpSession session = request.getSession(false);\r\n        if (session != null) {\r\n            session.invalidate();\r\n        }\r\n        // 새로운 세션 생성\r\n        session = request.getSession(true);\r\n        session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, SecurityContextHolder.getContext());\r\n\r\n        // 세션 ID를 쿠키에 설정\r\n        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, session.getId());\r\n        cookie.setHttpOnly(true);\r\n        cookie.setPath(&quot;/&quot;);\r\n        response.addCookie(cookie);\r\n\r\n        return &quot;redirect:/user/checkFirstVisit&quot;;\r\n\r\n    }\r\n```\r\n","title":"Steam login using openID in JAVA","body":"<p>I implemented Steam login in Java language.</p>\n<p>However, if &quot;is_valid:false&quot; appears, I am worried that I cannot log in.</p>\n<p>I'm worried because it's random to log in even if I deliver accurate information to the team.</p>\n<p>my question is</p>\n<p>I would definitely like to receive a response that it &quot;is valid: true&quot; if I deliver accurate information.</p>\n<p>If that doesn't work, I'd like to know another way to log in</p>\n<pre><code>   @GetMapping(&quot;/login/check&quot;)\n    public String startSession(\n        @RequestParam(value = &quot;openid.ns&quot;) String openidNs,\n        @RequestParam(value = &quot;openid.mode&quot;) String openidMode,\n        @RequestParam(value = &quot;openid.op_endpoint&quot;) String openidOpEndpoint,\n        @RequestParam(value = &quot;openid.claimed_id&quot;) String openidClaimedId,\n        @RequestParam(value = &quot;openid.identity&quot;) String openidIdentity,\n        @RequestParam(value = &quot;openid.return_to&quot;) String openidReturnTo,\n        @RequestParam(value = &quot;openid.response_nonce&quot;) String openidResponseNonce,\n        @RequestParam(value = &quot;openid.assoc_handle&quot;) String openidAssocHandle,\n        @RequestParam(value = &quot;openid.signed&quot;) String openidSigned,\n        @RequestParam(value = &quot;openid.sig&quot;) String openidSig,\n        HttpServletRequest request,\n        HttpServletResponse response) throws InterruptedException {\n\n\n        log.info(&quot;openidResponseNonce = {} &quot;, openidResponseNonce);\n\n        ResponseEntity&lt;String&gt; block = WebClient.create(&quot;https://steamcommunity.com&quot;)\n            .get()\n            .uri(uriBuilder -&gt; uriBuilder\n                .path(&quot;/openid/login&quot;)\n                .queryParam(&quot;openid.ns&quot;, openidNs)\n                .queryParam(&quot;openid.mode&quot;, &quot;check_authentication&quot;)\n                .queryParam(&quot;openid.op_endpoint&quot;, openidOpEndpoint)\n                .queryParam(&quot;openid.claimed_id&quot;, openidClaimedId)\n                .queryParam(&quot;openid.identity&quot;, openidIdentity)\n                .queryParam(&quot;openid.return_to&quot;, openidReturnTo)\n                .queryParam(&quot;openid.response_nonce&quot;, openidResponseNonce)\n                .queryParam(&quot;openid.assoc_handle&quot;, openidAssocHandle)\n                .queryParam(&quot;openid.signed&quot;, openidSigned)\n                .queryParam(&quot;openid.sig&quot;, openidSig)\n                .build()\n            )\n            .retrieve()\n            .toEntity(String.class)\n            .block();\n\n       \n        boolean isTrue = Objects.requireNonNull(block).getBody().contains(&quot;true&quot;);\n\n        log.info(&quot;isTrue = {} &quot;, isTrue);\n        if (!isTrue) {\n            return &quot;redirect:https://steamcommunity.com/openid/login?openid.ns=http://specs.openid.net/auth/2.0&amp;openid.claimed_id=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.identity=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.return_to=&quot; + baseUrl + &quot;/login/check&amp;openid.realm=&quot; + baseUrl + &quot;&amp;openid.mode=checkid_setup&quot;;\n        }\n\n        Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\n        Matcher matcher = pattern.matcher(openidIdentity);\n        String steamId;\n\n        if (matcher.find()) {\n            steamId = matcher.group();\n        } else {\n            throw new IllegalArgumentException();\n        }\n\n        if (!userService.findBySteamId(steamId).isPresent()) {\n            userService.create(getUserInfo(steamId));\n        }\n\n        SecurityUser user = SecurityUser.builder()\n            .id(userService.findBySteamId(steamId).get().getId())\n            .username(userService.findBySteamId(steamId).get().getUsername())\n            .steamId(steamId)\n            .build();\n\n        Authentication authentication = new OAuth2AuthenticationToken(user, user.getAuthorities(), &quot;steam&quot;);\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        HttpSession session = request.getSession(false);\n        if (session != null) {\n            session.invalidate();\n        }\n        // 새로운 세션 생성\n        session = request.getSession(true);\n        session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, SecurityContextHolder.getContext());\n\n        // 세션 ID를 쿠키에 설정\n        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, session.getId());\n        cookie.setHttpOnly(true);\n        cookie.setPath(&quot;/&quot;);\n        response.addCookie(cookie);\n\n        return &quot;redirect:/user/checkFirstVisit&quot;;\n\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":24848192,"reputation":3,"user_id":18725482,"display_name":"fresh"},"score":1,"creation_date":1690970445,"post_id":76817437,"comment_id":135426051,"body_markdown":"I am not finished yet, but I think that will work for me.  Thank you very much!","body":"I am not finished yet, but I think that will work for me.  Thank you very much!"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690960553,"creation_date":1690960553,"answer_id":76817437,"question_id":76817347,"body_markdown":"The simplest solution to solving this problem would be to change the type of those fields from `array` to `map`. So your database schema might look like this:\r\n\r\n    db\r\n    |\r\n    --- products (collection)\r\n         |\r\n         --- $productId (document)\r\n               |\r\n               --- plz (map)\r\n               |   |\r\n               |   --- 50000: true\r\n               |   |\r\n               |   --- 50001: true\r\n               |\r\n               --- sport (map)\r\n               |   |\r\n               |   --- soccer: true\r\n               |   |\r\n               |   --- jackets: true\r\n               |\r\n               --- age (map)\r\n                   |\r\n                   --- youth: true\r\n                   |\r\n                   --- adult: true\r\n\r\nNow to get all products where the `plz` holds the value of `50001` and the `sport` is `soccer` and the `age` is `adult`, then you have to use the following query:\r\n\r\n    Query query = db.collection(&quot;products&quot;)\r\n                    .whereEqualTo(&quot;plz.50001&quot;, true)\r\n                    .whereEqualTo(&quot;sport.soccer&quot;, true)\r\n                    .whereEqualTo(&quot;age.adult&quot;, true);","title":"Firestore search array contains for more than one document","body":"<p>The simplest solution to solving this problem would be to change the type of those fields from <code>array</code> to <code>map</code>. So your database schema might look like this:</p>\n<pre><code>db\n|\n--- products (collection)\n     |\n     --- $productId (document)\n           |\n           --- plz (map)\n           |   |\n           |   --- 50000: true\n           |   |\n           |   --- 50001: true\n           |\n           --- sport (map)\n           |   |\n           |   --- soccer: true\n           |   |\n           |   --- jackets: true\n           |\n           --- age (map)\n               |\n               --- youth: true\n               |\n               --- adult: true\n</code></pre>\n<p>Now to get all products where the <code>plz</code> holds the value of <code>50001</code> and the <code>sport</code> is <code>soccer</code> and the <code>age</code> is <code>adult</code>, then you have to use the following query:</p>\n<pre><code>Query query = db.collection(&quot;products&quot;)\n                .whereEqualTo(&quot;plz.50001&quot;, true)\n                .whereEqualTo(&quot;sport.soccer&quot;, true)\n                .whereEqualTo(&quot;age.adult&quot;, true);\n</code></pre>\n"}],"owner":{"account_id":24848192,"reputation":3,"user_id":18725482,"display_name":"fresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817437,"answer_count":1,"score":0,"last_activity_date":1690960616,"creation_date":1690959801,"question_id":76817347,"body_markdown":"I&#39;m using Cloud Firestore and I want to use more than one &quot;whereArrayContains&quot;. I know it is not possible, but is there another solution for it?\r\n\r\nThis is a screenshot of the DB:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe user put in his postal code (here: plz) and the app looks for the document. Then the user can choose a sport. \r\nFor example: plz: 50001 and sport: soccer \r\nHow do I search for it?\r\n\r\nI know it doesn&#39;t work this way:\r\n\r\n```Java\r\ncolRef = db.collection(&quot;Sponsoren&quot;);\r\n\r\ncolRef.whereArrayContains(&quot;plz&quot;, &quot;50001&quot;)\r\n    .whereArrayContains(&quot;sport&quot;, &quot;soccer&quot;)\r\n```\r\n\r\nIn the next step, there is a search for the age group, so I have to search for three values in three different arrays.\r\nFor example: plz: 50001 and sport: soccer and age: adult\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sddz2.png","title":"Firestore search array contains for more than one document","body":"<p>I'm using Cloud Firestore and I want to use more than one &quot;whereArrayContains&quot;. I know it is not possible, but is there another solution for it?</p>\n<p>This is a screenshot of the DB:</p>\n<p><a href=\"https://i.stack.imgur.com/Sddz2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sddz2.png\" alt=\"enter image description here\" /></a></p>\n<p>The user put in his postal code (here: plz) and the app looks for the document. Then the user can choose a sport.\nFor example: plz: 50001 and sport: soccer\nHow do I search for it?</p>\n<p>I know it doesn't work this way:</p>\n<pre><code>colRef = db.collection(&quot;Sponsoren&quot;);\n\ncolRef.whereArrayContains(&quot;plz&quot;, &quot;50001&quot;)\n    .whereArrayContains(&quot;sport&quot;, &quot;soccer&quot;)\n</code></pre>\n<p>In the next step, there is a search for the age group, so I have to search for three values in three different arrays.\nFor example: plz: 50001 and sport: soccer and age: adult</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","multipart"],"comments":[{"owner":{"account_id":10798392,"reputation":1578,"user_id":7943280,"accept_rate":93,"display_name":"TheTechGuy"},"score":0,"creation_date":1511431285,"post_id":25699727,"comment_id":81859961,"body_markdown":"how did you write your domain ?","body":"how did you write your domain ?"}],"answers":[{"comments":[{"owner":{"account_id":228708,"reputation":2873,"user_id":491196,"accept_rate":68,"display_name":"Rob McFeely"},"score":1,"creation_date":1410080097,"post_id":25700288,"comment_id":40186258,"body_markdown":"That worked thanks.  All my client attempts now work against this fix on the server side.  Turns out that I didn&#39;t require the MultipartConfigElement and the MultipartResolver beans.  Possibly boot is creating these for me.","body":"That worked thanks.  All my client attempts now work against this fix on the server side.  Turns out that I didn&#39;t require the MultipartConfigElement and the MultipartResolver beans.  Possibly boot is creating these for me."}],"tags":[],"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"comment_count":1,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1410006797,"creation_date":1410006797,"answer_id":25700288,"question_id":25699727,"body_markdown":"    @RequestBody MultipartFile[] submissions\r\n\r\nshould be \r\n    \r\n    @RequestParam(&quot;file&quot;) MultipartFile[] submissions\r\n\r\nThe files are not the request body, they are part of it and there is no built-in `HttpMessageConverter` that can convert the request to an array of `MultiPartFile`.\r\n\r\nYou can also replace `HttpServletRequest` with `MultipartHttpServletRequest`, which gives you access to the headers of the individual parts.","title":"Multipart File upload Spring Boot","body":"<pre><code>@RequestBody MultipartFile[] submissions\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>@RequestParam(\"file\") MultipartFile[] submissions\n</code></pre>\n\n<p>The files are not the request body, they are part of it and there is no built-in <code>HttpMessageConverter</code> that can convert the request to an array of <code>MultiPartFile</code>.</p>\n\n<p>You can also replace <code>HttpServletRequest</code> with <code>MultipartHttpServletRequest</code>, which gives you access to the headers of the individual parts.</p>\n"},{"tags":[],"owner":{"account_id":4265069,"reputation":16090,"user_id":3763649,"accept_rate":68,"display_name":"Andrea"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1423491645,"creation_date":1423491645,"answer_id":28411901,"question_id":25699727,"body_markdown":"You can simply use a **controller** method like this:\r\n\r\n    @RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;?&gt; uploadFile(\r\n        @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n      \r\n      try {\r\n        // Handle the received file here\r\n        // ...\r\n      }\r\n      catch (Exception e) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n      }\r\n      \r\n      return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    } // method uploadFile\r\n\r\nWithout any additional configurations for Spring Boot.\r\n\r\nUsing the following **html form** client side:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n      &lt;form action=&quot;/uploadFile&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n        &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Upload&quot;&gt; \r\n      &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n If you want to set **limits on files size** you can do it in the `application.properties`:\r\n\r\n    # File size limit\r\n    multipart.maxFileSize = 3Mb\r\n    \r\n    # Total request size for a multipart/form-data\r\n    multipart.maxRequestSize = 20Mb\r\n\r\n\r\nMoreover to send the file with **Ajax** take a look here:\r\nhttp://blog.netgloo.com/2015/02/08/spring-boot-file-upload-with-ajax/","title":"Multipart File upload Spring Boot","body":"<p>You can simply use a <strong>controller</strong> method like this:</p>\n\n<pre><code>@RequestMapping(value = \"/uploadFile\", method = RequestMethod.POST)\n@ResponseBody\npublic ResponseEntity&lt;?&gt; uploadFile(\n    @RequestParam(\"file\") MultipartFile file) {\n\n  try {\n    // Handle the received file here\n    // ...\n  }\n  catch (Exception e) {\n    return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n  }\n\n  return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n} // method uploadFile\n</code></pre>\n\n<p>Without any additional configurations for Spring Boot.</p>\n\n<p>Using the following <strong>html form</strong> client side:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n  &lt;form action=\"/uploadFile\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"file\" name=\"file\"&gt;\n    &lt;input type=\"submit\" value=\"Upload\"&gt; \n  &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you want to set <strong>limits on files size</strong> you can do it in the <code>application.properties</code>:</p>\n\n<pre><code># File size limit\nmultipart.maxFileSize = 3Mb\n\n# Total request size for a multipart/form-data\nmultipart.maxRequestSize = 20Mb\n</code></pre>\n\n<p>Moreover to send the file with <strong>Ajax</strong> take a look here:\n<a href=\"http://blog.netgloo.com/2015/02/08/spring-boot-file-upload-with-ajax/\">http://blog.netgloo.com/2015/02/08/spring-boot-file-upload-with-ajax/</a></p>\n"},{"tags":[],"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429010293,"creation_date":1429010293,"answer_id":29625974,"question_id":25699727,"body_markdown":"       @Bean\r\n        MultipartConfigElement multipartConfigElement() {\r\n            MultipartConfigFactory factory = new MultipartConfigFactory();\r\n            factory.setMaxFileSize(&quot;5120MB&quot;);\r\n            factory.setMaxRequestSize(&quot;5120MB&quot;);\r\n            return factory.createMultipartConfig();\r\n        }\r\n\r\nput it in class where you are defining beans\r\n\r\n","title":"Multipart File upload Spring Boot","body":"<pre><code>   @Bean\n    MultipartConfigElement multipartConfigElement() {\n        MultipartConfigFactory factory = new MultipartConfigFactory();\n        factory.setMaxFileSize(\"5120MB\");\n        factory.setMaxRequestSize(\"5120MB\");\n        return factory.createMultipartConfig();\n    }\n</code></pre>\n\n<p>put it in class where you are defining beans</p>\n"},{"tags":[],"owner":{"display_name":"user2080225"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1440878169,"creation_date":1440878169,"answer_id":32290145,"question_id":25699727,"body_markdown":"Latest version of SpringBoot makes **uploading multiple files** very easy also. On the browser side you just need the standard HTML upload form, but with **multiple input elements** (one per file to upload, which is very important), all having the same element name (name=&quot;files&quot; for the example below)\r\n\r\nThen in your Spring @Controller class on the server **all you need** is something like this:\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n\t\tpublic @ResponseBody ResponseEntity&lt;?&gt; upload(\r\n\t\t\t@RequestParam(&quot;files&quot;) MultipartFile[] uploadFiles) throws Exception     \r\n    {\r\n\t\t...now loop over all uploadFiles in the array and do what you want\r\n      return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\nThose are the tricky parts. That is, knowing to create multiple input elements each named &quot;files&quot;, and knowing to use a MultipartFile[] (array) as the request parameter are the tricky things to know, but it&#39;s just that simple. I won&#39;t get into how to process a MultipartFile entry, because there&#39;s plenty of docs on that already.","title":"Multipart File upload Spring Boot","body":"<p>Latest version of SpringBoot makes <strong>uploading multiple files</strong> very easy also. On the browser side you just need the standard HTML upload form, but with <strong>multiple input elements</strong> (one per file to upload, which is very important), all having the same element name (name=\"files\" for the example below)</p>\n\n<p>Then in your Spring @Controller class on the server <strong>all you need</strong> is something like this:</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)\n    public @ResponseBody ResponseEntity&lt;?&gt; upload(\n        @RequestParam(\"files\") MultipartFile[] uploadFiles) throws Exception     \n{\n    ...now loop over all uploadFiles in the array and do what you want\n  return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n\n<p>Those are the tricky parts. That is, knowing to create multiple input elements each named \"files\", and knowing to use a MultipartFile[] (array) as the request parameter are the tricky things to know, but it's just that simple. I won't get into how to process a MultipartFile entry, because there's plenty of docs on that already.</p>\n"},{"tags":[],"owner":{"account_id":4536708,"reputation":11,"user_id":4547615,"display_name":"Vikram Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495587223,"creation_date":1495583239,"answer_id":44146744,"question_id":25699727,"body_markdown":"\r\n\r\n\r\n\r\n    @RequestMapping(value=&quot;/add/image&quot;, method=RequestMethod.POST)\r\n\tpublic ResponseEntity upload(@RequestParam(&quot;id&quot;) Long id, HttpServletResponse response, HttpServletRequest request)\r\n    {\t\r\n\t\ttry {\r\n\t\t\tMultipartHttpServletRequest multipartRequest=(MultipartHttpServletRequest)request;\r\n\t\t\tIterator&lt;String&gt; it=multipartRequest.getFileNames();\r\n\t\t\tMultipartFile multipart=multipartRequest.getFile(it.next());\r\n\t\t\tString fileName=id+&quot;.png&quot;;\r\n\t\t\tString imageName = fileName;\r\n\t\t\t\r\n\t\t\tbyte[] bytes=multipart.getBytes();\r\n\t\t\tBufferedOutputStream stream= new BufferedOutputStream(new FileOutputStream(&quot;src/main/resources/static/image/book/&quot;+fileName));;\r\n\t\t\t\r\n\t\t\tstream.write(bytes);\r\n\t\t\tstream.close();\r\n\t\t\treturn new ResponseEntity(&quot;upload success&quot;, HttpStatus.OK);\r\n\t\t\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn new ResponseEntity(&quot;Upload fialed&quot;, HttpStatus.BAD_REQUEST);\r\n\t\t}\t\r\n\t}","title":"Multipart File upload Spring Boot","body":"<pre><code>@RequestMapping(value=\"/add/image\", method=RequestMethod.POST)\npublic ResponseEntity upload(@RequestParam(\"id\") Long id, HttpServletResponse response, HttpServletRequest request)\n{   \n    try {\n        MultipartHttpServletRequest multipartRequest=(MultipartHttpServletRequest)request;\n        Iterator&lt;String&gt; it=multipartRequest.getFileNames();\n        MultipartFile multipart=multipartRequest.getFile(it.next());\n        String fileName=id+\".png\";\n        String imageName = fileName;\n\n        byte[] bytes=multipart.getBytes();\n        BufferedOutputStream stream= new BufferedOutputStream(new FileOutputStream(\"src/main/resources/static/image/book/\"+fileName));;\n\n        stream.write(bytes);\n        stream.close();\n        return new ResponseEntity(\"upload success\", HttpStatus.OK);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return new ResponseEntity(\"Upload fialed\", HttpStatus.BAD_REQUEST);\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145562,"reputation":69,"user_id":1903248,"display_name":"Thimira Dunuville"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498579272,"creation_date":1498579272,"answer_id":44784947,"question_id":25699727,"body_markdown":"In Controller, your method should be;\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;SaveResponse&gt; uploadAttachment(@RequestParam(&quot;file&quot;) MultipartFile file, HttpServletRequest request) {\r\n    ....\r\n\r\nFurther, you need to update application.yml (or application.properties) to support maximum file size and request size.\r\n\r\n    spring:\r\n        http:\r\n            multipart:\r\n                max-file-size: 5MB\r\n                max-request-size: 20MB\r\n\r\n","title":"Multipart File upload Spring Boot","body":"<p>In Controller, your method should be;</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)\n    public ResponseEntity&lt;SaveResponse&gt; uploadAttachment(@RequestParam(\"file\") MultipartFile file, HttpServletRequest request) {\n....\n</code></pre>\n\n<p>Further, you need to update application.yml (or application.properties) to support maximum file size and request size.</p>\n\n<pre><code>spring:\n    http:\n        multipart:\n            max-file-size: 5MB\n            max-request-size: 20MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5666166,"reputation":938,"user_id":4482288,"display_name":"Komal Kadam"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690960614,"creation_date":1626161350,"answer_id":68358211,"question_id":25699727,"body_markdown":"Add `@RequestPart` instead of `@RequestParam`\r\n\r\n\r\n     public UploadFile upload(@RequestPart(name = &quot;file&quot;)   MultipartFile multipartFile{\r\n        //your code to process file\r\n        }","title":"Multipart File upload Spring Boot","body":"<p>Add <code>@RequestPart</code> instead of <code>@RequestParam</code></p>\n<pre><code> public UploadFile upload(@RequestPart(name = &quot;file&quot;)   MultipartFile multipartFile{\n    //your code to process file\n    }\n</code></pre>\n"}],"owner":{"account_id":228708,"reputation":2873,"user_id":491196,"accept_rate":68,"display_name":"Rob McFeely"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168723,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":25700288,"answer_count":7,"score":41,"last_activity_date":1690960614,"creation_date":1410002655,"question_id":25699727,"body_markdown":"Im using Spring Boot and want to use a Controller to receive a multipart file upload.\r\nWhen sending the file I keep getting the **error 415 unsupported content type** response and the controller is never reached\r\n\r\n    There was an unexpected error (type=Unsupported Media Type, status=415).\r\n    Content type &#39;multipart/form-data;boundary=----WebKitFormBoundary1KvzQ1rt2V1BBbb8&#39; not supported\r\n\r\nIve tried sending using form:action in html/jsp page and also in a standalone client application which uses RestTemplate.  All attempts give the same result \r\n\r\n`multipart/form-data;boundary=XXXXX not supported.`  \r\n\r\nIt seems from multipart documentation that the boundary param has to be added to the multipart upload however this seems to not match the controller receiving `&quot;multipart/form-data&quot;` \r\n\r\nMy controller method is setup as follows \r\n\r\n    @RequestMapping(value = &quot;/things&quot;, method = RequestMethod.POST, consumes = &quot;multipart/form-data&quot; ,\r\n    \t\t\t\t\t\t\t\t\t produces = { &quot;application/json&quot;, &quot;application/xml&quot; })\r\n    \t public ResponseEntity&lt;ThingRepresentation&gt; submitThing(HttpServletRequest request,\r\n    \t\t\t\t\t\t\t\t\t @PathVariable(&quot;domain&quot;) String domainParam,\r\n    \t\t\t\t\t\t\t\t\t @RequestParam(value = &quot;type&quot;) String thingTypeParam,\r\n    \t\t\t\t\t\t\t\t\t @RequestBody MultipartFile[] submissions) throws Exception\r\n\r\nWith Bean Setup\r\n\r\n     @Bean\r\n     public MultipartConfigElement multipartConfigElement() {\r\n    \t return new MultipartConfigElement(&quot;&quot;);\r\n     }\r\n     \r\n     @Bean\r\n     public MultipartResolver multipartResolver() {\r\n         org.springframework.web.multipart.commons.CommonsMultipartResolver multipartResolver = new org.springframework.web.multipart.commons.CommonsMultipartResolver();\r\n         multipartResolver.setMaxUploadSize(1000000);\r\n         return multipartResolver;\r\n     }\r\n\r\n\r\n\r\nAs you can see I&#39;ve set the consumes type to &quot;multipart/form-data&quot; but when the multipart is sent it must have a boundary parameter and places a random boundary string.  \r\n\r\n**Can anyone please tell me how I can either set the content type in controller to match or change my request to match my controller setup?**\r\n\r\nMy attempts to send ... \r\nAttempt 1...\r\n\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;body&gt;\r\n    \r\n        &lt;br&gt;\r\n        &lt;h2&gt;Upload New File to this Bucket&lt;/h2&gt;\r\n        &lt;form action=&quot;http://localhost:8280/appname/domains/abc/things?type=abcdef00-1111-4b38-8026-315b13dc8706&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n            &lt;table width=&quot;60%&quot; border=&quot;1&quot; cellspacing=&quot;0&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td width=&quot;35%&quot;&gt;&lt;strong&gt;File to upload&lt;/strong&gt;&lt;/td&gt;\r\n                    &lt;td width=&quot;65%&quot;&gt;&lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Add&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAttempt 2....\r\n\r\n\tRestTemplate template = new RestTemplate();\r\n\tMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n\tparts.add(&quot;file&quot;, new FileSystemResource(pathToFile));\r\n\t\r\n\ttry{\r\n\t\t\r\n\t\tURI response = template.postForLocation(url, parts);\r\n\t}catch(HttpClientErrorException e){\r\n\t\tSystem.out.println(e.getResponseBodyAsString());\r\n\t}\r\n\r\nAttempt 3...\r\n\r\n \r\n\r\n    FormHttpMessageConverter formHttpMessageConverter = new FormHttpMessageConverter();\r\n            formHttpMessageConverter.setCharset(Charset.forName(&quot;UTF8&quot;));\r\n    \r\n    \r\n            RestTemplate restTemplate = new RestTemplate();\r\n    \r\n            restTemplate.getMessageConverters().add( formHttpMessageConverter );\r\n            restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n            restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\r\n    \r\n            MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n            map.add(&quot;file&quot;, new FileSystemResource(path));\r\n    \r\n            HttpHeaders imageHeaders = new HttpHeaders();\r\n            imageHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \r\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; imageEntity = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map, imageHeaders);\r\n            ResponseEntity e=  restTemplate.exchange(uri, HttpMethod.POST, imageEntity, Boolean.class);\r\n            System.out.println(e.toString());","title":"Multipart File upload Spring Boot","body":"<p>Im using Spring Boot and want to use a Controller to receive a multipart file upload.\nWhen sending the file I keep getting the <strong>error 415 unsupported content type</strong> response and the controller is never reached</p>\n\n<pre><code>There was an unexpected error (type=Unsupported Media Type, status=415).\nContent type 'multipart/form-data;boundary=----WebKitFormBoundary1KvzQ1rt2V1BBbb8' not supported\n</code></pre>\n\n<p>Ive tried sending using form:action in html/jsp page and also in a standalone client application which uses RestTemplate.  All attempts give the same result </p>\n\n<p><code>multipart/form-data;boundary=XXXXX not supported.</code>  </p>\n\n<p>It seems from multipart documentation that the boundary param has to be added to the multipart upload however this seems to not match the controller receiving <code>\"multipart/form-data\"</code> </p>\n\n<p>My controller method is setup as follows </p>\n\n<pre><code>@RequestMapping(value = \"/things\", method = RequestMethod.POST, consumes = \"multipart/form-data\" ,\n                                     produces = { \"application/json\", \"application/xml\" })\n     public ResponseEntity&lt;ThingRepresentation&gt; submitThing(HttpServletRequest request,\n                                     @PathVariable(\"domain\") String domainParam,\n                                     @RequestParam(value = \"type\") String thingTypeParam,\n                                     @RequestBody MultipartFile[] submissions) throws Exception\n</code></pre>\n\n<p>With Bean Setup</p>\n\n<pre><code> @Bean\n public MultipartConfigElement multipartConfigElement() {\n     return new MultipartConfigElement(\"\");\n }\n\n @Bean\n public MultipartResolver multipartResolver() {\n     org.springframework.web.multipart.commons.CommonsMultipartResolver multipartResolver = new org.springframework.web.multipart.commons.CommonsMultipartResolver();\n     multipartResolver.setMaxUploadSize(1000000);\n     return multipartResolver;\n }\n</code></pre>\n\n<p>As you can see I've set the consumes type to \"multipart/form-data\" but when the multipart is sent it must have a boundary parameter and places a random boundary string.  </p>\n\n<p><strong>Can anyone please tell me how I can either set the content type in controller to match or change my request to match my controller setup?</strong></p>\n\n<p>My attempts to send ... \nAttempt 1...</p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n    &lt;br&gt;\n    &lt;h2&gt;Upload New File to this Bucket&lt;/h2&gt;\n    &lt;form action=\"http://localhost:8280/appname/domains/abc/things?type=abcdef00-1111-4b38-8026-315b13dc8706\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n        &lt;table width=\"60%\" border=\"1\" cellspacing=\"0\"&gt;\n            &lt;tr&gt;\n                &lt;td width=\"35%\"&gt;&lt;strong&gt;File to upload&lt;/strong&gt;&lt;/td&gt;\n                &lt;td width=\"65%\"&gt;&lt;input type=\"file\" name=\"file\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"submit\" name=\"submit\" value=\"Add\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Attempt 2....</p>\n\n<pre><code>RestTemplate template = new RestTemplate();\nMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;String, Object&gt;();\nparts.add(\"file\", new FileSystemResource(pathToFile));\n\ntry{\n\n    URI response = template.postForLocation(url, parts);\n}catch(HttpClientErrorException e){\n    System.out.println(e.getResponseBodyAsString());\n}\n</code></pre>\n\n<p>Attempt 3...</p>\n\n<pre><code>FormHttpMessageConverter formHttpMessageConverter = new FormHttpMessageConverter();\n        formHttpMessageConverter.setCharset(Charset.forName(\"UTF8\"));\n\n\n        RestTemplate restTemplate = new RestTemplate();\n\n        restTemplate.getMessageConverters().add( formHttpMessageConverter );\n        restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\n        restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\n\n        MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\n        map.add(\"file\", new FileSystemResource(path));\n\n        HttpHeaders imageHeaders = new HttpHeaders();\n        imageHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; imageEntity = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map, imageHeaders);\n        ResponseEntity e=  restTemplate.exchange(uri, HttpMethod.POST, imageEntity, Boolean.class);\n        System.out.println(e.toString());\n</code></pre>\n"},{"tags":["java","apache-kafka","redis","rabbitmq","queue"],"comments":[{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1690962707,"post_id":76817432,"comment_id":135424304,"body_markdown":"Isn&#39;t it possible to set a unique ID for each tenant&#39;s message? Then all are sent to a single queue, and consumers process the messages according to the unique identifier of the tenant.This is my thought, your business may be more complicated.","body":"Isn&#39;t it possible to set a unique ID for each tenant&#39;s message? Then all are sent to a single queue, and consumers process the messages according to the unique identifier of the tenant.This is my thought, your business may be more complicated."},{"owner":{"account_id":288290,"reputation":209,"user_id":588612,"accept_rate":57,"display_name":"QViet"},"score":0,"creation_date":1690966068,"post_id":76817432,"comment_id":135425041,"body_markdown":"each message have unique id @HuaJFrame , but if use single queue you can&#39;t get enough message for 1 tenant ( cause each tenant have limit though put, if we get full limit each time, it will be the most optimal )","body":"each message have unique id @HuaJFrame , but if use single queue you can&#39;t get enough message for 1 tenant ( cause each tenant have limit though put, if we get full limit each time, it will be the most optimal )"}],"owner":{"account_id":288290,"reputation":209,"user_id":588612,"accept_rate":57,"display_name":"QViet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690960515,"creation_date":1690960515,"question_id":76817432,"body_markdown":"I got problem when using message queue like kafka, rabbitmq, redis\r\n\r\nI want to group message into multi group by tenant ID, cause each message in queue/topic belong to difference tenant, each tenant have limit number message thought put per second.\r\n\r\nIf i separate multi queue, it too many queue exits on system.\r\n\r\nHow can i group message in multi queue/topic, and get bundle message.\r\n\r\nThanks.","title":"Group message in Queue like RabbitMQ/Kafka/Redis","body":"<p>I got problem when using message queue like kafka, rabbitmq, redis</p>\n<p>I want to group message into multi group by tenant ID, cause each message in queue/topic belong to difference tenant, each tenant have limit number message thought put per second.</p>\n<p>If i separate multi queue, it too many queue exits on system.</p>\n<p>How can i group message in multi queue/topic, and get bundle message.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1871340,"reputation":333,"user_id":1693472,"display_name":"netwokz"},"score":3,"creation_date":1355724404,"post_id":13909094,"comment_id":19169227,"body_markdown":"I&#39;m trying to set an alarm in the alarm clock app, is this the same thing? I was under the impression the AlarmManager class just sets an alarm for my app.","body":"I&#39;m trying to set an alarm in the alarm clock app, is this the same thing? I was under the impression the AlarmManager class just sets an alarm for my app."},{"owner":{"account_id":1243509,"reputation":193,"user_id":1205504,"accept_rate":76,"display_name":"Hiny"},"score":0,"creation_date":1355724519,"post_id":13909094,"comment_id":19169251,"body_markdown":"Also,here is a nice thread about it.\n\nhttp://stackoverflow.com/questions/4459058/alarm-manager-example","body":"Also,here is a nice thread about it.  <a href=\"http://stackoverflow.com/questions/4459058/alarm-manager-example\">stackoverflow.com/questions/4459058/alarm-manager-example</a>"},{"owner":{"account_id":269538,"reputation":471,"user_id":558929,"accept_rate":100,"display_name":"capitalf"},"score":4,"creation_date":1374267429,"post_id":13909094,"comment_id":25890839,"body_markdown":"Both of these answers are about AlarmManager (triggering an action every X intervals), not AlarmClock (displaying an alarm to the user).","body":"Both of these answers are about AlarmManager (triggering an action every X intervals), not AlarmClock (displaying an alarm to the user)."}],"tags":[],"owner":{"account_id":1243509,"reputation":193,"user_id":1205504,"accept_rate":76,"display_name":"Hiny"},"comment_count":3,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1463478742,"creation_date":1355724226,"answer_id":13909094,"question_id":13909040,"body_markdown":"How about trying a pending Intent?\r\n\r\nJust change the Calendar value to a few days or so in advance?\r\n\r\n    AlarmManager am = (AlarmManager)getSystemService(alarm);\r\n\r\n    Intent i= new Intent(&quot;MY_INTENT&quot;);\r\n    PendingIntent pi = PendingIntent.getBroadcast(this, 0, i, 0);\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTimeInMillis(System.currentTimeMillis());\r\n    calendar.add(Calendar.MINUTE, 2);\r\n    am.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pi);","title":"Set android alarm clock programmatically","body":"<p>How about trying a pending Intent?</p>\n\n<p>Just change the Calendar value to a few days or so in advance?</p>\n\n<pre><code>AlarmManager am = (AlarmManager)getSystemService(alarm);\n\nIntent i= new Intent(\"MY_INTENT\");\nPendingIntent pi = PendingIntent.getBroadcast(this, 0, i, 0);\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTimeInMillis(System.currentTimeMillis());\ncalendar.add(Calendar.MINUTE, 2);\nam.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pi);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":979499,"reputation":920,"user_id":999615,"accept_rate":67,"display_name":"Prostakov"},"score":1,"creation_date":1366132032,"post_id":13909587,"comment_id":22890357,"body_markdown":"It would be nice if pushed it to github or something and provide link, so people wouldn&#39;t have to copypaste all these pieces in order to test it.","body":"It would be nice if pushed it to github or something and provide link, so people wouldn&#39;t have to copypaste all these pieces in order to test it."},{"owner":{"account_id":269538,"reputation":471,"user_id":558929,"accept_rate":100,"display_name":"capitalf"},"score":14,"creation_date":1374267453,"post_id":13909587,"comment_id":25890855,"body_markdown":"Both of these answers are about AlarmManager (triggering an action every X intervals), not AlarmClock (displaying an alarm to the user).","body":"Both of these answers are about AlarmManager (triggering an action every X intervals), not AlarmClock (displaying an alarm to the user)."},{"owner":{"account_id":3741977,"reputation":111,"user_id":3111580,"accept_rate":40,"display_name":"Ruch1234"},"score":0,"creation_date":1411400195,"post_id":13909587,"comment_id":40677416,"body_markdown":"@KeTaN i used the same code. The recieverclass toast wont apear","body":"@KeTaN i used the same code. The recieverclass toast wont apear"},{"owner":{"account_id":1125529,"reputation":724,"user_id":1112898,"accept_rate":25,"display_name":"KeTaN"},"score":0,"creation_date":1411540929,"post_id":13909587,"comment_id":40736266,"body_markdown":"@Ruch1234 this code is working perfect i have check may be you do something wrong","body":"@Ruch1234 this code is working perfect i have check may be you do something wrong"},{"owner":{"account_id":1125529,"reputation":724,"user_id":1112898,"accept_rate":25,"display_name":"KeTaN"},"score":0,"creation_date":1423118709,"post_id":13909587,"comment_id":45021047,"body_markdown":"@Shadow For that you can follow this link  may be you can get solution for your senario http://clearosapps.blogspot.in/p/android.html","body":"@Shadow For that you can follow this link  may be you can get solution for your senario <a href=\"http://clearosapps.blogspot.in/p/android.html\" rel=\"nofollow noreferrer\">clearosapps.blogspot.in/p/android.html</a>"}],"tags":[],"owner":{"account_id":1125529,"reputation":724,"user_id":1112898,"accept_rate":25,"display_name":"KeTaN"},"comment_count":5,"down_vote_count":6,"up_vote_count":32,"is_accepted":false,"score":26,"last_activity_date":1497399515,"creation_date":1355727182,"answer_id":13909587,"question_id":13909040,"body_markdown":"MainActivity.java\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n     &#160; &#160;TimePicker myTimePicker;\r\n     &#160; &#160;Button buttonstartSetDialog;\r\n     &#160; &#160;TextView textAlarmPrompt;\r\n     &#160; &#160;TimePickerDialog timePickerDialog;\r\n    \r\n     &#160; &#160;final static int RQS_1 = 1;\r\n    \r\n     &#160; &#160;@Override\r\n     &#160; &#160;public void onCreate(Bundle savedInstanceState) {\r\n     &#160; &#160; &#160; &#160;super.onCreate(savedInstanceState);\r\n     &#160; &#160; &#160; &#160;setContentView(R.layout.activity_main);\r\n    \r\n     &#160; &#160; &#160; &#160;textAlarmPrompt = (TextView) findViewById(R.id.alarmprompt);\r\n    \r\n     &#160; &#160; &#160; &#160;buttonstartSetDialog = (Button) findViewById(R.id.startAlaram);\r\n     &#160; &#160; &#160; &#160;buttonstartSetDialog.setOnClickListener(new OnClickListener() {\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;@Override\r\n     &#160; &#160; &#160; &#160; &#160; &#160;public void onClick(View v) {\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;textAlarmPrompt.setText(&quot;&quot;);\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;openTimePickerDialog(false);\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;}\r\n     &#160; &#160; &#160; &#160;});\r\n    \r\n     &#160; &#160;}\r\n    \r\n     &#160; &#160;private void openTimePickerDialog(boolean is24r) {\r\n     &#160; &#160; &#160; &#160;Calendar calendar = Calendar.getInstance();\r\n    \r\n     &#160; &#160; &#160; &#160;timePickerDialog = new TimePickerDialog(MainActivity.this,\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;onTimeSetListener, calendar.get(Calendar.HOUR_OF_DAY),\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;calendar.get(Calendar.MINUTE), is24r);\r\n     &#160; &#160; &#160; &#160;timePickerDialog.setTitle(&quot;Set Alarm Time&quot;);\r\n    \r\n     &#160; &#160; &#160; &#160;timePickerDialog.show();\r\n    \r\n     &#160; &#160;}\r\n    \r\n     &#160; &#160;OnTimeSetListener onTimeSetListener = new OnTimeSetListener() {\r\n    \r\n     &#160; &#160; &#160; &#160;@Override\r\n     &#160; &#160; &#160; &#160;public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;Calendar calNow = Calendar.getInstance();\r\n     &#160; &#160; &#160; &#160; &#160; &#160;Calendar calSet = (Calendar) calNow.clone();\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.HOUR_OF_DAY, hourOfDay);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.MINUTE, minute);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.SECOND, 0);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.MILLISECOND, 0);\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;if (calSet.compareTo(calNow) &lt;= 0) {\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;// Today Set time passed, count to tomorrow\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;calSet.add(Calendar.DATE, 1);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;}\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;setAlarm(calSet);\r\n     &#160; &#160; &#160; &#160;}\r\n     &#160; &#160;};\r\n    \r\n     &#160; &#160;private void setAlarm(Calendar targetCal) {\r\n    \r\n     &#160; &#160; &#160; &#160;textAlarmPrompt.setText(&quot;\\n\\n***\\n&quot; + &quot;Alarm is set &quot;\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;+ targetCal.getTime() + &quot;\\n&quot; + &quot;***\\n&quot;);\r\n    \r\n     &#160; &#160; &#160; &#160;Intent intent = new Intent(getBaseContext(), AlarmReceiver.class);\r\n     &#160; &#160; &#160; &#160;PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;getBaseContext(), RQS_1, intent, 0);\r\n     &#160; &#160; &#160; &#160;AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n     &#160; &#160; &#160; &#160;alarmManager.set(AlarmManager.RTC_WAKEUP, targetCal.getTimeInMillis(),\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;pendingIntent);\r\n    \r\n     &#160; &#160;} &#160;\r\n    }\r\n\r\nReciver.java\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n    \r\n     &#160; &#160;@Override\r\n     &#160; &#160;public void onReceive(Context k1, Intent k2) {\r\n     &#160; &#160; &#160; &#160;// TODO Auto-generated method stub\r\n     &#160; &#160; &#160; &#160; Toast.makeText(k1, &quot;Alarm received!&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n     &#160; &#160;}\r\n    \r\n    }\r\n\r\nmain_activity.xml\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     &#160; &#160;xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     &#160; &#160;android:layout_width=&quot;match_parent&quot;\r\n     &#160; &#160;android:layout_height=&quot;match_parent&quot;\r\n     &#160; &#160;android:orientation=&quot;vertical&quot;\r\n     &#160; &#160;android:padding=&quot;10dp&quot; &gt;\r\n    \r\n     &#160; &#160;&lt;Button\r\n     &#160; &#160; &#160; &#160;android:id=&quot;@+id/startAlaram&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_width=&quot;fill_parent&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_height=&quot;wrap_content&quot;\r\n     &#160; &#160; &#160; &#160;android:text=&quot;Set Alaram Time&quot; /&gt;\r\n    \r\n     &#160; &#160;&lt;TextView\r\n     &#160; &#160; &#160; &#160;android:id=&quot;@+id/alarmprompt&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_width=&quot;fill_parent&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_height=&quot;wrap_content&quot;\r\n     &#160; &#160; &#160; &#160;android:textColor=&quot;#000000&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nManifest.xml\r\n\r\n    &lt;application\r\n     &#160; &#160; &#160; &#160;android:icon=&quot;@drawable/ic_launcher&quot;\r\n     &#160; &#160; &#160; &#160;android:label=&quot;@string/app_name&quot;\r\n     &#160; &#160; &#160; &#160;android:theme=&quot;@style/AppTheme&quot; &gt;\r\n     &#160; &#160; &#160; &#160;&lt;activity\r\n     &#160; &#160; &#160; &#160; &#160; &#160;android:name=&quot;.MainActivity&quot;\r\n     &#160; &#160; &#160; &#160; &#160; &#160;android:label=&quot;@string/title_activity_main&quot; &gt;\r\n     &#160; &#160; &#160; &#160; &#160; &#160;&lt;intent-filter&gt;\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n     &#160; &#160; &#160; &#160; &#160; &#160;&lt;/intent-filter&gt;\r\n     &#160; &#160; &#160; &#160;&lt;/activity&gt;\r\n     &#160; &#160; &#160; &#160; &lt;receiver android:name=&quot;.AlarmReceiver&quot; android:process=&quot;:remote&quot; /&gt;\r\n     &#160; &#160;&lt;/application&gt;","title":"Set android alarm clock programmatically","body":"<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    TimePicker myTimePicker;\n    Button buttonstartSetDialog;\n    TextView textAlarmPrompt;\n    TimePickerDialog timePickerDialog;\n\n    final static int RQS_1 = 1;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textAlarmPrompt = (TextView) findViewById(R.id.alarmprompt);\n\n        buttonstartSetDialog = (Button) findViewById(R.id.startAlaram);\n        buttonstartSetDialog.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                textAlarmPrompt.setText(\"\");\n                openTimePickerDialog(false);\n\n            }\n        });\n\n    }\n\n    private void openTimePickerDialog(boolean is24r) {\n        Calendar calendar = Calendar.getInstance();\n\n        timePickerDialog = new TimePickerDialog(MainActivity.this,\n                onTimeSetListener, calendar.get(Calendar.HOUR_OF_DAY),\n                calendar.get(Calendar.MINUTE), is24r);\n        timePickerDialog.setTitle(\"Set Alarm Time\");\n\n        timePickerDialog.show();\n\n    }\n\n    OnTimeSetListener onTimeSetListener = new OnTimeSetListener() {\n\n        @Override\n        public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n\n            Calendar calNow = Calendar.getInstance();\n            Calendar calSet = (Calendar) calNow.clone();\n\n            calSet.set(Calendar.HOUR_OF_DAY, hourOfDay);\n            calSet.set(Calendar.MINUTE, minute);\n            calSet.set(Calendar.SECOND, 0);\n            calSet.set(Calendar.MILLISECOND, 0);\n\n            if (calSet.compareTo(calNow) &lt;= 0) {\n                // Today Set time passed, count to tomorrow\n                calSet.add(Calendar.DATE, 1);\n            }\n\n            setAlarm(calSet);\n        }\n    };\n\n    private void setAlarm(Calendar targetCal) {\n\n        textAlarmPrompt.setText(\"\\n\\n***\\n\" + \"Alarm is set \"\n                + targetCal.getTime() + \"\\n\" + \"***\\n\");\n\n        Intent intent = new Intent(getBaseContext(), AlarmReceiver.class);\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(\n                getBaseContext(), RQS_1, intent, 0);\n        AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n        alarmManager.set(AlarmManager.RTC_WAKEUP, targetCal.getTimeInMillis(),\n                pendingIntent);\n\n    }  \n}\n</code></pre>\n\n<p>Reciver.java</p>\n\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context k1, Intent k2) {\n        // TODO Auto-generated method stub\n         Toast.makeText(k1, \"Alarm received!\", Toast.LENGTH_LONG).show();\n\n    }\n\n}\n</code></pre>\n\n<p>main_activity.xml</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"10dp\" &gt;\n\n    &lt;Button\n        android:id=\"@+id/startAlaram\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Set Alaram Time\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/alarmprompt\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:textColor=\"#000000\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Manifest.xml</p>\n\n<pre><code>&lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/title_activity_main\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n         &lt;receiver android:name=\".AlarmReceiver\" android:process=\":remote\" /&gt;\n    &lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269538,"reputation":471,"user_id":558929,"accept_rate":100,"display_name":"capitalf"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374269347,"creation_date":1374269347,"answer_id":17755803,"question_id":13909040,"body_markdown":"Like a real alarm clock, I don&#39;t see a way to set an alarm for a future date. I think this requires one of two options: \r\n\r\n1. A combination of AlarmManager (to trigger an app service on the desired future date to create the alarm in AlarmClock) and then AlarmClock (to actually handle the alarm). Don&#39;t forget to listen for BOOT_COMPLETED broadcast to reset the AlarmManager alarms since they don&#39;t persist after a reboot.\r\n\r\n2. Use AlarmManager to trigger an app service and UI that simulates an alarm. This will require you to consider phone state and etc things you don&#39;t have to worry about with AlarmClock.\r\n\r\nI think you can make your app just bring up the AlarmClock dialog which allows the user to set recurring alarms and other options you cannot perform through the intent.","title":"Set android alarm clock programmatically","body":"<p>Like a real alarm clock, I don't see a way to set an alarm for a future date. I think this requires one of two options: </p>\n\n<ol>\n<li><p>A combination of AlarmManager (to trigger an app service on the desired future date to create the alarm in AlarmClock) and then AlarmClock (to actually handle the alarm). Don't forget to listen for BOOT_COMPLETED broadcast to reset the AlarmManager alarms since they don't persist after a reboot.</p></li>\n<li><p>Use AlarmManager to trigger an app service and UI that simulates an alarm. This will require you to consider phone state and etc things you don't have to worry about with AlarmClock.</p></li>\n</ol>\n\n<p>I think you can make your app just bring up the AlarmClock dialog which allows the user to set recurring alarms and other options you cannot perform through the intent.</p>\n"},{"tags":[],"owner":{"account_id":990149,"reputation":1470,"user_id":1007701,"display_name":"Drew Delano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690960283,"creation_date":1690960283,"answer_id":76817404,"question_id":13909040,"body_markdown":"This is an old thread, but I think what you were looking for was:\r\n\r\nhttps://developer.android.com/reference/android/provider/AlarmClock#EXTRA_DAYS\r\n\r\n&gt; Bundle extra: Weekdays for repeating alarm.\r\n&gt; \r\n&gt; Used by ACTION_SET_ALARM.\r\n&gt; \r\n&gt; The value is an ArrayList&lt;Integer&gt;. Each item can be:\r\n&gt; \r\n&gt; Calendar.SUNDAY, Calendar.MONDAY, Calendar.TUESDAY,\r\n&gt; Calendar.WEDNESDAY, Calendar.THURSDAY, Calendar.FRIDAY,\r\n&gt; Calendar.SATURDAY\r\n&gt; \r\n&gt; Constant Value: &quot;android.intent.extra.alarm.DAYS&quot;\r\n\r\nThis would let you pick a day in the future, but I&#39;m not sure if it would persist the alarm or not.  You might have to go back and cancel it.","title":"Set android alarm clock programmatically","body":"<p>This is an old thread, but I think what you were looking for was:</p>\n<p><a href=\"https://developer.android.com/reference/android/provider/AlarmClock#EXTRA_DAYS\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/provider/AlarmClock#EXTRA_DAYS</a></p>\n<blockquote>\n<p>Bundle extra: Weekdays for repeating alarm.</p>\n<p>Used by ACTION_SET_ALARM.</p>\n<p>The value is an ArrayList. Each item can be:</p>\n<p>Calendar.SUNDAY, Calendar.MONDAY, Calendar.TUESDAY,\nCalendar.WEDNESDAY, Calendar.THURSDAY, Calendar.FRIDAY,\nCalendar.SATURDAY</p>\n<p>Constant Value: &quot;android.intent.extra.alarm.DAYS&quot;</p>\n</blockquote>\n<p>This would let you pick a day in the future, but I'm not sure if it would persist the alarm or not.  You might have to go back and cancel it.</p>\n"}],"owner":{"account_id":1871340,"reputation":333,"user_id":1693472,"display_name":"netwokz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69006,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1690960283,"creation_date":1355723944,"question_id":13909040,"body_markdown":"I&#39;m trying to build a personal app that will set alarms in the DeskClock app. I can get it to set alarms for anytime in the current day, But how would I go about setting an alarm for the next day, or later in the week. Looking through the AlarmClock api in android I don&#39;t see a normal way to do this. Is this even possible?\r\n\r\nBtw this is my code for setting the alarm it might not be pretty, but I am learning as I go.\r\n\r\n   \r\n\r\n     package com.netwokz.setit;\r\n    \r\n        import java.util.Calendar;\r\n        import java.util.GregorianCalendar;\r\n    \r\n        import android.app.Activity;\r\n        import android.content.Intent;\r\n        import android.os.Bundle;\r\n        import android.provider.AlarmClock;\r\n        import android.view.Menu;\r\n        import android.view.View;\r\n        import android.view.View.OnClickListener;\r\n        import android.widget.Button;\r\n        import android.widget.EditText;\r\n    \r\n        public class MainActivity extends Activity implements OnClickListener {\r\n    \tButton btnSetAlarm;\r\n    \tEditText etHour, etMinute;\r\n    \tint minute, hour, day;\r\n    \tCalendar cal;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.main_activity);\r\n    \t\tbtnSetAlarm = (Button) findViewById(R.id.btn_set_alarm);\r\n    \t\tetHour = (EditText) findViewById(R.id.etHour);\r\n    \t\tetMinute = (EditText) findViewById(R.id.etMinute);\r\n    \t\tbtnSetAlarm.setOnClickListener(this);\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \t\tgetMenuInflater().inflate(R.menu.main_activity, menu);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onClick(View v) {\r\n    \t\tswitch (v.getId()) {\r\n    \t\t\tcase R.id.btn_set_alarm:\r\n    \t\t\t\tsetAlarm();\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void setAlarm() {\r\n    \t\tcal = new GregorianCalendar();\r\n    \t\tcal.setTimeInMillis(System.currentTimeMillis());\r\n    \t\tday = cal.get(Calendar.DAY_OF_WEEK);\r\n    \t\thour = cal.get(Calendar.HOUR_OF_DAY);\r\n    \t\tminute = cal.get(Calendar.MINUTE);\r\n    \r\n    \t\tIntent i = new Intent(AlarmClock.ACTION_SET_ALARM);\r\n    \t\ti.putExtra(AlarmClock.EXTRA_HOUR, hour + Integer.parseInt(etHour.getText().toString()));\r\n    \t\ti.putExtra(AlarmClock.EXTRA_MINUTES, minute + Integer.parseInt(etMinute.getText().toString()));\r\n    \t\ti.putExtra(AlarmClock.EXTRA_SKIP_UI, true);\r\n    \t\tstartActivity(i);\r\n    \t}\r\n    }\r\n\r\n","title":"Set android alarm clock programmatically","body":"<p>I'm trying to build a personal app that will set alarms in the DeskClock app. I can get it to set alarms for anytime in the current day, But how would I go about setting an alarm for the next day, or later in the week. Looking through the AlarmClock api in android I don't see a normal way to do this. Is this even possible?</p>\n\n<p>Btw this is my code for setting the alarm it might not be pretty, but I am learning as I go.</p>\n\n<pre><code> package com.netwokz.setit;\n\n    import java.util.Calendar;\n    import java.util.GregorianCalendar;\n\n    import android.app.Activity;\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.provider.AlarmClock;\n    import android.view.Menu;\n    import android.view.View;\n    import android.view.View.OnClickListener;\n    import android.widget.Button;\n    import android.widget.EditText;\n\n    public class MainActivity extends Activity implements OnClickListener {\n    Button btnSetAlarm;\n    EditText etHour, etMinute;\n    int minute, hour, day;\n    Calendar cal;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n        btnSetAlarm = (Button) findViewById(R.id.btn_set_alarm);\n        etHour = (EditText) findViewById(R.id.etHour);\n        etMinute = (EditText) findViewById(R.id.etMinute);\n        btnSetAlarm.setOnClickListener(this);\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main_activity, menu);\n        return true;\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.btn_set_alarm:\n                setAlarm();\n                break;\n        }\n    }\n\n    private void setAlarm() {\n        cal = new GregorianCalendar();\n        cal.setTimeInMillis(System.currentTimeMillis());\n        day = cal.get(Calendar.DAY_OF_WEEK);\n        hour = cal.get(Calendar.HOUR_OF_DAY);\n        minute = cal.get(Calendar.MINUTE);\n\n        Intent i = new Intent(AlarmClock.ACTION_SET_ALARM);\n        i.putExtra(AlarmClock.EXTRA_HOUR, hour + Integer.parseInt(etHour.getText().toString()));\n        i.putExtra(AlarmClock.EXTRA_MINUTES, minute + Integer.parseInt(etMinute.getText().toString()));\n        i.putExtra(AlarmClock.EXTRA_SKIP_UI, true);\n        startActivity(i);\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","gradle","rancher","netflix-conductor"],"owner":{"account_id":20423247,"reputation":16,"user_id":14983809,"display_name":"Adwaith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690959902,"creation_date":1690959902,"question_id":76817355,"body_markdown":"I am new to docker and I was trying to run Netflix conductor on my local machine from [here](https://github.com/Netflix/conductor) using rancher and docker cli. I cloned the repository, went inside the docker directory and ran\r\n`docker-compose up`\r\n\r\nThis is the output I got\r\n\r\n```\r\nPS C:\\Users\\X\\Conductor_impl\\conductor\\docker&gt; docker-compose up\r\n[+] Running 2/2\r\n ! conductor-ui Warning                                                                                                       15.1s \r\n ! conductor-server Warning                                                                                                   15.2s \r\n2023/08/02 12:18:52 http2: server: error reading preface from client //./pipe/docker_engine: file has already been closed\r\n[+] Building 6.5s (10/15)\r\n =&gt; [conductor-server internal] load .dockerignore                                                                             0.0s\r\n =&gt; =&gt; transferring context: 117B                                                                                              0.0s \r\n =&gt; [conductor-server internal] load build definition from Dockerfile                                                          0.0s \r\n =&gt; =&gt; transferring dockerfile: 1.50kB                                                                                         0.0s \r\n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jre-jammy                               5.1s\r\n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jdk-jammy                               5.1s \r\n =&gt; [conductor-server internal] load build context                                                                             1.0s\r\n =&gt; =&gt; transferring context: 295.93kB                                                                                          1.0s \r\n =&gt; CANCELED [conductor-server stage-1 1/6] FROM docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8ba  1.9s \r\n =&gt; =&gt; resolve docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2d  0.0s \r\n =&gt; =&gt; sha256:2c8a391f1a44886d7674d4c6604f674f1a639f84b5c1681b03826ac4021766f1 0B / 46.87MB                                    1.3s \r\n =&gt; =&gt; sha256:dd008fd673e62dbc2983fea0bbb3c1537c7bd0a29c81811bd4b5d7e88ba5c8de 0B / 159B                                       1.3s\r\n =&gt; =&gt; sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2dbd2a7651 1.21kB / 1.21kB                                 0.0s \r\n =&gt; =&gt; sha256:894577b0e822baf934c52d659f625565afa762d9f0df182495b1259164b7917f 1.16kB / 1.16kB                                 0.0s \r\n =&gt; =&gt; sha256:869eee3db00a3cf41f5851544d8fc67e11e55ce84801d10d346acf16f3e67571 6.39kB / 6.39kB                                 0.0s\r\n =&gt; CACHED [conductor-server builder 1/4] FROM docker.io/library/eclipse-temurin:11-jdk-jammy@sha256:e793d592c394150ce7da5e83  0.0s \r\n =&gt; [conductor-server builder 2/4] COPY . /conductor                                                                           0.6s \r\n =&gt; [conductor-server builder 3/4] WORKDIR /conductor                                                                          0.0s \r\n =&gt; ERROR [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace                                              0.3s \r\n------\r\n &gt; [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace:\r\n0.299 /bin/sh: 1: ./gradlew: not found\r\n------\r\nfailed to solve: process &quot;/bin/sh -c ./gradlew build -x test --stacktrace&quot; did not complete successfully: exit code: 127\r\n```\r\n\r\n\r\n\r\n\r\nI thought of manually adding the gradle wrapper and then it is showing me that the JAVA_HOME is not configured properly. \r\n\r\nI used the maven wrapper command after pasting the same settings.gradle file from the parent directory to use ./gradlew .\r\n\r\n\r\n```\r\nPS C:\\Users\\X\\Conductor_impl\\conductor&gt; ./gradlew build -x test --stacktrace\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.internal.jvm.JavaHomeException: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\r\n        at org.gradle.internal.jvm.Jvm.findExecutable(Jvm.java:183)\r\n```\r\n\r\nGradle thinks im using jdk18 when I am using JDK11.\r\n```\r\nC:\\Users\\X&gt;echo %JAVA_HOME%\r\nC:\\Program Files\\Java\\jdk-11\r\n```\r\n\r\nCan someone help me fix gradle thinking im using jdk18(also tell me if my approach is wrong). Also, doesn&#39;t a docker file not need anything to be set up externally??\r\n","title":"Docker using Rancher throwing an error and Gradle looking for jdk at an older JAVA_HOME","body":"<p>I am new to docker and I was trying to run Netflix conductor on my local machine from <a href=\"https://github.com/Netflix/conductor\" rel=\"nofollow noreferrer\">here</a> using rancher and docker cli. I cloned the repository, went inside the docker directory and ran\n<code>docker-compose up</code></p>\n<p>This is the output I got</p>\n<pre><code>PS C:\\Users\\X\\Conductor_impl\\conductor\\docker&gt; docker-compose up\n[+] Running 2/2\n ! conductor-ui Warning                                                                                                       15.1s \n ! conductor-server Warning                                                                                                   15.2s \n2023/08/02 12:18:52 http2: server: error reading preface from client //./pipe/docker_engine: file has already been closed\n[+] Building 6.5s (10/15)\n =&gt; [conductor-server internal] load .dockerignore                                                                             0.0s\n =&gt; =&gt; transferring context: 117B                                                                                              0.0s \n =&gt; [conductor-server internal] load build definition from Dockerfile                                                          0.0s \n =&gt; =&gt; transferring dockerfile: 1.50kB                                                                                         0.0s \n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jre-jammy                               5.1s\n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jdk-jammy                               5.1s \n =&gt; [conductor-server internal] load build context                                                                             1.0s\n =&gt; =&gt; transferring context: 295.93kB                                                                                          1.0s \n =&gt; CANCELED [conductor-server stage-1 1/6] FROM docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8ba  1.9s \n =&gt; =&gt; resolve docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2d  0.0s \n =&gt; =&gt; sha256:2c8a391f1a44886d7674d4c6604f674f1a639f84b5c1681b03826ac4021766f1 0B / 46.87MB                                    1.3s \n =&gt; =&gt; sha256:dd008fd673e62dbc2983fea0bbb3c1537c7bd0a29c81811bd4b5d7e88ba5c8de 0B / 159B                                       1.3s\n =&gt; =&gt; sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2dbd2a7651 1.21kB / 1.21kB                                 0.0s \n =&gt; =&gt; sha256:894577b0e822baf934c52d659f625565afa762d9f0df182495b1259164b7917f 1.16kB / 1.16kB                                 0.0s \n =&gt; =&gt; sha256:869eee3db00a3cf41f5851544d8fc67e11e55ce84801d10d346acf16f3e67571 6.39kB / 6.39kB                                 0.0s\n =&gt; CACHED [conductor-server builder 1/4] FROM docker.io/library/eclipse-temurin:11-jdk-jammy@sha256:e793d592c394150ce7da5e83  0.0s \n =&gt; [conductor-server builder 2/4] COPY . /conductor                                                                           0.6s \n =&gt; [conductor-server builder 3/4] WORKDIR /conductor                                                                          0.0s \n =&gt; ERROR [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace                                              0.3s \n------\n &gt; [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace:\n0.299 /bin/sh: 1: ./gradlew: not found\n------\nfailed to solve: process &quot;/bin/sh -c ./gradlew build -x test --stacktrace&quot; did not complete successfully: exit code: 127\n</code></pre>\n<p>I thought of manually adding the gradle wrapper and then it is showing me that the JAVA_HOME is not configured properly.</p>\n<p>I used the maven wrapper command after pasting the same settings.gradle file from the parent directory to use ./gradlew .</p>\n<pre><code>PS C:\\Users\\X\\Conductor_impl\\conductor&gt; ./gradlew build -x test --stacktrace\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.internal.jvm.JavaHomeException: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\n        at org.gradle.internal.jvm.Jvm.findExecutable(Jvm.java:183)\n</code></pre>\n<p>Gradle thinks im using jdk18 when I am using JDK11.</p>\n<pre><code>C:\\Users\\X&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-11\n</code></pre>\n<p>Can someone help me fix gradle thinking im using jdk18(also tell me if my approach is wrong). Also, doesn't a docker file not need anything to be set up externally??</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":2211194,"reputation":1488,"user_id":1952996,"accept_rate":69,"display_name":"zelite"},"score":0,"creation_date":1582135518,"post_id":60306049,"comment_id":106676435,"body_markdown":"When you click the addToCartButton you are creating a new Instance of the CartActivity and passing it the data of only one item in the intent. You never persist this data. Here you can see the different ways you can persist your state: https://developer.android.com/topic/libraries/architecture/saving-states.html#options_for_preserving_ui_state","body":"When you click the addToCartButton you are creating a new Instance of the CartActivity and passing it the data of only one item in the intent. You never persist this data. Here you can see the different ways you can persist your state: <a href=\"https://developer.android.com/topic/libraries/architecture/saving-states.html#options_for_preserving_ui_state\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"score":0,"creation_date":1582135405,"post_id":60306494,"comment_id":106676387,"body_markdown":"I get your point but I don&#39;t want to save them to the database (the items that I send to the Shopping cart) I just want to save the data locally because I downloaded some cart apps from git and all of them save the data using a vector. The only difference between me and them is that I send the data that I received from a database to another activity. They just create a vector with the items and send the vector[i] to the other activity and for them is working.","body":"I get your point but I don&#39;t want to save them to the database (the items that I send to the Shopping cart) I just want to save the data locally because I downloaded some cart apps from git and all of them save the data using a vector. The only difference between me and them is that I send the data that I received from a database to another activity. They just create a vector with the items and send the vector[i] to the other activity and for them is working."},{"owner":{"account_id":16490473,"reputation":29,"user_id":11914539,"display_name":"Joaqu&#237;n Sosa"},"score":1,"creation_date":1582136677,"post_id":60306494,"comment_id":106676961,"body_markdown":"I don&#39;t know how they do it, but if you want to do it locally you could use SharedPreferences, which allows you to store information locally, for example you could store an id and quantity and then in the ShoppingCartActivity look for those ids in the database and just populate the recyclerView with the info you get from the database","body":"I don&#39;t know how they do it, but if you want to do it locally you could use SharedPreferences, which allows you to store information locally, for example you could store an id and quantity and then in the ShoppingCartActivity look for those ids in the database and just populate the recyclerView with the info you get from the database"},{"owner":{"account_id":16490473,"reputation":29,"user_id":11914539,"display_name":"Joaqu&#237;n Sosa"},"score":1,"creation_date":1582137153,"post_id":60306494,"comment_id":106677181,"body_markdown":"Here&#39;s some documentation in case you need it, https://developer.android.com/training/data-storage/shared-preferences?authuser=1","body":"Here&#39;s some documentation in case you need it, <a href=\"https://developer.android.com/training/data-storage/shared-preferences?authuser=1\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/&hellip;</a>"},{"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"score":0,"creation_date":1582138391,"post_id":60306494,"comment_id":106677693,"body_markdown":"I decided to save the data to firebase and I did it, the only problem is that I have to understand how can I create a different object for every item because for now the request to write on the database is generating just 1 object and is updating this one like I just send one object not 3 or 4.","body":"I decided to save the data to firebase and I did it, the only problem is that I have to understand how can I create a different object for every item because for now the request to write on the database is generating just 1 object and is updating this one like I just send one object not 3 or 4."},{"owner":{"account_id":16490473,"reputation":29,"user_id":11914539,"display_name":"Joaqu&#237;n Sosa"},"score":1,"creation_date":1582139185,"post_id":60306494,"comment_id":106678036,"body_markdown":"Can you add the code for me to check it? What I suggest is that you make a model, a class for every item with getters and setters, variables like &quot;name&quot;, &quot;price&quot;, &quot;description&quot;, etc; once you have that done you should make a new instance of the class you created with the variables, and then upload it to firebase like `mDatabase.child(&quot;you path&quot;).push().setValue(item);` Sorry instead of using push you should put your uid","body":"Can you add the code for me to check it? What I suggest is that you make a model, a class for every item with getters and setters, variables like &quot;name&quot;, &quot;price&quot;, &quot;description&quot;, etc; once you have that done you should make a new instance of the class you created with the variables, and then upload it to firebase like <code>mDatabase.child(&quot;you path&quot;).push().setValue(item);</code> Sorry instead of using push you should put your uid"},{"owner":{"account_id":16490473,"reputation":29,"user_id":11914539,"display_name":"Joaqu&#237;n Sosa"},"score":1,"creation_date":1582139481,"post_id":60306494,"comment_id":106678175,"body_markdown":"`//CartReference  &lt;br/&gt;\n        DatabaseReference cartItems = mDatabase.child(&quot;cart-items&quot;);  &lt;br/&gt;\n\n        //You should do this once you click your item  &lt;br/&gt;\n        //Create a new instance of your custom class for each of the items clicked&lt;br/&gt;\n        ClickedItem item = new ClickedItem(name, description, price, etc);  &lt;br/&gt;\n\n        //Then upload that class to the database, note that the names you gave to the variables are going to be the  &lt;br/&gt;\n        //names in the database&lt;br&gt;  &lt;br/&gt;\n        cartItems.child(currentUser.getUid()).setValue(item);&lt;br/&gt;`","body":"<code>&#47;&#47;CartReference  &lt;br&#47;&gt;         DatabaseReference cartItems = mDatabase.child(&quot;cart-items&quot;);  &lt;br&#47;&gt;          &#47;&#47;You should do this once you click your item  &lt;br&#47;&gt;         &#47;&#47;Create a new instance of your custom class for each of the items clicked&lt;br&#47;&gt;         ClickedItem item = new ClickedItem(name, description, price, etc);  &lt;br&#47;&gt;          &#47;&#47;Then upload that class to the database, note that the names you gave to the variables are going to be the  &lt;br&#47;&gt;         &#47;&#47;names in the database&lt;br&gt;  &lt;br&#47;&gt;         cartItems.child(currentUser.getUid()).setValue(item);&lt;br&#47;&gt;</code>"},{"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"score":0,"creation_date":1582139970,"post_id":60306494,"comment_id":106678415,"body_markdown":"Don&#39;t worry I understood and it worked. Thank you so much","body":"Don&#39;t worry I understood and it worked. Thank you so much"},{"owner":{"account_id":16490473,"reputation":29,"user_id":11914539,"display_name":"Joaqu&#237;n Sosa"},"score":1,"creation_date":1582140153,"post_id":60306494,"comment_id":106678507,"body_markdown":"I&#39;m glad you could do it, let me know if you need anymore help.","body":"I&#39;m glad you could do it, let me know if you need anymore help."}],"tags":[],"owner":{"account_id":16490473,"reputation":29,"user_id":11914539,"display_name":"Joaqu&#237;n Sosa"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582134945,"creation_date":1582134945,"answer_id":60306494,"question_id":60306049,"body_markdown":"You must save in the database which elements you clicked (sent to the shopping cart) in order for them not to load again or to be shown every time you enter the shopping cart. You are just populating the RecyclerView with all the options and you&#39;re not saving the ones you have in the ShoppingCartActivity. When you start the shopping cart activity it will load the extras from the Intent, if you didn&#39;t click any item the intent won&#39;t have extras, therefore the shopping cart won&#39;t have any items to show if you start it again. If you need help setting up the database just ask. Also you should add firebase tag to the post.","title":"Problem displaying and saving the data from one recycle view to another","body":"<p>You must save in the database which elements you clicked (sent to the shopping cart) in order for them not to load again or to be shown every time you enter the shopping cart. You are just populating the RecyclerView with all the options and you're not saving the ones you have in the ShoppingCartActivity. When you start the shopping cart activity it will load the extras from the Intent, if you didn't click any item the intent won't have extras, therefore the shopping cart won't have any items to show if you start it again. If you need help setting up the database just ask. Also you should add firebase tag to the post.</p>\n"}],"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690959282,"creation_date":1582133263,"question_id":60306049,"body_markdown":"I am new to Android and I can&#39;t understand why when I send data from one activity to another it doesn&#39;t remember the values that I saved previously and it&#39;s not able to show me more than one item inside the shopping cart.\r\n\r\nExample : \r\n\r\nI have a shopping list and a cart list \r\n\r\nInside the shopping list, I have a `recycleview` and I have items that I can add to the shopping cart when I press the add button, the item is added to the shopping cart by sending the data to the cart activity and it shows me the data inside the recycle view(this `recycleview` is inside the Cart activity) but now if I go back using the back button of the phone and I select another item from the shopping list when I go to the cart list the previous item added it&#39;s gone and I don&#39;t understand why since I created an `ArrayList` and I save the data inside it. Can anyone explain to me what I&#39;m doing wrong? \r\n\r\nI will add 3 photos to explain myself better. \r\n\r\n![enter image description here][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn the second picture, if I go back from shopping cart to the shopping list and click on C, A from Shopping cart will disappear and I will have just C.\r\n\r\nThis is my code: \r\n\r\n**Shopping list:** \r\n\r\n    \r\n    public class FirebaseSearch extends AppCompatActivity {\r\n\r\n    private EditText mSearchField;\r\n    private ImageButton mSearchBtn;\r\n    private ImageButton AddToCart;\r\n    private ImageButton Cart;\r\n\r\n    String searchText=&quot;&quot;;\r\n\r\n    private RecyclerView mResultList;\r\n    private DatabaseReference mUserDatabase;\r\n\r\n\r\n\r\n\r\n    private static ArrayList&lt;Users&gt; arrayList = new ArrayList&lt;&gt;();\r\n    public static int cart_count = 0;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_firebasesearch);\r\n\r\n        mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n\r\n        mSearchField = findViewById(R.id.search_field);\r\n        mSearchBtn   = findViewById(R.id.search_btn);\r\n        mResultList  = findViewById(R.id.result_list_cart);\r\n        AddToCart    = findViewById(R.id.imageButton2);\r\n        Cart         = findViewById(R.id.cartButton);\r\n\r\n        mResultList.setHasFixedSize(true);\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mSearchBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                searchText = mSearchField.getText().toString();\r\n                firebaseUserSearch(searchText);\r\n            }\r\n        });\r\n\r\n        Cart.setOnClickListener(new View.OnClickListener() {\r\n            private Object Tag=&quot;Activity&quot;;\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (cart_count &lt; 1) {\r\n\r\n                } else {\r\n                    startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    private void firebaseUserSearch(String searchText) {\r\n        Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\r\n        Query firebaseSearchQuery = \r\n       mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\r\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new \r\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\r\n                Users.class,\r\n                R.layout.list_layout,\r\n                UsersViewHolder.class,\r\n                firebaseSearchQuery\r\n        ) {\r\n            @Override\r\n            protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\r\n                viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\r\n                viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\r\n            }\r\n        };\r\n        mResultList.setAdapter(firebaseRecyclerAdapter);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        invalidateOptionsMenu();\r\n    }\r\n\r\n    // View Holder Class\r\n    public static class UsersViewHolder extends RecyclerView.ViewHolder {\r\n        View mView;\r\n        String nome;\r\n        String surname;\r\n        Long prezzo;\r\n        public UsersViewHolder(View itemView) {\r\n            super(itemView);\r\n            mView = itemView;\r\n            ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\r\n            addToCart.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    cart_count++;\r\n                    Context context = v.getContext();\r\n                    Intent intent = new Intent(context, CartActivity.class);\r\n                    intent.putExtra(&quot;Name&quot;,nome);\r\n                    intent.putExtra(&quot;Surname&quot;,surname);\r\n                    intent.putExtra(&quot;Prezzo&quot;,Long.toString(prezzo));\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void getDetails(String name,String cognome,Long price){\r\n            nome=name;\r\n            surname=cognome;\r\n            prezzo=price;\r\n        }\r\n\r\n\r\n        public void setDetails(String name, String surname, Long price) {\r\n\r\n            TextView user_name = (TextView) mView.findViewById(R.id.name_text);\r\n            TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\r\n            TextView user_price = (TextView)mView.findViewById(R.id.price);\r\n\r\n            user_name.setText(name);\r\n            user_surname.setText(surname);\r\n            user_price.setText(Long.toString(price));\r\n\r\n        }\r\n    }\r\n    }enter code here\r\n\r\n**Shopping CART :** \r\n\r\n    \r\n    public class CartActivity extends AppCompatActivity {\r\n    private RecyclerView cities;\r\n    private RecyclerView.Adapter adapter;\r\n    String nome,cognome;\r\n    Long prezzo;\r\n    int totalPrice=0;\r\n    TextView campoPrezzo;\r\n    int position=0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart);\r\n\r\n        campoPrezzo=findViewById(R.id.TotalPrice);\r\n\r\n        //Receive the data from the previous activity\r\n        String passedArg = getIntent().getExtras().getString(&quot;Name&quot;);\r\n        nome=passedArg;\r\n        String passedArg2 = getIntent().getExtras().getString(&quot;Surname&quot;);\r\n        cognome=passedArg2;\r\n\r\n        Intent intent = getIntent();\r\n        String str = intent.getStringExtra(&quot;Prezzo&quot;);\r\n\r\n        ArrayList&lt;Users&gt; cities = initCities(nome,cognome,Long. parseLong(str));\r\n\r\n\r\n        this.cities = (RecyclerView) findViewById(R.id.cartList);\r\n        RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(this);\r\n        this.cities.setLayoutManager(mLayoutManager);\r\n\r\n        adapter = new ProductAdapter(cities);\r\n        this.cities.setAdapter(adapter);\r\n        System.out.println(&quot;Prezzo&quot;+returnTotalPrice());\r\n    }\r\n\r\n    private ArrayList&lt;Users&gt; initCities(String nome,String cognome,Long price) {\r\n        ArrayList&lt;Users&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(position,new Users(nome,cognome,price));\r\n        position++;\r\n        getTotalPrice(price);\r\n        return list;\r\n    }\r\n\r\n    public void getTotalPrice(Long price){\r\n        totalPrice+=price;\r\n    }\r\n\r\n    public int returnTotalPrice(){\r\n        return totalPrice;\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npCze.png\r\n  [2]: https://i.stack.imgur.com/yUsFV.jpg","title":"Problem displaying and saving the data from one recycle view to another","body":"<p>I am new to Android and I can't understand why when I send data from one activity to another it doesn't remember the values that I saved previously and it's not able to show me more than one item inside the shopping cart.</p>\n<p>Example :</p>\n<p>I have a shopping list and a cart list</p>\n<p>Inside the shopping list, I have a <code>recycleview</code> and I have items that I can add to the shopping cart when I press the add button, the item is added to the shopping cart by sending the data to the cart activity and it shows me the data inside the recycle view(this <code>recycleview</code> is inside the Cart activity) but now if I go back using the back button of the phone and I select another item from the shopping list when I go to the cart list the previous item added it's gone and I don't understand why since I created an <code>ArrayList</code> and I save the data inside it. Can anyone explain to me what I'm doing wrong?</p>\n<p>I will add 3 photos to explain myself better.</p>\n<p><img src=\"https://i.stack.imgur.com/npCze.png\" alt=\"enter image description here\" /></p>\n<p><a href=\"https://i.stack.imgur.com/yUsFV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yUsFV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In the second picture, if I go back from shopping cart to the shopping list and click on C, A from Shopping cart will disappear and I will have just C.</p>\n<p>This is my code:</p>\n<p><strong>Shopping list:</strong></p>\n<pre><code>public class FirebaseSearch extends AppCompatActivity {\n\nprivate EditText mSearchField;\nprivate ImageButton mSearchBtn;\nprivate ImageButton AddToCart;\nprivate ImageButton Cart;\n\nString searchText=&quot;&quot;;\n\nprivate RecyclerView mResultList;\nprivate DatabaseReference mUserDatabase;\n\n\n\n\nprivate static ArrayList&lt;Users&gt; arrayList = new ArrayList&lt;&gt;();\npublic static int cart_count = 0;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_firebasesearch);\n\n    mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\n    mSearchField = findViewById(R.id.search_field);\n    mSearchBtn   = findViewById(R.id.search_btn);\n    mResultList  = findViewById(R.id.result_list_cart);\n    AddToCart    = findViewById(R.id.imageButton2);\n    Cart         = findViewById(R.id.cartButton);\n\n    mResultList.setHasFixedSize(true);\n    mResultList.setLayoutManager(new LinearLayoutManager(this));\n\n    mSearchBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            searchText = mSearchField.getText().toString();\n            firebaseUserSearch(searchText);\n        }\n    });\n\n    Cart.setOnClickListener(new View.OnClickListener() {\n        private Object Tag=&quot;Activity&quot;;\n\n        @Override\n        public void onClick(View v) {\n            if (cart_count &lt; 1) {\n\n            } else {\n                startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\n            }\n        }\n    });\n}\n\n\n\nprivate void firebaseUserSearch(String searchText) {\n    Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\n    Query firebaseSearchQuery = \n   mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\n    FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new \n    FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\n            Users.class,\n            R.layout.list_layout,\n            UsersViewHolder.class,\n            firebaseSearchQuery\n    ) {\n        @Override\n        protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\n            viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\n            viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\n        }\n    };\n    mResultList.setAdapter(firebaseRecyclerAdapter);\n}\n\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    invalidateOptionsMenu();\n}\n\n// View Holder Class\npublic static class UsersViewHolder extends RecyclerView.ViewHolder {\n    View mView;\n    String nome;\n    String surname;\n    Long prezzo;\n    public UsersViewHolder(View itemView) {\n        super(itemView);\n        mView = itemView;\n        ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\n        addToCart.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                cart_count++;\n                Context context = v.getContext();\n                Intent intent = new Intent(context, CartActivity.class);\n                intent.putExtra(&quot;Name&quot;,nome);\n                intent.putExtra(&quot;Surname&quot;,surname);\n                intent.putExtra(&quot;Prezzo&quot;,Long.toString(prezzo));\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    public void getDetails(String name,String cognome,Long price){\n        nome=name;\n        surname=cognome;\n        prezzo=price;\n    }\n\n\n    public void setDetails(String name, String surname, Long price) {\n\n        TextView user_name = (TextView) mView.findViewById(R.id.name_text);\n        TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\n        TextView user_price = (TextView)mView.findViewById(R.id.price);\n\n        user_name.setText(name);\n        user_surname.setText(surname);\n        user_price.setText(Long.toString(price));\n\n    }\n}\n}enter code here\n</code></pre>\n<p><strong>Shopping CART :</strong></p>\n<pre><code>public class CartActivity extends AppCompatActivity {\nprivate RecyclerView cities;\nprivate RecyclerView.Adapter adapter;\nString nome,cognome;\nLong prezzo;\nint totalPrice=0;\nTextView campoPrezzo;\nint position=0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_cart);\n\n    campoPrezzo=findViewById(R.id.TotalPrice);\n\n    //Receive the data from the previous activity\n    String passedArg = getIntent().getExtras().getString(&quot;Name&quot;);\n    nome=passedArg;\n    String passedArg2 = getIntent().getExtras().getString(&quot;Surname&quot;);\n    cognome=passedArg2;\n\n    Intent intent = getIntent();\n    String str = intent.getStringExtra(&quot;Prezzo&quot;);\n\n    ArrayList&lt;Users&gt; cities = initCities(nome,cognome,Long. parseLong(str));\n\n\n    this.cities = (RecyclerView) findViewById(R.id.cartList);\n    RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(this);\n    this.cities.setLayoutManager(mLayoutManager);\n\n    adapter = new ProductAdapter(cities);\n    this.cities.setAdapter(adapter);\n    System.out.println(&quot;Prezzo&quot;+returnTotalPrice());\n}\n\nprivate ArrayList&lt;Users&gt; initCities(String nome,String cognome,Long price) {\n    ArrayList&lt;Users&gt; list = new ArrayList&lt;&gt;();\n    list.add(position,new Users(nome,cognome,price));\n    position++;\n    getTotalPrice(price);\n    return list;\n}\n\npublic void getTotalPrice(Long price){\n    totalPrice+=price;\n}\n\npublic int returnTotalPrice(){\n    return totalPrice;\n}\n}\n</code></pre>\n"},{"tags":["java","inheritance","interface","overriding"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1581699244,"post_id":60230473,"comment_id":106536319,"body_markdown":"Some background -- [Why are arrays covariant but generics are invariant?](https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant)","body":"Some background -- <a href=\"https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant\">Why are arrays covariant but generics are invariant?</a>"},{"owner":{"account_id":1534857,"reputation":981,"user_id":1431184,"accept_rate":69,"display_name":"printfmyname"},"score":0,"creation_date":1581700927,"post_id":60230473,"comment_id":106537021,"body_markdown":"You can create a interface, CommonInterface, and put all the common methods from ObjectA and ObjectB and Then on the parent and child rewrite the method to return List&lt;CommonInterface&gt;. if you need to use methods exclusive to ObjectA then first check if a object is instanceof ObjectA and then cast it to use methods from ObjectA class.","body":"You can create a interface, CommonInterface, and put all the common methods from ObjectA and ObjectB and Then on the parent and child rewrite the method to return List&lt;CommonInterface&gt;. if you need to use methods exclusive to ObjectA then first check if a object is instanceof ObjectA and then cast it to use methods from ObjectA class."}],"answers":[{"comments":[{"owner":{"account_id":10560317,"reputation":111,"user_id":7780274,"display_name":"Hannes Knutsson"},"score":0,"creation_date":1581714198,"post_id":60230881,"comment_id":106541868,"body_markdown":"Does that not mean that we could instantiate HandlerA with ANY non abstract class since HandlerA is still a template class (because of the &lt;T&gt;)? The whole point of my question is to eliminate as much ambiguity as possible and have the typing as strong as possible while still keeping the characteristics I&#39;ve attempted to describe.","body":"Does that not mean that we could instantiate HandlerA with ANY non abstract class since HandlerA is still a template class (because of the &lt;T&gt;)? The whole point of my question is to eliminate as much ambiguity as possible and have the typing as strong as possible while still keeping the characteristics I&#39;ve attempted to describe."},{"owner":{"account_id":5440694,"reputation":1226,"user_id":4328866,"display_name":"gregorycallea"},"score":0,"creation_date":1581936333,"post_id":60230881,"comment_id":106590839,"body_markdown":"Yes. You can also limit the usable classes using the **extends** syntax on generic but this doesn&#39;t eliminate the ambiguity unless you really need a new generic on HandlerA. \nAs I said this is just a workaround to let you use exactly the code you shared. The disadvantage is to introduce a low ambiguity for the coder but you can solve this documenting the class specifically.","body":"Yes. You can also limit the usable classes using the <b>extends</b> syntax on generic but this doesn&#39;t eliminate the ambiguity unless you really need a new generic on HandlerA.  As I said this is just a workaround to let you use exactly the code you shared. The disadvantage is to introduce a low ambiguity for the coder but you can solve this documenting the class specifically."}],"tags":[],"owner":{"account_id":5440694,"reputation":1226,"user_id":4328866,"display_name":"gregorycallea"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581700824,"creation_date":1581700824,"answer_id":60230881,"question_id":60230473,"body_markdown":"Your code is accepted if you declare HandlerA with a new generic even if this is never used really:\r\n\r\n```\r\npublic class HandlerA&lt;T&gt; implements HandlerInterface&lt;ObjectA&gt; {\r\n//....\r\n}\r\n```\r\n\r\n&gt; **NOTE:** This is to be considered just a workaround but as result your example code will work as you asked. Moreover, even if HandlerA declares a generic, you can anycase instantiate it also without brackets:\r\n&gt; ```\r\n&gt; ObjectA objectA = new HandlerA();\r\n&gt; ```\r\n\r\n \r\n\r\n\r\n\r\n  ","title":"How can I override a method returning a List containing instances of subclass to the class the original methods List contained?","body":"<p>Your code is accepted if you declare HandlerA with a new generic even if this is never used really:</p>\n\n<pre><code>public class HandlerA&lt;T&gt; implements HandlerInterface&lt;ObjectA&gt; {\n//....\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>NOTE:</strong> This is to be considered just a workaround but as result your example code will work as you asked. Moreover, even if HandlerA declares a generic, you can anycase instantiate it also without brackets:</p>\n\n<pre><code>ObjectA objectA = new HandlerA();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":10560317,"reputation":111,"user_id":7780274,"display_name":"Hannes Knutsson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690959081,"creation_date":1581698955,"question_id":60230473,"body_markdown":"I realize the title is kind of messy, but that&#39;s the best I could come up with.\r\n\r\nBelow is a minimal example of what I wish, but am currently failing to do.\r\n\r\n```Java\r\npublic class ObjectA {}\r\n       \r\npublic class ObjectB extends ObjectA {}\r\n       \r\npublic interface HandlerInterface&lt;T extends ObjectA&gt; {\r\n       \r\n        public T easyToOverride();\r\n       \r\n        public List&lt;T&gt; hardToOverride();\r\n       \r\n}      \r\n       \r\npublic class HandlerA implements HandlerInterface&lt;ObjectA&gt; {\r\n       \r\n        public ObjectA easyToOverride() {\r\n                return new ObjectA();\r\n        }\r\n       \r\n        public List&lt;ObjectA&gt; hardToOverride() {\r\n                return new ArrayList&lt;ObjectA&gt;();\r\n        }\r\n}      \r\n       \r\npublic class HandlerB extends HandlerA implements HandlerInterface&lt;ObjectB&gt; {\r\n        \r\n        /*\r\n          This method ovverides its super method with ease since its return\r\n          type directly inherits from the super class&#39;s return type\r\n        */\r\n        public ObjectB easyToOverride() {\r\n                return new ObjectB();\r\n        }\r\n       \r\n        /*\r\n          This method is NOT accepted by the Java syntax since List&lt;ObjectB&gt;\r\n          does NOT directly inherit from List&lt;ObjectA&gt;\r\n       \r\n          The method signature for hardToOverride() clashes with the signature\r\n          in the super class and is not overridden because the return types\r\n          don&#39;t obviously inherit each other\r\n        */\r\n         public List&lt;ObjectB&gt; hardToOverride() {\r\n                return new ArrayList&lt;ObjectB&gt;();\r\n        }\r\n} \r\n```\r\n\r\nIgnore that these classes should be in their own files and that I have not included their imports. I just put it like this to make it easier to read.\r\n\r\nAs you may have understood by the comments in the class ```HandlerB```, the method ```hardToOverride()``` is not accepted (throw this code into your IDE and watch it scream).\r\n\r\nI realise I could just return a ```List&lt;Object&gt;``` and type cast the contents of the returned ```List``` object to the type that I personally know the specific handler instance returns (```ObjectA``` or ```ObjectB```), but that would mean that anyone using these methods has to understand the inner workings of them, and I do not like that.\r\n\r\nWhat I want is to be able to override the ```List&lt;ObjectA&gt; hardToOverride()``` method with a method ```List&lt;ObjectB&gt; hardToOverride()``` without losing the hard typing that these methods provide.\r\n\r\nSo my final question is: \r\n\r\nIs there any way to keep all of these interfaces, inheritances and overrides without loosing the strong typing they provide in my example code?\r\n\r\nIf not, what is a better way to achieve a similar set of classes and interfaces that actually works?\r\n","title":"How can I override a method returning a List containing instances of subclass to the class the original methods List contained?","body":"<p>I realize the title is kind of messy, but that's the best I could come up with.</p>\n\n<p>Below is a minimal example of what I wish, but am currently failing to do.</p>\n\n<pre><code>public class ObjectA {}\n\npublic class ObjectB extends ObjectA {}\n\npublic interface HandlerInterface&lt;T extends ObjectA&gt; {\n\n        public T easyToOverride();\n\n        public List&lt;T&gt; hardToOverride();\n\n}      \n\npublic class HandlerA implements HandlerInterface&lt;ObjectA&gt; {\n\n        public ObjectA easyToOverride() {\n                return new ObjectA();\n        }\n\n        public List&lt;ObjectA&gt; hardToOverride() {\n                return new ArrayList&lt;ObjectA&gt;();\n        }\n}      \n\npublic class HandlerB extends HandlerA implements HandlerInterface&lt;ObjectB&gt; {\n\n        /*\n          This method ovverides its super method with ease since its return\n          type directly inherits from the super class's return type\n        */\n        public ObjectB easyToOverride() {\n                return new ObjectB();\n        }\n\n        /*\n          This method is NOT accepted by the Java syntax since List&lt;ObjectB&gt;\n          does NOT directly inherit from List&lt;ObjectA&gt;\n\n          The method signature for hardToOverride() clashes with the signature\n          in the super class and is not overridden because the return types\n          don't obviously inherit each other\n        */\n         public List&lt;ObjectB&gt; hardToOverride() {\n                return new ArrayList&lt;ObjectB&gt;();\n        }\n} \n</code></pre>\n\n<p>Ignore that these classes should be in their own files and that I have not included their imports. I just put it like this to make it easier to read.</p>\n\n<p>As you may have understood by the comments in the class <code>HandlerB</code>, the method <code>hardToOverride()</code> is not accepted (throw this code into your IDE and watch it scream).</p>\n\n<p>I realise I could just return a <code>List&lt;Object&gt;</code> and type cast the contents of the returned <code>List</code> object to the type that I personally know the specific handler instance returns (<code>ObjectA</code> or <code>ObjectB</code>), but that would mean that anyone using these methods has to understand the inner workings of them, and I do not like that.</p>\n\n<p>What I want is to be able to override the <code>List&lt;ObjectA&gt; hardToOverride()</code> method with a method <code>List&lt;ObjectB&gt; hardToOverride()</code> without losing the hard typing that these methods provide.</p>\n\n<p>So my final question is: </p>\n\n<p>Is there any way to keep all of these interfaces, inheritances and overrides without loosing the strong typing they provide in my example code?</p>\n\n<p>If not, what is a better way to achieve a similar set of classes and interfaces that actually works?</p>\n"},{"tags":["java","exception","stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1690929047,"post_id":76815547,"comment_id":135420758,"body_markdown":"Probably depends on the stream and the circumstances.","body":"Probably depends on the stream and the circumstances."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1690929774,"post_id":76815547,"comment_id":135420841,"body_markdown":"You might read this:  https://stackoverflow.com/questions/21191562/why-close-method-in-java-are-throwing-exception","body":"You might read this:  <a href=\"https://stackoverflow.com/questions/21191562/why-close-method-in-java-are-throwing-exception\" title=\"why close method in java are throwing exception\">stackoverflow.com/questions/21191562/&hellip;</a>"},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1690930908,"post_id":76815547,"comment_id":135420958,"body_markdown":"@Tim: really interesting, that link.. but finally does not answer my question... or did I oversee something. It is clear that the exception is significant. But anyway, is the stream close or is it not?","body":"@Tim: really interesting, that link.. but finally does not answer my question... or did I oversee something. It is clear that the exception is significant. But anyway, is the stream close or is it not?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1690931377,"post_id":76815547,"comment_id":135421007,"body_markdown":"Depends on the stream. And what will you do with this information? You probably shouldn&#39;t try closing it again.","body":"Depends on the stream. And what will you do with this information? You probably shouldn&#39;t try closing it again."},{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1690932221,"post_id":76815547,"comment_id":135421075,"body_markdown":"Right.  The answer is indeterminate.  In point of fact, it is very, very uncommon for `close` to throw an exception, partly because there is no good way to recover.","body":"Right.  The answer is indeterminate.  In point of fact, it is very, very uncommon for <code>close</code> to throw an exception, partly because there is no good way to recover."},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1690932530,"post_id":76815547,"comment_id":135421102,"body_markdown":"@eliott maybe thats why i ask: I have the notion that trying again does not help. \nBut how then to recover? \nMaybe I asked the wrong question: maybe the question is how to treat with exceptions in close().... I also think trying again is no option. So leave unclosed? Or is it closed already although something went wrong?","body":"@eliott maybe thats why i ask: I have the notion that trying again does not help.  But how then to recover?  Maybe I asked the wrong question: maybe the question is how to treat with exceptions in close().... I also think trying again is no option. So leave unclosed? Or is it closed already although something went wrong?"},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1690932588,"post_id":76815547,"comment_id":135421108,"body_markdown":"@Tom: I can imagine it is rare, but my question is quite general. \n\nI found that not all Streams may throw an IOException during close().","body":"@Tom: I can imagine it is rare, but my question is quite general.   I found that not all Streams may throw an IOException during close()."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690937665,"post_id":76815547,"comment_id":135421612,"body_markdown":"There&#39;s not much you can do to recover, but there are different ways to respond to it. If you&#39;re calling `close` after some other IO error, you might choose to ignore the failure entirely. If it&#39;s at the end of some successful operation, you might want to log the error and move on. If it happens in the middle of a multi-stage process, you might have to abort. It all varies by case.","body":"There&#39;s not much you can do to recover, but there are different ways to respond to it. If you&#39;re calling <code>close</code> after some other IO error, you might choose to ignore the failure entirely. If it&#39;s at the end of some successful operation, you might want to log the error and move on. If it happens in the middle of a multi-stage process, you might have to abort. It all varies by case."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690939655,"post_id":76816001,"comment_id":135421751,"body_markdown":"UPDATE: I have written a self-contained test case showing how ZipOutputStream doesn&#39;t close its underlying stream if an exception is thrown during flush, whereas BufferedOutputStream does, and filed a bug with this. Its internal ID is 9075756 - once (if?) the bug team confirms it I&#39;ll try and update this answer and include a link to it.","body":"UPDATE: I have written a self-contained test case showing how ZipOutputStream doesn&#39;t close its underlying stream if an exception is thrown during flush, whereas BufferedOutputStream does, and filed a bug with this. Its internal ID is 9075756 - once (if?) the bug team confirms it I&#39;ll try and update this answer and include a link to it."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690939775,"creation_date":1690937655,"answer_id":76816001,"question_id":76815547,"body_markdown":"The technically correct answer: __There is no way to tell__.\r\n\r\nThe useful, pragmatic answer: __Irrelevant__, _unless_ we are talking about badly written filter streams in which case: Very relevant - this is why you should safely invoke `close()` on the underlying stream. And, bad news.. `java.util.ZipOutputStream` is badly written.\r\n\r\nAn object that throws IOEx in its close method cannot be used for anything useful for all relevant implementations of such things. Which object representing some resource has useful things left to do when even `close()` no longer works? The only obvious answer is a do-it-all class that mixes multiple unrelated jobs into a single class, which, well, there is no fix for working with boneheaded code other than to cease its use.\r\n\r\nThat makes things a lot easier to reason about, as there are now only three options left:\r\n\r\n1. The resource does not _itself_ represent an actual resource that needs closing. It just has a `close()` method for inheritance reasons. An example of such a class is `ByteArrayInputStream`; its `close()` method does nothing relevant and it isn&#39;t a leak in any way if you fail to call this. It&#39;s just that, well, it&#39;s an `InputStream`, and all inputstreams are defined as being AutoClosable, therefore they can&#39;t not have a `close()` method. You can check the source: It does nothing.\r\n\r\n2. The resource directly represents a resource, i.e. a thing you got from the system from a limited pool, and failure to close it is a severe issue. Think &#39;file handle&#39; or &#39;open network port&#39;.\r\n\r\n3. The resource does not _itself_ represent an actual resource, but it _does_ wrap around one, i.e. it is a so-called filter stream (or filter reader / filter writer). As is common in all such filterstreams, calling `close()` on them also calls `close()` on the thing it wraps. There are _many_ such types: `BufferedInputStream`, `PrintWriter`, `Scanner` - just a handful of examples.\r\n\r\nTaking them in order:\r\n\r\n## 1. Non-resources\r\n\r\nIt doesn&#39;t matter. Nothing is lost if you fail to close these in the first place. Half of these don&#39;t even _have_ a &#39;closed&#39; status (such as `ByteArrayInputStream`). The rest have it only as a &#39;flag&#39; that means: If any code attempts to read/write to this, throw something.\r\n\r\n## 2. real resources\r\n\r\nThis one seems complex but is also easy: You called `close()`. This fails. That means the OS-level resource (the open network port, or the file handle) __is already gone__. There is no need to worry about it. Given that `close()` is an abstract concept (it &#39;closes the resource&#39; and the specs are non-specific as to what that means _exactly_) it is theoretically possibly for an OS-level-resource-representing-object to start throwing in its `close()` method without actually closing the resource, but I doubt any exist in the JVM. Even if so, there&#39;s nothing you can do about it other than call `System.exit();`. It, again, doesn&#39;t matter.\r\n\r\n## 3. Filter resources\r\n\r\nThis is the trickiest case, and the only one where you may actually have to act.\r\n\r\nIn researching this answer, __I found a bug in the OpenJDK__ - while only badly written filter resources are an actual problem, OpenJDK&#39;s very own `ZipOutputStream` is one of those badly written ones!\r\n\r\n----\r\n\r\n\r\nFilter resource `close()` methods generally first `flush()` (i.e. clean up and push anything it buffered down to the underlying stream), and then call `close()` on the underlying stream. It is possible that the flush procedure itself causes an exception. I checked BufferedReader and Scanner: __They do not suffer from this issue__. They attempt to flush, and will then close the underlying resource whether the flushing worked out or not (it wraps its own underlying stream in a try-with-resources block). __However, `ZipOutputStream` does! Its `close()` method closes the currently witten zip entry, then closes the zip file which writes the content metadata, and then `close()`s the underlying stream__ - and none of it guarded with try-with or any other `finally` usage.\r\n\r\nThe spec is not all that specific that you _have_ to do it this way. And obviously the compiler cannot compile-time-enforce that filter resources work this way. Hence, I rate the odds that anything is going to happen when I report what is clearly a bug to the OpenJDK team as low. They tend to thump the specs and not think much more about things, in my experience. EDIT-UPDATE: I filed a bug report with ID 9075756; we&#39;ll see if it is accepted.\r\n\r\nThe problem in such a case is that if the cleanup process (such as writing the zip content metadata) causes an exception, `close()` is never invoked on the underlying stream.\r\n\r\nHowever, this is relevant only if you use a certain style which isn&#39;t common, and which actively causes many linter tools to complain. I would argue that these linters are broken and shouldn&#39;t be complaining, though.\r\n\r\n## The common style (not broken)\r\n\r\nLooks like:\r\n\r\n```\r\ntry (\r\n  var rawOut = Files.newOutputStream(somePath);\r\n  var zipOut = new ZipOutputStream(rawIn);\r\n) {\r\n  code here\r\n}\r\n```\r\n\r\nIf that&#39;s what you do (and this is the common style), then the issue about badly written filter streams (such `ZipOutputStream` here) isn&#39;t relevant: The try-with statement will end up invoking `zipOut.close()` when code exits the block, and _even if that ends up throwing_, it will then proceed to invoke `rawOut.close()` too. Your file handle is released.\r\n\r\n## The uncommon style (BROKEN!)\r\n\r\nLooks like:\r\n\r\n```\r\ntry (\r\n  var zipOut = new ZipOutputStream(Files.newOutputStream(somePath))) {\r\n  code here\r\n}\r\n```\r\n\r\nLots of tutorials tend to use this style. It works fine, __if__ the filter streams do their job right. This &#39;job&#39; entails:\r\n\r\n* Do not, under any circumstances, throw an exception inside your constructor. Just copy stuff to local fields. Only exception (heh) is throwing an NPE if _every_ stream passed to it is `null`, i.e. `new ZipOutputStream(null)` can throw an NPE without breaking this rule.\r\n* In your `close()` method, run `close()` on the underlying stream safely, e.g. with `try (OutputStream o = rawOut) { flush(); }` which is what `BufferedOutputStream` does.\r\n\r\nMany baked in filterstreams do this. Unfortunately, `ZipOutputStream` does not. If a filter stream adheres to this rule this snippet is just as safe and easier to read, with fewer tainted variables (no need to discuss the proper names of each &#39;level&#39; of stream, you can just call this `out`. In contrast, the first snippet risks accidentally writing to `rawOut` which would result in a completely broken method).\r\n\r\nMany linter tools flag this code as invalid, though. Perhaps that explains why this style is not all that common.\r\n\r\nI tend to advocate the second snippet. I shall cease doing this, given ZipOutputStream&#39;s errors.\r\n","title":"If an IOException occurs while invoking close(): is the stream closed anyway?","body":"<p>The technically correct answer: <strong>There is no way to tell</strong>.</p>\n<p>The useful, pragmatic answer: <strong>Irrelevant</strong>, <em>unless</em> we are talking about badly written filter streams in which case: Very relevant - this is why you should safely invoke <code>close()</code> on the underlying stream. And, bad news.. <code>java.util.ZipOutputStream</code> is badly written.</p>\n<p>An object that throws IOEx in its close method cannot be used for anything useful for all relevant implementations of such things. Which object representing some resource has useful things left to do when even <code>close()</code> no longer works? The only obvious answer is a do-it-all class that mixes multiple unrelated jobs into a single class, which, well, there is no fix for working with boneheaded code other than to cease its use.</p>\n<p>That makes things a lot easier to reason about, as there are now only three options left:</p>\n<ol>\n<li><p>The resource does not <em>itself</em> represent an actual resource that needs closing. It just has a <code>close()</code> method for inheritance reasons. An example of such a class is <code>ByteArrayInputStream</code>; its <code>close()</code> method does nothing relevant and it isn't a leak in any way if you fail to call this. It's just that, well, it's an <code>InputStream</code>, and all inputstreams are defined as being AutoClosable, therefore they can't not have a <code>close()</code> method. You can check the source: It does nothing.</p>\n</li>\n<li><p>The resource directly represents a resource, i.e. a thing you got from the system from a limited pool, and failure to close it is a severe issue. Think 'file handle' or 'open network port'.</p>\n</li>\n<li><p>The resource does not <em>itself</em> represent an actual resource, but it <em>does</em> wrap around one, i.e. it is a so-called filter stream (or filter reader / filter writer). As is common in all such filterstreams, calling <code>close()</code> on them also calls <code>close()</code> on the thing it wraps. There are <em>many</em> such types: <code>BufferedInputStream</code>, <code>PrintWriter</code>, <code>Scanner</code> - just a handful of examples.</p>\n</li>\n</ol>\n<p>Taking them in order:</p>\n<h2>1. Non-resources</h2>\n<p>It doesn't matter. Nothing is lost if you fail to close these in the first place. Half of these don't even <em>have</em> a 'closed' status (such as <code>ByteArrayInputStream</code>). The rest have it only as a 'flag' that means: If any code attempts to read/write to this, throw something.</p>\n<h2>2. real resources</h2>\n<p>This one seems complex but is also easy: You called <code>close()</code>. This fails. That means the OS-level resource (the open network port, or the file handle) <strong>is already gone</strong>. There is no need to worry about it. Given that <code>close()</code> is an abstract concept (it 'closes the resource' and the specs are non-specific as to what that means <em>exactly</em>) it is theoretically possibly for an OS-level-resource-representing-object to start throwing in its <code>close()</code> method without actually closing the resource, but I doubt any exist in the JVM. Even if so, there's nothing you can do about it other than call <code>System.exit();</code>. It, again, doesn't matter.</p>\n<h2>3. Filter resources</h2>\n<p>This is the trickiest case, and the only one where you may actually have to act.</p>\n<p>In researching this answer, <strong>I found a bug in the OpenJDK</strong> - while only badly written filter resources are an actual problem, OpenJDK's very own <code>ZipOutputStream</code> is one of those badly written ones!</p>\n<hr />\n<p>Filter resource <code>close()</code> methods generally first <code>flush()</code> (i.e. clean up and push anything it buffered down to the underlying stream), and then call <code>close()</code> on the underlying stream. It is possible that the flush procedure itself causes an exception. I checked BufferedReader and Scanner: <strong>They do not suffer from this issue</strong>. They attempt to flush, and will then close the underlying resource whether the flushing worked out or not (it wraps its own underlying stream in a try-with-resources block). <strong>However, <code>ZipOutputStream</code> does! Its <code>close()</code> method closes the currently witten zip entry, then closes the zip file which writes the content metadata, and then <code>close()</code>s the underlying stream</strong> - and none of it guarded with try-with or any other <code>finally</code> usage.</p>\n<p>The spec is not all that specific that you <em>have</em> to do it this way. And obviously the compiler cannot compile-time-enforce that filter resources work this way. Hence, I rate the odds that anything is going to happen when I report what is clearly a bug to the OpenJDK team as low. They tend to thump the specs and not think much more about things, in my experience. EDIT-UPDATE: I filed a bug report with ID 9075756; we'll see if it is accepted.</p>\n<p>The problem in such a case is that if the cleanup process (such as writing the zip content metadata) causes an exception, <code>close()</code> is never invoked on the underlying stream.</p>\n<p>However, this is relevant only if you use a certain style which isn't common, and which actively causes many linter tools to complain. I would argue that these linters are broken and shouldn't be complaining, though.</p>\n<h2>The common style (not broken)</h2>\n<p>Looks like:</p>\n<pre><code>try (\n  var rawOut = Files.newOutputStream(somePath);\n  var zipOut = new ZipOutputStream(rawIn);\n) {\n  code here\n}\n</code></pre>\n<p>If that's what you do (and this is the common style), then the issue about badly written filter streams (such <code>ZipOutputStream</code> here) isn't relevant: The try-with statement will end up invoking <code>zipOut.close()</code> when code exits the block, and <em>even if that ends up throwing</em>, it will then proceed to invoke <code>rawOut.close()</code> too. Your file handle is released.</p>\n<h2>The uncommon style (BROKEN!)</h2>\n<p>Looks like:</p>\n<pre><code>try (\n  var zipOut = new ZipOutputStream(Files.newOutputStream(somePath))) {\n  code here\n}\n</code></pre>\n<p>Lots of tutorials tend to use this style. It works fine, <strong>if</strong> the filter streams do their job right. This 'job' entails:</p>\n<ul>\n<li>Do not, under any circumstances, throw an exception inside your constructor. Just copy stuff to local fields. Only exception (heh) is throwing an NPE if <em>every</em> stream passed to it is <code>null</code>, i.e. <code>new ZipOutputStream(null)</code> can throw an NPE without breaking this rule.</li>\n<li>In your <code>close()</code> method, run <code>close()</code> on the underlying stream safely, e.g. with <code>try (OutputStream o = rawOut) { flush(); }</code> which is what <code>BufferedOutputStream</code> does.</li>\n</ul>\n<p>Many baked in filterstreams do this. Unfortunately, <code>ZipOutputStream</code> does not. If a filter stream adheres to this rule this snippet is just as safe and easier to read, with fewer tainted variables (no need to discuss the proper names of each 'level' of stream, you can just call this <code>out</code>. In contrast, the first snippet risks accidentally writing to <code>rawOut</code> which would result in a completely broken method).</p>\n<p>Many linter tools flag this code as invalid, though. Perhaps that explains why this style is not all that common.</p>\n<p>I tend to advocate the second snippet. I shall cease doing this, given ZipOutputStream's errors.</p>\n"}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690958973,"creation_date":1690928883,"question_id":76815547,"body_markdown":"In Java if I close a steam with close() and an exception occurs, is it closed as if no exception occurred? Or is it opens still? \r\n\r\n","title":"If an IOException occurs while invoking close(): is the stream closed anyway?","body":"<p>In Java if I close a steam with close() and an exception occurs, is it closed as if no exception occurred? Or is it opens still?</p>\n"},{"tags":["java","swing","overlay"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1690820024,"post_id":76804735,"comment_id":135402924,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1690834487,"post_id":76804735,"comment_id":135405574,"body_markdown":"I&#39;m not understanding your requirement so I can&#39;t make a suggestion. I have no idea how the height of panel3 (background panel) is determined or how the heights of panels 1/2 are determined. How can they be the same proportion and arbitrarily decided?","body":"I&#39;m not understanding your requirement so I can&#39;t make a suggestion. I have no idea how the height of panel3 (background panel) is determined or how the heights of panels 1/2 are determined. How can they be the same proportion and arbitrarily decided?"}],"answers":[{"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":1,"creation_date":1690965452,"post_id":76817254,"comment_id":135424915,"body_markdown":"They are stating &quot;*Comp 3 spans the height of 1 and 2. So, I imagine I will have to use overlay layout to position comp 3 behind 1 and 2.*&quot; which suggests that they need the yellow panel to occupy the space under the red and blue components too. Maybe you could use a `JLayeredPane` with `GridBagLayout` for your `container` instead of `JPanel` to achieve this. Or maybe use `OverlayLayout` indeed.","body":"They are stating &quot;<i>Comp 3 spans the height of 1 and 2. So, I imagine I will have to use overlay layout to position comp 3 behind 1 and 2.</i>&quot; which suggests that they need the yellow panel to occupy the space under the red and blue components too. Maybe you could use a <code>JLayeredPane</code> with <code>GridBagLayout</code> for your <code>container</code> instead of <code>JPanel</code> to achieve this. Or maybe use <code>OverlayLayout</code> indeed."},{"owner":{"account_id":16410233,"reputation":159,"user_id":13069553,"display_name":"Wassim Tahraoui"},"score":0,"creation_date":1690986995,"post_id":76817254,"comment_id":135429872,"body_markdown":"i actually think they meant that it is equal to the space taken by 1 and 2. but not literally in the same space, as in the area of 3 is the sum of the areas of 1 and 2, because his screenshot doesn&#39;t show 3 containing 1 and 2 but as a third separate component","body":"i actually think they meant that it is equal to the space taken by 1 and 2. but not literally in the same space, as in the area of 3 is the sum of the areas of 1 and 2, because his screenshot doesn&#39;t show 3 containing 1 and 2 but as a third separate component"}],"tags":[],"owner":{"account_id":16410233,"reputation":159,"user_id":13069553,"display_name":"Wassim Tahraoui"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690958892,"creation_date":1690958892,"answer_id":76817254,"question_id":76804735,"body_markdown":"You can use a combination of one or multiple `GridBagLayout` layout managers.&lt;br&gt;`GridBagLayout` allows you to place your elements in a grid-like manner by specifiying the proportions and positioning using the class `GridBagConstraints`.\r\n```java\r\npublic void setupLayout() {\r\n    JPanel container = new JPanel(); // the main holder of the elements\r\n    // The numbered panels according to your screenshot\r\n    JPanel panel1 = new JPanel(), panel2 = new JPanel(),\r\n            panel3 = new JPanel(), panel4 = new JPanel();\r\n\tpanel1.setBackground(Color.RED); // giving them colors for better visualization\r\n\tpanel2.setBackground(Color.BLUE);\r\n\tpanel3.setBackground(Color.YELLOW);\r\n\tpanel4.setBackground(Color.GREEN);\r\n\r\n    container.setLayout(new GridBagLayout());\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    gbc.anchor = GridBagConstraints.CENTER;\r\n\tgbc.fill = GridBagConstraints.BOTH;\r\n    gbc.gridwidth = gbc.gridheight = 1;\r\n\tgbc.weightx = 1;\r\n\tgbc.gridx = 0; gbc.gridy = 0; gbc.weighty = 0.2;\r\n\tpanel.add(panel1,gbc);\r\n\r\n\tgbc.gridy = 1; gbc.weighty = 0.3;\r\n\tpanel.add(panel2,gbc);\r\n\r\n\tgbc.gridy = 2; gbc.weighty = 0.5;\r\n\tpanel.add(panel3,gbc);\r\n\r\n\tgbc.gridx = 1; gbc.gridy = 0; gbc.gridheight = 3;\r\n\tpanel.add(panel4,gbc);\r\n\r\n    // Code to place your container in a frame or whatever usage you have for it...\r\n}\r\n```\r\nThe properties `gridx` and `gridy` specify the position you are on the grid.&lt;br&gt;`weightx` and `weighty` specify how much space (on a 0 to 1 proportion) they take up.\r\n&lt;br&gt;Unlike `gridwidth` and `gridheight` they specify how much does a cell take up relative to other cells so a cell will take up a space equal to the space that `gridheight` cells take up vetically or `gridwidth` cells take up horizontally.&lt;br&gt;So, to be explained in action, since `panel1` is set to `weighty = 0.2`, `panel2` is set to `weighty = 0.3` and `panel3` is set to `weighty = 0.5` we&#39;re saying that whatever cell is on the first row, will always take `0.2` of the vertical space, second row `0.3` of vertical space and third row half (`0.5`) the vertical space, therefore `panel4` will take up the same space as how many cells heights sum up to the prior, if `panel4` was set to `gridheight = 2`, it will take as much space as two rows take up, since in this example it&#39;s placed on the first row, it will take up therefore a space equivalent to that of the first and second rows, which is half the vertical space (`0.2 + 0.3`), but since we set it to `3` which is also the maximum number of rows in this example, it will take up all of the vertical space.&lt;br&gt;Mixing up `gridwidth`/`gridheight` and `weightx`/`weighty` is commmon therefore you have to be aware of the difference.&lt;br&gt;Note that using the `gridwidth`/`gridheight`/`weightx`/`weighty` will only &quot;reserve&quot; the space you&#39;re specifying, and the elements will be placed inside that spaced anchored to the side specified in the `anchor` property.\r\n&lt;br&gt;In order to make the elements scale up to their reserved space we set `gbc.fill = GridBagConstraints.BOTH` where `BOTH` stands for filling up the space *both* horizontally and vertically (the other three choices being, clearly, `GridBagConstraints.HORIZONTAL`, `GridBagConstraints.VERTICAL` and `GridBagConstraints.NONE` which is the default value that represents no filling at all. \r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/6rgkH.png","title":"Java Swing Component","body":"<p>You can use a combination of one or multiple <code>GridBagLayout</code> layout managers.<br><code>GridBagLayout</code> allows you to place your elements in a grid-like manner by specifiying the proportions and positioning using the class <code>GridBagConstraints</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setupLayout() {\n    JPanel container = new JPanel(); // the main holder of the elements\n    // The numbered panels according to your screenshot\n    JPanel panel1 = new JPanel(), panel2 = new JPanel(),\n            panel3 = new JPanel(), panel4 = new JPanel();\n    panel1.setBackground(Color.RED); // giving them colors for better visualization\n    panel2.setBackground(Color.BLUE);\n    panel3.setBackground(Color.YELLOW);\n    panel4.setBackground(Color.GREEN);\n\n    container.setLayout(new GridBagLayout());\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.anchor = GridBagConstraints.CENTER;\n    gbc.fill = GridBagConstraints.BOTH;\n    gbc.gridwidth = gbc.gridheight = 1;\n    gbc.weightx = 1;\n    gbc.gridx = 0; gbc.gridy = 0; gbc.weighty = 0.2;\n    panel.add(panel1,gbc);\n\n    gbc.gridy = 1; gbc.weighty = 0.3;\n    panel.add(panel2,gbc);\n\n    gbc.gridy = 2; gbc.weighty = 0.5;\n    panel.add(panel3,gbc);\n\n    gbc.gridx = 1; gbc.gridy = 0; gbc.gridheight = 3;\n    panel.add(panel4,gbc);\n\n    // Code to place your container in a frame or whatever usage you have for it...\n}\n</code></pre>\n<p>The properties <code>gridx</code> and <code>gridy</code> specify the position you are on the grid.<br><code>weightx</code> and <code>weighty</code> specify how much space (on a 0 to 1 proportion) they take up.\n<br>Unlike <code>gridwidth</code> and <code>gridheight</code> they specify how much does a cell take up relative to other cells so a cell will take up a space equal to the space that <code>gridheight</code> cells take up vetically or <code>gridwidth</code> cells take up horizontally.<br>So, to be explained in action, since <code>panel1</code> is set to <code>weighty = 0.2</code>, <code>panel2</code> is set to <code>weighty = 0.3</code> and <code>panel3</code> is set to <code>weighty = 0.5</code> we're saying that whatever cell is on the first row, will always take <code>0.2</code> of the vertical space, second row <code>0.3</code> of vertical space and third row half (<code>0.5</code>) the vertical space, therefore <code>panel4</code> will take up the same space as how many cells heights sum up to the prior, if <code>panel4</code> was set to <code>gridheight = 2</code>, it will take as much space as two rows take up, since in this example it's placed on the first row, it will take up therefore a space equivalent to that of the first and second rows, which is half the vertical space (<code>0.2 + 0.3</code>), but since we set it to <code>3</code> which is also the maximum number of rows in this example, it will take up all of the vertical space.<br>Mixing up <code>gridwidth</code>/<code>gridheight</code> and <code>weightx</code>/<code>weighty</code> is commmon therefore you have to be aware of the difference.<br>Note that using the <code>gridwidth</code>/<code>gridheight</code>/<code>weightx</code>/<code>weighty</code> will only &quot;reserve&quot; the space you're specifying, and the elements will be placed inside that spaced anchored to the side specified in the <code>anchor</code> property.\n<br>In order to make the elements scale up to their reserved space we set <code>gbc.fill = GridBagConstraints.BOTH</code> where <code>BOTH</code> stands for filling up the space <em>both</em> horizontally and vertically (the other three choices being, clearly, <code>GridBagConstraints.HORIZONTAL</code>, <code>GridBagConstraints.VERTICAL</code> and <code>GridBagConstraints.NONE</code> which is the default value that represents no filling at all.\n<a href=\"https://i.stack.imgur.com/6rgkH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rgkH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18269628,"reputation":73,"user_id":13300645,"display_name":"Asjal Ahmad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690958892,"creation_date":1690814708,"question_id":76804735,"body_markdown":"I am quite new to Java Swing and layouts. I want to create a component like this:\r\n[![enter image description here][1]][1]\r\n\r\nComp 3 spans the height of 1 and 2. So, I imagine I will have to use overlay layout to position comp 3 behind 1 and 2. I want them to resize in these same proportions (they can be arbitrarily decided). How can I achieve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wUb0v.png","title":"Java Swing Component","body":"<p>I am quite new to Java Swing and layouts. I want to create a component like this:\n<a href=\"https://i.stack.imgur.com/wUb0v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUb0v.png\" alt=\"enter image description here\" /></a></p>\n<p>Comp 3 spans the height of 1 and 2. So, I imagine I will have to use overlay layout to position comp 3 behind 1 and 2. I want them to resize in these same proportions (they can be arbitrarily decided). How can I achieve this?</p>\n"},{"tags":["java","conventions"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1358692969,"post_id":14425587,"comment_id":20080188,"body_markdown":"The structure you showed above is very common. But as always coding conventions are a matter of the development team or the company you work at.","body":"The structure you showed above is very common. But as always coding conventions are a matter of the development team or the company you work at."}],"answers":[{"comments":[{"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"score":0,"creation_date":1358696201,"post_id":14425705,"comment_id":20081058,"body_markdown":"Why was this downvoted? Oracle&#39;s convention is no more authoritative than any other one, only the Java Language Specification is authoritative, and the team/project local convention is the one and the **only** one that one should follow.","body":"Why was this downvoted? Oracle&#39;s convention is no more authoritative than any other one, only the Java Language Specification is authoritative, and the team/project local convention is the one and the <b>only</b> one that one should follow."},{"owner":{"account_id":67756,"reputation":5083,"user_id":198087,"accept_rate":70,"display_name":"Archer"},"score":0,"creation_date":1358696375,"post_id":14425705,"comment_id":20081106,"body_markdown":"I would also like to put your comment when you&#39;re downvoting me","body":"I would also like to put your comment when you&#39;re downvoting me"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1358696554,"post_id":14425705,"comment_id":20081156,"body_markdown":"Not my downvote, but: There are conventions. You may not agree with them, they may not even agree with each other, but they exist, and the OP is asking for them (&quot;I expect sources&quot;).","body":"Not my downvote, but: There are conventions. You may not agree with them, they may not even agree with each other, but they exist, and the OP is asking for them (&quot;I expect sources&quot;)."},{"owner":{"account_id":67756,"reputation":5083,"user_id":198087,"accept_rate":70,"display_name":"Archer"},"score":1,"creation_date":1358696721,"post_id":14425705,"comment_id":20081208,"body_markdown":"Ok, when I said there are no convention I meant there&#39;s no `the only` convention. I&#39;ve fixed my answer.","body":"Ok, when I said there are no convention I meant there&#39;s no <code>the only</code> convention. I&#39;ve fixed my answer."}],"tags":[],"owner":{"account_id":67756,"reputation":5083,"user_id":198087,"accept_rate":70,"display_name":"Archer"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1690958892,"creation_date":1358693572,"answer_id":14425705,"question_id":14425587,"body_markdown":"There is no `the only` convention how to organize your class sources. \r\n\r\nThe structure you listed is very common - attributes first, then constructors and then methods. However, some teams like to keep attributes in the tail of the class, some teams are mixing field definition with its setters and getters. \r\n\r\nTeam should agree internally on some convention to keep all its sources looking similarly.  ","title":"Does a convention about the structure of a class exist?","body":"<p>There is no <code>the only</code> convention how to organize your class sources.</p>\n<p>The structure you listed is very common - attributes first, then constructors and then methods. However, some teams like to keep attributes in the tail of the class, some teams are mixing field definition with its setters and getters.</p>\n<p>Team should agree internally on some convention to keep all its sources looking similarly.</p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1358693925,"creation_date":1358693925,"answer_id":14425768,"question_id":14425587,"body_markdown":"I can&#39;t back this up but I believe that declaring the member variable in the beggining of a class followed by constructors is the only &quot;convention&quot; applicable to all languages. I use quotes because it is done naturally as if it is the only logical way to place them in the object definition (unlike otherthings e.g. C++ style brackets etc)","title":"Does a convention about the structure of a class exist?","body":"<p>I can't back this up but I believe that declaring the member variable in the beggining of a class followed by constructors is the only \"convention\" applicable to all languages. I use quotes because it is done naturally as if it is the only logical way to place them in the object definition (unlike otherthings e.g. C++ style brackets etc)</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1358696825,"creation_date":1358695812,"answer_id":14426061,"question_id":14425587,"body_markdown":"You should read more carefully: The Oracle Coding conventions you linked to write in section 3.1.3:\r\n\r\n&gt; The following table describes the parts of a class or interface declaration, in the order that they\r\nshould appear. See “Java Source File Example” on page 19 for an example that includes\r\ncomments.\r\n\r\n\r\n&gt; 1. **Class/interface documentation comment `(/**...*/)`**\r\n\r\n&gt;     See “Documentation Comments” on page 9 for\r\n&gt;    information on what should be in this comment.\r\n\r\n&gt; 2.  **class or interface statement**\r\n\r\n&gt; 3.  **Class/interface implementation comment `(/*...*/)`, if necessary**\r\n\r\n&gt;   This comment should contain any class-wide or interface-wide information that wasn’t appropriate for the class/interface documentation comment.\r\n\r\n&gt; 4. **Class (static) variables** \r\n\r\n&gt;   First the public class variables, then the protected, and then the private.\r\n\r\n&gt; 5. **Instance variables**\r\n\r\n&gt;   First public, then protected, and then private.\r\n\r\n&gt; 6. **Constructors**\r\n\r\n&gt; 7. **Methods** \r\n\r\n&gt;   These methods should be grouped by functionality rather than by scope or accessibility. For example, a private class method can be in between two public instance methods. The goal is to make reading and understanding the code easier.\r\n\r\nThat said, this convention is quite dated, and the fine print usually not followed. For instance, it seems weird to order fields by accessiblity, but methods by functionality. Indeed, I rarely see fields ordered by accessiblity in professional code. The ordering of the bullet points is adhered to quite universally in professional code, though.","title":"Does a convention about the structure of a class exist?","body":"<p>You should read more carefully: The Oracle Coding conventions you linked to write in section 3.1.3:</p>\n\n<blockquote>\n  <p>The following table describes the parts of a class or interface declaration, in the order that they\n  should appear. See “Java Source File Example” on page 19 for an example that includes\n  comments.</p>\n  \n  <ol>\n  <li><p><strong>Class/interface documentation comment <code>(/**...*/)</code></strong></p>\n  \n  <p>See “Documentation Comments” on page 9 for\n  information on what should be in this comment.</p></li>\n  <li><p><strong>class or interface statement</strong></p></li>\n  <li><p><strong>Class/interface implementation comment <code>(/*...*/)</code>, if necessary</strong></p>\n  \n  <p>This comment should contain any class-wide or interface-wide information that wasn’t appropriate for the class/interface documentation comment.</p></li>\n  <li><p><strong>Class (static) variables</strong> </p>\n  \n  <p>First the public class variables, then the protected, and then the private.</p></li>\n  <li><p><strong>Instance variables</strong></p>\n  \n  <p>First public, then protected, and then private.</p></li>\n  <li><p><strong>Constructors</strong></p></li>\n  <li><p><strong>Methods</strong> </p>\n  \n  <p>These methods should be grouped by functionality rather than by scope or accessibility. For example, a private class method can be in between two public instance methods. The goal is to make reading and understanding the code easier.</p></li>\n  </ol>\n</blockquote>\n\n<p>That said, this convention is quite dated, and the fine print usually not followed. For instance, it seems weird to order fields by accessiblity, but methods by functionality. Indeed, I rarely see fields ordered by accessiblity in professional code. The ordering of the bullet points is adhered to quite universally in professional code, though.</p>\n"},{"comments":[{"owner":{"account_id":271958,"reputation":127857,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"score":0,"creation_date":1358702577,"post_id":14426136,"comment_id":20082957,"body_markdown":"I think the Oracle Coding conventions are a good source for widely spread coding convetions. And I don&#39;t think that language specification is related to coding convetions in any other way that all coding convetions have to operate in the field that is allowed by the language specification. The language specification says what&#39;s valid code, the convetions say whats good code.","body":"I think the Oracle Coding conventions are a good source for widely spread coding convetions. And I don&#39;t think that language specification is related to coding convetions in any other way that all coding convetions have to operate in the field that is allowed by the language specification. The language specification says what&#39;s valid code, the convetions say whats good code."},{"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"score":0,"creation_date":1358705132,"post_id":14426136,"comment_id":20083640,"body_markdown":"Being widely spread and, by the way, conventions does not make them widely spread conventions, because most projects don&#39;t reject your contributions for the mere fact that you violate them. I recognize that they&#39;re good coding practices, but I fail to see how something that is not imposed can be called a coding convention of that project...","body":"Being widely spread and, by the way, conventions does not make them widely spread conventions, because most projects don&#39;t reject your contributions for the mere fact that you violate them. I recognize that they&#39;re good coding practices, but I fail to see how something that is not imposed can be called a coding convention of that project..."}],"tags":[],"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358696440,"creation_date":1358696440,"answer_id":14426136,"question_id":14425587,"body_markdown":"As with every language, there&#39;s no authoritative source other than the language specification (if it exists), and the team or project local conventions. The Java Language Specification does not impose a specific ordering of the members.","title":"Does a convention about the structure of a class exist?","body":"<p>As with every language, there's no authoritative source other than the language specification (if it exists), and the team or project local conventions. The Java Language Specification does not impose a specific ordering of the members.</p>\n"},{"tags":[],"owner":{"account_id":208389,"reputation":2418,"user_id":458832,"display_name":"Arnost Valicek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358697789,"creation_date":1358697789,"answer_id":14426323,"question_id":14425587,"body_markdown":"You could use tool like Checkstyle (http://checkstyle.sourceforge.net/). \r\n\r\nIt contains some checks for class structure (for example order of modifiers http://checkstyle.sourceforge.net/config_modifier.html, naming conventions http://checkstyle.sourceforge.net/config_naming.html, etc).\r\n\r\nThis is not the nicest way how to present coding conventions. But the practical advantage is that Checkstyle can be be used directly in your IDE or automated builds so your students can see them applied directly to their code.","title":"Does a convention about the structure of a class exist?","body":"<p>You could use tool like Checkstyle (http://checkstyle.sourceforge.net/). </p>\n\n<p>It contains some checks for class structure (for example order of modifiers <a href=\"http://checkstyle.sourceforge.net/config_modifier.html\" rel=\"nofollow\">http://checkstyle.sourceforge.net/config_modifier.html</a>, naming conventions <a href=\"http://checkstyle.sourceforge.net/config_naming.html\" rel=\"nofollow\">http://checkstyle.sourceforge.net/config_naming.html</a>, etc).</p>\n\n<p>This is not the nicest way how to present coding conventions. But the practical advantage is that Checkstyle can be be used directly in your IDE or automated builds so your students can see them applied directly to their code.</p>\n"}],"owner":{"account_id":271958,"reputation":127857,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1358705287,"accepted_answer_id":14426061,"answer_count":5,"score":2,"last_activity_date":1690958892,"creation_date":1358692863,"question_id":14425587,"body_markdown":"When I write a class in Java, it (almost) always looks like this:\r\n\r\n    public class MyClass {\r\n\r\n        // attributes\r\n\r\n        // constructors\r\n\r\n        // methods:\r\n        //   * &quot;interesting&quot; methods\r\n        //   * getters and setters\r\n        //   * toString / equals / hashCode\r\n    }\r\n\r\nEspecially, I always write all attributes at the beginning. \r\n\r\nIs there a convention how to structure classes in Java? \r\n\r\nI couldn&#39;t find it in the [Oracle Code Conventions][1]. I am interested in sources (e.g. other style guides like [Mozilla Coding Style][2] or books), because I am a Java tutor and I would like to give my students more than &quot;I have learned it that way so you should also do it like this&quot;. And if there are reasons / sources that propose other structures within a class, I&#39;d also be happy to know that.\r\n\r\nedit: Although I am interested in your thoughts, I think I should stress that **I expect sources**. Personal experience is interesting, but I also made the experience that the structure above is common. But I want to give my students something more than the vague impression, that everybody seems to use this structure. Especially, as some of them don&#39;t use it.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\r\n  [2]: https://developer.mozilla.org/en-US/docs/Developer_Guide/Coding_Style","title":"Does a convention about the structure of a class exist?","body":"<p>When I write a class in Java, it (almost) always looks like this:</p>\n\n<pre><code>public class MyClass {\n\n    // attributes\n\n    // constructors\n\n    // methods:\n    //   * \"interesting\" methods\n    //   * getters and setters\n    //   * toString / equals / hashCode\n}\n</code></pre>\n\n<p>Especially, I always write all attributes at the beginning. </p>\n\n<p>Is there a convention how to structure classes in Java? </p>\n\n<p>I couldn't find it in the <a href=\"http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">Oracle Code Conventions</a>. I am interested in sources (e.g. other style guides like <a href=\"https://developer.mozilla.org/en-US/docs/Developer_Guide/Coding_Style\" rel=\"nofollow noreferrer\">Mozilla Coding Style</a> or books), because I am a Java tutor and I would like to give my students more than \"I have learned it that way so you should also do it like this\". And if there are reasons / sources that propose other structures within a class, I'd also be happy to know that.</p>\n\n<p>edit: Although I am interested in your thoughts, I think I should stress that <strong>I expect sources</strong>. Personal experience is interesting, but I also made the experience that the structure above is common. But I want to give my students something more than the vague impression, that everybody seems to use this structure. Especially, as some of them don't use it.</p>\n"},{"tags":["java","compiler-construction","javac","bytecode"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1385986483,"post_id":20265996,"comment_id":30337672,"body_markdown":"Ingos answer is correct. I want to add that I do not think that the comment concerning HotSpot and the compiler meant what you describe. The commentator wanted to express that it is *javac* who adds the `StringBuilder` to the byte code while the HotSpot run time only interprets/compiles this byte code. The byte code created by *javac* changed quite a lot over the years and new optimizations were applied from version to version. Also, new byte code instructions were added to the JVMS such that new optimizations could be applied. Even different versions of *javac* produce different byte code.","body":"Ingos answer is correct. I want to add that I do not think that the comment concerning HotSpot and the compiler meant what you describe. The commentator wanted to express that it is <i>javac</i> who adds the <code>StringBuilder</code> to the byte code while the HotSpot run time only interprets/compiles this byte code. The byte code created by <i>javac</i> changed quite a lot over the years and new optimizations were applied from version to version. Also, new byte code instructions were added to the JVMS such that new optimizations could be applied. Even different versions of <i>javac</i> produce different byte code."}],"answers":[{"comments":[{"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"score":0,"creation_date":1385642911,"post_id":20266142,"comment_id":30231664,"body_markdown":"Concerning your answer to question #1, I can gather from it that it is an intentional feature of the JLS and not due to, say laziness, _right?_","body":"Concerning your answer to question #1, I can gather from it that it is an intentional feature of the JLS and not due to, say laziness, <i>right?</i>"},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1385643146,"post_id":20266142,"comment_id":30231770,"body_markdown":"@Yaneeve Indeed. It is the same thing with all languages that I know of. The Language specification writers take care not to prescribe implementation details. Why should they? In this context, it is interesting to note that the JVM is **not** part of the JLS, but has its own specification.","body":"@Yaneeve Indeed. It is the same thing with all languages that I know of. The Language specification writers take care not to prescribe implementation details. Why should they? In this context, it is interesting to note that the JVM is <b>not</b> part of the JLS, but has its own specification."}],"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690958880,"creation_date":1385641421,"answer_id":20266142,"question_id":20265996,"body_markdown":"There are 2 questions:\r\n\r\n1. Are different java compilers free to generate different bytecode for the same source code?\r\n2. Do they actually produce different bytecode for the same source.\r\n\r\nThe answer to 1 is yes, obviously. For, otherwise, the JLS had to fully specify the bytecode to generate for each and every language construct. But it doesn&#39;t.\r\n\r\nThe answer to 2 I don&#39;t know for sure, though I have heard that eclipse compiler generates slightly different code than javac in some cases. Should be easy to verify.","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p>There are 2 questions:</p>\n<ol>\n<li>Are different java compilers free to generate different bytecode for the same source code?</li>\n<li>Do they actually produce different bytecode for the same source.</li>\n</ol>\n<p>The answer to 1 is yes, obviously. For, otherwise, the JLS had to fully specify the bytecode to generate for each and every language construct. But it doesn't.</p>\n<p>The answer to 2 I don't know for sure, though I have heard that eclipse compiler generates slightly different code than javac in some cases. Should be easy to verify.</p>\n"},{"comments":[{"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"score":0,"creation_date":1385642559,"post_id":20266196,"comment_id":30231436,"body_markdown":"If I had mixed up the names (though I don&#39;t think so...) - _my bad!_ My question had targeted the javac implementation and not the JVM&#39;s JIT implementation...","body":"If I had mixed up the names (though I don&#39;t think so...) - <i>my bad!</i> My question had targeted the javac implementation and not the JVM&#39;s JIT implementation..."}],"tags":[],"owner":{"account_id":2204617,"reputation":1728,"user_id":1948143,"display_name":"creichen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385644080,"creation_date":1385641553,"answer_id":20266196,"question_id":20265996,"body_markdown":"The comment in question does not actually disagree.  Note that you are mixing up two different things here:  Java bytecode compilers (`javac`) and Java just-in-time compilers (such as HotSpot or J9).  You normally use some javac implementation to translate java source code to java bytecode.\r\n\r\nThen you take the bytecode and execute it in a JVM, which uses _another_ compiler.\r\n\r\nAgain, there are two sets of compilers:\r\n\r\n 1. Bytecode compilers (`.java` to `.class`)\r\n 2. Just-in-time compilers as part of Java virtual machines (execute `.class` files)\r\n\r\n(**EDIT:** Neither of these are guaranteed to produce identical results (i.e., the same `java` file can yield different `class` files, and the same `class` file can yield different machine code when the JIT is done with it.))\r\n\r\nThe reason for having two sequential compilation processes is that if you wrap everything into one compiler, you lose two properties:\r\n\r\n 1. your compiled program will be platform-specific\r\n 2. your program will not (easily) be able to perform some of the optimisations and advanced language features (reflection, dynamic class loading) that Java provides.\r\n","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p>The comment in question does not actually disagree.  Note that you are mixing up two different things here:  Java bytecode compilers (<code>javac</code>) and Java just-in-time compilers (such as HotSpot or J9).  You normally use some javac implementation to translate java source code to java bytecode.</p>\n\n<p>Then you take the bytecode and execute it in a JVM, which uses <em>another</em> compiler.</p>\n\n<p>Again, there are two sets of compilers:</p>\n\n<ol>\n<li>Bytecode compilers (<code>.java</code> to <code>.class</code>)</li>\n<li>Just-in-time compilers as part of Java virtual machines (execute <code>.class</code> files)</li>\n</ol>\n\n<p>(<strong>EDIT:</strong> Neither of these are guaranteed to produce identical results (i.e., the same <code>java</code> file can yield different <code>class</code> files, and the same <code>class</code> file can yield different machine code when the JIT is done with it.))</p>\n\n<p>The reason for having two sequential compilation processes is that if you wrap everything into one compiler, you lose two properties:</p>\n\n<ol>\n<li>your compiled program will be platform-specific</li>\n<li>your program will not (easily) be able to perform some of the optimisations and advanced language features (reflection, dynamic class loading) that Java provides.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1385748460,"creation_date":1385748460,"answer_id":20291342,"question_id":20265996,"body_markdown":"There are differences between the compilers and interestingly some of the permitted differences led to problems in the past.\r\n\r\nSome differences are small, e.g. some compilers optimize `x=x+1` to produce the same bytecode as `x++`, others don’t.\r\n\r\nOthers can have more impact, e.g. the standard did not specify how to generate the names of synthetic members used to implement inner class access to private members (and similar things) in the past (I don’t know whether it does today). But the algorithm for calculating a default [`serialVersionUID`](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html#skip-navbar_bottom) used a hash code over all class members, even synthetic ones.\r\n\r\nAs a consequence, compiling with `javac` or the first Eclipse versions created classes with incompatible `serialVersionUID`s. Today, Eclipse uses the same name schema for synthetic members as `javac` and issues a warning about missing explicit `serialVersionUID`s in `Serializable` classes by default.\r\n\r\nThere’s still a lot of freedom and even packing with `pack200` and unpacking may create classes with different byte code than the original classes.\r\n","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p>There are differences between the compilers and interestingly some of the permitted differences led to problems in the past.</p>\n\n<p>Some differences are small, e.g. some compilers optimize <code>x=x+1</code> to produce the same bytecode as <code>x++</code>, others don’t.</p>\n\n<p>Others can have more impact, e.g. the standard did not specify how to generate the names of synthetic members used to implement inner class access to private members (and similar things) in the past (I don’t know whether it does today). But the algorithm for calculating a default <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html#skip-navbar_bottom\" rel=\"nofollow\"><code>serialVersionUID</code></a> used a hash code over all class members, even synthetic ones.</p>\n\n<p>As a consequence, compiling with <code>javac</code> or the first Eclipse versions created classes with incompatible <code>serialVersionUID</code>s. Today, Eclipse uses the same name schema for synthetic members as <code>javac</code> and issues a warning about missing explicit <code>serialVersionUID</code>s in <code>Serializable</code> classes by default.</p>\n\n<p>There’s still a lot of freedom and even packing with <code>pack200</code> and unpacking may create classes with different byte code than the original classes.</p>\n"}],"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2340,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":20291342,"answer_count":3,"score":6,"last_activity_date":1690958880,"creation_date":1385641000,"question_id":20265996,"body_markdown":"**Given the same major version, say Java 7, do different Java Compilers (e.g., Oracle&#39;s hotspot, JRockit, or IBM&#39;s J9 etc...) compile a given java source code file into the same bytcode?**\r\n\r\nScanning the [Java 7 language spec][1] it would seem that what is being discussed is the semantics of the language and not the transformation of the code into bytecode.\r\n\r\nThis question is not the same as do different major.minor versions for a given vendor produce the same bytecode. That question is already answered [here][2] - with a *could be*.\r\n\r\nFrom the following [answer][3] to [Is the creation of Java class files deterministic?][4] and a comment to that answer that refers to [this][5] along side two answers to the major.minor question above [1][6] and [2][7], I gather that the answer to my question is **YES**.\r\n\r\nExcerpts for the above are:\r\n\r\n&gt; The JLS leaves many implementation details to vary from one\r\n&gt; implementation to another.\r\n\r\nand\r\n\r\n&gt; However the JLS does not specify a 1:1 mapping from source code to the\r\n&gt; generated byte code, so you should not rely on the exact same byte\r\n&gt; code to be generated.\r\n\r\nYet a comment [here][8] implies differently:  \r\n\r\n&gt; It’s the compiler, i.e. javac, creating the code using a\r\n&gt; BLAH BLAH BLAH. This has nothing to do with HotSpot.\r\n\r\nIt implies that given a code X all javac implementations (same version/different vendors) must produce the same Y bytecode.\r\n\r\nI cannot see how that is so, but I am unable to verify that it is not (or that what I think, see above) is correct.\r\n\r\nCan a definitive answer be given?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/index.html\r\n  [2]: https://stackoverflow.com/questions/3012978/do-different-jdk-updates-produce-different-java-byte-code\r\n  [3]: https://stackoverflow.com/a/14985246/101715\r\n  [4]: https://stackoverflow.com/questions/14984984/is-the-creation-of-java-class-files-deterministic\r\n  [5]: https://stackoverflow.com/a/14267348/101715\r\n  [6]: https://stackoverflow.com/a/3012991/101715\r\n  [7]: https://stackoverflow.com/a/3013009/101715\r\n  [8]: https://stackoverflow.com/a/20262139/101715","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p><strong>Given the same major version, say Java 7, do different Java Compilers (e.g., Oracle's hotspot, JRockit, or IBM's J9 etc...) compile a given java source code file into the same bytcode?</strong></p>\n\n<p>Scanning the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"nofollow noreferrer\">Java 7 language spec</a> it would seem that what is being discussed is the semantics of the language and not the transformation of the code into bytecode.</p>\n\n<p>This question is not the same as do different major.minor versions for a given vendor produce the same bytecode. That question is already answered <a href=\"https://stackoverflow.com/questions/3012978/do-different-jdk-updates-produce-different-java-byte-code\">here</a> - with a <em>could be</em>.</p>\n\n<p>From the following <a href=\"https://stackoverflow.com/a/14985246/101715\">answer</a> to <a href=\"https://stackoverflow.com/questions/14984984/is-the-creation-of-java-class-files-deterministic\">Is the creation of Java class files deterministic?</a> and a comment to that answer that refers to <a href=\"https://stackoverflow.com/a/14267348/101715\">this</a> along side two answers to the major.minor question above <a href=\"https://stackoverflow.com/a/3012991/101715\">1</a> and <a href=\"https://stackoverflow.com/a/3013009/101715\">2</a>, I gather that the answer to my question is <strong>YES</strong>.</p>\n\n<p>Excerpts for the above are:</p>\n\n<blockquote>\n  <p>The JLS leaves many implementation details to vary from one\n  implementation to another.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>However the JLS does not specify a 1:1 mapping from source code to the\n  generated byte code, so you should not rely on the exact same byte\n  code to be generated.</p>\n</blockquote>\n\n<p>Yet a comment <a href=\"https://stackoverflow.com/a/20262139/101715\">here</a> implies differently:  </p>\n\n<blockquote>\n  <p>It’s the compiler, i.e. javac, creating the code using a\n  BLAH BLAH BLAH. This has nothing to do with HotSpot.</p>\n</blockquote>\n\n<p>It implies that given a code X all javac implementations (same version/different vendors) must produce the same Y bytecode.</p>\n\n<p>I cannot see how that is so, but I am unable to verify that it is not (or that what I think, see above) is correct.</p>\n\n<p>Can a definitive answer be given?</p>\n"},{"tags":["java","javafx"],"answers":[{"comments":[{"owner":{"account_id":5604957,"reputation":1296,"user_id":6294605,"accept_rate":93,"display_name":"Wolfone"},"score":1,"creation_date":1467364791,"post_id":38050982,"comment_id":63713092,"body_markdown":"Wow, thanks for the time you invested in this elaborate answer! Please excuse me for the late acceptance. I need to check on my getters/setters again to fully evaluate my mistake(s). Many thanks also for your input about the disatvantages!","body":"Wow, thanks for the time you invested in this elaborate answer! Please excuse me for the late acceptance. I need to check on my getters/setters again to fully evaluate my mistake(s). Many thanks also for your input about the disatvantages!"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1539981146,"post_id":38050982,"comment_id":92711308,"body_markdown":"Is there a huge performance hit using reflection in this case?  Where would it be seen the most?","body":"Is there a huge performance hit using reflection in this case?  Where would it be seen the most?"},{"owner":{"account_id":213792,"reputation":4694,"user_id":467379,"accept_rate":75,"display_name":"ncmathsadist"},"score":1,"creation_date":1638304807,"post_id":38050982,"comment_id":124052264,"body_markdown":"The failure to work with records is an egregious problem.  I hope it&#39;s on the punch list to be fixed.","body":"The failure to work with records is an egregious problem.  I hope it&#39;s on the punch list to be fixed."}],"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690958270,"creation_date":1467021588,"answer_id":38050982,"question_id":38049734,"body_markdown":"`PropertyValueFactory` expects correctly named property getters. `getAColumnsProperty` is probably not one.\r\n\r\nIn case of `new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)` the `Appointment` class needs to contain a `dateProperty()` method; the returned values need to extend `ReadOnlyProperty` for this to work and any edits will only lead to an update in the model automatically, if the returned object also `WritableValue`.\r\n\r\nExample `Appointment` class that should work with `PropertyValueFactory&lt;&gt;(&quot;date&quot;)`:\r\n\r\n\r\n    public class Appointment {\r\n        private final ObjectProperty&lt;LocalDate&gt; date = new SimpleObjectProperty&lt;&gt;();\r\n    \r\n        public final LocalDate getDate() {\r\n            return this.date.get();\r\n        }\r\n    \r\n        public final void setDate(LocalDate value) {\r\n            this.date.set(value);\r\n        }\r\n    \r\n        public final ObjectProperty&lt;LocalDate&gt; dateProperty() {\r\n            return this.date;\r\n        }\r\n    }\r\n\r\n\r\nIf no such method exists, `PropertyValueFactory` will use a getter to retrieve the value, i.e. `getDate()`, but this case updates in the model will not be visible in the UI until it updates the `Cell`, since the `PropertyValueFactory` &quot;does not know&quot; where to add a listener.\r\n\r\n### Disadvantages of `PropertyValueFactory`\r\n\r\n* Can only find `public` methods in a `public` class\r\n* `PropertyValueFactory` uses reflection\r\n* Not typesafe. In `new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)` the compiler does not check, if there is a appropriate method, if that method even returns a suitable class or if e.g. the property getter returns a `String` instead of a `ReadOnlyProperty&lt;LocalDate&gt;` which can lead to `ClassCastException`s.\r\n* No compile time checking. In the lambda expression the compiler can do some checking if the method exists and returns a appropriate type; with `PropertyValueFactory` this is not done.\r\n* Does not work with [records](https://blogs.oracle.com/javamagazine/post/records-come-to-java). [(*JEP 395: Records*)](https://openjdk.org/jeps/395)\r\n\r\nIf you are sure to implement the appropriate methods in the item class correctly, there is nothing wrong with using `PropertyValueFactory`, but as mentioned above it has it&#39;s disadvantages. Moreover implementing the `Callback` is much more flexible. You could e.g. do some additional modifications:\r\n\r\n    TableColumn&lt;Appointment, String&gt; column = ...\r\n    \r\n    column.setCellValueFactory(new Callback&lt;TableColumn.CellDataFeatures&lt;Appointment, String&gt;, ObservableValue&lt;String&gt;&gt; {\r\n        @Override\r\n        public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Appointment, String&gt; cd) {\r\n            Appointment a  = cd.getValue();\r\n    \r\n            return Bindings.createStringBinding(() -&gt; &quot;the year: &quot; + a.getDate().getYear(), a.dateProperty());\r\n        }\r\n    \r\n    });\r\n\r\n","title":"Java: setCellValuefactory; Lambda vs. PropertyValueFactory; advantages/disadvantages","body":"<p><code>PropertyValueFactory</code> expects correctly named property getters. <code>getAColumnsProperty</code> is probably not one.</p>\n<p>In case of <code>new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)</code> the <code>Appointment</code> class needs to contain a <code>dateProperty()</code> method; the returned values need to extend <code>ReadOnlyProperty</code> for this to work and any edits will only lead to an update in the model automatically, if the returned object also <code>WritableValue</code>.</p>\n<p>Example <code>Appointment</code> class that should work with <code>PropertyValueFactory&lt;&gt;(&quot;date&quot;)</code>:</p>\n<pre><code>public class Appointment {\n    private final ObjectProperty&lt;LocalDate&gt; date = new SimpleObjectProperty&lt;&gt;();\n\n    public final LocalDate getDate() {\n        return this.date.get();\n    }\n\n    public final void setDate(LocalDate value) {\n        this.date.set(value);\n    }\n\n    public final ObjectProperty&lt;LocalDate&gt; dateProperty() {\n        return this.date;\n    }\n}\n</code></pre>\n<p>If no such method exists, <code>PropertyValueFactory</code> will use a getter to retrieve the value, i.e. <code>getDate()</code>, but this case updates in the model will not be visible in the UI until it updates the <code>Cell</code>, since the <code>PropertyValueFactory</code> &quot;does not know&quot; where to add a listener.</p>\n<h3>Disadvantages of <code>PropertyValueFactory</code></h3>\n<ul>\n<li>Can only find <code>public</code> methods in a <code>public</code> class</li>\n<li><code>PropertyValueFactory</code> uses reflection</li>\n<li>Not typesafe. In <code>new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)</code> the compiler does not check, if there is a appropriate method, if that method even returns a suitable class or if e.g. the property getter returns a <code>String</code> instead of a <code>ReadOnlyProperty&lt;LocalDate&gt;</code> which can lead to <code>ClassCastException</code>s.</li>\n<li>No compile time checking. In the lambda expression the compiler can do some checking if the method exists and returns a appropriate type; with <code>PropertyValueFactory</code> this is not done.</li>\n<li>Does not work with <a href=\"https://blogs.oracle.com/javamagazine/post/records-come-to-java\" rel=\"nofollow noreferrer\">records</a>. <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">(<em>JEP 395: Records</em>)</a></li>\n</ul>\n<p>If you are sure to implement the appropriate methods in the item class correctly, there is nothing wrong with using <code>PropertyValueFactory</code>, but as mentioned above it has it's disadvantages. Moreover implementing the <code>Callback</code> is much more flexible. You could e.g. do some additional modifications:</p>\n<pre><code>TableColumn&lt;Appointment, String&gt; column = ...\n\ncolumn.setCellValueFactory(new Callback&lt;TableColumn.CellDataFeatures&lt;Appointment, String&gt;, ObservableValue&lt;String&gt;&gt; {\n    @Override\n    public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Appointment, String&gt; cd) {\n        Appointment a  = cd.getValue();\n\n        return Bindings.createStringBinding(() -&gt; &quot;the year: &quot; + a.getDate().getYear(), a.dateProperty());\n    }\n\n});\n</code></pre>\n"}],"owner":{"account_id":5604957,"reputation":1296,"user_id":6294605,"accept_rate":93,"display_name":"Wolfone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14355,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38050982,"answer_count":1,"score":9,"last_activity_date":1690958270,"creation_date":1467017977,"question_id":38049734,"body_markdown":"today i encountered another thing i don&#39;t really understand while trying to learn more about JavaFX and Java in general.\n\nReference is the following tutorial (im trying to apply the principle to an organizer):\n\n[JavaFX 8 Tutorial][1]\n\nI will give a short outline of the particular part on which i&#39;ve got a question:\n\nMy main window contains a tableview which shows some appointment-data.\nSo i got some lines of this style(same as in the tutorial):\n\n    aColumn.setCellValueFactory(cellData -&gt;cellData.getValue().getAColumnsProperty());\n\nThe data can be manipulated via an additional EditDialog.\nThat works just fine. If i edit things the changes are displayed immediately but i did some additional research to better understand the Lambda (not too successful). Now...in the online java documentation [Java Doc PropertyValueFactory][2] it says:\n&quot;A convenience implementation of the Callback-Interface,[...]&quot;\n\nSo i refactored my code into this style:\n\n    aColumn.setCellValueFactory(new PropertyValueFactory&lt;Appointment,LocalDate&gt;(&quot;date&quot;));\n\nWhich i find much more readable than the Lambda.\nBut i noticed that when i make changes i need to do some sorting on the TableView before the changes are displayed.\n\nIs it possible to achieve an immediate display of change in the second approach?\n\nIf yes: are there major disavantages which would discourage such a modification? I.e. would the Lambda be the best practice in this situation?\n \nI appreciate any help.\n\n  [1]: http://code.makery.ch/library/javafx-8-tutorial/part3/\n  [2]: https://docs.oracle.com/javafx/2/api/javafx/scene/control/cell/PropertyValueFactory.html","title":"Java: setCellValuefactory; Lambda vs. PropertyValueFactory; advantages/disadvantages","body":"<p>today i encountered another thing i don't really understand while trying to learn more about JavaFX and Java in general.</p>\n<p>Reference is the following tutorial (im trying to apply the principle to an organizer):</p>\n<p><a href=\"http://code.makery.ch/library/javafx-8-tutorial/part3/\" rel=\"nofollow noreferrer\">JavaFX 8 Tutorial</a></p>\n<p>I will give a short outline of the particular part on which i've got a question:</p>\n<p>My main window contains a tableview which shows some appointment-data.\nSo i got some lines of this style(same as in the tutorial):</p>\n<pre><code>aColumn.setCellValueFactory(cellData -&gt;cellData.getValue().getAColumnsProperty());\n</code></pre>\n<p>The data can be manipulated via an additional EditDialog.\nThat works just fine. If i edit things the changes are displayed immediately but i did some additional research to better understand the Lambda (not too successful). Now...in the online java documentation <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/cell/PropertyValueFactory.html\" rel=\"nofollow noreferrer\">Java Doc PropertyValueFactory</a> it says:\n&quot;A convenience implementation of the Callback-Interface,[...]&quot;</p>\n<p>So i refactored my code into this style:</p>\n<pre><code>aColumn.setCellValueFactory(new PropertyValueFactory&lt;Appointment,LocalDate&gt;(&quot;date&quot;));\n</code></pre>\n<p>Which i find much more readable than the Lambda.\nBut i noticed that when i make changes i need to do some sorting on the TableView before the changes are displayed.</p>\n<p>Is it possible to achieve an immediate display of change in the second approach?</p>\n<p>If yes: are there major disavantages which would discourage such a modification? I.e. would the Lambda be the best practice in this situation?</p>\n<p>I appreciate any help.</p>\n"},{"tags":["java","spring-boot","protocol-buffers","swagger-ui","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":27324071,"reputation":36,"user_id":20837310,"display_name":"Andrei Bulshtein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957990,"creation_date":1690957990,"answer_id":76817157,"question_id":76671616,"body_markdown":"Found the solution here: https://stackoverflow.com/questions/62938665/springdoc-openapi-ui-can-not-render-protobuf-models-causing-the-browser-to-crash . need to define a ModelResolver bean with a custom ObjectMapper.","title":"Swagger UI gets stuck when trying do display an endpoint that has a proto POJO in its request body","body":"<p>Found the solution here: <a href=\"https://stackoverflow.com/questions/62938665/springdoc-openapi-ui-can-not-render-protobuf-models-causing-the-browser-to-crash\">springdoc-openapi-ui can not render Protobuf Models causing the browser to crash</a> . need to define a ModelResolver bean with a custom ObjectMapper.</p>\n"}],"owner":{"account_id":27324071,"reputation":36,"user_id":20837310,"display_name":"Andrei Bulshtein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690957990,"creation_date":1689171783,"question_id":76671616,"body_markdown":"We have a java 19, spring boot 3.0.5 based web application, that has an endpoint with a generated POJO object from a .proto as its @RequestBody. we are exposing the endpoint through swagger ui. swagger ui is based on the springdoc dependency -&gt;  &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&#39;. when trying to access this specific endpoint in swagger ui, the browser gets stuck and freezes. \r\n\r\nOther endpoints with the exact same configuration but a String as their @RequestBody work fine. also this endpoint worked fine when we used springfox as the swagger ui implementation, but the springfox implementation doesn&#39;t work with spring boot 3. we have tried to override the ProtobufJsonFormatHttpMessageConverter with:         \r\n\r\n    @Bean\r\n    public ProtobufJsonFormatHttpMessageConverter protobufHttpMessageConverter() {\r\n        return new          ProtobufJsonFormatHttpMessageConverter(JsonFormat.parser().ignoringUnknownFields(),\r\n                JsonFormat.printer().omittingInsignificantWhitespace());\r\n    } \r\n\r\nbut it didn&#39;t work.","title":"Swagger UI gets stuck when trying do display an endpoint that has a proto POJO in its request body","body":"<p>We have a java 19, spring boot 3.0.5 based web application, that has an endpoint with a generated POJO object from a .proto as its @RequestBody. we are exposing the endpoint through swagger ui. swagger ui is based on the springdoc dependency -&gt;  'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'. when trying to access this specific endpoint in swagger ui, the browser gets stuck and freezes.</p>\n<p>Other endpoints with the exact same configuration but a String as their @RequestBody work fine. also this endpoint worked fine when we used springfox as the swagger ui implementation, but the springfox implementation doesn't work with spring boot 3. we have tried to override the ProtobufJsonFormatHttpMessageConverter with:</p>\n<pre><code>@Bean\npublic ProtobufJsonFormatHttpMessageConverter protobufHttpMessageConverter() {\n    return new          ProtobufJsonFormatHttpMessageConverter(JsonFormat.parser().ignoringUnknownFields(),\n            JsonFormat.printer().omittingInsignificantWhitespace());\n} \n</code></pre>\n<p>but it didn't work.</p>\n"},{"tags":["java","hadoop","hadoop3"],"comments":[{"owner":{"account_id":59759,"reputation":631,"user_id":178711,"accept_rate":83,"display_name":"dannyman"},"score":1,"creation_date":1580846015,"post_id":50927577,"comment_id":106230123,"body_markdown":"In a situation like this, it can be handy to symlink `/home/admin/hadoop-3.1.0` to `/home/admin/hadoop` ... when you upgrade hadoop, you change the symlink, but do not have to change the version number in all of your config files.","body":"In a situation like this, it can be handy to symlink <code>&#47;home&#47;admin&#47;hadoop-3.1.0</code> to <code>&#47;home&#47;admin&#47;hadoop</code> ... when you upgrade hadoop, you change the symlink, but do not have to change the version number in all of your config files."}],"answers":[{"comments":[{"owner":{"account_id":1145527,"reputation":3387,"user_id":1128392,"accept_rate":90,"display_name":"erwaman"},"score":1,"creation_date":1536869706,"post_id":50964526,"comment_id":91589859,"body_markdown":"Make sure you have both `share/hadoop/X/*` and `share/hadoop/X/lib/*`. I encountered the same problem and the issue turned out be having `share/hadoop/yarn/*` but missing `share/hadoop/yarn/lib/*`!","body":"Make sure you have both <code>share&#47;hadoop&#47;X&#47;*</code> and <code>share&#47;hadoop&#47;X&#47;lib&#47;*</code>. I encountered the same problem and the issue turned out be having <code>share&#47;hadoop&#47;yarn&#47;*</code> but missing <code>share&#47;hadoop&#47;yarn&#47;lib&#47;*</code>!"}],"tags":[],"owner":{"account_id":12845249,"reputation":157,"user_id":9291876,"display_name":"Antonio D&#39;Amore"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1529571731,"creation_date":1529571731,"answer_id":50964526,"question_id":50927577,"body_markdown":"I had the same problem and resolved by adding this in **mapred-site.xml** (so edit your **mapreduce.application.classpath** property)\r\n\r\n    &lt;property&gt; \r\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\r\n    \t&lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/common/*,$HADOOP_MAPRED_HOME/share/hadoop/common/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/lib/*&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\n","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>I had the same problem and resolved by adding this in <strong>mapred-site.xml</strong> (so edit your <strong>mapreduce.application.classpath</strong> property)</p>\n\n<pre><code>&lt;property&gt; \n    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\n    &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/common/*,$HADOOP_MAPRED_HOME/share/hadoop/common/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/lib/*&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2249781,"reputation":291,"user_id":1982264,"display_name":"CuriousCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1540389529,"creation_date":1529585802,"answer_id":50969130,"question_id":50927577,"body_markdown":"I added following property in yarn-site.xml\r\n\r\n    &lt;property&gt;\r\n      &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n      &lt;value&gt; $HADOOP_CONF_DIR,$HADOOP_COMMON_HOME/share/hadoop/common/*,$HADOOP_COMMON_HOME/share/hadoop/common/lib/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,\r\n        $HADOOP_YARN_HOME/share/hadoop/yarn/*,$HADOOP_YARN_HOME/share/hadoop/yarn/lib/* \r\n      &lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\nAnd did same changes in my map reduce program.\r\n\r\n      configuration.set(&quot;yarn.application.classpath&quot;,\r\n                  &quot;{{HADOOP_CONF_DIR}},{{HADOOP_COMMON_HOME}}/share/hadoop/common/*,{{HADOOP_COMMON_HOME}}/share/hadoop/common/lib/*,&quot;\r\n                      + &quot; {{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/*,{{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/lib/*,&quot;\r\n                      + &quot;{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/*,{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/lib/*,&quot;\r\n                      + &quot;{{HADOOP_YARN_HOME}}/share/hadoop/yarn/*,{{HADOOP_YARN_HOME}}/share/hadoop/yarn/lib/*&quot;);\r\n\r\nMy program is running smoothly now. Feel free to ask me details.","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>I added following property in yarn-site.xml</p>\n\n<pre><code>&lt;property&gt;\n  &lt;name&gt;yarn.application.classpath&lt;/name&gt;\n  &lt;value&gt; $HADOOP_CONF_DIR,$HADOOP_COMMON_HOME/share/hadoop/common/*,$HADOOP_COMMON_HOME/share/hadoop/common/lib/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,\n    $HADOOP_YARN_HOME/share/hadoop/yarn/*,$HADOOP_YARN_HOME/share/hadoop/yarn/lib/* \n  &lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>And did same changes in my map reduce program.</p>\n\n<pre><code>  configuration.set(\"yarn.application.classpath\",\n              \"{{HADOOP_CONF_DIR}},{{HADOOP_COMMON_HOME}}/share/hadoop/common/*,{{HADOOP_COMMON_HOME}}/share/hadoop/common/lib/*,\"\n                  + \" {{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/*,{{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/lib/*,\"\n                  + \"{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/*,{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/lib/*,\"\n                  + \"{{HADOOP_YARN_HOME}}/share/hadoop/yarn/*,{{HADOOP_YARN_HOME}}/share/hadoop/yarn/lib/*\");\n</code></pre>\n\n<p>My program is running smoothly now. Feel free to ask me details.</p>\n"},{"tags":[],"owner":{"account_id":6913311,"reputation":503,"user_id":5308426,"display_name":"Amardeep Kohli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543679637,"creation_date":1543679637,"answer_id":53572508,"question_id":50927577,"body_markdown":"The issue is that Your Resource Manager(yarn) is not able to load Hadoop Libraries(jars).\r\nI solved this by updating the configurations.\r\nAdded this to yarn-site.xml :\r\n\r\n&gt;     &lt;property&gt;\r\n&gt;     &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n&gt;     &lt;value&gt;C:/hadoop-2.8.0/share/hadoop/mapreduce/*,C:/hadoop-2.8.0/share/hadoop/mapreduce/lib/*,C:/Hadoop-2.8.0/share/hadoop/common/*,C:/Hadoop-2.8.0/share/hadoop/common/lib/*,\r\n&gt;         C:/hadoop-2.8.0/share/hadoop/hdfs/*,C:/hadoop-2.8.0/share/hadoop/hdfs/lib/*,C:/hadoop-2.8.0/share/hadoop/yarn/*,C:/hadoop-2.8.0/share/hadoop/yarn/lib/*&lt;/value&gt;\r\n&gt;     &lt;/property&gt;\r\n\r\nPlease note that the paths used here can be relative according to your system.","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>The issue is that Your Resource Manager(yarn) is not able to load Hadoop Libraries(jars).\nI solved this by updating the configurations.\nAdded this to yarn-site.xml :</p>\n\n<blockquote>\n<pre><code>&lt;property&gt;\n&lt;name&gt;yarn.application.classpath&lt;/name&gt;\n&lt;value&gt;C:/hadoop-2.8.0/share/hadoop/mapreduce/*,C:/hadoop-2.8.0/share/hadoop/mapreduce/lib/*,C:/Hadoop-2.8.0/share/hadoop/common/*,C:/Hadoop-2.8.0/share/hadoop/common/lib/*,\n    C:/hadoop-2.8.0/share/hadoop/hdfs/*,C:/hadoop-2.8.0/share/hadoop/hdfs/lib/*,C:/hadoop-2.8.0/share/hadoop/yarn/*,C:/hadoop-2.8.0/share/hadoop/yarn/lib/*&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n</blockquote>\n\n<p>Please note that the paths used here can be relative according to your system.</p>\n"},{"tags":[],"owner":{"account_id":18138531,"reputation":2147,"user_id":13192685,"display_name":"adityaatri"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1586693702,"creation_date":1586693702,"answer_id":61171283,"question_id":50927577,"body_markdown":"Just edit the **mapred-site.xml** file :\r\n\r\nAdd following properties:\r\n\r\n1. `&lt;property&gt;\r\n \t   &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n       &lt;value&gt;yarn&lt;/value&gt;\r\n    &lt;/property&gt;`\r\n\r\n\r\n2. `&lt;property&gt;\r\n       &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\n3. `&lt;property&gt;\r\n       &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\n4. `&lt;property&gt;\r\n       &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\nNow for all the above 4 properties, replace the path `/Users/adityaatri/Applications/hadoop-3.1.3` with your Hadoop Home Address.\r\n\r\nNow add the 5th property :\r\n\r\n5. `&lt;property&gt; \r\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\r\n        &lt;value&gt;&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\nThe **`&lt;value&gt;`** element must be filled with content after executing below commands in your terminal :\r\n\r\n1. `export HADOOP_CLASSPATH=$(hadoop classpath)`\r\n\r\n2. `echo $HADOOP_CLASSPATH`\r\n\r\nThe output from my terminal : \r\n\r\n`/Users/adityaatri/Applications/hadoop-3.1.3/etc/hadoop:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/*`\r\n\r\nCopy this content inside the **`&lt;value&gt;`** element of the 5th property. \r\n\r\nNow you will not get any error. :)\r\n\r\n","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>Just edit the <strong>mapred-site.xml</strong> file :</p>\n\n<p>Add following properties:</p>\n\n<ol>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n   &lt;value&gt;yarn&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n</ol>\n\n<p>Now for all the above 4 properties, replace the path <code>/Users/adityaatri/Applications/hadoop-3.1.3</code> with your Hadoop Home Address.</p>\n\n<p>Now add the 5th property :</p>\n\n<ol start=\"5\">\n<li><code>&lt;property&gt; \n    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\n    &lt;value&gt;&lt;/value&gt;\n&lt;/property&gt;</code></li>\n</ol>\n\n<p>The <strong><code>&lt;value&gt;</code></strong> element must be filled with content after executing below commands in your terminal :</p>\n\n<ol>\n<li><p><code>export HADOOP_CLASSPATH=$(hadoop classpath)</code></p></li>\n<li><p><code>echo $HADOOP_CLASSPATH</code></p></li>\n</ol>\n\n<p>The output from my terminal : </p>\n\n<p><code>/Users/adityaatri/Applications/hadoop-3.1.3/etc/hadoop:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/*</code></p>\n\n<p>Copy this content inside the <strong><code>&lt;value&gt;</code></strong> element of the 5th property. </p>\n\n<p>Now you will not get any error. :)</p>\n"},{"tags":[],"owner":{"account_id":19725616,"reputation":1,"user_id":14442294,"display_name":"jianbo zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648129392,"creation_date":1648129392,"answer_id":71603622,"question_id":50927577,"body_markdown":"I add the `mapreduce.application.classpath` in `mapred.xml`, but it sitll doesn&#39;t work. Then i download the `core-site.xml`, `mapred-site.xml` and `yarn-site.xml` files from my linux server, then put these files into the `resources` path in you IDEA, then it works!","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>I add the <code>mapreduce.application.classpath</code> in <code>mapred.xml</code>, but it sitll doesn't work. Then i download the <code>core-site.xml</code>, <code>mapred-site.xml</code> and <code>yarn-site.xml</code> files from my linux server, then put these files into the <code>resources</code> path in you IDEA, then it works!</p>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1690986152,"post_id":76791244,"comment_id":135429645,"body_markdown":"How is this different from the accepted answer?","body":"How is this different from the accepted answer?"},{"owner":{"account_id":29114087,"reputation":1,"user_id":22303226,"display_name":"Amit Jain"},"score":0,"creation_date":1691069831,"post_id":76791244,"comment_id":135443971,"body_markdown":"The accepted answer is using relative paths that are not needed.  It is also suggesting to set paths in the code, again not needed. The cleaner solution is o just pass all the environment variables to any application via the system configuration files. Less changes :-)","body":"The accepted answer is using relative paths that are not needed.  It is also suggesting to set paths in the code, again not needed. The cleaner solution is o just pass all the environment variables to any application via the system configuration files. Less changes :-)"}],"tags":[],"owner":{"account_id":29114087,"reputation":1,"user_id":22303226,"display_name":"Amit Jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957605,"creation_date":1690581877,"answer_id":76791244,"question_id":50927577,"body_markdown":"Just add the following to yarn-site.xml so the environment variables are passed down. I had the same issue and this resolved it. I am running Hadoop 3.3.6.\r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\r\n        &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ,HADOOP_MAPRED_HOME\r\n        &lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>Just add the following to yarn-site.xml so the environment variables are passed down. I had the same issue and this resolved it. I am running Hadoop 3.3.6.</p>\n<pre><code>&lt;property&gt;\n    &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\n    &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ,HADOOP_MAPRED_HOME\n    &lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":2249781,"reputation":291,"user_id":1982264,"display_name":"CuriousCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22497,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":50969130,"answer_count":6,"score":16,"last_activity_date":1690957605,"creation_date":1529408552,"question_id":50927577,"body_markdown":"Contents of mapred-site.xml :\r\n-----------------------------------------------------------------------------\r\n\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n     &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n     &lt;value&gt;yarn&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n     &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n     &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n     &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n     &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n     &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n     &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt; \r\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\r\n        &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\n-------------------------------------------------------------------------------\r\nThough I have set yarn.app.mapreduce.am.env and other parameters; I am getting Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster error. \r\nI am trying to run map reduce program remotely where hadoop is installed on linux machine and I am running it from windows machine.\r\nFollowing are my configuration settings for job. \r\n\r\n    public class WordCount {\r\n      public static void main(String[] args)\r\n          throws IOException, ClassNotFoundException, InterruptedException {\r\n        //\r\n        UserGroupInformation ugi = UserGroupInformation.createRemoteUser(&quot;admin&quot;);\r\n        ugi.doAs(new PrivilegedExceptionAction&lt;Void&gt;() {\r\n    \r\n          public Void run() throws Exception {\r\n            try {\r\n              Configuration configuration = new Configuration();\r\n    \r\n              configuration.set(&quot;yarn.resourcemanager.address&quot;, &quot;192.168.33.75:50001&quot;); // see step 3\r\n              configuration.set(&quot;mapreduce.framework.name&quot;, &quot;yarn&quot;);\r\n              // configuration.set(&quot;yarn.app.mapreduce.am.env&quot;,\r\n              // &quot;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&quot;);\r\n              // configuration.set(&quot;mapreduce.map.env&quot;, &quot;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&quot;);\r\n              // configuration.set(&quot;mapreduce.reduce.env&quot;,\r\n              // &quot;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&quot;);\r\n              configuration.set(&quot;fs.defaultFS&quot;, &quot;hdfs://192.168.33.75:54310&quot;); // see step 2\r\n              configuration.set(&quot;mapreduce.app-submission.cross-platform&quot;, &quot;true&quot;);\r\n              configuration.set(&quot;mapred.remote.os&quot;, &quot;Linux&quot;);\r\n              configuration.set(&quot;yarn.application.classpath&quot;,\r\n                  &quot;$HADOOP_CONF_DIR:$HADOOP_COMMON_HOME/*:$HADOOP_COMMON_HOME/lib/*:&quot;\r\n                      + &quot;$HADOOP_HDFS_HOME/*:$HADOOP_HDFS_HOME/lib/*:&quot;\r\n                      + &quot;$HADOOP_YARN_HOME/*:$HADOOP_YARN_HOME/lib/*:&quot;\r\n                      + &quot;$HADOOP_MAPRED_HOME/*:$HADOOP_MAPRED_HOME/lib/*&quot;);\r\n    \r\n              Job job = Job.getInstance(configuration);\r\n    \r\n              job.setJarByClass(WordCount.class); // use this when uploaded the Jar to the server and\r\n                                                  // running the job directly and locally on the server\r\n              job.setOutputKeyClass(Text.class);\r\n              job.setOutputValueClass(IntWritable.class);\r\n              job.setMapperClass(MapForWordCount.class);\r\n              job.setReducerClass(ReduceForWordCount.class);\r\n    \r\n              Path input = new Path(&quot;/user/admin/wordCountInput.txt&quot;);\r\n              Path output = new Path(&quot;/user/admin/output&quot;);\r\n              FileInputFormat.addInputPath(job, input);\r\n              FileOutputFormat.setOutputPath(job, output);\r\n              System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n            } catch (Exception e) {\r\n              e.printStackTrace();\r\n            }\r\n            return null;\r\n          }\r\n    \r\n        });\r\n    \r\n    \r\n      }\r\n\r\nPlease help me. I am stuck on this problem from last 6 days. Thanks a lot in advance.\r\nHadoop version : 3.1.0","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<h2>Contents of mapred-site.xml :</h2>\n\n<pre><code>&lt;configuration&gt;\n&lt;property&gt;\n &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n &lt;value&gt;yarn&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt; \n    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\n    &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<hr>\n\n<p>Though I have set yarn.app.mapreduce.am.env and other parameters; I am getting Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster error. \nI am trying to run map reduce program remotely where hadoop is installed on linux machine and I am running it from windows machine.\nFollowing are my configuration settings for job. </p>\n\n<pre><code>public class WordCount {\n  public static void main(String[] args)\n      throws IOException, ClassNotFoundException, InterruptedException {\n    //\n    UserGroupInformation ugi = UserGroupInformation.createRemoteUser(\"admin\");\n    ugi.doAs(new PrivilegedExceptionAction&lt;Void&gt;() {\n\n      public Void run() throws Exception {\n        try {\n          Configuration configuration = new Configuration();\n\n          configuration.set(\"yarn.resourcemanager.address\", \"192.168.33.75:50001\"); // see step 3\n          configuration.set(\"mapreduce.framework.name\", \"yarn\");\n          // configuration.set(\"yarn.app.mapreduce.am.env\",\n          // \"HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0\");\n          // configuration.set(\"mapreduce.map.env\", \"HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0\");\n          // configuration.set(\"mapreduce.reduce.env\",\n          // \"HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0\");\n          configuration.set(\"fs.defaultFS\", \"hdfs://192.168.33.75:54310\"); // see step 2\n          configuration.set(\"mapreduce.app-submission.cross-platform\", \"true\");\n          configuration.set(\"mapred.remote.os\", \"Linux\");\n          configuration.set(\"yarn.application.classpath\",\n              \"$HADOOP_CONF_DIR:$HADOOP_COMMON_HOME/*:$HADOOP_COMMON_HOME/lib/*:\"\n                  + \"$HADOOP_HDFS_HOME/*:$HADOOP_HDFS_HOME/lib/*:\"\n                  + \"$HADOOP_YARN_HOME/*:$HADOOP_YARN_HOME/lib/*:\"\n                  + \"$HADOOP_MAPRED_HOME/*:$HADOOP_MAPRED_HOME/lib/*\");\n\n          Job job = Job.getInstance(configuration);\n\n          job.setJarByClass(WordCount.class); // use this when uploaded the Jar to the server and\n                                              // running the job directly and locally on the server\n          job.setOutputKeyClass(Text.class);\n          job.setOutputValueClass(IntWritable.class);\n          job.setMapperClass(MapForWordCount.class);\n          job.setReducerClass(ReduceForWordCount.class);\n\n          Path input = new Path(\"/user/admin/wordCountInput.txt\");\n          Path output = new Path(\"/user/admin/output\");\n          FileInputFormat.addInputPath(job, input);\n          FileOutputFormat.setOutputPath(job, output);\n          System.exit(job.waitForCompletion(true) ? 0 : 1);\n        } catch (Exception e) {\n          e.printStackTrace();\n        }\n        return null;\n      }\n\n    });\n\n\n  }\n</code></pre>\n\n<p>Please help me. I am stuck on this problem from last 6 days. Thanks a lot in advance.\nHadoop version : 3.1.0</p>\n"},{"tags":["java","keytool","pkcs#12"],"answers":[{"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1508294044,"post_id":46801921,"comment_id":80550642,"body_markdown":"...I&#39;m going to note that you&#39;re testing it on a different version of Java than they are using.","body":"...I&#39;m going to note that you&#39;re testing it on a different version of Java than they are using."},{"owner":{"account_id":3024523,"reputation":568,"user_id":2564826,"accept_rate":47,"display_name":"pointyhat"},"score":2,"creation_date":1508296769,"post_id":46801921,"comment_id":80551244,"body_markdown":"Yep. Getting same result as @EJP on jdk 1.7.0_151. Seems with keytool, it&#39;s a case of &#39;if I want your opinion, I&#39;d give it to you&#39;","body":"Yep. Getting same result as @EJP on jdk 1.7.0_151. Seems with keytool, it&#39;s a case of &#39;if I want your opinion, I&#39;d give it to you&#39;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1508299508,"post_id":46801921,"comment_id":80551945,"body_markdown":"Getting same result as in the answer with `java version &quot;1.8.0_151&quot;`.","body":"Getting same result as in the answer with <code>java version &quot;1.8.0_151&quot;</code>."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508299631,"creation_date":1508293761,"answer_id":46801921,"question_id":46801023,"body_markdown":"Cannot reproduce:\r\n\r\n    C:\\Temp&gt;keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname &quot;CN=foo&quot; -storepass password -keypass password\r\n    \r\n    C:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password\r\n    keytool error: java.io.IOException: Invalid keystore format\r\n    \r\n    C:\\Temp&gt;java -version\r\n    java version &quot;1.8.0_40&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_40-b26)\r\n    Java HotSpot(TM) Client VM (build 25.40-b25, mixed mode, sharing)\r\n    \r\n    C:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password -storetype PKCS12\r\n    \r\n    Keystore type: PKCS12\r\n    Keystore provider: SunJSSE\r\n    \r\n    Your keystore contains 1 entry\r\n    \r\n    mykey, 18/10/2017, PrivateKeyEntry,\r\n    Certificate fingerprint (SHA1): 3F:C2:78:0D:E5:8D:11:68:2E:EB:31:D3:65:53:69:9F:\r\n    87:65:63:3A\r\n\r\n&gt; Is this the correct way to create a pkcs12 keystore?\r\n\r\nYes, but it&#39;s not the correct way to list it. You need `-storetype PKCS12` as per my last example above.","title":"keytool reports a pkcs12 keystore as &#39;jks&#39;","body":"<p>Cannot reproduce:</p>\n\n<pre><code>C:\\Temp&gt;keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname \"CN=foo\" -storepass password -keypass password\n\nC:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password\nkeytool error: java.io.IOException: Invalid keystore format\n\nC:\\Temp&gt;java -version\njava version \"1.8.0_40\"\nJava(TM) SE Runtime Environment (build 1.8.0_40-b26)\nJava HotSpot(TM) Client VM (build 25.40-b25, mixed mode, sharing)\n\nC:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password -storetype PKCS12\n\nKeystore type: PKCS12\nKeystore provider: SunJSSE\n\nYour keystore contains 1 entry\n\nmykey, 18/10/2017, PrivateKeyEntry,\nCertificate fingerprint (SHA1): 3F:C2:78:0D:E5:8D:11:68:2E:EB:31:D3:65:53:69:9F:\n87:65:63:3A\n</code></pre>\n\n<blockquote>\n  <p>Is this the correct way to create a pkcs12 keystore?</p>\n</blockquote>\n\n<p>Yes, but it's not the correct way to list it. You need <code>-storetype PKCS12</code> as per my last example above.</p>\n"},{"tags":[],"owner":{"account_id":18870083,"reputation":1,"user_id":13764930,"display_name":"Slatecat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957528,"creation_date":1690567757,"answer_id":76790153,"question_id":46801023,"body_markdown":"       -storetype &lt;the value of the “keystore.type” property in the\r\n        security properties file, which is returned by the static\r\n        getDefaultType method in java.security.KeyStore&gt;\r\n\r\n   If you check your java.security file, you will likely see that the default value for the keystore.type is jks.  The &#39;keystore type&#39; is being picked up by the value assigned in the java.security file, and not from the keystore itself.\r\n\r\n","title":"keytool reports a pkcs12 keystore as &#39;jks&#39;","body":"<pre><code>   -storetype &lt;the value of the “keystore.type” property in the\n    security properties file, which is returned by the static\n    getDefaultType method in java.security.KeyStore&gt;\n</code></pre>\n<p>If you check your java.security file, you will likely see that the default value for the keystore.type is jks.  The 'keystore type' is being picked up by the value assigned in the java.security file, and not from the keystore itself.</p>\n"}],"owner":{"account_id":3024523,"reputation":568,"user_id":2564826,"accept_rate":47,"display_name":"pointyhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5283,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1690957528,"creation_date":1508285864,"question_id":46801023,"body_markdown":"keytool is reporting `Keystore type` as `JKS`. Expected it to be `PKCS12`.\r\n\r\n\t$ $(dirname $(readlink -f $(which keytool)))/java -version\r\n\tjava version &quot;1.8.0_144&quot;\r\n\tJava(TM) SE Runtime Environment (build 1.8.0_144-b01)\r\n\tJava HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\r\n\t$ keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname &quot;CN=foo&quot; -storepass password -keypass password\r\n\t$ keytool -list -keystore foo.p12 -storepass password\r\n\r\n\tKeystore type: JKS\r\n\tKeystore provider: SUN\r\n\r\n\tYour keystore contains 1 entry\r\n\r\n\tmykey, 18/10/2017, PrivateKeyEntry,\r\n\tCertificate fingerprint (SHA1): FD:2A:C7:EE:B4:D8:41:91:71:25:C2:3F:8D:89:11:6F:F8:D6:F3:73\r\n\r\nIs this the correct way to create a pkcs12 keystore?","title":"keytool reports a pkcs12 keystore as &#39;jks&#39;","body":"<p>keytool is reporting <code>Keystore type</code> as <code>JKS</code>. Expected it to be <code>PKCS12</code>.</p>\n\n<pre><code>$ $(dirname $(readlink -f $(which keytool)))/java -version\njava version \"1.8.0_144\"\nJava(TM) SE Runtime Environment (build 1.8.0_144-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\n$ keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname \"CN=foo\" -storepass password -keypass password\n$ keytool -list -keystore foo.p12 -storepass password\n\nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nmykey, 18/10/2017, PrivateKeyEntry,\nCertificate fingerprint (SHA1): FD:2A:C7:EE:B4:D8:41:91:71:25:C2:3F:8D:89:11:6F:F8:D6:F3:73\n</code></pre>\n\n<p>Is this the correct way to create a pkcs12 keystore?</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690956679,"post_id":76816964,"comment_id":135423180,"body_markdown":"Are you trying to do something like `return flowable.flatMap( x -&gt; Flowable.fromCompletionStage(this.batchUpdate(x))).lastStage(null)`? You don&#39;t need the array list.","body":"Are you trying to do something like <code>return flowable.flatMap( x -&gt; Flowable.fromCompletionStage(this.batchUpdate(x))).lastStage&zwnj;&#8203;(null)</code>? You don&#39;t need the array list."}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690955996,"creation_date":1690955642,"question_id":76816964,"body_markdown":"How to apply a function to each element in a flowable? I am trying to apply a function to each item in a flowable publisher and collect the result but the function never gets called. \r\n\r\n```\r\nCompletionStage&lt;Void&gt; batchUpdate(Page&lt;AClass&gt; page); //Given\r\n\r\nCompletion&lt;Void&gt; updateItems(){\r\n    final var futures = new ArrayList&lt;CompletionStage&lt;Void&gt;&gt;();\r\n    final Flowable&lt;Page&lt;AClass&gt;&gt; flowable = getFlowablePublisher();\r\n    flowable.map(this::batchUpdate).map(futures::add); //batchUpdate never gets called\r\n    return CompletableFuture.allOf(futures.toArray(CompletableFuture[]::new));\r\n}\r\n```","title":"How to apply a function to each element of a rx-java Flowable?","body":"<p>How to apply a function to each element in a flowable? I am trying to apply a function to each item in a flowable publisher and collect the result but the function never gets called.</p>\n<pre><code>CompletionStage&lt;Void&gt; batchUpdate(Page&lt;AClass&gt; page); //Given\n\nCompletion&lt;Void&gt; updateItems(){\n    final var futures = new ArrayList&lt;CompletionStage&lt;Void&gt;&gt;();\n    final Flowable&lt;Page&lt;AClass&gt;&gt; flowable = getFlowablePublisher();\n    flowable.map(this::batchUpdate).map(futures::add); //batchUpdate never gets called\n    return CompletableFuture.allOf(futures.toArray(CompletableFuture[]::new));\n}\n</code></pre>\n"},{"tags":["java","javafx","maven-plugin"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690942755,"post_id":76816204,"comment_id":135421986,"body_markdown":"[How to set custom icon for javafx native package icon on Windows](https://stackoverflow.com/questions/15880102/how-to-set-custom-icon-for-javafx-native-package-icon-on-windows); [How to packaging javaFX with ICON](https://forums.oracle.com/ords/apexds/post/how-to-packaging-javafx-with-icon-2255); [Self-Contained Application Packaging](https://docs.oracle.com/javafx/2/deployment/self-contained-packaging.htm) (which is a bit of read if I&#39;m honest)","body":"<a href=\"https://stackoverflow.com/questions/15880102/how-to-set-custom-icon-for-javafx-native-package-icon-on-windows\">How to set custom icon for javafx native package icon on Windows</a>; <a href=\"https://forums.oracle.com/ords/apexds/post/how-to-packaging-javafx-with-icon-2255\" rel=\"nofollow noreferrer\">How to packaging javaFX with ICON</a>; <a href=\"https://docs.oracle.com/javafx/2/deployment/self-contained-packaging.htm\" rel=\"nofollow noreferrer\">Self-Contained Application Packaging</a> (which is a bit of read if I&#39;m honest)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690955049,"post_id":76816204,"comment_id":135423001,"body_markdown":"Up-to-date documentation for modern technology which replaces some of the technologies referred to in the links is provided in the [Oracle `jpackage` user&#39;s guide](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A), which is also (unfortunately) a bit of a read.","body":"Up-to-date documentation for modern technology which replaces some of the technologies referred to in the links is provided in the <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">Oracle <code>jpackage</code> user&#39;s guide</a>, which is also (unfortunately) a bit of a read."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690955903,"post_id":76816204,"comment_id":135423100,"body_markdown":"Looking into it some more, your pom.xml appears to reference the [zenjava maven plugin](https://github.com/javafx-maven-plugin/javafx-maven-plugin).  That won&#39;t work for a modern JavaFX distribution 11+ and I don&#39;t think that it is maintained anymore.    The modern equivalent is the [openjfx javafx-maven-plugin](https://github.com/openjfx/javafx-maven-plugin), same name, different group.  It is however a different thing, and it will not do what you want - it will not build a native installer package for your application.","body":"Looking into it some more, your pom.xml appears to reference the <a href=\"https://github.com/javafx-maven-plugin/javafx-maven-plugin\" rel=\"nofollow noreferrer\">zenjava maven plugin</a>.  That won&#39;t work for a modern JavaFX distribution 11+ and I don&#39;t think that it is maintained anymore.    The modern equivalent is the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">openjfx javafx-maven-plugin</a>, same name, different group.  It is however a different thing, and it will not do what you want - it will not build a native installer package for your application."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690956167,"post_id":76816204,"comment_id":135423127,"body_markdown":"The [ackman JavaFX Maven plugin](https://akman.github.io/jpackage-maven-plugin/) is capable of creating a native installable package, with a `.exe` installer and, yes, with an icon :-). However, its use is by no means straightforward, examples are few and documentation is sparse.  I did this recently, so I could write a guide as an answer, but that is a lot of work, so I won&#39;t do that unless it is actually something you know that you need.  Alternatively, you can also look into [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX), which can help package native JavaFX apps.","body":"The <a href=\"https://akman.github.io/jpackage-maven-plugin/\" rel=\"nofollow noreferrer\">ackman JavaFX Maven plugin</a> is capable of creating a native installable package, with a <code>.exe</code> installer and, yes, with an icon :-). However, its use is by no means straightforward, examples are few and documentation is sparse.  I did this recently, so I could write a guide as an answer, but that is a lot of work, so I won&#39;t do that unless it is actually something you know that you need.  Alternatively, you can also look into <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a>, which can help package native JavaFX apps."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690956597,"post_id":76816204,"comment_id":135423170,"body_markdown":"However, if you wish to stick with Java 8, innosetup and the zenjava plugin for your application, then perhaps the links provided by MadProgrammer may work for you.  You are unlikely to receive a lot of additional support for such a technology stack though.","body":"However, if you wish to stick with Java 8, innosetup and the zenjava plugin for your application, then perhaps the links provided by MadProgrammer may work for you.  You are unlikely to receive a lot of additional support for such a technology stack though."}],"owner":{"account_id":29140669,"reputation":11,"user_id":22323723,"display_name":"Conrado Einstein"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690955221,"creation_date":1690942139,"question_id":76816204,"body_markdown":"I gonna cry,i don&#39;t know how to make this i have been in this for the last 8 hours of my life and i&#39;m not capable to make this in solo.\r\n\r\ni made the code part-per-part\r\nhere is my pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Integration_Project&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;8.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;main.Main&lt;/mainClass&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;vendor&gt;Einstein&lt;/vendor&gt;\r\n                    &lt;bundleArguments&gt;\r\n                        &lt;identifier&gt;UPDATE-DETECTION&lt;/identifier&gt;\r\n                        &lt;installdirChooser&gt;true&lt;/installdirChooser&gt;\r\n                    &lt;/bundleArguments&gt;\r\n                    &lt;additionalAppResources&gt;${project.basedir}/src/main/resources&lt;/additionalAppResources&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;create-jar&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;create-native&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-native&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Integration_Project_Backend&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230227&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\ni cannot solve this question,why is this not working? i dont know please someone help me\r\n\r\nand here is my .iss file:\r\n\r\n```\r\n[Setup]\r\nAppId={{UPDATE-DETECTION}}\r\nAppName=Integration_Project-1.0-SNAPSHOT\r\nAppVersion=1.0\r\nAppVerName=IntegrationProject-1.0-SNAPSHOT 1.0\r\nAppPublisher=Einstein\r\nAppComments=IntegrationProject-1.0\r\nAppCopyright=Copyright (C) 2023\r\n;AppPublisherURL=http://java.com/\r\n;AppSupportURL=http://java.com/\r\n;AppUpdatesURL=http://java.com/\r\nDefaultDirName={localappdata}\\Integration_Project-1.0-SNAPSHOT\r\nDisableStartupPrompt=Yes\r\nDisableDirPage=Yes\r\nDisableProgramGroupPage=Yes\r\nDisableReadyPage=Yes\r\nDisableFinishedPage=Yes\r\nDisableWelcomePage=Yes\r\nDefaultGroupName=Einstein\r\n;Optional License\r\nLicenseFile=\r\n;WinXP or above\r\nMinVersion=6\r\nOutputBaseFilename=IntegrationProject\r\nCompression=lzma\r\nSolidCompression=yes\r\nPrivilegesRequired=lowest\r\nSetupIconFile=Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.ico\r\nUninstallDisplayIcon={app}\\IntegrationProject-1.0.ico\r\nUninstallDisplayName=Integration_Project-1.0-SNAPSHOT\r\nWizardImageStretch=No\r\nWizardSmallImageFile=Integration_Project-1.0-SNAPSHOT-setup-icon.bmp\r\nArchitecturesInstallIn64BitMode=\r\n\r\n\r\n\r\n[Languages]\r\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\r\nName: &quot;brazilianportuguese&quot;; MessagesFile: &quot;compiler:Languages\\BrazilianPortuguese.isl&quot;\r\n\r\n[Files]\r\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.exe&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\r\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\*&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion recursesubdirs createallsubdirs\r\n\r\n[Icons]\r\nName: &quot;{group}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename: &quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\r\nName: &quot;{commondesktop}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename:&quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\r\n\r\n[Run]\r\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Description:&quot;{cm:LaunchProgram,Integration_Project-1.0-SNAPSHOT}&quot;; Flags: nowait postinstall skipifsilent;\r\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Parameters:&quot;-install  -svcName &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -svcDesc &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -mainExe &quot;&quot;Integration_Project-1.0-SNAPSHOT.exe&quot;&quot; &quot;;\r\n\r\n[UninstallRun]\r\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe &quot;; Parameters: &quot;-uninstall -svcName IntegrationProject-1.0 -stopOnUninstall&quot;;\r\n```\r\ncan someone tell me why my .exe is with an random icon ?\r\n\r\nAtualization: the windows dont find the .ico ","title":"How to set custom icon for javafx native package icon in .exe file(i will answer all questions)","body":"<p>I gonna cry,i don't know how to make this i have been in this for the last 8 hours of my life and i'm not capable to make this in solo.</p>\n<p>i made the code part-per-part\nhere is my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\n    &lt;artifactId&gt;Integration_Project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;8.6.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;main.Main&lt;/mainClass&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;vendor&gt;Einstein&lt;/vendor&gt;\n                    &lt;bundleArguments&gt;\n                        &lt;identifier&gt;UPDATE-DETECTION&lt;/identifier&gt;\n                        &lt;installdirChooser&gt;true&lt;/installdirChooser&gt;\n                    &lt;/bundleArguments&gt;\n                    &lt;additionalAppResources&gt;${project.basedir}/src/main/resources&lt;/additionalAppResources&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-jar&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-native&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-native&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\n            &lt;artifactId&gt;Integration_Project_Backend&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230227&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>i cannot solve this question,why is this not working? i dont know please someone help me</p>\n<p>and here is my .iss file:</p>\n<pre><code>[Setup]\nAppId={{UPDATE-DETECTION}}\nAppName=Integration_Project-1.0-SNAPSHOT\nAppVersion=1.0\nAppVerName=IntegrationProject-1.0-SNAPSHOT 1.0\nAppPublisher=Einstein\nAppComments=IntegrationProject-1.0\nAppCopyright=Copyright (C) 2023\n;AppPublisherURL=http://java.com/\n;AppSupportURL=http://java.com/\n;AppUpdatesURL=http://java.com/\nDefaultDirName={localappdata}\\Integration_Project-1.0-SNAPSHOT\nDisableStartupPrompt=Yes\nDisableDirPage=Yes\nDisableProgramGroupPage=Yes\nDisableReadyPage=Yes\nDisableFinishedPage=Yes\nDisableWelcomePage=Yes\nDefaultGroupName=Einstein\n;Optional License\nLicenseFile=\n;WinXP or above\nMinVersion=6\nOutputBaseFilename=IntegrationProject\nCompression=lzma\nSolidCompression=yes\nPrivilegesRequired=lowest\nSetupIconFile=Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.ico\nUninstallDisplayIcon={app}\\IntegrationProject-1.0.ico\nUninstallDisplayName=Integration_Project-1.0-SNAPSHOT\nWizardImageStretch=No\nWizardSmallImageFile=Integration_Project-1.0-SNAPSHOT-setup-icon.bmp\nArchitecturesInstallIn64BitMode=\n\n\n\n[Languages]\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\nName: &quot;brazilianportuguese&quot;; MessagesFile: &quot;compiler:Languages\\BrazilianPortuguese.isl&quot;\n\n[Files]\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.exe&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\*&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion recursesubdirs createallsubdirs\n\n[Icons]\nName: &quot;{group}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename: &quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\nName: &quot;{commondesktop}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename:&quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\n\n[Run]\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Description:&quot;{cm:LaunchProgram,Integration_Project-1.0-SNAPSHOT}&quot;; Flags: nowait postinstall skipifsilent;\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Parameters:&quot;-install  -svcName &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -svcDesc &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -mainExe &quot;&quot;Integration_Project-1.0-SNAPSHOT.exe&quot;&quot; &quot;;\n\n[UninstallRun]\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe &quot;; Parameters: &quot;-uninstall -svcName IntegrationProject-1.0 -stopOnUninstall&quot;;\n</code></pre>\n<p>can someone tell me why my .exe is with an random icon ?</p>\n<p>Atualization: the windows dont find the .ico</p>\n"},{"tags":["java","sql","hibernate","hibernate-criteria"],"answers":[{"comments":[{"owner":{"account_id":4165402,"reputation":684,"user_id":3414467,"accept_rate":71,"display_name":"Eskir"},"score":0,"creation_date":1635769675,"post_id":69796805,"comment_id":123374326,"body_markdown":"I&#39;m trying to replicate this functionality with plain SQL, this has nothing to do with java/hiberante besides that this is where I discovered it. Check out the SO Answer I linked in my question, it already explains what you&#39;ve said here. I&#39;m interested in the mechanism behind these/that hibernate feature.","body":"I&#39;m trying to replicate this functionality with plain SQL, this has nothing to do with java/hiberante besides that this is where I discovered it. Check out the SO Answer I linked in my question, it already explains what you&#39;ve said here. I&#39;m interested in the mechanism behind these/that hibernate feature."}],"tags":[],"owner":{"account_id":23167941,"reputation":1,"user_id":17267587,"display_name":"Arun_Raja"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635768998,"creation_date":1635768998,"answer_id":69796805,"question_id":69795987,"body_markdown":"I found out that we can get distinct result using following two different ways\r\n\r\n    Projections.distinct(Projections.property(&quot;id&quot;));\r\n\r\nHere this is the Projections giving the same results as\r\n\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n\r\n","title":"How does Criteria.DISTINCT_ROOT_ENTITY actually work?","body":"<p>I found out that we can get distinct result using following two different ways</p>\n<pre><code>Projections.distinct(Projections.property(&quot;id&quot;));\n</code></pre>\n<p>Here this is the Projections giving the same results as</p>\n<pre><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4165402,"reputation":684,"user_id":3414467,"accept_rate":71,"display_name":"Eskir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690954854,"creation_date":1635857547,"answer_id":69810800,"question_id":69795987,"body_markdown":"After some searching, experimenting, and generally being confused - it seems as if DISTINCT_ROOT_ENTITY does not make any actual decision making in how it determines the values from Table B. It just takes the first value of the result set from the JOIN &quot;randomly&quot;.\r\n\r\nSo the code I&#39;m trying to base my SQL off of is actually wrong and dangerous for the application it&#39;s in. Good to know. *Cough*","title":"How does Criteria.DISTINCT_ROOT_ENTITY actually work?","body":"<p>After some searching, experimenting, and generally being confused - it seems as if DISTINCT_ROOT_ENTITY does not make any actual decision making in how it determines the values from Table B. It just takes the first value of the result set from the JOIN &quot;randomly&quot;.</p>\n<p>So the code I'm trying to base my SQL off of is actually wrong and dangerous for the application it's in. Good to know. <em>Cough</em></p>\n"}],"owner":{"account_id":4165402,"reputation":684,"user_id":3414467,"accept_rate":71,"display_name":"Eskir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69810800,"answer_count":2,"score":1,"last_activity_date":1690954854,"creation_date":1635764556,"question_id":69795987,"body_markdown":"I am currently trying to build an SQL (plain SQL, directly executed on the database - I&#39;m not using hibernate for this in particular) to get data from my database. It&#39;s an export based on a Java-implemented (hibernate) criteria query to which I want to add additional information from additional tables.\r\n\r\nIn Java Criteria queries, I have a statement as follows:\r\n\r\n    Criteria criteria = session.createCriteria(MyEntity.class);\r\n\t\t\t\t\tcriteria.createCriteria(&quot;fk&quot;).add(Restrictions.in(&quot;sysid&quot;, &lt;&lt;someListofIDsfromPreviousQuery&gt;&gt;))\r\n\t\t\t\t\tcriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n\t\t\t\t\treturn criteria.list();\r\n\r\nWhich results in a 1-1 result set from a list of IDs from Table A (&quot;someListofIDsFromPreviousQuery&quot;) to which there are multiple results in Table B (&quot;MyEntity.class&quot;).\r\n\r\n[I know what DISTINCT_ROOT_ENTITY does][1] but I&#39;m wondering how it *actually works*, meaning, what would an equivalent SQL look like?\r\n\r\nExample according to the criteria query above:\r\n\r\n    SELECT COUNT(*) FROM TABLEA a \r\n    WHERE a.property1=someValue AND a.property2=someOtherValue;\r\n\r\nReturns 2000 results. (This is my list of IDs)\r\n\r\n    SELECT COUNT(*) FROM TABLEA a\r\n    JOIN TABLEB b ON b.fk = a.sysid -- &lt;-- this is basically equivalent to what the criteria query above does, no?\r\n    WHERE a.property1=someValue AND a.property2=someOtherValue;\r\n\r\nReturns 2500 results.\r\n\r\nHow does Critera.DISTINCT_ROOT_ENTITY actually chose which entry of TABLEB to pick as its &quot;distinct entity&quot;? Or am I getting something wrong here?\r\n\r\nIf it makes a difference: I&#39;m trying to write my query in OracleDB SQL Dialect.\r\n\r\n  [1]: https://stackoverflow.com/a/25541384/3414467","title":"How does Criteria.DISTINCT_ROOT_ENTITY actually work?","body":"<p>I am currently trying to build an SQL (plain SQL, directly executed on the database - I'm not using hibernate for this in particular) to get data from my database. It's an export based on a Java-implemented (hibernate) criteria query to which I want to add additional information from additional tables.</p>\n<p>In Java Criteria queries, I have a statement as follows:</p>\n<pre><code>Criteria criteria = session.createCriteria(MyEntity.class);\n                criteria.createCriteria(&quot;fk&quot;).add(Restrictions.in(&quot;sysid&quot;, &lt;&lt;someListofIDsfromPreviousQuery&gt;&gt;))\n                criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n                return criteria.list();\n</code></pre>\n<p>Which results in a 1-1 result set from a list of IDs from Table A (&quot;someListofIDsFromPreviousQuery&quot;) to which there are multiple results in Table B (&quot;MyEntity.class&quot;).</p>\n<p><a href=\"https://stackoverflow.com/a/25541384/3414467\">I know what DISTINCT_ROOT_ENTITY does</a> but I'm wondering how it <em>actually works</em>, meaning, what would an equivalent SQL look like?</p>\n<p>Example according to the criteria query above:</p>\n<pre><code>SELECT COUNT(*) FROM TABLEA a \nWHERE a.property1=someValue AND a.property2=someOtherValue;\n</code></pre>\n<p>Returns 2000 results. (This is my list of IDs)</p>\n<pre><code>SELECT COUNT(*) FROM TABLEA a\nJOIN TABLEB b ON b.fk = a.sysid -- &lt;-- this is basically equivalent to what the criteria query above does, no?\nWHERE a.property1=someValue AND a.property2=someOtherValue;\n</code></pre>\n<p>Returns 2500 results.</p>\n<p>How does Critera.DISTINCT_ROOT_ENTITY actually chose which entry of TABLEB to pick as its &quot;distinct entity&quot;? Or am I getting something wrong here?</p>\n<p>If it makes a difference: I'm trying to write my query in OracleDB SQL Dialect.</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690928135,"post_id":76815177,"comment_id":135420656,"body_markdown":"All the clients of this bean have references to the same instance, so why don&#39;t you just modify the state of the bean?","body":"All the clients of this bean have references to the same instance, so why don&#39;t you just modify the state of the bean?"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690953300,"post_id":76815177,"comment_id":135422814,"body_markdown":"How can I do that?","body":"How can I do that?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690953388,"post_id":76815177,"comment_id":135422824,"body_markdown":"Call a setter on the bean. e.g `myAutowiredConfigDataInstance.setScheduledConfig(newScheduledConfig)`","body":"Call a setter on the bean. e.g <code>myAutowiredConfigDataInstance.setScheduledConfig(newSchedule&zwnj;&#8203;dConfig)</code>"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690953782,"post_id":76815177,"comment_id":135422867,"body_markdown":"But it will work only in Java class, where I will change it, so I want to adjust in all classes, where it&#39;s ```@Autowired```, understand?","body":"But it will work only in Java class, where I will change it, so I want to adjust in all classes, where it&#39;s <code>@Autowired</code>, understand?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954014,"post_id":76815177,"comment_id":135422885,"body_markdown":"All of those auto wired references point to the same bean. Spring beans are (by default) singletons. So when you change a field, all the other clients of that bean will see it.","body":"All of those auto wired references point to the same bean. Spring beans are (by default) singletons. So when you change a field, all the other clients of that bean will see it."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954145,"post_id":76815177,"comment_id":135422900,"body_markdown":"Okay, where can I change the bean&#39;s state, which class? In the same ```MongoConfig```? Or do I need to make another class?","body":"Okay, where can I change the bean&#39;s state, which class? In the same <code>MongoConfig</code>? Or do I need to make another class?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954245,"post_id":76815177,"comment_id":135422910,"body_markdown":"You say you want some code which runs every 5 minutes and loads state from the DB? Make a bean with an @Scheduled method and do it there.","body":"You say you want some code which runs every 5 minutes and loads state from the DB? Make a bean with an @Scheduled method and do it there."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954509,"post_id":76815177,"comment_id":135422946,"body_markdown":"Please edit your question with clarifications, code is comments is unreadable.","body":"Please edit your question with clarifications, code is comments is unreadable."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954569,"post_id":76815177,"comment_id":135422954,"body_markdown":"I&#39;ve posted in answers","body":"I&#39;ve posted in answers"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954747,"post_id":76815177,"comment_id":135422976,"body_markdown":"Time to do some debugging. Is that method getting called? Is it getting different values from the DB? How can you tell that your configData bean isn&#39;t being updated?","body":"Time to do some debugging. Is that method getting called? Is it getting different values from the DB? How can you tell that your configData bean isn&#39;t being updated?"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954841,"post_id":76815177,"comment_id":135422983,"body_markdown":"I have another scheduler, which calls ConfigData and It&#39;s not modify, It&#39;s only calls ```CofnigData``` by ```@Autowired```","body":"I have another scheduler, which calls ConfigData and It&#39;s not modify, It&#39;s only calls <code>CofnigData</code> by <code>@Autowired</code>"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954983,"post_id":76815177,"comment_id":135422995,"body_markdown":"When I call ```mongoConfig.configData()```, it doesn&#39;t get the last DB updates...","body":"When I call <code>mongoConfig.configData()</code>, it doesn&#39;t get the last DB updates..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690955038,"post_id":76815177,"comment_id":135423000,"body_markdown":"Use the configDataService directly.","body":"Use the configDataService directly."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690955154,"post_id":76815177,"comment_id":135423011,"body_markdown":"Ah now it works, when I use directly ```ConfigDataService```, thank you!","body":"Ah now it works, when I use directly <code>ConfigDataService</code>, thank you!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690955305,"post_id":76815177,"comment_id":135423024,"body_markdown":"I think `MongoConfig.configdata()`, because it is in a @Config class with a @Bean annotation is a proxy which always returns the same instance.","body":"I think <code>MongoConfig.configdata()</code>, because it is in a @Config class with a @Bean annotation is a proxy which always returns the same instance."}],"answers":[{"comments":[{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690953428,"post_id":76816601,"comment_id":135422827,"body_markdown":"Well, I want to change the content of the ConfigData&#39;s Bean without recompilation.\nSo what I mean: ConfigData gets data from the database while compiling, after some changes into the database, I want maybe once in 5 minutes or maybe with some API request to change ConfigData with the last database changes.","body":"Well, I want to change the content of the ConfigData&#39;s Bean without recompilation. So what I mean: ConfigData gets data from the database while compiling, after some changes into the database, I want maybe once in 5 minutes or maybe with some API request to change ConfigData with the last database changes."},{"owner":{"account_id":11162384,"reputation":72,"user_id":8192032,"display_name":"LeoFuso"},"score":0,"creation_date":1690990477,"post_id":76816601,"comment_id":135430748,"body_markdown":"Right, but my suggestion didn&#39;t imply any recompilation, either way, since you didn&#39;t give much detail about your scenario&#39;s limitation, I&#39;ve just wanted to give you more options! The second part of my suggestion, however, would suffice for your scenario. I don&#39;t get the down vote, tho.","body":"Right, but my suggestion didn&#39;t imply any recompilation, either way, since you didn&#39;t give much detail about your scenario&#39;s limitation, I&#39;ve just wanted to give you more options! The second part of my suggestion, however, would suffice for your scenario. I don&#39;t get the down vote, tho."}],"tags":[],"owner":{"account_id":11162384,"reputation":72,"user_id":8192032,"display_name":"LeoFuso"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690949924,"creation_date":1690949924,"answer_id":76816601,"question_id":76815177,"body_markdown":"If you don&#39;t want to change the content of the ConfigData&#39;s Bean, as suggested, you could make use of a Prototype Bean, here&#39;s an [article][1] giving some context.\r\n\r\nHowever, if changing the content of the  ConfigData&#39;s Bean isn&#39;t a problem, I think you&#39;ll still need to implement some kind of [Observer][2] to notify the ConfigData&#39;s dependents, unless, of course, the values are only relevant in some kind of method invocation.\r\n\r\n  [1]: https://www.baeldung.com/spring-inject-prototype-bean-into-singleton\r\n  [2]: https://refactoring.guru/design-patterns/observer","title":"How to reinitialize a Spring Bean which is @Document?","body":"<p>If you don't want to change the content of the ConfigData's Bean, as suggested, you could make use of a Prototype Bean, here's an <a href=\"https://www.baeldung.com/spring-inject-prototype-bean-into-singleton\" rel=\"nofollow noreferrer\">article</a> giving some context.</p>\n<p>However, if changing the content of the  ConfigData's Bean isn't a problem, I think you'll still need to implement some kind of <a href=\"https://refactoring.guru/design-patterns/observer\" rel=\"nofollow noreferrer\">Observer</a> to notify the ConfigData's dependents, unless, of course, the values are only relevant in some kind of method invocation.</p>\n"}],"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690954763,"creation_date":1690924009,"question_id":76815177,"body_markdown":"I have a Spring Bean, which is annotated by ```@Document```, So I create ```@Bean``` for this class, to make able to get this class by ```@Autowired```. But now I want to change the content of this Bean, so after 5 seconds it will automatically change the content of this bean (For example if something changes in Collection, ```@Autowired``` class will get these changes automatically). How can I do that? &lt;br&gt;\r\nClass, which I have as a ```@Bean```: &lt;br&gt;\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@Document(collection = CollectionNames.CONFIG_DATA)\r\npublic class ConfigData {\r\n    @Id\r\n    private String id;\r\n    private Profiles profiles;\r\n    private EmailConfig emailConfig;\r\n    private ScheduledConfig scheduledConfig;\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public static class EmailConfig {\r\n        private String email;\r\n        private String password;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public static class ScheduledConfig {\r\n        private Long time;\r\n        private TimeUnit timeUnit;\r\n\r\n        public long convertToMilliseconds(long value, TimeUnit unit) {\r\n            return switch (unit) {\r\n                case HOURS -&gt; java.util.concurrent.TimeUnit.HOURS.toMillis(value);\r\n                case MINUTES -&gt; java.util.concurrent.TimeUnit.MINUTES.toMillis(value);\r\n                case SECONDS -&gt; java.util.concurrent.TimeUnit.SECONDS.toMillis(value);\r\n            };\r\n        }\r\n\r\n        public enum TimeUnit {\r\n            HOURS, MINUTES, SECONDS\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere I create ```@Bean``` to this class: &lt;br&gt;\r\n\r\n```java\r\n@Configuration\r\npublic class MongoConfig {\r\n    @Autowired\r\n    private ConfigDataService configDataService;\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Bean\r\n    public ConfigData configData() {\r\n        return configDataService.getConfigDataByProfile(Profiles.valueOf(environment.getActiveProfiles()[0].toUpperCase(Locale.ROOT)));\r\n    }\r\n}\r\n```\r\nI try many ways, I try by deleting Bean with ```DefaultSingletonBeanRegistry``` by using the method ```destroySingleton``` and then ```registerSingleton``` but it causes Error messages. &lt;br&gt;\r\n\r\nI also add scheduler to update ConfigData, but it&#39;s not working: &lt;br&gt;\r\n```java\r\n@Service\r\npublic class TestOne {\r\n    @Autowired\r\n    private MongoConfig mongoConfig;\r\n    @Autowired\r\n    private ConfigData configData;\r\n\r\n    @Scheduled(fixedRate = 1000)\r\n    public void test() {\r\n        ConfigData configData1 = mongoConfig.configData();\r\n        configData.setScheduledConfig(configData1.getScheduledConfig());\r\n    }\r\n}\r\n```","title":"How to reinitialize a Spring Bean which is @Document?","body":"<p>I have a Spring Bean, which is annotated by <code>@Document</code>, So I create <code>@Bean</code> for this class, to make able to get this class by <code>@Autowired</code>. But now I want to change the content of this Bean, so after 5 seconds it will automatically change the content of this bean (For example if something changes in Collection, <code>@Autowired</code> class will get these changes automatically). How can I do that? <br>\nClass, which I have as a <code>@Bean</code>: <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Document(collection = CollectionNames.CONFIG_DATA)\npublic class ConfigData {\n    @Id\n    private String id;\n    private Profiles profiles;\n    private EmailConfig emailConfig;\n    private ScheduledConfig scheduledConfig;\n\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString\n    public static class EmailConfig {\n        private String email;\n        private String password;\n    }\n\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString\n    public static class ScheduledConfig {\n        private Long time;\n        private TimeUnit timeUnit;\n\n        public long convertToMilliseconds(long value, TimeUnit unit) {\n            return switch (unit) {\n                case HOURS -&gt; java.util.concurrent.TimeUnit.HOURS.toMillis(value);\n                case MINUTES -&gt; java.util.concurrent.TimeUnit.MINUTES.toMillis(value);\n                case SECONDS -&gt; java.util.concurrent.TimeUnit.SECONDS.toMillis(value);\n            };\n        }\n\n        public enum TimeUnit {\n            HOURS, MINUTES, SECONDS\n        }\n    }\n}\n</code></pre>\n<p>Where I create <code>@Bean</code> to this class: <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MongoConfig {\n    @Autowired\n    private ConfigDataService configDataService;\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public ConfigData configData() {\n        return configDataService.getConfigDataByProfile(Profiles.valueOf(environment.getActiveProfiles()[0].toUpperCase(Locale.ROOT)));\n    }\n}\n</code></pre>\n<p>I try many ways, I try by deleting Bean with <code>DefaultSingletonBeanRegistry</code> by using the method <code>destroySingleton</code> and then <code>registerSingleton</code> but it causes Error messages. <br></p>\n<p>I also add scheduler to update ConfigData, but it's not working: <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TestOne {\n    @Autowired\n    private MongoConfig mongoConfig;\n    @Autowired\n    private ConfigData configData;\n\n    @Scheduled(fixedRate = 1000)\n    public void test() {\n        ConfigData configData1 = mongoConfig.configData();\n        configData.setScheduledConfig(configData1.getScheduledConfig());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","illegalargumentexception","android-fileprovider","android-11"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1620037395,"post_id":67367047,"comment_id":119074141,"body_markdown":"I&#39;m no expert here but `values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath);` looks like you might have to put a path _relative_ to the downloads directory, i.e. `&quot;appFolderName&quot;` in your case. Just a guess though.","body":"I&#39;m no expert here but <code>values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath);</code> looks like you might have to put a path <i>relative</i> to the downloads directory, i.e. <code>&quot;appFolderName&quot;</code> in your case. Just a guess though."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1620038094,"post_id":67367047,"comment_id":119074415,"body_markdown":"I can&#39;t tell about the new error but on the previous one I&#39;d have a question: what do `Environment.DIRECTORY_DOCUMENTS` and `mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)` return? I&#39;d assume the former acutally already describes the &quot;Documents&quot; directory you&#39;re working with while the latter might return null or an empty string thus resulting in a path like `&quot;/appFolderName&quot;`.","body":"I can&#39;t tell about the new error but on the previous one I&#39;d have a question: what do <code>Environment.DIRECTORY_DOCUMENTS</code> and <code>mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS&zwnj;&#8203;)</code> return? I&#39;d assume the former acutally already describes the &quot;Documents&quot; directory you&#39;re working with while the latter might return null or an empty string thus resulting in a path like <code>&quot;&#47;appFolderName&quot;</code>."},{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"score":0,"creation_date":1620251007,"post_id":67367047,"comment_id":119149090,"body_markdown":"I found a solution. Apperantly there is no permission to write in documents in Android 11. But apperantly downloads folder are permissed to write folder/file.","body":"I found a solution. Apperantly there is no permission to write in documents in Android 11. But apperantly downloads folder are permissed to write folder/file."}],"answers":[{"comments":[{"owner":{"account_id":1268962,"reputation":4245,"user_id":1225669,"accept_rate":64,"display_name":"valerybodak"},"score":0,"creation_date":1630915348,"post_id":67408905,"comment_id":122075326,"body_markdown":"But the function mContext.getExternalFilesDir(...) returns File. Not string.","body":"But the function mContext.getExternalFilesDir(...) returns File. Not string."}],"tags":[],"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636281304,"creation_date":1620249822,"answer_id":67408905,"question_id":67367047,"body_markdown":"I finally found a solution. I can&#39;t say it&#39;s a best solution but it works perfectly.\r\n\r\n    folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\r\n\r\nto\r\n\r\n    folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;appFolderName&quot;;\r\n\r\n\r\nI suppose in Android 11, they **allowed to create folder/file in DOWNLOADS** folder but **not DOCUMENTS**. Best regards.\r\n\r\n**Note for Huawei Developers**: You just keep the current file writing strategy. No need to Android 11 special code for now. I tried the new file writing method and it crashed. Apperantly, they didn&#39;t fully implemented Android 11.","title":"Android 11: Primary directory (invalid) not allowed for content://media/external/file allowed directories are [Download, Documents]","body":"<p>I finally found a solution. I can't say it's a best solution but it works perfectly.</p>\n<pre><code>folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\n</code></pre>\n<p>to</p>\n<pre><code>folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;appFolderName&quot;;\n</code></pre>\n<p>I suppose in Android 11, they <strong>allowed to create folder/file in DOWNLOADS</strong> folder but <strong>not DOCUMENTS</strong>. Best regards.</p>\n<p><strong>Note for Huawei Developers</strong>: You just keep the current file writing strategy. No need to Android 11 special code for now. I tried the new file writing method and it crashed. Apperantly, they didn't fully implemented Android 11.</p>\n"}],"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29983,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67408905,"answer_count":1,"score":3,"last_activity_date":1690954313,"creation_date":1620036349,"question_id":67367047,"body_markdown":"I am trying to **create PDF file** from base64 string. Because of *[Storage Update in Android 11][1]*, I have to change my code but I&#39;m getting following error in Android 11 devices:\r\n\r\n    java.lang.IllegalArgumentException: Primary directory (invalid) not allowed for content://media/external/file; allowed directories are [Download, Documents]\r\n       at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\r\n       at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\r\n       at android.content.ContentProviderProxy.insert(ContentProviderNative.java:549)\r\n       at android.content.ContentResolver.insert(ContentResolver.java:2149)\r\n       at android.content.ContentResolver.insert(ContentResolver.java:2111)\r\n\r\nThis code create a PDF file and save it into folder.\r\n\r\n    public static void createPDF(Context mContext, String fileName, String base64) {\r\n        try {\r\n            String folderPath;\r\n            File dwldsPath;\r\n\r\n            if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\r\n                folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\r\n                dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\r\n\r\n                File folder = new File(folderPath);\r\n                folder.mkdirs();\r\n\r\n                ContentValues values = new ContentValues();\r\n                values.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName); // file name\r\n                values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;application/pdf&quot;); // file extension, will automatically add to file\r\n                values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath); // end &quot;/&quot; is not mandatory\r\n                Uri uriFile = mContext.getContentResolver().insert(MediaStore.Files.getContentUri(&quot;external&quot;), values); // important!\r\n                OutputStream outputStream = mContext.getContentResolver().openOutputStream(uriFile);\r\n                outputStream.write(Base64.decode(base64, 0));\r\n                outputStream.close();\r\n            } else {\r\n                folderPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\r\n                dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\r\n\r\n                File folder = new File(folderPath);\r\n                folder.mkdirs();\r\n\r\n                FileOutputStream os = new FileOutputStream(dwldsPath, false);\r\n                os.write(Base64.decode(base64, 0));\r\n                os.flush();\r\n                os.close();\r\n            }\r\n\r\n            openPDF(mContext, dwldsPath);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ActivityNotFoundException e) {\r\n            Toast.makeText(mContext, &quot;No PDF Viewer Installed&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\nThis code is working for opening file\r\n\r\n      public static void openPDF(Context mContext, File dwldsPath) {\r\n            Intent intentUrl = new Intent(Intent.ACTION_VIEW);\r\n            Uri uri = FileProvider.getUriForFile(mContext, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, dwldsPath);\r\n            intentUrl.setDataAndType(uri, &quot;application/pdf&quot;);\r\n            intentUrl.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            intentUrl.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            mContext.startActivity(intentUrl);\r\n        }\r\n\r\nIn addition to this error, **folder.mkdirs() returns false** in Android 11. Here is provider_paths.xml and defined in AndroidManifest.xml\r\n   \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;external-path\r\n            name=&quot;external&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;external-files-path\r\n            name=&quot;external_files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;files-path\r\n            name=&quot;files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nI google it but I couldn&#39;t find any working solution to fix problem. Thanks in advance.\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/storage","title":"Android 11: Primary directory (invalid) not allowed for content://media/external/file allowed directories are [Download, Documents]","body":"<p>I am trying to <strong>create PDF file</strong> from base64 string. Because of <em><a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Storage Update in Android 11</a></em>, I have to change my code but I'm getting following error in Android 11 devices:</p>\n<pre><code>java.lang.IllegalArgumentException: Primary directory (invalid) not allowed for content://media/external/file; allowed directories are [Download, Documents]\n   at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\n   at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\n   at android.content.ContentProviderProxy.insert(ContentProviderNative.java:549)\n   at android.content.ContentResolver.insert(ContentResolver.java:2149)\n   at android.content.ContentResolver.insert(ContentResolver.java:2111)\n</code></pre>\n<p>This code create a PDF file and save it into folder.</p>\n<pre><code>public static void createPDF(Context mContext, String fileName, String base64) {\n    try {\n        String folderPath;\n        File dwldsPath;\n\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\n            folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\n            dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\n\n            File folder = new File(folderPath);\n            folder.mkdirs();\n\n            ContentValues values = new ContentValues();\n            values.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName); // file name\n            values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;application/pdf&quot;); // file extension, will automatically add to file\n            values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath); // end &quot;/&quot; is not mandatory\n            Uri uriFile = mContext.getContentResolver().insert(MediaStore.Files.getContentUri(&quot;external&quot;), values); // important!\n            OutputStream outputStream = mContext.getContentResolver().openOutputStream(uriFile);\n            outputStream.write(Base64.decode(base64, 0));\n            outputStream.close();\n        } else {\n            folderPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\n            dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\n\n            File folder = new File(folderPath);\n            folder.mkdirs();\n\n            FileOutputStream os = new FileOutputStream(dwldsPath, false);\n            os.write(Base64.decode(base64, 0));\n            os.flush();\n            os.close();\n        }\n\n        openPDF(mContext, dwldsPath);\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ActivityNotFoundException e) {\n        Toast.makeText(mContext, &quot;No PDF Viewer Installed&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>This code is working for opening file</p>\n<pre><code>  public static void openPDF(Context mContext, File dwldsPath) {\n        Intent intentUrl = new Intent(Intent.ACTION_VIEW);\n        Uri uri = FileProvider.getUriForFile(mContext, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, dwldsPath);\n        intentUrl.setDataAndType(uri, &quot;application/pdf&quot;);\n        intentUrl.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intentUrl.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        mContext.startActivity(intentUrl);\n    }\n</code></pre>\n<p>In addition to this error, <strong>folder.mkdirs() returns false</strong> in Android 11. Here is provider_paths.xml and defined in AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path\n        name=&quot;external&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-files-path\n        name=&quot;external_files&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;files-path\n        name=&quot;files&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>I google it but I couldn't find any working solution to fix problem. Thanks in advance.</p>\n"},{"tags":["java","class","object","oop","program-entry-point"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690954194,"post_id":76816855,"comment_id":135422905,"body_markdown":"You could ask that question for every class that is not designed to be instantiated - `System`, `Math`, etc. At the end of the day, it comes down to the (arguably questionable) design decisions of the language.","body":"You could ask that question for every class that is not designed to be instantiated - <code>System</code>, <code>Math</code>, etc. At the end of the day, it comes down to the (arguably questionable) design decisions of the language."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1690954422,"post_id":76816855,"comment_id":135422934,"body_markdown":"Seems to have some philosophical overtones","body":"Seems to have some philosophical overtones"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1690954461,"post_id":76816855,"comment_id":135422937,"body_markdown":"*Why Can&#39;t the main function be written separately without being included in a Class* It is possible in a project to have multiple `Main` Methods.  As they are in classes, which Main method you want to call is unambiguous.","body":"<i>Why Can&#39;t the main function be written separately without being included in a Class</i> It is possible in a project to have multiple <code>Main</code> Methods.  As they are in classes, which Main method you want to call is unambiguous."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1690955244,"post_id":76816855,"comment_id":135423020,"body_markdown":"I contest that we keep this question open, or point to duplicate with a more recent answer. Java 21 is going to change the answer to this question ***significantly***, and therefore, we should have the opportunity to answer it with a fresh pair of eyes.","body":"I contest that we keep this question open, or point to duplicate with a more recent answer. Java 21 is going to change the answer to this question <b><i>significantly</i></b>, and therefore, we should have the opportunity to answer it with a fresh pair of eyes."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955492,"post_id":76816855,"comment_id":135423043,"body_markdown":"Plus, the linked duplicate is full of bad and incomplete answers. None of them do a good job of answering this question. If we are going to flag things as duplicate, we should do a better job than this to point to the correct answer.","body":"Plus, the linked duplicate is full of bad and incomplete answers. None of them do a good job of answering this question. If we are going to flag things as duplicate, we should do a better job than this to point to the correct answer."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955649,"post_id":76816855,"comment_id":135423066,"body_markdown":"Someone notify when this question becomes unduplicated/reopened. I had a nice, detailed answer I was working on that would have addressed this answer for past, present, and future, as well as by addressing some of the mistaken (but understandable) assumptions that many beginners (like OP) have fallen into.","body":"Someone notify when this question becomes unduplicated/reopened. I had a nice, detailed answer I was working on that would have addressed this answer for past, present, and future, as well as by addressing some of the mistaken (but understandable) assumptions that many beginners (like OP) have fallen into."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1690955653,"post_id":76816855,"comment_id":135423067,"body_markdown":"@davidalayachew - why not add an up-to-date answer in the linked duplicate ?","body":"@davidalayachew - why not add an up-to-date answer in the linked duplicate ?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955878,"post_id":76816855,"comment_id":135423098,"body_markdown":"@ScaryWombat Ignoring the fact that the question has a whole bunch of terrible answers that would drown out mine, it&#39;s also because the question is 7+ years old. The OP for that post has not logged on in over a year, so my answer would be sitting there, unaccepted. If I am going to answer this question, I want to answer it thoroughly, in such a way that the clearly correct answer can sit at the top and be scrutinized while all of the experts are still going through the new questions.","body":"@ScaryWombat Ignoring the fact that the question has a whole bunch of terrible answers that would drown out mine, it&#39;s also because the question is 7+ years old. The OP for that post has not logged on in over a year, so my answer would be sitting there, unaccepted. If I am going to answer this question, I want to answer it thoroughly, in such a way that the clearly correct answer can sit at the top and be scrutinized while all of the experts are still going through the new questions."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955947,"post_id":76816855,"comment_id":135423105,"body_markdown":"@ScaryWombat Furthermore, I don&#39;t see any great answers to this question that include Java 21. I want to write a super detailed answer such that, any future people that ask this question can get pointed to my answer and they will have a clear, details answer to meet any of their questions.","body":"@ScaryWombat Furthermore, I don&#39;t see any great answers to this question that include Java 21. I want to write a super detailed answer such that, any future people that ask this question can get pointed to my answer and they will have a clear, details answer to meet any of their questions."},{"owner":{"account_id":22548247,"reputation":31,"user_id":16737768,"display_name":"nick"},"score":0,"creation_date":1690961499,"post_id":76816855,"comment_id":135424040,"body_markdown":"@davidalayachew can you please write your answer here in the comment section? I am eager to know your take on this.","body":"@davidalayachew can you please write your answer here in the comment section? I am eager to know your take on this."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690966702,"post_id":76816855,"comment_id":135425166,"body_markdown":"@nick Not in the comments section, but here is a link to StackOverflow Chat. I&#39;ll post the answer there. https://chat.stackoverflow.com/rooms/139/java","body":"@nick Not in the comments section, but here is a link to StackOverflow Chat. I&#39;ll post the answer there. <a href=\"https://chat.stackoverflow.com/rooms/139/java\">chat.stackoverflow.com/rooms/139/java</a>"}],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1690954427,"post_id":76816878,"comment_id":135422935,"body_markdown":"This does not answer their question. They are not asking what a &quot;Main class&quot; is, they are trying to understand why it works the way it does, and where it stands relative to the rest of the class structure.","body":"This does not answer their question. They are not asking what a &quot;Main class&quot; is, they are trying to understand why it works the way it does, and where it stands relative to the rest of the class structure."}],"tags":[],"owner":{"account_id":29103359,"reputation":1,"user_id":22294724,"display_name":"John Pareto"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690954195,"creation_date":1690954195,"answer_id":76816878,"question_id":76816855,"body_markdown":"The main class is the class which will be called when you start your program. So this is the place where you intialialize the classes you will be using and where you call the methods to start your code working.","title":"What kind of entity does the Main Class in Java represent?","body":"<p>The main class is the class which will be called when you start your program. So this is the place where you intialialize the classes you will be using and where you call the methods to start your code working.</p>\n"}],"owner":{"account_id":22548247,"reputation":31,"user_id":16737768,"display_name":"nick"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1690954301,"answer_count":1,"score":3,"last_activity_date":1690954195,"creation_date":1690953913,"question_id":76816855,"body_markdown":"Whenever we see an introduction to Object Oriented Programming, we commonly come across this explanation, A class is a blueprint of an object, it can be used to represent a real world entity virtually, like for example a vehicle, each entity has certain properties and behavior(in this case let&#39;s say properties would be number of wheels, make and model of the car and behavior would be honking, driving, applying brakes etc), which can represented as variables and functions in the class respectively.\r\n\r\nNow, when we come across a whole bunch of classes in a project, we can see that there is one particular Main class, in which there are no variables and other methods as such(other than the Main method)but we see objects of other classes being created inside the main function and several other methods being called and executed, other operations being performed. \r\n\r\n\r\n\r\nIn this case, what kind of a real world entity is the Main class representing which has no property or behavior? If the whole purpose of introducing classes and objects is to virtualize real world entities then what sort of a class is the main class?\r\n\r\nAlso, if this Class is not representing any entity as such then why does the Main function have to be inside it? Why Can&#39;t the main function be written separately without being included in a Class, with the sole purpose of manipulating with objects of other classes or doing some other stuff? ","title":"What kind of entity does the Main Class in Java represent?","body":"<p>Whenever we see an introduction to Object Oriented Programming, we commonly come across this explanation, A class is a blueprint of an object, it can be used to represent a real world entity virtually, like for example a vehicle, each entity has certain properties and behavior(in this case let's say properties would be number of wheels, make and model of the car and behavior would be honking, driving, applying brakes etc), which can represented as variables and functions in the class respectively.</p>\n<p>Now, when we come across a whole bunch of classes in a project, we can see that there is one particular Main class, in which there are no variables and other methods as such(other than the Main method)but we see objects of other classes being created inside the main function and several other methods being called and executed, other operations being performed.</p>\n<p>In this case, what kind of a real world entity is the Main class representing which has no property or behavior? If the whole purpose of introducing classes and objects is to virtualize real world entities then what sort of a class is the main class?</p>\n<p>Also, if this Class is not representing any entity as such then why does the Main function have to be inside it? Why Can't the main function be written separately without being included in a Class, with the sole purpose of manipulating with objects of other classes or doing some other stuff?</p>\n"},{"tags":["java","elasticsearch","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1691874962,"post_id":76816740,"comment_id":135551064,"body_markdown":"Looks like someone or the questioner has opened a bug issue ticket. Leaving it here to be traced -&gt; https://github.com/opensearch-project/opensearch-java/issues/590","body":"Looks like someone or the questioner has opened a bug issue ticket. Leaving it here to be traced -&gt; <a href=\"https://github.com/opensearch-project/opensearch-java/issues/590\" rel=\"nofollow noreferrer\">github.com/opensearch-project/opensearch-java/issues/590</a>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1691875540,"post_id":76816740,"comment_id":135551129,"body_markdown":"could you please try the following code and report if the error is the same? `UpdateOperation&lt;Object&gt; updateOperation = new UpdateOperation.Builder&lt;&gt;().document(doc).index(indexName).id(id).build();\n        BulkOperation bulkOperation = new BulkOperation.Builder().update(updateOperation).build();\n        request.operations().add(bulkOperation);`","body":"could you please try the following code and report if the error is the same? <code>UpdateOperation&lt;Object&gt; updateOperation = new UpdateOperation.Builder&lt;&gt;().document(doc).index(indexName).i&zwnj;&#8203;d(id).build();         BulkOperation bulkOperation = new BulkOperation.Builder().update(updateOperation).build();         request.operations().add(bulkOperation);</code>"},{"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"score":0,"creation_date":1692034779,"post_id":76816740,"comment_id":135568399,"body_markdown":"@PanagiotisBougioukos, thanks for the suggestion. I will try and let you know.","body":"@PanagiotisBougioukos, thanks for the suggestion. I will try and let you know."},{"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"score":0,"creation_date":1692058138,"post_id":76816740,"comment_id":135571345,"body_markdown":"@PanagiotisBougioukos, I tried your suggestion above and it didn&#39;t work I am still getting 400 responses. The parsed JSON looks incorrect. ```{ &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }}\n{ &quot;status35&quot;: &quot;closed&quot; }.```","body":"@PanagiotisBougioukos, I tried your suggestion above and it didn&#39;t work I am still getting 400 responses. The parsed JSON looks incorrect. <code>{ &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }} { &quot;status35&quot;: &quot;closed&quot; }.</code>"}],"answers":[{"comments":[{"owner":{"account_id":12553052,"reputation":521,"user_id":9133903,"display_name":"Andy"},"score":1,"creation_date":1691054744,"post_id":76816822,"comment_id":135440656,"body_markdown":"you are making a good progress","body":"you are making a good progress"}],"tags":[],"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690953392,"creation_date":1690953392,"answer_id":76816822,"question_id":76816740,"body_markdown":"I come up with the two workarounds while waiting for the response:\r\n\r\n1.The current requirements allow me to switch to a single document update option. As mentioned in the question it works successfully. However, there is a high probability that in future I would need to update a set of documents, which is better to do using the bulk option.  \r\n\r\n 2.Create a class wrapper. It will have a `doc` field which allows receiving a required request structure after converting the object to JSON:\r\n\r\n\r\n\r\n    public class UpdateRootDocument&lt;T&gt; {\r\n    \r\n        T doc;\r\n    \r\n        public UpdateRootDocument(T doc) {\r\n            this.doc = doc;\r\n        }\r\n    \r\n        public T getDoc() {\r\n            return doc;\r\n        }\r\n    \r\n        public void setDoc(T doc) {\r\n            this.doc = doc;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"OpenSearch Java Client: bulk update for existing document results in 400 bad request","body":"<p>I come up with the two workarounds while waiting for the response:</p>\n<p>1.The current requirements allow me to switch to a single document update option. As mentioned in the question it works successfully. However, there is a high probability that in future I would need to update a set of documents, which is better to do using the bulk option.</p>\n<p>2.Create a class wrapper. It will have a <code>doc</code> field which allows receiving a required request structure after converting the object to JSON:</p>\n<pre><code>public class UpdateRootDocument&lt;T&gt; {\n\n    T doc;\n\n    public UpdateRootDocument(T doc) {\n        this.doc = doc;\n    }\n\n    public T getDoc() {\n        return doc;\n    }\n\n    public void setDoc(T doc) {\n        this.doc = doc;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690953597,"creation_date":1690952270,"question_id":76816740,"body_markdown":"I am implementing a [bulk update][1] operation using an [OpenSearch Java client][2] for existing documents stored in the OpenSearch provisioned by AWS. \r\n\r\nThe `BulkRequest` request object looks like this:\r\n\r\n    BulkRequest request = new BulkRequest.Builder().operations(o -&gt; o.update(u -&gt; u.index(indexName).id(String.valueOf(id)).document(doc))).build();\r\n            \r\n    openSearchClient.bulk(request);\r\n\r\nThe `doc` object is a POJO object that reflects a document inside the index.\r\n\r\n    public class ProgramSelectionInfoBase implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 6880667215923483985L;\r\n    \r\n    \tprivate long id;\r\n    \tprivate String status35;\r\n        // other fields, getters, setters.\r\n    \r\n    }\r\n\r\n\r\nThe response I am getting is **400 Bad Request** \r\n\r\nIn the debug mode, the parsed bulk request looks different as it should per the [bulk update][1] documentation. It lacks the `&quot;doc&quot;` parent object, which should wrap the partially updated document:\r\n\r\n    { &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }}\r\n    { &quot;status35&quot;: &quot;draft&quot; }. &lt;- doc is missing.\r\n\r\n\r\n    { &quot;update&quot;: { &quot;_index&quot;: &quot;movies&quot;, &quot;_id&quot;: &quot;tt0816711&quot; } }\r\n    { &quot;doc&quot;: { &quot;title&quot;: &quot;World War Z&quot; } }\r\n\r\nIf I replace a bulk update request with a single [document update][3] request, I get successful results. The parsed request structure matches the documentation one:\r\n\r\n    UpdateRequest&lt;Object, Object&gt; request = new UpdateRequest.Builder&lt;&gt;().id(String.valueOf(id)).doc(doc).index(indexName).build();\r\n    openSearchClient.update(request, Object.class);\r\n\r\n    {&quot;doc&quot;:{&quot;status35&quot;:&quot;active&quot;}}\r\n\r\n**Question:** Am I building a `BulkRequest` object incorrectly? Or this is the client library issue?\r\n\r\n**UPDATE** I am using the latest available OpenSearch Java client [version][4] \r\n\r\n\r\n  [1]: https://opensearch.org/docs/latest/api-reference/document-apis/bulk/\r\n  [2]: https://opensearch.org/docs/latest/clients/java/\r\n  [3]: https://opensearch.org/docs/latest/api-reference/document-apis/update-document/#example\r\n  [4]: https://opensearch.org/docs/latest/clients/java/#installing-the-client-using-restclient-transport","title":"OpenSearch Java Client: bulk update for existing document results in 400 bad request","body":"<p>I am implementing a <a href=\"https://opensearch.org/docs/latest/api-reference/document-apis/bulk/\" rel=\"noreferrer\">bulk update</a> operation using an <a href=\"https://opensearch.org/docs/latest/clients/java/\" rel=\"noreferrer\">OpenSearch Java client</a> for existing documents stored in the OpenSearch provisioned by AWS.</p>\n<p>The <code>BulkRequest</code> request object looks like this:</p>\n<pre><code>BulkRequest request = new BulkRequest.Builder().operations(o -&gt; o.update(u -&gt; u.index(indexName).id(String.valueOf(id)).document(doc))).build();\n        \nopenSearchClient.bulk(request);\n</code></pre>\n<p>The <code>doc</code> object is a POJO object that reflects a document inside the index.</p>\n<pre><code>public class ProgramSelectionInfoBase implements Serializable {\n\n    private static final long serialVersionUID = 6880667215923483985L;\n\n    private long id;\n    private String status35;\n    // other fields, getters, setters.\n\n}\n</code></pre>\n<p>The response I am getting is <strong>400 Bad Request</strong></p>\n<p>In the debug mode, the parsed bulk request looks different as it should per the <a href=\"https://opensearch.org/docs/latest/api-reference/document-apis/bulk/\" rel=\"noreferrer\">bulk update</a> documentation. It lacks the <code>&quot;doc&quot;</code> parent object, which should wrap the partially updated document:</p>\n<pre><code>{ &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }}\n{ &quot;status35&quot;: &quot;draft&quot; }. &lt;- doc is missing.\n\n\n{ &quot;update&quot;: { &quot;_index&quot;: &quot;movies&quot;, &quot;_id&quot;: &quot;tt0816711&quot; } }\n{ &quot;doc&quot;: { &quot;title&quot;: &quot;World War Z&quot; } }\n</code></pre>\n<p>If I replace a bulk update request with a single <a href=\"https://opensearch.org/docs/latest/api-reference/document-apis/update-document/#example\" rel=\"noreferrer\">document update</a> request, I get successful results. The parsed request structure matches the documentation one:</p>\n<pre><code>UpdateRequest&lt;Object, Object&gt; request = new UpdateRequest.Builder&lt;&gt;().id(String.valueOf(id)).doc(doc).index(indexName).build();\nopenSearchClient.update(request, Object.class);\n\n{&quot;doc&quot;:{&quot;status35&quot;:&quot;active&quot;}}\n</code></pre>\n<p><strong>Question:</strong> Am I building a <code>BulkRequest</code> object incorrectly? Or this is the client library issue?</p>\n<p><strong>UPDATE</strong> I am using the latest available OpenSearch Java client <a href=\"https://opensearch.org/docs/latest/clients/java/#installing-the-client-using-restclient-transport\" rel=\"noreferrer\">version</a></p>\n"},{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690953028,"post_id":76816752,"comment_id":135422790,"body_markdown":"Why do you think `j == 4` at the end of the loop when `input1.length() == 5`. Look at the loop condition. What value does `j` need to have for that to be false, allowing the loop to finish?","body":"Why do you think <code>j == 4</code> at the end of the loop when <code>input1.length() == 5</code>. Look at the loop condition. What value does <code>j</code> need to have for that to be false, allowing the loop to finish?"}],"answers":[{"comments":[{"owner":{"account_id":29141331,"reputation":3,"user_id":22324230,"display_name":"Sri Murugan G"},"score":0,"creation_date":1690953295,"post_id":76816789,"comment_id":135422813,"body_markdown":"but the for loop will stop the increment when the `j &lt; input1.length()` is false right?","body":"but the for loop will stop the increment when the <code>j &lt; input1.length()</code> is false right?"},{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":1,"creation_date":1690953481,"post_id":76816789,"comment_id":135422831,"body_markdown":"In a `for` loop, the update body is executed /before/ the condition expression is checked.  The last increment that causes `j` to be equal to `input1.length()` will absolutely occur.","body":"In a <code>for</code> loop, the update body is executed /before/ the condition expression is checked.  The last increment that causes <code>j</code> to be equal to <code>input1.length()</code> will absolutely occur."}],"tags":[],"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690952956,"creation_date":1690952956,"answer_id":76816789,"question_id":76816752,"body_markdown":"After the loop exited, `j &lt; input1.length()` is false.\r\n\r\nHowever, it has just been incremented by one.\r\n\r\nTherefore, at this point, assuming you entered the loop body at least once:\r\n\r\n `j == input1.length()` is true.\r\n","title":"Java conditional Statement Understanding","body":"<p>After the loop exited, <code>j &lt; input1.length()</code> is false.</p>\n<p>However, it has just been incremented by one.</p>\n<p>Therefore, at this point, assuming you entered the loop body at least once:</p>\n<p><code>j == input1.length()</code> is true.</p>\n"}],"owner":{"account_id":29141331,"reputation":3,"user_id":22324230,"display_name":"Sri Murugan G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76816789,"answer_count":1,"score":0,"last_activity_date":1690953123,"creation_date":1690952435,"question_id":76816752,"body_markdown":"```java\r\npackage ClassTest3;\r\n\r\n\r\npublic class IdentifyPosiibleWords {\r\n\r\n\tpublic static String identifyWords(String input1, String input2) {\r\n\t\tint i, j;\r\n\t        input1 = input1.toUpperCase();\r\n\t        input2 = input2.toUpperCase();\r\n\t        String word = &quot;&quot;, res = &quot;&quot;;\r\n\t        String[] words = input2.split(&quot;:&quot;);\r\n\t        System.out.println(input1.length());\r\n\t        for (i = 0; i &lt; words.length; i++) {\r\n\t            word = words[i];\r\n\t            if (input1.length() == word.length()) {\r\n\t                for (j = 0; j &lt; input1.length(); j++) {\r\n\t                    if (input1.charAt(j) != &#39;_&#39; &amp;&amp; input1.charAt(j) != word.charAt(j)) {\r\n\t                        break;\r\n\t                    }\r\n\t                }\r\n\t                \r\n\t                if (j == input1.length()) {\r\n\t                    res = res + word + &quot;:&quot;;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        \r\n\t        return res.length() == 0 ? &quot;ERROR-009&quot; : res.substring(0, res.length() - 1);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString input1 = &quot;Fi_er&quot;;\r\n        String input2 = &quot;Fever:filer:Filter: Fixer:fiber:fibre:tailor:offer&quot;;\r\n        \r\n        String output = identifyWords(input1, input2);\r\n        System.out.println(output);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis program has no error, the only this i uploaded here i have a doubt in this code \r\n\r\nsee the line 22 : `if (j == input1.length())` this inner nested loop update the `j` in line 7 but at the end of the matching word found, `j` will be `4` and how it will pass the `input1.length` that is `5`.\r\n\r\nsomeone please explain it to me.","title":"Java conditional Statement Understanding","body":"<pre class=\"lang-java prettyprint-override\"><code>package ClassTest3;\n\n\npublic class IdentifyPosiibleWords {\n\n    public static String identifyWords(String input1, String input2) {\n        int i, j;\n            input1 = input1.toUpperCase();\n            input2 = input2.toUpperCase();\n            String word = &quot;&quot;, res = &quot;&quot;;\n            String[] words = input2.split(&quot;:&quot;);\n            System.out.println(input1.length());\n            for (i = 0; i &lt; words.length; i++) {\n                word = words[i];\n                if (input1.length() == word.length()) {\n                    for (j = 0; j &lt; input1.length(); j++) {\n                        if (input1.charAt(j) != '_' &amp;&amp; input1.charAt(j) != word.charAt(j)) {\n                            break;\n                        }\n                    }\n                    \n                    if (j == input1.length()) {\n                        res = res + word + &quot;:&quot;;\n                    }\n                }\n            }\n            \n            return res.length() == 0 ? &quot;ERROR-009&quot; : res.substring(0, res.length() - 1);\n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        String input1 = &quot;Fi_er&quot;;\n        String input2 = &quot;Fever:filer:Filter: Fixer:fiber:fibre:tailor:offer&quot;;\n        \n        String output = identifyWords(input1, input2);\n        System.out.println(output);\n    }\n\n}\n</code></pre>\n<p>This program has no error, the only this i uploaded here i have a doubt in this code</p>\n<p>see the line 22 : <code>if (j == input1.length())</code> this inner nested loop update the <code>j</code> in line 7 but at the end of the matching word found, <code>j</code> will be <code>4</code> and how it will pass the <code>input1.length</code> that is <code>5</code>.</p>\n<p>someone please explain it to me.</p>\n"},{"tags":["java","slack","slack-api"],"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1670830225,"post_id":68413804,"comment_id":131955452,"body_markdown":"You mention [tag:java] and the `slack-api-client` library. Can you please post a [example] with code and full error-output.","body":"You mention <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and the <code>slack-api-client</code> library. Can you please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with code and full error-output."}],"answers":[{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1670830155,"post_id":68439437,"comment_id":131955434,"body_markdown":"Only advising two link can be done as comment. We should first ask for code or clarify before answering.","body":"Only advising two link can be done as comment. We should first ask for code or clarify before answering."}],"tags":[],"owner":{"account_id":15236923,"reputation":2621,"user_id":10994302,"display_name":"Suyash Gaur"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626692754,"creation_date":1626692754,"answer_id":68439437,"question_id":68413804,"body_markdown":"Interactive payloads are of different types and are required to handle accordingly:\r\n\r\nhttps://api.slack.com/interactivity/handling#payloads\r\n\r\nFor Java based implementation, please refer here:\r\n&lt;br&gt;https://slack.dev/java-slack-sdk/guides/interactive-components  ","title":"Slack interactive buttons not working getting error: missing_subtype","body":"<p>Interactive payloads are of different types and are required to handle accordingly:</p>\n<p><a href=\"https://api.slack.com/interactivity/handling#payloads\" rel=\"nofollow noreferrer\">https://api.slack.com/interactivity/handling#payloads</a></p>\n<p>For Java based implementation, please refer here:\n<br>https://slack.dev/java-slack-sdk/guides/interactive-components</p>\n"},{"tags":[],"owner":{"account_id":5209973,"reputation":1102,"user_id":4166721,"display_name":"Cash Lo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654142368,"creation_date":1654142368,"answer_id":72470521,"question_id":68413804,"body_markdown":"I have run into the same issue, an have done some experiments.\r\n\r\nIt seems to be caused by the complexity of the message: If the message has too many blocks or the blocks are too complex it will send a wrong message timestamp to the slack server, which seems to cause this mysterious 403 error.\r\n\r\nI reduced the number of blocks in the message and it works fine now.","title":"Slack interactive buttons not working getting error: missing_subtype","body":"<p>I have run into the same issue, an have done some experiments.</p>\n<p>It seems to be caused by the complexity of the message: If the message has too many blocks or the blocks are too complex it will send a wrong message timestamp to the slack server, which seems to cause this mysterious 403 error.</p>\n<p>I reduced the number of blocks in the message and it works fine now.</p>\n"}],"owner":{"account_id":5611861,"reputation":47,"user_id":4444318,"display_name":"Jill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2057,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1690953106,"creation_date":1626460415,"question_id":68413804,"body_markdown":"I am trying to build interactive slack messages, but nothing happens when I click on the button in slack channel.\r\n\r\nI used `slack-api-client` (java) to  build the interactive message. Message is being correctly posted to the channel but clicking on the button does not post the payload to the `request_url` configured. I see a triangle with mark of exclamation saying `This app returned an error. Please try again or contact the app&#39;s developer`. When I tried to check the network calls, I saw this error:\r\n\r\n```\r\nerror_json: {&quot;subtype&quot;:&quot;missing_subtype&quot;,&quot;message&quot;:&quot;hashed timestamp blocks.actions not ok: dispatch_failed&quot;}\r\n```\r\n\r\nI am not sure what is missing here. I have configured my app and the request url ending with `/slack/events` is added at `interactivity and shortcut section`. The request url is public url and an be accessed directly. I am not sure why slack is not able to post the payload on click of the buttons.","title":"Slack interactive buttons not working getting error: missing_subtype","body":"<p>I am trying to build interactive slack messages, but nothing happens when I click on the button in slack channel.</p>\n<p>I used <code>slack-api-client</code> (java) to  build the interactive message. Message is being correctly posted to the channel but clicking on the button does not post the payload to the <code>request_url</code> configured. I see a triangle with mark of exclamation saying <code>This app returned an error. Please try again or contact the app's developer</code>. When I tried to check the network calls, I saw this error:</p>\n<pre><code>error_json: {&quot;subtype&quot;:&quot;missing_subtype&quot;,&quot;message&quot;:&quot;hashed timestamp blocks.actions not ok: dispatch_failed&quot;}\n</code></pre>\n<p>I am not sure what is missing here. I have configured my app and the request url ending with <code>/slack/events</code> is added at <code>interactivity and shortcut section</code>. The request url is public url and an be accessed directly. I am not sure why slack is not able to post the payload on click of the buttons.</p>\n"},{"tags":["java","c#",".net","visual-studio","ikvm"],"answers":[{"tags":[],"owner":{"account_id":14740018,"reputation":1091,"user_id":10644878,"display_name":"D&#225;vid Laczk&#243;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690897380,"creation_date":1690897380,"answer_id":76812261,"question_id":76625804,"body_markdown":"Honestly speaking I am new to this and I also looked for a solution how to build from the command prompt.  \r\nBut I think they changed the way it worked previously, currently it is per the  [Usage][1] section on GitHub (and the same description is on the [NuGet][2] site).  \r\nAs I understand, all IKVM 8 versions implement Java 8, so I looked into previous versions, and **8.2.3**&#39;s **IKVM-8.2.3-tools-ikvm-net461.zip** has ikvm.exe. I can&#39;t try it out nowadays however.  \r\nCould you give a feedback after you solved it, then how?\r\n\r\n  [1]: https://IKVM-8.2.3-tools-ikvm-net461.zip\r\n  [2]: https://www.nuget.org/packages/IKVM#readme-body-tab\r\n","title":"How to use IKVM with java 1.8?","body":"<p>Honestly speaking I am new to this and I also looked for a solution how to build from the command prompt.<br />\nBut I think they changed the way it worked previously, currently it is per the  <a href=\"https://IKVM-8.2.3-tools-ikvm-net461.zip\" rel=\"nofollow noreferrer\">Usage</a> section on GitHub (and the same description is on the <a href=\"https://www.nuget.org/packages/IKVM#readme-body-tab\" rel=\"nofollow noreferrer\">NuGet</a> site).<br />\nAs I understand, all IKVM 8 versions implement Java 8, so I looked into previous versions, and <strong>8.2.3</strong>'s <strong>IKVM-8.2.3-tools-ikvm-net461.zip</strong> has ikvm.exe. I can't try it out nowadays however.<br />\nCould you give a feedback after you solved it, then how?</p>\n"},{"tags":[],"owner":{"account_id":180568,"reputation":1700,"user_id":413967,"accept_rate":29,"display_name":"Jerome Haltom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690952733,"creation_date":1690952733,"answer_id":76816772,"question_id":76625804,"body_markdown":"You install the IKVM Nuget package, or the IKVM.Maven.Sdk NuGet package, and add a reference to your JAR or Maven library. As the README file instructs.\r\n\r\nhttps://github.com/ikvmnet/ikvm#readme","title":"How to use IKVM with java 1.8?","body":"<p>You install the IKVM Nuget package, or the IKVM.Maven.Sdk NuGet package, and add a reference to your JAR or Maven library. As the README file instructs.</p>\n<p><a href=\"https://github.com/ikvmnet/ikvm#readme\" rel=\"nofollow noreferrer\">https://github.com/ikvmnet/ikvm#readme</a></p>\n"}],"owner":{"account_id":28960307,"reputation":1,"user_id":22182925,"display_name":"Robert Kiosaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690952733,"creation_date":1688622002,"question_id":76625804,"body_markdown":"Not able to convert java jar 1.8v with ikvm\r\n\r\nI tried running jar compiled with 1.7v java for ikvm(7.2) it runs perfectly well and converts my jar to dll.\r\n\r\nBut i am not able to find suitable ikvm version which will run for java1.8 jar as i am getting class52 error\r\n\r\nCan anyone share from where to download ikvm package for 1.8 as i see in the official page there are too many core, net files which does not have ikvm.exe as i need to run it from command prompt using ikvmc command.","title":"How to use IKVM with java 1.8?","body":"<p>Not able to convert java jar 1.8v with ikvm</p>\n<p>I tried running jar compiled with 1.7v java for ikvm(7.2) it runs perfectly well and converts my jar to dll.</p>\n<p>But i am not able to find suitable ikvm version which will run for java1.8 jar as i am getting class52 error</p>\n<p>Can anyone share from where to download ikvm package for 1.8 as i see in the official page there are too many core, net files which does not have ikvm.exe as i need to run it from command prompt using ikvmc command.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1249654,"reputation":159470,"user_id":1210329,"display_name":"geocodezip"},"score":5,"creation_date":1690938627,"post_id":76815996,"comment_id":135421673,"body_markdown":"Probably an error in the input file.","body":"Probably an error in the input file."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1690939175,"post_id":76815996,"comment_id":135421718,"body_markdown":"Catch the exception and print out the data at that time.  I think you will find it is a data problem.","body":"Catch the exception and print out the data at that time.  I think you will find it is a data problem."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690940050,"post_id":76815996,"comment_id":135421782,"body_markdown":"It may be EOF , or a blank line at end of file fouling the for().   ctoy ilee boodoo stReelyet","body":"It may be EOF , or a blank line at end of file fouling the for().   ctoy ilee boodoo stReelyet"}],"owner":{"account_id":29140368,"reputation":1,"user_id":22323497,"display_name":"fels"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690951480,"creation_date":1690937565,"question_id":76815996,"body_markdown":"I am parsing a CSV file using Apache CSV Commons. When I used a small file with few rows, it works fine. When I used a file of 2MB, I get the following error:\r\n```none\r\njava.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Date, Type, Registration, Amount]\r\n\tat org.apache.commons.csv.CSVRecord.get(CSVRecord.java:121) ~[commons-csv-1.9.0.jar:1.9.0]\r\n```\r\n-----------\r\n```java\r\nfor(CSVRecord record: csvParser){\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    for(String column : userColumns){\r\n        System.out.println(column);\r\n        System.out.println(column.length());\r\n        System.out.println(record);\r\n        System.out.println(record.get(&quot;Employee&quot;));\r\n\r\n        //the line with the error\r\n        stringBuilder.append(record.get(column)).append(&quot;\\t&quot;);\r\n    }\r\n}\r\n```\r\nI don&#39;t get the error when I use a CSV file of 300 rows, only with large CSV files.\r\n\r\n&gt;Failed to complete request: java.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Donation Date, Donation Type, Charity Registration, Charity Name, Donation Amount, Matching Gift]\r\n","title":"Unable to Read large CSV File with Apache Commons CSV - IllegalArgumentException. Small file working","body":"<p>I am parsing a CSV file using Apache CSV Commons. When I used a small file with few rows, it works fine. When I used a file of 2MB, I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Date, Type, Registration, Amount]\n    at org.apache.commons.csv.CSVRecord.get(CSVRecord.java:121) ~[commons-csv-1.9.0.jar:1.9.0]\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>for(CSVRecord record: csvParser){\n    StringBuilder stringBuilder = new StringBuilder();\n    for(String column : userColumns){\n        System.out.println(column);\n        System.out.println(column.length());\n        System.out.println(record);\n        System.out.println(record.get(&quot;Employee&quot;));\n\n        //the line with the error\n        stringBuilder.append(record.get(column)).append(&quot;\\t&quot;);\n    }\n}\n</code></pre>\n<p>I don't get the error when I use a CSV file of 300 rows, only with large CSV files.</p>\n<blockquote>\n<p>Failed to complete request: java.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Donation Date, Donation Type, Charity Registration, Charity Name, Donation Amount, Matching Gift]</p>\n</blockquote>\n"},{"tags":["java","soap","java-8","axis"],"answers":[{"tags":[],"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536760465,"creation_date":1536760465,"answer_id":52296894,"question_id":52218759,"body_markdown":"It seems you bumped into [this](https://issues.apache.org/jira/browse/AXIS-2909) bug.\r\n\r\nYou should upgrade to 1.4.1 or go back to JDK7.\r\n\r\nAnother option could be to apply the mentioned fix in the attached diff.txt and create a patched version of the axis-rt-core (see diff.txt).","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>It seems you bumped into <a href=\"https://issues.apache.org/jira/browse/AXIS-2909\" rel=\"nofollow noreferrer\">this</a> bug.</p>\n\n<p>You should upgrade to 1.4.1 or go back to JDK7.</p>\n\n<p>Another option could be to apply the mentioned fix in the attached diff.txt and create a patched version of the axis-rt-core (see diff.txt).</p>\n"},{"tags":[],"owner":{"account_id":4271970,"reputation":141,"user_id":3493590,"display_name":"geewee"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1536782942,"creation_date":1536782942,"answer_id":52302709,"question_id":52218759,"body_markdown":"Agree that https://issues.apache.org/jira/browse/AXIS-2909 seems to be the issue.\r\nGoing back to jdk7 is usually not an option.\r\n\r\nThe suggestion in AXIS-2909 is to take latest 1.4.1-SNAPSHOT, from a successful jenkins build in 2017. This is coming from http://svn.apache.org/repos/asf/axis/axis1/java/trunk, and to put it short this trunk has undergone a lot of changes since 2006 (1.4), and is not officially released.\r\n - added maven support\r\n - completely restructured into maven modules\r\n - a lot of different changes, check svn log\r\n\r\nveithen (A. Veithen) has done an excellent job within this trunk, and seems to be the maintainer.\r\n\r\nA better approach, and safer, given you want only to fix  the axis ConcurrentModificationException bug, and not introduce more changes than needed, can be to take the 1.4 tag, and apply patch on top of that.\r\n\r\nhttps://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4/\r\n\r\npatch:\r\n    \r\n       // Convert to array before sorting to avoid concurrency issues\r\n        OperationDesc[] array = (OperationDesc[])overloads.toArray(\r\n            new OperationDesc[overloads.size()]);\r\n\r\n\r\n        Arrays.sort(array,\r\n            new Comparator() {\r\n                public int compare(Object o1, Object o2)\r\n                {\r\n                    Method meth1 = ((OperationDesc)o1).getMethod();\r\n                    Method meth2 = ((OperationDesc)o2).getMethod();\r\n                    return (meth1.getParameterTypes().length -\r\n                                         meth2.getParameterTypes().length);\r\n                }\r\n            });\r\n\r\n        return array;\r\n    }\r\n\r\n\r\nbtw: AXIS-2875 is also needed, to make it compile with java8.\r\n\r\nplease note that this will be a time machine experience, as you are back in the ant build-script days.\r\nyou will also need to incl j2ee-1.4.jar as compile-time lib.\r\nbut then you are good to go, and can bake your own 1.4.1 containing\r\n1.4\r\n+AXIS-2909\r\n\r\n","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>Agree that <a href=\"https://issues.apache.org/jira/browse/AXIS-2909\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/AXIS-2909</a> seems to be the issue.\nGoing back to jdk7 is usually not an option.</p>\n\n<p>The suggestion in AXIS-2909 is to take latest 1.4.1-SNAPSHOT, from a successful jenkins build in 2017. This is coming from <a href=\"http://svn.apache.org/repos/asf/axis/axis1/java/trunk\" rel=\"noreferrer\">http://svn.apache.org/repos/asf/axis/axis1/java/trunk</a>, and to put it short this trunk has undergone a lot of changes since 2006 (1.4), and is not officially released.\n - added maven support\n - completely restructured into maven modules\n - a lot of different changes, check svn log</p>\n\n<p>veithen (A. Veithen) has done an excellent job within this trunk, and seems to be the maintainer.</p>\n\n<p>A better approach, and safer, given you want only to fix  the axis ConcurrentModificationException bug, and not introduce more changes than needed, can be to take the 1.4 tag, and apply patch on top of that.</p>\n\n<p><a href=\"https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4/\" rel=\"noreferrer\">https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4/</a></p>\n\n<p>patch:</p>\n\n<pre><code>   // Convert to array before sorting to avoid concurrency issues\n    OperationDesc[] array = (OperationDesc[])overloads.toArray(\n        new OperationDesc[overloads.size()]);\n\n\n    Arrays.sort(array,\n        new Comparator() {\n            public int compare(Object o1, Object o2)\n            {\n                Method meth1 = ((OperationDesc)o1).getMethod();\n                Method meth2 = ((OperationDesc)o2).getMethod();\n                return (meth1.getParameterTypes().length -\n                                     meth2.getParameterTypes().length);\n            }\n        });\n\n    return array;\n}\n</code></pre>\n\n<p>btw: AXIS-2875 is also needed, to make it compile with java8.</p>\n\n<p>please note that this will be a time machine experience, as you are back in the ant build-script days.\nyou will also need to incl j2ee-1.4.jar as compile-time lib.\nbut then you are good to go, and can bake your own 1.4.1 containing\n1.4\n+AXIS-2909</p>\n"},{"tags":[],"owner":{"account_id":4401794,"reputation":461,"user_id":3587240,"display_name":"Andrea Luciano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607968710,"creation_date":1607968710,"answer_id":65294053,"question_id":52218759,"body_markdown":"I followed this quick and dirty way to patch axis-1.4.jar using javac 1.8:\r\n\r\n1) Download axis-1.4.jar from maven repository https://mvnrepository.com/artifact/org.apache.axis/axis/1.4\r\n\r\n  Download from maven axis-jaxrpc-1.4.jar and commons-logging-1.1.1.jar too\r\n\r\n2) Copy JavaServiceDesc.java from original source code, to export them I used:\r\n\r\n  svn export https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4 axis-1.4\r\n\r\n3) Edit the last lines of getOperationsByQName at line 527 in JavaServiceDesc.java as suggested by geewee\r\n\r\n4) Compile using java 8:\r\n\r\n   javac -d . -classpath axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar JavaServiceDesc.java\r\n\r\n5) Update the original JAR file with the new class:\r\n\r\n   jar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class\r\n\r\n  \r\nThis worked well and solved the issue in my case.","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>I followed this quick and dirty way to patch axis-1.4.jar using javac 1.8:</p>\n<ol>\n<li>Download axis-1.4.jar from maven repository <a href=\"https://mvnrepository.com/artifact/org.apache.axis/axis/1.4\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.axis/axis/1.4</a></li>\n</ol>\n<p>Download from maven axis-jaxrpc-1.4.jar and commons-logging-1.1.1.jar too</p>\n<ol start=\"2\">\n<li>Copy JavaServiceDesc.java from original source code, to export them I used:</li>\n</ol>\n<p>svn export <a href=\"https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4</a> axis-1.4</p>\n<ol start=\"3\">\n<li><p>Edit the last lines of getOperationsByQName at line 527 in JavaServiceDesc.java as suggested by geewee</p>\n</li>\n<li><p>Compile using java 8:</p>\n<p>javac -d . -classpath axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar JavaServiceDesc.java</p>\n</li>\n<li><p>Update the original JAR file with the new class:</p>\n<p>jar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class</p>\n</li>\n</ol>\n<p>This worked well and solved the issue in my case.</p>\n"},{"comments":[{"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"score":1,"creation_date":1690455439,"post_id":76759474,"comment_id":135357703,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76759474/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29084849,"reputation":1,"user_id":22279957,"display_name":"Subodh Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690951046,"creation_date":1690259646,"answer_id":76759474,"question_id":52218759,"body_markdown":"Compile using java 8 Windows cmd:\r\n\r\njavac -cp &quot;.;axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar&quot; JavaServiceDesc.java\r\n\r\nUpdate the original JAR file with the updated changes:\r\n\r\njar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>Compile using java 8 Windows cmd:</p>\n<p>javac -cp &quot;.;axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar&quot; JavaServiceDesc.java</p>\n<p>Update the original JAR file with the updated changes:</p>\n<p>jar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class</p>\n"}],"owner":{"account_id":8383767,"reputation":782,"user_id":6294804,"accept_rate":92,"display_name":"Rajib Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9490,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52302709,"answer_count":4,"score":2,"last_activity_date":1690951046,"creation_date":1536309967,"question_id":52218759,"body_markdown":"I am using AXIS (1.4) client to invoke SOAP web services and JDK version is 8. Getting following intermittent error for some of the SOAP service invocations. This is happening for 5-10 requests out of 1000 requests under load condition.\r\n\r\n    Caused by: org.apache.axis.AxisFault: java.util.ConcurrentModificationException\r\n\tat org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:223) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:130) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1104) ~[axis-1.4.jar:na]\r\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:241) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.Message.getSOAPEnvelope(Message.java:435) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invokeEngine(Call.java:2782) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2765) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2443) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2366) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:1812) ~[axis-1.4.jar:na]\r\n\tat com.te.prodirectory.services.client.PaymentWSSoapBindingStub.validateVamPayment(PaymentWSSoapBindingStub.java:423) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\r\n\tat com.te.prodirectory.services.payment.PaymentServiceWsImpl.validateVamPayment(PaymentServiceWsImpl.java:34) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\r\n\t... 37 common frames omitted\r\n\r\nNOTE: When we used same AXIS client with JDK 7, did not face this issue at all.\r\n\r\nI tried searching for similar issue of AXIS with JDK 8, there are some compatibility issues, but nothing like the one that I am facing currently.","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>I am using AXIS (1.4) client to invoke SOAP web services and JDK version is 8. Getting following intermittent error for some of the SOAP service invocations. This is happening for 5-10 requests out of 1000 requests under load condition.</p>\n\n<pre><code>Caused by: org.apache.axis.AxisFault: java.util.ConcurrentModificationException\nat org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:223) ~[axis-1.4.jar:na]\nat org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:130) ~[axis-1.4.jar:na]\nat org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1104) ~[axis-1.4.jar:na]\nat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source) ~[na:na]\nat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source) ~[na:na]\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) ~[na:na]\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) ~[na:na]\nat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:241) ~[axis-1.4.jar:na]\nat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696) ~[axis-1.4.jar:na]\nat org.apache.axis.Message.getSOAPEnvelope(Message.java:435) ~[axis-1.4.jar:na]\nat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62) ~[axis-1.4.jar:na]\nat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invokeEngine(Call.java:2782) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:2765) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:2443) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:2366) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:1812) ~[axis-1.4.jar:na]\nat com.te.prodirectory.services.client.PaymentWSSoapBindingStub.validateVamPayment(PaymentWSSoapBindingStub.java:423) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\nat com.te.prodirectory.services.payment.PaymentServiceWsImpl.validateVamPayment(PaymentServiceWsImpl.java:34) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\n... 37 common frames omitted\n</code></pre>\n\n<p>NOTE: When we used same AXIS client with JDK 7, did not face this issue at all.</p>\n\n<p>I tried searching for similar issue of AXIS with JDK 8, there are some compatibility issues, but nothing like the one that I am facing currently.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":10816442,"reputation":131,"user_id":7955216,"display_name":"Bruce Feldman"},"score":3,"creation_date":1493994408,"post_id":43807479,"comment_id":74653969,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/data/numberformat.html</a>"},{"owner":{"account_id":8766622,"reputation":1498,"user_id":6554747,"accept_rate":100,"display_name":"progyammer"},"score":0,"creation_date":1493994560,"post_id":43807479,"comment_id":74654084,"body_markdown":"First try. If you face problems, then ask a **specific** question, along with the (faulty) code you would have written.","body":"First try. If you face problems, then ask a <b>specific</b> question, along with the (faulty) code you would have written."}],"answers":[{"comments":[{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1493994825,"post_id":43807569,"comment_id":74654256,"body_markdown":"Why did you use a string, if you Integer.parseInt it after anyway :p","body":"Why did you use a string, if you Integer.parseInt it after anyway :p"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1493994882,"post_id":43807569,"comment_id":74654285,"body_markdown":"yes, i&#39;m not sure what the OP use like type, thank you any way @Nathan","body":"yes, i&#39;m not sure what the OP use like type, thank you any way @Nathan"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493994893,"creation_date":1493994619,"answer_id":43807569,"question_id":43807479,"body_markdown":"You can use append left with `String.format` for example :\r\n\r\n    int myInt = 1;\r\n    String result = String.format(&quot;%06d&quot;, myInt);\r\n\r\n**Output**\r\n\r\n    1      000001\r\n    10     000010\r\n    101    000101","title":"How can I create string with number in JAVA","body":"<p>You can use append left with <code>String.format</code> for example :</p>\n\n<pre><code>int myInt = 1;\nString result = String.format(\"%06d\", myInt);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>1      000001\n10     000010\n101    000101\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10687867,"reputation":160,"user_id":7867847,"display_name":"Andrew Kulpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493994674,"creation_date":1493994674,"answer_id":43807590,"question_id":43807479,"body_markdown":"`System.out.format(&quot;%06d&quot;, n);`, where `n` is an integer, should work fine for your formatting. It appears to be 6 digit width, with leading `0`&#39;s. Like the other answer suggests, if you are simply looking for the String you could just do `String.format(&quot;%06d&quot;, n);`.\r\n\r\nSource:\r\n[Formatting Numeric Print Output][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"How can I create string with number in JAVA","body":"<p><code>System.out.format(\"%06d\", n);</code>, where <code>n</code> is an integer, should work fine for your formatting. It appears to be 6 digit width, with leading <code>0</code>'s. Like the other answer suggests, if you are simply looking for the String you could just do <code>String.format(\"%06d\", n);</code>.</p>\n\n<p>Source:\n<a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"nofollow noreferrer\">Formatting Numeric Print Output</a></p>\n"},{"tags":[],"owner":{"account_id":8336275,"reputation":609,"user_id":6263117,"display_name":"Dr. Mehmet Ali ATICI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493995749,"creation_date":1493995749,"answer_id":43807952,"question_id":43807479,"body_markdown":" this may help;\r\n\r\n      static String getString(int xxx)\r\n           {\r\n                if(xxx &gt; 0 &amp;&amp; xxx &lt; 1000)\r\n                     return String.format(&quot;%06d&quot;, xxx);\r\n                return null;\r\n                \r\n            }","title":"How can I create string with number in JAVA","body":"<p>this may help;</p>\n\n<pre><code>  static String getString(int xxx)\n       {\n            if(xxx &gt; 0 &amp;&amp; xxx &lt; 1000)\n                 return String.format(\"%06d\", xxx);\n            return null;\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9770527,"reputation":338,"user_id":7242575,"display_name":"BHAR4T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494002579,"creation_date":1494002579,"answer_id":43810012,"question_id":43807479,"body_markdown":"    public class Temp {\r\n\tpublic static void main(String args[]) {\r\n\t\tSystem.out.println(StringReturn.numToString(1));\r\n\t\tSystem.out.println(StringReturn.numToString(10));\r\n\t\tSystem.out.println(StringReturn.numToString(101));\r\n\t}}\r\n\r\n    class StringReturn\r\n    {\r\n    \tstatic String numToString(int num){\r\n    \t\treturn String.format(&quot;%06d&quot;, num);\r\n    }}\r\nOUTPUT\r\n\r\n    000001\r\n    000010\r\n    000101","title":"How can I create string with number in JAVA","body":"<pre><code>public class Temp {\npublic static void main(String args[]) {\n    System.out.println(StringReturn.numToString(1));\n    System.out.println(StringReturn.numToString(10));\n    System.out.println(StringReturn.numToString(101));\n}}\n\nclass StringReturn\n{\n    static String numToString(int num){\n        return String.format(\"%06d\", num);\n}}\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>000001\n000010\n000101\n</code></pre>\n"}],"owner":{"account_id":2796529,"reputation":2231,"user_id":2405663,"accept_rate":48,"display_name":"bircastri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2242,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"answer_count":4,"score":-2,"last_activity_date":1690948920,"creation_date":1493994367,"question_id":43807479,"body_markdown":"I want to to obtain a string with this format:\r\n\r\n    &quot;000xxx&quot;\r\n\r\nSome example:\r\n\r\n    int xxx = 10  -&gt; result = &quot;000010&quot;;\r\n    int xxx = 015 -&gt; result = &quot;000015&quot;;\r\n    int xxx = 100 -&gt; result = &quot;000100&quot;;\r\n    \r\nWhat can I use to format it as a String?","title":"How can I create string with number in JAVA","body":"<p>I want to to obtain a string with this format:</p>\n\n<pre><code>\"000xxx\"\n</code></pre>\n\n<p>Some example:</p>\n\n<pre><code>int xxx = 10  -&gt; result = \"000010\";\nint xxx = 015 -&gt; result = \"000015\";\nint xxx = 100 -&gt; result = \"000100\";\n</code></pre>\n\n<p>What can I use to format it as a String?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1690949263,"post_id":76816542,"comment_id":135422479,"body_markdown":"Does `http://&lt;ACCOUNTSERVICE:port&gt;/api/account` work? Does that path exist on the service?","body":"Does <code>http:&#47;&#47;&lt;ACCOUNTSERVICE:port&gt;&#47;api&#47;account</code> work? Does that path exist on the service?"},{"owner":{"account_id":16767050,"reputation":21,"user_id":12120464,"display_name":"Shady98"},"score":0,"creation_date":1690956322,"post_id":76816542,"comment_id":135423147,"body_markdown":"no. I&#39;ve created /api/account to work as a prefix for accountservice endpoints","body":"no. I&#39;ve created /api/account to work as a prefix for accountservice endpoints"},{"owner":{"account_id":16767050,"reputation":21,"user_id":12120464,"display_name":"Shady98"},"score":0,"creation_date":1690960223,"post_id":76816542,"comment_id":135423771,"body_markdown":"what i want to achieve is that if i hit `http://localhost:8090/api/account/{endpoint}` , then gateway should redirect that request to `http://localhost:8090/ACCOUNTSSERVICE/{endpoint}`","body":"what i want to achieve is that if i hit <code>http:&#47;&#47;localhost:8090&#47;api&#47;account&#47;{endpoint}</code> , then gateway should redirect that request to <code>http:&#47;&#47;localhost:8090&#47;ACCOUNTSSERVICE&#47;{endpoint}</code>"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1690968500,"post_id":76816542,"comment_id":135425581,"body_markdown":"Gateway doesn&#39;t change the path by default. If the path is different on the downstream service you&#39;ll need to use a filter, like SetPath or similar","body":"Gateway doesn&#39;t change the path by default. If the path is different on the downstream service you&#39;ll need to use a filter, like SetPath or similar"}],"owner":{"account_id":16767050,"reputation":21,"user_id":12120464,"display_name":"Shady98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690948628,"creation_date":1690948628,"question_id":76816542,"body_markdown":"I&#39;m trying to build a spring cloud gateway server to provide custom routes to the 2 microservices that I have built. \r\n\r\nGateway server pom\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.geminibank&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;apigateway&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;apigateway&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\ngateway server properties file \r\n\r\n```\r\nserver.port=8090\r\nspring.application.name = apigateway\r\n\r\nspring.cloud.gateway.discovery.locator.enabled = true\r\nspring.cloud.gateway.discovery.locator.lowerCaseServiceId = true\r\n\r\nmanagement.endpoint.gateway.enabled=true\r\nmanagement.endpoints.web.exposure.include=health,gateway\r\n\r\neureka.instance.prefer-ip-address = true\r\neureka.instance.hostname=localhost\r\neureka.client.fetch-registry = true\r\neureka.client.register-with-eureka = true\r\neureka.client.serviceUrl.defaultZone = http://${eureka.instance.hostname}:8082/eureka/\r\n```\r\n\r\nGateway Config\r\n\r\n```\r\n@Configuration\r\npublic class GatewayConfig {\r\n\t\r\n\t@Bean\r\n\tpublic RouteLocator customeRouteLocator(RouteLocatorBuilder builder) {\r\n\t\t RouteLocator routes = builder.routes()\r\n\t\t\t\t.route(&quot;profile-service&quot;, p -&gt; p\r\n\t\t\t\t\t\t.path(&quot;/api/profile/**&quot;)\r\n\t\t\t\t\t\t.uri(&quot;lb://PROFILESERVICE&quot;))\r\n\t\t\t\t.route(&quot;account-service&quot;, p -&gt; p\r\n\t\t\t\t\t\t.path(&quot;/api/account/**&quot;)\r\n\t\t\t\t\t\t.uri(&quot;lb://ACCOUNTSSERVICE&quot;))\r\n\t\t\t\t.build();\r\n\t\t routes.getRoutes().log();\r\n\t\t return routes;\r\n\t\t \r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I start the server and check for routes (at actuator/gateway/routes I get this\r\n\r\n```\r\n[\r\n    {\r\n        &quot;predicate&quot;: &quot;Paths: [/api/profile/**], match trailing slash: true&quot;,\r\n        &quot;route_id&quot;: &quot;profile-service&quot;,\r\n        &quot;filters&quot;: [],\r\n        &quot;uri&quot;: &quot;lb://PROFILESERVICE&quot;,\r\n        &quot;order&quot;: 0\r\n    },\r\n    {\r\n        &quot;predicate&quot;: &quot;Paths: [/api/account/**], match trailing slash: true&quot;,\r\n        &quot;route_id&quot;: &quot;account-service&quot;,\r\n        &quot;filters&quot;: [],\r\n        &quot;uri&quot;: &quot;lb://ACCOUNTSSERVICE&quot;,\r\n        &quot;order&quot;: 0\r\n    },\r\n    {\r\n        &quot;predicate&quot;: &quot;Paths: [/profileservice/**], match trailing slash: true&quot;,\r\n        &quot;metadata&quot;: {\r\n            &quot;jmx.port&quot;: &quot;51067&quot;,\r\n            &quot;management.port&quot;: &quot;8083&quot;\r\n        },\r\n        &quot;route_id&quot;: &quot;ReactiveCompositeDiscoveryClient_PROFILESERVICE&quot;,\r\n        &quot;filters&quot;: [\r\n            &quot;[[RewritePath /profileservice/?(?&lt;remaining&gt;.*) = &#39;/${remaining}&#39;], order = 1]&quot;\r\n        ],\r\n        &quot;uri&quot;: &quot;lb://PROFILESERVICE&quot;,\r\n        &quot;order&quot;: 0\r\n    },\r\n    {\r\n        &quot;predicate&quot;: &quot;Paths: [/accountsservice/**], match trailing slash: true&quot;,\r\n        &quot;metadata&quot;: {\r\n            &quot;jmx.port&quot;: &quot;51001&quot;,\r\n            &quot;management.port&quot;: &quot;8084&quot;\r\n        },\r\n        &quot;route_id&quot;: &quot;ReactiveCompositeDiscoveryClient_ACCOUNTSSERVICE&quot;,\r\n        &quot;filters&quot;: [\r\n            &quot;[[RewritePath /accountsservice/?(?&lt;remaining&gt;.*) = &#39;/${remaining}&#39;], order = 1]&quot;\r\n        ],\r\n        &quot;uri&quot;: &quot;lb://ACCOUNTSSERVICE&quot;,\r\n        &quot;order&quot;: 0\r\n    },\r\n    {\r\n        &quot;predicate&quot;: &quot;Paths: [/apigateway/**], match trailing slash: true&quot;,\r\n        &quot;metadata&quot;: {\r\n            &quot;jmx.port&quot;: &quot;59682&quot;,\r\n            &quot;management.port&quot;: &quot;8090&quot;\r\n        },\r\n        &quot;route_id&quot;: &quot;ReactiveCompositeDiscoveryClient_APIGATEWAY&quot;,\r\n        &quot;filters&quot;: [\r\n            &quot;[[RewritePath /apigateway/?(?&lt;remaining&gt;.*) = &#39;/${remaining}&#39;], order = 1]&quot;\r\n        ],\r\n        &quot;uri&quot;: &quot;lb://APIGATEWAY&quot;,\r\n        &quot;order&quot;: 0\r\n    }\r\n]\r\n```\r\n\r\nWhen I&#39;m trying to hit the custom api i.e either `/api/account` or `/api/profile`, I&#39;m getting a 404 error, but the same request works fine when i replace `/api/account` with `/accountsservice`.\r\n\r\nI&#39;ve tried disabling `lower-case-service-id`, but it still works that way only. I&#39;m not able to use the custom routes that I have defined. \r\n\r\nPlease help.","title":"Spring Cloud gateway custom routing not working","body":"<p>I'm trying to build a spring cloud gateway server to provide custom routes to the 2 microservices that I have built.</p>\n<p>Gateway server pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.geminibank&lt;/groupId&gt;\n    &lt;artifactId&gt;apigateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;apigateway&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>gateway server properties file</p>\n<pre><code>server.port=8090\nspring.application.name = apigateway\n\nspring.cloud.gateway.discovery.locator.enabled = true\nspring.cloud.gateway.discovery.locator.lowerCaseServiceId = true\n\nmanagement.endpoint.gateway.enabled=true\nmanagement.endpoints.web.exposure.include=health,gateway\n\neureka.instance.prefer-ip-address = true\neureka.instance.hostname=localhost\neureka.client.fetch-registry = true\neureka.client.register-with-eureka = true\neureka.client.serviceUrl.defaultZone = http://${eureka.instance.hostname}:8082/eureka/\n</code></pre>\n<p>Gateway Config</p>\n<pre><code>@Configuration\npublic class GatewayConfig {\n    \n    @Bean\n    public RouteLocator customeRouteLocator(RouteLocatorBuilder builder) {\n         RouteLocator routes = builder.routes()\n                .route(&quot;profile-service&quot;, p -&gt; p\n                        .path(&quot;/api/profile/**&quot;)\n                        .uri(&quot;lb://PROFILESERVICE&quot;))\n                .route(&quot;account-service&quot;, p -&gt; p\n                        .path(&quot;/api/account/**&quot;)\n                        .uri(&quot;lb://ACCOUNTSSERVICE&quot;))\n                .build();\n         routes.getRoutes().log();\n         return routes;\n         \n\n    }\n\n}\n</code></pre>\n<p>When I start the server and check for routes (at actuator/gateway/routes I get this</p>\n<pre><code>[\n    {\n        &quot;predicate&quot;: &quot;Paths: [/api/profile/**], match trailing slash: true&quot;,\n        &quot;route_id&quot;: &quot;profile-service&quot;,\n        &quot;filters&quot;: [],\n        &quot;uri&quot;: &quot;lb://PROFILESERVICE&quot;,\n        &quot;order&quot;: 0\n    },\n    {\n        &quot;predicate&quot;: &quot;Paths: [/api/account/**], match trailing slash: true&quot;,\n        &quot;route_id&quot;: &quot;account-service&quot;,\n        &quot;filters&quot;: [],\n        &quot;uri&quot;: &quot;lb://ACCOUNTSSERVICE&quot;,\n        &quot;order&quot;: 0\n    },\n    {\n        &quot;predicate&quot;: &quot;Paths: [/profileservice/**], match trailing slash: true&quot;,\n        &quot;metadata&quot;: {\n            &quot;jmx.port&quot;: &quot;51067&quot;,\n            &quot;management.port&quot;: &quot;8083&quot;\n        },\n        &quot;route_id&quot;: &quot;ReactiveCompositeDiscoveryClient_PROFILESERVICE&quot;,\n        &quot;filters&quot;: [\n            &quot;[[RewritePath /profileservice/?(?&lt;remaining&gt;.*) = '/${remaining}'], order = 1]&quot;\n        ],\n        &quot;uri&quot;: &quot;lb://PROFILESERVICE&quot;,\n        &quot;order&quot;: 0\n    },\n    {\n        &quot;predicate&quot;: &quot;Paths: [/accountsservice/**], match trailing slash: true&quot;,\n        &quot;metadata&quot;: {\n            &quot;jmx.port&quot;: &quot;51001&quot;,\n            &quot;management.port&quot;: &quot;8084&quot;\n        },\n        &quot;route_id&quot;: &quot;ReactiveCompositeDiscoveryClient_ACCOUNTSSERVICE&quot;,\n        &quot;filters&quot;: [\n            &quot;[[RewritePath /accountsservice/?(?&lt;remaining&gt;.*) = '/${remaining}'], order = 1]&quot;\n        ],\n        &quot;uri&quot;: &quot;lb://ACCOUNTSSERVICE&quot;,\n        &quot;order&quot;: 0\n    },\n    {\n        &quot;predicate&quot;: &quot;Paths: [/apigateway/**], match trailing slash: true&quot;,\n        &quot;metadata&quot;: {\n            &quot;jmx.port&quot;: &quot;59682&quot;,\n            &quot;management.port&quot;: &quot;8090&quot;\n        },\n        &quot;route_id&quot;: &quot;ReactiveCompositeDiscoveryClient_APIGATEWAY&quot;,\n        &quot;filters&quot;: [\n            &quot;[[RewritePath /apigateway/?(?&lt;remaining&gt;.*) = '/${remaining}'], order = 1]&quot;\n        ],\n        &quot;uri&quot;: &quot;lb://APIGATEWAY&quot;,\n        &quot;order&quot;: 0\n    }\n]\n</code></pre>\n<p>When I'm trying to hit the custom api i.e either <code>/api/account</code> or <code>/api/profile</code>, I'm getting a 404 error, but the same request works fine when i replace <code>/api/account</code> with <code>/accountsservice</code>.</p>\n<p>I've tried disabling <code>lower-case-service-id</code>, but it still works that way only. I'm not able to use the custom routes that I have defined.</p>\n<p>Please help.</p>\n"},{"tags":["java","amazon-dynamodb"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691559150,"post_id":76816505,"comment_id":135506217,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76816505/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29141031,"reputation":1,"user_id":22324007,"display_name":"Ian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690947944,"creation_date":1690947944,"answer_id":76816505,"question_id":75194941,"body_markdown":"I had the same error,the error log shows `this.setter = null`.\r\nTry to resolve by placing the setters for all properties of the Class.\r\nSince I don&#39;t have the Class code to analyze, it could be that","title":"How to read Long from DynamoDB","body":"<p>I had the same error,the error log shows <code>this.setter = null</code>.\nTry to resolve by placing the setters for all properties of the Class.\nSince I don't have the Class code to analyze, it could be that</p>\n"}],"owner":{"account_id":13198506,"reputation":51,"user_id":9532442,"display_name":"steeve "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690947944,"creation_date":1674319372,"question_id":75194941,"body_markdown":"I am trying to access a DynamoDB table from a Java application where the key is a long integer. Reading this guide, &lt;https://docs.amazonaws.cn/en_us/amazondynamodb/latest/developerguide/DynamoDBMapper.DataTypes.html&gt;, it seems that I can cast my N (number in table) as Long or BigInteger. When I try to retrieve data in both cases, I get this exception:\r\n\r\n```none\r\n2023-01-21T17:28:49.970+01:00 ERROR 15940 --- [nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: SensorData[sample_time]; could not unconvert attribute] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;this.setter&quot; is null\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.StandardBeanProperties$MethodReflect.set(StandardBeanProperties.java:133) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.set(DynamoDBMapperFieldModel.java:111) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.unconvertAndSet(DynamoDBMapperFieldModel.java:164) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.unconvert(DynamoDBMapperTableModel.java:267) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.privateMarshallIntoObject(DynamoDBMapper.java:472) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.marshallIntoObjects(DynamoDBMapper.java:500) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.PaginatedScanList.&lt;init&gt;(PaginatedScanList.java:64) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.scan(DynamoDBMapper.java:1571) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.scan(AbstractDynamoDBMapper.java:236) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.steeve.test.SensorDataRepository.getAll(SensorDataRepository.java:19) ~[classes/:na]\r\n\tat com.steeve.test.TestApplication.health(TestApplication.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nThe exception is the same for Long and BigInteger. If I map the value as Integer the exception is different, it fails when it tries to do Integer.parseInt() with a too long number:\r\n```\r\n2023-01-21T17:35:08.136+01:00 ERROR 5064 --- [nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: SensorData[sample_time]; could not unconvert attribute] with root cause\r\n\r\njava.lang.NumberFormatException: For input string: &quot;1674256283832&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:668) ~[na:na]\r\n\tat java.base/java.lang.Integer.valueOf(Integer.java:999) ~[na:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$ToInteger$2.convert(StandardTypeConverters.java:773) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$ToInteger$2.convert(StandardTypeConverters.java:770) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$1.unconvert(StandardTypeConverters.java:75) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.unconvert(DynamoDBTypeConverter.java:109) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$NullSafeConverter.unconvert(DynamoDBTypeConverter.java:128) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$ExtendedConverter.unconvert(DynamoDBTypeConverter.java:88) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.unconvert(DynamoDBMapperFieldModel.java:146) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.unconvertAndSet(DynamoDBMapperFieldModel.java:164) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.unconvert(DynamoDBMapperTableModel.java:267) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.privateMarshallIntoObject(DynamoDBMapper.java:472) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.marshallIntoObjects(DynamoDBMapper.java:500) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.PaginatedScanList.&lt;init&gt;(PaginatedScanList.java:64) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.scan(DynamoDBMapper.java:1571) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.scan(AbstractDynamoDBMapper.java:236) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\r\n\tat com.steeve.test.SensorDataRepository.getAll(SensorDataRepository.java:19) ~[classes/:na]\r\n```\r\n\r\nThis is my mapping class:\r\n\r\n```java\r\n@DynamoDBTable(tableName = &quot;sensor_data&quot;)\r\npublic class SensorData {\r\n\t\r\n\tprivate Long sample_time;\r\n\t\r\n\t@DynamoDBHashKey(attributeName = &quot;sample_time&quot;)\r\n\tpublic Long getSampletime()\r\n\t{return sample_time;}\r\n\tpublic void setSampleTime(Long sample_time)\r\n\t{ this.sample_time = sample_time;}\r\n\t\r\n\t@DynamoDBDocument()\r\n    public static class device_data {\r\n\t\tprivate String sensorName;\r\n\t\tprivate Float sensorValue;\r\n\t\t\r\n\t\tpublic void setSensorName(String sensorName)\r\n\t\t{this.sensorName = sensorName;}\r\n\t\t@DynamoDBAttribute\r\n\t\tpublic String getSensorName()\r\n\t\t{return this.sensorName;}\r\n\t\t\r\n\t\tpublic void setSensorValue(Float sensorValue)\r\n\t\t{this.sensorValue = sensorValue;}\r\n\t\t@DynamoDBAttribute\r\n\t\tpublic Float getSensorValue()\r\n\t\t{return this.sensorValue;}\r\n\t}\r\n}\r\n```\r\n\r\nVersion of AWS SDK library:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.12.388&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThis makes no sense to me.","title":"How to read Long from DynamoDB","body":"<p>I am trying to access a DynamoDB table from a Java application where the key is a long integer. Reading this guide, <a href=\"https://docs.amazonaws.cn/en_us/amazondynamodb/latest/developerguide/DynamoDBMapper.DataTypes.html\" rel=\"nofollow noreferrer\">https://docs.amazonaws.cn/en_us/amazondynamodb/latest/developerguide/DynamoDBMapper.DataTypes.html</a>, it seems that I can cast my N (number in table) as Long or BigInteger. When I try to retrieve data in both cases, I get this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-01-21T17:28:49.970+01:00 ERROR 15940 --- [nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: SensorData[sample_time]; could not unconvert attribute] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Method.invoke(Object, Object[])&quot; because &quot;this.setter&quot; is null\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardBeanProperties$MethodReflect.set(StandardBeanProperties.java:133) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.set(DynamoDBMapperFieldModel.java:111) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.unconvertAndSet(DynamoDBMapperFieldModel.java:164) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.unconvert(DynamoDBMapperTableModel.java:267) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.privateMarshallIntoObject(DynamoDBMapper.java:472) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.marshallIntoObjects(DynamoDBMapper.java:500) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.PaginatedScanList.&lt;init&gt;(PaginatedScanList.java:64) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.scan(DynamoDBMapper.java:1571) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.scan(AbstractDynamoDBMapper.java:236) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.steeve.test.SensorDataRepository.getAll(SensorDataRepository.java:19) ~[classes/:na]\n    at com.steeve.test.TestApplication.health(TestApplication.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:902) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>The exception is the same for Long and BigInteger. If I map the value as Integer the exception is different, it fails when it tries to do Integer.parseInt() with a too long number:</p>\n<pre><code>2023-01-21T17:35:08.136+01:00 ERROR 5064 --- [nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMappingException: SensorData[sample_time]; could not unconvert attribute] with root cause\n\njava.lang.NumberFormatException: For input string: &quot;1674256283832&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67) ~[na:na]\n    at java.base/java.lang.Integer.parseInt(Integer.java:668) ~[na:na]\n    at java.base/java.lang.Integer.valueOf(Integer.java:999) ~[na:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$ToInteger$2.convert(StandardTypeConverters.java:773) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$ToInteger$2.convert(StandardTypeConverters.java:770) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$1.unconvert(StandardTypeConverters.java:75) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.unconvert(DynamoDBTypeConverter.java:109) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$NullSafeConverter.unconvert(DynamoDBTypeConverter.java:128) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$ExtendedConverter.unconvert(DynamoDBTypeConverter.java:88) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.unconvert(DynamoDBMapperFieldModel.java:146) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.unconvertAndSet(DynamoDBMapperFieldModel.java:164) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperTableModel.unconvert(DynamoDBMapperTableModel.java:267) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.privateMarshallIntoObject(DynamoDBMapper.java:472) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.marshallIntoObjects(DynamoDBMapper.java:500) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.PaginatedScanList.&lt;init&gt;(PaginatedScanList.java:64) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.scan(DynamoDBMapper.java:1571) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.scan(AbstractDynamoDBMapper.java:236) ~[aws-java-sdk-dynamodb-1.12.388.jar:na]\n    at com.steeve.test.SensorDataRepository.getAll(SensorDataRepository.java:19) ~[classes/:na]\n</code></pre>\n<p>This is my mapping class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DynamoDBTable(tableName = &quot;sensor_data&quot;)\npublic class SensorData {\n    \n    private Long sample_time;\n    \n    @DynamoDBHashKey(attributeName = &quot;sample_time&quot;)\n    public Long getSampletime()\n    {return sample_time;}\n    public void setSampleTime(Long sample_time)\n    { this.sample_time = sample_time;}\n    \n    @DynamoDBDocument()\n    public static class device_data {\n        private String sensorName;\n        private Float sensorValue;\n        \n        public void setSensorName(String sensorName)\n        {this.sensorName = sensorName;}\n        @DynamoDBAttribute\n        public String getSensorName()\n        {return this.sensorName;}\n        \n        public void setSensorValue(Float sensorValue)\n        {this.sensorValue = sensorValue;}\n        @DynamoDBAttribute\n        public Float getSensorValue()\n        {return this.sensorValue;}\n    }\n}\n</code></pre>\n<p>Version of AWS SDK library:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n    &lt;version&gt;1.12.388&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This makes no sense to me.</p>\n"},{"tags":["java","android-keystore","ecdh"],"answers":[{"tags":[],"owner":{"account_id":29138118,"reputation":26,"user_id":22321789,"display_name":"yingy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690947339,"creation_date":1690905849,"answer_id":76813429,"question_id":74344007,"body_markdown":"in Android 13(API 33)\r\nuse KeyStore.SetEntry to Import KeyPair:\r\n```\r\nval privateKeyEntry = PrivateKeyEntry(privateKey, certificateChain)\r\n\r\nks.setEntry(alias, privateKeyEntry, KeyProtection.Builder(\r\n           KeyProperties.PURPOSE_AGREE_KEY or KeyProperties.PURPOSE_SIGN)\r\n          .setDigests(KeyProperties.DIGEST_SHA256, KeyProperties.DIGEST_SHA512)\r\n          .build())\r\n```","title":"How to modify the purpose of the KeyPair in the Android.KeyStore","body":"<p>in Android 13(API 33)\nuse KeyStore.SetEntry to Import KeyPair:</p>\n<pre><code>val privateKeyEntry = PrivateKeyEntry(privateKey, certificateChain)\n\nks.setEntry(alias, privateKeyEntry, KeyProtection.Builder(\n           KeyProperties.PURPOSE_AGREE_KEY or KeyProperties.PURPOSE_SIGN)\n          .setDigests(KeyProperties.DIGEST_SHA256, KeyProperties.DIGEST_SHA512)\n          .build())\n</code></pre>\n"}],"owner":{"account_id":26853636,"reputation":1,"user_id":20438223,"display_name":"dante0610"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690947339,"creation_date":1667811398,"question_id":74344007,"body_markdown":"When generate a KeyPair in Android.KeyStore, we will set KeyProperties like KeyProperties.PURPOSE_SIGN.\r\nNow, I generate a KeyPair on secp256r1 curve in plaintext. then save it to KeyStore, it can be used to sign or verify signatures, but not to derive keys, I think it may be missing KeyProperties.PURPOSE_AGREE_KEY attribute. How can I add this property for this KeyPair in keystore?\r\n\r\nThis is my code when I save the KeyPair into KeyStore. PublicKey and PrivateKey generated on secp256r1 curve.\r\n\r\n```\r\npublic static boolean saveKeyPair(PublicKey publicKey, PrivateKey privateKey, String alias) {\r\n    KeyStore ks = null;\r\n    try {\r\n        ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n        ks.load(null, null);\r\n\r\n        byte[] cert = new CertificateManager.CertificateBuilder()\r\n                    .setBasicConstraints(false)\r\n                    .setkeyUsage(0)\r\n                    .setPk(publicKey)\r\n                    .addIssuer(BCStyle.CN, &quot;KeyPair Save For Test&quot;)\r\n                    .addSubject(BCStyle.CN, &quot;KeyPair Save For Test&quot;)\r\n                    .build(privateKey);\r\n\r\n        X509Certificate[] chain = new X509Certificate[1];\r\n        chain[0] = CertificateManager.createCert(cert);\r\n        ks.setKeyEntry(alias, privateKey, null, chain);\r\n\r\n        PublicKey pk = ks.getCertificate(alias).getPublicKey();\r\n        if (ByteUtils.toHexString(pk.getEncoded()).equalsIgnoreCase(ByteUtils.toHexString(publicKey.getEncoded()))) {\r\n            return true;\r\n        }\r\n    } catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException e) {\r\n        e.printStackTrace();\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nHere is my code to generate the derived key with ECDH\r\n\r\n```\r\npublic static byte[] ecdh(String alias, PublicKey ePublicKey) {\r\n    byte[] ret;\r\n    try {\r\n        KeyStore ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n        ks.load(null,null);\r\n        KeyStore.PrivateKeyEntry entry = (KeyStore.PrivateKeyEntry)ks.getEntry(alias, null);\r\n        PrivateKey privateKey = entry.getPrivateKey();\r\n        KeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;,&quot;AndroidKeyStore&quot;);\r\n        keyAgreement.init(privateKey);\r\n        keyAgreement.doPhase(ePublicKey, true);\r\n        ret = keyAgreement.generateSecret();\r\n        \r\n        return ret;\r\n    } catch (Exception e) {\r\n           e.printStackTrace();\r\n    }\r\n    return new byte[0];\r\n}\r\n```\r\n\r\nThe following is the error when the code runs\r\n\r\n```\r\nW/le.activitytes: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLProvider;-&gt;&lt;init&gt;()V (unsupported,core-platform-api, reflection, allowed)\r\nW/le.activitytes: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLRandom;-&gt;&lt;init&gt;()V (unsupported, reflection, allowed)\r\nW/System.err: java.security.InvalidKeyException: Keystore operation failed\r\nW/System.err:     at android.security.keystore2.KeyStoreCryptoOperationUtils.getInvalidKeyException(KeyStoreCryptoOperationUtils.java:130)\r\nW/System.err:     at android.security.keystore2.AndroidKeyStoreKeyAgreementSpi.ensureKeystoreOperationInitialized(AndroidKeyStoreKeyAgreementSpi.java:228)\r\nW/System.err:     at android.security.keystore2.AndroidKeyStoreKeyAgreementSpi.engineInit(AndroidKeyStoreKeyAgreementSpi.java:96)\r\nW/System.err:     at javax.crypto.KeyAgreement.init(KeyAgreement.java:498)\r\nW/System.err:     at javax.crypto.KeyAgreement.init(KeyAgreement.java:470)\r\n```\r\nThis is my code to generate the KeyPair, for the plaintext generation I didn&#39;t use the KeyStore\r\n```\r\npublic static KeyPair genKeyPair(){\r\n    try {\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n        ECGenParameterSpec spec = new ECGenParameterSpec(&quot;secp256r1&quot;);\r\n        generator.initialize(spec);\r\n        generator.initialize(256);\r\n        return generator.generateKeyPair();\r\n    } catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\r\n    throw new RuntimeExcepetion(e);\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to modify the purpose of the KeyPair in the Android.KeyStore","body":"<p>When generate a KeyPair in Android.KeyStore, we will set KeyProperties like KeyProperties.PURPOSE_SIGN.\nNow, I generate a KeyPair on secp256r1 curve in plaintext. then save it to KeyStore, it can be used to sign or verify signatures, but not to derive keys, I think it may be missing KeyProperties.PURPOSE_AGREE_KEY attribute. How can I add this property for this KeyPair in keystore?</p>\n<p>This is my code when I save the KeyPair into KeyStore. PublicKey and PrivateKey generated on secp256r1 curve.</p>\n<pre><code>public static boolean saveKeyPair(PublicKey publicKey, PrivateKey privateKey, String alias) {\n    KeyStore ks = null;\n    try {\n        ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n        ks.load(null, null);\n\n        byte[] cert = new CertificateManager.CertificateBuilder()\n                    .setBasicConstraints(false)\n                    .setkeyUsage(0)\n                    .setPk(publicKey)\n                    .addIssuer(BCStyle.CN, &quot;KeyPair Save For Test&quot;)\n                    .addSubject(BCStyle.CN, &quot;KeyPair Save For Test&quot;)\n                    .build(privateKey);\n\n        X509Certificate[] chain = new X509Certificate[1];\n        chain[0] = CertificateManager.createCert(cert);\n        ks.setKeyEntry(alias, privateKey, null, chain);\n\n        PublicKey pk = ks.getCertificate(alias).getPublicKey();\n        if (ByteUtils.toHexString(pk.getEncoded()).equalsIgnoreCase(ByteUtils.toHexString(publicKey.getEncoded()))) {\n            return true;\n        }\n    } catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p>Here is my code to generate the derived key with ECDH</p>\n<pre><code>public static byte[] ecdh(String alias, PublicKey ePublicKey) {\n    byte[] ret;\n    try {\n        KeyStore ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n        ks.load(null,null);\n        KeyStore.PrivateKeyEntry entry = (KeyStore.PrivateKeyEntry)ks.getEntry(alias, null);\n        PrivateKey privateKey = entry.getPrivateKey();\n        KeyAgreement keyAgreement = KeyAgreement.getInstance(&quot;ECDH&quot;,&quot;AndroidKeyStore&quot;);\n        keyAgreement.init(privateKey);\n        keyAgreement.doPhase(ePublicKey, true);\n        ret = keyAgreement.generateSecret();\n        \n        return ret;\n    } catch (Exception e) {\n           e.printStackTrace();\n    }\n    return new byte[0];\n}\n</code></pre>\n<p>The following is the error when the code runs</p>\n<pre><code>W/le.activitytes: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLProvider;-&gt;&lt;init&gt;()V (unsupported,core-platform-api, reflection, allowed)\nW/le.activitytes: Accessing hidden method Lcom/android/org/conscrypt/OpenSSLRandom;-&gt;&lt;init&gt;()V (unsupported, reflection, allowed)\nW/System.err: java.security.InvalidKeyException: Keystore operation failed\nW/System.err:     at android.security.keystore2.KeyStoreCryptoOperationUtils.getInvalidKeyException(KeyStoreCryptoOperationUtils.java:130)\nW/System.err:     at android.security.keystore2.AndroidKeyStoreKeyAgreementSpi.ensureKeystoreOperationInitialized(AndroidKeyStoreKeyAgreementSpi.java:228)\nW/System.err:     at android.security.keystore2.AndroidKeyStoreKeyAgreementSpi.engineInit(AndroidKeyStoreKeyAgreementSpi.java:96)\nW/System.err:     at javax.crypto.KeyAgreement.init(KeyAgreement.java:498)\nW/System.err:     at javax.crypto.KeyAgreement.init(KeyAgreement.java:470)\n</code></pre>\n<p>This is my code to generate the KeyPair, for the plaintext generation I didn't use the KeyStore</p>\n<pre><code>public static KeyPair genKeyPair(){\n    try {\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;EC&quot;);\n        ECGenParameterSpec spec = new ECGenParameterSpec(&quot;secp256r1&quot;);\n        generator.initialize(spec);\n        generator.initialize(256);\n        return generator.generateKeyPair();\n    } catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\n    throw new RuntimeExcepetion(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","double","precision"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1690912712,"post_id":76814141,"comment_id":135418235,"body_markdown":"Why are 5s disappearing?","body":"Why are 5s disappearing?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":4,"creation_date":1690913420,"post_id":76814141,"comment_id":135418373,"body_markdown":"What do you mean by &quot;int memory limit&quot;? Also this is not parsing, it is a type conversion but also the number is being transformed. 1.1 is not equal to 11. Explain the transformation expected.","body":"What do you mean by &quot;int memory limit&quot;? Also this is not parsing, it is a type conversion but also the number is being transformed. 1.1 is not equal to 11. Explain the transformation expected."},{"owner":{"display_name":"user2453382"},"score":0,"creation_date":1690913829,"post_id":76814141,"comment_id":135418450,"body_markdown":"Technically, you have no way to achieve this other than using converting input to `String` and using regular expression [See this answer for Java](https://stackoverflow.com/a/54111864/2453382). As @aled pointed out, you are not parsing, you are `extracting`, left hand side does not correlate to right hand side of your table mathematically.","body":"Technically, you have no way to achieve this other than using converting input to <code>String</code> and using regular expression <a href=\"https://stackoverflow.com/a/54111864/2453382\">See this answer for Java</a>. As @aled pointed out, you are not parsing, you are <code>extracting</code>, left hand side does not correlate to right hand side of your table mathematically."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1690913869,"post_id":76814141,"comment_id":135418458,"body_markdown":"Please note that there is no exact value of 1.1 in `double` type. More info [Is floating point math broken?](https://stackoverflow.com/q/588004), https://floating-point-gui.de/, https://floating-point-gui.de/basic/, https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","body":"Please note that there is no exact value of 1.1 in <code>double</code> type. More info <a href=\"https://stackoverflow.com/q/588004\">Is floating point math broken?</a>, <a href=\"https://floating-point-gui.de/\" rel=\"nofollow noreferrer\">floating-point-gui.de</a>, <a href=\"https://floating-point-gui.de/basic/\" rel=\"nofollow noreferrer\">floating-point-gui.de/basic</a>, <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1690915127,"post_id":76814141,"comment_id":135418646,"body_markdown":"It is not reallyw clear, what conversion do you mean. Should we convert `1.1001` to `11001` or just `11`? Also, does that mean `1.1` and `1.11`, even if they are almost the same number, should be converted to much different `11` and `111`? Also, `11.1` and `1.11` should convert to exactly the same int?","body":"It is not reallyw clear, what conversion do you mean. Should we convert <code>1.1001</code> to <code>11001</code> or just <code>11</code>? Also, does that mean <code>1.1</code> and <code>1.11</code>, even if they are almost the same number, should be converted to much different <code>11</code> and <code>111</code>? Also, <code>11.1</code> and <code>1.11</code> should convert to exactly the same int?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1690916707,"post_id":76814141,"comment_id":135418928,"body_markdown":"interesting fact: `1.1` is actually not exactly representable by `double`, the nearest  double would be `1.100000000000000088817841970012523233890533447265625`","body":"interesting fact: <code>1.1</code> is actually not exactly representable by <code>double</code>, the nearest  double would be <code>1.100000000000000088817841970012523233890533447265625</code>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690916823,"post_id":76814141,"comment_id":135418948,"body_markdown":"@user16320675 that&#39;s why BigDecimal should be used. It can avoid representation errors and has conversion methods that also prevent them in the conversion itself. See my answer.","body":"@user16320675 that&#39;s why BigDecimal should be used. It can avoid representation errors and has conversion methods that also prevent them in the conversion itself. See my answer."}],"answers":[{"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690916987,"post_id":76814327,"comment_id":135418985,"body_markdown":"You are right. I could replace `x.movePointRight(x.scale())` by `x.unscaledValue()` and get the same result. I will do that for clarity. Thanks for pointing it out.","body":"You are right. I could replace <code>x.movePointRight(x.scale())</code> by <code>x.unscaledValue()</code> and get the same result. I will do that for clarity. Thanks for pointing it out."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690917017,"creation_date":1690914491,"answer_id":76814327,"question_id":76814141,"body_markdown":"Assuming that you want to keep all the significant digits you should use BigDecimal to do the conversion and transformation without missing information:\r\n``` lang-java\r\nimport java.math.BigDecimal;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      BigDecimal x=BigDecimal.valueOf(1.12345);\r\n      int y=x.unscaledValue().intValueExact();\r\n      System.out.println(&quot;y = &quot; + y);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\ny = 112345\r\n```\r\n`valueOf()` is needed to create a BigDecimal from a floating point type without representation errors. `intValueExact()` will throw an exception if the result is out of range for an `int`.\r\n\r\nNote that this solution keeps the 5 at the end of the number unlike your example.","title":"Double to Int with removing precision point dynamically","body":"<p>Assuming that you want to keep all the significant digits you should use BigDecimal to do the conversion and transformation without missing information:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigDecimal;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      BigDecimal x=BigDecimal.valueOf(1.12345);\n      int y=x.unscaledValue().intValueExact();\n      System.out.println(&quot;y = &quot; + y);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>y = 112345\n</code></pre>\n<p><code>valueOf()</code> is needed to create a BigDecimal from a floating point type without representation errors. <code>intValueExact()</code> will throw an exception if the result is out of range for an <code>int</code>.</p>\n<p>Note that this solution keeps the 5 at the end of the number unlike your example.</p>\n"},{"tags":[],"owner":{"account_id":23431785,"reputation":110,"user_id":17490497,"display_name":"Jean-Samuel Girard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690918515,"creation_date":1690918515,"answer_id":76814704,"question_id":76814141,"body_markdown":"If you know how many digits you want to keep after the decimal part you could just multiply by 10^n and store the result in an int.\r\n\r\nThe way a double is stored with a floating point is always an approximation of a number. Like others said, this means 1.1 can&#39;t be represented exactly and the real value is closer to 1.100000000000000088817841970012523233890533447265625\r\n\r\nIf we knew what you&#39;re trying to achieve with this kind of data transformation perhaps we could offer a different alternative? Because this is a very strange thing to do and I can&#39;t think of a reason why you would need to do this in any application.","title":"Double to Int with removing precision point dynamically","body":"<p>If you know how many digits you want to keep after the decimal part you could just multiply by 10^n and store the result in an int.</p>\n<p>The way a double is stored with a floating point is always an approximation of a number. Like others said, this means 1.1 can't be represented exactly and the real value is closer to 1.100000000000000088817841970012523233890533447265625</p>\n<p>If we knew what you're trying to achieve with this kind of data transformation perhaps we could offer a different alternative? Because this is a very strange thing to do and I can't think of a reason why you would need to do this in any application.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690946368,"creation_date":1690946368,"answer_id":76816409,"question_id":76814141,"body_markdown":"**BigDecimal** is definitely the way to go here but, if you want another alternative you could do something like this....\r\n\r\n- Convert the double type value to string;\r\n- Remove the decimal point (whatever type it is);\r\n- Convert the string to a long data type;\r\n- See if the long value is greater than or equal to Integer.MIN_VALUE \r\n  or, less than or equal to Integer.MAX_VALUE. If it is, convert the \r\n  **long** value to an **int**. If it isn&#39;t then remove a single trailing digit \r\n  from the long value and check again. Keep checking until the long \r\n  value falls within the Integer.MIN_VALUE and Integer.MAX_VALUE range. \r\n\r\nHere is a code example. ***Be sure to read the comments:***\r\n\r\n    /* Double type values to convert in double type array. \r\n       You could potentially supply signed values as well.\r\n       The decimal point identifier can be whatever suits \r\n       your specific system locale (. or ,):    */\r\n    double[] dblArray = {1.1234567896543217d, 1.123d, 1.1d, \r\n        1.1001, -1.10017887643456776d, 1.12345d, 0.12345d, \r\n        87.543276d, 4657.439802};\r\n\r\n    /* Display a table header in Console for the conversion results \r\n       from the double type array to int values. The String.format()\r\n       method is used:        */\r\n    System.out.println(&quot;Remove decimal point and convert to int:\\n&quot;);\r\n    System.out.println(String.format(&quot;%-25s %-12s&quot;, &quot;Double (double)&quot;, &quot;Integer (int)&quot;));\r\n    System.out.println(&quot;=======================================&quot;);\r\n\r\n    /* Convert each double type element within the dblArray[] array\r\n       to int ans display the results in a Table style format:   */\r\n    boolean greaterThanMinMaxInt;   // Flag\r\n    for (Double dbl : dblArray) {\r\n        greaterThanMinMaxInt = false; // Used only for display purposes.\r\n        /* First convert the double type data to an long type value\r\n           by converting the double type value to String then removing \r\n           the decimal point (be it &#39;.&#39; or &#39;,&#39;) then using the known \r\n           Long.parseLong() method to convert the new string value to \r\n           a long data type. This is done to ensure the the double \r\n           value conversion will fit and we can then check for Integer\r\n           MIN/MAX.             */\r\n        long lng = Long.parseLong(String.valueOf(dbl).replaceAll(&quot;[.,]&quot;, &quot;&quot;));\r\n\r\n        /* Is the long type value less than Integer.MIN_VALUE or greater \r\n           than Integer.MAX_VALUE. If it is then remove a digit from the \r\n           trailing end of the long type value. Keep doing this until the \r\n           long value falls within bounds:         */\r\n        while (lng &lt; Integer.MIN_VALUE || lng &gt; Integer.MAX_VALUE) {\r\n            lng = lng / 10; // Remove last digit in long value.\r\n            greaterThanMinMaxInt = true; // Flag set - Value needed reducing.\r\n        }\r\n\r\n        /* Now that the long type value is within Integer.MIN/MAX \r\n           values, convert the value to `int`:   */\r\n        int intValue = (int) lng;\r\n\r\n        /* Display the result within Console Table. Nested Ternary \r\n           Operators are used to display which values were actually \r\n           reduced in length to satisfy Integer.MIN_VALUE and \r\n           Integer.MAX_VALUE:  */\r\n        System.out.println(String.format(&quot;%-25s %-12s&quot;, String.valueOf(dbl), \r\n                String.valueOf(intValue) + (greaterThanMinMaxInt ? (intValue &gt; 0 \r\n                        ? &quot; (&#39;Had&#39; Integer.MAX_VALUE Overflow)&quot; : &quot; (&#39;Had&#39; Integer.MIN_VALUE Overflow)&quot;) \r\n                        : &quot;&quot;)));\r\n    }\r\n\r\nIf you run the code above, you should see the following within the Console Window:\r\n\r\n```\r\nRemove decimal point and convert to int:\r\n\r\nDouble (double)           Integer (int)\r\n=======================================\r\n1.1234567896543217        1123456789 (&#39;Had&#39; Integer.MAX_VALUE Overflow)\r\n1.123                     1123        \r\n1.1                       11          \r\n1.1001                    11001       \r\n-1.1001788764345677       -1100178876 (&#39;Had&#39; Integer.MIN_VALUE Overflow)\r\n1.12345                   112345      \r\n0.12345                   12345       \r\n87.543276                 87543276    \r\n4657.439802               465743980 (&#39;Had&#39; Integer.MAX_VALUE Overflow)\r\n```","title":"Double to Int with removing precision point dynamically","body":"<p><strong>BigDecimal</strong> is definitely the way to go here but, if you want another alternative you could do something like this....</p>\n<ul>\n<li>Convert the double type value to string;</li>\n<li>Remove the decimal point (whatever type it is);</li>\n<li>Convert the string to a long data type;</li>\n<li>See if the long value is greater than or equal to Integer.MIN_VALUE\nor, less than or equal to Integer.MAX_VALUE. If it is, convert the\n<strong>long</strong> value to an <strong>int</strong>. If it isn't then remove a single trailing digit\nfrom the long value and check again. Keep checking until the long\nvalue falls within the Integer.MIN_VALUE and Integer.MAX_VALUE range.</li>\n</ul>\n<p>Here is a code example. <em><strong>Be sure to read the comments:</strong></em></p>\n<pre><code>/* Double type values to convert in double type array. \n   You could potentially supply signed values as well.\n   The decimal point identifier can be whatever suits \n   your specific system locale (. or ,):    */\ndouble[] dblArray = {1.1234567896543217d, 1.123d, 1.1d, \n    1.1001, -1.10017887643456776d, 1.12345d, 0.12345d, \n    87.543276d, 4657.439802};\n\n/* Display a table header in Console for the conversion results \n   from the double type array to int values. The String.format()\n   method is used:        */\nSystem.out.println(&quot;Remove decimal point and convert to int:\\n&quot;);\nSystem.out.println(String.format(&quot;%-25s %-12s&quot;, &quot;Double (double)&quot;, &quot;Integer (int)&quot;));\nSystem.out.println(&quot;=======================================&quot;);\n\n/* Convert each double type element within the dblArray[] array\n   to int ans display the results in a Table style format:   */\nboolean greaterThanMinMaxInt;   // Flag\nfor (Double dbl : dblArray) {\n    greaterThanMinMaxInt = false; // Used only for display purposes.\n    /* First convert the double type data to an long type value\n       by converting the double type value to String then removing \n       the decimal point (be it '.' or ',') then using the known \n       Long.parseLong() method to convert the new string value to \n       a long data type. This is done to ensure the the double \n       value conversion will fit and we can then check for Integer\n       MIN/MAX.             */\n    long lng = Long.parseLong(String.valueOf(dbl).replaceAll(&quot;[.,]&quot;, &quot;&quot;));\n\n    /* Is the long type value less than Integer.MIN_VALUE or greater \n       than Integer.MAX_VALUE. If it is then remove a digit from the \n       trailing end of the long type value. Keep doing this until the \n       long value falls within bounds:         */\n    while (lng &lt; Integer.MIN_VALUE || lng &gt; Integer.MAX_VALUE) {\n        lng = lng / 10; // Remove last digit in long value.\n        greaterThanMinMaxInt = true; // Flag set - Value needed reducing.\n    }\n\n    /* Now that the long type value is within Integer.MIN/MAX \n       values, convert the value to `int`:   */\n    int intValue = (int) lng;\n\n    /* Display the result within Console Table. Nested Ternary \n       Operators are used to display which values were actually \n       reduced in length to satisfy Integer.MIN_VALUE and \n       Integer.MAX_VALUE:  */\n    System.out.println(String.format(&quot;%-25s %-12s&quot;, String.valueOf(dbl), \n            String.valueOf(intValue) + (greaterThanMinMaxInt ? (intValue &gt; 0 \n                    ? &quot; ('Had' Integer.MAX_VALUE Overflow)&quot; : &quot; ('Had' Integer.MIN_VALUE Overflow)&quot;) \n                    : &quot;&quot;)));\n}\n</code></pre>\n<p>If you run the code above, you should see the following within the Console Window:</p>\n<pre><code>Remove decimal point and convert to int:\n\nDouble (double)           Integer (int)\n=======================================\n1.1234567896543217        1123456789 ('Had' Integer.MAX_VALUE Overflow)\n1.123                     1123        \n1.1                       11          \n1.1001                    11001       \n-1.1001788764345677       -1100178876 ('Had' Integer.MIN_VALUE Overflow)\n1.12345                   112345      \n0.12345                   12345       \n87.543276                 87543276    \n4657.439802               465743980 ('Had' Integer.MAX_VALUE Overflow)\n</code></pre>\n"}],"owner":{"account_id":4926895,"reputation":11,"user_id":3967916,"accept_rate":0,"display_name":"ibrahiem Mohamed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1690947218,"accepted_answer_id":76814327,"answer_count":3,"score":-1,"last_activity_date":1690946368,"creation_date":1690912395,"question_id":76814141,"body_markdown":"Is there a way in Kotlin, or Java to parse Double to Int knowing that all the doubles will not exceed the Int memory limit?\r\nexamples: \r\n\r\n| Double   | Int     |\r\n| -------- | ------- |\r\n| 1,123    | 1123    |\r\n| 1,1      | 11      |\r\n| 1,12345  | 11234   |\r\n| 0,12345  | 1234    | \r\n\r\nI know we can parse it to string first and remove the &#39;.&#39; and then to Int but I want a more effective way.","title":"Double to Int with removing precision point dynamically","body":"<p>Is there a way in Kotlin, or Java to parse Double to Int knowing that all the doubles will not exceed the Int memory limit?\nexamples:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Double</th>\n<th>Int</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1,123</td>\n<td>1123</td>\n</tr>\n<tr>\n<td>1,1</td>\n<td>11</td>\n</tr>\n<tr>\n<td>1,12345</td>\n<td>11234</td>\n</tr>\n<tr>\n<td>0,12345</td>\n<td>1234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I know we can parse it to string first and remove the '.' and then to Int but I want a more effective way.</p>\n"},{"tags":["java","hash","hashmap","time-complexity","hashtable"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":2,"creation_date":1543429765,"post_id":53525851,"comment_id":93920592,"body_markdown":"*`For instance, why isn&#39;t it n*m?`* Why *would* it be this?","body":"<i><code>For instance, why isn&#39;t it n*m?</code></i> Why <i>would</i> it be this?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1543430008,"post_id":53525851,"comment_id":93920700,"body_markdown":"And why would it be n + m? How did you understand that?","body":"And why would it be n + m? How did you understand that?"},{"owner":{"account_id":14424445,"reputation":21,"user_id":10419654,"display_name":"lemonuzzi"},"score":0,"creation_date":1543434563,"post_id":53525851,"comment_id":93922913,"body_markdown":"I meant assuming each bucket had a linkedlist with &quot;x&quot; potential elements not &quot;n&quot; sorry! So it would be O(m*x) or O(n*x).","body":"I meant assuming each bucket had a linkedlist with &quot;x&quot; potential elements not &quot;n&quot; sorry! So it would be O(m<i>x) or O(n</i>x)."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1543501232,"post_id":53525851,"comment_id":93949060,"body_markdown":"@JBNizet I guess the OP has understood that by reading [the docs](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html): `Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).`","body":"@JBNizet I guess the OP has understood that by reading <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">the docs</a>: <code>Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).</code>"}],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543512527,"creation_date":1543511827,"answer_id":53544360,"question_id":53525851,"body_markdown":"You are absolutely correct. Iterating a `HashMap` is an `O(n + m)` operation, with `n` being the number of elements contained in the `HashMap` and `m` being its capacity. Actually, this is clearly stated in [the docs][1]:\r\n\r\n&gt;Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).\r\n\r\nIntuitively (and conceptually), this is because a `HashMap` consists of an array of *buckets*, with each element of the array pointing to either nothing (i.e. to `null`), or to a list of entries. \r\n\r\nSo if the array of buckets has size `m`, and if there are `n` entries in the map in total (I mean, `n` entries scattered throughout all the lists *hanging* from some bucket), then, iterating the `HashMap` is done by visiting each bucket, and, for buckets that have a list with entries, visiting each entry in the list. As there are `m` buckets and `n` elements in total, iteration is `O(m + n)`.\r\n\r\nNote that this is not the case for all hash table implementations. For example, `LinkedHashMap` is like a `HashMap`, except that it also has all its entries connected in a doubly-linked list fashion (to preserve either insertion or access order). If you are to iterate a `LinkedHashMap`, there&#39;s no need to visit each bucket. It would be enough to just visit the very first entry and then follow its link to the next entry, and then proceed to the next one, etc, and so on until the last entry. Thus, iterating a `LinkedHashMap` is just `O(n)`, with `n` being the total number of entries.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html","title":"Iteration through a HashMap (Complexity)","body":"<p>You are absolutely correct. Iterating a <code>HashMap</code> is an <code>O(n + m)</code> operation, with <code>n</code> being the number of elements contained in the <code>HashMap</code> and <code>m</code> being its capacity. Actually, this is clearly stated in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>Iteration over collection views requires time proportional to the \"capacity\" of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings).</p>\n</blockquote>\n\n<p>Intuitively (and conceptually), this is because a <code>HashMap</code> consists of an array of <em>buckets</em>, with each element of the array pointing to either nothing (i.e. to <code>null</code>), or to a list of entries. </p>\n\n<p>So if the array of buckets has size <code>m</code>, and if there are <code>n</code> entries in the map in total (I mean, <code>n</code> entries scattered throughout all the lists <em>hanging</em> from some bucket), then, iterating the <code>HashMap</code> is done by visiting each bucket, and, for buckets that have a list with entries, visiting each entry in the list. As there are <code>m</code> buckets and <code>n</code> elements in total, iteration is <code>O(m + n)</code>.</p>\n\n<p>Note that this is not the case for all hash table implementations. For example, <code>LinkedHashMap</code> is like a <code>HashMap</code>, except that it also has all its entries connected in a doubly-linked list fashion (to preserve either insertion or access order). If you are to iterate a <code>LinkedHashMap</code>, there's no need to visit each bucket. It would be enough to just visit the very first entry and then follow its link to the next entry, and then proceed to the next one, etc, and so on until the last entry. Thus, iterating a <code>LinkedHashMap</code> is just <code>O(n)</code>, with <code>n</code> being the total number of entries.</p>\n"},{"tags":[],"owner":{"account_id":18928040,"reputation":1,"user_id":13810716,"display_name":"mandeep Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626004338,"creation_date":1625616205,"answer_id":68278586,"question_id":53525851,"body_markdown":"*Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings)* \r\nn = the number of buckets\r\nm = the number of key-value mappings\r\n\r\nThe complexity of a Hashmap is O(n+m) because the worst-case scenario is one array element contains the whole linked list, which could occur due to flawed implementation of hashcode function being used as a key. \r\n[Visialise the worst-case scenario][1]\r\nTo iterate this scenario, first java needs to iterate the complete array O(n) and then iterate the linked list O(m), combining these gives us O(n+m).\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8DcnL.png","title":"Iteration through a HashMap (Complexity)","body":"<p><em>Iteration over collection views requires time proportional to the &quot;capacity&quot; of the HashMap instance (the number of buckets) plus its size (the number of key-value mappings)</em>\nn = the number of buckets\nm = the number of key-value mappings</p>\n<p>The complexity of a Hashmap is O(n+m) because the worst-case scenario is one array element contains the whole linked list, which could occur due to flawed implementation of hashcode function being used as a key.\n<a href=\"https://i.stack.imgur.com/8DcnL.png\" rel=\"nofollow noreferrer\">Visialise the worst-case scenario</a>\nTo iterate this scenario, first java needs to iterate the complete array O(n) and then iterate the linked list O(m), combining these gives us O(n+m).</p>\n"},{"tags":[],"owner":{"account_id":2320885,"reputation":148,"user_id":2036639,"display_name":"Gaganpreet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690946315,"creation_date":1690946315,"answer_id":76816406,"question_id":53525851,"body_markdown":"It is correct that it should be O(m+n). It would be more practical though to also have an estimate of the number of buckets in terms of the number of elements in the HashMap. \r\n\r\nJava&#39;s implementation of HashMap allows you to construct the HashMap with a given load factor (LF). This makes sure that the number of buckets cannot grow too fast and makes sure that m = O(n). The way to see it would be to stop a specific capacity m_0 and observe that when n reaches n = LF*m_0, m will be doubled. From then on, till the next doubling happens, n &gt; (LF/2)*m.\r\n\r\nWhat this means is that the complexity O(m+n) is also O(n).","title":"Iteration through a HashMap (Complexity)","body":"<p>It is correct that it should be O(m+n). It would be more practical though to also have an estimate of the number of buckets in terms of the number of elements in the HashMap.</p>\n<p>Java's implementation of HashMap allows you to construct the HashMap with a given load factor (LF). This makes sure that the number of buckets cannot grow too fast and makes sure that m = O(n). The way to see it would be to stop a specific capacity m_0 and observe that when n reaches n = LF*m_0, m will be doubled. From then on, till the next doubling happens, n &gt; (LF/2)*m.</p>\n<p>What this means is that the complexity O(m+n) is also O(n).</p>\n"}],"owner":{"account_id":14424445,"reputation":21,"user_id":10419654,"display_name":"lemonuzzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690946315,"creation_date":1543429648,"question_id":53525851,"body_markdown":"From what I understand, the time complexity to iterate through a Hash table with capacity &quot;m&quot; and number of entries &quot;n&quot; is O(n+m). I was wondering, intuitively, why this is the case? For instance, why isn&#39;t it n*m? \r\n\r\nThanks in advance!","title":"Iteration through a HashMap (Complexity)","body":"<p>From what I understand, the time complexity to iterate through a Hash table with capacity \"m\" and number of entries \"n\" is O(n+m). I was wondering, intuitively, why this is the case? For instance, why isn't it n*m? </p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","windows","spring-boot","maven","graphql"],"answers":[{"comments":[{"owner":{"account_id":29030916,"reputation":11,"user_id":22237860,"display_name":"ACS"},"score":1,"creation_date":1691232622,"post_id":76814094,"comment_id":135466324,"body_markdown":"Thank you finally my cord works and i found a clue that i should learn before running this by your answer!\n\nI found out the core concept is that DI, Annotation. I&#39;ve studied these things and tried again with few annotations which are Value, Component, Autowired, CommandLineRunner. XD\n\nThank you so much! now i will find out what CommandLineRunner is haha.","body":"Thank you finally my cord works and i found a clue that i should learn before running this by your answer!  I found out the core concept is that DI, Annotation. I&#39;ve studied these things and tried again with few annotations which are Value, Component, Autowired, CommandLineRunner. XD  Thank you so much! now i will find out what CommandLineRunner is haha."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690911999,"creation_date":1690911999,"answer_id":76814094,"question_id":76813956,"body_markdown":"Spring annotations such as `@Value` only work inside Spring beans, that are managed by Spring in the application context.\r\n\r\nIn your `main` method you are creating an instance of class `FetchAPI` yourself, outside of Spring:\r\n\r\n    FetchAPI api=new FetchAPI();\r\n    api.SelectDataByWeaponId(&quot;&quot;);\r\n\r\nThe object that the variable `api` refers to is not a bean managed by Spring, because you are instantiating it yourself using `new`. Spring annotations such as `@Value` are not processed when you do that, so that the member variable `GraphQLurl` in your object is `null`.\r\n\r\nDon&#39;t instantiate classes that are intended to be Spring beans by using `new` directly. Instead, let Spring instantiate and manage them in the application context and use dependency injection (autowiring) when you need to use them.\r\n\r\nWhat you can do is this:\r\n\r\nFirst, remove the calls after `SpringApplication.run()` from your main application class. You can also remove the `@ComponentScan` annotation, because it does not make any difference in this case:\r\n\r\n    @SpringBootApplication\r\n    public class RandomWeaponGeneratorApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(RandomWeaponGeneratorApplication.class, args);\r\n        }\r\n    }\r\n\r\nAdd a class that implements interface `CommandLineRunner` to your application, into which you autowire an instance of `FetchAPI` instead of creating it yourself with `new`:\r\n\r\n    @Component\r\n    public class RandomWeaponGeneratorRunner implements CommandLineRunner {\r\n\r\n        @Autowired\r\n        private FetchAPI api;\r\n\r\n        @Override\r\n        public void run(String... args) {\r\n            api.SelectDataByWeaponId(&quot;&quot;);\r\n        }\r\n    }\r\n\r\nSpring Boot will automatically instantiate and call the `run` method when it finds this class.","title":"not able to read application.properties file in Spring boot Java","body":"<p>Spring annotations such as <code>@Value</code> only work inside Spring beans, that are managed by Spring in the application context.</p>\n<p>In your <code>main</code> method you are creating an instance of class <code>FetchAPI</code> yourself, outside of Spring:</p>\n<pre><code>FetchAPI api=new FetchAPI();\napi.SelectDataByWeaponId(&quot;&quot;);\n</code></pre>\n<p>The object that the variable <code>api</code> refers to is not a bean managed by Spring, because you are instantiating it yourself using <code>new</code>. Spring annotations such as <code>@Value</code> are not processed when you do that, so that the member variable <code>GraphQLurl</code> in your object is <code>null</code>.</p>\n<p>Don't instantiate classes that are intended to be Spring beans by using <code>new</code> directly. Instead, let Spring instantiate and manage them in the application context and use dependency injection (autowiring) when you need to use them.</p>\n<p>What you can do is this:</p>\n<p>First, remove the calls after <code>SpringApplication.run()</code> from your main application class. You can also remove the <code>@ComponentScan</code> annotation, because it does not make any difference in this case:</p>\n<pre><code>@SpringBootApplication\npublic class RandomWeaponGeneratorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RandomWeaponGeneratorApplication.class, args);\n    }\n}\n</code></pre>\n<p>Add a class that implements interface <code>CommandLineRunner</code> to your application, into which you autowire an instance of <code>FetchAPI</code> instead of creating it yourself with <code>new</code>:</p>\n<pre><code>@Component\npublic class RandomWeaponGeneratorRunner implements CommandLineRunner {\n\n    @Autowired\n    private FetchAPI api;\n\n    @Override\n    public void run(String... args) {\n        api.SelectDataByWeaponId(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>Spring Boot will automatically instantiate and call the <code>run</code> method when it finds this class.</p>\n"},{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912433,"creation_date":1690912433,"answer_id":76814145,"question_id":76813956,"body_markdown":"The problem here is that you kinda combine Plain Java object creation with Spring(DI, IOC, etc). \r\n\r\n\r\nYou have to understand that processing of the **@Value** annotation is performed by a BeanPostProcessor which in your particular case means that you have to use DI to at least access the class where this value is initialised. \r\n\r\n\r\n----------\r\n\r\n\r\nIn another words, really simple. You can`t combine \r\n\r\n    new FetchAPI(); with @Value annotation\r\n( actually there are some ways but this is not the case). \r\n\r\n\r\n----------\r\nIf you want to follow spring way but do something like console runner - You can use this code\r\n\r\n    @SpringBootApplication\r\n    public class SpringBootConsoleApplication\r\n        implements CommandLineRunner {\r\n    \r\n        private final FetchAPI fetchAPI; //Injection of your FetchAPI service bean using constructor\r\n    \r\n        @Autowired\r\n        public SpringBootConsoleApplication(FetchAPI fetchAPI) {\r\n            this.fetchAPI = fetchAPI;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringBootConsoleApplication.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) {\r\n            //call your singleton bean with already initiated @Value annotation inside\r\n            fetchAPI.SelectDataByWeaponId(&quot;your ID&quot;);\r\n        }\r\n    }\r\n\r\n","title":"not able to read application.properties file in Spring boot Java","body":"<p>The problem here is that you kinda combine Plain Java object creation with Spring(DI, IOC, etc).</p>\n<p>You have to understand that processing of the <strong>@Value</strong> annotation is performed by a BeanPostProcessor which in your particular case means that you have to use DI to at least access the class where this value is initialised.</p>\n<hr />\n<p>In another words, really simple. You can`t combine</p>\n<pre><code>new FetchAPI(); with @Value annotation\n</code></pre>\n<p>( actually there are some ways but this is not the case).</p>\n<hr />\n<p>If you want to follow spring way but do something like console runner - You can use this code</p>\n<pre><code>@SpringBootApplication\npublic class SpringBootConsoleApplication\n    implements CommandLineRunner {\n\n    private final FetchAPI fetchAPI; //Injection of your FetchAPI service bean using constructor\n\n    @Autowired\n    public SpringBootConsoleApplication(FetchAPI fetchAPI) {\n        this.fetchAPI = fetchAPI;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootConsoleApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) {\n        //call your singleton bean with already initiated @Value annotation inside\n        fetchAPI.SelectDataByWeaponId(&quot;your ID&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29030916,"reputation":11,"user_id":22237860,"display_name":"ACS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76814094,"answer_count":2,"score":0,"last_activity_date":1690944329,"creation_date":1690910703,"question_id":76813956,"body_markdown":"I&#39;m trying to make a class to post GraphQL API using java and maven spring boot project with VSCode on Windows.\r\nI&#39;ve encountered an error that It doesn&#39;t find any url that i link using @Value.\r\n\r\n\r\nthis is the error log\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.web.reactive.function.client.WebClientRequestException: Unable to parse url [] \r\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\r\n        Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below:       \r\nError has been observed at the following site(s):\r\n        *__checkpoint ? Request to POST  [DefaultWebClient]\r\nOriginal Stack Trace:\r\n                at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\r\n                at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\r\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n                at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n                at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n                at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)   \r\n                at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\r\n                at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:71)        \r\n                at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1711)\r\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \r\n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n        Suppressed: java.lang.Exception: #block terminated with an error\r\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:103)\r\n                at reactor.core.publisher.Mono.block(Mono.java:1712)\r\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \r\n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.lang.IllegalArgumentException: Unable to parse url []\r\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:68)\r\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:44)\r\n        at reactor.netty.http.client.HttpClientConnect$HttpClientHandler.&lt;init&gt;(HttpClientConnect.java:509)   \r\n        at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:208)\r\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\r\n        at reactor.core.publisher.Mono.block(Mono.java:1711)\r\n        at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)\r\n        at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n```\r\n\r\nIt tells that &quot;Unable to parse url []&quot; which means the url is empty.\r\n\r\n\r\nthis is my project tree.\r\n\r\n```\r\n├─.mvn\r\n│  └─wrapper\r\n├─src\r\n│  ├─main\r\n│  │  ├─java\r\n│  │  │  └─com\r\n│  │  │      └─tarkov\r\n│  │  │          └─randomweapongenerator\r\n│  │  │              ├─controller\r\n│  │  │              ├─entity\r\n│  │  │              ├─repository\r\n│  │  │              └─service\r\n│  │  └─resources\r\n│  │      └─templates\r\n│  └─test\r\n│      └─java\r\n│          └─com\r\n│              └─tarkov\r\n│                  └─randomweapongenerator\r\n└─target\r\n    ├─classes\r\n    │  ├─com\r\n    │  │  └─tarkov\r\n    │  │      └─randomweapongenerator\r\n    │  │          ├─controller\r\n    │  │          ├─entity\r\n    │  │          └─service\r\n    │  └─templates\r\n    ├─generated-sources\r\n    │  └─annotations\r\n    ├─generated-test-sources\r\n    │  └─test-annotations\r\n    ├─maven-archiver\r\n    ├─maven-status\r\n    │  └─maven-compiler-plugin\r\n    │      ├─compile\r\n    │      │  └─default-compile\r\n    │      └─testCompile\r\n    │          └─default-testCompile\r\n    ├─surefire-reports\r\n    └─test-classes\r\n        └─com\r\n            └─tarkov\r\n                └─randomweapongenerator\r\n```\r\n\r\n\r\n\r\n\r\nThis is a class i made to fetch API.\r\n\r\n```\r\n@Service\r\npublic class FetchAPI {\r\n\r\n    @Value(&quot;${graphql.endpoint}&quot;)\r\n    private String GraphQLurl;\r\n    private WebClient webClient=WebClient.create();\r\n\r\n\r\n\r\n    public void SelectDataByWeaponId(String id){\r\n        String query=&quot;{\\&quot;query\\&quot; :\\&quot;{ items { name }}\\&quot;}&quot;;\r\n        \r\n        String response=webClient.post()\r\n            .uri(GraphQLurl)\r\n            .header(HttpHeaders.CONTENT_TYPE,MediaType.APPLICATION_JSON_VALUE)\r\n            .body(BodyInserters.fromValue(query))\r\n            .retrieve()\r\n            .bodyToMono(String.class)\r\n            .block();\r\n        \r\n        System.out.println(response);\r\n    }\r\n\r\n}\r\n```\r\n\r\nFirst time, I used `@Value(&quot;${graphql.endpoint}&quot;)` to link the API url in code.\r\nSo i searched a reason why and i found `@ComponentScan` that i have to use it to scan and add components into a container!\r\n\r\nThis is the code i added.\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.tarkov.randomweapongenerator&quot;)\r\npublic class RandomWeaponGeneratorApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(RandomWeaponGeneratorApplication.class, args);\r\n\t\tSystem.out.println(&quot;hello&quot;);\r\n\t\tFetchAPI api=new FetchAPI();\r\n\t\tapi.SelectDataByWeaponId(&quot;&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIn SelectDataByWeaponId, The argument doesn&#39;t need to fill. I don&#39;t use it in FetchAPI class for now.\r\n\r\nI also made sure that i wrote the application.properties file right.\r\nThis is the endpoint url i set in application.properties.\r\n\r\n`graphql.endpoint=https://api.tarkov.dev/graphql`\r\n\r\n\r\nThe file is also placed in right folder.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/fTNJn.png)](https://i.stack.imgur.com/fTNJn.png)\r\n\r\n\r\nI build and excute the project with command &quot;mvn clean install&quot; and &quot;java -jar result_file.jar&quot;.\r\n\r\nPlease tell me how to resolve it.. thank you!","title":"not able to read application.properties file in Spring boot Java","body":"<p>I'm trying to make a class to post GraphQL API using java and maven spring boot project with VSCode on Windows.\nI've encountered an error that It doesn't find any url that i link using @Value.</p>\n<p>this is the error log</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.web.reactive.function.client.WebClientRequestException: Unable to parse url [] \n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\n        Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below:       \nError has been observed at the following site(s):\n        *__checkpoint ? Request to POST  [DefaultWebClient]\nOriginal Stack Trace:\n                at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\n                at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n                at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n                at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n                at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n                at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)   \n                at reactor.core.publisher.Operators.reportThrowInSubscribe(Operators.java:232)\n                at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:71)        \n                at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n                at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n                at reactor.core.publisher.Mono.block(Mono.java:1711)\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:103)\n                at reactor.core.publisher.Mono.block(Mono.java:1712)\n                at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)   \n                at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n                at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n                at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n                at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n                at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.IllegalArgumentException: Unable to parse url []\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:68)\n        at reactor.netty.http.client.UriEndpointFactory.createUriEndpoint(UriEndpointFactory.java:44)\n        at reactor.netty.http.client.HttpClientConnect$HttpClientHandler.&lt;init&gt;(HttpClientConnect.java:509)   \n        at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:208)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4495)\n        at reactor.core.publisher.Mono.block(Mono.java:1711)\n        at com.tarkov.randomweapongenerator.service.FetchAPI.SelectDataByWeaponId(FetchAPI.java:31)\n        at com.tarkov.randomweapongenerator.RandomWeaponGeneratorApplication.main(RandomWeaponGeneratorApplication.java:18)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)   \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n</code></pre>\n<p>It tells that &quot;Unable to parse url []&quot; which means the url is empty.</p>\n<p>this is my project tree.</p>\n<pre><code>├─.mvn\n│  └─wrapper\n├─src\n│  ├─main\n│  │  ├─java\n│  │  │  └─com\n│  │  │      └─tarkov\n│  │  │          └─randomweapongenerator\n│  │  │              ├─controller\n│  │  │              ├─entity\n│  │  │              ├─repository\n│  │  │              └─service\n│  │  └─resources\n│  │      └─templates\n│  └─test\n│      └─java\n│          └─com\n│              └─tarkov\n│                  └─randomweapongenerator\n└─target\n    ├─classes\n    │  ├─com\n    │  │  └─tarkov\n    │  │      └─randomweapongenerator\n    │  │          ├─controller\n    │  │          ├─entity\n    │  │          └─service\n    │  └─templates\n    ├─generated-sources\n    │  └─annotations\n    ├─generated-test-sources\n    │  └─test-annotations\n    ├─maven-archiver\n    ├─maven-status\n    │  └─maven-compiler-plugin\n    │      ├─compile\n    │      │  └─default-compile\n    │      └─testCompile\n    │          └─default-testCompile\n    ├─surefire-reports\n    └─test-classes\n        └─com\n            └─tarkov\n                └─randomweapongenerator\n</code></pre>\n<p>This is a class i made to fetch API.</p>\n<pre><code>@Service\npublic class FetchAPI {\n\n    @Value(&quot;${graphql.endpoint}&quot;)\n    private String GraphQLurl;\n    private WebClient webClient=WebClient.create();\n\n\n\n    public void SelectDataByWeaponId(String id){\n        String query=&quot;{\\&quot;query\\&quot; :\\&quot;{ items { name }}\\&quot;}&quot;;\n        \n        String response=webClient.post()\n            .uri(GraphQLurl)\n            .header(HttpHeaders.CONTENT_TYPE,MediaType.APPLICATION_JSON_VALUE)\n            .body(BodyInserters.fromValue(query))\n            .retrieve()\n            .bodyToMono(String.class)\n            .block();\n        \n        System.out.println(response);\n    }\n\n}\n</code></pre>\n<p>First time, I used <code>@Value(&quot;${graphql.endpoint}&quot;)</code> to link the API url in code.\nSo i searched a reason why and i found <code>@ComponentScan</code> that i have to use it to scan and add components into a container!</p>\n<p>This is the code i added.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.tarkov.randomweapongenerator&quot;)\npublic class RandomWeaponGeneratorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RandomWeaponGeneratorApplication.class, args);\n        System.out.println(&quot;hello&quot;);\n        FetchAPI api=new FetchAPI();\n        api.SelectDataByWeaponId(&quot;&quot;);\n    }\n\n}\n</code></pre>\n<p>In SelectDataByWeaponId, The argument doesn't need to fill. I don't use it in FetchAPI class for now.</p>\n<p>I also made sure that i wrote the application.properties file right.\nThis is the endpoint url i set in application.properties.</p>\n<p><code>graphql.endpoint=https://api.tarkov.dev/graphql</code></p>\n<p>The file is also placed in right folder.</p>\n<p><a href=\"https://i.stack.imgur.com/fTNJn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTNJn.png\" alt=\"enter image description here\" /></a></p>\n<p>I build and excute the project with command &quot;mvn clean install&quot; and &quot;java -jar result_file.jar&quot;.</p>\n<p>Please tell me how to resolve it.. thank you!</p>\n"},{"tags":["java","maven","microservices","ribbon","nacos"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690946101,"post_id":76816296,"comment_id":135422217,"body_markdown":"Do not use images for text information in Stackoverlow.","body":"Do not use images for text information in Stackoverlow."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691757536,"post_id":76816296,"comment_id":135538592,"body_markdown":"Hello, welcome to Stack Overflow! Maybe you should [read this](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557), and then edit your question.","body":"Hello, welcome to Stack Overflow! Maybe you should <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">read this</a>, and then edit your question."}],"owner":{"account_id":22358223,"reputation":1,"user_id":16575108,"display_name":"185207048"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690944071,"creation_date":1690944071,"question_id":76816296,"body_markdown":"[enter image description here](https://i.stack.imgur.com/XuPep.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/HJSFx.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/RSS2X.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/bxsDb.png)\r\n\r\nRegistering basic_module successfully in the NACOS service registry, and also added @ LoadBalanced load balancing annotation in RestTemplateConfiguration, but still unable to parse basic_module, I use\r\n\r\n```\r\nrestTemplate.getForObject（&quot;http://basic_module/user/getusername&quot;,String.class); \r\n```\r\nThe request result resttemplate was resolved to ``basic_module:80``,Ultimately, it leads to ``basic_module:nodename nor servname provided, or not known``。\r\nWhy is it that even if I add a load balancer and register successfully in the service registry, I cannot recognize basic_module","title":"@LoadBalanced load balancer does not resolve service name in nacos","body":"<p><a href=\"https://i.stack.imgur.com/XuPep.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/HJSFx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/RSS2X.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/bxsDb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Registering basic_module successfully in the NACOS service registry, and also added @ LoadBalanced load balancing annotation in RestTemplateConfiguration, but still unable to parse basic_module, I use</p>\n<pre><code>restTemplate.getForObject（&quot;http://basic_module/user/getusername&quot;,String.class); \n</code></pre>\n<p>The request result resttemplate was resolved to <code>basic_module:80</code>,Ultimately, it leads to <code>basic_module:nodename nor servname provided, or not known</code>。\nWhy is it that even if I add a load balancer and register successfully in the service registry, I cannot recognize basic_module</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690943979,"post_id":76816268,"comment_id":135422068,"body_markdown":"Life might be simpler if you just used the default local repository (~/.m2/repository) and `mvn install` instead of using a custom configuration.","body":"Life might be simpler if you just used the default local repository (~/.m2/repository) and <code>mvn install</code> instead of using a custom configuration."},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1690944324,"post_id":76816268,"comment_id":135422078,"body_markdown":"I put this on kubernetes in docker images so I opted for this configuration. Thanks for the feedback","body":"I put this on kubernetes in docker images so I opted for this configuration. Thanks for the feedback"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690944504,"post_id":76816268,"comment_id":135422095,"body_markdown":"What may be happening is that `purge-local-repository` is trying to re-resolve the dependency, and failing, which is expected as it was manually installed. You can try  setting that parameter to false https://maven.apache.org/plugins/maven-dependency-plugin/purge-local-repository-mojo.html#reResolve (also see https://stackoverflow.com/questions/40381906/what-does-purge-local-repository-actually-purge)","body":"What may be happening is that <code>purge-local-repository</code> is trying to re-resolve the dependency, and failing, which is expected as it was manually installed. You can try  setting that parameter to false <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/purge-local-repository-mojo.html#reResolve\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-dependency-plugin/&hellip;</a> (also see <a href=\"https://stackoverflow.com/questions/40381906/what-does-purge-local-repository-actually-purge\" title=\"what does purge local repository actually purge\">stackoverflow.com/questions/40381906/&hellip;</a>)"},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1690944730,"post_id":76816268,"comment_id":135422115,"body_markdown":"Yes thanks. but why can&#39;t I import the classes from the local repository?","body":"Yes thanks. but why can&#39;t I import the classes from the local repository?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690945277,"post_id":76816268,"comment_id":135422158,"body_markdown":"What I think happens is that `purge-local-repository` deletes the dependencies of `cart-purchase-command` from `../maven-repositorio`, then tries to get `generateproto` from a remote repository, but can&#39;t because it didn&#39;t exist anywhere other than `../maven-repositorio`.","body":"What I think happens is that <code>purge-local-repository</code> deletes the dependencies of <code>cart-purchase-command</code> from <code>..&#47;maven-repositorio</code>, then tries to get <code>generateproto</code> from a remote repository, but can&#39;t because it didn&#39;t exist anywhere other than <code>..&#47;maven-repositorio</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690945566,"post_id":76816268,"comment_id":135422179,"body_markdown":"Why are you running `purge-local-repository`?","body":"Why are you running <code>purge-local-repository</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690961701,"post_id":76816268,"comment_id":135424083,"body_markdown":"Remove the `spring-boot-maven-plugin` from the &quot;local&quot; project. It is just a jar that you want to use as a dependency, not a spring boot application.","body":"Remove the <code>spring-boot-maven-plugin</code> from the &quot;local&quot; project. It is just a jar that you want to use as a dependency, not a spring boot application."},{"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"score":0,"creation_date":1691005924,"post_id":76816268,"comment_id":135433738,"body_markdown":"Thanks a lot it works @M. Deinum","body":"Thanks a lot it works @M. Deinum"}],"owner":{"account_id":3330839,"reputation":1207,"user_id":2799824,"display_name":"Rafael Souza"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690943551,"creation_date":1690943551,"question_id":76816268,"body_markdown":"how to create a local dependency with spring boot. I&#39;m trying to create an application with a local dependency. I create the local dependency then import it into another spring boot project but it fails to import the local dependency classes into the other project.\r\n\r\nThis is the pom.xml of my local dependency:\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;generateproto&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;generate-proto&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.23.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.55.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.16.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.53&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;repositorio.local&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Meu repositorio Local&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;file:../maven-repositorio&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;extensions&gt;\r\n    \t\t\t&lt;extension&gt;\r\n    \t\t\t\t&lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t\t&lt;/extension&gt;\r\n    \t\t&lt;/extensions&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.6.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;protocArtifact&gt;\r\n    \t\t\t\t\t\tcom.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\r\n    \t\t\t\t\t&lt;/protocArtifact&gt;\r\n    \t\t\t\t\t&lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n    \t\t\t\t\t&lt;pluginArtifact&gt;\r\n    \t\t\t\t\t\tio.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\r\n    \t\t\t\t\t&lt;/pluginArtifact&gt;\r\n    \t\t\t\t\t&lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\r\n    \t\t\t\t\t&lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile-custom&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nThe command to create my local directory:\r\n\r\n    mvn install:install-file -Dfile=target/generateproto-0.0.1-SNAPSHOT.jar -DgroupId=com.example -DartifactId=generateproto -Dversion=0.0.1-SNAPSHOT -Dpackaging=jar -DlocalRepositoryPath=../maven-repositorio\r\n\r\nMy other pom.xml project:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;generateproto&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n\r\nThe folder structure looks like this:\r\n\r\n- -- another project\r\n---local dependency\r\n---maven-repositorio\r\n\r\nBut this framework fails to import the classes when I run the command:\r\n\r\n&gt; mvn dependency:purge-local-repository\r\n\r\ngives me the following error:\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-dependency-plugin:3.5.0:purge-local-repository\r\n&gt; (default-cli) on project cart-purchase-command: Failed to refresh\r\n&gt; project dependencies for:\r\n&gt; com.example:cart-purchase-command:jar:0.0.1-SNAPSHOT: required\r\n&gt; artifacts missing: [ERROR]\r\n&gt; com.example:generateproto:jar:0.0.1-SNAPSHOT\r\n\r\n\r\nDoes anyone know where I&#39;m going wrong?\r\n\r\nThank you!","title":"how to create a local dependency with spring boot","body":"<p>how to create a local dependency with spring boot. I'm trying to create an application with a local dependency. I create the local dependency then import it into another spring boot project but it fails to import the local dependency classes into the other project.</p>\n<p>This is the pom.xml of my local dependency:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;generateproto&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;generate-proto&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;3.23.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.55.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.16.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.53&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repositorio.local&lt;/id&gt;\n            &lt;name&gt;Meu repositorio Local&lt;/name&gt;\n            &lt;url&gt;file:../maven-repositorio&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;protocArtifact&gt;\n                        com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}\n                    &lt;/protocArtifact&gt;\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                    &lt;pluginArtifact&gt;\n                        io.grpc:protoc-gen-grpc-java:1.4.0:exe:${os.detected.classifier}\n                    &lt;/pluginArtifact&gt;\n                    &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\n                    &lt;outputDirectory&gt;src/main/java&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The command to create my local directory:</p>\n<pre><code>mvn install:install-file -Dfile=target/generateproto-0.0.1-SNAPSHOT.jar -DgroupId=com.example -DartifactId=generateproto -Dversion=0.0.1-SNAPSHOT -Dpackaging=jar -DlocalRepositoryPath=../maven-repositorio\n</code></pre>\n<p>My other pom.xml project:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;generateproto&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The folder structure looks like this:</p>\n<ul>\n<li>-- another project\n---local dependency\n---maven-repositorio</li>\n</ul>\n<p>But this framework fails to import the classes when I run the command:</p>\n<blockquote>\n<p>mvn dependency:purge-local-repository</p>\n</blockquote>\n<p>gives me the following error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.apache.maven.plugins:maven-dependency-plugin:3.5.0:purge-local-repository\n(default-cli) on project cart-purchase-command: Failed to refresh\nproject dependencies for:\ncom.example:cart-purchase-command:jar:0.0.1-SNAPSHOT: required\nartifacts missing: [ERROR]\ncom.example:generateproto:jar:0.0.1-SNAPSHOT</p>\n</blockquote>\n<p>Does anyone know where I'm going wrong?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","openapi"],"owner":{"account_id":15050108,"reputation":415,"user_id":10862042,"display_name":"Liam lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690943352,"creation_date":1690943352,"question_id":76816253,"body_markdown":"I created a project according to this [blog](https://www.baeldung.com/spring-rest-openapi-documentation) and [official document](https://springdoc.org/)\r\n\r\nmy POJO:\r\n```java\r\nimport javax.validation.constraints.Size;\r\n\r\npublic class Subscription {\r\n    @Size(min = 1, max = 20)\r\n    private String id;\r\n    @Size(min = 1, max = 20)\r\n    private String name;\r\n    @Size(min = 1, max = 20)\r\n    private String email;\r\n}\r\n```\r\nmy controller:\r\n```java\r\n@RestController\r\npublic class IndexController {\r\n\r\n    @PostMapping(&quot;/index&quot;)\r\n    public String index(@RequestBody Subscription subscription) {\r\n        return &quot;SUCCESS&quot;;\r\n    }\r\n```\r\npom.xml\r\n```xml\r\n        &lt;!-- openapi3 --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nspring version\r\n```xml\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n```\r\nAccording the above documents the generated swagger supposed to have `MinLength` and `MaxLength` limitation but it doesn&#39;t.\r\n```yaml\r\ncomponents:\r\n  schemas:\r\n    Subscription:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: string\r\n        name:\r\n          type: string\r\n        email:\r\n          type: string\r\n```\r\nCan anyone help? is there anything I missed?","title":"OpenAPI 3.0 cannot recognize JSR 303 @Size annotation","body":"<p>I created a project according to this <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">blog</a> and <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">official document</a></p>\n<p>my POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.constraints.Size;\n\npublic class Subscription {\n    @Size(min = 1, max = 20)\n    private String id;\n    @Size(min = 1, max = 20)\n    private String name;\n    @Size(min = 1, max = 20)\n    private String email;\n}\n</code></pre>\n<p>my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class IndexController {\n\n    @PostMapping(&quot;/index&quot;)\n    public String index(@RequestBody Subscription subscription) {\n        return &quot;SUCCESS&quot;;\n    }\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- openapi3 --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>spring version</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>According the above documents the generated swagger supposed to have <code>MinLength</code> and <code>MaxLength</code> limitation but it doesn't.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  schemas:\n    Subscription:\n      type: object\n      properties:\n        id:\n          type: string\n        name:\n          type: string\n        email:\n          type: string\n</code></pre>\n<p>Can anyone help? is there anything I missed?</p>\n"},{"tags":["java","spring","vaadin","spotify"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1690956803,"post_id":76816142,"comment_id":135423197,"body_markdown":"What is your concrete problem? The answer to your question is &quot;yes&quot;. Turning your array into an collection and then use `setItems` on the grid.","body":"What is your concrete problem? The answer to your question is &quot;yes&quot;. Turning your array into an collection and then use <code>setItems</code> on the grid."}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690940645,"creation_date":1690940645,"question_id":76816142,"body_markdown":"I&#39;m working on a Vaadin Spring Boot web application and using the Spotify API in my app. I am creating a page that a user can use to access the Recommendations endpoint of the Spotify API. The page has a form that the user must fill with whatever genre they want to search through and then fill in the specific audio features they want results to match with. Once the form is complete, a button is clicked to call an API method that takes the form data and creates a TrackSimplified[] array with the search results.\r\n\r\nI wanted to know if it&#39;s possible to fill a grid (on the same page) with the search results whenever the user clicks the button.\r\n\r\nHere is my code with a blank grid along with the form and other parts of the page:\r\n\r\n```\r\npackage trackour.trackour.views.advancedsearch;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.button.ButtonVariant;\r\nimport com.vaadin.flow.component.combobox.ComboBox;\r\nimport com.vaadin.flow.component.dialog.Dialog;\r\nimport com.vaadin.flow.component.formlayout.FormLayout;\r\nimport com.vaadin.flow.component.formlayout.FormLayout.ResponsiveStep;\r\nimport com.vaadin.flow.component.grid.Grid;\r\nimport com.vaadin.flow.component.html.Div;\r\nimport com.vaadin.flow.component.html.H3;\r\nimport com.vaadin.flow.component.html.Paragraph;\r\nimport com.vaadin.flow.component.icon.Icon;\r\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.textfield.TextField;\r\nimport com.vaadin.flow.router.PageTitle;\r\nimport com.vaadin.flow.router.PreserveOnRefresh;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.router.RouteAlias;\r\n\r\nimport jakarta.annotation.security.PermitAll;\r\nimport se.michaelthelin.spotify.model_objects.specification.TrackSimplified;\r\nimport trackour.trackour.model.CustomUserDetailsService;\r\nimport trackour.trackour.security.SecurityViewService;\r\nimport trackour.trackour.views.api.APIController;\r\nimport trackour.trackour.views.components.NavBar;\r\nimport trackour.trackour.views.components.responsive.MyBlockResponsiveLayout;\r\n\r\n@Route(&quot;search/advanced&quot;)\r\n@RouteAlias(&quot;search/advanced&quot;)\r\n@PreserveOnRefresh\r\n@PageTitle(&quot;Advanced Search | Trackour&quot;)\r\n// Admins are users but also have the &quot;admin&quot; special role so pages that can be\r\n// viewed by\r\n// both users and admins should have the admin role specified as well\r\n@PermitAll\r\npublic class AdvancedSearch extends MyBlockResponsiveLayout{\r\n    \r\n    @Autowired\r\n    SecurityViewService securityViewHandler;\r\n    \r\n    @Autowired\r\n    CustomUserDetailsService customUserDetailsService;\r\n    \r\n    public AdvancedSearch(SecurityViewService securityViewHandler,\r\n    CustomUserDetailsService customUserDetailsService) {\r\n\r\n        NavBar navbar = new NavBar(customUserDetailsService, securityViewHandler);\r\n\r\n        TextField genre = new TextField();\r\n        genre.setLabel(&quot;Genre&quot;);\r\n        genre.setHelperText(&quot;The genre you want to search in.&quot;);\r\n        genre.setRequired(true);\r\n        genre.setAllowedCharPattern(&quot;[a-z,]&quot;);\r\n\r\n        TextField acousticness = new TextField();\r\n        acousticness.setLabel(&quot;Acousticness&quot;);\r\n        acousticness.setHelperText(&quot;The acousticness of the track as a value between 0.0 and 1.0.&quot; +\r\n                                    &quot; The higher the value, the higher the chance the track is acoustic.&quot;);\r\n        acousticness.setRequired(true);\r\n        acousticness.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n        \r\n        TextField danceability = new TextField();\r\n        danceability.setLabel(&quot;Danceability&quot;);\r\n        danceability.setHelperText(&quot;The danceability of the track as a value between 0.0 and 1.0.&quot; +\r\n                                    &quot; The danceability depends on factors like tempo and rhythm stability. Higher is better.&quot;);\r\n        danceability.setRequired(true);\r\n        danceability.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        TextField energy = new TextField();\r\n        energy.setLabel(&quot;Energy&quot;);\r\n        energy.setHelperText(&quot;The energy of the track as a value between 0.0 and 1.0. &quot; +\r\n                            &quot; The energetic value of the track depends on factors like speed and loudness.&quot; +\r\n                            &quot; Fast and loud tracks feel more energetic than slow and quiet tracks.&quot;);\r\n        energy.setRequired(true);\r\n        energy.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        TextField instrumentalness = new TextField();\r\n        instrumentalness.setLabel(&quot;Instrumentalness&quot;);\r\n        instrumentalness.setHelperText(&quot;Get the instrumentalness of the track as a value between 0.0 and 1.0&quot; +\r\n                                        &quot; The higher the value, the higher the chance the track contains vocals.&quot;);\r\n        instrumentalness.setRequired(true);\r\n        instrumentalness.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        ComboBox&lt;String&gt; key = new ComboBox&lt;&gt;();\r\n        key.setLabel(&quot;Key&quot;);\r\n        key.setAllowCustomValue(false);\r\n        key.setItems(&quot;C&quot;, &quot;C♯/D♭&quot;, &quot;D&quot;, &quot;D♯/E♭&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F♯/G♭&quot;, &quot;G&quot;, &quot;G♯/A♭&quot;, &quot;A&quot;, &quot;A♯/B♭&quot;, &quot;B&quot;);\r\n        key.setHelperText(&quot;The key the track is in.&quot;);\r\n        key.setRequired(true);\r\n\r\n        TextField loudness = new TextField();\r\n        loudness.setLabel(&quot;Loudness&quot;);\r\n        loudness.setHelperText(&quot;The average loudness of the track.&quot; + \r\n                                &quot; These values have mostly a range between -60 and 0 decibels.&quot; +\r\n                                &quot; Input values as positive.&quot;);\r\n        loudness.setRequired(true);\r\n        loudness.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        ComboBox&lt;String&gt; mode = new ComboBox&lt;&gt;();\r\n        mode.setLabel(&quot;Mode&quot;);\r\n        mode.setAllowCustomValue(false);\r\n        mode.setItems(&quot;Major&quot;, &quot;Minor&quot;);\r\n        mode.setHelperText(&quot;Mode indicates the modality of a track,&quot; + \r\n                            &quot; the type of scale from which its melodic content is derived.&quot;);\r\n        mode.setRequired(true);  \r\n\r\n        TextField tempo = new TextField();\r\n        tempo.setLabel(&quot;Tempo&quot;);\r\n        tempo.setHelperText(&quot;The estimated tempo of the track in beats per minute.&quot; +\r\n                            &quot; Tempo is the speed or pace of a given piece, derived from the average beats duration.&quot;);\r\n        tempo.setRequired(true);\r\n        tempo.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        TextField timeSignature = new TextField();\r\n        timeSignature.setLabel(&quot;Time Signature&quot;);\r\n        timeSignature.setHelperText(&quot;The estimated overall time signature of the track.&quot; +\r\n                                    &quot; The time signature is the number of beats in a bar.&quot; +\r\n                                    &quot; A three quarters beat would be given as the value 3.&quot; +\r\n                                    &quot; Range Allowed: 3-7&quot;);\r\n        timeSignature.setAllowedCharPattern(&quot;[3-7]&quot;);\r\n        timeSignature.setRequired(true);\r\n\r\n        TextField valence = new TextField();\r\n        valence.setLabel(&quot;Valence&quot;);\r\n        valence.setHelperText(&quot;The valence of the track as a value between 0.0 and 1.0.&quot; +\r\n                                &quot; A track with high valence sounds more positive (happy, cheerful, euphoric)&quot; +\r\n                                &quot; than a track with a low valence value (sad, depressed, angry).&quot;);\r\n        valence.setRequired(true);\r\n        valence.setAllowedCharPattern(&quot;[0-9.]&quot;);\r\n\r\n        Dialog errorMessage = new Dialog();\r\n        VerticalLayout dialogLayout = new VerticalLayout();\r\n        errorMessage.add(dialogLayout);\r\n        errorMessage.setHeaderTitle(&quot;ERROR&quot;);\r\n        \r\n        Paragraph errorParagraph = new Paragraph();\r\n        errorParagraph.setText(&quot;Input is invalid!&quot;);\r\n        dialogLayout.add(errorParagraph);\r\n\r\n        Button closeButton = new Button(new Icon(&quot;lumo&quot;, &quot;cross&quot;),\r\n            (e) -&gt; errorMessage.close());\r\n        closeButton.addThemeVariants(ButtonVariant.LUMO_TERTIARY);\r\n        errorMessage.getHeader().add(closeButton);\r\n\r\n        Button searchButton = new Button(&quot;Search&quot;);\r\n        searchButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\r\n        searchButton.addClickListener(event -&gt; {\r\n            \r\n            if (Float.parseFloat(acousticness.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                acousticness.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(danceability.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                danceability.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(energy.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                energy.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(instrumentalness.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                instrumentalness.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(loudness.getValue()) &gt; 60) {\r\n                errorMessage.open();\r\n                loudness.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(tempo.getValue()) &gt; 200) {\r\n                errorMessage.open();\r\n                tempo.setInvalid(true);\r\n            }\r\n\r\n            if (Integer.parseInt(timeSignature.getValue()) &gt; 7) {\r\n                errorMessage.open();\r\n                timeSignature.setInvalid(true);\r\n            }\r\n\r\n            if (Float.parseFloat(valence.getValue()) &gt; 1.0) {\r\n                errorMessage.open();\r\n                valence.setInvalid(true);\r\n            }\r\n\r\n            String genreValue = genre.getValue().toLowerCase();\r\n            float acousticnessValue = Float.parseFloat(acousticness.getValue());\r\n            float danceabilityValue = Float.parseFloat(danceability.getValue());\r\n            float energyValue = Float.parseFloat(energy.getValue());\r\n            float instrumentalnessValue = Float.parseFloat(instrumentalness.getValue());\r\n            int keyValue;\r\n            String keyLetter = key.getValue();\r\n            switch (keyLetter) {\r\n                case &quot;C&quot;: keyValue = 0;\r\n                    break;\r\n                case &quot;C♯/D♭&quot;: keyValue = 1;\r\n                    break;\r\n                case &quot;D&quot;: keyValue = 2;\r\n                    break;\r\n                case &quot;D♯/E♭&quot;: keyValue = 3;\r\n                    break;\r\n                case &quot;E&quot;: keyValue = 4;\r\n                    break;\r\n                case &quot;F&quot;: keyValue = 5;\r\n                    break;\r\n                case &quot;F♯/G♭&quot;: keyValue = 6;\r\n                    break;\r\n                case &quot;G&quot;: keyValue = 7;\r\n                    break;\r\n                case &quot;G♯/A♭&quot;: keyValue = 8;\r\n                    break;\r\n                case &quot;A&quot;: keyValue = 9;\r\n                    break;\r\n                case &quot;A♯/B♭&quot;: keyValue = 10;\r\n                    break;\r\n                case &quot;B&quot;: keyValue = 11;\r\n                    break;\r\n                default: keyValue = -1;\r\n                    break;\r\n            }\r\n\r\n            float loudnessValue = -Float.parseFloat(loudness.getValue());\r\n            int modeValue;\r\n            if (mode.getValue() == &quot;Major&quot;) {\r\n                modeValue = 1;\r\n            } else {\r\n                modeValue = 0;\r\n            }\r\n            float tempoValue = Float.parseFloat(tempo.getValue());\r\n            int timeSignatureValue = Integer.parseInt(timeSignature.getValue());\r\n            float valenceValue = Float.parseFloat(valence.getValue());\r\n\r\n            // APIController.getRecommendations() returns a TrackSimplified[] array\r\n            TrackSimplified[] tracks = APIController.getRecommendations(genreValue, acousticnessValue, danceabilityValue, energyValue, instrumentalnessValue, keyValue, loudnessValue, modeValue, tempoValue, timeSignatureValue, valenceValue);\r\n\r\n            // TESTING\r\n            System.out.println(tracks[0].getName());\r\n        });\r\n        \r\n        FormLayout formLayout = new FormLayout();\r\n        formLayout.add(genre, acousticness, danceability, energy, instrumentalness, key, \r\n                        loudness, mode, tempo, timeSignature, valence, searchButton);\r\n        formLayout.setResponsiveSteps(\r\n            new ResponsiveStep(&quot;0&quot;, 1),\r\n            new ResponsiveStep(&quot;300px&quot;, 3)\r\n        );\r\n        formLayout.setHeight(&quot;400px&quot;);\r\n        formLayout.setWidth(&quot;900px&quot;);\r\n\r\n        Grid&lt;TrackSimplified&gt; resultsGrid = new Grid&lt;&gt;();\r\n        resultsGrid.addColumn(TrackSimplified::getName).setHeader(&quot;Song&quot;);\r\n        resultsGrid.addColumn(TrackSimplified::getArtists).setHeader(&quot;Artist&quot;);\r\n        resultsGrid.setHeight(&quot;400px&quot;);\r\n        resultsGrid.setWidth(&quot;900px&quot;);\r\n\r\n        // main container contining cards area and button\r\n        VerticalLayout verticalLayout = new VerticalLayout();\r\n        Div placeHolderTextContainer = new Div();\r\n        placeHolderTextContainer.add(new H3(&quot;Advanced Search&quot;));\r\n\r\n        HorizontalLayout main = new HorizontalLayout();\r\n        main.add(formLayout, resultsGrid);\r\n\r\n        verticalLayout.add(placeHolderTextContainer, main);\r\n        verticalLayout.setAlignItems(Alignment.CENTER);\r\n        // Create a responsive navbar component\r\n        // Add some content below the navbar\r\n        navbar.setContent(verticalLayout);\r\n\r\n        setAlignItems(Alignment.CENTER);\r\n        // Add it to the view\r\n        add(navbar);\r\n    }\r\n}\r\n```","title":"Displaying Spotify API recommendation results in a Vaadin Grid","body":"<p>I'm working on a Vaadin Spring Boot web application and using the Spotify API in my app. I am creating a page that a user can use to access the Recommendations endpoint of the Spotify API. The page has a form that the user must fill with whatever genre they want to search through and then fill in the specific audio features they want results to match with. Once the form is complete, a button is clicked to call an API method that takes the form data and creates a TrackSimplified[] array with the search results.</p>\n<p>I wanted to know if it's possible to fill a grid (on the same page) with the search results whenever the user clicks the button.</p>\n<p>Here is my code with a blank grid along with the form and other parts of the page:</p>\n<pre><code>package trackour.trackour.views.advancedsearch;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.button.ButtonVariant;\nimport com.vaadin.flow.component.combobox.ComboBox;\nimport com.vaadin.flow.component.dialog.Dialog;\nimport com.vaadin.flow.component.formlayout.FormLayout;\nimport com.vaadin.flow.component.formlayout.FormLayout.ResponsiveStep;\nimport com.vaadin.flow.component.grid.Grid;\nimport com.vaadin.flow.component.html.Div;\nimport com.vaadin.flow.component.html.H3;\nimport com.vaadin.flow.component.html.Paragraph;\nimport com.vaadin.flow.component.icon.Icon;\nimport com.vaadin.flow.component.orderedlayout.HorizontalLayout;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.router.PageTitle;\nimport com.vaadin.flow.router.PreserveOnRefresh;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.router.RouteAlias;\n\nimport jakarta.annotation.security.PermitAll;\nimport se.michaelthelin.spotify.model_objects.specification.TrackSimplified;\nimport trackour.trackour.model.CustomUserDetailsService;\nimport trackour.trackour.security.SecurityViewService;\nimport trackour.trackour.views.api.APIController;\nimport trackour.trackour.views.components.NavBar;\nimport trackour.trackour.views.components.responsive.MyBlockResponsiveLayout;\n\n@Route(&quot;search/advanced&quot;)\n@RouteAlias(&quot;search/advanced&quot;)\n@PreserveOnRefresh\n@PageTitle(&quot;Advanced Search | Trackour&quot;)\n// Admins are users but also have the &quot;admin&quot; special role so pages that can be\n// viewed by\n// both users and admins should have the admin role specified as well\n@PermitAll\npublic class AdvancedSearch extends MyBlockResponsiveLayout{\n    \n    @Autowired\n    SecurityViewService securityViewHandler;\n    \n    @Autowired\n    CustomUserDetailsService customUserDetailsService;\n    \n    public AdvancedSearch(SecurityViewService securityViewHandler,\n    CustomUserDetailsService customUserDetailsService) {\n\n        NavBar navbar = new NavBar(customUserDetailsService, securityViewHandler);\n\n        TextField genre = new TextField();\n        genre.setLabel(&quot;Genre&quot;);\n        genre.setHelperText(&quot;The genre you want to search in.&quot;);\n        genre.setRequired(true);\n        genre.setAllowedCharPattern(&quot;[a-z,]&quot;);\n\n        TextField acousticness = new TextField();\n        acousticness.setLabel(&quot;Acousticness&quot;);\n        acousticness.setHelperText(&quot;The acousticness of the track as a value between 0.0 and 1.0.&quot; +\n                                    &quot; The higher the value, the higher the chance the track is acoustic.&quot;);\n        acousticness.setRequired(true);\n        acousticness.setAllowedCharPattern(&quot;[0-9.]&quot;);\n        \n        TextField danceability = new TextField();\n        danceability.setLabel(&quot;Danceability&quot;);\n        danceability.setHelperText(&quot;The danceability of the track as a value between 0.0 and 1.0.&quot; +\n                                    &quot; The danceability depends on factors like tempo and rhythm stability. Higher is better.&quot;);\n        danceability.setRequired(true);\n        danceability.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        TextField energy = new TextField();\n        energy.setLabel(&quot;Energy&quot;);\n        energy.setHelperText(&quot;The energy of the track as a value between 0.0 and 1.0. &quot; +\n                            &quot; The energetic value of the track depends on factors like speed and loudness.&quot; +\n                            &quot; Fast and loud tracks feel more energetic than slow and quiet tracks.&quot;);\n        energy.setRequired(true);\n        energy.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        TextField instrumentalness = new TextField();\n        instrumentalness.setLabel(&quot;Instrumentalness&quot;);\n        instrumentalness.setHelperText(&quot;Get the instrumentalness of the track as a value between 0.0 and 1.0&quot; +\n                                        &quot; The higher the value, the higher the chance the track contains vocals.&quot;);\n        instrumentalness.setRequired(true);\n        instrumentalness.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        ComboBox&lt;String&gt; key = new ComboBox&lt;&gt;();\n        key.setLabel(&quot;Key&quot;);\n        key.setAllowCustomValue(false);\n        key.setItems(&quot;C&quot;, &quot;C♯/D♭&quot;, &quot;D&quot;, &quot;D♯/E♭&quot;, &quot;E&quot;, &quot;F&quot;, &quot;F♯/G♭&quot;, &quot;G&quot;, &quot;G♯/A♭&quot;, &quot;A&quot;, &quot;A♯/B♭&quot;, &quot;B&quot;);\n        key.setHelperText(&quot;The key the track is in.&quot;);\n        key.setRequired(true);\n\n        TextField loudness = new TextField();\n        loudness.setLabel(&quot;Loudness&quot;);\n        loudness.setHelperText(&quot;The average loudness of the track.&quot; + \n                                &quot; These values have mostly a range between -60 and 0 decibels.&quot; +\n                                &quot; Input values as positive.&quot;);\n        loudness.setRequired(true);\n        loudness.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        ComboBox&lt;String&gt; mode = new ComboBox&lt;&gt;();\n        mode.setLabel(&quot;Mode&quot;);\n        mode.setAllowCustomValue(false);\n        mode.setItems(&quot;Major&quot;, &quot;Minor&quot;);\n        mode.setHelperText(&quot;Mode indicates the modality of a track,&quot; + \n                            &quot; the type of scale from which its melodic content is derived.&quot;);\n        mode.setRequired(true);  \n\n        TextField tempo = new TextField();\n        tempo.setLabel(&quot;Tempo&quot;);\n        tempo.setHelperText(&quot;The estimated tempo of the track in beats per minute.&quot; +\n                            &quot; Tempo is the speed or pace of a given piece, derived from the average beats duration.&quot;);\n        tempo.setRequired(true);\n        tempo.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        TextField timeSignature = new TextField();\n        timeSignature.setLabel(&quot;Time Signature&quot;);\n        timeSignature.setHelperText(&quot;The estimated overall time signature of the track.&quot; +\n                                    &quot; The time signature is the number of beats in a bar.&quot; +\n                                    &quot; A three quarters beat would be given as the value 3.&quot; +\n                                    &quot; Range Allowed: 3-7&quot;);\n        timeSignature.setAllowedCharPattern(&quot;[3-7]&quot;);\n        timeSignature.setRequired(true);\n\n        TextField valence = new TextField();\n        valence.setLabel(&quot;Valence&quot;);\n        valence.setHelperText(&quot;The valence of the track as a value between 0.0 and 1.0.&quot; +\n                                &quot; A track with high valence sounds more positive (happy, cheerful, euphoric)&quot; +\n                                &quot; than a track with a low valence value (sad, depressed, angry).&quot;);\n        valence.setRequired(true);\n        valence.setAllowedCharPattern(&quot;[0-9.]&quot;);\n\n        Dialog errorMessage = new Dialog();\n        VerticalLayout dialogLayout = new VerticalLayout();\n        errorMessage.add(dialogLayout);\n        errorMessage.setHeaderTitle(&quot;ERROR&quot;);\n        \n        Paragraph errorParagraph = new Paragraph();\n        errorParagraph.setText(&quot;Input is invalid!&quot;);\n        dialogLayout.add(errorParagraph);\n\n        Button closeButton = new Button(new Icon(&quot;lumo&quot;, &quot;cross&quot;),\n            (e) -&gt; errorMessage.close());\n        closeButton.addThemeVariants(ButtonVariant.LUMO_TERTIARY);\n        errorMessage.getHeader().add(closeButton);\n\n        Button searchButton = new Button(&quot;Search&quot;);\n        searchButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\n        searchButton.addClickListener(event -&gt; {\n            \n            if (Float.parseFloat(acousticness.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                acousticness.setInvalid(true);\n            }\n\n            if (Float.parseFloat(danceability.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                danceability.setInvalid(true);\n            }\n\n            if (Float.parseFloat(energy.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                energy.setInvalid(true);\n            }\n\n            if (Float.parseFloat(instrumentalness.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                instrumentalness.setInvalid(true);\n            }\n\n            if (Float.parseFloat(loudness.getValue()) &gt; 60) {\n                errorMessage.open();\n                loudness.setInvalid(true);\n            }\n\n            if (Float.parseFloat(tempo.getValue()) &gt; 200) {\n                errorMessage.open();\n                tempo.setInvalid(true);\n            }\n\n            if (Integer.parseInt(timeSignature.getValue()) &gt; 7) {\n                errorMessage.open();\n                timeSignature.setInvalid(true);\n            }\n\n            if (Float.parseFloat(valence.getValue()) &gt; 1.0) {\n                errorMessage.open();\n                valence.setInvalid(true);\n            }\n\n            String genreValue = genre.getValue().toLowerCase();\n            float acousticnessValue = Float.parseFloat(acousticness.getValue());\n            float danceabilityValue = Float.parseFloat(danceability.getValue());\n            float energyValue = Float.parseFloat(energy.getValue());\n            float instrumentalnessValue = Float.parseFloat(instrumentalness.getValue());\n            int keyValue;\n            String keyLetter = key.getValue();\n            switch (keyLetter) {\n                case &quot;C&quot;: keyValue = 0;\n                    break;\n                case &quot;C♯/D♭&quot;: keyValue = 1;\n                    break;\n                case &quot;D&quot;: keyValue = 2;\n                    break;\n                case &quot;D♯/E♭&quot;: keyValue = 3;\n                    break;\n                case &quot;E&quot;: keyValue = 4;\n                    break;\n                case &quot;F&quot;: keyValue = 5;\n                    break;\n                case &quot;F♯/G♭&quot;: keyValue = 6;\n                    break;\n                case &quot;G&quot;: keyValue = 7;\n                    break;\n                case &quot;G♯/A♭&quot;: keyValue = 8;\n                    break;\n                case &quot;A&quot;: keyValue = 9;\n                    break;\n                case &quot;A♯/B♭&quot;: keyValue = 10;\n                    break;\n                case &quot;B&quot;: keyValue = 11;\n                    break;\n                default: keyValue = -1;\n                    break;\n            }\n\n            float loudnessValue = -Float.parseFloat(loudness.getValue());\n            int modeValue;\n            if (mode.getValue() == &quot;Major&quot;) {\n                modeValue = 1;\n            } else {\n                modeValue = 0;\n            }\n            float tempoValue = Float.parseFloat(tempo.getValue());\n            int timeSignatureValue = Integer.parseInt(timeSignature.getValue());\n            float valenceValue = Float.parseFloat(valence.getValue());\n\n            // APIController.getRecommendations() returns a TrackSimplified[] array\n            TrackSimplified[] tracks = APIController.getRecommendations(genreValue, acousticnessValue, danceabilityValue, energyValue, instrumentalnessValue, keyValue, loudnessValue, modeValue, tempoValue, timeSignatureValue, valenceValue);\n\n            // TESTING\n            System.out.println(tracks[0].getName());\n        });\n        \n        FormLayout formLayout = new FormLayout();\n        formLayout.add(genre, acousticness, danceability, energy, instrumentalness, key, \n                        loudness, mode, tempo, timeSignature, valence, searchButton);\n        formLayout.setResponsiveSteps(\n            new ResponsiveStep(&quot;0&quot;, 1),\n            new ResponsiveStep(&quot;300px&quot;, 3)\n        );\n        formLayout.setHeight(&quot;400px&quot;);\n        formLayout.setWidth(&quot;900px&quot;);\n\n        Grid&lt;TrackSimplified&gt; resultsGrid = new Grid&lt;&gt;();\n        resultsGrid.addColumn(TrackSimplified::getName).setHeader(&quot;Song&quot;);\n        resultsGrid.addColumn(TrackSimplified::getArtists).setHeader(&quot;Artist&quot;);\n        resultsGrid.setHeight(&quot;400px&quot;);\n        resultsGrid.setWidth(&quot;900px&quot;);\n\n        // main container contining cards area and button\n        VerticalLayout verticalLayout = new VerticalLayout();\n        Div placeHolderTextContainer = new Div();\n        placeHolderTextContainer.add(new H3(&quot;Advanced Search&quot;));\n\n        HorizontalLayout main = new HorizontalLayout();\n        main.add(formLayout, resultsGrid);\n\n        verticalLayout.add(placeHolderTextContainer, main);\n        verticalLayout.setAlignItems(Alignment.CENTER);\n        // Create a responsive navbar component\n        // Add some content below the navbar\n        navbar.setContent(verticalLayout);\n\n        setAlignItems(Alignment.CENTER);\n        // Add it to the view\n        add(navbar);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","future"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1690937055,"post_id":76815951,"comment_id":135421556,"body_markdown":"You can call `Future.get()` inside the synchronized code to make sure it completes before exiting. But then what&#39;s the point of using futures altogether?","body":"You can call <code>Future.get()</code> inside the synchronized code to make sure it completes before exiting. But then what&#39;s the point of using futures altogether?"},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1690939584,"post_id":76815951,"comment_id":135421747,"body_markdown":"That&#39;s certainly a workable solution, but yeah, then why use futures at all.","body":"That&#39;s certainly a workable solution, but yeah, then why use futures at all."},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1694264857,"post_id":76815951,"comment_id":135870341,"body_markdown":"Behaviour is changing with multiple invocation so a state is introduced in `getOrCreateResult`.We might need to store the state as `future` may or may not get called.So ensuring that 1st thread created a future does not gurantee createResult will be called.There will always be a race condition if we have different `future` returned.Might have to use concurrentcollection to hold the state or re-design.","body":"Behaviour is changing with multiple invocation so a state is introduced in <code>getOrCreateResult</code>.We might need to store the state as <code>future</code> may or may not get called.So ensuring that 1st thread created a future does not gurantee createResult will be called.There will always be a race condition if we have different <code>future</code> returned.Might have to use concurrentcollection to hold the state or re-design."}],"answers":[{"comments":[{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1690940772,"post_id":76816127,"comment_id":135421828,"body_markdown":"This is more detailed. [Java Singleton Design Pattern Best Practices with Examples](https://www.digitalocean.com/community/tutorials/java-singleton-design-pattern-best-practices-examples)","body":"This is more detailed. <a href=\"https://www.digitalocean.com/community/tutorials/java-singleton-design-pattern-best-practices-examples\" rel=\"nofollow noreferrer\">Java Singleton Design Pattern Best Practices with Examples</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690945076,"post_id":76816127,"comment_id":135422147,"body_markdown":"Yes, good answer. The most important change is that all of the callers receive the _same_ `ListenableFuture` instance, rather than creating one on each call before the result is computed, which causes the race condition in the original code. There should be no side effects in `buildResult()`.","body":"Yes, good answer. The most important change is that all of the callers receive the <i>same</i> <code>ListenableFuture</code> instance, rather than creating one on each call before the result is computed, which causes the race condition in the original code. There should be no side effects in <code>buildResult()</code>."},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1690947296,"post_id":76816127,"comment_id":135422321,"body_markdown":"I may have oversimplified my example too much, but suppose `getOrCreateResult(Input)` took a parameter `Input` and the `Result` depends on the input. Would a singleton pattern still work if there&#39;s more than 1 `resultFuture`? And `Input` is high cardinality, basically an `UUID`","body":"I may have oversimplified my example too much, but suppose <code>getOrCreateResult(Input)</code> took a parameter <code>Input</code> and the <code>Result</code> depends on the input. Would a singleton pattern still work if there&#39;s more than 1 <code>resultFuture</code>? And <code>Input</code> is high cardinality, basically an <code>UUID</code>"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1690949228,"post_id":76816127,"comment_id":135422470,"body_markdown":"It won&#39;t work anymore, but I suggest you use `ConcurrentHashMap&lt;Input, ListenableFuture&lt;Result&gt;&gt;`.@kane","body":"It won&#39;t work anymore, but I suggest you use <code>ConcurrentHashMap&lt;Input, ListenableFuture&lt;Result&gt;&gt;</code>.@kane"}],"tags":[],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690940404,"creation_date":1690940404,"answer_id":76816127,"question_id":76815951,"body_markdown":"I think you can try the form of the singleton pattern ([Lazy initialization](https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization)).\r\n\r\nSuch as:\r\n```java\r\nprivate volatile ListenableFuture&lt;Result&gt; resultFuture;\r\n\r\npublic ListenableFuture&lt;Result&gt; getOrCreateResult() {\r\n    if (resultFuture == null) {\r\n        synchronized (this) {\r\n            if (resultFuture == null) {\r\n                resultFuture = createResult();\r\n            }\r\n        }\r\n    }\r\n    return resultFuture;\r\n}\r\n```\r\n\r\nHope to help you.","title":"How do I synchronize a method that returns a Future?","body":"<p>I think you can try the form of the singleton pattern (<a href=\"https://en.wikipedia.org/wiki/Singleton_pattern#Lazy_initialization\" rel=\"nofollow noreferrer\">Lazy initialization</a>).</p>\n<p>Such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private volatile ListenableFuture&lt;Result&gt; resultFuture;\n\npublic ListenableFuture&lt;Result&gt; getOrCreateResult() {\n    if (resultFuture == null) {\n        synchronized (this) {\n            if (resultFuture == null) {\n                resultFuture = createResult();\n            }\n        }\n    }\n    return resultFuture;\n}\n</code></pre>\n<p>Hope to help you.</p>\n"}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690940404,"creation_date":1690936228,"question_id":76815951,"body_markdown":"Here&#39;s a stripped down version of my code.\r\n\r\n    public synchronized ListenableFuture&lt;Result&gt; getOrCreateResult() {\r\n      Optional&lt;Result&gt; optionalResult = getResult();\r\n      \r\n      return optionalResult\r\n          .map(Futures::immediateFuture)\r\n          .orElseGet(this::createResult);\r\n    }\r\n\r\n    private ListenableFuture&lt;Result&gt; createResult() {\r\n      return FluentFutures.from(this::futureComputation1)\r\n          .transformAsync(this::futureComputation2, executor)\r\n          .transformAsync(this::futureComputation3, executor)\r\n          ...\r\n          .transform(someComputution -&gt; {\r\n            Result result = buildResult();\r\n            return result;\r\n          }, executor);\r\n    }\r\n\r\n\r\nWhen 2 threads call `getOrCreateResult()` , the `synchronized` block is preventing them from both entering `getOrCreateResult()` at the same time, but `buildResult()` is being called twice.\r\n\r\nMy understanding is that since `getOrCreateResult()` returns a future, as soon as the 1st thread returns the `ListenableFuture` that will eventually build the result, it gives up the lock before actually building the result. That now allows 2nd thread to enter `getOrCreateResult()`. If 1st thread has not executed the `buildResult()`, then the 2nd thread will get an empty `optionalResult` and will attempt to call `buildResult()` too.\r\n\r\nWhat do I need to do to ensure `buildResult()` is only called once?","title":"How do I synchronize a method that returns a Future?","body":"<p>Here's a stripped down version of my code.</p>\n<pre><code>public synchronized ListenableFuture&lt;Result&gt; getOrCreateResult() {\n  Optional&lt;Result&gt; optionalResult = getResult();\n  \n  return optionalResult\n      .map(Futures::immediateFuture)\n      .orElseGet(this::createResult);\n}\n\nprivate ListenableFuture&lt;Result&gt; createResult() {\n  return FluentFutures.from(this::futureComputation1)\n      .transformAsync(this::futureComputation2, executor)\n      .transformAsync(this::futureComputation3, executor)\n      ...\n      .transform(someComputution -&gt; {\n        Result result = buildResult();\n        return result;\n      }, executor);\n}\n</code></pre>\n<p>When 2 threads call <code>getOrCreateResult()</code> , the <code>synchronized</code> block is preventing them from both entering <code>getOrCreateResult()</code> at the same time, but <code>buildResult()</code> is being called twice.</p>\n<p>My understanding is that since <code>getOrCreateResult()</code> returns a future, as soon as the 1st thread returns the <code>ListenableFuture</code> that will eventually build the result, it gives up the lock before actually building the result. That now allows 2nd thread to enter <code>getOrCreateResult()</code>. If 1st thread has not executed the <code>buildResult()</code>, then the 2nd thread will get an empty <code>optionalResult</code> and will attempt to call <code>buildResult()</code> too.</p>\n<p>What do I need to do to ensure <code>buildResult()</code> is only called once?</p>\n"},{"tags":["java","spring-mvc","spring-el","spring-expression-language","spring-expression"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1690982949,"post_id":76816067,"comment_id":135428781,"body_markdown":"You need to look into caching a parsed `Expression` instance: no need to parse it on every single call.","body":"You need to look into caching a parsed <code>Expression</code> instance: no need to parse it on every single call."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1690983083,"post_id":76816067,"comment_id":135428815,"body_markdown":"I mean the result of `parseExpression()` should be cached. The `getValue()` indeed has to be called every time, but already on a parsed and cached expression.","body":"I mean the result of <code>parseExpression()</code> should be cached. The <code>getValue()</code> indeed has to be called every time, but already on a parsed and cached expression."},{"owner":{"account_id":29140392,"reputation":1,"user_id":22323517,"display_name":"Prashant Chauhan"},"score":0,"creation_date":1691018772,"post_id":76816067,"comment_id":135435583,"body_markdown":"@ArtemBilan Can you please suggest a code for caching Parse Expressions","body":"@ArtemBilan Can you please suggest a code for caching Parse Expressions"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1691071634,"post_id":76816067,"comment_id":135444437,"body_markdown":"A `Map` based on your `PolicyEvaluationRule` as a key and a parsed `Expression` as the value. Then you use a `computeIfAbsent()` for cache feature.","body":"A <code>Map</code> based on your <code>PolicyEvaluationRule</code> as a key and a parsed <code>Expression</code> as the value. Then you use a <code>computeIfAbsent()</code> for cache feature."},{"owner":{"account_id":29140392,"reputation":1,"user_id":22323517,"display_name":"Prashant Chauhan"},"score":0,"creation_date":1691087202,"post_id":76816067,"comment_id":135447804,"body_markdown":"Thanks, will give it a try","body":"Thanks, will give it a try"}],"owner":{"account_id":29140392,"reputation":1,"user_id":22323517,"display_name":"Prashant Chauhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690938777,"creation_date":1690938777,"question_id":76816067,"body_markdown":"I am running below piece of code live and for very few traffic[.025%] ~(500 out of 2 million). The SpEL Parser is behaving wierd and returning response as false where it should return true.\r\n\r\nContext Class file\r\n\r\n```\r\n@Getter\r\n@Builder\r\n@ToString\r\npublic class EvaluationContext {\r\n    private String requestKey;\r\n    private String namespace;\r\n    private ContextAmount totalAmount;\r\n    private double threshold;\r\n    private String processingModel;\r\n    private String channel;\r\n}\r\n```\r\n\r\nRule file \r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class PolicyEvaluationRule {\r\n    private String namespace;\r\n    private String ruleName = &quot;test1&quot;;\r\n    private String expression = &quot;&#39;SAMPLE&#39;.equals(Context?.ProcessingModel)&quot;;\r\n    private EvaluationContext context;\r\n}\r\n```\r\n\r\n\r\nEvaluating SPEL rule as below\r\n\r\n\r\n```\r\nExpressionParser parser = new SpelExpressionParser();\r\n        StandardEvaluationContext context = new StandardEvaluationContext(rule);\r\n        Boolean result = parser.parseExpression(rule.getExpression()).getValue(context, Boolean.class);\r\n```\r\n\r\nFor, all these failed instances assigned value in processingModel was &#39;SAMPLE&#39;. And parseExpression here never ran into exception or returned result as null. So, it becomes really difficult to identify how to separate out these cases from main flow.\r\n\r\n\r\n\r\n\r\nI added logs to identify that the result from the parser was `false` and there was no exception from the parser. If parser is having some error I believe it should throw exception or minimum the result should have been `null`","title":"SpEL Parser returning false when it&#39;s supposed to return true","body":"<p>I am running below piece of code live and for very few traffic[.025%] ~(500 out of 2 million). The SpEL Parser is behaving wierd and returning response as false where it should return true.</p>\n<p>Context Class file</p>\n<pre><code>@Getter\n@Builder\n@ToString\npublic class EvaluationContext {\n    private String requestKey;\n    private String namespace;\n    private ContextAmount totalAmount;\n    private double threshold;\n    private String processingModel;\n    private String channel;\n}\n</code></pre>\n<p>Rule file</p>\n<pre><code>@Getter\n@Setter\n@JsonInclude(value = JsonInclude.Include.NON_EMPTY)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PolicyEvaluationRule {\n    private String namespace;\n    private String ruleName = &quot;test1&quot;;\n    private String expression = &quot;'SAMPLE'.equals(Context?.ProcessingModel)&quot;;\n    private EvaluationContext context;\n}\n</code></pre>\n<p>Evaluating SPEL rule as below</p>\n<pre><code>ExpressionParser parser = new SpelExpressionParser();\n        StandardEvaluationContext context = new StandardEvaluationContext(rule);\n        Boolean result = parser.parseExpression(rule.getExpression()).getValue(context, Boolean.class);\n</code></pre>\n<p>For, all these failed instances assigned value in processingModel was 'SAMPLE'. And parseExpression here never ran into exception or returned result as null. So, it becomes really difficult to identify how to separate out these cases from main flow.</p>\n<p>I added logs to identify that the result from the parser was <code>false</code> and there was no exception from the parser. If parser is having some error I believe it should throw exception or minimum the result should have been <code>null</code></p>\n"},{"tags":["java","swing","javafx-2","tableview"],"comments":[{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1370851268,"post_id":17017364,"comment_id":24596374,"body_markdown":"How is this any different from your [previous question](http://stackoverflow.com/q/16805845/1076463) ?","body":"How is this any different from your <a href=\"http://stackoverflow.com/q/16805845/1076463\">previous question</a> ?"},{"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"score":0,"creation_date":1370855502,"post_id":17017364,"comment_id":24598280,"body_markdown":"sorting part is done   \n\nI now need to add filter which filters out data according to text change in text box,\n\nI have given link for swing application or oracle website which works pretty fast (add 100,000) data point but my javafx application doesnot work fast (see link given in question for filtering in javafx)","body":"sorting part is done     I now need to add filter which filters out data according to text change in text box,  I have given link for swing application or oracle website which works pretty fast (add 100,000) data point but my javafx application doesnot work fast (see link given in question for filtering in javafx)"},{"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"score":0,"creation_date":1370925827,"post_id":17017364,"comment_id":24627163,"body_markdown":"For [suggestion](http://stackoverflow.com/questions/16805845/javafx-tableview-sort-is-really-slow-how-to-improve-sort-speed-as-in-java-swing) It is working with same speed as that of sorting but I want to know how swing implement it that it retrieve data too fast for filtering as compared to javafx","body":"For <a href=\"http://stackoverflow.com/questions/16805845/javafx-tableview-sort-is-really-slow-how-to-improve-sort-speed-as-in-java-swing\">suggestion</a> It is working with same speed as that of sorting but I want to know how swing implement it that it retrieve data too fast for filtering as compared to javafx"},{"owner":{"account_id":153744,"reputation":3590,"user_id":369218,"accept_rate":57,"display_name":"AJJ"},"score":0,"creation_date":1381930279,"post_id":17017364,"comment_id":28762674,"body_markdown":"@ b.pradeep - Did you get any solution for this question?","body":"@ b.pradeep - Did you get any solution for this question?"},{"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"score":1,"creation_date":1381941339,"post_id":17017364,"comment_id":28769895,"body_markdown":"@IJP unfortunately no\nyou have to write custom filtering by traversing through your table but JavaFx 8 looks promising, but I haven&#39;t explored it yet.","body":"@IJP unfortunately no you have to write custom filtering by traversing through your table but JavaFx 8 looks promising, but I haven&#39;t explored it yet."}],"answers":[{"tags":[],"owner":{"account_id":4421988,"reputation":78,"user_id":3601629,"display_name":"Zaid Sultan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406983397,"creation_date":1406983397,"answer_id":25095167,"question_id":17017364,"body_markdown":"I use this snippet of code for filtering but really i didn&#39;t test in huge data case\r\n\r\n    textField.textProperty().addListener(new InvalidationListener() {\r\n\r\n            @Override\r\n            public void invalidated(Observable observable) {\r\n                if(textField.textProperty().get().isEmpty()) {\r\n                    tableView.setItems(dataList);\r\n                    return;\r\n                }\r\n                ObservableList&lt;ClassModel&gt; tableItems = FXCollections.observableArrayList();\r\n                ObservableList&lt;TableColumn&lt;ClassModel, ?&gt;&gt; cols = tableView.getColumns();\r\n                for(int i=0; i&lt;dataList.size(); i++) {\r\n                    \r\n                    for(int j=0; j&lt;cols.size(); j++) {\r\n                        TableColumn col = cols.get(j);\r\n                        String cellValue = col.getCellData(dataList.get(i)).toString();\r\n                        cellValue = cellValue.toLowerCase();\r\n                        if(cellValue.contains(textField.textProperty().get().toLowerCase())) {\r\n                            tableItems.add(data.get(i));\r\n                            break;\r\n                        }                        \r\n                    }\r\n                }\r\n                tableView.setItems(tableItems);\r\n            \r\n            }\r\n        });\r\n\r\nwhere ClassModel is your Model Class","title":"Fast filtering in javafx tableview","body":"<p>I use this snippet of code for filtering but really i didn't test in huge data case</p>\n\n<pre><code>textField.textProperty().addListener(new InvalidationListener() {\n\n        @Override\n        public void invalidated(Observable observable) {\n            if(textField.textProperty().get().isEmpty()) {\n                tableView.setItems(dataList);\n                return;\n            }\n            ObservableList&lt;ClassModel&gt; tableItems = FXCollections.observableArrayList();\n            ObservableList&lt;TableColumn&lt;ClassModel, ?&gt;&gt; cols = tableView.getColumns();\n            for(int i=0; i&lt;dataList.size(); i++) {\n\n                for(int j=0; j&lt;cols.size(); j++) {\n                    TableColumn col = cols.get(j);\n                    String cellValue = col.getCellData(dataList.get(i)).toString();\n                    cellValue = cellValue.toLowerCase();\n                    if(cellValue.contains(textField.textProperty().get().toLowerCase())) {\n                        tableItems.add(data.get(i));\n                        break;\n                    }                        \n                }\n            }\n            tableView.setItems(tableItems);\n\n        }\n    });\n</code></pre>\n\n<p>where ClassModel is your Model Class</p>\n"},{"tags":[],"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690938583,"creation_date":1441473323,"answer_id":32415725,"question_id":17017364,"body_markdown":"# `FilteredList`\r\n\r\nYou may use [`FilteredList`][1] in JavaFX 8+. \r\n    \r\n    ObservableList&lt;YourObjectClass&gt; actualList = ...;\r\n    FilteredList&lt;YourObjectClass&gt; filteredList = new FilteredList&lt;&gt;(actualList);\r\n\r\n    TableView table = ...;\r\n    table.setItems(filteredList);\r\n\r\n    // to filter\r\n    filteredList.setPredicate(\r\n        new Predicate&lt;YourObjectClass&gt;(){\r\n            public boolean test(YourObjectClass t){\r\n                return false; // or true\r\n            }\r\n        }\r\n    );\r\n\r\nas fast as swing, (maybe faster then swing... ). (I tested with 100000 rows)\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.base/javafx/collections/transformation/FilteredList.html","title":"Fast filtering in javafx tableview","body":"<h1><code>FilteredList</code></h1>\n<p>You may use <a href=\"https://openjfx.io/javadoc/20/javafx.base/javafx/collections/transformation/FilteredList.html\" rel=\"nofollow noreferrer\"><code>FilteredList</code></a> in JavaFX 8+.</p>\n<pre><code>ObservableList&lt;YourObjectClass&gt; actualList = ...;\nFilteredList&lt;YourObjectClass&gt; filteredList = new FilteredList&lt;&gt;(actualList);\n\nTableView table = ...;\ntable.setItems(filteredList);\n\n// to filter\nfilteredList.setPredicate(\n    new Predicate&lt;YourObjectClass&gt;(){\n        public boolean test(YourObjectClass t){\n            return false; // or true\n        }\n    }\n);\n</code></pre>\n<p>as fast as swing, (maybe faster then swing... ). (I tested with 100000 rows)</p>\n"},{"tags":[],"owner":{"account_id":5531724,"reputation":2045,"user_id":4391517,"accept_rate":49,"display_name":"Harshita Sethi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448359350,"creation_date":1448359350,"answer_id":33890591,"question_id":17017364,"body_markdown":"You can use the following code. It works fine for me..\r\n\r\n    ObservableList data =  table.getItems();\r\n    textfield.textProperty().addListener((ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) -&gt; {\r\n                if (oldValue != null &amp;&amp; (newValue.length() &lt; oldValue.length())) {\r\n                    table.setItems(data);\r\n                }\r\n                String value = newValue.toLowerCase();\r\n                ObservableList&lt;T&gt; subentries = FXCollections.observableArrayList();\r\n    \r\n                long count = table.getColumns().stream().count();\r\n                for (int i = 0; i &lt; table.getItems().size(); i++) {\r\n                    for (int j = 0; j &lt; count; j++) {\r\n                        String entry = &quot;&quot; + table.getColumns().get(j).getCellData(i);\r\n                        if (entry.toLowerCase().contains(value)) {\r\n                            subentries.add(table.getItems().get(i));\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                table.setItems(subentries);\r\n            });","title":"Fast filtering in javafx tableview","body":"<p>You can use the following code. It works fine for me..</p>\n\n<pre><code>ObservableList data =  table.getItems();\ntextfield.textProperty().addListener((ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) -&gt; {\n            if (oldValue != null &amp;&amp; (newValue.length() &lt; oldValue.length())) {\n                table.setItems(data);\n            }\n            String value = newValue.toLowerCase();\n            ObservableList&lt;T&gt; subentries = FXCollections.observableArrayList();\n\n            long count = table.getColumns().stream().count();\n            for (int i = 0; i &lt; table.getItems().size(); i++) {\n                for (int j = 0; j &lt; count; j++) {\n                    String entry = \"\" + table.getColumns().get(j).getCellData(i);\n                    if (entry.toLowerCase().contains(value)) {\n                        subentries.add(table.getItems().get(i));\n                        break;\n                    }\n                }\n            }\n            table.setItems(subentries);\n        });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21620211,"reputation":11,"user_id":15945349,"display_name":"bakr msaadi"},"score":0,"creation_date":1621206779,"post_id":67562308,"comment_id":119418574,"body_markdown":"You may use that","body":"You may use that"}],"tags":[],"owner":{"account_id":21620211,"reputation":11,"user_id":15945349,"display_name":"bakr msaadi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621236162,"creation_date":1621206698,"answer_id":67562308,"question_id":17017364,"body_markdown":"    @Override\r\n\tpublic void initialize(URL arg0, ResourceBundle arg1)\r\n\t{\r\n\t\tsearchField. textProperty().addListener((obs, oldText, newText) -&gt; { \r\n\t\tsearch();\r\n\t});\t\r\n     \r\n\r\n    @FXML private void search()\r\n    {    \r\n\t  String keyword = searchField.getText();\r\n      if (keyword.equals(&quot;&quot;)) {\r\n         table.setItems(data);\r\n     } else {\r\n         ObservableList&lt;Product&gt; filteredData = FXCollections.observableArrayList();\r\n         for (Product product : data) {\r\n             if(product.getName().contains(keyword))\r\n                 filteredData.add(product);\r\n         }\r\n       \r\n         table.setItems(filteredData);\r\n       }\r\n    }","title":"Fast filtering in javafx tableview","body":"<pre><code>@Override\npublic void initialize(URL arg0, ResourceBundle arg1)\n{\n    searchField. textProperty().addListener((obs, oldText, newText) -&gt; { \n    search();\n}); \n \n\n@FXML private void search()\n{    \n  String keyword = searchField.getText();\n  if (keyword.equals(&quot;&quot;)) {\n     table.setItems(data);\n } else {\n     ObservableList&lt;Product&gt; filteredData = FXCollections.observableArrayList();\n     for (Product product : data) {\n         if(product.getName().contains(keyword))\n             filteredData.add(product);\n     }\n   \n     table.setItems(filteredData);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2165977,"reputation":1972,"user_id":1919092,"accept_rate":52,"display_name":"learner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24971,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1690938583,"creation_date":1370842127,"question_id":17017364,"body_markdown":"I need to implement a filter in javafx tableview with huge data (around 100,000 ),\r\n\r\nI have tried [this tutorial](http://code.makery.ch/blog/javafx-2-tableview-filter). It works but filtering is really slow as compared to swing [sorting and filtering](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting), [code](http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableFilterDemoProject/src/components/TableFilterDemo.java).\r\n\r\nCan anyone help me to increase speed.\r\n\r\nWhat is happening right now is as I type textproperty change fire up and filterdata but it is slow, I need something which shows filter result with typing quickly as happening in swing.\r\n\r\nthanks in advance.\r\n\r\np.s I have also looked at [this](https://stackoverflow.com/questions/16539274/multiple-filter-with-tableview-in-javafx).","title":"Fast filtering in javafx tableview","body":"<p>I need to implement a filter in javafx tableview with huge data (around 100,000 ),</p>\n\n<p>I have tried <a href=\"http://code.makery.ch/blog/javafx-2-tableview-filter\" rel=\"noreferrer\">this tutorial</a>. It works but filtering is really slow as compared to swing <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"noreferrer\">sorting and filtering</a>, <a href=\"http://docs.oracle.com/javase/tutorial/displayCode.html?code=http://docs.oracle.com/javase/tutorial/uiswing/examples/components/TableFilterDemoProject/src/components/TableFilterDemo.java\" rel=\"noreferrer\">code</a>.</p>\n\n<p>Can anyone help me to increase speed.</p>\n\n<p>What is happening right now is as I type textproperty change fire up and filterdata but it is slow, I need something which shows filter result with typing quickly as happening in swing.</p>\n\n<p>thanks in advance.</p>\n\n<p>p.s I have also looked at <a href=\"https://stackoverflow.com/questions/16539274/multiple-filter-with-tableview-in-javafx\">this</a>.</p>\n"},{"tags":["java","netbeans","overriding","jdialog","reusability"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690890079,"post_id":76811246,"comment_id":135413339,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690890993,"post_id":76811246,"comment_id":135413539,"body_markdown":"Maybe take a step back and create re-usable dialog which allows you to register an `ActionListener` which can be used to capture the save action","body":"Maybe take a step back and create re-usable dialog which allows you to register an <code>ActionListener</code> which can be used to capture the save action"}],"answers":[{"comments":[{"owner":{"account_id":21452849,"reputation":19,"user_id":15804959,"display_name":"totski"},"score":0,"creation_date":1690892434,"post_id":76811326,"comment_id":135413822,"body_markdown":"I chose  the school year column to be the primary key in database.","body":"I chose  the school year column to be the primary key in database."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690924605,"post_id":76811326,"comment_id":135420161,"body_markdown":"@totski That seems like a bad idea to me - not only is it likely to change, it’s possible that it’s not unique. I’d have a dedicate key column instead","body":"@totski That seems like a bad idea to me - not only is it likely to change, it’s possible that it’s not unique. I’d have a dedicate key column instead"}],"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690890506,"creation_date":1690890506,"answer_id":76811326,"question_id":76811246,"body_markdown":"As a rule of clean code, it is not clean to copy your code, and based on your issue, the difference between insert and update is just having id or not. you can check id exists or not and then call update or insert.","title":"Is it possible to override the implementation inside the generated actionPerformed in java?","body":"<p>As a rule of clean code, it is not clean to copy your code, and based on your issue, the difference between insert and update is just having id or not. you can check id exists or not and then call update or insert.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690892733,"creation_date":1690892733,"answer_id":76811602,"question_id":76811246,"body_markdown":"Decouple your concerns.\r\n\r\nConsider the fact that the editor should do one job, allow the user to input the data.  It&#39;s not it&#39;s responsibility to save it.\r\n\r\nInstead, create a &quot;editor&quot; which simply does the core functionality of managing the input (ie making sure the &quot;from year&quot; is always earlier to the &quot;to year&quot;).  Then provide some getters to get the values from the editor.\r\n\r\nYou should then make use of dependency injection to pass the values into the editor.\r\n\r\nA simple solution would then be to present the editor in a `JOptionPane`.  Then based on the response, either save the results ... or don&#39;t.\r\n\r\n\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSpinner;\r\n    import javax.swing.SpinnerNumberModel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    YearEditorPane editorPane = new YearEditorPane(2023, 2024);\r\n                    int option = JOptionPane.showOptionDialog( \r\n                            null,\r\n                            editorPane,\r\n                            &quot;Add Shcool Year&quot;,\r\n                            JOptionPane.YES_NO_OPTION,\r\n                            JOptionPane.PLAIN_MESSAGE,\r\n                            null,\r\n                            new String[] {&quot;Save&quot;, &quot;Cancel&quot;},\r\n                            &quot;Save&quot;\r\n                    );\r\n                    if (option == 0) {\r\n                        int fromYear = editorPane.getFromYear();\r\n                        int toYear = editorPane.getToYear();\r\n                        System.out.println(&quot;Save the data - &quot; + fromYear + &quot; - &quot; + toYear);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class YearEditorPane extends JPanel {\r\n\r\n            private JSpinner fromYearSpinner;\r\n            private JSpinner toYearSpinner;\r\n\r\n            public YearEditorPane(int fromYear, int toYear) {\r\n                add(new JLabel(&quot;School Year:&quot;));\r\n\r\n                fromYearSpinner = new JSpinner(\r\n                        new SpinnerNumberModel(\r\n                                fromYear, \r\n                                fromYear, \r\n                                fromYear + 100, \r\n                                1\r\n                        ));\r\n                toYearSpinner = new JSpinner(\r\n                        new SpinnerNumberModel(\r\n                                toYear, \r\n                                toYear, \r\n                                toYear + 100, \r\n                                1\r\n                        ));\r\n\r\n                add(fromYearSpinner);\r\n                add(toYearSpinner);\r\n            }\r\n\r\n            public int getFromYear() {\r\n                return (int)fromYearSpinner.getValue();\r\n            }\r\n\r\n            public int getToYear() {\r\n                return (int)toYearSpinner.getValue();\r\n            }        \r\n        }\r\n    }\r\n","title":"Is it possible to override the implementation inside the generated actionPerformed in java?","body":"<p>Decouple your concerns.</p>\n<p>Consider the fact that the editor should do one job, allow the user to input the data.  It's not it's responsibility to save it.</p>\n<p>Instead, create a &quot;editor&quot; which simply does the core functionality of managing the input (ie making sure the &quot;from year&quot; is always earlier to the &quot;to year&quot;).  Then provide some getters to get the values from the editor.</p>\n<p>You should then make use of dependency injection to pass the values into the editor.</p>\n<p>A simple solution would then be to present the editor in a <code>JOptionPane</code>.  Then based on the response, either save the results ... or don't.</p>\n<pre><code>import java.awt.EventQueue;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JSpinner;\nimport javax.swing.SpinnerNumberModel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                YearEditorPane editorPane = new YearEditorPane(2023, 2024);\n                int option = JOptionPane.showOptionDialog( \n                        null,\n                        editorPane,\n                        &quot;Add Shcool Year&quot;,\n                        JOptionPane.YES_NO_OPTION,\n                        JOptionPane.PLAIN_MESSAGE,\n                        null,\n                        new String[] {&quot;Save&quot;, &quot;Cancel&quot;},\n                        &quot;Save&quot;\n                );\n                if (option == 0) {\n                    int fromYear = editorPane.getFromYear();\n                    int toYear = editorPane.getToYear();\n                    System.out.println(&quot;Save the data - &quot; + fromYear + &quot; - &quot; + toYear);\n                }\n            }\n        });\n    }\n\n    public class YearEditorPane extends JPanel {\n\n        private JSpinner fromYearSpinner;\n        private JSpinner toYearSpinner;\n\n        public YearEditorPane(int fromYear, int toYear) {\n            add(new JLabel(&quot;School Year:&quot;));\n\n            fromYearSpinner = new JSpinner(\n                    new SpinnerNumberModel(\n                            fromYear, \n                            fromYear, \n                            fromYear + 100, \n                            1\n                    ));\n            toYearSpinner = new JSpinner(\n                    new SpinnerNumberModel(\n                            toYear, \n                            toYear, \n                            toYear + 100, \n                            1\n                    ));\n\n            add(fromYearSpinner);\n            add(toYearSpinner);\n        }\n\n        public int getFromYear() {\n            return (int)fromYearSpinner.getValue();\n        }\n\n        public int getToYear() {\n            return (int)toYearSpinner.getValue();\n        }        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21452849,"reputation":19,"user_id":15804959,"display_name":"totski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690938179,"creation_date":1690889841,"question_id":76811246,"body_markdown":"I&#39;m using a NetBeans as my IDE for Java. I have class called **NewSchoolYearDialog** extended by **JDialog**:\r\n\r\n[![Add School Year][1]][1]\r\n\r\nThe purpose of that **Save** button in the image above is to insert a school year into a database. \r\n\r\nNow I want to reuse that design to create another **JDialog** to edit the school year by just creating an object of a class **NewSchoolYearDialog**, set the title to _&quot;Edit School Year&quot;_, and change the **Save** button implementation to update the school year.\r\n\r\nShould I create another class extended by **JDialog** and just copy the design, or there is another way to do it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oOERx.png","title":"Is it possible to override the implementation inside the generated actionPerformed in java?","body":"<p>I'm using a NetBeans as my IDE for Java. I have class called <strong>NewSchoolYearDialog</strong> extended by <strong>JDialog</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/oOERx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOERx.png\" alt=\"Add School Year\" /></a></p>\n<p>The purpose of that <strong>Save</strong> button in the image above is to insert a school year into a database.</p>\n<p>Now I want to reuse that design to create another <strong>JDialog</strong> to edit the school year by just creating an object of a class <strong>NewSchoolYearDialog</strong>, set the title to <em>&quot;Edit School Year&quot;</em>, and change the <strong>Save</strong> button implementation to update the school year.</p>\n<p>Should I create another class extended by <strong>JDialog</strong> and just copy the design, or there is another way to do it?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633026600,"post_id":69397186,"comment_id":122659243,"body_markdown":"@mattsmith5 Because 9092 is the default Kafka port. Why did **you** change it for your server?","body":"@mattsmith5 Because 9092 is the default Kafka port. Why did <b>you</b> change it for your server?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633026630,"post_id":69397186,"comment_id":122659257,"body_markdown":"You cannot consume from an HTTP server. You would use `curl localhost:8080` for that","body":"You cannot consume from an HTTP server. You would use <code>curl localhost:8080</code> for that"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633027131,"post_id":69397186,"comment_id":122659413,"body_markdown":"You can use the Swagger UI, as well. Doesn&#39;t really matter, but I suspect you will get the data you want if you use the correct port in your consumer CLI","body":"You can use the Swagger UI, as well. Doesn&#39;t really matter, but I suspect you will get the data you want if you use the correct port in your consumer CLI"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633027596,"post_id":69397186,"comment_id":122659565,"body_markdown":"`kafka-console-consumer.sh` is just a wrapper around Java/Scala code. You don&#39;t need to write it in your own app unless you do need that data there as well. Yes, it&#39;s for testing/scripting, but you still need to point it at the correct address (which is not an HTTP server)","body":"<code>kafka-console-consumer.sh</code> is just a wrapper around Java/Scala code. You don&#39;t need to write it in your own app unless you do need that data there as well. Yes, it&#39;s for testing/scripting, but you still need to point it at the correct address (which is not an HTTP server)"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633027191,"creation_date":1633026164,"answer_id":69397186,"question_id":69397061,"body_markdown":"`KAFKA_HEAP_OPTS` is a shared shell variable across all Kafka CLI scripts, so the answer you&#39;re referring to in the linked post is correct. \r\n\r\ne.g\r\n\r\n```\r\nKAFKA_HEAP_OPTS=&#39;-Xmx1G&#39; kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\r\n```\r\n\r\n&gt; my apis are running on localhost:8080/swagger-ui.html. and call Kafka producer event\r\n\r\nThen you want an HTTP client to POST an HTTP-request to `localhost:8080`. That, in turn, generates a Kafka message as you say, which is sent to **`localhost:9092`** (by default). You need to consume *from Kafka*, not an HTTP server","title":"Java Kafka console-consumer running out of heap space","body":"<p><code>KAFKA_HEAP_OPTS</code> is a shared shell variable across all Kafka CLI scripts, so the answer you're referring to in the linked post is correct.</p>\n<p>e.g</p>\n<pre><code>KAFKA_HEAP_OPTS='-Xmx1G' kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\n</code></pre>\n<blockquote>\n<p>my apis are running on localhost:8080/swagger-ui.html. and call Kafka producer event</p>\n</blockquote>\n<p>Then you want an HTTP client to POST an HTTP-request to <code>localhost:8080</code>. That, in turn, generates a Kafka message as you say, which is sent to <strong><code>localhost:9092</code></strong> (by default). You need to consume <em>from Kafka</em>, not an HTTP server</p>\n"},{"tags":[],"owner":{"account_id":6701473,"reputation":2469,"user_id":5167801,"accept_rate":46,"display_name":"Anum Sheraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690935760,"creation_date":1690935760,"answer_id":76815926,"question_id":69397061,"body_markdown":"OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), it was due to permission access restriction. I had to mention client.properties file while running kafka-console-consumer.sh script. `--consumer.config /path/to/client.properties`. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s","title":"Java Kafka console-consumer running out of heap space","body":"<p>OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), it was due to permission access restriction. I had to mention client.properties file while running kafka-console-consumer.sh script. <code>--consumer.config /path/to/client.properties</code>. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3692,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69397186,"answer_count":2,"score":1,"last_activity_date":1690935760,"creation_date":1633025517,"question_id":69397061,"body_markdown":"\r\nI am running the following command in Console. `kafka-console-consumer`  and receiving \r\nout of memory error: `java.lang.OutOfMemoryError: Java heap space`. How can I resolve this? Trying to apply this resource, except I do not have a topics file.\r\n\r\nhttps://stackoverflow.com/questions/41964676/kafka-connect-running-out-of-heap-space\r\n\r\n\r\n**Console:**\r\n\r\n    kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\r\n\r\n**Application.Yml**\r\n\r\n    kafka:\r\n      topic: encounter\r\n      event: personEvent\r\n\r\n**Error Message below:**\r\n\r\n    ERROR Error processing message, terminating consumer process:  (kafka.tools.ConsoleConsumer$)\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:64)\r\n    \tat java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:363)\r\n    \tat org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n    \tat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\r\n    \tat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\r\n    \tat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\r\n    \tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\r\n    \tat org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n    \tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\r\n    \tat kafka.tools.ConsoleConsumer$ConsumerWrapper.receive(ConsoleConsumer.scala:454)\r\n    \tat kafka.tools.ConsoleConsumer$.process(ConsoleConsumer.scala:101)\r\n    \tat kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:75)\r\n    \tat kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:52)\r\n    \tat kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\r\n\r\n","title":"Java Kafka console-consumer running out of heap space","body":"<p>I am running the following command in Console. <code>kafka-console-consumer</code>  and receiving\nout of memory error: <code>java.lang.OutOfMemoryError: Java heap space</code>. How can I resolve this? Trying to apply this resource, except I do not have a topics file.</p>\n<p><a href=\"https://stackoverflow.com/questions/41964676/kafka-connect-running-out-of-heap-space\">Kafka Connect running out of heap space</a></p>\n<p><strong>Console:</strong></p>\n<pre><code>kafka-console-consumer --bootstrap-server localhost:9092 --topic encounter.personEvent\n</code></pre>\n<p><strong>Application.Yml</strong></p>\n<pre><code>kafka:\n  topic: encounter\n  event: personEvent\n</code></pre>\n<p><strong>Error Message below:</strong></p>\n<pre><code>ERROR Error processing message, terminating consumer process:  (kafka.tools.ConsoleConsumer$)\njava.lang.OutOfMemoryError: Java heap space\n    at java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:64)\n    at java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:363)\n    at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\n    at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113)\n    at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452)\n    at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402)\n    at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:551)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211)\n    at kafka.tools.ConsoleConsumer$ConsumerWrapper.receive(ConsoleConsumer.scala:454)\n    at kafka.tools.ConsoleConsumer$.process(ConsoleConsumer.scala:101)\n    at kafka.tools.ConsoleConsumer$.run(ConsoleConsumer.scala:75)\n    at kafka.tools.ConsoleConsumer$.main(ConsoleConsumer.scala:52)\n    at kafka.tools.ConsoleConsumer.main(ConsoleConsumer.scala)\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka","out-of-memory","sasl"],"comments":[{"owner":{"account_id":1474228,"reputation":202,"user_id":1385048,"display_name":"Repoker"},"score":0,"creation_date":1571051948,"post_id":58375592,"comment_id":103100260,"body_markdown":"this error message means the JVM where your application is deployed is running out of memory. You should try searching a bit.. https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error?r=SearchResults&amp;s=1|257.1170","body":"this error message means the JVM where your application is deployed is running out of memory. You should try searching a bit.. <a href=\"https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error?r=SearchResults&amp;s=1|257.1170\" title=\"how to deal with java lang outofmemoryerror java heap space error\">stackoverflow.com/questions/37335/&hellip;</a>"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571052227,"post_id":58375592,"comment_id":103100382,"body_markdown":"8 GB memory has given to the JVM, also it works with port 9092 as mentioned above","body":"8 GB memory has given to the JVM, also it works with port 9092 as mentioned above"},{"owner":{"account_id":2598370,"reputation":2025,"user_id":2251467,"accept_rate":39,"display_name":"UserASR"},"score":0,"creation_date":1571052460,"post_id":58375592,"comment_id":103100500,"body_markdown":"Did you increase `-Xmx` in `KAFKA_HEAP_OPTS`?","body":"Did you increase <code>-Xmx</code> in <code>KAFKA_HEAP_OPTS</code>?"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571053017,"post_id":58375592,"comment_id":103100773,"body_markdown":"@ASR any idea why it works in the Port 9092 ?","body":"@ASR any idea why it works in the Port 9092 ?"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571053947,"post_id":58375592,"comment_id":103101238,"body_markdown":"-Xmx gave as 8GB, also total memory of the server is 16 GB.","body":"-Xmx gave as 8GB, also total memory of the server is 16 GB."},{"owner":{"account_id":2598370,"reputation":2025,"user_id":2251467,"accept_rate":39,"display_name":"UserASR"},"score":0,"creation_date":1571054323,"post_id":58375592,"comment_id":103101443,"body_markdown":"It shouldn&#39;t be related to any specific port but i am thinking if the SASL configuration is referring some other configuration. grep the process and check if the new -Xmx is reflecting in the running kafka process.","body":"It shouldn&#39;t be related to any specific port but i am thinking if the SASL configuration is referring some other configuration. grep the process and check if the new -Xmx is reflecting in the running kafka process."},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571057721,"post_id":58375592,"comment_id":103103239,"body_markdown":"@ASR, yes the  &quot;  ps -ef | grep kafka &quot; : shows  -Xmx 8GB","body":"@ASR, yes the  &quot;  ps -ef | grep kafka &quot; : shows  -Xmx 8GB"},{"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"score":0,"creation_date":1571058190,"post_id":58375592,"comment_id":103103500,"body_markdown":"i have updated the question with more details","body":"i have updated the question with more details"}],"answers":[{"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1571062164,"post_id":58378487,"comment_id":103105633,"body_markdown":"In our case, it usually occurs when we forget to add the credentials or use the wrong ones. It is very misleading.","body":"In our case, it usually occurs when we forget to add the credentials or use the wrong ones. It is very misleading."},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1571062441,"post_id":58378487,"comment_id":103105773,"body_markdown":"@daniu Excellent point. I&#39;m assuming OP is using kerberos cache to login, but maybe he just omitted his jaas.conf to not overload the question.","body":"@daniu Excellent point. I&#39;m assuming OP is using kerberos cache to login, but maybe he just omitted his jaas.conf to not overload the question."}],"tags":[],"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606174702,"creation_date":1571061887,"answer_id":58378487,"question_id":58375592,"body_markdown":"Most likely, OOM exception is just a red herring, see JIRA [KAFKA-4493][1]. And the real issue is a SASL-SSL connection, which your client is unable to establish properly. Enable SSL debug on the client side and proceed from there:\r\n\r\n```\r\n$ export KAFKA_OPTS=&quot;-Djavax.net.debug=handshake&quot;\r\n$ /usr/bin/kafka-delete-records ...\r\n```\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/KAFKA-4493","title":"Java heap space - Out of memory error - Kafka Broker with SASL_SSL","body":"<p>Most likely, OOM exception is just a red herring, see JIRA <a href=\"https://issues.apache.org/jira/browse/KAFKA-4493\" rel=\"nofollow noreferrer\">KAFKA-4493</a>. And the real issue is a SASL-SSL connection, which your client is unable to establish properly. Enable SSL debug on the client side and proceed from there:</p>\n<pre><code>$ export KAFKA_OPTS=&quot;-Djavax.net.debug=handshake&quot;\n$ /usr/bin/kafka-delete-records ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6701473,"reputation":2469,"user_id":5167801,"accept_rate":46,"display_name":"Anum Sheraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690935569,"creation_date":1690935569,"answer_id":76815915,"question_id":58375592,"body_markdown":"OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), this was happening due to missing client.properties file while running kafka-console-producer.sh script. --command-config &lt;path&gt;/&lt;to&gt;/client.properties. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s","title":"Java heap space - Out of memory error - Kafka Broker with SASL_SSL","body":"<p>OOM java heap-space execption can be due to multiple reasons. In my case (AWS MSK kafka - IAM auth protected), this was happening due to missing client.properties file while running kafka-console-producer.sh script. --command-config //client.properties. see here youtube.com/watch?v=r12HYxWAJLo&amp;t=477s</p>\n"}],"owner":{"account_id":16890012,"reputation":61,"user_id":12213922,"display_name":"Rajkumar Selvaraj"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13147,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1690935569,"creation_date":1571051615,"question_id":58375592,"body_markdown":"when I use the below &quot;/usr/bin/kafka-delete-records&quot; command in the Kafka broker with PLAIN_TEXT  port 9092, the command works fine, but when I use the SASL_SSL port 9094, the command throws the below error. Anyone know the solution to use the Kafka broker port 9094 with SASL_SSL?\r\n   \r\n```\r\n$ssh **** ****@&lt;IP address&gt; /usr/bin/kafka-delete-records --bootstrap-server localhost:9094 --offset-json-file /kafka/records.json`\r\n\r\n[2019-10-14 04:15:49,891] ERROR Uncaught exception in thread &#39;kafka-admin-client-thread | adminclient-1&#39;: (org.apache.kafka.common.utils.KafkaThread)\r\n\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:57)\r\n\tat java.nio.ByteBuffer.allocate(ByteBuffer.java:335)\r\n\tat org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\r\n\tat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:112)\r\n\tat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:390)\r\n\tat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:351)\r\n\tat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:609)\r\n\tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:541)\r\n\tat org.apache.kafka.common.network.Selector.poll(Selector.java:467)\r\n\tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:535)\r\n\tat org.apache.kafka.clients.admin.KafkaAdminClient$AdminClientRunnable.run(KafkaAdminClient.java:1125)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nExecuting records delete operation\r\nRecords delete operation completed:\r\n\r\n```\r\nNOTE: -Xmx gave as 8GB, also total memory of the server is 16 GB\r\n\r\nplease check the current Heap value below:\r\n```\r\n$ ps -ef | grep kafka\r\ncp-kafka 11419     1  3 10:07 ?        00:05:27 java -Xms8g -Xmx8g  -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35  ........ io.confluent.support.metrics.SupportedKafka /etc/kafka/server.properties\r\n```","title":"Java heap space - Out of memory error - Kafka Broker with SASL_SSL","body":"<p>when I use the below \"/usr/bin/kafka-delete-records\" command in the Kafka broker with PLAIN_TEXT  port 9092, the command works fine, but when I use the SASL_SSL port 9094, the command throws the below error. Anyone know the solution to use the Kafka broker port 9094 with SASL_SSL?</p>\n\n<pre><code>$ssh **** ****@&lt;IP address&gt; /usr/bin/kafka-delete-records --bootstrap-server localhost:9094 --offset-json-file /kafka/records.json`\n\n[2019-10-14 04:15:49,891] ERROR Uncaught exception in thread 'kafka-admin-client-thread | adminclient-1': (org.apache.kafka.common.utils.KafkaThread)\n\njava.lang.OutOfMemoryError: Java heap space\n    at java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:57)\n    at java.nio.ByteBuffer.allocate(ByteBuffer.java:335)\n    at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30)\n    at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:112)\n    at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:390)\n    at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:351)\n    at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:609)\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:541)\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:467)\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:535)\n    at org.apache.kafka.clients.admin.KafkaAdminClient$AdminClientRunnable.run(KafkaAdminClient.java:1125)\n    at java.lang.Thread.run(Thread.java:748)\nExecuting records delete operation\nRecords delete operation completed:\n\n</code></pre>\n\n<p>NOTE: -Xmx gave as 8GB, also total memory of the server is 16 GB</p>\n\n<p>please check the current Heap value below:</p>\n\n<pre><code>$ ps -ef | grep kafka\ncp-kafka 11419     1  3 10:07 ?        00:05:27 java -Xms8g -Xmx8g  -XX:MaxGCPauseMillis=20 -XX:InitiatingHeapOccupancyPercent=35  ........ io.confluent.support.metrics.SupportedKafka /etc/kafka/server.properties\n</code></pre>\n"},{"tags":["java","slf4j","lombok"],"answers":[{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690935029,"creation_date":1598715416,"answer_id":63648783,"question_id":63648782,"body_markdown":"If you, in IntelliJ, do right-click -&gt; Refactor -&gt; Delombok -&gt; @Log (and friends), you&#39;ll see the generated fields initialization starts with: ` = org.slf4j...`:\r\n\r\n    private static final Logger log = org.slf4j.LoggerFactory.getLogger(MyClass.class);\r\n    //                                ^^^ - this is ambiguous\r\n\r\nand this produces the conflict with your `org` field:\r\n\r\n    String org;\r\n    //     ^^^\r\n\r\n---\r\nLombok team could work-around this by injecting `import org.slf4j.LoggerFactory`, but they might think the demand for the fix is not so high. This is an opinion of a Lombok contributor:\r\n\r\n&gt; *...This is a handicap in the java language that uses the same notation for two completely different concepts. Don&#39;t know what could be done in lombok to solve this issue without creating some other issue somewhere else. [[REF][1]]*\r\n---\r\n\r\n**SOLUTION**: So, in cases you have `org` field, just replace your:\r\n\r\n - `import lombok.extern.slf4j.Slf4j;` and\r\n - `@Slf4j` with:\r\n___\r\n\r\n    import static org.slf4j.LoggerFactory.getLogger;\r\n    \r\n\r\n    \r\n      private static final Logger log = getLogger(MyClass.class);\r\n      \r\n\r\n\r\n  [1]: https://github.com/rzwitserloot/lombok/issues/1400#issuecomment-321885079","title":"@Slf4j produces `non-static variable org cannot be referenced` if the class has `org` field","body":"<p>If you, in IntelliJ, do right-click -&gt; Refactor -&gt; Delombok -&gt; @Log (and friends), you'll see the generated fields initialization starts with: <code> = org.slf4j...</code>:</p>\n<pre><code>private static final Logger log = org.slf4j.LoggerFactory.getLogger(MyClass.class);\n//                                ^^^ - this is ambiguous\n</code></pre>\n<p>and this produces the conflict with your <code>org</code> field:</p>\n<pre><code>String org;\n//     ^^^\n</code></pre>\n<hr />\n<p>Lombok team could work-around this by injecting <code>import org.slf4j.LoggerFactory</code>, but they might think the demand for the fix is not so high. This is an opinion of a Lombok contributor:</p>\n<blockquote>\n<p><em>...This is a handicap in the java language that uses the same notation for two completely different concepts. Don't know what could be done in lombok to solve this issue without creating some other issue somewhere else. [<a href=\"https://github.com/rzwitserloot/lombok/issues/1400#issuecomment-321885079\" rel=\"nofollow noreferrer\">REF</a>]</em></p>\n</blockquote>\n<hr />\n<p><strong>SOLUTION</strong>: So, in cases you have <code>org</code> field, just replace your:</p>\n<ul>\n<li><code>import lombok.extern.slf4j.Slf4j;</code> and</li>\n<li><code>@Slf4j</code> with:</li>\n</ul>\n<hr />\n<pre><code>import static org.slf4j.LoggerFactory.getLogger;\n\n\n\n  private static final Logger log = getLogger(MyClass.class);\n  \n</code></pre>\n"}],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63648783,"answer_count":1,"score":0,"last_activity_date":1690935029,"creation_date":1598715416,"question_id":63648782,"body_markdown":"Why, if my class has an `org` field, I cannot use `@Slf4j` Lombok log annotation. The following code will produce a compilation error at line #3:\r\n\r\n&gt; ***MyClass.java:[3,1] non-static variable org cannot be referenced from a static context***\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n\r\n    @Slf4j\r\n    class MyClass {\r\n      String org;\r\n\r\n      void printDebug() { log.debug(&quot;Org: &quot; + org); }\r\n    }\r\n\r\nLombok documentation ([projectlombok.org/features/log][1]) claims it adds a single `log` field. Why it conflicts with `org`?\r\n\r\n\r\n  [1]: https://projectlombok.org/features/log","title":"@Slf4j produces `non-static variable org cannot be referenced` if the class has `org` field","body":"<p>Why, if my class has an <code>org</code> field, I cannot use <code>@Slf4j</code> Lombok log annotation. The following code will produce a compilation error at line #3:</p>\n<blockquote>\n<p><em><strong>MyClass.java:[3,1] non-static variable org cannot be referenced from a static context</strong></em></p>\n</blockquote>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\nclass MyClass {\n  String org;\n\n  void printDebug() { log.debug(&quot;Org: &quot; + org); }\n}\n</code></pre>\n<p>Lombok documentation (<a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">projectlombok.org/features/log</a>) claims it adds a single <code>log</code> field. Why it conflicts with <code>org</code>?</p>\n"},{"tags":["java","selenium-webdriver","utf-8"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690923478,"post_id":76814878,"comment_id":135419991,"body_markdown":"*`// -&gt; url: https://www.&#195;&#186;rl/example/with/especial-character/`* Forgive me, I don&#39;t do Selenium but I take it that&#39;s what you see? If so, where - in the console? If so, which console?","body":"<i><code>&#47;&#47; -&gt; url: https:&#47;&#47;www.&#195;&#186;rl&#47;example&#47;with&#47;especial-character&#47;</code></i> Forgive me, I don&#39;t do Selenium but I take it that&#39;s what you see? If so, where - in the console? If so, which console?"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690927885,"post_id":76814878,"comment_id":135420639,"body_markdown":"This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong.","body":"This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690928350,"post_id":76814878,"comment_id":135420682,"body_markdown":"I believe the get() method has a built-in validator for the URL.  But a URL can only contain standard ASCII characters methinks, so the whole question seems to be based on a URL that can&#39;t exist.","body":"I believe the get() method has a built-in validator for the URL.  But a URL can only contain standard ASCII characters methinks, so the whole question seems to be based on a URL that can&#39;t exist."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690928549,"post_id":76814878,"comment_id":135420705,"body_markdown":"*This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong.* That doesn&#39;t tell me *where* you see that incorrect output","body":"<i>This is how the ChromeDriver handler queries the web page, causing the content it returns to be wrong.</i> That doesn&#39;t tell me <i>where</i> you see that incorrect output"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690928937,"post_id":76814878,"comment_id":135420746,"body_markdown":"@g00se When my program runs, the chrome browser opens and displays the content of the page, the url does not take the &quot;&#250;&quot; character that I mentioned in the example, and replaces it with &quot;&#195;&#186;&quot;.","body":"@g00se When my program runs, the chrome browser opens and displays the content of the page, the url does not take the &quot;&#250;&quot; character that I mentioned in the example, and replaces it with &quot;&#195;&#186;&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690929126,"post_id":76814878,"comment_id":135420764,"body_markdown":"@pcalkins: [https://фрезеровка.москва/](https://фрезеровка.москва/)","body":"@pcalkins: <a href=\"https://%D1%84%D1%80%D0%B5%D0%B7%D0%B5%D1%80%D0%BE%D0%B2%D0%BA%D0%B0.%D0%BC%D0%BE%D1%81%D0%BA%D0%B2%D0%B0/\" rel=\"nofollow noreferrer\">https://фрезеровка.москва/</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690929225,"post_id":76814878,"comment_id":135420782,"body_markdown":"*When my program runs, the chrome browser opens and displays...* OK, so I understand, then, the answer to my question is &quot;the address bar&quot; (?)","body":"<i>When my program runs, the chrome browser opens and displays...</i> OK, so I understand, then, the answer to my question is &quot;the address bar&quot; (?)"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690929280,"post_id":76814878,"comment_id":135420790,"body_markdown":"@pcalkins I have run the code in debug mode, I put a breakpoint in my driver.get(url) line and before the wrong url is stored I have set the url that contains the character that is altered, continue the program and the site has been successfully loaded with the content, then I doubt that the URL&#39;S must have ASCII characters compulsorily.","body":"@pcalkins I have run the code in debug mode, I put a breakpoint in my driver.get(url) line and before the wrong url is stored I have set the url that contains the character that is altered, continue the program and the site has been successfully loaded with the content, then I doubt that the URL&#39;S must have ASCII characters compulsorily."},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1690929414,"post_id":76814878,"comment_id":135420802,"body_markdown":"@g00se Exactly, the bar with the url...","body":"@g00se Exactly, the bar with the url..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690933698,"post_id":76814878,"comment_id":135421232,"body_markdown":"Sorry couldn&#39;t help. I thought it just *might* be in the console","body":"Sorry couldn&#39;t help. I thought it just <i>might</i> be in the console"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690940979,"post_id":76814878,"comment_id":135421842,"body_markdown":"My thoughts on that is not so much special character as &quot;illegal character&quot; ! in the url.  If the character belongs to a specific language script it may be possible to set locale on it and it&#39;s official iso charsets but that would be some work to collude the two together into a program coherently. However outside of a working national language script, url characters, and Latin 1 I would say it is illegal!","body":"My thoughts on that is not so much special character as &quot;illegal character&quot; ! in the url.  If the character belongs to a specific language script it may be possible to set locale on it and it&#39;s official iso charsets but that would be some work to collude the two together into a program coherently. However outside of a working national language script, url characters, and Latin 1 I would say it is illegal!"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690930370,"creation_date":1690930370,"answer_id":76815640,"question_id":76814878,"body_markdown":"[Selenium](https://stackoverflow.com/a/54482491/7429447) _**v3.141.59**_ is **old** and **ancient** now.\r\n\r\n\r\n----------\r\n\r\n\r\nHowever using [tag:selenium4] and [WebDriver](https://stackoverflow.com/a/48080871/7429447) _**v4.10.0**_, I find the special characters similar just like accessing manually.\r\n\r\nURL\r\n\r\n\thttps://www.&#195;&#186;rl/example/with/especial-character/\r\n\t\r\nManual browser snapshot:\r\n\r\n![manual](https://i.stack.imgur.com/nDcku.png)\r\n\r\nCode block:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);\r\n\tdriver.get(&quot;https://www.&#195;&#186;rl/example/with/especial-character/&quot;);\r\n\t\r\nBrowser snapshot:\r\n\r\n![SeleniumDriven](https://i.stack.imgur.com/9SnyR.png)","title":"Selenium ChromeDriver.get() does not correctly add special characters UTF 8 decoding Java","body":"<p><a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v3.141.59</strong></em> is <strong>old</strong> and <strong>ancient</strong> now.</p>\n<hr />\n<p>However using <a href=\"/questions/tagged/selenium4\" class=\"post-tag\" title=\"show questions tagged &#39;selenium4&#39;\" aria-label=\"show questions tagged &#39;selenium4&#39;\" rel=\"tag\" aria-labelledby=\"tag-selenium4-tooltip-container\">selenium4</a> and <a href=\"https://stackoverflow.com/a/48080871/7429447\">WebDriver</a> <em><strong>v4.10.0</strong></em>, I find the special characters similar just like accessing manually.</p>\n<p>URL</p>\n<pre><code>https://www.Ãºrl/example/with/especial-character/\n</code></pre>\n<p>Manual browser snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/nDcku.png\" alt=\"manual\" /></p>\n<p>Code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.Ãºrl/example/with/especial-character/&quot;);\n</code></pre>\n<p>Browser snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/9SnyR.png\" alt=\"SeleniumDriven\" /></p>\n"},{"tags":[],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690934546,"creation_date":1690934546,"answer_id":76815866,"question_id":76814878,"body_markdown":"I have managed to solve this problem, ChromeDriver is not changing my character encoding internally, the url I am using is exporting from an enum class and the IDE I am using (intellij IDEA) is not encoding my files in utf-8, so which when receiving the value in the class the characters of the string are replaced, it was as simple as doing:\r\n```java\r\n     byte[] asciiURL = url.getBytes();\r\n     String utf8URL = new String(asciiURL, StandardCharsets.UTF_8);\r\n````\r\nAnd with that it is enough.","title":"Selenium ChromeDriver.get() does not correctly add special characters UTF 8 decoding Java","body":"<p>I have managed to solve this problem, ChromeDriver is not changing my character encoding internally, the url I am using is exporting from an enum class and the IDE I am using (intellij IDEA) is not encoding my files in utf-8, so which when receiving the value in the class the characters of the string are replaced, it was as simple as doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     byte[] asciiURL = url.getBytes();\n     String utf8URL = new String(asciiURL, StandardCharsets.UTF_8);\n</code></pre>\n<p>And with that it is enough.</p>\n"}],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690934546,"creation_date":1690920587,"question_id":76814878,"body_markdown":"I use selenium version: &#39;3.141.59&#39; to access the content of a page with java, I am using the ChromeDriver to emulate the use of a web browser, my problem occurs when the query url contains special characters --charset=utf -8 since it decodes the character and the result of the web request is not as expected, this is a code example:\r\n\r\n```java\r\nSystem.setProperty(\r\n      &quot;webdriver.chrome.driver&quot;,\r\n      &quot;C:\\\\Program Files\\\\Controllers\\\\chromedriver-win64\\\\chromedriver.exe&quot;\r\n ); // -&gt; chromedriver version 115.0.5790.102 \r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--charset=UTF-8&quot;);\r\nWebDriver driver = new ChromeDriver(options);\r\ndriver.get(&quot;&#250;rl/example/with/especial-character/&quot;); // -&gt; url: https://www.&#195;&#186;rl/example/with/especial-character/\r\n```\r\nI have tried encoding the url using: \r\n```java\r\nString encoderUrl = URLEncoder.encode(&quot;&#250;rl/example/with/especial-character/&quot;, &quot;UTF-8&quot;);\r\ndriver.get(encodeUrl)\r\n```\r\nBut this modifies the url which is already encoded, so I&#39;m out of ideas how to solve this, any useful method or library to solve this?\r\n\r\n```gradle\r\ndependencies {\r\n    testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-chrome-driver&#39;, version: &#39;3.141.59&#39;\r\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support\r\n    implementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-support&#39;, version: &#39;3.4.0&#39;\r\n}\r\n\r\n```","title":"Selenium ChromeDriver.get() does not correctly add special characters UTF 8 decoding Java","body":"<p>I use selenium version: '3.141.59' to access the content of a page with java, I am using the ChromeDriver to emulate the use of a web browser, my problem occurs when the query url contains special characters --charset=utf -8 since it decodes the character and the result of the web request is not as expected, this is a code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(\n      &quot;webdriver.chrome.driver&quot;,\n      &quot;C:\\\\Program Files\\\\Controllers\\\\chromedriver-win64\\\\chromedriver.exe&quot;\n ); // -&gt; chromedriver version 115.0.5790.102 \nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--charset=UTF-8&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;úrl/example/with/especial-character/&quot;); // -&gt; url: https://www.Ãºrl/example/with/especial-character/\n</code></pre>\n<p>I have tried encoding the url using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String encoderUrl = URLEncoder.encode(&quot;úrl/example/with/especial-character/&quot;, &quot;UTF-8&quot;);\ndriver.get(encodeUrl)\n</code></pre>\n<p>But this modifies the url which is already encoded, so I'm out of ideas how to solve this, any useful method or library to solve this?</p>\n<pre><code>dependencies {\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-chrome-driver', version: '3.141.59'\n    // https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-support', version: '3.4.0'\n}\n\n</code></pre>\n"},{"tags":["java","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1690936059,"post_id":76815790,"comment_id":135421452,"body_markdown":"where is Order instance initialized？ Please make sure it is managed by spring container.","body":"where is Order instance initialized？ Please make sure it is managed by spring container."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690936948,"post_id":76815790,"comment_id":135421546,"body_markdown":"Trying to figure it out. But other methods used in this class are using struts.Is it possible or is there a possibility to use ApplicationContext to get the bean in Order class to fix my above issue?","body":"Trying to figure it out. But other methods used in this class are using struts.Is it possible or is there a possibility to use ApplicationContext to get the bean in Order class to fix my above issue?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690937855,"post_id":76815790,"comment_id":135421625,"body_markdown":"Can i figure out using eclipse debugger where this Order class is initialized?It&#39;s a very large code base and I can put a breakpoint int the method and figure out?","body":"Can i figure out using eclipse debugger where this Order class is initialized?It&#39;s a very large code base and I can put a breakpoint int the method and figure out?"},{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1690985434,"post_id":76815790,"comment_id":135429464,"body_markdown":"Maybe you could add one default constructor for Order class and put one breakpoint there, then check information such as the calling stack or classLoader to find some clue. I am wondering if order instance is really initialized.","body":"Maybe you could add one default constructor for Order class and put one breakpoint there, then check information such as the calling stack or classLoader to find some clue. I am wondering if order instance is really initialized."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690993615,"post_id":76815790,"comment_id":135431447,"body_markdown":"How about if I define a separate bean for Order class in applicationContex.xml like this: `&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;\n    &lt;property name=&quot;target&quot;&gt;\n    &lt;bean class=&quot;com.pending.service.Order&quot;&gt;\n       &lt;property name=&quot;companyDAO&quot;&gt;\n          &lt;ref bean=&quot;companyDAO&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;`","body":"How about if I define a separate bean for Order class in applicationContex.xml like this: <code>&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;     &lt;property name=&quot;target&quot;&gt;     &lt;bean class=&quot;com.pending.service.Order&quot;&gt;        &lt;property name=&quot;companyDAO&quot;&gt;           &lt;ref bean=&quot;companyDAO&quot; &#47;&gt;         &lt;&#47;property&gt;     &lt;&#47;bean&gt;     &lt;&#47;property&gt; &lt;&#47;bean&gt;</code>"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1690993691,"post_id":76815790,"comment_id":135431461,"body_markdown":"Is it okay to have bean with same `id`, `companyManager` inside `applicationContext.xml`? I already have one with same id as shown in my post.","body":"Is it okay to have bean with same <code>id</code>, <code>companyManager</code> inside <code>applicationContext.xml</code>? I already have one with same id as shown in my post."}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690933261,"creation_date":1690933261,"question_id":76815790,"body_markdown":"I&#39;m trying to use `CompanyManager` interface inside an `Order` class as follows:\r\n\r\n\r\n    public class Order extends OrderBase implements CompanySummary, CompanyItem, Serializable {\r\n    private CompanyManager compLocMgr;\r\n    \t\r\n    \tpublic void setCompanyManager(CompanyManager companyLocationManager) {\r\n    \t\tthis.compLocMgr = companyLocationManager;\r\n    \t}  \r\n    \t\r\n    \tpublic String getCompanyDisplay() {\r\n    \r\n    \t\tString result = &quot;&quot;;\r\n    \t\tif (companyHandler != null) {\r\n    \t\t\tresult = companyHandler.getAttribute(CompanyHandler.COMPANY_LOCATION);\r\n    \t\t\tSampleLocation captureList = compLocMgr.getCompany(Integer.parseInt(result));\r\n    \t\t\tSystem.out.println(captureList);\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t} \r\n    \r\n    }\r\n\r\nAnd I keep getting following error:\r\n\r\n    [INFO] [talledLocalContainer] ERROR - CompanyAdminController.renderErrorPage(88) | 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\r\n    [INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\r\n    [INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\r\n     \r\n\r\nI have a bean defined in `applicationContext.xml` as folows:\r\n\r\n    &lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;\r\n    \t&lt;property name=&quot;target&quot;&gt;\r\n    \t&lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\r\n    \t   &lt;property name=&quot;companyDAO&quot;&gt;\r\n    \t      &lt;ref bean=&quot;companyDAO&quot; /&gt;\r\n    \t    &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhenever I&#39;ve had to use the same thing in a Spring Controller class, I have always got it working by definining the following inside `companyadmin-servlet.xml` and defining the setter in the same manner as I did in `Order` class above.\r\n\r\nFor example:\r\n\r\n    &lt;bean id=&quot;companyCreateNewLocationController&quot;\r\n    class=&quot;com.pending.web.controller.CompanyCreateNewLocationController&quot;&gt;\r\n    \t&lt;property name=&quot;companyManager&quot;&gt;\r\n         \t&lt;ref bean=&quot;companyManager&quot; /&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nBut this is the first time I&#39;m trying to use it in a class without any controller (in the Order class) above and running into this problem. Any idea what I&#39;m missing?\r\n\r\n\r\n\r\nHere&#39;s my `Company` class inside `com.pending.model`:\r\n\r\n    public class Company{\r\n         \r\n             \r\n            private Integer id;\r\n            private String name;\r\n            private String comment;\r\n            public Integer getId() {\r\n                return id;\r\n            }\r\n            public void setId(Integer id) {\r\n                this.id = id;\r\n            }\r\n            public String getName() {\r\n                return name;\r\n            }\r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n            public String getComment() {\r\n                return comment;\r\n            }\r\n            public void setComment(String comment) {\r\n                this.comment = comment;\r\n            }\r\n     \r\n             \r\n    }\r\n\r\n`CompanyManager` interface inside `com.pending.service` is as follows:\r\n\r\n    public interface CompanyManager {\r\n        public void setCompanyDAO(CompanyDAO dao);\r\n        public Company getCompany(Integer id);  \r\n        public void saveCompany(Company company);\r\n     \r\n    }\r\n\r\n`CompanyManagerImpl` in `com.pending.service.impl`\t\r\n\r\n    public class CompanyManagerImpl implements CompanyManager {\r\n        private CompanyDAO dao;\r\n     \r\n        public void setCompanyDAO(CompanyDAO dao) {\r\n            this.dao = dao;\r\n     \r\n        }\r\n     \r\n        public void saveCompany(Company company) {\r\n            dao.saveCompany(company);\r\n     \r\n        }\r\n     \r\n        public Company getCompany(Integer id) {\r\n     \r\n            return dao.getCompany(id);\r\n        }\r\n     \r\n    }\r\n\r\n`CompanyDAO` inside `com.pending.dao`\r\n\r\n\r\n    public interface CompanyDAO {\r\n     \r\n        public Company getCompany(Integer id);\r\n        public Company saveCompany(Company company);\r\n     \r\n    }\r\n\r\n`CompanyDaoHibernate` in `com.pending.dao.hibernate`\r\n\r\n    public class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {\r\n     \r\n        @Override\r\n        public Company saveCompany(Company company) {\r\n            getHibernateTemplate().saveOrUpdate(company);\r\n     \r\n            if (logger.isDebugEnabled()) {\r\n                logger.debug(&quot;Company id is: &quot; + company.getId());\r\n            }\r\n            return company;\r\n        }\r\n     \r\n        @Override\r\n        public Company getCompany(Integer id) {\r\n            Company company = (Company) getHibernateTemplate().get(Company.class, id);\r\n            if (company == null) {\r\n                throw new ObjectRetrievalFailureException(Company.class, id);\r\n            }\r\n            return company;\r\n        }\r\n    \t\r\n    \t\r\nAnd my `Company.hbm.xml` looks ike following:\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n       &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n       &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n       &lt;hibernate-mapping&gt;\r\n       &lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\r\n       &lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\r\n       &lt;generator class=&quot;native&quot; /&gt;\r\n       &lt;/id&gt;\r\n       &lt;property name=&quot;name&quot; /&gt;\r\n       &lt;property name=&quot;comment&quot; /&gt;\r\n       &lt;/class&gt;\r\n       &lt;/hibernate-mapping&gt;    \t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Trying to use hibernate bean outside controller (in a class) and running into invoking related issue","body":"<p>I'm trying to use <code>CompanyManager</code> interface inside an <code>Order</code> class as follows:</p>\n<pre><code>public class Order extends OrderBase implements CompanySummary, CompanyItem, Serializable {\nprivate CompanyManager compLocMgr;\n    \n    public void setCompanyManager(CompanyManager companyLocationManager) {\n        this.compLocMgr = companyLocationManager;\n    }  \n    \n    public String getCompanyDisplay() {\n\n        String result = &quot;&quot;;\n        if (companyHandler != null) {\n            result = companyHandler.getAttribute(CompanyHandler.COMPANY_LOCATION);\n            SampleLocation captureList = compLocMgr.getCompany(Integer.parseInt(result));\n            System.out.println(captureList);\n        }\n        return result;\n    } \n\n}\n</code></pre>\n<p>And I keep getting following error:</p>\n<pre><code>[INFO] [talledLocalContainer] ERROR - CompanyAdminController.renderErrorPage(88) | 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\n[INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\n[INFO] [talledLocalContainer] [2023-08-01 13:34:37,410] ERROR com.pending.web.controller.CompanyAdminController 500 Internal Server Error - COMPANY ADMIN - URL: /companyadmin/casesearch.html Error: Cannot invoke &quot;com.pending.service.CompanyManager.getCompany(java.lang.Integer)&quot; because &quot;this.compLocMgr&quot; is null\n \n</code></pre>\n<p>I have a bean defined in <code>applicationContext.xml</code> as folows:</p>\n<pre><code>&lt;bean id=&quot;companyManager&quot; parent=&quot;txProxyTemplateMYDB&quot;&gt;\n    &lt;property name=&quot;target&quot;&gt;\n    &lt;bean class=&quot;com.pending.service.impl.CompanyManagerImpl&quot;&gt;\n       &lt;property name=&quot;companyDAO&quot;&gt;\n          &lt;ref bean=&quot;companyDAO&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Whenever I've had to use the same thing in a Spring Controller class, I have always got it working by definining the following inside <code>companyadmin-servlet.xml</code> and defining the setter in the same manner as I did in <code>Order</code> class above.</p>\n<p>For example:</p>\n<pre><code>&lt;bean id=&quot;companyCreateNewLocationController&quot;\nclass=&quot;com.pending.web.controller.CompanyCreateNewLocationController&quot;&gt;\n    &lt;property name=&quot;companyManager&quot;&gt;\n        &lt;ref bean=&quot;companyManager&quot; /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>But this is the first time I'm trying to use it in a class without any controller (in the Order class) above and running into this problem. Any idea what I'm missing?</p>\n<p>Here's my <code>Company</code> class inside <code>com.pending.model</code>:</p>\n<pre><code>public class Company{\n     \n         \n        private Integer id;\n        private String name;\n        private String comment;\n        public Integer getId() {\n            return id;\n        }\n        public void setId(Integer id) {\n            this.id = id;\n        }\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public String getComment() {\n            return comment;\n        }\n        public void setComment(String comment) {\n            this.comment = comment;\n        }\n \n         \n}\n</code></pre>\n<p><code>CompanyManager</code> interface inside <code>com.pending.service</code> is as follows:</p>\n<pre><code>public interface CompanyManager {\n    public void setCompanyDAO(CompanyDAO dao);\n    public Company getCompany(Integer id);  \n    public void saveCompany(Company company);\n \n}\n</code></pre>\n<p><code>CompanyManagerImpl</code> in <code>com.pending.service.impl</code></p>\n<pre><code>public class CompanyManagerImpl implements CompanyManager {\n    private CompanyDAO dao;\n \n    public void setCompanyDAO(CompanyDAO dao) {\n        this.dao = dao;\n \n    }\n \n    public void saveCompany(Company company) {\n        dao.saveCompany(company);\n \n    }\n \n    public Company getCompany(Integer id) {\n \n        return dao.getCompany(id);\n    }\n \n}\n</code></pre>\n<p><code>CompanyDAO</code> inside <code>com.pending.dao</code></p>\n<pre><code>public interface CompanyDAO {\n \n    public Company getCompany(Integer id);\n    public Company saveCompany(Company company);\n \n}\n</code></pre>\n<p><code>CompanyDaoHibernate</code> in <code>com.pending.dao.hibernate</code></p>\n<pre><code>public class CompanyDAOHibernate extends HibernateDaoSupport implements CompanyDAO {\n \n    @Override\n    public Company saveCompany(Company company) {\n        getHibernateTemplate().saveOrUpdate(company);\n \n        if (logger.isDebugEnabled()) {\n            logger.debug(&quot;Company id is: &quot; + company.getId());\n        }\n        return company;\n    }\n \n    @Override\n    public Company getCompany(Integer id) {\n        Company company = (Company) getHibernateTemplate().get(Company.class, id);\n        if (company == null) {\n            throw new ObjectRetrievalFailureException(Company.class, id);\n        }\n        return company;\n    }\n    \n    \n</code></pre>\n<p>And my <code>Company.hbm.xml</code> looks ike following:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n   &lt;!DOCTYPE hibernate-mapping PUBLIC\n   &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n   &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n   &lt;hibernate-mapping&gt;\n   &lt;class name=&quot;com.pending.model.Company&quot; table=&quot;company&quot;&gt;\n   &lt;id name=&quot;id&quot; column=&quot;id&quot; unsaved-value=&quot;null&quot;&gt;\n   &lt;generator class=&quot;native&quot; /&gt;\n   &lt;/id&gt;\n   &lt;property name=&quot;name&quot; /&gt;\n   &lt;property name=&quot;comment&quot; /&gt;\n   &lt;/class&gt;\n   &lt;/hibernate-mapping&gt;     \n</code></pre>\n"},{"tags":["java","if-statement","conditional-statements"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690932317,"creation_date":1690931515,"answer_id":76815686,"question_id":76812627,"body_markdown":"Assuming you don&#39;t want to use compound logical expressions `(using &amp;&amp; or ||)` you need one more apparently redundant ternary operator to finish the expression. That would be the last one, checking for `nextValue != null` when you already know it isn&#39;t null. This permits returning a valid `sum` or `null if both are null`\r\n```\r\npublic Long process2(Long aggValue, Long nextValue) {\r\n    return (aggValue == null) ? nextValue\r\n            : nextValue == null ? aggValue\r\n                    : nextValue != null ? aggValue + nextValue : null;\r\n}\r\n```\r\nBut I would stick with the first method with minor changes. Since you are doing explicit returns just get rid of the `else if` and keep the return statements. The following seems rather straightforward to me.\r\n```\r\npublic Long process1(Long aggValue, Long nextValue) {\r\n    if (aggValue == null) {\r\n         return nextValue; // returns nextValue or null\r\n    }\r\n    if (nextValue == null) {\r\n         return aggValue; // returns aggValue or null\r\n    }\r\n    // At this point, neither value is null\r\n     return aggValue + nextValue; // return the sum.\r\n }","title":"Different conditional behaviour between standard and tenary operators when working with nulls","body":"<p>Assuming you don't want to use compound logical expressions <code>(using &amp;&amp; or ||)</code> you need one more apparently redundant ternary operator to finish the expression. That would be the last one, checking for <code>nextValue != null</code> when you already know it isn't null. This permits returning a valid <code>sum</code> or <code>null if both are null</code></p>\n<pre><code>public Long process2(Long aggValue, Long nextValue) {\n    return (aggValue == null) ? nextValue\n            : nextValue == null ? aggValue\n                    : nextValue != null ? aggValue + nextValue : null;\n}\n</code></pre>\n<p>But I would stick with the first method with minor changes. Since you are doing explicit returns just get rid of the <code>else if</code> and keep the return statements. The following seems rather straightforward to me.</p>\n<pre><code>public Long process1(Long aggValue, Long nextValue) {\n    if (aggValue == null) {\n         return nextValue; // returns nextValue or null\n    }\n    if (nextValue == null) {\n         return aggValue; // returns aggValue or null\n    }\n    // At this point, neither value is null\n     return aggValue + nextValue; // return the sum.\n }\n</code></pre>\n"}],"owner":{"account_id":29137288,"reputation":1,"user_id":22321168,"display_name":"rafaon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690932317,"creation_date":1690899826,"question_id":76812627,"body_markdown":"I have two almost identically looking conditionals, but they behave in different way and I can&#39;t explain why. Can any one tell me why is that happening?\r\n\r\n```java\r\n@Test\r\npublic void testMethod() {\r\n    Long aggValue = null;\r\n    Long nextValue = null;\r\n\r\n    System.out.println(process1(aggValue, nextValue));\r\n    System.out.println(process2(aggValue, nextValue));\r\n}\r\n\r\npublic Long process1(Long aggValue, Long nextValue) {\r\n    if (aggValue == null) {\r\n        return nextValue;\r\n    } else {\r\n        if (nextValue == null) {\r\n            return aggValue;\r\n        }\r\n    }\r\n    return aggValue + nextValue;\r\n}\r\n\r\npublic Long process2(Long aggValue, Long nextValue) {\r\n    return aggValue == null ? nextValue : nextValue == null ? aggValue : aggValue + nextValue;\r\n}\r\n```\r\n\r\nResult:\r\n```none\r\nnull\r\njava.lang.NullPointerException\r\n```\r\n\r\nI expected both methods to just return null, but the second one returns NPE. Debugger on process2 method is expecting this and already showing NPE near nextValue (true part of first conditional).\r\n","title":"Different conditional behaviour between standard and tenary operators when working with nulls","body":"<p>I have two almost identically looking conditionals, but they behave in different way and I can't explain why. Can any one tell me why is that happening?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testMethod() {\n    Long aggValue = null;\n    Long nextValue = null;\n\n    System.out.println(process1(aggValue, nextValue));\n    System.out.println(process2(aggValue, nextValue));\n}\n\npublic Long process1(Long aggValue, Long nextValue) {\n    if (aggValue == null) {\n        return nextValue;\n    } else {\n        if (nextValue == null) {\n            return aggValue;\n        }\n    }\n    return aggValue + nextValue;\n}\n\npublic Long process2(Long aggValue, Long nextValue) {\n    return aggValue == null ? nextValue : nextValue == null ? aggValue : aggValue + nextValue;\n}\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>null\njava.lang.NullPointerException\n</code></pre>\n<p>I expected both methods to just return null, but the second one returns NPE. Debugger on process2 method is expecting this and already showing NPE near nextValue (true part of first conditional).</p>\n"},{"tags":["java","android","file","file-io"],"comments":[{"owner":{"account_id":3798214,"reputation":3487,"user_id":3152527,"accept_rate":100,"display_name":"DnR"},"score":0,"creation_date":1402035784,"post_id":24075352,"comment_id":37127100,"body_markdown":"wow what phone that has a USB port??","body":"wow what phone that has a USB port??"},{"owner":{"display_name":"user818700"},"score":0,"creation_date":1402035836,"post_id":24075352,"comment_id":37127121,"body_markdown":"haha I&#39;ll update my question with a pic of the cable I&#39;m using.","body":"haha I&#39;ll update my question with a pic of the cable I&#39;m using."},{"owner":{"account_id":3798214,"reputation":3487,"user_id":3152527,"accept_rate":100,"display_name":"DnR"},"score":0,"creation_date":1402036530,"post_id":24075352,"comment_id":37127431,"body_markdown":"Ahh I see. I thought there is a _Female_ USB Port on the phone that can directly plugged without cable -_-","body":"Ahh I see. I thought there is a <i>Female</i> USB Port on the phone that can directly plugged without cable -_-"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":3,"creation_date":1402036530,"post_id":24075352,"comment_id":37127432,"body_markdown":"You have to use a file explorer app on your device to find out. Look in /mnt and /storage to find the exact path.","body":"You have to use a file explorer app on your device to find out. Look in /mnt and /storage to find the exact path."},{"owner":{"display_name":"user818700"},"score":0,"creation_date":1402036854,"post_id":24075352,"comment_id":37127554,"body_markdown":"Found that it&#39;s located at /storage/UsbDriveA/ . Still in the code what function do you use where you&#39;ll post this path as a param?","body":"Found that it&#39;s located at /storage/UsbDriveA/ . Still in the code what function do you use where you&#39;ll post this path as a param?"},{"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"score":3,"creation_date":1402037098,"post_id":24075352,"comment_id":37127650,"body_markdown":"Android API guide for [USB Host](http://developer.android.com/guide/topics/connectivity/usb/host.html) should give you all the information that is needed.","body":"Android API guide for <a href=\"http://developer.android.com/guide/topics/connectivity/usb/host.html\" rel=\"nofollow noreferrer\">USB Host</a> should give you all the information that is needed."},{"owner":{"account_id":2783393,"reputation":167,"user_id":2395434,"accept_rate":0,"display_name":"ChrisVollo"},"score":0,"creation_date":1418255003,"post_id":24075352,"comment_id":43270173,"body_markdown":"@DeanGrobler, were you able to get this to work?","body":"@DeanGrobler, were you able to get this to work?"},{"owner":{"account_id":410924,"reputation":1624,"user_id":783051,"display_name":"Peter Tran"},"score":0,"creation_date":1466117903,"post_id":24075352,"comment_id":63198052,"body_markdown":"Possible duplicate of [Android detect usb storage for kitkat (4.4)](http://stackoverflow.com/questions/36208297/android-detect-usb-storage-for-kitkat-4-4).  There I posted solutions for pre-6.0 and 6.0/above.","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/36208297/android-detect-usb-storage-for-kitkat-4-4\">Android detect usb storage for kitkat (4.4)</a>.  There I posted solutions for pre-6.0 and 6.0/above."}],"answers":[{"comments":[{"owner":{"account_id":75005,"reputation":14167,"user_id":215266,"accept_rate":78,"display_name":"satur9nine"},"score":6,"creation_date":1423944748,"post_id":24099213,"comment_id":45356472,"body_markdown":"On my phone the path is `/storage/usbdisk/`","body":"On my phone the path is <code>&#47;storage&#47;usbdisk&#47;</code>"}],"tags":[],"owner":{"account_id":4059136,"reputation":93,"user_id":3336142,"display_name":"ballesta25"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402158174,"creation_date":1402158174,"answer_id":24099213,"question_id":24075352,"body_markdown":"I can&#39;t test this, not having such a cable myself, but my assumption would be that you can pass your filepath directly into the constructor which would look like:\r\n\r\n    File directory  = new File(&quot;/storage/UsbDriveA/&quot;);\r\n\r\nHave you tried this?","title":"Get access to USB mass storage device in android","body":"<p>I can't test this, not having such a cable myself, but my assumption would be that you can pass your filepath directly into the constructor which would look like:</p>\n\n<pre><code>File directory  = new File(\"/storage/UsbDriveA/\");\n</code></pre>\n\n<p>Have you tried this?</p>\n"},{"comments":[{"owner":{"account_id":1905331,"reputation":2889,"user_id":1720332,"accept_rate":44,"display_name":"JBA"},"score":0,"creation_date":1424676520,"post_id":28652419,"comment_id":45631675,"body_markdown":"I can see that some are saying their usb flash drive is accessible thru usbdisk path and not UsbDriveA : if you want to cover all cases you can test both : if with /storage/UsbDriveA/ your usbManager is still null, then try with /storage/usbdisk/ etc... (and maybe a few others if you can find a list of different paths, although there shouldn&#39;t be a huge number of different paths here)","body":"I can see that some are saying their usb flash drive is accessible thru usbdisk path and not UsbDriveA : if you want to cover all cases you can test both : if with /storage/UsbDriveA/ your usbManager is still null, then try with /storage/usbdisk/ etc... (and maybe a few others if you can find a list of different paths, although there shouldn&#39;t be a huge number of different paths here)"}],"tags":[],"owner":{"account_id":1905331,"reputation":2889,"user_id":1720332,"accept_rate":44,"display_name":"JBA"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1690932069,"creation_date":1424559743,"answer_id":28652419,"question_id":24075352,"body_markdown":"In this example I am using the FileUtils from Apache, but even without it you will see the logic used to read a USB Flash drive: \r\n\r\n    private UsbManager usbManager;\r\n\tprivate UsbDevice clef;\r\n    ArrayList&lt;File&gt; images;\r\n\r\n    usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    clef = null;\r\n\t\t\r\n\tif (usbManager != null)\r\n\t{\r\n\t\tHashMap&lt;String,UsbDevice&gt; deviceList = usbManager.getDeviceList();\r\n\t\tif (deviceList != null)\r\n\t\t{\r\n\t\t\tIterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n\t\t\twhile (deviceIterator.hasNext()) {\r\n\t\t\t\tclef = deviceIterator.next();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (clef != null)\r\n\t{\r\n\t\tFile directory  = new File(&quot;/storage/UsbDriveA/&quot;);\r\n\t\tif (directory != null) {\r\n\t\t\tif (directory.canRead()) {\r\n\t\t\t\t\t\r\n\t\t\t\timages = new ArrayList&lt;File&gt;();\r\n\t\t\t\tString[] imageExtensions = {&quot;jpg&quot;,&quot;jpeg&quot;,&quot;png&quot;,&quot;gif&quot;,&quot;JPG&quot;,&quot;JPEG&quot;,&quot;PNG&quot;,&quot;GIF&quot;};\r\n\t\t\t\tIterator&lt;File&gt; iterateImages = FileUtils.iterateFiles(directory, imageExtensions, true);\r\n\t\t\t\twhile (iterateImages.hasNext()) {\r\n\t\t\t\t\tFile theImage = iterateImages.next();\r\n\t\t\t\t\tif (!theImage.getName().startsWith(&quot;.&quot;, 0))\r\n\t\t\t\t\t\timages.add(theImage);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n                // custom process / methods... not very relevant here :\t\r\n\t\t\t\timageIndex = 0;\r\n\t\t\t\tscale = 1.0f;\r\n\t\t\t\tcountImgs = images.size();\r\n\t\t\t\tloadImage(imageIndex);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIn my manifest I have those lines, although I&#39;m not sure they&#39;re all mandatory...\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;","title":"Get access to USB mass storage device in android","body":"<p>In this example I am using the FileUtils from Apache, but even without it you will see the logic used to read a USB Flash drive:</p>\n<pre><code>private UsbManager usbManager;\nprivate UsbDevice clef;\nArrayList&lt;File&gt; images;\n\nusbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\nclef = null;\n    \nif (usbManager != null)\n{\n    HashMap&lt;String,UsbDevice&gt; deviceList = usbManager.getDeviceList();\n    if (deviceList != null)\n    {\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while (deviceIterator.hasNext()) {\n            clef = deviceIterator.next();\n        }\n    }\n}\n\nif (clef != null)\n{\n    File directory  = new File(&quot;/storage/UsbDriveA/&quot;);\n    if (directory != null) {\n        if (directory.canRead()) {\n                \n            images = new ArrayList&lt;File&gt;();\n            String[] imageExtensions = {&quot;jpg&quot;,&quot;jpeg&quot;,&quot;png&quot;,&quot;gif&quot;,&quot;JPG&quot;,&quot;JPEG&quot;,&quot;PNG&quot;,&quot;GIF&quot;};\n            Iterator&lt;File&gt; iterateImages = FileUtils.iterateFiles(directory, imageExtensions, true);\n            while (iterateImages.hasNext()) {\n                File theImage = iterateImages.next();\n                if (!theImage.getName().startsWith(&quot;.&quot;, 0))\n                    images.add(theImage);\n            }\n            \n            // custom process / methods... not very relevant here : \n            imageIndex = 0;\n            scale = 1.0f;\n            countImgs = images.size();\n            loadImage(imageIndex);\n        }\n    }\n}\n</code></pre>\n<p>In my manifest I have those lines, although I'm not sure they're all mandatory...</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\n</code></pre>\n"}],"owner":{"display_name":"user818700"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16606,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":28652419,"answer_count":2,"score":27,"last_activity_date":1690932069,"creation_date":1402035128,"question_id":24075352,"body_markdown":"So I have this little cable that you plug into your phone that has a USB port on the other side where you can plug in a flash drive for example, as you can see here:\r\n\r\n![enter image description here][1]\r\n\r\nWhen I plug in a flash drive I get a notification that says: \r\n\r\n&gt; USB mass storage connected\r\n\r\nWhen I then launch a file explorer app I can see that the drive is then located at:\r\n\r\n&gt; /storage/UsbDriveA/\r\n\r\nAnd that&#39;s great, but I want to know how to gain access to the flash drive in my code. Getting access to the SD card is easy enough:\r\n\r\n    File sdCard = Environment.getExternalStorageDirectory();\r\n    File directory = new File (sdCard.getAbsolutePath() + &quot;/MyFiles&quot;)\r\n    directory.mkdirs();\r\n\r\nBut how would you do this in the case of the flash drive? Thanks in advance! :)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mwOGl.jpg","title":"Get access to USB mass storage device in android","body":"<p>So I have this little cable that you plug into your phone that has a USB port on the other side where you can plug in a flash drive for example, as you can see here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/mwOGl.jpg\" alt=\"enter image description here\"></p>\n\n<p>When I plug in a flash drive I get a notification that says: </p>\n\n<blockquote>\n  <p>USB mass storage connected</p>\n</blockquote>\n\n<p>When I then launch a file explorer app I can see that the drive is then located at:</p>\n\n<blockquote>\n  <p>/storage/UsbDriveA/</p>\n</blockquote>\n\n<p>And that's great, but I want to know how to gain access to the flash drive in my code. Getting access to the SD card is easy enough:</p>\n\n<pre><code>File sdCard = Environment.getExternalStorageDirectory();\nFile directory = new File (sdCard.getAbsolutePath() + \"/MyFiles\")\ndirectory.mkdirs();\n</code></pre>\n\n<p>But how would you do this in the case of the flash drive? Thanks in advance! :)</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1455539194,"post_id":35409346,"comment_id":58519496,"body_markdown":"where-ever you choose.","body":"where-ever you choose."},{"owner":{"account_id":7466919,"reputation":21,"user_id":5676118,"display_name":"robotsruin"},"score":0,"creation_date":1455539598,"post_id":35409346,"comment_id":58519748,"body_markdown":"Thanks @Stultuske. I placed the file in what I thought was the appropriate place and my program throws an exception.","body":"Thanks @Stultuske. I placed the file in what I thought was the appropriate place and my program throws an exception."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1455539669,"post_id":35409346,"comment_id":58519790,"body_markdown":"there is no &quot;appropriate&quot; place, there is the place you decide on. anyway, run: File f = new File(&quot;myText.txt&quot;); and print the path of that file out, it should tell you what you need","body":"there is no &quot;appropriate&quot; place, there is the place you decide on. anyway, run: File f = new File(&quot;myText.txt&quot;); and print the path of that file out, it should tell you what you need"}],"answers":[{"comments":[{"owner":{"account_id":7466919,"reputation":21,"user_id":5676118,"display_name":"robotsruin"},"score":0,"creation_date":1455542238,"post_id":35409645,"comment_id":58521379,"body_markdown":"thanks Scar and @Stultuske my program now works as it should. However, I was not really able to get either of your answers working properly, I guess I need to know a little more java first. I did find project locations though and copied my file in the top level of the src folder. Last time I just dragged and dropped my file into netbeans so I guess that might have been the cause of my issues. Thanks again.","body":"thanks Scar and @Stultuske my program now works as it should. However, I was not really able to get either of your answers working properly, I guess I need to know a little more java first. I did find project locations though and copied my file in the top level of the src folder. Last time I just dragged and dropped my file into netbeans so I guess that might have been the cause of my issues. Thanks again."}],"tags":[],"owner":{"account_id":3988330,"reputation":389,"user_id":3288182,"accept_rate":83,"display_name":"Scar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455539989,"creation_date":1455539989,"answer_id":35409645,"question_id":35409346,"body_markdown":"Just as @Stultuske said, you can place your text file anywhere. You can even dedicate a folder for future text files. You just have to know it&#39;s specific directory / location so that the &quot;program&quot; will know where to find those files needed. \r\n\r\nLook at this [answer][1] for file directories references\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3657157/how-do-i-get-a-files-directory-using-the-file-object","title":"Where should I place a text file for netbeans to read?","body":"<p>Just as @Stultuske said, you can place your text file anywhere. You can even dedicate a folder for future text files. You just have to know it's specific directory / location so that the \"program\" will know where to find those files needed. </p>\n\n<p>Look at this <a href=\"https://stackoverflow.com/questions/3657157/how-do-i-get-a-files-directory-using-the-file-object\">answer</a> for file directories references</p>\n"},{"tags":[],"owner":{"display_name":"user2575725"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1455541451,"creation_date":1455541451,"answer_id":35410106,"question_id":35409346,"body_markdown":"You need to move the file `icecream.txt` into the netbeans project. For e.g.\r\n\r\n    IceCreamSales (Project)\r\n      |\r\n      +--icecream.txt\r\n      |\r\n      +--src\r\n          |\r\n          +--icecreamsales\r\n                |\r\n                +--IceCreamSales.java","title":"Where should I place a text file for netbeans to read?","body":"<p>You need to move the file <code>icecream.txt</code> into the netbeans project. For e.g.</p>\n\n<pre><code>IceCreamSales (Project)\n  |\n  +--icecream.txt\n  |\n  +--src\n      |\n      +--icecreamsales\n            |\n            +--IceCreamSales.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29140013,"reputation":1,"user_id":22323234,"display_name":"Muhammed Guroglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690929469,"creation_date":1690929469,"answer_id":76815581,"question_id":35409346,"body_markdown":"How to use Text Files Appropriately\r\n===================================\r\nFirst make a text file INSIDE Windows Explorer, make sure it&#39;s not in the package (NOT inside NetBeans).\r\nThe IDE I used was NetBeans.\r\nThe &#39;class name&#39; and package must be named EXACTLY the same.\r\nIf the class name isn&#39;t the same with package name it&#39;ll NOT work.\r\nName package before using, and &#39;refactor&#39; after right-clicking on package.\r\n\r\nReadfile = where the input is being received and returned.\r\nWritefile = where the output is being returned and received.\r\n\r\n    package Project;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    public class Project {\r\n    \r\n        public static void main(String[] args) {\r\n            String newReader = &quot;read.txt&quot;;\r\n            String newWriter = &quot;write.txt&quot;;\r\n            try {             \r\n                FileReader reader = new FileReader(newReader);\r\n                BufferedReader in = new BufferedReader(reader);\r\n                FileWriter writer = new FileWriter(newWriter);\r\n                PrintWriter out = new PrintWriter(writer);\r\n                String line = null;\r\n                int numLines = 0;\r\n                while ((line = in.readLine()) != null) {\r\n                    out.println(line.toUpperCase());\r\n                    ++numLines;\r\n                }\r\n                in.close();\r\n                out.close();\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;ERROR!&quot; + e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nC:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject \r\n\r\nMake sure it&#39;s under the DadsProject (folder name), or under the folder of the name of the project you&#39;re working on.\r\n\r\nC:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\read * &#39;read&#39; is the text file in this example\r\n\r\nThe file &quot;read&quot; is a text file make sure it has NO &quot;.txt&quot; attached as such when it&#39;s in &#39;WindowsExplorer&#39;. \r\nYou do NOT need the text file to be in &#39;NetBeans&#39; just in &#39;WindowsExplorer&#39; and that&#39;ll suffice. \r\nMake sure it&#39;s under &#39;DadsProject&#39; and above &#39;src&#39; (literally inside &#39;DadsProject&#39; like so).\r\n\r\nC:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\src\r\n\r\nMake sure it&#39;s above &#39;src&#39; under &#39;DadsProject&#39;\r\n\r\nMake sure the file is .txt when it&#39;s in your code. \r\nFor example: \r\n\r\nString reader = &quot;read.txt&quot;; must have .txt or else it won&#39;t work\r\n\r\nFor example:\r\nYes, to this =&gt; read (this is a text file)\r\nNo, to this =&gt; read.txt (this is also a different text file)\r\nWARNING!!! \r\nread (text file) and read.txt (text file). \r\nThey&#39;re NOT the same type of &#39;text file&#39;.","title":"Where should I place a text file for netbeans to read?","body":"<h1>How to use Text Files Appropriately</h1>\n<p>First make a text file INSIDE Windows Explorer, make sure it's not in the package (NOT inside NetBeans).\nThe IDE I used was NetBeans.\nThe 'class name' and package must be named EXACTLY the same.\nIf the class name isn't the same with package name it'll NOT work.\nName package before using, and 'refactor' after right-clicking on package.</p>\n<p>Readfile = where the input is being received and returned.\nWritefile = where the output is being returned and received.</p>\n<pre><code>package Project;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\npublic class Project {\n\n    public static void main(String[] args) {\n        String newReader = &quot;read.txt&quot;;\n        String newWriter = &quot;write.txt&quot;;\n        try {             \n            FileReader reader = new FileReader(newReader);\n            BufferedReader in = new BufferedReader(reader);\n            FileWriter writer = new FileWriter(newWriter);\n            PrintWriter out = new PrintWriter(writer);\n            String line = null;\n            int numLines = 0;\n            while ((line = in.readLine()) != null) {\n                out.println(line.toUpperCase());\n                ++numLines;\n            }\n            in.close();\n            out.close();\n        } catch (IOException e) {\n            System.out.println(&quot;ERROR!&quot; + e);\n        }\n    }\n}\n</code></pre>\n<p>C:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject</p>\n<p>Make sure it's under the DadsProject (folder name), or under the folder of the name of the project you're working on.</p>\n<p>C:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\read * 'read' is the text file in this example</p>\n<p>The file &quot;read&quot; is a text file make sure it has NO &quot;.txt&quot; attached as such when it's in 'WindowsExplorer'.\nYou do NOT need the text file to be in 'NetBeans' just in 'WindowsExplorer' and that'll suffice.\nMake sure it's under 'DadsProject' and above 'src' (literally inside 'DadsProject' like so).</p>\n<p>C:\\Users\\abdul\\OneDrive\\Documents\\NetBeansProjects\\DadsProject\\src</p>\n<p>Make sure it's above 'src' under 'DadsProject'</p>\n<p>Make sure the file is .txt when it's in your code.\nFor example:</p>\n<p>String reader = &quot;read.txt&quot;; must have .txt or else it won't work</p>\n<p>For example:\nYes, to this =&gt; read (this is a text file)\nNo, to this =&gt; read.txt (this is also a different text file)\nWARNING!!!\nread (text file) and read.txt (text file).\nThey're NOT the same type of 'text file'.</p>\n"}],"owner":{"account_id":7466919,"reputation":21,"user_id":5676118,"display_name":"robotsruin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11641,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35410106,"answer_count":3,"score":2,"last_activity_date":1690929469,"creation_date":1455539123,"question_id":35409346,"body_markdown":" I am new to java but I have looked for an answer but unfortunately haven&#39;t found one specific to my situation. I&#39;d like to know where to place my file &quot;icecream.txt&quot; so that netbeans can read it. My programs works if I code the absolute the path but I&#39;d prefer not to do that as it needs to run on the other student&#39;s computers without changes. I have attached an image of where I have placed my file. Any help would be appreciated.\r\n[neatbeans file folders][1]\r\n\r\nMy code is bellow if that helps\r\n\r\n\r\n    package icecreamsales;\r\n    /**\r\n     *\r\n     * @author anonymous\r\n     */\r\n    public class IceCreamSales {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n        public static void main(String[] args) {\r\n        \r\n            try {\r\n                 TextIO.readFile(&quot;icecream.txt&quot;);\r\n            }\r\n            catch (IllegalArgumentException e) {\r\n                System.out.println(&quot;Can&#39;t open file \\&quot;icecream.txt\\&quot; for reading!&quot;);\r\n                System.out.println(&quot;Please make sure the file is present before&quot;);\r\n                System.out.println(&quot;running the program.&quot;);\r\n                System.exit(1);  // Terminates the program.\r\n        }\r\n        \r\n            int totalIceCreamSales = 0;\r\n            int strawberryIceCreamSales = 0;\r\n            \r\n            while (!TextIO.eof()) {\r\n                String readLines = TextIO.getln();\r\n                totalIceCreamSales++;\r\n             \r\n                if (readLines.equals(&quot;Strawberry&quot;)) {\r\n                     strawberryIceCreamSales++;\r\n                }\r\n            }\r\n            System.out.println(&quot;Icecream cone sales totalled &quot; + totalIceCreamSales);\r\n            System.out.println(&quot;Strawberry icecream sales totalled &quot; + strawberryIceCreamSales);\r\n            System.out.println(&quot;Strawberry icecream is &quot; + ((double) strawberryIceCreamSales/totalIceCreamSales*100) + &quot;%%&quot; + &quot; of total sales&quot;);\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PsuT6.png","title":"Where should I place a text file for netbeans to read?","body":"<p>I am new to java but I have looked for an answer but unfortunately haven't found one specific to my situation. I'd like to know where to place my file \"icecream.txt\" so that netbeans can read it. My programs works if I code the absolute the path but I'd prefer not to do that as it needs to run on the other student's computers without changes. I have attached an image of where I have placed my file. Any help would be appreciated.\n<a href=\"https://i.stack.imgur.com/PsuT6.png\" rel=\"nofollow\">neatbeans file folders</a></p>\n\n<p>My code is bellow if that helps</p>\n\n<pre><code>package icecreamsales;\n/**\n *\n * @author anonymous\n */\npublic class IceCreamSales {\n\n/**\n * @param args the command line arguments\n */\n    public static void main(String[] args) {\n\n        try {\n             TextIO.readFile(\"icecream.txt\");\n        }\n        catch (IllegalArgumentException e) {\n            System.out.println(\"Can't open file \\\"icecream.txt\\\" for reading!\");\n            System.out.println(\"Please make sure the file is present before\");\n            System.out.println(\"running the program.\");\n            System.exit(1);  // Terminates the program.\n    }\n\n        int totalIceCreamSales = 0;\n        int strawberryIceCreamSales = 0;\n\n        while (!TextIO.eof()) {\n            String readLines = TextIO.getln();\n            totalIceCreamSales++;\n\n            if (readLines.equals(\"Strawberry\")) {\n                 strawberryIceCreamSales++;\n            }\n        }\n        System.out.println(\"Icecream cone sales totalled \" + totalIceCreamSales);\n        System.out.println(\"Strawberry icecream sales totalled \" + strawberryIceCreamSales);\n        System.out.println(\"Strawberry icecream is \" + ((double) strawberryIceCreamSales/totalIceCreamSales*100) + \"%%\" + \" of total sales\");\n   }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":1,"creation_date":1584544493,"post_id":60738508,"comment_id":107470211,"body_markdown":"Why would you do that?","body":"Why would you do that?"}],"answers":[{"tags":[],"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584533058,"creation_date":1584533058,"answer_id":60739194,"question_id":60738508,"body_markdown":"You can use java.util.Collections.singletonList.\r\n\r\nAnd your code can be so:\r\n\r\n    WebElement element = driver.findelement(By.cssSelector(&quot;div#name&quot;));\r\n    List&lt;WebElement&gt; elements = java.util.Collections.singletonList(element );","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>You can use java.util.Collections.singletonList.</p>\n\n<p>And your code can be so:</p>\n\n<pre><code>WebElement element = driver.findelement(By.cssSelector(\"div#name\"));\nList&lt;WebElement&gt; elements = java.util.Collections.singletonList(element );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6001803,"reputation":13732,"user_id":4714829,"display_name":"supputuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584840687,"creation_date":1584536559,"answer_id":60740185,"question_id":60738508,"body_markdown":"Just change the line to below, where we are using `.findElements()` which will return a list of elements rather than `.findElement()`.\r\n\r\n\r\n    List&lt;WebElement&gt; elements = driver.findelements(By.cssSelector(&quot;div#name&quot;));","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>Just change the line to below, where we are using <code>.findElements()</code> which will return a list of elements rather than <code>.findElement()</code>.</p>\n\n<pre><code>List&lt;WebElement&gt; elements = driver.findelements(By.cssSelector(\"div#name\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584539326,"creation_date":1584539326,"answer_id":60740946,"question_id":60738508,"body_markdown":"Java is a [statically typed](https://www.activestate.com/blog/python-vs-java-duck-typing-parsing-whitespace-and-other-cool-differences/), so to before putting the [WebElement](https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139) into the list, you have to create the list first and then add the _WebElement_ within the list and you can use the following solution:\r\n\r\n\tList&lt;WebElement&gt; elements = new ArrayList&lt;&gt;();\r\n\telements.add(driver.findElement(By.cssSelector(&quot;div#name&quot;)));","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>Java is a <a href=\"https://www.activestate.com/blog/python-vs-java-duck-typing-parsing-whitespace-and-other-cool-differences/\" rel=\"nofollow noreferrer\">statically typed</a>, so to before putting the <a href=\"https://stackoverflow.com/questions/52782684/what-is-the-difference-between-webdriver-and-webelement-in-selenium/52805139#52805139\">WebElement</a> into the list, you have to create the list first and then add the <em>WebElement</em> within the list and you can use the following solution:</p>\n\n<pre><code>List&lt;WebElement&gt; elements = new ArrayList&lt;&gt;();\nelements.add(driver.findElement(By.cssSelector(\"div#name\")));\n</code></pre>\n"}],"owner":{"account_id":7827476,"reputation":49,"user_id":5918576,"accept_rate":0,"display_name":"Kriez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1884,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1690929416,"creation_date":1584530709,"question_id":60738508,"body_markdown":"I have webelement\r\n``` \r\nWebElement element = driver.findelement(By.cssSelector(&quot;div#name&quot;))\r\n```\r\nI want to convert WebElement element  into list&lt;Webelement&gt;\r\n\r\nHow can i convert it into list \r\n\r\nI dont want to declare findelements again to get list. I need to reuse the webelement(element)","title":"How to convert webelement into List&lt;Webelement&gt; in java","body":"<p>I have webelement</p>\n\n<pre><code>WebElement element = driver.findelement(By.cssSelector(\"div#name\"))\n</code></pre>\n\n<p>I want to convert WebElement element  into list</p>\n\n<p>How can i convert it into list </p>\n\n<p>I dont want to declare findelements again to get list. I need to reuse the webelement(element)</p>\n"},{"tags":["java","jayway"],"answers":[{"tags":[],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690903754,"creation_date":1690903754,"answer_id":76813170,"question_id":76812902,"body_markdown":"Finally I figure out the root cause of this issue:\r\n\r\njayway jsonpath has a dependency on json-smart. \r\n\r\nIn previous version, it is on `compile` scope, but the latest version the scope is changed to `runtime`, which means package itself doesn&#39;t include this library and compiling fails.\r\n\r\n\r\nBut for unit test code, it has no package concept, so it can pass compiling.","title":"JSONParser cannot be resolved to a type when I upgrade Json-path to 2.8","body":"<p>Finally I figure out the root cause of this issue:</p>\n<p>jayway jsonpath has a dependency on json-smart.</p>\n<p>In previous version, it is on <code>compile</code> scope, but the latest version the scope is changed to <code>runtime</code>, which means package itself doesn't include this library and compiling fails.</p>\n<p>But for unit test code, it has no package concept, so it can pass compiling.</p>\n"}],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76813170,"answer_count":1,"score":0,"last_activity_date":1690928681,"creation_date":1690901777,"question_id":76812902,"body_markdown":"I have a project, which is using jayway jsonpath\r\n```\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n    \t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;   \r\n```\r\nIt works well.\r\n\r\nI tried to update it to the latest version 2.8.\r\n\r\nThen I got some weird compiling errors: \r\n`JSONParser cannot be resolved to a type`\r\n`JSONObject cannot be resolved to a type` \r\nin one Java file. While it has no problem with exact the same code in another Java file which is in test scope.\r\n\r\nI tried it in command line and got the same issue. So, it is not IDE issue.\r\nI also checked the version conflict in maven dependency and found no conflict.\r\nThis is related code:\r\n\r\n```\r\nimport net.minidev.json.JSONObject;\r\nimport net.minidev.json.parser.JSONParser;\r\nimport net.minidev.json.parser.ParseException;\r\n\r\n\r\n    public static JSONObject convertJSONStr2Obj(String jsonStr) throws FileNotFoundException, URISyntaxException, ParseException {\r\n        JSONObject expectedJson = (JSONObject)new JSONParser(JSONParser.DEFAULT_PERMISSIVE_MODE).parse(jsonStr);\r\n        return expectedJson;\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"JSONParser cannot be resolved to a type when I upgrade Json-path to 2.8","body":"<p>I have a project, which is using jayway jsonpath</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;   \n</code></pre>\n<p>It works well.</p>\n<p>I tried to update it to the latest version 2.8.</p>\n<p>Then I got some weird compiling errors:\n<code>JSONParser cannot be resolved to a type</code>\n<code>JSONObject cannot be resolved to a type</code>\nin one Java file. While it has no problem with exact the same code in another Java file which is in test scope.</p>\n<p>I tried it in command line and got the same issue. So, it is not IDE issue.\nI also checked the version conflict in maven dependency and found no conflict.\nThis is related code:</p>\n<pre><code>import net.minidev.json.JSONObject;\nimport net.minidev.json.parser.JSONParser;\nimport net.minidev.json.parser.ParseException;\n\n\n    public static JSONObject convertJSONStr2Obj(String jsonStr) throws FileNotFoundException, URISyntaxException, ParseException {\n        JSONObject expectedJson = (JSONObject)new JSONParser(JSONParser.DEFAULT_PERMISSIVE_MODE).parse(jsonStr);\n        return expectedJson;\n    }\n</code></pre>\n"},{"tags":["java","android","gradle"],"answers":[{"comments":[{"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"score":0,"creation_date":1629130852,"post_id":68805368,"comment_id":121600352,"body_markdown":"Still  the same issue","body":"Still  the same issue"}],"tags":[],"owner":{"account_id":11471197,"reputation":96,"user_id":8407972,"display_name":"Grela"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629127213,"creation_date":1629127213,"answer_id":68805368,"question_id":68805218,"body_markdown":"Probably it&#39;s happening because you are using two libs that use the same dependencies, try to add transitive = true to Jackson, as far as it seems like you are using one called jakarta that using javax.activation.\r\n\r\nWhat does transtitive do? check this post.\r\n\r\nhttps://stackoverflow.com/questions/31731014/what-does-transitive-true-in-gradle-exactly-do-w-r-t-crashlytics","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>Probably it's happening because you are using two libs that use the same dependencies, try to add transitive = true to Jackson, as far as it seems like you are using one called jakarta that using javax.activation.</p>\n<p>What does transtitive do? check this post.</p>\n<p><a href=\"https://stackoverflow.com/questions/31731014/what-does-transitive-true-in-gradle-exactly-do-w-r-t-crashlytics\">What does transitive = true in Gradle exactly do (w.r.t. crashlytics)?</a></p>\n"},{"tags":[],"owner":{"account_id":22584092,"reputation":31,"user_id":16768354,"display_name":"ASIM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660985005,"creation_date":1660985005,"answer_id":73425273,"question_id":68805218,"body_markdown":"In my case it was happening because of Safe Nav Args Dependency. So, try removing dependencies and check which one is causing issue.","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>In my case it was happening because of Safe Nav Args Dependency. So, try removing dependencies and check which one is causing issue.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691303325,"post_id":76815506,"comment_id":135471765,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76815506/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1691343468,"post_id":76815506,"comment_id":135475711,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34780231)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34780231\">From Review</a>"}],"tags":[],"owner":{"account_id":17737221,"reputation":1,"user_id":12878379,"display_name":"Joaquim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690928187,"creation_date":1690928187,"answer_id":76815506,"question_id":68805218,"body_markdown":"I was able to find the problem by commenting out id (&quot;androidx.navigation.safeargs.kotlin&quot;)","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>I was able to find the problem by commenting out id (&quot;androidx.navigation.safeargs.kotlin&quot;)</p>\n"}],"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690928187,"creation_date":1629126604,"question_id":68805218,"body_markdown":"I&#39;m getting a failed build when running the project on my phone via USB after adding the following implementation on my build.gradle file : \r\n\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.10.1&#39;\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.10.1&#39;\r\n\r\nThe build is successful without running on device though.\r\nBelow are the duplicated files on the Build output : \r\n\r\n        Duplicate class javax.activation.ActivationDataFlavor found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.CommandInfo found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.CommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.CommandObject found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataContentHandlerFactory found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataHandler$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataHandlerDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.DataSourceDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.FileDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.FileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MailcapCommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimeType found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimeTypeParameterList found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimeTypeParseException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.MimetypesFileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.ObjectDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$2 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$3 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$4 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.SecuritySupport$5 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.URLDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\r\n    Duplicate class javax.activation.UnsupportedDataTypeException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)","title":"Duplicate Classes : javax.activation... when Building Project with Gradle","body":"<p>I'm getting a failed build when running the project on my phone via USB after adding the following implementation on my build.gradle file :</p>\n<pre><code>implementation 'com.fasterxml.jackson.core:jackson-core:2.10.1'\nimplementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.10.1'\n</code></pre>\n<p>The build is successful without running on device though.\nBelow are the duplicated files on the Build output :</p>\n<pre><code>    Duplicate class javax.activation.ActivationDataFlavor found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.CommandInfo found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.CommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.CommandObject found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataContentHandlerFactory found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataHandler$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataHandlerDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.DataSourceDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.FileDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.FileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MailcapCommandMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimeType found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimeTypeParameterList found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimeTypeParseException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.MimetypesFileTypeMap found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.ObjectDataContentHandler found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$1 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$2 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$3 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$4 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.SecuritySupport$5 found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.URLDataSource found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\nDuplicate class javax.activation.UnsupportedDataTypeException found in modules jetified-activation (activation.jar) and jetified-jakarta.activation-api-1.2.1 (jakarta.activation:jakarta.activation-api:1.2.1)\n</code></pre>\n"},{"tags":["java","xml","xsd","jaxb","xjc"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1690550133,"post_id":76787970,"comment_id":135373388,"body_markdown":"Give a try with type and attribute names **without** space (ex: TypeInQuestion).","body":"Give a try with type and attribute names <b>without</b> space (ex: TypeInQuestion)."},{"owner":{"account_id":16764296,"reputation":11,"user_id":12118309,"display_name":"Jonas Seidl"},"score":0,"creation_date":1690560233,"post_id":76787970,"comment_id":135375665,"body_markdown":"I just changed the names to make it anonymous and more clear - seems I have done the opposite. In reality they all have no spaces. I edite the question to make it more clear.","body":"I just changed the names to make it anonymous and more clear - seems I have done the opposite. In reality they all have no spaces. I edite the question to make it more clear."}],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690928148,"creation_date":1690928148,"answer_id":76815503,"question_id":76787970,"body_markdown":"The short answer is no, it is not possible to bind an **element** with &quot;no type&quot; (i.e. `xs:anyType`) to `java.lang.String` using `&lt;jxb:javaType .../&gt;`. *However*, it is possible to wrap the generated Java property in a *code injected* property that performs the desired conversion. Here&#39;s why and how...\r\n\r\n#### Attribute versus Element\r\n\r\nFor XJC, the default XML type for an **attribute** is `xs:anySimpleType` and that is mapped to the Java **String** type unless customized. And, the **attribute** can be customized in the binding file using `&lt;jxb:javaType .../&gt;`. For example the approach shown here, binds the `version` attribute to Java&#39;s `BigDecimal` type. It demonstrates how `&lt;jxb:javaType .../&gt;` is configured for and accepted by XJC:\r\n\r\n**[XSD_IN_QUESTION.xjb][35]**\r\n~~~\r\n&lt;jxb:bindings node=&quot;//xs:attribute[@name=&#39;Version&#39;]&quot;&gt;\r\n    &lt;jxb:property name=&quot;VersionAttribute&quot;&gt;\r\n        &lt;jxb:baseType&gt;\r\n            &lt;jxb:javaType name=&quot;java.math.BigDecimal&quot;\r\n                parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDecimal&quot;\r\n                printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDecimal&quot;\r\n            /&gt;\r\n        &lt;/jxb:baseType&gt;\r\n    &lt;/jxb:property&gt;\r\n&lt;/jxb:bindings&gt;\r\n~~~\r\n\r\n&gt; **Note:** ([JAXB v4.0, &#167;7.8.2.1][3]]) This customization converts the default base type’s value for a *simple type definition* to the Java class specified by `&lt;javaType&gt;` name.\r\n\r\nFor XJC, the default XML type for an **element** is `xs:anyType` and that is mapped to the Java **Object** type. The `version` **element** cannot be customized using `&lt;javaType ...&gt;` because it is not a *simple type definition*! Any attempt to use the customization will throw this exception:\r\n\r\n**Customization `anyType` with `javaType` will fail**\r\n~~~\r\ncom.sun.istack.SAXParseException2:\r\n    compiler was unable to honor this javaType customization.\r\n    It is attached to a wrong place, or its inconsistent with other bindings.\r\n~~~\r\n\r\n&gt; **Note:** It is inconsistent with `xs:anyType` used by an **element** when no XML type is defined because `xs:anyType` is a *complex type definition*.\r\n\r\n#### Demonstration\r\n\r\nThis [demo (zip)][20] can be downloaded, unpacked and run &quot;as-is&quot;. It is a stand-alone Maven project that uses the *HiSrc HigherJAXB Maven Plugin* to generate JAXB classes from an XML Schema when the schema contains elements without a specified XML type.\r\n\r\nYou can run the demo and/or test(s) using:\r\n\r\n~~~\r\nmvn -Pexec clean compile exec:java -Dexec.args=&quot;src/test/samples/ParentElement.xml&quot;\r\nmvn -Ptest clean test\r\n~~~\r\n\r\nThe [output][22] shows the test(s) result.\r\n\r\nThe demonstration project use the standard Maven layout plus optional `bash` scripts.\r\n\r\n**hisrc-higherjaxb-sample-notype**\r\n~~~\r\n├── build-cfg.sh\r\n├── build-inc.sh\r\n├── build.sh\r\n├── pom.xml\r\n├── README.md\r\n├── run.sh\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; └── org\r\n    │&#160;&#160; │&#160;&#160;     └── example\r\n    │&#160;&#160; │&#160;&#160;         ├── model\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; └── Version.java\r\n    │&#160;&#160; │&#160;&#160;         └── notype\r\n    │&#160;&#160; │&#160;&#160;             └── Main.java\r\n    │&#160;&#160; └── resources\r\n    │&#160;&#160;     ├── org\r\n    │&#160;&#160;     │&#160;&#160; └── example\r\n    │&#160;&#160;     │&#160;&#160;     └── model\r\n    │&#160;&#160;     │&#160;&#160;         └── jaxb.index\r\n    │&#160;&#160;     ├── SOME_OTHER_XSD.xsd\r\n    │&#160;&#160;     ├── XSD_IN_QUESTION.xjb\r\n    │&#160;&#160;     └── XSD_IN_QUESTION.xsd\r\n    └── test\r\n        ├── java\r\n        │&#160;&#160; └── org\r\n        │&#160;&#160;     └── example\r\n        │&#160;&#160;         └── notype\r\n        │&#160;&#160;             └── NoTypeTest.java\r\n        ├── resources\r\n        │&#160;&#160; ├── jvmsystem.arguments\r\n        │&#160;&#160; ├── jvmsystem.properties\r\n        │&#160;&#160; └── simplelogger.properties\r\n        └── samples\r\n            ├── ParentElement.xml\r\n            └── SomeOtherElement.xml\r\n~~~\r\n\r\nThe [pom.xml][23] configures [hisrc-higherjaxb-maven-plugin][12] to use XJC extensions and an XJC [hisrc-hyperjaxb-annox-plugin][13] to customize the code generation. The customization includes:\r\n\r\n+ Adding `@XmlRootElement` to `ParentElement.java` and `SomeOtherElement.java`\r\n+ Injecting `getVersion / setVersion` methods to implement the `String` conversion.\r\n\r\n**pom.xml**\r\n~~~\r\n...\r\n&lt;!-- mvn hisrc-higherjaxb:help -Ddetail=true --&gt;\r\n&lt;!-- mvn hisrc-higherjaxb:generate --&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;extension&gt;true&lt;/extension&gt;\r\n                &lt;args&gt;\r\n                    &lt;arg&gt;-Xannotate&lt;/arg&gt;\r\n                    &lt;arg&gt;-Xinject-code&lt;/arg&gt;\r\n                &lt;/args&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hisrc-hyperjaxb-annox-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${hisrc-hyperjaxb-annox-plugin.version}&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n...\r\n~~~\r\n\r\nThe JAXB binding file customized the [XSD_IN_QUESTION.xsd][33] schema by:\r\n\r\n+ Using [hisrc-hyperjaxb-annox-plugin][13] to add `@XmlRootElement`\r\n* Renaming the class per Java convention\r\n+ Renaming the property to `VersionElement` so it can be nicely wrapped\r\n+ Injecting code for the `Version` wrapper to get/set `java.lang.String`\r\n\r\n[XSD_IN_QUESTION.xjb][35]\r\n~~~\r\n...\r\n&lt;jxb:bindings schemaLocation=&quot;XSD_IN_QUESTION.xsd&quot;&gt;\r\n    &lt;jxb:bindings node=&quot;//xs:element[@name=&#39;PARENT_ELEMENT&#39;]/xs:complexType&quot;&gt;\r\n        &lt;anx:annotate&gt;@jakarta.xml.bind.annotation.XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)&lt;/anx:annotate&gt;\r\n        &lt;jxb:class name=&quot;ParentElement&quot;/&gt;\r\n        &lt;jxb:bindings node=&quot;//xs:element[@name=&#39;Version&#39;]&quot;&gt;\r\n            &lt;jxb:property name=&quot;VersionElement&quot;/&gt;\r\n        &lt;/jxb:bindings&gt;\r\n        &lt;ci:code&gt;\r\npublic String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\r\npublic void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\r\n        &lt;/ci:code&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n...\r\n~~~\r\n\r\nFor testing, an XML instance of `PARENT_ELEMENT` provides a non-trivial representation of the `Version` element to emphasize that it is an `xs:anyType`. In fact, it can be an arbitrarily complex type, which provides some insight as to why the spec limits the `xs:javaType` binding to *simple type definition*, see [JAXB v4.0, &#167;7.8.2.1][3].\r\n\r\n[ParentElement.xml][53]\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;PARENT_ELEMENT xmlns:ns1=&quot;http://example.org/notype&quot;&gt;\r\n    &lt;ns1:Version xsi:type=&quot;version&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;major&gt;10&lt;/major&gt;\r\n        &lt;minor&gt;2&lt;/minor&gt;\r\n    &lt;/ns1:Version&gt;\r\n&lt;/PARENT_ELEMENT&gt;\r\n~~~\r\n\r\nWhen JAXB unmarshals `PARENT_ELEMENT`, it uses a custom [Version.java][40] implemented by the project and provided to the JAXB context. This class has its own namespace and demonstrates the flexibility of `xs:anyType`.\r\n\r\n&gt; **Note:** A [jaxb.index][32] resource file lists the non-schema-derived classes, namely the java to schema binding, in a package to register with `JAXBContext`. \r\n\r\nThe custom class implements a constructor to parse a version using the standard format (i.e. &quot;10.2&quot;) into its major and minor parts. And a `toString()` method to return the major/minor parts as a version string.\r\n\r\n[Version.java][40]\r\n~~~\r\n...\r\npublic Version(String version)\r\n{\r\n    if ( version != null )\r\n    {\r\n        String[] parts = version.split(&quot;\\\\.&quot;);\r\n        setMajor(parts[0]);\r\n        if ( parts.length &gt; 1 )\r\n            setMinor(parts[1]);\r\n    }\r\n}\r\n...\r\npublic String toString()\r\n{\r\n    return format(&quot;%s.%s&quot;,\r\n        ((getMajor() != null) ? getMajor() : &quot;0&quot;),\r\n        ((getMinor() != null) ? getMinor() : &quot;0&quot;)\r\n    );\r\n}\r\n...\r\n~~~\r\n\r\nXJC reads the binding file [XSD_IN_QUESTION.xjb][35] and the XML schema [XSD_IN_QUESTION.xsd][33] to generate this class (and other classes):\r\n\r\n**ParentElement.java**\r\n~~~\r\npackage org.example.notype;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.xml.bind.annotation.*;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;&quot;, propOrder = { &quot;versionElement&quot; })\r\n@XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)\r\npublic class ParentElement implements Serializable\r\n{\r\n    private static final long serialVersionUID = 20230701L;\r\n\r\n    @XmlElement(name = &quot;Version&quot;, namespace = &quot;http://example.org/notype&quot;, required = true)\r\n    protected Object versionElement;\r\n\r\n    public Object getVersionElement() { return versionElement; }\r\n    public void setVersionElement(Object value) { this.versionElement = value; }\r\n\r\n    public String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\r\n    public void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\r\n}\r\n~~~\r\n\r\nThe `ParentElement` class is bound to the root &quot;PARENT_ELEMENT&quot; and provides an `java.lang.Object` field to represent the &quot;Version&quot; sub-element. The sub-element is bound to the get/set `VersionElement` property which was custom named in the binding file. \r\n\r\nFinally, the `ParentElement` class provides an addition get/set `Version` property to wrap the JAXB bound property and perform the Object to String conversion.\r\n\r\nFor usage, see [`org.example.notype.Main`][42] and [`org.example.notype.NoTypeTest`][62].\r\n\r\n*Disclaimer:* I am the maintainer for the *Patrodyne HiSrc* projects.\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://stackoverflow.com/questions/76787970\r\n[2]: https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html\r\n[3]: https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html#conversion-using-child-element-javatype\r\n[10]: https://github.com/patrodyne/hisrc-basicjaxb#readme\r\n[11]: https://github.com/patrodyne/hisrc-basicjaxb-annox#readme\r\n[12]: https://github.com/patrodyne/hisrc-higherjaxb#readme\r\n[13]: https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\r\n[20]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-notype-2.1.0-mvn-src.zip\r\n[21]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/README.md\r\n[22]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/OUTPUT.txt\r\n[23]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/project-pom.xml\r\n[24]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/bin\r\n[25]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/bin/run.sh\r\n[26]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src\r\n[27]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main\r\n[28]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources\r\n[29]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org\r\n[30]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example\r\n[31]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example/model\r\n[32]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example/model/jaxb.index\r\n[33]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xsd\r\n[34]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/SOME_OTHER_XSD.xsd\r\n[35]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\r\n[36]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java\r\n[37]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org\r\n[38]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example\r\n[39]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model\r\n[40]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model/Version.java\r\n[41]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/notype\r\n[42]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/notype/Main.java\r\n[50]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test\r\n[51]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples\r\n[52]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples/SomeOtherElement.xml\r\n[53]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples/ParentElement.xml\r\n[54]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources\r\n[55]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources/jvmsystem.arguments\r\n[56]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources/jvmsystem.properties\r\n[57]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/resources/simplelogger.properties\r\n[58]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java\r\n[59]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org\r\n[60]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example\r\n[61]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example/notype\r\n[62]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example/notype/NoTypeTest.java\r\n","title":"JAXB XJC use String as type if there is no type set in xsd","body":"<p>The short answer is no, it is not possible to bind an <strong>element</strong> with &quot;no type&quot; (i.e. <code>xs:anyType</code>) to <code>java.lang.String</code> using <code>&lt;jxb:javaType .../&gt;</code>. <em>However</em>, it is possible to wrap the generated Java property in a <em>code injected</em> property that performs the desired conversion. Here's why and how...</p>\n<h4>Attribute versus Element</h4>\n<p>For XJC, the default XML type for an <strong>attribute</strong> is <code>xs:anySimpleType</code> and that is mapped to the Java <strong>String</strong> type unless customized. And, the <strong>attribute</strong> can be customized in the binding file using <code>&lt;jxb:javaType .../&gt;</code>. For example the approach shown here, binds the <code>version</code> attribute to Java's <code>BigDecimal</code> type. It demonstrates how <code>&lt;jxb:javaType .../&gt;</code> is configured for and accepted by XJC:</p>\n<p><strong><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xjb</a></strong></p>\n<pre><code>&lt;jxb:bindings node=&quot;//xs:attribute[@name='Version']&quot;&gt;\n    &lt;jxb:property name=&quot;VersionAttribute&quot;&gt;\n        &lt;jxb:baseType&gt;\n            &lt;jxb:javaType name=&quot;java.math.BigDecimal&quot;\n                parseMethod=&quot;jakarta.xml.bind.DatatypeConverter.parseDecimal&quot;\n                printMethod=&quot;jakarta.xml.bind.DatatypeConverter.printDecimal&quot;\n            /&gt;\n        &lt;/jxb:baseType&gt;\n    &lt;/jxb:property&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<blockquote>\n<p><strong>Note:</strong> (<a href=\"https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html#conversion-using-child-element-javatype\" rel=\"nofollow noreferrer\">JAXB v4.0, §7.8.2.1</a>]) This customization converts the default base type’s value for a <em>simple type definition</em> to the Java class specified by <code>&lt;javaType&gt;</code> name.</p>\n</blockquote>\n<p>For XJC, the default XML type for an <strong>element</strong> is <code>xs:anyType</code> and that is mapped to the Java <strong>Object</strong> type. The <code>version</code> <strong>element</strong> cannot be customized using <code>&lt;javaType ...&gt;</code> because it is not a <em>simple type definition</em>! Any attempt to use the customization will throw this exception:</p>\n<p><strong>Customization <code>anyType</code> with <code>javaType</code> will fail</strong></p>\n<pre><code>com.sun.istack.SAXParseException2:\n    compiler was unable to honor this javaType customization.\n    It is attached to a wrong place, or its inconsistent with other bindings.\n</code></pre>\n<blockquote>\n<p><strong>Note:</strong> It is inconsistent with <code>xs:anyType</code> used by an <strong>element</strong> when no XML type is defined because <code>xs:anyType</code> is a <em>complex type definition</em>.</p>\n</blockquote>\n<h4>Demonstration</h4>\n<p>This <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-notype-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">demo (zip)</a> can be downloaded, unpacked and run &quot;as-is&quot;. It is a stand-alone Maven project that uses the <em>HiSrc HigherJAXB Maven Plugin</em> to generate JAXB classes from an XML Schema when the schema contains elements without a specified XML type.</p>\n<p>You can run the demo and/or test(s) using:</p>\n<pre><code>mvn -Pexec clean compile exec:java -Dexec.args=&quot;src/test/samples/ParentElement.xml&quot;\nmvn -Ptest clean test\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/OUTPUT.txt\" rel=\"nofollow noreferrer\">output</a> shows the test(s) result.</p>\n<p>The demonstration project use the standard Maven layout plus optional <code>bash</code> scripts.</p>\n<p><strong>hisrc-higherjaxb-sample-notype</strong></p>\n<pre><code>├── build-cfg.sh\n├── build-inc.sh\n├── build.sh\n├── pom.xml\n├── README.md\n├── run.sh\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── org\n    │   │       └── example\n    │   │           ├── model\n    │   │           │   └── Version.java\n    │   │           └── notype\n    │   │               └── Main.java\n    │   └── resources\n    │       ├── org\n    │       │   └── example\n    │       │       └── model\n    │       │           └── jaxb.index\n    │       ├── SOME_OTHER_XSD.xsd\n    │       ├── XSD_IN_QUESTION.xjb\n    │       └── XSD_IN_QUESTION.xsd\n    └── test\n        ├── java\n        │   └── org\n        │       └── example\n        │           └── notype\n        │               └── NoTypeTest.java\n        ├── resources\n        │   ├── jvmsystem.arguments\n        │   ├── jvmsystem.properties\n        │   └── simplelogger.properties\n        └── samples\n            ├── ParentElement.xml\n            └── SomeOtherElement.xml\n</code></pre>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a> configures <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-maven-plugin</a> to use XJC extensions and an XJC <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">hisrc-hyperjaxb-annox-plugin</a> to customize the code generation. The customization includes:</p>\n<ul>\n<li>Adding <code>@XmlRootElement</code> to <code>ParentElement.java</code> and <code>SomeOtherElement.java</code></li>\n<li>Injecting <code>getVersion / setVersion</code> methods to implement the <code>String</code> conversion.</li>\n</ul>\n<p><strong>pom.xml</strong></p>\n<pre><code>...\n&lt;!-- mvn hisrc-higherjaxb:help -Ddetail=true --&gt;\n&lt;!-- mvn hisrc-higherjaxb:generate --&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;extension&gt;true&lt;/extension&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-Xannotate&lt;/arg&gt;\n                    &lt;arg&gt;-Xinject-code&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n                        &lt;artifactId&gt;hisrc-hyperjaxb-annox-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${hisrc-hyperjaxb-annox-plugin.version}&lt;/version&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n...\n</code></pre>\n<p>The JAXB binding file customized the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xsd\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xsd</a> schema by:</p>\n<ul>\n<li>Using <a href=\"https://github.com/patrodyne/hisrc-hyperjaxb-annox#readme\" rel=\"nofollow noreferrer\">hisrc-hyperjaxb-annox-plugin</a> to add <code>@XmlRootElement</code></li>\n</ul>\n<ul>\n<li>Renaming the class per Java convention</li>\n</ul>\n<ul>\n<li>Renaming the property to <code>VersionElement</code> so it can be nicely wrapped</li>\n<li>Injecting code for the <code>Version</code> wrapper to get/set <code>java.lang.String</code></li>\n</ul>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xjb</a></p>\n<pre><code>...\n&lt;jxb:bindings schemaLocation=&quot;XSD_IN_QUESTION.xsd&quot;&gt;\n    &lt;jxb:bindings node=&quot;//xs:element[@name='PARENT_ELEMENT']/xs:complexType&quot;&gt;\n        &lt;anx:annotate&gt;@jakarta.xml.bind.annotation.XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)&lt;/anx:annotate&gt;\n        &lt;jxb:class name=&quot;ParentElement&quot;/&gt;\n        &lt;jxb:bindings node=&quot;//xs:element[@name='Version']&quot;&gt;\n            &lt;jxb:property name=&quot;VersionElement&quot;/&gt;\n        &lt;/jxb:bindings&gt;\n        &lt;ci:code&gt;\npublic String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\npublic void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\n        &lt;/ci:code&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n...\n</code></pre>\n<p>For testing, an XML instance of <code>PARENT_ELEMENT</code> provides a non-trivial representation of the <code>Version</code> element to emphasize that it is an <code>xs:anyType</code>. In fact, it can be an arbitrarily complex type, which provides some insight as to why the spec limits the <code>xs:javaType</code> binding to <em>simple type definition</em>, see <a href=\"https://jakarta.ee/specifications/xml-binding/4.0/jakarta-xml-binding-spec-4.0.html#conversion-using-child-element-javatype\" rel=\"nofollow noreferrer\">JAXB v4.0, §7.8.2.1</a>.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/samples/ParentElement.xml\" rel=\"nofollow noreferrer\">ParentElement.xml</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;PARENT_ELEMENT xmlns:ns1=&quot;http://example.org/notype&quot;&gt;\n    &lt;ns1:Version xsi:type=&quot;version&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n        &lt;major&gt;10&lt;/major&gt;\n        &lt;minor&gt;2&lt;/minor&gt;\n    &lt;/ns1:Version&gt;\n&lt;/PARENT_ELEMENT&gt;\n</code></pre>\n<p>When JAXB unmarshals <code>PARENT_ELEMENT</code>, it uses a custom <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model/Version.java\" rel=\"nofollow noreferrer\">Version.java</a> implemented by the project and provided to the JAXB context. This class has its own namespace and demonstrates the flexibility of <code>xs:anyType</code>.</p>\n<blockquote>\n<p><strong>Note:</strong> A <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/org/example/model/jaxb.index\" rel=\"nofollow noreferrer\">jaxb.index</a> resource file lists the non-schema-derived classes, namely the java to schema binding, in a package to register with <code>JAXBContext</code>.</p>\n</blockquote>\n<p>The custom class implements a constructor to parse a version using the standard format (i.e. &quot;10.2&quot;) into its major and minor parts. And a <code>toString()</code> method to return the major/minor parts as a version string.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/model/Version.java\" rel=\"nofollow noreferrer\">Version.java</a></p>\n<pre><code>...\npublic Version(String version)\n{\n    if ( version != null )\n    {\n        String[] parts = version.split(&quot;\\\\.&quot;);\n        setMajor(parts[0]);\n        if ( parts.length &gt; 1 )\n            setMinor(parts[1]);\n    }\n}\n...\npublic String toString()\n{\n    return format(&quot;%s.%s&quot;,\n        ((getMajor() != null) ? getMajor() : &quot;0&quot;),\n        ((getMinor() != null) ? getMinor() : &quot;0&quot;)\n    );\n}\n...\n</code></pre>\n<p>XJC reads the binding file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xjb\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xjb</a> and the XML schema <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/resources/XSD_IN_QUESTION.xsd\" rel=\"nofollow noreferrer\">XSD_IN_QUESTION.xsd</a> to generate this class (and other classes):</p>\n<p><strong>ParentElement.java</strong></p>\n<pre><code>package org.example.notype;\n\nimport java.io.Serializable;\nimport jakarta.xml.bind.annotation.*;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = { &quot;versionElement&quot; })\n@XmlRootElement(name = &quot;PARENT_ELEMENT&quot;)\npublic class ParentElement implements Serializable\n{\n    private static final long serialVersionUID = 20230701L;\n\n    @XmlElement(name = &quot;Version&quot;, namespace = &quot;http://example.org/notype&quot;, required = true)\n    protected Object versionElement;\n\n    public Object getVersionElement() { return versionElement; }\n    public void setVersionElement(Object value) { this.versionElement = value; }\n\n    public String getVersion() { return (getVersionElement() != null) ? getVersionElement().toString() : null; }\n    public void setVersion(String version) { setVersionElement(new org.example.model.Version(version)); }\n}\n</code></pre>\n<p>The <code>ParentElement</code> class is bound to the root &quot;PARENT_ELEMENT&quot; and provides an <code>java.lang.Object</code> field to represent the &quot;Version&quot; sub-element. The sub-element is bound to the get/set <code>VersionElement</code> property which was custom named in the binding file.</p>\n<p>Finally, the <code>ParentElement</code> class provides an addition get/set <code>Version</code> property to wrap the JAXB bound property and perform the Object to String conversion.</p>\n<p>For usage, see <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/main/java/org/example/notype/Main.java\" rel=\"nofollow noreferrer\"><code>org.example.notype.Main</code></a> and <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/no-type/src/test/java/org/example/notype/NoTypeTest.java\" rel=\"nofollow noreferrer\"><code>org.example.notype.NoTypeTest</code></a>.</p>\n<p><em>Disclaimer:</em> I am the maintainer for the <em>Patrodyne HiSrc</em> projects.</p>\n\n"}],"owner":{"account_id":16764296,"reputation":11,"user_id":12118309,"display_name":"Jonas Seidl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690928148,"creation_date":1690548527,"question_id":76787970,"body_markdown":"I&#39;m trying to generate JAXB Classes with XJC and maven-jaxb2-plugin. It works, but if there is no type specified on the element in the .xsd it uses `Object` for the Java Type. I would like it to use `String` instead.\r\n\r\nThis is my binding file:\r\n```\r\n&lt;jxb:bindings\r\n        version=&quot;1.0&quot;\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n        xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;&gt;\r\n\r\n    &lt;jxb:globalBindings typesafeEnumMaxMembers=&quot;1000&quot; collectionType=&quot;java.util.ArrayList&quot;&gt;\r\n        &lt;xjc:simple/&gt;\r\n    &lt;/jxb:globalBindings&gt;\r\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/SOME_OTHER_XSD.xsd&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name=&#39;SOME_OTHER_TYPE&#39;]&quot;&gt;\r\n            &lt;jxb:bindings node=&quot;.//xs:attribute[@name=&#39;Version&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;VersionAttribute&quot;/&gt;\r\n            &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/XSD_IN_QUESTION.xsd&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name=&#39;TYPE_IN_QUESTION&#39;]&quot;&gt;\r\n            &lt;jxb:bindings node=&quot;.//xs:element[@name=&#39;Version&#39;]&quot;&gt;\r\n                &lt;jxb:javaType name=&quot;java.lang.String&quot; parseMethod=&quot;javax.xml.bind.annotation.adapters.CollapsedStringAdapter&quot;/&gt;\r\n            &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n&lt;/jxb:bindings&gt;\r\n```\r\n\r\nThis is how my .xsd file is structured:\r\n```\r\n&lt;xs:schema\r\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:ns2=&quot;ns2&quot;\r\n        xmlns=&quot;ns&quot;\r\n        targetNamespace=&quot;ns&quot;\r\n        elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\r\n\r\n    &lt;xs:element name=&quot;PARENT_ELEMENT&quot; type=&quot;TYPE_IN_QUESTION&quot;/&gt;\r\n    &lt;xs:complexType name=&quot;TYPE_IN_QUESTION&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;Version&quot;/&gt; &lt;!-- No Type specified --&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nAnd this is the error I&#39;m getting:\r\n```\r\n[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/binding/binding.xjb{25,128}].\r\ncom.sun.istack.SAXParseException2: compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\r\n...\r\n[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/xsd/XSD_IN_QUESTION.xsd{93,41}].\r\ncom.sun.istack.SAXParseException2: (the above customization is attached to the following location in the schema)\r\n```\r\n\r\nThe location in the second error is the version element in the xsd, so it at least finds the version, so the XPath should be right. I have no idea how to do this. Any help is much appreciated.\r\n\r\nI tried to put it in the `globalBindings` with a type as well but it didn&#39;t work there, so now I&#39;m trying to do it on one Element (before doing it everywhere else where needed, but would rather have a global solution if possible). I can change the .xsd but I would really rather not do that.","title":"JAXB XJC use String as type if there is no type set in xsd","body":"<p>I'm trying to generate JAXB Classes with XJC and maven-jaxb2-plugin. It works, but if there is no type specified on the element in the .xsd it uses <code>Object</code> for the Java Type. I would like it to use <code>String</code> instead.</p>\n<p>This is my binding file:</p>\n<pre><code>&lt;jxb:bindings\n        version=&quot;1.0&quot;\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n        xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot;&gt;\n\n    &lt;jxb:globalBindings typesafeEnumMaxMembers=&quot;1000&quot; collectionType=&quot;java.util.ArrayList&quot;&gt;\n        &lt;xjc:simple/&gt;\n    &lt;/jxb:globalBindings&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/SOME_OTHER_XSD.xsd&quot;&gt;\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name='SOME_OTHER_TYPE']&quot;&gt;\n            &lt;jxb:bindings node=&quot;.//xs:attribute[@name='Version']&quot;&gt;\n                &lt;jxb:property name=&quot;VersionAttribute&quot;/&gt;\n            &lt;/jxb:bindings&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n    &lt;jxb:bindings schemaLocation=&quot;../xsd/XSD_IN_QUESTION.xsd&quot;&gt;\n        &lt;jxb:bindings node=&quot;//xs:complexType[@name='TYPE_IN_QUESTION']&quot;&gt;\n            &lt;jxb:bindings node=&quot;.//xs:element[@name='Version']&quot;&gt;\n                &lt;jxb:javaType name=&quot;java.lang.String&quot; parseMethod=&quot;javax.xml.bind.annotation.adapters.CollapsedStringAdapter&quot;/&gt;\n            &lt;/jxb:bindings&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>This is how my .xsd file is structured:</p>\n<pre><code>&lt;xs:schema\n        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n        xmlns:ns2=&quot;ns2&quot;\n        xmlns=&quot;ns&quot;\n        targetNamespace=&quot;ns&quot;\n        elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\n\n    &lt;xs:element name=&quot;PARENT_ELEMENT&quot; type=&quot;TYPE_IN_QUESTION&quot;/&gt;\n    &lt;xs:complexType name=&quot;TYPE_IN_QUESTION&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=&quot;Version&quot;/&gt; &lt;!-- No Type specified --&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>And this is the error I'm getting:</p>\n<pre><code>[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/binding/binding.xjb{25,128}].\ncom.sun.istack.SAXParseException2: compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\n...\n[ERROR] Error while parsing schema(s).Location [ file:/C:/[PATH]/src/main/resources/META-INF/xsd/XSD_IN_QUESTION.xsd{93,41}].\ncom.sun.istack.SAXParseException2: (the above customization is attached to the following location in the schema)\n</code></pre>\n<p>The location in the second error is the version element in the xsd, so it at least finds the version, so the XPath should be right. I have no idea how to do this. Any help is much appreciated.</p>\n<p>I tried to put it in the <code>globalBindings</code> with a type as well but it didn't work there, so now I'm trying to do it on one Element (before doing it everywhere else where needed, but would rather have a global solution if possible). I can change the .xsd but I would really rather not do that.</p>\n"},{"tags":["java","floating-point","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":13639,"reputation":13793,"user_id":27536,"display_name":"Jordan S. Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1243590889,"creation_date":1243590889,"answer_id":925248,"question_id":925232,"body_markdown":"It&#39;s the implicit `.toString()` conversion that is happening when you pass the result into `System.out.println()`.","title":"Why does Java BigDecimal return 1E+1?","body":"<p>It's the implicit <code>.toString()</code> conversion that is happening when you pass the result into <code>System.out.println()</code>.</p>\n"},{"comments":[{"owner":{"account_id":13639,"reputation":13793,"user_id":27536,"display_name":"Jordan S. Jones"},"score":0,"creation_date":1243591279,"post_id":925249,"comment_id":733164,"body_markdown":"+1 for providing an actual solution instead of &quot;here is the problem&quot; like I did. :)","body":"+1 for providing an actual solution instead of &quot;here is the problem&quot; like I did. :)"},{"owner":{"account_id":1447426,"reputation":596,"user_id":1365422,"accept_rate":55,"display_name":"M_x_r"},"score":0,"creation_date":1349622692,"post_id":925249,"comment_id":17257796,"body_markdown":"Answers like this is what makes Stackoverflow great","body":"Answers like this is what makes Stackoverflow great"},{"owner":{"account_id":4784217,"reputation":594,"user_id":3865191,"display_name":"gshock"},"score":0,"creation_date":1638039760,"post_id":925249,"comment_id":123983473,"body_markdown":"but why stripTrailingZeros is forcing the java to print in the scientific format ? \n\nexample\n```\nSystem.out.println(&quot;with stripTrailingZeros: &quot; + new BigDecimal(&quot;-50&quot;).stripTrailingZeros());\n\nSystem.out.println(&quot;without stripTrailingZeros: &quot; + new BigDecimal(&quot;-50&quot;));\n```","body":"but why stripTrailingZeros is forcing the java to print in the scientific format ?   example ``` System.out.println(&quot;with stripTrailingZeros: &quot; + new BigDecimal(&quot;-50&quot;).stripTrailingZeros());  System.out.println(&quot;without stripTrailingZeros: &quot; + new BigDecimal(&quot;-50&quot;)); ```"}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":3,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1243591260,"creation_date":1243590905,"answer_id":925249,"question_id":925232,"body_markdown":"use [bigDecimal.toPlainString()][1]:\r\n\r\n     BigDecimal bigDecimal = BigDecimal.valueOf(100000.0)\r\n                         .multiply(BigDecimal.valueOf(100d))\r\n                         .stripTrailingZeros();\r\n     System.out.println(&quot;plain      : &quot; + bigDecimal.toPlainString());\r\n     System.out.println(&quot;scientific : &quot; + bigDecimal.toEngineeringString());\r\n\r\noutputs:\r\n\r\n&lt;pre&gt;\r\nplain      : 10000000\r\nscientific : 10E+6\r\n&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html#toPlainString()","title":"Why does Java BigDecimal return 1E+1?","body":"<p>use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/math/BigDecimal.html#toPlainString()\" rel=\"noreferrer\">bigDecimal.toPlainString()</a>:</p>\n\n<pre><code> BigDecimal bigDecimal = BigDecimal.valueOf(100000.0)\n                     .multiply(BigDecimal.valueOf(100d))\n                     .stripTrailingZeros();\n System.out.println(\"plain      : \" + bigDecimal.toPlainString());\n System.out.println(\"scientific : \" + bigDecimal.toEngineeringString());\n</code></pre>\n\n<p>outputs:</p>\n\n<pre>\nplain      : 10000000\nscientific : 10E+6\n</pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1243591265,"creation_date":1243591265,"answer_id":925271,"question_id":925232,"body_markdown":"The exact rationale for the behaviour of `BigDecimal.toString()` is explained in the [API doc][1] in great (and near incomprehensible) detail.\r\n\r\nTo get a consistent (and locale-sensitive) textual representation, you should use [DecimalFormat][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html#toString()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/text/DecimalFormat.html","title":"Why does Java BigDecimal return 1E+1?","body":"<p>The exact rationale for the behaviour of <code>BigDecimal.toString()</code> is explained in the <a href=\"http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html#toString()\" rel=\"nofollow noreferrer\">API doc</a> in great (and near incomprehensible) detail.</p>\n\n<p>To get a consistent (and locale-sensitive) textual representation, you should use <a href=\"http://java.sun.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a>.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1243594112,"creation_date":1243594112,"answer_id":925413,"question_id":925232,"body_markdown":"It&#39;s basically because you don&#39;t have enough significant digits. If you multiply something that only has 1 significant digit with 100, then you get something with only 1 significant digit. If it shows &quot;10&quot; then that basically says that it has 2 significant digits. The way to show it only has 1 significant digit is to show &quot;1 x 10^1&quot;.\r\n\r\nThe following two decimals have the same value (10), but different &quot;scales&quot; (where they start counting significant digits; the top has 2 sig figs, the bottom has 1):\r\n\r\n    System.out.println(new BigDecimal(BigInteger.TEN, 0));  // prints 10\r\n    System.out.println(new BigDecimal(BigInteger.ONE, -1)); // prints 1E+1\r\n","title":"Why does Java BigDecimal return 1E+1?","body":"<p>It's basically because you don't have enough significant digits. If you multiply something that only has 1 significant digit with 100, then you get something with only 1 significant digit. If it shows \"10\" then that basically says that it has 2 significant digits. The way to show it only has 1 significant digit is to show \"1 x 10^1\".</p>\n\n<p>The following two decimals have the same value (10), but different \"scales\" (where they start counting significant digits; the top has 2 sig figs, the bottom has 1):</p>\n\n<pre><code>System.out.println(new BigDecimal(BigInteger.TEN, 0));  // prints 10\nSystem.out.println(new BigDecimal(BigInteger.ONE, -1)); // prints 1E+1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514046,"reputation":749,"user_id":3669400,"display_name":"Randy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690927693,"creation_date":1690927693,"answer_id":76815478,"question_id":925232,"body_markdown":"if you have a BigDecimal where the scale may not match your intended output, but you want to print the canonical value:\r\n\r\n    BigDecimal value = new BigDecimal(&quot;10.00&quot;);\r\n    \r\n    System.out.println(value.toPlainString());  //prints &quot;10.00&quot;\r\n\r\n\r\nand want it to print just &quot;10&quot;. You get &quot;10.00&quot; because the scale is set to 2.\r\n\r\nIf you just use **value.stripTrailingZeros()**, then it prints &quot;1E+1&quot;.\r\n\r\n    System.out.println(value.stripTrailingZeros());  // prints &quot;1E+1&quot;\r\n\r\nSo combine the strip zeros and the plain string to the strip zeros fixes the scale and the plain part prints the normal way:\r\n\r\n    System.out.println(value.stripTrailingZeros().toPlainString());  //prints &quot;10&quot;\r\n\r\nWill print &quot;10&quot;.\r\n\r\nThis could happen when the value is in a relational database and mapped in or perhaps by some other manipulation or operation.\r\n","title":"Why does Java BigDecimal return 1E+1?","body":"<p>if you have a BigDecimal where the scale may not match your intended output, but you want to print the canonical value:</p>\n<pre><code>BigDecimal value = new BigDecimal(&quot;10.00&quot;);\n\nSystem.out.println(value.toPlainString());  //prints &quot;10.00&quot;\n</code></pre>\n<p>and want it to print just &quot;10&quot;. You get &quot;10.00&quot; because the scale is set to 2.</p>\n<p>If you just use <strong>value.stripTrailingZeros()</strong>, then it prints &quot;1E+1&quot;.</p>\n<pre><code>System.out.println(value.stripTrailingZeros());  // prints &quot;1E+1&quot;\n</code></pre>\n<p>So combine the strip zeros and the plain string to the strip zeros fixes the scale and the plain part prints the normal way:</p>\n<pre><code>System.out.println(value.stripTrailingZeros().toPlainString());  //prints &quot;10&quot;\n</code></pre>\n<p>Will print &quot;10&quot;.</p>\n<p>This could happen when the value is in a relational database and mapped in or perhaps by some other manipulation or operation.</p>\n"}],"owner":{"account_id":21771,"reputation":3198,"user_id":53191,"accept_rate":94,"display_name":"parkr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22510,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":925249,"answer_count":5,"score":29,"last_activity_date":1690927693,"creation_date":1243590663,"question_id":925232,"body_markdown":"Why does this code sometimes return 1E+1 whilst for other inputs (e.g. 17) the output is not printed in scientific notation?\r\n\r\n    BigDecimal bigDecimal = BigDecimal.valueOf(doubleValue).multiply(BigDecimal.valueOf(100d)).stripTrailingZeros();\r\n    System.out.println(&quot;value: &quot; + bigDecimal);","title":"Why does Java BigDecimal return 1E+1?","body":"<p>Why does this code sometimes return 1E+1 whilst for other inputs (e.g. 17) the output is not printed in scientific notation?</p>\n\n<pre><code>BigDecimal bigDecimal = BigDecimal.valueOf(doubleValue).multiply(BigDecimal.valueOf(100d)).stripTrailingZeros();\nSystem.out.println(\"value: \" + bigDecimal);\n</code></pre>\n"},{"tags":["java","android","libgdx","truetype","android-fonts"],"comments":[{"owner":{"account_id":6677355,"reputation":3705,"user_id":5151575,"accept_rate":83,"display_name":"Enigo"},"score":0,"creation_date":1502695658,"post_id":45308860,"comment_id":78296034,"body_markdown":"what font do you use?","body":"what font do you use?"},{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1690839836,"post_id":45308860,"comment_id":135406373,"body_markdown":"I don&#39;t see artifacts in your image, could you be more explicit?","body":"I don&#39;t see artifacts in your image, could you be more explicit?"}],"answers":[{"comments":[{"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"score":0,"creation_date":1690985678,"post_id":76815433,"comment_id":135429522,"body_markdown":"It will work, but you disabled mipmapping - OP would like to have mipmapping enabled.","body":"It will work, but you disabled mipmapping - OP would like to have mipmapping enabled."},{"owner":{"account_id":17291538,"reputation":24,"user_id":12523010,"display_name":"KoLivanas"},"score":1,"creation_date":1691053646,"post_id":76815433,"comment_id":135440414,"body_markdown":"while mipmapping can help with performance and visual quality for textures that often appear at various sizes and distances, it&#39;s not always the best choice for all types of textures. For example, if your font glyphs always appear at the same size and are not scaled or rotated, you might not need mipmapping at all.","body":"while mipmapping can help with performance and visual quality for textures that often appear at various sizes and distances, it&#39;s not always the best choice for all types of textures. For example, if your font glyphs always appear at the same size and are not scaled or rotated, you might not need mipmapping at all."}],"tags":[],"owner":{"account_id":17291538,"reputation":24,"user_id":12523010,"display_name":"KoLivanas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690927045,"creation_date":1690927045,"answer_id":76815433,"question_id":45308860,"body_markdown":"\r\n    FreeTypeFontGenerator generator = new        \r\n    FreeTypeFontGenerator(Gdx.files.internal(&quot;font.ttf&quot;));\r\n    FreeTypeFontGenerator.FreeTypeFontParameter parameter = new    \r\n    FreeTypeFontGenerator.FreeTypeFontParameter();\r\n    parameter.size = 300;\r\n    parameter.color = Color.WHITE;\r\n    parameter.characters = &quot;0123456789&quot;;\r\n    parameter.kerning = true;\r\n\r\ntry these settings\r\n\r\n    parameter.padTop = 5;\r\n    parameter.padLeft = 5;\r\n    parameter.padBottom = 5;\r\n    parameter.padRight = 5;\r\n\r\n    parameter.magFilter = Texture.TextureFilter.Linear;\r\n    parameter.minFilter = Texture.TextureFilter.Linear;\r\n    parameter.genMipMaps = false;\r\n\r\n    font = generator.generateFont(parameter);","title":"libGDX freetypefont artifacts","body":"<pre><code>FreeTypeFontGenerator generator = new        \nFreeTypeFontGenerator(Gdx.files.internal(&quot;font.ttf&quot;));\nFreeTypeFontGenerator.FreeTypeFontParameter parameter = new    \nFreeTypeFontGenerator.FreeTypeFontParameter();\nparameter.size = 300;\nparameter.color = Color.WHITE;\nparameter.characters = &quot;0123456789&quot;;\nparameter.kerning = true;\n</code></pre>\n<p>try these settings</p>\n<pre><code>parameter.padTop = 5;\nparameter.padLeft = 5;\nparameter.padBottom = 5;\nparameter.padRight = 5;\n\nparameter.magFilter = Texture.TextureFilter.Linear;\nparameter.minFilter = Texture.TextureFilter.Linear;\nparameter.genMipMaps = false;\n\nfont = generator.generateFont(parameter);\n</code></pre>\n"}],"owner":{"account_id":11089037,"reputation":85,"user_id":8141642,"display_name":"Seppo Kulli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690927045,"creation_date":1500999997,"question_id":45308860,"body_markdown":"When creating a `BitmapFont` in libGDX from a .ttf file with `FreeTypeFontGenerator` the resulting font has serious artifacts around it:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K6x9r.png\r\n\r\nThose artifacts only appear when using mipmapping, so does it have something to do with transparent pixels? I have tried adding padding to the resulting font, but it does not work. I also tried using linear filtering but the resulting font looks pixelated.\r\n\r\nCode I am using to generate the fonts:\r\n\r\n    FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(&quot;font.ttf&quot;));\r\n\t\tFreeTypeFontGenerator.FreeTypeFontParameter parameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\r\n\t\tparameter.size = 300;\r\n\t\tparameter.color = Color.WHITE;\r\n\t\tparameter.characters = &quot;0123456789&quot;;\r\n\t\tparameter.kerning = true;\r\n\t\tparameter.magFilter = Texture.TextureFilter.MipMapLinearLinear;\r\n\t\tparameter.minFilter = Texture.TextureFilter.MipMapLinearLinear;\r\n\t\tparameter.genMipMaps = true;\r\n\r\n    font = generator.generateFont(parameter);\r\n\r\n","title":"libGDX freetypefont artifacts","body":"<p>When creating a <code>BitmapFont</code> in libGDX from a .ttf file with <code>FreeTypeFontGenerator</code> the resulting font has serious artifacts around it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/K6x9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6x9r.png\" alt=\"enter image description here\"></a></p>\n\n<p>Those artifacts only appear when using mipmapping, so does it have something to do with transparent pixels? I have tried adding padding to the resulting font, but it does not work. I also tried using linear filtering but the resulting font looks pixelated.</p>\n\n<p>Code I am using to generate the fonts:</p>\n\n<pre><code>FreeTypeFontGenerator generator = new FreeTypeFontGenerator(Gdx.files.internal(\"font.ttf\"));\n    FreeTypeFontGenerator.FreeTypeFontParameter parameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\n    parameter.size = 300;\n    parameter.color = Color.WHITE;\n    parameter.characters = \"0123456789\";\n    parameter.kerning = true;\n    parameter.magFilter = Texture.TextureFilter.MipMapLinearLinear;\n    parameter.minFilter = Texture.TextureFilter.MipMapLinearLinear;\n    parameter.genMipMaps = true;\n\nfont = generator.generateFont(parameter);\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690395644,"post_id":76774006,"comment_id":135349202,"body_markdown":"What does a `refresh()` entail?","body":"What does a <code>refresh()</code> entail?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1690395829,"post_id":76774006,"comment_id":135349243,"body_markdown":"The architecture overall has some downsides. The class provided is not really a singleton, but a utility-class, only providing `static` methods. The fact that the static fields are not `final` indicate that `vara`, `varb` and `varc` are not singletons either.","body":"The architecture overall has some downsides. The class provided is not really a singleton, but a utility-class, only providing <code>static</code> methods. The fact that the static fields are not <code>final</code> indicate that <code>vara</code>, <code>varb</code> and <code>varc</code> are not singletons either."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1690400170,"post_id":76774006,"comment_id":135349994,"body_markdown":"The direct approach without architecture changes: add a `ReadWriteLock`/`StampedLock` for these. With design changes, you could maintain a container for these references, and swap the _entire_ container in one operation with the new values. Remember that `static` is typically a tool for memory/optimization, not for interface management / simplicity of access.","body":"The direct approach without architecture changes: add a <code>ReadWriteLock</code>/<code>StampedLock</code> for these. With design changes, you could maintain a container for these references, and swap the <i>entire</i> container in one operation with the new values. Remember that <code>static</code> is typically a tool for memory/optimization, not for interface management / simplicity of access."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690424364,"post_id":76774006,"comment_id":135353081,"body_markdown":"If it only has static variables why is it a singleton at all? You don&#39;t need to instantiate it.","body":"If it only has static variables why is it a singleton at all? You don&#39;t need to instantiate it."},{"owner":{"account_id":7660161,"reputation":73,"user_id":5805710,"display_name":"Siddharth"},"score":0,"creation_date":1690635864,"post_id":76774006,"comment_id":135382900,"body_markdown":"@Turing85 In refresh I am constructing Container Object through a Builder and assigning the created object to Container reference variable.","body":"@Turing85 In refresh I am constructing Container Object through a Builder and assigning the created object to Container reference variable."}],"answers":[{"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":3,"creation_date":1690416415,"post_id":76775515,"comment_id":135352344,"body_markdown":"Good answer. It might also be worth clarifying that the lock needs to be acquired by the getter methods in order to be thread safe, and that means that the original code’s use of annotations to auto-generate getters will need to change to explicitly-written getters.","body":"Good answer. It might also be worth clarifying that the lock needs to be acquired by the getter methods in order to be thread safe, and that means that the original code’s use of annotations to auto-generate getters will need to change to explicitly-written getters."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690411897,"creation_date":1690411897,"answer_id":76775515,"question_id":76774006,"body_markdown":"Protecting `static` variables is no different from protecting any other variables. Use `synchronized` blocks when accessing them.  Normally you would `synchronize` on a `final` lock object that is declared in the same scope, and with the same extent as the variables that you are trying to protect. E.g.;\r\n\r\n``` lang-java\r\nstatic FooType foo;\r\nstatic BarType bar;\r\nstatic BazType baz;\r\n\r\n// Only access foo, bar, and baz from within synchronized(lock) {...}.\r\nfinal static Object lock = new Object();\r\n```\r\n\r\nIf you&#39;re doing some kind of sophisticated trickery\\* where `synchronized` doesn&#39;t work for you, then you may need to up the ante, and use a [`ReentrantLock`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html).\r\n\r\n----------------\r\n\r\n\\*But of course, if you were planning anything so sophisticated, then you probably would not be asking your question here.","title":"How to do change of static variables in a singleton in a threadsafe way?","body":"<p>Protecting <code>static</code> variables is no different from protecting any other variables. Use <code>synchronized</code> blocks when accessing them.  Normally you would <code>synchronize</code> on a <code>final</code> lock object that is declared in the same scope, and with the same extent as the variables that you are trying to protect. E.g.;</p>\n<pre class=\"lang-java prettyprint-override\"><code>static FooType foo;\nstatic BarType bar;\nstatic BazType baz;\n\n// Only access foo, bar, and baz from within synchronized(lock) {...}.\nfinal static Object lock = new Object();\n</code></pre>\n<p>If you're doing some kind of sophisticated trickery* where <code>synchronized</code> doesn't work for you, then you may need to up the ante, and use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\"><code>ReentrantLock</code></a>.</p>\n<hr />\n<p>*But of course, if you were planning anything so sophisticated, then you probably would not be asking your question here.</p>\n"},{"comments":[{"owner":{"account_id":7660161,"reputation":73,"user_id":5805710,"display_name":"Siddharth"},"score":1,"creation_date":1690903828,"post_id":76812407,"comment_id":135416485,"body_markdown":"Thanks for the reply @Gray. As you suggested, I have used the AtomicReference to publish the object and ensure visibility guarantee.","body":"Thanks for the reply @Gray. As you suggested, I have used the AtomicReference to publish the object and ensure visibility guarantee."}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690926635,"creation_date":1690898257,"answer_id":76812407,"question_id":76774006,"body_markdown":"&gt; Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?\r\n\r\nGood idea to put the fields into a single wrapper immutable object.  Then each thread with see a fully constructed wrapper object.  The race condition however is that they may see the previous wrapper object or the newly refreshed wrapper.  If each thread _must_ see the most updated version then you should use `AtomicReference` or just make the `static Wrapper` field be `volatile` so that any updates are published immediately and any access to the wrapper sees the most recently refreshed version.  Typically the cost of the `volatile` memory barrier is low enough that it won&#39;t be detectable.  Be careful of premature optimization.\r\n\r\nHowever, you can also allow lazy refreshing to happen if that is appropriate to your application.  If your threads cross other memory barriers or if they have cache update hardware then they will get the new wrapper object at some point just no guarantees about how fast.  This may be required if this wrapper object is referenced often by the threads.\r\n\r\nSo if it is critical logic then pay for the `AtomicReference` but if it is informational or something that is accessed super often then a lazy update may be appropriate.\r\n","title":"How to do change of static variables in a singleton in a threadsafe way?","body":"<blockquote>\n<p>Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?</p>\n</blockquote>\n<p>Good idea to put the fields into a single wrapper immutable object.  Then each thread with see a fully constructed wrapper object.  The race condition however is that they may see the previous wrapper object or the newly refreshed wrapper.  If each thread <em>must</em> see the most updated version then you should use <code>AtomicReference</code> or just make the <code>static Wrapper</code> field be <code>volatile</code> so that any updates are published immediately and any access to the wrapper sees the most recently refreshed version.  Typically the cost of the <code>volatile</code> memory barrier is low enough that it won't be detectable.  Be careful of premature optimization.</p>\n<p>However, you can also allow lazy refreshing to happen if that is appropriate to your application.  If your threads cross other memory barriers or if they have cache update hardware then they will get the new wrapper object at some point just no guarantees about how fast.  This may be required if this wrapper object is referenced often by the threads.</p>\n<p>So if it is critical logic then pay for the <code>AtomicReference</code> but if it is informational or something that is accessed super often then a lazy update may be appropriate.</p>\n"}],"owner":{"account_id":7660161,"reputation":73,"user_id":5805710,"display_name":"Siddharth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76812407,"answer_count":2,"score":0,"last_activity_date":1690926635,"creation_date":1690395093,"question_id":76774006,"body_markdown":"I have a singleton class with multiple static variables and a refresh method to change their values. eg.\r\n```\r\nClass Singleton {\r\n\r\n@Getter(AccessLevel.Protected)\r\nprivate static Immutable vara;\r\n\r\n@Getter(AccessLevel.Protected)\r\nprivate static Immutable varb;\r\n\r\n@Getter(AccessLevel.Protected)\r\nprivate static Immutable varc;\r\n\r\npublic void refresh() {\r\n//refreshes the values of vara, varb, varc;\r\n}\r\n```\r\nThis singleton class is accessed in a service class where the variables are accessed.\r\nHow can I make the process of refresh thread safe so that refresh doesn&#39;t happen between two accesses? eg.\r\n---&gt;access vara ---&gt; refresh ---&gt; access varb.&lt;br/&gt;\r\nMy app is deployed on tomcat.\r\n\r\nUPDATE: As recommended in the comments, I have modified the class to contain all the three reference variables in a single container class and made them immutable. Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?\r\nNew class:\r\n```\r\nClass Singleton {\r\nprivate Container container;//contains immutable invariants\r\n\r\npublic Container getContainer() {\r\n    return this.container;\r\n}\r\nvoid init() {\r\n// sets initial values for the container object\r\n}\r\npublic void refresh() {\r\n// updates the container reference\r\n}","title":"How to do change of static variables in a singleton in a threadsafe way?","body":"<p>I have a singleton class with multiple static variables and a refresh method to change their values. eg.</p>\n<pre><code>Class Singleton {\n\n@Getter(AccessLevel.Protected)\nprivate static Immutable vara;\n\n@Getter(AccessLevel.Protected)\nprivate static Immutable varb;\n\n@Getter(AccessLevel.Protected)\nprivate static Immutable varc;\n\npublic void refresh() {\n//refreshes the values of vara, varb, varc;\n}\n</code></pre>\n<p>This singleton class is accessed in a service class where the variables are accessed.\nHow can I make the process of refresh thread safe so that refresh doesn't happen between two accesses? eg.\n---&gt;access vara ---&gt; refresh ---&gt; access varb.<br/>\nMy app is deployed on tomcat.</p>\n<p>UPDATE: As recommended in the comments, I have modified the class to contain all the three reference variables in a single container class and made them immutable. Now I intend on simply updating the reference to the object in main class using refresh. Is it sufficient to use volatile for the object in the Singleton class for the container class or is an explicit AtomicReference required?\nNew class:</p>\n<pre><code>Class Singleton {\nprivate Container container;//contains immutable invariants\n\npublic Container getContainer() {\n    return this.container;\n}\nvoid init() {\n// sets initial values for the container object\n}\npublic void refresh() {\n// updates the container reference\n}\n</code></pre>\n"},{"tags":["java","authentication","authorization"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1690944358,"post_id":76815396,"comment_id":135422082,"body_markdown":"why don&#39;t you use java to do the login?","body":"why don&#39;t you use java to do the login?"},{"owner":{"account_id":5788522,"reputation":135,"user_id":4566875,"accept_rate":29,"display_name":"Fullstack"},"score":0,"creation_date":1690985046,"post_id":76815396,"comment_id":135429355,"body_markdown":"Because I want to avoid typing of login/password again and again in different places and &quot;I want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site&quot;","body":"Because I want to avoid typing of login/password again and again in different places and &quot;I want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site&quot;"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1691023743,"post_id":76815396,"comment_id":135435998,"body_markdown":"I think you are missing the point.  Using Java API https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html you can get the same information that the browser does (After all, the browser is just an application).  Otherwise you could try to use something like selenium.","body":"I think you are missing the point.  Using Java API <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.net.http/jav&zwnj;&#8203;a/&hellip;</a> you can get the same information that the browser does (After all, the browser is just an application).  Otherwise you could try to use something like selenium."}],"owner":{"account_id":5788522,"reputation":135,"user_id":4566875,"accept_rate":29,"display_name":"Fullstack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690926593,"creation_date":1690926593,"question_id":76815396,"body_markdown":"I need to add to my Java app [Login via MySite.com] button (like for example in Figma).\r\n\r\n1. Browser is opening\r\n2. User signed in on my site to his profile\r\n3. Then my site return him back to app (and tells user&#39;s session id on my site to app)\r\n\r\nI want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site.\r\n\r\nHow to do that? I searched Google a lot, but found nothing about this authorization kind.","title":"How to add &quot;Login via MySite.com&quot; button to Java app? Browser is opening, user signed in and then site return him back to app (with session id)","body":"<p>I need to add to my Java app [Login via MySite.com] button (like for example in Figma).</p>\n<ol>\n<li>Browser is opening</li>\n<li>User signed in on my site to his profile</li>\n<li>Then my site return him back to app (and tells user's session id on my site to app)</li>\n</ol>\n<p>I want to make single session between both browser and my app. So if user logout on site, his session also dropped in my app. And vice versa - if user logged out from my app, he also automatically logged out on site.</p>\n<p>How to do that? I searched Google a lot, but found nothing about this authorization kind.</p>\n"},{"tags":["java","arraylist"],"answers":[{"comments":[{"owner":{"account_id":4597700,"reputation":3125,"user_id":3729270,"accept_rate":0,"display_name":"xpioneer"},"score":0,"creation_date":1532494769,"post_id":4100507,"comment_id":89990663,"body_markdown":"will it give a performance hit .  consider if we have a lot many hashmaps to be created .","body":"will it give a performance hit .  consider if we have a lot many hashmaps to be created ."}],"tags":[],"owner":{"account_id":61526,"reputation":1921,"user_id":183328,"display_name":"Luke Hutteman"},"comment_count":1,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1288899156,"creation_date":1288899156,"answer_id":4100507,"question_id":4100486,"body_markdown":"You need to create a new HashMap for every entry, instead of reusing the existing one. This would work:\r\n\r\n    HashMap mMap = new HashMap();\r\n    mMap.put(&quot;start&quot;,1);\r\n    mMap.put(&quot;text&quot;,&quot;yes&quot;);\r\n    list.add(mMap); \r\n    mMap = new HashMap(); // create a new one!\r\n    mMap.put(&quot;start&quot;,2);\r\n    mMap.put(&quot;text&quot;,&quot;no&quot;);\r\n    list.add(mMap); \r\n\r\nalso, you can remove the `list.add(new HashMap());` as that adds an empty map to your list that is never populated.\r\n","title":"Java: create a list of HashMaps","body":"<p>You need to create a new HashMap for every entry, instead of reusing the existing one. This would work:</p>\n\n<pre><code>HashMap mMap = new HashMap();\nmMap.put(\"start\",1);\nmMap.put(\"text\",\"yes\");\nlist.add(mMap); \nmMap = new HashMap(); // create a new one!\nmMap.put(\"start\",2);\nmMap.put(\"text\",\"no\");\nlist.add(mMap); \n</code></pre>\n\n<p>also, you can remove the <code>list.add(new HashMap());</code> as that adds an empty map to your list that is never populated.</p>\n"},{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1288899196,"creation_date":1288899196,"answer_id":4100516,"question_id":4100486,"body_markdown":"You are never saving a reference to this Map:\r\n\r\n    list.add(new HashMap());","title":"Java: create a list of HashMaps","body":"<p>You are never saving a reference to this Map:</p>\n\n<pre><code>list.add(new HashMap());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288899223,"creation_date":1288899223,"answer_id":4100520,"question_id":4100486,"body_markdown":"have three adds to the list.  the first add is to a new map instance; you never set any values. The second add you pass in a reference to nMap, which has 1, yes.  The third add you pass the same reference.  So the Map now has 3 references, the first to a map you never added any values to, the next 2 to the same map.  which is why you get the same output.","title":"Java: create a list of HashMaps","body":"<p>have three adds to the list.  the first add is to a new map instance; you never set any values. The second add you pass in a reference to nMap, which has 1, yes.  The third add you pass the same reference.  So the Map now has 3 references, the first to a map you never added any values to, the next 2 to the same map.  which is why you get the same output.</p>\n"},{"tags":[],"owner":{"account_id":153802,"reputation":8952,"user_id":369317,"accept_rate":73,"display_name":"Denys Kniazhev-Support Ukraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1288899403,"creation_date":1288899403,"answer_id":4100542,"question_id":4100486,"body_markdown":"Yes, hash map from this piece of code \r\n\r\n    list.add(new HashMap());\r\nis never referenced. So eventually you get a list of 3 items, 2 of which are identical however.","title":"Java: create a list of HashMaps","body":"<p>Yes, hash map from this piece of code </p>\n\n<pre><code>list.add(new HashMap());\n</code></pre>\n\n<p>is never referenced. So eventually you get a list of 3 items, 2 of which are identical however.</p>\n"},{"tags":[],"owner":{"account_id":89111,"reputation":12252,"user_id":246041,"accept_rate":89,"display_name":"Prine"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1288899830,"creation_date":1288899830,"answer_id":4100611,"question_id":4100486,"body_markdown":"Something which is maybe also worth mention it, is that you should define the type of the elements you use in the *List*, for the HashMap its not possible because you are mixing *Integers* and *Strings*.\r\n\r\nAnd another thing is that you should use the *List* interface as type, so you are able to change the implementation (*ArrayList* or whatever) in the future.\r\n\r\nHere the corrected code:\r\n\r\n    Map mMap = new HashMap();\r\n    List&lt;Map&gt; list = new ArrayList();\r\n\r\n","title":"Java: create a list of HashMaps","body":"<p>Something which is maybe also worth mention it, is that you should define the type of the elements you use in the <em>List</em>, for the HashMap its not possible because you are mixing <em>Integers</em> and <em>Strings</em>.</p>\n\n<p>And another thing is that you should use the <em>List</em> interface as type, so you are able to change the implementation (<em>ArrayList</em> or whatever) in the future.</p>\n\n<p>Here the corrected code:</p>\n\n<pre><code>Map mMap = new HashMap();\nList&lt;Map&gt; list = new ArrayList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3395798,"reputation":3700,"user_id":2849458,"accept_rate":52,"display_name":"M.ArslanKhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566374036,"creation_date":1566374036,"answer_id":57586908,"question_id":4100486,"body_markdown":"When you put the same key name in the map then values will be overridden to same key.\r\nsuppose we have \r\n\r\n    mMap.put(&quot;start&quot;,1);\r\n    mMap.put(&quot;start&quot;,2);\r\n    mMap.put(&quot;start&quot;,3);\r\n    mMap.put(&quot;start&quot;,4);\r\n\r\nit will not make map of length 4, as the key(&quot;start&quot;) is same so it will override the values on the same key. so you will get the get only one value (4) against &quot;start&quot; key.\r\nTo avoid this you will have to change the name of keys in a hashmap but in your scenaro, you need an other instance of hashmap to save the key and values as you are maintaining the arralist.\r\n","title":"Java: create a list of HashMaps","body":"<p>When you put the same key name in the map then values will be overridden to same key.\nsuppose we have </p>\n\n<pre><code>mMap.put(\"start\",1);\nmMap.put(\"start\",2);\nmMap.put(\"start\",3);\nmMap.put(\"start\",4);\n</code></pre>\n\n<p>it will not make map of length 4, as the key(\"start\") is same so it will override the values on the same key. so you will get the get only one value (4) against \"start\" key.\nTo avoid this you will have to change the name of keys in a hashmap but in your scenaro, you need an other instance of hashmap to save the key and values as you are maintaining the arralist.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690926333,"creation_date":1690926333,"answer_id":76815377,"question_id":4100486,"body_markdown":"You need to address a couple of things:\r\n\r\n- _`list.add(new HashMap());`_: Adds a new `HashMap()` to the list which is never populated.\r\n- These lines:\r\n\r\n\t  mMap.put(&quot;start&quot;,2);\r\n\t  mMap.put(&quot;text&quot;,&quot;no&quot;);\r\n\t  \r\n  Overrides the _`key`_, _`value`_ pairs of the `mMap` object.\r\n  \r\n- _`list.add(mMap);`_ adds a duplicate entry of the first entry.\r\n\r\nHence you see two similar entries as:\r\n\r\n    [{start=2,text=no}, {start=2,text=no}]\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo create a _list_ of _HashMaps_ you have to create the _HashMaps_ seperately and add to the list as follows:\r\n\r\n\tHashMap mMap1 = new HashMap();\r\n\tmMap1.put(&quot;start&quot;, 1);\r\n\tmMap1.put(&quot;text&quot;, &quot;yes&quot;);\r\n\tHashMap mMap2 = new HashMap();\r\n\tmMap2.put(&quot;start&quot;, 2);\r\n\tmMap2.put(&quot;text&quot;, &quot;no&quot;);\r\n\tArrayList list = new ArrayList();\r\n\tlist.add(mMap1);\r\n\tlist.add(mMap2);\r\n\tSystem.out.println(list); //output: [{start=1, text=yes}, {start=2, text=no}]","title":"Java: create a list of HashMaps","body":"<p>You need to address a couple of things:</p>\n<ul>\n<li><p><em><code>list.add(new HashMap());</code></em>: Adds a new <code>HashMap()</code> to the list which is never populated.</p>\n</li>\n<li><p>These lines:</p>\n<pre><code>mMap.put(&quot;start&quot;,2);\nmMap.put(&quot;text&quot;,&quot;no&quot;);\n</code></pre>\n<p>Overrides the <em><code>key</code></em>, <em><code>value</code></em> pairs of the <code>mMap</code> object.</p>\n</li>\n<li><p><em><code>list.add(mMap);</code></em> adds a duplicate entry of the first entry.</p>\n</li>\n</ul>\n<p>Hence you see two similar entries as:</p>\n<pre><code>[{start=2,text=no}, {start=2,text=no}]\n</code></pre>\n<hr />\n<h2>Solution</h2>\n<p>To create a <em>list</em> of <em>HashMaps</em> you have to create the <em>HashMaps</em> seperately and add to the list as follows:</p>\n<pre><code>HashMap mMap1 = new HashMap();\nmMap1.put(&quot;start&quot;, 1);\nmMap1.put(&quot;text&quot;, &quot;yes&quot;);\nHashMap mMap2 = new HashMap();\nmMap2.put(&quot;start&quot;, 2);\nmMap2.put(&quot;text&quot;, &quot;no&quot;);\nArrayList list = new ArrayList();\nlist.add(mMap1);\nlist.add(mMap2);\nSystem.out.println(list); //output: [{start=1, text=yes}, {start=2, text=no}]\n</code></pre>\n"}],"owner":{"account_id":119857,"reputation":2592,"user_id":311884,"accept_rate":94,"display_name":"john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121263,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":4100507,"answer_count":7,"score":16,"last_activity_date":1690926333,"creation_date":1288898994,"question_id":4100486,"body_markdown":"I tried to create a list of maps.  In the following code, I&#39;m expecting to get \r\n\r\n    [{start=1,text=ye}, {start=2,text=no}]\r\n\r\nhowever, I only got\r\n\r\n    [{start=2,text=no}, {start=2,text=no}]\r\n\r\n\r\nHow to avoid overriding the first map?  Here is my code: \r\n\r\n    HashMap mMap = new HashMap();\r\n    ArrayList list = new ArrayList();\r\n    list.add(new HashMap());\r\n    mMap.put(&quot;start&quot;,1);\r\n    mMap.put(&quot;text&quot;,&quot;yes&quot;);\r\n    list.add(mMap); \r\n    mMap.put(&quot;start&quot;,2);\r\n    mMap.put(&quot;text&quot;,&quot;no&quot;);\r\n    list.add(mMap); \r\n    System.out.println(&quot;Final result: &quot; + list );\r\n\r\nthanks!\r\n\r\n==========================\r\n\r\nAs a learner of Java who came from a procedure language background (SAS), I spent quite a few hours learning and experimenting ArrayList, LinkedList, Map, LinkedMap, etc--- I coldn&#39;t get it to work. And I don&#39;t understand why with my limited knowledge. Now, these following answers are all excellent!  They explained very important data structure in Java, at least for me.\r\n\r\nTHANK YOU ALL!!!!","title":"Java: create a list of HashMaps","body":"<p>I tried to create a list of maps.  In the following code, I'm expecting to get </p>\n\n<pre><code>[{start=1,text=ye}, {start=2,text=no}]\n</code></pre>\n\n<p>however, I only got</p>\n\n<pre><code>[{start=2,text=no}, {start=2,text=no}]\n</code></pre>\n\n<p>How to avoid overriding the first map?  Here is my code: </p>\n\n<pre><code>HashMap mMap = new HashMap();\nArrayList list = new ArrayList();\nlist.add(new HashMap());\nmMap.put(\"start\",1);\nmMap.put(\"text\",\"yes\");\nlist.add(mMap); \nmMap.put(\"start\",2);\nmMap.put(\"text\",\"no\");\nlist.add(mMap); \nSystem.out.println(\"Final result: \" + list );\n</code></pre>\n\n<p>thanks!</p>\n\n<p>==========================</p>\n\n<p>As a learner of Java who came from a procedure language background (SAS), I spent quite a few hours learning and experimenting ArrayList, LinkedList, Map, LinkedMap, etc--- I coldn't get it to work. And I don't understand why with my limited knowledge. Now, these following answers are all excellent!  They explained very important data structure in Java, at least for me.</p>\n\n<p>THANK YOU ALL!!!!</p>\n"},{"tags":["java","spring","spring-boot","jackson","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":13031484,"reputation":105,"user_id":9417714,"display_name":"piyush tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564745789,"creation_date":1564745789,"answer_id":57325743,"question_id":57325466,"body_markdown":"No validation will work the way you are using it, you need to put @valid on the object inside your request object, but since you dont have control on that class the other way around is extend Request object and  override getData method and apply @valid on that method, it should work that way.","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>No validation will work the way you are using it, you need to put @valid on the object inside your request object, but since you dont have control on that class the other way around is extend Request object and  override getData method and apply @valid on that method, it should work that way.</p>\n"},{"comments":[{"owner":{"account_id":3814978,"reputation":147,"user_id":3164538,"display_name":"asp008"},"score":0,"creation_date":1564749409,"post_id":57325771,"comment_id":101143104,"body_markdown":"No I am not using custom validation. I have javax.validation classes imported already.","body":"No I am not using custom validation. I have javax.validation classes imported already."}],"tags":[],"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564746377,"creation_date":1564745904,"answer_id":57325771,"question_id":57325466,"body_markdown":"First use `@NotEmpty`, `@Notblank` for Strings. Then ensure you import `javax.validation.constraints` not that of hibernate. If you are using a custom validator, you will need `(final BindingResult bindingResult)` as part of your controller method variable. ","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>First use <code>@NotEmpty</code>, <code>@Notblank</code> for Strings. Then ensure you import <code>javax.validation.constraints</code> not that of hibernate. If you are using a custom validator, you will need <code>(final BindingResult bindingResult)</code> as part of your controller method variable. </p>\n"},{"tags":[],"owner":{"account_id":4475914,"reputation":14398,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1564750101,"creation_date":1564746738,"answer_id":57325978,"question_id":57325466,"body_markdown":"Validation would&#39;ve worked if the `Request` class was like;\r\n\r\n    public class Request {\r\n        \r\n        @Valid\r\n        StudentSignUpRequest data;\r\n\r\n        // other stuff\r\n    }\r\n\r\nThe fact that you have no class type for `data` makes it impossible for validation to be applied on it, ignoring the fact that there isn&#39;t even a [`@Valid`](https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html) annotation on the field. The `@Valid` annotation is used to propagate the validation cascade.\r\n\r\nBut since you cannot modify `Request` object, let&#39;s continue with another way to handle validation without doing it manually.\r\n\r\n----------\r\n\r\nAnother way is to trigger validation after you get the `StudentSignUpRequest` from `request` object;\r\n\r\n    StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\r\n    loginRegistrationService.signUpStudent(signUpRequest) // validation will trigger with this call\r\n\r\nWhat you can do is as follows;\r\n\r\n    @Service\r\n    @Validated\r\n    public class LoginRegistrationService {\r\n    \r\n        public void signUpStudent(@Valid StudentSignUpRequest signUpRequest) {\r\n            // some logic\r\n        }\r\n    }\r\n\r\nwith [`@Validated`][1] annotation, you will activate the validation check for any `@Valid` annotated args in `public` methods within that class. \r\n\r\n&gt; Can be used with method level validation, indicating that a\r\n&gt; specific class is supposed to be validated at the method level (acting\r\n&gt; as a pointcut for the corresponding validation interceptor)\r\n\r\nThis can be costly since you&#39;d want to get any constraint violation as soon as possible without doing any costly jobs for an already doomed request.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>Validation would've worked if the <code>Request</code> class was like;</p>\n\n<pre><code>public class Request {\n\n    @Valid\n    StudentSignUpRequest data;\n\n    // other stuff\n}\n</code></pre>\n\n<p>The fact that you have no class type for <code>data</code> makes it impossible for validation to be applied on it, ignoring the fact that there isn't even a <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\" rel=\"noreferrer\"><code>@Valid</code></a> annotation on the field. The <code>@Valid</code> annotation is used to propagate the validation cascade.</p>\n\n<p>But since you cannot modify <code>Request</code> object, let's continue with another way to handle validation without doing it manually.</p>\n\n<hr>\n\n<p>Another way is to trigger validation after you get the <code>StudentSignUpRequest</code> from <code>request</code> object;</p>\n\n<pre><code>StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\nloginRegistrationService.signUpStudent(signUpRequest) // validation will trigger with this call\n</code></pre>\n\n<p>What you can do is as follows;</p>\n\n<pre><code>@Service\n@Validated\npublic class LoginRegistrationService {\n\n    public void signUpStudent(@Valid StudentSignUpRequest signUpRequest) {\n        // some logic\n    }\n}\n</code></pre>\n\n<p>with <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"noreferrer\"><code>@Validated</code></a> annotation, you will activate the validation check for any <code>@Valid</code> annotated args in <code>public</code> methods within that class. </p>\n\n<blockquote>\n  <p>Can be used with method level validation, indicating that a\n  specific class is supposed to be validated at the method level (acting\n  as a pointcut for the corresponding validation interceptor)</p>\n</blockquote>\n\n<p>This can be costly since you'd want to get any constraint violation as soon as possible without doing any costly jobs for an already doomed request.</p>\n"},{"tags":[],"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566433716,"creation_date":1564748193,"answer_id":57326352,"question_id":57325466,"body_markdown":"A couple of things here:\r\nThe type `Object` for `data` in `Request` class makes it impossible for the validator to know that it is of type `StudentSignUpRequest`. So change the data type.\r\n\r\n    public class Request {\r\n        StudentSignUpRequest data;\r\n        Map&lt;String, Object&gt; meta;\r\n    }\r\n\r\nSecondly, though you have added `@Valid` in the controller method, in order to validate fields in `StudentSignUpRequest` you have to add @Valid here as well. Now, data will be validated if passed in the API request. In case it is absent validation won&#39;t take place. If you want to make data to be mandatorily passed add @NotNull as well.\r\n\r\n    public class Request {\r\n\r\n        @Valid\r\n        @NotNull\r\n        StudentSignUpRequest data;\r\n        Map&lt;String, Object&gt; meta;\r\n    }","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>A couple of things here:\nThe type <code>Object</code> for <code>data</code> in <code>Request</code> class makes it impossible for the validator to know that it is of type <code>StudentSignUpRequest</code>. So change the data type.</p>\n\n<pre><code>public class Request {\n    StudentSignUpRequest data;\n    Map&lt;String, Object&gt; meta;\n}\n</code></pre>\n\n<p>Secondly, though you have added <code>@Valid</code> in the controller method, in order to validate fields in <code>StudentSignUpRequest</code> you have to add @Valid here as well. Now, data will be validated if passed in the API request. In case it is absent validation won't take place. If you want to make data to be mandatorily passed add @NotNull as well.</p>\n\n<pre><code>public class Request {\n\n    @Valid\n    @NotNull\n    StudentSignUpRequest data;\n    Map&lt;String, Object&gt; meta;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8262338,"reputation":322,"user_id":6213262,"display_name":"Gagan Chouhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566433651,"creation_date":1564748357,"answer_id":57326383,"question_id":57325466,"body_markdown":"So you can use below code for validating the same.\r\n\r\n    public &lt;T&gt; T getData() throws ClassCastException, SomeCustomValidationException {\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        validator = factory.getValidator();\r\n        Set s = validator.validate(this.data);\r\n        //throw SomeCustomValidationException if set is not empty else return this.data\r\n    }","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>So you can use below code for validating the same.</p>\n\n<pre><code>public &lt;T&gt; T getData() throws ClassCastException, SomeCustomValidationException {\n    ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n    validator = factory.getValidator();\n    Set s = validator.validate(this.data);\n    //throw SomeCustomValidationException if set is not empty else return this.data\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675068370,"creation_date":1675068370,"answer_id":75281981,"question_id":57325466,"body_markdown":"did you add following dependency?\r\n\r\n    spring-boot-starter-validation\r\n\r\nalso check https://www.baeldung.com/spring-boot-bean-validation","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>did you add following dependency?</p>\n<pre><code>spring-boot-starter-validation\n</code></pre>\n<p>also check <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-validation</a></p>\n"},{"tags":[],"owner":{"account_id":26099752,"reputation":31,"user_id":19795369,"display_name":"tarek oussabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690926053,"creation_date":1690926053,"answer_id":76815352,"question_id":57325466,"body_markdown":"to enable validation support in a Spring Boot application.You need this dependency:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWithout this dependency, Spring Boot won&#39;t automatically process and apply validation rules on your request data, which is why you were not getting the expected validation behavior.So now you do not need to use @Validated annotation just @Valid one beside the @RequestBody","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>to enable validation support in a Spring Boot application.You need this dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Without this dependency, Spring Boot won't automatically process and apply validation rules on your request data, which is why you were not getting the expected validation behavior.So now you do not need to use @Validated annotation just @Valid one beside the @RequestBody</p>\n"}],"owner":{"account_id":3814978,"reputation":147,"user_id":3164538,"display_name":"asp008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30222,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":57325978,"answer_count":7,"score":9,"last_activity_date":1690926053,"creation_date":1564744770,"question_id":57325466,"body_markdown":"I want to validate my request body with `@Valid` annotation, but it&#39;s not working in Spring Boot\r\n\r\nI have a Request class within JAR file which I can&#39;t modify with two fields. One field is of type Object. My controller class accept this class object as a request body. When I pass my below JSON to the controller, validation is not working. Below are code samples.\r\n\r\n\r\nRequest Class:\r\n\r\n    public class Request {\r\n\r\n        Object data;\r\n        Map&lt;String, Object&gt; meta;\r\n    \r\n        public &lt;T&gt; T getData() throws ClassCastException {\r\n            return (T) this.data;\r\n        }\r\n    }\r\n\r\nAnother Class:\r\n\r\n    public class StudentSignUpRequest {\r\n    \r\n         @NotNull(message = &quot;First Name should not be empty&quot;)\r\n         @Size(max = 64, message = &quot;FirstName should not exceed 64 characters&quot;)\r\n         private String firstName;\r\n    \r\n         @NotNull(message = &quot;Last Name should not be empty&quot;)\r\n         @Size(max = 64, message = &quot;LastName should not exceed 64 characters&quot;)\r\n         private String lastName;\r\n    \r\n         @NotNull(message = &quot;Email cannot be empty&quot;)\r\n         @Size(max = 50, message = &quot;Email cannot exceed 50 characters&quot;)\r\n         @Pattern(regexp = EMAIL_REGEX_PATTERN, message = &quot;Email should contain a valid email address.&quot;)\r\n         private String email;\r\n    \r\n         // other fields\r\n    }\r\n\r\nController Class:\r\n\r\n    @PostMapping(value = Constants.STUDENT_SIGN_UP)\r\n    public Response signUpStudent(@Valid @RequestBody Request request, HttpServletRequest servletRequest) {\r\n    \r\n        // retrieving the actual resource from request payload\r\n        StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\r\n        // call service to sign-up student\r\n        return loginRegistrationService.signUpStudent(signUpRequest);\r\n    }\r\n\r\nCalling code sets request as below:\r\n\r\n    StudentSignUpRequest studentSignUpRequest = new StudentSignUpRequest();\r\n    //setter methods\r\n    \r\n    Request payload = new Request();\r\n    payload.setData(studentSignUpRequest);\r\n\r\nThis is the request I am sending:\r\n\r\nFor more than 64 chars for firstName:\r\n\r\nSample JSON:\r\n\r\n    {\r\n    \t&quot;data&quot;: {\r\n    \t\t&quot;firstName&quot;: &quot;student111111111111111111111111111111111111111111111111111111111111&quot;,\r\n    \t\t&quot;lastName&quot;: &quot;somesurname&quot;,\r\n    \t\t&quot;email&quot;: &quot;developer@gmail.com&quot;\r\n    \t}\r\n    }\r\n\r\nWhere first name not included:\r\n\r\n    {\r\n    \t&quot;data&quot;: {\r\n    \t\t&quot;lastName&quot;: &quot;somesurname&quot;,\r\n    \t\t&quot;email&quot;: &quot;developer@gmail.com&quot;\r\n    \t}\r\n    }\r\n\r\nHere both `@Size` as well as `@NotNull` annotation not working.\r\n\r\nAny solution?","title":"Not able to validate request body in Spring boot with @Valid","body":"<p>I want to validate my request body with <code>@Valid</code> annotation, but it's not working in Spring Boot</p>\n\n<p>I have a Request class within JAR file which I can't modify with two fields. One field is of type Object. My controller class accept this class object as a request body. When I pass my below JSON to the controller, validation is not working. Below are code samples.</p>\n\n<p>Request Class:</p>\n\n<pre><code>public class Request {\n\n    Object data;\n    Map&lt;String, Object&gt; meta;\n\n    public &lt;T&gt; T getData() throws ClassCastException {\n        return (T) this.data;\n    }\n}\n</code></pre>\n\n<p>Another Class:</p>\n\n<pre><code>public class StudentSignUpRequest {\n\n     @NotNull(message = \"First Name should not be empty\")\n     @Size(max = 64, message = \"FirstName should not exceed 64 characters\")\n     private String firstName;\n\n     @NotNull(message = \"Last Name should not be empty\")\n     @Size(max = 64, message = \"LastName should not exceed 64 characters\")\n     private String lastName;\n\n     @NotNull(message = \"Email cannot be empty\")\n     @Size(max = 50, message = \"Email cannot exceed 50 characters\")\n     @Pattern(regexp = EMAIL_REGEX_PATTERN, message = \"Email should contain a valid email address.\")\n     private String email;\n\n     // other fields\n}\n</code></pre>\n\n<p>Controller Class:</p>\n\n<pre><code>@PostMapping(value = Constants.STUDENT_SIGN_UP)\npublic Response signUpStudent(@Valid @RequestBody Request request, HttpServletRequest servletRequest) {\n\n    // retrieving the actual resource from request payload\n    StudentSignUpRequest signUpRequest = request.getData(StudentSignUpRequest.class);\n    // call service to sign-up student\n    return loginRegistrationService.signUpStudent(signUpRequest);\n}\n</code></pre>\n\n<p>Calling code sets request as below:</p>\n\n<pre><code>StudentSignUpRequest studentSignUpRequest = new StudentSignUpRequest();\n//setter methods\n\nRequest payload = new Request();\npayload.setData(studentSignUpRequest);\n</code></pre>\n\n<p>This is the request I am sending:</p>\n\n<p>For more than 64 chars for firstName:</p>\n\n<p>Sample JSON:</p>\n\n<pre><code>{\n    \"data\": {\n        \"firstName\": \"student111111111111111111111111111111111111111111111111111111111111\",\n        \"lastName\": \"somesurname\",\n        \"email\": \"developer@gmail.com\"\n    }\n}\n</code></pre>\n\n<p>Where first name not included:</p>\n\n<pre><code>{\n    \"data\": {\n        \"lastName\": \"somesurname\",\n        \"email\": \"developer@gmail.com\"\n    }\n}\n</code></pre>\n\n<p>Here both <code>@Size</code> as well as <code>@NotNull</code> annotation not working.</p>\n\n<p>Any solution?</p>\n"},{"tags":["java","gradle","jar","dependencies","classpath"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690917636,"post_id":76814482,"comment_id":135419090,"body_markdown":"Is library A going to be used by another library or application? It is probably a bad idea to use fat jars. The sub dependencies versions may conflict. Fat jars are usually used for application jars to include all their dependencies.","body":"Is library A going to be used by another library or application? It is probably a bad idea to use fat jars. The sub dependencies versions may conflict. Fat jars are usually used for application jars to include all their dependencies."},{"owner":{"account_id":19430143,"reputation":65,"user_id":14210786,"display_name":"Stefan Ss"},"score":0,"creation_date":1690917843,"post_id":76814482,"comment_id":135419130,"body_markdown":"Ok understood, but that&#39;s not answering my questions. Could you also tell me if what i wrote above is right or not?","body":"Ok understood, but that&#39;s not answering my questions. Could you also tell me if what i wrote above is right or not?"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690917019,"creation_date":1690917019,"answer_id":76814566,"question_id":76814482,"body_markdown":"Yes, your understanding **is correct**.\r\n\r\nIn summary, regular **`JARs` require you to manage the dependencies manually**, while **`FAT JARs` (or `UBER JARs`) bundle all the dependencies together**, making it more convenient for distribution and deployment as it reduces the need to manage separate `JAR` files for each dependency. \r\n\r\nHowever, it&#39;s worth noting that using `FAT JARs` can lead to larger `JAR` sizes, which **might be a concern in certain scenarios**.\r\n\r\nCheck this out:\r\n - https://stackoverflow.com/questions/11947037/what-is-an-uber-jar-file\r\n - [JAR File Overview][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jarGuide.html","title":"Fat jar vs normal jar dependencies resolution","body":"<p>Yes, your understanding <strong>is correct</strong>.</p>\n<p>In summary, regular <strong><code>JARs</code> require you to manage the dependencies manually</strong>, while <strong><code>FAT JARs</code> (or <code>UBER JARs</code>) bundle all the dependencies together</strong>, making it more convenient for distribution and deployment as it reduces the need to manage separate <code>JAR</code> files for each dependency.</p>\n<p>However, it's worth noting that using <code>FAT JARs</code> can lead to larger <code>JAR</code> sizes, which <strong>might be a concern in certain scenarios</strong>.</p>\n<p>Check this out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11947037/what-is-an-uber-jar-file\">What is an uber JAR file?</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jar/jarGuide.html\" rel=\"nofollow noreferrer\">JAR File Overview</a></li>\n</ul>\n"}],"owner":{"account_id":19430143,"reputation":65,"user_id":14210786,"display_name":"Stefan Ss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690924860,"creation_date":1690916216,"question_id":76814482,"body_markdown":"Let&#39;s take the following exemple: build a library ***A*** that has 3 dependencies ***X, Y, Z*** and we create 2 JARs: ***regular*** and ***FAT***.\r\n\r\nWe have a service ***B*** in which we first import the normal JAR and then the FAT jar.\r\n\r\n 1. In the first case (regular JAR) will we need to manually import all the dependencies (X, Y, Z) in B so that A works (importing the JAR of A will not automatically import all its transitive(direct) dependencies - X, Y, Z) ? ***/ OR /*** the library will work (calling it&#39;s methods) but trying to call methods from X, Y, Z will fail and we will need to manually import them ?\r\n 2. In the second scenario because the Fat JAR has all the dependencies imbedded we won&#39;t need to add any dependencies right ? We can both use A and also methods and classes from X, Y and Z.\r\n\r\nIs what I said at 1) and 2) right ? Is this how it works ?\r\n\r\n\r\n**Runtime Classpath vs Compile Classpath for normal vs FAT JAR**\r\n\r\n 1. Including the normal JAR of A as a dependency to B:\r\n   - compile classpath will only have A dependency ?\r\n   - runtime classpath will have A, X, Y and Z dependencies ?\r\n 2. Including the FAT JAR of A as a dependency to B:\r\n   - compile classpath will have A, X, Y and Z dependencies ?\r\n   - runtime classpath will have A, X, Y and Z dependencies ?\r\n\r\nIs this how the compile classpath and runtime classpath will look like in these scenarios ?\r\n\r\n","title":"Fat jar vs normal jar dependencies resolution","body":"<p>Let's take the following exemple: build a library <em><strong>A</strong></em> that has 3 dependencies <em><strong>X, Y, Z</strong></em> and we create 2 JARs: <em><strong>regular</strong></em> and <em><strong>FAT</strong></em>.</p>\n<p>We have a service <em><strong>B</strong></em> in which we first import the normal JAR and then the FAT jar.</p>\n<ol>\n<li>In the first case (regular JAR) will we need to manually import all the dependencies (X, Y, Z) in B so that A works (importing the JAR of A will not automatically import all its transitive(direct) dependencies - X, Y, Z) ? <em><strong>/ OR /</strong></em> the library will work (calling it's methods) but trying to call methods from X, Y, Z will fail and we will need to manually import them ?</li>\n<li>In the second scenario because the Fat JAR has all the dependencies imbedded we won't need to add any dependencies right ? We can both use A and also methods and classes from X, Y and Z.</li>\n</ol>\n<p>Is what I said at 1) and 2) right ? Is this how it works ?</p>\n<p><strong>Runtime Classpath vs Compile Classpath for normal vs FAT JAR</strong></p>\n<ol>\n<li>Including the normal JAR of A as a dependency to B:</li>\n</ol>\n<ul>\n<li>compile classpath will only have A dependency ?</li>\n<li>runtime classpath will have A, X, Y and Z dependencies ?</li>\n</ul>\n<ol start=\"2\">\n<li>Including the FAT JAR of A as a dependency to B:</li>\n</ol>\n<ul>\n<li>compile classpath will have A, X, Y and Z dependencies ?</li>\n<li>runtime classpath will have A, X, Y and Z dependencies ?</li>\n</ul>\n<p>Is this how the compile classpath and runtime classpath will look like in these scenarios ?</p>\n"},{"tags":["java","android","mongodb","android-studio","realm"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":2,"creation_date":1690917031,"post_id":76814517,"comment_id":135418992,"body_markdown":"Those docs are current and accurate. Did you note this - *The Java SDK does not yet support the Gradle Plugin syntax*?","body":"Those docs are current and accurate. Did you note this - <i>The Java SDK does not yet support the Gradle Plugin syntax</i>?"},{"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"score":0,"creation_date":1690921384,"post_id":76814517,"comment_id":135419665,"body_markdown":"@Jay so what i can do","body":"@Jay so what i can do"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":1,"creation_date":1690922439,"post_id":76814517,"comment_id":135419816,"body_markdown":"You can go to the [Gradle Configuration Docs](https://www.mongodb.com/docs/realm/sdk/java/install/#project-gradle-configuration) and follow the steps outlined there starting with this step **Add a buildscript block** ensuring you add the required plugins, repositories and dependencies.","body":"You can go to the <a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#project-gradle-configuration\" rel=\"nofollow noreferrer\">Gradle Configuration Docs</a> and follow the steps outlined there starting with this step <b>Add a buildscript block</b> ensuring you add the required plugins, repositories and dependencies."},{"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"score":0,"creation_date":1690923261,"post_id":76814517,"comment_id":135419955,"body_markdown":"@Jay I added the buildscript block and added it at the top so it didn&#39;t cause any problems. Now Android Studio recognizes all the codes. thanks","body":"@Jay I added the buildscript block and added it at the top so it didn&#39;t cause any problems. Now Android Studio recognizes all the codes. thanks"}],"answers":[{"tags":[],"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690923623,"creation_date":1690923623,"answer_id":76815152,"question_id":76814517,"body_markdown":"I updated my `build.gradle (Module :app)` file as follows and now the codes are recognized by Android Studio.\r\n\r\n    // START[for MongoDB Realm.io]\r\n    buildscript {\r\n        dependencies {\r\n            classpath &quot;io.realm:realm-gradle-plugin:10.11.1&quot;\r\n        }\r\n    }\r\n    // FINISH[for MongoDB Realm.io]\r\n    \r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    // START[for MongoDB Realm.io]\r\n    apply plugin: &quot;realm-android&quot;\r\n    \r\n    realm {\r\n        syncEnabled = true\r\n    }\r\n    // FINISH[for MongoDB Realm.io]\r\n    \r\n    android {\r\n        namespace &#39;com.example.ig&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.ig&quot;\r\n            minSdk 28\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\n*I added the buildscript block as Jay said*","title":"While installing mongodb realm, I can&#39;t make gradle file. I think the docs are old","body":"<p>I updated my <code>build.gradle (Module :app)</code> file as follows and now the codes are recognized by Android Studio.</p>\n<pre><code>// START[for MongoDB Realm.io]\nbuildscript {\n    dependencies {\n        classpath &quot;io.realm:realm-gradle-plugin:10.11.1&quot;\n    }\n}\n// FINISH[for MongoDB Realm.io]\n\nplugins {\n    id 'com.android.application'\n}\n\n// START[for MongoDB Realm.io]\napply plugin: &quot;realm-android&quot;\n\nrealm {\n    syncEnabled = true\n}\n// FINISH[for MongoDB Realm.io]\n\nandroid {\n    namespace 'com.example.ig'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.ig&quot;\n        minSdk 28\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p><em>I added the buildscript block as Jay said</em></p>\n"}],"owner":{"account_id":20294412,"reputation":115,"user_id":14885335,"display_name":"Droidbane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76815152,"answer_count":1,"score":0,"last_activity_date":1690923623,"creation_date":1690916535,"question_id":76814517,"body_markdown":"I want to use realm.io for android application but I have problems during installation\r\n\r\n[I used these steps. I think the codes are outdated because it doesn&#39;t match my Gradle file but somehow I made it.][1]\r\n\r\nhere is my `build.gradle (Module :app)` file\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.ig&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.ig&quot;\r\n            minSdk 28\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    \r\n    //    for MongoDB\r\n        implementation &quot;io.realm:realm-gradle-plugin:10.16.1&quot;\r\n    }\r\nI couldn&#39;t add these codes here\r\n[this][2]\r\n\r\n    apply plugin: &#39;realm-android&#39;\r\n\r\n [and this][3]\r\n\r\n    realm {\r\n        syncEnabled = true\r\n    }\r\n\r\nafter this stage [I wrote this code][4] [and this code][5]\r\n\r\n    Realm.init(this); // context, usually an Activity or Application\r\n\r\n    app = new App(new AppConfiguration.Builder(appID)\r\n        .build());\r\n\r\n**and now getting an error message:**\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n***How can I resolve this error message?***\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/realm/sdk/java/install/#std-label-java-install\r\n  [2]: https://www.mongodb.com/docs/realm/sdk/java/install/#application-module-gradle-configuration\r\n  [3]: https://www.mongodb.com/docs/realm/sdk/java/install/#enable-atlas-device-sync\r\n  [4]: https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-realm\r\n  [5]: https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-the-app\r\n  [6]: https://i.stack.imgur.com/67acU.png\r\n  [7]: https://i.stack.imgur.com/W4v3f.png","title":"While installing mongodb realm, I can&#39;t make gradle file. I think the docs are old","body":"<p>I want to use realm.io for android application but I have problems during installation</p>\n<p><a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#std-label-java-install\" rel=\"nofollow noreferrer\">I used these steps. I think the codes are outdated because it doesn't match my Gradle file but somehow I made it.</a></p>\n<p>here is my <code>build.gradle (Module :app)</code> file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.ig'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.ig&quot;\n        minSdk 28\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n//    for MongoDB\n    implementation &quot;io.realm:realm-gradle-plugin:10.16.1&quot;\n}\n</code></pre>\n<p>I couldn't add these codes here\n<a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#application-module-gradle-configuration\" rel=\"nofollow noreferrer\">this</a></p>\n<pre><code>apply plugin: 'realm-android'\n</code></pre>\n<p><a href=\"https://www.mongodb.com/docs/realm/sdk/java/install/#enable-atlas-device-sync\" rel=\"nofollow noreferrer\">and this</a></p>\n<pre><code>realm {\n    syncEnabled = true\n}\n</code></pre>\n<p>after this stage <a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-realm\" rel=\"nofollow noreferrer\">I wrote this code</a> <a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-starts/quick-start-sync/#initialize-the-app\" rel=\"nofollow noreferrer\">and this code</a></p>\n<pre><code>Realm.init(this); // context, usually an Activity or Application\n\napp = new App(new AppConfiguration.Builder(appID)\n    .build());\n</code></pre>\n<p><strong>and now getting an error message:</strong>\n<a href=\"https://i.stack.imgur.com/67acU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67acU.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/W4v3f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W4v3f.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>How can I resolve this error message?</strong></em></p>\n"},{"tags":["java","reflection","record"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1674486237,"post_id":75211297,"comment_id":132718427,"body_markdown":"You create a new record with the changes you want. You CAN NOT change an already existing instance.","body":"You create a new record with the changes you want. You CAN NOT change an already existing instance."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":5,"creation_date":1674486242,"post_id":75211297,"comment_id":132718430,"body_markdown":"What you want is impossible. `record` objects are immutable. At best, you can make __a new__ instance of `Account` with the changes applied. If the `Account` object is stored somewhere, you can then overwrite the field (if it isn&#39;t `final`) of whatever is storing the Account with this new account instance.","body":"What you want is impossible. <code>record</code> objects are immutable. At best, you can make <b>a new</b> instance of <code>Account</code> with the changes applied. If the <code>Account</code> object is stored somewhere, you can then overwrite the field (if it isn&#39;t <code>final</code>) of whatever is storing the Account with this new account instance."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1674486381,"post_id":75211297,"comment_id":132718467,"body_markdown":"Hotspot trusts the final fields in a record - this is why you can&#39;t change them. See the specification for [`Field.set`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#set%28java.lang.Object,java.lang.Object%29) - &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met: ... the field&#39;s declaring class is not a record class.&quot;","body":"Hotspot trusts the final fields in a record - this is why you can&#39;t change them. See the specification for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#set%28java.lang.Object,java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>Field.set</code></a> - &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met: ... the field&#39;s declaring class is not a record class.&quot;"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1674486692,"post_id":75211297,"comment_id":132718572,"body_markdown":"What about...initializing the fields in the constructor?","body":"What about...initializing the fields in the constructor?"},{"owner":{"account_id":12164094,"reputation":13,"user_id":8880886,"display_name":"Etarus"},"score":0,"creation_date":1674489016,"post_id":75211297,"comment_id":132719444,"body_markdown":"@dan1st I was hoping to implement my own ORM (for practice) and create records with data from the database. But record will have links to other records and a list of records, and then I&#39;ll have to turn record creation inside out. It&#39;s harder, I was hoping to avoid it.","body":"@dan1st I was hoping to implement my own ORM (for practice) and create records with data from the database. But record will have links to other records and a list of records, and then I&#39;ll have to turn record creation inside out. It&#39;s harder, I was hoping to avoid it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1674496436,"post_id":75211297,"comment_id":132721782,"body_markdown":"See the [definition of record](https://openjdk.org/jeps/395).","body":"See the <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">definition of record</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1675083147,"post_id":75211297,"comment_id":132845418,"body_markdown":"No, for creating a `record` from a database row, you don’t have to turn the creation inside out. You have to stop turning it inside out. Being widespread doesn’t turn a bad practice into a good one.","body":"No, for creating a <code>record</code> from a database row, you don’t have to turn the creation inside out. You have to stop turning it inside out. Being widespread doesn’t turn a bad practice into a good one."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1675082960,"post_id":75249638,"comment_id":132845351,"body_markdown":"Don’t come back complaining about crashes or “weird behavior” in your program.","body":"Don’t come back complaining about crashes or “weird behavior” in your program."},{"owner":{"account_id":12164094,"reputation":13,"user_id":8880886,"display_name":"Etarus"},"score":0,"creation_date":1675083848,"post_id":75249638,"comment_id":132845675,"body_markdown":"@Holger I accepted this answer, but not because I will be using it. I did not want to delete the question. Suddenly someone will also look for this information.","body":"@Holger I accepted this answer, but not because I will be using it. I did not want to delete the question. Suddenly someone will also look for this information."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1675086017,"post_id":75249638,"comment_id":132846413,"body_markdown":"@ЭдуардАртюх that’s exactly why it is important to remind future readers that this code is not a solution but a recipe for disaster.","body":"@ЭдуардАртюх that’s exactly why it is important to remind future readers that this code is not a solution but a recipe for disaster."}],"tags":[],"owner":{"account_id":26298354,"reputation":12,"user_id":19964219,"display_name":"violet945786"},"comment_count":3,"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1674758443,"creation_date":1674753888,"answer_id":75249638,"question_id":75211297,"body_markdown":"In general the commenters saying that this &quot;can&#39;t be done&quot; or is &quot;impossible&quot; aren&#39;t wrong... unless you are willing to slightly bend the rules of the JVM :)  For example, by using unsafe reflection to change the relevant value directly at the memory location in the record like this:\r\n\r\n    public static void setFieldValue(Object instance, String fieldName, Object value) {\r\n        try {\r\n            Field f = instance.getClass().getDeclaredField(fieldName);\r\n\r\n            Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            unsafeField.setAccessible(true);\r\n            Unsafe unsafe = (Unsafe) unsafeField.get(null);\r\n\r\n            Field theInternalUnsafeField = Unsafe.class.getDeclaredField(&quot;theInternalUnsafe&quot;);\r\n            theInternalUnsafeField.setAccessible(true);\r\n            Object theInternalUnsafe = theInternalUnsafeField.get(null);\r\n\r\n            Method offset = Class.forName(&quot;jdk.internal.misc.Unsafe&quot;).getMethod(&quot;objectFieldOffset&quot;, Field.class);\r\n            unsafe.putBoolean(offset, 12, true);\r\n\r\n            unsafe.putObject(instance, (long) offset.invoke(theInternalUnsafe, f), value);\r\n        } catch (IllegalAccessException | NoSuchFieldException | ClassNotFoundException | NoSuchMethodException | InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Change field in Record","body":"<p>In general the commenters saying that this &quot;can't be done&quot; or is &quot;impossible&quot; aren't wrong... unless you are willing to slightly bend the rules of the JVM :)  For example, by using unsafe reflection to change the relevant value directly at the memory location in the record like this:</p>\n<pre><code>public static void setFieldValue(Object instance, String fieldName, Object value) {\n    try {\n        Field f = instance.getClass().getDeclaredField(fieldName);\n\n        Field unsafeField = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\n        unsafeField.setAccessible(true);\n        Unsafe unsafe = (Unsafe) unsafeField.get(null);\n\n        Field theInternalUnsafeField = Unsafe.class.getDeclaredField(&quot;theInternalUnsafe&quot;);\n        theInternalUnsafeField.setAccessible(true);\n        Object theInternalUnsafe = theInternalUnsafeField.get(null);\n\n        Method offset = Class.forName(&quot;jdk.internal.misc.Unsafe&quot;).getMethod(&quot;objectFieldOffset&quot;, Field.class);\n        unsafe.putBoolean(offset, 12, true);\n\n        unsafe.putObject(instance, (long) offset.invoke(theInternalUnsafe, f), value);\n    } catch (IllegalAccessException | NoSuchFieldException | ClassNotFoundException | NoSuchMethodException | InvocationTargetException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16141430,"reputation":111,"user_id":11652444,"display_name":"bangeboss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683550893,"creation_date":1683550893,"answer_id":76200868,"question_id":75211297,"body_markdown":"`Field::set` method doesn&#39;t work for record class fields by design. From the [docs](https://bugs.openjdk.org/browse/JDK-8247517), \r\n\r\n If the underlying field is final, this Field object has write access if and only if the following conditions are met:  \r\n- `setAccessible(true)` has succeeded for this Field object;\r\n- the field is **non-static**; and\r\n- the field&#39;s declaring class is **not a hidden class**; and\r\n- the field&#39;s declaring class is **not a record class**.\r\n\r\nTo be able to modify the fields reflectively, convert `Account` from a record class to a regular POJO class. Records are truly immutable, not even reflection will do. \r\n\r\n\r\n## Account.java ##\r\n\r\n    public class Account {\r\n\r\n        private final Integer id;\r\n        private final String login;\r\n        private final Boolean blocked;\r\n    \r\n        public Account(Integer id, String login, Boolean blocked) {\r\n            this.id = id;\r\n            this.login = login;\r\n            this.blocked = blocked;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getLogin() {\r\n            return login;\r\n        }\r\n    \r\n        public Boolean getBlocked() {\r\n            return blocked;\r\n        }\r\n    \r\n    }","title":"Change field in Record","body":"<p><code>Field::set</code> method doesn't work for record class fields by design. From the <a href=\"https://bugs.openjdk.org/browse/JDK-8247517\" rel=\"nofollow noreferrer\">docs</a>,</p>\n<p>If the underlying field is final, this Field object has write access if and only if the following conditions are met:</p>\n<ul>\n<li><code>setAccessible(true)</code> has succeeded for this Field object;</li>\n<li>the field is <strong>non-static</strong>; and</li>\n<li>the field's declaring class is <strong>not a hidden class</strong>; and</li>\n<li>the field's declaring class is <strong>not a record class</strong>.</li>\n</ul>\n<p>To be able to modify the fields reflectively, convert <code>Account</code> from a record class to a regular POJO class. Records are truly immutable, not even reflection will do.</p>\n<h2>Account.java</h2>\n<pre><code>public class Account {\n\n    private final Integer id;\n    private final String login;\n    private final Boolean blocked;\n\n    public Account(Integer id, String login, Boolean blocked) {\n        this.id = id;\n        this.login = login;\n        this.blocked = blocked;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getLogin() {\n        return login;\n    }\n\n    public Boolean getBlocked() {\n        return blocked;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215554,"reputation":159,"user_id":1183224,"display_name":"isuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690923509,"creation_date":1690923509,"answer_id":76815144,"question_id":75211297,"body_markdown":"I know you are asking about Java records, but if you really need to change a single field in a record you could user a Kotlin data class which allows you to easily create a copy of the data with just one field changed. The Kotlin class can easily be called from Java\r\n\r\nKotlin data class:\r\n\r\n    data class Account(val id :String, val login: String, val blocked: Boolean) {\r\n        fun setId(id:String) = copy(id = id)\r\n        fun setLogin(login:String) = copy(login = login)\r\n        fun setBlocked(blocked:Boolean) = copy(blocked = blocked)\r\n    }\r\n\r\n\r\nJava class:\r\n\r\n     public class AccountSetter {\r\n    \r\n        public static void main(String[] args) {\r\n            Account account = new Account(&quot;oldId&quot;, &quot;foo&quot;, false);\r\n            account = account.setId(&quot;newId&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Change field in Record","body":"<p>I know you are asking about Java records, but if you really need to change a single field in a record you could user a Kotlin data class which allows you to easily create a copy of the data with just one field changed. The Kotlin class can easily be called from Java</p>\n<p>Kotlin data class:</p>\n<pre><code>data class Account(val id :String, val login: String, val blocked: Boolean) {\n    fun setId(id:String) = copy(id = id)\n    fun setLogin(login:String) = copy(login = login)\n    fun setBlocked(blocked:Boolean) = copy(blocked = blocked)\n}\n</code></pre>\n<p>Java class:</p>\n<pre><code> public class AccountSetter {\n\n    public static void main(String[] args) {\n        Account account = new Account(&quot;oldId&quot;, &quot;foo&quot;, false);\n        account = account.setId(&quot;newId&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12164094,"reputation":13,"user_id":8880886,"display_name":"Etarus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75249638,"answer_count":3,"score":1,"last_activity_date":1690923509,"creation_date":1674486119,"question_id":75211297,"body_markdown":"I study reflection and try to change field&#39;s value in Record.\r\n\r\n```\r\npublic record Account(Integer id, String login, Boolean blocked) {}\r\n```\r\n\r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tAccount account = new Account(null, null, null);\r\n\t\tsetFieldValue(account, &quot;id&quot;, 1);\r\n\t\tsetFieldValue(account, &quot;login&quot;, &quot;admin&quot;);\r\n\t\tsetFieldValue(account, &quot;blocked&quot;, false);\r\n\t\tSystem.out.println(account);\r\n\t}\r\n\tpublic static void setFieldValue(Object instance,\r\n\t                                 String fieldName,\r\n\t                                 Object value) {\r\n\t\ttry {\r\n\t\t\tField field = instance.getClass().getDeclaredField(fieldName);\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\tfield.set(instance, value);\r\n\t\t} catch (NoSuchFieldException | IllegalAccessException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nIf I convert Record to Class everything works, but with Record I get Exception\r\n\r\n```\r\njava.lang.IllegalAccessException: Can not set final java.lang.Integer field Account.id to java.lang.Integer\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\r\n\tat java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:799)\r\n```\r\n\r\nWhat do I have to do to make the code work with records?","title":"Change field in Record","body":"<p>I study reflection and try to change field's value in Record.</p>\n<pre><code>public record Account(Integer id, String login, Boolean blocked) {}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Account account = new Account(null, null, null);\n        setFieldValue(account, &quot;id&quot;, 1);\n        setFieldValue(account, &quot;login&quot;, &quot;admin&quot;);\n        setFieldValue(account, &quot;blocked&quot;, false);\n        System.out.println(account);\n    }\n    public static void setFieldValue(Object instance,\n                                     String fieldName,\n                                     Object value) {\n        try {\n            Field field = instance.getClass().getDeclaredField(fieldName);\n            field.setAccessible(true);\n            field.set(instance, value);\n        } catch (NoSuchFieldException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>If I convert Record to Class everything works, but with Record I get Exception</p>\n<pre><code>java.lang.IllegalAccessException: Can not set final java.lang.Integer field Account.id to java.lang.Integer\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\n    at java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n</code></pre>\n<p>What do I have to do to make the code work with records?</p>\n"},{"tags":["java","ubuntu","intellij-idea","remote-debugging","portforwarding"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690921390,"post_id":76814849,"comment_id":135419666,"body_markdown":"If you can&#39;t change the VM options and the debugger is listening on localhost, you can use `socat` to forward from the external interface to the localhost interface. See [the related answer](https://unix.stackexchange.com/a/187038/9113).","body":"If you can&#39;t change the VM options and the debugger is listening on localhost, you can use <code>socat</code> to forward from the external interface to the localhost interface. See <a href=\"https://unix.stackexchange.com/a/187038/9113\">the related answer</a>."},{"owner":{"account_id":3781227,"reputation":53,"user_id":3140658,"display_name":"Ben Weintraub"},"score":1,"creation_date":1690921937,"post_id":76814849,"comment_id":135419744,"body_markdown":"Thank you! That worked. If you leave it as an answer, I will accept it. Specifically, I used `socat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005` and on vagrant I forwarded guest port 5005 to host port 5006. @CrazyCoder, if you leave this as an answer, I will accept it.","body":"Thank you! That worked. If you leave it as an answer, I will accept it. Specifically, I used <code>socat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005</code> and on vagrant I forwarded guest port 5005 to host port 5006. @CrazyCoder, if you leave this as an answer, I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690922323,"creation_date":1690922323,"answer_id":76815037,"question_id":76814849,"body_markdown":"The following command will bind the debugger server on `localhost` interface if you are using Java 9+ version:\r\n\r\n`java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005`\r\n\r\nVagrant port forwarding is likely expecting an external interface to work properly.\r\n\r\nSince you can&#39;t change the Java debugger options (to use `address=*:5005`), the workaround would be to use `socat` to forward the port from the external interface to localhost inside the VM like this:\r\n\r\n```\r\nsocat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005\r\n```\r\n\r\nNow you can forward port 5005 to 5006 in Vagrant and it should work.\r\n\r\n","title":"How do I remotely debug a java app on vagrant VM?","body":"<p>The following command will bind the debugger server on <code>localhost</code> interface if you are using Java 9+ version:</p>\n<p><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005</code></p>\n<p>Vagrant port forwarding is likely expecting an external interface to work properly.</p>\n<p>Since you can't change the Java debugger options (to use <code>address=*:5005</code>), the workaround would be to use <code>socat</code> to forward the port from the external interface to localhost inside the VM like this:</p>\n<pre><code>socat tcp-listen:5006,reuseaddr,fork tcp:localhost:5005\n</code></pre>\n<p>Now you can forward port 5005 to 5006 in Vagrant and it should work.</p>\n"}],"owner":{"account_id":3781227,"reputation":53,"user_id":3140658,"display_name":"Ben Weintraub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76815037,"answer_count":1,"score":1,"last_activity_date":1690922323,"creation_date":1690920261,"question_id":76814849,"body_markdown":"I&#39;m running IntelliJ IDEA 2023.1.2 (Community Edition) and I&#39;m having a problem remotely debugging a java application running on a vagrant VM. I believe it is some kind of networking issue. My vagrant VM is running Ubuntu 20.04.\r\n\r\nThe problem is that when I run the remote debugger, I see the following error in intellij\r\n```\r\nUnable to open debugger port (localhost:5005): java.net.SocketException &quot;Connection reset&quot;\r\n```\r\n\r\nThe syslog on the vagrant VM shows the following after one of these failed connections\r\n```\r\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug3: channel 0: waiting for connection\r\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug1: channel 0: connection failed: Connection refused\r\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: error: connect_to 192.168.121.118 port 5005: failed.\r\n```\r\n\r\n\r\nWhen I attempt to connect with `jdb`, I see the following error\r\n```\r\n$&gt; jdb -attach localhost:5005\r\njava.io.IOException: handshake failed - connection prematurally closed\r\n\tat jdk.jdi/com.sun.tools.jdi.SocketTransportService.handshake(SocketTransportService.java:142)\r\n\tat jdk.jdi/com.sun.tools.jdi.SocketTransportService.attach(SocketTransportService.java:255)\r\n\tat jdk.jdi/com.sun.tools.jdi.GenericAttachingConnector.attach(GenericAttachingConnector.java:119)\r\n\tat jdk.jdi/com.sun.tools.jdi.SocketAttachingConnector.attach(SocketAttachingConnector.java:83)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.attachTarget(VMConnection.java:519)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.open(VMConnection.java:328)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.Env.init(Env.java:63)\r\n\tat jdk.jdi/com.sun.tools.example.debug.tty.TTY.main(TTY.java:1095)\r\n\r\nFatal error:\r\nUnable to attach to target VM.\r\n```\r\n\r\nHere are some additional observations:\r\n\r\n1. The java application which is running on the VM has debugging enabled (i.e., it includes `java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005` in the process). I realize that the new versions of java suggest using `address=*:5005` but for a variety of reasons, I can&#39;t change the Java opts on that process.\r\n1. I have verified that the process is indeed listening on port 5005 on the VM. `netstat` shows that the process is listening on 5005.\r\n1. I have forwarded the port to my host machine&#39;s port 5005, and can see on the host machine that the port forwarding is enabled.\r\n1. I can connect to the remote process from the host machine via `nc localhost 5005`.\r\n1. [This question](https://stackoverflow.com/questions/34881992/how-to-remotely-debug-java-app-and-forwarding-the-port-to-virtual-machine) is similar but it&#39;s the inverse of what I want. I have the debugger running on the host and the java app running on the guest.\r\n\r\n\r\nAny thoughts on what I might be missing?\r\n","title":"How do I remotely debug a java app on vagrant VM?","body":"<p>I'm running IntelliJ IDEA 2023.1.2 (Community Edition) and I'm having a problem remotely debugging a java application running on a vagrant VM. I believe it is some kind of networking issue. My vagrant VM is running Ubuntu 20.04.</p>\n<p>The problem is that when I run the remote debugger, I see the following error in intellij</p>\n<pre><code>Unable to open debugger port (localhost:5005): java.net.SocketException &quot;Connection reset&quot;\n</code></pre>\n<p>The syslog on the vagrant VM shows the following after one of these failed connections</p>\n<pre><code>Aug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug3: channel 0: waiting for connection\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: debug1: channel 0: connection failed: Connection refused\nAug 01 19:14:43 ubuntu2004.localdomain sshd[2095]: error: connect_to 192.168.121.118 port 5005: failed.\n</code></pre>\n<p>When I attempt to connect with <code>jdb</code>, I see the following error</p>\n<pre><code>$&gt; jdb -attach localhost:5005\njava.io.IOException: handshake failed - connection prematurally closed\n    at jdk.jdi/com.sun.tools.jdi.SocketTransportService.handshake(SocketTransportService.java:142)\n    at jdk.jdi/com.sun.tools.jdi.SocketTransportService.attach(SocketTransportService.java:255)\n    at jdk.jdi/com.sun.tools.jdi.GenericAttachingConnector.attach(GenericAttachingConnector.java:119)\n    at jdk.jdi/com.sun.tools.jdi.SocketAttachingConnector.attach(SocketAttachingConnector.java:83)\n    at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.attachTarget(VMConnection.java:519)\n    at jdk.jdi/com.sun.tools.example.debug.tty.VMConnection.open(VMConnection.java:328)\n    at jdk.jdi/com.sun.tools.example.debug.tty.Env.init(Env.java:63)\n    at jdk.jdi/com.sun.tools.example.debug.tty.TTY.main(TTY.java:1095)\n\nFatal error:\nUnable to attach to target VM.\n</code></pre>\n<p>Here are some additional observations:</p>\n<ol>\n<li>The java application which is running on the VM has debugging enabled (i.e., it includes <code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005</code> in the process). I realize that the new versions of java suggest using <code>address=*:5005</code> but for a variety of reasons, I can't change the Java opts on that process.</li>\n<li>I have verified that the process is indeed listening on port 5005 on the VM. <code>netstat</code> shows that the process is listening on 5005.</li>\n<li>I have forwarded the port to my host machine's port 5005, and can see on the host machine that the port forwarding is enabled.</li>\n<li>I can connect to the remote process from the host machine via <code>nc localhost 5005</code>.</li>\n<li><a href=\"https://stackoverflow.com/questions/34881992/how-to-remotely-debug-java-app-and-forwarding-the-port-to-virtual-machine\">This question</a> is similar but it's the inverse of what I want. I have the debugger running on the host and the java app running on the guest.</li>\n</ol>\n<p>Any thoughts on what I might be missing?</p>\n"},{"tags":["java","string","println","replit"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690922925,"post_id":76815027,"comment_id":135419889,"body_markdown":"`java -classpath .:target/dependency/* com.berrycalc.Main` Your class is in a package, which you need to define to the runtime","body":"<code>java -classpath .:target&#47;dependency&#47;* com.berrycalc.Main</code> Your class is in a package, which you need to define to the runtime"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690923265,"post_id":76815027,"comment_id":135419956,"body_markdown":"Also, be careful how that globbed classpath expands. To check it&#39;s what you think it is, do `echo &quot;.:target/dependency/*&quot;`","body":"Also, be careful how that globbed classpath expands. To check it&#39;s what you think it is, do <code>echo &quot;.:target&#47;dependency&#47;*&quot;</code>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690938936,"post_id":76815027,"comment_id":135421697,"body_markdown":"Remove &quot;package com.berrycalc;&quot; , it also depends where you start your class from with the OS command interpreters &quot;working directory&quot;(as much in a .bat or .sh). Also, with a jar, the Main-Class: entry in the manifest file must be set. (package declaration on a main class is reasonably irrelevant , if you can&#39;t find main you can&#39;t find nutt&#39;in!)","body":"Remove &quot;package com.berrycalc;&quot; , it also depends where you start your class from with the OS command interpreters &quot;working directory&quot;(as much in a .bat or .sh). Also, with a jar, the Main-Class: entry in the manifest file must be set. (package declaration on a main class is reasonably irrelevant , if you can&#39;t find main you can&#39;t find nutt&#39;in!)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690960963,"post_id":76815027,"comment_id":135423929,"body_markdown":"*Remove &quot;package com.berrycalc;&quot;* @SamuelMarchant, you&#39;re seriously proposing that as a solution? Also your remark about a jar file are not relevant here.","body":"<i>Remove &quot;package com.berrycalc;&quot;</i> @SamuelMarchant, you&#39;re seriously proposing that as a solution? Also your remark about a jar file are not relevant here."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690963409,"post_id":76815027,"comment_id":135424449,"body_markdown":"@g00se an interesting feature of his folder structure is it starts with &quot;com&quot; , that is the most common name and recommended name for top folder of a jar library.  Of class not found, on a main class it imports it does not get imported unless it&#39;s some sort of connector!","body":"@g00se an interesting feature of his folder structure is it starts with &quot;com&quot; , that is the most common name and recommended name for top folder of a jar library.  Of class not found, on a main class it imports it does not get imported unless it&#39;s some sort of connector!"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690963659,"post_id":76815027,"comment_id":135424508,"body_markdown":"...anyhow, the direct command should be something like java -classpath &quot;com\\berrycalc&quot;;. Main  (Windows)    from the folder above com as the working directory. And similar in Unix java -classpath &quot;com/berrycalc&quot; Main","body":"...anyhow, the direct command should be something like java -classpath &quot;com\\berrycalc&quot;;. Main  (Windows)    from the folder above com as the working directory. And similar in Unix java -classpath &quot;com/berrycalc&quot; Main"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690964428,"post_id":76815027,"comment_id":135424697,"body_markdown":"*...anyhow, the direct command should be something like...* Absolutely not. Aside from the obvious fact that the OP is not using Windows, the classpath *never* reaches into the package tree","body":"<i>...anyhow, the direct command should be something like...</i> Absolutely not. Aside from the obvious fact that the OP is not using Windows, the classpath <i>never</i> reaches into the package tree"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690973388,"post_id":76815027,"comment_id":135426587,"body_markdown":"The line in his error message with &quot;Caused by&quot; reasonably much says it ! &quot;Main&quot; is not part of the class path folders.","body":"The line in his error message with &quot;Caused by&quot; reasonably much says it ! &quot;Main&quot; is not part of the class path folders."}],"owner":{"account_id":29139522,"reputation":1,"user_id":22322853,"display_name":"aberrytech"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690959295,"answer_count":0,"score":0,"last_activity_date":1690922239,"creation_date":1690922239,"question_id":76815027,"body_markdown":"I am trying to figure out what I am doing wrong?\r\n\r\n```\r\npackage com.berrycalc;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\t    final byte MONTHS_IN_YEAR=12;\r\n\t    final byte PERCENT=100;\r\n\r\n\t    Scanner scanner=new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Welcome to Berry Bank! How much money will you need to borrow for your home loan?&quot;);\r\n        int principal=scanner.nextInt();\r\n\r\n        System.out.println(&quot;What is your expected Annual Interest Rate?&quot;);\r\n        float annualInterest=scanner.nextFloat();\r\n        float monthlyInterest=annualInterest/PERCENT/MONTHS_IN_YEAR;\r\n\r\n        System.out.println(&quot;How many years are you expecting to pay on this loan? 30year/15year?&quot;);\r\n        byte years= scanner.nextByte();\r\n        int numberOfPayments=years*MONTHS_IN_YEAR;\r\n\r\n        double mortgage=principal* (monthlyInterest*Math.pow(1+monthlyInterest,numberOfPayments)\r\n                /(Math.pow(1+monthlyInterest, numberOfPayments)-1));\r\n\r\n        String mortgageFormatted=NumberFormat.getCurrencyInstance().format(mortgage);\r\n        System.out.println(&quot;Here is your Mortgage Payment =&quot;+mortgageFormatted);\r\n    }\r\n}\r\n```\r\n\r\nBelow is the error I am receiving when I try to run the Java program:\r\n\r\n```\r\n sh -c javac -classpath .:target/dependency/* -d . $(find . -type f -name &#39;*.java&#39;)\r\n java -classpath .:target/dependency/* Main\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.NoClassDefFoundError: com/berrycalc/Main (wrong name: Main)\r\nexit status 1\r\n ^C\r\n \r\n```\r\n\r\nHere is my replit link: https://replit.com/join/afsyvxnqas-amandaberry-tec\r\n\r\nI copied my code from Visual Studio Code to here but now everything has broken. ","title":"What am I receiving the error java.lang.NoClassDefFoundError?","body":"<p>I am trying to figure out what I am doing wrong?</p>\n<pre><code>package com.berrycalc;\n\nimport java.text.NumberFormat;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final byte MONTHS_IN_YEAR=12;\n        final byte PERCENT=100;\n\n        Scanner scanner=new Scanner(System.in);\n\n        System.out.println(&quot;Welcome to Berry Bank! How much money will you need to borrow for your home loan?&quot;);\n        int principal=scanner.nextInt();\n\n        System.out.println(&quot;What is your expected Annual Interest Rate?&quot;);\n        float annualInterest=scanner.nextFloat();\n        float monthlyInterest=annualInterest/PERCENT/MONTHS_IN_YEAR;\n\n        System.out.println(&quot;How many years are you expecting to pay on this loan? 30year/15year?&quot;);\n        byte years= scanner.nextByte();\n        int numberOfPayments=years*MONTHS_IN_YEAR;\n\n        double mortgage=principal* (monthlyInterest*Math.pow(1+monthlyInterest,numberOfPayments)\n                /(Math.pow(1+monthlyInterest, numberOfPayments)-1));\n\n        String mortgageFormatted=NumberFormat.getCurrencyInstance().format(mortgage);\n        System.out.println(&quot;Here is your Mortgage Payment =&quot;+mortgageFormatted);\n    }\n}\n</code></pre>\n<p>Below is the error I am receiving when I try to run the Java program:</p>\n<pre><code> sh -c javac -classpath .:target/dependency/* -d . $(find . -type f -name '*.java')\n java -classpath .:target/dependency/* Main\nError: Could not find or load main class Main\nCaused by: java.lang.NoClassDefFoundError: com/berrycalc/Main (wrong name: Main)\nexit status 1\n ^C\n \n</code></pre>\n<p>Here is my replit link: <a href=\"https://replit.com/join/afsyvxnqas-amandaberry-tec\" rel=\"nofollow noreferrer\">https://replit.com/join/afsyvxnqas-amandaberry-tec</a></p>\n<p>I copied my code from Visual Studio Code to here but now everything has broken.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1690921620,"post_id":76814903,"comment_id":135419699,"body_markdown":"Are you sure it needs to be `-D`? Can you try just `--spring.profiles.active=`? Also, for IDEA you can specify it directly as &quot;Profile&quot; field if you configure the module as a Spring project","body":"Are you sure it needs to be <code>-D</code>? Can you try just <code>--spring.profiles.active=</code>? Also, for IDEA you can specify it directly as &quot;Profile&quot; field if you configure the module as a Spring project"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1690921834,"post_id":76814903,"comment_id":135419730,"body_markdown":"@IgorArtamonov thanks, but this option also doesn&#39;t work. I am a little bit confused...does it mean that I try the correct way but it doesn&#39;t work for me? Maybe the reason is the other?","body":"@IgorArtamonov thanks, but this option also doesn&#39;t work. I am a little bit confused...does it mean that I try the correct way but it doesn&#39;t work for me? Maybe the reason is the other?"}],"answers":[{"comments":[{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1690923729,"post_id":76815003,"comment_id":135420047,"body_markdown":"Thanks, I haven&#39;t seen this possibility in my configuration but found here how to add it: https://stackoverflow.com/questions/50938383/how-to-set-jvm-arguments-in-intellij-idea","body":"Thanks, I haven&#39;t seen this possibility in my configuration but found here how to add it: <a href=\"https://stackoverflow.com/questions/50938383/how-to-set-jvm-arguments-in-intellij-idea\" title=\"how to set jvm arguments in intellij idea\">stackoverflow.com/questions/50938383/&hellip;</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1690940459,"post_id":76815003,"comment_id":135421804,"body_markdown":"at first I was hella confused as I thought OP already passed `-Dspring.profiles.active=local`, but OP was passing it as a _program argument_ not _JVM argument_","body":"at first I was hella confused as I thought OP already passed <code>-Dspring.profiles.active=local</code>, but OP was passing it as a <i>program argument</i> not <i>JVM argument</i>"}],"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690922066,"creation_date":1690922066,"answer_id":76815003,"question_id":76814903,"body_markdown":"You need to pass `-Dspring.profiles.active=local` as a JVM argument.","title":"Spring profiling not works for application.properties","body":"<p>You need to pass <code>-Dspring.profiles.active=local</code> as a JVM argument.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76815003,"answer_count":1,"score":1,"last_activity_date":1690922066,"creation_date":1690920922,"question_id":76814903,"body_markdown":"I want to set default profile=prod (when the project executes from the ci-cd on the server) and profile=local when I execute a project from intellij idea.\r\n\r\nThere is application.properties file:\r\n\r\n```\r\nspring.profiles.active=prod\r\n\r\n#Database settings\r\nspring.datasource.url=jdbc:mysql://localhost:3306/ddauth\r\n...\r\n```\r\n\r\nThere is application-local.properties file:\r\n```\r\nspring.datasource.url=jdbc:mysql://172.17.0.2:3306/ddauth\r\n```\r\n\r\nthere is I set `spring.profiles.active` parameter in IntellijIdea Run configuration:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI also try to execute my jar file with a such parameter:\r\n\r\n`java -jar app.jar -Dspring.profiles.active=local`\r\n\r\n\r\n\r\nIn any case, the project is executing in the `prod` mode. I receive following message during execution:\r\n\r\n`2023-08-01 23:02:52 [INFO] | AuthRunner:640  The following 1 profile is active: &quot;prod&quot;`\r\n\r\nI read many different tutorials and haven&#39;t any ideas how it has to work. I know I can set this profile parameter also in the `bootJar` task, but I don&#39;t want to go through this way. I want implement this simple solution and figured out why it isn&#39;t work.\r\n\r\n  [1]: https://i.stack.imgur.com/ABeUM.png","title":"Spring profiling not works for application.properties","body":"<p>I want to set default profile=prod (when the project executes from the ci-cd on the server) and profile=local when I execute a project from intellij idea.</p>\n<p>There is application.properties file:</p>\n<pre><code>spring.profiles.active=prod\n\n#Database settings\nspring.datasource.url=jdbc:mysql://localhost:3306/ddauth\n...\n</code></pre>\n<p>There is application-local.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://172.17.0.2:3306/ddauth\n</code></pre>\n<p>there is I set <code>spring.profiles.active</code> parameter in IntellijIdea Run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/ABeUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ABeUM.png\" alt=\"enter image description here\" /></a></p>\n<p>I also try to execute my jar file with a such parameter:</p>\n<p><code>java -jar app.jar -Dspring.profiles.active=local</code></p>\n<p>In any case, the project is executing in the <code>prod</code> mode. I receive following message during execution:</p>\n<p><code>2023-08-01 23:02:52 [INFO] | AuthRunner:640  The following 1 profile is active: &quot;prod&quot;</code></p>\n<p>I read many different tutorials and haven't any ideas how it has to work. I know I can set this profile parameter also in the <code>bootJar</code> task, but I don't want to go through this way. I want implement this simple solution and figured out why it isn't work.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-asset-inventory","google-cloud-marketplace"],"answers":[{"tags":[],"owner":{"account_id":25603997,"reputation":520,"user_id":19378437,"display_name":"Dion V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690921652,"creation_date":1690921652,"answer_id":76814960,"question_id":76753752,"body_markdown":"As per [dany L](https://stackoverflow.com/questions/68862338/list-the-installed-marketplace-products), for products used from Marketplace, Deployment manager is used as well. You can try to go to\n\n\n\n```\nMenu &gt; Deployments Manager &gt; Deployments\n```\n\n\n\nOr you can try to run a command\n\n```\ngcloud deployment-manager deployments list\n```\n","title":"Listing Google Cloud Marketplace Purchases using Asset Inventory API and/or Billing API in Java","body":"<p>As per <a href=\"https://stackoverflow.com/questions/68862338/list-the-installed-marketplace-products\">dany L</a>, for products used from Marketplace, Deployment manager is used as well. You can try to go to</p>\n<pre><code>Menu &gt; Deployments Manager &gt; Deployments\n</code></pre>\n<p>Or you can try to run a command</p>\n<pre><code>gcloud deployment-manager deployments list\n</code></pre>\n"}],"owner":{"account_id":5845160,"reputation":49,"user_id":4605522,"display_name":"Demetrio Lagan&#224;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690921652,"creation_date":1690195896,"question_id":76753752,"body_markdown":"I am currently working on a Java application that utilizes the Google Cloud Asset Inventory API to list all the assets within various projects of a company. Now, I am facing the challenge of listing all the products purchased on the Google Cloud Marketplace for each project.\r\n\r\nAfter exploring the documentation, I couldn&#39;t find a direct way to list all the Google Cloud Marketplace products associated with a specific project using the Cloud Asset API. Therefore, I believe I may need to use the Google Cloud Billing API to achieve this.\r\n\r\nMy main question is: How can I distinguish between the &quot;native&quot; Google Cloud services and the products that have been purchased from the Google Cloud Marketplace using the Billing API? I need to generate a list that clearly shows the products from the Marketplace, similar to the one depicted in the screenshot below.\r\n\r\n[![Goocgle Cloud Marketplace orders lis](https://i.stack.imgur.com/EKwnQ.png)](https://i.stack.imgur.com/EKwnQ.png)\r\n\r\nAny guidance or code examples on how to differentiate between native Google services and Marketplace purchases using the Billing API would be greatly appreciated. Thank you for your assistance!\r\n","title":"Listing Google Cloud Marketplace Purchases using Asset Inventory API and/or Billing API in Java","body":"<p>I am currently working on a Java application that utilizes the Google Cloud Asset Inventory API to list all the assets within various projects of a company. Now, I am facing the challenge of listing all the products purchased on the Google Cloud Marketplace for each project.</p>\n<p>After exploring the documentation, I couldn't find a direct way to list all the Google Cloud Marketplace products associated with a specific project using the Cloud Asset API. Therefore, I believe I may need to use the Google Cloud Billing API to achieve this.</p>\n<p>My main question is: How can I distinguish between the &quot;native&quot; Google Cloud services and the products that have been purchased from the Google Cloud Marketplace using the Billing API? I need to generate a list that clearly shows the products from the Marketplace, similar to the one depicted in the screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/EKwnQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EKwnQ.png\" alt=\"Goocgle Cloud Marketplace orders lis\" /></a></p>\n<p>Any guidance or code examples on how to differentiate between native Google services and Marketplace purchases using the Billing API would be greatly appreciated. Thank you for your assistance!</p>\n"},{"tags":["java","arrays","inheritance","syntax"],"comments":[{"owner":{"account_id":2540065,"reputation":1086,"user_id":2206044,"accept_rate":100,"display_name":"Azar"},"score":0,"creation_date":1406126744,"post_id":24913612,"comment_id":38707747,"body_markdown":"Might be a better question for Programmers SE. Also see my question [here](http://programmers.stackexchange.com/a/239194/87528).","body":"Might be a better question for Programmers SE. Also see my question <a href=\"http://programmers.stackexchange.com/a/239194/87528\">here</a>."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1406126862,"post_id":24913612,"comment_id":38707833,"body_markdown":"possible duplicate of [Java: Extend class as array](http://stackoverflow.com/questions/10914928/java-extend-class-as-array)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10914928/java-extend-class-as-array\">Java: Extend class as array</a>"},{"owner":{"account_id":365271,"reputation":30305,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1406127058,"post_id":24913612,"comment_id":38708001,"body_markdown":"because it&#39;s a primitive not a class. You could extend from ArrayList instead but you will be having List","body":"because it&#39;s a primitive not a class. You could extend from ArrayList instead but you will be having List"},{"owner":{"account_id":199012,"reputation":3390,"user_id":444028,"accept_rate":90,"display_name":"Abhishek Oza"},"score":1,"creation_date":1406127246,"post_id":24913612,"comment_id":38708155,"body_markdown":"@Eran I don&#39;t think so, as that question asks: whether java allows so. Whereas my question is: why Java does not allow this?","body":"@Eran I don&#39;t think so, as that question asks: whether java allows so. Whereas my question is: why Java does not allow this?"}],"answers":[{"comments":[{"owner":{"account_id":2244368,"reputation":1089,"user_id":1978099,"display_name":"Mitselplik"},"score":0,"creation_date":1462068721,"post_id":24913784,"comment_id":61481409,"body_markdown":"I think the argument that it would allow someone to override the `clone()` method might be invalid.  If a method of a superclass is declared as final, then it cannot be overidden in a derived class.","body":"I think the argument that it would allow someone to override the <code>clone()</code> method might be invalid.  If a method of a superclass is declared as final, then it cannot be overidden in a derived class."},{"owner":{"account_id":2244368,"reputation":1089,"user_id":1978099,"display_name":"Mitselplik"},"score":1,"creation_date":1462069721,"post_id":24913784,"comment_id":61481582,"body_markdown":"I get why he wants to do this.  I&#39;d like to do the same to add Linq-style code into Java.  It is inconvenient that you can&#39;t declare an array `Thing[] list = new Thing[100];`,  access elements using array syntax &#39;Thing thisThing = list[50];` and also use extension methods: &#39;Thing[] subset = list.Where( new Comparator&lt;Thing&gt;,,, ).  And you can&#39;t override the [] operator to simplify code either.","body":"I get why he wants to do this.  I&#39;d like to do the same to add Linq-style code into Java.  It is inconvenient that you can&#39;t declare an array <code>Thing[] list = new Thing[100];</code>,  access elements using array syntax &#39;Thing thisThing = list[50];` and also use extension methods: &#39;Thing[] subset = list.Where( new Comparator&lt;Thing&gt;,,, ).  And you can&#39;t override the [] operator to simplify code either."}],"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1406127022,"creation_date":1406127022,"answer_id":24913784,"question_id":24913612,"body_markdown":"Extending a fundamental type such as a `String` or an array opens up security holes. If Java let you extend an array, its methods that take arrays would become insecure. That is why strings are `final`, and arrays cannot be extended at all.\r\n\r\nFor example, you could override the `clone()` method, and return an array of incorrect size. This has a potential of breaking the logic of system code that takes an array as its parameter.\r\n\r\nOn top of that, arrays are special objects in Java, in that they do not have a class definition.\r\n\r\nThere are two solution to the problem that you are trying to solve:\r\n\r\n- You could put the logic into a helper class with static methods, similar to `Collections`, etc. or\r\n- You could encapsulate an array inside your `IntArrayExtension` class, and provide wrapper methods for accessing the array and its additional features.","title":"Why Java does not allow to extend array type","body":"<p>Extending a fundamental type such as a <code>String</code> or an array opens up security holes. If Java let you extend an array, its methods that take arrays would become insecure. That is why strings are <code>final</code>, and arrays cannot be extended at all.</p>\n\n<p>For example, you could override the <code>clone()</code> method, and return an array of incorrect size. This has a potential of breaking the logic of system code that takes an array as its parameter.</p>\n\n<p>On top of that, arrays are special objects in Java, in that they do not have a class definition.</p>\n\n<p>There are two solution to the problem that you are trying to solve:</p>\n\n<ul>\n<li>You could put the logic into a helper class with static methods, similar to <code>Collections</code>, etc. or</li>\n<li>You could encapsulate an array inside your <code>IntArrayExtension</code> class, and provide wrapper methods for accessing the array and its additional features.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1406127047,"creation_date":1406127047,"answer_id":24913804,"question_id":24913612,"body_markdown":"Arrays are objects but an array type is not a class and therefore can&#39;t be extended. See for example [JLS #10.8][1].\r\n\r\n [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.8","title":"Why Java does not allow to extend array type","body":"<p>Arrays are objects but an array type is not a class and therefore can't be extended. See for example <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.8\" rel=\"noreferrer\">JLS #10.8</a>.</p>\n"},{"tags":[],"owner":{"account_id":1411901,"reputation":11,"user_id":1338327,"display_name":"erikd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690921376,"creation_date":1690921376,"answer_id":76814931,"question_id":24913612,"body_markdown":"Instances of int[] are instances of java.lang.Object but the int[] type is not a class (unlike any other instance of java.lang.Object), so there&#39;s no class to extend. It&#39;s one of those interesting design quirks of Java.\r\n\r\nBut even if it were possible to extend int[] as if it were a class, it might not be the best approach to achieve the things you want anyway:\r\n - It&#39;s not very generic as it can then only sort/swap/copy/etc int[] arrays; not arrays of any other type such as double[]. Is such a self-imposed limitation necessary?\r\n - All the functionality that you want from arrays is available in java.util.Arrays anyway, which can handle any array type (int[], double[], MyAwesomeType&lt;?&gt;[], whatever).\r\n - Extending classes to merely just bolt on more functionality on top is generally to be avoided IMHO: Now other already existing (in this case) int[] arrays need to become instances of your new class to be able to access your awesome new functionality, and there&#39;s usually no need for this (and in this case there&#39;s definitely no need for this).","title":"Why Java does not allow to extend array type","body":"<p>Instances of int[] are instances of java.lang.Object but the int[] type is not a class (unlike any other instance of java.lang.Object), so there's no class to extend. It's one of those interesting design quirks of Java.</p>\n<p>But even if it were possible to extend int[] as if it were a class, it might not be the best approach to achieve the things you want anyway:</p>\n<ul>\n<li>It's not very generic as it can then only sort/swap/copy/etc int[] arrays; not arrays of any other type such as double[]. Is such a self-imposed limitation necessary?</li>\n<li>All the functionality that you want from arrays is available in java.util.Arrays anyway, which can handle any array type (int[], double[], MyAwesomeType&lt;?&gt;[], whatever).</li>\n<li>Extending classes to merely just bolt on more functionality on top is generally to be avoided IMHO: Now other already existing (in this case) int[] arrays need to become instances of your new class to be able to access your awesome new functionality, and there's usually no need for this (and in this case there's definitely no need for this).</li>\n</ul>\n"}],"owner":{"account_id":199012,"reputation":3390,"user_id":444028,"accept_rate":90,"display_name":"Abhishek Oza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7416,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":24913784,"answer_count":3,"score":7,"last_activity_date":1690921376,"creation_date":1406126655,"question_id":24913612,"body_markdown":"As an experiment, I tried to extend an `int`-array like this:\r\n\r\n    public class IntArrayExtension extends int[]{\r\n     // additional fields and methods.\r\n    }\r\n\r\nto add some methods related to sorting, swapping, sub-array building etc. in the class itself. But I got this error while compiling:\r\n\r\n    IntArrayExtension.java:1: unexpected type\r\n    found   : int[]\r\n    required: class\r\n    public class IntArrayExtension extends int[]{\r\n                                              ^\r\n    1 error\r\n\r\nI am curious to know: why Java does not allow to extend an array?\r\n","title":"Why Java does not allow to extend array type","body":"<p>As an experiment, I tried to extend an <code>int</code>-array like this:</p>\n\n<pre><code>public class IntArrayExtension extends int[]{\n // additional fields and methods.\n}\n</code></pre>\n\n<p>to add some methods related to sorting, swapping, sub-array building etc. in the class itself. But I got this error while compiling:</p>\n\n<pre><code>IntArrayExtension.java:1: unexpected type\nfound   : int[]\nrequired: class\npublic class IntArrayExtension extends int[]{\n                                          ^\n1 error\n</code></pre>\n\n<p>I am curious to know: why Java does not allow to extend an array?</p>\n"},{"tags":["java","hibernate","lambda","java-8"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1404470355,"post_id":24562975,"comment_id":38062398,"body_markdown":"ORM libraries usually want to let the database do the queries. But there is no way of translating compiled Java&#160;8 lambdas into SQL queries.","body":"ORM libraries usually want to let the database do the queries. But there is no way of translating compiled Java 8 lambdas into SQL queries."},{"owner":{"account_id":1912122,"reputation":1213,"user_id":1725655,"accept_rate":100,"display_name":"dgn"},"score":1,"creation_date":1407523952,"post_id":24562975,"comment_id":39263719,"body_markdown":"I&#39;m also looking for the same thing. Afaik, Hibernate&#39;s criteria only allows to manipulate fields by their name as String, right? That&#39;s a main thing I&#39;d love to see improved","body":"I&#39;m also looking for the same thing. Afaik, Hibernate&#39;s criteria only allows to manipulate fields by their name as String, right? That&#39;s a main thing I&#39;d love to see improved"}],"answers":[{"comments":[{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1472736701,"post_id":26111549,"comment_id":65880400,"body_markdown":"getting a 403 on your link to Jinq","body":"getting a 403 on your link to Jinq"},{"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"score":1,"creation_date":1472738713,"post_id":26111549,"comment_id":65882041,"body_markdown":"Fixed the 403 you mentioned","body":"Fixed the 403 you mentioned"}],"tags":[],"owner":{"account_id":130264,"reputation":1294,"user_id":329408,"display_name":"digao_mb"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1472737992,"creation_date":1412041790,"answer_id":26111549,"question_id":24562975,"body_markdown":"I thought it could not be done too. But I saw Jinq http://www.jinq.org/ \r\nThey do it for raw SQL queries.\r\n\r\n\r\n    database.customerStream().where(\r\n    customer -&gt; customer.getName().equals(&quot;Alice&quot;));\r\n\r\nSo I think it just depends on someone implement the same kind of logic being used in Jinq for JPA entities, and generate JPQL queries.\r\n\r\n**UPDATE:** They do it for JPA too. http://www.jinq.org/docs/gettingstartedjpa.html","title":"Hibernate and java 8 lambda&#39;s","body":"<p>I thought it could not be done too. But I saw Jinq <a href=\"http://www.jinq.org/\" rel=\"noreferrer\">http://www.jinq.org/</a> \nThey do it for raw SQL queries.</p>\n\n<pre><code>database.customerStream().where(\ncustomer -&gt; customer.getName().equals(\"Alice\"));\n</code></pre>\n\n<p>So I think it just depends on someone implement the same kind of logic being used in Jinq for JPA entities, and generate JPQL queries.</p>\n\n<p><strong>UPDATE:</strong> They do it for JPA too. <a href=\"http://www.jinq.org/docs/gettingstartedjpa.html\" rel=\"noreferrer\">http://www.jinq.org/docs/gettingstartedjpa.html</a></p>\n"},{"tags":[],"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690920538,"creation_date":1690920538,"answer_id":76814874,"question_id":24562975,"body_markdown":"I created a [library][1] that allows you to write JPA Criteria API queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API. \r\n\r\nJPA has its Criteria API, which is rather hard to write, since there are several objects you must work with (`Root`, `CriteriaQuery` ...). This library takes away the boilerplate part and still allows you to use all the power of the standardized JPA Criteria API.\r\n\r\nExample:\r\n\r\n    List&lt;E&gt; entities =  findWhereOrdered(\r\n      (cb, root) -&gt; new PredicateAndOrder(\r\n        cb.equal(root.get(Vendor_.name), name),\r\n        List.of(OrderBy.asc(root.get(Vendor_.id)))));\r\n\r\n\r\n  [1]: https://github.com/janhalasa/jpa-repositories-with-lambda-expressions","title":"Hibernate and java 8 lambda&#39;s","body":"<p>I created a <a href=\"https://github.com/janhalasa/jpa-repositories-with-lambda-expressions\" rel=\"nofollow noreferrer\">library</a> that allows you to write JPA Criteria API queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API.</p>\n<p>JPA has its Criteria API, which is rather hard to write, since there are several objects you must work with (<code>Root</code>, <code>CriteriaQuery</code> ...). This library takes away the boilerplate part and still allows you to use all the power of the standardized JPA Criteria API.</p>\n<p>Example:</p>\n<pre><code>List&lt;E&gt; entities =  findWhereOrdered(\n  (cb, root) -&gt; new PredicateAndOrder(\n    cb.equal(root.get(Vendor_.name), name),\n    List.of(OrderBy.asc(root.get(Vendor_.id)))));\n</code></pre>\n"}],"owner":{"account_id":1215279,"reputation":697,"user_id":1183004,"accept_rate":75,"display_name":"RustamIS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6567,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":26111549,"answer_count":2,"score":11,"last_activity_date":1690920538,"creation_date":1404420108,"question_id":24562975,"body_markdown":"Since the introduction of Java 8, is Hibernate waiting some changes? \r\nspecially\r\n\r\n 1. Is there any way to write queries with lambdas in Hibernate? (i.e. like a .net Linq-to-SQL style)\r\n\r\n 2. If not, when it&#39;s coming (If it&#39;s planned to come).\r\n \r\nfor example something like these: \r\n \r\n\r\n    User u1 = dbo.Users.firstOrDefault(f -&gt; f.userId = 10);\r\n\r\n    List&lt;User&gt; users = dbo.Users.selectMany(w -&gt; w.userId &gt; 5);","title":"Hibernate and java 8 lambda&#39;s","body":"<p>Since the introduction of Java 8, is Hibernate waiting some changes? \nspecially</p>\n\n<ol>\n<li><p>Is there any way to write queries with lambdas in Hibernate? (i.e. like a .net Linq-to-SQL style)</p></li>\n<li><p>If not, when it's coming (If it's planned to come).</p></li>\n</ol>\n\n<p>for example something like these: </p>\n\n<pre><code>User u1 = dbo.Users.firstOrDefault(f -&gt; f.userId = 10);\n\nList&lt;User&gt; users = dbo.Users.selectMany(w -&gt; w.userId &gt; 5);\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","pkcs#12","jks"],"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1661182382,"post_id":60611646,"comment_id":129705408,"body_markdown":"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-7D9F43B8-AABF-4C5B-93E6-3AFB18B66150","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-7D9F43B8-AABF-4C5B-93E6-3AFB18B66150\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/security/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":1,"creation_date":1661170342,"post_id":60611788,"comment_id":129700480,"body_markdown":"I wonder why you have to repeat the &quot;certificate-password&quot; twice and pass it to two different methods.","body":"I wonder why you have to repeat the &quot;certificate-password&quot; twice and pass it to two different methods."},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":1,"creation_date":1661180198,"post_id":60611788,"comment_id":129704610,"body_markdown":"While not exactly sure, the password you specify for `KeyStore` gives you access to the key store for you. However, the password you specify for `SSLContextBuilder.loadKeyMaterial` is for the management authority of a key store.","body":"While not exactly sure, the password you specify for <code>KeyStore</code> gives you access to the key store for you. However, the password you specify for <code>SSLContextBuilder.loadKeyMaterial</code> is for the management authority of a key store."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1661267396,"post_id":60611788,"comment_id":129728906,"body_markdown":"When loading `KeyStore`, the load method requires a password to verify the integrity of any trust entries the store contains. A password-based MAC is used to ensure that an attacker doesn&#39;t replace or add a bogus root certificate. This isn&#39;t very relevant for a key store that only contains the server&#39;s private key and certificate chain, but the API requires it. The second password (which can be different, at least for some `KeyStore` implementations) is required to decrypt the `PrivateKey` of a given entry. Apparently this builder API (incorrectly) assumes every entry has the same password.","body":"When loading <code>KeyStore</code>, the load method requires a password to verify the integrity of any trust entries the store contains. A password-based MAC is used to ensure that an attacker doesn&#39;t replace or add a bogus root certificate. This isn&#39;t very relevant for a key store that only contains the server&#39;s private key and certificate chain, but the API requires it. The second password (which can be different, at least for some <code>KeyStore</code> implementations) is required to decrypt the <code>PrivateKey</code> of a given entry. Apparently this builder API (incorrectly) assumes every entry has the same password."}],"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1661181254,"creation_date":1583816501,"answer_id":60611788,"question_id":60611646,"body_markdown":"You must configure your `RestTemplate` to use the client certificate in an `HTTPS` connection as follows.\r\n\r\n    \r\n    @Bean\r\n    public RestTemplate restTemplate() throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException, UnrecoverableKeyException {\r\n        KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n        clientStore.load(new FileInputStream(&quot;certfile-path&quot;), &quot;certificate-password&quot;.toCharArray());\r\n     \r\n        SSLContext sslContext = SSLContextBuilder.create()\r\n                .setProtocol(&quot;TLS&quot;)\r\n                .loadKeyMaterial(clientStore, &quot;certificate-password&quot;.toCharArray())\r\n                .loadTrustMaterial(new TrustSelfSignedStrategy())\r\n                .build();\r\n     \r\n        SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext);\r\n        CloseableHttpClient httpClient = HttpClients.custom()\r\n                .setSSLSocketFactory(sslConnectionSocketFactory)\r\n                .build();\r\n\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\r\n\r\n        return new RestTemplate(requestFactory);\r\n    }\r\n\r\nand Inject `restTemplate` for using:\r\n\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    public void someMethod() {\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        String uri = &quot;https://xx.net/api/v2/somemethod&quot;;\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n        String result = restTemplate.getForObject(uri, String.class);\r\n        System.out.println(&quot;Result &quot; + result);\r\n    }\r\n","title":"Using .p12 file for SSL - Using Spring Boot","body":"<p>You must configure your <code>RestTemplate</code> to use the client certificate in an <code>HTTPS</code> connection as follows.</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate() throws KeyStoreException, IOException, CertificateException, NoSuchAlgorithmException, UnrecoverableKeyException {\n    KeyStore clientStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    clientStore.load(new FileInputStream(&quot;certfile-path&quot;), &quot;certificate-password&quot;.toCharArray());\n \n    SSLContext sslContext = SSLContextBuilder.create()\n            .setProtocol(&quot;TLS&quot;)\n            .loadKeyMaterial(clientStore, &quot;certificate-password&quot;.toCharArray())\n            .loadTrustMaterial(new TrustSelfSignedStrategy())\n            .build();\n \n    SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext);\n    CloseableHttpClient httpClient = HttpClients.custom()\n            .setSSLSocketFactory(sslConnectionSocketFactory)\n            .build();\n\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient);\n\n    return new RestTemplate(requestFactory);\n}\n</code></pre>\n<p>and Inject <code>restTemplate</code> for using:</p>\n<pre><code>@Autowired\nRestTemplate restTemplate;\n\npublic void someMethod() {\n    HttpHeaders httpHeaders = new HttpHeaders();\n    String uri = &quot;https://xx.net/api/v2/somemethod&quot;;\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    String result = restTemplate.getForObject(uri, String.class);\n    System.out.println(&quot;Result &quot; + result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7702261,"reputation":1812,"user_id":5834387,"accept_rate":90,"display_name":"Imran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690920280,"creation_date":1690920280,"answer_id":76814850,"question_id":60611646,"body_markdown":"Nothing works, simply throw this feign thing away and use rest template. It worked from the first attempt after spending an entire day on feigns bugs.","title":"Using .p12 file for SSL - Using Spring Boot","body":"<p>Nothing works, simply throw this feign thing away and use rest template. It worked from the first attempt after spending an entire day on feigns bugs.</p>\n"}],"owner":{"account_id":16762928,"reputation":73,"user_id":12117223,"display_name":"Kalhara Amarasinghe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11757,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1690920280,"creation_date":1583815300,"question_id":60611646,"body_markdown":"I want to connect to a secure server endpoint. The service provider has provided me with a .p12 file and the password. I tried the API call on postman after adding the certificate under **settings --&gt; certificates--&gt; client certificates** and it was a success.\r\n\r\nNow I want to integrate this to my java code. I am developing this application using Spring boot and I followed a couple of guides for this.I added the the .p12 file to my keystore using this command.\r\n\r\n    keytool -importkeystore -srckeystore uat_client.p12 -destkeystore store.keys -srcstoretype pkcs12 -alias myownkeyname \r\n\r\nBut every time I get &quot;No SSL Client Certificate Provided&quot;which is the same response I got when I did not add the certificate in the postman.\r\n\r\nI know this is not the ideal way to ask help since I do not have much code to show.And I am very new to this area of java. I am merely asking for some guide. If I have a .p12 file what are the steps I need to follow to connect to the service successfull.\r\n\r\n    public void someMethod()\r\n    {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n    \r\n        String uri = &quot;https://xx.net/api/v2/somemethod&quot;;\r\n    \r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n        String result = restTemplate.getForObject(uri, String.class);\r\n    \r\n        System.out.println(&quot;Result &quot; + result);\r\n    }","title":"Using .p12 file for SSL - Using Spring Boot","body":"<p>I want to connect to a secure server endpoint. The service provider has provided me with a .p12 file and the password. I tried the API call on postman after adding the certificate under <strong>settings --> certificates--> client certificates</strong> and it was a success.</p>\n\n<p>Now I want to integrate this to my java code. I am developing this application using Spring boot and I followed a couple of guides for this.I added the the .p12 file to my keystore using this command.</p>\n\n<pre><code>keytool -importkeystore -srckeystore uat_client.p12 -destkeystore store.keys -srcstoretype pkcs12 -alias myownkeyname \n</code></pre>\n\n<p>But every time I get \"No SSL Client Certificate Provided\"which is the same response I got when I did not add the certificate in the postman.</p>\n\n<p>I know this is not the ideal way to ask help since I do not have much code to show.And I am very new to this area of java. I am merely asking for some guide. If I have a .p12 file what are the steps I need to follow to connect to the service successfull.</p>\n\n<pre><code>public void someMethod()\n{\n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders httpHeaders = new HttpHeaders();\n\n    String uri = \"https://xx.net/api/v2/somemethod\";\n\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n\n    String result = restTemplate.getForObject(uri, String.class);\n\n    System.out.println(\"Result \" + result);\n}\n</code></pre>\n"},{"tags":["java","list","multithreading","thread-safety"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1690918853,"post_id":76814710,"comment_id":135419290,"body_markdown":"We&#39;d need to see all the code (including `loadObjList()`) but in general this will work once (because static initializations are made visible by the JVM) but any time you assign `objList` after that there&#39;s no memory visibility.  You should use, at minimum, the `volatile` keyword on that field, and depending on the rest of the code there certainly could be other problems.","body":"We&#39;d need to see all the code (including <code>loadObjList()</code>) but in general this will work once (because static initializations are made visible by the JVM) but any time you assign <code>objList</code> after that there&#39;s no memory visibility.  You should use, at minimum, the <code>volatile</code> keyword on that field, and depending on the rest of the code there certainly could be other problems."},{"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"score":0,"creation_date":1690920100,"post_id":76814710,"comment_id":135419484,"body_markdown":"@markspace I added the loadBookList() and replaced the MyObj with Book for readability. All the other methods that acces the list are doing something similar to getShortFromName(), just return a different field or a list of 1 field of all objects. The book object inside the List is also never altered, onyl read.","body":"@markspace I added the loadBookList() and replaced the MyObj with Book for readability. All the other methods that acces the list are doing something similar to getShortFromName(), just return a different field or a list of 1 field of all objects. The book object inside the List is also never altered, onyl read."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690920723,"post_id":76814710,"comment_id":135419571,"body_markdown":"As long as no methods attempt to alter the list itself or its contents, Book, you should be OK with just using `volatile`.  Volatile has a full memory barrier, so any reads after the write of a volatile field will be correctly synchronized.  I don&#39;t really understand why you&#39;re using a thread in `asyncListCheck()`, and why you create a new thread each time you call `getShortFromName()` -- this is hugely inefficient.  But perhaps that is not pertinent to the question.","body":"As long as no methods attempt to alter the list itself or its contents, Book, you should be OK with just using <code>volatile</code>.  Volatile has a full memory barrier, so any reads after the write of a volatile field will be correctly synchronized.  I don&#39;t really understand why you&#39;re using a thread in <code>asyncListCheck()</code>, and why you create a new thread each time you call <code>getShortFromName()</code> -- this is hugely inefficient.  But perhaps that is not pertinent to the question."},{"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"score":0,"creation_date":1690921167,"post_id":76814710,"comment_id":135419624,"body_markdown":"@markspace thanks for your help, volatile does seem like it would do enough after some research. There is no specific reason as to why asyncListCheck() creates a new thread each time, i&#39;m inexperienced at multithreading and this was the easy solution that i came up with. While it does not belong to the original question, I&#39;d be thankfor for advice or another method that i should research to make this more efficient.","body":"@markspace thanks for your help, volatile does seem like it would do enough after some research. There is no specific reason as to why asyncListCheck() creates a new thread each time, i&#39;m inexperienced at multithreading and this was the easy solution that i came up with. While it does not belong to the original question, I&#39;d be thankfor for advice or another method that i should research to make this more efficient."},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1690928478,"post_id":76814710,"comment_id":135420697,"body_markdown":"This is not thread safe in a useful way. It may regenerate the list multiple times and re-use old lists longer than intended. It&#39;s much easier to fix this than to try to make arguments about eventual consistency based on the JMM.","body":"This is not thread safe in a useful way. It may regenerate the list multiple times and re-use old lists longer than intended. It&#39;s much easier to fix this than to try to make arguments about eventual consistency based on the JMM."},{"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"score":0,"creation_date":1690961104,"post_id":76814710,"comment_id":135423949,"body_markdown":"@thatotherguy I&#39;d love to hear your suggestions","body":"@thatotherguy I&#39;d love to hear your suggestions"},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1690993526,"post_id":76814710,"comment_id":135431425,"body_markdown":"The standard way would be a synchronized method that optionally updates and then returns the current book list. Consumers would then call that instead of accessing a field.","body":"The standard way would be a synchronized method that optionally updates and then returns the current book list. Consumers would then call that instead of accessing a field."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690994854,"post_id":76814710,"comment_id":135431701,"body_markdown":"I&#39;m assuming that the code above is just a [mcve] for the real code.  But a factory method is a nice idea.  Even if the field is private, encapsulating its functions in a method is always worth considering.  Saves copy paste and also puts all the code in one spot.","body":"I&#39;m assuming that the code above is just a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for the real code.  But a factory method is a nice idea.  Even if the field is private, encapsulating its functions in a method is always worth considering.  Saves copy paste and also puts all the code in one spot."}],"owner":{"account_id":28181389,"reputation":45,"user_id":21538342,"display_name":"Patrick"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690920043,"creation_date":1690918595,"question_id":76814710,"body_markdown":"I have a static List in my class, the content is loaded from a file whose content i get through an API endpoint. Along with the list i save a timestamp when the list was last refreshed or checked for updates.\r\nThis list is accessed by methods in the class, which are called from outside the class, but all methods **only read** from the list. The book object inside the List is also never altered, only read. Every time any method which accesses the list is called i check the timestamp, if it&#39;s older than a set frame i check the API for changes to the file. If changes to the file were made i start an async Thread realoading the file and once it&#39;s finished, i **overwrite** the list.\r\n\r\nNow that got me wondering about Thread safety, since they are only reading i thought there should be no problems and i have not found any problems. But most of the methods accessing the list iterate over it, that got me wondering what happens when the reload of the list is saved while a method is iterating over it. Has it already made a copy at that point, or is it loading each entry per index?\r\n\r\nI am aware, that the first person using a accessing method after the specified timeframe would get the old list, since the iteration will finish before the reload, this is fine.\r\n\r\n\r\n```\r\nprivate static List&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\r\nprivate static long timestamp = 0; \r\n\r\nstatic\r\n{\r\n    try\r\n    {\r\n        bookList = loadBookList();\r\n        timestamp = System.currentTimeMillis();\r\n    } catch (Exception e)\r\n    {\r\n        log.error(&quot;Failed initial load of bookList : &quot; + e.getMessage());\r\n    }\r\n}\r\n\r\n\r\npublic static String getShortFromName(String name) throws UnknownBookException\r\n{\r\n    asyncListCheck();\r\n\r\n    for (Book book: bookList)\r\n    {\r\n        if (book.getName().equalsIgnoreCase(name))\r\n        {\r\n            return book.getShort();\r\n        }\r\n    }\r\n\r\n    throw new UnknownObjException(MSG_ERR_NOBOOK);\r\n}\r\n\r\n[...] More methods that access the list\r\n\r\nprivate static void asyncListCheck() \r\n{\r\n    new Thread(() -&gt;\r\n    {\r\n        try\r\n        {\r\n            if (isOldList() &amp;&amp; fileWasModified())\r\n            {\r\n            \tbookList = loadBookList();\r\n                timestamp = System.currentTimeMillis();\r\n            }\r\n        } catch (Exception e)\r\n        {\r\n            log.error(&quot;Failed reload of bookList : &quot; + e.getMessage());\r\n        }\r\n    }).start();\r\n}\r\n\r\npublic static List&lt;Book&gt; loadBookList() throws Exception\r\n{\r\n    // Make API call\r\n\r\n    List&lt;Object&gt; objList = // Results end up in here\r\n    \r\n    List&lt;Book&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    for (Object obj: objList)\r\n    {\r\n        Map&lt;String, Object&gt; bookMap = (Map&lt;String, Object&gt;) obj;\r\n\r\n        String name = String.valueOf(bookMap.get(&quot;name&quot;));\r\n        [...] more of this\r\n\r\n        Book book = new Book();\r\n        [...] set all the fields\r\n\r\n        list.add(book);\r\n    }\r\n\r\n    return list;\r\n}\r\n\r\n```\r\n\r\n\r\nUsing Collections.synchronizedList(list) is not of use, since i only overwrite the whole list. I could instead empty the list and refill it, but that seems like unnecessary work? ","title":"Is overwriting Lists while another Thread is reading Thread-Safe?","body":"<p>I have a static List in my class, the content is loaded from a file whose content i get through an API endpoint. Along with the list i save a timestamp when the list was last refreshed or checked for updates.\nThis list is accessed by methods in the class, which are called from outside the class, but all methods <strong>only read</strong> from the list. The book object inside the List is also never altered, only read. Every time any method which accesses the list is called i check the timestamp, if it's older than a set frame i check the API for changes to the file. If changes to the file were made i start an async Thread realoading the file and once it's finished, i <strong>overwrite</strong> the list.</p>\n<p>Now that got me wondering about Thread safety, since they are only reading i thought there should be no problems and i have not found any problems. But most of the methods accessing the list iterate over it, that got me wondering what happens when the reload of the list is saved while a method is iterating over it. Has it already made a copy at that point, or is it loading each entry per index?</p>\n<p>I am aware, that the first person using a accessing method after the specified timeframe would get the old list, since the iteration will finish before the reload, this is fine.</p>\n<pre><code>private static List&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\nprivate static long timestamp = 0; \n\nstatic\n{\n    try\n    {\n        bookList = loadBookList();\n        timestamp = System.currentTimeMillis();\n    } catch (Exception e)\n    {\n        log.error(&quot;Failed initial load of bookList : &quot; + e.getMessage());\n    }\n}\n\n\npublic static String getShortFromName(String name) throws UnknownBookException\n{\n    asyncListCheck();\n\n    for (Book book: bookList)\n    {\n        if (book.getName().equalsIgnoreCase(name))\n        {\n            return book.getShort();\n        }\n    }\n\n    throw new UnknownObjException(MSG_ERR_NOBOOK);\n}\n\n[...] More methods that access the list\n\nprivate static void asyncListCheck() \n{\n    new Thread(() -&gt;\n    {\n        try\n        {\n            if (isOldList() &amp;&amp; fileWasModified())\n            {\n                bookList = loadBookList();\n                timestamp = System.currentTimeMillis();\n            }\n        } catch (Exception e)\n        {\n            log.error(&quot;Failed reload of bookList : &quot; + e.getMessage());\n        }\n    }).start();\n}\n\npublic static List&lt;Book&gt; loadBookList() throws Exception\n{\n    // Make API call\n\n    List&lt;Object&gt; objList = // Results end up in here\n    \n    List&lt;Book&gt; list = new ArrayList&lt;&gt;();\n\n    for (Object obj: objList)\n    {\n        Map&lt;String, Object&gt; bookMap = (Map&lt;String, Object&gt;) obj;\n\n        String name = String.valueOf(bookMap.get(&quot;name&quot;));\n        [...] more of this\n\n        Book book = new Book();\n        [...] set all the fields\n\n        list.add(book);\n    }\n\n    return list;\n}\n\n</code></pre>\n<p>Using Collections.synchronizedList(list) is not of use, since i only overwrite the whole list. I could instead empty the list and refill it, but that seems like unnecessary work?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":1,"creation_date":1658121880,"post_id":73017508,"comment_id":128963058,"body_markdown":"Could you show the code you&#39;ve already tried in Java?","body":"Could you show the code you&#39;ve already tried in Java?"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1658124919,"post_id":73017508,"comment_id":128963618,"body_markdown":"&quot;Also...&quot; This sounds like a second question. Please post it separately.","body":"&quot;Also...&quot; This sounds like a second question. Please post it separately."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1658125801,"post_id":73017508,"comment_id":128963789,"body_markdown":"AFAIK JPA does not support this type of query. What it does support is defining queries something like `findByProperty1AndProperty2(String prop1, String prop2)` (not 100% correct syntax). In JPA you only need to map the columns for a table that you actually need. If you don&#39;t need a column, don&#39;t map it. And if you need additional fields, that are not in the database, you annotate them with `@Transient`","body":"AFAIK JPA does not support this type of query. What it does support is defining queries something like <code>findByProperty1AndProperty2(String prop1, String prop2)</code> (not 100% correct syntax). In JPA you only need to map the columns for a table that you actually need. If you don&#39;t need a column, don&#39;t map it. And if you need additional fields, that are not in the database, you annotate them with <code>@Transient</code>"},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658319524,"post_id":73017508,"comment_id":129021354,"body_markdown":"While my code is work code and I cannot share on this forum, I will try to come up with an example..  It may be a few days.","body":"While my code is work code and I cannot share on this forum, I will try to come up with an example..  It may be a few days."},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658319808,"post_id":73017508,"comment_id":129021476,"body_markdown":"&quot;In JPA you only need to map the columns for a table that you actually need&quot;  Here is again an issue with JPA.  If I am pulling different parts of a table, based upon different needs, I would be forced to create multiple maps of the same table.  In C#, I was able to map business objects to multiple tables, query the data I need w/o extra data via the Select() linq function.  JPA team.  you need to look at a few things to add to help us who write Java.","body":"&quot;In JPA you only need to map the columns for a table that you actually need&quot;  Here is again an issue with JPA.  If I am pulling different parts of a table, based upon different needs, I would be forced to create multiple maps of the same table.  In C#, I was able to map business objects to multiple tables, query the data I need w/o extra data via the Select() linq function.  JPA team.  you need to look at a few things to add to help us who write Java."},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658320012,"post_id":73017508,"comment_id":129021551,"body_markdown":"&quot;findByProperty1AndProperty2(String prop1, String prop2)&quot;  works unless you are querying data with many criteria.  Also that is literally a &quot;magic string&quot;, meaning the compiler may not know the difference and leave it as is.  But the runtime parsing can possibly fail.","body":"&quot;findByProperty1AndProperty2(String prop1, String prop2)&quot;  works unless you are querying data with many criteria.  Also that is literally a &quot;magic string&quot;, meaning the compiler may not know the difference and leave it as is.  But the runtime parsing can possibly fail."}],"answers":[{"comments":[{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658319469,"post_id":73018472,"comment_id":129021330,"body_markdown":"Criteria works to a degree, but it does not allow any business rule expression to be injected.  It is frustrating that Java does not seem to want to keep up with the real world.  It seems like the type of repository must be in the domain in order to build business rules around getting a result set.","body":"Criteria works to a degree, but it does not allow any business rule expression to be injected.  It is frustrating that Java does not seem to want to keep up with the real world.  It seems like the type of repository must be in the domain in order to build business rules around getting a result set."},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658320200,"post_id":73018472,"comment_id":129021626,"body_markdown":"Thanks for all your responses.  It appears I will be using a different pattern for developing code than what I was used to with C#.  If the JPA team sees this, and wants to discuss some additional features that would help with databases, I would be glad to help.","body":"Thanks for all your responses.  It appears I will be using a different pattern for developing code than what I was used to with C#.  If the JPA team sees this, and wants to discuss some additional features that would help with databases, I would be glad to help."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1658323513,"post_id":73018472,"comment_id":129023180,"body_markdown":"The point is: LINQ was a massive change in the C# language. this has nothing to do with JPA. And I don&#39;t think that Java will change to make something like LINQ possible","body":"The point is: LINQ was a massive change in the C# language. this has nothing to do with JPA. And I don&#39;t think that Java will change to make something like LINQ possible"},{"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"score":0,"creation_date":1658337290,"post_id":73018472,"comment_id":129029048,"body_markdown":"You are right Simon","body":"You are right Simon"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658128211,"creation_date":1658128211,"answer_id":73018472,"question_id":73017508,"body_markdown":"Not exactly the same as in C# with nHibernate or even LINQ.\r\n\r\nBut if you are using Spring Data JPA you could use Criteria API in Specifications.\r\n\r\nDocs: \r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications","title":"Is it Possible to Use Lambda Expressions in Spring JPA?","body":"<p>Not exactly the same as in C# with nHibernate or even LINQ.</p>\n<p>But if you are using Spring Data JPA you could use Criteria API in Specifications.</p>\n<p>Docs:\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications</a></p>\n"},{"tags":[],"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690919924,"creation_date":1690919924,"answer_id":76814814,"question_id":73017508,"body_markdown":"I have created a [library][1] that allows you to write JPA queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API. It even supports pagination.\r\n\r\nExample:\r\n\r\n    List&lt;E&gt; entities = findWhere(\r\n    (cb, root) -&gt; cb.and(\r\n        cb.equal(root.join(Car_.model).get(CarModel_.vendor), vendor),\r\n        cb.equal(root.get(Car_.color), color))\r\n\r\n\r\n  [1]: https://github.com/janhalasa/jpa-repositories-with-lambda-expressions","title":"Is it Possible to Use Lambda Expressions in Spring JPA?","body":"<p>I have created a <a href=\"https://github.com/janhalasa/jpa-repositories-with-lambda-expressions\" rel=\"nofollow noreferrer\">library</a> that allows you to write JPA queries as lambda expressions - easy to read and write, type safe and much shorter than regular JPA Criteria API. It even supports pagination.</p>\n<p>Example:</p>\n<pre><code>List&lt;E&gt; entities = findWhere(\n(cb, root) -&gt; cb.and(\n    cb.equal(root.join(Car_.model).get(CarModel_.vendor), vendor),\n    cb.equal(root.get(Car_.color), color))\n</code></pre>\n"}],"owner":{"account_id":25832467,"reputation":11,"user_id":19569396,"display_name":"tharper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690919924,"creation_date":1658120438,"question_id":73017508,"body_markdown":"I am a C# developer learning Java. In C#, I create all my queries using lambda expressions, and inject the expression into the nHibernate session.  My signature is `Expression&lt;Func&lt;T, bool&gt;&gt;`.  The expression is based upon a generic entity (T) and executes a `boolean` condition.\r\n\r\n    var results = repo.find(t =&gt; t.property1 == something &amp;&amp; t.property2 == somethingElse);\r\n\r\nI have been searching JPA until I am going crazy trying to figure out how to do this in JPA/Spring.  \r\n\r\nI am unable to recreate this in JPA.  Am I missing something?  Is this not a feature in `JPA`?\r\n\r\nAlso `JPA` seems to be set upon a DTO, and what I have found is very little support to work with business objects that are not syntactically equivalent to the data tables. (I have not written a DTO in years as a C# programmer.  `Fluent.nHibernate` extracts the DTO process by mapping business objects to the database format.)  \r\n\r\n\r\n\r\n","title":"Is it Possible to Use Lambda Expressions in Spring JPA?","body":"<p>I am a C# developer learning Java. In C#, I create all my queries using lambda expressions, and inject the expression into the nHibernate session.  My signature is <code>Expression&lt;Func&lt;T, bool&gt;&gt;</code>.  The expression is based upon a generic entity (T) and executes a <code>boolean</code> condition.</p>\n<pre><code>var results = repo.find(t =&gt; t.property1 == something &amp;&amp; t.property2 == somethingElse);\n</code></pre>\n<p>I have been searching JPA until I am going crazy trying to figure out how to do this in JPA/Spring.</p>\n<p>I am unable to recreate this in JPA.  Am I missing something?  Is this not a feature in <code>JPA</code>?</p>\n<p>Also <code>JPA</code> seems to be set upon a DTO, and what I have found is very little support to work with business objects that are not syntactically equivalent to the data tables. (I have not written a DTO in years as a C# programmer.  <code>Fluent.nHibernate</code> extracts the DTO process by mapping business objects to the database format.)</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":224322,"reputation":451,"user_id":5647851,"display_name":"C&#233;sar Alves"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690919914,"creation_date":1597333320,"answer_id":63398596,"question_id":63398290,"body_markdown":"You could try to create a collection of collections and then `flatMap`:\r\n\r\n    List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\r\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\r\n                .map(element -&gt; {\r\n                \tList&lt;String&gt; url = new ArrayList&lt;&gt;();\r\n                \turl.add( element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;));\r\n                \turl.add( element.absUrl(&quot;srcset&quot;));\r\n                \treturn url;\r\n                })\r\n                .flatMap(List::stream)\r\n                .collect(Collectors.toList());\r\n\r\n\r\nFor your last answer, assuming your URLs don&#39;t contain white spaces you could use:\r\n\r\n    StringUtils.substringBefore(element.absUrl(&quot;data-srcset&quot;),&quot; &quot;)\r\n\r\n\r\nEDIT:\r\n\r\nI assumed you could have both `srcset` and `data-srcset` in the same image. Reading again I end up with a better approach:\r\n\r\n        List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\r\n                    .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\r\n                    .map(element -&gt; StringUtils.isNotEmpty(element.absUrl(&quot;srcset&quot;)) ? \r\n                       element.absUrl(&quot;srcset&quot;) : \r\n                       element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\r\n                    .collect(Collectors.toList());\r\n\r\n","title":"Get all img src with Jsoup","body":"<p>You could try to create a collection of collections and then <code>flatMap</code>:</p>\n<pre><code>List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\n            .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\n            .map(element -&gt; {\n                List&lt;String&gt; url = new ArrayList&lt;&gt;();\n                url.add( element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;));\n                url.add( element.absUrl(&quot;srcset&quot;));\n                return url;\n            })\n            .flatMap(List::stream)\n            .collect(Collectors.toList());\n</code></pre>\n<p>For your last answer, assuming your URLs don't contain white spaces you could use:</p>\n<pre><code>StringUtils.substringBefore(element.absUrl(&quot;data-srcset&quot;),&quot; &quot;)\n</code></pre>\n<p>EDIT:</p>\n<p>I assumed you could have both <code>srcset</code> and <code>data-srcset</code> in the same image. Reading again I end up with a better approach:</p>\n<pre><code>    List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\n                .map(element -&gt; StringUtils.isNotEmpty(element.absUrl(&quot;srcset&quot;)) ? \n                   element.absUrl(&quot;srcset&quot;) : \n                   element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\n                .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":16768470,"reputation":312,"user_id":13707722,"display_name":"miroha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63398596,"answer_count":1,"score":2,"last_activity_date":1690919914,"creation_date":1597332253,"question_id":63398290,"body_markdown":"I&#39;ve html code with following `img src` parts:\r\n```\r\n&lt;img src=&quot;https://lh3.googleusercontent.com/...rw&quot; srcset=&quot;https://lh3.googleusercontent.com/...rw 2x&quot; class=&quot;T75of DYfLw&quot; width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&quot;&gt;\r\n```\r\n```\r\n&lt;img data-src=&quot;https://lh3.googleusercontent.com/...w720-h310-rw&quot; ... data-srcset=&quot;https://lh3.googleusercontent.com/... w1440-h620-rw 2x&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&quot;width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&gt;\r\n```\r\n\r\nI want to get all screenshots with attribute `alt=Screenshot Image`. So I need the value inside attribute `srcset` and `data-srcset` (2 different attribute names = 2 different cases).\r\n\r\nI wrote this code:\r\n\r\n```\r\nList&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\r\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\r\n                .map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\r\n                //or for 1st case\r\n                .map(element -&gt; element.absUrl(&quot;srcset&quot;)..\r\n                //\r\n                .collect(Collectors.toList());\r\n```\r\nBut now I can&#39;t get this value from first case, where this attribute is `srcset`, not `data-srcset`. Can I get srcs for both scenarios without additional iteration - like not to create another stream and then unite all results into one collection? Maybe some regex and another method (seems like `.absUrl` doesn&#39;t work with regex) in Jsoup library can help?\r\n\r\nAnd I don&#39;t like the part with `replace` (maybe some src will contain 2x as own part). \r\n```\r\n.map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\r\n```\r\nBut without this manipulation I&#39;ll get non-correct src.\r\n```\r\nhttps://lh3.googleusercontent.com/Z...=w1440-h620-rw 2x\r\n```\r\nCan I improve this `replace` solution with smth else?","title":"Get all img src with Jsoup","body":"<p>I've html code with following <code>img src</code> parts:</p>\n<pre><code>&lt;img src=&quot;https://lh3.googleusercontent.com/...rw&quot; srcset=&quot;https://lh3.googleusercontent.com/...rw 2x&quot; class=&quot;T75of DYfLw&quot; width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&quot;&gt;\n</code></pre>\n<pre><code>&lt;img data-src=&quot;https://lh3.googleusercontent.com/...w720-h310-rw&quot; ... data-srcset=&quot;https://lh3.googleusercontent.com/... w1440-h620-rw 2x&quot; src=&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==&quot;width=&quot;551&quot; height=&quot;310&quot; alt=&quot;Screenshot Image&quot;&gt;\n</code></pre>\n<p>I want to get all screenshots with attribute <code>alt=Screenshot Image</code>. So I need the value inside attribute <code>srcset</code> and <code>data-srcset</code> (2 different attribute names = 2 different cases).</p>\n<p>I wrote this code:</p>\n<pre><code>List&lt;String&gt; src = htmlDocument.select(&quot;img[src]&quot;).stream()\n                .filter(img -&gt; img.attr(&quot;alt&quot;).equals(&quot;Screenshot Image&quot;))\n                .map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\n                //or for 1st case\n                .map(element -&gt; element.absUrl(&quot;srcset&quot;)..\n                //\n                .collect(Collectors.toList());\n</code></pre>\n<p>But now I can't get this value from first case, where this attribute is <code>srcset</code>, not <code>data-srcset</code>. Can I get srcs for both scenarios without additional iteration - like not to create another stream and then unite all results into one collection? Maybe some regex and another method (seems like <code>.absUrl</code> doesn't work with regex) in Jsoup library can help?</p>\n<p>And I don't like the part with <code>replace</code> (maybe some src will contain 2x as own part).</p>\n<pre><code>.map(element -&gt; element.absUrl(&quot;data-srcset&quot;).replace(&quot;2x&quot;, &quot;&quot;))\n</code></pre>\n<p>But without this manipulation I'll get non-correct src.</p>\n<pre><code>https://lh3.googleusercontent.com/Z...=w1440-h620-rw 2x\n</code></pre>\n<p>Can I improve this <code>replace</code> solution with smth else?</p>\n"},{"tags":["java","maven","lombok","java-11","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":1924499,"reputation":769,"user_id":1735269,"accept_rate":40,"display_name":"somshivam"},"score":0,"creation_date":1588070953,"post_id":61478335,"comment_id":108752479,"body_markdown":"Does this answer your question? [Building with Lombok&#39;s @Slf4j and Intellij: Cannot find symbol log](https://stackoverflow.com/questions/14866765/building-with-lomboks-slf4j-and-intellij-cannot-find-symbol-log)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14866765/building-with-lomboks-slf4j-and-intellij-cannot-find-symbol-log\">Building with Lombok&#39;s @Slf4j and Intellij: Cannot find symbol log</a>"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588071356,"post_id":61478335,"comment_id":108752679,"body_markdown":"@somshivam no, as I said, I already tried those answers.","body":"@somshivam no, as I said, I already tried those answers."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1588071993,"post_id":61478335,"comment_id":108752978,"body_markdown":"what is your maven compiler setup?","body":"what is your maven compiler setup?"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588072179,"post_id":61478335,"comment_id":108753062,"body_markdown":"@DarrenForsythe added to question","body":"@DarrenForsythe added to question"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1588072481,"post_id":61478335,"comment_id":108753214,"body_markdown":"Assume there;s no other annotation processors kicking around? e.g. lombok + mapstract was always a good gotcha","body":"Assume there;s no other annotation processors kicking around? e.g. lombok + mapstract was always a good gotcha"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1588073903,"post_id":61478335,"comment_id":108753939,"body_markdown":"@karottenbunker IntelliJ version, you are using? Just comment out the `&lt;annotationProcessorPaths&gt;` configuration in your code and try. By some experience  I wrote this comment to a similar configuration in my code `&lt;!--contradictory to maven, intelliJ fails with this--&gt;`","body":"@karottenbunker IntelliJ version, you are using? Just comment out the <code>&lt;annotationProcessorPaths&gt;</code> configuration in your code and try. By some experience  I wrote this comment to a similar configuration in my code <code>&lt;!--contradictory to maven, intelliJ fails with this--&gt;</code>"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588075393,"post_id":61478335,"comment_id":108754765,"body_markdown":"@DarrenForsythe no, just lombok.","body":"@DarrenForsythe no, just lombok."},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588075396,"post_id":61478335,"comment_id":108754767,"body_markdown":"@Naman it still does not work.","body":"@Naman it still does not work."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1588084499,"post_id":61478335,"comment_id":108760348,"body_markdown":"Of your bullet points 1) and 2) only relate to the IDE 4) and 5) are not required","body":"Of your bullet points 1) and 2) only relate to the IDE 4) and 5) are not required"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588084578,"post_id":61478335,"comment_id":108760400,"body_markdown":"[ERROR]: cannot find symbol variable log @Michael","body":"[ERROR]: cannot find symbol variable log @Michael"},{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1588085008,"post_id":61478335,"comment_id":108760693,"body_markdown":"I missed the slf4j depedency but it didn&#39;t complain about a missing import though, maybe because of lombok?","body":"I missed the slf4j depedency but it didn&#39;t complain about a missing import though, maybe because of lombok?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1588085825,"post_id":61478335,"comment_id":108761234,"body_markdown":"@karottenbunker Interesting. Added my (educated) guess as an answer","body":"@karottenbunker Interesting. Added my (educated) guess as an answer"}],"answers":[{"comments":[{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1664202499,"post_id":61480104,"comment_id":130411152,"body_markdown":"Strange how that &quot;reimport maven modules&quot; button doesn&#39;t exist in my IntellijJ...? Also, nothing of what you&#39;re saying here makes any kind of difference.","body":"Strange how that &quot;reimport maven modules&quot; button doesn&#39;t exist in my IntellijJ...? Also, nothing of what you&#39;re saying here makes any kind of difference."}],"tags":[],"owner":{"account_id":11951164,"reputation":2413,"user_id":9935369,"display_name":"Roberto Manfreda"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1588084704,"creation_date":1588076631,"answer_id":61480104,"question_id":61478335,"body_markdown":"This is a really minimal example configuration for using the `@Slf4j` lombok logging annotation.  \r\n\r\nYou need a logging facade and an implementation, in this case I&#39;m going to use [slf4j][1] (as facade) and [logback][2] (as implementation).  \r\n\r\n\r\n----------\r\n\r\n\r\n\r\n**pom.xml**  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.12&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.30&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;   \r\n\r\n\r\n----------\r\n\r\n\r\n\r\n**main.java**  \r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            log.debug(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\nIf you get some trouble try always to force the maven dependencies updates running in your project folder `mvn -U clean package` and reimporting maven project in your IDE     \r\n  \r\n[![See screenshot][3]][3] \r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://logback.qos.ch/\r\n  [3]: https://i.stack.imgur.com/vrbKA.png","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>This is a really minimal example configuration for using the <code>@Slf4j</code> lombok logging annotation.  </p>\n\n<p>You need a logging facade and an implementation, in this case I'm going to use <a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">slf4j</a> (as facade) and <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">logback</a> (as implementation).  </p>\n\n<hr>\n\n<p><strong>pom.xml</strong>  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;   \n</code></pre>\n\n<hr>\n\n<p><strong>main.java</strong>  </p>\n\n<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class Main {\n\n    public static void main(String[] args) {\n        log.debug(\"Hello\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>If you get some trouble try always to force the maven dependencies updates running in your project folder <code>mvn -U clean package</code> and reimporting maven project in your IDE     </p>\n\n<p><a href=\"https://i.stack.imgur.com/vrbKA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vrbKA.png\" alt=\"See screenshot\"></a> </p>\n"},{"comments":[{"owner":{"display_name":"user9347168"},"score":1,"creation_date":1664202576,"post_id":61483263,"comment_id":130411179,"body_markdown":"Completely false. I have a working project, with all the imports and dependencies. When I try to build it locally on my machine, I get this error.","body":"Completely false. I have a working project, with all the imports and dependencies. When I try to build it locally on my machine, I get this error."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1588085805,"creation_date":1588085805,"answer_id":61483263,"question_id":61478335,"body_markdown":"My suspicion is that this is a misleading error message as a consequence of the point that Lombok hooks in during compilation.\r\n\r\nIn bytecode, there is no concept of an import. Classes are replaced by their fully qualified names (e.g. `Integer` to `java.lang.Integer`). Therefore at some point in compilation, the imports are parsed, applied, and any unknown classes (e.g. due to lack of the correct dependency) will throw an error at this stage.\r\n\r\nSince `@Slf4j` means you do not need to import `org.slf4j.Logger`, the step described above is missed for this class.\r\n\r\nAfter Lombok has appended the `log` field, the compiler must subsequently look at it&#39;s usage, see the class `org.slf4j.Logger` which it does not recognise and throws an error. Under normal circumstances, due to the earlier compilation stage, the only possible cause is that the field doesn&#39;t exist, so infers that the symbol `log` must be missing. What it is really failing to understand is the *type* of the field `log`.\r\n\r\nBecause Lombok makes changes in the middle of compilation, I guess spurious errors such as these are always a possibility. Perhaps Lombok developers could fix it by doing their own check for `org.slf4j.Logger`. Most of the functionality provided by Lombok does not involve &quot;importing&quot; external classes, so I&#39;m not surprised that it doesn&#39;t handle this edge case as elegantly as possible.\r\n\r\nIf you add the dependency for SLF4J, the compiler will no longer complain.","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>My suspicion is that this is a misleading error message as a consequence of the point that Lombok hooks in during compilation.</p>\n\n<p>In bytecode, there is no concept of an import. Classes are replaced by their fully qualified names (e.g. <code>Integer</code> to <code>java.lang.Integer</code>). Therefore at some point in compilation, the imports are parsed, applied, and any unknown classes (e.g. due to lack of the correct dependency) will throw an error at this stage.</p>\n\n<p>Since <code>@Slf4j</code> means you do not need to import <code>org.slf4j.Logger</code>, the step described above is missed for this class.</p>\n\n<p>After Lombok has appended the <code>log</code> field, the compiler must subsequently look at it's usage, see the class <code>org.slf4j.Logger</code> which it does not recognise and throws an error. Under normal circumstances, due to the earlier compilation stage, the only possible cause is that the field doesn't exist, so infers that the symbol <code>log</code> must be missing. What it is really failing to understand is the <em>type</em> of the field <code>log</code>.</p>\n\n<p>Because Lombok makes changes in the middle of compilation, I guess spurious errors such as these are always a possibility. Perhaps Lombok developers could fix it by doing their own check for <code>org.slf4j.Logger</code>. Most of the functionality provided by Lombok does not involve \"importing\" external classes, so I'm not surprised that it doesn't handle this edge case as elegantly as possible.</p>\n\n<p>If you add the dependency for SLF4J, the compiler will no longer complain.</p>\n"},{"comments":[{"owner":{"display_name":"user9347168"},"score":0,"creation_date":1664202641,"post_id":70073801,"comment_id":130411206,"body_markdown":"There IS no lombok.config file. And no file with any of the strings your talking about.","body":"There IS no lombok.config file. And no file with any of the strings your talking about."}],"tags":[],"owner":{"account_id":1943284,"reputation":21,"user_id":1748958,"display_name":"Gal Schneider"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637650940,"creation_date":1637625450,"answer_id":70073801,"question_id":61478335,"body_markdown":"In lombok.config file for lombok.log.custom.declaration property use full name including the package for the classes\r\n\r\n    lombok.log.custom.declaration=com.mycomp.logging.Log\r\n    com.mycomp.logging.LogFactory.getLog(TYPE)(TOPIC)","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>In lombok.config file for lombok.log.custom.declaration property use full name including the package for the classes</p>\n<pre><code>lombok.log.custom.declaration=com.mycomp.logging.Log\ncom.mycomp.logging.LogFactory.getLog(TYPE)(TOPIC)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3519576,"reputation":1,"user_id":2942218,"display_name":"Tebogo Kgofelo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690918685,"creation_date":1690471194,"answer_id":76781239,"question_id":61478335,"body_markdown":"If you already added `Lombok` plugin and enabled `Lombok` annotations, then your problem is on the IDE cache.\r\n\r\nInvalidate Caches\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInvalidate and Restart\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKCDP.png\r\n  [2]: https://i.stack.imgur.com/sHhFO.png","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>If you already added <code>Lombok</code> plugin and enabled <code>Lombok</code> annotations, then your problem is on the IDE cache.</p>\n<p>Invalidate Caches</p>\n<p><a href=\"https://i.stack.imgur.com/hKCDP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKCDP.png\" alt=\"enter image description here\" /></a></p>\n<p>Invalidate and Restart</p>\n<p><a href=\"https://i.stack.imgur.com/sHhFO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHhFO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14850,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":61480104,"answer_count":4,"score":7,"last_activity_date":1690918685,"creation_date":1588070741,"question_id":61478335,"body_markdown":"I am trying to build a Java 11 project with maven and lombok&#39;s @Slf4j Logger, but maven does not recognize the `log` variables. IntelliJ does though and is able to build the project.\r\n\r\nThe error is\r\n\r\n    [ERROR]: cannot find symbol variable log \r\n\r\nProject and Module SDK is both Java 11. Lombok Version is 1.18.2:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.12&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy maven compiler setup:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.12&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI already tried:\r\n\r\n - turning Annotaion Processing off and on again\r\n - reinstalling Lombok plugin\r\n - clearing .m2/repository folder\r\n - manually adding lombok.jar as Annotation Processor\r\n - adding Lombok path to `maven-compiler-plugin` list of Annotation Processor","title":"[ERROR]: cannot find symbol variable log when building with maven and lombok","body":"<p>I am trying to build a Java 11 project with maven and lombok's @Slf4j Logger, but maven does not recognize the <code>log</code> variables. IntelliJ does though and is able to build the project.</p>\n\n<p>The error is</p>\n\n<pre><code>[ERROR]: cannot find symbol variable log \n</code></pre>\n\n<p>Project and Module SDK is both Java 11. Lombok Version is 1.18.2:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.12&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My maven compiler setup:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.12&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I already tried:</p>\n\n<ul>\n<li>turning Annotaion Processing off and on again</li>\n<li>reinstalling Lombok plugin</li>\n<li>clearing .m2/repository folder</li>\n<li>manually adding lombok.jar as Annotation Processor</li>\n<li>adding Lombok path to <code>maven-compiler-plugin</code> list of Annotation Processor</li>\n</ul>\n"},{"tags":["java","spring","flyway"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690913061,"post_id":76814180,"comment_id":135418306,"body_markdown":"Isn&#39;t the message clear? *ERROR: relation &quot;usr&quot; does not exist* I guess it should be `insert into user `","body":"Isn&#39;t the message clear? <i>ERROR: relation &quot;usr&quot; does not exist</i> I guess it should be <code>insert into user </code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690913397,"post_id":76814180,"comment_id":135418370,"body_markdown":"If not, please provide the content of `V1...`","body":"If not, please provide the content of <code>V1...</code>"},{"owner":{"account_id":29138698,"reputation":1,"user_id":22322222,"display_name":"PoToM"},"score":0,"creation_date":1690916198,"post_id":76814180,"comment_id":135418837,"body_markdown":"@Jens Edited added v1","body":"@Jens Edited added v1"}],"owner":{"account_id":29138698,"reputation":1,"user_id":22322222,"display_name":"PoToM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690918665,"creation_date":1690912939,"question_id":76814180,"body_markdown":"I&#39;m doing deploy for the first time, as I realized, problems with migrations.\r\n\r\n```\r\n    2023-08-01T20:10:30.302+03:00 ERROR 6477 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;sessionRepositoryFilterRegistration&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method &#39;sessionRepositoryFilterRegistration&#39; parameter 1: Error creating bean with name &#39;springSessionRepositoryFilter&#39; defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method &#39;springSessionRepositoryFilter&#39; parameter 0: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\r\n    ----------------------------------\r\n    SQL State  : 42P01\r\n    Error Code : 0\r\n    Message    : ERROR: relation &quot;usr&quot; does not exist\r\n      Position: 13\r\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\r\n    2023-08-01T20:10:31.035+03:00 ERROR 6477 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Unable to start web server\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.5.jar!/:3.0.5]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.7.jar!/:6.0.7]\r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sessionRepositoryFilterRegistration&#39; defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method &#39;sessionRepositoryFilterRegistration&#39; parameter 1: Error creating bean with name &#39;springSessionRepositoryFilter&#39; defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method &#39;springSessionRepositoryFilter&#39; parameter 0: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\r\n    ----------------------------------\r\n    SQL State  : 42P01\r\n    Error Code : 0\r\n    Message    : ERROR: relation &quot;usr&quot; does not exist\r\n      Position: 13\r\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\r\n    \r\n    Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__Add_admin.sql failed\r\n    ----------------------------------\r\n    SQL State  : 42P01\r\n    Error Code : 0\r\n    Message    : ERROR: relation &quot;usr&quot; does not exist\r\n      Position: 13\r\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\r\n```\r\n\r\nV2__Add_admin\r\n\r\n```sql\r\n    insert into usr (id, username, password, active)\r\n    values (1, &#39;admin&#39;, &#39;123&#39;, true);\r\n    \r\n    insert into user_role (user_id, roles)\r\n    values (1, &#39;USER&#39;), (1, &#39;ADMIN&#39;);\r\n    \r\n    \r\n    insert into usr (id, username, password, active)\r\n    values (2, &#39;admin2&#39;, &#39;123&#39;, true);\r\n    \r\n    insert into user_role (user_id, roles)\r\n    values (2, &#39;USER&#39;), (2, &#39;ADMIN&#39;);\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI work on windows, maybe not so long as the db is formed? changing the location, i.e. db first, then migration, does not help\r\n\r\nV1__Init_DB File content is provided below:\r\n\r\n```sql\r\n    create sequence hibernate_sequence start 1 increment 1;\r\n    \r\n    create table message (\r\n                             id int8 not null,\r\n                             filename varchar(255),\r\n                             tag varchar(255),\r\n                             text varchar(2048) not null,\r\n                             user_id int8,\r\n                             primary key (id)\r\n    );\r\n    \r\n    create table user_role (\r\n                               user_id int8 not null,\r\n                               roles varchar(255)\r\n    );\r\n    \r\n    create table usr (\r\n                         id int8 not null,\r\n                         activation_code varchar(255),\r\n                         active boolean not null,\r\n                         email varchar(255),\r\n                         password varchar(255) not null,\r\n                         username varchar(255) not null,\r\n                         primary key (id)\r\n    );\r\n    \r\n    alter table if exists message\r\n        add constraint message_user_fk\r\n        foreign key (user_id) references usr;\r\n    \r\n    alter table if exists user_role\r\n        add constraint user_role_user_fk\r\n        foreign key (user_id) references usr;\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/AvAG5.jpg\r\n[2]: https://i.stack.imgur.com/gU7bY.jpg","title":"During deploy, it throws an error: relation &quot;usr&quot; does not exist","body":"<p>I'm doing deploy for the first time, as I realized, problems with migrations.</p>\n<pre><code>    2023-08-01T20:10:30.302+03:00 ERROR 6477 --- [           main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'sessionRepositoryFilterRegistration' defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method 'sessionRepositoryFilterRegistration' parameter 1: Error creating bean with name 'springSessionRepositoryFilter' defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method 'springSessionRepositoryFilter' parameter 0: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\n    ----------------------------------\n    SQL State  : 42P01\n    Error Code : 0\n    Message    : ERROR: relation &quot;usr&quot; does not exist\n      Position: 13\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\n    2023-08-01T20:10:31.035+03:00 ERROR 6477 --- [           main] o.s.boot.SpringApplication               : Application run failed\n    \n    org.springframework.context.ApplicationContextException: Unable to start web server\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.5.jar!/:3.0.5]\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.7.jar!/:6.0.7]\n    \n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sessionRepositoryFilterRegistration' defined in class path resource [org/springframework/boot/autoconfigure/session/SessionRepositoryFilterConfiguration.class]: Unsatisfied dependency expressed through method 'sessionRepositoryFilterRegistration' parameter 1: Error creating bean with name 'springSessionRepositoryFilter' defined in class path resource [org/springframework/session/config/annotation/web/http/SpringHttpSessionConfiguration.class]: Unsatisfied dependency expressed through method 'springSessionRepositoryFilter' parameter 0: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__Add_admin.sql failed\n    ----------------------------------\n    SQL State  : 42P01\n    Error Code : 0\n    Message    : ERROR: relation &quot;usr&quot; does not exist\n      Position: 13\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\n    \n    Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__Add_admin.sql failed\n    ----------------------------------\n    SQL State  : 42P01\n    Error Code : 0\n    Message    : ERROR: relation &quot;usr&quot; does not exist\n      Position: 13\n    Location   : db/migration/V2__Add_admin.sql (/root/file:/root/sellmagazin-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/db/migration/V2__Add_admin.sql)\n</code></pre>\n<p>V2__Add_admin</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    insert into usr (id, username, password, active)\n    values (1, 'admin', '123', true);\n    \n    insert into user_role (user_id, roles)\n    values (1, 'USER'), (1, 'ADMIN');\n    \n    \n    insert into usr (id, username, password, active)\n    values (2, 'admin2', '123', true);\n    \n    insert into user_role (user_id, roles)\n    values (2, 'USER'), (2, 'ADMIN');\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AvAG5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AvAG5.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/gU7bY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gU7bY.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I work on windows, maybe not so long as the db is formed? changing the location, i.e. db first, then migration, does not help</p>\n<p>V1__Init_DB File content is provided below:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create sequence hibernate_sequence start 1 increment 1;\n    \n    create table message (\n                             id int8 not null,\n                             filename varchar(255),\n                             tag varchar(255),\n                             text varchar(2048) not null,\n                             user_id int8,\n                             primary key (id)\n    );\n    \n    create table user_role (\n                               user_id int8 not null,\n                               roles varchar(255)\n    );\n    \n    create table usr (\n                         id int8 not null,\n                         activation_code varchar(255),\n                         active boolean not null,\n                         email varchar(255),\n                         password varchar(255) not null,\n                         username varchar(255) not null,\n                         primary key (id)\n    );\n    \n    alter table if exists message\n        add constraint message_user_fk\n        foreign key (user_id) references usr;\n    \n    alter table if exists user_role\n        add constraint user_role_user_fk\n        foreign key (user_id) references usr;\n</code></pre>\n"},{"tags":["java","spring","ftp","spring-integration"],"comments":[{"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"score":0,"creation_date":1453912596,"post_id":35042724,"comment_id":57810166,"body_markdown":"can you post your ftp configuration","body":"can you post your ftp configuration"}],"answers":[{"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1453914898,"post_id":35043223,"comment_id":57811807,"body_markdown":"See `AbstractFtpSessionFactory.setClientMode()`","body":"See <code>AbstractFtpSessionFactory.setClientMode()</code>"}],"tags":[],"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1453913155,"creation_date":1453913155,"answer_id":35043223,"question_id":35042724,"body_markdown":"FTP requires two separate channels for communication. The `command channel` is working for you as you are able to get the file existence status from the server. If you are trying a communication in Active mode, it requires the server to initiate a connection to your system and in that case chances are that your firewall will block such a connection, causing the IO exception.\r\n\r\nTo overcome this issue you can change the client mode to `Passive`. In config, change clientMode to 2. Or if you have hold of `FTPClient` instance, you can also use `client.enterLocalPassiveMode();`.\r\n\r\n`PASSIVE_LOCAL_DATA_CONNECTION_MODE = 2`","title":"FtpRemoteFileTemplate checks if remote file exists but cannot retrieve it","body":"<p>FTP requires two separate channels for communication. The <code>command channel</code> is working for you as you are able to get the file existence status from the server. If you are trying a communication in Active mode, it requires the server to initiate a connection to your system and in that case chances are that your firewall will block such a connection, causing the IO exception.</p>\n\n<p>To overcome this issue you can change the client mode to <code>Passive</code>. In config, change clientMode to 2. Or if you have hold of <code>FTPClient</code> instance, you can also use <code>client.enterLocalPassiveMode();</code>.</p>\n\n<p><code>PASSIVE_LOCAL_DATA_CONNECTION_MODE = 2</code></p>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":1,"creation_date":1690952830,"post_id":76781607,"comment_id":135422768,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76781607/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25808095,"reputation":11,"user_id":19549333,"display_name":"Wanted Lepota"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690918462,"creation_date":1690474125,"answer_id":76781607,"question_id":35042724,"body_markdown":"`dsf.setClientMode(2);`   &lt;br/&gt;worked for me.","title":"FtpRemoteFileTemplate checks if remote file exists but cannot retrieve it","body":"<p><code>dsf.setClientMode(2);</code>   <br/>worked for me.</p>\n"}],"owner":{"account_id":3200848,"reputation":2052,"user_id":2702917,"accept_rate":50,"display_name":"Francesco Pitzalis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2035,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35043223,"answer_count":2,"score":1,"last_activity_date":1690918462,"creation_date":1453911891,"question_id":35042724,"body_markdown":"I have a `FtpRemoteFileTemplate`:\r\n\r\n    @Autowired\r\n    private FtpRemoteFileTemplate ftpTemplate;\r\n\r\nand I use it in this way:\r\n\r\n    if (ftpTemplate.exists(fileAbsPath)) {\r\n\t\treturn getRemoteFileAsByteArray(fileAbsPath);\r\n\t}\r\n\r\nwhere `getRemoteFileAsByteArray` is\r\n\r\n\tprivate byte[] getRemoteFileAsByteArray(String absoluteFileName) {\r\n\t\treturn ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)));\r\n\t}\r\n\r\nThe statement `ftpTemplate.exists(fileAbsPath)` works and correctly returns true, the `ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)))` after a while throws this exception:\r\n\r\n    org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:419) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\r\n    \tat xxx.xxx.service.impl.ImageServiceFtpImpl.getRemoteFileAsByteArray(ImageServiceFtpImpl.java:91) ~[classes/:?]\r\n    \tat xxx.xxx.service.impl.ImageServiceFtpImpl.getImage(ImageServiceFtpImpl.java:64) [classes/:?]\r\n    \tat xxx.xxx.service.impl.AbstractImageService.getOriginalTransitImage(AbstractImageService.java:22) [classes/:?]\r\n    \tat xxx.xxx.service.rest.ServiceController.getOriginalTransitImage(ServiceController.java:138) [classes/:?]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_71]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_71]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_71]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497) ~[?:1.8.0_71]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [javax.servlet-api-3.1.0.jar:3.1.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:812) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat xxx.xxx.service.util.SimpleCORSFilter.doFilter(SimpleCORSFilter.java:26) [classes/:?]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [jetty-security-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:499) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:544) [jetty-io-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\r\n    \tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_71]\r\n    Caused by: java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\r\n    \tat org.springframework.integration.ftp.session.FtpSession.readRaw(FtpSession.java:96) ~[spring-integration-ftp-4.2.4.RELEASE.jar:?]\r\n    \tat xxx.xxx.service.impl.ImageServiceFtpImpl.lambda$0(ImageServiceFtpImpl.java:91) ~[classes/:?]\r\n    \tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:410) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\r\n    \t... 76 more\r\n\r\nFrom FileZilla I&#39;m able to retreive the same file from the same computer.\r\n\r\nWhere I&#39;m getting wrong?","title":"FtpRemoteFileTemplate checks if remote file exists but cannot retrieve it","body":"<p>I have a <code>FtpRemoteFileTemplate</code>:</p>\n\n<pre><code>@Autowired\nprivate FtpRemoteFileTemplate ftpTemplate;\n</code></pre>\n\n<p>and I use it in this way:</p>\n\n<pre><code>if (ftpTemplate.exists(fileAbsPath)) {\n    return getRemoteFileAsByteArray(fileAbsPath);\n}\n</code></pre>\n\n<p>where <code>getRemoteFileAsByteArray</code> is</p>\n\n<pre><code>private byte[] getRemoteFileAsByteArray(String absoluteFileName) {\n    return ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)));\n}\n</code></pre>\n\n<p>The statement <code>ftpTemplate.exists(fileAbsPath)</code> works and correctly returns true, the <code>ftpTemplate.execute(session -&gt; IOUtils.toByteArray(session.readRaw(absoluteFileName)))</code> after a while throws this exception:</p>\n\n<pre><code>org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:419) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\n    at xxx.xxx.service.impl.ImageServiceFtpImpl.getRemoteFileAsByteArray(ImageServiceFtpImpl.java:91) ~[classes/:?]\n    at xxx.xxx.service.impl.ImageServiceFtpImpl.getImage(ImageServiceFtpImpl.java:64) [classes/:?]\n    at xxx.xxx.service.impl.AbstractImageService.getOriginalTransitImage(AbstractImageService.java:22) [classes/:?]\n    at xxx.xxx.service.rest.ServiceController.getOriginalTransitImage(ServiceController.java:138) [classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_71]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_71]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_71]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[?:1.8.0_71]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [javax.servlet-api-3.1.0.jar:3.1.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845) [spring-webmvc-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api-3.1.0.jar:3.1.0]\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:812) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at xxx.xxx.service.util.SimpleCORSFilter.doFilter(SimpleCORSFilter.java:26) [classes/:?]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) [spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.2.4.RELEASE.jar:4.2.4.RELEASE]\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [jetty-security-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [jetty-servlet-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.Server.handle(Server.java:499) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [jetty-server-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:544) [jetty-io-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [jetty-util-9.2.14.v20151106.jar:9.2.14.v20151106]\n    at java.lang.Thread.run(Thread.java:745) [?:1.8.0_71]\nCaused by: java.io.IOException: Failed to obtain InputStream for remote file /xxx/xxx/foo.jpg: 425\n    at org.springframework.integration.ftp.session.FtpSession.readRaw(FtpSession.java:96) ~[spring-integration-ftp-4.2.4.RELEASE.jar:?]\n    at xxx.xxx.service.impl.ImageServiceFtpImpl.lambda$0(ImageServiceFtpImpl.java:91) ~[classes/:?]\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:410) ~[spring-integration-file-4.2.4.RELEASE.jar:?]\n    ... 76 more\n</code></pre>\n\n<p>From FileZilla I'm able to retreive the same file from the same computer.</p>\n\n<p>Where I'm getting wrong?</p>\n"},{"tags":["java","rest","tomcat","jax-rs","apache-tomee"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690943103,"post_id":76814626,"comment_id":135422010,"body_markdown":"Do you have another binaries API version jar in the app also? do you have a collective jar that also contains ghost API in it among other API&#39;s as a supplement? , Does TomEE contain ghost API in its binaries?   It will overwrite in the app on loading in order of copy loading, or if part of TomEE will remain until configured out.","body":"Do you have another binaries API version jar in the app also? do you have a collective jar that also contains ghost API in it among other API&#39;s as a supplement? , Does TomEE contain ghost API in its binaries?   It will overwrite in the app on loading in order of copy loading, or if part of TomEE will remain until configured out."}],"owner":{"account_id":28722279,"reputation":31,"user_id":21995835,"display_name":"megaMind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690917752,"creation_date":1690917752,"question_id":76814626,"body_markdown":"Calling it Ghost API because no idea how this endpoint is still running. \r\n\r\nDetails of how this issue arose:\r\n\r\n2 identical POST endpoints:\r\nendPoint1\r\nendPoint2 &lt;-- Will not work whatsoever, identical to Endpoint1, only difference is the name.\r\n\r\n```\r\n    @POST // \r\n    @Path (&quot;endPoint2&quot;)\r\n    public Response postEndPoint2( String requestData)\r\n    {\r\n        Response returnStatus;\r\n        try\r\n        {\r\n            \r\n            //Code to shoot over message to ZMQ (ZeroMQ)\r\n            System.out.println(returnStatus);\r\n            \r\n        }\r\n        catch ( Exception e)\r\n        {\r\n            System.out.println ( &quot;Error sending &quot; + e.getMessage());\r\n            returnStatus = Response.status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                    .entity(e.getMessage()).build();\r\n        }\r\n        return returnStatus;\r\n    }\r\n```\r\nendPoint1 and endpoint2 are absolutely identical, other than the @Path name being different and the method name\r\n\r\nendPoint1 works, endPoint2 does not.\r\n\r\nI deleted endPoint2, renamed endPoint1 to &#39;endPoint2&#39;. Still, it will not work.\r\n\r\nWhat is now weirder, endPoint1 is still accepting data?????\r\n\r\nIt has been deleted, heck, even deleted the entire file, and the endpoint is still processing data\r\n\r\nI know it is processing data because after getting a request, the API would carry the data across a message broker (ZMQ), and it is still receiving messages.\r\n\r\nApache Tomee\r\nNetBeans\r\nand JavaX.ws.rs is the stack\r\n\r\nAnyone run into anything similar?\r\n\r\nI have reinstalled apache tomee, commented the entire file out that has the endpoints, endpoint is a &#39;ghost&#39; and is still being recieved somehow. Delted WAR files and redeployed them by hand. ","title":"Ghost API Endpoint still existing after deletion, redploying, clearing cache, and reinstalling Tomee","body":"<p>Calling it Ghost API because no idea how this endpoint is still running.</p>\n<p>Details of how this issue arose:</p>\n<p>2 identical POST endpoints:\nendPoint1\nendPoint2 &lt;-- Will not work whatsoever, identical to Endpoint1, only difference is the name.</p>\n<pre><code>    @POST // \n    @Path (&quot;endPoint2&quot;)\n    public Response postEndPoint2( String requestData)\n    {\n        Response returnStatus;\n        try\n        {\n            \n            //Code to shoot over message to ZMQ (ZeroMQ)\n            System.out.println(returnStatus);\n            \n        }\n        catch ( Exception e)\n        {\n            System.out.println ( &quot;Error sending &quot; + e.getMessage());\n            returnStatus = Response.status(Response.Status.INTERNAL_SERVER_ERROR)\n                    .entity(e.getMessage()).build();\n        }\n        return returnStatus;\n    }\n</code></pre>\n<p>endPoint1 and endpoint2 are absolutely identical, other than the @Path name being different and the method name</p>\n<p>endPoint1 works, endPoint2 does not.</p>\n<p>I deleted endPoint2, renamed endPoint1 to 'endPoint2'. Still, it will not work.</p>\n<p>What is now weirder, endPoint1 is still accepting data?????</p>\n<p>It has been deleted, heck, even deleted the entire file, and the endpoint is still processing data</p>\n<p>I know it is processing data because after getting a request, the API would carry the data across a message broker (ZMQ), and it is still receiving messages.</p>\n<p>Apache Tomee\nNetBeans\nand JavaX.ws.rs is the stack</p>\n<p>Anyone run into anything similar?</p>\n<p>I have reinstalled apache tomee, commented the entire file out that has the endpoints, endpoint is a 'ghost' and is still being recieved somehow. Delted WAR files and redeployed them by hand.</p>\n"},{"tags":["java","jdbc","oracle11g","windows-7"],"comments":[{"owner":{"account_id":77466,"reputation":29456,"user_id":221061,"accept_rate":99,"display_name":"Chris Laplante"},"score":0,"creation_date":1348530037,"post_id":12574414,"comment_id":16941459,"body_markdown":"You&#39;ll need to post your code that is producing this error","body":"You&#39;ll need to post your code that is producing this error"},{"owner":{"account_id":56883,"reputation":66574,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"score":0,"creation_date":1348541590,"post_id":12574414,"comment_id":16943384,"body_markdown":"@EJP Yes sir! Updated post to reflect so!","body":"@EJP Yes sir! Updated post to reflect so!"}],"answers":[{"comments":[{"owner":{"account_id":56883,"reputation":66574,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"score":1,"creation_date":1348553492,"post_id":12574926,"comment_id":16945706,"body_markdown":"How do I make sure my database is running?","body":"How do I make sure my database is running?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1471497124,"post_id":12574926,"comment_id":65372312,"body_markdown":"@Strawberry Via the utilities provided by the vendor for the purpose.","body":"@Strawberry Via the utilities provided by the vendor for the purpose."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1402646941,"creation_date":1348534998,"answer_id":12574926,"question_id":12574414,"body_markdown":"Either:\r\n\r\n1. The database isn&#39;t running\r\n2. You got the URL wrong\r\n3. There is a firewall in the way.\r\n\r\n(This strange error message is produced by Oracle&#39;s JDBC driver when it can&#39;t connect to the database server. &#39;Network adapter&#39; appears to refer to some component of their code, which isn&#39;t very useful. Real network adapters (NICs) don&#39;t establish connections at all: TCP protocol stacks do that. It would have been a lot more useful if they had just let the original `ConnectException` be thrown, or at least used its error message and let it appear in the stack trace.)\r\n\r\n","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Either:</p>\n\n<ol>\n<li>The database isn't running</li>\n<li>You got the URL wrong</li>\n<li>There is a firewall in the way.</li>\n</ol>\n\n<p>(This strange error message is produced by Oracle's JDBC driver when it can't connect to the database server. 'Network adapter' appears to refer to some component of their code, which isn't very useful. Real network adapters (NICs) don't establish connections at all: TCP protocol stacks do that. It would have been a lot more useful if they had just let the original <code>ConnectException</code> be thrown, or at least used its error message and let it appear in the stack trace.)</p>\n"},{"comments":[{"owner":{"account_id":50594,"reputation":12311,"user_id":151004,"accept_rate":83,"display_name":"thoredge"},"score":1,"creation_date":1385720524,"post_id":13245324,"comment_id":30260265,"body_markdown":"I got the same problem because I forgot the @","body":"I got the same problem because I forgot the @"},{"owner":{"account_id":180612,"reputation":687,"user_id":414044,"display_name":"AravindR"},"score":0,"creation_date":1528926558,"post_id":13245324,"comment_id":88697072,"body_markdown":"+1. i had the same problem. I forgot the @. Example: JDBC_STRING=&quot;jdbc:oracle:thin:@aravindr-dra0r0.cyrbi4kznovv.us-west-1.rds.amazonaws.com:8195:DRA0R0&quot;","body":"+1. i had the same problem. I forgot the @. Example: JDBC_STRING=&quot;jdbc:oracle:thin:@aravindr-dra0r0.cyrbi4kznovv.&zwnj;&#8203;us-west-1.rds.amazon&zwnj;&#8203;aws.com:8195:DRA0R0&quot;"}],"tags":[],"owner":{"account_id":2014530,"reputation":91,"user_id":1802144,"display_name":"shams"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1352181959,"creation_date":1352181959,"answer_id":13245324,"question_id":12574414,"body_markdown":"I had the same problem, and this is how I fixed it. \r\nI was using the wrong port for my connection.\r\n\r\n    private final String DB_URL  = &quot;jdbc:oracle:thin:@localhost:1521:orcll&quot;; // 1521 my wrong port\r\n\r\n- go to your localhost\r\n-    (my localhost address) :  &lt;code&gt;https://localhost:1158/em&lt;/code&gt;  \r\n\r\n- login  \r\n + user name \r\n + password\r\n  + connect as --&gt; normal\r\n\r\n- Below &#39;General&#39; click on \tLISTENER_localhost\r\n- look at you port number\r\n  - Net Address\t(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1522))\r\n   Connect to port  1522\r\n- Edit you connection\r\n   change port 1521 to 1522.\r\n\r\n  - done\r\n\r\n\r\n\r\n ","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I had the same problem, and this is how I fixed it. \nI was using the wrong port for my connection.</p>\n\n<pre><code>private final String DB_URL  = \"jdbc:oracle:thin:@localhost:1521:orcll\"; // 1521 my wrong port\n</code></pre>\n\n<ul>\n<li>go to your localhost</li>\n<li><p>(my localhost address) :  <code>https://localhost:1158/em</code>  </p></li>\n<li><p>login  </p>\n\n<ul>\n<li>user name </li>\n<li>password</li>\n<li>connect as --> normal</li>\n</ul></li>\n<li><p>Below 'General' click on  LISTENER_localhost</p></li>\n<li>look at you port number\n<ul>\n<li>Net Address (ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1522))\nConnect to port  1522</li>\n</ul></li>\n<li><p>Edit you connection\nchange port 1521 to 1522.</p>\n\n<ul>\n<li>done</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2047207,"reputation":176,"user_id":1827044,"display_name":"user1827044"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353347565,"creation_date":1353347565,"answer_id":13459369,"question_id":12574414,"body_markdown":"Another thing you might want to check that the listener.ora file matches the way you are trying to connect to the DB. If you were connecting via a localhost reference and your listener.ora file got changed from:\r\n\r\n    HOST = localhost\r\n\r\nto\r\n\r\n    HOST = 192.168.XX.XX\r\n\r\nthen this can cause the error that you had unless you update your hosts file to accommodate for this. Someone might have made this change to allow for remote connections to the DB from other machines.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Another thing you might want to check that the listener.ora file matches the way you are trying to connect to the DB. If you were connecting via a localhost reference and your listener.ora file got changed from:</p>\n\n<pre><code>HOST = localhost\n</code></pre>\n\n<p>to</p>\n\n<pre><code>HOST = 192.168.XX.XX\n</code></pre>\n\n<p>then this can cause the error that you had unless you update your hosts file to accommodate for this. Someone might have made this change to allow for remote connections to the DB from other machines.</p>\n"},{"tags":[],"owner":{"account_id":2937511,"reputation":1,"user_id":2516111,"display_name":"Dharm"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1372075521,"creation_date":1372074335,"answer_id":17274693,"question_id":12574414,"body_markdown":"To resolve the Network Adapter Error I had to remove the `-` in the name of the computer name. ","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>To resolve the Network Adapter Error I had to remove the <code>-</code> in the name of the computer name. </p>\n"},{"tags":[],"owner":{"account_id":1063435,"reputation":7478,"user_id":1064572,"accept_rate":71,"display_name":"Kris Selbekk"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1399883118,"creation_date":1399883118,"answer_id":23604221,"question_id":12574414,"body_markdown":"In my case, I needed to specify a ``viahost`` and ``viauser``. Worth trying if you&#39;re in a complex system. :)","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>In my case, I needed to specify a <code>viahost</code> and <code>viauser</code>. Worth trying if you're in a complex system. :)</p>\n"},{"tags":[],"owner":{"account_id":10350392,"reputation":9,"user_id":7633977,"display_name":"Karisa"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1488267079,"creation_date":1488267079,"answer_id":42502700,"question_id":12574414,"body_markdown":"For me the basic oracle only was not installed. Please ensure you have oracle installed and then try checking host and port.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>For me the basic oracle only was not installed. Please ensure you have oracle installed and then try checking host and port.</p>\n"},{"tags":[],"owner":{"account_id":10611650,"reputation":23,"user_id":7815407,"display_name":"V Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491930012,"creation_date":1491930012,"answer_id":43352075,"question_id":12574414,"body_markdown":"I figured out that in my case, my database was in different subnet than the subnet from where i was trying to access the db.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I figured out that in my case, my database was in different subnet than the subnet from where i was trying to access the db.</p>\n"},{"comments":[{"owner":{"account_id":135269,"reputation":2161,"user_id":338011,"display_name":"Baptiste Mille-Mathias"},"score":0,"creation_date":1535294310,"post_id":52027105,"comment_id":91004712,"body_markdown":"Hello. While posting some link is okay, we prefer them being posted with some explanation and some excerpt of the source, please read [answer] and improve your answer.","body":"Hello. While posting some link is okay, we prefer them being posted with some explanation and some excerpt of the source, please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and improve your answer."}],"tags":[],"owner":{"account_id":313504,"reputation":187,"user_id":628176,"display_name":"Mamed Shahmaliyev"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535295380,"creation_date":1535293072,"answer_id":52027105,"question_id":12574414,"body_markdown":"Most probably you have listener configured wrongly, the hostname you specify in connection string must be the same as in the listener.\r\n\r\nFirst check the Firewall and network related issues.\r\n\r\nCheck if Oracle Listener service is available and running. If not you may use Oracle Net Configuration Assistant tool to add and register new listener.\r\n\r\nIf the above steps are ok then you need to configure Oracle Listener appropriately. You may use Oracle Net Manager tool or edit “%ORACLE_HOME%\\network\\admin\\listener.ora” file manually. \r\n\r\nThere are 2 options that need to be considered carefully:\r\nListening Locations associated with the Listener – Hostname(IP) and Port in Listening Location must exactly match the ones used in the connection string. \r\n\r\nFor example, if you use 192.168.74.139 as target hostname, then there must be Listening Location registered with the same IP address. \r\n\r\nAlso make sure the you use the same SID as indicated in Database Service associated with the Listener.\r\n\r\nhttps://adhoctuts.com/fix-oracle-io-error-the-network-adapter-could-not-establish-the-connection-error/","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Most probably you have listener configured wrongly, the hostname you specify in connection string must be the same as in the listener.</p>\n\n<p>First check the Firewall and network related issues.</p>\n\n<p>Check if Oracle Listener service is available and running. If not you may use Oracle Net Configuration Assistant tool to add and register new listener.</p>\n\n<p>If the above steps are ok then you need to configure Oracle Listener appropriately. You may use Oracle Net Manager tool or edit “%ORACLE_HOME%\\network\\admin\\listener.ora” file manually. </p>\n\n<p>There are 2 options that need to be considered carefully:\nListening Locations associated with the Listener – Hostname(IP) and Port in Listening Location must exactly match the ones used in the connection string. </p>\n\n<p>For example, if you use 192.168.74.139 as target hostname, then there must be Listening Location registered with the same IP address. </p>\n\n<p>Also make sure the you use the same SID as indicated in Database Service associated with the Listener.</p>\n\n<p><a href=\"https://adhoctuts.com/fix-oracle-io-error-the-network-adapter-could-not-establish-the-connection-error/\" rel=\"nofollow noreferrer\">https://adhoctuts.com/fix-oracle-io-error-the-network-adapter-could-not-establish-the-connection-error/</a></p>\n"},{"tags":[],"owner":{"account_id":4840330,"reputation":1681,"user_id":3905529,"display_name":"anion"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549319996,"creation_date":1549319996,"answer_id":54525390,"question_id":12574414,"body_markdown":"I had this error when i renamed the pc in the windows-properties. The pc-name must be updated in the `listener.ora`-file","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I had this error when i renamed the pc in the windows-properties. The pc-name must be updated in the <code>listener.ora</code>-file</p>\n"},{"tags":[],"owner":{"account_id":14039738,"reputation":9,"user_id":10141490,"display_name":"A May"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1559688151,"creation_date":1559688151,"answer_id":56452226,"question_id":12574414,"body_markdown":"I was having issues with this as well. I was using the jdbc connection string to connect to the database. The hostname was incorrectly configured in the string. I am using Mac, and the same string was being used on Windows machines without an issue. On my connection string, I had to make sure that I had the full url with the appending &quot;organizationname.com&quot; to the end of the hostname.\r\n\r\nHope this helps.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I was having issues with this as well. I was using the jdbc connection string to connect to the database. The hostname was incorrectly configured in the string. I am using Mac, and the same string was being used on Windows machines without an issue. On my connection string, I had to make sure that I had the full url with the appending \"organizationname.com\" to the end of the hostname.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":17685655,"reputation":1,"user_id":12838648,"display_name":"Tony Shevchenko"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1584077389,"creation_date":1584077389,"answer_id":60665282,"question_id":12574414,"body_markdown":"Just try to re-create connection. In my situation one of jdbc connection stopped working for no reason. From console sqlplus was working ok. \r\nIt took me 2 hours to realize that If i create the same connection - it works.\r\n","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>Just try to re-create connection. In my situation one of jdbc connection stopped working for no reason. From console sqlplus was working ok. \nIt took me 2 hours to realize that If i create the same connection - it works.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1656333741,"post_id":72758194,"comment_id":128538762,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72758194/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25649826,"reputation":11,"user_id":19417275,"display_name":"DANISH ANSARI"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656203908,"creation_date":1656203826,"answer_id":72758194,"question_id":12574414,"body_markdown":"IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=iKQM6lBbSLiArrYuDqud8A==)\r\n\r\nif you are facing this issue\r\n1- make sure you have downloaded oracle databases like oracle 11g,19c, 21c, or any latest databases.\r\n2- search for services in your computer or type win+r then services.mis then search for oracleservice you will find orcl or xe or any other sid like oracleserviceorcl;\r\n\r\nafter that you can test your connection using sql developer, sql plus or cmd","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>IO Error: The Network Adapter could not establish the connection (CONNECTION_ID=iKQM6lBbSLiArrYuDqud8A==)</p>\n<p>if you are facing this issue\n1- make sure you have downloaded oracle databases like oracle 11g,19c, 21c, or any latest databases.\n2- search for services in your computer or type win+r then services.mis then search for oracleservice you will find orcl or xe or any other sid like oracleserviceorcl;</p>\n<p>after that you can test your connection using sql developer, sql plus or cmd</p>\n"},{"tags":[],"owner":{"account_id":7610784,"reputation":3405,"user_id":5771669,"accept_rate":100,"display_name":"Serge V."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690917445,"creation_date":1690917445,"answer_id":76814597,"question_id":12574414,"body_markdown":"I resolved my issue by simply starting the TNS listener service. It was stopped for some reason. [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4lOUA.png","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I resolved my issue by simply starting the TNS listener service. It was stopped for some reason. <a href=\"https://i.stack.imgur.com/4lOUA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lOUA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":56883,"reputation":66574,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478865,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":13,"score":46,"last_activity_date":1690917445,"creation_date":1348529921,"question_id":12574414,"body_markdown":"I am new to Oracle, and am trying to run a simple example code with Java, but am getting this error when executing the code.. I am able to start up the listener via CMD and am also able to run SQL Plus. Can anyone give me a hand and tell me what I might be doing wrong?\r\n\r\n\r\nUpdate:\r\nI am using JDBC.\r\n\r\nDatabase is local, and I actually had it working but it stopped working just today. I&#39;m not really sure why though. Would you mind giving me some procedures to follow by since I don&#39;t know much.","title":"IO Error: The Network Adapter could not establish the connection","body":"<p>I am new to Oracle, and am trying to run a simple example code with Java, but am getting this error when executing the code.. I am able to start up the listener via CMD and am also able to run SQL Plus. Can anyone give me a hand and tell me what I might be doing wrong?</p>\n\n<p>Update:\nI am using JDBC.</p>\n\n<p>Database is local, and I actually had it working but it stopped working just today. I'm not really sure why though. Would you mind giving me some procedures to follow by since I don't know much.</p>\n"},{"tags":["java","arrays","algorithm","time-complexity"],"comments":[{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1690837905,"post_id":76806959,"comment_id":135406091,"body_markdown":"You might find this easier to split the operation to find an increasing span from the loop to scan the list. Put the first in a function that returns the first item not in the span. You can concentrate on getting that right fist, then handle the rest knowing one part is done.","body":"You might find this easier to split the operation to find an increasing span from the loop to scan the list. Put the first in a function that returns the first item not in the span. You can concentrate on getting that right fist, then handle the rest knowing one part is done."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1690838138,"post_id":76806959,"comment_id":135406124,"body_markdown":"A lot of time a span is easier to handle if you keep track of &quot;first included&quot; and &quot;first excluded&quot; (i.e &quot;end limit&quot;), as in indexes 2, 3, and 4 would be first=2, limit=5. Python does it this way, and lets you denote e.g. 2:2 as having length 0 without adding special cases of extra flags. Also the length is just limit - first, very simple","body":"A lot of time a span is easier to handle if you keep track of &quot;first included&quot; and &quot;first excluded&quot; (i.e &quot;end limit&quot;), as in indexes 2, 3, and 4 would be first=2, limit=5. Python does it this way, and lets you denote e.g. 2:2 as having length 0 without adding special cases of extra flags. Also the length is just limit - first, very simple"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1690838335,"post_id":76806959,"comment_id":135406156,"body_markdown":"In the main loop, you need to keep track of two spans: the previous longest, and the current being checked. If the one being checked turns out to be longer, just replace the old indexes with the new ones. In both cases, continue looking for the next increasing span.","body":"In the main loop, you need to keep track of two spans: the previous longest, and the current being checked. If the one being checked turns out to be longer, just replace the old indexes with the new ones. In both cases, continue looking for the next increasing span."},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1690841419,"post_id":76806959,"comment_id":135406582,"body_markdown":"I think I&#39;d start by putting all of the `min` values into array `A`, and all of the `max` values into array `B`. Then it&#39;s easier to reason about the problem, and the code to solve the problem is cleaner. [Here&#39;s an example](https://i.stack.imgur.com/w0Qau.png) with smaller values on top, and larger values on the bottom.","body":"I think I&#39;d start by putting all of the <code>min</code> values into array <code>A</code>, and all of the <code>max</code> values into array <code>B</code>. Then it&#39;s easier to reason about the problem, and the code to solve the problem is cleaner. <a href=\"https://i.stack.imgur.com/w0Qau.png\" rel=\"nofollow noreferrer\">Here&#39;s an example</a> with smaller values on top, and larger values on the bottom."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690841565,"post_id":76806959,"comment_id":135406601,"body_markdown":"I don&#39;t understand this part of the question, _&quot;... build an array `C` such that the values in it or non-decreasing. ...&quot;_.","body":"I don&#39;t understand this part of the question, <i>&quot;... build an array <code>C</code> such that the values in it or non-decreasing. ...&quot;</i>."},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1690846191,"post_id":76806959,"comment_id":135407039,"body_markdown":"Turn it into a DAG with elts as nodes and arcs to valid plausible successors (not trumped by a nearer lesser valid successor). Add a source node with arcs to all nodes w no indegree. Find longest path in O(V + E)","body":"Turn it into a DAG with elts as nodes and arcs to valid plausible successors (not trumped by a nearer lesser valid successor). Add a source node with arcs to all nodes w no indegree. Find longest path in O(V + E)"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":1,"creation_date":1690863257,"post_id":76806959,"comment_id":135408585,"body_markdown":"@Dave If this is an introductory class just introducing arrays, I don&#39;t think they&#39;ll have covered directed acyclic graphs, though your solution is probably the most straightforward, given there might be multiple candidates starting at the same index (e.g. A=[1,2,3,2] and B=[2, 2, 2, 4] could produce at least four possible C arrays). They&#39;re prpbably looking for some sort of repetitive linear search, maybe something recursive would work.","body":"@Dave If this is an introductory class just introducing arrays, I don&#39;t think they&#39;ll have covered directed acyclic graphs, though your solution is probably the most straightforward, given there might be multiple candidates starting at the same index (e.g. A=[1,2,3,2] and B=[2, 2, 2, 4] could produce at least four possible C arrays). They&#39;re prpbably looking for some sort of repetitive linear search, maybe something recursive would work."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690895726,"post_id":76806959,"comment_id":135414604,"body_markdown":"@Reilas I take that to mean build the array such that the values are in ascending order (for ints. that would be their natural order).  But adjacent values may be equal to each other.","body":"@Reilas I take that to mean build the array such that the values are in ascending order (for ints. that would be their natural order).  But adjacent values may be equal to each other."}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690916543,"creation_date":1690893726,"answer_id":76811737,"question_id":76806959,"body_markdown":"This is an easy one.  Imagine the directed graph in which every number in A or B has an edge to each number that could follow it.  This is a directed acyclic graph with max in-degree and max out-degree 2.\r\n\r\nNow just find the longest path in that graph.\r\n\r\nIt&#39;s easy to find the longest path in a DAG by processing the vertices in topological order, which is conveniently the same as index order in this problem.\r\n\r\n```lang-java\r\npublic int solve(int[] A, int[] B) {\r\n  int result = 1;\r\n  int alen = 1, blen = 1, n = A.length;\r\n  if (n&lt;1) {\r\n    return 0;\r\n  }\r\n  for (int i=1; i&lt;n; ++i) {\r\n    int a = 1, b = 1;\r\n\r\n    if (A[i] &gt;= A[i-1]) {\r\n      a = alen+1;\r\n    }\r\n    if (A[i] &gt;= B[i-1]) {\r\n      a = Math.max(a, blen+1);\r\n    }\r\n    if (B[i] &gt;= A[i-1]) {\r\n      b = alen+1;\r\n    }\r\n    if (B[i] &gt;= B[i-1]) {\r\n      b = Math.max(b, blen+1);\r\n    }\r\n    alen = a;\r\n    blen = b;\r\n    result = Math.max(result,alen);\r\n    result = Math.max(result,blen);\r\n  }\r\n  return result;\r\n}\r\n```","title":"Find longest increasing subarray from 2 arrays","body":"<p>This is an easy one.  Imagine the directed graph in which every number in A or B has an edge to each number that could follow it.  This is a directed acyclic graph with max in-degree and max out-degree 2.</p>\n<p>Now just find the longest path in that graph.</p>\n<p>It's easy to find the longest path in a DAG by processing the vertices in topological order, which is conveniently the same as index order in this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int solve(int[] A, int[] B) {\n  int result = 1;\n  int alen = 1, blen = 1, n = A.length;\n  if (n&lt;1) {\n    return 0;\n  }\n  for (int i=1; i&lt;n; ++i) {\n    int a = 1, b = 1;\n\n    if (A[i] &gt;= A[i-1]) {\n      a = alen+1;\n    }\n    if (A[i] &gt;= B[i-1]) {\n      a = Math.max(a, blen+1);\n    }\n    if (B[i] &gt;= A[i-1]) {\n      b = alen+1;\n    }\n    if (B[i] &gt;= B[i-1]) {\n      b = Math.max(b, blen+1);\n    }\n    alen = a;\n    blen = b;\n    result = Math.max(result,alen);\n    result = Math.max(result,blen);\n  }\n  return result;\n}\n</code></pre>\n"}],"owner":{"account_id":3837342,"reputation":6111,"user_id":3181365,"accept_rate":70,"display_name":"learner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76811737,"answer_count":1,"score":0,"last_activity_date":1690916543,"creation_date":1690835356,"question_id":76806959,"body_markdown":"I have two arrays `A` and `B` of size `n`. From these arrays, build an array `C` such that the values in it are non-decreasing.\r\nSelect two index positions `i` and `j` in such a way that the sub arrays `A[i..j] and B[i..j]` can be used to form `C`.\r\nFinally return the size of the array `C` which is `(j-i+1)`\r\n\r\n**Example:**\r\n\r\n    A = [2,7,3]\r\n    B = [4,2,6]\r\n    \r\n    C = [2,2,3] formed by selecting i=0 and j = 2, that is min(2,4), min(7,2), max(3,6) = [2,2,3] which is non-decreasing.\r\n    \r\n    so result is j-i+1 = 3\r\n\r\n**Example:**\r\n\r\n    A = [5,2,4,1]\r\n    B = [3,6,2,2]\r\n    \r\n    C = [2,2,2] formed by selecting i=1 and j = 3, that is min(2,6), min(4,2), max(1,2) = [2,2,2] which is non-decreasing.\r\n    \r\n    so result is j-i+1 = 3\r\n\r\nThis is what I tried so far:\r\n\r\n    public int solve(int[] A, int[] B) {\r\n    int result = 0, s = 0, n = A.length;\r\n    int last = Integer.MIN_VALUE;\r\n    for(int i=0; i&lt;n; i++) {\r\n    \tint a = A[i], b = B[i];\r\n    \tif(last == Integer.MIN_VALUE) {\r\n    \t\ts = 1;\r\n    \t\tlast =Math.min(a,b); \r\n    \t} else {\r\n    \t\tint min = Math.min(a,b), max = Math.max(a,b);\r\n    \t\tif(last &lt;= min) {\r\n    \t\t\tlast = min;\r\n    \t\t\ts++;\r\n    \t\t} else {\r\n    \t\t\tif(last &lt;= max) {\r\n    \t\t\t\tlast = max;\r\n    \t\t\t\ts++;\r\n    \t\t\t} else {\r\n    \t\t\t\tlast = min;\r\n    \t\t\t\ts = 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tresult = Math.max(result, s);\r\n    }\r\n    result = Math.max(result, s);\r\n    if(result == 0) result = 1;\r\n    return result;\r\n    }\r\n\r\nThis works fine for some cases only. Here I am not considering the all possible paths to get the correct result. How to do that in less time complexity.","title":"Find longest increasing subarray from 2 arrays","body":"<p>I have two arrays <code>A</code> and <code>B</code> of size <code>n</code>. From these arrays, build an array <code>C</code> such that the values in it are non-decreasing.\nSelect two index positions <code>i</code> and <code>j</code> in such a way that the sub arrays <code>A[i..j] and B[i..j]</code> can be used to form <code>C</code>.\nFinally return the size of the array <code>C</code> which is <code>(j-i+1)</code></p>\n<p><strong>Example:</strong></p>\n<pre><code>A = [2,7,3]\nB = [4,2,6]\n\nC = [2,2,3] formed by selecting i=0 and j = 2, that is min(2,4), min(7,2), max(3,6) = [2,2,3] which is non-decreasing.\n\nso result is j-i+1 = 3\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>A = [5,2,4,1]\nB = [3,6,2,2]\n\nC = [2,2,2] formed by selecting i=1 and j = 3, that is min(2,6), min(4,2), max(1,2) = [2,2,2] which is non-decreasing.\n\nso result is j-i+1 = 3\n</code></pre>\n<p>This is what I tried so far:</p>\n<pre><code>public int solve(int[] A, int[] B) {\nint result = 0, s = 0, n = A.length;\nint last = Integer.MIN_VALUE;\nfor(int i=0; i&lt;n; i++) {\n    int a = A[i], b = B[i];\n    if(last == Integer.MIN_VALUE) {\n        s = 1;\n        last =Math.min(a,b); \n    } else {\n        int min = Math.min(a,b), max = Math.max(a,b);\n        if(last &lt;= min) {\n            last = min;\n            s++;\n        } else {\n            if(last &lt;= max) {\n                last = max;\n                s++;\n            } else {\n                last = min;\n                s = 1;\n            }\n        }\n    }\n    result = Math.max(result, s);\n}\nresult = Math.max(result, s);\nif(result == 0) result = 1;\nreturn result;\n}\n</code></pre>\n<p>This works fine for some cases only. Here I am not considering the all possible paths to get the correct result. How to do that in less time complexity.</p>\n"},{"tags":["java","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690913441,"post_id":76808823,"comment_id":135418374,"body_markdown":"I dont think you can define more than one enum in a file like that. What happens if you separate them, then update `imports` array in the other file to include type + state enum files?","body":"I dont think you can define more than one enum in a file like that. What happens if you separate them, then update <code>imports</code> array in the other file to include type + state enum files?"},{"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"score":0,"creation_date":1690972361,"post_id":76808823,"comment_id":135426398,"body_markdown":"@OneCricketeer definitely that is one way. That will work fine in case of schema registration.  But the thing is we were not using schema registry till now and directly using the schema in producer and consumers, And above approach was working fine.\nSince now we are going for schema registry, this approach doesn;t work.\nSo i wanted to be sure if there is any other way, than putting each enum in seperate file, before going for it.","body":"@OneCricketeer definitely that is one way. That will work fine in case of schema registration.  But the thing is we were not using schema registry till now and directly using the schema in producer and consumers, And above approach was working fine. Since now we are going for schema registry, this approach doesn;t work. So i wanted to be sure if there is any other way, than putting each enum in seperate file, before going for it."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690982832,"post_id":76808823,"comment_id":135428744,"body_markdown":"Not that I&#39;m aware of. You could use an AVDL file with all enums declared, then the Avro maven plugin can generate AVSC for you, or use the rendered Java model in producer definitions, and the registration would automatically happen based on that serialized object... That&#39;s what I always did, but I used the registry before references were introduced, so I don&#39;t know if that&#39;s best practice","body":"Not that I&#39;m aware of. You could use an AVDL file with all enums declared, then the Avro maven plugin can generate AVSC for you, or use the rendered Java model in producer definitions, and the registration would automatically happen based on that serialized object... That&#39;s what I always did, but I used the registry before references were introduced, so I don&#39;t know if that&#39;s best practice"}],"owner":{"account_id":1688120,"reputation":790,"user_id":3346416,"display_name":"Lucia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690913280,"creation_date":1690868894,"question_id":76808823,"body_markdown":"I have many different Enums to be used which is common for many different Schemas, In order to reuse them across we have defined common Schema called commonTypes.avsc like below\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;namespace&quot;: &quot;org.example.test&quot;,\r\n    \t\t&quot;type&quot;: &quot;enum&quot;,\r\n    \t\t&quot;name&quot;:&quot;EventType&quot;,\r\n    \t\t&quot;symbols&quot;:\r\n    \t\t\t[&quot;CREATE&quot;,&quot;UPDATE&quot;,&quot;DELETE&quot;]\r\n    \t},\r\n    \t{\r\n    \t\t&quot;namespace&quot;: &quot;org.example.test&quot;,\r\n    \t\t&quot;type&quot;: &quot;enum&quot;,\r\n    \t\t&quot;name&quot;: &quot;EventState&quot;,\r\n    \t\t&quot;symbols&quot;:\t[&quot;OPEN&quot;,&quot;PROCESSED&quot;,&quot;CLOSED&quot;]\t\t\r\n    \t},\r\n    \t{\r\n    \t\t&quot;namespace&quot;: &quot;org.example.test&quot;,\r\n    \t\t&quot;type&quot;: &quot;enum&quot;,\r\n    \t\t&quot;name&quot;:&quot;SEVERITY&quot;,\r\n    \t\t&quot;symbols&quot;:\r\n    \t\t\t[&quot;CRITICAL&quot;,&quot;HIGH&quot;,&quot;LOW&quot;]\r\n    \t}\r\n    ]\r\n\r\n\r\nAnd i&#39;m referring them in many different schemas and one of them is like below (Miminalistic example)\r\n\r\n    {\r\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,    \r\n        &quot;name&quot;: &quot;Event&quot;,\r\n    \t&quot;imports&quot;: [&quot;CommonTypes.avsc&quot;],\r\n        &quot;fields&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;eventType&quot;,\r\n                &quot;type&quot;: &quot;org.example.test.EventType&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;Id&quot;,\r\n                &quot;type&quot;: [\r\n                            &quot;null&quot;,\r\n                            &quot;long&quot;\r\n                    ],\r\n                &quot;default&quot;: null\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;eventState&quot;,\r\n                &quot;type&quot;: &quot;org.example.test.EventState&quot;\r\n            }\r\n    \t]\r\n    }\r\n\r\n\r\nNow i&#39;ve first registered the CommonTypes.avsc with subject name &quot;commontypes-value&quot; in the schema registry which is successfull.\r\nAnd when i register the event schema with below value for &quot;references&quot;\r\n\r\n \r\n\r\n    &quot;references&quot;: [\r\n        {\r\n           &quot;name&quot;: &quot;org.example.test.EventType&quot;,\r\n           &quot;subject&quot;:  &quot;commontypes-value&quot;,\r\n           &quot;version&quot;: &quot;1&quot;\r\n        },\r\n    \t{\r\n           &quot;name&quot;: &quot;org.example.test.EventState&quot;,\r\n           &quot;subject&quot;:  &quot;commontypes-value&quot;,\r\n           &quot;version&quot;: &quot;1&quot;\r\n        }\r\n      ]\r\n\r\n\r\n\r\nThe request fails with internal Server.  And when i check Schema Registry server log - I can see below error.\r\n\r\n    java.lang.ClassCastException: class org.apache.avro.Schema$UnionSchema cannot be cast to class org.apache.avro.Schema$NamedSchema (org.apache.avro.Schema$UnionSchema and org.apache.avro.Schema$NamedSchema are in unnamed module of loader &#39;app&#39;)\r\n    \tat org.apache.avro.Schema$Names.add(Schema.java:1505)\r\n    \tat org.apache.avro.Schemas.toString(Schemas.java:43)\r\n    \tat org.apache.avro.Schemas.toString(Schemas.java:30)\r\n    \tat io.confluent.kafka.schemaregistry.avro.AvroSchema.canonicalString(AvroSchema.java:152)\r\n    \tat io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.canonicalizeSchema(KafkaSchemaRegistry.java:926)\r\n    \tat io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.lookUpSchemaUnderSubject(KafkaSchemaRegistry.java:744)\r\n    \tat io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.registerOrForward(KafkaSchemaRegistry.java:565)\r\n    \tat io.confluent.kafka.schemaregistry.rest.resources.SubjectVersionsResource.register(SubjectVersionsResource.java:266)","title":"Kafka Schema Registry - Schema Referring a Union Schema Giving Server Error","body":"<p>I have many different Enums to be used which is common for many different Schemas, In order to reuse them across we have defined common Schema called commonTypes.avsc like below</p>\n<pre><code>[\n    {\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\n        &quot;type&quot;: &quot;enum&quot;,\n        &quot;name&quot;:&quot;EventType&quot;,\n        &quot;symbols&quot;:\n            [&quot;CREATE&quot;,&quot;UPDATE&quot;,&quot;DELETE&quot;]\n    },\n    {\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\n        &quot;type&quot;: &quot;enum&quot;,\n        &quot;name&quot;: &quot;EventState&quot;,\n        &quot;symbols&quot;:  [&quot;OPEN&quot;,&quot;PROCESSED&quot;,&quot;CLOSED&quot;]       \n    },\n    {\n        &quot;namespace&quot;: &quot;org.example.test&quot;,\n        &quot;type&quot;: &quot;enum&quot;,\n        &quot;name&quot;:&quot;SEVERITY&quot;,\n        &quot;symbols&quot;:\n            [&quot;CRITICAL&quot;,&quot;HIGH&quot;,&quot;LOW&quot;]\n    }\n]\n</code></pre>\n<p>And i'm referring them in many different schemas and one of them is like below (Miminalistic example)</p>\n<pre><code>{\n    &quot;namespace&quot;: &quot;org.example.test&quot;,\n    &quot;type&quot;: &quot;record&quot;,    \n    &quot;name&quot;: &quot;Event&quot;,\n    &quot;imports&quot;: [&quot;CommonTypes.avsc&quot;],\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;eventType&quot;,\n            &quot;type&quot;: &quot;org.example.test.EventType&quot;\n        },\n        {\n            &quot;name&quot;: &quot;Id&quot;,\n            &quot;type&quot;: [\n                        &quot;null&quot;,\n                        &quot;long&quot;\n                ],\n            &quot;default&quot;: null\n        },\n        {\n            &quot;name&quot;: &quot;eventState&quot;,\n            &quot;type&quot;: &quot;org.example.test.EventState&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Now i've first registered the CommonTypes.avsc with subject name &quot;commontypes-value&quot; in the schema registry which is successfull.\nAnd when i register the event schema with below value for &quot;references&quot;</p>\n<pre><code>&quot;references&quot;: [\n    {\n       &quot;name&quot;: &quot;org.example.test.EventType&quot;,\n       &quot;subject&quot;:  &quot;commontypes-value&quot;,\n       &quot;version&quot;: &quot;1&quot;\n    },\n    {\n       &quot;name&quot;: &quot;org.example.test.EventState&quot;,\n       &quot;subject&quot;:  &quot;commontypes-value&quot;,\n       &quot;version&quot;: &quot;1&quot;\n    }\n  ]\n</code></pre>\n<p>The request fails with internal Server.  And when i check Schema Registry server log - I can see below error.</p>\n<pre><code>java.lang.ClassCastException: class org.apache.avro.Schema$UnionSchema cannot be cast to class org.apache.avro.Schema$NamedSchema (org.apache.avro.Schema$UnionSchema and org.apache.avro.Schema$NamedSchema are in unnamed module of loader 'app')\n    at org.apache.avro.Schema$Names.add(Schema.java:1505)\n    at org.apache.avro.Schemas.toString(Schemas.java:43)\n    at org.apache.avro.Schemas.toString(Schemas.java:30)\n    at io.confluent.kafka.schemaregistry.avro.AvroSchema.canonicalString(AvroSchema.java:152)\n    at io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.canonicalizeSchema(KafkaSchemaRegistry.java:926)\n    at io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.lookUpSchemaUnderSubject(KafkaSchemaRegistry.java:744)\n    at io.confluent.kafka.schemaregistry.storage.KafkaSchemaRegistry.registerOrForward(KafkaSchemaRegistry.java:565)\n    at io.confluent.kafka.schemaregistry.rest.resources.SubjectVersionsResource.register(SubjectVersionsResource.java:266)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-configuration"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1699968140,"post_id":76814172,"comment_id":136594887,"body_markdown":"I don&#39;t know if that is possible at all, tbh, but what is your point with &quot;I would like to share these properties between the bootstrap and application contexts&quot;? Can you expand on why you need that?","body":"I don&#39;t know if that is possible at all, tbh, but what is your point with &quot;I would like to share these properties between the bootstrap and application contexts&quot;? Can you expand on why you need that?"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1699991169,"post_id":76814172,"comment_id":136599379,"body_markdown":"I think the context is not fully built yet so you may be right let me try as a env var","body":"I think the context is not fully built yet so you may be right let me try as a env var"}],"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690912819,"creation_date":1690912819,"question_id":76814172,"body_markdown":"I have the following to initialize a static client...\r\n\r\n```java\r\npublic class Boostrap implements BootstrapRegistryInitializer {\r\n\r\n    @Override\r\n    public void initialize(BootstrapRegistry registry) {\r\n        // TODO: Get the username from properties\r\n        String username = &quot;MyUser&quot;;\r\n        registry.register(\r\n            AwsParameterStoreClientCustomizer.class,\r\n            context -&gt; new ParameterStoreClientCustomizer(username)\r\n        );\r\n        registry.register(BootstrapItem.class, context -&gt; new BootstrapItem(&quot;Test 123&quot;));\r\n    }\r\n}\r\n```\r\n\r\nI would like to get `username` from `myProps.username` so my application.yml file will look like this...\r\n\r\n```yaml\r\nmyProps:\r\n  username: Test345\r\n```\r\n\r\nI want to use the application.yml instead of the bootstrap.yml because I would like to share these properties between the bootstrap and application contexts (IE. 1 place instead of 2). \r\n\r\nWhat is the proper way to access the application yaml property from the BootstrapRegistryInitializer?\r\n\r\n","title":"How do I access application.yml Spring Properties from the BoostrapRegistryInitializer?","body":"<p>I have the following to initialize a static client...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Boostrap implements BootstrapRegistryInitializer {\n\n    @Override\n    public void initialize(BootstrapRegistry registry) {\n        // TODO: Get the username from properties\n        String username = &quot;MyUser&quot;;\n        registry.register(\n            AwsParameterStoreClientCustomizer.class,\n            context -&gt; new ParameterStoreClientCustomizer(username)\n        );\n        registry.register(BootstrapItem.class, context -&gt; new BootstrapItem(&quot;Test 123&quot;));\n    }\n}\n</code></pre>\n<p>I would like to get <code>username</code> from <code>myProps.username</code> so my application.yml file will look like this...</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>myProps:\n  username: Test345\n</code></pre>\n<p>I want to use the application.yml instead of the bootstrap.yml because I would like to share these properties between the bootstrap and application contexts (IE. 1 place instead of 2).</p>\n<p>What is the proper way to access the application yaml property from the BootstrapRegistryInitializer?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6904832,"reputation":127,"user_id":5954437,"display_name":"ganeshram"},"score":0,"creation_date":1690300735,"post_id":76764484,"comment_id":135332841,"body_markdown":"You have not created any bean for JobBuilderFactory. You can create a class with @configuration (or can use the same class as above) and add the relevant bean definition there .","body":"You have not created any bean for JobBuilderFactory. You can create a class with @configuration (or can use the same class as above) and add the relevant bean definition there ."},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1690300981,"post_id":76764484,"comment_id":135332888,"body_markdown":"yes of course, but these should be default beans included with the library","body":"yes of course, but these should be default beans included with the library"},{"owner":{"account_id":6904832,"reputation":127,"user_id":5954437,"display_name":"ganeshram"},"score":0,"creation_date":1690301201,"post_id":76764484,"comment_id":135332947,"body_markdown":"Library only have classes. To create a bean out of it and make them available for other beans to use as it as a dependency, we need to add a bean definition in our configuration class. refer this doc : https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html","body":"Library only have classes. To create a bean out of it and make them available for other beans to use as it as a dependency, we need to add a bean definition in our configuration class. refer this doc : <a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/html/ch02s02.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-javaconfig/docs/1.0.0.M4/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690304188,"post_id":76764484,"comment_id":135333560,"body_markdown":"These classes are deprecated as of Spring Batch 5.0.0 You should not use them. Instead please use JobBuilder and StepBuilder. Probably you are learning from an outdated tutorial?","body":"These classes are deprecated as of Spring Batch 5.0.0 You should not use them. Instead please use JobBuilder and StepBuilder. Probably you are learning from an outdated tutorial?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690304482,"post_id":76764484,"comment_id":135333621,"body_markdown":"Here is the correct (and official) tutorial: https://spring.io/guides/gs/batch-processing/","body":"Here is the correct (and official) tutorial: <a href=\"https://spring.io/guides/gs/batch-processing/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/batch-processing</a>"},{"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"score":0,"creation_date":1690313097,"post_id":76764484,"comment_id":135335262,"body_markdown":"@Mar-Z the tutorial i was following is 11 months old, so i didn&#39;t expected was so outdated.. btw the tutorial you provided seems great! i did setup the project with H2 database and when i start the application it execute the sql script and create the table but after that seems that the Job is not executed. the db table is not populated and i can&#39;t notice any log","body":"@Mar-Z the tutorial i was following is 11 months old, so i didn&#39;t expected was so outdated.. btw the tutorial you provided seems great! i did setup the project with H2 database and when i start the application it execute the sql script and create the table but after that seems that the Job is not executed. the db table is not populated and i can&#39;t notice any log"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912611,"creation_date":1690912611,"answer_id":76814158,"question_id":76764484,"body_markdown":"&gt; yes of course, but these should be default beans included with the library\r\n\r\nThose beans were added by `@EnableBatchProcessing` in version 4, but not in version 5 anymore. This is mentioned in the migration guide here: https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration\r\n\r\nYou should use `JobBuilder` and `StepBuilder` instead. Here is a quick example:\r\n\r\n```java\r\n// Sample with v4\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class MyJobConfig {\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Bean\r\n    public Job myJob(Step step) {\r\n        return this.jobBuilderFactory.get(&quot;myJob&quot;)\r\n                .start(step)\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n// Sample with v5\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class MyJobConfig {\r\n\r\n    @Bean\r\n    public Job myJob(JobRepository jobRepository, Step step) {\r\n        return new JobBuilder(&quot;myJob&quot;, jobRepository)\r\n                .start(step)\r\n                .build();\r\n    }\r\n\r\n}\r\n```","title":"Spring Batch configuration: Could not autowire. No beans of &#39;JobBuilderFactory&#39; type found","body":"<blockquote>\n<p>yes of course, but these should be default beans included with the library</p>\n</blockquote>\n<p>Those beans were added by <code>@EnableBatchProcessing</code> in version 4, but not in version 5 anymore. This is mentioned in the migration guide here: <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration</a></p>\n<p>You should use <code>JobBuilder</code> and <code>StepBuilder</code> instead. Here is a quick example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Sample with v4\n@Configuration\n@EnableBatchProcessing\npublic class MyJobConfig {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Bean\n    public Job myJob(Step step) {\n        return this.jobBuilderFactory.get(&quot;myJob&quot;)\n                .start(step)\n                .build();\n    }\n\n}\n</code></pre>\n<pre><code>// Sample with v5\n@Configuration\n@EnableBatchProcessing\npublic class MyJobConfig {\n\n    @Bean\n    public Job myJob(JobRepository jobRepository, Step step) {\n        return new JobBuilder(&quot;myJob&quot;, jobRepository)\n                .start(step)\n                .build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18127621,"reputation":1,"user_id":13183019,"display_name":"Calu River"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690912611,"creation_date":1690300545,"question_id":76764484,"body_markdown":"I&#39;m tryng to start my first Spring Batch project following a tutorial.\r\nI added the dependencies for Spring-batch in my pom.xml.\r\n\r\nHere&#39;s my simple code:\r\n\r\n\r\n```\r\n\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n\r\n    @Autowired\r\n    public JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    public StepBuilderFactory stepBuilderFactory;\r\n    \r\n}\r\n```\r\n\r\n\r\nAnd i&#39;m getting theese errors from my IDE:\r\n\r\nCould not autowire. No beans of &#39;JobBuilderFactory&#39; type found.\r\n\r\nand:\r\n\r\nCould not autowire. No beans of &#39;StepBuilderFactory&#39; type found.\r\n\r\nIm using IntelliJ Ultimate.\r\n\r\nWhen i start the application i get this error:\r\n[intellij error][1]\r\n\r\nEvery feedback would be really appreciated! Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1hM5G.png","title":"Spring Batch configuration: Could not autowire. No beans of &#39;JobBuilderFactory&#39; type found","body":"<p>I'm tryng to start my first Spring Batch project following a tutorial.\nI added the dependencies for Spring-batch in my pom.xml.</p>\n<p>Here's my simple code:</p>\n<pre><code>\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n    \n}\n</code></pre>\n<p>And i'm getting theese errors from my IDE:</p>\n<p>Could not autowire. No beans of 'JobBuilderFactory' type found.</p>\n<p>and:</p>\n<p>Could not autowire. No beans of 'StepBuilderFactory' type found.</p>\n<p>Im using IntelliJ Ultimate.</p>\n<p>When i start the application i get this error:\n<a href=\"https://i.stack.imgur.com/1hM5G.png\" rel=\"nofollow noreferrer\">intellij error</a></p>\n<p>Every feedback would be really appreciated! Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":4,"creation_date":1690903465,"post_id":76813084,"comment_id":135416398,"body_markdown":"`*` doesn&#39;t work on its own; it means 0 or more instances of the preceding thing; in your regex, that would be `:`.","body":"<code>*</code> doesn&#39;t work on its own; it means 0 or more instances of the preceding thing; in your regex, that would be <code>:</code>."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690903663,"post_id":76813084,"comment_id":135416448,"body_markdown":"`:/` &lt;- This is in your regex, but the String you try to match doesn&#39;t contain any colon followed by a slash.","body":"<code>:&#47;</code> &lt;- This is in your regex, but the String you try to match doesn&#39;t contain any colon followed by a slash."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1690907955,"post_id":76813084,"comment_id":135417274,"body_markdown":"The supposed regex that you are using there actually looks like a UNIX-style file name pattern; see https://en.wikipedia.org/wiki/Glob_(programming).  Regex use a different syntax; see https://en.wikipedia.org/wiki/Regular_expression.  I recommend that you find and **read** a tutorial on regexes.  Or at least, read the summary of the Java regex syntax in the `Pattern` [javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html).","body":"The supposed regex that you are using there actually looks like a UNIX-style file name pattern; see <a href=\"https://en.wikipedia.org/wiki/Glob_(programming)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Glob_(programming)</a>.  Regex use a different syntax; see <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Regular_expression</a>.  I recommend that you find and <b>read</b> a tutorial on regexes.  Or at least, read the summary of the Java regex syntax in the <code>Pattern</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">javadocs</a>."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690915261,"post_id":76813084,"comment_id":135418664,"body_markdown":"Try `String permission = &quot;arn:aws:execute-api:.*:.*:.*/*/*/*&quot;`","body":"Try <code>String permission = &quot;arn:aws:execute-api:.*:.*:.*&#47;*&#47;*&#47;*&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912494,"creation_date":1690912494,"answer_id":76814150,"question_id":76813084,"body_markdown":"No need for explicit regexes really, just `String.split` will do the job:\r\n```\r\npublic class Tokenizer {\r\n    public static void main(String[] args) {\r\n        String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\r\n        String[] regAcc = methodArn.split(&quot;:&quot;, 4)[3].split(&quot;:&quot;, 3);\r\n        System.out.printf(&quot;Region = %s%n&quot;, regAcc[0]);\r\n        System.out.printf(&quot;Account number = %s%n&quot;, regAcc[1]);\r\n        String[] apiIdstageIdhttpMethodUrl = regAcc[2].split(&quot;/&quot;, 4);\r\n        System.out.printf(&quot;API ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[0]);\r\n        System.out.printf(&quot;Stage ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[1]);\r\n        System.out.printf(&quot;Http method = %s%n&quot;, apiIdstageIdhttpMethodUrl[2]);\r\n        System.out.printf(&quot;URL = %s%n&quot;, apiIdstageIdhttpMethodUrl[3]);\r\n    }\r\n}\r\n```","title":"Java Basic Pattern regex (Fully example)","body":"<p>No need for explicit regexes really, just <code>String.split</code> will do the job:</p>\n<pre><code>public class Tokenizer {\n    public static void main(String[] args) {\n        String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\n        String[] regAcc = methodArn.split(&quot;:&quot;, 4)[3].split(&quot;:&quot;, 3);\n        System.out.printf(&quot;Region = %s%n&quot;, regAcc[0]);\n        System.out.printf(&quot;Account number = %s%n&quot;, regAcc[1]);\n        String[] apiIdstageIdhttpMethodUrl = regAcc[2].split(&quot;/&quot;, 4);\n        System.out.printf(&quot;API ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[0]);\n        System.out.printf(&quot;Stage ID = %s%n&quot;, apiIdstageIdhttpMethodUrl[1]);\n        System.out.printf(&quot;Http method = %s%n&quot;, apiIdstageIdhttpMethodUrl[2]);\n        System.out.printf(&quot;URL = %s%n&quot;, apiIdstageIdhttpMethodUrl[3]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26009284,"reputation":95,"user_id":19718614,"display_name":"asdasf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1690912494,"creation_date":1690903201,"question_id":76813084,"body_markdown":"Maybe I am not seeing the issue, I have been stuck for quite some time.\r\nI don&#39;t understand why my regex does not work. I want to use the wildcards.\r\n\r\n1st * -&gt; region\r\n\r\n2nd * -&gt; account number\r\n\r\n3rd * -&gt; API ID\r\n\r\n4th * -&gt; stage ID\r\n\r\n5th * -&gt; HTTP Method\r\n\r\n6th * -&gt; URL, can be /user , /user/info , /user/info/somethingelse\r\n\r\n    public static void main(String args[]) {\r\n        String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\r\n        String permission = &quot;arn:aws:execute-api:*:*:*/*/*/*&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(permission);\r\n\t\tMatcher matcher = pattern.matcher(methodArn);\r\n\t\tif (matcher.matches()) {\r\n\t\t    System.out.println(&quot;MATCHES&quot;);\r\n\t\t} else {\r\n\t\t System.out.println(&quot;NOT MATCHES&quot;);\r\n\t\t}\r\n    }\r\n\r\nCan you please tell me why this code executes NOT MATCHES. I was excepting it to match","title":"Java Basic Pattern regex (Fully example)","body":"<p>Maybe I am not seeing the issue, I have been stuck for quite some time.\nI don't understand why my regex does not work. I want to use the wildcards.</p>\n<p>1st * -&gt; region</p>\n<p>2nd * -&gt; account number</p>\n<p>3rd * -&gt; API ID</p>\n<p>4th * -&gt; stage ID</p>\n<p>5th * -&gt; HTTP Method</p>\n<p>6th * -&gt; URL, can be /user , /user/info , /user/info/somethingelse</p>\n<pre><code>public static void main(String args[]) {\n    String methodArn = &quot;arn:aws:execute-api:eu-west-1:123456:foo/test/GET/user/info&quot;;\n    String permission = &quot;arn:aws:execute-api:*:*:*/*/*/*&quot;;\n\n    Pattern pattern = Pattern.compile(permission);\n    Matcher matcher = pattern.matcher(methodArn);\n    if (matcher.matches()) {\n        System.out.println(&quot;MATCHES&quot;);\n    } else {\n     System.out.println(&quot;NOT MATCHES&quot;);\n    }\n}\n</code></pre>\n<p>Can you please tell me why this code executes NOT MATCHES. I was excepting it to match</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":119097,"reputation":85328,"user_id":310574,"accept_rate":80,"display_name":"Gabe"},"score":2,"creation_date":1319669930,"post_id":7909747,"comment_id":9659485,"body_markdown":"Jave doesn&#39;t really have a concept of `T[]`.","body":"Jave doesn&#39;t really have a concept of <code>T[]</code>."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1319732923,"post_id":7909747,"comment_id":9672600,"body_markdown":"possible duplicate of [java: (String\\[\\])List.toArray() gives ClassCastException](http://stackoverflow.com/questions/5690351/java-stringlist-toarray-gives-classcastexception)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5690351/java-stringlist-toarray-gives-classcastexception\">java: (String&#91;&#93;)List.toArray() gives ClassCastException</a>"}],"answers":[{"comments":[{"owner":{"account_id":44899,"reputation":2410,"user_id":131997,"accept_rate":50,"display_name":"justadreamer"},"score":0,"creation_date":1319668729,"post_id":7909755,"comment_id":9659285,"body_markdown":"thank you Mike, I didn&#39;t notice this method T[] toArray(T[] arg0) - it returns what I need.","body":"thank you Mike, I didn&#39;t notice this method T[] toArray(T[] arg0) - it returns what I need."},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":9,"creation_date":1319668816,"post_id":7909755,"comment_id":9659309,"body_markdown":"or use `toArray(new String[list.size()])` if you want to avoid allocation of a size 0 array","body":"or use <code>toArray(new String[list.size()])</code> if you want to avoid allocation of a size 0 array"},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1433439048,"post_id":7909755,"comment_id":49364155,"body_markdown":"So the answer below says that the `List&lt;E&gt;` interface can&#39;t provide an `E[] toArray()` method because it would conflict with the older `Object[] toArray()` method, which was introduced in 1.2 and required for backwards compatibility. This makes sense as you can&#39;t have two method signatures that vary only by the return type. But your answer implies that `E[] toArray()` wouldn&#39;t work because of type erasure - did I read that right? Or is there a nuance between you using `T` as your generic type and the List interface using `E` for its declaration?","body":"So the answer below says that the <code>List&lt;E&gt;</code> interface can&#39;t provide an <code>E[] toArray()</code> method because it would conflict with the older <code>Object[] toArray()</code> method, which was introduced in 1.2 and required for backwards compatibility. This makes sense as you can&#39;t have two method signatures that vary only by the return type. But your answer implies that <code>E[] toArray()</code> wouldn&#39;t work because of type erasure - did I read that right? Or is there a nuance between you using <code>T</code> as your generic type and the List interface using <code>E</code> for its declaration?"},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1433439501,"post_id":7909755,"comment_id":49364432,"body_markdown":"Right, I think I missed the obvious. List methods like `E get(int index)` work because they&#39;re enforced at compile time and don&#39;t have to know or construct the type at run time. `E[] toArray()` could have its returned value assignment/pass/etc. checked at run time, but actually constructing the array requires knowledge of the correct type.","body":"Right, I think I missed the obvious. List methods like <code>E get(int index)</code> work because they&#39;re enforced at compile time and don&#39;t have to know or construct the type at run time. <code>E[] toArray()</code> could have its returned value assignment/pass/etc. checked at run time, but actually constructing the array requires knowledge of the correct type."}],"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":4,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1319754790,"creation_date":1319668541,"answer_id":7909755,"question_id":7909747,"body_markdown":"You need to pass in an array so its runtime type can be used as a hint by `toArray`.  Try `toArray(new String[0])` instead.  You can also pass in a pre-sized array.\r\n\r\nTo understand, consider what type erasure would have to do to make\r\n\r\n    new T[4]\r\n\r\nwork.  If Java allowed that, the best it could do post erasure is\r\n\r\n    new Object[4]\r\n\r\nMost `toArray` implementations use [`java.lang.reflect.Array`](http://download.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int%29) to construct an output array of the right type given a type hint passed as a `Class`.\r\n","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>You need to pass in an array so its runtime type can be used as a hint by <code>toArray</code>.  Try <code>toArray(new String[0])</code> instead.  You can also pass in a pre-sized array.</p>\n\n<p>To understand, consider what type erasure would have to do to make</p>\n\n<pre><code>new T[4]\n</code></pre>\n\n<p>work.  If Java allowed that, the best it could do post erasure is</p>\n\n<pre><code>new Object[4]\n</code></pre>\n\n<p>Most <code>toArray</code> implementations use <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance%28java.lang.Class,%20int%29\"><code>java.lang.reflect.Array</code></a> to construct an output array of the right type given a type hint passed as a <code>Class</code>.</p>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1319689883,"post_id":7909764,"comment_id":9662167,"body_markdown":"&quot;and so it was specified to return Object[]. Lots of existing code now expects List.toArray() to return Object[], so it can&#39;t be changed now.&quot; Nonsense. Java collection methods&#39; return types were changed for generics. This is completely irrelevant. The actual reason is that arrays of different types are different at runtime and thus it cannot possibly return the array of the proper type. This is true both before and after generics.","body":"&quot;and so it was specified to return Object[]. Lots of existing code now expects List.toArray() to return Object[], so it can&#39;t be changed now.&quot; Nonsense. Java collection methods&#39; return types were changed for generics. This is completely irrelevant. The actual reason is that arrays of different types are different at runtime and thus it cannot possibly return the array of the proper type. This is true both before and after generics."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1319713988,"post_id":7909764,"comment_id":9666676,"body_markdown":"Daniel, seriously? This question has been asked on SO how many times? A million? And you were lecturing me on answering a duplicate question?","body":"Daniel, seriously? This question has been asked on SO how many times? A million? And you were lecturing me on answering a duplicate question?"},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1319732815,"post_id":7909764,"comment_id":9672565,"body_markdown":"@irreputable: I didn&#39;t immediately see (nor offhand remember) an exact duplicate when I answered this yesterday.  A quick search today turned up [this one](http://stackoverflow.com/questions/6173495/why-does-javas-collectione-toarray-return-an-object-rather-than-an-e) which I think is close enough.  If you&#39;re convinced that a question is a duplicate, then rather than assuming bad faith, why not just vote to close yourself?  You have enough rep.","body":"@irreputable: I didn&#39;t immediately see (nor offhand remember) an exact duplicate when I answered this yesterday.  A quick search today turned up <a href=\"http://stackoverflow.com/questions/6173495/why-does-javas-collectione-toarray-return-an-object-rather-than-an-e\">this one</a> which I think is close enough.  If you&#39;re convinced that a question is a duplicate, then rather than assuming bad faith, why not just vote to close yourself?  You have enough rep."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1319733180,"post_id":7909764,"comment_id":9672664,"body_markdown":"@newacct: I&#39;m not sure that it&#39;s *completely* irrelevant.  True, Java 5 also introduced return type covariance, and so it wouldn&#39;t necessarily be a breaking change to return `T[]` instead of `Object[]`.  But due to the weird way in which array variance works:, would it be *correct* to return `T[]`?  My general rule of thumb is that you can use generics, or make use of array covariance, but should avoid trying to use both at the same time.","body":"@newacct: I&#39;m not sure that it&#39;s <i>completely</i> irrelevant.  True, Java 5 also introduced return type covariance, and so it wouldn&#39;t necessarily be a breaking change to return <code>T[]</code> instead of <code>Object[]</code>.  But due to the weird way in which array variance works:, would it be <i>correct</i> to return <code>T[]</code>?  My general rule of thumb is that you can use generics, or make use of array covariance, but should avoid trying to use both at the same time."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1319773788,"post_id":7909764,"comment_id":9680937,"body_markdown":"@Daniel: return type covariance (which deals with return types of overriding methods) is not at issue here, since the `toArray()` methods in all of its superclasses (Collection) would also be changed to `T[]`. As to your question about whether it would be correct, supposing that a method could magically return a T[], it would be correct in most cases, because `T[]` is a subclass of `Object[]`, so anyone who expects an `Object[]` *should* be able to take a `T[]`. The only exception would be if they tried to then insert an element into the array of a different type, a highly unusual possibility.","body":"@Daniel: return type covariance (which deals with return types of overriding methods) is not at issue here, since the <code>toArray()</code> methods in all of its superclasses (Collection) would also be changed to <code>T[]</code>. As to your question about whether it would be correct, supposing that a method could magically return a T[], it would be correct in most cases, because <code>T[]</code> is a subclass of <code>Object[]</code>, so anyone who expects an <code>Object[]</code> <i>should</i> be able to take a <code>T[]</code>. The only exception would be if they tried to then insert an element into the array of a different type, a highly unusual possibility."}],"tags":[],"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"comment_count":5,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1319668656,"creation_date":1319668656,"answer_id":7909764,"question_id":7909747,"body_markdown":"Because arrays have been in Java since the beginning, while generics were only introduced in Java 5. And the `List.toArray()` method was introduced in Java 1.2, before generics existed, and so it was specified to return `Object[]`.  Lots of existing code now expects `List.toArray()` to return `Object[]`, so it can&#39;t be changed now.\r\n\r\nFurthermore, generics are erased at runtime, so `ArrayList` couldn&#39;t even construct an array of the proper type if it wanted to.\r\n\r\nThe loophole for this is the [`List.toArray(T[])`](http://download.oracle.com/javase/6/docs/api/java/util/List.html#toArray(T[])) method, which will return you an array of the correct type, provided you give it an array of the correct type so it knows what type to use.","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Because arrays have been in Java since the beginning, while generics were only introduced in Java 5. And the <code>List.toArray()</code> method was introduced in Java 1.2, before generics existed, and so it was specified to return <code>Object[]</code>.  Lots of existing code now expects <code>List.toArray()</code> to return <code>Object[]</code>, so it can't be changed now.</p>\n\n<p>Furthermore, generics are erased at runtime, so <code>ArrayList</code> couldn't even construct an array of the proper type if it wanted to.</p>\n\n<p>The loophole for this is the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#toArray(T[])\" rel=\"noreferrer\"><code>List.toArray(T[])</code></a> method, which will return you an array of the correct type, provided you give it an array of the correct type so it knows what type to use.</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319668831,"creation_date":1319668831,"answer_id":7909781,"question_id":7909747,"body_markdown":"To understand why that happens, just have a look at the javadoc for [`Collection.toArray()`][1] and then look at the [`Collection.toArray(T[] a)`][2] method. Also keep in mind that generics in Java are erased at runtime.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28%29\r\n  [2]: http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28T%5B%5D%29","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>To understand why that happens, just have a look at the javadoc for <a href=\"http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28%29\" rel=\"nofollow\"><code>Collection.toArray()</code></a> and then look at the <a href=\"http://download.oracle.com/javase/1,5,0/docs/api/java/util/Collection.html#toArray%28T%5B%5D%29\" rel=\"nofollow\"><code>Collection.toArray(T[] a)</code></a> method. Also keep in mind that generics in Java are erased at runtime.</p>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1319690019,"post_id":7910815,"comment_id":9662193,"body_markdown":"what would you change the signature to?","body":"what would you change the signature to?"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1319709295,"post_id":7910815,"comment_id":9665582,"body_markdown":"you mean return type T[]? you&#39;ll get a ClassCastException if you try to use it, because the method still creates an Object[]","body":"you mean return type T[]? you&#39;ll get a ClassCastException if you try to use it, because the method still creates an Object[]"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1319750458,"post_id":7910815,"comment_id":9677501,"body_markdown":"@newacct when you change a method signature it is customary to change the implementation to match. However see my edit.","body":"@newacct when you change a method signature it is customary to change the implementation to match. However see my edit."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1319772731,"post_id":7910815,"comment_id":9680803,"body_markdown":"my objection is that all the method signatures in the Java api *did* change (e.g. all the collection classes&#39; methods, etc.) for generics. so your claim that it can&#39;t change because it used to be that way is not true. plus T[] is a subclass of Object[], so it will not &quot;break&quot; any code that expects Object[] if they changed it to T[]","body":"my objection is that all the method signatures in the Java api <i>did</i> change (e.g. all the collection classes&#39; methods, etc.) for generics. so your claim that it can&#39;t change because it used to be that way is not true. plus T[] is a subclass of Object[], so it will not &quot;break&quot; any code that expects Object[] if they changed it to T[]"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1319775010,"post_id":7910815,"comment_id":9681077,"body_markdown":"@newacct (a) if that&#39;s your objection, you&#39;ve taken far too long to make it clear, i.e. 3 separate answers; (b) no Collections methods were changed in a backwards-incompatible way: consider for example Map.get().","body":"@newacct (a) if that&#39;s your objection, you&#39;ve taken far too long to make it clear, i.e. 3 separate answers; (b) no Collections methods were changed in a backwards-incompatible way: consider for example Map.get()."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1319776014,"post_id":7910815,"comment_id":9681185,"body_markdown":"All methods have been changed. Map.put() List.set() List.get() everything. Map.get() has nothing to do with backwards compatibility. This has been explained in many posts. It&#39;s signature is required to be that way because of what the method does.","body":"All methods have been changed. Map.put() List.set() List.get() everything. Map.get() has nothing to do with backwards compatibility. This has been explained in many posts. It&#39;s signature is required to be that way because of what the method does."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1319776410,"post_id":7910815,"comment_id":9681220,"body_markdown":"@newacct You can&#39;t have it both ways. Either all methods have been changed or Map.get() hasn&#39;t been changed.","body":"@newacct You can&#39;t have it both ways. Either all methods have been changed or Map.get() hasn&#39;t been changed."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1319779362,"post_id":7910815,"comment_id":9681547,"body_markdown":"As I already told you, it would be incorrect to change Map.get(), because it would violate its contract. This has nothing to do with generics.","body":"As I already told you, it would be incorrect to change Map.get(), because it would violate its contract. This has nothing to do with generics."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1319780327,"post_id":7910815,"comment_id":9681654,"body_markdown":"@newacct and you also told me that all methods have been changed. There is a high level of internal contradiction here.","body":"@newacct and you also told me that all methods have been changed. There is a high level of internal contradiction here."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":9,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1492002801,"creation_date":1319679252,"answer_id":7910815,"question_id":7909747,"body_markdown":"The reasons are two:\r\n\r\n1. The method preceded Generics and they couldn&#39;t change the signature without breaking backwards compatibility.\r\n\r\n2. In any case, as the `List` is constructed without a `Class&lt;T&gt;` there is no way for the implementation to construct an array of type `T`.","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>The reasons are two:</p>\n\n<ol>\n<li><p>The method preceded Generics and they couldn't change the signature without breaking backwards compatibility.</p></li>\n<li><p>In any case, as the <code>List</code> is constructed without a <code>Class&lt;T&gt;</code> there is no way for the implementation to construct an array of type <code>T</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5137929,"reputation":533,"user_id":5657715,"display_name":"Ajay V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510271580,"creation_date":1510263948,"answer_id":47212097,"question_id":7909747,"body_markdown":"Workaround will be to use:\r\n\r\n           List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n             list.add(&quot;Sputnik&quot;);\r\n             list.add(&quot;Explorer&quot;);\r\n             \r\n            //String[] str = list.toArray(); \r\n  This is bound to throw an : incompatible types: Object[] cannot be converted to String[] error\r\n\r\n           Instead use:\r\n           \r\n            String[] str = list.toArray(new String[0]);\r\n            or\r\n            String[] str = list.toArray(new String[list.size()]);\r\n          \r\n\r\n            ","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Workaround will be to use:</p>\n\n<pre><code>       List&lt;String&gt; list = new ArrayList&lt;&gt;();\n         list.add(\"Sputnik\");\n         list.add(\"Explorer\");\n\n        //String[] str = list.toArray(); \n</code></pre>\n\n<p>This is bound to throw an : incompatible types: Object[] cannot be converted to String[] error</p>\n\n<pre><code>       Instead use:\n\n        String[] str = list.toArray(new String[0]);\n        or\n        String[] str = list.toArray(new String[list.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690912402,"creation_date":1690912402,"answer_id":76814142,"question_id":7909747,"body_markdown":"Since Java 11 it&#39;s even easier than `String[] str = list.toArray(new String[0])` or `String[] str = list.toArray(new String[list.size()])`:\r\n\r\n```\r\nString[] str = list.toArray(String[]::new);\r\n```\r\n","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Since Java 11 it's even easier than <code>String[] str = list.toArray(new String[0])</code> or <code>String[] str = list.toArray(new String[list.size()])</code>:</p>\n<pre><code>String[] str = list.toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":44899,"reputation":2410,"user_id":131997,"accept_rate":50,"display_name":"justadreamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18562,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":7909755,"answer_count":6,"score":37,"last_activity_date":1690912402,"creation_date":1319668450,"question_id":7909747,"body_markdown":"Does anybody know why Java 1.6 has this behaviour:\r\n\r\n    List&lt;String&gt; list = ArrayList&lt;String&gt;();\r\n    String[] arr = (String[]) list.toArray();\r\n\r\nAnd I get a ClassCastException, because it returns Object[] and not String[].  \r\n\r\nI thought \r\n`List&lt;T&gt;.toArray()` should return T[] - no?  Does anyone have an answer why this inconvenience exists in the language? \r\nAnd also how to work around this? How do I get a String[] from `List&lt;String&gt;` without looping thru the items?\r\n","title":"why does List&lt;String&gt;.toArray() return Object[] and not String[]? how to work around this?","body":"<p>Does anybody know why Java 1.6 has this behaviour:</p>\n\n<pre><code>List&lt;String&gt; list = ArrayList&lt;String&gt;();\nString[] arr = (String[]) list.toArray();\n</code></pre>\n\n<p>And I get a ClassCastException, because it returns Object[] and not String[].  </p>\n\n<p>I thought \n<code>List&lt;T&gt;.toArray()</code> should return T[] - no?  Does anyone have an answer why this inconvenience exists in the language? \nAnd also how to work around this? How do I get a String[] from <code>List&lt;String&gt;</code> without looping thru the items?</p>\n"},{"tags":["java","linux","spring-boot","selenium-webdriver","web-scraping"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690910797,"post_id":76813862,"comment_id":135417854,"body_markdown":"looks like it&#39;s trying to download information about the latest chromedriver and that bit is failing.  &quot;failed: connect timed out&quot;  So it&#39;s using the local version of the driver.","body":"looks like it&#39;s trying to download information about the latest chromedriver and that bit is failing.  &quot;failed: connect timed out&quot;  So it&#39;s using the local version of the driver."},{"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"score":0,"creation_date":1690911427,"post_id":76813862,"comment_id":135417979,"body_markdown":"@pcalkins ok, so  what kind of configuration I need to do.  a specific version? or another configuration","body":"@pcalkins ok, so  what kind of configuration I need to do.  a specific version? or another configuration"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1690911702,"post_id":76813862,"comment_id":135418040,"body_markdown":"looks like it&#39;s trying to read a remote configuration file.   If you want to use the webdrivermanager, you need to fix the connection issue on that machine.  So go to the Linux server and try navigating to: https://chromedriver.storage.googleapis.com:443  Maybe that&#39;ll tell you something about what&#39;s wrong there.  (note the ports used in the URLs in the exception... maybe some are being blocked?)","body":"looks like it&#39;s trying to read a remote configuration file.   If you want to use the webdrivermanager, you need to fix the connection issue on that machine.  So go to the Linux server and try navigating to: <a href=\"https://chromedriver.storage.googleapis.com:443\" rel=\"nofollow noreferrer\">chromedriver.storage.googleapis.com:443</a>  Maybe that&#39;ll tell you something about what&#39;s wrong there.  (note the ports used in the URLs in the exception... maybe some are being blocked?)"},{"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"score":0,"creation_date":1690912901,"post_id":76813862,"comment_id":135418277,"body_markdown":"Yeah  @pcalkins , I just created a method to ping that uri, look at the image https://ibb.co/tPC0dZg, then this response in my postman on linux server https://ibb.co/hXgGrxC, but my windows https://ibb.co/jyWPx8c ,I assume it is the linux server firewall?","body":"Yeah  @pcalkins , I just created a method to ping that uri, look at the image <a href=\"https://ibb.co/tPC0dZg\" rel=\"nofollow noreferrer\">ibb.co/tPC0dZg</a>, then this response in my postman on linux server <a href=\"https://ibb.co/hXgGrxC\" rel=\"nofollow noreferrer\">ibb.co/hXgGrxC</a>, but my windows <a href=\"https://ibb.co/jyWPx8c\" rel=\"nofollow noreferrer\">ibb.co/jyWPx8c</a> ,I assume it is the linux server firewall?"}],"owner":{"account_id":21107718,"reputation":1,"user_id":15516343,"display_name":"JMBLAS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690911625,"creation_date":1690909806,"question_id":76813862,"body_markdown":"# **My dependecies**\r\n\t\t`&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;5.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;`\r\n\r\n# \r\n# MY CODE MAIN\r\n\r\n```\r\n WebDriverManager.chromedriver().setup();\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n\r\n        driver.get(&quot;http://www.xxx.xxx.xx/xxxx/HPSGDec10A&quot;);\r\n```\r\n......\r\n**\r\nIn my window it works normally but when I deploy my java application to linux server with jboss\r\nthis error show me**\r\n\r\n-------\r\n io.github.bonigarcia.wdm.versions.VersionDetector - Error reading commands.properties, using local instead\r\n\r\n\r\n\r\n     WARN  io.github.bonigarcia.wdm.versions.VersionDetector - Exception reading https://chromedriver.storage.googleapis.com/LATEST_RELEASE to get latest version of chromedriver (Connect to https://chromedriver.storage.googleapis.com:443 [chromedriver.storage.googleapis.com/64.233.186.128, chromedriver.storage.googleapis.com/64.233.190.128, chromedriver.storage.googleapis.com/142.250.0.128, chromedriver.storage.googleapis.com/142.251.0.128, chromedriver.storage.googleapis.com/172.217.192.128] failed: connect timed out)\r\n\r\n\r\n**PLEASE, I want to know if I need a specific version of Chrome or what kind of configuration I need to do.**","title":"Error reading commands.properties, using local instead - Error Selenium Java","body":"<h1><strong>My dependecies</strong></h1>\n<pre><code>    `&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n        &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;`\n</code></pre>\n<h1></h1>\n<h1>MY CODE MAIN</h1>\n<pre><code> WebDriverManager.chromedriver().setup();\n\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--user-agent=MiUserAgentPersonalizado&quot;);\n        WebDriver driver = new ChromeDriver(options);\n\n        driver.get(&quot;http://www.xxx.xxx.xx/xxxx/HPSGDec10A&quot;);\n</code></pre>\n<p>......\n**\nIn my window it works normally but when I deploy my java application to linux server with jboss\nthis error show me**</p>\n<hr />\n<p>io.github.bonigarcia.wdm.versions.VersionDetector - Error reading commands.properties, using local instead</p>\n<pre><code> WARN  io.github.bonigarcia.wdm.versions.VersionDetector - Exception reading https://chromedriver.storage.googleapis.com/LATEST_RELEASE to get latest version of chromedriver (Connect to https://chromedriver.storage.googleapis.com:443 [chromedriver.storage.googleapis.com/64.233.186.128, chromedriver.storage.googleapis.com/64.233.190.128, chromedriver.storage.googleapis.com/142.250.0.128, chromedriver.storage.googleapis.com/142.251.0.128, chromedriver.storage.googleapis.com/172.217.192.128] failed: connect timed out)\n</code></pre>\n<p><strong>PLEASE, I want to know if I need a specific version of Chrome or what kind of configuration I need to do.</strong></p>\n"},{"tags":["java","ssl","java-8","openssl","tls1.3"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690933696,"post_id":76813399,"comment_id":135421230,"body_markdown":"The client looks like openssl to me, not Java. &#39;TCP close socket&#39; should be &#39;SSL close socket&#39;. Get rid of the shutdown. Then it should work.","body":"The client looks like openssl to me, not Java. &#39;TCP close socket&#39; should be &#39;SSL close socket&#39;. Get rid of the shutdown. Then it should work."},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1690936409,"post_id":76813399,"comment_id":135421495,"body_markdown":"Yes. Client is in C++. Open SSL. the server is in Java and I guess that is where we need to set the num of tickets, isn&#39;t it?","body":"Yes. Client is in C++. Open SSL. the server is in Java and I guess that is where we need to set the num of tickets, isn&#39;t it?"},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1690937839,"post_id":76813399,"comment_id":135421624,"body_markdown":"@user207421: didn&#39;t get you. what is the difference between TCP close socket and SSL close socket? We are doing a SSL_shutdown which I thought closes the SSL connection.","body":"@user207421: didn&#39;t get you. what is the difference between TCP close socket and SSL close socket? We are doing a SSL_shutdown which I thought closes the SSL connection."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690946983,"post_id":76813399,"comment_id":135422289,"body_markdown":"That&#39;s not what it says in the [documentatipon](https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html). Based on that I would do `SSL_shutdown()`, then an `SSL_read()`, which will return EOS but will also consume all the pending messages, then the close.","body":"That&#39;s not what it says in the <a href=\"https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html\" rel=\"nofollow noreferrer\">documentatipon</a>. Based on that I would do <code>SSL_shutdown()</code>, then an <code>SSL_read()</code>, which will return EOS but will also consume all the pending messages, then the close."},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1690948460,"post_id":76813399,"comment_id":135422415,"body_markdown":"@Omi: see the part in the [documentation of SSL_shutdown](https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html) which starts with *&quot;When a client only writes and never reads from the connection,  ....&quot;*. This is obviously the relevant scenario here. The exception you get is because you close the socket on the client side before reading all data send by the server (notably the TLS session ticket) - leading the client to send a TCP reset back. You could probably also avoid sending this TCP reset by doing a TCP shutdown with SHUT_RDWR after the SSL shutdown and before the TCP socket close.","body":"@Omi: see the part in the <a href=\"https://www.openssl.org/docs/man3.1/man3/SSL_shutdown.html\" rel=\"nofollow noreferrer\">documentation of SSL_shutdown</a> which starts with <i>&quot;When a client only writes and never reads from the connection,  ....&quot;</i>. This is obviously the relevant scenario here. The exception you get is because you close the socket on the client side before reading all data send by the server (notably the TLS session ticket) - leading the client to send a TCP reset back. You could probably also avoid sending this TCP reset by doing a TCP shutdown with SHUT_RDWR after the SSL shutdown and before the TCP socket close."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690950319,"post_id":76813399,"comment_id":135422556,"body_markdown":"@SteffenUllrich That will only cause the *server* to get a connection reset. It won&#39;t stop the server sending the tickets, as it won&#39;t know about the read shutdown. He needs the final `SSL_read()`.","body":"@SteffenUllrich That will only cause the <i>server</i> to get a connection reset. It won&#39;t stop the server sending the tickets, as it won&#39;t know about the read shutdown. He needs the final <code>SSL_read()</code>."},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1690950709,"post_id":76813399,"comment_id":135422585,"body_markdown":"@user207421: Correct. Preventing sending the TCP reset by using TCP shutdown is more a quick and dirty work around. The real fix is to do a complete SSL shutdown, which means doing a SSL_read on the client side until the SSL shutdown from the server was received.","body":"@user207421: Correct. Preventing sending the TCP reset by using TCP shutdown is more a quick and dirty work around. The real fix is to do a complete SSL shutdown, which means doing a SSL_read on the client side until the SSL shutdown from the server was received."},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1690954507,"post_id":76813399,"comment_id":135422945,"body_markdown":"@user207421: we are already doing a tcp shutdown with SHUT_RDWR after the SSL shutdown and before TCP socket close. BTW: if we do tcp shutdown with SHUT_RD that should allow the server to continue reading from the socket, isn&#39;t it?","body":"@user207421: we are already doing a tcp shutdown with SHUT_RDWR after the SSL shutdown and before TCP socket close. BTW: if we do tcp shutdown with SHUT_RD that should allow the server to continue reading from the socket, isn&#39;t it?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690970601,"post_id":76813399,"comment_id":135426093,"body_markdown":"@Omi Read what I wrote. Call `SSL_shutdown()` and then `SSL_read()`.","body":"@Omi Read what I wrote. Call <code>SSL_shutdown()</code> and then <code>SSL_read()</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690970685,"post_id":76813399,"comment_id":135426107,"body_markdown":"@SteffenUllrich TCP shutdown does not reliably prevent a TCP reset. The effect of read shutdown on the sender varies across platforms, but one of them is to *issue* a reset if further data arrives.","body":"@SteffenUllrich TCP shutdown does not reliably prevent a TCP reset. The effect of read shutdown on the sender varies across platforms, but one of them is to <i>issue</i> a reset if further data arrives."}],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690911326,"creation_date":1690905693,"question_id":76813399,"body_markdown":"I have a Java server-client application.\r\n\r\n    Client:\r\n    SSL connect\r\n    SSL_write data\r\n    SSL_shutdown\r\n    TCP close socket\r\n    \r\n    Server:\r\n    SSL accept\r\n    SSL read\r\n    close socket\r\n\r\nAbove design worked fine.Till we upgraded to TLS 1.3. Now this does not work. when the client closes socket, the server is unable to read the data and throws an exception. (From various articles I read, I figured this may be because the server is still sending session tickets by the time the client closes socket)\r\n\r\nI also saw that in Open SSL C++, we can disable the num of tickets and get the above design working. However, I don&#39;t see a way to do the same in Java. It looks like it is not permitted at all in the Java TLS lib.\r\n\r\nPlease let me know if there is a way to disable session tickets (or set num of tickets to 0) in Java. I am using Java 8u261.\r\n\r\n(Note: I tried waiting for server socket close before the client closes its socket and that works. However due to some other requirements we have, I am trying to avoid this approach as much as possible)\r\n\r\n\r\n\r\n","title":"How to set num of session tickets in TLS 1.3 Java","body":"<p>I have a Java server-client application.</p>\n<pre><code>Client:\nSSL connect\nSSL_write data\nSSL_shutdown\nTCP close socket\n\nServer:\nSSL accept\nSSL read\nclose socket\n</code></pre>\n<p>Above design worked fine.Till we upgraded to TLS 1.3. Now this does not work. when the client closes socket, the server is unable to read the data and throws an exception. (From various articles I read, I figured this may be because the server is still sending session tickets by the time the client closes socket)</p>\n<p>I also saw that in Open SSL C++, we can disable the num of tickets and get the above design working. However, I don't see a way to do the same in Java. It looks like it is not permitted at all in the Java TLS lib.</p>\n<p>Please let me know if there is a way to disable session tickets (or set num of tickets to 0) in Java. I am using Java 8u261.</p>\n<p>(Note: I tried waiting for server socket close before the client closes its socket and that works. However due to some other requirements we have, I am trying to avoid this approach as much as possible)</p>\n"},{"tags":["java","apache-poi","docx"],"answers":[{"comments":[{"owner":{"account_id":95566,"reputation":141,"user_id":6585144,"display_name":"Stefano"},"score":0,"creation_date":1624373323,"post_id":68085578,"comment_id":120338217,"body_markdown":"i had found the style unzipping the generated doc, but wasn&#39;t sure if apply it to textbox or rect. Thanks for your example","body":"i had found the style unzipping the generated doc, but wasn&#39;t sure if apply it to textbox or rect. Thanks for your example"}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1624372689,"creation_date":1624372689,"answer_id":68085578,"question_id":68084579,"body_markdown":"That would be the style of `CTTextbox`. There you can set &quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;. That means vertical text flow bottom to top.\r\n\r\n    ...\r\n    CTTextbox ctTextbox = ctRect.addNewTextbox();\r\n    ctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\r\n    ...\r\n\r\nHow to get? Create the default text box. Open the file using `Word` GUI. Set text direction there as wanted. Save the file. Unzip the `*.docx` and have a look into `/word/document.xml`. There you will find:\r\n\r\n    &lt;w:pict&gt;\r\n     &lt;v:rect style=&quot;position:absolute;...&quot;&gt;\r\n      &lt;v:textbox style=&quot;...;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top;...&quot;&gt;\r\n       &lt;w:txbxContent&gt;\r\n        ...\r\n       &lt;/w:txbxContent&gt;\r\n      &lt;/v:textbox&gt;\r\n     &lt;/v:rect&gt;\r\n    &lt;/w:pict&gt;\r\n\r\nComplete example (tested and works using `apache poi 5.0.0`):\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTxbxContent;\r\n    \r\n    import com.microsoft.schemas.vml.CTGroup;\r\n    import com.microsoft.schemas.vml.CTRect;\r\n    import com.microsoft.schemas.vml.CTTextbox;\r\n    import com.microsoft.schemas.office.word.CTWrap;\r\n    import com.microsoft.schemas.office.word.STWrapType;\r\n    \r\n    import org.w3c.dom.Node;\r\n    \r\n    public class CreateWordTextBox {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument doc= new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = doc.createParagraph();\r\n      XWPFRun run=paragraph.createRun();  \r\n      run.setText(&quot;The Body text: &quot;);\r\n    \r\n      CTGroup ctGroup = CTGroup.Factory.newInstance();\r\n    \r\n      CTRect ctRect = ctGroup.addNewRect();\r\n      //ctRect.addNewWrap().setType(STWrapType.SQUARE);\r\n      ctRect.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:10pt;width:36pt;height:100pt&quot;);\r\n      \r\n      CTTextbox ctTextbox = ctRect.addNewTextbox();\r\n      ctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\r\n    \r\n      CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\r\n      ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\r\n    \r\n      Node ctGroupNode = ctGroup.getDomNode(); \r\n      CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\r\n      run=paragraph.createRun();  \r\n      CTR cTR = run.getCTR();\r\n      cTR.addNewPict();\r\n      cTR.setPictArray(0, ctPicture);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... &quot;);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;WordTextBox.docx&quot;);\r\n      doc.write(out);\r\n      out.close();\r\n      doc.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Apache poi : rotate text inside docx textbox","body":"<p>That would be the style of <code>CTTextbox</code>. There you can set &quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;. That means vertical text flow bottom to top.</p>\n<pre><code>...\nCTTextbox ctTextbox = ctRect.addNewTextbox();\nctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\n...\n</code></pre>\n<p>How to get? Create the default text box. Open the file using <code>Word</code> GUI. Set text direction there as wanted. Save the file. Unzip the <code>*.docx</code> and have a look into <code>/word/document.xml</code>. There you will find:</p>\n<pre><code>&lt;w:pict&gt;\n &lt;v:rect style=&quot;position:absolute;...&quot;&gt;\n  &lt;v:textbox style=&quot;...;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top;...&quot;&gt;\n   &lt;w:txbxContent&gt;\n    ...\n   &lt;/w:txbxContent&gt;\n  &lt;/v:textbox&gt;\n &lt;/v:rect&gt;\n&lt;/w:pict&gt;\n</code></pre>\n<p>Complete example (tested and works using <code>apache poi 5.0.0</code>):</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTxbxContent;\n\nimport com.microsoft.schemas.vml.CTGroup;\nimport com.microsoft.schemas.vml.CTRect;\nimport com.microsoft.schemas.vml.CTTextbox;\nimport com.microsoft.schemas.office.word.CTWrap;\nimport com.microsoft.schemas.office.word.STWrapType;\n\nimport org.w3c.dom.Node;\n\npublic class CreateWordTextBox {\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument doc= new XWPFDocument();\n\n  XWPFParagraph paragraph = doc.createParagraph();\n  XWPFRun run=paragraph.createRun();  \n  run.setText(&quot;The Body text: &quot;);\n\n  CTGroup ctGroup = CTGroup.Factory.newInstance();\n\n  CTRect ctRect = ctGroup.addNewRect();\n  //ctRect.addNewWrap().setType(STWrapType.SQUARE);\n  ctRect.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:10pt;width:36pt;height:100pt&quot;);\n  \n  CTTextbox ctTextbox = ctRect.addNewTextbox();\n  ctTextbox.setStyle(&quot;layout-flow:vertical;mso-layout-flow-alt:bottom-to-top&quot;);\n\n  CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\n  ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\n\n  Node ctGroupNode = ctGroup.getDomNode(); \n  CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\n  run=paragraph.createRun();  \n  CTR cTR = run.getCTR();\n  cTR.addNewPict();\n  cTR.setPictArray(0, ctPicture);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... Lorem ipsum semit color ... &quot;);\n\n  FileOutputStream out = new FileOutputStream(&quot;WordTextBox.docx&quot;);\n  doc.write(out);\n  out.close();\n  doc.close();\n\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12979921,"reputation":623,"user_id":9382725,"display_name":"Nol4635"},"score":0,"creation_date":1691190947,"post_id":76814021,"comment_id":135463607,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/34779292)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/34779292\">From Review</a>"}],"tags":[],"owner":{"account_id":13643497,"reputation":1,"user_id":9843063,"display_name":"Vlad Dubov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690911312,"creation_date":1690911312,"answer_id":76814021,"question_id":68084579,"body_markdown":"Axel Richter.\r\nThank you for the code.\r\nMaybe you know, how can we rotate the text inside CTTxbxContent for any angle like CTShape itself?\r\n\r\nHere is &quot;my&quot; attempt to rotate &quot;The TextBox text...&quot; inside CTTxbxContent (apache poi 5.2.3): \r\n\r\n    @Test\r\n    public void parseTextBox() throws Exception {\r\n        XWPFDocument doc = new XWPFDocument();\r\n\r\n        XWPFParagraph paragraph = doc.createParagraph();\r\n\r\n        CTGroup ctGroup = CTGroup.Factory.newInstance();\r\n\r\n        CTShape ctShape = ctGroup.addNewShape();\r\n\r\n        ctShape.addNewWrap().setType(STWrapType.SQUARE);\r\n        ctShape.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:40pt;width:100pt;height:24pt;rotation:30&quot;);\r\n        CTTextbox ctTextbox = ctShape.addNewTextbox();\r\n        ctTextbox.setStyle(&quot;rotation:30&quot;);\r\n        CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\r\n        ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\r\n\r\n        Node ctGroupNode = ctGroup.getDomNode();\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture =\r\n            org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\r\n        XWPFRun run = paragraph.createRun();\r\n        CTR cTR = run.getCTR();\r\n        cTR.addNewPict();\r\n        cTR.setPictArray(0, ctPicture);\r\n\r\n        FileOutputStream out = new FileOutputStream(&quot;test2.docx&quot;);\r\n        doc.write(out);\r\n        out.close();\r\n        doc.close();\r\n\r\n        final File file = new File(&quot;test2.docx&quot;);\r\n        final XWPFDocument docx = new XWPFDocument(Files.newInputStream(file.toPath()));\r\n        List&lt;XWPFParagraph&gt; paragraphList = docx.getParagraphs();\r\n    }\r\n\r\nBut only the shape is rotating, not the text inside it:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LbtIu.png","title":"Apache poi : rotate text inside docx textbox","body":"<p>Axel Richter.\nThank you for the code.\nMaybe you know, how can we rotate the text inside CTTxbxContent for any angle like CTShape itself?</p>\n<p>Here is &quot;my&quot; attempt to rotate &quot;The TextBox text...&quot; inside CTTxbxContent (apache poi 5.2.3):</p>\n<pre><code>@Test\npublic void parseTextBox() throws Exception {\n    XWPFDocument doc = new XWPFDocument();\n\n    XWPFParagraph paragraph = doc.createParagraph();\n\n    CTGroup ctGroup = CTGroup.Factory.newInstance();\n\n    CTShape ctShape = ctGroup.addNewShape();\n\n    ctShape.addNewWrap().setType(STWrapType.SQUARE);\n    ctShape.setStyle(&quot;position:absolute;mso-position-horizontal:center;margin-top:40pt;width:100pt;height:24pt;rotation:30&quot;);\n    CTTextbox ctTextbox = ctShape.addNewTextbox();\n    ctTextbox.setStyle(&quot;rotation:30&quot;);\n    CTTxbxContent ctTxbxContent = ctTextbox.addNewTxbxContent();\n    ctTxbxContent.addNewP().addNewR().addNewT().setStringValue(&quot;The TextBox text...&quot;);\n\n    Node ctGroupNode = ctGroup.getDomNode();\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture =\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\n    XWPFRun run = paragraph.createRun();\n    CTR cTR = run.getCTR();\n    cTR.addNewPict();\n    cTR.setPictArray(0, ctPicture);\n\n    FileOutputStream out = new FileOutputStream(&quot;test2.docx&quot;);\n    doc.write(out);\n    out.close();\n    doc.close();\n\n    final File file = new File(&quot;test2.docx&quot;);\n    final XWPFDocument docx = new XWPFDocument(Files.newInputStream(file.toPath()));\n    List&lt;XWPFParagraph&gt; paragraphList = docx.getParagraphs();\n}\n</code></pre>\n<p>But only the shape is rotating, not the text inside it:\n<a href=\"https://i.stack.imgur.com/LbtIu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":95566,"reputation":141,"user_id":6585144,"display_name":"Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68085578,"answer_count":2,"score":0,"last_activity_date":1690911312,"creation_date":1624369039,"question_id":68084579,"body_markdown":"The client has asked the ability to add editable notes to a docx document automatically generated by a web application. I&#39;ve implemented the requirement by adding some editable texboxes to the document. Now the customer whishes some of this notes have vertical text but i cannot find any example on how to implement this functionality. Should i rotate the textbox or the text contained? which class should i use ? can you provide any link with examples , i have found none till now? below is the code i use to add textboxes :\r\n\r\n    try {\r\n    \t\t\t\t\tCTGroup ctGroup = CTGroup.Factory.newInstance();\r\n    \r\n    \t\t\t\t\tCTRect ctRect = ctGroup.addNewRect();\r\n    \t\t\t\t\tctRect.setStyle(\r\n    \t\t\t\t\t\t\t  String.format(\r\n    \t\t\t\t\t\t\t\t\t  &quot;position:absolute;width: %scm;&quot;   \r\n    \t\t\t\t\t\t\t\t\t+ &quot;height:%scm;&quot; \r\n    \t\t\t\t\t\t\t\t\t+ &quot;top:%scm;&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;left:%scm;&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;mso-position-horizontal-relative:page;&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;mso-position-vertical-relative:page;&quot;,\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getWidth()/10,//mm-&gt;cm\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getHeight()/10,//mm-&gt;cm\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getY(),\r\n    \t\t\t\t\t\t\t\t\tnota.getWordPosition().getX()\r\n    \t\t\t\t\t\t\t)\r\n    \t\t\t\t\t  );\r\n    \t\t\t\t\t  CTTxbxContent ctTxbxContent = ctRect.addNewTextbox().addNewTxbxContent();\r\n    \t\t\t\t\t  String[] noteLines = nota.getDescription().split(&quot;\\n|\\r\\n&quot;);\r\n    \t\t\t\t\t  CTP noteCTP = ctTxbxContent.addNewP();\r\n    \t\t\t\t\t  for(String line : noteLines){\r\n                             CTR noteCTR = noteCTP.addNewR();\r\n                             noteCTR.addNewT().setStringValue(line);\r\n                             noteCTR.addNewCr();\r\n    \t\t\t\t\t  }\r\n    \t\t\t\t\t  \r\n    \t\t\t\t\t  Node ctGroupNode = ctGroup.getDomNode(); \r\n    \t\t\t\t\t  CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\r\n    \t\t\t\t\t  \r\n    \t\t\t\t\t  XWPFRun noteRun = imageParagraph.createRun(); \r\n    \t\t\t\t\t  \r\n    \t\t\t\t\t  CTR cTR = noteRun.getCTR();\r\n    \t\t\t\t\t  cTR.addNewPict();\r\n    \t\t\t\t\t  cTR.setPictArray(0, ctPicture);\r\n    \t\t\t\t\t \r\n    \t\t\t\t\t  \r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tlogger.warn(&quot;failed to add a note &quot; +  e.getMessage(),e);\r\n    \t\t\t\t\tthrow new ReportGeneratorException(&quot;error adding note on pages &quot; + nota.getPages() + &quot;(id &quot; + nota.getId() +&quot;)&quot;);\r\n    \t\t\t\t}","title":"Apache poi : rotate text inside docx textbox","body":"<p>The client has asked the ability to add editable notes to a docx document automatically generated by a web application. I've implemented the requirement by adding some editable texboxes to the document. Now the customer whishes some of this notes have vertical text but i cannot find any example on how to implement this functionality. Should i rotate the textbox or the text contained? which class should i use ? can you provide any link with examples , i have found none till now? below is the code i use to add textboxes :</p>\n<pre><code>try {\n                    CTGroup ctGroup = CTGroup.Factory.newInstance();\n\n                    CTRect ctRect = ctGroup.addNewRect();\n                    ctRect.setStyle(\n                              String.format(\n                                      &quot;position:absolute;width: %scm;&quot;   \n                                    + &quot;height:%scm;&quot; \n                                    + &quot;top:%scm;&quot;\n                                    + &quot;left:%scm;&quot;\n                                    + &quot;mso-position-horizontal-relative:page;&quot;\n                                    + &quot;mso-position-vertical-relative:page;&quot;,\n                                    nota.getWordPosition().getWidth()/10,//mm-&gt;cm\n                                    nota.getWordPosition().getHeight()/10,//mm-&gt;cm\n                                    nota.getWordPosition().getY(),\n                                    nota.getWordPosition().getX()\n                            )\n                      );\n                      CTTxbxContent ctTxbxContent = ctRect.addNewTextbox().addNewTxbxContent();\n                      String[] noteLines = nota.getDescription().split(&quot;\\n|\\r\\n&quot;);\n                      CTP noteCTP = ctTxbxContent.addNewP();\n                      for(String line : noteLines){\n                         CTR noteCTR = noteCTP.addNewR();\n                         noteCTR.addNewT().setStringValue(line);\n                         noteCTR.addNewCr();\n                      }\n                      \n                      Node ctGroupNode = ctGroup.getDomNode(); \n                      CTPicture ctPicture = CTPicture.Factory.parse(ctGroupNode);\n                      \n                      XWPFRun noteRun = imageParagraph.createRun(); \n                      \n                      CTR cTR = noteRun.getCTR();\n                      cTR.addNewPict();\n                      cTR.setPictArray(0, ctPicture);\n                     \n                      \n                } catch (Exception e) {\n                    logger.warn(&quot;failed to add a note &quot; +  e.getMessage(),e);\n                    throw new ReportGeneratorException(&quot;error adding note on pages &quot; + nota.getPages() + &quot;(id &quot; + nota.getId() +&quot;)&quot;);\n                }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":10508245,"reputation":311,"user_id":7744772,"display_name":"Cozy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690911300,"creation_date":1690911300,"answer_id":76814019,"question_id":76802524,"body_markdown":"The problem here was trying to mock the router params . In my case I replaced mocks for `Utilities` and `AppConfig` with real initialised objects as follows:\r\n\r\n```\r\nUtilities utilities = new Utilities();\r\nAppConfig cfg = new AppConfig();\r\n```\r\n\r\n\r\nI updated my test to the following code and it passed.\r\n\r\n```\r\n@Slf4j\r\nclass GreetingHandlerTest {\r\n\r\n    GreetingSvc greetingSvc;\r\n    WebTestClient client;\r\n\r\n    @BeforeEach\r\n    void setUp(){\r\n        this.greetingSvc = mock(GreetingSvc.class);\r\n\r\n        Utilities utilities = new Utilities();\r\n        AppConfig cfg = new AppConfig();\r\n\r\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\r\n\r\n\r\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\r\n\r\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\r\n\r\n\r\n        RouterFunction&lt;?&gt; route = new AppRouter().greetingRoute(cfg,utilities,greetingHandler);\r\n\r\n        this.client = WebTestClient.bindToRouterFunction(route)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Get Hello Back&quot;)\r\n    void testHello() {\r\n\r\n        client.get()\r\n                .uri(&quot;/api/v2/hello&quot;)\r\n                .headers(Utilities.getHttpHeaders())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody(BaseResponse.class);\r\n        ;\r\n    }\r\n}\r\n```","title":"The mapper returned a null Mono in a SpringBoot Reactive Router and Handler Unit test","body":"<p>The problem here was trying to mock the router params . In my case I replaced mocks for <code>Utilities</code> and <code>AppConfig</code> with real initialised objects as follows:</p>\n<pre><code>Utilities utilities = new Utilities();\nAppConfig cfg = new AppConfig();\n</code></pre>\n<p>I updated my test to the following code and it passed.</p>\n<pre><code>@Slf4j\nclass GreetingHandlerTest {\n\n    GreetingSvc greetingSvc;\n    WebTestClient client;\n\n    @BeforeEach\n    void setUp(){\n        this.greetingSvc = mock(GreetingSvc.class);\n\n        Utilities utilities = new Utilities();\n        AppConfig cfg = new AppConfig();\n\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\n\n\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\n\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\n\n\n        RouterFunction&lt;?&gt; route = new AppRouter().greetingRoute(cfg,utilities,greetingHandler);\n\n        this.client = WebTestClient.bindToRouterFunction(route)\n                .build();\n    }\n\n    @Test\n    @DisplayName(&quot;Get Hello Back&quot;)\n    void testHello() {\n\n        client.get()\n                .uri(&quot;/api/v2/hello&quot;)\n                .headers(Utilities.getHttpHeaders())\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody(BaseResponse.class);\n        ;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10508245,"reputation":311,"user_id":7744772,"display_name":"Cozy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76814019,"answer_count":1,"score":0,"last_activity_date":1690911300,"creation_date":1690797637,"question_id":76802524,"body_markdown":"I have a functional router :\r\n\r\n```\r\n@Bean\r\n    public RouterFunction&lt;ServerResponse&gt; greetingRoute(Utilities utils,\r\n                                                     AppConfig cfg,\r\n                                                     GreetingHandler greetingHandler) {\r\n        return RouterFunctions.route()\r\n                .path(&quot;/api&quot;,api -&gt; api\r\n                        // x-headers validation\r\n                        .filter((request,next) -&gt; utils.verifyXHeaders(request,cfg,next))\r\n                        // Customer urls\r\n                        .nest(accept(MediaType.APPLICATION_JSON),ops -&gt; ops\r\n                                // Greeting API\r\n                                .GET(&quot;/v2/hello&quot;,greetingHandler::hello)\r\n                        )\r\n                        .build())\r\n                .build();\r\n    }\r\n```\r\n\r\nAnd it&#39;s handler function below:\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; hello(ServerRequest serverRequest) {\r\n\r\n        Mono&lt;Greeting&gt; greetingResponse = greetingSvc.greetingFunction();\r\n\r\n        return greetingResponse.flatMap(greeting -&gt; {\r\n            BaseResponse brs = BaseResponse.builder()\r\n                    .responseCode(String.valueOf(HttpStatus.OK.value()))\r\n                    .responseMsg(&quot;Greeting&quot;)\r\n                    .detailedMsg(&quot;Greeting Success&quot;)\r\n                    .responseData(greeting)\r\n                    .build();\r\n\r\n            return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\r\n                    .bodyValue(brs);\r\n        });\r\n\r\n    }\r\n\r\n```\r\n\r\nI am trying to write a unit test for the handler as follows:\r\n\r\n```\r\n@Slf4j\r\nclass GreetingHandlerTest {\r\n\r\n    GreetingSvc greetingSvc;\r\n    WebTestClient client;\r\n\r\n    @BeforeEach\r\n    void setUp(){\r\n        this.greetingSvc = mock(GreetingSvc.class);\r\n        Utilities utils = mock(Utilities.class);\r\n        AppConfig cfg = mock(AppConfig.class);\r\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\r\n\r\n\r\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\r\n\r\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\r\n\r\n\r\n        RouterFunction&lt;?&gt; route = new AppRouter()\r\n                .greetingRoute(utils,cfg,greetingHandler);\r\n\r\n        this.client = WebTestClient.bindToRouterFunction(route)\r\n                .build();\r\n    }\r\n\r\n    @Test\r\n    @DisplayName(&quot;Get Hello Back&quot;)\r\n    void testHello() {\r\n\r\n        client.get()\r\n                .uri(&quot;/api/v2/hello&quot;)\r\n                .headers(Utilities.getHttpHeaders())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody(BaseResponse.class);\r\n        ;\r\n    }\r\n}\r\n```\r\n\r\nHowever this test always fails with an error `The mapper returned a null Mono` and the following stack trace:\r\n\r\n```\r\n12:46:14.282 [parallel-1] DEBUG org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] HTTP GET &quot;/api/v2/hello&quot;\r\n12:46:14.334 [parallel-1] ERROR org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] 500 Server Error for HTTP GET &quot;/api/v2/hello&quot;\r\njava.lang.NullPointerException: The mapper returned a null Mono\r\n\tat java.util.Objects.requireNonNull(Objects.java:228)\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ HTTP GET &quot;/api/v2/hello&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat java.util.Objects.requireNonNull(Objects.java:228)\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\r\n\t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\r\n\t\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:431)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\r\n\t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\t\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\t\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4457)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4393)\r\n\t\tat org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$doConnect$2(HttpHandlerConnector.java:98)\r\n\t\tat org.springframework.mock.http.client.reactive.MockClientHttpRequest.lambda$null$2(MockClientHttpRequest.java:124)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.FluxConcatIterable$ConcatIterableSubscriber.onComplete(FluxConcatIterable.java:147)\r\n\t\tat reactor.core.publisher.FluxConcatIterable.subscribe(FluxConcatIterable.java:60)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4457)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4393)\r\n\t\tat org.springframework.test.web.reactive.server.HttpHandlerConnector.doConnect(HttpHandlerConnector.java:112)\r\n\t\tat org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$connect$0(HttpHandlerConnector.java:79)\r\n\t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\r\n\t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\t\tat reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\t\tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n\t\tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\t\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\t\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n12:46:14.346 [parallel-1] DEBUG org.springframework.test.web.reactive.server.HttpHandlerConnector - Creating client response for  GET &quot;/api/v2/hello&quot;\r\n12:46:14.351 [parallel-1] DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions - [68105edc] [185decc2] Response 500 INTERNAL_SERVER_ERROR\r\n```\r\n\r\nBut testing the api on postman it responds with a success:\r\n\r\n```\r\n{\r\n    &quot;responseCode&quot;: &quot;200&quot;,\r\n    &quot;responseMsg&quot;: &quot;Greeting&quot;,\r\n    &quot;detailedMsg&quot;: &quot;Greeting Success&quot;,\r\n    &quot;Data&quot;: {\r\n        &quot;message&quot;: &quot;Hello, Spring!&quot;\r\n    }\r\n}\r\n```\r\nBeen stuck on this for a while now. How do I make this unit test pass by mocking the greeting service implementation. The Integration test also works by the way, am stuck on this unit test.\r\n\r\n\r\nFor more context `greetingSvc` implementation is here:\r\n\r\n```\r\n\r\npublic Mono&lt;Greeting&gt; greetingFunction(){\r\n        return Mono.just(new Greeting(&quot;Hello, Spring!&quot;));\r\n    }\r\n\r\n```\r\n","title":"The mapper returned a null Mono in a SpringBoot Reactive Router and Handler Unit test","body":"<p>I have a functional router :</p>\n<pre><code>@Bean\n    public RouterFunction&lt;ServerResponse&gt; greetingRoute(Utilities utils,\n                                                     AppConfig cfg,\n                                                     GreetingHandler greetingHandler) {\n        return RouterFunctions.route()\n                .path(&quot;/api&quot;,api -&gt; api\n                        // x-headers validation\n                        .filter((request,next) -&gt; utils.verifyXHeaders(request,cfg,next))\n                        // Customer urls\n                        .nest(accept(MediaType.APPLICATION_JSON),ops -&gt; ops\n                                // Greeting API\n                                .GET(&quot;/v2/hello&quot;,greetingHandler::hello)\n                        )\n                        .build())\n                .build();\n    }\n</code></pre>\n<p>And it's handler function below:</p>\n<pre><code>public Mono&lt;ServerResponse&gt; hello(ServerRequest serverRequest) {\n\n        Mono&lt;Greeting&gt; greetingResponse = greetingSvc.greetingFunction();\n\n        return greetingResponse.flatMap(greeting -&gt; {\n            BaseResponse brs = BaseResponse.builder()\n                    .responseCode(String.valueOf(HttpStatus.OK.value()))\n                    .responseMsg(&quot;Greeting&quot;)\n                    .detailedMsg(&quot;Greeting Success&quot;)\n                    .responseData(greeting)\n                    .build();\n\n            return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\n                    .bodyValue(brs);\n        });\n\n    }\n\n</code></pre>\n<p>I am trying to write a unit test for the handler as follows:</p>\n<pre><code>@Slf4j\nclass GreetingHandlerTest {\n\n    GreetingSvc greetingSvc;\n    WebTestClient client;\n\n    @BeforeEach\n    void setUp(){\n        this.greetingSvc = mock(GreetingSvc.class);\n        Utilities utils = mock(Utilities.class);\n        AppConfig cfg = mock(AppConfig.class);\n        Greeting greeting = new Greeting(&quot;Hello Spring&quot;);\n\n\n        GreetingHandler greetingHandler = new GreetingHandler(this.greetingSvc);\n\n        when(this.greetingSvc.greetingFunction()).thenReturn(Mono.just(greeting));\n\n\n        RouterFunction&lt;?&gt; route = new AppRouter()\n                .greetingRoute(utils,cfg,greetingHandler);\n\n        this.client = WebTestClient.bindToRouterFunction(route)\n                .build();\n    }\n\n    @Test\n    @DisplayName(&quot;Get Hello Back&quot;)\n    void testHello() {\n\n        client.get()\n                .uri(&quot;/api/v2/hello&quot;)\n                .headers(Utilities.getHttpHeaders())\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody(BaseResponse.class);\n        ;\n    }\n}\n</code></pre>\n<p>However this test always fails with an error <code>The mapper returned a null Mono</code> and the following stack trace:</p>\n<pre><code>12:46:14.282 [parallel-1] DEBUG org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] HTTP GET &quot;/api/v2/hello&quot;\n12:46:14.334 [parallel-1] ERROR org.springframework.web.server.adapter.HttpWebHandlerAdapter - [73a1446b] 500 Server Error for HTTP GET &quot;/api/v2/hello&quot;\njava.lang.NullPointerException: The mapper returned a null Mono\n    at java.util.Objects.requireNonNull(Objects.java:228)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ HTTP GET &quot;/api/v2/hello&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at java.util.Objects.requireNonNull(Objects.java:228)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200)\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:431)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)\n        at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4457)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4393)\n        at org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$doConnect$2(HttpHandlerConnector.java:98)\n        at org.springframework.mock.http.client.reactive.MockClientHttpRequest.lambda$null$2(MockClientHttpRequest.java:124)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.FluxConcatIterable$ConcatIterableSubscriber.onComplete(FluxConcatIterable.java:147)\n        at reactor.core.publisher.FluxConcatIterable.subscribe(FluxConcatIterable.java:60)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.Mono.subscribeWith(Mono.java:4605)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4457)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4393)\n        at org.springframework.test.web.reactive.server.HttpHandlerConnector.doConnect(HttpHandlerConnector.java:112)\n        at org.springframework.test.web.reactive.server.HttpHandlerConnector.lambda$connect$0(HttpHandlerConnector.java:79)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:45)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n        at reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n        at java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\n        at java.util.concurrent.FutureTask.run(FutureTask.java)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n12:46:14.346 [parallel-1] DEBUG org.springframework.test.web.reactive.server.HttpHandlerConnector - Creating client response for  GET &quot;/api/v2/hello&quot;\n12:46:14.351 [parallel-1] DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions - [68105edc] [185decc2] Response 500 INTERNAL_SERVER_ERROR\n</code></pre>\n<p>But testing the api on postman it responds with a success:</p>\n<pre><code>{\n    &quot;responseCode&quot;: &quot;200&quot;,\n    &quot;responseMsg&quot;: &quot;Greeting&quot;,\n    &quot;detailedMsg&quot;: &quot;Greeting Success&quot;,\n    &quot;Data&quot;: {\n        &quot;message&quot;: &quot;Hello, Spring!&quot;\n    }\n}\n</code></pre>\n<p>Been stuck on this for a while now. How do I make this unit test pass by mocking the greeting service implementation. The Integration test also works by the way, am stuck on this unit test.</p>\n<p>For more context <code>greetingSvc</code> implementation is here:</p>\n<pre><code>\npublic Mono&lt;Greeting&gt; greetingFunction(){\n        return Mono.just(new Greeting(&quot;Hello, Spring!&quot;));\n    }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-commons-beanutils"],"owner":{"account_id":28975094,"reputation":3,"user_id":22194386,"display_name":"hunter man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690910538,"creation_date":1690910538,"question_id":76813941,"body_markdown":"Im using elastic search for data retrieval and so that I build my elastic queries using SearchRequest builder provided by elastic java api client. Problem is once the build method in Search Request is called it won&#39;t allow me to do a build once again. So I need to copy my source search request to a destination search request and play with it without touching source request.\r\nI tried using \r\n\r\n```\r\nSearchRequest.Builder dest = new SearchRequest.Builder();\r\nSearchRequest.Builder source = buildSourceQuery(); // I&#39;m building my search request in this method\r\nBeanUtils.copyProperties(dest, source);\r\nthis.elasticSearchClient.search(dest.build(), Product.class);\r\n```\r\n\r\n\r\nOn calling dest.build() method one of the field gets updated to true by elastic and it reflects in my source request as well with no option to set value for it. I need my source search request not be updated whenever dest is changed or updated.\r\n","title":"copy or clone source object to target object and source object changes java","body":"<p>Im using elastic search for data retrieval and so that I build my elastic queries using SearchRequest builder provided by elastic java api client. Problem is once the build method in Search Request is called it won't allow me to do a build once again. So I need to copy my source search request to a destination search request and play with it without touching source request.\nI tried using</p>\n<pre><code>SearchRequest.Builder dest = new SearchRequest.Builder();\nSearchRequest.Builder source = buildSourceQuery(); // I'm building my search request in this method\nBeanUtils.copyProperties(dest, source);\nthis.elasticSearchClient.search(dest.build(), Product.class);\n</code></pre>\n<p>On calling dest.build() method one of the field gets updated to true by elastic and it reflects in my source request as well with no option to set value for it. I need my source search request not be updated whenever dest is changed or updated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9860,"page":274,"page_size":100}
