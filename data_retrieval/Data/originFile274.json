{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":5,"creation_date":1337831895,"post_id":10730929,"comment_id":13939929,"body_markdown":"why not just return a `byte[]` from the method? It seems as though you&#39;re unnecessarily casting it to an `Object`.","body":"why not just return a <code>byte[]</code> from the method? It seems as though you&#39;re unnecessarily casting it to an <code>Object</code>."}],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1690847840,"creation_date":1337832118,"answer_id":10730968,"question_id":10730929,"body_markdown":"By looking at your code:\r\n\r\n- you don&#39;t need to upcast the return value to `Object`: since it&#39;s an upcast, it&#39;s implicitly done (a `byte[]` is statically also an `Object`)\r\n- you can easily cast an `Object` to a `byte[]` by using a specific downcast:\r\n```java\r\nbyte[] a = (byte[]) obj\r\n```\r\n- a method like yours that returns an `Object` is completely pointless, signatures are meant to be useful and informative. Returning an `Object` is the least informative thing that you can do. If your method is meant to return a `byte[]`, then its return value should be of `byte[]` type","title":"Cast an Object to ByteArray","body":"<p>By looking at your code:</p>\n<ul>\n<li>you don't need to upcast the return value to <code>Object</code>: since it's an upcast, it's implicitly done (a <code>byte[]</code> is statically also an <code>Object</code>)</li>\n<li>you can easily cast an <code>Object</code> to a <code>byte[]</code> by using a specific downcast:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] a = (byte[]) obj\n</code></pre>\n<ul>\n<li>a method like yours that returns an <code>Object</code> is completely pointless, signatures are meant to be useful and informative. Returning an <code>Object</code> is the least informative thing that you can do. If your method is meant to return a <code>byte[]</code>, then its return value should be of <code>byte[]</code> type</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1337835357,"creation_date":1337835357,"answer_id":10731371,"question_id":10730929,"body_markdown":"Here are 2 helper methods to get you to serialize and deserialize byte arrays as objects.\r\n\r\n    public static Object deserializeBytes(byte[] bytes) throws IOException, ClassNotFoundException\r\n    {\r\n        ByteArrayInputStream bytesIn = new ByteArrayInputStream(bytes);\r\n        ObjectInputStream ois = new ObjectInputStream(bytesIn);\r\n        Object obj = ois.readObject();\r\n        ois.close();\r\n        return obj;\r\n    }\r\n\r\n\r\n    public static byte[] serializeObject(Object obj) throws IOException\r\n    {\r\n        ByteArrayOutputStream bytesOut = new ByteArrayOutputStream();\r\n        ObjectOutputStream oos = new ObjectOutputStream(bytesOut);\r\n        oos.writeObject(obj);\r\n        oos.flush();\r\n        byte[] bytes = bytesOut.toByteArray();\r\n        bytesOut.close();\r\n        oos.close();\r\n        return bytes;\r\n    }","title":"Cast an Object to ByteArray","body":"<p>Here are 2 helper methods to get you to serialize and deserialize byte arrays as objects.</p>\n\n<pre><code>public static Object deserializeBytes(byte[] bytes) throws IOException, ClassNotFoundException\n{\n    ByteArrayInputStream bytesIn = new ByteArrayInputStream(bytes);\n    ObjectInputStream ois = new ObjectInputStream(bytesIn);\n    Object obj = ois.readObject();\n    ois.close();\n    return obj;\n}\n\n\npublic static byte[] serializeObject(Object obj) throws IOException\n{\n    ByteArrayOutputStream bytesOut = new ByteArrayOutputStream();\n    ObjectOutputStream oos = new ObjectOutputStream(bytesOut);\n    oos.writeObject(obj);\n    oos.flush();\n    byte[] bytes = bytesOut.toByteArray();\n    bytesOut.close();\n    oos.close();\n    return bytes;\n}\n</code></pre>\n"}],"owner":{"account_id":875897,"reputation":4293,"user_id":925552,"accept_rate":71,"display_name":"hkguile"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26079,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10731371,"answer_count":2,"score":5,"last_activity_date":1690900955,"creation_date":1337831801,"question_id":10730929,"body_markdown":"I&#39;ve got a function: \r\n\r\n```java\r\npublic static Object receviceSigAndData(Socket s) {\r\n    byte[] data = null;\r\n    try {\r\n        DataInputStream din2 = new DataInputStream(s.getInputStream());\r\n        int sig_len = 0;\r\n        sig_len = din2.readInt();\r\n        byte[] sig = new byte[sig_len];\r\n        din2.readFully(sig);\r\n        int data_len = 0;\r\n        data_len = din2.readInt();\r\n        data = new byte[data_len];\r\n        dsa.update(data);\r\n    } catch (IOException ioe) {\r\n        ioe.printStackTrace();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return (Object) data;\r\n}\r\n```\r\n\r\nThe function returns an `Object`. If the `Object` is a byte array, how do I cast the `Object` to `byte[]`?\r\n\r\n    byte[] b = (?)receviceSigAndData(socket);\r\n\r\nThanks","title":"Cast an Object to ByteArray","body":"<p>I've got a function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Object receviceSigAndData(Socket s) {\n    byte[] data = null;\n    try {\n        DataInputStream din2 = new DataInputStream(s.getInputStream());\n        int sig_len = 0;\n        sig_len = din2.readInt();\n        byte[] sig = new byte[sig_len];\n        din2.readFully(sig);\n        int data_len = 0;\n        data_len = din2.readInt();\n        data = new byte[data_len];\n        dsa.update(data);\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return (Object) data;\n}\n</code></pre>\n<p>The function returns an <code>Object</code>. If the <code>Object</code> is a byte array, how do I cast the <code>Object</code> to <code>byte[]</code>?</p>\n<pre><code>byte[] b = (?)receviceSigAndData(socket);\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","frontend","android-drawable"],"comments":[{"owner":{"account_id":1623866,"reputation":5200,"user_id":1499877,"accept_rate":86,"display_name":"WOUNDEDStevenJones"},"score":0,"creation_date":1690819334,"post_id":76805231,"comment_id":135402783,"body_markdown":"Per https://developer.android.com/guide/topics/resources/drawable-resource#BitmapFile that should work just fine. Your screenshot shows that your IDE isn&#39;t autocompleting the file name, but if you manually type it out does it work? Also, what does your IDE tell you about the red squiggly line under the file name if you hover over it?","body":"Per <a href=\"https://developer.android.com/guide/topics/resources/drawable-resource#BitmapFile\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/resources/&hellip;</a> that should work just fine. Your screenshot shows that your IDE isn&#39;t autocompleting the file name, but if you manually type it out does it work? Also, what does your IDE tell you about the red squiggly line under the file name if you hover over it?"},{"owner":{"account_id":21079686,"reputation":9,"user_id":15494291,"display_name":"Tangin Ahsan"},"score":0,"creation_date":1690819795,"post_id":76805231,"comment_id":135402880,"body_markdown":"it doesn&#39;t say anything...what&#39;s the problem here...how should i make image appear","body":"it doesn&#39;t say anything...what&#39;s the problem here...how should i make image appear"},{"owner":{"account_id":1623866,"reputation":5200,"user_id":1499877,"accept_rate":86,"display_name":"WOUNDEDStevenJones"},"score":0,"creation_date":1690820309,"post_id":76805231,"comment_id":135402974,"body_markdown":"Does this answer your question? [Drawable files name convention](https://stackoverflow.com/questions/49805803/drawable-files-name-convention)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49805803/drawable-files-name-convention\">Drawable files name convention</a>"}],"answers":[{"tags":[],"owner":{"account_id":28401463,"reputation":9,"user_id":21807410,"display_name":"fatoro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690823578,"creation_date":1690820018,"answer_id":76805413,"question_id":76805231,"body_markdown":"try to rename your Image-file.\r\nmake it lowercase and replace the &#39;-&#39; by &#39;_&#39;.\r\nThere is an error to the image which is caused by the name.\r\nf.e. name it like `register_button_black.png`.","title":"Picture showing error after being copied into drawable in android studio","body":"<p>try to rename your Image-file.\nmake it lowercase and replace the '-' by '_'.\nThere is an error to the image which is caused by the name.\nf.e. name it like <code>register_button_black.png</code>.</p>\n"}],"owner":{"account_id":21079686,"reputation":9,"user_id":15494291,"display_name":"Tangin Ahsan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690900883,"creation_date":1690818695,"question_id":76805231,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nAs you can see I want to add the register button image but it&#39;s not supporting....I copied the first image and pasted in drawable worked perfectly then I tried to copy the second one but its not showing. what&#39;s the problem? how should I solve this?\r\n\r\nI tried different images but same problem occurs...should i try to copy them at once or what?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DUCmh.png","title":"Picture showing error after being copied into drawable in android studio","body":"<p><a href=\"https://i.stack.imgur.com/DUCmh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DUCmh.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see I want to add the register button image but it's not supporting....I copied the first image and pasted in drawable worked perfectly then I tried to copy the second one but its not showing. what's the problem? how should I solve this?</p>\n<p>I tried different images but same problem occurs...should i try to copy them at once or what?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581846738,"creation_date":1581846738,"answer_id":60247281,"question_id":60247234,"body_markdown":"To be able to map your POJO class to the database, it needs to have the same variable names, also the instance variables are case sensitive. The problem is that in your database, you have `Name` and `Surname` with capital letter while in the POJO class you have them with lowercase letter.\r\n\r\nTherefore, you need to change your database to the following:\r\n\r\n```\r\n{\r\n  &quot;Users&quot; : {\r\n    &quot;01&quot; : {\r\n      &quot;name&quot; : &quot;Alex&quot;,\r\n      &quot;surname&quot; : &quot;Kyto&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"No setter/field found","body":"<p>To be able to map your POJO class to the database, it needs to have the same variable names, also the instance variables are case sensitive. The problem is that in your database, you have <code>Name</code> and <code>Surname</code> with capital letter while in the POJO class you have them with lowercase letter.</p>\n\n<p>Therefore, you need to change your database to the following:</p>\n\n<pre><code>{\n  \"Users\" : {\n    \"01\" : {\n      \"name\" : \"Alex\",\n      \"surname\" : \"Kyto\"\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1581847052,"creation_date":1581846745,"answer_id":60247282,"question_id":60247234,"body_markdown":"Change your `Users` property like below to match with **Firebase**. You database and POJO should align to work with.\r\n\r\n    public String Name, Surname; //Capitalize each property","title":"No setter/field found","body":"<p>Change your <code>Users</code> property like below to match with <strong>Firebase</strong>. You database and POJO should align to work with.</p>\n\n<pre><code>public String Name, Surname; //Capitalize each property\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16403509,"reputation":81,"user_id":11848738,"display_name":"Neeraj Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594284614,"creation_date":1594284614,"answer_id":62810990,"question_id":60247234,"body_markdown":"I was getting this error because I was accessing wrong variable(parent variable)\r\n\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                       list.add(snapshot.getValue(CategoryModel.class));\r\n                       // Here in list I should have added dataSnapshot.getValue(CategoryModel.class)\r\n                   }\r\n    \r\n                \r\n    }\r\nHope it helps.","title":"No setter/field found","body":"<p>I was getting this error because I was accessing wrong variable(parent variable)</p>\n<pre><code>public void onDataChange(@NonNull DataSnapshot snapshot) {\nfor (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                   list.add(snapshot.getValue(CategoryModel.class));\n                   // Here in list I should have added dataSnapshot.getValue(CategoryModel.class)\n               }\n\n            \n}\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3688,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1690900861,"creation_date":1581846402,"question_id":60247234,"body_markdown":"Hi everyone I try to retrieve data from Firebase dataset and I keep getting this error even tho I tried every single solution from StackOverflow and what I was able to find on Google but without any benefit. \r\n\r\nBelow I will link the Activity and the Class and the datasets. \r\n\r\nI&#39;m new to Android and I can&#39;t understand why is not working since some people solved the problem and I did the same thing but nothing worked. \r\n\r\nThank you in advance. \r\n\r\n\r\nCODE ACTIVITY\r\n\r\n    package com.example.ipill;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.ImageButton;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n\r\n    import com.firebase.ui.database.FirebaseRecyclerAdapter;\r\n\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.GenericTypeIndicator;\r\n    import com.google.firebase.database.Query;\r\n    import com.google.firebase.database.ValueEventListener;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n\r\n    public class FirebaseSearch extends AppCompatActivity {\r\n    \r\n        private EditText mSearchField;\r\n        private ImageButton mSearchBtn;\r\n    \r\n        private RecyclerView mResultList;\r\n    \r\n    \r\n    \r\n        private DatabaseReference mUserDatabase;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_firebasesearch);\r\n    \r\n            mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n    \r\n            mSearchField = (EditText) findViewById(R.id.search_field);\r\n    \r\n            mSearchBtn = findViewById(R.id.search_btn);\r\n            mResultList = (RecyclerView)findViewById(R.id.result_list);\r\n    \r\n            mResultList.setHasFixedSize(true);\r\n            mResultList.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            mSearchBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    String searchText = mSearchField.getText().toString();\r\n    \r\n                    firebaseUserSearch(searchText);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    \r\n        private void firebaseUserSearch(String searchText) {\r\n    \r\n            Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n            Query firebaseSearchQuery = mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\r\n    \r\n            FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\r\n    \r\n                    Users.class,\r\n                    R.layout.list_layout,\r\n                    UsersViewHolder.class,\r\n                    firebaseSearchQuery\r\n    \r\n            ) {\r\n                @Override\r\n                protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\r\n                    viewHolder.setDetails(model.getName(), model.getSurname());\r\n    \r\n                }\r\n            };\r\n    \r\n            mResultList.setAdapter(firebaseRecyclerAdapter);\r\n    \r\n        }\r\n    \r\n    \r\n        // View Holder Class\r\n    \r\n        public static class UsersViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            View mView;\r\n    \r\n            public UsersViewHolder(View itemView) {\r\n                super(itemView);\r\n                mView = itemView;\r\n    \r\n            }\r\n    \r\n            public void setDetails(String name, String surname) {\r\n    \r\n                TextView user_name = (TextView) mView.findViewById(R.id.name_text);\r\n                TextView user_surname = (TextView) mView.findViewById(R.id.status_text);\r\n    \r\n                user_name.setText(name);\r\n                user_surname.setText(surname);\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\nDATABASE:\r\n\r\n    {\r\n      &quot;Users&quot; : {\r\n        &quot;01&quot; : {\r\n          &quot;Name&quot; : &quot;Alex&quot;,\r\n          &quot;Surname&quot; : &quot;Kyto&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nThe problem that I have:\r\n\r\n   No setter/field for Surname found on class com.example.ipill.Users (fields/setters are case \r\n    sensitive!)\r\n    No setter/field for Name found on class com.example.ipill.Users (fields/setters are case sensitive!)\r\n  \r\n**Model CLASS**\r\n\r\n    package com.example.ipill;\r\n    \r\n    public class Users {\r\n    \r\n        public String name, surname;\r\n    \r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    \r\n        public String getSurname() {\r\n            return surname;\r\n        }\r\n    \r\n    \r\n        public void setSurname(String surname) {\r\n            this.surname = surname;\r\n        }\r\n    \r\n    \r\n        public Users(String name, String surname, String status) {\r\n            this.name = name;\r\n            this.surname = surname;\r\n    \r\n        }\r\n    \r\n        public Users(){\r\n    \r\n        }\r\n    \r\n    } \r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Zd6z.png","title":"No setter/field found","body":"<p>Hi everyone I try to retrieve data from Firebase dataset and I keep getting this error even tho I tried every single solution from StackOverflow and what I was able to find on Google but without any benefit.</p>\n<p>Below I will link the Activity and the Class and the datasets.</p>\n<p>I'm new to Android and I can't understand why is not working since some people solved the problem and I did the same thing but nothing worked.</p>\n<p>Thank you in advance.</p>\n<p>CODE ACTIVITY</p>\n<pre><code>package com.example.ipill;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.GenericTypeIndicator;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class FirebaseSearch extends AppCompatActivity {\n\n    private EditText mSearchField;\n    private ImageButton mSearchBtn;\n\n    private RecyclerView mResultList;\n\n\n\n    private DatabaseReference mUserDatabase;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_firebasesearch);\n\n        mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\n        mSearchField = (EditText) findViewById(R.id.search_field);\n\n        mSearchBtn = findViewById(R.id.search_btn);\n        mResultList = (RecyclerView)findViewById(R.id.result_list);\n\n        mResultList.setHasFixedSize(true);\n        mResultList.setLayoutManager(new LinearLayoutManager(this));\n\n        mSearchBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String searchText = mSearchField.getText().toString();\n\n                firebaseUserSearch(searchText);\n\n            }\n        });\n\n\n    }\n\n    private void firebaseUserSearch(String searchText) {\n\n        Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\n\n        Query firebaseSearchQuery = mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\n\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\n\n                Users.class,\n                R.layout.list_layout,\n                UsersViewHolder.class,\n                firebaseSearchQuery\n\n        ) {\n            @Override\n            protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\n                viewHolder.setDetails(model.getName(), model.getSurname());\n\n            }\n        };\n\n        mResultList.setAdapter(firebaseRecyclerAdapter);\n\n    }\n\n\n    // View Holder Class\n\n    public static class UsersViewHolder extends RecyclerView.ViewHolder {\n\n        View mView;\n\n        public UsersViewHolder(View itemView) {\n            super(itemView);\n            mView = itemView;\n\n        }\n\n        public void setDetails(String name, String surname) {\n\n            TextView user_name = (TextView) mView.findViewById(R.id.name_text);\n            TextView user_surname = (TextView) mView.findViewById(R.id.status_text);\n\n            user_name.setText(name);\n            user_surname.setText(surname);\n\n\n        }\n\n    }\n}\n</code></pre>\n<p>DATABASE:</p>\n<pre><code>{\n  &quot;Users&quot; : {\n    &quot;01&quot; : {\n      &quot;Name&quot; : &quot;Alex&quot;,\n      &quot;Surname&quot; : &quot;Kyto&quot;\n    }\n  }\n}\n</code></pre>\n<p>The problem that I have:</p>\n<p>No setter/field for Surname found on class com.example.ipill.Users (fields/setters are case\nsensitive!)\nNo setter/field for Name found on class com.example.ipill.Users (fields/setters are case sensitive!)</p>\n<p><strong>Model CLASS</strong></p>\n<pre><code>package com.example.ipill;\n\npublic class Users {\n\n    public String name, surname;\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n    public String getSurname() {\n        return surname;\n    }\n\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n\n    public Users(String name, String surname, String status) {\n        this.name = name;\n        this.surname = surname;\n\n    }\n\n    public Users(){\n\n    }\n\n} \n</code></pre>\n"},{"tags":["java","xml"],"owner":{"account_id":24808949,"reputation":548,"user_id":18690626,"display_name":"eaidy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690900816,"creation_date":1690879227,"question_id":76809895,"body_markdown":"I&#39;m having an issue on getting child nodes of a tag from a parsed XML document. There are a few module tags inside the XML and these modules have child elements that respresents the module spesific data structures.\r\n\r\n```java\r\nDocument nonBasicDoc = FO.parseXML(&lt;XMLUrl&gt;);\r\nNodeList moduleList = nonBasicDoc.getElementsByTagName(&quot;module&quot;);\r\nNodeList moduleChildNodes = Utility.getElementByAttribute(moduleList, &quot;name&quot;, ModuleName).getChildNodes();\r\n```\r\n\r\nFO is my File Operations class, it uses Java parse API.\r\n\r\nOn the last line of this code, the statement should return the child nodes of the module but it&#39;s returning the module node itself.\r\n\r\nFor confidential reasons that&#39;s all I can share, but if anything like this is a common incident, I would like to hear some options.\r\n","title":"getChildNodes() does not returning child nodes but the parent node itself","body":"<p>I'm having an issue on getting child nodes of a tag from a parsed XML document. There are a few module tags inside the XML and these modules have child elements that respresents the module spesific data structures.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document nonBasicDoc = FO.parseXML(&lt;XMLUrl&gt;);\nNodeList moduleList = nonBasicDoc.getElementsByTagName(&quot;module&quot;);\nNodeList moduleChildNodes = Utility.getElementByAttribute(moduleList, &quot;name&quot;, ModuleName).getChildNodes();\n</code></pre>\n<p>FO is my File Operations class, it uses Java parse API.</p>\n<p>On the last line of this code, the statement should return the child nodes of the module but it's returning the module node itself.</p>\n<p>For confidential reasons that's all I can share, but if anything like this is a common incident, I would like to hear some options.</p>\n"},{"tags":["java","kubernetes","amazon-eks","ipv6","kubernetes-nodeport"],"comments":[{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":2,"creation_date":1690376132,"post_id":76767215,"comment_id":135344642,"body_markdown":"I would assume they meanb the Unspecified address `::` for IPv6 or `0.0.0.0` for IPv4.","body":"I would assume they meanb the Unspecified address <code>::</code> for IPv6 or <code>0.0.0.0</code> for IPv4."}],"answers":[{"tags":[],"owner":{"account_id":9183646,"reputation":1851,"user_id":6826691,"accept_rate":72,"display_name":"user6826691"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690900691,"creation_date":1690900691,"answer_id":76812751,"question_id":76767215,"body_markdown":"I resolved the issue, by passing an env variable to use ipv4 address, What i understood is that, its detecting ipv6 from containerd because i believe ipv6 is default. \r\nIn jenkins used: `-Djava.net.preferIPv4Stack=true` and also for all deployments, I could not find any other solution.\r\n\r\nMade sure, our cni\r\n\r\n       - name: ENABLE_IPv4\r\n          value: &quot;true&quot;\r\n        - name: ENABLE_IPv6\r\n          value: &quot;false&quot;\r\n\r\n","title":"How do i bind to all ip-address?","body":"<p>I resolved the issue, by passing an env variable to use ipv4 address, What i understood is that, its detecting ipv6 from containerd because i believe ipv6 is default.\nIn jenkins used: <code>-Djava.net.preferIPv4Stack=true</code> and also for all deployments, I could not find any other solution.</p>\n<p>Made sure, our cni</p>\n<pre><code>   - name: ENABLE_IPv4\n      value: &quot;true&quot;\n    - name: ENABLE_IPv6\n      value: &quot;false&quot;\n</code></pre>\n"}],"owner":{"account_id":9183646,"reputation":1851,"user_id":6826691,"accept_rate":72,"display_name":"user6826691"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690900691,"creation_date":1690329861,"question_id":76767215,"body_markdown":"I&#39;m working on upgrading our eks cluster from 1.23 to 1.27. Some of the applications are failing because of the below error\r\n\r\n    Failed creating artifactory: java.net.ConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:8080\r\n    Failed creating archiva: java.net.ConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:8080\r\n\r\n\r\nService:\r\n\r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: xxx\r\n      labels:\r\n        app: abc\r\n        heritage: &quot;Tiller&quot;\r\n        chart: &quot;jenkins-0.0.1&quot;\r\n        component: &quot;jenkins-master&quot;\r\n      annotations:\r\n    spec:\r\n      ports:\r\n        - port: 80\r\n          name: http\r\n          targetPort: 8080\r\n      selector:\r\n        component: &quot;jenkins-master&quot;\r\n      type: NodePort\r\n\r\n\r\nThis error looks like its resolving to ipv6 loopback address, AWS docs mention that i should bind to all ipaddress , How do i do? \r\nI tried disabling the ipv6 on the nodes, but i&#39;m still getting the same error.\r\n\r\n&gt; Containerd has IPv6 enabled for Pods, by default. It applies node\r\n&gt; kernel settings to Pod network namespaces. Because of this, containers\r\n&gt; in a Pod bind to both IPv4 (127.0.0.1) and IPv6 (::1) loopback\r\n&gt; addresses. IPv6 is the default protocol for communication. Before\r\n&gt; updating your cluster to version 1.24, we recommend that you test your\r\n&gt; multi-container Pods. Modify apps so that they can bind to all IP\r\n&gt; addresses on loopback interfaces. The majority of libraries enable\r\n&gt; IPv6 binding, which is backward compatible with IPv4. When it’s not\r\n&gt; possible to modify your application code, you have two options:\r\n&gt; \r\n&gt; Run an init container and set disable ipv6 to true (sysctl -w\r\n&gt; net.ipv6.conf.all.disable ipv6=1).","title":"How do i bind to all ip-address?","body":"<p>I'm working on upgrading our eks cluster from 1.23 to 1.27. Some of the applications are failing because of the below error</p>\n<pre><code>Failed creating artifactory: java.net.ConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:8080\nFailed creating archiva: java.net.ConnectException: Connection refused: localhost/0:0:0:0:0:0:0:1:8080\n</code></pre>\n<p>Service:</p>\n<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: xxx\n  labels:\n    app: abc\n    heritage: &quot;Tiller&quot;\n    chart: &quot;jenkins-0.0.1&quot;\n    component: &quot;jenkins-master&quot;\n  annotations:\nspec:\n  ports:\n    - port: 80\n      name: http\n      targetPort: 8080\n  selector:\n    component: &quot;jenkins-master&quot;\n  type: NodePort\n</code></pre>\n<p>This error looks like its resolving to ipv6 loopback address, AWS docs mention that i should bind to all ipaddress , How do i do?\nI tried disabling the ipv6 on the nodes, but i'm still getting the same error.</p>\n<blockquote>\n<p>Containerd has IPv6 enabled for Pods, by default. It applies node\nkernel settings to Pod network namespaces. Because of this, containers\nin a Pod bind to both IPv4 (127.0.0.1) and IPv6 (::1) loopback\naddresses. IPv6 is the default protocol for communication. Before\nupdating your cluster to version 1.24, we recommend that you test your\nmulti-container Pods. Modify apps so that they can bind to all IP\naddresses on loopback interfaces. The majority of libraries enable\nIPv6 binding, which is backward compatible with IPv4. When it’s not\npossible to modify your application code, you have two options:</p>\n<p>Run an init container and set disable ipv6 to true (sysctl -w\nnet.ipv6.conf.all.disable ipv6=1).</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","testing","selenium-chromedriver","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690853231,"creation_date":1690853231,"answer_id":76807987,"question_id":76807873,"body_markdown":"1. Did you try to open chromedriver manually. See [here](https://support.apple.com/zh-cn/guide/security/sec5599b66df/web) and [here](https://support.apple.com/zh-cn/HT202491).\r\n2. [Disable Gatekeeper on macOS](https://disable-gatekeeper.github.io/), but I don&#39;t know if this works on your Mac version, since I don&#39;t know Mac, you can try google [mac disable Gatekeeper](https://www.google.com/search?q=mac%20disable%20Gatekeeper%20&amp;ie=UTF-8).\r\n\r\n**NOTE**: *If you try the second option, turn on Gatekeeper after you are done testing!!!*\r\n\r\nHope to help you.\r\n\r\n\r\n","title":"Unable to figure out Java/Selenium ChromeDriver download","body":"<ol>\n<li>Did you try to open chromedriver manually. See <a href=\"https://support.apple.com/zh-cn/guide/security/sec5599b66df/web\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://support.apple.com/zh-cn/HT202491\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li><a href=\"https://disable-gatekeeper.github.io/\" rel=\"nofollow noreferrer\">Disable Gatekeeper on macOS</a>, but I don't know if this works on your Mac version, since I don't know Mac, you can try google <a href=\"https://www.google.com/search?q=mac%20disable%20Gatekeeper%20&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">mac disable Gatekeeper</a>.</li>\n</ol>\n<p><strong>NOTE</strong>: <em>If you try the second option, turn on Gatekeeper after you are done testing!!!</em></p>\n<p>Hope to help you.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690879985,"creation_date":1690879985,"answer_id":76810001,"question_id":76807873,"body_markdown":"Selenium `v4.11.0` has been released yesterday(31-Jul23). This version can do the driver management automatically even for chrome browser `v115`, without setting the PATH(`System.setProperty`).\r\n\r\n**Solution:** Just upgrade to Selenium `v4.11.0` and use the simple code as below:\r\n````\r\npublic static void main(String[] args)  {\r\n\r\n\tWebDriver driver = new ChromeDriver();\r\n\tdriver.manage().window().maximize();\r\n\tdriver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\r\n\r\n}\r\n````","title":"Unable to figure out Java/Selenium ChromeDriver download","body":"<p>Selenium <code>v4.11.0</code> has been released yesterday(31-Jul23). This version can do the driver management automatically even for chrome browser <code>v115</code>, without setting the PATH(<code>System.setProperty</code>).</p>\n<p><strong>Solution:</strong> Just upgrade to Selenium <code>v4.11.0</code> and use the simple code as below:</p>\n<pre><code>public static void main(String[] args)  {\n\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":29132496,"reputation":1,"user_id":22317405,"display_name":"Stephen Talbot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690900445,"creation_date":1690850644,"question_id":76807873,"body_markdown":"New to automated testing and trying to learn from an outdated Udemy Course. Please help me! I am brand new to this and my google searching is becoming redundant/unhelpful due to my lack of understanding. \r\n\r\nCurrently on Chrome version 115.0.5790.114 and am using the chromedriver_mac_arm64 for my M1 Macbook Pro (using the last 114 version as another thread suggested on StackOverflow). Everything that I download for 115 and above does not have an exe file for Selenium to recognzie. I tried to Run the Java class with a main and System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/_____/Docs/chromedriver&quot;); \r\nand am getting a &#39;can’t be opened because Apple cannot check it for malicious software.&#39; error. \r\n\r\nUpdate : Fixed. All that was needed was to &#39;open&#39; the exe file and let it run for a few minutes, and trusting the downloaded file from the internet. I still thank Apple for their enhanced security. ","title":"Unable to figure out Java/Selenium ChromeDriver download","body":"<p>New to automated testing and trying to learn from an outdated Udemy Course. Please help me! I am brand new to this and my google searching is becoming redundant/unhelpful due to my lack of understanding.</p>\n<p>Currently on Chrome version 115.0.5790.114 and am using the chromedriver_mac_arm64 for my M1 Macbook Pro (using the last 114 version as another thread suggested on StackOverflow). Everything that I download for 115 and above does not have an exe file for Selenium to recognzie. I tried to Run the Java class with a main and System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/_____/Docs/chromedriver&quot;);\nand am getting a 'can’t be opened because Apple cannot check it for malicious software.' error.</p>\n<p>Update : Fixed. All that was needed was to 'open' the exe file and let it run for a few minutes, and trusting the downloaded file from the internet. I still thank Apple for their enhanced security.</p>\n"},{"tags":["java","okhttp","socks"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1690823278,"post_id":76772846,"comment_id":135403521,"body_markdown":"What version of Java are you using?","body":"What version of Java are you using?"},{"owner":{"account_id":416550,"reputation":59,"user_id":792002,"accept_rate":75,"display_name":"Zizma"},"score":0,"creation_date":1690902899,"post_id":76772846,"comment_id":135416290,"body_markdown":"I&#39;m using Java 17","body":"I&#39;m using Java 17"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1690940391,"post_id":76772846,"comment_id":135421801,"body_markdown":"And dependencies version?","body":"And dependencies version?"},{"owner":{"account_id":416550,"reputation":59,"user_id":792002,"accept_rate":75,"display_name":"Zizma"},"score":0,"creation_date":1691033670,"post_id":76772846,"comment_id":135436779,"body_markdown":"It&#39;s OkHTTP 3.14.9","body":"It&#39;s OkHTTP 3.14.9"}],"owner":{"account_id":416550,"reputation":59,"user_id":792002,"accept_rate":75,"display_name":"Zizma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690899742,"creation_date":1690385122,"question_id":76772846,"body_markdown":"I&#39;m trying to get SOCKS5 proxy working with authentication in OkHTTP.\r\n\r\nAuthentication works fine for HTTP proxies using the following code:\r\n\r\n```java\r\nproxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;host&quot;, 1000));\r\n\r\nAuthenticator proxyAuthenticator = new Authenticator() {\r\n    @Override\r\n    public Request authenticate(Route route, Response response) throws IOException {\r\n        String credential = Credentials.basic(&quot;username&quot;, &quot;password&quot;);\r\n        return response.request().newBuilder()\r\n                                 .header(&quot;Proxy-Authorization&quot;, credential)\r\n                                 .build();\r\n        }\r\n    };\r\n\r\n    client = defaultClient(key, timeout)\r\n        .newBuilder()\r\n        .proxyAuthenticator(proxyAuthenticator)\r\n        .proxy(proxy)\r\n        .build();\r\n}\r\n```\r\n\r\nBut when using `Proxy.Type.SOCKS` it throws `java.net.SocketException: SOCKS : authentication failed`.\r\n\r\nI&#39;ve found a few SO ([1](https://stackoverflow.com/questions/35554380/okhttpclient-proxy-authentication-how-to), [2](https://stackoverflow.com/questions/40011055/how-can-i-use-socks5-proxy-in-okhttp-to-start-http-request)) and GitHub [answers](https://github.com/square/okhttp/issues/1773) on the topic but none have a working code example.","title":"SOCKS5 authentication with OkHTTP fails","body":"<p>I'm trying to get SOCKS5 proxy working with authentication in OkHTTP.</p>\n<p>Authentication works fine for HTTP proxies using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;host&quot;, 1000));\n\nAuthenticator proxyAuthenticator = new Authenticator() {\n    @Override\n    public Request authenticate(Route route, Response response) throws IOException {\n        String credential = Credentials.basic(&quot;username&quot;, &quot;password&quot;);\n        return response.request().newBuilder()\n                                 .header(&quot;Proxy-Authorization&quot;, credential)\n                                 .build();\n        }\n    };\n\n    client = defaultClient(key, timeout)\n        .newBuilder()\n        .proxyAuthenticator(proxyAuthenticator)\n        .proxy(proxy)\n        .build();\n}\n</code></pre>\n<p>But when using <code>Proxy.Type.SOCKS</code> it throws <code>java.net.SocketException: SOCKS : authentication failed</code>.</p>\n<p>I've found a few SO (<a href=\"https://stackoverflow.com/questions/35554380/okhttpclient-proxy-authentication-how-to\">1</a>, <a href=\"https://stackoverflow.com/questions/40011055/how-can-i-use-socks5-proxy-in-okhttp-to-start-http-request\">2</a>) and GitHub <a href=\"https://github.com/square/okhttp/issues/1773\" rel=\"nofollow noreferrer\">answers</a> on the topic but none have a working code example.</p>\n"},{"tags":["java","android","fragment"],"answers":[{"tags":[],"owner":{"account_id":29090501,"reputation":1,"user_id":22284492,"display_name":"parwez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690899235,"creation_date":1690899235,"answer_id":76812553,"question_id":76811610,"body_markdown":"Basically, I was using RESULT_OK in fragment , But i should use Activity.RESULT_OK.\r\nby doing this i got the correct output .","title":"i m trying to get permission of gallery and camera from the user and want to show that on the profile fragment","body":"<p>Basically, I was using RESULT_OK in fragment , But i should use Activity.RESULT_OK.\nby doing this i got the correct output .</p>\n"}],"owner":{"account_id":29090501,"reputation":1,"user_id":22284492,"display_name":"parwez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690899530,"creation_date":1690892812,"question_id":76811610,"body_markdown":"trying to get permission from the user of gallery and camera want to display that on the fragment but getting resultCode -1 and even cannot get the  onRequestPermissionResult code there. **Getting the result code -1 and RESULT_OK is 0** showing there why ? that lead to break this code... \r\n\r\n&gt; this is the profile fragment xml code and want to put the image on the idprofile that is inside the diagonallayout\r\n&gt; \r\n\r\nthis is the main Activity on which the fragments are showing\r\n```\r\npackage com.example.funsta;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.View;\r\n\r\nimport com.example.funsta.Fragment.HomeFragment;\r\nimport com.example.funsta.Fragment.NotificationsFragment;\r\nimport com.example.funsta.Fragment.PostFragment;\r\nimport com.example.funsta.Fragment.ProfileFragment;\r\nimport com.example.funsta.Fragment.SearchFragment;\r\nimport com.iammert.library.readablebottombar.ReadableBottomBar;\r\n\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    public ReadableBottomBar readableBottomBar;\r\n    Toolbar toolbar;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        MainActivity.this.setTitle(&quot;My profiles&quot;);\r\n\r\n        toolbar.setVisibility(View.GONE);\r\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n        transaction.replace(R.id.container, new HomeFragment());\r\n        transaction.commit();\r\n        readableBottomBar = findViewById(R.id.readableButtomBar);\r\n        readableBottomBar.setOnItemSelectListener(new ReadableBottomBar.ItemSelectListener() {\r\n            @Override\r\n            public void onItemSelected(int i) {\r\n\r\n                FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n\r\n                switch (i) {\r\n\r\n                    case 0:\r\n                        toolbar.setVisibility(View.GONE);\r\n                        transaction.replace(R.id.container, new HomeFragment());\r\n                        break;\r\n                    case 1:\r\n                        toolbar.setVisibility(View.GONE);\r\n                        transaction.replace(R.id.container, new NotificationsFragment());\r\n                        break;\r\n                    case 2:\r\n                        toolbar.setVisibility(View.GONE);\r\n                        transaction.replace(R.id.container, new PostFragment());\r\n                        break;\r\n                    case 3:\r\n                        toolbar.setVisibility(View.GONE);\r\n                        transaction.replace(R.id.container, new SearchFragment());\r\n                        break;\r\n                    case 4:\r\n                        toolbar.setVisibility(View.VISIBLE);\r\n                        transaction.replace(R.id.container, new ProfileFragment());\r\n                        break;\r\n                }\r\n                transaction.commit();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_items, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        \r\n        new ProfileFragment().onRequestPermissionsResult(requestCode,permissions,grantResults);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:diagonal=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Fragment.ProfileFragment&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/linearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.github.florent37.diagonallayout.DiagonalLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;@dimen/_210mdp&quot;\r\n            diagonal:diagonal_angle=&quot;10&quot;\r\n            diagonal:diagonal_direction=&quot;left&quot;\r\n            diagonal:diagonal_position=&quot;bottom&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/idProfile&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:scaleType=&quot;centerCrop&quot;\r\n                android:src=&quot;@drawable/profile_image&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view6&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/black_shades&quot; /&gt;\r\n\r\n        &lt;/com.github.florent37.diagonallayout.DiagonalLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=&quot;@+id/profile_image&quot;\r\n        android:layout_width=&quot;@dimen/_70mdp&quot;\r\n        android:layout_height=&quot;@dimen/_70mdp&quot;\r\n        android:src=&quot;@drawable/profile_image&quot;\r\n        app:civ_border_color=&quot;@color/white&quot;\r\n        app:civ_border_width=&quot;5dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/linearLayout&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/linearLayout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/linearLayout&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/changeCoverPhoto&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        android:src=&quot;@drawable/image&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/linearLayout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/view7&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;@drawable/add_circle&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView5&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/imageView5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/imageView5&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/imageView5&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/checked&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.9&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.9&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:fontFamily=&quot;@font/acme&quot;\r\n        android:text=&quot;Parwez&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;@dimen/_16mdp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Andriod Devleoper&quot;\r\n        android:textSize=&quot;@dimen/_14mdp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/textView3&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/addFriendView&quot;\r\n        android:layout_width=&quot;@dimen/_30mdp&quot;\r\n        android:layout_height=&quot;@dimen/_30mdp&quot;\r\n        android:layout_marginTop=&quot;@dimen/_8mdp&quot;\r\n        android:layout_marginRight=&quot;32dp&quot;\r\n        android:background=&quot;@drawable/circle&quot;\r\n        android:backgroundTint=&quot;#0474FB&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/commentView&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/commentView&quot;\r\n        android:layout_width=&quot;@dimen/_30mdp&quot;\r\n        android:layout_height=&quot;@dimen/_30mdp&quot;\r\n        android:layout_marginTop=&quot;@dimen/_8mdp&quot;\r\n        android:layout_marginRight=&quot;32dp&quot;\r\n        android:background=&quot;@drawable/circle&quot;\r\n        android:backgroundTint=&quot;#F4511E&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/callView&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/addFriendView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/callView&quot;\r\n        android:layout_width=&quot;@dimen/_30mdp&quot;\r\n        android:layout_height=&quot;@dimen/_30mdp&quot;\r\n        android:layout_marginTop=&quot;@dimen/_8mdp&quot;\r\n        android:background=&quot;@drawable/circle&quot;\r\n        android:backgroundTint=&quot;#04AA0C&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/commentView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/add_friend&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/addFriendView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/addFriendView&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.66&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/addFriendView&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/addFriendView&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.47000003&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView7&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/comment&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/commentView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/commentView&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/commentView&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/commentView&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView8&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/call&quot;\r\n\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/callView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/callView&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/callView&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/callView&quot; /&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/cardView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;\r\n        app:cardElevation=&quot;5dp&quot;\r\n        app:cardMaxElevation=&quot;5dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/commentView&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:paddingStart=&quot;8dp&quot;\r\n            android:paddingTop=&quot;4dp&quot;\r\n            android:paddingEnd=&quot;4dp&quot;\r\n            android:paddingBottom=&quot;4dp&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView9&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;4dp&quot;\r\n                android:text=&quot;Followers&quot;\r\n                android:textSize=&quot;@dimen/_14mdp&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/view12&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView12&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;460&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/_16mdp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView9&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView9&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView9&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view12&quot;\r\n                android:layout_width=&quot;1dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:background=&quot;@color/material_dynamic_neutral70&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/textView10&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/textView9&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/textView9&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView10&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Friends&quot;\r\n                android:textSize=&quot;@dimen/_14mdp&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/view13&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/view12&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/view12&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView13&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;120&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/_16mdp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView10&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView10&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView10&quot; /&gt;\r\n\r\n            &lt;View\r\n                android:id=&quot;@+id/view13&quot;\r\n                android:layout_width=&quot;1dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;8dp&quot;\r\n                android:background=&quot;@color/material_dynamic_neutral70&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/textView11&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/textView10&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/textView10&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView11&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Photos&quot;\r\n                android:textSize=&quot;@dimen/_14mdp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/view13&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/view13&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView14&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;10&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;@dimen/_14mdp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView11&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView11&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView11&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView5&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:fontFamily=&quot;@font/adamina&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;@string/thought&quot;\r\n        android:textColor=&quot;@color/black&quot;\r\n        android:textSize=&quot;@dimen/_13mdp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;14dp&quot;\r\n        android:fontFamily=&quot;@font/acme&quot;\r\n        android:text=&quot;My Connections&quot;\r\n        android:textColor=&quot;@android:color/black&quot;\r\n        android:textSize=&quot;@dimen/_16mdp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/textView5&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView5&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/friendRv&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView6&quot;\r\n        /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nthis is profile Fragment \r\n```\r\npackage com.example.funsta.Fragment;\r\n\r\nimport static android.app.appsearch.AppSearchResult.RESULT_OK;\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.funsta.Adapter.friendAdapter;\r\nimport com.example.funsta.Model.friendModel;\r\nimport com.example.funsta.R;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\nimport java.util.Objects;\r\n\r\npublic class ProfileFragment extends Fragment {\r\n\r\n    private Bitmap selectedImg;\r\n    public static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 101;\r\n    public ActivityResultLauncher&lt;Intent&gt; ActivityResultSelectImg;\r\n\r\n    RecyclerView friendRv;\r\n    ArrayList&lt;friendModel&gt; friendList;\r\n    ImageView changeCoverPic, idProfile;\r\n\r\n    FirebaseAuth auth;\r\n    FirebaseStorage storage;\r\n\r\n    public ProfileFragment(){\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        auth = FirebaseAuth.getInstance();\r\n        storage = FirebaseStorage.getInstance();\r\n\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n\r\n        View view = inflater.inflate(R.layout.fragment_profile, container, false);\r\n        friendRv = view.findViewById(R.id.friendRv);\r\n        friendList = new ArrayList&lt;&gt;();\r\n        changeCoverPic = view.findViewById(R.id.changeCoverPhoto);\r\n        idProfile = view.findViewById(R.id.idProfile);\r\n        registerActivityForSelectImg();\r\n        friendList.add(new friendModel(R.drawable.inaya));\r\n        friendList.add(new friendModel(R.drawable.profile_image));\r\n        friendList.add(new friendModel(R.drawable.inaya));\r\n        friendList.add(new friendModel(R.drawable.profile_image));\r\n        friendList.add(new friendModel(R.drawable.inaya));\r\n        friendList.add(new friendModel(R.drawable.profile_image));\r\n        friendList.add(new friendModel(R.drawable.inaya));\r\n        friendList.add(new friendModel(R.drawable.profile_image));\r\n        friendList.add(new friendModel(R.drawable.profile));\r\n\r\n        friendAdapter adapter = new friendAdapter(getContext(), friendList);\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false);\r\n        friendRv.setLayoutManager(layoutManager);\r\n        friendRv.setAdapter(adapter);\r\n\r\n\r\n        changeCoverPic.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if (ActivityCompat.checkSelfPermission(Objects.requireNonNull(getContext()), android.Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                        != PackageManager.PERMISSION_GRANTED) {\r\n                   requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CAMERA},REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n                } else {\r\n                    Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                    //startActivityForResult(galleryIntent, REQUEST_PICK_IMAGE);\r\n                    ActivityResultSelectImg.launch(galleryIntent);\r\n                    Log.d(&quot;incoverpic&quot;,&quot;correct&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    public void registerActivityForSelectImg(){\r\n\r\n\r\n        ActivityResultSelectImg = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n\r\n                        int resultCode = result.getResultCode();\r\n                        Intent data  = result .getData();\r\n                        Log.d(&quot;incoverpic&quot;,&quot;result &quot;+ resultCode+&quot; &quot;+data +&quot; &quot;);\r\n                        if(resultCode == RESULT_OK &amp;&amp; data !=null){\r\n                            try {\r\n                                selectedImg = MediaStore.Images.Media.getBitmap(getActivity().getContentResolver(),data.getData());\r\n                                idProfile.setImageBitmap(selectedImg);\r\n\r\n                            } catch (IOException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\ni went through the stackoverflow soln but not getting any help","title":"i m trying to get permission of gallery and camera from the user and want to show that on the profile fragment","body":"<p>trying to get permission from the user of gallery and camera want to display that on the fragment but getting resultCode -1 and even cannot get the  onRequestPermissionResult code there. <strong>Getting the result code -1 and RESULT_OK is 0</strong> showing there why ? that lead to break this code...</p>\n<blockquote>\n<p>this is the profile fragment xml code and want to put the image on the idprofile that is inside the diagonallayout</p>\n</blockquote>\n<p>this is the main Activity on which the fragments are showing</p>\n<pre><code>package com.example.funsta;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.View;\n\nimport com.example.funsta.Fragment.HomeFragment;\nimport com.example.funsta.Fragment.NotificationsFragment;\nimport com.example.funsta.Fragment.PostFragment;\nimport com.example.funsta.Fragment.ProfileFragment;\nimport com.example.funsta.Fragment.SearchFragment;\nimport com.iammert.library.readablebottombar.ReadableBottomBar;\n\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    public ReadableBottomBar readableBottomBar;\n    Toolbar toolbar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        MainActivity.this.setTitle(&quot;My profiles&quot;);\n\n        toolbar.setVisibility(View.GONE);\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.replace(R.id.container, new HomeFragment());\n        transaction.commit();\n        readableBottomBar = findViewById(R.id.readableButtomBar);\n        readableBottomBar.setOnItemSelectListener(new ReadableBottomBar.ItemSelectListener() {\n            @Override\n            public void onItemSelected(int i) {\n\n                FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n\n                switch (i) {\n\n                    case 0:\n                        toolbar.setVisibility(View.GONE);\n                        transaction.replace(R.id.container, new HomeFragment());\n                        break;\n                    case 1:\n                        toolbar.setVisibility(View.GONE);\n                        transaction.replace(R.id.container, new NotificationsFragment());\n                        break;\n                    case 2:\n                        toolbar.setVisibility(View.GONE);\n                        transaction.replace(R.id.container, new PostFragment());\n                        break;\n                    case 3:\n                        toolbar.setVisibility(View.GONE);\n                        transaction.replace(R.id.container, new SearchFragment());\n                        break;\n                    case 4:\n                        toolbar.setVisibility(View.VISIBLE);\n                        transaction.replace(R.id.container, new ProfileFragment());\n                        break;\n                }\n                transaction.commit();\n            }\n        });\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_items, menu);\n        return true;\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        \n        new ProfileFragment().onRequestPermissionsResult(requestCode,permissions,grantResults);\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:diagonal=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Fragment.ProfileFragment&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.github.florent37.diagonallayout.DiagonalLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;@dimen/_210mdp&quot;\n            diagonal:diagonal_angle=&quot;10&quot;\n            diagonal:diagonal_direction=&quot;left&quot;\n            diagonal:diagonal_position=&quot;bottom&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/idProfile&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                android:src=&quot;@drawable/profile_image&quot; /&gt;\n\n            &lt;View\n                android:id=&quot;@+id/view6&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/black_shades&quot; /&gt;\n\n        &lt;/com.github.florent37.diagonallayout.DiagonalLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n        android:id=&quot;@+id/profile_image&quot;\n        android:layout_width=&quot;@dimen/_70mdp&quot;\n        android:layout_height=&quot;@dimen/_70mdp&quot;\n        android:src=&quot;@drawable/profile_image&quot;\n        app:civ_border_color=&quot;@color/white&quot;\n        app:civ_border_width=&quot;5dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/linearLayout&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/linearLayout&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/linearLayout&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/changeCoverPhoto&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:src=&quot;@drawable/image&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/linearLayout&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/view7&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;@drawable/add_circle&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/imageView5&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/imageView5&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/imageView5&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/imageView5&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/checked&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/profile_image&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/profile_image&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.9&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/profile_image&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/profile_image&quot;\n        app:layout_constraintVertical_bias=&quot;0.9&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:fontFamily=&quot;@font/acme&quot;\n        android:text=&quot;Parwez&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;@dimen/_16mdp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/profile_image&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/profile_image&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Andriod Devleoper&quot;\n        android:textSize=&quot;@dimen/_14mdp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/textView3&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/textView3&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView3&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/addFriendView&quot;\n        android:layout_width=&quot;@dimen/_30mdp&quot;\n        android:layout_height=&quot;@dimen/_30mdp&quot;\n        android:layout_marginTop=&quot;@dimen/_8mdp&quot;\n        android:layout_marginRight=&quot;32dp&quot;\n        android:background=&quot;@drawable/circle&quot;\n        android:backgroundTint=&quot;#0474FB&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/commentView&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintHorizontal_chainStyle=&quot;packed&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/commentView&quot;\n        android:layout_width=&quot;@dimen/_30mdp&quot;\n        android:layout_height=&quot;@dimen/_30mdp&quot;\n        android:layout_marginTop=&quot;@dimen/_8mdp&quot;\n        android:layout_marginRight=&quot;32dp&quot;\n        android:background=&quot;@drawable/circle&quot;\n        android:backgroundTint=&quot;#F4511E&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/callView&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/addFriendView&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\n\n    &lt;View\n        android:id=&quot;@+id/callView&quot;\n        android:layout_width=&quot;@dimen/_30mdp&quot;\n        android:layout_height=&quot;@dimen/_30mdp&quot;\n        android:layout_marginTop=&quot;@dimen/_8mdp&quot;\n        android:background=&quot;@drawable/circle&quot;\n        android:backgroundTint=&quot;#04AA0C&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/commentView&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/add_friend&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/addFriendView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/addFriendView&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.66&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/addFriendView&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/addFriendView&quot;\n        app:layout_constraintVertical_bias=&quot;0.47000003&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView7&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/comment&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/commentView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/commentView&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/commentView&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/commentView&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView8&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/call&quot;\n\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/callView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/callView&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/callView&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/callView&quot; /&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        app:cardCornerRadius=&quot;10dp&quot;\n        app:cardElevation=&quot;5dp&quot;\n        app:cardMaxElevation=&quot;5dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/commentView&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:paddingStart=&quot;8dp&quot;\n            android:paddingTop=&quot;4dp&quot;\n            android:paddingEnd=&quot;4dp&quot;\n            android:paddingBottom=&quot;4dp&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView9&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginTop=&quot;4dp&quot;\n                android:text=&quot;Followers&quot;\n                android:textSize=&quot;@dimen/_14mdp&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/view12&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView12&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;460&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;@dimen/_16mdp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView9&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView9&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView9&quot; /&gt;\n\n            &lt;View\n                android:id=&quot;@+id/view12&quot;\n                android:layout_width=&quot;1dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:background=&quot;@color/material_dynamic_neutral70&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/textView10&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/textView9&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/textView9&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView10&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Friends&quot;\n                android:textSize=&quot;@dimen/_14mdp&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/view13&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/view12&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/view12&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView13&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;120&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;@dimen/_16mdp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView10&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView10&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView10&quot; /&gt;\n\n            &lt;View\n                android:id=&quot;@+id/view13&quot;\n                android:layout_width=&quot;1dp&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_marginTop=&quot;8dp&quot;\n                android:layout_marginBottom=&quot;8dp&quot;\n                android:background=&quot;@color/material_dynamic_neutral70&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/textView11&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/textView10&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/textView10&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView11&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Photos&quot;\n                android:textSize=&quot;@dimen/_14mdp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/view13&quot;\n                app:layout_constraintTop_toTopOf=&quot;@+id/view13&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView14&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;10&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;@dimen/_14mdp&quot;\n                android:textStyle=&quot;bold&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView11&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/textView11&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView11&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView5&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:fontFamily=&quot;@font/adamina&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/thought&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;@dimen/_13mdp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;14dp&quot;\n        android:fontFamily=&quot;@font/acme&quot;\n        android:text=&quot;My Connections&quot;\n        android:textColor=&quot;@android:color/black&quot;\n        android:textSize=&quot;@dimen/_16mdp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/textView5&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView5&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/friendRv&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView6&quot;\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>this is profile Fragment</p>\n<pre><code>package com.example.funsta.Fragment;\n\nimport static android.app.appsearch.AppSearchResult.RESULT_OK;\nimport static android.content.ContentValues.TAG;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Bitmap;\nimport android.net.Uri;\nimport android.os.Bundle;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.example.funsta.Adapter.friendAdapter;\nimport com.example.funsta.Model.friendModel;\nimport com.example.funsta.R;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.io.IOException;\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.Objects;\n\npublic class ProfileFragment extends Fragment {\n\n    private Bitmap selectedImg;\n    public static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 101;\n    public ActivityResultLauncher&lt;Intent&gt; ActivityResultSelectImg;\n\n    RecyclerView friendRv;\n    ArrayList&lt;friendModel&gt; friendList;\n    ImageView changeCoverPic, idProfile;\n\n    FirebaseAuth auth;\n    FirebaseStorage storage;\n\n    public ProfileFragment(){\n\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        auth = FirebaseAuth.getInstance();\n        storage = FirebaseStorage.getInstance();\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n\n        View view = inflater.inflate(R.layout.fragment_profile, container, false);\n        friendRv = view.findViewById(R.id.friendRv);\n        friendList = new ArrayList&lt;&gt;();\n        changeCoverPic = view.findViewById(R.id.changeCoverPhoto);\n        idProfile = view.findViewById(R.id.idProfile);\n        registerActivityForSelectImg();\n        friendList.add(new friendModel(R.drawable.inaya));\n        friendList.add(new friendModel(R.drawable.profile_image));\n        friendList.add(new friendModel(R.drawable.inaya));\n        friendList.add(new friendModel(R.drawable.profile_image));\n        friendList.add(new friendModel(R.drawable.inaya));\n        friendList.add(new friendModel(R.drawable.profile_image));\n        friendList.add(new friendModel(R.drawable.inaya));\n        friendList.add(new friendModel(R.drawable.profile_image));\n        friendList.add(new friendModel(R.drawable.profile));\n\n        friendAdapter adapter = new friendAdapter(getContext(), friendList);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false);\n        friendRv.setLayoutManager(layoutManager);\n        friendRv.setAdapter(adapter);\n\n\n        changeCoverPic.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if (ActivityCompat.checkSelfPermission(Objects.requireNonNull(getContext()), android.Manifest.permission.READ_EXTERNAL_STORAGE)\n                        != PackageManager.PERMISSION_GRANTED) {\n                   requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CAMERA},REQUEST_ID_MULTIPLE_PERMISSIONS);\n                } else {\n                    Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                    //startActivityForResult(galleryIntent, REQUEST_PICK_IMAGE);\n                    ActivityResultSelectImg.launch(galleryIntent);\n                    Log.d(&quot;incoverpic&quot;,&quot;correct&quot;);\n                }\n            }\n        });\n\n\n        return view;\n    }\n\n    public void registerActivityForSelectImg(){\n\n\n        ActivityResultSelectImg = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n\n                        int resultCode = result.getResultCode();\n                        Intent data  = result .getData();\n                        Log.d(&quot;incoverpic&quot;,&quot;result &quot;+ resultCode+&quot; &quot;+data +&quot; &quot;);\n                        if(resultCode == RESULT_OK &amp;&amp; data !=null){\n                            try {\n                                selectedImg = MediaStore.Images.Media.getBitmap(getActivity().getContentResolver(),data.getData());\n                                idProfile.setImageBitmap(selectedImg);\n\n                            } catch (IOException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    }\n                });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n\n    }\n}\n</code></pre>\n<p>i went through the stackoverflow soln but not getting any help</p>\n"},{"tags":["java","performance","join","solr","nosql"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1690907243,"post_id":76812543,"comment_id":135417140,"body_markdown":"If they are parent/child-documents, you can use the child transformer or other existing parent/child support: https://solr.apache.org/guide/solr/latest/query-guide/searching-nested-documents.html - otherwise, the _absolutely_ easiest way to do this is to index everything as a single document (i.e. merge parent + child to a single document when indexing and not when searching - do as much work as possible up front).","body":"If they are parent/child-documents, you can use the child transformer or other existing parent/child support: <a href=\"https://solr.apache.org/guide/solr/latest/query-guide/searching-nested-documents.html\" rel=\"nofollow noreferrer\">solr.apache.org/guide/solr/latest/query-guide/&hellip;</a> - otherwise, the <i>absolutely</i> easiest way to do this is to index everything as a single document (i.e. merge parent + child to a single document when indexing and not when searching - do as much work as possible up front)."},{"owner":{"account_id":200690,"reputation":26410,"user_id":446681,"display_name":"Hector Correa"},"score":0,"creation_date":1690920655,"post_id":76812543,"comment_id":135419559,"body_markdown":"Another approach is to use Result Grouping (https://solr.apache.org/guide/solr/latest/query-guide/result-grouping.html)...it is NOT like a traditional join, but it can help you group documents together.","body":"Another approach is to use Result Grouping (<a href=\"https://solr.apache.org/guide/solr/latest/query-guide/result-grouping.html)...it\" rel=\"nofollow noreferrer\">solr.apache.org/guide/solr/latest/query-guide/&hellip;</a> is NOT like a traditional join, but it can help you group documents together."},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1690961927,"post_id":76812543,"comment_id":135424128,"body_markdown":"@MatsLindh good catch! Thank you, but the issue is that we have many documents already stored. Other ideas?","body":"@MatsLindh good catch! Thank you, but the issue is that we have many documents already stored. Other ideas?"},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1690962116,"post_id":76812543,"comment_id":135424168,"body_markdown":"@HectorCorrea I don&#39;t think result grouping is a good idea because we need to make it possible for the UI to figure out where the parent and child documents are. (One-to-Many relationship). The grouping will constantly split results set by provided field, right?","body":"@HectorCorrea I don&#39;t think result grouping is a good idea because we need to make it possible for the UI to figure out where the parent and child documents are. (One-to-Many relationship). The grouping will constantly split results set by provided field, right?"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1690971219,"post_id":76812543,"comment_id":135426212,"body_markdown":"The child transformer is probably the way to go then; in your question you said `1 to 1` relationship, but you mentioned 1:M here - so if you can&#39;t index your content in another way, I&#39;d start there at least. But consider reindexing your existing content to fit with your query and faceting requirements in the future.","body":"The child transformer is probably the way to go then; in your question you said <code>1 to 1</code> relationship, but you mentioned 1:M here - so if you can&#39;t index your content in another way, I&#39;d start there at least. But consider reindexing your existing content to fit with your query and faceting requirements in the future."},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1691051318,"post_id":76812543,"comment_id":135439929,"body_markdown":"@MatsLindh Do I understand correctly, the parent/child transformer is only possible when you make embedding before the save the document, right? Thanks.","body":"@MatsLindh Do I understand correctly, the parent/child transformer is only possible when you make embedding before the save the document, right? Thanks."},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1691051443,"post_id":76812543,"comment_id":135439964,"body_markdown":"so like some kind of de-normalization and after you operate this documents?","body":"so like some kind of de-normalization and after you operate this documents?"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1691056900,"post_id":76812543,"comment_id":135441188,"body_markdown":"@AlexanderTsukanov Good point, yes, I think you&#39;d have to do that, so then you&#39;re back to having to reindex. The streaming expressions API should be an option even if you don&#39;t reindex - https://solr.apache.org/guide/solr/latest/query-guide/stream-decorator-reference.html#innerjoin","body":"@AlexanderTsukanov Good point, yes, I think you&#39;d have to do that, so then you&#39;re back to having to reindex. The streaming expressions API should be an option even if you don&#39;t reindex - <a href=\"https://solr.apache.org/guide/solr/latest/query-guide/stream-decorator-reference.html#innerjoin\" rel=\"nofollow noreferrer\">solr.apache.org/guide/solr/latest/query-guide/&hellip;</a>"},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1691067245,"post_id":76812543,"comment_id":135443350,"body_markdown":"@MatsLindh I have tried simple function `?expr=search(some_collection,q=*:*, fl=&quot;id&quot;, sort=&quot;id asc&quot;)` and got \n`\n{\n    &quot;result-set&quot;: {\n        &quot;docs&quot;: [\n            {\n                &quot;EXCEPTION&quot;: &quot;org.apache.solr.common.SolrException: java.net.UnknownHostException: null: Name or service not known&quot;,\n                &quot;EOF&quot;: true,\n                &quot;RESPONSE_TIME&quot;: 6\n            }\n        ]\n    }\n}\n`","body":"@MatsLindh I have tried simple function <code>?expr=search(some_collection,q=*:*, fl=&quot;id&quot;, sort=&quot;id asc&quot;)</code> and got  ` {     &quot;result-set&quot;: {         &quot;docs&quot;: [             {                 &quot;EXCEPTION&quot;: &quot;org.apache.solr.common.SolrException: java.net.UnknownHostException: null: Name or service not known&quot;,                 &quot;EOF&quot;: true,                 &quot;RESPONSE_TIME&quot;: 6             }         ]     } } `"},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1691067295,"post_id":76812543,"comment_id":135443359,"body_markdown":"Dot not understand where the problem is.","body":"Dot not understand where the problem is."},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1691070447,"post_id":76812543,"comment_id":135444125,"body_markdown":"Are you running in SolrCloud mode or standalone?","body":"Are you running in SolrCloud mode or standalone?"},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1691070983,"post_id":76812543,"comment_id":135444267,"body_markdown":"@MatsLindh good question. Where I can check that?","body":"@MatsLindh good question. Where I can check that?"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1691071110,"post_id":76812543,"comment_id":135444309,"body_markdown":"It&#39;ll usually be visible in the Admin interface - quickest way is to see if there are collections listed (solrcloud) or cores (standalone).","body":"It&#39;ll usually be visible in the Admin interface - quickest way is to see if there are collections listed (solrcloud) or cores (standalone)."},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1691071768,"post_id":76812543,"comment_id":135444472,"body_markdown":"@MatsLindh looks like they are listed as cores. I don&#39;t see some &quot;solrcloud_&quot; prefix or smth like that.","body":"@MatsLindh looks like they are listed as cores. I don&#39;t see some &quot;solrcloud_&quot; prefix or smth like that."},{"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"score":0,"creation_date":1691073378,"post_id":76812543,"comment_id":135444872,"body_markdown":"@MatsLindh any other possible options?","body":"@MatsLindh any other possible options?"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1691135413,"post_id":76812543,"comment_id":135453582,"body_markdown":"Not that I could think of; as far as i remember blockjoins needs to be indexed together/have proper nest paths / roots set as well. You&#39;ll probably have to reindex your content in some way to get what you&#39;re looking for.","body":"Not that I could think of; as far as i remember blockjoins needs to be indexed together/have proper nest paths / roots set as well. You&#39;ll probably have to reindex your content in some way to get what you&#39;re looking for."}],"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690899176,"creation_date":1690899176,"question_id":76812543,"body_markdown":"I have two data structures in Solr representing parent-child (or 1 to 1) relationships, and I need to perform a join operation on these structures based on the fields. I understand that Solr doesn&#39;t directly support traditional joins like relational databases, but I&#39;m looking for a way to achieve this join using Solr&#39;s built-in capabilities. e.g. include one document into another. \r\n\r\nIs there a way to perform the join between these structures using Solr&#39;s regular join feature? If so, could you provide an example query or steps on how to set it up?\r\n\r\n**Both documents are in the same core (collection).**\r\n\r\nAny assistance in achieving this join operation would be greatly appreciated. Thank you!\r\n\r\nI&#39;m currently attempting to perform a join operation in Solr using the {!join} query parser with the syntax {!join from=child_id to=parent_id}child_id:(&quot;111&quot;). However, this approach doesn&#39;t seem to produce the expected results.\r\n\r\nAfter some investigation, I discovered that Solr&#39;s join works differently, as explained in the official documentation here: https://solr.apache.org/guide/solr/latest/query-guide/join-query-parser.html.\r\n\r\nI&#39;m seeking assistance from the community to understand the correct way to perform a join using Solr&#39;s join query parser. Could someone provide an example or guide me on how to correctly set up the join operation based on the &quot;child_id&quot; and &quot;parent_id&quot; fields?\r\n\r\nAny help or insights would be greatly appreciated. Thank you!","title":"How to Perform a Join Operation in Solr Using Regular Join Feature or what is the best practice for that?","body":"<p>I have two data structures in Solr representing parent-child (or 1 to 1) relationships, and I need to perform a join operation on these structures based on the fields. I understand that Solr doesn't directly support traditional joins like relational databases, but I'm looking for a way to achieve this join using Solr's built-in capabilities. e.g. include one document into another.</p>\n<p>Is there a way to perform the join between these structures using Solr's regular join feature? If so, could you provide an example query or steps on how to set it up?</p>\n<p><strong>Both documents are in the same core (collection).</strong></p>\n<p>Any assistance in achieving this join operation would be greatly appreciated. Thank you!</p>\n<p>I'm currently attempting to perform a join operation in Solr using the {!join} query parser with the syntax {!join from=child_id to=parent_id}child_id:(&quot;111&quot;). However, this approach doesn't seem to produce the expected results.</p>\n<p>After some investigation, I discovered that Solr's join works differently, as explained in the official documentation here: <a href=\"https://solr.apache.org/guide/solr/latest/query-guide/join-query-parser.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/guide/solr/latest/query-guide/join-query-parser.html</a>.</p>\n<p>I'm seeking assistance from the community to understand the correct way to perform a join using Solr's join query parser. Could someone provide an example or guide me on how to correctly set up the join operation based on the &quot;child_id&quot; and &quot;parent_id&quot; fields?</p>\n<p>Any help or insights would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","kubernetes","query-string","kubernetes-ingress","nginx-ingress"],"comments":[{"owner":{"account_id":7134465,"reputation":938,"user_id":5454632,"display_name":"m303945"},"score":1,"creation_date":1690900960,"post_id":76812486,"comment_id":135415886,"body_markdown":"you dont need regex part. requests starts with /accountManagement/v4/partyAccount redirected to pods as it is. then in application side you can process query params.","body":"you dont need regex part. requests starts with /accountManagement/v4/partyAccount redirected to pods as it is. then in application side you can process query params."}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690898786,"creation_date":1690898786,"question_id":76812486,"body_markdown":"Good morning, I currently have a microservice developed in java that has the following url made up of queryParameters:\r\n\r\n    https://localhost:8080/accountManagement/v4/partyAccount?nationalIdType=CI&amp;nationalId=7315412&amp;x-correlator=12345678\r\n\r\n\r\nNow I have to expose said microservice in Kubernetes through an nginx-ingress, however, I have the question of how I am going to apply the rule for this case, since it is the first time that I work with a case like this\r\n\r\nIt must be something like this, but I have doubts:\r\n\r\n    apiVersion: networking.k8s.io/v1\r\n    kind: Ingress\r\n    metadata:\r\n      name: ingress-develop\r\n      namespace: develop\r\n      annotations: \r\n        nginx.ingress.kubernetes.io/backend-protocol: &quot;HTTPS&quot;\r\n        nginx.ingress.kubernetes.io/use-regex: &quot;true&quot;\r\n        nginx.ingress.kubernetes.io/proxy-connect-timeout: &quot;20&quot;\r\n    spec:\r\n      ingressClassName: nginx-dev\r\n      tls: \r\n        - secretName: srvdevma1-ssl\r\n      rules:\r\n      - http:\r\n          paths:\r\n          - path: /accountManagement/v4/partyAccount?{*}\r\n            pathType: Prefix\r\n            backend:\r\n              service:\r\n                name: find-customer-accounts-list-by-doc-id\r\n                port:\r\n                  number: 8080      \r\n\r\nIs this how I am proposing it or is something else missing?","title":"Add rule to ingress ngnix with query parameters in service","body":"<p>Good morning, I currently have a microservice developed in java that has the following url made up of queryParameters:</p>\n<pre><code>https://localhost:8080/accountManagement/v4/partyAccount?nationalIdType=CI&amp;nationalId=7315412&amp;x-correlator=12345678\n</code></pre>\n<p>Now I have to expose said microservice in Kubernetes through an nginx-ingress, however, I have the question of how I am going to apply the rule for this case, since it is the first time that I work with a case like this</p>\n<p>It must be something like this, but I have doubts:</p>\n<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: ingress-develop\n  namespace: develop\n  annotations: \n    nginx.ingress.kubernetes.io/backend-protocol: &quot;HTTPS&quot;\n    nginx.ingress.kubernetes.io/use-regex: &quot;true&quot;\n    nginx.ingress.kubernetes.io/proxy-connect-timeout: &quot;20&quot;\nspec:\n  ingressClassName: nginx-dev\n  tls: \n    - secretName: srvdevma1-ssl\n  rules:\n  - http:\n      paths:\n      - path: /accountManagement/v4/partyAccount?{*}\n        pathType: Prefix\n        backend:\n          service:\n            name: find-customer-accounts-list-by-doc-id\n            port:\n              number: 8080      \n</code></pre>\n<p>Is this how I am proposing it or is something else missing?</p>\n"},{"tags":["java","selenium-webdriver","exception","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690880853,"creation_date":1690880853,"answer_id":76810122,"question_id":76809993,"body_markdown":"Try applying selenium&#39;s [Waits](https://www.selenium.dev/documentation/webdriver/waits/). Below code uses `ExplicitWait` to locate the desired element:\r\n````\r\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(text(),&#39;STEP3 Orientation&#39;)]&quot;))).getText();\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(@class,&#39;pageTitle&#39;)]&quot;))).getText();\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(.,&#39;STEP3 Orientation&#39;)]&quot;))).getText();\r\n````\r\n\r\nImports:\r\n````\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n````","title":"Searching the xpath in html code, highlights the exact path which is need, but inside the code it is not working","body":"<p>Try applying selenium's <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">Waits</a>. Below code uses <code>ExplicitWait</code> to locate the desired element:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(text(),'STEP3 Orientation')]&quot;))).getText();\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(@class,'pageTitle')]&quot;))).getText();\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[contains(.,'STEP3 Orientation')]&quot;))).getText();\n</code></pre>\n<p>Imports:</p>\n<pre><code>import org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n</code></pre>\n"}],"owner":{"account_id":29134885,"reputation":3,"user_id":22319289,"display_name":"ithi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76810122,"answer_count":1,"score":0,"last_activity_date":1690898594,"creation_date":1690879924,"question_id":76809993,"body_markdown":"Here is the exception I am getting while running the  code:\r\n\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[contains(.,&#39;STEP3 Orientation&#39;)]&quot;}\r\n  (Session info: chrome=115.0.5790.110)\r\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\r\nBuild info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.7&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [3b7c5c64e8bf5a509fa70a6b5f095c21, findElement {using=xpath, value=//span[contains(.,&#39;STEP3 Orientation&#39;)]}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 115.0.5790.110, chrome: {chromedriverVersion: 114.0.5735.90 (386bc09e8f4f..., userDataDir: C:\\Users\\User\\AppData\\Local...}, goog:chromeOptions: {debuggerAddress: localhost:61749}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:61749/devtoo..., se:cdpVersion: 115.0.5790.110, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 3b7c5c64e8bf5a509fa70a6b5f095c21\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:199)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:132)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:51)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:350)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\r\n\tat Selenium.Demo1.main(Demo1.java:30)\r\n\r\n\r\nI am trying to fetch the details using the following xpath:\r\n//driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;STEP3 Orientation&#39;)]&quot;)).getText();\r\n//driver.findElement(By.xpath(&quot;//span[contains(@class,&#39;pageTitle&#39;)]&quot;)).getText();\r\n//driver.findElement(By.xpath(&quot;//span[contains(.,&#39;STEP3 Orientation&#39;)]&quot;)).getText();\r\n```\r\n\r\nFor all 3 xpath, I am getting the NoSuchElementException\r\n\r\n[html code](https://i.stack.imgur.com/VemoF.png)\r\n[Searching the xpath in html code, highlights the exact path which is need](https://i.stack.imgur.com/Kj0GR.png)\r\nSearching the xpath in html code, highlights the exact path which is need, but inside the code it is not working.","title":"Searching the xpath in html code, highlights the exact path which is need, but inside the code it is not working","body":"<p>Here is the exception I am getting while running the  code:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[contains(.,'STEP3 Orientation')]&quot;}\n  (Session info: chrome=115.0.5790.110)\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.7'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [3b7c5c64e8bf5a509fa70a6b5f095c21, findElement {using=xpath, value=//span[contains(.,'STEP3 Orientation')]}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 115.0.5790.110, chrome: {chromedriverVersion: 114.0.5735.90 (386bc09e8f4f..., userDataDir: C:\\Users\\User\\AppData\\Local...}, goog:chromeOptions: {debuggerAddress: localhost:61749}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:61749/devtoo..., se:cdpVersion: 115.0.5790.110, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 3b7c5c64e8bf5a509fa70a6b5f095c21\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:199)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:132)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:51)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:191)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:196)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:171)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:350)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\n    at Selenium.Demo1.main(Demo1.java:30)\n\n\nI am trying to fetch the details using the following xpath:\n//driver.findElement(By.xpath(&quot;//span[contains(text(),'STEP3 Orientation')]&quot;)).getText();\n//driver.findElement(By.xpath(&quot;//span[contains(@class,'pageTitle')]&quot;)).getText();\n//driver.findElement(By.xpath(&quot;//span[contains(.,'STEP3 Orientation')]&quot;)).getText();\n</code></pre>\n<p>For all 3 xpath, I am getting the NoSuchElementException</p>\n<p><a href=\"https://i.stack.imgur.com/VemoF.png\" rel=\"nofollow noreferrer\">html code</a>\n<a href=\"https://i.stack.imgur.com/Kj0GR.png\" rel=\"nofollow noreferrer\">Searching the xpath in html code, highlights the exact path which is need</a>\nSearching the xpath in html code, highlights the exact path which is need, but inside the code it is not working.</p>\n"},{"tags":["java","android","xml","android-studio","layout"],"answers":[{"tags":[],"owner":{"account_id":24064338,"reputation":46,"user_id":18041142,"display_name":"Patsore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651178830,"creation_date":1651178525,"answer_id":72049990,"question_id":72049822,"body_markdown":"Caused by: java.lang.ArrayIndexOutOfBoundsException: length=8; index=8 at java.util.Arrays$ArrayList.get(Arrays.java:3769) at me.solo_team.futureleader.ui.news.NewsFragment.onCreateView(NewsFragment.java:62)\r\nHere&#39;s the real reason for the crash ^\r\n\r\nIt seems to me that your \r\n```Java\r\nfor(int i =0;i&lt;9;i++){\r\n            addElement(uris.get(i),names.get(i));\r\n        }\r\n```\r\ntries to get an item that is out of bounds. \r\nIt should be i&lt;8, because while your list seems to have 8 entries (length = 8 in the exception), they start at 0 (0,1,2...6,7 for a total of 8 entries), so i=8 and i=9 will be out of bounds.\r\n\r\nYou could also set i&lt;uris.size(), that should also prevent crashing if the length of your uris and names lists are the same\r\n","title":"Binary XML file line #20: Error inflating class fragment","body":"<p>Caused by: java.lang.ArrayIndexOutOfBoundsException: length=8; index=8 at java.util.Arrays$ArrayList.get(Arrays.java:3769) at me.solo_team.futureleader.ui.news.NewsFragment.onCreateView(NewsFragment.java:62)\nHere's the real reason for the crash ^</p>\n<p>It seems to me that your</p>\n<pre><code>for(int i =0;i&lt;9;i++){\n            addElement(uris.get(i),names.get(i));\n        }\n</code></pre>\n<p>tries to get an item that is out of bounds.\nIt should be i&lt;8, because while your list seems to have 8 entries (length = 8 in the exception), they start at 0 (0,1,2...6,7 for a total of 8 entries), so i=8 and i=9 will be out of bounds.</p>\n<p>You could also set i&lt;uris.size(), that should also prevent crashing if the length of your uris and names lists are the same</p>\n"},{"tags":[],"owner":{"account_id":346833,"reputation":6288,"user_id":680583,"accept_rate":50,"display_name":"rmirabelle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651181701,"creation_date":1651181701,"answer_id":72050468,"question_id":72049822,"body_markdown":"Crashes of this type are often misleading, as you&#39;re only seeing the most recent (or least recent) exception in LogCat.  \r\n\r\nWhenever I encounter a bug that causes an app crash, I INTENTIONALLY ignore the first crash and repeat the previous behavior to trigger a second crash.  Then suddenly, LogCat reports the exception completely differently, typically pointed at the correct source of the error.  Yes, it&#39;s the very definition of insanity, as you&#39;re repeating the same behavior, but getting different results. But this is Android.  Insanity comes baked in.","title":"Binary XML file line #20: Error inflating class fragment","body":"<p>Crashes of this type are often misleading, as you're only seeing the most recent (or least recent) exception in LogCat.</p>\n<p>Whenever I encounter a bug that causes an app crash, I INTENTIONALLY ignore the first crash and repeat the previous behavior to trigger a second crash.  Then suddenly, LogCat reports the exception completely differently, typically pointed at the correct source of the error.  Yes, it's the very definition of insanity, as you're repeating the same behavior, but getting different results. But this is Android.  Insanity comes baked in.</p>\n"}],"owner":{"account_id":22374362,"reputation":3,"user_id":18980429,"display_name":"sweettie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72049990,"answer_count":2,"score":0,"last_activity_date":1690898405,"creation_date":1651177620,"question_id":72049822,"body_markdown":"I want to add an object to LinearLayout, but it throws an error\r\nError line: at me.solo_team.futureleader.ui.news.NewsFragment.onCreateView(NewsFragment.java:62)\r\n( addElement(uris.get(i),names.get(i));)\r\n\r\n\r\nNewsFragment\r\n```\r\n    private LayoutInflater inflater;\r\n    private ViewGroup container;\r\n    private LinearLayout nw;\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View root = inflater.inflate(R.layout.fragment_news, container, false);\r\n        nw = root.findViewById(R.id.news_list);\r\n        this.inflater = inflater;\r\n        this.container = container;\r\n        List&lt;String&gt; uris = Arrays.asList(\r\n           // links...\r\n);\r\n        List&lt;String&gt; names = Arrays.asList(\r\n             // names                                 \r\n);\r\n        for(int i =0;i&lt;9;i++){\r\n            addElement(uris.get(i),names.get(i));\r\n        }\r\n        return root;\r\n    }\r\n\r\n    private void addElement(String uri,String name){\r\n        FrameLayout row = (FrameLayout) inflater.inflate(R.layout.news_news, container,false);\r\n        ConstraintLayout cn = row.findViewById(R.id.news_obj);\r\n        Picasso.get().load(uri).into((ImageView)cn.getChildAt(1));\r\n        ((TextView)cn.getChildAt(2)).setText(name);\r\n        nw.addView(row);\r\n    }\r\n```\r\n\r\nfragment_news:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.news.NewsFragment&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/news_list&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/androidx.core.widget.NestedScrollView&gt;\r\n```\r\n\r\nmews_news.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/news_obj&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;180dp&quot;\r\n    android:layout_margin=&quot;15dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    app:contentPadding=&quot;10dp&quot;&gt;\r\n\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/gray_gradient_with_corners&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/news_obj_image&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginRight=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/gray_gradient_with_corners&quot;\r\n        android:src=&quot;@drawable/gray_gradient&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/news_obj_name&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/news_obj_name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:autoSizeMaxTextSize=&quot;20sp&quot;\r\n        android:autoSizeMinTextSize=&quot;12sp&quot;\r\n        android:autoSizeStepGranularity=&quot;2sp&quot;\r\n        android:autoSizeTextType=&quot;uniform&quot;\r\n        android:text=&quot;news text&quot;\r\n        android:textColor=&quot;@color/text_color1&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/news_obj&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;@id/news_obj&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nERROR:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: me.solo_team.futureleader, PID: 23516\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{me.solo_team.futureleader/me.solo_team.futureleader.MainActivity}: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class fragment\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n         Caused by: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class fragment\r\n         Caused by: android.view.InflateException: Binary XML file line #20: Error inflating class fragment\r\n         Caused by: java.lang.ArrayIndexOutOfBoundsException: length=8; index=8\r\n            at java.util.Arrays$ArrayList.get(Arrays.java:3769)\r\n            at me.solo_team.futureleader.ui.news.NewsFragment.onCreateView(NewsFragment.java:62)\r\n            at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\r\n            at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\r\n            at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n            at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\r\n            at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\r\n            at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\r\n            at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:3065)\r\n            at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2988)\r\n            at androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:392)\r\n            at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:281)\r\n            at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:140)\r\n            at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\r\n            at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\r\n            at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:780)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:706)\r\n            at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n            at me.solo_team.futureleader.MainActivity.onCreate(MainActivity.java:24)\r\n            at android.app.Activity.performCreate(Activity.java:7136)\r\n            at android.app.Activity.performCreate(Activity.java:7127)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\r\n    E/AndroidRuntime:     at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:193)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\r\n","title":"Binary XML file line #20: Error inflating class fragment","body":"<p>I want to add an object to LinearLayout, but it throws an error\nError line: at me.solo_team.futureleader.ui.news.NewsFragment.onCreateView(NewsFragment.java:62)\n( addElement(uris.get(i),names.get(i));)</p>\n<p>NewsFragment</p>\n<pre><code>    private LayoutInflater inflater;\n    private ViewGroup container;\n    private LinearLayout nw;\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n        View root = inflater.inflate(R.layout.fragment_news, container, false);\n        nw = root.findViewById(R.id.news_list);\n        this.inflater = inflater;\n        this.container = container;\n        List&lt;String&gt; uris = Arrays.asList(\n           // links...\n);\n        List&lt;String&gt; names = Arrays.asList(\n             // names                                 \n);\n        for(int i =0;i&lt;9;i++){\n            addElement(uris.get(i),names.get(i));\n        }\n        return root;\n    }\n\n    private void addElement(String uri,String name){\n        FrameLayout row = (FrameLayout) inflater.inflate(R.layout.news_news, container,false);\n        ConstraintLayout cn = row.findViewById(R.id.news_obj);\n        Picasso.get().load(uri).into((ImageView)cn.getChildAt(1));\n        ((TextView)cn.getChildAt(2)).setText(name);\n        nw.addView(row);\n    }\n</code></pre>\n<p>fragment_news:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.core.widget.NestedScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.news.NewsFragment&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/news_list&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>mews_news.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/news_obj&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;180dp&quot;\n    android:layout_margin=&quot;15dp&quot;\n    android:orientation=&quot;vertical&quot;\n    app:contentPadding=&quot;10dp&quot;&gt;\n\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@drawable/gray_gradient_with_corners&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/news_obj_image&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:background=&quot;@drawable/gray_gradient_with_corners&quot;\n        android:src=&quot;@drawable/gray_gradient&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/news_obj_name&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/news_obj_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:autoSizeMaxTextSize=&quot;20sp&quot;\n        android:autoSizeMinTextSize=&quot;12sp&quot;\n        android:autoSizeStepGranularity=&quot;2sp&quot;\n        android:autoSizeTextType=&quot;uniform&quot;\n        android:text=&quot;news text&quot;\n        android:textColor=&quot;@color/text_color1&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/news_obj&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;@id/news_obj&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>ERROR:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: me.solo_team.futureleader, PID: 23516\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{me.solo_team.futureleader/me.solo_team.futureleader.MainActivity}: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class fragment\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class fragment\n     Caused by: android.view.InflateException: Binary XML file line #20: Error inflating class fragment\n     Caused by: java.lang.ArrayIndexOutOfBoundsException: length=8; index=8\n        at java.util.Arrays$ArrayList.get(Arrays.java:3769)\n        at me.solo_team.futureleader.ui.news.NewsFragment.onCreateView(NewsFragment.java:62)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\n        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:3065)\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2988)\n        at androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:392)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:281)\n        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:140)\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:780)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:706)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at me.solo_team.futureleader.MainActivity.onCreate(MainActivity.java:24)\n        at android.app.Activity.performCreate(Activity.java:7136)\n        at android.app.Activity.performCreate(Activity.java:7127)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\nE/AndroidRuntime:     at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582139694,"creation_date":1582139694,"answer_id":60307656,"question_id":60307479,"body_markdown":"You need to use the `push()` method:\r\n\r\n```\r\nmyRef.push().setValue(a);\r\n```\r\n\r\nCurrently the last data you are adding is overriding the data before it. The `push()` method will create a random ID and separate each user. \r\n\r\nOr if you are using firebase authentication then you can use the user `uid` instead of `push()` to separate each user that you are saving. ","title":"Firebase create a new object every time I click a button","body":"<p>You need to use the <code>push()</code> method:</p>\n\n<pre><code>myRef.push().setValue(a);\n</code></pre>\n\n<p>Currently the last data you are adding is overriding the data before it. The <code>push()</code> method will create a random ID and separate each user. </p>\n\n<p>Or if you are using firebase authentication then you can use the user <code>uid</code> instead of <code>push()</code> to separate each user that you are saving. </p>\n"}],"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60307656,"answer_count":1,"score":0,"last_activity_date":1690898176,"creation_date":1582138939,"question_id":60307479,"body_markdown":"I have a problem/ question. I want to save different objects to firebase realtime database every time I click a button, but I have a problem because, since I have a Shopping list I click more items and I want to save them to the database but it saves just the last item I clicked and I want to understand what I&#39;m doing wrong. I&#39;m new to Android / Firebase, it&#39;s the first time I&#39;m doing it so if anyone can tell me what I&#39;m doing wrong it would be awesome. Thank you so much. I will attach the code and the photo of the database. \r\n\r\nActivity : \r\n\r\n  \r\n\r\n\r\n    public class FirebaseSearch extends AppCompatActivity {\r\n\r\n    private EditText mSearchField;\r\n    private ImageButton mSearchBtn;\r\n    private ImageButton AddToCart;\r\n    private ImageButton Cart;\r\n    int position=0;\r\n    String searchText=&quot;&quot;;\r\n\r\n    private RecyclerView mResultList;\r\n    private DatabaseReference mUserDatabase;\r\n\r\n\r\n\r\n    public static int cart_count = 0;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_firebasesearch);\r\n\r\n\r\n\r\n\r\n        mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n\r\n        mSearchField = findViewById(R.id.search_field);\r\n        mSearchBtn   = findViewById(R.id.search_btn);\r\n        mResultList  = findViewById(R.id.result_list_cart);\r\n        AddToCart    = findViewById(R.id.imageButton2);\r\n        Cart         = findViewById(R.id.cartButton);\r\n\r\n        mResultList.setHasFixedSize(true);\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mSearchBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                searchText = mSearchField.getText().toString();\r\n                firebaseUserSearch(searchText);\r\n            }\r\n        });\r\n\r\n        Cart.setOnClickListener(new View.OnClickListener() {\r\n            private Object Tag=&quot;Activity&quot;;\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (cart_count &lt; 1) {\r\n\r\n                } else {\r\n                    startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    private void firebaseUserSearch(String searchText) {\r\n        Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\r\n        Query firebaseSearchQuery = mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\r\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\r\n                Users.class,\r\n                R.layout.list_layout,\r\n                UsersViewHolder.class,\r\n                firebaseSearchQuery\r\n        ) {\r\n            @Override\r\n            protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\r\n\r\n                viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\r\n                viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\r\n            }\r\n        };\r\n        mResultList.setAdapter(firebaseRecyclerAdapter);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        invalidateOptionsMenu();\r\n    }\r\n\r\n    // View Holder Class\r\n    public static class UsersViewHolder extends RecyclerView.ViewHolder {\r\n        View mView;\r\n        String nome;\r\n        String surname;\r\n        Long prezzo;\r\n        public UsersViewHolder(View itemView) {\r\n            super(itemView);\r\n            mView = itemView;\r\n            ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\r\n\r\n            addToCart.setOnClickListener(new View.OnClickListener() {\r\n\r\n\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Users a = new Users(nome,surname,prezzo);\r\n                    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n                    DatabaseReference myRef = database.getReference(&quot;Cart&quot;);\r\n                    myRef.setValue(a);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void getDetails(String name,String cognome,Long price){\r\n            nome=name;\r\n            surname=cognome;\r\n            prezzo=price;\r\n        }\r\n\r\n\r\n        public void setDetails(String name, String surname, Long price) {\r\n\r\n            TextView user_name = (TextView) mView.findViewById(R.id.name_text);\r\n            TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\r\n            TextView user_price = (TextView)mView.findViewById(R.id.price);\r\n\r\n            user_name.setText(name);\r\n            user_surname.setText(surname);\r\n            user_price.setText(Long.toString(price));\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"Firebase create a new object every time I click a button","body":"<p>I have a problem/ question. I want to save different objects to firebase realtime database every time I click a button, but I have a problem because, since I have a Shopping list I click more items and I want to save them to the database but it saves just the last item I clicked and I want to understand what I'm doing wrong. I'm new to Android / Firebase, it's the first time I'm doing it so if anyone can tell me what I'm doing wrong it would be awesome. Thank you so much. I will attach the code and the photo of the database.</p>\n<p>Activity :</p>\n<pre><code>public class FirebaseSearch extends AppCompatActivity {\n\nprivate EditText mSearchField;\nprivate ImageButton mSearchBtn;\nprivate ImageButton AddToCart;\nprivate ImageButton Cart;\nint position=0;\nString searchText=&quot;&quot;;\n\nprivate RecyclerView mResultList;\nprivate DatabaseReference mUserDatabase;\n\n\n\npublic static int cart_count = 0;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_firebasesearch);\n\n\n\n\n    mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\n    mSearchField = findViewById(R.id.search_field);\n    mSearchBtn   = findViewById(R.id.search_btn);\n    mResultList  = findViewById(R.id.result_list_cart);\n    AddToCart    = findViewById(R.id.imageButton2);\n    Cart         = findViewById(R.id.cartButton);\n\n    mResultList.setHasFixedSize(true);\n    mResultList.setLayoutManager(new LinearLayoutManager(this));\n\n    mSearchBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            searchText = mSearchField.getText().toString();\n            firebaseUserSearch(searchText);\n        }\n    });\n\n    Cart.setOnClickListener(new View.OnClickListener() {\n        private Object Tag=&quot;Activity&quot;;\n\n        @Override\n        public void onClick(View v) {\n            if (cart_count &lt; 1) {\n\n            } else {\n                startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\n            }\n        }\n    });\n}\n\n\n\nprivate void firebaseUserSearch(String searchText) {\n    Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\n    Query firebaseSearchQuery = mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\n    FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\n            Users.class,\n            R.layout.list_layout,\n            UsersViewHolder.class,\n            firebaseSearchQuery\n    ) {\n        @Override\n        protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\n\n            viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\n            viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\n        }\n    };\n    mResultList.setAdapter(firebaseRecyclerAdapter);\n}\n\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    invalidateOptionsMenu();\n}\n\n// View Holder Class\npublic static class UsersViewHolder extends RecyclerView.ViewHolder {\n    View mView;\n    String nome;\n    String surname;\n    Long prezzo;\n    public UsersViewHolder(View itemView) {\n        super(itemView);\n        mView = itemView;\n        ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\n\n        addToCart.setOnClickListener(new View.OnClickListener() {\n\n\n            @Override\n            public void onClick(View v) {\n                Users a = new Users(nome,surname,prezzo);\n                FirebaseDatabase database = FirebaseDatabase.getInstance();\n                DatabaseReference myRef = database.getReference(&quot;Cart&quot;);\n                myRef.setValue(a);\n            }\n        });\n    }\n\n    public void getDetails(String name,String cognome,Long price){\n        nome=name;\n        surname=cognome;\n        prezzo=price;\n    }\n\n\n    public void setDetails(String name, String surname, Long price) {\n\n        TextView user_name = (TextView) mView.findViewById(R.id.name_text);\n        TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\n        TextView user_price = (TextView)mView.findViewById(R.id.price);\n\n        user_name.setText(name);\n        user_surname.setText(surname);\n        user_price.setText(Long.toString(price));\n\n    }\n}\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","rest","kotlin","spring-cloud-feign"],"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690897578,"creation_date":1690896286,"question_id":76812102,"body_markdown":"I receive an error when I try to call rest endpoint. I need to read the ID value returned in the error message. \r\n\r\nBelow is my code snippet that call the Rest Service and get the error in the catch block.\r\n\r\n    var resp: Response = try {\r\n                            feignClient.processReservation(\r\n                                ref,\r\n                                request.toMessage,\r\n                                credentials.headers()\r\n                            )\r\n                        } catch (ex: Exception) {\r\n                            logger.error(&quot;msg &gt; &quot; + ex.message)\r\n                        }\r\n\r\nBelow is the values printing in the catch block.\r\n\r\n    msg &gt; [402 Service Required] during [POST] to [https://api.test.service/reserve/7c81e-9ea2-4a36-bf58-f08f/cancel] [myClient#processCancel(String,CancelRequest,Map)]: [{&quot;error&quot;:{&quot;code&quot;:&quot;ALTERNATE-Booking”,”message&quot;:&quot;Transaction declined by the user”,”details&quot;:[&quot;The booking was declined by the processing service.”,”There is already the maximum number of bookings under this service.”]},”id”:”dbb8f-1a68-46af-9sbb-f3a79d4f&quot;,&quot;liveMode&quot;:false}]\r\n\r\nI want to grab the ID value from the above error message. Is there a way to read the values other than reading this whole string and identify the id ?\r\n\r\n\r\n","title":"How to read the values when exception throwing in @FeignClient service","body":"<p>I receive an error when I try to call rest endpoint. I need to read the ID value returned in the error message.</p>\n<p>Below is my code snippet that call the Rest Service and get the error in the catch block.</p>\n<pre><code>var resp: Response = try {\n                        feignClient.processReservation(\n                            ref,\n                            request.toMessage,\n                            credentials.headers()\n                        )\n                    } catch (ex: Exception) {\n                        logger.error(&quot;msg &gt; &quot; + ex.message)\n                    }\n</code></pre>\n<p>Below is the values printing in the catch block.</p>\n<pre><code>msg &gt; [402 Service Required] during [POST] to [https://api.test.service/reserve/7c81e-9ea2-4a36-bf58-f08f/cancel] [myClient#processCancel(String,CancelRequest,Map)]: [{&quot;error&quot;:{&quot;code&quot;:&quot;ALTERNATE-Booking”,”message&quot;:&quot;Transaction declined by the user”,”details&quot;:[&quot;The booking was declined by the processing service.”,”There is already the maximum number of bookings under this service.”]},”id”:”dbb8f-1a68-46af-9sbb-f3a79d4f&quot;,&quot;liveMode&quot;:false}]\n</code></pre>\n<p>I want to grab the ID value from the above error message. Is there a way to read the values other than reading this whole string and identify the id ?</p>\n"},{"tags":["java","if-statement","design-patterns","lambda","refactoring"],"answers":[{"tags":[],"owner":{"account_id":1988392,"reputation":2547,"user_id":1783045,"accept_rate":90,"display_name":"Rufi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501661465,"creation_date":1501661465,"answer_id":45455110,"question_id":45378204,"body_markdown":"From my point of view the first version looks much simpler and easier to read, thus I would go with that if there is no win in performance in the second version. Extraction of some generic method would be good, but it seems that it is not so straight forward because each `StateValidator` looks different.","title":"Reducing if else branches and cleaning code using chain of functions, does it make sense","body":"<p>From my point of view the first version looks much simpler and easier to read, thus I would go with that if there is no win in performance in the second version. Extraction of some generic method would be good, but it seems that it is not so straight forward because each <code>StateValidator</code> looks different.</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690897527,"creation_date":1690897527,"answer_id":76812282,"question_id":45378204,"body_markdown":"`findFirst` could be used to short circuit sequential stream of operations and hence implement [Chain-of-responsibility_pattern]( https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern)\r\n```\r\npublic Response getResponse(RequestStateInfo requestStateInfo) {\r\n        Response response = null;\r\n\r\n        try {\r\n            response = handlers.stream()\r\n                    .sequential()\r\n                    .map(handler-&gt;handler.apply(requestStateInfo))\r\n                    .filter(Optional::isPresent)\r\n                    .map(Optional::get)\r\n                    .findFirst()\r\n                    .orElse(getDefaultResponse(requestStateInfo));\r\n\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Some log&quot;, e);\r\n            response = getDefaultResponse(requestStateInfo);\r\n        }\r\n        return response;\r\n    }\r\n```\r\n","title":"Reducing if else branches and cleaning code using chain of functions, does it make sense","body":"<p><code>findFirst</code> could be used to short circuit sequential stream of operations and hence implement <a href=\"https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"nofollow noreferrer\">Chain-of-responsibility_pattern</a></p>\n<pre><code>public Response getResponse(RequestStateInfo requestStateInfo) {\n        Response response = null;\n\n        try {\n            response = handlers.stream()\n                    .sequential()\n                    .map(handler-&gt;handler.apply(requestStateInfo))\n                    .filter(Optional::isPresent)\n                    .map(Optional::get)\n                    .findFirst()\n                    .orElse(getDefaultResponse(requestStateInfo));\n\n        } catch (Exception e) {\n            LOGGER.error(&quot;Some log&quot;, e);\n            response = getDefaultResponse(requestStateInfo);\n        }\n        return response;\n    }\n</code></pre>\n"}],"owner":{"account_id":4906254,"reputation":980,"user_id":3952913,"accept_rate":50,"display_name":"Anuj Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690897527,"creation_date":1501258764,"question_id":45378204,"body_markdown":"I am working on legacy code that has lots of if/else. I can use conditional decomposition and/or guard statements etc. to clean it. Another approach which can be used is to create functions out of branches and execute these functions as chain and exit with first response. I am wondering if using function chain is an overkill? Any views?\r\n\r\nMy chain looks something like below. This is a simplified example.\r\n\r\n    public class RequestStateHandler {\r\n        private final List&lt;Function&lt;RequestStateInfo, Optional&lt;Response&gt;&gt;&gt; handlers = new ArrayList&lt;&gt;();\r\n    \r\n        public RequestStateHandler() {\r\n            handlers.add(requestStateInfo -&gt; xStateValidator(requestStateInfo));\r\n            handlers.add(requestStateInfo -&gt; yStateValidator(requestStateInfo));\r\n            handlers.add(requestStateInfo -&gt; zStateValidator(requestStateInfo));\r\n        }\r\n    \r\n        public Response getResponse(RequestStateInfo requestStateInfo) {\r\n            try {\r\n                for (final Function&lt;RequestStateInfo, Optional&lt;Response&gt;&gt; handler : handlers) {\r\n                    final Optional&lt;Response&gt; response = handler.apply(requestStateInfo);\r\n    \r\n                    if (response.isPresent()) {\r\n                        return response.get();\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                LOGGER.error(&quot;Some log&quot;, e);\r\n            }\r\n    \r\n            return getDefaultResponse(requestStateInfo);\r\n        }\r\n    \r\n        private Optional&lt;Response&gt; xStateValidator(RequestStateInfo requestStateInfo) {\r\n            final A a = requestStateInfo.getA();\r\n            if (a.isABC()) {\r\n                return Optional.of(requestStateInfo.getX());\r\n            }\r\n    \r\n            return Optional.empty();\r\n        }\r\n    \r\n        private Optional&lt;Response&gt; yStateValidator(RequestStateInfo requestStateInfo) {\r\n            if (requestStateInfo.isXYZ()) {\r\n                final Response response = requestStateInfo.getX();\r\n                final A a = response.getA();\r\n                if (a.isSomeOtherTest()) {\r\n                    return Optional.of(response);\r\n                }\r\n            }\r\n    \r\n            return Optional.empty();\r\n        }\r\n    \r\n        private Optional&lt;Response&gt; zStateValidator(RequestStateInfo requestStateInfo) {\r\n            final Response response = requestStateInfo.getX();\r\n            final A a = response.getA();\r\n            if (a.isSomeAnotherTest()) {\r\n                return Optional.of(response);\r\n            }\r\n    \r\n            return Optional.of(getDefaultResponse(requestStateInfo));\r\n        }\r\n    \r\n        private Response getDefaultResponse(RequestStateInfo requestStateInfo) {\r\n            return new Response(A.create(requestStateInfo.getY()), null, null, null);\r\n        }\r\n    }\r\n\r\nI thought of creating a reusable executor so that we can have only business logic here. To me it looks much cleaner but it obviously add a dependency to execute the functions in order. Something like chain of responsibility, I would say. What are your thoughts?\r\n\r\nA generic executor could be something like:\r\n\r\n    import org.apache.commons.lang3.Validate;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import java.util.function.Consumer;\r\n    import java.util.function.Function;\r\n    import java.util.function.Supplier;\r\n    \r\n    public class ChainedExecutor&lt;T, R&gt; {\r\n        private final static Logger LOGGER = LoggerFactory.getLogger(ChainedExecutor.class);\r\n        public final List&lt;Function&lt;T,Optional&lt;R&gt;&gt;&gt; handlers;\r\n        private R defaultResponse;\r\n    \r\n        private ChainedExecutor() {\r\n            this.handlers = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public R execute(T request) {\r\n            return execute(request, Optional.empty(), Optional.empty());\r\n        }\r\n    \r\n        public R execute(T request, Function&lt;T, R&gt; defaultSupplier) {\r\n            return execute(request, Optional.of(defaultSupplier), Optional.empty());\r\n        }\r\n    \r\n        public R execute(T request, Consumer&lt;Exception&gt; exceptionHandler) {\r\n            return execute(request, Optional.empty() ,Optional.of(exceptionHandler));\r\n        }\r\n    \r\n        public R execute(T request, Function&lt;T, R&gt; defaultHandler, Consumer&lt;Exception&gt; exceptionHandler) {\r\n            return execute(request, Optional.of(defaultHandler), Optional.of(exceptionHandler));\r\n        }\r\n    \r\n        public R execute(T request, Supplier&lt;R&gt; defaultSupplier) {\r\n            final Function&lt;T, R&gt; defaultHandler = (input) -&gt; defaultSupplier.get();\r\n            return execute(request, Optional.of(defaultHandler), Optional.empty());\r\n        }\r\n    \r\n        private R execute(T request, Optional&lt;Function&lt;T, R&gt;&gt; defaultHandler, Optional&lt;Consumer&lt;Exception&gt;&gt; exceptionHandler) {\r\n            Optional&lt;R&gt; response;\r\n            try {\r\n                for (final Function&lt;T,Optional&lt;R&gt;&gt; handler: handlers) {\r\n                    response = handler.apply(request);\r\n    \r\n                    if (response.isPresent()) {\r\n                        return response.get();\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception exception) {\r\n                handleOrLog(exceptionHandler, exception);\r\n            }\r\n    \r\n            return getDefaultResponse(defaultHandler, request);\r\n        }\r\n    \r\n        private void handleOrLog(Optional&lt;Consumer&lt;Exception&gt;&gt; exceptionHandler, Exception exception) {\r\n            if (exceptionHandler.isPresent()) {\r\n                exceptionHandler.get().accept(exception);\r\n                return;\r\n            }\r\n            LOGGER.error(&quot;Unhandled exception occurred while executing handler chain. This most probably is a developer error.&quot;);\r\n        }\r\n    \r\n        private R getDefaultResponse(Optional&lt;Function&lt;T, R&gt;&gt; defaultHandler, T request) {\r\n            if (defaultHandler.isPresent()) {\r\n                return defaultHandler.get().apply(request);\r\n            }\r\n            return getDefaultResponse();\r\n        }\r\n    \r\n        public R getDefaultResponse() {\r\n            return defaultResponse;\r\n        }\r\n    \r\n        public static class Builder&lt;T, R&gt; {\r\n            private final ChainedExecutor&lt;T, R&gt; chainedExecutor = new ChainedExecutor&lt;&gt;();\r\n    \r\n            public Builder(List&lt;Function&lt;T,Optional&lt;R&gt;&gt;&gt; handlers) {\r\n                Validate.notNull(handlers);\r\n                for (final Function&lt;T, Optional&lt;R&gt;&gt; handler: handlers) {\r\n                    Validate.notNull(handler);\r\n                    handlers.add(handler);\r\n                }\r\n            }\r\n    \r\n            public Builder() {}\r\n    \r\n            public ChainedExecutor.Builder&lt;T, R&gt; withHandler(Function&lt;T, Optional&lt;R&gt;&gt; handler) {\r\n                Validate.notNull(handler);\r\n                chainedExecutor.handlers.add(handler);\r\n                return this;\r\n            }\r\n    \r\n            public ChainedExecutor.Builder&lt;T, R&gt; withDefaultResponse(R defaultResponse) {\r\n                Validate.notNull(defaultResponse);\r\n                chainedExecutor.defaultResponse = defaultResponse;\r\n                return this;\r\n            }\r\n    \r\n            public ChainedExecutor&lt;T, R&gt; build() {\r\n                Validate.isTrue(!chainedExecutor.handlers.isEmpty());\r\n                return chainedExecutor;\r\n            }\r\n        }\r\n    }\r\n\r\n**EDIT**\r\n\r\nI ended up not doing this. It was just a thought which crossed my mind. I felt that it would make it more cryptic for my colleagues. Though, I really like removing if/else. I went OOPS way (Polymorphism). ","title":"Reducing if else branches and cleaning code using chain of functions, does it make sense","body":"<p>I am working on legacy code that has lots of if/else. I can use conditional decomposition and/or guard statements etc. to clean it. Another approach which can be used is to create functions out of branches and execute these functions as chain and exit with first response. I am wondering if using function chain is an overkill? Any views?</p>\n\n<p>My chain looks something like below. This is a simplified example.</p>\n\n<pre><code>public class RequestStateHandler {\n    private final List&lt;Function&lt;RequestStateInfo, Optional&lt;Response&gt;&gt;&gt; handlers = new ArrayList&lt;&gt;();\n\n    public RequestStateHandler() {\n        handlers.add(requestStateInfo -&gt; xStateValidator(requestStateInfo));\n        handlers.add(requestStateInfo -&gt; yStateValidator(requestStateInfo));\n        handlers.add(requestStateInfo -&gt; zStateValidator(requestStateInfo));\n    }\n\n    public Response getResponse(RequestStateInfo requestStateInfo) {\n        try {\n            for (final Function&lt;RequestStateInfo, Optional&lt;Response&gt;&gt; handler : handlers) {\n                final Optional&lt;Response&gt; response = handler.apply(requestStateInfo);\n\n                if (response.isPresent()) {\n                    return response.get();\n                }\n            }\n        } catch (Exception e) {\n            LOGGER.error(\"Some log\", e);\n        }\n\n        return getDefaultResponse(requestStateInfo);\n    }\n\n    private Optional&lt;Response&gt; xStateValidator(RequestStateInfo requestStateInfo) {\n        final A a = requestStateInfo.getA();\n        if (a.isABC()) {\n            return Optional.of(requestStateInfo.getX());\n        }\n\n        return Optional.empty();\n    }\n\n    private Optional&lt;Response&gt; yStateValidator(RequestStateInfo requestStateInfo) {\n        if (requestStateInfo.isXYZ()) {\n            final Response response = requestStateInfo.getX();\n            final A a = response.getA();\n            if (a.isSomeOtherTest()) {\n                return Optional.of(response);\n            }\n        }\n\n        return Optional.empty();\n    }\n\n    private Optional&lt;Response&gt; zStateValidator(RequestStateInfo requestStateInfo) {\n        final Response response = requestStateInfo.getX();\n        final A a = response.getA();\n        if (a.isSomeAnotherTest()) {\n            return Optional.of(response);\n        }\n\n        return Optional.of(getDefaultResponse(requestStateInfo));\n    }\n\n    private Response getDefaultResponse(RequestStateInfo requestStateInfo) {\n        return new Response(A.create(requestStateInfo.getY()), null, null, null);\n    }\n}\n</code></pre>\n\n<p>I thought of creating a reusable executor so that we can have only business logic here. To me it looks much cleaner but it obviously add a dependency to execute the functions in order. Something like chain of responsibility, I would say. What are your thoughts?</p>\n\n<p>A generic executor could be something like:</p>\n\n<pre><code>import org.apache.commons.lang3.Validate;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.function.Consumer;\nimport java.util.function.Function;\nimport java.util.function.Supplier;\n\npublic class ChainedExecutor&lt;T, R&gt; {\n    private final static Logger LOGGER = LoggerFactory.getLogger(ChainedExecutor.class);\n    public final List&lt;Function&lt;T,Optional&lt;R&gt;&gt;&gt; handlers;\n    private R defaultResponse;\n\n    private ChainedExecutor() {\n        this.handlers = new ArrayList&lt;&gt;();\n    }\n\n    public R execute(T request) {\n        return execute(request, Optional.empty(), Optional.empty());\n    }\n\n    public R execute(T request, Function&lt;T, R&gt; defaultSupplier) {\n        return execute(request, Optional.of(defaultSupplier), Optional.empty());\n    }\n\n    public R execute(T request, Consumer&lt;Exception&gt; exceptionHandler) {\n        return execute(request, Optional.empty() ,Optional.of(exceptionHandler));\n    }\n\n    public R execute(T request, Function&lt;T, R&gt; defaultHandler, Consumer&lt;Exception&gt; exceptionHandler) {\n        return execute(request, Optional.of(defaultHandler), Optional.of(exceptionHandler));\n    }\n\n    public R execute(T request, Supplier&lt;R&gt; defaultSupplier) {\n        final Function&lt;T, R&gt; defaultHandler = (input) -&gt; defaultSupplier.get();\n        return execute(request, Optional.of(defaultHandler), Optional.empty());\n    }\n\n    private R execute(T request, Optional&lt;Function&lt;T, R&gt;&gt; defaultHandler, Optional&lt;Consumer&lt;Exception&gt;&gt; exceptionHandler) {\n        Optional&lt;R&gt; response;\n        try {\n            for (final Function&lt;T,Optional&lt;R&gt;&gt; handler: handlers) {\n                response = handler.apply(request);\n\n                if (response.isPresent()) {\n                    return response.get();\n                }\n            }\n        }\n        catch (Exception exception) {\n            handleOrLog(exceptionHandler, exception);\n        }\n\n        return getDefaultResponse(defaultHandler, request);\n    }\n\n    private void handleOrLog(Optional&lt;Consumer&lt;Exception&gt;&gt; exceptionHandler, Exception exception) {\n        if (exceptionHandler.isPresent()) {\n            exceptionHandler.get().accept(exception);\n            return;\n        }\n        LOGGER.error(\"Unhandled exception occurred while executing handler chain. This most probably is a developer error.\");\n    }\n\n    private R getDefaultResponse(Optional&lt;Function&lt;T, R&gt;&gt; defaultHandler, T request) {\n        if (defaultHandler.isPresent()) {\n            return defaultHandler.get().apply(request);\n        }\n        return getDefaultResponse();\n    }\n\n    public R getDefaultResponse() {\n        return defaultResponse;\n    }\n\n    public static class Builder&lt;T, R&gt; {\n        private final ChainedExecutor&lt;T, R&gt; chainedExecutor = new ChainedExecutor&lt;&gt;();\n\n        public Builder(List&lt;Function&lt;T,Optional&lt;R&gt;&gt;&gt; handlers) {\n            Validate.notNull(handlers);\n            for (final Function&lt;T, Optional&lt;R&gt;&gt; handler: handlers) {\n                Validate.notNull(handler);\n                handlers.add(handler);\n            }\n        }\n\n        public Builder() {}\n\n        public ChainedExecutor.Builder&lt;T, R&gt; withHandler(Function&lt;T, Optional&lt;R&gt;&gt; handler) {\n            Validate.notNull(handler);\n            chainedExecutor.handlers.add(handler);\n            return this;\n        }\n\n        public ChainedExecutor.Builder&lt;T, R&gt; withDefaultResponse(R defaultResponse) {\n            Validate.notNull(defaultResponse);\n            chainedExecutor.defaultResponse = defaultResponse;\n            return this;\n        }\n\n        public ChainedExecutor&lt;T, R&gt; build() {\n            Validate.isTrue(!chainedExecutor.handlers.isEmpty());\n            return chainedExecutor;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I ended up not doing this. It was just a thought which crossed my mind. I felt that it would make it more cryptic for my colleagues. Though, I really like removing if/else. I went OOPS way (Polymorphism). </p>\n"},{"tags":["java","android","list","kotlin","concurrentmodificationexception"],"comments":[{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1690897345,"post_id":76812127,"comment_id":135414980,"body_markdown":"i think it&#39;s missing a collect() after distinctBy(). Type inferance issue","body":"i think it&#39;s missing a collect() after distinctBy(). Type inferance issue"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1690897817,"post_id":76812127,"comment_id":135415102,"body_markdown":"The issue is that you are having to iterate the `folderUpdatedList.ExpirationDatesArt` to create the copy so there must be some other place in code outside this function that is opening an iterator on it without completing iteration.","body":"The issue is that you are having to iterate the <code>folderUpdatedList.ExpirationDatesArt</code> to create the copy so there must be some other place in code outside this function that is opening an iterator on it without completing iteration."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1690897930,"post_id":76812127,"comment_id":135415129,"body_markdown":"Unrelated, but IMO it is an anti-pattern for a function to be no-op when an argument is null. It should just make the argument non-nullable and push it to the caller to only call if it’s non-null instead of the function silently failing to do anything. Also, your entire function contents can be simplified to `folderUpdatedList.ExpirationDatesArt =  (folderUpdatedList.ExpirationDatesArt.orEmpty() + listToJoin.orEmpty()).distinctBy  { it.cdean }`","body":"Unrelated, but IMO it is an anti-pattern for a function to be no-op when an argument is null. It should just make the argument non-nullable and push it to the caller to only call if it’s non-null instead of the function silently failing to do anything. Also, your entire function contents can be simplified to <code>folderUpdatedList.ExpirationDatesArt =  (folderUpdatedList.ExpirationDatesArt.orEmpty() + listToJoin.orEmpty()).distinctBy  { it.cdean }</code>"}],"owner":{"account_id":10679106,"reputation":496,"user_id":7861724,"accept_rate":80,"display_name":"Quentin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690897038,"creation_date":1690896483,"question_id":76812127,"body_markdown":"I have a function that takes a List as a parameter and the aim is to merge this list with another list contained in an object.\r\n\r\n    private fun joinListToUpdatedList(listToJoin: List&lt;ExpirationDatesArt&gt;?){\r\n\r\n            val folderUpdatedListValue : MutableList&lt;ExpirationDatesArt&gt;? = folderUpdatedList.ExpirationDatesArt?.toMutableList()\r\n\r\n            if(listToJoin != null){\r\n                if(folderUpdatedListValue != null){\r\n\r\n                    folderUpdatedListValue.addAll(listToJoin)\r\n                    val joinedUpdatedList = folderUpdatedListValue.distinctBy { it.cdean }\r\n\r\n                    folderUpdatedList.ExpirationDatesArt = joinedUpdatedList\r\n                }\r\n                else{\r\n                    folderUpdatedList.ExpirationDatesArt = listToJoin\r\n                }\r\n            }\r\n        }\r\n\r\nWhen I first call the function, my object&#39;s list is null, so its value is initialized with listToJoin.\r\n\r\nIf I call the function a second time, whether immediately or several seconds later, the folderUpdatedListValue initialization crashes and returns a **ConcurrentModificationException** error.\r\n\r\nI don&#39;t understand why, because I&#39;m not deleting an item, I&#39;m just trying to access the list of the object I&#39;m interested in.\r\n\r\nI tried to use addAll function on listToJoin with folderUpdatedListValue but the result is the same.\r\n\r\nHow can I enable this function to be called several times?\r\n\r\n","title":"List allocation trigger ConcurrentModificationException in Kotlin","body":"<p>I have a function that takes a List as a parameter and the aim is to merge this list with another list contained in an object.</p>\n<pre><code>private fun joinListToUpdatedList(listToJoin: List&lt;ExpirationDatesArt&gt;?){\n\n        val folderUpdatedListValue : MutableList&lt;ExpirationDatesArt&gt;? = folderUpdatedList.ExpirationDatesArt?.toMutableList()\n\n        if(listToJoin != null){\n            if(folderUpdatedListValue != null){\n\n                folderUpdatedListValue.addAll(listToJoin)\n                val joinedUpdatedList = folderUpdatedListValue.distinctBy { it.cdean }\n\n                folderUpdatedList.ExpirationDatesArt = joinedUpdatedList\n            }\n            else{\n                folderUpdatedList.ExpirationDatesArt = listToJoin\n            }\n        }\n    }\n</code></pre>\n<p>When I first call the function, my object's list is null, so its value is initialized with listToJoin.</p>\n<p>If I call the function a second time, whether immediately or several seconds later, the folderUpdatedListValue initialization crashes and returns a <strong>ConcurrentModificationException</strong> error.</p>\n<p>I don't understand why, because I'm not deleting an item, I'm just trying to access the list of the object I'm interested in.</p>\n<p>I tried to use addAll function on listToJoin with folderUpdatedListValue but the result is the same.</p>\n<p>How can I enable this function to be called several times?</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690819216,"creation_date":1690819216,"answer_id":76805305,"question_id":76805045,"body_markdown":"Am not quite sure, But `dockerfile` is a build stage file. Meaning, It will only be used when you build the image. Once you have a built image, No changes can be effected the already-built image.\r\n\r\nI think you are looking for devtools setup, but again, If you are using the CMD to run an already existing JAR, Devtools wont have any effect, As the image was built. and the CMD already running the old JAR.\r\n\r\nI think ( not 100% sure ) You need to run the application with Gradle/Maven command like, This will have devtools to be triggered once a file is changed.\r\n\r\nyour Volume should look like this:\r\n```\r\n    volumes:\r\n      - .:/app\r\n      - /app/target\r\n```\r\n\r\nAdd devtools to your maven/gradle config, And by default, DevTools doesn&#39;t detect changes to files that are outside of the classpath, which includes files that are in the `/app` directory that we mounted as a volume. To fix this, you can add the following configuration to your `application.properties` file:\r\n```\r\nspring.devtools.restart.additional-paths=/app\r\n```","title":"Run twice with Docker and docker-compose","body":"<p>Am not quite sure, But <code>dockerfile</code> is a build stage file. Meaning, It will only be used when you build the image. Once you have a built image, No changes can be effected the already-built image.</p>\n<p>I think you are looking for devtools setup, but again, If you are using the CMD to run an already existing JAR, Devtools wont have any effect, As the image was built. and the CMD already running the old JAR.</p>\n<p>I think ( not 100% sure ) You need to run the application with Gradle/Maven command like, This will have devtools to be triggered once a file is changed.</p>\n<p>your Volume should look like this:</p>\n<pre><code>    volumes:\n      - .:/app\n      - /app/target\n</code></pre>\n<p>Add devtools to your maven/gradle config, And by default, DevTools doesn't detect changes to files that are outside of the classpath, which includes files that are in the <code>/app</code> directory that we mounted as a volume. To fix this, you can add the following configuration to your <code>application.properties</code> file:</p>\n<pre><code>spring.devtools.restart.additional-paths=/app\n</code></pre>\n"}],"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690896720,"creation_date":1690817164,"question_id":76805045,"body_markdown":"I have a Spring Boot application that I am trying to set up reloading for during development. I am using Docker compose with a volume mount to map the host directory into the application container.\r\n\r\nWhen I enable reloading so that code changes are automatically reflected, it causes the application to run twice.\r\n\r\nIs this expected behavior? Am I configuring something incorrectly that is causing it to double up like this during hot reloading?\r\n\r\nDockerfile\r\n\r\n    FROM maven:3.8.4-openjdk-17-slim AS build\r\n    \r\n    WORKDIR /app\r\n    \r\n    COPY pom.xml .\r\n    \r\n    RUN mvn dependency:go-offline -B\r\n    \r\n    COPY src ./src\r\n    \r\n    RUN mvn package -DskipTests\r\n    \r\n    FROM openjdk:17-jdk-slim AS runtime\r\n    \r\n    COPY --from=build /app/target/book-course-1.0.0.jar .\r\n    \r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;book-course-1.0.0.jar&quot;]\r\n    \r\n    WORKDIR /app\r\n\r\ndocker-compose.yml\r\n\r\n      version: &quot;3.7&quot;\r\n      services:\r\n        app:\r\n        build: .\r\n        env_file: ./.env\r\n        ports:\r\n           - $SPRING_PORT:$SPRING_PORT\r\n        depends_on:\r\n           - mysqldb\r\n        volumes:\r\n           - .:/app\r\n        restart: on-failure\r\n        command: sh -c &quot;./mvnw spring-boot:run&quot;\r\n        mysqldb:\r\n        image: mysql:8.0.22 ","title":"Run twice with Docker and docker-compose","body":"<p>I have a Spring Boot application that I am trying to set up reloading for during development. I am using Docker compose with a volume mount to map the host directory into the application container.</p>\n<p>When I enable reloading so that code changes are automatically reflected, it causes the application to run twice.</p>\n<p>Is this expected behavior? Am I configuring something incorrectly that is causing it to double up like this during hot reloading?</p>\n<p>Dockerfile</p>\n<pre><code>FROM maven:3.8.4-openjdk-17-slim AS build\n\nWORKDIR /app\n\nCOPY pom.xml .\n\nRUN mvn dependency:go-offline -B\n\nCOPY src ./src\n\nRUN mvn package -DskipTests\n\nFROM openjdk:17-jdk-slim AS runtime\n\nCOPY --from=build /app/target/book-course-1.0.0.jar .\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;book-course-1.0.0.jar&quot;]\n\nWORKDIR /app\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>  version: &quot;3.7&quot;\n  services:\n    app:\n    build: .\n    env_file: ./.env\n    ports:\n       - $SPRING_PORT:$SPRING_PORT\n    depends_on:\n       - mysqldb\n    volumes:\n       - .:/app\n    restart: on-failure\n    command: sh -c &quot;./mvnw spring-boot:run&quot;\n    mysqldb:\n    image: mysql:8.0.22 \n</code></pre>\n"},{"tags":["java","paintcomponent","repaint"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690895065,"post_id":76811891,"comment_id":135414451,"body_markdown":"Hello, welcome to Stack Overflow! Please, read [this](https://stackoverflow.com/help/minimal-reproducible-example) and then edit your question.","body":"Hello, welcome to Stack Overflow! Please, read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">this</a> and then edit your question."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1690896297,"post_id":76811891,"comment_id":135414728,"body_markdown":"*&quot;myquestion is it necessary for using paintComponent again?&quot;* - Yes","body":"<i>&quot;myquestion is it necessary for using paintComponent again?&quot;</i> - Yes"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690924430,"post_id":76811891,"comment_id":135420137,"body_markdown":"@sorifiend opps","body":"@sorifiend opps"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690924964,"post_id":76811891,"comment_id":135420231,"body_markdown":"What you should do first, is take a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html). Swing uses a &quot;passive&quot; rending approach, that is, the UI isn&#39;t updated on a regular bases, instead, the RepaintManager makes decisions about what and when the UI needs to be repainted based on requests from the components. This is achieved through calling repaint.","body":"What you should do first, is take a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a>. Swing uses a &quot;passive&quot; rending approach, that is, the UI isn&#39;t updated on a regular bases, instead, the RepaintManager makes decisions about what and when the UI needs to be repainted based on requests from the components. This is achieved through calling repaint."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690924983,"post_id":76811891,"comment_id":135420232,"body_markdown":"Paint events are then dispatched to the Event Dispatching Queue, which, eventually, calls you components paintComponent method","body":"Paint events are then dispatched to the Event Dispatching Queue, which, eventually, calls you components paintComponent method"}],"owner":{"account_id":25418479,"reputation":1,"user_id":19224940,"display_name":"alon facebo0k1wallacoil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690896109,"creation_date":1690894846,"question_id":76811891,"body_markdown":"So i&#39;ve created a Snake game but i have somekind fo a theoretical question. \r\n\r\nIm using paintComponent to drawImage every pixel, but im also implementing ActionListener so im bound to using actionPerformed method.\r\n\r\nmy question is: why using repaint() method inside actionPerformed, what is the logic behind that?\r\n\r\n```java\r\npublic void actionPerformed(ActionEvent e) {\r\n\tcheckCollusion();\r\n\tmove2();\r\n\trepaint();\r\n}\r\n```\r\n\r\ni tried removing repaint() method but seems like it stopped updating. myquestion is it necessary for using paintComponent again?","title":"repaint() method inside ActionListener and paintComponent method","body":"<p>So i've created a Snake game but i have somekind fo a theoretical question.</p>\n<p>Im using paintComponent to drawImage every pixel, but im also implementing ActionListener so im bound to using actionPerformed method.</p>\n<p>my question is: why using repaint() method inside actionPerformed, what is the logic behind that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(ActionEvent e) {\n    checkCollusion();\n    move2();\n    repaint();\n}\n</code></pre>\n<p>i tried removing repaint() method but seems like it stopped updating. myquestion is it necessary for using paintComponent again?</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1690881621,"post_id":76810188,"comment_id":135411577,"body_markdown":"Presumably, the default time zone of your system is at UTC+2 (e.g. Europe/Berlin)?","body":"Presumably, the default time zone of your system is at UTC+2 (e.g. Europe/Berlin)?"},{"owner":{"account_id":1894482,"reputation":1292,"user_id":1711751,"accept_rate":50,"display_name":"Markus Ratzer"},"score":1,"creation_date":1690882211,"post_id":76810188,"comment_id":135411699,"body_markdown":"What&#39;s the data type of `uploaded_at` in your database? Also, both results represent the same _instant_ in time, only the representations differ. And why don&#39;t you read it from the DB as `java.sql.Timestamp` instead of a `String` and then convert it to `java.time.Instant` and from there apply whatever time zone to get the representation you need?","body":"What&#39;s the data type of <code>uploaded_at</code> in your database? Also, both results represent the same <i>instant</i> in time, only the representations differ. And why don&#39;t you read it from the DB as <code>java.sql.Timestamp</code> instead of a <code>String</code> and then convert it to <code>java.time.Instant</code> and from there apply whatever time zone to get the representation you need?"},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1690886230,"post_id":76810188,"comment_id":135412481,"body_markdown":"@MarkRotteveel yes, my time zone is UTC+2, and I executing both Intellij Database tool and Java app from the same machine.","body":"@MarkRotteveel yes, my time zone is UTC+2, and I executing both Intellij Database tool and Java app from the same machine."},{"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"score":0,"creation_date":1690886314,"post_id":76810188,"comment_id":135412498,"body_markdown":"@MarkusRatzer uploaded_at is a TIMESTAMP. It&#39;s exactly the representation I want to understand why it differs from one to other.","body":"@MarkusRatzer uploaded_at is a TIMESTAMP. It&#39;s exactly the representation I want to understand why it differs from one to other."},{"owner":{"account_id":1894482,"reputation":1292,"user_id":1711751,"accept_rate":50,"display_name":"Markus Ratzer"},"score":0,"creation_date":1690886491,"post_id":76810188,"comment_id":135412523,"body_markdown":"I usually prefer `TIMESTAMP WITH TIME ZONE` as data type instead of `TIMESTAMP`. Don&#39;t be confused though, in the DB there&#39;s still no timezone information stored (so, only UTC), but the behaviour is different when reading/writing from/to the DB.","body":"I usually prefer <code>TIMESTAMP WITH TIME ZONE</code> as data type instead of <code>TIMESTAMP</code>. Don&#39;t be confused though, in the DB there&#39;s still no timezone information stored (so, only UTC), but the behaviour is different when reading/writing from/to the DB."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690886567,"post_id":76810188,"comment_id":135412533,"body_markdown":"The problem is that you&#39;re casting to `TIMESTAMP`, not `TIMESTAMPTZ`.","body":"The problem is that you&#39;re casting to <code>TIMESTAMP</code>, not <code>TIMESTAMPTZ</code>."},{"owner":{"account_id":1894482,"reputation":1292,"user_id":1711751,"accept_rate":50,"display_name":"Markus Ratzer"},"score":0,"creation_date":1690886883,"post_id":76810188,"comment_id":135412603,"body_markdown":"Another thing you can investigate: `resultSet.getObject(&quot;updated_at&quot;, Instant.class)` can be used to get the, well, instant stored in the DB. You then can use `Instant`&#39;s methods `atOffset(...)` or `atZone(...)` (and then _maybe_ `toLocalDateTime()`) to get the desired representation.","body":"Another thing you can investigate: <code>resultSet.getObject(&quot;updated_at&quot;, Instant.class)</code> can be used to get the, well, instant stored in the DB. You then can use <code>Instant</code>&#39;s methods <code>atOffset(...)</code> or <code>atZone(...)</code> (and then <i>maybe</i> <code>toLocalDateTime()</code>) to get the desired representation."},{"owner":{"account_id":1894482,"reputation":1292,"user_id":1711751,"accept_rate":50,"display_name":"Markus Ratzer"},"score":0,"creation_date":1690887572,"post_id":76810188,"comment_id":135412781,"body_markdown":"And to answer your actual question: as @MarkRotteveel indicated, some automatic conversion happens _somewhere_ depending on your local time zone settings. This is either done by the JDBC driver on the client side (_may_ be configurable) or by the DB itself on the server side (_may_ be configurable, e.g. via the connection string or some statement in the beginning of a new DB session).","body":"And to answer your actual question: as @MarkRotteveel indicated, some automatic conversion happens <i>somewhere</i> depending on your local time zone settings. This is either done by the JDBC driver on the client side (<i>may</i> be configurable) or by the DB itself on the server side (<i>may</i> be configurable, e.g. via the connection string or some statement in the beginning of a new DB session)."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690887803,"post_id":76810188,"comment_id":135412844,"body_markdown":"@MarkusRatzer Be aware that support for `Instant` is not defined by the JDBC specification, I believe the PostgreSQL JDBC driver supports it, but it is non-standard. `LocalDateTime` is defined for (JDBC type) `TIMESTAMP`, and `OffsetDateTime` for (JDBC type) `TIMESTAMP_WITH_TIMEZONE`.","body":"@MarkusRatzer Be aware that support for <code>Instant</code> is not defined by the JDBC specification, I believe the PostgreSQL JDBC driver supports it, but it is non-standard. <code>LocalDateTime</code> is defined for (JDBC type) <code>TIMESTAMP</code>, and <code>OffsetDateTime</code> for (JDBC type) <code>TIMESTAMP_WITH_TIMEZONE</code>."}],"answers":[{"tags":[],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690896054,"creation_date":1690896054,"answer_id":76812071,"question_id":76810188,"body_markdown":"It turned out the different behavior was caused by the JDBC connector using the client&#39;s time zone (UTC+2) and for some reason neither [Database Tools][1] nor PGAdmin I executed the query use the client&#39;s time zone. They either set it as UTC (matching my database configuration) or somehow use the database time zone.\r\n\r\nIn order to have the same behavior I managed to set the time zone on my Java class execution passing a VM option\r\n\r\n     -Duser.timezone=UTC\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2023.1/database-tool-window.html","title":"PostgreSQL - define query result&#39;s timezone","body":"<p>It turned out the different behavior was caused by the JDBC connector using the client's time zone (UTC+2) and for some reason neither <a href=\"https://www.jetbrains.com/help/idea/2023.1/database-tool-window.html\" rel=\"nofollow noreferrer\">Database Tools</a> nor PGAdmin I executed the query use the client's time zone. They either set it as UTC (matching my database configuration) or somehow use the database time zone.</p>\n<p>In order to have the same behavior I managed to set the time zone on my Java class execution passing a VM option</p>\n<pre><code> -Duser.timezone=UTC\n</code></pre>\n"}],"owner":{"account_id":1383225,"reputation":1976,"user_id":1315787,"accept_rate":61,"display_name":"VeryNiceArgumentException"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76812071,"answer_count":1,"score":-1,"last_activity_date":1690896054,"creation_date":1690881349,"question_id":76810188,"body_markdown":"I have a query where the clause is based on any data uploaded after a certain date:\r\n\r\n```sql\r\nSELECT *\r\nFROM table_data da\r\nWHERE da.uploaded_at &gt; &#39;2023-06-27 14:59:22.947058 +00:00&#39;::TIMESTAMP\r\n```\r\n\r\nWhen I execute it thought Intellij IDEA using [Database Tool][1] plugin it returns:\r\n\r\n| ID  | UPLOADED_AT                   | \r\n| --- | ------------------------------|\r\n|  1  | 2023-06-29 19:49:18.103044+00 |\r\n\r\nBut, when I execute it though a Java class using a JDBC connection, it returns:\r\n\r\n| ID  | UPLOADED_AT                   | \r\n| --- | ------------------------------|\r\n|  1  | 2023-06-29 21:49:18.103044+02 |\r\n\r\n\r\nWhere this returned timezone is defined?\r\n\r\nEnvironment:\r\n- PostgreSQL 11.9 (UTF)\r\n- Java 8\r\n\r\n```java\r\n\r\ntry (Connection conn = DriverManager.getConnection(url, username, password);\r\n     PreparedStatement preparedStatement = conn.prepareStatement(sql))\r\n{\r\n     ResultSet resultSet = preparedStatement.executeQuery();\r\n\r\n     while (resultSet.next())\r\n     {\r\n          System.out.println(resultSet.getString(&quot;id&quot;) + &quot;|&quot; + resultSet.getString(&quot;uploaded_at&quot;)));\r\n     }\r\n\r\n}\r\n(...)\r\n```\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2023.1/database-tool-window.html","title":"PostgreSQL - define query result&#39;s timezone","body":"<p>I have a query where the clause is based on any data uploaded after a certain date:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM table_data da\nWHERE da.uploaded_at &gt; '2023-06-27 14:59:22.947058 +00:00'::TIMESTAMP\n</code></pre>\n<p>When I execute it thought Intellij IDEA using <a href=\"https://www.jetbrains.com/help/idea/2023.1/database-tool-window.html\" rel=\"nofollow noreferrer\">Database Tool</a> plugin it returns:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>UPLOADED_AT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2023-06-29 19:49:18.103044+00</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But, when I execute it though a Java class using a JDBC connection, it returns:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>UPLOADED_AT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>2023-06-29 21:49:18.103044+02</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Where this returned timezone is defined?</p>\n<p>Environment:</p>\n<ul>\n<li>PostgreSQL 11.9 (UTF)</li>\n<li>Java 8</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\ntry (Connection conn = DriverManager.getConnection(url, username, password);\n     PreparedStatement preparedStatement = conn.prepareStatement(sql))\n{\n     ResultSet resultSet = preparedStatement.executeQuery();\n\n     while (resultSet.next())\n     {\n          System.out.println(resultSet.getString(&quot;id&quot;) + &quot;|&quot; + resultSet.getString(&quot;uploaded_at&quot;)));\n     }\n\n}\n(...)\n</code></pre>\n"},{"tags":["java","maven","protocol-buffers","maven-plugin","grpc-java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1690402084,"post_id":76774670,"comment_id":135350353,"body_markdown":"It sounds like you&#39;re building the protos but not the gRPC parts.  Check the gRPC documentation.","body":"It sounds like you&#39;re building the protos but not the gRPC parts.  Check the gRPC documentation."},{"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"score":0,"creation_date":1690402832,"post_id":76774670,"comment_id":135350474,"body_markdown":"protoc --java_out=DataLink_Parser/backend/src/main/java/com/backend --grpc-java_out=DataLink_Parser/backend/src/main/java/com/backend DataLink_Parser/backend/src/main/java/com/backend/HelloService.proto\nshould I use this command ?","body":"protoc --java_out=DataLink_Parser/backend/src/main/java/com/backend --grpc-java_out=DataLink_Parser/backend/src/main/java/com/ba&zwnj;&#8203;ckend DataLink_Parser/backend/src/main/java/com/backend/HelloServi&zwnj;&#8203;ce.proto should I use this command ?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1690403541,"post_id":76774670,"comment_id":135350589,"body_markdown":"What happens when you run it?","body":"What happens when you run it?"},{"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"score":0,"creation_date":1690403633,"post_id":76774670,"comment_id":135350607,"body_markdown":"it gives this eror.\nprotoc-gen-grpc-java: program not found or is not executable\nPlease specify a program using absolute path or make sure the program is available in your PATH system variable\n--grpc-java_out: protoc-gen-grpc-java: Plugin failed with status code 1.","body":"it gives this eror. protoc-gen-grpc-java: program not found or is not executable Please specify a program using absolute path or make sure the program is available in your PATH system variable --grpc-java_out: protoc-gen-grpc-java: Plugin failed with status code 1."},{"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"score":0,"creation_date":1690403813,"post_id":76774670,"comment_id":135350637,"body_markdown":"I think u are right. I should run gRPC part. \nprotoc --grpc-java_out=DataLink_Parser/backend/src/main/java/com/backend DataLink_Parser/backend/src/main/java/com/backend/HelloService.proto\nlike that","body":"I think u are right. I should run gRPC part.  protoc --grpc-java_out=DataLink_Parser/backend/src/main/java/com/ba&zwnj;&#8203;ckend DataLink_Parser/backend/src/main/java/com/backend/HelloServi&zwnj;&#8203;ce.proto like that"},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1690421874,"post_id":76774670,"comment_id":135352881,"body_markdown":"I am not a Java developer but I&#39;m familiar with gRPC. As @louis-wasserman suggested, you may want to check out the gRPC [Java](https://grpc.io/docs/languages/java/) content; it&#39;s decent. Using Maven, you do not need to run `protoc` manually but you can incorporate it into a `pom.xml`, see this [example](https://github.com/grpc/grpc-java/blob/master/examples/pom.xml)","body":"I am not a Java developer but I&#39;m familiar with gRPC. As @louis-wasserman suggested, you may want to check out the gRPC <a href=\"https://grpc.io/docs/languages/java/\" rel=\"nofollow noreferrer\">Java</a> content; it&#39;s decent. Using Maven, you do not need to run <code>protoc</code> manually but you can incorporate it into a <code>pom.xml</code>, see this <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/pom.xml\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1690421980,"post_id":76774670,"comment_id":135352891,"body_markdown":"If you want to use `protoc` standalone, you&#39;ll need to install `protoc-gen-grpc-java` and place it in the path so that `protoc` can find it. There are instructions for extracting `protoc-gen-grpc-java` from the Maven artifact [here](https://github.com/grpc/grpc-java/blob/master/compiler/README.md)","body":"If you want to use <code>protoc</code> standalone, you&#39;ll need to install <code>protoc-gen-grpc-java</code> and place it in the path so that <code>protoc</code> can find it. There are instructions for extracting <code>protoc-gen-grpc-java</code> from the Maven artifact <a href=\"https://github.com/grpc/grpc-java/blob/master/compiler/README.md\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690451017,"post_id":76774670,"comment_id":135356798,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"score":0,"creation_date":1690459506,"post_id":76774670,"comment_id":135358579,"body_markdown":"When I solved the problem in the grpc command above, the missing java class was also created. Thank you for help guys.","body":"When I solved the problem in the grpc command above, the missing java class was also created. Thank you for help guys."},{"owner":{"account_id":21867978,"reputation":1653,"user_id":16157878,"display_name":"soundflix"},"score":0,"creation_date":1690705469,"post_id":76774670,"comment_id":135388521,"body_markdown":"@H&#252;sn&#252;Ayaz: Please post your working solution as an answer.","body":"@H&#252;sn&#252;Ayaz: Please post your working solution as an answer."}],"answers":[{"tags":[],"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690895785,"creation_date":1690892655,"answer_id":76811593,"question_id":76774670,"body_markdown":"if you want to compile the proto file manually, you need to compile it in 2 parts as java_out and grpc-java_out. Like the code below:\r\n\r\n    protoc --plugin=protoc-gen-grpc-java=/home/ayaz/Downloads/protoc-gen-grpc-java-1.56.0-linux-x86_64.exe --grpc-java_out=DataLink_Parser/backend/src/main/java/ --java_out=DataLink_Parser/backend/src/main/java/ DataLink_Parser/backend/src/main/java/com/backend/proto/HelloService.proto\r\n\r\nAnd also you need to install [Protoc Gen GRPC Java][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/io.grpc/protoc-gen-grpc-java\r\nAs in the code example above, you need to specify the location of the Protocol Gen GRPC Java that you downloaded.","title":"missing class after compiling protobuf","body":"<p>if you want to compile the proto file manually, you need to compile it in 2 parts as java_out and grpc-java_out. Like the code below:</p>\n<pre><code>protoc --plugin=protoc-gen-grpc-java=/home/ayaz/Downloads/protoc-gen-grpc-java-1.56.0-linux-x86_64.exe --grpc-java_out=DataLink_Parser/backend/src/main/java/ --java_out=DataLink_Parser/backend/src/main/java/ DataLink_Parser/backend/src/main/java/com/backend/proto/HelloService.proto\n</code></pre>\n<p>And also you need to install <a href=\"https://mvnrepository.com/artifact/io.grpc/protoc-gen-grpc-java\" rel=\"nofollow noreferrer\">Protoc Gen GRPC Java</a></p>\n<p>As in the code example above, you need to specify the location of the Protocol Gen GRPC Java that you downloaded.</p>\n"}],"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690895785,"creation_date":1690401759,"question_id":76774670,"body_markdown":"I have created a basic proto file with 2 messages and 1 service inside. `Hellorequest` and `Helloresponse` and `Hello` service. &lt;br&gt;\r\n\r\nI&#39;m working on a [Maven][1] project in [Visual Studio Code][2].&lt;br&gt;\r\n  [1]: https://maven.apache.org/ &lt;br&gt;\r\n  [2]: https://code.visualstudio.com/ &lt;br&gt;\r\n\r\nI&#39;m using this command to compile:\r\n\r\n    protoc --java_out=DataLink_Parser/backend/src/main/java/com/backend DataLink_Parser/backend/src/main/java/com/backend/HelloService.proto\r\n\r\n5 files in total are created;&lt;br&gt;\r\n`Hellorequest` and `Helloresponse` java classes are created.&lt;br&gt; *Hellorequestorbuild.java*,\r\n*Helloresponseorbuild.java* and last *HelloServiceOuterClass.java* files are created; &lt;br&gt;\r\n**However I also need class `HelloServiceImplBase`, but it&#39;s not created.** &lt;br&gt;\r\n\r\nI&#39;ve tried dependencies and plugins. But the result is the same.&lt;br&gt;\r\n\r\n\r\nI&#39;m a student learning protobuf, can you help me with this?","title":"missing class after compiling protobuf","body":"<p>I have created a basic proto file with 2 messages and 1 service inside. <code>Hellorequest</code> and <code>Helloresponse</code> and <code>Hello</code> service. <br></p>\n<p>I'm working on a [Maven][1] project in [Visual Studio Code][2].<br>\n[1]: https://maven.apache.org/ <br>\n[2]: https://code.visualstudio.com/ <br></p>\n<p>I'm using this command to compile:</p>\n<pre><code>protoc --java_out=DataLink_Parser/backend/src/main/java/com/backend DataLink_Parser/backend/src/main/java/com/backend/HelloService.proto\n</code></pre>\n<p>5 files in total are created;<br>\n<code>Hellorequest</code> and <code>Helloresponse</code> java classes are created.<br> <em>Hellorequestorbuild.java</em>,\n<em>Helloresponseorbuild.java</em> and last <em>HelloServiceOuterClass.java</em> files are created; <br>\n<strong>However I also need class <code>HelloServiceImplBase</code>, but it's not created.</strong> <br></p>\n<p>I've tried dependencies and plugins. But the result is the same.<br></p>\n<p>I'm a student learning protobuf, can you help me with this?</p>\n"},{"tags":["java","redis","spring-webflux","reactive"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1690895403,"post_id":76811926,"comment_id":135414523,"body_markdown":"You can&#39;t simple use `reactiveRedisCommands.hget(key, hash).block()`?","body":"You can&#39;t simple use <code>reactiveRedisCommands.hget(key, hash).block()</code>?"},{"owner":{"account_id":4663697,"reputation":599,"user_id":3777305,"accept_rate":50,"display_name":"Mark1234"},"score":0,"creation_date":1690895544,"post_id":76811926,"comment_id":135414559,"body_markdown":"Yeah, that is always there but wondering if can avoid this block as this is an extremely high volume system.","body":"Yeah, that is always there but wondering if can avoid this block as this is an extremely high volume system."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":2,"creation_date":1690895706,"post_id":76811926,"comment_id":135414598,"body_markdown":"Since you want to return an Object, not Mono/Future, block is inevitable - you have to wait for the result","body":"Since you want to return an Object, not Mono/Future, block is inevitable - you have to wait for the result"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690895855,"post_id":76811926,"comment_id":135414631,"body_markdown":"@gdomo is right, there&#39;s no better way to do it.","body":"@gdomo is right, there&#39;s no better way to do it."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690895658,"creation_date":1690895658,"answer_id":76812007,"question_id":76811926,"body_markdown":"You can&#39;t. The very point of that callback is that the result cannot be provided to the caller; instead, the result will occur some time later.\r\n\r\nThe usual solution is callback hell: All async methods return `void` and instead take a `Consumer&lt;X&gt;` where `X` is what you&#39;d have ordinarily returned in a non-async world. The problem is that code tends to turn into a spaghetti mess of callbacks piled onto everything.\r\n\r\nYou signed up for that when you decided to go with an async setup. Usually you don&#39;t need to (threads are generally fine).\r\n\r\nProject Loom is the name of the work on java to make such things a lot simpler. Very modern JVMs (version 20) have many parts of loom already integrated, but this all happened essentially this year; many frameworks haven&#39;t (yet) gotten around to using loom to make this callback hell situation less problematic. So, whilst it&#39;s bad news today, it should get better within a year or two.\r\n\r\nUntil then you have only three options:\r\n\r\n1. Start over and ditch async. It&#39;s rarely worth it.\r\n2. Have your `getObject` method block until a result is available. This isn&#39;t particularly hard to write but makes your `getObject` method an illegal call in any async context (async contexts are not allowed to block!). Generally you get the future and ask the [`Future`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html) to wait until a response is available. That functionality can also trivially written by making a lock object and using `wait`/`notify` if somehow you want to handroll the functionality. This is usually a very bad idea, you&#39;re now mixing sync and async with disastrous results (disastrous as in: Works fine on your dev machine, runs like molasses on production, because you&#39;re blocking in async contexts).\r\n3. Rewrite this method into either returning a future, or returning `void` and accepting a `Consumer&lt;String&gt; processor` argument which you pass straight to `subscribe`.\r\n","title":"Non blocking way to return a mono response value","body":"<p>You can't. The very point of that callback is that the result cannot be provided to the caller; instead, the result will occur some time later.</p>\n<p>The usual solution is callback hell: All async methods return <code>void</code> and instead take a <code>Consumer&lt;X&gt;</code> where <code>X</code> is what you'd have ordinarily returned in a non-async world. The problem is that code tends to turn into a spaghetti mess of callbacks piled onto everything.</p>\n<p>You signed up for that when you decided to go with an async setup. Usually you don't need to (threads are generally fine).</p>\n<p>Project Loom is the name of the work on java to make such things a lot simpler. Very modern JVMs (version 20) have many parts of loom already integrated, but this all happened essentially this year; many frameworks haven't (yet) gotten around to using loom to make this callback hell situation less problematic. So, whilst it's bad news today, it should get better within a year or two.</p>\n<p>Until then you have only three options:</p>\n<ol>\n<li>Start over and ditch async. It's rarely worth it.</li>\n<li>Have your <code>getObject</code> method block until a result is available. This isn't particularly hard to write but makes your <code>getObject</code> method an illegal call in any async context (async contexts are not allowed to block!). Generally you get the future and ask the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future</code></a> to wait until a response is available. That functionality can also trivially written by making a lock object and using <code>wait</code>/<code>notify</code> if somehow you want to handroll the functionality. This is usually a very bad idea, you're now mixing sync and async with disastrous results (disastrous as in: Works fine on your dev machine, runs like molasses on production, because you're blocking in async contexts).</li>\n<li>Rewrite this method into either returning a future, or returning <code>void</code> and accepting a <code>Consumer&lt;String&gt; processor</code> argument which you pass straight to <code>subscribe</code>.</li>\n</ol>\n"}],"owner":{"account_id":4663697,"reputation":599,"user_id":3777305,"accept_rate":50,"display_name":"Mark1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690895658,"creation_date":1690895166,"question_id":76811926,"body_markdown":"I have below code, what is the ideal way to return the value correctly from this method that uses reactive redis operations and is meant to serve as an common api to read a value from redis. I can write some whacky code to manage this but just wondering if there is a cool way that I may be missing, thanks for sharing.\r\n\r\n    public Object getObject(final String key, final String hash) {\t\t\r\n\t\treactiveRedisCommands.hget(key , field ) //returns Mono&lt;String&gt;\t\t\r\n\t\t.subscribe(\t\t\t\t\r\n\t\t\t\tnew Consumer&lt;String&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void accept(String value) {\r\n\t\t\t\t\t\t//String value\tis obtained here and converted to object as per type and any additional processing that is required\t\t\t\t\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}); \r\n\t\t\r\n\t\treturn null;// how to return correct value here\r\n\t}\t","title":"Non blocking way to return a mono response value","body":"<p>I have below code, what is the ideal way to return the value correctly from this method that uses reactive redis operations and is meant to serve as an common api to read a value from redis. I can write some whacky code to manage this but just wondering if there is a cool way that I may be missing, thanks for sharing.</p>\n<pre><code>public Object getObject(final String key, final String hash) {      \n    reactiveRedisCommands.hget(key , field ) //returns Mono&lt;String&gt;     \n    .subscribe(             \n            new Consumer&lt;String&gt;() {\n                @Override\n                public void accept(String value) {\n                    //String value  is obtained here and converted to object as per type and any additional processing that is required                 \n\n                }\n            }); \n    \n    return null;// how to return correct value here\n}   \n</code></pre>\n"},{"tags":["java","maven","protocol-buffers","pom.xml","maven-dependency-plugin"],"answers":[{"tags":[],"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690895599,"creation_date":1690895599,"answer_id":76811992,"question_id":76796970,"body_markdown":"I changed the protoc version to 3.12.4 and my problem has been fixed.","title":"After compiling the proto file, I get &quot;com.google cannot be resolved to a type&quot; error in the created java classes","body":"<p>I changed the protoc version to 3.12.4 and my problem has been fixed.</p>\n"}],"owner":{"account_id":29098308,"reputation":1,"user_id":22290724,"display_name":"H&#252;sn&#252; Ayaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690895599,"creation_date":1690706187,"question_id":76796970,"body_markdown":"I&#39;m working on a [Maven][1] project in [Visual Studio Code][2].\r\n\r\nI&#39;m using this command to compile the proto file:\r\n```\r\nprotoc --plugin=protoc-gen-grpc-java=/home/ayaz/Downloads/protoc-gen-grpc-java-1.56.0-linux-x86_64.exe --grpc-java_out=DataLink_Parser/backend/src/main/java/com/backend --java_out=DataLink_Parser/backend/src/main/java/com/backend DataLink_Parser/backend/src/main/java/com/backend/HelloService.proto\r\n```\r\nWhen I compiled the proto file on the computer where my backend codes were written, and the necessary classes for java were created without any problems, but I encountered a lot of errors in java classes that occurred when I compiled the same proto file on the computer where my frontend codes were written.\r\n\r\nI get this error in the created java classes:\r\n\r\n&gt; com.google cannot be resolved to a type\r\n\r\n\r\nI thought it was from the pom file, but no matter how much I checked the pom file, I couldn&#39;t figure it out. I think it may have originated somewhere else.\r\n\r\n[1]: https://maven.apache.org/\r\n[2]: https://code.visualstudio.com/","title":"After compiling the proto file, I get &quot;com.google cannot be resolved to a type&quot; error in the created java classes","body":"<p>I'm working on a <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a> project in <a href=\"https://code.visualstudio.com/\" rel=\"nofollow noreferrer\">Visual Studio Code</a>.</p>\n<p>I'm using this command to compile the proto file:</p>\n<pre><code>protoc --plugin=protoc-gen-grpc-java=/home/ayaz/Downloads/protoc-gen-grpc-java-1.56.0-linux-x86_64.exe --grpc-java_out=DataLink_Parser/backend/src/main/java/com/backend --java_out=DataLink_Parser/backend/src/main/java/com/backend DataLink_Parser/backend/src/main/java/com/backend/HelloService.proto\n</code></pre>\n<p>When I compiled the proto file on the computer where my backend codes were written, and the necessary classes for java were created without any problems, but I encountered a lot of errors in java classes that occurred when I compiled the same proto file on the computer where my frontend codes were written.</p>\n<p>I get this error in the created java classes:</p>\n<blockquote>\n<p>com.google cannot be resolved to a type</p>\n</blockquote>\n<p>I thought it was from the pom file, but no matter how much I checked the pom file, I couldn't figure it out. I think it may have originated somewhere else.</p>\n"},{"tags":["java","mysql","database","liquibase","drop-table"],"answers":[{"tags":[],"owner":{"account_id":8809729,"reputation":2507,"user_id":6583134,"display_name":"Lemmy"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1495696656,"creation_date":1495570009,"answer_id":44144100,"question_id":44083766,"body_markdown":"You should use \r\n \r\n\r\n    &lt;changeSet author=&quot;liquibase-docs&quot; id=&quot;dropTable-example&quot;&gt;\r\n        &lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;&lt;tableExists schemaName=&quot;schemaName&quot; tableName=&quot;tableName&quot;/&gt;&lt;/preConditions&gt;\r\n        &lt;dropTable cascadeConstraints=&quot;true&quot;\r\n                catalogName=&quot;cat&quot;\r\n                schemaName=&quot;public&quot;\r\n                tableName=&quot;person&quot;/&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nAlso, you can check this link for more `&lt;preConditions&gt;` options:\r\nhttp://www.liquibase.org/documentation/preconditions.html\r\n\r\n","title":"Drop MySQL table using Liquibase","body":"<p>You should use </p>\n\n<pre><code>&lt;changeSet author=\"liquibase-docs\" id=\"dropTable-example\"&gt;\n    &lt;preConditions onFail=\"MARK_RAN\"&gt;&lt;tableExists schemaName=\"schemaName\" tableName=\"tableName\"/&gt;&lt;/preConditions&gt;\n    &lt;dropTable cascadeConstraints=\"true\"\n            catalogName=\"cat\"\n            schemaName=\"public\"\n            tableName=\"person\"/&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>Also, you can check this link for more <code>&lt;preConditions&gt;</code> options:\n<a href=\"http://www.liquibase.org/documentation/preconditions.html\" rel=\"noreferrer\">http://www.liquibase.org/documentation/preconditions.html</a></p>\n"},{"tags":[],"owner":{"account_id":413279,"reputation":508,"user_id":786818,"display_name":"Mihkel Selgal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690895147,"creation_date":1599050415,"answer_id":63705734,"question_id":44083766,"body_markdown":"Below is the Groovy version of dropping the table with Liquibase using `preConditions` chack that the table exists.\r\n\r\n```groovy \r\nchangeSet(author: &#39;author&#39;, id: &#39;some_id_value&#39;) {\r\n    preConditions(onFail: &#39;MARK_RAN&#39;){\r\n        tableExists(tableName: &#39;table_name&#39;)\r\n    }\r\n\r\n    dropTable(tableName: &#39;table_name&#39;)\r\n}\r\n```","title":"Drop MySQL table using Liquibase","body":"<p>Below is the Groovy version of dropping the table with Liquibase using <code>preConditions</code> chack that the table exists.</p>\n<pre><code>changeSet(author: 'author', id: 'some_id_value') {\n    preConditions(onFail: 'MARK_RAN'){\n        tableExists(tableName: 'table_name')\n    }\n\n    dropTable(tableName: 'table_name')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546725,"reputation":697,"user_id":8152918,"display_name":"Fede Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660249103,"creation_date":1660248347,"answer_id":73326358,"question_id":44083766,"body_markdown":"Here is a YAML snippet for dropping a table if exists\r\n\r\n    - changeSet:\r\n        id: drop-my-table-if-exists\r\n        author: the-author\r\n        comment: drop my_table if exists\r\n        preConditions:\r\n        - onFail: MARK_RAN\r\n        - tableExists:\r\n            tableName: my_table\r\n        changes:\r\n        - dropTable:\r\n            tableName: my_table\r\n","title":"Drop MySQL table using Liquibase","body":"<p>Here is a YAML snippet for dropping a table if exists</p>\n<pre><code>- changeSet:\n    id: drop-my-table-if-exists\n    author: the-author\n    comment: drop my_table if exists\n    preConditions:\n    - onFail: MARK_RAN\n    - tableExists:\n        tableName: my_table\n    changes:\n    - dropTable:\n        tableName: my_table\n</code></pre>\n"}],"owner":{"account_id":3695522,"reputation":561,"user_id":3076981,"accept_rate":73,"display_name":"Arpit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24226,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":44144100,"answer_count":3,"score":12,"last_activity_date":1690895147,"creation_date":1495269745,"question_id":44083766,"body_markdown":"I am looking to drop a table in MySQL using Liquibase only if the table exists.\r\n\r\nI am not able to figure out how to check if a table exists in Liquibase.","title":"Drop MySQL table using Liquibase","body":"<p>I am looking to drop a table in MySQL using Liquibase only if the table exists.</p>\n<p>I am not able to figure out how to check if a table exists in Liquibase.</p>\n"},{"tags":["java","opensearch"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690823970,"post_id":76805566,"comment_id":135403643,"body_markdown":"Do you need to rewrite this library? https://github.com/Aiven-Open/opensearch-connector-for-apache-kafka","body":"Do you need to rewrite this library? <a href=\"https://github.com/Aiven-Open/opensearch-connector-for-apache-kafka\" rel=\"nofollow noreferrer\">github.com/Aiven-Open/opensearch-connector-for-apache-kafka</a>"},{"owner":{"account_id":26315935,"reputation":1,"user_id":20913332,"display_name":"aviorn36"},"score":0,"creation_date":1690876988,"post_id":76805566,"comment_id":135410593,"body_markdown":"@OneCricketeer , I have not used kafka connect or any connectors to send data to open-search. I have merely created High-Level-Rest-Client for open-search interaction. I am trying to explore and learn low-level kafka api, then move towards high-level apis like kafka-stream and connect. I have updated the description on how I have created rest-client for open-search. Please let me know if you need more info.","body":"@OneCricketeer , I have not used kafka connect or any connectors to send data to open-search. I have merely created High-Level-Rest-Client for open-search interaction. I am trying to explore and learn low-level kafka api, then move towards high-level apis like kafka-stream and connect. I have updated the description on how I have created rest-client for open-search. Please let me know if you need more info."},{"owner":{"account_id":26147295,"reputation":168,"user_id":19835740,"display_name":"Daxelarne"},"score":0,"creation_date":1690877287,"post_id":76805566,"comment_id":135410647,"body_markdown":"Hy, the error seems to come from KafkaOpenSearchConsumer, line 54. Can you post the concerned code ?","body":"Hy, the error seems to come from KafkaOpenSearchConsumer, line 54. Can you post the concerned code ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1690894812,"post_id":76805566,"comment_id":135414405,"body_markdown":"The above repo [also uses the opensearch rest client](https://github.com/Aiven-Open/opensearch-connector-for-apache-kafka/blob/main/src/main/java/io/aiven/kafka/connect/opensearch/OpensearchClient.java#L40). The Kafka client library isn&#39;t the issue here, anyway, therefore I&#39;ve removed the tags. Create a [mcve], please. My question was if you tried Kafka Connect first, then decided to rewrite it","body":"The above repo <a href=\"https://github.com/Aiven-Open/opensearch-connector-for-apache-kafka/blob/main/src/main/java/io/aiven/kafka/connect/opensearch/OpensearchClient.java#L40\" rel=\"nofollow noreferrer\">also uses the opensearch rest client</a>. The Kafka client library isn&#39;t the issue here, anyway, therefore I&#39;ve removed the tags. Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please. My question was if you tried Kafka Connect first, then decided to rewrite it"}],"owner":{"account_id":26315935,"reputation":1,"user_id":20913332,"display_name":"aviorn36"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690895016,"creation_date":1690821434,"question_id":76805566,"body_markdown":"When it tries to create new doc in the openSearch, I get an error\r\n\r\nI have tried down-grading open-search-dependency version to match it with the course, still the same.\r\n\r\n[attached image -&gt; ][1]\r\n\r\nWas expecting that items/doc would be created in the opensearch database index.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aUwSr.jpg\r\n\r\n\r\n```\r\njava.lang.RuntimeException: Request cannot be executed; I/O reactor status: STOPPED\r\n\r\nat org.opensearch.client.RestClient.extractAndWrapCause(RestClient.java:915)\r\n\r\nat org.opensearch.client.RestClient.performRequest(RestClient.java:301)\r\n\r\nat org.opensearch.client.RestClient.performRequest(RestClient.java:289)\r\n\r\nat org.opensearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1762)\r\n\r\nat org.opensearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1728)\r\n\r\nat org.opensearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1696)\r\n\r\nat org.opensearch.client.RestHighLevelClient.index(RestHighLevelClient.java:961)\r\n\r\nat com.aviorn36.consumer.KafkaOpenSearchConsumer.createDocsInOpenSearch(KafkaOpenSearchConsumer.java:73)\r\n\r\nat com.aviorn36.consumer.KafkaOpenSearchConsumer.main(KafkaOpenSearchConsumer.java:54)\r\n\r\nCaused by: java.lang.IllegalStateException: Request cannot be executed; I/O reactor status: STOPPED\r\n\r\nat org.apache.http.util.Asserts.check(Asserts.java:46)\r\n\r\nat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase.ensureRunning(CloseableHttpAsyncClientBase.java:90)\r\n\r\nat org.apache.http.impl.nio.client.InternalHttpAsyncClient.execute(InternalHttpAsyncClient.java:123)\r\n\r\nat org.opensearch.client.RestClient.performRequest(RestClient.java:297)\r\n\r\n7 more\r\n```\r\n\r\nRest-client for open-search.\r\n```\r\n    private static RestHighLevelClient getRestHighLevelClient() {\r\n        String openSearchServerUrl = &quot;http://localhost:9200/&quot;;\r\n        URI openSearchUri = URI.create(openSearchServerUrl);\r\n        RestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(openSearchUri.getHost(), openSearchUri.getPort(), openSearchUri.getScheme()));\r\n        if(openSearchUri.getUserInfo() != null){\r\n            restClientBuilder.setHttpClientConfigCallback(\r\n                    httpAsyncClientBuilder -&gt; {\r\n                            String[] authDetails = openSearchServerUrl.split(&quot;:&quot;);\r\n                            CredentialsProvider basicCreds = new BasicCredentialsProvider();\r\n                            basicCreds.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(authDetails[1],authDetails[2]));\r\n                            httpAsyncClientBuilder.setDefaultCredentialsProvider(basicCreds).setKeepAliveStrategy( new DefaultConnectionKeepAliveStrategy());\r\n                            return httpAsyncClientBuilder;\r\n                        }\r\n                    );\r\n        }\r\n        return new RestHighLevelClient(restClientBuilder);\r\n    }","title":"Create item to opensearch index, RuntimeException: Request cannot be executed; I/O reactor status: STOPPED","body":"<p>When it tries to create new doc in the openSearch, I get an error</p>\n<p>I have tried down-grading open-search-dependency version to match it with the course, still the same.</p>\n<p><a href=\"https://i.stack.imgur.com/aUwSr.jpg\" rel=\"nofollow noreferrer\">attached image -&gt; </a></p>\n<p>Was expecting that items/doc would be created in the opensearch database index.</p>\n<pre><code>java.lang.RuntimeException: Request cannot be executed; I/O reactor status: STOPPED\n\nat org.opensearch.client.RestClient.extractAndWrapCause(RestClient.java:915)\n\nat org.opensearch.client.RestClient.performRequest(RestClient.java:301)\n\nat org.opensearch.client.RestClient.performRequest(RestClient.java:289)\n\nat org.opensearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1762)\n\nat org.opensearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1728)\n\nat org.opensearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1696)\n\nat org.opensearch.client.RestHighLevelClient.index(RestHighLevelClient.java:961)\n\nat com.aviorn36.consumer.KafkaOpenSearchConsumer.createDocsInOpenSearch(KafkaOpenSearchConsumer.java:73)\n\nat com.aviorn36.consumer.KafkaOpenSearchConsumer.main(KafkaOpenSearchConsumer.java:54)\n\nCaused by: java.lang.IllegalStateException: Request cannot be executed; I/O reactor status: STOPPED\n\nat org.apache.http.util.Asserts.check(Asserts.java:46)\n\nat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase.ensureRunning(CloseableHttpAsyncClientBase.java:90)\n\nat org.apache.http.impl.nio.client.InternalHttpAsyncClient.execute(InternalHttpAsyncClient.java:123)\n\nat org.opensearch.client.RestClient.performRequest(RestClient.java:297)\n\n7 more\n</code></pre>\n<p>Rest-client for open-search.</p>\n<pre><code>    private static RestHighLevelClient getRestHighLevelClient() {\n        String openSearchServerUrl = &quot;http://localhost:9200/&quot;;\n        URI openSearchUri = URI.create(openSearchServerUrl);\n        RestClientBuilder restClientBuilder = RestClient.builder(new HttpHost(openSearchUri.getHost(), openSearchUri.getPort(), openSearchUri.getScheme()));\n        if(openSearchUri.getUserInfo() != null){\n            restClientBuilder.setHttpClientConfigCallback(\n                    httpAsyncClientBuilder -&gt; {\n                            String[] authDetails = openSearchServerUrl.split(&quot;:&quot;);\n                            CredentialsProvider basicCreds = new BasicCredentialsProvider();\n                            basicCreds.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(authDetails[1],authDetails[2]));\n                            httpAsyncClientBuilder.setDefaultCredentialsProvider(basicCreds).setKeepAliveStrategy( new DefaultConnectionKeepAliveStrategy());\n                            return httpAsyncClientBuilder;\n                        }\n                    );\n        }\n        return new RestHighLevelClient(restClientBuilder);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","nullpointerexception","apk"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690895656,"post_id":76811893,"comment_id":135414587,"body_markdown":"Your `//...` probably hid something meaningful. The code you included here shows you using `nickname`, but never defining it anywhere. If that value is not initialized, then it is `null`, and `null.setBackgroundResource` is nonsense.","body":"Your <code>&#47;&#47;...</code> probably hid something meaningful. The code you included here shows you using <code>nickname</code>, but never defining it anywhere. If that value is not initialized, then it is <code>null</code>, and <code>null.setBackgroundResource</code> is nonsense."},{"owner":{"account_id":27774680,"reputation":1,"user_id":21204294,"display_name":"Poisk znaij"},"score":0,"creation_date":1690896546,"post_id":76811893,"comment_id":135414796,"body_markdown":"i tried to initialize nickname via findViewById because nickname is in res/layout/item_message_in_chat.xml\nBut when using findViewById, it gives an error (Unresolved reference: findViewById) even though the import is done.","body":"i tried to initialize nickname via findViewById because nickname is in res/layout/item_message_in_chat.xml But when using findViewById, it gives an error (Unresolved reference: findViewById) even though the import is done."},{"owner":{"account_id":27774680,"reputation":1,"user_id":21204294,"display_name":"Poisk znaij"},"score":0,"creation_date":1690898179,"post_id":76811893,"comment_id":135415193,"body_markdown":"I&#39;m in a fragment (not in an activity) what should I do?","body":"I&#39;m in a fragment (not in an activity) what should I do?"}],"owner":{"account_id":27774680,"reputation":1,"user_id":21204294,"display_name":"Poisk znaij"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690895002,"answer_count":0,"score":0,"last_activity_date":1690894870,"creation_date":1690894870,"question_id":76811893,"body_markdown":"I have this code, which, according to my idea, should set the background for nicknames in the chat when you turn on the custom background in the chat. Current file -  AppearanceFragment.kt\r\n\r\n```\r\npackage com.twoeightnine.root.xvii.features.appearance\r\n\r\nimport android.graphics.drawable.GradientDrawable\r\nimport android.os.Bundle\r\nimport android.util.TypedValue\r\nimport android.view.View\r\nimport android.widget.CompoundButton\r\nimport android.widget.TextView\r\nimport android.content.res.ColorStateList\r\nimport android.graphics.Color\r\nimport androidx.core.view.isVisible\r\nimport com.twoeightnine.root.xvii.base.BaseActivity\r\nimport android.view.WindowManager;\r\nimport android.graphics.drawable.Drawable\r\nimport android.view.LayoutInflater\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.core.content.ContextCompat\r\nimport com.flask.colorpicker.ColorPickerView\r\nimport com.flask.colorpicker.builder.ColorPickerDialogBuilder\r\nimport com.twoeightnine.root.xvii.R\r\nimport com.twoeightnine.root.xvii.base.BaseFragment\r\nimport com.twoeightnine.root.xvii.chats.attachments.gallery.GalleryFragment\r\nimport com.twoeightnine.root.xvii.extensions.load\r\nimport com.twoeightnine.root.xvii.managers.Prefs\r\nimport com.twoeightnine.root.xvii.uikit.Munch\r\nimport com.twoeightnine.root.xvii.uikit.paint\r\nimport com.twoeightnine.root.xvii.utils.*\r\nimport com.twoeightnine.root.xvii.views.LoadingDialog\r\nimport global.msnthrp.xvii.uikit.extensions.applyBottomInsetPadding\r\nimport global.msnthrp.xvii.uikit.extensions.hide\r\nimport global.msnthrp.xvii.uikit.extensions.lowerIf\r\nimport global.msnthrp.xvii.uikit.extensions.setVisible\r\nimport global.msnthrp.xvii.uikit.utils.color.ColorUtils\r\nimport kotlinx.android.synthetic.main.chat_input_panel.*\r\nimport kotlinx.android.synthetic.main.fragment_appearance.*\r\nimport kotlinx.android.synthetic.main.item_message_in_chat.*\r\nimport kotlinx.android.synthetic.main.view_appearance_sample.*\r\nimport kotlinx.android.synthetic.main.view_appearance_sample.view.*\r\nimport java.io.File\r\n\r\n\r\n\r\n\r\n\r\nclass AppearanceFragment : BaseFragment() {\r\n//...\r\n      private fun setback() {\r\n         nickname.setBackgroundResource(R.drawable.nick_shape)\r\n        }\r\n      private fun delback() {\r\n            nickname.setBackgroundResource(R.drawable.nick_shape_wo)\r\n      }\r\n      private fun initViews() {\r\n        isLightBefore = Prefs.isLightTheme\r\n        switchLightTheme.onCheckedListener = CompoundButton.OnCheckedChangeListener { _, b -&gt;\r\n            applyColors()\r\n        }\r\n        switchLightTheme.isChecked = isLightBefore\r\n        if (Prefs.chatBack.isNotEmpty()) {\r\n            updatePhoto(Prefs.chatBack)\r\n        }\r\n        btnGallery.setOnClickListener { openGallery() }\r\n        csThemeColor.setOnClickListener {\r\n            showColorPicker(currentColor) { color -&gt;\r\n                currentColor = color\r\n                applyColors()\r\n            }\r\n        }\r\n\r\n\r\n\r\n        switchChatBack.onCheckedListener = CompoundButton.OnCheckedChangeListener { _, isChecked -&gt;\r\n            llCustomBack.setVisible(isChecked)\r\n            setback()\r\n            nickname.setBackgroundResource(R.drawable.nick_shape);\r\n            if (!isChecked) {\r\n                deletePhoto()\r\n                delback()\r\n               // nickname.setBackgroundResource(R.drawable.nick_shape_wo);\r\n\r\n            }\r\n\r\n\r\n        }\r\n```\r\nwhen starting the program it gives the following error\r\n**java.lang.NullPointerException:\r\nAttempt to invoke virtual method &#39;void android.view.View.setBackgroundResource(int)&quot; on a null object reference at\r\ncom.twoeightnine.root.xvii.features.appearance.Appea ranceFragment.setback(AppearanceFragment.kt: 239)**\r\n\r\n\r\n\r\nTried to create in activity and not in fragment but not successfull","title":"Attempt to invoke virtual method on a null object reference at","body":"<p>I have this code, which, according to my idea, should set the background for nicknames in the chat when you turn on the custom background in the chat. Current file -  AppearanceFragment.kt</p>\n<pre><code>package com.twoeightnine.root.xvii.features.appearance\n\nimport android.graphics.drawable.GradientDrawable\nimport android.os.Bundle\nimport android.util.TypedValue\nimport android.view.View\nimport android.widget.CompoundButton\nimport android.widget.TextView\nimport android.content.res.ColorStateList\nimport android.graphics.Color\nimport androidx.core.view.isVisible\nimport com.twoeightnine.root.xvii.base.BaseActivity\nimport android.view.WindowManager;\nimport android.graphics.drawable.Drawable\nimport android.view.LayoutInflater\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.content.ContextCompat\nimport com.flask.colorpicker.ColorPickerView\nimport com.flask.colorpicker.builder.ColorPickerDialogBuilder\nimport com.twoeightnine.root.xvii.R\nimport com.twoeightnine.root.xvii.base.BaseFragment\nimport com.twoeightnine.root.xvii.chats.attachments.gallery.GalleryFragment\nimport com.twoeightnine.root.xvii.extensions.load\nimport com.twoeightnine.root.xvii.managers.Prefs\nimport com.twoeightnine.root.xvii.uikit.Munch\nimport com.twoeightnine.root.xvii.uikit.paint\nimport com.twoeightnine.root.xvii.utils.*\nimport com.twoeightnine.root.xvii.views.LoadingDialog\nimport global.msnthrp.xvii.uikit.extensions.applyBottomInsetPadding\nimport global.msnthrp.xvii.uikit.extensions.hide\nimport global.msnthrp.xvii.uikit.extensions.lowerIf\nimport global.msnthrp.xvii.uikit.extensions.setVisible\nimport global.msnthrp.xvii.uikit.utils.color.ColorUtils\nimport kotlinx.android.synthetic.main.chat_input_panel.*\nimport kotlinx.android.synthetic.main.fragment_appearance.*\nimport kotlinx.android.synthetic.main.item_message_in_chat.*\nimport kotlinx.android.synthetic.main.view_appearance_sample.*\nimport kotlinx.android.synthetic.main.view_appearance_sample.view.*\nimport java.io.File\n\n\n\n\n\nclass AppearanceFragment : BaseFragment() {\n//...\n      private fun setback() {\n         nickname.setBackgroundResource(R.drawable.nick_shape)\n        }\n      private fun delback() {\n            nickname.setBackgroundResource(R.drawable.nick_shape_wo)\n      }\n      private fun initViews() {\n        isLightBefore = Prefs.isLightTheme\n        switchLightTheme.onCheckedListener = CompoundButton.OnCheckedChangeListener { _, b -&gt;\n            applyColors()\n        }\n        switchLightTheme.isChecked = isLightBefore\n        if (Prefs.chatBack.isNotEmpty()) {\n            updatePhoto(Prefs.chatBack)\n        }\n        btnGallery.setOnClickListener { openGallery() }\n        csThemeColor.setOnClickListener {\n            showColorPicker(currentColor) { color -&gt;\n                currentColor = color\n                applyColors()\n            }\n        }\n\n\n\n        switchChatBack.onCheckedListener = CompoundButton.OnCheckedChangeListener { _, isChecked -&gt;\n            llCustomBack.setVisible(isChecked)\n            setback()\n            nickname.setBackgroundResource(R.drawable.nick_shape);\n            if (!isChecked) {\n                deletePhoto()\n                delback()\n               // nickname.setBackgroundResource(R.drawable.nick_shape_wo);\n\n            }\n\n\n        }\n</code></pre>\n<p>when starting the program it gives the following error\n<strong>java.lang.NullPointerException:\nAttempt to invoke virtual method 'void android.view.View.setBackgroundResource(int)&quot; on a null object reference at\ncom.twoeightnine.root.xvii.features.appearance.Appea ranceFragment.setback(AppearanceFragment.kt: 239)</strong></p>\n<p>Tried to create in activity and not in fragment but not successfull</p>\n"},{"tags":["java","spring","spring-boot","parameters","command-line-interface"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690894733,"post_id":76806971,"comment_id":135414386,"body_markdown":"The `-jar` does exactly what it is supposed to do, launch a jar, it will ignore everything else. If you want to use the `PropertiesLauncher` you have to use `-cp` (classpath) to make the jar part of the classpath instead for it to being launched. Removing the `Main-Class` will not remove it from the manifest, as the main is alway the `JarLauncher` and it will detect the `Start-Class` (IIRC).","body":"The <code>-jar</code> does exactly what it is supposed to do, launch a jar, it will ignore everything else. If you want to use the <code>PropertiesLauncher</code> you have to use <code>-cp</code> (classpath) to make the jar part of the classpath instead for it to being launched. Removing the <code>Main-Class</code> will not remove it from the manifest, as the main is alway the <code>JarLauncher</code> and it will detect the <code>Start-Class</code> (IIRC)."},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1690895561,"post_id":76806971,"comment_id":135414565,"body_markdown":"Try this: https://stackoverflow.com/a/76811967/3710490 and you can run just with `java -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar`","body":"Try this: <a href=\"https://stackoverflow.com/a/76811967/3710490\">stackoverflow.com/a/76811967/3710490</a> and you can run just with <code>java -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690894286,"creation_date":1690861962,"answer_id":76808389,"question_id":76806971,"body_markdown":"In the command line:\r\n```\r\njava -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar -Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication org.springframework.boot.loader.PropertiesLauncher\r\n```\r\nThe strings `-Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication` and `org.springframework.boot.loader.PropertiesLauncher` are passed to `main` as command line parameters. They aren&#39;t interpreted by `java` or Spring Boot.\r\n\r\nThe correct command line is:\r\n```\r\njava -Dloader.main=com.example.demo.DemoApplication3 \\\r\n  -cp target/demo-0.0.1-SNAPSHOT.jar \\\r\n  org.springframework.boot.loader.PropertiesLauncher\r\n```\r\nassuming that your application class is `com.example.demo.DemoApplication3`\r\n\r\nI would have expected that setting the `mainClass` to `org.springframework.boot.loader.PropertiesLauncher` in the `spring-boot-maven-plugin` configuration would have allowed this to work with `-jar`, but that gives me a stack overflow error.\r\n\r\nThat jar was built with a plain config:\r\n```\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.example.demo.DemoApplication&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nYou can set `mainClass` to whatever you like -- one of the applications, to use as a default, or a class which gives a usage message if `loader.main` hasn&#39;t been set and the jar is run with `-jar`.","title":"Usage of org.springframework.boot.loader.PropertiesLauncher when launching a Spring Boot app with a dynamic main class","body":"<p>In the command line:</p>\n<pre><code>java -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar -Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n<p>The strings <code>-Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication</code> and <code>org.springframework.boot.loader.PropertiesLauncher</code> are passed to <code>main</code> as command line parameters. They aren't interpreted by <code>java</code> or Spring Boot.</p>\n<p>The correct command line is:</p>\n<pre><code>java -Dloader.main=com.example.demo.DemoApplication3 \\\n  -cp target/demo-0.0.1-SNAPSHOT.jar \\\n  org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n<p>assuming that your application class is <code>com.example.demo.DemoApplication3</code></p>\n<p>I would have expected that setting the <code>mainClass</code> to <code>org.springframework.boot.loader.PropertiesLauncher</code> in the <code>spring-boot-maven-plugin</code> configuration would have allowed this to work with <code>-jar</code>, but that gives me a stack overflow error.</p>\n<p>That jar was built with a plain config:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.example.demo.DemoApplication&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>You can set <code>mainClass</code> to whatever you like -- one of the applications, to use as a default, or a class which gives a usage message if <code>loader.main</code> hasn't been set and the jar is run with <code>-jar</code>.</p>\n"}],"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690894286,"creation_date":1690835445,"question_id":76806971,"body_markdown":"I&#39;m experimenting with an ability of Spring Boot to start a main class supplied to it via `-Dloader.main` parameter, as described [in its documentation][1].\r\n\r\nCurrently we use Spring Boot 2.7.13.\r\n\r\nHere&#39;s a simple shell for a sample Boot application with a `main()` being executed:\r\n\r\n    @Slf4j\r\n    @SpringBootApplication\r\n    @PropertySource(value = &quot;classpath:feeds-config.yml&quot;, factory = YamlPropertySourceFactory.class)\r\n    public class DownstreamDataFactoryApplication implements CommandLineRunner { \r\n    \t        \r\n    \t\t\r\n    \t@Autowired\r\n    \tprivate DataAcquisitionService dataAcquisitionService;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate DataMarshallerService dataMarshallerService;\r\n      \r\n    \tpublic static void main(String[] args) {\r\n\r\n    \t\tnew SpringApplicationBuilder(DownstreamDataFactoryApplication.class)\r\n    \t\t  .web(WebApplicationType.NONE)\r\n    \t\t  .run(args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tlog.debug(&quot;Starting execution&quot;);\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; args.length; ++i) {\r\n                log.info(&quot;args[{}]: {}&quot;, i, args[i]);\r\n            }\r\n    \t\t\r\n    \t\t//read data\r\n    \t\tMap&lt;String, Object&gt; context = new HashMap&lt;&gt;();\r\n    \t\t//Flux&lt;?&gt; data = dataAcquisitionService.obtainData(context);\r\n    \t\tList&lt;?&gt; data = dataAcquisitionService.obtainData(context);\r\n    \t\tlog.info(&quot;Obtained data: &quot;+data);\r\n    \t\t\r\n    \t\t//process data\r\n    \t\tlog.info(&quot;Processed data: &quot;);\r\n    \t\t\r\n    \t\t//write data\r\n    \t\t//log.debug(&quot;Report saved to {}&quot;, dataMarshallerService.getOutputFileLocation());\r\n    \t\t//log.debug(&quot;Ending execution&quot;);\r\n    \t\tlog.info(&quot;Marshalled data to a file: &quot;);\r\n    \t\t\r\n    \t\t//distribute data\r\n    \t\tlog.info(&quot;Send marshalled data to a remote location: &quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nMy goal is to have several independent Spring Boot applications segregated by package structure in the codebase such that depending on what&#39;s being passed via `-Dloader.main`different Boot application is being run.  \r\n\r\nConsequently, the `mainClass` stanza in `spring-boot-maven-plugin`&#39;s section is disabled:\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;mainClass&gt;\r\n                         &lt;!-- \r\n                        com.p.g.f.d.DownstreamDataFactoryApplication\r\n                        --&gt;\r\n                        &lt;/mainClass&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\nSo far, so good.\r\n\r\nWhat I&#39;m noticing is that the runtime seems to behave exactly the same whether I&#39;m passing the `org.springframework.boot.loader.PropertiesLauncher` as a second argument or not.  \r\n\r\nHere&#39;s what the output looks like with the `org.springframework.boot.loader.PropertiesLauncher` being supplied:\r\n\r\n    &gt;java -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar -Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication org.springframework.boot.loader.PropertiesLauncher\r\n\r\n\r\n    2023-07-31 16:14:03.287 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Started DownstreamDataFactoryApplication in 2.981 seconds (JVM running for 4.425)\r\n    2023-07-31 16:14:03.291 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\r\n    2023-07-31 16:14:03.292 [main] DEBUG c.p.g.f.d.DownstreamDataFactoryApplication - Starting execution\r\n    2023-07-31 16:14:03.293 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - args[0]: -Dloader.main=com.pru.globalpayments.feeds.downstream.DownstreamDataFactoryApplication\r\n    2023-07-31 16:14:03.293 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - args[1]: org.springframework.boot.loader.PropertiesLauncher\r\n    2023-07-31 16:14:03.294 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Obtained data: null\r\n    2023-07-31 16:14:03.295 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Processed data:\r\n    2023-07-31 16:14:03.296 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a file:\r\n    2023-07-31 16:14:03.297 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a remote location:\r\n    2023-07-31 16:14:03.300 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n    2023-07-31 16:14:03.306 [SpringApplicationShutdownHook] DEBUG o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c130c45, started on Mon Jul 31 16:14:01 EDT 2023\r\n    2023-07-31 16:14:03.310 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483647\r\n    2023-07-31 16:14:03.311 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean &#39;springBootLoggingLifecycle&#39; completed its stop procedure\r\n\r\nand without it being supplied:\r\n\r\n    &gt;java -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar -Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication\r\n    \r\n\r\n    2023-07-31 16:18:39.720 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Started DownstreamDataFactoryApplication in 2.931 seconds (JVM running for 4.313)\r\n    2023-07-31 16:18:39.725 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\r\n    2023-07-31 16:18:39.726 [main] DEBUG c.p.g.f.d.DownstreamDataFactoryApplication - Starting execution\r\n    2023-07-31 16:18:39.726 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - args[0]: -Dloader.main=com.pru.globalpayments.feeds.downstream.DownstreamDataFactoryApplication\r\n    2023-07-31 16:18:39.728 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Obtained data: null\r\n    2023-07-31 16:18:39.728 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Processed data:\r\n    2023-07-31 16:18:39.729 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a file:\r\n    2023-07-31 16:18:39.729 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a remote location:\r\n    2023-07-31 16:18:39.731 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n    2023-07-31 16:18:39.734 [SpringApplicationShutdownHook] DEBUG o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c130c45, started on Mon Jul 31 16:18:37 EDT 2023\r\n    2023-07-31 16:18:39.739 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483647\r\n    2023-07-31 16:18:39.740 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean &#39;springBootLoggingLifecycle&#39; completed its stop procedure\r\n\r\nMy assumption was that the `org.springframework.boot.loader.PropertiesLauncher`carries within itself certain keys that the mainclass-less invocation via `-Dloader.main=AppwithMainMethod` would be dependent upon and would otherwise failed, but it doesn&#39;t seem to be the case.\r\n\r\nWhat are the proper use cases for this `PropertiesLauncher` parameter with some samples and documentation?  Is it optional? Required? Can one safely skip supplying it? When?\r\n\r\nThank you in advance.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html","title":"Usage of org.springframework.boot.loader.PropertiesLauncher when launching a Spring Boot app with a dynamic main class","body":"<p>I'm experimenting with an ability of Spring Boot to start a main class supplied to it via <code>-Dloader.main</code> parameter, as described <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">in its documentation</a>.</p>\n<p>Currently we use Spring Boot 2.7.13.</p>\n<p>Here's a simple shell for a sample Boot application with a <code>main()</code> being executed:</p>\n<pre><code>@Slf4j\n@SpringBootApplication\n@PropertySource(value = &quot;classpath:feeds-config.yml&quot;, factory = YamlPropertySourceFactory.class)\npublic class DownstreamDataFactoryApplication implements CommandLineRunner { \n            \n        \n    @Autowired\n    private DataAcquisitionService dataAcquisitionService;\n    \n    @Autowired\n    private DataMarshallerService dataMarshallerService;\n  \n    public static void main(String[] args) {\n\n        new SpringApplicationBuilder(DownstreamDataFactoryApplication.class)\n          .web(WebApplicationType.NONE)\n          .run(args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        log.debug(&quot;Starting execution&quot;);\n        \n        for (int i = 0; i &lt; args.length; ++i) {\n            log.info(&quot;args[{}]: {}&quot;, i, args[i]);\n        }\n        \n        //read data\n        Map&lt;String, Object&gt; context = new HashMap&lt;&gt;();\n        //Flux&lt;?&gt; data = dataAcquisitionService.obtainData(context);\n        List&lt;?&gt; data = dataAcquisitionService.obtainData(context);\n        log.info(&quot;Obtained data: &quot;+data);\n        \n        //process data\n        log.info(&quot;Processed data: &quot;);\n        \n        //write data\n        //log.debug(&quot;Report saved to {}&quot;, dataMarshallerService.getOutputFileLocation());\n        //log.debug(&quot;Ending execution&quot;);\n        log.info(&quot;Marshalled data to a file: &quot;);\n        \n        //distribute data\n        log.info(&quot;Send marshalled data to a remote location: &quot;);\n    }\n\n}\n</code></pre>\n<p>My goal is to have several independent Spring Boot applications segregated by package structure in the codebase such that depending on what's being passed via <code>-Dloader.main</code>different Boot application is being run.</p>\n<p>Consequently, the <code>mainClass</code> stanza in <code>spring-boot-maven-plugin</code>'s section is disabled:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;\n                     &lt;!-- \n                    com.p.g.f.d.DownstreamDataFactoryApplication\n                    --&gt;\n                    &lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M6&lt;/version&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>So far, so good.</p>\n<p>What I'm noticing is that the runtime seems to behave exactly the same whether I'm passing the <code>org.springframework.boot.loader.PropertiesLauncher</code> as a second argument or not.</p>\n<p>Here's what the output looks like with the <code>org.springframework.boot.loader.PropertiesLauncher</code> being supplied:</p>\n<pre><code>&gt;java -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar -Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication org.springframework.boot.loader.PropertiesLauncher\n\n\n2023-07-31 16:14:03.287 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Started DownstreamDataFactoryApplication in 2.981 seconds (JVM running for 4.425)\n2023-07-31 16:14:03.291 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\n2023-07-31 16:14:03.292 [main] DEBUG c.p.g.f.d.DownstreamDataFactoryApplication - Starting execution\n2023-07-31 16:14:03.293 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - args[0]: -Dloader.main=com.pru.globalpayments.feeds.downstream.DownstreamDataFactoryApplication\n2023-07-31 16:14:03.293 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - args[1]: org.springframework.boot.loader.PropertiesLauncher\n2023-07-31 16:14:03.294 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Obtained data: null\n2023-07-31 16:14:03.295 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Processed data:\n2023-07-31 16:14:03.296 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a file:\n2023-07-31 16:14:03.297 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a remote location:\n2023-07-31 16:14:03.300 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n2023-07-31 16:14:03.306 [SpringApplicationShutdownHook] DEBUG o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c130c45, started on Mon Jul 31 16:14:01 EDT 2023\n2023-07-31 16:14:03.310 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483647\n2023-07-31 16:14:03.311 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'springBootLoggingLifecycle' completed its stop procedure\n</code></pre>\n<p>and without it being supplied:</p>\n<pre><code>&gt;java -jar target\\downstream-data-factory-0.0.1-SNAPSHOT.jar -Dloader.main=com.xxx.globalpayments.feeds.downstream.DownstreamDataFactoryApplication\n\n\n2023-07-31 16:18:39.720 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Started DownstreamDataFactoryApplication in 2.931 seconds (JVM running for 4.313)\n2023-07-31 16:18:39.725 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\n2023-07-31 16:18:39.726 [main] DEBUG c.p.g.f.d.DownstreamDataFactoryApplication - Starting execution\n2023-07-31 16:18:39.726 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - args[0]: -Dloader.main=com.pru.globalpayments.feeds.downstream.DownstreamDataFactoryApplication\n2023-07-31 16:18:39.728 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Obtained data: null\n2023-07-31 16:18:39.728 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Processed data:\n2023-07-31 16:18:39.729 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a file:\n2023-07-31 16:18:39.729 [main] INFO  c.p.g.f.d.DownstreamDataFactoryApplication - Marshalled data to a remote location:\n2023-07-31 16:18:39.731 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n2023-07-31 16:18:39.734 [SpringApplicationShutdownHook] DEBUG o.s.c.a.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6c130c45, started on Mon Jul 31 16:18:37 EDT 2023\n2023-07-31 16:18:39.739 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483647\n2023-07-31 16:18:39.740 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'springBootLoggingLifecycle' completed its stop procedure\n</code></pre>\n<p>My assumption was that the <code>org.springframework.boot.loader.PropertiesLauncher</code>carries within itself certain keys that the mainclass-less invocation via <code>-Dloader.main=AppwithMainMethod</code> would be dependent upon and would otherwise failed, but it doesn't seem to be the case.</p>\n<p>What are the proper use cases for this <code>PropertiesLauncher</code> parameter with some samples and documentation?  Is it optional? Required? Can one safely skip supplying it? When?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","expression"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1344929017,"post_id":11947553,"comment_id":15917807,"body_markdown":"Have you considered the built-in Java Script engine?","body":"Have you considered the built-in Java Script engine?"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363680362,"creation_date":1344929304,"answer_id":11947651,"question_id":11947553,"body_markdown":"Here would be a couple of workaround solutions that you could choose from, if you don&#39;t find an actual Java expression evaluation library:\r\n\r\n- Evaluate your expressions using XPath.\r\n  - Pros: XPath knows logical operators, and you can implement variables and custom functions using Xalan&#39;s extensions\r\n  - Cons: XPath has fewer types than Java\r\n- Evaluate your expressions using JavaScript.\r\n  - Pros: Javascript is very flexible and will still be suitable when your requirements tighten. You can implement variables and custom functions using Javascript as well\r\n  - Cons: Javascript has fewer types than Java\r\n- Evaluate your expressions using JSP&#39;s expression language (e.g. with [JUEL][1])\r\n\r\n\r\n\r\n  [1]: http://juel.sourceforge.net/","title":"JAVA - Expression parsing &amp; evaluating library","body":"<p>Here would be a couple of workaround solutions that you could choose from, if you don't find an actual Java expression evaluation library:</p>\n\n<ul>\n<li>Evaluate your expressions using XPath.\n<ul>\n<li>Pros: XPath knows logical operators, and you can implement variables and custom functions using Xalan's extensions</li>\n<li>Cons: XPath has fewer types than Java</li>\n</ul></li>\n<li>Evaluate your expressions using JavaScript.\n<ul>\n<li>Pros: Javascript is very flexible and will still be suitable when your requirements tighten. You can implement variables and custom functions using Javascript as well</li>\n<li>Cons: Javascript has fewer types than Java</li>\n</ul></li>\n<li>Evaluate your expressions using JSP's expression language (e.g. with <a href=\"http://juel.sourceforge.net/\" rel=\"nofollow\">JUEL</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":95872,"reputation":17489,"user_id":260885,"display_name":"Hiery Nomus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1344929455,"creation_date":1344929455,"answer_id":11947691,"question_id":11947553,"body_markdown":"Like suggested, you can use JavaScript. But also you could take a look at [Spring EL](http://static.springsource.org/spring/docs/3.0.x/reference/expressions.html) which has support for your requirements. ","title":"JAVA - Expression parsing &amp; evaluating library","body":"<p>Like suggested, you can use JavaScript. But also you could take a look at <a href=\"http://static.springsource.org/spring/docs/3.0.x/reference/expressions.html\" rel=\"nofollow\">Spring EL</a> which has support for your requirements. </p>\n"},{"tags":[],"owner":{"account_id":1646862,"reputation":1459,"user_id":1518255,"accept_rate":57,"display_name":"lost"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1450100394,"creation_date":1344929591,"answer_id":11947719,"question_id":11947553,"body_markdown":"Try [Janino](http://www.janino.net/). It&#39;s a runtime in-memory compiler that can be used as an expression evaluator. Maybe it is the right thing for you.","title":"JAVA - Expression parsing &amp; evaluating library","body":"<p>Try <a href=\"http://www.janino.net/\" rel=\"nofollow\">Janino</a>. It's a runtime in-memory compiler that can be used as an expression evaluator. Maybe it is the right thing for you.</p>\n"},{"tags":[],"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575580516,"creation_date":1492366966,"answer_id":43440560,"question_id":11947553,"body_markdown":"You can try [mXparser][1] - it supports significant part of your requirements:\r\n\r\n1. It is based on double, so int is supported, additionally **boolean is supported** as true = 1 and false = 0. Unfortunately strings are not supported.\r\n\r\nBoolean example:\r\n\r\n    import org.mariuszgromada.math.mxparser.*;\r\n    ...\r\n    ...\r\n    Constant T = new Constant(&quot;T = 1&quot;);\r\n    Constant F = new Constant(&quot;F = 0&quot;);\r\n    Expression e = new Expression(&quot;T &amp;&amp; (F || (F &amp;&amp; T))&quot;, T, F);\r\n    System.out.println(e.getExpressionString() + &quot; = &quot; + e.calculate());\r\n\r\nResult:\r\n\r\n    T &amp;&amp; (F || (F &amp;&amp; T)) = 0.0\r\n\r\n2. mXparser has **broad support for operators, functions**, etc.. Check [mXparser math collection][2]. What is nice you can use help functionality inside the library.\r\n\r\nExample:\r\n\r\n    import org.mariuszgromada.math.mxparser.*;\r\n    ...\r\n    ...\r\n    mXparser.consolePrintHelp(&quot;operator&quot;);\r\n\r\nResult:\r\n\r\n    Help content: \r\n    \r\n        2. +                   &lt;Operator&gt;              addition\r\n        3. -                   &lt;Operator&gt;              subtraction\r\n        4. *                   &lt;Operator&gt;              multiplication\r\n        5. /                   &lt;Operator&gt;              division\r\n        6. ^                   &lt;Operator&gt;              exponentiation\r\n        7. !                   &lt;Operator&gt;              factorial\r\n        8. #                   &lt;Operator&gt;              modulo function\r\n        9. &amp;                   &lt;Boolean Operator&gt;      logical conjunction (AND)\r\n       10. &amp;&amp;                  &lt;Boolean Operator&gt;      logical conjunction (AND)\r\n       11. /\\                  &lt;Boolean Operator&gt;      logical conjunction (AND)\r\n       12. ~&amp;                  &lt;Boolean Operator&gt;      NAND - Sheffer stroke\r\n       13. ~&amp;&amp;                 &lt;Boolean Operator&gt;      NAND - Sheffer stroke\r\n       14. ~/\\                 &lt;Boolean Operator&gt;      NAND - Sheffer stroke\r\n       15. |                   &lt;Boolean Operator&gt;      logical disjunction (OR)\r\n       16. ||                  &lt;Boolean Operator&gt;      logical disjunction (OR)\r\n       17. \\/                  &lt;Boolean Operator&gt;      logical disjunction (OR)\r\n       18. ~|                  &lt;Boolean Operator&gt;      logical NOR\r\n       19. ~||                 &lt;Boolean Operator&gt;      logical NOR\r\n       20. ~\\/                 &lt;Boolean Operator&gt;      logical NOR\r\n       21. (+)                 &lt;Boolean Operator&gt;      exclusive or (XOR)\r\n       22. --&gt;                 &lt;Boolean Operator&gt;      implication (IMP)\r\n       23. &lt;--                 &lt;Boolean Operator&gt;      converse implication (CIMP)\r\n       24. -/&gt;                 &lt;Boolean Operator&gt;      material nonimplication (NIMP)\r\n       25. &lt;/-                 &lt;Boolean Operator&gt;      converse nonimplication (CNIMP)\r\n       26. &lt;-&gt;                 &lt;Boolean Operator&gt;      logical biconditional (EQV)\r\n       27. ~                   &lt;Boolean Operator&gt;      negation\r\n       28. &#172;                   &lt;Boolean Operator&gt;      negation\r\n      162. add                 &lt;Variadic Function&gt;     (2.4) Summation operator add(a1,a2,a3,...,an)\r\n      168. sum                 &lt;Calculus Operator&gt;     summation operator (SIGMA) sum(i, from, to, f(i,...))\r\n      169. prod                &lt;Calculus Operator&gt;     product operator (PI) prod(i, from, to, f(i,...))\r\n      170. int                 &lt;Calculus Operator&gt;     definite integral operator ( int(f(x,...), x, a, b) )\r\n      171. der                 &lt;Calculus Operator&gt;     derivative operator ( der(f(x,...), x) ) \r\n      172. der-                &lt;Calculus Operator&gt;     left derivative operator ( der-(f(x,...), x) ) \r\n      173. der+                &lt;Calculus Operator&gt;     right derivative operator ( der+(f(x,...), x) ) \r\n      174. dern                &lt;Calculus Operator&gt;     n-th derivative operator ( dern(f(x,...), x) ) \r\n      175. diff                &lt;Calculus Operator&gt;     forward difference operator\r\n      176. difb                &lt;Calculus Operator&gt;     backward difference operator\r\n      177. avg                 &lt;Calculus Operator&gt;     (2.4) Average operator avg(i, from, to, f(i,...))\r\n      178. vari                &lt;Calculus Operator&gt;     (2.4) Bias-corrected sample variance operator vari(i, from, to, f(i,...))\r\n      179. stdi                &lt;Calculus Operator&gt;     (2.4) Bias-corrected sample standard deviation operator stdi(i, from, to, f(i,...))\r\n      180. mini                &lt;Calculus Operator&gt;     (2.4) Minimum value mini(i, from, to, f(i,...))\r\n      181. maxi                &lt;Calculus Operator&gt;     (2.4) Maximum value maxi(i, from, to, f(i,...))\r\n      182. solve               &lt;Calculus Operator&gt;     (4.0) f(x) = 0 equation solving, function root finding: solve( f(x,...), x, a, b )\r\n      301. @~                  &lt;Bitwise Operator&gt;      (4.0) Bitwise unary complement\r\n      302. @&amp;                  &lt;Bitwise Operator&gt;      (4.0) Bitwise AND\r\n      303. @^                  &lt;Bitwise Operator&gt;      (4.0) Bitwise exclusive OR\r\n      304. @|                  &lt;Bitwise Operator&gt;      (4.0) Bitwise inclusive OR\r\n      305. @&lt;&lt;                 &lt;Bitwise Operator&gt;      (4.0) Signed left shift\r\n      306. @&gt;&gt;                 &lt;Bitwise Operator&gt;      (4.0) Signed right shift\r\n\r\n3. **User defined variables** and **user defined constants** are created without any special form.\r\n\r\nExample:\r\n\r\n    import org.mariuszgromada.math.mxparser.*;\r\n    ...\r\n    ...\r\n    Argument x = new Argument(&quot;x = 10&quot;);\r\n    Constant y = new Constant(&quot;y = 2&quot;);\r\n    Expression e = new Expression(&quot;x/y&quot;, x, y);\r\n    System.out.println(e.getExpressionString() + &quot; = &quot; + e.calculate());\r\n\r\nResult:\r\n\r\n    x/y = 5.0\r\n\r\nAdditionally please check: a) [Tutorial - User defined arguments][3], b) [Tutorial - User defined constants][4].\r\n\r\n4. **User defined functions** are fully supported.\r\n\r\nExample 1 - body defined in run-time:\r\n\r\n    import org.mariuszgromada.math.mxparser.*;\r\n    ...\r\n    ...\r\n    Function f = new Function(&quot;f(x,y) = x*y&quot;);\r\n    Expression e = new Expression(&quot;20-f(2,5)&quot;,f);\r\n    System.out.println(e.getExpressionString() + &quot; = &quot; + e.calculate());\r\n\r\nResult 1\r\n\r\n    20-f(2,5) = 10.0\r\n\r\nExample 2 - body extended via your own implementation:\r\n\r\n    import org.mariuszgromada.math.mxparser.*;\r\n    ...\r\n    ...\r\n    /*\r\n     * Implementing FunctionExtension interface\r\n     */\r\n    public class Addition implements FunctionExtension {\r\n       double x;\r\n       double y;\r\n       public Addition() {\r\n          x = Double.NaN;\r\n          y = Double.NaN;\r\n       }\r\n       public Addition(double x, double y) {\r\n          this.x = x;\r\n          this.y = y;\r\n       }\r\n       public int getParametersNumber() {\r\n          return 2;\r\n       }\r\n       public void setParameterValue(int argumentIndex, double argumentValue) {\r\n          if (argumentIndex == 0) x = argumentValue;\r\n          if (argumentIndex == 1) y = argumentValue;\r\n       }\r\n       public double calculate(double... params) {\r\n          return x+y;\r\n       }\r\n       public FunctionExtension clone() {\r\n          return new Addition(x, y);\r\n       }   \r\n    }\r\n    \r\n    /*\r\n    * Creating extended function\r\n    */\r\n    Function f = new Function(&quot;f&quot;, new Addition());\r\n    mXparser.consolePrintln(&quot;f.calculate(1,2) = &quot; + f.calculate(1,2) );\r\n    /*\r\n    * Using extended function in expression\r\n    */\r\n    Expression e = new Expression(&quot;f(2,3)&quot;, f);\r\n    System.out.println(e.getExpressionString() + &quot; = &quot; + e.calculate() );\r\n\r\nResult 2:\r\n\r\n    f.calculate(1,2) = 3.0\r\n    f(2,3) = 5.0\r\n\r\nAdditionally **it is worth to follow the whole** [mXparser Tutorial][5].\r\n\r\nFound recently - in case you would like to try the syntax (and see the advanced use case) you can download the [Scalar][6] [Calculator][7] [app][8] that is powered by mXparser.\r\n\r\nBest regards\r\n\r\n\r\n  [1]: http://mathparser.org/\r\n  [2]: http://mathparser.org/mxparser-math-collection/\r\n  [3]: http://mathparser.org/mxparser-tutorial/user-defined-arguments/\r\n  [4]: http://mathparser.org/mxparser-tutorial/user-defined-constants/\r\n  [5]: http://mathparser.org/mxparser-tutorial/\r\n  [6]: https://scalarmath.org\r\n  [7]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\r\n  [8]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro\r\n","title":"JAVA - Expression parsing &amp; evaluating library","body":"<p>You can try <a href=\"http://mathparser.org/\" rel=\"nofollow noreferrer\">mXparser</a> - it supports significant part of your requirements:</p>\n\n<ol>\n<li>It is based on double, so int is supported, additionally <strong>boolean is supported</strong> as true = 1 and false = 0. Unfortunately strings are not supported.</li>\n</ol>\n\n<p>Boolean example:</p>\n\n<pre><code>import org.mariuszgromada.math.mxparser.*;\n...\n...\nConstant T = new Constant(\"T = 1\");\nConstant F = new Constant(\"F = 0\");\nExpression e = new Expression(\"T &amp;&amp; (F || (F &amp;&amp; T))\", T, F);\nSystem.out.println(e.getExpressionString() + \" = \" + e.calculate());\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>T &amp;&amp; (F || (F &amp;&amp; T)) = 0.0\n</code></pre>\n\n<ol start=\"2\">\n<li>mXparser has <strong>broad support for operators, functions</strong>, etc.. Check <a href=\"http://mathparser.org/mxparser-math-collection/\" rel=\"nofollow noreferrer\">mXparser math collection</a>. What is nice you can use help functionality inside the library.</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>import org.mariuszgromada.math.mxparser.*;\n...\n...\nmXparser.consolePrintHelp(\"operator\");\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Help content: \n\n    2. +                   &lt;Operator&gt;              addition\n    3. -                   &lt;Operator&gt;              subtraction\n    4. *                   &lt;Operator&gt;              multiplication\n    5. /                   &lt;Operator&gt;              division\n    6. ^                   &lt;Operator&gt;              exponentiation\n    7. !                   &lt;Operator&gt;              factorial\n    8. #                   &lt;Operator&gt;              modulo function\n    9. &amp;                   &lt;Boolean Operator&gt;      logical conjunction (AND)\n   10. &amp;&amp;                  &lt;Boolean Operator&gt;      logical conjunction (AND)\n   11. /\\                  &lt;Boolean Operator&gt;      logical conjunction (AND)\n   12. ~&amp;                  &lt;Boolean Operator&gt;      NAND - Sheffer stroke\n   13. ~&amp;&amp;                 &lt;Boolean Operator&gt;      NAND - Sheffer stroke\n   14. ~/\\                 &lt;Boolean Operator&gt;      NAND - Sheffer stroke\n   15. |                   &lt;Boolean Operator&gt;      logical disjunction (OR)\n   16. ||                  &lt;Boolean Operator&gt;      logical disjunction (OR)\n   17. \\/                  &lt;Boolean Operator&gt;      logical disjunction (OR)\n   18. ~|                  &lt;Boolean Operator&gt;      logical NOR\n   19. ~||                 &lt;Boolean Operator&gt;      logical NOR\n   20. ~\\/                 &lt;Boolean Operator&gt;      logical NOR\n   21. (+)                 &lt;Boolean Operator&gt;      exclusive or (XOR)\n   22. --&gt;                 &lt;Boolean Operator&gt;      implication (IMP)\n   23. &lt;--                 &lt;Boolean Operator&gt;      converse implication (CIMP)\n   24. -/&gt;                 &lt;Boolean Operator&gt;      material nonimplication (NIMP)\n   25. &lt;/-                 &lt;Boolean Operator&gt;      converse nonimplication (CNIMP)\n   26. &lt;-&gt;                 &lt;Boolean Operator&gt;      logical biconditional (EQV)\n   27. ~                   &lt;Boolean Operator&gt;      negation\n   28. ¬                   &lt;Boolean Operator&gt;      negation\n  162. add                 &lt;Variadic Function&gt;     (2.4) Summation operator add(a1,a2,a3,...,an)\n  168. sum                 &lt;Calculus Operator&gt;     summation operator (SIGMA) sum(i, from, to, f(i,...))\n  169. prod                &lt;Calculus Operator&gt;     product operator (PI) prod(i, from, to, f(i,...))\n  170. int                 &lt;Calculus Operator&gt;     definite integral operator ( int(f(x,...), x, a, b) )\n  171. der                 &lt;Calculus Operator&gt;     derivative operator ( der(f(x,...), x) ) \n  172. der-                &lt;Calculus Operator&gt;     left derivative operator ( der-(f(x,...), x) ) \n  173. der+                &lt;Calculus Operator&gt;     right derivative operator ( der+(f(x,...), x) ) \n  174. dern                &lt;Calculus Operator&gt;     n-th derivative operator ( dern(f(x,...), x) ) \n  175. diff                &lt;Calculus Operator&gt;     forward difference operator\n  176. difb                &lt;Calculus Operator&gt;     backward difference operator\n  177. avg                 &lt;Calculus Operator&gt;     (2.4) Average operator avg(i, from, to, f(i,...))\n  178. vari                &lt;Calculus Operator&gt;     (2.4) Bias-corrected sample variance operator vari(i, from, to, f(i,...))\n  179. stdi                &lt;Calculus Operator&gt;     (2.4) Bias-corrected sample standard deviation operator stdi(i, from, to, f(i,...))\n  180. mini                &lt;Calculus Operator&gt;     (2.4) Minimum value mini(i, from, to, f(i,...))\n  181. maxi                &lt;Calculus Operator&gt;     (2.4) Maximum value maxi(i, from, to, f(i,...))\n  182. solve               &lt;Calculus Operator&gt;     (4.0) f(x) = 0 equation solving, function root finding: solve( f(x,...), x, a, b )\n  301. @~                  &lt;Bitwise Operator&gt;      (4.0) Bitwise unary complement\n  302. @&amp;                  &lt;Bitwise Operator&gt;      (4.0) Bitwise AND\n  303. @^                  &lt;Bitwise Operator&gt;      (4.0) Bitwise exclusive OR\n  304. @|                  &lt;Bitwise Operator&gt;      (4.0) Bitwise inclusive OR\n  305. @&lt;&lt;                 &lt;Bitwise Operator&gt;      (4.0) Signed left shift\n  306. @&gt;&gt;                 &lt;Bitwise Operator&gt;      (4.0) Signed right shift\n</code></pre>\n\n<ol start=\"3\">\n<li><strong>User defined variables</strong> and <strong>user defined constants</strong> are created without any special form.</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>import org.mariuszgromada.math.mxparser.*;\n...\n...\nArgument x = new Argument(\"x = 10\");\nConstant y = new Constant(\"y = 2\");\nExpression e = new Expression(\"x/y\", x, y);\nSystem.out.println(e.getExpressionString() + \" = \" + e.calculate());\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>x/y = 5.0\n</code></pre>\n\n<p>Additionally please check: a) <a href=\"http://mathparser.org/mxparser-tutorial/user-defined-arguments/\" rel=\"nofollow noreferrer\">Tutorial - User defined arguments</a>, b) <a href=\"http://mathparser.org/mxparser-tutorial/user-defined-constants/\" rel=\"nofollow noreferrer\">Tutorial - User defined constants</a>.</p>\n\n<ol start=\"4\">\n<li><strong>User defined functions</strong> are fully supported.</li>\n</ol>\n\n<p>Example 1 - body defined in run-time:</p>\n\n<pre><code>import org.mariuszgromada.math.mxparser.*;\n...\n...\nFunction f = new Function(\"f(x,y) = x*y\");\nExpression e = new Expression(\"20-f(2,5)\",f);\nSystem.out.println(e.getExpressionString() + \" = \" + e.calculate());\n</code></pre>\n\n<p>Result 1</p>\n\n<pre><code>20-f(2,5) = 10.0\n</code></pre>\n\n<p>Example 2 - body extended via your own implementation:</p>\n\n<pre><code>import org.mariuszgromada.math.mxparser.*;\n...\n...\n/*\n * Implementing FunctionExtension interface\n */\npublic class Addition implements FunctionExtension {\n   double x;\n   double y;\n   public Addition() {\n      x = Double.NaN;\n      y = Double.NaN;\n   }\n   public Addition(double x, double y) {\n      this.x = x;\n      this.y = y;\n   }\n   public int getParametersNumber() {\n      return 2;\n   }\n   public void setParameterValue(int argumentIndex, double argumentValue) {\n      if (argumentIndex == 0) x = argumentValue;\n      if (argumentIndex == 1) y = argumentValue;\n   }\n   public double calculate(double... params) {\n      return x+y;\n   }\n   public FunctionExtension clone() {\n      return new Addition(x, y);\n   }   \n}\n\n/*\n* Creating extended function\n*/\nFunction f = new Function(\"f\", new Addition());\nmXparser.consolePrintln(\"f.calculate(1,2) = \" + f.calculate(1,2) );\n/*\n* Using extended function in expression\n*/\nExpression e = new Expression(\"f(2,3)\", f);\nSystem.out.println(e.getExpressionString() + \" = \" + e.calculate() );\n</code></pre>\n\n<p>Result 2:</p>\n\n<pre><code>f.calculate(1,2) = 3.0\nf(2,3) = 5.0\n</code></pre>\n\n<p>Additionally <strong>it is worth to follow the whole</strong> <a href=\"http://mathparser.org/mxparser-tutorial/\" rel=\"nofollow noreferrer\">mXparser Tutorial</a>.</p>\n\n<p>Found recently - in case you would like to try the syntax (and see the advanced use case) you can download the <a href=\"https://scalarmath.org\" rel=\"nofollow noreferrer\">Scalar</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\" rel=\"nofollow noreferrer\">Calculator</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro\" rel=\"nofollow noreferrer\">app</a> that is powered by mXparser.</p>\n\n<p>Best regards</p>\n"}],"owner":{"account_id":119129,"reputation":3846,"user_id":310626,"accept_rate":53,"display_name":"duduamar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26955,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1690893854,"creation_date":1344928861,"question_id":11947553,"body_markdown":"I&#39;m looking for a JAVA library to parse &amp; evaluate expression. I searched and tried some libraries like Apache&#39;s JEXL and Jeval, but they are not exactly what I need.\r\n\r\nMy requirements:\r\n\r\n1. Support all value types (i.e. int,double,boolean,String, etc.)\r\n2. Support all known mathematical &amp; logical operators (+,-,*,&lt;,&lt;=,etc.)\r\n3. Support variables (without any special notation - for example in Jeval variable a should be written like #{a} - not good enough for me)\r\n4. Support custom functions - with type enforcement and validation\r\n\r\nAny recommendations? ","title":"JAVA - Expression parsing &amp; evaluating library","body":"<p>I'm looking for a JAVA library to parse &amp; evaluate expression. I searched and tried some libraries like Apache's JEXL and Jeval, but they are not exactly what I need.</p>\n\n<p>My requirements:</p>\n\n<ol>\n<li>Support all value types (i.e. int,double,boolean,String, etc.)</li>\n<li>Support all known mathematical &amp; logical operators (+,-,*,&lt;,&lt;=,etc.)</li>\n<li>Support variables (without any special notation - for example in Jeval variable a should be written like #{a} - not good enough for me)</li>\n<li>Support custom functions - with type enforcement and validation</li>\n</ol>\n\n<p>Any recommendations? </p>\n"},{"tags":["java","gradle","build","remote-debugging"],"comments":[{"owner":{"account_id":3808979,"reputation":2938,"user_id":3160531,"accept_rate":69,"display_name":"charlie_pl"},"score":0,"creation_date":1612789938,"post_id":37702073,"comment_id":116868275,"body_markdown":"Does this answer your question? [How to debug a Gradle build.gradle file (in a debugger, with breakpoints)?](https://stackoverflow.com/questions/28437636/how-to-debug-a-gradle-build-gradle-file-in-a-debugger-with-breakpoints)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28437636/how-to-debug-a-gradle-build-gradle-file-in-a-debugger-with-breakpoints\">How to debug a Gradle build.gradle file (in a debugger, with breakpoints)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1465514087,"creation_date":1465514087,"answer_id":37737652,"question_id":37702073,"body_markdown":"Here are the steps to remotely debug gradle:\r\n\r\n**Step-by-step guide**  \r\n1. Run your Gradle command  \r\n2. On the command line, execute your task normally, but add the following additional parameters:\r\n\r\n    -Dorg.gradle.jvmargs=&#39;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=5005,suspend=y&#39;\r\n\r\n The &quot;`suspend=y`&quot; part will pause the execution for you to attach a debugger.\r\n \r\n**Attach a debugger:**\r\n\r\n1. Open the Gradle source code in IntelliJ  \r\n2. Go to Run -&gt; Edit Configurations\r\n3. Add a new Configuration by clicking the + in the upper left corner\r\n4. Select Remote, rename it if you choose, and click OK\r\n5. Set your breakpoints\r\n6. Go to Run -&gt; Debug &quot;&lt;name&gt;&quot; (defaults to &quot;Unnamed&quot;)","title":"gradle remote debugging process","body":"<p>Here are the steps to remotely debug gradle:</p>\n\n<p><strong>Step-by-step guide</strong><br>\n1. Run your Gradle command<br>\n2. On the command line, execute your task normally, but add the following additional parameters:</p>\n\n<pre><code>-Dorg.gradle.jvmargs='-Xdebug -Xrunjdwp:transport=dt_socket,server=y,address=5005,suspend=y'\n</code></pre>\n\n<p>The \"<code>suspend=y</code>\" part will pause the execution for you to attach a debugger.</p>\n\n<p><strong>Attach a debugger:</strong></p>\n\n<ol>\n<li>Open the Gradle source code in IntelliJ  </li>\n<li>Go to Run -> Edit Configurations</li>\n<li>Add a new Configuration by clicking the + in the upper left corner</li>\n<li>Select Remote, rename it if you choose, and click OK</li>\n<li>Set your breakpoints</li>\n<li>Go to Run -> Debug \"\" (defaults to \"Unnamed\")</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4633327,"reputation":1567,"user_id":3755196,"accept_rate":50,"display_name":"Raj Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690893569,"creation_date":1690893569,"answer_id":76811720,"question_id":37702073,"body_markdown":"I&#39;m adding this as an alternate answer. For me this works as well\r\n`./gradlew &lt;command&gt; --debug-jvm`\r\n\r\nThis does the same thing as above but with fewer arguments.","title":"gradle remote debugging process","body":"<p>I'm adding this as an alternate answer. For me this works as well\n<code>./gradlew &lt;command&gt; --debug-jvm</code></p>\n<p>This does the same thing as above but with fewer arguments.</p>\n"}],"owner":{"account_id":4859521,"reputation":135,"user_id":3919579,"accept_rate":40,"display_name":"Gev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10716,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37737652,"answer_count":2,"score":8,"last_activity_date":1690893569,"creation_date":1465387710,"question_id":37702073,"body_markdown":"I am adding the `GRADLE_OPTS` to system environment variables as:\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005  \r\n\r\nI have created the remote debugger from InteliJ IDEA for this socket. I can debug the `build.gradle` file, but I can&#39;t enter into the scripts for example can&#39;t see the variable values .  \r\n","title":"gradle remote debugging process","body":"<p>I am adding the <code>GRADLE_OPTS</code> to system environment variables as:</p>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005  \n</code></pre>\n\n<p>I have created the remote debugger from InteliJ IDEA for this socket. I can debug the <code>build.gradle</code> file, but I can't enter into the scripts for example can't see the variable values .  </p>\n"},{"tags":["java","java-time","datetime-parsing"],"answers":[{"tags":[],"owner":{"account_id":2490888,"reputation":6960,"user_id":2168346,"accept_rate":82,"display_name":"JiriS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431007876,"creation_date":1431007876,"answer_id":30103616,"question_id":30103167,"body_markdown":"And this one works\r\n\r\n\tDateTimeFormatter formatter\r\n\t= new java.time.format.DateTimeFormatterBuilder()\r\n\t\t\t.append( java.time.format.DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;) )\r\n\t\t\t.appendOptional(\r\n\t\t\t\t\tnew java.time.format.DateTimeFormatterBuilder()\r\n\t\t\t\t\t\t.appendLiteral(&#39;.&#39;)\r\n\t\t\t\t\t\t.appendValue( ChronoField.MICRO_OF_SECOND, 1, 6, SignStyle.NOT_NEGATIVE).toFormatter())\r\n\t\t\t.toFormatter();","title":"JSR-310 - parsing seconds fraction with variable length","body":"<p>And this one works</p>\n\n<pre><code>DateTimeFormatter formatter\n= new java.time.format.DateTimeFormatterBuilder()\n        .append( java.time.format.DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\") )\n        .appendOptional(\n                new java.time.format.DateTimeFormatterBuilder()\n                    .appendLiteral('.')\n                    .appendValue( ChronoField.MICRO_OF_SECOND, 1, 6, SignStyle.NOT_NEGATIVE).toFormatter())\n        .toFormatter();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1454636193,"creation_date":1431018305,"answer_id":30107522,"question_id":30103167,"body_markdown":"This solves the problem:\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\r\n        .toFormatter();\r\n\r\n    System.out.println(LocalDateTime.parse(&quot;2015-05-07 13:20:22.276052&quot;, formatter));\r\n    System.out.println(LocalDateTime.parse(&quot;2015-05-07 13:20:22.276&quot;, formatter));\r\n    System.out.println(LocalDateTime.parse(&quot;2015-05-07 13:20:22&quot;, formatter));\r\n\r\n    // output\r\n    2015-05-07T13:20:22.276052\r\n    2015-05-07T13:20:22.276\r\n    2015-05-07T13:20:22\r\n\r\n\r\nThe [answer by JiriS][1] is incorrect, as it uses `appendValue` whereas the correct way is to use [`DateTimeFormatterBuilder.appendFraction`][2] (which also handles the decimal point). The difference can be seen in the second system out, where [`appendValue`][3] incorrectly parses &quot;2015-05-07T13:20:22.000276&quot;.\r\n\r\nWhen parsing, [`LocalDateTime.parse(str, formatter)`][4] is a neater approach than using the formatter directly in most cases.\r\n\r\nWhen using the [builder][5], take advantage of [`appendPattern()`][6] and [`optionalStart()`][7] to keep things neat.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30103616/642706\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendFraction-java.time.temporal.TemporalField-int-int-boolean-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendValue-java.time.temporal.TemporalField-int-int-java.time.format.SignStyle-\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-java.time.format.DateTimeFormatter-\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendPattern-java.lang.String-\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalStart--","title":"JSR-310 - parsing seconds fraction with variable length","body":"<p>This solves the problem:</p>\n\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(\"yyyy-MM-dd HH:mm:ss\")\n    .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true)\n    .toFormatter();\n\nSystem.out.println(LocalDateTime.parse(\"2015-05-07 13:20:22.276052\", formatter));\nSystem.out.println(LocalDateTime.parse(\"2015-05-07 13:20:22.276\", formatter));\nSystem.out.println(LocalDateTime.parse(\"2015-05-07 13:20:22\", formatter));\n\n// output\n2015-05-07T13:20:22.276052\n2015-05-07T13:20:22.276\n2015-05-07T13:20:22\n</code></pre>\n\n<p>The <a href=\"https://stackoverflow.com/a/30103616/642706\">answer by JiriS</a> is incorrect, as it uses <code>appendValue</code> whereas the correct way is to use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendFraction-java.time.temporal.TemporalField-int-int-boolean-\" rel=\"noreferrer\"><code>DateTimeFormatterBuilder.appendFraction</code></a> (which also handles the decimal point). The difference can be seen in the second system out, where <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendValue-java.time.temporal.TemporalField-int-int-java.time.format.SignStyle-\" rel=\"noreferrer\"><code>appendValue</code></a> incorrectly parses \"2015-05-07T13:20:22.000276\".</p>\n\n<p>When parsing, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-java.time.format.DateTimeFormatter-\" rel=\"noreferrer\"><code>LocalDateTime.parse(str, formatter)</code></a> is a neater approach than using the formatter directly in most cases.</p>\n\n<p>When using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\" rel=\"noreferrer\">builder</a>, take advantage of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendPattern-java.lang.String-\" rel=\"noreferrer\"><code>appendPattern()</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#optionalStart--\" rel=\"noreferrer\"><code>optionalStart()</code></a> to keep things neat.</p>\n"},{"tags":[],"owner":{"account_id":23822259,"reputation":1,"user_id":17829783,"display_name":"mikmoila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641455851,"creation_date":1641284459,"answer_id":70575852,"question_id":30103167,"body_markdown":"Parsing fails with a datetime without any &quot;:&quot; characters:\r\n\r\n\t\tDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n\t\t\t    .appendPattern(&quot;yyyyMMddHHmmss&quot;)\r\n\t\t\t    .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 9, false)\r\n\t\t\t    .toFormatter();\r\n\t\t\tSystem.out.println(LocalDateTime.parse(&quot;20150507132022123&quot;, formatter));\r\n\r\nEdit: it was `appendFraction()` which expects `&quot;.&quot;` character.","title":"JSR-310 - parsing seconds fraction with variable length","body":"<p>Parsing fails with a datetime without any &quot;:&quot; characters:</p>\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .appendPattern(&quot;yyyyMMddHHmmss&quot;)\n            .appendFraction(ChronoField.MICRO_OF_SECOND, 0, 9, false)\n            .toFormatter();\n        System.out.println(LocalDateTime.parse(&quot;20150507132022123&quot;, formatter));\n</code></pre>\n<p>Edit: it was <code>appendFraction()</code> which expects <code>&quot;.&quot;</code> character.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1665857565,"creation_date":1665857565,"answer_id":74081917,"question_id":30103167,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/30107522/10819573) is written by the architect of [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html) and is the most elegant way to solve this problem. My answer shows an alternative way to solve this problem.\r\n\r\nThis solution leverages a feature of `DateTimeFormatter` that allows specifying optional units using square brackets.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\r\n                    &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\r\n                    Locale.ENGLISH);\r\n    \r\n            // Test\r\n            Stream.of(\r\n                    &quot;2015-05-07 13:20:22.123456789&quot;,\r\n                    &quot;2015-05-07 13:20:22.276052&quot;,\r\n                    &quot;2015-05-07 13:20:22.276&quot;,\r\n                    &quot;2015-05-07 13:20:22&quot;\r\n            ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    2015-05-07T13:20:22.123456789\r\n    2015-05-07T13:20:22.276052\r\n    2015-05-07T13:20:22.276\r\n    2015-05-07T13:20:22\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"JSR-310 - parsing seconds fraction with variable length","body":"<p>The <a href=\"https://stackoverflow.com/a/30107522/10819573\">accepted answer</a> is written by the architect of <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a> and is the most elegant way to solve this problem. My answer shows an alternative way to solve this problem.</p>\n<p>This solution leverages a feature of <code>DateTimeFormatter</code> that allows specifying optional units using square brackets.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\n                &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\n                Locale.ENGLISH);\n\n        // Test\n        Stream.of(\n                &quot;2015-05-07 13:20:22.123456789&quot;,\n                &quot;2015-05-07 13:20:22.276052&quot;,\n                &quot;2015-05-07 13:20:22.276&quot;,\n                &quot;2015-05-07 13:20:22&quot;\n        ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-07T13:20:22.123456789\n2015-05-07T13:20:22.276052\n2015-05-07T13:20:22.276\n2015-05-07T13:20:22\n</code></pre>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":2490888,"reputation":6960,"user_id":2168346,"accept_rate":82,"display_name":"JiriS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10342,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":30107522,"answer_count":4,"score":39,"last_activity_date":1690893344,"creation_date":1431006734,"question_id":30103167,"body_markdown":"Is there a way how to create JSR-310 formatter that is able to parse both following date/times with variable length of seconds fraction?\r\n\r\n    2015-05-07 13:20:22.276052\r\nor\r\n\r\n    2015-05-07 13:20:22.276\r\n\r\nExample code:\r\n\r\n\tDateTimeFormatter formatter\r\n\t= new java.time.format.DateTimeFormatterBuilder()\r\n\t\t\t.append( java.time.format.DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;) )\r\n\t\t\t.appendOptional( java.time.format.DateTimeFormatter.ofPattern(&quot;.SSSSSS&quot;) )\r\n\t\t\t.toFormatter();\r\n\tformatter.parse(&quot;2015-05-07 13:20:22.276052&quot;, LocalDateTime::from);","title":"JSR-310 - parsing seconds fraction with variable length","body":"<p>Is there a way how to create JSR-310 formatter that is able to parse both following date/times with variable length of seconds fraction?</p>\n\n<pre><code>2015-05-07 13:20:22.276052\n</code></pre>\n\n<p>or</p>\n\n<pre><code>2015-05-07 13:20:22.276\n</code></pre>\n\n<p>Example code:</p>\n\n<pre><code>DateTimeFormatter formatter\n= new java.time.format.DateTimeFormatterBuilder()\n        .append( java.time.format.DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\") )\n        .appendOptional( java.time.format.DateTimeFormatter.ofPattern(\".SSSSSS\") )\n        .toFormatter();\nformatter.parse(\"2015-05-07 13:20:22.276052\", LocalDateTime::from);\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":16286923,"reputation":48,"user_id":11761434,"display_name":"Mateusz Łuczak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690893037,"creation_date":1690893037,"answer_id":76811646,"question_id":76811234,"body_markdown":"To check the day of the week, you can use the `java.util.Calendar` class. First, create an instance of the calendar and get the date (in the example is the current date). \r\n\r\nThen, retrieve the day of the week using `calendar.get(Calendar.DAY_OF_WEEK)`. The returned value will be an integer representing the day of the week.\r\n\r\n            val calendar = Calendar.getInstance()\r\n            val date = Date()\r\n            calendar.time = date\r\n            val dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK)\r\n            val isWeekend = dayOfWeek == Calendar.SATURDAY || dayOfWeek == Calendar.SUNDAY","title":"Local Notification on weekdays and weekends in android","body":"<p>To check the day of the week, you can use the <code>java.util.Calendar</code> class. First, create an instance of the calendar and get the date (in the example is the current date).</p>\n<p>Then, retrieve the day of the week using <code>calendar.get(Calendar.DAY_OF_WEEK)</code>. The returned value will be an integer representing the day of the week.</p>\n<pre><code>        val calendar = Calendar.getInstance()\n        val date = Date()\n        calendar.time = date\n        val dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK)\n        val isWeekend = dayOfWeek == Calendar.SATURDAY || dayOfWeek == Calendar.SUNDAY\n</code></pre>\n"}],"owner":{"account_id":14512331,"reputation":1,"user_id":10482368,"display_name":"Arpit Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690893037,"creation_date":1690889736,"question_id":76811234,"body_markdown":"I want to show local notification differently on weekdays and weekends in android on selecting time from time picker. I got time from picker but needs help in implementing local notification.\r\n\r\nI had already implemented showing local notification daily at specific time using alarm manager and it is working fine but needs help to schedule on weekdays and weekends.","title":"Local Notification on weekdays and weekends in android","body":"<p>I want to show local notification differently on weekdays and weekends in android on selecting time from time picker. I got time from picker but needs help in implementing local notification.</p>\n<p>I had already implemented showing local notification daily at specific time using alarm manager and it is working fine but needs help to schedule on weekdays and weekends.</p>\n"},{"tags":["java","testng","appium","assert","assertion"],"comments":[{"owner":{"account_id":12913509,"reputation":47,"user_id":9338526,"display_name":"Vedran Zenzerović"},"score":0,"creation_date":1580461241,"post_id":60000555,"comment_id":106112496,"body_markdown":"because it is not always truly equal, the element has additions to original string, so I have to use &quot;contains&quot;","body":"because it is not always truly equal, the element has additions to original string, so I have to use &quot;contains&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1580462232,"creation_date":1580460592,"answer_id":60000576,"question_id":60000555,"body_markdown":"You could turn this:\r\n\r\n    public void verifyAmount(WebElement element, String someText){\r\n    assertTrue(element.getText().contains(someText));\r\n    }\r\n\r\ninto:\r\n\r\n    public void verifyAmount(WebElement element, String someText, String message){\r\n    assertTrue(element.getText().contains(someText), message);\r\n    }\r\n\r\nand pass the error message you feel should be given there.\r\n\r\nEDIT: I&#39;m used to using other assert methods, which take the message as first param, but Long Nguyen is right in his answer: TestNG accepts the message as last parameter of the assertTrue.","title":"Can you make assertTrue error messages more specific?","body":"<p>You could turn this:</p>\n\n<pre><code>public void verifyAmount(WebElement element, String someText){\nassertTrue(element.getText().contains(someText));\n}\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>public void verifyAmount(WebElement element, String someText, String message){\nassertTrue(element.getText().contains(someText), message);\n}\n</code></pre>\n\n<p>and pass the error message you feel should be given there.</p>\n\n<p>EDIT: I'm used to using other assert methods, which take the message as first param, but Long Nguyen is right in his answer: TestNG accepts the message as last parameter of the assertTrue.</p>\n"},{"tags":[],"owner":{"account_id":13076666,"reputation":1177,"user_id":9448540,"display_name":"curiouscupcake"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1580460692,"creation_date":1580460692,"answer_id":60000598,"question_id":60000555,"body_markdown":"https://www.javadoc.io/doc/org.testng/testng/6.8.17/org/testng/Assert.html#assertTrue(boolean)\r\n\r\nTake a look at the documentation, you can see that you can add a message after the condition.\r\n\r\n`public static void assertTrue(boolean condition, String message)`","title":"Can you make assertTrue error messages more specific?","body":"<p><a href=\"https://www.javadoc.io/doc/org.testng/testng/6.8.17/org/testng/Assert.html#assertTrue(boolean)\" rel=\"noreferrer\">https://www.javadoc.io/doc/org.testng/testng/6.8.17/org/testng/Assert.html#assertTrue(boolean)</a></p>\n\n<p>Take a look at the documentation, you can see that you can add a message after the condition.</p>\n\n<p><code>public static void assertTrue(boolean condition, String message)</code></p>\n"},{"tags":[],"owner":{"account_id":12913509,"reputation":47,"user_id":9338526,"display_name":"Vedran Zenzerović"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1580463306,"creation_date":1580463306,"answer_id":60001244,"question_id":60000555,"body_markdown":"Thank you all for answers, the\r\n\r\n     assertTrue(string.contains(property), errorMessage);\r\n\r\ndid the job","title":"Can you make assertTrue error messages more specific?","body":"<p>Thank you all for answers, the</p>\n\n<pre><code> assertTrue(string.contains(property), errorMessage);\n</code></pre>\n\n<p>did the job</p>\n"},{"tags":[],"owner":{"account_id":14345051,"reputation":352,"user_id":10362105,"display_name":"Mert Ekinci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690892880,"creation_date":1690892880,"answer_id":76811623,"question_id":60000555,"body_markdown":"This snippet will fix your need.\r\n\r\n\r\n    public static void verifyAmount(WebElement element, String expectedSubstring) {\r\n        String actualText = element.getText();\r\n        Assert.assertTrue(actualText.contains(expectedSubstring),\r\n                String.format(&quot;Expected element text to contain &#39;%s&#39;, but found: &#39;%s&#39;&quot;, expectedSubstring, actualText));\r\n    }\r\n\r\n","title":"Can you make assertTrue error messages more specific?","body":"<p>This snippet will fix your need.</p>\n<pre><code>public static void verifyAmount(WebElement element, String expectedSubstring) {\n    String actualText = element.getText();\n    Assert.assertTrue(actualText.contains(expectedSubstring),\n            String.format(&quot;Expected element text to contain '%s', but found: '%s'&quot;, expectedSubstring, actualText));\n}\n</code></pre>\n"}],"owner":{"account_id":12913509,"reputation":47,"user_id":9338526,"display_name":"Vedran Zenzerović"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5848,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":60000576,"answer_count":4,"score":1,"last_activity_date":1690892880,"creation_date":1580460516,"question_id":60000555,"body_markdown":"\r\nI use testNG&#39;s assertTrue quite a lot to verify for example if transactions are correct\r\n\r\n    public void verifyAmount(WebElement element, String someText){\r\n    assertTrue(element.getText().contains(someText));\r\n    }\r\n\r\n\r\n and when it fails it says \r\n\r\n    java.lang.AssertionError: did not expect to find [true] but found[false]\r\n\r\nIs it possible to change assertion error to say what exactly went wrong, not just true/false statement? Is it possible to make that message more specific?\r\nIs there a way to make assertion error say :\r\n\r\n    java.lang.AssertionError: did not expect to find [10.000 $] but found[3000 $]\r\n\r\n","title":"Can you make assertTrue error messages more specific?","body":"<p>I use testNG's assertTrue quite a lot to verify for example if transactions are correct</p>\n\n<pre><code>public void verifyAmount(WebElement element, String someText){\nassertTrue(element.getText().contains(someText));\n}\n</code></pre>\n\n<p>and when it fails it says </p>\n\n<pre><code>java.lang.AssertionError: did not expect to find [true] but found[false]\n</code></pre>\n\n<p>Is it possible to change assertion error to say what exactly went wrong, not just true/false statement? Is it possible to make that message more specific?\nIs there a way to make assertion error say :</p>\n\n<pre><code>java.lang.AssertionError: did not expect to find [10.000 $] but found[3000 $]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cryptography","sha"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1597617115,"post_id":63440573,"comment_id":112183916,"body_markdown":"I&#39;m really not sure what t is about the close reasons provided, they don&#39;t make **any sense at all** to me. Perfectly answerable.","body":"I&#39;m really not sure what t is about the close reasons provided, they don&#39;t make <b>any sense at all</b> to me. Perfectly answerable."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1690892853,"creation_date":1597617028,"answer_id":63442519,"question_id":63440573,"body_markdown":"Basically the ECB in `&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;` as provided by the `&quot;SunJCE&quot;` provider is a misnomer. It probably has been copied from the block cipher modes in the old Java versions. It does **not** allow multiple blocks to be encrypted, which is what you would expect from ECB **mode**. In other words, it is completely identical to `&quot;RSA/None/OAEPWITHSHA-256ANDMGF1PADDING&quot;` - but that algorithm name is generally not accepted with Java SE.\r\n\r\nThe reason why it doesn&#39;t fail in your Spring Boot project is that it likely includes the Bouncy Castle provider (or another provider that registers the algorithm name with `none` inside of it). Bouncy Castle is however a **software only** provider, that has had side channel protection issues. Generally you should prefer the implementation within the `&quot;SunJCE&quot;`.\r\n\r\nJust using `&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;` without explicitly specifying the provider is the best way forward.\r\n\r\n---\r\n\r\n[EDIT] I strongly suggest to set the SHA-256 hash to be used for the label and MGF1 explicitly using `OAEPParameterSpec` and `MGF1ParameterSpec`. Unfortunately Java may default to SHA-1 and using identical hash functions all over is the most compatible option.","title":"Cannot find any provider supporting RSA/None/OAEPWITHSHA-256ANDMGF1PADDING","body":"<p>Basically the ECB in <code>&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;</code> as provided by the <code>&quot;SunJCE&quot;</code> provider is a misnomer. It probably has been copied from the block cipher modes in the old Java versions. It does <strong>not</strong> allow multiple blocks to be encrypted, which is what you would expect from ECB <strong>mode</strong>. In other words, it is completely identical to <code>&quot;RSA/None/OAEPWITHSHA-256ANDMGF1PADDING&quot;</code> - but that algorithm name is generally not accepted with Java SE.</p>\n<p>The reason why it doesn't fail in your Spring Boot project is that it likely includes the Bouncy Castle provider (or another provider that registers the algorithm name with <code>none</code> inside of it). Bouncy Castle is however a <strong>software only</strong> provider, that has had side channel protection issues. Generally you should prefer the implementation within the <code>&quot;SunJCE&quot;</code>.</p>\n<p>Just using <code>&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;</code> without explicitly specifying the provider is the best way forward.</p>\n<hr />\n<p>[EDIT] I strongly suggest to set the SHA-256 hash to be used for the label and MGF1 explicitly using <code>OAEPParameterSpec</code> and <code>MGF1ParameterSpec</code>. Unfortunately Java may default to SHA-1 and using identical hash functions all over is the most compatible option.</p>\n"},{"tags":[],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615284102,"creation_date":1615284102,"answer_id":66544709,"question_id":63440573,"body_markdown":"When I faced this issue, I was able to resolve it by specifying the provider likeso \r\n`Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider())`. So it seems that we need to use the overloaded consutructor\r\n\r\n`Cipher cipher = Cipher.getInstance(&quot;RSA/None/OAEPWITHSHA-256ANDMGF1PADDING&quot;, provider);`","title":"Cannot find any provider supporting RSA/None/OAEPWITHSHA-256ANDMGF1PADDING","body":"<p>When I faced this issue, I was able to resolve it by specifying the provider likeso\n<code>Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider())</code>. So it seems that we need to use the overloaded consutructor</p>\n<p><code>Cipher cipher = Cipher.getInstance(&quot;RSA/None/OAEPWITHSHA-256ANDMGF1PADDING&quot;, provider);</code></p>\n"}],"owner":{"account_id":2377481,"reputation":1344,"user_id":2080429,"accept_rate":100,"display_name":"Yashasvi Raj Pant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11483,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":63442519,"answer_count":2,"score":7,"last_activity_date":1690892853,"creation_date":1597602570,"question_id":63440573,"body_markdown":"I encountered a strange issue while encrypting with RSA in `javax.crypto`.\r\n\r\nI am using `RSA/None/OAEPWITHSHA-256ANDMGF1PADDING` mode as follow...\r\n\r\n```java\r\nCipher cipher = Cipher.getInstance(&quot;RSA/None/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n```\r\n...and it is working correctly in my spring boot project.\r\n\r\nBut when I call the same function via `main(String[] args)` in the same project, I am getting the issue:\r\n```\r\nCannot find any provider supporting RSA/None/OAEPWITHSHA-256ANDMGF1PADDING\r\n```\r\n\r\nAgain: if I use `RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING` I get the correct output! (I don&#39;t want to use ECB as I know it has no use in the RSA algorithm).\r\n\r\nAlso, in my another spring boot project, I am getting the same above issue (this time not only `main(String[] args)` but in the Spring Boot project itself as well).\r\n\r\nCould anybody help me with this?","title":"Cannot find any provider supporting RSA/None/OAEPWITHSHA-256ANDMGF1PADDING","body":"<p>I encountered a strange issue while encrypting with RSA in <code>javax.crypto</code>.</p>\n<p>I am using <code>RSA/None/OAEPWITHSHA-256ANDMGF1PADDING</code> mode as follow...</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cipher cipher = Cipher.getInstance(&quot;RSA/None/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n</code></pre>\n<p>...and it is working correctly in my spring boot project.</p>\n<p>But when I call the same function via <code>main(String[] args)</code> in the same project, I am getting the issue:</p>\n<pre><code>Cannot find any provider supporting RSA/None/OAEPWITHSHA-256ANDMGF1PADDING\n</code></pre>\n<p>Again: if I use <code>RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING</code> I get the correct output! (I don't want to use ECB as I know it has no use in the RSA algorithm).</p>\n<p>Also, in my another spring boot project, I am getting the same above issue (this time not only <code>main(String[] args)</code> but in the Spring Boot project itself as well).</p>\n<p>Could anybody help me with this?</p>\n"},{"tags":["java","coordinates","gis","geotools","hexagonal-tiles"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1690892802,"creation_date":1690892802,"answer_id":76811608,"question_id":76810834,"body_markdown":"You&#39;ve been caught out by the Earth being round not flat. \r\n\r\nYou&#39;ve asked for the hexagons to be in degrees of lat/lon or EPSG:4326 and if you displayed them in that projection then they would look fine:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut when you reproject your map to Pseudo Mercator (EPSG:3857) they (and the rest of the map) become stretched, it&#39;s worse the further north you go.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you want unstretched hexagons on a stretched map then you need to generate them in that projection, something like this:\r\n\r\n        List&lt;Geometry&gt; hexagons = new ArrayList&lt;&gt;();\r\n        CoordinateReferenceSystem sourceCRS = DefaultGeographicCRS.WGS84;\r\n        ReferencedEnvelope\r\n                gridBounds = new ReferencedEnvelope(-5,5,50,60, sourceCRS);\r\n        ReferencedEnvelope nGridBounds = gridBounds.transform(CRS.decode(&quot;EPSG:3857&quot;),true);\r\n        double sideLen = 100000.0;\r\n        GridFeatureBuilder builder = new DefaultGridFeatureBuilder();\r\n        SimpleFeatureSource\r\n                grid = Hexagons.createGrid(nGridBounds, sideLen, HexagonOrientation.FLAT, builder);\r\n\r\nWhere I have changed the bounding box to be in EPSG:3857 and changed the length of the sides to 100Km. \r\n\r\n[![enter image description here][3]][3]\r\n\r\nIn general EPSG:3857 is a bad projection to do any analysis (or anything but a web map) in, so you may want to pick a better projection for your area of study.\r\n\r\n  [1]: https://i.stack.imgur.com/m5AcB.jpg\r\n  [2]: https://i.stack.imgur.com/aFknd.jpg\r\n  [3]: https://i.stack.imgur.com/V8O7I.jpg","title":"How to create regular hexagons on java to put on a map?","body":"<p>You've been caught out by the Earth being round not flat.</p>\n<p>You've asked for the hexagons to be in degrees of lat/lon or EPSG:4326 and if you displayed them in that projection then they would look fine:</p>\n<p><a href=\"https://i.stack.imgur.com/m5AcB.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/m5AcB.jpg\" alt=\"enter image description here\" /></a></p>\n<p>but when you reproject your map to Pseudo Mercator (EPSG:3857) they (and the rest of the map) become stretched, it's worse the further north you go.</p>\n<p><a href=\"https://i.stack.imgur.com/aFknd.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aFknd.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If you want unstretched hexagons on a stretched map then you need to generate them in that projection, something like this:</p>\n<pre><code>    List&lt;Geometry&gt; hexagons = new ArrayList&lt;&gt;();\n    CoordinateReferenceSystem sourceCRS = DefaultGeographicCRS.WGS84;\n    ReferencedEnvelope\n            gridBounds = new ReferencedEnvelope(-5,5,50,60, sourceCRS);\n    ReferencedEnvelope nGridBounds = gridBounds.transform(CRS.decode(&quot;EPSG:3857&quot;),true);\n    double sideLen = 100000.0;\n    GridFeatureBuilder builder = new DefaultGridFeatureBuilder();\n    SimpleFeatureSource\n            grid = Hexagons.createGrid(nGridBounds, sideLen, HexagonOrientation.FLAT, builder);\n</code></pre>\n<p>Where I have changed the bounding box to be in EPSG:3857 and changed the length of the sides to 100Km.</p>\n<p><a href=\"https://i.stack.imgur.com/V8O7I.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V8O7I.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In general EPSG:3857 is a bad projection to do any analysis (or anything but a web map) in, so you may want to pick a better projection for your area of study.</p>\n"}],"owner":{"account_id":29135716,"reputation":41,"user_id":22319940,"display_name":"Ante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690892802,"creation_date":1690886410,"question_id":76810834,"body_markdown":"I&#39;m trying to create regular hexagon polygons, but when visualized on a map they are stretched vertically. \r\n\r\nThis is how I do it:\r\n\r\n```\r\nList&lt;Geometry&gt; hexagons = new ArrayList&lt;&gt;();\r\n        CoordinateReferenceSystem sourceCRS = DefaultGeographicCRS.WGS84;\r\n        ReferencedEnvelope gridBounds = new ReferencedEnvelope(box[0], box[2], box[1], box[3], sourceCRS);\r\n        double sideLen = 0.1;\r\n        GridFeatureBuilder builder = new DefaultGridFeatureBuilder();\r\n        SimpleFeatureSource grid = Hexagons.createGrid(gridBounds, sideLen, HexagonOrientation.FLAT, builder);\r\n        try{\r\n            SimpleFeatureCollection collection = grid.getFeatures();\r\n            FeatureIterator iterator = collection.features();\r\n            while (iterator.hasNext()){\r\n                Feature feature = iterator.next();\r\n                SimpleFeature sFeature = (SimpleFeature) feature;\r\n                \r\n                Geometry geometry = (Geometry) sFeature.getAttribute(0);\r\n                hexagons.add(geometry);\r\n            }\r\n\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        return hexagons;\r\n```\r\n\r\n![This](https://i.stack.imgur.com/CO5vL.png) \r\n\r\n\r\nis how it looks like on a map. I tried to change the orientation from FLAT to ANGLE, but that didn&#39;t fix the problem.","title":"How to create regular hexagons on java to put on a map?","body":"<p>I'm trying to create regular hexagon polygons, but when visualized on a map they are stretched vertically.</p>\n<p>This is how I do it:</p>\n<pre><code>List&lt;Geometry&gt; hexagons = new ArrayList&lt;&gt;();\n        CoordinateReferenceSystem sourceCRS = DefaultGeographicCRS.WGS84;\n        ReferencedEnvelope gridBounds = new ReferencedEnvelope(box[0], box[2], box[1], box[3], sourceCRS);\n        double sideLen = 0.1;\n        GridFeatureBuilder builder = new DefaultGridFeatureBuilder();\n        SimpleFeatureSource grid = Hexagons.createGrid(gridBounds, sideLen, HexagonOrientation.FLAT, builder);\n        try{\n            SimpleFeatureCollection collection = grid.getFeatures();\n            FeatureIterator iterator = collection.features();\n            while (iterator.hasNext()){\n                Feature feature = iterator.next();\n                SimpleFeature sFeature = (SimpleFeature) feature;\n                \n                Geometry geometry = (Geometry) sFeature.getAttribute(0);\n                hexagons.add(geometry);\n            }\n\n        } catch(Exception e){\n            e.printStackTrace();\n        }\n        return hexagons;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/CO5vL.png\" alt=\"This\" /></p>\n<p>is how it looks like on a map. I tried to change the orientation from FLAT to ANGLE, but that didn't fix the problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1690888881,"post_id":76811115,"comment_id":135413075,"body_markdown":"Reading in a line and ignoring it is really no more complicated than calling the `nextLine();` method of your Scanner and simply doing nothing with the return result.","body":"Reading in a line and ignoring it is really no more complicated than calling the <code>nextLine();</code> method of your Scanner and simply doing nothing with the return result."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690891799,"post_id":76811115,"comment_id":135413689,"body_markdown":"What *are* your calculations btw?","body":"What <i>are</i> your calculations btw?"},{"owner":{"account_id":29134450,"reputation":9,"user_id":22318943,"display_name":"user11322"},"score":0,"creation_date":1690930393,"post_id":76811115,"comment_id":135420909,"body_markdown":"My calculations will be finding the average, smallest, and largest number, and the count of numbers that are above the average and below the average.  I am currently trying to write a for loop to do so.","body":"My calculations will be finding the average, smallest, and largest number, and the count of numbers that are above the average and below the average.  I am currently trying to write a for loop to do so."}],"answers":[{"tags":[],"owner":{"account_id":15709144,"reputation":101,"user_id":11335075,"display_name":"magon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690891657,"creation_date":1690891657,"answer_id":76811461,"question_id":76811115,"body_markdown":"As the one in your comments already mentioned, it&#39;s enough for you to just put the following code before your while loop:\r\n\r\n    // Ignore the first line (string) by reading it and not doing anything with it\r\n    if (inputFile.hasNextLine()) \r\n    {\r\n       inputFile.nextLine();\r\n    }\r\n\r\nIn this case &quot;ignoring the first line&quot; would mean that it reads the first line, but doesn&#39;t do anything with it - that should be working for you.\r\n\r\n\r\nRegarding the inputFile.hasNextInt() - Part of your code - just a tip:\r\n\r\nYou are currently reading the whole line and converting it to an integer. It would also work for you, if you just use \r\n\r\n    if (inputFile.hasNextInt()) \r\n    {\r\n      System.out.println(inputFile.nextInt());\r\n    }\r\n\r\nThis handles the conversion automatically for you, so you dont have to read the line and convert it to an Integer in an own step.\r\n\r\nKeep coding, your code looks good :)\r\n\r\n","title":"How do you ignore a line of string text when reading a text file in Java?","body":"<p>As the one in your comments already mentioned, it's enough for you to just put the following code before your while loop:</p>\n<pre><code>// Ignore the first line (string) by reading it and not doing anything with it\nif (inputFile.hasNextLine()) \n{\n   inputFile.nextLine();\n}\n</code></pre>\n<p>In this case &quot;ignoring the first line&quot; would mean that it reads the first line, but doesn't do anything with it - that should be working for you.</p>\n<p>Regarding the inputFile.hasNextInt() - Part of your code - just a tip:</p>\n<p>You are currently reading the whole line and converting it to an integer. It would also work for you, if you just use</p>\n<pre><code>if (inputFile.hasNextInt()) \n{\n  System.out.println(inputFile.nextInt());\n}\n</code></pre>\n<p>This handles the conversion automatically for you, so you dont have to read the line and convert it to an Integer in an own step.</p>\n<p>Keep coding, your code looks good :)</p>\n"}],"owner":{"account_id":29134450,"reputation":9,"user_id":22318943,"display_name":"user11322"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690891657,"creation_date":1690888783,"question_id":76811115,"body_markdown":"In my program, I have to read a text file where the first line will have a string with text, and the following line/lines will have integers.  I need to be able to read the first string, ignore it, and then continue reading the integers in order to do calculations.  I am unsure of how to read the first string of text and disregard it and continue reading the next line of integers.\r\n\r\nFor this program, I can&#39;t use arrays or the try...catch methods to solve.  I must only use while loops and for loops and if-else statements as well.\r\n\r\nThis is the code I have so far.  It reads the text file entered, but I cannot get it to ignore the string of text and move on to the numbers.  I&#39;m not sure what to put in my while loop to get it to work correctly.  Any help is much appreciated!\r\n\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n    import java.lang.String;\r\n\r\n    public class Homework7_56299 {\r\n\r\n        //displays program purpose and asks user to enter a file name\r\n        public static void main(String[] args) throws IOException {\r\n            System.out.println(&quot;This program reads a number file and prints the statistics&quot;);\r\n            System.out.println(&quot;Enter a file name: &quot;);\r\n\r\n            String fileName;\r\n            Scanner keyboard = new Scanner(System.in);\r\n            fileName = keyboard.nextLine();\r\n            processFile(fileName);\r\n        }   \r\n\r\n        //this method reads the file and calculates the statistics\r\n        public static void processFile(String fileName) throws IOException\r\n        {\r\n            int smallest = Integer.MAX_VALUE;\r\n            int largest = Integer.MIN_VALUE;\r\n            double sum = 0.0;\r\n            int count = 0;\r\n\r\n            File file = new File(fileName);\r\n            //BufferedReader reader = new BufferedReader(new FileReader(new File(fileName)));\r\n            Scanner inputFile = new Scanner(file);\r\n            String str = null;\r\n    \r\n            while (inputFile.hasNext())\r\n            {\r\n\r\n                if (inputFile.hasNextLine())\r\n                {\r\n                    System.out.println();\r\n                }\r\n\r\n                if (inputFile.hasNextInt())\r\n                {\r\n                    int num = Integer.parseInt(str);\r\n                    System.out.println(num);\r\n                }\r\n\r\n\r\n            }\r\n            inputFile.close();\r\n\r\n        }","title":"How do you ignore a line of string text when reading a text file in Java?","body":"<p>In my program, I have to read a text file where the first line will have a string with text, and the following line/lines will have integers.  I need to be able to read the first string, ignore it, and then continue reading the integers in order to do calculations.  I am unsure of how to read the first string of text and disregard it and continue reading the next line of integers.</p>\n<p>For this program, I can't use arrays or the try...catch methods to solve.  I must only use while loops and for loops and if-else statements as well.</p>\n<p>This is the code I have so far.  It reads the text file entered, but I cannot get it to ignore the string of text and move on to the numbers.  I'm not sure what to put in my while loop to get it to work correctly.  Any help is much appreciated!</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.lang.String;\n\npublic class Homework7_56299 {\n\n    //displays program purpose and asks user to enter a file name\n    public static void main(String[] args) throws IOException {\n        System.out.println(&quot;This program reads a number file and prints the statistics&quot;);\n        System.out.println(&quot;Enter a file name: &quot;);\n\n        String fileName;\n        Scanner keyboard = new Scanner(System.in);\n        fileName = keyboard.nextLine();\n        processFile(fileName);\n    }   \n\n    //this method reads the file and calculates the statistics\n    public static void processFile(String fileName) throws IOException\n    {\n        int smallest = Integer.MAX_VALUE;\n        int largest = Integer.MIN_VALUE;\n        double sum = 0.0;\n        int count = 0;\n\n        File file = new File(fileName);\n        //BufferedReader reader = new BufferedReader(new FileReader(new File(fileName)));\n        Scanner inputFile = new Scanner(file);\n        String str = null;\n\n        while (inputFile.hasNext())\n        {\n\n            if (inputFile.hasNextLine())\n            {\n                System.out.println();\n            }\n\n            if (inputFile.hasNextInt())\n            {\n                int num = Integer.parseInt(str);\n                System.out.println(num);\n            }\n\n\n        }\n        inputFile.close();\n\n    }\n</code></pre>\n"},{"tags":["java","cdi","proxy-pattern"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690873777,"post_id":76809225,"comment_id":135410020,"body_markdown":"It&#39;s been a while since I&#39;ve done Spring, but doesn&#39;t it have something like `@Primary` for this purpose?","body":"It&#39;s been a while since I&#39;ve done Spring, but doesn&#39;t it have something like <code>@Primary</code> for this purpose?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":1,"creation_date":1690873922,"post_id":76809225,"comment_id":135410038,"body_markdown":"@Jorn you might be right. In Jakarta it should be possible to handle it with `@Priority(0)` instead, as there is no `@Primary` annotation. Wasn&#39;t thinking about it that way. Thanks","body":"@Jorn you might be right. In Jakarta it should be possible to handle it with <code>@Priority(0)</code> instead, as there is no <code>@Primary</code> annotation. Wasn&#39;t thinking about it that way. Thanks"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690883806,"post_id":76809225,"comment_id":135412022,"body_markdown":"@Jorn This isn&#39;t Spring, but CDI.","body":"@Jorn This isn&#39;t Spring, but CDI."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690888097,"post_id":76809225,"comment_id":135412901,"body_markdown":"@MarkRotteveel I noticed that later too, but my comment did apparently help OP so that&#39;s nice.","body":"@MarkRotteveel I noticed that later too, but my comment did apparently help OP so that&#39;s nice."},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":2,"creation_date":1690891184,"post_id":76809225,"comment_id":135413581,"body_markdown":"One small note here, please do *not* use `@Named` as a standard CDI qualifier. Create your own custom one. The reason being that CDI actually employs special treatment WRT `@Named` when it comes to default qualifier. See https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#builtin_qualifiers","body":"One small note here, please do <i>not</i> use <code>@Named</code> as a standard CDI qualifier. Create your own custom one. The reason being that CDI actually employs special treatment WRT <code>@Named</code> when it comes to default qualifier. See <a href=\"https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#builtin_qualifiers\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/cdi/4.0/&hellip;</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1690892474,"post_id":76809225,"comment_id":135413830,"body_markdown":"The answer from Siliarus has all the helpful information to answer the question as it is (+1). However, can you take a step back and explain why do you want the `MyInterfaceImplProxy` from the perspective of design? Because it smells a lot like a use case for CDI decorators!","body":"The answer from Siliarus has all the helpful information to answer the question as it is (+1). However, can you take a step back and explain why do you want the <code>MyInterfaceImplProxy</code> from the perspective of design? Because it smells a lot like a use case for CDI decorators!"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1690895123,"post_id":76809225,"comment_id":135414458,"body_markdown":"@NikosParaskevopoulos In my real-world application, the interface is a FileProvider that is responsible for file system operations (and has local and cloud implementations), and the proxy stores the file information in the database and fires events. Not sure if I&#39;d even call it a proxy or just a service, I wanted to share the API between both, as there is no difference between them from the caller perspective. I&#39;ve looked into CDI decorators, but I can&#39;t see what gains I&#39;d get out of it from looking at the official docs right now.","body":"@NikosParaskevopoulos In my real-world application, the interface is a FileProvider that is responsible for file system operations (and has local and cloud implementations), and the proxy stores the file information in the database and fires events. Not sure if I&#39;d even call it a proxy or just a service, I wanted to share the API between both, as there is no difference between them from the caller perspective. I&#39;ve looked into CDI decorators, but I can&#39;t see what gains I&#39;d get out of it from looking at the official docs right now."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1690922514,"post_id":76809225,"comment_id":135419829,"body_markdown":"So there are 2 implementations of the `FileProvider` and you need some functionality that is common for both but independent of the specifics of each? Then an interceptor maybe?","body":"So there are 2 implementations of the <code>FileProvider</code> and you need some functionality that is common for both but independent of the specifics of each? Then an interceptor maybe?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":1,"creation_date":1691005759,"post_id":76809225,"comment_id":135433709,"body_markdown":"@NikosParaskevopoulos maybe you are right, and maybe I should rethink the overall design as this was just prototyped. Thank you anyway for your help :)","body":"@NikosParaskevopoulos maybe you are right, and maybe I should rethink the overall design as this was just prototyped. Thank you anyway for your help :)"}],"answers":[{"tags":[],"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690891050,"creation_date":1690891050,"answer_id":76811389,"question_id":76809225,"body_markdown":"You have two ways to go about this.\r\n\r\n(1) You can start using [CDI qualifiers][1] to tell those beans apart - each bean has a set of type and set of qualifiers based on which it gets injected. In your example, default qualifiers are used, hence the ambiguous resolution.\r\n\r\n(2) You can restrict bean types of a bean. This is done by placing `@Typed()` annotation on the bean class and explicitly listing the types you want that bean to have.\r\nHere is a [link][2] to the Jakarta doc describing it in more depth.\r\n\r\nLast but not least, if you just meant to *replace* one impl with another one (or, in other words, provide an impl that should be prioritized), then you might want to look into [CDI alternatives][3] - which boils down to annotating the desired bean class with `@Alternative @Priority(x)`. I am not sure this is what you are looking for, just putting it here so that you are aware of the option.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#qualifiers\r\n  [2]: https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#restricting_bean_types\r\n  [3]: https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#alternatives","title":"How to annotate proxy beans to not be considered as &quot;bean of interface&quot; in CDI","body":"<p>You have two ways to go about this.</p>\n<p>(1) You can start using <a href=\"https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#qualifiers\" rel=\"nofollow noreferrer\">CDI qualifiers</a> to tell those beans apart - each bean has a set of type and set of qualifiers based on which it gets injected. In your example, default qualifiers are used, hence the ambiguous resolution.</p>\n<p>(2) You can restrict bean types of a bean. This is done by placing <code>@Typed()</code> annotation on the bean class and explicitly listing the types you want that bean to have.\nHere is a <a href=\"https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#restricting_bean_types\" rel=\"nofollow noreferrer\">link</a> to the Jakarta doc describing it in more depth.</p>\n<p>Last but not least, if you just meant to <em>replace</em> one impl with another one (or, in other words, provide an impl that should be prioritized), then you might want to look into <a href=\"https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#alternatives\" rel=\"nofollow noreferrer\">CDI alternatives</a> - which boils down to annotating the desired bean class with <code>@Alternative @Priority(x)</code>. I am not sure this is what you are looking for, just putting it here so that you are aware of the option.</p>\n"}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690891050,"creation_date":1690873624,"question_id":76809225,"body_markdown":"Following scenario\r\n\r\n```java\r\npublic interface MyInterface{\r\n    \r\n    void doSomething();\r\n}\r\n\r\n@ApplicationScoped\r\npublic static class MyInterfaceImpl implements MyInterface{\r\n\r\n    @Override\r\n    public void doSomething() {\r\n        \r\n    }\r\n}\r\n\r\n\r\n@ApplicationScoped\r\npublic static class MyInterfaceImplProxy implements MyInterface{\r\n\r\n    @Inject\r\n    MyInterface myInterface;\r\n    \r\n    @Override\r\n    public void doSomething() {\r\n        myInterface.doSomething();\r\n    }\r\n}\r\n```\r\n\r\nOf course, we now have a problem, as there are two beans available for one interface.\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\nIs there a way to annotate the Proxy bean as such, so it won&#39;t be considered as an actual bean of type `MyInterface` or is the only way to use `@Named` beans here?\r\n\r\n[1]: https://i.stack.imgur.com/mJA1P.png","title":"How to annotate proxy beans to not be considered as &quot;bean of interface&quot; in CDI","body":"<p>Following scenario</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyInterface{\n    \n    void doSomething();\n}\n\n@ApplicationScoped\npublic static class MyInterfaceImpl implements MyInterface{\n\n    @Override\n    public void doSomething() {\n        \n    }\n}\n\n\n@ApplicationScoped\npublic static class MyInterfaceImplProxy implements MyInterface{\n\n    @Inject\n    MyInterface myInterface;\n    \n    @Override\n    public void doSomething() {\n        myInterface.doSomething();\n    }\n}\n</code></pre>\n<p>Of course, we now have a problem, as there are two beans available for one interface.</p>\n<p><a href=\"https://i.stack.imgur.com/mJA1P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mJA1P.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to annotate the Proxy bean as such, so it won't be considered as an actual bean of type <code>MyInterface</code> or is the only way to use <code>@Named</code> beans here?</p>\n"},{"tags":["java","logging","gson","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690890834,"creation_date":1690890834,"answer_id":76811367,"question_id":76806680,"body_markdown":"This is not possible using the current set of JTL resolvers. Though you can create your own resolver and render the `request` field there. See the [Extending Event Resolvers](https://logging.apache.org/log4j/2.x/manual/json-template-layout.html#extending-event-resolvers) section in the manul. There your `EventResolver#resolve(LogEvent, JsonWriter)` method will have access to both the event itself and the buffer JSON is written into. \r\n\r\nFor the records, there is also [LOG4J2-3082](https://issues.apache.org/jira/browse/LOG4J2-3082). There I want to enable the customization of the employed `JsonWriter`.","title":"Log4j2: Is it possible to convert JSON string in map message value to structured JSON in event output?","body":"<p>This is not possible using the current set of JTL resolvers. Though you can create your own resolver and render the <code>request</code> field there. See the <a href=\"https://logging.apache.org/log4j/2.x/manual/json-template-layout.html#extending-event-resolvers\" rel=\"nofollow noreferrer\">Extending Event Resolvers</a> section in the manul. There your <code>EventResolver#resolve(LogEvent, JsonWriter)</code> method will have access to both the event itself and the buffer JSON is written into.</p>\n<p>For the records, there is also <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3082\" rel=\"nofollow noreferrer\">LOG4J2-3082</a>. There I want to enable the customization of the employed <code>JsonWriter</code>.</p>\n"}],"owner":{"account_id":29131223,"reputation":23,"user_id":22316435,"display_name":"rdhzl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76811367,"answer_count":1,"score":2,"last_activity_date":1690890834,"creation_date":1690832329,"question_id":76806680,"body_markdown":"we&#39;re migrating from a custom logging framework to Log4j2 and trying to match output parity as best we can.\r\n\r\nWe currently have a log statement that accepts several parameters via a Map, and all of these properties get written to the root of our custom JSON logging output. Most of the map properties we&#39;re logging are primitives/strings, however one property is a `JsonElement` (Gson), and represents structured web request content. In our legacy custom logging framework it was written such that this `JsonElement` became grafted into the log output as a nested JSON object, so:\r\n\r\n```\r\n&quot;request&quot;:{\r\n      &quot;visitId&quot;:&quot;ABCDEFG&quot;\r\n   },\r\n\r\n```\r\n\r\nTo try to replicate all of this functionality in Log4j2 I using `JsonTemplateLayout` with a resolver like so to flatten all the map (`StringMapMessage`) properties to the JSON root:\r\n\r\n```\r\n  &quot;mapMessage&quot;: {\r\n    &quot;$resolver&quot;: &quot;map&quot;,\r\n    &quot;flatten&quot;: true\r\n  },\r\n```\r\n\r\nAll I&#39;m really doing to populate the Log4j2 event is to iterate through the Map and build out a `StringMapMessage` with the same content as before.\r\n\r\nThis seems to give us most of what we&#39;re looking for, except for dealing with the `JsonElement`. Log4j2 presumably (and understandably) just toString()&#39;s the `JsonElement`. And so we end up with:\r\n\r\n```\r\n&quot;request&quot;:&quot;{\\&quot;visitId\\&quot;:\\&quot;ABCDEFG\\&quot;}&quot;,\r\n```\r\n\r\nWhile I don&#39;t like passing this `JsonElement` on to Log4j2 like this I don&#39;t really see much option based on where in the code we&#39;re logging and the fact that this JsonElement object could represent a variety of different Java-backed Request objects in our system.\r\n\r\n**Question: Is there a way for some behavior in the `JsonTemplateLayout` to deserialize the JSON string from this map field back into structured JSON? Or is there a different way I should be formatting my logging event to achieve this?**\r\n\r\n\r\n\r\nI&#39;ve tried things like the following:\r\n\r\nin log4j2.xml:\r\n```\r\n                &lt;EventTemplateAdditionalField\r\n                        key=&quot;request&quot;\r\n                        format=&quot;JSON&quot;\r\n                        value=&#39;{&quot;$resolver&quot;: &quot;map&quot;, &quot;field&quot;: &quot;request&quot;}&#39;/&gt;/&gt;\r\n```\r\n\r\nin our template:\r\n```\r\n  &quot;request&quot;: {\r\n    &quot;$resolver&quot;: &quot;map&quot;,\r\n    &quot;key&quot;: &quot;request&quot;,\r\n    &quot;format&quot;: &quot;JSON&quot;,\r\n    &quot;stringified&quot;: false\r\n  },\r\n```\r\n\r\nBut no dice. Appreciate any and all help, thanks for looking?\r\n","title":"Log4j2: Is it possible to convert JSON string in map message value to structured JSON in event output?","body":"<p>we're migrating from a custom logging framework to Log4j2 and trying to match output parity as best we can.</p>\n<p>We currently have a log statement that accepts several parameters via a Map, and all of these properties get written to the root of our custom JSON logging output. Most of the map properties we're logging are primitives/strings, however one property is a <code>JsonElement</code> (Gson), and represents structured web request content. In our legacy custom logging framework it was written such that this <code>JsonElement</code> became grafted into the log output as a nested JSON object, so:</p>\n<pre><code>&quot;request&quot;:{\n      &quot;visitId&quot;:&quot;ABCDEFG&quot;\n   },\n\n</code></pre>\n<p>To try to replicate all of this functionality in Log4j2 I using <code>JsonTemplateLayout</code> with a resolver like so to flatten all the map (<code>StringMapMessage</code>) properties to the JSON root:</p>\n<pre><code>  &quot;mapMessage&quot;: {\n    &quot;$resolver&quot;: &quot;map&quot;,\n    &quot;flatten&quot;: true\n  },\n</code></pre>\n<p>All I'm really doing to populate the Log4j2 event is to iterate through the Map and build out a <code>StringMapMessage</code> with the same content as before.</p>\n<p>This seems to give us most of what we're looking for, except for dealing with the <code>JsonElement</code>. Log4j2 presumably (and understandably) just toString()'s the <code>JsonElement</code>. And so we end up with:</p>\n<pre><code>&quot;request&quot;:&quot;{\\&quot;visitId\\&quot;:\\&quot;ABCDEFG\\&quot;}&quot;,\n</code></pre>\n<p>While I don't like passing this <code>JsonElement</code> on to Log4j2 like this I don't really see much option based on where in the code we're logging and the fact that this JsonElement object could represent a variety of different Java-backed Request objects in our system.</p>\n<p><strong>Question: Is there a way for some behavior in the <code>JsonTemplateLayout</code> to deserialize the JSON string from this map field back into structured JSON? Or is there a different way I should be formatting my logging event to achieve this?</strong></p>\n<p>I've tried things like the following:</p>\n<p>in log4j2.xml:</p>\n<pre><code>                &lt;EventTemplateAdditionalField\n                        key=&quot;request&quot;\n                        format=&quot;JSON&quot;\n                        value='{&quot;$resolver&quot;: &quot;map&quot;, &quot;field&quot;: &quot;request&quot;}'/&gt;/&gt;\n</code></pre>\n<p>in our template:</p>\n<pre><code>  &quot;request&quot;: {\n    &quot;$resolver&quot;: &quot;map&quot;,\n    &quot;key&quot;: &quot;request&quot;,\n    &quot;format&quot;: &quot;JSON&quot;,\n    &quot;stringified&quot;: false\n  },\n</code></pre>\n<p>But no dice. Appreciate any and all help, thanks for looking?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1472624517,"creation_date":1472624517,"answer_id":39242123,"question_id":39240963,"body_markdown":"you can use:\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\nand then load property from code:\r\n\r\n    env.getProperty(&quot;your.property&quot;)\r\n\r\n","title":"Read properties by dynamic keys in spring boot","body":"<p>you can use:</p>\n\n<pre><code>@Autowired\nprivate Environment env;\n</code></pre>\n\n<p>and then load property from code:</p>\n\n<pre><code>env.getProperty(\"your.property\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1592751486,"creation_date":1587047886,"answer_id":61252977,"question_id":39240963,"body_markdown":"1- **Register a Properties File via Java Annotations.**\r\n\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:test.properties&quot;)\r\n    public class PropertiesJavaConfig {\r\n        \r\n    }\r\n\r\n\r\n2- **Dynamically select the right file at runtime.**\r\n\r\n    @PropertySource({ \r\n      &quot;classpath:persistence-${envTarget:DB}.properties&quot;\r\n    })","title":"Read properties by dynamic keys in spring boot","body":"<p>1- <strong>Register a Properties File via Java Annotations.</strong></p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:test.properties&quot;)\npublic class PropertiesJavaConfig {\n    \n}\n</code></pre>\n<p>2- <strong>Dynamically select the right file at runtime.</strong></p>\n<pre><code>@PropertySource({ \n  &quot;classpath:persistence-${envTarget:DB}.properties&quot;\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615557737,"creation_date":1615557737,"answer_id":66601345,"question_id":39240963,"body_markdown":"In case you are reading from the application.properties, you just define the environment spring autowired variable as specified by freakman (org.springframework.core.env.Environment). But if you are using a new properties file specific for certain properties, you can use the following code:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.core.env.Environment;\r\n\r\n     @Configuration\r\n     @PropertySource(&quot;classpath:filename.properties&quot;)\r\n     public class CustomConfig {\r\n        @Autowired\r\n        Environment env;\r\n   \r\n    \r\n        public String getProperty(String keyName) {\r\n           return env.getProperty(keyName);\r\n        }    \r\n     }","title":"Read properties by dynamic keys in spring boot","body":"<p>In case you are reading from the application.properties, you just define the environment spring autowired variable as specified by freakman (org.springframework.core.env.Environment). But if you are using a new properties file specific for certain properties, you can use the following code:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.env.Environment;\n\n @Configuration\n @PropertySource(&quot;classpath:filename.properties&quot;)\n public class CustomConfig {\n    @Autowired\n    Environment env;\n\n\n    public String getProperty(String keyName) {\n       return env.getProperty(keyName);\n    }    \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690890683,"creation_date":1690890683,"answer_id":76811347,"question_id":39240963,"body_markdown":"Follow the below steps.\r\n\r\n1. use private Environment env; class with the import of \r\n\r\n    \r\n\r\n&gt; import org.springframework.core.env.Environment;\r\n\r\n2. Autowire the private Environment class like below\r\n  \r\n\r\n&gt; private Environment envoronment;\r\n&gt; \r\n&gt;   public FileSizeValidator(Environment envoronment) {\r\n&gt;     this.envoronment = envoronment;   }\r\n\r\n3. Use the getProperty method to call the value\r\n\r\n    \r\n\r\n&gt; `envoronment.getProperty(&quot;property.name&quot;)`\r\n\r\n\r\n","title":"Read properties by dynamic keys in spring boot","body":"<p>Follow the below steps.</p>\n<ol>\n<li>use private Environment env; class with the import of</li>\n</ol>\n<blockquote>\n<p>import org.springframework.core.env.Environment;</p>\n</blockquote>\n<ol start=\"2\">\n<li>Autowire the private Environment class like below</li>\n</ol>\n<blockquote>\n<p>private Environment envoronment;</p>\n<p>public FileSizeValidator(Environment envoronment) {\nthis.envoronment = envoronment;   }</p>\n</blockquote>\n<ol start=\"3\">\n<li>Use the getProperty method to call the value</li>\n</ol>\n<blockquote>\n<p><code>envoronment.getProperty(&quot;property.name&quot;)</code></p>\n</blockquote>\n"}],"owner":{"account_id":2366927,"reputation":1802,"user_id":2072444,"accept_rate":41,"display_name":"rishi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38292,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":39242123,"answer_count":4,"score":17,"last_activity_date":1690890683,"creation_date":1472618997,"question_id":39240963,"body_markdown":"I wanted to know if there is any way in Spring Boot to read property values from properties file by using *Dynamic Keys*. I know properties can be put in `application.properties` and can be read using `@Value(&quot;propertyKey&quot;)` But my keys are going to be dynamic. \r\n\r\nI know about `@PropertySource` to read property values and I can construct my keys dynamically. So is there any way that is provided by Spring Boot?","title":"Read properties by dynamic keys in spring boot","body":"<p>I wanted to know if there is any way in Spring Boot to read property values from properties file by using <em>Dynamic Keys</em>. I know properties can be put in <code>application.properties</code> and can be read using <code>@Value(\"propertyKey\")</code> But my keys are going to be dynamic. </p>\n\n<p>I know about <code>@PropertySource</code> to read property values and I can construct my keys dynamically. So is there any way that is provided by Spring Boot?</p>\n"},{"tags":["java","gradle","dependencies","build.gradle","gradle-dependencies"],"answers":[{"tags":[],"owner":{"account_id":25114,"reputation":114190,"user_id":64313,"accept_rate":64,"display_name":"cmcginty"},"down_vote_count":1,"up_vote_count":158,"is_accepted":false,"score":157,"last_activity_date":1662823638,"creation_date":1423616909,"answer_id":28444896,"question_id":28444016,"body_markdown":"Add this section to just above your `dependencies` block.\r\n\r\nGroovy/Gradle:\r\n\r\n```groovy\r\nconfigurations.all {\r\n  resolutionStrategy { \r\n    force &#39;com.google.guava:guava:14.0.1&#39;\r\n    force &#39;com.google.guava:guava-gwt:14.0.1&#39;\r\n  }\r\n}\r\n```\r\n\r\nKotlin Script:\r\n\r\n```kotlin\r\nconfigurations.all {\r\n  resolutionStrategy {\r\n    force(&quot;com.google.guava:guava:14.0.1&quot;)\r\n    force(&quot;com.google.guava:guava-gwt:14.0.1&quot;)\r\n  }\r\n}\r\n```\r\n\r\n","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>Add this section to just above your <code>dependencies</code> block.</p>\n<p>Groovy/Gradle:</p>\n<pre><code>configurations.all {\n  resolutionStrategy { \n    force 'com.google.guava:guava:14.0.1'\n    force 'com.google.guava:guava-gwt:14.0.1'\n  }\n}\n</code></pre>\n<p>Kotlin Script:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations.all {\n  resolutionStrategy {\n    force(&quot;com.google.guava:guava:14.0.1&quot;)\n    force(&quot;com.google.guava:guava-gwt:14.0.1&quot;)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864484,"reputation":815,"user_id":2459062,"accept_rate":44,"display_name":"Klunk"},"down_vote_count":6,"up_vote_count":26,"is_accepted":true,"score":20,"last_activity_date":1490451196,"creation_date":1423695673,"answer_id":28466245,"question_id":28444016,"body_markdown":"One of your dependencies is forcing the guava version to update. Use `gradle dependencies` to locate which library is evicting your version.\r\n\r\nThe problem you have is that if you force it to use 14.0.1 another library may not work properly. Can you not just use the 17.0 version as your dependency?\r\n\r\nRather than maintain individual version numbers in the build.gradle I use a dependencies.gradle file which will have a mapping of version numbers and pull that into the build.gradle. That way I only need to maintain the single guava version. So your example will be:\r\n\r\ndependencies.gradle\r\n\r\n    ext {\r\n        ver = [\r\n            guava: &#39;14.0.1&#39;\r\n        ]\r\n    }\r\n\r\nand then in the build.gradle file you can have:\r\n\r\n    apply from: &quot;dependencies.gradle&quot;\r\n    \r\n    dependencies {\r\n        compile group: &#39;com.google.guava&#39;, module: &#39;guava&#39;, version: ver.guava\r\n        compile group: &#39;com.google.guava&#39;, module: &#39;guava-gwt&#39;, version: ver.guava\r\n    }\r\n\r\nthen when I want to move to 17.0 I only need to change the dependencies.gradle.\r\n\r\nI am also a definite fan of setting transitive dependencies to false with\r\n\r\n    configurations.compile { transitive = false }\r\n\r\nthis way you do not have some dependencies evicted at compile time, although you may have a problem at run time if the evicting library is not fully backward compatible. Lets face it if you are writing the code you should know what libraries you use and you should be explicit about your dependencies. It protects you from one of your dependencies upgrading and messing you up.","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>One of your dependencies is forcing the guava version to update. Use <code>gradle dependencies</code> to locate which library is evicting your version.</p>\n\n<p>The problem you have is that if you force it to use 14.0.1 another library may not work properly. Can you not just use the 17.0 version as your dependency?</p>\n\n<p>Rather than maintain individual version numbers in the build.gradle I use a dependencies.gradle file which will have a mapping of version numbers and pull that into the build.gradle. That way I only need to maintain the single guava version. So your example will be:</p>\n\n<p>dependencies.gradle</p>\n\n<pre><code>ext {\n    ver = [\n        guava: '14.0.1'\n    ]\n}\n</code></pre>\n\n<p>and then in the build.gradle file you can have:</p>\n\n<pre><code>apply from: \"dependencies.gradle\"\n\ndependencies {\n    compile group: 'com.google.guava', module: 'guava', version: ver.guava\n    compile group: 'com.google.guava', module: 'guava-gwt', version: ver.guava\n}\n</code></pre>\n\n<p>then when I want to move to 17.0 I only need to change the dependencies.gradle.</p>\n\n<p>I am also a definite fan of setting transitive dependencies to false with</p>\n\n<pre><code>configurations.compile { transitive = false }\n</code></pre>\n\n<p>this way you do not have some dependencies evicted at compile time, although you may have a problem at run time if the evicting library is not fully backward compatible. Lets face it if you are writing the code you should know what libraries you use and you should be explicit about your dependencies. It protects you from one of your dependencies upgrading and messing you up.</p>\n"},{"tags":[],"owner":{"account_id":266397,"reputation":11135,"user_id":553941,"accept_rate":80,"display_name":"Pijusn"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1455130670,"creation_date":1455130670,"answer_id":35323649,"question_id":28444016,"body_markdown":"I had a similar situation where one of the dependencies used spring-web 4.2.4 which was broken. You have to force specific library version you want. As mentioned in another comment, it might cause compatibility issues but sometimes is necessary.\r\n\r\nLeast intrusive way of forcing a library version I found was instead of using\r\n\r\n    compile &quot;org.springframework:spring-web:4.2.3.RELEASE&quot;\r\n\r\nspecifying dependency configuration as forced:\r\n\r\n    compile(&quot;org.springframework:spring-web:4.2.3.RELEASE&quot;){\r\n        force = true\r\n    }\r\n\r\nI used it when I needed to downgrade Spring version temporarily (until next release).","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>I had a similar situation where one of the dependencies used spring-web 4.2.4 which was broken. You have to force specific library version you want. As mentioned in another comment, it might cause compatibility issues but sometimes is necessary.</p>\n\n<p>Least intrusive way of forcing a library version I found was instead of using</p>\n\n<pre><code>compile \"org.springframework:spring-web:4.2.3.RELEASE\"\n</code></pre>\n\n<p>specifying dependency configuration as forced:</p>\n\n<pre><code>compile(\"org.springframework:spring-web:4.2.3.RELEASE\"){\n    force = true\n}\n</code></pre>\n\n<p>I used it when I needed to downgrade Spring version temporarily (until next release).</p>\n"},{"tags":[],"owner":{"account_id":2547191,"reputation":1745,"user_id":2211754,"display_name":"Vyacheslav Shvets"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1605744552,"creation_date":1472818493,"answer_id":39292202,"question_id":28444016,"body_markdown":"    configurations.all {\r\n      resolutionStrategy.eachDependency { details -&gt;\r\n        if (details.requested.group == &#39;com.google.guava&#39;) {\r\n          details.useVersion &quot;14.0.1&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n    dependencies {\r\n      compile &#39;com.google.guava:guava&#39;\r\n      compile &#39;com.google.guava:guava-gwt&#39;\r\n    }","title":"How can I force Gradle to set the same version for two dependencies?","body":"<pre><code>configurations.all {\n  resolutionStrategy.eachDependency { details -&gt;\n    if (details.requested.group == 'com.google.guava') {\n      details.useVersion &quot;14.0.1&quot;\n    }\n  }\n}\n\ndependencies {\n  compile 'com.google.guava:guava'\n  compile 'com.google.guava:guava-gwt'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160808,"reputation":2328,"user_id":381140,"display_name":"Stevo Slavić"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490311224,"creation_date":1490311224,"answer_id":42988738,"question_id":28444016,"body_markdown":"Alternatively you can use *dependencySets* (or *mavenBom* when BOM POM is available) support in *spring-dependency-management* Gradle plugin. Note that this plugin is also automatically applied with *spring-boot* Gradle plugin. For more details see [here][1].\r\n\r\n\r\n    plugins {\r\n      id &#39;io.spring.dependency-management&#39; version &#39;1.0.1.RELEASE&#39;\r\n    }\r\n\r\n    dependencyManagement {\r\n      dependencies {\r\n        dependencySet(group: &#39;com.google.guava&#39;, version: &#39;14.0.1&#39;) {\r\n          entry &#39;guava&#39;\r\n          entry &#39;guava-gwt&#39;\r\n        }\r\n      }\r\n    }\r\n    \r\n    dependencies {\r\n      compile &#39;com.google.guava:guava&#39;\r\n      compile &#39;com.google.guava:guava-gwt&#39;\r\n    }\r\n\r\n  [1]: https://github.com/spring-gradle-plugins/dependency-management-plugin#dependency-management-configuration","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>Alternatively you can use <em>dependencySets</em> (or <em>mavenBom</em> when BOM POM is available) support in <em>spring-dependency-management</em> Gradle plugin. Note that this plugin is also automatically applied with <em>spring-boot</em> Gradle plugin. For more details see <a href=\"https://github.com/spring-gradle-plugins/dependency-management-plugin#dependency-management-configuration\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>plugins {\n  id 'io.spring.dependency-management' version '1.0.1.RELEASE'\n}\n\ndependencyManagement {\n  dependencies {\n    dependencySet(group: 'com.google.guava', version: '14.0.1') {\n      entry 'guava'\n      entry 'guava-gwt'\n    }\n  }\n}\n\ndependencies {\n  compile 'com.google.guava:guava'\n  compile 'com.google.guava:guava-gwt'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299652,"reputation":15874,"user_id":606351,"accept_rate":79,"display_name":"Vaiden"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580646771,"creation_date":1491296063,"answer_id":43202512,"question_id":28444016,"body_markdown":"I would suggest against setting `transitive = false`, as this approach would force yo to resolve the dependency tree yourself, manually. \r\n\r\nYou could either force the desired guava version via `configurations.all`, or add the dependency explicitly and set it `forced = true`.\r\n\r\nExamples here: http://www.devsbedevin.net/android-understanding-gradle-dependencies-and-resolving-conflicts/","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>I would suggest against setting <code>transitive = false</code>, as this approach would force yo to resolve the dependency tree yourself, manually. </p>\n\n<p>You could either force the desired guava version via <code>configurations.all</code>, or add the dependency explicitly and set it <code>forced = true</code>.</p>\n\n<p>Examples here: <a href=\"http://www.devsbedevin.net/android-understanding-gradle-dependencies-and-resolving-conflicts/\" rel=\"nofollow noreferrer\">http://www.devsbedevin.net/android-understanding-gradle-dependencies-and-resolving-conflicts/</a></p>\n"},{"tags":[],"owner":{"account_id":1496921,"reputation":10895,"user_id":1402641,"accept_rate":50,"display_name":"Marcin Koziński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517846114,"creation_date":1517846114,"answer_id":48626458,"question_id":28444016,"body_markdown":"If it&#39;s OK to just use the newer version for both dependencies, the simplest way to fix your problem is to update your dependencies:\r\n\r\n    compile &#39;com.google.guava:guava:17.0&#39;\r\n    compile &#39;com.google.guava:guava-gwt:17.0&#39;\r\n\r\nThat will make sure both of them are on 17.0. It&#39;s simpler than trying to force both of them on the older version and as an added bonus you get a newer version, which (probably) comes with bug fixes and new features.\r\n\r\nTo be fair @Klunk mentions this in his answer, by asking &quot;Can you not just use the 17.0 version as your dependency?&quot;, but it&#39;s just in passing and easy to miss, so I thought it made sense to post as a separate answer.","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>If it's OK to just use the newer version for both dependencies, the simplest way to fix your problem is to update your dependencies:</p>\n\n<pre><code>compile 'com.google.guava:guava:17.0'\ncompile 'com.google.guava:guava-gwt:17.0'\n</code></pre>\n\n<p>That will make sure both of them are on 17.0. It's simpler than trying to force both of them on the older version and as an added bonus you get a newer version, which (probably) comes with bug fixes and new features.</p>\n\n<p>To be fair @Klunk mentions this in his answer, by asking \"Can you not just use the 17.0 version as your dependency?\", but it's just in passing and easy to miss, so I thought it made sense to post as a separate answer.</p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1585840894,"creation_date":1566633234,"answer_id":57636110,"question_id":28444016,"body_markdown":"Another option is to use dependency constraint: https://docs.gradle.org/current/userguide/dependency_constraints.html\r\n\r\n    dependencies {\r\n        implementation &#39;org.apache.httpcomponents:httpclient&#39;\r\n        constraints {\r\n            implementation(&#39;org.apache.httpcomponents:httpclient:4.5.3&#39;) {\r\n                because &#39;previous versions have a bug impacting this application&#39;\r\n            }\r\n            implementation(&#39;commons-codec:commons-codec:1.11&#39;) {\r\n                because &#39;version 1.9 pulled from httpclient has bugs affecting this application&#39;\r\n            }\r\n        }\r\n    }","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>Another option is to use dependency constraint: <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/dependency_constraints.html</a></p>\n\n<pre><code>dependencies {\n    implementation 'org.apache.httpcomponents:httpclient'\n    constraints {\n        implementation('org.apache.httpcomponents:httpclient:4.5.3') {\n            because 'previous versions have a bug impacting this application'\n        }\n        implementation('commons-codec:commons-codec:1.11') {\n            because 'version 1.9 pulled from httpclient has bugs affecting this application'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9639306,"reputation":41,"user_id":7154175,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631130374,"creation_date":1631130374,"answer_id":69108869,"question_id":28444016,"body_markdown":"You can &quot;force&quot; versions for the libraries/dependencies in gradle like this:\r\n\r\n        configurations.all {\r\n            resolutionStrategy {\r\n                force(&quot;org.jetbrains.kotlin:kotlin-stdlib:1.4.32&quot;,\r\n                    &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32&quot;, \r\n    &quot;org.jetbrains.kotlin:kotlin-reflect:1.4.32&quot;\r\n                )\r\n            }\r\n        }\r\n\r\nYou can get more information on this here: https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.ResolutionStrategy.html\r\n\r\n","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>You can &quot;force&quot; versions for the libraries/dependencies in gradle like this:</p>\n<pre><code>    configurations.all {\n        resolutionStrategy {\n            force(&quot;org.jetbrains.kotlin:kotlin-stdlib:1.4.32&quot;,\n                &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.4.32&quot;, \n&quot;org.jetbrains.kotlin:kotlin-reflect:1.4.32&quot;\n            )\n        }\n    }\n</code></pre>\n<p>You can get more information on this here: <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.ResolutionStrategy.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.ResolutionStrategy.html</a></p>\n"},{"tags":[],"owner":{"account_id":3823420,"reputation":119,"user_id":3170901,"display_name":"dguard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645007138,"creation_date":1645007138,"answer_id":71140055,"question_id":28444016,"body_markdown":"**app/build.gradle**\r\n\r\n    dependencies {\r\n        compile(&#39;com.google.guava:guava&#39;) {\r\n            version {\r\n                strictly &#39;14.0.1&#39;\r\n            }\r\n        }\r\n        compile(&#39;com.google.guava:guava-gwt&#39;) {\r\n            version {\r\n                strictly &#39;14.0.1&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nVersion Gradlew\r\n\r\n    Gradle 6.7\r\n\r\n","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p><strong>app/build.gradle</strong></p>\n<pre><code>dependencies {\n    compile('com.google.guava:guava') {\n        version {\n            strictly '14.0.1'\n        }\n    }\n    compile('com.google.guava:guava-gwt') {\n        version {\n            strictly '14.0.1'\n        }\n    }\n}\n</code></pre>\n<p>Version Gradlew</p>\n<pre><code>Gradle 6.7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1690890550,"creation_date":1645175592,"answer_id":71170933,"question_id":28444016,"body_markdown":"This is for [Kotlin DSL][1] (build.gradle.**kts**) tested with Gradle *7.1*:\r\n\r\n```kotlin\r\ndependencies {\r\n    implementation(&quot;org.jsoup&quot;, &quot;jsoup&quot;) {\r\n        version {\r\n            strictly(&quot;1.14.3&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnother way:\r\n\r\n```kotlin\r\ndependencies {\r\n    implementation(&quot;org.jsoup:jsoup&quot;) {\r\n        version {\r\n            strictly(&quot;1.14.+&quot;) // You can also use dynamic versions\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnother way as suggested by other answers:\r\n\r\n```kotlin\r\nconfigurations.all {\r\n    resolutionStrategy {\r\n        force(&quot;org.jsoup:jsoup:1.14.3&quot;)\r\n        force(&quot;com.google.guava:guava-gwt:14.0.1&quot;)\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>This is for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.<strong>kts</strong>) tested with Gradle <em>7.1</em>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    implementation(&quot;org.jsoup&quot;, &quot;jsoup&quot;) {\n        version {\n            strictly(&quot;1.14.3&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Another way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    implementation(&quot;org.jsoup:jsoup&quot;) {\n        version {\n            strictly(&quot;1.14.+&quot;) // You can also use dynamic versions\n        }\n    }\n}\n</code></pre>\n<p>Another way as suggested by other answers:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>configurations.all {\n    resolutionStrategy {\n        force(&quot;org.jsoup:jsoup:1.14.3&quot;)\n        force(&quot;com.google.guava:guava-gwt:14.0.1&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179049,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":28466245,"answer_count":11,"score":113,"last_activity_date":1690890550,"creation_date":1423611732,"question_id":28444016,"body_markdown":"I use the following two dependencies: \r\n\r\n```groovy\r\ncompile &#39;com.google.guava:guava:14.0.1&#39;\r\ncompile &#39;com.google.guava:guava-gwt:14.0.1&#39;\r\n```\r\n\r\nBoth must be the same version to work correctly. Since my other dependencies use a higher version, Gradle uses different versions for each dependency. \r\n\r\nI found this by running `gradle dependencies`:\r\n\r\n```text\r\ncompile - Compile classpath for source set &#39;main&#39;.\r\n +--- com.google.guava:guava:14.0.1 -&gt; 17.0\r\n +--- com.google.guava:guava-gwt:14.0.1\r\n |    +--- com.google.code.findbugs:jsr305:1.3.9\r\n |    \\--- com.google.guava:guava:14.0.1 -&gt; 17.0 \r\n```\r\n\r\nHow can I force Gradle to set the same version for these two dependencies?","title":"How can I force Gradle to set the same version for two dependencies?","body":"<p>I use the following two dependencies:</p>\n<pre><code>compile 'com.google.guava:guava:14.0.1'\ncompile 'com.google.guava:guava-gwt:14.0.1'\n</code></pre>\n<p>Both must be the same version to work correctly. Since my other dependencies use a higher version, Gradle uses different versions for each dependency.</p>\n<p>I found this by running <code>gradle dependencies</code>:</p>\n<pre><code>compile - Compile classpath for source set 'main'.\n +--- com.google.guava:guava:14.0.1 -&gt; 17.0\n +--- com.google.guava:guava-gwt:14.0.1\n |    +--- com.google.code.findbugs:jsr305:1.3.9\n |    \\--- com.google.guava:guava:14.0.1 -&gt; 17.0 \n</code></pre>\n<p>How can I force Gradle to set the same version for these two dependencies?</p>\n"},{"tags":["java","elasticsearch","rest-client"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687482599,"post_id":76482294,"comment_id":134946761,"body_markdown":"Did you check elastic server version and rest clients version conflict with Spring boot after update?","body":"Did you check elastic server version and rest clients version conflict with Spring boot after update?"}],"answers":[{"tags":[],"owner":{"account_id":29136181,"reputation":11,"user_id":22320279,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690890317,"creation_date":1690889834,"answer_id":76811245,"question_id":76482294,"body_markdown":"It works for me. Changes in build.gradle:\r\n\r\n    - implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    + implementation &#39;org.springframework:spring-webflux&#39;","title":"Error processingorg.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRestClientAutoConfiguration.reactiveElasticsearchClient","body":"<p>It works for me. Changes in build.gradle:</p>\n<pre><code>- implementation 'org.springframework.boot:spring-boot-starter-webflux'\n+ implementation 'org.springframework:spring-webflux'\n</code></pre>\n"}],"owner":{"account_id":28827376,"reputation":1,"user_id":22078489,"display_name":"Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690890317,"creation_date":1686830770,"question_id":76482294,"body_markdown":"I have updated springboot(2.7.11) version + springcloud version(2021.0.3) + java version (17)\r\nand also converted my bootstrap.properties to yml file and after that i am getting this error below\r\n\r\n\r\n```\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRestClientAutoConfiguration.reactiveElasticsearchClient\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\r\n\tat cydea.tech.cdpdatastorage.CdpDataStorageApplication.main(CdpDataStorageApplication.java:17) ~[classes/:na]\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRestClientAutoConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.27.jar:5.3.27]\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.27.jar:5.3.27]\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/data/elasticsearch/client/ClientConfiguration$ClientConfigurationCallback\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.27.jar:5.3.27]\r\n\t... 33 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.data.elasticsearch.client.ClientConfiguration$ClientConfigurationCallback\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 37 common frames omitted\r\n```\r\n\r\n\r\nI have reviewed all the URLs and my YAML format, but I haven&#39;t made any progress. Although I have added the WebFlux dependency, the issue remains unresolved.","title":"Error processingorg.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRestClientAutoConfiguration.reactiveElasticsearchClient","body":"<p>I have updated springboot(2.7.11) version + springcloud version(2021.0.3) + java version (17)\nand also converted my bootstrap.properties to yml file and after that i am getting this error below</p>\n<pre><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRestClientAutoConfiguration.reactiveElasticsearchClient\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.27.jar:5.3.27]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.11.jar:2.7.11]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.11.jar:2.7.11]\n    at cydea.tech.cdpdatastorage.CdpDataStorageApplication.main(CdpDataStorageApplication.java:17) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRestClientAutoConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485) ~[spring-core-5.3.27.jar:5.3.27]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361) ~[spring-core-5.3.27.jar:5.3.27]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418) ~[spring-core-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765) ~[spring-beans-5.3.27.jar:5.3.27]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1740) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.11.jar:2.7.11]\n    ... 17 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/data/elasticsearch/client/ClientConfiguration$ClientConfigurationCallback\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.27.jar:5.3.27]\n    ... 33 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.data.elasticsearch.client.ClientConfiguration$ClientConfigurationCallback\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 37 common frames omitted\n</code></pre>\n<p>I have reviewed all the URLs and my YAML format, but I haven't made any progress. Although I have added the WebFlux dependency, the issue remains unresolved.</p>\n"},{"tags":["java","mongodb","spring-boot","dependency-injection","couchbase"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1590978783,"post_id":62124675,"comment_id":109875558,"body_markdown":"Are you having MongoDB and Couchbase active at the same time or switching between them?","body":"Are you having MongoDB and Couchbase active at the same time or switching between them?"},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1590979296,"post_id":62124675,"comment_id":109875634,"body_markdown":"no. It can be also disconnected. But I always give active one as the condition","body":"no. It can be also disconnected. But I always give active one as the condition"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1590979366,"post_id":62124675,"comment_id":109875643,"body_markdown":"yes, if you can use `@Profile` or if you have tried with `@Conditionalonproperty`","body":"yes, if you can use <code>@Profile</code> or if you have tried with <code>@Conditionalonproperty</code>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1590979615,"post_id":62124675,"comment_id":109875679,"body_markdown":"Have you tried just using `PagingAndSortingRepository`? If you only have one Spring Data provider active, it should automatically wire it.","body":"Have you tried just using <code>PagingAndSortingRepository</code>? If you only have one Spring Data provider active, it should automatically wire it."},{"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"score":0,"creation_date":1590980076,"post_id":62124675,"comment_id":109875767,"body_markdown":"PagingAndSortingRepository cannot be used there are lots of repositories in the package","body":"PagingAndSortingRepository cannot be used there are lots of repositories in the package"},{"owner":{"account_id":8873267,"reputation":422,"user_id":6626365,"display_name":"Sridhar Karuppusamy"},"score":0,"creation_date":1590980460,"post_id":62124675,"comment_id":109875826,"body_markdown":"I don’t know my answer is right or not but I tell my opinion, why you try factory pattern for this approach. Based on the repo you can able switch object right? I think it’s an easy way @NilankaManoj your thoughts?","body":"I don’t know my answer is right or not but I tell my opinion, why you try factory pattern for this approach. Based on the repo you can able switch object right? I think it’s an easy way @NilankaManoj your thoughts?"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1590997641,"post_id":62124675,"comment_id":109880203,"body_markdown":"This will not work. The MongoDB and Couch repositories do not have 100% CRUD syntax support. Better to use the `@Service` implementation separately. You can activate 1 of them with [@Profile](https://www.baeldung.com/spring-profiles)","body":"This will not work. The MongoDB and Couch repositories do not have 100% CRUD syntax support. Better to use the <code>@Service</code> implementation separately. You can activate 1 of them with <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">@Profile</a>"}],"answers":[{"tags":[],"owner":{"account_id":1272209,"reputation":1590,"user_id":1228233,"accept_rate":67,"display_name":"Kumar V"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1592225395,"creation_date":1590979766,"answer_id":62124997,"question_id":62124675,"body_markdown":"We can use either `ConditionalOnProperty` or `ConditionalOnExpression` to switch between two different repository implementation. \r\n\r\n1. If we want to control the autowiring with simple property presence/absence or property value, then `ConditionalOnProperty` can be used.\r\n\r\n2. If complex evaluation is required, then we can use `ConditionalOnExpression`. \r\n\r\nConditionalOnProperty (presence/absence of a property)\r\n\r\n    @Qualifier(&quot;specificRepo&quot;)\r\n    @ConditionalOnProperty(&quot;mongo.url&quot;)\r\n    public interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt;{\r\n    }\r\n    \r\n    @Qualifier(&quot;specificRepo&quot;)   \r\n    @ConditionalOnProperty(&quot;couch.url&quot;)\r\n    public interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt;{\r\n    }\r\n\r\nConditionalOnProperty (based on value)\r\n\r\n    @ConditionalOnProperty(&quot;repo.url&quot;, havingValue=&quot;mongo&quot;, matchIfMissing = true) //this will be default implementation if no value is matching\r\n    public interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt; {\r\n    }\r\n    \r\n    @ConditionalOnProperty(&quot;repo.url&quot;, havingValue=&quot;couch&quot;)\r\n    public interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt; {\r\n    }\r\n\r\n\r\nConditionalOnExpression\r\n\r\n    @ConditionalOnExpression(&quot;#{&#39;${repository.url}&#39;.contains(&#39;couch&#39;)}&quot;)\r\n    public interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt; {\r\n    }\r\n\r\n\r\n**UPDATE**\r\n\r\nUse `CrudRepository/Repository` type to inject based on your requirement.\r\n\r\n\r\n    public class DemoService {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;specificRepo&quot;)\r\n        private CrudRepository repository;\r\n    }\r\n\r\nBased on bean created, either `UserRepositoryMongo` or `UserRepositoryCouch` will be autowired. Make sure only one bean is instantiated to avoid ambiguity error.  ","title":"conditional repository injection - Spring Boot","body":"<p>We can use either <code>ConditionalOnProperty</code> or <code>ConditionalOnExpression</code> to switch between two different repository implementation. </p>\n\n<ol>\n<li><p>If we want to control the autowiring with simple property presence/absence or property value, then <code>ConditionalOnProperty</code> can be used.</p></li>\n<li><p>If complex evaluation is required, then we can use <code>ConditionalOnExpression</code>. </p></li>\n</ol>\n\n<p>ConditionalOnProperty (presence/absence of a property)</p>\n\n<pre><code>@Qualifier(\"specificRepo\")\n@ConditionalOnProperty(\"mongo.url\")\npublic interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt;{\n}\n\n@Qualifier(\"specificRepo\")   \n@ConditionalOnProperty(\"couch.url\")\npublic interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt;{\n}\n</code></pre>\n\n<p>ConditionalOnProperty (based on value)</p>\n\n<pre><code>@ConditionalOnProperty(\"repo.url\", havingValue=\"mongo\", matchIfMissing = true) //this will be default implementation if no value is matching\npublic interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt; {\n}\n\n@ConditionalOnProperty(\"repo.url\", havingValue=\"couch\")\npublic interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt; {\n}\n</code></pre>\n\n<p>ConditionalOnExpression</p>\n\n<pre><code>@ConditionalOnExpression(\"#{'${repository.url}'.contains('couch')}\")\npublic interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt; {\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Use <code>CrudRepository/Repository</code> type to inject based on your requirement.</p>\n\n<pre><code>public class DemoService {\n\n    @Autowired\n    @Qualifier(\"specificRepo\")\n    private CrudRepository repository;\n}\n</code></pre>\n\n<p>Based on bean created, either <code>UserRepositoryMongo</code> or <code>UserRepositoryCouch</code> will be autowired. Make sure only one bean is instantiated to avoid ambiguity error.  </p>\n"},{"tags":[],"owner":{"account_id":1272209,"reputation":1590,"user_id":1228233,"accept_rate":67,"display_name":"Kumar V"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1592015550,"creation_date":1592015550,"answer_id":62354863,"question_id":62124675,"body_markdown":"Another attempt to solve this problem. \r\n\r\nBased on the property, the autowired customRepository will be an instance of SimpleMongoRepository or SimpleCouchRepository.\r\n\r\n\r\n        public interface CustomRepository extends CrudRepository&lt;User, Long&gt; {\r\n            User findByLastName(String lastName); //custom methods\r\n        }\r\n        \r\n        @Qualifier(&quot;specificRepo&quot;)\r\n        @ConditionalOnProperty(&quot;mongo.url&quot;)\r\n        public interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt;, CustomRepository{\r\n        }\r\n        \r\n        @Qualifier(&quot;specificRepo&quot;)   \r\n        @ConditionalOnProperty(&quot;couch.url&quot;)\r\n        public interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt;, CustomRepository{\r\n        }\r\n    \r\n        public class UserService {\r\n        \r\n            @Autowired\r\n            @Qualifier(&quot;specificRepo&quot;)\r\n            private CustomRepository repository;\r\n        }\r\n","title":"conditional repository injection - Spring Boot","body":"<p>Another attempt to solve this problem. </p>\n\n<p>Based on the property, the autowired customRepository will be an instance of SimpleMongoRepository or SimpleCouchRepository.</p>\n\n<pre><code>    public interface CustomRepository extends CrudRepository&lt;User, Long&gt; {\n        User findByLastName(String lastName); //custom methods\n    }\n\n    @Qualifier(\"specificRepo\")\n    @ConditionalOnProperty(\"mongo.url\")\n    public interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt;, CustomRepository{\n    }\n\n    @Qualifier(\"specificRepo\")   \n    @ConditionalOnProperty(\"couch.url\")\n    public interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt;, CustomRepository{\n    }\n\n    public class UserService {\n\n        @Autowired\n        @Qualifier(\"specificRepo\")\n        private CustomRepository repository;\n    }\n</code></pre>\n"}],"owner":{"account_id":14230030,"reputation":3523,"user_id":10279528,"display_name":"Nilanka Manoj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2900,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":62354863,"answer_count":2,"score":10,"last_activity_date":1690890098,"creation_date":1590976879,"question_id":62124675,"body_markdown":"I Have two repository interfaces that connect : \r\n**MongoDB** and **CouchBase** :\r\n\r\n```java\r\npublic interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt; {\r\n}\r\npublic interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\nIs there a way to interchangeably `@Autowire` these repositories into `UserService` on a condition?\r\nThe condition will be inside property file :  `application.properties`. \r\n\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n\r\n**Note :**\r\n\r\n*These repositories can have custom methods too.*","title":"conditional repository injection - Spring Boot","body":"<p>I Have two repository interfaces that connect :\n<strong>MongoDB</strong> and <strong>CouchBase</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepositoryMongo extends MongoRepository&lt;User, Long&gt; {\n}\npublic interface UserRepositoryCouch extends  CouchbasePagingAndSortingRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n<p>Is there a way to interchangeably <code>@Autowire</code> these repositories into <code>UserService</code> on a condition?\nThe condition will be inside property file :  <code>application.properties</code>.</p>\n<pre><code>\n\n**Note :**\n\n*These repositories can have custom methods too.*\n</code></pre>\n"},{"tags":["java","spring","stomp","spring-websocket","spring-session"],"comments":[{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":0,"creation_date":1492773272,"post_id":43536507,"comment_id":74134314,"body_markdown":"I only see config, Don&#39;t see class which should send response to user","body":"I only see config, Don&#39;t see class which should send response to user"},{"owner":{"account_id":6395825,"reputation":190,"user_id":4960190,"accept_rate":75,"display_name":"Akshada"},"score":0,"creation_date":1492773675,"post_id":43536507,"comment_id":74134602,"body_markdown":"@Sarief As per my knowledge &quot;convertAndSendToUser()&quot; method sends response to specific user. Sorry I did not understand what are you asking about?","body":"@Sarief As per my knowledge &quot;convertAndSendToUser()&quot; method sends response to specific user. Sorry I did not understand what are you asking about?"},{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":0,"creation_date":1492774196,"post_id":43536507,"comment_id":74134958,"body_markdown":"hm. did not see it. You need to use username, not session id. It uses spring security and looks for user by username of Authority.class. This being said, is your user persisted in spring security?","body":"hm. did not see it. You need to use username, not session id. It uses spring security and looks for user by username of Authority.class. This being said, is your user persisted in spring security?"}],"answers":[{"tags":[],"owner":{"account_id":957088,"reputation":3922,"user_id":982198,"accept_rate":79,"display_name":"ddarellis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492793247,"creation_date":1492792762,"answer_id":43547920,"question_id":43536507,"body_markdown":"If you are using /user channel as you do, try to pass the user as stated [here][1].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/simp/SimpMessagingTemplate.html#convertAndSendToUser-java.lang.String-java.lang.String-java.lang.Object-\r\n\r\n    @MessageMapping(&quot;/messages&quot;)\r\n    public void greeting(HelloMessage message, SimpMessageHeaderAccessor headerAccessor, Principal principal) \r\n        throws Exception {\r\n        messagingTemplate.convertAndSendToUser(principal.getName(), &quot;/queue/test&quot;, message);\r\n    }","title":"Spring session + Spring web socket. Send message to specific client based on session id","body":"<p>If you are using /user channel as you do, try to pass the user as stated <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/messaging/simp/SimpMessagingTemplate.html#convertAndSendToUser-java.lang.String-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>@MessageMapping(\"/messages\")\npublic void greeting(HelloMessage message, SimpMessageHeaderAccessor headerAccessor, Principal principal) \n    throws Exception {\n    messagingTemplate.convertAndSendToUser(principal.getName(), \"/queue/test\", message);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":988713,"reputation":189,"user_id":1006541,"display_name":"Xmagic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498899404,"creation_date":1498899404,"answer_id":44859115,"question_id":43536507,"body_markdown":"I&#39;ve found a full workable Spring Stomp Chat project in git, the link is here. You can refer to it.\r\nhttps://gist.github.com/theotherian/9906304","title":"Spring session + Spring web socket. Send message to specific client based on session id","body":"<p>I've found a full workable Spring Stomp Chat project in git, the link is here. You can refer to it.\n<a href=\"https://gist.github.com/theotherian/9906304\" rel=\"nofollow noreferrer\">https://gist.github.com/theotherian/9906304</a></p>\n"},{"tags":[],"owner":{"account_id":238051,"reputation":344,"user_id":506678,"display_name":"ragnaroh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690889891,"creation_date":1690889891,"answer_id":76811252,"question_id":43536507,"body_markdown":"I was able to solve this by registering a `HandshakeHandler` that creates a `Principal` with the session ID as its name:\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\nclass WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n\r\n   @Override\r\n   public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n      registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n      registry.enableSimpleBroker(&quot;/queue&quot;);\r\n   }\r\n\r\n   @Override\r\n   public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n      registry.addEndpoint(&quot;/messages&quot;).setHandshakeHandler(new AnonymousPrincipalHandshakeHandler());\r\n   }\r\n\r\n   private static final class AnonymousPrincipalHandshakeHandler extends DefaultHandshakeHandler {\r\n\r\n      @Override\r\n      protected Principal determineUser(ServerHttpRequest request,\r\n                                        WebSocketHandler wsHandler,\r\n                                        Map&lt;String, Object&gt; attributes) {\r\n         if (request instanceof ServletServerHttpRequest r) {\r\n            var session = r.getServletRequest().getSession(false);\r\n            return session == null ? null : new AnonymousPrincipal(session.getId());\r\n         }\r\n         return null;\r\n      }\r\n\r\n   }\r\n\r\n   private record AnonymousPrincipal(String sessionId) implements Principal {\r\n\r\n      @Override\r\n      public String getName() {\r\n         return sessionId;\r\n      }\r\n\r\n   }\r\n\r\n}\r\n```\r\nI&#39;m then able to send messages to a specific unauthenticated client subscribing to e.g. `/user/queue/test` by doing:\r\n```\r\nmessagingTemplate.convertAndSendToUser(sessionId, &quot;/queue/test&quot;, message);\r\n```\r\nI&#39;m not sure if there are any security concerns with using the session ID like this. Alternatively you could auto-generate a username and store it as a session attribute, use it as the name of the `Principal`, and look it up when you want to send a message to clients with the given session. In OP&#39;s case you would also need to copy this session attribute to the websocket session in a `HandshakeInterceptor` since you don&#39;t have access to the `HttpSession` in an `@MessageMapping` method.","title":"Spring session + Spring web socket. Send message to specific client based on session id","body":"<p>I was able to solve this by registering a <code>HandshakeHandler</code> that creates a <code>Principal</code> with the session ID as its name:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\nclass WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n\n   @Override\n   public void configureMessageBroker(MessageBrokerRegistry registry) {\n      registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n      registry.enableSimpleBroker(&quot;/queue&quot;);\n   }\n\n   @Override\n   public void registerStompEndpoints(StompEndpointRegistry registry) {\n      registry.addEndpoint(&quot;/messages&quot;).setHandshakeHandler(new AnonymousPrincipalHandshakeHandler());\n   }\n\n   private static final class AnonymousPrincipalHandshakeHandler extends DefaultHandshakeHandler {\n\n      @Override\n      protected Principal determineUser(ServerHttpRequest request,\n                                        WebSocketHandler wsHandler,\n                                        Map&lt;String, Object&gt; attributes) {\n         if (request instanceof ServletServerHttpRequest r) {\n            var session = r.getServletRequest().getSession(false);\n            return session == null ? null : new AnonymousPrincipal(session.getId());\n         }\n         return null;\n      }\n\n   }\n\n   private record AnonymousPrincipal(String sessionId) implements Principal {\n\n      @Override\n      public String getName() {\n         return sessionId;\n      }\n\n   }\n\n}\n</code></pre>\n<p>I'm then able to send messages to a specific unauthenticated client subscribing to e.g. <code>/user/queue/test</code> by doing:</p>\n<pre><code>messagingTemplate.convertAndSendToUser(sessionId, &quot;/queue/test&quot;, message);\n</code></pre>\n<p>I'm not sure if there are any security concerns with using the session ID like this. Alternatively you could auto-generate a username and store it as a session attribute, use it as the name of the <code>Principal</code>, and look it up when you want to send a message to clients with the given session. In OP's case you would also need to copy this session attribute to the websocket session in a <code>HandshakeInterceptor</code> since you don't have access to the <code>HttpSession</code> in an <code>@MessageMapping</code> method.</p>\n"}],"owner":{"account_id":6395825,"reputation":190,"user_id":4960190,"accept_rate":75,"display_name":"Akshada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5159,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690889891,"creation_date":1492759733,"question_id":43536507,"body_markdown":"I have followed [Quetion1][1] and [Quetion2][2] from stack overflow to send messages to specific client, based on its sessionId but could not find success.\r\n  \r\nBelow is my sample RestController class\r\n\r\n    @RestController\r\n    public class SpringSessionTestApi {\r\n\t\r\n\t@Autowired\r\n    public SimpMessageSendingOperations messagingTemplate;\r\n\t\t\r\n\t@MessageMapping(&quot;/messages&quot;)\r\n    public void greeting(HelloMessage message, SimpMessageHeaderAccessor headerAccessor) throws Exception {\r\n\t\t\r\n\t\tString sessionId  = (String) headerAccessor.getSessionAttributes().get(&quot;SPRING.SESSION.ID&quot;);\r\n\t\tmessagingTemplate.convertAndSendToUser(sessionId,&quot;/queue/test&quot;,message, createHeaders(sessionId));\r\n\t\r\n       }\r\n\t\r\n\tprivate MessageHeaders createHeaders(String sessionId) {\r\n        SimpMessageHeaderAccessor headerAccessor = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\r\n        headerAccessor.setSessionId(sessionId);\r\n        headerAccessor.setLeaveMutable(true);\r\n        return headerAccessor.getMessageHeaders();\r\n       }\r\n    }\r\n\r\nSession Id: when client sends createSession request, new spring sessionId is generated and same is stored in MongoDB as well. After that when client sends web socket connect request, same sessionId is received which was stored in mongoDb as expected. Till This everything is working fine.\r\n\r\nNow my job is to send response back to the client based on the sessionId.\r\nFor that I have below web socket class:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends\r\n\t\tAbstractSessionWebSocketMessageBrokerConfigurer&lt;ExpiringSession&gt; {\r\n\r\n\t@Override\r\n\tprotected void configureStompEndpoints(StompEndpointRegistry registry) {\r\n\t\tregistry.addEndpoint(&quot;/messages&quot;);\r\n\t}\r\n\r\n\tpublic void configureMessageBroker(MessageBrokerRegistry registry) {\r\n\t\tregistry.enableSimpleBroker(&quot;/queue&quot;);\r\n\t\tregistry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n\t   }\r\n    }\r\n\r\nand the sample client code that I am using to connect is:\r\n\r\n    function connect() {\r\n\t\r\n    stompClient = Stomp.client(&#39;ws://localhost:8016/messages&#39;);\r\n    stompClient.debug = null;\r\n\t\r\n    stompClient.connect({}, function (frame) {\r\n        setConnected(true);\r\n        console.log(&#39;Connected: &#39; + frame);\r\n        stompClient.subscribe(&#39;/user/queue/test&#39;, function (greeting) {\r\n        \tconsole.log(&quot;Hello &quot;+greeting);\r\n        \tconsole.log(&quot;Greeting body &quot;+JSON.parse(greeting.body));\r\n      \r\n        });\r\n    });\r\n    }\r\n\r\n\r\nPlease help, Where I am doing wrong in this?\r\nThanks in Advance!\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42327780/springwebsocketstomp-message-to-specific-session-not-user\r\n  [2]: https://stackoverflow.com/questions/34929578/spring-websocket-sendtosession-send-message-to-specific-session","title":"Spring session + Spring web socket. Send message to specific client based on session id","body":"<p>I have followed <a href=\"https://stackoverflow.com/questions/42327780/springwebsocketstomp-message-to-specific-session-not-user\">Quetion1</a> and <a href=\"https://stackoverflow.com/questions/34929578/spring-websocket-sendtosession-send-message-to-specific-session\">Quetion2</a> from stack overflow to send messages to specific client, based on its sessionId but could not find success.</p>\n\n<p>Below is my sample RestController class</p>\n\n<pre><code>@RestController\npublic class SpringSessionTestApi {\n\n@Autowired\npublic SimpMessageSendingOperations messagingTemplate;\n\n@MessageMapping(\"/messages\")\npublic void greeting(HelloMessage message, SimpMessageHeaderAccessor headerAccessor) throws Exception {\n\n    String sessionId  = (String) headerAccessor.getSessionAttributes().get(\"SPRING.SESSION.ID\");\n    messagingTemplate.convertAndSendToUser(sessionId,\"/queue/test\",message, createHeaders(sessionId));\n\n   }\n\nprivate MessageHeaders createHeaders(String sessionId) {\n    SimpMessageHeaderAccessor headerAccessor = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\n    headerAccessor.setSessionId(sessionId);\n    headerAccessor.setLeaveMutable(true);\n    return headerAccessor.getMessageHeaders();\n   }\n}\n</code></pre>\n\n<p>Session Id: when client sends createSession request, new spring sessionId is generated and same is stored in MongoDB as well. After that when client sends web socket connect request, same sessionId is received which was stored in mongoDb as expected. Till This everything is working fine.</p>\n\n<p>Now my job is to send response back to the client based on the sessionId.\nFor that I have below web socket class:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends\n    AbstractSessionWebSocketMessageBrokerConfigurer&lt;ExpiringSession&gt; {\n\n@Override\nprotected void configureStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(\"/messages\");\n}\n\npublic void configureMessageBroker(MessageBrokerRegistry registry) {\n    registry.enableSimpleBroker(\"/queue\");\n    registry.setApplicationDestinationPrefixes(\"/app\");\n   }\n}\n</code></pre>\n\n<p>and the sample client code that I am using to connect is:</p>\n\n<pre><code>function connect() {\n\nstompClient = Stomp.client('ws://localhost:8016/messages');\nstompClient.debug = null;\n\nstompClient.connect({}, function (frame) {\n    setConnected(true);\n    console.log('Connected: ' + frame);\n    stompClient.subscribe('/user/queue/test', function (greeting) {\n        console.log(\"Hello \"+greeting);\n        console.log(\"Greeting body \"+JSON.parse(greeting.body));\n\n    });\n});\n}\n</code></pre>\n\n<p>Please help, Where I am doing wrong in this?\nThanks in Advance!</p>\n"},{"tags":["java","android","android-fragments","android-activity"],"comments":[{"owner":{"account_id":2504487,"reputation":708,"user_id":2178612,"accept_rate":52,"display_name":"Ricardo"},"score":2,"creation_date":1493769534,"post_id":43104485,"comment_id":74540951,"body_markdown":"Regarding the swipe action: Using swipe gestures on the content area does not navigate between views, check the design guidelines of the Bottom Navigation at https://material.io/guidelines/components/bottom-navigation.html#bottom-navigation-behavior","body":"Regarding the swipe action: Using swipe gestures on the content area does not navigate between views, check the design guidelines of the Bottom Navigation at <a href=\"https://material.io/guidelines/components/bottom-navigation.html#bottom-navigation-behavior\" rel=\"nofollow noreferrer\">material.io/guidelines/components/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6198466,"reputation":254,"user_id":6663416,"display_name":"Abdel Rahman"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1546525963,"creation_date":1490824654,"answer_id":43104897,"question_id":43104485,"body_markdown":"The way I would do it is, I would first add three methods similar to this one (each for a single fragment. Replace the layout name and the fragment object to the appropriate fragment that is being switched to): \r\n\r\n    public void switchToFragment1() {\r\n        FragmentManager manager = getSupportFragmentManager();\r\n        manager.beginTransaction().replace(R.id.your_fragment_layout_name, new Fragment1()).commit();\r\n    }\r\nSo your switch statement would end up looking like this: \r\n\r\n            switch (item.getItemId()) {\r\n                case R.id.navigation_home:\r\n                    mTextMessage.setText(R.string.title_home);\r\n                    switchToFragment1();\r\n                    break;\r\n    \r\n                case R.id.navigation_dashboard:\r\n                    mTextMessage.setText(R.string.title_dashboard);                    \r\n                    switchToFragment2();\r\n                    break;\r\n\r\n                case R.id.navigation_notifications:\r\n                    mTextMessage.setText(R.string.title_notifications);                     \r\n                    switchToFragment3();\r\n                    break;\r\n            }\r\n\r\nAs for switching the fragments by swiping to the sides, I believe you would need a [ViewPager][1].\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/training/implementing-navigation/lateral.html","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>The way I would do it is, I would first add three methods similar to this one (each for a single fragment. Replace the layout name and the fragment object to the appropriate fragment that is being switched to): </p>\n\n<pre><code>public void switchToFragment1() {\n    FragmentManager manager = getSupportFragmentManager();\n    manager.beginTransaction().replace(R.id.your_fragment_layout_name, new Fragment1()).commit();\n}\n</code></pre>\n\n<p>So your switch statement would end up looking like this: </p>\n\n<pre><code>        switch (item.getItemId()) {\n            case R.id.navigation_home:\n                mTextMessage.setText(R.string.title_home);\n                switchToFragment1();\n                break;\n\n            case R.id.navigation_dashboard:\n                mTextMessage.setText(R.string.title_dashboard);                    \n                switchToFragment2();\n                break;\n\n            case R.id.navigation_notifications:\n                mTextMessage.setText(R.string.title_notifications);                     \n                switchToFragment3();\n                break;\n        }\n</code></pre>\n\n<p>As for switching the fragments by swiping to the sides, I believe you would need a <a href=\"https://developer.android.com/training/implementing-navigation/lateral.html\" rel=\"noreferrer\">ViewPager</a>.</p>\n"},{"tags":[],"owner":{"account_id":10590140,"reputation":1,"user_id":7801022,"display_name":"Iqbal Suzetta"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1495189650,"creation_date":1495189650,"answer_id":44067634,"question_id":43104485,"body_markdown":"you can use this one\r\n\r\n                        fragmentManager = getFragmentManager();\r\n                        transaction = fragmentManager.beginTransaction();\r\n\r\n                        FragmentA a = new FragmentA();\r\n                        transaction.replace(R.id.frame, a);\r\n                        transaction.commit();","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>you can use this one</p>\n\n<pre><code>                    fragmentManager = getFragmentManager();\n                    transaction = fragmentManager.beginTransaction();\n\n                    FragmentA a = new FragmentA();\n                    transaction.replace(R.id.frame, a);\n                    transaction.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1507277177,"creation_date":1507276504,"answer_id":46600951,"question_id":43104485,"body_markdown":"It&#39;s pretty &quot;simple&quot;.\r\n\r\n 1. Create your Fragments. Let&#39;s say we want 3 fragments; `FragmentA`, `FragmentB` and `FragmentC` with `FragmentA` being the first Fragment we want on the BottomNavigationView.\r\n 2. In your Activity, go to the `onNavigationItemSelected` method and change the content to this:\r\n\r\n         private BottomNavigationView.OnNavigationItemSelectedListener  \r\n           mOnNavigationItemSelectedListener\r\n               = new BottomNavigationView.OnNavigationItemSelectedListener(){\r\n\r\n           @Override\r\n           public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n            switch (item.getItemId()) {\r\n                case R.id.frag_a:\r\n                    currentFragment = new FragmentA();\r\n                    ft = getSupportFragmentManager().beginTransaction();\r\n                    ft.replace(R.id.content, currentFragment);\r\n                    ft.commit();\r\n                    return true;\r\n                case R.id.frag_b:\r\n                    currentFragment = new FragmentB();\r\n                    ft = getSupportFragmentManager().beginTransaction();\r\n                    ft.replace(R.id.content, currentFragment);\r\n                    ft.commit();\r\n                    return true;\r\n                case R.id.frag_c:\r\n                    currentFragment = new FragmentC();\r\n                    ft = getSupportFragmentManager().beginTransaction();\r\n                    ft.replace(R.id.content, currentFragment);\r\n                    ft.commit();\r\n                    return true;\r\n            }\r\n\r\n            return false;\r\n         }\r\n\r\n        };\r\n\r\n 3. In your `onCreate()`method, do this:\r\n\r\n  \r\n\r\n          @Override\r\n          protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_client_profile);\r\n            ft = getSupportFragmentManager().beginTransaction();\r\n            currentFragment = new FragmentA();\r\n            ft.replace(R.id.content, currentFragment);\r\n            ft.commit();\r\n\r\n            BottomNavigationView navigation = (BottomNavigationView)  \r\n            findViewById(R.id.navigation); navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\r\n          }\r\n\r\nIf you do not add `FragmentA` in the `onCreate()`, the activity is blank when you first launch it.\r\n\r\nIf you are wondering what `R.id.content` refers to, it is the Id of the Framelayout in your activity&#39;s layout. It initially contains a `TextView`, delete the TextView so it looks like this:\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;/&gt;\r\n\r\nFinally, `ft` and `currentFragment` are defined like this:\r\n\r\n    Fragment currentFragment = null;\r\n    FragmentTransaction ft;\r\n\r\nNot sure about elegance, but this works.","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>It's pretty \"simple\".</p>\n\n<ol>\n<li>Create your Fragments. Let's say we want 3 fragments; <code>FragmentA</code>, <code>FragmentB</code> and <code>FragmentC</code> with <code>FragmentA</code> being the first Fragment we want on the BottomNavigationView.</li>\n<li><p>In your Activity, go to the <code>onNavigationItemSelected</code> method and change the content to this:</p>\n\n<pre><code> private BottomNavigationView.OnNavigationItemSelectedListener  \n   mOnNavigationItemSelectedListener\n       = new BottomNavigationView.OnNavigationItemSelectedListener(){\n\n   @Override\n   public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n    switch (item.getItemId()) {\n        case R.id.frag_a:\n            currentFragment = new FragmentA();\n            ft = getSupportFragmentManager().beginTransaction();\n            ft.replace(R.id.content, currentFragment);\n            ft.commit();\n            return true;\n        case R.id.frag_b:\n            currentFragment = new FragmentB();\n            ft = getSupportFragmentManager().beginTransaction();\n            ft.replace(R.id.content, currentFragment);\n            ft.commit();\n            return true;\n        case R.id.frag_c:\n            currentFragment = new FragmentC();\n            ft = getSupportFragmentManager().beginTransaction();\n            ft.replace(R.id.content, currentFragment);\n            ft.commit();\n            return true;\n    }\n\n    return false;\n }\n\n};\n</code></pre></li>\n<li><p>In your <code>onCreate()</code>method, do this:</p>\n\n<pre><code>  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_client_profile);\n    ft = getSupportFragmentManager().beginTransaction();\n    currentFragment = new FragmentA();\n    ft.replace(R.id.content, currentFragment);\n    ft.commit();\n\n    BottomNavigationView navigation = (BottomNavigationView)  \n    findViewById(R.id.navigation); navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\n  }\n</code></pre></li>\n</ol>\n\n<p>If you do not add <code>FragmentA</code> in the <code>onCreate()</code>, the activity is blank when you first launch it.</p>\n\n<p>If you are wondering what <code>R.id.content</code> refers to, it is the Id of the Framelayout in your activity's layout. It initially contains a <code>TextView</code>, delete the TextView so it looks like this:</p>\n\n<pre><code>&lt;FrameLayout\n    android:id=\"@+id/content\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"/&gt;\n</code></pre>\n\n<p>Finally, <code>ft</code> and <code>currentFragment</code> are defined like this:</p>\n\n<pre><code>Fragment currentFragment = null;\nFragmentTransaction ft;\n</code></pre>\n\n<p>Not sure about elegance, but this works.</p>\n"},{"tags":[],"owner":{"account_id":8588394,"reputation":131,"user_id":6433683,"display_name":"Abed Almoradi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1509486643,"creation_date":1509486643,"answer_id":47045049,"question_id":43104485,"body_markdown":"The best way is to use a `ViewPager` with a `FragmentPagerAdapter`. Since it cashes the fragments inside it. Use `setOnNavigationItemSelectedListener` with the `BottomNavigationView` to listen for the user&#39;s clicks. And use `viewPager.setCurrentItem(..)` to move between pages. \r\n\r\n\r\nCreating a new fragment everytime the user clicks on an item in the bottom navigation view isn&#39;t a good solution (especially when the user clicks on the item of the screen that he is currently at, the solution above will create a new fragment even for this case)","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>The best way is to use a <code>ViewPager</code> with a <code>FragmentPagerAdapter</code>. Since it cashes the fragments inside it. Use <code>setOnNavigationItemSelectedListener</code> with the <code>BottomNavigationView</code> to listen for the user's clicks. And use <code>viewPager.setCurrentItem(..)</code> to move between pages. </p>\n\n<p>Creating a new fragment everytime the user clicks on an item in the bottom navigation view isn't a good solution (especially when the user clicks on the item of the screen that he is currently at, the solution above will create a new fragment even for this case)</p>\n"},{"tags":[],"owner":{"account_id":1253865,"reputation":380,"user_id":1213735,"accept_rate":75,"display_name":"Vivek Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513766368,"creation_date":1513765277,"answer_id":47903724,"question_id":43104485,"body_markdown":"    //fully tested  \r\n      public class DashBoardActivity extends AppCompatActivity {\r\n        \r\n            Fragment fragment = null;\r\n            FragmentTransaction fragmentTransaction;\r\n        \r\n            private BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\r\n                    = new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n        \r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    switch (item.getItemId()) {\r\n                        case R.id.navigation_home:\r\n                            return true;\r\n                        case R.id.navigation_dashboard:\r\n                            fragment = new FragmentDashBoard();\r\n                            switchFragment(fragment);\r\n                            return true;\r\n                        case R.id.navigation_notifications:\r\n                            fragment = new FragmentNotification();\r\n                            switchFragment(fragment);\r\n                            return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            };\r\n        \r\n        \r\n            private void switchFragment(Fragment fragment) {\r\n                fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                fragmentTransaction.replace(R.id.content, fragment);\r\n                fragmentTransaction.commit();\r\n            }\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_dashboard);\r\n        \r\n                BottomNavigationView navigation = (BottomNavigationView) findViewById(R.id.navigation);\r\n                navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\r\n                navigation.setSelectedItemId(R.id.navigation_dashboard);\r\n            }\r\n        \r\n        }\r\n\r\n","title":"How to change fragment with the Bottom Navigation Activity?","body":"<pre><code>//fully tested  \n  public class DashBoardActivity extends AppCompatActivity {\n\n        Fragment fragment = null;\n        FragmentTransaction fragmentTransaction;\n\n        private BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\n                = new BottomNavigationView.OnNavigationItemSelectedListener() {\n\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()) {\n                    case R.id.navigation_home:\n                        return true;\n                    case R.id.navigation_dashboard:\n                        fragment = new FragmentDashBoard();\n                        switchFragment(fragment);\n                        return true;\n                    case R.id.navigation_notifications:\n                        fragment = new FragmentNotification();\n                        switchFragment(fragment);\n                        return true;\n                }\n                return false;\n            }\n        };\n\n\n        private void switchFragment(Fragment fragment) {\n            fragmentTransaction = getSupportFragmentManager().beginTransaction();\n            fragmentTransaction.replace(R.id.content, fragment);\n            fragmentTransaction.commit();\n        }\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_dashboard);\n\n            BottomNavigationView navigation = (BottomNavigationView) findViewById(R.id.navigation);\n            navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\n            navigation.setSelectedItemId(R.id.navigation_dashboard);\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15148360,"reputation":311,"user_id":10931336,"display_name":"Gantrol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603024660,"creation_date":1556805827,"answer_id":55954223,"question_id":43104485,"body_markdown":"There is another way to avoid recreating fragment -- `fm.beginTransaction().hide(active).show(aimFragment)`\r\n\r\nMy example is follow(just copy from my project recent):\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    @BindView(R.id.main_bottom_navigation) BottomNavigationView mBottomNavigationView;\r\n    final Fragment mTaskListFragment = new TaskListFragment();\r\n    final Fragment mUserGroupFragment = new UserGroupFragment();\r\n    final Fragment mUserMeFragment = new UserMeFragment();\r\n    final FragmentManager fm = getSupportFragmentManager();\r\n    Fragment active = mTaskListFragment;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ButterKnife.bind(this);\r\n        mBottomNavigationView\r\n                .setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\r\n        fm.beginTransaction().add(R.id.main_fragment_container, mUserMeFragment, &quot;3&quot;)\r\n                .hide(mUserMeFragment).commit();\r\n        fm.beginTransaction().add(R.id.main_fragment_container, mUserGroupFragment, &quot;2&quot;)\r\n                .hide(mUserGroupFragment).commit();\r\n        fm.beginTransaction().add(R.id.main_fragment_container, mTaskListFragment, &quot;1&quot;).commit();\r\n\r\n    }\r\n\r\n\r\n    private BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\r\n        = item -&gt; {\r\n//        TODO： 这种切换方式比较快，但横竖屏切换会出问题，已经\r\n            switch (item.getItemId()) {\r\n                case R.id.nav_list:\r\n                    fm.beginTransaction().hide(active).show(mTaskListFragment).commit();\r\n                    active = mTaskListFragment;\r\n                    break;\r\n                case R.id.nav_group:\r\n                    fm.beginTransaction().hide(active).show(mUserGroupFragment).commit();\r\n                    active = mUserGroupFragment;\r\n                    break;\r\n                case R.id.nav_me:\r\n                    fm.beginTransaction().hide(active).show(mUserMeFragment).commit();\r\n                    active = mUserMeFragment;\r\n                    break;\r\n            }\r\n            return true;\r\n        };\r\n}\r\n```\r\n\r\nIt seems efficient and will work well until you rotate your phone. And I fixed it by adding the code following in the manifest file to the activity to retain the fragment state. (e.g. at `AndroidManifest.xml`):\r\n\r\n```\r\nandroid:configChanges=&quot;screenSize|orientation|screenLayout&quot;\r\n\r\n```","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>There is another way to avoid recreating fragment -- <code>fm.beginTransaction().hide(active).show(aimFragment)</code></p>\n<p>My example is follow(just copy from my project recent):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    @BindView(R.id.main_bottom_navigation) BottomNavigationView mBottomNavigationView;\n    final Fragment mTaskListFragment = new TaskListFragment();\n    final Fragment mUserGroupFragment = new UserGroupFragment();\n    final Fragment mUserMeFragment = new UserMeFragment();\n    final FragmentManager fm = getSupportFragmentManager();\n    Fragment active = mTaskListFragment;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ButterKnife.bind(this);\n        mBottomNavigationView\n                .setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\n        fm.beginTransaction().add(R.id.main_fragment_container, mUserMeFragment, &quot;3&quot;)\n                .hide(mUserMeFragment).commit();\n        fm.beginTransaction().add(R.id.main_fragment_container, mUserGroupFragment, &quot;2&quot;)\n                .hide(mUserGroupFragment).commit();\n        fm.beginTransaction().add(R.id.main_fragment_container, mTaskListFragment, &quot;1&quot;).commit();\n\n    }\n\n\n    private BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\n        = item -&gt; {\n//        TODO： 这种切换方式比较快，但横竖屏切换会出问题，已经\n            switch (item.getItemId()) {\n                case R.id.nav_list:\n                    fm.beginTransaction().hide(active).show(mTaskListFragment).commit();\n                    active = mTaskListFragment;\n                    break;\n                case R.id.nav_group:\n                    fm.beginTransaction().hide(active).show(mUserGroupFragment).commit();\n                    active = mUserGroupFragment;\n                    break;\n                case R.id.nav_me:\n                    fm.beginTransaction().hide(active).show(mUserMeFragment).commit();\n                    active = mUserMeFragment;\n                    break;\n            }\n            return true;\n        };\n}\n</code></pre>\n<p>It seems efficient and will work well until you rotate your phone. And I fixed it by adding the code following in the manifest file to the activity to retain the fragment state. (e.g. at <code>AndroidManifest.xml</code>):</p>\n<pre><code>android:configChanges=&quot;screenSize|orientation|screenLayout&quot;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169802,"reputation":2218,"user_id":396106,"accept_rate":77,"display_name":"timothyjc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563968278,"creation_date":1563968278,"answer_id":57182027,"question_id":43104485,"body_markdown":"The easy way is with the Navigation Component:\r\n\r\n     bottom_navigation_view?.setupWithNavController(navController)","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>The easy way is with the Navigation Component:</p>\n\n<pre><code> bottom_navigation_view?.setupWithNavController(navController)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5824026,"reputation":534,"user_id":4591087,"display_name":"Bibin Jaimon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591284436,"creation_date":1591284436,"answer_id":62198369,"question_id":43104485,"body_markdown":"You can switch fragments through below code if you are using Jetpack Navigation. \r\n\r\n    val navController = findNavController(R.id.your_nav_host_fragment)\r\n    navController.navigate(R.id.your_fragment_id_in_menu)\r\n\r\nFor more information go through this doc : https://codelabs.developers.google.com/codelabs/android-navigation/#0","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>You can switch fragments through below code if you are using Jetpack Navigation. </p>\n\n<pre><code>val navController = findNavController(R.id.your_nav_host_fragment)\nnavController.navigate(R.id.your_fragment_id_in_menu)\n</code></pre>\n\n<p>For more information go through this doc : <a href=\"https://codelabs.developers.google.com/codelabs/android-navigation/#0\" rel=\"noreferrer\">https://codelabs.developers.google.com/codelabs/android-navigation/#0</a></p>\n"},{"tags":[],"owner":{"account_id":22788719,"reputation":9,"user_id":16943405,"display_name":"Arezou_ghorbani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690889534,"creation_date":1690889339,"answer_id":76811189,"question_id":43104485,"body_markdown":"Its my suggest way and it has an ideal performance\r\nI did it with using `naveController` and `androidx.navigation:navigation`\r\n\r\n\r\nStep 1: Add the navigation dependency to your app-level `build.gradle` file. This will allow you to use the Navigation component in your app.\r\n\r\n    dependencies {\r\n    def nav_version = &quot;2.3.5&quot;\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n    }\r\n\r\nStep 2: Create a new menu resource file for the bottom navigation bar. This file will contain the menu items that will be displayed in the bar. To create a new menu resource file, right-click on the res folder in the Project panel, select` New &gt; Android resource file`, and set the Resource type to Menu.\r\n\r\nStep 3: In the menu resource file, add the menu items that will be displayed in the bottom navigation bar. Each menu item should have a unique ID and a title. For example:\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_home&quot;\r\n        android:title=&quot;Home&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_dashboard&quot;\r\n        android:title=&quot;Dashboard&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/navigation_notifications&quot;\r\n        android:title=&quot;Notifications&quot; /&gt;\r\n&lt;/menu&gt;\r\n\r\nStep 4: In the layout file where you want to display the bottom navigation bar, add a BottomNavigationView element. For example:\r\n\r\n       &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n    android:id=&quot;@+id/bottom_navigation_view&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:menu=&quot;@menu/bottom_navigation_menu&quot;\r\n    /&gt;\r\n\r\nNote that the app:menu attribute is set to the name of the menu resource file created in step 2.\r\n\r\nStep 5: In your activity or fragment that will host the bottom navigation bar, create an instance of NavController using the findNavController() method and pass in the BottomNavigationView as the argument. For example:\r\n\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    app:startDestination=&quot;@id/navigation_home&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_home&quot;\r\n        android:name=&quot;com.example.myapp.HomeFragment&quot;\r\n        android:label=&quot;@string/title_home&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_dashboard&quot;\r\n        android:name=&quot;com.example.myapp.DashboardFragment&quot;\r\n        android:label=&quot;@string/title_dashboard&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_notifications&quot;\r\n        android:name=&quot;com.example.myapp.NotificationsFragment&quot;\r\n        android:label=&quot;@string/title_notifications&quot; /&gt;\r\n\r\n&lt;/navigation&gt;\r\n\r\n\r\nNote that each fragment is identified by a unique ID, which corresponds to the ID of the menu item in the bottom navigation bar.\r\n\r\nThat&#39;s it! With these steps, you should now have a basic bottom navigation bar that can be used to replace different fragments in your app.","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>Its my suggest way and it has an ideal performance\nI did it with using <code>naveController</code> and <code>androidx.navigation:navigation</code></p>\n<p>Step 1: Add the navigation dependency to your app-level <code>build.gradle</code> file. This will allow you to use the Navigation component in your app.</p>\n<pre><code>dependencies {\ndef nav_version = &quot;2.3.5&quot;\nimplementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n}\n</code></pre>\n<p>Step 2: Create a new menu resource file for the bottom navigation bar. This file will contain the menu items that will be displayed in the bar. To create a new menu resource file, right-click on the res folder in the Project panel, select<code> New &gt; Android resource file</code>, and set the Resource type to Menu.</p>\n<p>Step 3: In the menu resource file, add the menu items that will be displayed in the bottom navigation bar. Each menu item should have a unique ID and a title. For example:</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;item\n    android:id=&quot;@+id/navigation_home&quot;\n    android:title=&quot;Home&quot; /&gt;\n&lt;item\n    android:id=&quot;@+id/navigation_dashboard&quot;\n    android:title=&quot;Dashboard&quot; /&gt;\n&lt;item\n    android:id=&quot;@+id/navigation_notifications&quot;\n    android:title=&quot;Notifications&quot; /&gt;\n</code></pre>\n\n<p>Step 4: In the layout file where you want to display the bottom navigation bar, add a BottomNavigationView element. For example:</p>\n<pre><code>   &lt;com.google.android.material.bottomnavigation.BottomNavigationView\nandroid:id=&quot;@+id/bottom_navigation_view&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\napp:menu=&quot;@menu/bottom_navigation_menu&quot;\n/&gt;\n</code></pre>\n<p>Note that the app:menu attribute is set to the name of the menu resource file created in step 2.</p>\n<p>Step 5: In your activity or fragment that will host the bottom navigation bar, create an instance of NavController using the findNavController() method and pass in the BottomNavigationView as the argument. For example:</p>\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\napp:startDestination=&quot;@id/navigation_home&quot;&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/navigation_home&quot;\n    android:name=&quot;com.example.myapp.HomeFragment&quot;\n    android:label=&quot;@string/title_home&quot; /&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/navigation_dashboard&quot;\n    android:name=&quot;com.example.myapp.DashboardFragment&quot;\n    android:label=&quot;@string/title_dashboard&quot; /&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/navigation_notifications&quot;\n    android:name=&quot;com.example.myapp.NotificationsFragment&quot;\n    android:label=&quot;@string/title_notifications&quot; /&gt;\n</code></pre>\n\n<p>Note that each fragment is identified by a unique ID, which corresponds to the ID of the menu item in the bottom navigation bar.</p>\n<p>That's it! With these steps, you should now have a basic bottom navigation bar that can be used to replace different fragments in your app.</p>\n"}],"owner":{"account_id":10495348,"reputation":606,"user_id":7735807,"accept_rate":47,"display_name":"HavanaSun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71516,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":43104897,"answer_count":9,"score":26,"last_activity_date":1690889534,"creation_date":1490822982,"question_id":43104485,"body_markdown":"I created a new project with the &quot;Bottom Navigation Activity&quot;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the generated code:\r\n\r\n\r\n    package com.aaron.waller.mrpolitik;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.design.widget.BottomNavigationView;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.MenuItem;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private TextView mTextMessage;\r\n    \r\n        private BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\r\n                = new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n    \r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                switch (item.getItemId()) {\r\n                    case R.id.navigation_home:\r\n                        mTextMessage.setText(R.string.title_home);\r\n                    case R.id.navigation_dashboard:\r\n                        mTextMessage.setText(R.string.title_dashboard);\r\n                    case R.id.navigation_notifications:\r\n                        mTextMessage.setText(R.string.title_notifications);\r\n                }\r\n                return true;\r\n            }\r\n    \r\n        };\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mTextMessage = (TextView) findViewById(R.id.message);\r\n            BottomNavigationView navigation = (BottomNavigationView) findViewById(R.id.navigation);\r\n            navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nHow can I change to new Fragments with the Bottom Bar?\r\nFor example I have 3 Fragments:\r\nFragment1\r\nFragment2 and\r\nFragment3\r\nAnd I want to change to them with the 3 buttons from the Bottom Bar.\r\nAlso I want that I can switch the Fragments by swiping my finger left and right how can I do that?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fnCXr.png","title":"How to change fragment with the Bottom Navigation Activity?","body":"<p>I created a new project with the \"Bottom Navigation Activity\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/fnCXr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fnCXr.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the generated code:</p>\n\n<pre><code>package com.aaron.waller.mrpolitik;\n\nimport android.os.Bundle;\nimport android.support.annotation.NonNull;\nimport android.support.design.widget.BottomNavigationView;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.MenuItem;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private TextView mTextMessage;\n\n    private BottomNavigationView.OnNavigationItemSelectedListener mOnNavigationItemSelectedListener\n            = new BottomNavigationView.OnNavigationItemSelectedListener() {\n\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            switch (item.getItemId()) {\n                case R.id.navigation_home:\n                    mTextMessage.setText(R.string.title_home);\n                case R.id.navigation_dashboard:\n                    mTextMessage.setText(R.string.title_dashboard);\n                case R.id.navigation_notifications:\n                    mTextMessage.setText(R.string.title_notifications);\n            }\n            return true;\n        }\n\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTextMessage = (TextView) findViewById(R.id.message);\n        BottomNavigationView navigation = (BottomNavigationView) findViewById(R.id.navigation);\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\n    }\n\n}\n</code></pre>\n\n<p>How can I change to new Fragments with the Bottom Bar?\nFor example I have 3 Fragments:\nFragment1\nFragment2 and\nFragment3\nAnd I want to change to them with the 3 buttons from the Bottom Bar.\nAlso I want that I can switch the Fragments by swiping my finger left and right how can I do that?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-social-linkedin"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1691135902,"post_id":76487042,"comment_id":135453693,"body_markdown":"Is your case like https://stackoverflow.com/a/53328716/3728901?","body":"Is your case like <a href=\"https://stackoverflow.com/a/53328716/3728901\">stackoverflow.com/a/53328716/3728901</a>?"}],"owner":{"account_id":3535376,"reputation":23,"user_id":2953833,"display_name":"TheMalloum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690889123,"creation_date":1686891145,"question_id":76487042,"body_markdown":"I&#39;m trying to integrate Google and LinkedIn Social Login using OAuth2 in Spring Boot 3.0. Google login is working fine but I&#39;m encountering an error with LinkedIn login. \r\n\r\nHere is my configuration:\r\n\r\n```yml\r\nspring.security.oauth2.client.registration.linkedin.client-id=xxxxxx\r\nspring.security.oauth2.client.registration.linkedin.client-secret=xxxxxx\r\nspring.security.oauth2.client.registration.linkedin.redirect-uri={baseUrl}/login/oauth2/code/linkedin\r\nspring.security.oauth2.client.registration.linkedin.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.linkedin.scope[0]=r_emailaddress\r\nspring.security.oauth2.client.registration.linkedin.scope[1]=r_liteprofile\r\nspring.security.oauth2.client.provider.linkedin.authorization-uri=https://www.linkedin.com/oauth/v2/authorization\r\nspring.security.oauth2.client.provider.linkedin.token-uri=https://www.linkedin.com/oauth/v2/accessToken\r\nspring.security.oauth2.client.provider.linkedin.user-info-uri=https://api.linkedin.com/v2/me\r\n```\r\n\r\nI&#39;ve also included my debug log below:\r\n \r\n![enter image description here](https://i.stack.imgur.com/ZR97D.png)\r\n\r\n\r\nthis is the error : \r\n![enter image description here](https://i.stack.imgur.com/at87l.png)","title":"Spring Boot 3.0 OAuth2 Linkedin [invalid_request] A required parameter &quot;client_secret&quot; is missing","body":"<p>I'm trying to integrate Google and LinkedIn Social Login using OAuth2 in Spring Boot 3.0. Google login is working fine but I'm encountering an error with LinkedIn login.</p>\n<p>Here is my configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.security.oauth2.client.registration.linkedin.client-id=xxxxxx\nspring.security.oauth2.client.registration.linkedin.client-secret=xxxxxx\nspring.security.oauth2.client.registration.linkedin.redirect-uri={baseUrl}/login/oauth2/code/linkedin\nspring.security.oauth2.client.registration.linkedin.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.linkedin.scope[0]=r_emailaddress\nspring.security.oauth2.client.registration.linkedin.scope[1]=r_liteprofile\nspring.security.oauth2.client.provider.linkedin.authorization-uri=https://www.linkedin.com/oauth/v2/authorization\nspring.security.oauth2.client.provider.linkedin.token-uri=https://www.linkedin.com/oauth/v2/accessToken\nspring.security.oauth2.client.provider.linkedin.user-info-uri=https://api.linkedin.com/v2/me\n</code></pre>\n<p>I've also included my debug log below:</p>\n<p><img src=\"https://i.stack.imgur.com/ZR97D.png\" alt=\"enter image description here\" /></p>\n<p>this is the error :\n<img src=\"https://i.stack.imgur.com/at87l.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","appium"],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690888533,"creation_date":1690888533,"answer_id":76811080,"question_id":76790570,"body_markdown":"You can always construct a xpath using resource-id like as below,\r\n\r\n```\r\n.//android.widget.textView[@resource-id = &#39;login&#39;]\r\n```\r\nand the same as above will work as expected for mobile app automation.\r\n\r\nAlso, you can search on the UI with above xpath using Appium Inspector Tool as well.","title":"Appium Java: How do I find an element that has no id, name, or class name when using xpath always returns NoSuchElementException?","body":"<p>You can always construct a xpath using resource-id like as below,</p>\n<pre><code>.//android.widget.textView[@resource-id = 'login']\n</code></pre>\n<p>and the same as above will work as expected for mobile app automation.</p>\n<p>Also, you can search on the UI with above xpath using Appium Inspector Tool as well.</p>\n"}],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690888533,"creation_date":1690572520,"question_id":76790570,"body_markdown":"I am trying to use appium to automate an app, and there are some problems. Many of the tags don&#39;t have an id. In my current situation, the element that I want to click has a parent element that has an id. However, that parent element encompasses much more than what I want to click, so just clicking that parent element probably won&#39;t work. I want to click the 1st child of that parent element, but that child has no id. Neither the 1st child nor the 1st child&#39;s child (the grandchild of the parent), nor the child of that grandchild (a.k.a the great grandchild), nor any of the 3 children of that great grandchild have ids. The grandchild and those last 3 children have resource-ids, but appium (in Java) has no driver.findElementByResourceId() method. None of these elements have a name or content-desc or accessibility ids or anything. When I tried to use driver.getElementByTagName(), I get an error that says that the tagname selector is not supported for this session. Using xpath for some reason always returns a NoSuchElementException.\r\n\r\nApparently the class attribute is not the same as class name, so whenever I try driver.findElements(By.className()).get(0), I always get an IndexOutOfBoundsException because the size of the returned list is apparently 0 (The elements have the class attribute, but not the class name attribute). I just don&#39;t know what to do here.\r\n\r\nHere is some relevant info:\r\nI am using UiAutomator2 and Android 12.\r\n\r\nIn Java, I am using appium version 7.0.0 and selenium version 3.141.59.\r\n\r\nDoes anyone know what kind of selectors I could use here? \r\n\r\nHere is an image of what I am talking about (though I have censored the resource ids):\r\n[![enter image description here][1]][1]  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L2EPI.png\r\n\r\n\r\nThe highlighted element is the parent that has the id, but encompasses too much. The rest of the elements in this picture would suffice for me to click, but they have no ids, names, text, link text, content-desc, or accessibilty ids.","title":"Appium Java: How do I find an element that has no id, name, or class name when using xpath always returns NoSuchElementException?","body":"<p>I am trying to use appium to automate an app, and there are some problems. Many of the tags don't have an id. In my current situation, the element that I want to click has a parent element that has an id. However, that parent element encompasses much more than what I want to click, so just clicking that parent element probably won't work. I want to click the 1st child of that parent element, but that child has no id. Neither the 1st child nor the 1st child's child (the grandchild of the parent), nor the child of that grandchild (a.k.a the great grandchild), nor any of the 3 children of that great grandchild have ids. The grandchild and those last 3 children have resource-ids, but appium (in Java) has no driver.findElementByResourceId() method. None of these elements have a name or content-desc or accessibility ids or anything. When I tried to use driver.getElementByTagName(), I get an error that says that the tagname selector is not supported for this session. Using xpath for some reason always returns a NoSuchElementException.</p>\n<p>Apparently the class attribute is not the same as class name, so whenever I try driver.findElements(By.className()).get(0), I always get an IndexOutOfBoundsException because the size of the returned list is apparently 0 (The elements have the class attribute, but not the class name attribute). I just don't know what to do here.</p>\n<p>Here is some relevant info:\nI am using UiAutomator2 and Android 12.</p>\n<p>In Java, I am using appium version 7.0.0 and selenium version 3.141.59.</p>\n<p>Does anyone know what kind of selectors I could use here?</p>\n<p>Here is an image of what I am talking about (though I have censored the resource ids):\n<a href=\"https://i.stack.imgur.com/L2EPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2EPI.png\" alt=\"enter image description here\" /></a></p>\n<p>The highlighted element is the parent that has the id, but encompasses too much. The rest of the elements in this picture would suffice for me to click, but they have no ids, names, text, link text, content-desc, or accessibilty ids.</p>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1688669210,"post_id":76631561,"comment_id":135108499,"body_markdown":"_I have 2 Threads which keep getting called to process a &quot;RequestID&quot; ._  What does that mean?  Show some code!","body":"<i>I have 2 Threads which keep getting called to process a &quot;RequestID&quot; .</i>  What does that mean?  Show some code!"}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688928332,"creation_date":1688668111,"answer_id":76631622,"question_id":76631561,"body_markdown":"EDIT: after some discussions, this is not safe for use! :)\r\n\r\nI wrote something similiar already, but its definitly untested in production. I had some tests for it, but its hard to test something like this.\r\n\r\nThe idea is to have an internal static concurrent hashmap, which stores &quot;semaphores&quot; for each key. Each thread will try to look in this map for appearance of the semaphore and create it if it doesnt exist.\r\n\r\n\r\n    public class Blocking {\r\n\r\n      private static final ConcurrentHashMap&lt;String, Semaphore&gt; internalMap = new ConcurrentHashMap&lt;&gt;();\r\n\r\n      public static &lt;O&gt; O byKey(String keys, Supplier&lt;O&gt; action) {\r\n\r\n        var semaphores = new Semaphore[1];\r\n        try {\r\n          semaphores[0] = internalMap.computeIfAbsent(keys, k -&gt; new Semaphore(1));\r\n          semaphores[0].acquire();\r\n          return action.get();\r\n        } finally {\r\n          internalMap.remove(keys);\r\n          semaphores[0].release();\r\n        }\r\n      }\r\n    }\r\n\r\nUsage:\r\n\r\n    Blocking.byKey(&quot;KEY&quot;, () -&gt; doYourStuff())","title":"Allowing a single thread to use a Long value","body":"<p>EDIT: after some discussions, this is not safe for use! :)</p>\n<p>I wrote something similiar already, but its definitly untested in production. I had some tests for it, but its hard to test something like this.</p>\n<p>The idea is to have an internal static concurrent hashmap, which stores &quot;semaphores&quot; for each key. Each thread will try to look in this map for appearance of the semaphore and create it if it doesnt exist.</p>\n<pre><code>public class Blocking {\n\n  private static final ConcurrentHashMap&lt;String, Semaphore&gt; internalMap = new ConcurrentHashMap&lt;&gt;();\n\n  public static &lt;O&gt; O byKey(String keys, Supplier&lt;O&gt; action) {\n\n    var semaphores = new Semaphore[1];\n    try {\n      semaphores[0] = internalMap.computeIfAbsent(keys, k -&gt; new Semaphore(1));\n      semaphores[0].acquire();\n      return action.get();\n    } finally {\n      internalMap.remove(keys);\n      semaphores[0].release();\n    }\n  }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>Blocking.byKey(&quot;KEY&quot;, () -&gt; doYourStuff())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688927200,"creation_date":1688676184,"answer_id":76632424,"question_id":76631561,"body_markdown":" NOTE: I have not tried the code shown. **Shutdown responsibility is not in RequestProcessor. You could add a shutdown method to that class which delegates to the wrapped executor.** \r\n\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal ExecutorService executor = Executors.newCachedThreadPool();\r\n    \t\tfinal long requestId = 5;\r\n    \t\t\r\n    \t\texecutor.execute(() -&gt; {\r\n    \t\t\t//you could create processors for request which returns different types\r\n    \t\t\t//For instance Boolean or any custom type\r\n    \t\t\t//You could provide different implementation of ExecutorService\r\n    \t\t\tfinal var booleanProcessor = new RequestProcessor&lt;Boolean&gt;(executor);\r\n    \t\t\t\r\n    \t\t\tfinal Callable&lt;Boolean&gt; aTask = new Callable&lt;&gt;() {\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic Boolean call() throws Exception {\r\n    \t\t\t\t\tSystem.out.println(&quot;TASK 1 TRUE wait 5 seconds&quot;);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tThread.sleep(5000);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t};\r\n    \t\t\t\r\n    \t\t\tbooleanProcessor.runATaskForId(aTask, requestId);\r\n    \t\t\t\r\n    \t\t\tbooleanProcessor.runATaskForId(() -&gt;  {\r\n    \t\t\t\tSystem.out.println(&quot;TASK 2 FALSE wait 4 seconds&quot; );\r\n    \t\t\t\t\r\n    \t\t\t\tThread.sleep(4000);\r\n    \t\t\t\t\r\n    \t\t\t\treturn false;\r\n    \t\t\t}, requestId);\r\n    \t\t\t\r\n    \t\r\n    \t\t});\r\n    \t\t\r\n    \t\texecutor.submit(()-&gt; {\r\n    \t\t\tfinal var stringProcessor = new RequestProcessor&lt;String&gt;(executor);\r\n    \t\t\t\r\n    \t\t\t//another tusk with lambda expression\r\n    \t\t\tstringProcessor.runATaskForId(() -&gt; {\r\n    \t\t\t\t\tSystem.out.println(&quot;Another Task That Returns String For Request Id Given&quot;);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tSystem.out.println(&quot;TASK 3 wait 10 seconds&quot; );\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tThread.sleep(10000);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn &quot;&quot;;\r\n    \t\t\t\t},\r\n    \t\t\t\trequestId\r\n    \t\t\t);\r\n    \t\t\t\r\n    \t\t});\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;END&quot;);\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class RequestProcessor&lt;T&gt; {\r\n    \tprivate class RequestTask implements Callable&lt;T&gt;{\r\n    \t\tprivate final long requestId;\r\n    \t\tprivate final Callable&lt;T&gt; wrappedCallable;\r\n    \t\t\r\n    \t\tprivate T result;\r\n    \t\t\r\n    \t\tpublic RequestTask(long requestId, Callable&lt;T&gt; wrappedCallable) {\r\n    \t\t\tthis.requestId = requestId;\r\n    \t\t\tthis.wrappedCallable = wrappedCallable;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic long getRequestId() {\r\n    \t\t\treturn requestId;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic T call() throws Exception {\r\n    \t\t\treturn wrappedCallable.call();\r\n    \t\t}\r\n    \r\n    \t\tpublic void setResult(T result) {\r\n    \t\t\tthis.result = result;\r\n    \t\t}\r\n    \r\n    \t\tpublic T getResult() {\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static final ConcurrentHashMap&lt;Long, Future&lt;?&gt;&gt; inProgressRequestIds = new ConcurrentHashMap&lt;&gt;();\r\n    \t\r\n    \tprivate final ExecutorService executor;\r\n    \r\n    \tpublic RequestProcessor(ExecutorService executor) {\r\n    \t\tthis.executor = executor;\r\n    \t}\r\n    \t\r\n    \tpublic T runATaskForId(Callable&lt;T&gt; task, long Id) {\r\n    \t\treturn processRequest(new RequestTask(Id, task));\r\n    \t}\r\n    \t\r\n    \tprivate T processRequest(RequestTask task) {\r\n    \t\tinProgressRequestIds.compute(\r\n    \t\t\ttask.getRequestId(), \r\n    \t\t\t(Long key, Future&lt;?&gt; existingFuture) -&gt; {\r\n    \t\t\t\ttask.setResult(retrieveResultOf(executor.submit(task)));\r\n    \t\t\t\t\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t);\r\n    \t\r\n    \t\treturn task.getResult();\r\n    \t}\r\n    \t\r\n    \tprivate T retrieveResultOf(Future&lt;T&gt; future) {\r\n    \t\tboolean isInterrupted = false;\r\n    \t\tT value = null;\r\n    \t\t\r\n    \t\twhile(true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tvalue = future.get();\r\n    \t\t\t\tbreak;\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t isInterrupted = true;\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tthrow new RequestProcessingException(e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tif(isInterrupted)\r\n    \t\t\tThread.currentThread().interrupt();\r\n    \t\t\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class RequestProcessingException extends RuntimeException{\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1775615938643533445L;\r\n    \r\n    \tpublic RequestProcessingException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n        public RequestProcessingException(String message, Throwable cause) {\r\n            super(message, cause);\r\n        }\r\n    \r\n        public RequestProcessingException(Throwable cause) {\r\n            super(cause);\r\n        }\r\n        \r\n    }\r\n    \r\n       \r\n\r\n","title":"Allowing a single thread to use a Long value","body":"<p>NOTE: I have not tried the code shown. <strong>Shutdown responsibility is not in RequestProcessor. You could add a shutdown method to that class which delegates to the wrapped executor.</strong></p>\n<pre><code>import java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final ExecutorService executor = Executors.newCachedThreadPool();\n        final long requestId = 5;\n        \n        executor.execute(() -&gt; {\n            //you could create processors for request which returns different types\n            //For instance Boolean or any custom type\n            //You could provide different implementation of ExecutorService\n            final var booleanProcessor = new RequestProcessor&lt;Boolean&gt;(executor);\n            \n            final Callable&lt;Boolean&gt; aTask = new Callable&lt;&gt;() {\n\n                @Override\n                public Boolean call() throws Exception {\n                    System.out.println(&quot;TASK 1 TRUE wait 5 seconds&quot;);\n                    \n                    Thread.sleep(5000);\n                    \n                    return true;\n                }\n                \n            };\n            \n            booleanProcessor.runATaskForId(aTask, requestId);\n            \n            booleanProcessor.runATaskForId(() -&gt;  {\n                System.out.println(&quot;TASK 2 FALSE wait 4 seconds&quot; );\n                \n                Thread.sleep(4000);\n                \n                return false;\n            }, requestId);\n            \n    \n        });\n        \n        executor.submit(()-&gt; {\n            final var stringProcessor = new RequestProcessor&lt;String&gt;(executor);\n            \n            //another tusk with lambda expression\n            stringProcessor.runATaskForId(() -&gt; {\n                    System.out.println(&quot;Another Task That Returns String For Request Id Given&quot;);\n                    \n                    System.out.println(&quot;TASK 3 wait 10 seconds&quot; );\n                    \n                    Thread.sleep(10000);\n                    \n                    return &quot;&quot;;\n                },\n                requestId\n            );\n            \n        });\n        \n        System.out.println(&quot;END&quot;);\n    }\n\n\n}\n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Future;\n\npublic class RequestProcessor&lt;T&gt; {\n    private class RequestTask implements Callable&lt;T&gt;{\n        private final long requestId;\n        private final Callable&lt;T&gt; wrappedCallable;\n        \n        private T result;\n        \n        public RequestTask(long requestId, Callable&lt;T&gt; wrappedCallable) {\n            this.requestId = requestId;\n            this.wrappedCallable = wrappedCallable;\n        }\n        \n        public long getRequestId() {\n            return requestId;\n        }\n        \n        @Override\n        public T call() throws Exception {\n            return wrappedCallable.call();\n        }\n\n        public void setResult(T result) {\n            this.result = result;\n        }\n\n        public T getResult() {\n            return result;\n        }\n    }\n\n    private static final ConcurrentHashMap&lt;Long, Future&lt;?&gt;&gt; inProgressRequestIds = new ConcurrentHashMap&lt;&gt;();\n    \n    private final ExecutorService executor;\n\n    public RequestProcessor(ExecutorService executor) {\n        this.executor = executor;\n    }\n    \n    public T runATaskForId(Callable&lt;T&gt; task, long Id) {\n        return processRequest(new RequestTask(Id, task));\n    }\n    \n    private T processRequest(RequestTask task) {\n        inProgressRequestIds.compute(\n            task.getRequestId(), \n            (Long key, Future&lt;?&gt; existingFuture) -&gt; {\n                task.setResult(retrieveResultOf(executor.submit(task)));\n                \n                return null;\n            }\n        );\n    \n        return task.getResult();\n    }\n    \n    private T retrieveResultOf(Future&lt;T&gt; future) {\n        boolean isInterrupted = false;\n        T value = null;\n        \n        while(true) {\n            try {\n                value = future.get();\n                break;\n            } catch (InterruptedException e) {\n                 isInterrupted = true;\n            } catch (Exception e) {\n                throw new RequestProcessingException(e);\n            }\n        }\n        \n        if(isInterrupted)\n            Thread.currentThread().interrupt();\n        \n        return value;\n    }\n\n}\n\npublic class RequestProcessingException extends RuntimeException{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1775615938643533445L;\n\n    public RequestProcessingException(String message) {\n        super(message);\n    }\n\n    public RequestProcessingException(String message, Throwable cause) {\n        super(message, cause);\n    }\n\n    public RequestProcessingException(Throwable cause) {\n        super(cause);\n    }\n    \n}\n\n   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689941117,"creation_date":1689941117,"answer_id":76737843,"question_id":76631561,"body_markdown":"You need to perform 2 operations\r\n\r\n- Check if requestId is used by other thread\r\n- If not used then add the requestId as &quot;in process&quot;\r\n\r\nThe above 2 operations needs to be atomic which could be achieved by using lock (either implicit using synchronization) or external lock.\r\nEither way it will lead to contention since every thread needs to fetch the lock before doing any operations\r\n\r\nUsing ConcurrentHashMap finds good use here.Since putIfAbsent is atomic and it internally uses bucket level lock which could reduce contention for each requestId.\r\nYou can below refer code snippet for one of implementation\r\n```\r\npublic class LongThreadSafe implements Runnable{\r\n\r\n    ConcurrentHashMap&lt;Long,Long&gt; map;\r\n\r\n    public LongThreadSafe(ConcurrentHashMap map) {\r\n        this.map = map;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        List&lt;Long&gt; list = Arrays.asList(2L, 3L, 4L, 5L, 23L, 43L);\r\n\r\n        for (Long requestId:list) {\r\n            //we don&#39;t have any problem if multiple threads are updating value\r\n            Long previousValue = map.putIfAbsent(requestId, requestId);\r\n            if (previousValue == null){\r\n                //run your task\r\n                //update database record using (requestId)\r\n                map.remove(requestId);\r\n            }else {\r\n                System.out.println(&quot;Current requestId: &quot;+requestId+&quot; is being processed by another thread&quot;);\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n}\r\nclass client{\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ConcurrentHashMap&lt;Long, Long&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n\r\n        Thread t1 = new Thread(new LongThreadSafe(map));\r\n        Thread t2 = new Thread(new LongThreadSafe(map));\r\n        t1.start();\r\n        t2.start();\r\n    }\r\n\r\n}\r\n```","title":"Allowing a single thread to use a Long value","body":"<p>You need to perform 2 operations</p>\n<ul>\n<li>Check if requestId is used by other thread</li>\n<li>If not used then add the requestId as &quot;in process&quot;</li>\n</ul>\n<p>The above 2 operations needs to be atomic which could be achieved by using lock (either implicit using synchronization) or external lock.\nEither way it will lead to contention since every thread needs to fetch the lock before doing any operations</p>\n<p>Using ConcurrentHashMap finds good use here.Since putIfAbsent is atomic and it internally uses bucket level lock which could reduce contention for each requestId.\nYou can below refer code snippet for one of implementation</p>\n<pre><code>public class LongThreadSafe implements Runnable{\n\n    ConcurrentHashMap&lt;Long,Long&gt; map;\n\n    public LongThreadSafe(ConcurrentHashMap map) {\n        this.map = map;\n    }\n\n    @Override\n    public void run() {\n\n        List&lt;Long&gt; list = Arrays.asList(2L, 3L, 4L, 5L, 23L, 43L);\n\n        for (Long requestId:list) {\n            //we don't have any problem if multiple threads are updating value\n            Long previousValue = map.putIfAbsent(requestId, requestId);\n            if (previousValue == null){\n                //run your task\n                //update database record using (requestId)\n                map.remove(requestId);\n            }else {\n                System.out.println(&quot;Current requestId: &quot;+requestId+&quot; is being processed by another thread&quot;);\n            }\n        }\n\n\n    }\n}\nclass client{\n\n    public static void main(String[] args) {\n\n        ConcurrentHashMap&lt;Long, Long&gt; map = new ConcurrentHashMap&lt;&gt;();\n\n        Thread t1 = new Thread(new LongThreadSafe(map));\n        Thread t2 = new Thread(new LongThreadSafe(map));\n        t1.start();\n        t2.start();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690888413,"creation_date":1690000235,"answer_id":76742297,"question_id":76631561,"body_markdown":"A simple way to control access to some object between threads and have an infinite supply of such objects is to use a striped lock. \r\n\r\nThe striped lock is an array of locks (or just objects).\r\n\r\nSo based on the hash of the object you determine the index within this array of locks and then acquire it.\r\n\r\nExample illustrating the approach:\r\n\r\n```\r\n   // e.g. part of a constructor\r\n   locks = new Object[1024];\r\n   for(int k=0;k&lt;locks.length;k++){\r\n      locks[k]=new Object();\r\n   }\r\n\r\n\r\n   // part of the processing function\r\n   int hash = requestId.hashCode();\r\n   int lockIndex = hashToIndex(hash, locks.length);\r\n   synchronized(locks[lockIndex)){\r\n      ... do your stuff\r\n   }\r\n\r\n\r\n   public static int hashToIndex(int hash, int length) {\r\n        if(length &lt;= 0) {\r\n           throw new IllegalArgumentException();\r\n        }\r\n\r\n        if (hash == Integer.MIN_VALUE) {\r\n            return 0;\r\n        }\r\n\r\n        return abs(hash) % length;\r\n    }\r\n```\r\n\r\nThe big advantage of a striped lock is that you don&#39;t need to deal with the destruction of locks since they can be kept for the duration of the program. So you don&#39;t get any litter and you have nice and simple code.\r\n\r\nThis is a very basic solution to the program; if the locks are be kept for a long period, then this can lead to contention (even false contention because different requestIds map to the same lock). \r\n\r\nIn that case, restructuring the program might be a better solution. E.g. you could have an array of single thread executors and toss the requestId into the executor, based on hash of the requestId with the above hashToIndex function. This way the same requestId is guaranteed to be processed by the same thread and hence no locking is needed.","title":"Allowing a single thread to use a Long value","body":"<p>A simple way to control access to some object between threads and have an infinite supply of such objects is to use a striped lock.</p>\n<p>The striped lock is an array of locks (or just objects).</p>\n<p>So based on the hash of the object you determine the index within this array of locks and then acquire it.</p>\n<p>Example illustrating the approach:</p>\n<pre><code>   // e.g. part of a constructor\n   locks = new Object[1024];\n   for(int k=0;k&lt;locks.length;k++){\n      locks[k]=new Object();\n   }\n\n\n   // part of the processing function\n   int hash = requestId.hashCode();\n   int lockIndex = hashToIndex(hash, locks.length);\n   synchronized(locks[lockIndex)){\n      ... do your stuff\n   }\n\n\n   public static int hashToIndex(int hash, int length) {\n        if(length &lt;= 0) {\n           throw new IllegalArgumentException();\n        }\n\n        if (hash == Integer.MIN_VALUE) {\n            return 0;\n        }\n\n        return abs(hash) % length;\n    }\n</code></pre>\n<p>The big advantage of a striped lock is that you don't need to deal with the destruction of locks since they can be kept for the duration of the program. So you don't get any litter and you have nice and simple code.</p>\n<p>This is a very basic solution to the program; if the locks are be kept for a long period, then this can lead to contention (even false contention because different requestIds map to the same lock).</p>\n<p>In that case, restructuring the program might be a better solution. E.g. you could have an array of single thread executors and toss the requestId into the executor, based on hash of the requestId with the above hashToIndex function. This way the same requestId is guaranteed to be processed by the same thread and hence no locking is needed.</p>\n"}],"owner":{"account_id":8497862,"reputation":21,"user_id":6371905,"display_name":"Puneet Garg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1690888413,"creation_date":1688667550,"question_id":76631561,"body_markdown":"Assume RequestID is a Long value\r\n\r\nI have 2 Threads which keep getting called to process a &quot;RequestID&quot; .\r\n\r\nThese 2 threads can keep working in parallel if they are working on different RequestID but cannot process same RequestID simultaneously.\r\n\r\nI want to get some sort of lock on a RequestID so that other thread cannot work on it unless first thread is done with RequestID.\r\n\r\nWhat will be the best way to do this ?\r\n\r\n","title":"Allowing a single thread to use a Long value","body":"<p>Assume RequestID is a Long value</p>\n<p>I have 2 Threads which keep getting called to process a &quot;RequestID&quot; .</p>\n<p>These 2 threads can keep working in parallel if they are working on different RequestID but cannot process same RequestID simultaneously.</p>\n<p>I want to get some sort of lock on a RequestID so that other thread cannot work on it unless first thread is done with RequestID.</p>\n<p>What will be the best way to do this ?</p>\n"},{"tags":["java","spring","soap","spring-boot","spring-ws"],"comments":[{"owner":{"account_id":1658164,"reputation":3247,"user_id":1527103,"accept_rate":89,"display_name":"Gokhan Oner"},"score":0,"creation_date":1431344593,"post_id":30152864,"comment_id":48439783,"body_markdown":"Can you post the full config &amp; pom file ? I have a service exactly like yours and its working fine.","body":"Can you post the full config &amp; pom file ? I have a service exactly like yours and its working fine."}],"answers":[{"tags":[],"owner":{"account_id":4507318,"reputation":461,"user_id":3664331,"accept_rate":62,"display_name":"Raffaele"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1431348126,"creation_date":1431348126,"answer_id":30167948,"question_id":30152864,"body_markdown":"I solved using JAXBElement to encapsulate my request/response object generated by jaxb plugin. This why i notice that in those classes there is no @XmlRootElement annotation.\r\n\r\nThanks anyway\r\n\r\nRegards","title":"Spring boot ws: No adapter for endpoint","body":"<p>I solved using JAXBElement to encapsulate my request/response object generated by jaxb plugin. This why i notice that in those classes there is no @XmlRootElement annotation.</p>\n\n<p>Thanks anyway</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":10343557,"reputation":1253,"user_id":7629178,"display_name":"vedavyasa k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549283763,"creation_date":1549282804,"answer_id":54515981,"question_id":30152864,"body_markdown":"Just wrap the request and response with JAXBElement like below\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;doEventRequest&quot;)\r\n        @ResponsePayload\r\n        public JAXBElement&lt; DoEventResponse &gt; doEvent(@RequestPayload JAXBElement&lt; DoEventRequest &gt; request){}\r\n\r\nwe can get the object by calling like below\r\n\r\n    DoEventRequest d = request.getValue();\r\n","title":"Spring boot ws: No adapter for endpoint","body":"<p>Just wrap the request and response with JAXBElement like below</p>\n\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = \"doEventRequest\")\n    @ResponsePayload\n    public JAXBElement&lt; DoEventResponse &gt; doEvent(@RequestPayload JAXBElement&lt; DoEventRequest &gt; request){}\n</code></pre>\n\n<p>we can get the object by calling like below</p>\n\n<pre><code>DoEventRequest d = request.getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15447340,"reputation":41,"user_id":11143897,"display_name":"Chetan Hegde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658732004,"creation_date":1658403847,"answer_id":73065575,"question_id":30152864,"body_markdown":"Response Payload expects JAXBElement should pass both NAMESPACE_URI &amp; Object in the QName. I have used below code snippet to resolve the issue.\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;ObjectName&quot; )\r\n    \t@ResponsePayload\r\n    \tpublic JAXBElement&lt;ResponseObject&gt; methodName(@RequestPayload JAXBElement&lt;Object&gt; parameters) {\r\n    \r\n    \t\t//Method logic goes here\r\n    \r\n    \t\treturn createResponseJaxbElement(response, ResponseObject.class);\r\n    \r\n    \t}\r\n    \r\n    private JAXBElement createResponseJaxbElement(T object, Class clazz) {\r\n    \r\n        return new JAXBElement&lt;&gt;(new QName(NAMESPACE_URI, clazz.getSimpleName()), clazz, object);\r\n    \r\n    }","title":"Spring boot ws: No adapter for endpoint","body":"<p>Response Payload expects JAXBElement should pass both NAMESPACE_URI &amp; Object in the QName. I have used below code snippet to resolve the issue.</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;ObjectName&quot; )\n    @ResponsePayload\n    public JAXBElement&lt;ResponseObject&gt; methodName(@RequestPayload JAXBElement&lt;Object&gt; parameters) {\n\n        //Method logic goes here\n\n        return createResponseJaxbElement(response, ResponseObject.class);\n\n    }\n\nprivate JAXBElement createResponseJaxbElement(T object, Class clazz) {\n\n    return new JAXBElement&lt;&gt;(new QName(NAMESPACE_URI, clazz.getSimpleName()), clazz, object);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3840303,"reputation":51,"user_id":3183614,"display_name":"PPeter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683874179,"creation_date":1683874179,"answer_id":76233776,"question_id":30152864,"body_markdown":"Adding this answer since this is the top 1 result for the error message produced by Spring 6 / Spring Boot 3 / Spring WS 4 - `No adapter for endpoint` - too:\r\n\r\n    2023-05-11T18:11:02.816+02:00 DEBUG 75692 --- [nio-8080-exec-1] o.s.w.s.s.e.SimpleSoapExceptionResolver  : Resolving exception from endpoint [public MessageResponse com.example.ws.InboundEndpoint.message(com.example.inbound.Message)]: java.lang.IllegalStateException: No adapter for endpoint [public com.example.inbound.MessageResponse com.example.ws.InboundEndpoint.message(com.example.inbound.Message)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\r\n\r\nIn my case this was caused by an outdated XJC generator that produced `javax.xml.bind` annotations.\r\n\r\nFrom Spring WS 4, the framework only recognises `jakarta.xml.bind` annotations, e.g. [XmlRootElementPayloadMethodProcessor](https://github.com/spring-projects/spring-ws/blob/v4.0.3/spring-ws-core/src/main/java/org/springframework/ws/server/endpoint/adapter/method/jaxb/XmlRootElementPayloadMethodProcessor.java#LL41C32-L41C32)\r\n\r\nUpgrading the XJC generator from `org.glassfish.jaxb:jaxb-xjc:2.3.7` to a compatible version, e.g. `org.glassfish.jaxb:jaxb-xjc:4.0.1` solves this issue.\r\n\r\n","title":"Spring boot ws: No adapter for endpoint","body":"<p>Adding this answer since this is the top 1 result for the error message produced by Spring 6 / Spring Boot 3 / Spring WS 4 - <code>No adapter for endpoint</code> - too:</p>\n<pre><code>2023-05-11T18:11:02.816+02:00 DEBUG 75692 --- [nio-8080-exec-1] o.s.w.s.s.e.SimpleSoapExceptionResolver  : Resolving exception from endpoint [public MessageResponse com.example.ws.InboundEndpoint.message(com.example.inbound.Message)]: java.lang.IllegalStateException: No adapter for endpoint [public com.example.inbound.MessageResponse com.example.ws.InboundEndpoint.message(com.example.inbound.Message)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\n</code></pre>\n<p>In my case this was caused by an outdated XJC generator that produced <code>javax.xml.bind</code> annotations.</p>\n<p>From Spring WS 4, the framework only recognises <code>jakarta.xml.bind</code> annotations, e.g. <a href=\"https://github.com/spring-projects/spring-ws/blob/v4.0.3/spring-ws-core/src/main/java/org/springframework/ws/server/endpoint/adapter/method/jaxb/XmlRootElementPayloadMethodProcessor.java#LL41C32-L41C32\" rel=\"nofollow noreferrer\">XmlRootElementPayloadMethodProcessor</a></p>\n<p>Upgrading the XJC generator from <code>org.glassfish.jaxb:jaxb-xjc:2.3.7</code> to a compatible version, e.g. <code>org.glassfish.jaxb:jaxb-xjc:4.0.1</code> solves this issue.</p>\n"},{"tags":[],"owner":{"account_id":7363067,"reputation":1,"user_id":5605723,"display_name":"Yannick F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690888230,"creation_date":1690888230,"answer_id":76811046,"question_id":30152864,"body_markdown":"I faced the same issue. I updated the version of cxf plugin.\r\n\r\n```\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;cxf-xjc.version&gt;4.0.0&lt;/cxf-xjc.version&gt;\r\n&lt;apache.cxf.version&gt;4.0.0&lt;/apache.cxf.version&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf.xjc-utils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-xjc-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;${cxf-xjc.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.cxf.version}&lt;/version&gt;\r\n&lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.cxf.xjcplugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;cxf-xjc-ts&lt;/artifactId&gt;\r\n                        &lt;version&gt;${cxf-xjc.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nand now the generated code uses jakarta.xml.bind.annotation","title":"Spring boot ws: No adapter for endpoint","body":"<p>I faced the same issue. I updated the version of cxf plugin.</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<pre><code>&lt;cxf-xjc.version&gt;4.0.0&lt;/cxf-xjc.version&gt;\n&lt;apache.cxf.version&gt;4.0.0&lt;/apache.cxf.version&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf.xjc-utils&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-xjc-runtime&lt;/artifactId&gt;\n            &lt;version&gt;${cxf-xjc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${apache.cxf.version}&lt;/version&gt;\n&lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.cxf.xjcplugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;cxf-xjc-ts&lt;/artifactId&gt;\n                        &lt;version&gt;${cxf-xjc.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and now the generated code uses jakarta.xml.bind.annotation</p>\n"}],"owner":{"account_id":4507318,"reputation":461,"user_id":3664331,"accept_rate":62,"display_name":"Raffaele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9579,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30167948,"answer_count":5,"score":3,"last_activity_date":1690888230,"creation_date":1431269742,"question_id":30152864,"body_markdown":"i&#39;m trying to use spring boot ws in order to create a SOAP service, but i&#39;m facing the exception &quot;No adapter for endpoint...&quot;.\r\n\r\nhere is my xsd\r\n\r\n\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns=&quot;http://nisws.it.fastweb&quot;\r\n               targetNamespace=&quot;http://nisws.it.fastweb&quot; elementFormDefault=&quot;qualified&quot;&gt;\r\n    \r\n        &lt;xs:element name=&quot;doEventRequest&quot; type=&quot;tns:doEventRequest&quot;/&gt;\r\n        \r\n    \t&lt;xs:element name=&quot;doEventResponse&quot; type=&quot;tns:doEventResponse&quot;/&gt;\r\n    \t&lt;xs:complexType name=&quot;doEventRequest&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;header&quot; type=&quot;tns:header&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;trackingbody&quot; type=&quot;tns:trackingbody&quot;/&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \t&lt;xs:complexType name=&quot;header&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;IdMessaggio&quot; type=&quot;xs:string&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;NomeBE&quot; type=&quot;xs:string&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;DataInserimentoBE&quot; type=&quot;xs:string&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Release&quot; type=&quot;xs:string&quot;/&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \t&lt;xs:complexType name=&quot;trackingbody&quot;&gt;\r\n    \t\t&lt;xs:all&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Sorgente&quot; type=&quot;xs:string&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Parametri&quot; type=&quot;tns:Parametri&quot; minOccurs=&quot;0&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Componenti&quot; type=&quot;tns:Componenti&quot; minOccurs=&quot;0&quot;/&gt;\r\n    \t\t&lt;/xs:all&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \t&lt;xs:complexType name=&quot;Parametri&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Parametro&quot; type=&quot;tns:TagParametro&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \t&lt;xs:complexType name=&quot;TagParametro&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Descrizione&quot; type=&quot;xs:string&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Valore&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \t&lt;xs:complexType name=&quot;Componenti&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Componente&quot; type=&quot;tns:TagComponente&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \t&lt;xs:complexType name=&quot;TagComponente&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;ID&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Descrizione&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Tipo&quot; type=&quot;xs:string&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;Parametri&quot; type=&quot;tns:Parametri&quot;/&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    \t&lt;xs:complexType name=&quot;doEventResponse&quot;&gt;\r\n    \t\t&lt;xs:sequence&gt;\r\n    \t\t\t&lt;xs:element name=&quot;header&quot; type=&quot;tns:header&quot;/&gt;\r\n    \t\t\t&lt;xs:element name=&quot;trackingbody&quot; type=&quot;tns:trackingbody&quot;/&gt;\r\n    \t\t&lt;/xs:sequence&gt;\r\n    \t&lt;/xs:complexType&gt;\r\n    &lt;/xs:schema&gt;\r\n\r\nHere is the class for the servlet\r\n\r\n    import org.springframework.boot.context.embedded.ServletRegistrationBean;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.ws.config.annotation.EnableWs;\r\n    import org.springframework.ws.config.annotation.WsConfigurerAdapter;\r\n    import org.springframework.ws.transport.http.MessageDispatcherServlet;\r\n    import org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\r\n    import org.springframework.xml.xsd.SimpleXsdSchema;\r\n    import org.springframework.xml.xsd.XsdSchema;\r\n    \r\n    @EnableWs\r\n    @Configuration\r\n    public class WebServiceConfig {\r\n    \t\r\n    \t@Bean\r\n    \tpublic ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\r\n    \t\tMessageDispatcherServlet servlet = new MessageDispatcherServlet();\r\n    \t\tservlet.setApplicationContext(applicationContext);\r\n    \t\tservlet.setTransformWsdlLocations(true);\r\n    \t\treturn new ServletRegistrationBean(servlet, &quot;/nis/*&quot;);\r\n    \t}\r\n    \r\n    \t@Bean(name = &quot;nisDoEvent&quot;)\r\n    \tpublic DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema doEventSchema) {\r\n    \t\tDefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n    \t\twsdl11Definition.setPortTypeName(&quot;nisDoEvent&quot;);\r\n    \t\twsdl11Definition.setLocationUri(&quot;/nis/ws&quot;);\r\n    \t\twsdl11Definition.setTargetNamespace(&quot;http://nisws.it.fastweb&quot;);\r\n    \t\twsdl11Definition.setSchema(doEventSchema);\r\n    //\t\twsdl11Definition.setRequestSuffix(&quot;doEvent&quot;);\r\n    \t\treturn wsdl11Definition;\r\n    \t}\r\n    \r\n    \t@Bean (name = &quot;doEventSchema&quot;)\r\n    \tpublic XsdSchema doEventSchema() {\r\n    \t\treturn new SimpleXsdSchema(new ClassPathResource(&quot;doEventSchema.xsd&quot;));\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nand here is my Endpoint\r\n\r\n    @Endpoint\r\n    public class CompletaMigrBNGEndpoint {\r\n    \t\r\n    \tprivate static final String NAMESPACE_URI = &quot;http://nisws.it.fastweb&quot;;\r\n    \t\r\n    \tprivate static final String EXAMPLE_NAMESPACE_URI = &quot;http://spring.io/guides/gs-producing-web-service&quot;;\r\n    \t\t\r\n    \tprivate CountryRepository countryRepository;\r\n    \r\n    \t@Autowired\r\n    \tpublic CompletaMigrBNGEndpoint(CountryRepository countryRepository) {\r\n    \t\tthis.countryRepository = countryRepository;\r\n    \t}\r\n    \t\r\n    \t@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;doEventRequest&quot;)\r\n    \t@ResponsePayload\r\n    \tpublic DoEventResponse doEvent(@RequestPayload DoEventRequest request){\r\n    \t\tDoEventResponse response = new DoEventResponse();\r\n    \t\tresponse.setHeader(request.getHeader());\r\n    \t\tresponse.setTrackingbody(request.getTrackingbody());\r\n    \t\treturn response;\r\n    \t}\r\n    \t\r\n    \t@PayloadRoot(namespace = EXAMPLE_NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\r\n    \t@ResponsePayload\r\n    \tpublic GetCountryResponse getCountry(@RequestPayload GetCountryRequest request) {\r\n    \t\tGetCountryResponse response = new GetCountryResponse();\r\n    \t\tresponse.setCountry(countryRepository.findCountry(request.getName()));\r\n    \r\n    \t\treturn response;\r\n    \t}\r\n\r\n\r\n\r\n\r\nAs you can see i also tried to follow the guide &quot;https://spring.io/guides/gs/producing-web-service/&quot;\r\n\r\nand the example provided works fine.\r\n\r\nRegarding my own service I tried to call it via soapui and I get the exception:\r\n\r\n\r\n    16:43:38.674 [http-nio-8080-exec-4] DEBUG o.s.w.s.server.SoapMessageDispatcher - Endpoint invocation resulted in exception - responding with Fault\r\n    java.lang.IllegalStateException: No adapter for endpoint [public org.hp.doEventSchema.DoEventResponse org.hp.resources.connection.soap.services.CompletaMigrBNGEndpoint.doEvent(org.hp.doEventSchema.DoEventRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\r\n    \tat org.springframework.ws.server.MessageDispatcher.getEndpointAdapter(MessageDispatcher.java:302) [spring-ws-core-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]\r\n    \tat org.springframework.ws.server.MessageDispatcher.dispatch(MessageDispatcher.java:235) [spring-ws-core-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]\r\n    \tat org.springframework.ws.server.MessageDispatcher.receive(MessageDispatcher.java:176) [spring-ws-core-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]\r\n\r\n\r\nI believe that probably my error is in xsd or in endpoint mapping but i cannot fix it.\r\n\r\nThanks in advance\r\n\r\nRegards\r\n\r\n\r\n","title":"Spring boot ws: No adapter for endpoint","body":"<p>i'm trying to use spring boot ws in order to create a SOAP service, but i'm facing the exception \"No adapter for endpoint...\".</p>\n\n<p>here is my xsd</p>\n\n<pre><code>&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:tns=\"http://nisws.it.fastweb\"\n           targetNamespace=\"http://nisws.it.fastweb\" elementFormDefault=\"qualified\"&gt;\n\n    &lt;xs:element name=\"doEventRequest\" type=\"tns:doEventRequest\"/&gt;\n\n    &lt;xs:element name=\"doEventResponse\" type=\"tns:doEventResponse\"/&gt;\n    &lt;xs:complexType name=\"doEventRequest\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"header\" type=\"tns:header\"/&gt;\n            &lt;xs:element name=\"trackingbody\" type=\"tns:trackingbody\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"header\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"IdMessaggio\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"NomeBE\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"DataInserimentoBE\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"Release\" type=\"xs:string\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"trackingbody\"&gt;\n        &lt;xs:all&gt;\n            &lt;xs:element name=\"Sorgente\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"Parametri\" type=\"tns:Parametri\" minOccurs=\"0\"/&gt;\n            &lt;xs:element name=\"Componenti\" type=\"tns:Componenti\" minOccurs=\"0\"/&gt;\n        &lt;/xs:all&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"Parametri\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"Parametro\" type=\"tns:TagParametro\" minOccurs=\"0\" maxOccurs=\"unbounded\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"TagParametro\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"Descrizione\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"Valore\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"Componenti\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"Componente\" type=\"tns:TagComponente\" maxOccurs=\"unbounded\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"TagComponente\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"ID\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n            &lt;xs:element name=\"Descrizione\" type=\"xs:string\" minOccurs=\"0\"/&gt;\n            &lt;xs:element name=\"Tipo\" type=\"xs:string\"/&gt;\n            &lt;xs:element name=\"Parametri\" type=\"tns:Parametri\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=\"doEventResponse\"&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"header\" type=\"tns:header\"/&gt;\n            &lt;xs:element name=\"trackingbody\" type=\"tns:trackingbody\"/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>Here is the class for the servlet</p>\n\n<pre><code>import org.springframework.boot.context.embedded.ServletRegistrationBean;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.ws.config.annotation.EnableWs;\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter;\nimport org.springframework.ws.transport.http.MessageDispatcherServlet;\nimport org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition;\nimport org.springframework.xml.xsd.SimpleXsdSchema;\nimport org.springframework.xml.xsd.XsdSchema;\n\n@EnableWs\n@Configuration\npublic class WebServiceConfig {\n\n    @Bean\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n        servlet.setApplicationContext(applicationContext);\n        servlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(servlet, \"/nis/*\");\n    }\n\n    @Bean(name = \"nisDoEvent\")\n    public DefaultWsdl11Definition defaultWsdl11Definition(XsdSchema doEventSchema) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(\"nisDoEvent\");\n        wsdl11Definition.setLocationUri(\"/nis/ws\");\n        wsdl11Definition.setTargetNamespace(\"http://nisws.it.fastweb\");\n        wsdl11Definition.setSchema(doEventSchema);\n//      wsdl11Definition.setRequestSuffix(\"doEvent\");\n        return wsdl11Definition;\n    }\n\n    @Bean (name = \"doEventSchema\")\n    public XsdSchema doEventSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(\"doEventSchema.xsd\"));\n    }\n\n}\n</code></pre>\n\n<p>and here is my Endpoint</p>\n\n<pre><code>@Endpoint\npublic class CompletaMigrBNGEndpoint {\n\n    private static final String NAMESPACE_URI = \"http://nisws.it.fastweb\";\n\n    private static final String EXAMPLE_NAMESPACE_URI = \"http://spring.io/guides/gs-producing-web-service\";\n\n    private CountryRepository countryRepository;\n\n    @Autowired\n    public CompletaMigrBNGEndpoint(CountryRepository countryRepository) {\n        this.countryRepository = countryRepository;\n    }\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = \"doEventRequest\")\n    @ResponsePayload\n    public DoEventResponse doEvent(@RequestPayload DoEventRequest request){\n        DoEventResponse response = new DoEventResponse();\n        response.setHeader(request.getHeader());\n        response.setTrackingbody(request.getTrackingbody());\n        return response;\n    }\n\n    @PayloadRoot(namespace = EXAMPLE_NAMESPACE_URI, localPart = \"getCountryRequest\")\n    @ResponsePayload\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request) {\n        GetCountryResponse response = new GetCountryResponse();\n        response.setCountry(countryRepository.findCountry(request.getName()));\n\n        return response;\n    }\n</code></pre>\n\n<p>As you can see i also tried to follow the guide \"<a href=\"https://spring.io/guides/gs/producing-web-service/\" rel=\"nofollow\">https://spring.io/guides/gs/producing-web-service/</a>\"</p>\n\n<p>and the example provided works fine.</p>\n\n<p>Regarding my own service I tried to call it via soapui and I get the exception:</p>\n\n<pre><code>16:43:38.674 [http-nio-8080-exec-4] DEBUG o.s.w.s.server.SoapMessageDispatcher - Endpoint invocation resulted in exception - responding with Fault\njava.lang.IllegalStateException: No adapter for endpoint [public org.hp.doEventSchema.DoEventResponse org.hp.resources.connection.soap.services.CompletaMigrBNGEndpoint.doEvent(org.hp.doEventSchema.DoEventRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?\n    at org.springframework.ws.server.MessageDispatcher.getEndpointAdapter(MessageDispatcher.java:302) [spring-ws-core-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]\n    at org.springframework.ws.server.MessageDispatcher.dispatch(MessageDispatcher.java:235) [spring-ws-core-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]\n    at org.springframework.ws.server.MessageDispatcher.receive(MessageDispatcher.java:176) [spring-ws-core-2.2.1.RELEASE.jar!/:2.2.1.RELEASE]\n</code></pre>\n\n<p>I believe that probably my error is in xsd or in endpoint mapping but i cannot fix it.</p>\n\n<p>Thanks in advance</p>\n\n<p>Regards</p>\n"},{"tags":["java","spring","hibernate","jhipster"],"owner":{"account_id":6009063,"reputation":1216,"user_id":4720030,"accept_rate":70,"display_name":"Shaheen Zahedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690888153,"creation_date":1690888153,"question_id":76811035,"body_markdown":"I was playing with Jhipster and once I got `BagRelationships` classes generated for me. I am not sure what caused it and what option should I use in CLI or JDL to generate those again. I tried to search for that but I found nothing unfortunately. Can anyone tell me about this option and how can I enable/disable it for a certain entity in Jhipster?","title":"Jhipster repository to load bag relationships","body":"<p>I was playing with Jhipster and once I got <code>BagRelationships</code> classes generated for me. I am not sure what caused it and what option should I use in CLI or JDL to generate those again. I tried to search for that but I found nothing unfortunately. Can anyone tell me about this option and how can I enable/disable it for a certain entity in Jhipster?</p>\n"},{"tags":["java","transactions","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690888085,"creation_date":1690888085,"answer_id":76811028,"question_id":76810953,"body_markdown":"You can integrate any Java code into Karate, so if you really want you can go [direct to JDBC](https://github.com/karatelabs/karate-examples/blob/main/database/README.md).\r\n\r\nWhen it comes to APIs I&#39;m pretty sure you can&#39;t control transactions, because you are at an outer layer of the architecture. From experience, the strategy I&#39;ve seen work is that each test creates data that is &quot;scoped&quot; to that flow at the start. When you `GET` data, you can filter by the data you are interested in either by the API parameters, or you can do it in Karate (typically a `match contains` when arrays are involved).\r\n\r\nYou can see a typical example [here](https://github.com/karatelabs/karate-todo/blob/main/src/test/java/app/api/simple/restful-booker.feature).\r\n\r\nAlso see this thread: https://stackoverflow.com/a/60944060/143475","title":"Is it possible to perform a karate test in a transaction?","body":"<p>You can integrate any Java code into Karate, so if you really want you can go <a href=\"https://github.com/karatelabs/karate-examples/blob/main/database/README.md\" rel=\"nofollow noreferrer\">direct to JDBC</a>.</p>\n<p>When it comes to APIs I'm pretty sure you can't control transactions, because you are at an outer layer of the architecture. From experience, the strategy I've seen work is that each test creates data that is &quot;scoped&quot; to that flow at the start. When you <code>GET</code> data, you can filter by the data you are interested in either by the API parameters, or you can do it in Karate (typically a <code>match contains</code> when arrays are involved).</p>\n<p>You can see a typical example <a href=\"https://github.com/karatelabs/karate-todo/blob/main/src/test/java/app/api/simple/restful-booker.feature\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Also see this thread: <a href=\"https://stackoverflow.com/a/60944060/143475\">https://stackoverflow.com/a/60944060/143475</a></p>\n"}],"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690888085,"creation_date":1690887463,"question_id":76810953,"body_markdown":"Question:\r\n\r\nIn a java-project, I can write an integration test involving a database:\r\n1. Clean up all the data in the table that is currently available.\r\n2. Upload new test data. Do a test on them.\r\n3. Make a rollback.\r\nAll this with Java @Transactional.\r\n\r\nCan I do something (Transactional) similar in karate?\r\n\r\nNow my algorithm in karate is:\r\n1. Insert test data into the database from karate.\r\n2. Call api java method that works with data.\r\nProblem: The tables already have data that interferes with the test.\r\nAnd you can’t delete them forever for the test.","title":"Is it possible to perform a karate test in a transaction?","body":"<p>Question:</p>\n<p>In a java-project, I can write an integration test involving a database:</p>\n<ol>\n<li>Clean up all the data in the table that is currently available.</li>\n<li>Upload new test data. Do a test on them.</li>\n<li>Make a rollback.\nAll this with Java @Transactional.</li>\n</ol>\n<p>Can I do something (Transactional) similar in karate?</p>\n<p>Now my algorithm in karate is:</p>\n<ol>\n<li>Insert test data into the database from karate.</li>\n<li>Call api java method that works with data.\nProblem: The tables already have data that interferes with the test.\nAnd you can’t delete them forever for the test.</li>\n</ol>\n"},{"tags":["java","intellij-idea","automation","webview","appium"],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690887679,"creation_date":1690887679,"answer_id":76810984,"question_id":76798060,"body_markdown":"Print `context` and not `contextNames` as below,\r\n\r\n```\r\nSet&lt;String&gt; contextNames = driver.getContextHandles();\r\nfor (String context : contextNames) {\r\n    System.out.println(context);\r\n}\r\n```","title":"Duplicate result for NATIVE_APP and WEBVIEW_chrome","body":"<p>Print <code>context</code> and not <code>contextNames</code> as below,</p>\n<pre><code>Set&lt;String&gt; contextNames = driver.getContextHandles();\nfor (String context : contextNames) {\n    System.out.println(context);\n}\n</code></pre>\n"}],"owner":{"account_id":9608819,"reputation":1,"user_id":7133932,"display_name":"user7133932"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690887679,"creation_date":1690725160,"question_id":76798060,"body_markdown":"*Why am I getting the [NATIVE_APP, WEBVIEW_chrome] on two lines?\r\n(As a result, the login field gets populated twice)*\r\n\r\n```\r\nWebElement LoginButton = driver.findElement(By.className(&quot;android.widget.TextView&quot;));\r\nLoginButton.click();\r\n\r\nSet&lt;String&gt; contextNames = driver.getContextHandles();\r\nfor (String context : contextNames) {\r\n    System.out.println(contextNames);\r\n```\r\n\r\nI&#39;m getting the following:\r\n\r\n&gt; [NATIVE_APP, WEBVIEW_chrome]  \r\n&gt; [NATIVE_APP, WEBVIEW_chrome]","title":"Duplicate result for NATIVE_APP and WEBVIEW_chrome","body":"<p><em>Why am I getting the [NATIVE_APP, WEBVIEW_chrome] on two lines?\n(As a result, the login field gets populated twice)</em></p>\n<pre><code>WebElement LoginButton = driver.findElement(By.className(&quot;android.widget.TextView&quot;));\nLoginButton.click();\n\nSet&lt;String&gt; contextNames = driver.getContextHandles();\nfor (String context : contextNames) {\n    System.out.println(contextNames);\n</code></pre>\n<p>I'm getting the following:</p>\n<blockquote>\n<p>[NATIVE_APP, WEBVIEW_chrome]<br />\n[NATIVE_APP, WEBVIEW_chrome]</p>\n</blockquote>\n"},{"tags":["java","postgresql","spring-boot"],"owner":{"account_id":4755708,"reputation":1,"user_id":3844543,"display_name":"user3844543"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690886720,"creation_date":1690886499,"question_id":76810845,"body_markdown":"Currently my code looks like below:\r\n\r\n```java\r\nprivate static final String IMAGE_VERSION =\r\n        &quot;postgres:permanent-13.2&quot;;\r\n\r\n    private static TestPostgresContainer container;\r\n\r\n    private TestPostgresContainer() {\r\n        super(DockerImageName.parse(IMAGE_VERSION).asCompatibleSubstituteFor(&quot;postgres&quot;));\r\n        withInitScript(&quot;setup/main.sql&quot;);\r\n        withDatabaseName(&quot;test&quot;);\r\n        withUsername(&quot;postgres&quot;);\r\n        withPassword(&quot;postgres&quot;);\r\n        withUrlParam(&quot;currentSchema&quot;, &quot;testSchema&quot;);\r\n    }\r\n\r\npublic static TestPostgresContainer getInstance() {\r\n        if (container == null) {\r\n            container = new TestPostgresContainer();\r\n        }\r\n        return container;\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\r\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\r\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        // do nothing.\r\n    }\r\n\r\n```\r\n\r\nWhenever I run my integration test using SQL queries I get below error:\r\n\r\n**org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement**\r\n**Hint: You might need to increase max_locks_per_transaction.**\r\n\r\n\r\n\r\nI can change the config locally in postgres.conf but the problem is while initializing the test container and the test also runs under jenkins.","title":"How should I increase max_locks_per_transaction in PostgreSQLContainer while doing integration test","body":"<p>Currently my code looks like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String IMAGE_VERSION =\n        &quot;postgres:permanent-13.2&quot;;\n\n    private static TestPostgresContainer container;\n\n    private TestPostgresContainer() {\n        super(DockerImageName.parse(IMAGE_VERSION).asCompatibleSubstituteFor(&quot;postgres&quot;));\n        withInitScript(&quot;setup/main.sql&quot;);\n        withDatabaseName(&quot;test&quot;);\n        withUsername(&quot;postgres&quot;);\n        withPassword(&quot;postgres&quot;);\n        withUrlParam(&quot;currentSchema&quot;, &quot;testSchema&quot;);\n    }\n\npublic static TestPostgresContainer getInstance() {\n        if (container == null) {\n            container = new TestPostgresContainer();\n        }\n        return container;\n    }\n\n    @Override\n    public void start() {\n        super.start();\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\n    }\n\n    @Override\n    public void stop() {\n        // do nothing.\n    }\n\n</code></pre>\n<p>Whenever I run my integration test using SQL queries I get below error:</p>\n<p><strong>org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement</strong>\n<strong>Hint: You might need to increase max_locks_per_transaction.</strong></p>\n<p>I can change the config locally in postgres.conf but the problem is while initializing the test container and the test also runs under jenkins.</p>\n"},{"tags":["java","gradle","intellij-idea","amazon-ec2","ssh"],"owner":{"account_id":29135593,"reputation":1,"user_id":22319847,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690886500,"creation_date":1690886500,"question_id":76810846,"body_markdown":"I have an java project in Intellij IDEA on Windows, that is build with gradle (wrapper). This runs fine locally. I now have specified to build/ test/ run on a SSH remote target in the &quot;Run Targets&quot; configuration (ssh + rsync):\r\n[Run Target Configuration](https://i.stack.imgur.com/eo6K9.png)\r\n\r\nI can see sources being uploaded with rsync commands like this:\r\n\r\n```\r\nC:\\cygwin64\\bin\\rsync.exe -zar -v -e &quot;C:\\cygwin64\\bin\\ssh.exe -p 22 -i C:\\Users\\brian\\Downloads\\linux-aws.pem&quot; --exclude=/build\\classes\\java\\main --exclude=/build\\classes\\java\\main --exclude=/build --exclude=[many excludes here] cavis-dnn-common-tests/ ec2-user@172.31.30.248:/home/ec2-user/dl4j/0viyoPzZWn/cavis-dnn/cavis-dnn-common-tests --delete\r\nsending incremental file list\r\n\r\nsent 532 bytes  received 17 bytes  366.00 bytes/sec\r\ntotal size is 11,185  speedup is 20.37\r\n```\r\n\r\nThen I get a Connect timed out. With\r\n\r\n```\r\n#com.intellij.ssh\r\n#org.jetbrains.plugins.gradle\r\n```\r\n\r\nconfigured for Custom Debug Log Configuration within IDEA, the log shows this:\r\n\r\n```\r\n2023-08-01 11:48:51,008 [330349670]   FINE - #c.i.s.SshConnectionService - Executing SSH command: cd /home/ec2-user/dl4j/0viyoPzZWn; exec env &quot;JETBRAINS_REMOTE_RUN&quot;=&quot;1&quot; &quot;serverBindingHost&quot;=&quot;172.31.30.248&quot; &quot;serverBindingPort&quot;=&quot;0&quot; /usr/lib/jvm/java-11-openjdk-11.0.19.0.7-1.amzn2.0.1.x86_64/bin/java -Dfile.encoding=windows-1252 -classpath &#39;/home/ec2-user/dl4j-bin/util-8.jar:/home/ec2-user/dl4j-bin/gradle-api-8.2.jar:/home/ec2-user/dl4j-bin/gradle-api-impldep-8.2.jar:/home/ec2-user/dl4j-bin/gradle-wrapper-8.2.jar:/home/ec2-user/dl4j-bin/gradle.jar:/home/ec2-user/dl4j-bin/gradle-tooling-extension-api.jar:/home/ec2-user/dl4j-bin/external-system-rt.jar&#39; org.jetbrains.plugins.gradle.tooling.proxy.Main --debug within SshjSshConnection(ec2-user@172.31.30.248)@ee18ec\r\n\r\n2023-08-01 11:49:01,421 [330360083]   FINE - #o.j.p.g.s.t.GradleTaskManager - Gradle build launcher error\r\norg.gradle.tooling.GradleConnectionException: Could not connect to server /172.31.30.248:35783. Tried addresses: [/172.31.30.248].\r\n\tat org.jetbrains.plugins.gradle.execution.target.GradleServerRunner$GradleServerEventsListener.start$lambda$1(GradleServerRunner.kt:179)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:272)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.gradle.tooling.internal.consumer.BlockingResultHandler.getResult(BlockingResultHandler.java:46)\r\n\tat org.jetbrains.plugins.gradle.execution.target.TargetBuildExecuter.runAndGetResult(TargetBuildExecuter.kt:30)\r\n\tat org.jetbrains.plugins.gradle.execution.target.TargetBuildLauncher.run(TargetBuildLauncher.kt:15)\r\n\tat org.jetbrains.plugins.gradle.service.task.GradleTaskManager.executeTasks(GradleTaskManager.java:158)\r\n\tat org.jetbrains.plugins.gradle.service.task.GradleTaskManager.lambda$executeTasks$1(GradleTaskManager.java:111)\r\n\tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.lambda$execute$0(GradleExecutionHelper.java:144)\r\n\tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.maybeFixSystemProperties(GradleExecutionHelper.java:170)\r\n\tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.lambda$execute$1(GradleExecutionHelper.java:144)\r\n\tat org.jetbrains.plugins.gradle.GradleConnectorService$Companion.withGradleConnection(GradleConnectorService.kt:187)\r\n\tat org.jetbrains.plugins.gradle.GradleConnectorService.withGradleConnection(GradleConnectorService.kt)\r\n\tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:140)\r\n\tat org.jetbrains.plugins.gradle.service.task.GradleTaskManager.executeTasks(GradleTaskManager.java:110)\r\n\tat org.jetbrains.plugins.gradle.service.task.GradleTaskManager.executeTasks(GradleTaskManager.java:67)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemTaskManagerImpl.lambda$executeTasks$0(RemoteExternalSystemTaskManagerImpl.java:43)\r\n\tat com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:40)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemTaskManagerImpl.executeTasks(RemoteExternalSystemTaskManagerImpl.java:42)\r\n\tat com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemTaskManagerWrapper.executeTasks(ExternalSystemTaskManagerWrapper.java:35)\r\n\tat com.intellij.openapi.externalSystem.service.internal.ExternalSystemExecuteTaskTask.doExecute(ExternalSystemExecuteTaskTask.java:131)\r\n\tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:149)\r\n\tat com.intellij.openapi.externalSystem.service.execution.ExternalSystemRunnableState.lambda$execute$1(ExternalSystemRunnableState.java:323)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:272)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.gradle.internal.remote.internal.ConnectException: Could not connect to server /172.31.30.248:35783. Tried addresses: [/172.31.30.248].\r\n\tat org.gradle.internal.remote.internal.inet.TcpOutgoingConnector.connect(TcpOutgoingConnector.java:67)\r\n\tat org.jetbrains.plugins.gradle.execution.target.GradleServerRunner$GradleServerEventsListener.doRun(GradleServerRunner.kt:188)\r\n\tat org.jetbrains.plugins.gradle.execution.target.GradleServerRunner$GradleServerEventsListener.start$lambda$1(GradleServerRunner.kt:176)\r\n\t... 10 more\r\nCaused by: java.net.SocketTimeoutException: Connect timed out\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishTimedConnect(SocketChannelImpl.java:1145)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.blockingConnect(SocketChannelImpl.java:1183)\r\n\tat java.base/sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:98)\r\n\tat org.gradle.internal.remote.internal.inet.TcpOutgoingConnector.tryConnect(TcpOutgoingConnector.java:81)\r\n\tat org.gradle.internal.remote.internal.inet.TcpOutgoingConnector.connect(TcpOutgoingConnector.java:54)\r\n\t... 12 more\r\n```\r\n\r\nThe remote host I am connecting to, only has SSH port 22 open, so my local Intellij IDEA will fail to connect to the remote gradle process as indicated in the log\r\n`org.gradle.tooling.GradleConnectionException: Could not connect to server /172.31.30.248:35783. Tried addresses: [/172.31.30.248].`\r\n\r\nThe port is random and changes on every run, so I do not see a way to open it in the firewall of the remote host.\r\n\r\nOn the remote host side, the command\r\n\r\n```\r\ncd /home/ec2-user/dl4j/0viyoPzZWn; exec env &quot;JETBRAINS_REMOTE_RUN&quot;=&quot;1&quot; &quot;serverBindingHost&quot;=&quot;172.31.30.248&quot; &quot;serverBindingPort&quot;=&quot;0&quot; /usr/lib/jvm/java-11-openjdk-11.0.19.0.7-1.amzn2.0.1.x86_64/bin/java -Dfile.encoding=windows-1252 -classpath &#39;/home/ec2-user/dl4j-bin/util-8.jar:/home/ec2-user/dl4j-bin/gradle-api-8.2.jar:/home/ec2-user/dl4j-bin/gradle-api-impldep-8.2.jar:/home/ec2-user/dl4j-bin/gradle-wrapper-8.2.jar:/home/ec2-user/dl4j-bin/gradle.jar:/home/ec2-user/dl4j-bin/gradle-tooling-extension-api.jar:/home/ec2-user/dl4j-bin/external-system-rt.jar&#39; org.jetbrains.plugins.gradle.tooling.proxy.Main --debug \r\n```\r\n\r\nresults into:\r\n\r\n```\r\nGradle target server hostAddress: 172.31.30.248 port: 33829                                                                                Exception in thread &quot;main&quot; java.lang.IllegalStateException: Incoming connection timeout                                                                         bin/exteat org.jetbrains.plugins.gradle.tooling.proxy.Main.waitFor(Main.kt:211)e                                                                                        at org.jetbrains.plugins.gradle.tooling.proxy.Main.waitForIncomingConnection(Main.kt:187)\r\n        at org.jetbrains.plugins.gradle.tooling.proxy.Main.doMain(Main.kt:48)\r\n        at org.jetbrains.plugins.gradle.tooling.proxy.Main.main(Main.kt:34)\r\n```\r\n\r\n**What I have tried:**\r\nI have set up a SOCKS5 proxy using SSH, that works for the rsync and ssh connection, but still not for the above. In gradle.settings I have tried to set\r\n`org.gradle.jvmargs=-DsocksProxyHost=sshtunnel -DsocksProxyPort=8888`","title":"Gradle java project in SSH Remote Target Configuration using IntelliJ IDEA - Connect timed out","body":"<p>I have an java project in Intellij IDEA on Windows, that is build with gradle (wrapper). This runs fine locally. I now have specified to build/ test/ run on a SSH remote target in the &quot;Run Targets&quot; configuration (ssh + rsync):\n<a href=\"https://i.stack.imgur.com/eo6K9.png\" rel=\"nofollow noreferrer\">Run Target Configuration</a></p>\n<p>I can see sources being uploaded with rsync commands like this:</p>\n<pre><code>C:\\cygwin64\\bin\\rsync.exe -zar -v -e &quot;C:\\cygwin64\\bin\\ssh.exe -p 22 -i C:\\Users\\brian\\Downloads\\linux-aws.pem&quot; --exclude=/build\\classes\\java\\main --exclude=/build\\classes\\java\\main --exclude=/build --exclude=[many excludes here] cavis-dnn-common-tests/ ec2-user@172.31.30.248:/home/ec2-user/dl4j/0viyoPzZWn/cavis-dnn/cavis-dnn-common-tests --delete\nsending incremental file list\n\nsent 532 bytes  received 17 bytes  366.00 bytes/sec\ntotal size is 11,185  speedup is 20.37\n</code></pre>\n<p>Then I get a Connect timed out. With</p>\n<pre><code>#com.intellij.ssh\n#org.jetbrains.plugins.gradle\n</code></pre>\n<p>configured for Custom Debug Log Configuration within IDEA, the log shows this:</p>\n<pre><code>2023-08-01 11:48:51,008 [330349670]   FINE - #c.i.s.SshConnectionService - Executing SSH command: cd /home/ec2-user/dl4j/0viyoPzZWn; exec env &quot;JETBRAINS_REMOTE_RUN&quot;=&quot;1&quot; &quot;serverBindingHost&quot;=&quot;172.31.30.248&quot; &quot;serverBindingPort&quot;=&quot;0&quot; /usr/lib/jvm/java-11-openjdk-11.0.19.0.7-1.amzn2.0.1.x86_64/bin/java -Dfile.encoding=windows-1252 -classpath '/home/ec2-user/dl4j-bin/util-8.jar:/home/ec2-user/dl4j-bin/gradle-api-8.2.jar:/home/ec2-user/dl4j-bin/gradle-api-impldep-8.2.jar:/home/ec2-user/dl4j-bin/gradle-wrapper-8.2.jar:/home/ec2-user/dl4j-bin/gradle.jar:/home/ec2-user/dl4j-bin/gradle-tooling-extension-api.jar:/home/ec2-user/dl4j-bin/external-system-rt.jar' org.jetbrains.plugins.gradle.tooling.proxy.Main --debug within SshjSshConnection(ec2-user@172.31.30.248)@ee18ec\n\n2023-08-01 11:49:01,421 [330360083]   FINE - #o.j.p.g.s.t.GradleTaskManager - Gradle build launcher error\norg.gradle.tooling.GradleConnectionException: Could not connect to server /172.31.30.248:35783. Tried addresses: [/172.31.30.248].\n    at org.jetbrains.plugins.gradle.execution.target.GradleServerRunner$GradleServerEventsListener.start$lambda$1(GradleServerRunner.kt:179)\n    at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:272)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    at org.gradle.tooling.internal.consumer.BlockingResultHandler.getResult(BlockingResultHandler.java:46)\n    at org.jetbrains.plugins.gradle.execution.target.TargetBuildExecuter.runAndGetResult(TargetBuildExecuter.kt:30)\n    at org.jetbrains.plugins.gradle.execution.target.TargetBuildLauncher.run(TargetBuildLauncher.kt:15)\n    at org.jetbrains.plugins.gradle.service.task.GradleTaskManager.executeTasks(GradleTaskManager.java:158)\n    at org.jetbrains.plugins.gradle.service.task.GradleTaskManager.lambda$executeTasks$1(GradleTaskManager.java:111)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.lambda$execute$0(GradleExecutionHelper.java:144)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.maybeFixSystemProperties(GradleExecutionHelper.java:170)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.lambda$execute$1(GradleExecutionHelper.java:144)\n    at org.jetbrains.plugins.gradle.GradleConnectorService$Companion.withGradleConnection(GradleConnectorService.kt:187)\n    at org.jetbrains.plugins.gradle.GradleConnectorService.withGradleConnection(GradleConnectorService.kt)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:140)\n    at org.jetbrains.plugins.gradle.service.task.GradleTaskManager.executeTasks(GradleTaskManager.java:110)\n    at org.jetbrains.plugins.gradle.service.task.GradleTaskManager.executeTasks(GradleTaskManager.java:67)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemTaskManagerImpl.lambda$executeTasks$0(RemoteExternalSystemTaskManagerImpl.java:43)\n    at com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:40)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemTaskManagerImpl.executeTasks(RemoteExternalSystemTaskManagerImpl.java:42)\n    at com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemTaskManagerWrapper.executeTasks(ExternalSystemTaskManagerWrapper.java:35)\n    at com.intellij.openapi.externalSystem.service.internal.ExternalSystemExecuteTaskTask.doExecute(ExternalSystemExecuteTaskTask.java:131)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:149)\n    at com.intellij.openapi.externalSystem.service.execution.ExternalSystemRunnableState.lambda$execute$1(ExternalSystemRunnableState.java:323)\n    at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:272)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.gradle.internal.remote.internal.ConnectException: Could not connect to server /172.31.30.248:35783. Tried addresses: [/172.31.30.248].\n    at org.gradle.internal.remote.internal.inet.TcpOutgoingConnector.connect(TcpOutgoingConnector.java:67)\n    at org.jetbrains.plugins.gradle.execution.target.GradleServerRunner$GradleServerEventsListener.doRun(GradleServerRunner.kt:188)\n    at org.jetbrains.plugins.gradle.execution.target.GradleServerRunner$GradleServerEventsListener.start$lambda$1(GradleServerRunner.kt:176)\n    ... 10 more\nCaused by: java.net.SocketTimeoutException: Connect timed out\n    at java.base/sun.nio.ch.SocketChannelImpl.finishTimedConnect(SocketChannelImpl.java:1145)\n    at java.base/sun.nio.ch.SocketChannelImpl.blockingConnect(SocketChannelImpl.java:1183)\n    at java.base/sun.nio.ch.SocketAdaptor.connect(SocketAdaptor.java:98)\n    at org.gradle.internal.remote.internal.inet.TcpOutgoingConnector.tryConnect(TcpOutgoingConnector.java:81)\n    at org.gradle.internal.remote.internal.inet.TcpOutgoingConnector.connect(TcpOutgoingConnector.java:54)\n    ... 12 more\n</code></pre>\n<p>The remote host I am connecting to, only has SSH port 22 open, so my local Intellij IDEA will fail to connect to the remote gradle process as indicated in the log\n<code>org.gradle.tooling.GradleConnectionException: Could not connect to server /172.31.30.248:35783. Tried addresses: [/172.31.30.248].</code></p>\n<p>The port is random and changes on every run, so I do not see a way to open it in the firewall of the remote host.</p>\n<p>On the remote host side, the command</p>\n<pre><code>cd /home/ec2-user/dl4j/0viyoPzZWn; exec env &quot;JETBRAINS_REMOTE_RUN&quot;=&quot;1&quot; &quot;serverBindingHost&quot;=&quot;172.31.30.248&quot; &quot;serverBindingPort&quot;=&quot;0&quot; /usr/lib/jvm/java-11-openjdk-11.0.19.0.7-1.amzn2.0.1.x86_64/bin/java -Dfile.encoding=windows-1252 -classpath '/home/ec2-user/dl4j-bin/util-8.jar:/home/ec2-user/dl4j-bin/gradle-api-8.2.jar:/home/ec2-user/dl4j-bin/gradle-api-impldep-8.2.jar:/home/ec2-user/dl4j-bin/gradle-wrapper-8.2.jar:/home/ec2-user/dl4j-bin/gradle.jar:/home/ec2-user/dl4j-bin/gradle-tooling-extension-api.jar:/home/ec2-user/dl4j-bin/external-system-rt.jar' org.jetbrains.plugins.gradle.tooling.proxy.Main --debug \n</code></pre>\n<p>results into:</p>\n<pre><code>Gradle target server hostAddress: 172.31.30.248 port: 33829                                                                                Exception in thread &quot;main&quot; java.lang.IllegalStateException: Incoming connection timeout                                                                         bin/exteat org.jetbrains.plugins.gradle.tooling.proxy.Main.waitFor(Main.kt:211)e                                                                                        at org.jetbrains.plugins.gradle.tooling.proxy.Main.waitForIncomingConnection(Main.kt:187)\n        at org.jetbrains.plugins.gradle.tooling.proxy.Main.doMain(Main.kt:48)\n        at org.jetbrains.plugins.gradle.tooling.proxy.Main.main(Main.kt:34)\n</code></pre>\n<p><strong>What I have tried:</strong>\nI have set up a SOCKS5 proxy using SSH, that works for the rsync and ssh connection, but still not for the above. In gradle.settings I have tried to set\n<code>org.gradle.jvmargs=-DsocksProxyHost=sshtunnel -DsocksProxyPort=8888</code></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":18998244,"reputation":537,"user_id":13866126,"display_name":"JavaLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690886306,"creation_date":1690886306,"question_id":76810822,"body_markdown":"I&#39;ve a `@Transactional` method which triggers 2 SQL queries and returns the fetched objects.\r\nI&#39;ve enabled the session metrics logging by setting `spring.jpa.properties.hibernate.generate_statistics=true`.\r\nI&#39;ve also defined a profiler which logs the time taken by the `@Transactional` method, something like this:\r\n\r\n\r\n```\r\npublic Object controllerMethod() {\r\n    var startTime = System.nanoTime();\r\n    var obj = service.transactionalServiceMethod();\r\n    var endTime = System.nanoTime();\r\n\r\n    log.info(&quot;Time taken: {}&quot;, endTime - startTime);\r\n\r\n    return obj;\r\n}\r\n```\r\n\r\nHowever the time logged by adding all components of session metrics(1 second) is very less as compared to the time logged by this profiler(6 seconds). I found this unexpected as the service method only triggers 2 SQL queries and returns the object, nothing else. Shouldn&#39;t the session metrics time add up to the profiler time? What could be the other possible things which can take additional time which is not captured inside session metrics?","title":"Session metrics generated using spring.jpa.properties.hibernate.generate_statistics doesn&#39;t add up to the actual time spent","body":"<p>I've a <code>@Transactional</code> method which triggers 2 SQL queries and returns the fetched objects.\nI've enabled the session metrics logging by setting <code>spring.jpa.properties.hibernate.generate_statistics=true</code>.\nI've also defined a profiler which logs the time taken by the <code>@Transactional</code> method, something like this:</p>\n<pre><code>public Object controllerMethod() {\n    var startTime = System.nanoTime();\n    var obj = service.transactionalServiceMethod();\n    var endTime = System.nanoTime();\n\n    log.info(&quot;Time taken: {}&quot;, endTime - startTime);\n\n    return obj;\n}\n</code></pre>\n<p>However the time logged by adding all components of session metrics(1 second) is very less as compared to the time logged by this profiler(6 seconds). I found this unexpected as the service method only triggers 2 SQL queries and returns the object, nothing else. Shouldn't the session metrics time add up to the profiler time? What could be the other possible things which can take additional time which is not captured inside session metrics?</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1408452161,"post_id":25382876,"comment_id":39586256,"body_markdown":"I did the same, a `MultiPrintWriter(Writer superWriter, Writer... otherWriters)`. Did not find a ready one. Only logging may tee (fork) out.","body":"I did the same, a <code>MultiPrintWriter(Writer superWriter, Writer... otherWriters)</code>. Did not find a ready one. Only logging may tee (fork) out."}],"answers":[{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1408451662,"creation_date":1408450957,"answer_id":25383343,"question_id":25382876,"body_markdown":"There is no such &quot;multiwriter&quot; in the standard Java library, but you can create one very easily. The reason for &quot;easily&quot; is because there are only 3 `abstract` methods in `java.io.Writer`: `close()`, `flush()` and `write(char[] cbuf, int off, int len)`.\r\n\r\nThe default implementation of all other overloads of the `write()` method call this abstract one.\r\n\r\nYou just have to store the writers you want to forward to and do just that: forward the calls of these 3 abstract methods:\r\n\r\n\tclass MultiWriter extends Writer {\r\n\t\t\r\n\t\tprivate final Writer[] writers;\r\n\t\t\r\n\t\tpublic MultiWriter(Writer... writers) {\r\n\t\t\tthis.writers = writers;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void write(char[] cbuf, int off, int len) throws IOException {\r\n\t\t\tfor (Writer w : writers)\r\n\t\t\t\tw.write(cbuf, off, len);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void flush() throws IOException {\r\n\t\t\tfor (Writer w : writers)\r\n\t\t\t\tw.flush();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void close() throws IOException {\r\n\t\t\tfor (Writer w : writers)\r\n\t\t\t\tw.close();\r\n\t\t}\r\n\t\t\r\n\t};\r\n\r\n**Note:**\r\n\r\nI know you wanted a `PrintWriter`, but since our `MultiWriter` is a `java.io.Writer`, you can simply pass it to a `PrintWriter` like this:\r\n\r\n    PrintWriter pw = new PrintWriter(new MultiWriter(writer1, writer2));\r\n\r\n**Note #2:**\r\n\r\nIn my implementation I did not catch exceptions thrown by the writers we forward to. If for example the `write()` method of a &quot;child&quot; writer would thow an `IOException`, even if we would succeed to write to other writers, the one that failed will still be failed... If we wanted to handle individual exceptions, we would have to implement a new `IOException` that could hold a collection of other `IOException` because multiple &quot;child&quot; writers could fail just as easily.","title":"Java Make a PrintWriter write two different Writer&#39;s","body":"<p>There is no such \"multiwriter\" in the standard Java library, but you can create one very easily. The reason for \"easily\" is because there are only 3 <code>abstract</code> methods in <code>java.io.Writer</code>: <code>close()</code>, <code>flush()</code> and <code>write(char[] cbuf, int off, int len)</code>.</p>\n\n<p>The default implementation of all other overloads of the <code>write()</code> method call this abstract one.</p>\n\n<p>You just have to store the writers you want to forward to and do just that: forward the calls of these 3 abstract methods:</p>\n\n<pre><code>class MultiWriter extends Writer {\n\n    private final Writer[] writers;\n\n    public MultiWriter(Writer... writers) {\n        this.writers = writers;\n    }\n\n    @Override\n    public void write(char[] cbuf, int off, int len) throws IOException {\n        for (Writer w : writers)\n            w.write(cbuf, off, len);\n    }\n\n    @Override\n    public void flush() throws IOException {\n        for (Writer w : writers)\n            w.flush();\n    }\n\n    @Override\n    public void close() throws IOException {\n        for (Writer w : writers)\n            w.close();\n    }\n\n};\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>I know you wanted a <code>PrintWriter</code>, but since our <code>MultiWriter</code> is a <code>java.io.Writer</code>, you can simply pass it to a <code>PrintWriter</code> like this:</p>\n\n<pre><code>PrintWriter pw = new PrintWriter(new MultiWriter(writer1, writer2));\n</code></pre>\n\n<p><strong>Note #2:</strong></p>\n\n<p>In my implementation I did not catch exceptions thrown by the writers we forward to. If for example the <code>write()</code> method of a \"child\" writer would thow an <code>IOException</code>, even if we would succeed to write to other writers, the one that failed will still be failed... If we wanted to handle individual exceptions, we would have to implement a new <code>IOException</code> that could hold a collection of other <code>IOException</code> because multiple \"child\" writers could fail just as easily.</p>\n"},{"tags":[],"owner":{"account_id":4376597,"reputation":911,"user_id":3569471,"accept_rate":62,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408451235,"creation_date":1408451235,"answer_id":25383440,"question_id":25382876,"body_markdown":"It&#39;s not hard to implement this yourself. The Writer-Interface has just a handful of abstract methods. So something like this should do: \r\n\r\n    public class TeeWriter implements Writer {\r\n    \r\n    private Writer w1, w2;\r\n    \r\n    ...\r\n    \r\n    public void write(char[] cbuf, int off, int len) throws IOException {\r\n        IOException pending = null;\r\n        try {\r\n            w1.write(cbuf, off, len);\r\n        } catch(IOException e){\r\n            pending = e;\r\n        }\r\n        try {\r\n            w2.write(cbuf, off, len);\r\n        } catch(IOException e) {\r\n            if(null==pending) {\r\n                throw new IOException(&quot;Writing to w2 failed&quot;, e);\r\n            } else {\r\n                // unfortunately the error message for w1 is lost here, so maybe you can e.g. log it or append it to the string in the new one\r\n                throw new IOException(&quot;Writing to w1 and w2 failed&quot;, e);\r\n            }\r\n        }\r\n        if(null!=pending) {\r\n            throw new IOException(&quot;Writing to w1 failed&quot;, e);\r\n        }\r\n    }\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\nThe other methods will be similiar. ","title":"Java Make a PrintWriter write two different Writer&#39;s","body":"<p>It's not hard to implement this yourself. The Writer-Interface has just a handful of abstract methods. So something like this should do: </p>\n\n<pre><code>public class TeeWriter implements Writer {\n\nprivate Writer w1, w2;\n\n...\n\npublic void write(char[] cbuf, int off, int len) throws IOException {\n    IOException pending = null;\n    try {\n        w1.write(cbuf, off, len);\n    } catch(IOException e){\n        pending = e;\n    }\n    try {\n        w2.write(cbuf, off, len);\n    } catch(IOException e) {\n        if(null==pending) {\n            throw new IOException(\"Writing to w2 failed\", e);\n        } else {\n            // unfortunately the error message for w1 is lost here, so maybe you can e.g. log it or append it to the string in the new one\n            throw new IOException(\"Writing to w1 and w2 failed\", e);\n        }\n    }\n    if(null!=pending) {\n        throw new IOException(\"Writing to w1 failed\", e);\n    }\n}\n\n...\n\n}\n</code></pre>\n\n<p>The other methods will be similiar. </p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690886111,"creation_date":1690886111,"answer_id":76810795,"question_id":25382876,"body_markdown":"Yes. (I need to type 30 characters at least)\r\n\r\n\r\nhttps://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/output/TeeWriter.html","title":"Java Make a PrintWriter write two different Writer&#39;s","body":"<p>Yes. (I need to type 30 characters at least)</p>\n<p><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/output/TeeWriter.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/output/TeeWriter.html</a></p>\n"}],"owner":{"account_id":4217,"reputation":29578,"user_id":6266,"accept_rate":61,"display_name":"Fire Lancer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25383343,"answer_count":3,"score":1,"last_activity_date":1690886111,"creation_date":1408449628,"question_id":25382876,"body_markdown":"I am refactoring some code and want to make a PrintWriter that will send output to two seperate Writer&#39;s (not streams, and they ultimately go different places, one of them may have other stuff sent to it from elsewhere).\r\n\r\nFor streams there is the Apache TeeOutputStream, is there anything for Writer or will I need to go via a stream and back to text?","title":"Java Make a PrintWriter write two different Writer&#39;s","body":"<p>I am refactoring some code and want to make a PrintWriter that will send output to two seperate Writer's (not streams, and they ultimately go different places, one of them may have other stuff sent to it from elsewhere).</p>\n\n<p>For streams there is the Apache TeeOutputStream, is there anything for Writer or will I need to go via a stream and back to text?</p>\n"},{"tags":["javascript","java","jquery","html","jsp"],"comments":[{"owner":{"account_id":4296062,"reputation":2894,"user_id":3511123,"display_name":"Jozef Chocholacek"},"score":0,"creation_date":1491297585,"post_id":43202682,"comment_id":73477833,"body_markdown":"Show the code of the `editRecord()` and `deleteRecord()` Javascript functions.","body":"Show the code of the <code>editRecord()</code> and <code>deleteRecord()</code> Javascript functions."},{"owner":{"account_id":10402283,"reputation":33,"user_id":7670176,"accept_rate":43,"display_name":"Jhon "},"score":0,"creation_date":1491303304,"post_id":43202682,"comment_id":73481896,"body_markdown":"I did two jsp pages those two methods","body":"I did two jsp pages those two methods"}],"answers":[{"tags":[],"owner":{"display_name":"user20174493"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690885999,"creation_date":1690885999,"answer_id":76810773,"question_id":43202682,"body_markdown":"If your delete method gets a parameter you could bind your method into a button that deletes the current row of the table.\r\n\r\n JSP:\r\n\r\n    &lt;a href=&quot;delete.do?id=&lt;%=user.getUserName()%&gt;&quot;&gt;\r\n       &lt;button class=&quot;edit-button&quot;&gt;\r\n          Your Code\r\n       &lt;/button&gt;\r\n    &lt;/a&gt;\r\n\r\nTo set the parameter inside your method:\r\n\r\n    String username = request.getParameter(&quot;id&quot;);\r\n\r\nThis makes your page get the data you want (username in this case) from the current row where the button is and then pass the parameter to the method that will delete his row.","title":"Is it possible to do edit and delete options in one jsp page in java","body":"<p>If your delete method gets a parameter you could bind your method into a button that deletes the current row of the table.</p>\n<p>JSP:</p>\n<pre><code>&lt;a href=&quot;delete.do?id=&lt;%=user.getUserName()%&gt;&quot;&gt;\n   &lt;button class=&quot;edit-button&quot;&gt;\n      Your Code\n   &lt;/button&gt;\n&lt;/a&gt;\n</code></pre>\n<p>To set the parameter inside your method:</p>\n<pre><code>String username = request.getParameter(&quot;id&quot;);\n</code></pre>\n<p>This makes your page get the data you want (username in this case) from the current row where the button is and then pass the parameter to the method that will delete his row.</p>\n"}],"owner":{"account_id":10402283,"reputation":33,"user_id":7670176,"accept_rate":43,"display_name":"Jhon "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690885999,"creation_date":1491296580,"question_id":43202682,"body_markdown":"Here i am using HTML Table for display all the records with edit and delete columns i need to do edit and delete only one jsp page but how can i do this in java script or jquery.\r\n\r\nmy code:\r\n\r\n    &lt;%\r\n    Connection con = null;     \r\n    int sumcount=0;\r\n    Statement st;\r\n    try{\r\n    \tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    \tSQLServerDataSource ds = new SQLServerDataSource();   \t         \r\n    \t  con = ds.getConnection();\r\n    \t  st=con.createStatement(); \r\n    \r\n    String query = &quot;select * from Users&quot;;\r\n    st = con.createStatement();\r\n    ResultSet rs = st.executeQuery(query);\r\n    %&gt;\r\n    &lt;%\r\n    while(rs.next()){\r\n    %&gt;\r\n    &lt;tr&gt;&lt;td&gt;&lt;input type=&quot;button&quot; name=&quot;edit&quot; value=&quot;Edit&quot; style=&quot;background-color:#ff6347;font-weight:bold;color:#ffffff;&quot; onclick=&quot;editRecord(&lt;%=rs.getString(1)%&gt;);&quot; &gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;input type=&quot;button&quot; name=&quot;delete&quot; value=&quot;Delete&quot; style=&quot;background-color:#ff6347;font-weight:bold;color:#ffffff;&quot; onclick=&quot;deleteRecord(&lt;%=rs.getString(1)%&gt;);&quot; &gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getString(1)%&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getString(2)%&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getString(3)%&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getString(4)%&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getString(5)%&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getString(6)%&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getInt(7)%&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;%=rs.getString(8)%&gt;&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;%\r\n    }\r\n    %&gt;\r\n    &lt;%\r\n    }\r\n    catch(Exception e){\r\n    e.printStackTrace();\r\n    }\r\n    %&gt;\r\n    &lt;/table&gt;\r\n\r\nwhen i click edit button in table all corresponding values are insert data into corresponding text but it do in one page only i need to do all operations is it possible to do\r\n\r\n","title":"Is it possible to do edit and delete options in one jsp page in java","body":"<p>Here i am using HTML Table for display all the records with edit and delete columns i need to do edit and delete only one jsp page but how can i do this in java script or jquery.</p>\n\n<p>my code:</p>\n\n<pre><code>&lt;%\nConnection con = null;     \nint sumcount=0;\nStatement st;\ntry{\n    Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n    SQLServerDataSource ds = new SQLServerDataSource();              \n      con = ds.getConnection();\n      st=con.createStatement(); \n\nString query = \"select * from Users\";\nst = con.createStatement();\nResultSet rs = st.executeQuery(query);\n%&gt;\n&lt;%\nwhile(rs.next()){\n%&gt;\n&lt;tr&gt;&lt;td&gt;&lt;input type=\"button\" name=\"edit\" value=\"Edit\" style=\"background-color:#ff6347;font-weight:bold;color:#ffffff;\" onclick=\"editRecord(&lt;%=rs.getString(1)%&gt;);\" &gt;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"button\" name=\"delete\" value=\"Delete\" style=\"background-color:#ff6347;font-weight:bold;color:#ffffff;\" onclick=\"deleteRecord(&lt;%=rs.getString(1)%&gt;);\" &gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getString(1)%&gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getString(2)%&gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getString(3)%&gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getString(4)%&gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getString(5)%&gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getString(6)%&gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getInt(7)%&gt;&lt;/td&gt;\n&lt;td&gt;&lt;%=rs.getString(8)%&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;%\n}\n%&gt;\n&lt;%\n}\ncatch(Exception e){\ne.printStackTrace();\n}\n%&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>when i click edit button in table all corresponding values are insert data into corresponding text but it do in one page only i need to do all operations is it possible to do</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":0,"creation_date":1519847893,"post_id":49037406,"comment_id":85080166,"body_markdown":"Not there, yet. See https://github.com/junit-team/junit5/issues/542 for details.","body":"Not there, yet. See <a href=\"https://github.com/junit-team/junit5/issues/542\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/542</a> for details."}],"answers":[{"tags":[],"owner":{"account_id":6991916,"reputation":443,"user_id":5360885,"display_name":"Alexis"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1592579712,"creation_date":1550146630,"answer_id":54690217,"question_id":49037406,"body_markdown":"The [TestWatcher](https://junit.org/junit5/docs/5.5.1/api/org/junit/jupiter/api/extension/TestWatcher.html) API was introduced here:\r\n\r\n - https://github.com/junit-team/junit5/pull/1393\r\n - https://junit.org/junit5/docs/5.4.0/release-notes/\r\n\r\nUse it as follows:\r\n\r\n 1. Implement `TestWatcher` class (org.junit.jupiter.api.extension.TestWatcher)\r\n 2. Add `@ExtendWith(&lt;Your class&gt;.class)` to your tests classes (I personally use a base test class which I extend in every test) (https://junit.org/junit5/docs/current/user-guide/#extensions) \r\n\r\nTestWatcher provides you with the following methods to *do something* on test abort, failed, success and disabled:\r\n\r\n - `testAborted​(ExtensionContext context, Throwable cause)`\r\n - `testDisabled​(ExtensionContext context, Optional&lt;String&gt; reason)`\r\n - `testFailed​(ExtensionContext context, Throwable cause)`\r\n - `testSuccessful​(ExtensionContext context)`\r\n\r\nhttps://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/TestWatcher.html\r\n\r\nSample TestWatcher implementation:\r\n\r\n    import java.util.Optional;\r\n    \r\n    import org.junit.jupiter.api.extension.ExtensionContext;\r\n    import org.junit.jupiter.api.extension.TestWatcher;\r\n    \r\n    public class MyTestWatcher implements TestWatcher {\r\n    \t@Override\r\n    \tpublic void testAborted(ExtensionContext extensionContext, Throwable throwable) {\r\n    \t\t// do something\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testDisabled(ExtensionContext extensionContext, Optional&lt;String&gt; optional) {\r\n    \t\t// do something\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testFailed(ExtensionContext extensionContext, Throwable throwable) {\r\n    \t\t// do something\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testSuccessful(ExtensionContext extensionContext) {\r\n    \t\t// do something\r\n    \t}\r\n    }\r\n\r\nThen you just put this on your tests:\r\n\r\n    @ExtendWith(MyTestWatcher.class)\r\n    public class TestSomethingSomething {\r\n    ...","title":"TestWatcher in junit5","body":"<p>The <a href=\"https://junit.org/junit5/docs/5.5.1/api/org/junit/jupiter/api/extension/TestWatcher.html\" rel=\"noreferrer\">TestWatcher</a> API was introduced here:</p>\n\n<ul>\n<li><a href=\"https://github.com/junit-team/junit5/pull/1393\" rel=\"noreferrer\">https://github.com/junit-team/junit5/pull/1393</a></li>\n<li><a href=\"https://junit.org/junit5/docs/5.4.0/release-notes/\" rel=\"noreferrer\">https://junit.org/junit5/docs/5.4.0/release-notes/</a></li>\n</ul>\n\n<p>Use it as follows:</p>\n\n<ol>\n<li>Implement <code>TestWatcher</code> class (org.junit.jupiter.api.extension.TestWatcher)</li>\n<li>Add <code>@ExtendWith(&lt;Your class&gt;.class)</code> to your tests classes (I personally use a base test class which I extend in every test) (<a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions</a>) </li>\n</ol>\n\n<p>TestWatcher provides you with the following methods to <em>do something</em> on test abort, failed, success and disabled:</p>\n\n<ul>\n<li><code>testAborted​(ExtensionContext context, Throwable cause)</code></li>\n<li><code>testDisabled​(ExtensionContext context, Optional&lt;String&gt; reason)</code></li>\n<li><code>testFailed​(ExtensionContext context, Throwable cause)</code></li>\n<li><code>testSuccessful​(ExtensionContext context)</code></li>\n</ul>\n\n<p><a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/TestWatcher.html\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/extension/TestWatcher.html</a></p>\n\n<p>Sample TestWatcher implementation:</p>\n\n<pre><code>import java.util.Optional;\n\nimport org.junit.jupiter.api.extension.ExtensionContext;\nimport org.junit.jupiter.api.extension.TestWatcher;\n\npublic class MyTestWatcher implements TestWatcher {\n    @Override\n    public void testAborted(ExtensionContext extensionContext, Throwable throwable) {\n        // do something\n    }\n\n    @Override\n    public void testDisabled(ExtensionContext extensionContext, Optional&lt;String&gt; optional) {\n        // do something\n    }\n\n    @Override\n    public void testFailed(ExtensionContext extensionContext, Throwable throwable) {\n        // do something\n    }\n\n    @Override\n    public void testSuccessful(ExtensionContext extensionContext) {\n        // do something\n    }\n}\n</code></pre>\n\n<p>Then you just put this on your tests:</p>\n\n<pre><code>@ExtendWith(MyTestWatcher.class)\npublic class TestSomethingSomething {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2343888,"reputation":56,"user_id":2054634,"display_name":"ptanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690885748,"creation_date":1690885748,"answer_id":76810730,"question_id":49037406,"body_markdown":"You can do it using `AfterTestExecutionCallback`:\r\n\r\n```java\r\npublic class SomeTest {\r\n\r\n\t@RegisterExtension\r\n\tprivate final AfterTestExecutionCallback afterTest = context -&gt; {\r\n\t\tfinal Optional&lt;Throwable&gt; exception = context.getExecutionException();\r\n// if you need method name:\r\n//\t\tfinal Method method = context.getRequiredTestMethod();\r\n// one method for error/success:\r\n//\t\tafter(method, exception);\r\n// or if(exception.isPresent()){}else{})\r\n\t\texception.ifPresentOrElse(this::onError, this::onSuccess);\r\n\t};\r\n\r\n\tprivate void onSuccess() {\r\n// Success? Do something\r\n\t}\r\n\r\n\tprivate void onError(Throwable throwable1) {\r\n// Fail? Do something else\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testSomething() {\r\n// put tests here or in a child class\r\n\t}\r\n\r\n...\r\n\r\n}\r\n```","title":"TestWatcher in junit5","body":"<p>You can do it using <code>AfterTestExecutionCallback</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeTest {\n\n    @RegisterExtension\n    private final AfterTestExecutionCallback afterTest = context -&gt; {\n        final Optional&lt;Throwable&gt; exception = context.getExecutionException();\n// if you need method name:\n//      final Method method = context.getRequiredTestMethod();\n// one method for error/success:\n//      after(method, exception);\n// or if(exception.isPresent()){}else{})\n        exception.ifPresentOrElse(this::onError, this::onSuccess);\n    };\n\n    private void onSuccess() {\n// Success? Do something\n    }\n\n    private void onError(Throwable throwable1) {\n// Fail? Do something else\n    }\n\n    @Test\n    public void testSomething() {\n// put tests here or in a child class\n    }\n\n...\n\n}\n</code></pre>\n"}],"owner":{"account_id":4742460,"reputation":125,"user_id":3834740,"display_name":"wyd3x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9506,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1690885748,"creation_date":1519847144,"question_id":49037406,"body_markdown":"I can&#39;t find any annotation which replace/working the same like TestWatcher.\n\nMy goal:\nHave 2 functions which do something depend on test result.\n\n- Success? Do something\n- Fail? Do something else\n","title":"TestWatcher in junit5","body":"<p>I can't find any annotation which replace/working the same like TestWatcher.</p>\n\n<p>My goal:\nHave 2 functions which do something depend on test result.</p>\n\n<ul>\n<li>Success? Do something</li>\n<li>Fail? Do something else</li>\n</ul>\n"},{"tags":["java","intellij-idea","gwt","java-17"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1690897738,"post_id":76810635,"comment_id":135415078,"body_markdown":"Please check related article about adding GWT facet: https://www.jetbrains.com/help/idea/2020.1/creating-a-module-with-a-gwt-facet.html","body":"Please check related article about adding GWT facet: <a href=\"https://www.jetbrains.com/help/idea/2020.1/creating-a-module-with-a-gwt-facet.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/2020.1/&hellip;</a>"},{"owner":{"account_id":29135502,"reputation":1,"user_id":22319778,"display_name":"Amar"},"score":0,"creation_date":1691070699,"post_id":76810635,"comment_id":135444191,"body_markdown":"Hi @y.bedrov, Thanks for the reply, I have tried this already. The option suggested in the article (JavaEE or Additional Libraries and Frameworks) is not visible to me, may be coz my JDK version is set to 17. Any more suggestion, please let me know.","body":"Hi @y.bedrov, Thanks for the reply, I have tried this already. The option suggested in the article (JavaEE or Additional Libraries and Frameworks) is not visible to me, may be coz my JDK version is set to 17. Any more suggestion, please let me know."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1691442357,"post_id":76810635,"comment_id":135489729,"body_markdown":"Could you please attach screenshot with available options? GWT is shown on my side when 17 JDK is used.","body":"Could you please attach screenshot with available options? GWT is shown on my side when 17 JDK is used."}],"owner":{"account_id":29135502,"reputation":1,"user_id":22319778,"display_name":"Amar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690885665,"creation_date":1690884957,"question_id":76810635,"body_markdown":"I am trying to set up a project in Intellij with Java 17 and GWT 2.9. I have installed the GWT plugin and trying to configure my project set up.\r\n\r\n I am unable to find the option to configure GWT and when I navigate to Project Structure --&gt; JavaEE but I only find JakartaEE option in the listing. I understand that JavaEE is now JakartaEE, since GWT 2.9.0 does not support JakartaEE, what are my option now. how do I configure the project structure. are there any work arounds available? \r\n\r\nAny help would be appreciated.","title":"Intellij support for Java 17 and GWT","body":"<p>I am trying to set up a project in Intellij with Java 17 and GWT 2.9. I have installed the GWT plugin and trying to configure my project set up.</p>\n<p>I am unable to find the option to configure GWT and when I navigate to Project Structure --&gt; JavaEE but I only find JakartaEE option in the listing. I understand that JavaEE is now JakartaEE, since GWT 2.9.0 does not support JakartaEE, what are my option now. how do I configure the project structure. are there any work arounds available?</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","json","apache-kafka","quarkus","json-deserialization"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1690890514,"post_id":76809957,"comment_id":135413439,"body_markdown":"better add a full stacktrace","body":"better add a full stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690885563,"creation_date":1690885563,"answer_id":76810712,"question_id":76809957,"body_markdown":"First, in your code don&#39;t instantiate a new `ObjectMapper`for every request. Make it a member of the class that has your method `consumeRequest` and re-use it. Also, to make your code even simpler you can use a 3d party utility `JsonUtils` that is a thin wrapper over `ObjectMapper` class and can do what you are trying to do in one line:\r\n\r\n    FooDTO fooDto = JsonUtils.readObjectFromJsonString(jsonStr, FooDTO.class);\r\nYour String `&quot;{\\&quot;type\\&quot;:\\&quot;CASA\\&quot;,\\&quot;batchList\\&quot;:[\\&quot;CVA348856650375401ABC\\&quot;,\\&quot;BNM346846350035548DEF\\&quot;]}&quot;` should be working fine. JsonUtils class comes with MgntUtils Open Source library written and maintained by me. Here is `JsonUtils Javadoc` and the library could be obtained as [Maven artifact][1] or on [GitHub][2] (including source code and Javadoc)\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [2]: https://github.com/michaelgantman/Mgnt/releases","title":"Kafka JSON Object Error: no String-argument constructor/factory method to deserialize from String value","body":"<p>First, in your code don't instantiate a new <code>ObjectMapper</code>for every request. Make it a member of the class that has your method <code>consumeRequest</code> and re-use it. Also, to make your code even simpler you can use a 3d party utility <code>JsonUtils</code> that is a thin wrapper over <code>ObjectMapper</code> class and can do what you are trying to do in one line:</p>\n<pre><code>FooDTO fooDto = JsonUtils.readObjectFromJsonString(jsonStr, FooDTO.class);\n</code></pre>\n<p>Your String <code>&quot;{\\&quot;type\\&quot;:\\&quot;CASA\\&quot;,\\&quot;batchList\\&quot;:[\\&quot;CVA348856650375401ABC\\&quot;,\\&quot;BNM346846350035548DEF\\&quot;]}&quot;</code> should be working fine. JsonUtils class comes with MgntUtils Open Source library written and maintained by me. Here is <code>JsonUtils Javadoc</code> and the library could be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">GitHub</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":13892273,"reputation":43,"user_id":10029945,"display_name":"Eve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690885563,"creation_date":1690879632,"question_id":76809957,"body_markdown":"I have an error deserializing this JSON string from kafka into java object.\r\n\r\n    {&quot;type&quot;:&quot;CASA&quot;,&quot;batchList&quot;:[&quot;CVA348856650375401ABC&quot;,&quot;BNM346846350035548DEF&quot;]}\r\n\r\nMy deserialization code is this:\r\n\r\n     ObjectMapper objectMapper = new ObjectMapper();\r\n     FooDTO fooDto = objectMapper.readValue(payload.value(), new TypeReference&lt;FooDTO&gt;() {});\r\n\r\nI also did try the following\r\n\r\n    //objectMapper.readValue(payload.value(), FooDTO.class);\r\n    //objectMapper.readValue(objectMapper.writeValueAsString(object), FooDTO.class));\r\n    //objectMapper.readValue(objectMapper.writeValueAsString(object), new TypeReference&lt;FooDTO&gt;()));\r\n\r\nand nothing is working. Then I thought it has something to do with the whitespaces and nextlines because when I manually add the json string in the code ie: `String jsonString = &quot;{\\&quot;type\\&quot;:\\&quot;CASA\\&quot;,\\&quot;batchList\\&quot;:[\\&quot;CVA348856650375401ABC\\&quot;,\\&quot;BNM346846350035548DEF\\&quot;]}&quot;;` the deserialization code works.\r\n\r\nthe next lines or *&quot;\\n&quot;* is not removing. I tried the following:\r\n\r\n    String jsonStringReplace = payload.value().replace(&quot;\\n&quot;, &quot;&quot;);\r\n    String jsonStringTrim = payload.value().trim();\r\n    String jsonStringStrip = payload.value().strip();\r\n    String jsonStringRegex = payload.value().replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\r\n\r\nall is like this:\r\n\r\n    raw: &quot;{\\n \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\r\n    jsonStringRepAll: &quot;{\\n \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\r\n    jsonStringTrim: &quot;{\\n  \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\r\n    jsonStringStrip: &quot;{\\n  \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\r\n    jsonStringRegex: &quot;{\\n \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\r\n\r\n\r\nI always got the same error over and over again:\r\n\r\n    Cannot construct instance of `sample.ms.dto.FooDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{\r\n      &quot;type&quot;: &quot;CASA&quot;,\r\n      &quot;batchList&quot;: [\r\n        &quot;CVA348856650375401ABC&quot;,\r\n        &quot;BNM346846350035548DEF&quot;\r\n      ]\r\n    }&#39;)\r\n\r\nThe following is the code:\r\n\r\n        @Incoming(KafkaConstants.KAFKA_TOPIC_REQUEST)\r\n        @Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\r\n        @Blocking\r\n        @Retry\r\n        public Response consumeRequest(Record&lt;String, String&gt; payload) {\r\n            log.info(&quot;+++++ START CONSUMING REQUEST +++++&quot;);\r\n            log.debug(&quot;{} : {}&quot;, payload.key(), payload.value());\r\n            try {\r\n                if (Optional.ofNullable(payload.value()).isPresent()) {\r\n     ObjectMapper objectMapper = new ObjectMapper();\r\n         FooDTO fooDto = objectMapper.readValue(payload.value(), new TypeReference&lt;FooDTO&gt;() \r\n    {});\r\n    ...\r\n    }\r\n    }\r\n\r\nThe code below is the DTO:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Valid\r\n    public class FooDTO {\r\n    \r\n        //@NotNull\r\n        private String batchKey;\r\n    \r\n        //@NotNull\r\n        private String type;\r\n    \r\n        //@NotNull\r\n        private List&lt;String&gt; batchList;\r\n    }\r\n\r\n","title":"Kafka JSON Object Error: no String-argument constructor/factory method to deserialize from String value","body":"<p>I have an error deserializing this JSON string from kafka into java object.</p>\n<pre><code>{&quot;type&quot;:&quot;CASA&quot;,&quot;batchList&quot;:[&quot;CVA348856650375401ABC&quot;,&quot;BNM346846350035548DEF&quot;]}\n</code></pre>\n<p>My deserialization code is this:</p>\n<pre><code> ObjectMapper objectMapper = new ObjectMapper();\n FooDTO fooDto = objectMapper.readValue(payload.value(), new TypeReference&lt;FooDTO&gt;() {});\n</code></pre>\n<p>I also did try the following</p>\n<pre><code>//objectMapper.readValue(payload.value(), FooDTO.class);\n//objectMapper.readValue(objectMapper.writeValueAsString(object), FooDTO.class));\n//objectMapper.readValue(objectMapper.writeValueAsString(object), new TypeReference&lt;FooDTO&gt;()));\n</code></pre>\n<p>and nothing is working. Then I thought it has something to do with the whitespaces and nextlines because when I manually add the json string in the code ie: <code>String jsonString = &quot;{\\&quot;type\\&quot;:\\&quot;CASA\\&quot;,\\&quot;batchList\\&quot;:[\\&quot;CVA348856650375401ABC\\&quot;,\\&quot;BNM346846350035548DEF\\&quot;]}&quot;;</code> the deserialization code works.</p>\n<p>the next lines or <em>&quot;\\n&quot;</em> is not removing. I tried the following:</p>\n<pre><code>String jsonStringReplace = payload.value().replace(&quot;\\n&quot;, &quot;&quot;);\nString jsonStringTrim = payload.value().trim();\nString jsonStringStrip = payload.value().strip();\nString jsonStringRegex = payload.value().replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>all is like this:</p>\n<pre><code>raw: &quot;{\\n \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\njsonStringRepAll: &quot;{\\n \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\njsonStringTrim: &quot;{\\n  \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\njsonStringStrip: &quot;{\\n  \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\njsonStringRegex: &quot;{\\n \\&quot;type\\&quot;: \\&quot;CASA\\&quot;,\\n  \\&quot;batchList\\&quot;: [\\n    \\&quot;CVA348856650375401ABC\\&quot;,\\n    \\&quot;BNM346846350035548DEF\\&quot;\\n  ]\\n}&quot;\n</code></pre>\n<p>I always got the same error over and over again:</p>\n<pre><code>Cannot construct instance of `sample.ms.dto.FooDTO` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{\n  &quot;type&quot;: &quot;CASA&quot;,\n  &quot;batchList&quot;: [\n    &quot;CVA348856650375401ABC&quot;,\n    &quot;BNM346846350035548DEF&quot;\n  ]\n}')\n</code></pre>\n<p>The following is the code:</p>\n<pre><code>    @Incoming(KafkaConstants.KAFKA_TOPIC_REQUEST)\n    @Acknowledgment(Acknowledgment.Strategy.POST_PROCESSING)\n    @Blocking\n    @Retry\n    public Response consumeRequest(Record&lt;String, String&gt; payload) {\n        log.info(&quot;+++++ START CONSUMING REQUEST +++++&quot;);\n        log.debug(&quot;{} : {}&quot;, payload.key(), payload.value());\n        try {\n            if (Optional.ofNullable(payload.value()).isPresent()) {\n ObjectMapper objectMapper = new ObjectMapper();\n     FooDTO fooDto = objectMapper.readValue(payload.value(), new TypeReference&lt;FooDTO&gt;() \n{});\n...\n}\n}\n</code></pre>\n<p>The code below is the DTO:</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Valid\npublic class FooDTO {\n\n    //@NotNull\n    private String batchKey;\n\n    //@NotNull\n    private String type;\n\n    //@NotNull\n    private List&lt;String&gt; batchList;\n}\n</code></pre>\n"},{"tags":["java","maven","authentication","plugins","quarkus"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1691239003,"post_id":76810702,"comment_id":135466907,"body_markdown":"can you share a https://stackoverflow.com/help/minimal-reproducible-example","body":"can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":18251257,"reputation":53,"user_id":18974278,"display_name":"user18974278"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690885515,"creation_date":1690885515,"question_id":76810702,"body_markdown":"In Quarkus 2 there is an error with connecting Rest Clients. For each request to external API, I get a following error:\r\n\r\n&gt; &quot;REST api call failed, Error injecting\r\n&gt; gen.apis.project.external.v1.api.auth.CompositeAuthenticationProvider$OidcClientRequestFilterDelegateImpl0\r\n&gt; gen.apis.project.external.v1.api.auth.CompositeAuthenticationProvider.oidcClientRequestFilterDelegate0&quot;\r\n\r\nIn application.properties I have a following configuration: \r\n\r\n&gt; quarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.base-package=gen.apis.project.external.v1\r\n&gt; quarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.return-response=true\r\n&gt; quarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.client-headers-factory=none\r\n&gt; quarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.custom-register-providers=org.tkit.quarkus.rs.interceptor.TransferEncodingFilter\r\n\r\nDoes someone know what may cause it?","title":"Error injecting CompositeAuthenticationProvider in Quarkus","body":"<p>In Quarkus 2 there is an error with connecting Rest Clients. For each request to external API, I get a following error:</p>\n<blockquote>\n<p>&quot;REST api call failed, Error injecting\ngen.apis.project.external.v1.api.auth.CompositeAuthenticationProvider$OidcClientRequestFilterDelegateImpl0\ngen.apis.project.external.v1.api.auth.CompositeAuthenticationProvider.oidcClientRequestFilterDelegate0&quot;</p>\n</blockquote>\n<p>In application.properties I have a following configuration:</p>\n<blockquote>\n<p>quarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.base-package=gen.apis.project.external.v1\nquarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.return-response=true\nquarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.client-headers-factory=none\nquarkus.openapi-generator.codegen.spec.project_ext_v1_yaml.custom-register-providers=org.tkit.quarkus.rs.interceptor.TransferEncodingFilter</p>\n</blockquote>\n<p>Does someone know what may cause it?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1690885235,"post_id":76810569,"comment_id":135412286,"body_markdown":"`Map&lt;Long, EventConsumer &gt; map = new HashMap&lt;Long, EventConsumer &gt;() {@Override public void clear() {values().forEach(EventConsumer:: destroy);super.clear();}};`, however, I would change a design.","body":"<code>Map&lt;Long, EventConsumer &gt; map = new HashMap&lt;Long, EventConsumer &gt;() {@Override public void clear() {values().forEach(EventConsumer:: destroy);super.clear();}};</code>, however, I would change a design."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690885372,"post_id":76810569,"comment_id":135412315,"body_markdown":"Make the consumers beans or write a bean that implements `DisposableBean` inject the `Map` into it and when the `destroy` method is called will iterate over the `EventConsumer` values and call the `destroy` method on it.","body":"Make the consumers beans or write a bean that implements <code>DisposableBean</code> inject the <code>Map</code> into it and when the <code>destroy</code> method is called will iterate over the <code>EventConsumer</code> values and call the <code>destroy</code> method on it."}],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690885496,"creation_date":1690884448,"question_id":76810569,"body_markdown":"I have `@Configuration` class that creates `@Bean` which is `Map` that contains EventConsumers\r\n\r\n    //simplified code\r\n    @Bean\r\n    public Map&lt;Long, EventConsumer&gt; eventConsumerToIdMapping(@Value(&quot;${core.maxEventBatchSize}&quot;) int maxEventBatchSize) {\r\n        final Map&lt;Long, EventConsumer&gt; map = new HashMap&lt;&gt;();\r\n        for (Set&lt;Long&gt; ids : configs) {\r\n            final EventConsumer eventConsumer = createEventConsumer(maxEventBatchSize);\r\n            for (Long id : ids) {\r\n                map.put(id, eventConsumer);\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n\r\n    private EventConsumer createEventConsumer(int maxEventBatchSize, ThreadFactory threadFactory) {\r\n        final EventConsumer eventConsumer = new EventConsumer(maxEventBatchSize, threadFactory);\r\n        eventConsumer.initialize();\r\n        return eventConsumer;\r\n    }\r\n\r\n`EventConsumer` is custom class that have destroy method that releases internal resources\r\n\r\n    @PreDestroy\r\n    public void destroy() {...}\r\n\r\nrecently I found this code does not release resources during integration tests, my tests uses \r\n`@DirtiesContext(methodMode = DirtiesContext.MethodMode.BEFORE_METHOD, hierarchyMode = DirtiesContext.HierarchyMode.CURRENT_LEVEL)` \r\nand `@Configuration` is destroyed after each test as it should be, but it does not destroy EventConsumer&#39;s, and they stay in memory\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried adding `@Bean(destroyMethod = &quot;clear&quot;)` but it did not help\r\n\r\nwhat is a best aproach to force destroyiong those `EventConsumer` instances ?\r\n\r\n---\r\none posible solution is to collect those EventConsumer in list field in `Configuration` class and call destroy on elements of this list in `Configuration` `@PreDestroy` method, but i dont like this maybe there is a better solution\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wMpPu.png","title":"delegate bean destroy method","body":"<p>I have <code>@Configuration</code> class that creates <code>@Bean</code> which is <code>Map</code> that contains EventConsumers</p>\n<pre><code>//simplified code\n@Bean\npublic Map&lt;Long, EventConsumer&gt; eventConsumerToIdMapping(@Value(&quot;${core.maxEventBatchSize}&quot;) int maxEventBatchSize) {\n    final Map&lt;Long, EventConsumer&gt; map = new HashMap&lt;&gt;();\n    for (Set&lt;Long&gt; ids : configs) {\n        final EventConsumer eventConsumer = createEventConsumer(maxEventBatchSize);\n        for (Long id : ids) {\n            map.put(id, eventConsumer);\n        }\n    }\n    return map;\n}\n\nprivate EventConsumer createEventConsumer(int maxEventBatchSize, ThreadFactory threadFactory) {\n    final EventConsumer eventConsumer = new EventConsumer(maxEventBatchSize, threadFactory);\n    eventConsumer.initialize();\n    return eventConsumer;\n}\n</code></pre>\n<p><code>EventConsumer</code> is custom class that have destroy method that releases internal resources</p>\n<pre><code>@PreDestroy\npublic void destroy() {...}\n</code></pre>\n<p>recently I found this code does not release resources during integration tests, my tests uses\n<code>@DirtiesContext(methodMode = DirtiesContext.MethodMode.BEFORE_METHOD, hierarchyMode = DirtiesContext.HierarchyMode.CURRENT_LEVEL)</code>\nand <code>@Configuration</code> is destroyed after each test as it should be, but it does not destroy EventConsumer's, and they stay in memory</p>\n<p><a href=\"https://i.stack.imgur.com/wMpPu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMpPu.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried adding <code>@Bean(destroyMethod = &quot;clear&quot;)</code> but it did not help</p>\n<p>what is a best aproach to force destroyiong those <code>EventConsumer</code> instances ?</p>\n<hr />\n<p>one posible solution is to collect those EventConsumer in list field in <code>Configuration</code> class and call destroy on elements of this list in <code>Configuration</code> <code>@PreDestroy</code> method, but i dont like this maybe there is a better solution</p>\n"},{"tags":["java","spring-boot","elasticsearch","elastic-stack"],"answers":[{"tags":[],"owner":{"account_id":7101255,"reputation":35,"user_id":5432693,"display_name":"Parth Pancholi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690885203,"creation_date":1690885203,"answer_id":76810669,"question_id":76809586,"body_markdown":"Based on above code i can see you are doing a must match even when you want to get the search based on file names.\r\n\r\nYou can use match_phrase_prefix type of query if you want to bring in the file that are starting with &quot;WAIT_EXP*&quot; &amp; &quot;EXP*&quot;\r\n\r\nReference: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase-prefix.html","title":"Elasticsearch BoolQuery Gets Different Files","body":"<p>Based on above code i can see you are doing a must match even when you want to get the search based on file names.</p>\n<p>You can use match_phrase_prefix type of query if you want to bring in the file that are starting with &quot;WAIT_EXP*&quot; &amp; &quot;EXP*&quot;</p>\n<p>Reference: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase-prefix.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase-prefix.html</a></p>\n"}],"owner":{"account_id":29074702,"reputation":1,"user_id":22272176,"display_name":"Levent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690885203,"creation_date":1690876757,"question_id":76809586,"body_markdown":"hi i am trying to do a search where i can find specific files using elastic search. This is my java client:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI prepared a query as follows:\r\n\r\n```\r\nprivate static Query getQueryByStatus() {\r\n        BoolQuery boolQuery = BoolQuery.of(b -&gt; b\r\n            .should(qb -&gt; qb.match(m -&gt; m.field(&quot;fileType&quot;).query(&quot;WAIT_EXP&quot;)))\r\n            .should(qb -&gt; qb.match(m -&gt; m.field(&quot;fileType&quot;).query(&quot;EXP&quot;)))\r\n        );\r\n\r\n        return boolQuery._toQuery();\r\n    }\r\n```\r\n\r\n\r\n```\r\nQuery testQuery = getQueryByStatus();\r\n\r\n                        response = client.search(s -&gt; s\r\n                                .index(fileIndex)\r\n                                .from(filterDto.getPage() * filterDto.getSize())\r\n                                .size(filterDto.getSize())\r\n                                .query(q -&gt; q\r\n                                    .bool(b -&gt; b\r\n                                        .must(matchCompany)\r\n                                        .must(matchByWords)\r\n                                        .should(testQuery) \r\n                                    )\r\n                                ),\r\n                            SearchData.class\r\n                        );\r\n```\r\nMy expectation here is that it finds files with filetype exp or wait_exp, but elastic brings them as well as unrelated files. Unfortunately, I could not see any clear explanation on the subject in the client&#39;s [document](https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/searching.html) I used.\r\n","title":"Elasticsearch BoolQuery Gets Different Files","body":"<p>hi i am trying to do a search where i can find specific files using elastic search. This is my java client:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n            &lt;version&gt;8.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I prepared a query as follows:</p>\n<pre><code>private static Query getQueryByStatus() {\n        BoolQuery boolQuery = BoolQuery.of(b -&gt; b\n            .should(qb -&gt; qb.match(m -&gt; m.field(&quot;fileType&quot;).query(&quot;WAIT_EXP&quot;)))\n            .should(qb -&gt; qb.match(m -&gt; m.field(&quot;fileType&quot;).query(&quot;EXP&quot;)))\n        );\n\n        return boolQuery._toQuery();\n    }\n</code></pre>\n<pre><code>Query testQuery = getQueryByStatus();\n\n                        response = client.search(s -&gt; s\n                                .index(fileIndex)\n                                .from(filterDto.getPage() * filterDto.getSize())\n                                .size(filterDto.getSize())\n                                .query(q -&gt; q\n                                    .bool(b -&gt; b\n                                        .must(matchCompany)\n                                        .must(matchByWords)\n                                        .should(testQuery) \n                                    )\n                                ),\n                            SearchData.class\n                        );\n</code></pre>\n<p>My expectation here is that it finds files with filetype exp or wait_exp, but elastic brings them as well as unrelated files. Unfortunately, I could not see any clear explanation on the subject in the client's <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/searching.html\" rel=\"nofollow noreferrer\">document</a> I used.</p>\n"},{"tags":["java","authentication","email","office365","jakarta-mail"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690546848,"post_id":76787574,"comment_id":135372699,"body_markdown":"You added a tag [tag: jakarta-mail], but used a `javax.mail`. Do you know the differences of java ee versions?","body":"You added a tag [tag: jakarta-mail], but used a <code>javax.mail</code>. Do you know the differences of java ee versions?"},{"owner":{"account_id":5640151,"reputation":1071,"user_id":4464283,"display_name":"Markus Moltke"},"score":0,"creation_date":1690549332,"post_id":76787574,"comment_id":135373220,"body_markdown":"Yes I do, however I could not find a tag for javax.mail and just thought that it was changed to jakarta-mail","body":"Yes I do, however I could not find a tag for javax.mail and just thought that it was changed to jakarta-mail"}],"answers":[{"tags":[],"owner":{"account_id":194657,"reputation":48152,"user_id":1603351,"display_name":"Eugene Astafiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690577221,"creation_date":1690577221,"answer_id":76790946,"question_id":76787574,"body_markdown":"That is a widely-spread issue with a legacy authentication used, you could find a lot of posts around that problem. There are a few things you should check:\r\n\r\n - Use Exchange Online PowerShell to verify that authenticated SMTP submission (also known as `SMTP AUTH`) is enabled on the licensed mailbox that the application is using to connect to Microsoft 365 or Office 365.\r\n\r\n - Disable Multi-Factor Authentication (MFA) on the licensed mailbox that&#39;s being used:\r\n\r\n   1. In the Microsoft 365 admin center, in the left navigation menu, choose Users &gt; Active users.\r\n   2. On the Active users page, choose Multi-Factor Authentication.\r\n   3. On the multi-factor authentication page, select the user and disable the Multi-Factor Authentication status.\r\n\r\n - Disable the Azure Security Defaults by toggling the Enable Security Defaults to No:\r\n   \r\n   1. Sign in to the Azure portal as a Security administrator, Conditional Access administrator, or Global administrator.\r\n   2. Browse to Azure Active Directory &gt; Properties.\r\n   3. Select Manage security defaults.\r\n   4. Set the Enable security defaults toggle to No.\r\n   5. Select Save.\r\n\r\n - Exclude the user from a Conditional Access policy that blocks Legacy Authentication:\r\n   \r\n    1. Sign in to the Azure portal as a Security administrator, Conditional Access administrator, or Global administrator.\r\n    2. Browse to Azure Active Directory &gt; Security &gt; Conditional Access.\r\n    3. In the policy that blocks Legacy Authentication, exclude the mailbox being used under Users and Groups &gt; Exclude.\r\n    4. Select Save.\r\n\r\nThese settings would block `Legacy Authentication`. See [Error: Authentication unsuccessful][1] for more information. \r\n \r\n\r\n  [1]: https://learn.microsoft.com/en-us/exchange/troubleshoot/email-delivery/fix-issues-with-printers-scanners-and-lob-applications-that-send-email-using-off#error-authentication-unsuccessful","title":"Outlook Javax.mail 535 5.7.139 Authentication unsuccessful, the request did not meet the criteria to be authenticated successfully","body":"<p>That is a widely-spread issue with a legacy authentication used, you could find a lot of posts around that problem. There are a few things you should check:</p>\n<ul>\n<li><p>Use Exchange Online PowerShell to verify that authenticated SMTP submission (also known as <code>SMTP AUTH</code>) is enabled on the licensed mailbox that the application is using to connect to Microsoft 365 or Office 365.</p>\n</li>\n<li><p>Disable Multi-Factor Authentication (MFA) on the licensed mailbox that's being used:</p>\n<ol>\n<li>In the Microsoft 365 admin center, in the left navigation menu, choose Users &gt; Active users.</li>\n<li>On the Active users page, choose Multi-Factor Authentication.</li>\n<li>On the multi-factor authentication page, select the user and disable the Multi-Factor Authentication status.</li>\n</ol>\n</li>\n<li><p>Disable the Azure Security Defaults by toggling the Enable Security Defaults to No:</p>\n<ol>\n<li>Sign in to the Azure portal as a Security administrator, Conditional Access administrator, or Global administrator.</li>\n<li>Browse to Azure Active Directory &gt; Properties.</li>\n<li>Select Manage security defaults.</li>\n<li>Set the Enable security defaults toggle to No.</li>\n<li>Select Save.</li>\n</ol>\n</li>\n<li><p>Exclude the user from a Conditional Access policy that blocks Legacy Authentication:</p>\n<ol>\n<li>Sign in to the Azure portal as a Security administrator, Conditional Access administrator, or Global administrator.</li>\n<li>Browse to Azure Active Directory &gt; Security &gt; Conditional Access.</li>\n<li>In the policy that blocks Legacy Authentication, exclude the mailbox being used under Users and Groups &gt; Exclude.</li>\n<li>Select Save.</li>\n</ol>\n</li>\n</ul>\n<p>These settings would block <code>Legacy Authentication</code>. See <a href=\"https://learn.microsoft.com/en-us/exchange/troubleshoot/email-delivery/fix-issues-with-printers-scanners-and-lob-applications-that-send-email-using-off#error-authentication-unsuccessful\" rel=\"nofollow noreferrer\">Error: Authentication unsuccessful</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":5640151,"reputation":1071,"user_id":4464283,"display_name":"Markus Moltke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690885136,"creation_date":1690885136,"answer_id":76810659,"question_id":76787574,"body_markdown":"I figured out what was causing the problem. The problem was not caused by MFA or anything like that. It was instead caused by the `accessToken` not having the correct permissions configured.\r\n\r\nThe way I fixed it was going to the App Registrations -&gt; API Permissions.\r\nAfter this, the application needed the `SMTP.SendAsApp` permission. I had previously added the `Mail.Send` permission. However this was not enough. It should also be mentioned that it needs to be under the `Office 365 Exchange Online` category.\r\n\r\nThe way I located the problem:\r\nIf anyone else stumbles upon this problem, I would recommend taking the oauth access token and putting it into a website like [jwt.io][1]. Here it is possible to see the scopes of the token amongst other things. This helped me see the missing permission.\r\n\r\n\r\n  [1]: https://jwt.io","title":"Outlook Javax.mail 535 5.7.139 Authentication unsuccessful, the request did not meet the criteria to be authenticated successfully","body":"<p>I figured out what was causing the problem. The problem was not caused by MFA or anything like that. It was instead caused by the <code>accessToken</code> not having the correct permissions configured.</p>\n<p>The way I fixed it was going to the App Registrations -&gt; API Permissions.\nAfter this, the application needed the <code>SMTP.SendAsApp</code> permission. I had previously added the <code>Mail.Send</code> permission. However this was not enough. It should also be mentioned that it needs to be under the <code>Office 365 Exchange Online</code> category.</p>\n<p>The way I located the problem:\nIf anyone else stumbles upon this problem, I would recommend taking the oauth access token and putting it into a website like <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a>. Here it is possible to see the scopes of the token amongst other things. This helped me see the missing permission.</p>\n"}],"owner":{"account_id":5640151,"reputation":1071,"user_id":4464283,"display_name":"Markus Moltke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76810659,"answer_count":2,"score":-1,"last_activity_date":1690885136,"creation_date":1690545301,"question_id":76787574,"body_markdown":"I am trying to send an email using `jakarta.mail 2.0.1`. \r\nThe below mentioned error has started occurring recently. I am not sure what is causing it, but I suspect that it might have something to do with Outlook 365 and the SMTP settings.\r\nI am however getting the following error when trying to do so:\r\n\r\n```\r\n2023-07-28T00:36:08.077359363Z javax.mail.AuthenticationFailedException: 535 5.7.139 Authentication unsuccessful, the request did not meet the criteria to be authenticated successfully. Contact your administrator. [xxxxx 2023-07-28T00:36:07.942Z xxxxx]\r\n2023-07-28T00:36:08.077401363Z \r\n2023-07-28T00:36:08.077407063Z \tat com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\r\n2023-07-28T00:36:08.077411063Z \tat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\r\n2023-07-28T00:36:08.077414563Z \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\r\n2023-07-28T00:36:08.077417963Z \tat javax.mail.Service.connect(Service.java:342)\r\n2023-07-28T00:36:08.077427964Z \tat javax.mail.Service.connect(Service.java:222)\r\n2023-07-28T00:36:08.077431564Z \tat javax.mail.Service.connect(Service.java:243)\r\n2023-07-28T00:36:08.077434864Z \tat javax.mail.Transport.send0(Transport.java:228)\r\n2023-07-28T00:36:08.077456364Z \tat javax.mail.Transport.send(Transport.java:150)\r\n2023-07-28T00:36:08.077459864Z \tat com.nomnom.communicationserver.communication.SMTPHelper.sendEmail(SMTPHelper.java:324)\r\n2023-07-28T00:36:08.081170884Z \tat com.nomnom.communicationserver.servlet.SenderServlet.doPost(SenderServlet.java:191)\r\n```\r\n\r\nThe program has earlier worked, however it recently started giving me the above error.\r\n\r\nMy configuration for setting up the Transporter is as follows:\r\n\r\n```java\r\nProperties smtpProps = new Properties();\r\n\r\n// SMTP\r\nsmtpProps.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\nsmtpProps.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\nsmtpProps.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\nsmtpProps.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);\r\nsmtpProps.put(&quot;mail.smtp.port&quot;, &quot;587&quot;); // required for outlook\r\n      \r\nsmtpSession = Session.getInstance(smtpProps);\r\nsmtpSession.setDebug(true);\r\ntransport = (SMTPTransport) smtpSession.getTransport(&quot;smtp&quot;);\r\n```\r\n\r\nIn addition to this, here is the code that I use to send the request:\r\n\r\n```java\r\n\r\nprivate static String acquireToken() throws Exception {\r\n  ConfidentialClientApplication app = ConfidentialClientApplication.builder(\r\n        dotenv.get(&quot;CLIENT_ID&quot;),\r\n        ClientCredentialFactory.createFromSecret(dotenv.get(&quot;CLIENT_SECRET&quot;)))\r\n          .authority(dotenv.get(&quot;CLIENT_AUTHORITY&quot;))\r\n          .build();   \r\n  \r\n  ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\r\n          Collections.singleton(scope))\r\n          .build();\r\n  \r\n  CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\r\n  IAuthenticationResult result = future.get();\r\n  return result.accessToken();\r\n}\r\n\r\npublic void sendEmail(String destination) throws Exception {\r\n  MimeMessage message = new MimeMessage(session);\r\n\r\n  // [...]\r\n\r\n  // Connect if not already connected\r\n  if (!transport.isConnected()) {\r\n    String accessToken = acquireToken();\r\n    transport.connect(&quot;smtp.office365.com&quot;, dotenv.get(&quot;MAIL_USERNAME&quot;), accessToken);\r\n  }\r\n\r\n  transport.sendMessage(message, message.getAllRecipients());\r\n}\r\n```\r\n\r\nThings I have tried:\r\n\r\n- I have tried using username &amp; password, with same error\r\n- I have ensured that the username and password was correct in this case.\r\n- I have enabled SMTP Auth in the admin panel aswell.\r\n\r\nI am for some reason unable to create an App Password for the email. It should also be mentioned that the email is a work account and that it is an Outlook email. I have noticed that others have experienced similar problems with their Outlook personal accounts. However I have not seen the error mentioned with a solution for work accounts.\r\n\r\nIf any more information is needed, please feel free to request it :)\r\n","title":"Outlook Javax.mail 535 5.7.139 Authentication unsuccessful, the request did not meet the criteria to be authenticated successfully","body":"<p>I am trying to send an email using <code>jakarta.mail 2.0.1</code>.\nThe below mentioned error has started occurring recently. I am not sure what is causing it, but I suspect that it might have something to do with Outlook 365 and the SMTP settings.\nI am however getting the following error when trying to do so:</p>\n<pre><code>2023-07-28T00:36:08.077359363Z javax.mail.AuthenticationFailedException: 535 5.7.139 Authentication unsuccessful, the request did not meet the criteria to be authenticated successfully. Contact your administrator. [xxxxx 2023-07-28T00:36:07.942Z xxxxx]\n2023-07-28T00:36:08.077401363Z \n2023-07-28T00:36:08.077407063Z  at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\n2023-07-28T00:36:08.077411063Z  at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\n2023-07-28T00:36:08.077414563Z  at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\n2023-07-28T00:36:08.077417963Z  at javax.mail.Service.connect(Service.java:342)\n2023-07-28T00:36:08.077427964Z  at javax.mail.Service.connect(Service.java:222)\n2023-07-28T00:36:08.077431564Z  at javax.mail.Service.connect(Service.java:243)\n2023-07-28T00:36:08.077434864Z  at javax.mail.Transport.send0(Transport.java:228)\n2023-07-28T00:36:08.077456364Z  at javax.mail.Transport.send(Transport.java:150)\n2023-07-28T00:36:08.077459864Z  at com.nomnom.communicationserver.communication.SMTPHelper.sendEmail(SMTPHelper.java:324)\n2023-07-28T00:36:08.081170884Z  at com.nomnom.communicationserver.servlet.SenderServlet.doPost(SenderServlet.java:191)\n</code></pre>\n<p>The program has earlier worked, however it recently started giving me the above error.</p>\n<p>My configuration for setting up the Transporter is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties smtpProps = new Properties();\n\n// SMTP\nsmtpProps.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nsmtpProps.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nsmtpProps.put(&quot;mail.smtp.auth.mechanisms&quot;, &quot;XOAUTH2&quot;);\nsmtpProps.put(&quot;mail.smtp.host&quot;, &quot;smtp.office365.com&quot;);\nsmtpProps.put(&quot;mail.smtp.port&quot;, &quot;587&quot;); // required for outlook\n      \nsmtpSession = Session.getInstance(smtpProps);\nsmtpSession.setDebug(true);\ntransport = (SMTPTransport) smtpSession.getTransport(&quot;smtp&quot;);\n</code></pre>\n<p>In addition to this, here is the code that I use to send the request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate static String acquireToken() throws Exception {\n  ConfidentialClientApplication app = ConfidentialClientApplication.builder(\n        dotenv.get(&quot;CLIENT_ID&quot;),\n        ClientCredentialFactory.createFromSecret(dotenv.get(&quot;CLIENT_SECRET&quot;)))\n          .authority(dotenv.get(&quot;CLIENT_AUTHORITY&quot;))\n          .build();   \n  \n  ClientCredentialParameters clientCredentialParam = ClientCredentialParameters.builder(\n          Collections.singleton(scope))\n          .build();\n  \n  CompletableFuture&lt;IAuthenticationResult&gt; future = app.acquireToken(clientCredentialParam);\n  IAuthenticationResult result = future.get();\n  return result.accessToken();\n}\n\npublic void sendEmail(String destination) throws Exception {\n  MimeMessage message = new MimeMessage(session);\n\n  // [...]\n\n  // Connect if not already connected\n  if (!transport.isConnected()) {\n    String accessToken = acquireToken();\n    transport.connect(&quot;smtp.office365.com&quot;, dotenv.get(&quot;MAIL_USERNAME&quot;), accessToken);\n  }\n\n  transport.sendMessage(message, message.getAllRecipients());\n}\n</code></pre>\n<p>Things I have tried:</p>\n<ul>\n<li>I have tried using username &amp; password, with same error</li>\n<li>I have ensured that the username and password was correct in this case.</li>\n<li>I have enabled SMTP Auth in the admin panel aswell.</li>\n</ul>\n<p>I am for some reason unable to create an App Password for the email. It should also be mentioned that the email is a work account and that it is an Outlook email. I have noticed that others have experienced similar problems with their Outlook personal accounts. However I have not seen the error mentioned with a solution for work accounts.</p>\n<p>If any more information is needed, please feel free to request it :)</p>\n"},{"tags":["java","azure","kotlin","onedrive"],"owner":{"account_id":7174689,"reputation":822,"user_id":5481069,"display_name":"Psijic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690884714,"creation_date":1690884714,"question_id":76810602,"body_markdown":"I need to upload and download files to OneDrive with silent authorization (no web pages UI to be used). I created a secret key for it in the account cabinet and wrote some code I could find:\r\n\r\n        fun getGraphClient(): GraphServiceClient&lt;Request&gt; {\r\n            val clientId = &quot;$clientId&quot;\r\n    //        val tenantId = &quot;$myId&quot; // or &quot;common&quot; for multi-tenant apps\r\n            val clientSecret = &quot;$clientSecret&quot;\r\n            val scopes = listOf(&quot;User.Read&quot;, &quot;Files.ReadWrite&quot;)\r\n    \r\n            val credential = ClientSecretCredentialBuilder()\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .tenantId(tenantId)\r\n                .build()\r\n    \r\n            val authProvider = TokenCredentialAuthProvider(scopes, credential)\r\n            val logger = DefaultLogger().apply { loggingLevel = LoggerLevel.DEBUG }\r\n    \r\n            return GraphServiceClient\r\n                .builder()\r\n                .authenticationProvider(authProvider)\r\n                .logger(logger)\r\n                .buildClient()\r\n        }\r\n    \r\n        fun send() {\r\n            // Authentication\r\n            val graphClient = getGraphClient()\r\n    \r\n            // Upload file\r\n            val uploadFile = File(&quot;images/img1.webp&quot;)\r\n            val driveItem = DriveItem()\r\n            driveItem.name = uploadFile.name\r\n    //        driveItem.file = File()\r\n    \r\n            val uploadResult = graphClient.me().drive().root().children().buildRequest().post(driveItem)\r\n            println(&quot;uploadResult:&quot; + uploadResult.id)\r\n    \r\n            // Download file\r\n            val downloadResult = uploadResult.id?.let {\r\n                graphClient.me().drive().items(it).buildRequest().get()\r\n            }\r\n    \r\n            val fileContents = downloadResult?.file\r\n            println(&quot;downloadResult:&quot; + fileContents?.hashes)\r\n        }\r\n\r\n    @Test\r\n    fun msSend() {\r\n        client.send()\r\n    }\r\n\r\nBut I&#39;m getting the non-informative error:\r\n\r\n    com.microsoft.graph.core.ClientException: Error executing the request\r\n    \tat app//com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:410)\r\n    \tat app//com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\r\n    \tat app//com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\r\n    \tat app//com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\r\n    \tat app//com.microsoft.graph.requests.DriveItemRequest.post(DriveItemRequest.java:131)\r\n\r\nSo, how to auth and send requests properly?","title":"Upload and download files to MS OneDrive","body":"<p>I need to upload and download files to OneDrive with silent authorization (no web pages UI to be used). I created a secret key for it in the account cabinet and wrote some code I could find:</p>\n<pre><code>    fun getGraphClient(): GraphServiceClient&lt;Request&gt; {\n        val clientId = &quot;$clientId&quot;\n//        val tenantId = &quot;$myId&quot; // or &quot;common&quot; for multi-tenant apps\n        val clientSecret = &quot;$clientSecret&quot;\n        val scopes = listOf(&quot;User.Read&quot;, &quot;Files.ReadWrite&quot;)\n\n        val credential = ClientSecretCredentialBuilder()\n            .clientId(clientId)\n            .clientSecret(clientSecret)\n            .tenantId(tenantId)\n            .build()\n\n        val authProvider = TokenCredentialAuthProvider(scopes, credential)\n        val logger = DefaultLogger().apply { loggingLevel = LoggerLevel.DEBUG }\n\n        return GraphServiceClient\n            .builder()\n            .authenticationProvider(authProvider)\n            .logger(logger)\n            .buildClient()\n    }\n\n    fun send() {\n        // Authentication\n        val graphClient = getGraphClient()\n\n        // Upload file\n        val uploadFile = File(&quot;images/img1.webp&quot;)\n        val driveItem = DriveItem()\n        driveItem.name = uploadFile.name\n//        driveItem.file = File()\n\n        val uploadResult = graphClient.me().drive().root().children().buildRequest().post(driveItem)\n        println(&quot;uploadResult:&quot; + uploadResult.id)\n\n        // Download file\n        val downloadResult = uploadResult.id?.let {\n            graphClient.me().drive().items(it).buildRequest().get()\n        }\n\n        val fileContents = downloadResult?.file\n        println(&quot;downloadResult:&quot; + fileContents?.hashes)\n    }\n\n@Test\nfun msSend() {\n    client.send()\n}\n</code></pre>\n<p>But I'm getting the non-informative error:</p>\n<pre><code>com.microsoft.graph.core.ClientException: Error executing the request\n    at app//com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:410)\n    at app//com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\n    at app//com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\n    at app//com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\n    at app//com.microsoft.graph.requests.DriveItemRequest.post(DriveItemRequest.java:131)\n</code></pre>\n<p>So, how to auth and send requests properly?</p>\n"},{"tags":["java","macos","corretto"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1657257482,"post_id":72906910,"comment_id":128772479,"body_markdown":"Usually, `menubar &gt; about this mac` should show you everything needed","body":"Usually, <code>menubar &gt; about this mac</code> should show you everything needed"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657257497,"post_id":72906910,"comment_id":128772483,"body_markdown":"You need to provide more information on your device. &quot;macOSaarch64&quot; is an Arm processor, whereas &quot;macOSx64&quot; will be an intel processor","body":"You need to provide more information on your device. &quot;macOSaarch64&quot; is an Arm processor, whereas &quot;macOSx64&quot; will be an intel processor"},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1657258699,"post_id":72906910,"comment_id":128772695,"body_markdown":"Did you try to google this?","body":"Did you try to google this?"},{"owner":{"account_id":11689395,"reputation":563,"user_id":8558174,"display_name":"Ivone Djaja"},"score":0,"creation_date":1657259995,"post_id":72906910,"comment_id":128772916,"body_markdown":"I did, but I do not find a clear answer.","body":"I did, but I do not find a clear answer."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1657258377,"creation_date":1657257680,"answer_id":72906979,"question_id":72906910,"body_markdown":"# *About This Mac*\r\n\r\n 1. From the Apple icon menu, choose `About This Mac`. \r\n 2. Look for the item `Chip`. \r\n\r\n - If that item says `M1` or `M2`, then you have a Mac with [Apple Silicon][1] based on the ARM architecture. Download your `macOSaarch64` option.\r\n - If that item says `Intel`, then you have the [x64][2] chip architecture. Download your `macOSx64` option.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apple_silicon#M_series\r\n  [2]: https://en.wikipedia.org/wiki/X86-64","title":"How to know if mac platform is macOSx64 or macOSaarch64","body":"<h1><em>About This Mac</em></h1>\n<ol>\n<li>From the Apple icon menu, choose <code>About This Mac</code>.</li>\n<li>Look for the item <code>Chip</code>.</li>\n</ol>\n<ul>\n<li>If that item says <code>M1</code> or <code>M2</code>, then you have a Mac with <a href=\"https://en.wikipedia.org/wiki/Apple_silicon#M_series\" rel=\"noreferrer\">Apple Silicon</a> based on the ARM architecture. Download your <code>macOSaarch64</code> option.</li>\n<li>If that item says <code>Intel</code>, then you have the <a href=\"https://en.wikipedia.org/wiki/X86-64\" rel=\"noreferrer\">x64</a> chip architecture. Download your <code>macOSx64</code> option.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6566536,"reputation":334,"user_id":5075953,"display_name":"Lisa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690884200,"creation_date":1657257774,"answer_id":72906986,"question_id":72906910,"body_markdown":"If your computer is one of the new M1 or M2 chip computers, then you would use macOSaarch64.\r\n\r\nIf your computer is an older Intel chip computer, then you would use macOSx64.\r\n\r\nYou can tell which you have by going to **Apple** menu and then selecting &#39;**About This Mac**&#39; and Look for &#39;**Processor**&#39; or &#39;**Chip**&#39; in the About This Mac window.","title":"How to know if mac platform is macOSx64 or macOSaarch64","body":"<p>If your computer is one of the new M1 or M2 chip computers, then you would use macOSaarch64.</p>\n<p>If your computer is an older Intel chip computer, then you would use macOSx64.</p>\n<p>You can tell which you have by going to <strong>Apple</strong> menu and then selecting '<strong>About This Mac</strong>' and Look for '<strong>Processor</strong>' or '<strong>Chip</strong>' in the About This Mac window.</p>\n"}],"owner":{"account_id":11689395,"reputation":563,"user_id":8558174,"display_name":"Ivone Djaja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6485,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":72906979,"answer_count":2,"score":2,"last_activity_date":1690884200,"creation_date":1657257068,"question_id":72906910,"body_markdown":"I am trying to download JDK from Amazon Corretto https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html. There are 2 download links for macOS (macOSx64 or macOSaarch64) but I am not sure which one should be downloaded. I am using macOS Monterey Version 12.0.1","title":"How to know if mac platform is macOSx64 or macOSaarch64","body":"<p>I am trying to download JDK from Amazon Corretto <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html</a>. There are 2 download links for macOS (macOSx64 or macOSaarch64) but I am not sure which one should be downloaded. I am using macOS Monterey Version 12.0.1</p>\n"},{"tags":["java","mockito","junit4","mongodb-java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1529670768,"post_id":50987954,"comment_id":88970537,"body_markdown":"Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a [mcve]. Use the [edit] link to improve your *question* - do not add more information via comments. Thanks!","body":"Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Use the <a href=\"https://stackoverflow.com/posts/50987954/edit\">edit</a> link to improve your <i>question</i> - do not add more information via comments. Thanks!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1529670893,"post_id":50987954,"comment_id":88970608,"body_markdown":"What is missing for example: the definition of `personDocumentRepo` in your test class. Where is that coming from? And what is the point of setting `findIterable()` to null? Also note: you don&#39;t understand what `when().thenReturn()` is doing. There is no point in passing `new Document()` for a mocking spec. Instead, you want to pass a matcher, like `when(any())` to indicate that you don&#39;t are what gets passed. But then: when you want to return null on any parameter, then you dont need a spec at all. Because that is what mockito does by default. Long story short:","body":"What is missing for example: the definition of <code>personDocumentRepo</code> in your test class. Where is that coming from? And what is the point of setting <code>findIterable()</code> to null? Also note: you don&#39;t understand what <code>when().thenReturn()</code> is doing. There is no point in passing <code>new Document()</code> for a mocking spec. Instead, you want to pass a matcher, like <code>when(any())</code> to indicate that you don&#39;t are what gets passed. But then: when you want to return null on any parameter, then you dont need a spec at all. Because that is what mockito does by default. Long story short:"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1529670947,"post_id":50987954,"comment_id":88970644,"body_markdown":"It seems that you intend to do really advanced things, without understand the basics of using Mockito. I seriously recommend that you first read a tutorial about basic mockito, so that you *understand* the code you are writing down. Instead of writing down something and *assuming* it does this or that.","body":"It seems that you intend to do really advanced things, without understand the basics of using Mockito. I seriously recommend that you first read a tutorial about basic mockito, so that you <i>understand</i> the code you are writing down. Instead of writing down something and <i>assuming</i> it does this or that."},{"owner":{"account_id":5134668,"reputation":679,"user_id":4113809,"accept_rate":50,"display_name":"Bharathiraja S"},"score":0,"creation_date":1529671575,"post_id":50987954,"comment_id":88971053,"body_markdown":"Oops, updated the question.","body":"Oops, updated the question."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1529697094,"post_id":50987954,"comment_id":88984073,"body_markdown":"Please don&#39;t use StringBuffer as it was replaced by StringBuilder in 2004.","body":"Please don&#39;t use StringBuffer as it was replaced by StringBuilder in 2004."},{"owner":{"account_id":1516166,"reputation":646,"user_id":1417125,"accept_rate":100,"display_name":"Paolo Biavati"},"score":0,"creation_date":1690873601,"post_id":50987954,"comment_id":135409983,"body_markdown":"These comments are a waste of time for who is trying to search a solution about this question.","body":"These comments are a waste of time for who is trying to search a solution about this question."}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529752421,"creation_date":1529671186,"answer_id":50988165,"question_id":50987954,"body_markdown":"You return `null` in `collection.find(...)` mocked invocation :\r\n\r\n    FindIterable&lt;Document&gt; findIterable = null;\r\n    Mockito.when(collection.find(new Document())).thenReturn(findIterable);\r\n\r\nSo the mock will return `null` at runtime. What you need is returning a `FindIterable&lt;Document&gt;` object that allows to execute the code to test associated to :\r\n\r\n    for (Document doc : cursorPersonDoc) {\r\n        emplinfo.setEmplFirstName(doc.getString(&quot;firstname&quot;));\r\n        emplinfo.setEmplLastName(doc.getString(&quot;lastname&quot;));\r\n        break;\r\n    }\r\n    return emplinfo;\r\n\r\nIn this way you can assert that the method does what it is designed to : \r\nsetting the first name and the last name from the retrieved `FindIterable&lt;Document&gt;`.   \r\n\r\nYou could use the `Mockito.mock()` method to mock `FindIterable&lt;Document&gt;` that is an [Iterable][1] (whereas the used `foreach`).  \r\nAdditionally, to not bother to mock individual methods of `Iterator` (`hasNext()`, `next()`) that could make you test less readable, use a `List` (that is also an `Iterable`) to populate the `Document`s and delegate the behavior of the mocked `FindIterable.iterator()` to `List.iterator()`.  \r\n\r\n    @Test\r\n    public void testGetMetaData() throws Exception {\r\n      ... \r\n      // add your document instances\r\n      final List&lt;Document&gt; documentsMocked = new ArrayList&lt;&gt;();\r\n      documentsMocked.add(new Document(...));\r\n      documentsMocked.add(new Document(...));\r\n\r\n      // mock FindIterable&lt;Document&gt;\r\n       FindIterable&lt;Document&gt; findIterableMocked = (FindIterable&lt;Document&gt;) Mockito.mock(FindIterable.class);\r\n\r\n      // mock the behavior of FindIterable.iterator() by delegating to List.iterator()\r\n      when(findIterableMocked.iterator()).thenReturn(documentsMocked.iterator());\r\n\r\n      // record a behavior for Collection.find()\r\n      Mockito.when(collection.find(dbObj)).thenReturn(findIterableMocked);\r\n     \r\n      // execute your method to test\r\n      EmplInfo actualEmplInfo = personDocumentRepo.getMetaData(...);\r\n\r\n      // assert that actualEmplInfo has the expected state\r\n      Assert(...);\r\n      \r\n    }\r\n\r\n\r\n\r\nI would add that such a mock will probably not work :\r\n\r\n    Mockito.when(collection.find(new Document())).thenReturn(findIterable);\r\n\r\nMockito will intercept and replace the behavior of the method invoked on the mock only if the arguments in the recording match (in terms of `equals()`) with the arguments passed at runtime by the tested method.  \r\nAt runtime, the argument is build in this way :\r\n\r\n    BasicDBObject whereClauseCondition = getMetaDataWhereClause(objectId);\r\n    EmplInfo emplinfo= new EmplInfo ();\r\n    emplinfo.set_id(objectId);\r\n\r\nSo the argument in the mock recording should be equal to which one defined above.   \r\nNote that if `equals()` is not overriden/overridable for the arguments classes, you have some workarounds such as :\r\n \r\n- passing the object as argument in the method to test (require some refactoring). In this case, Mocked argument and the referenced passed at runtime in the method to test are necessarily equal as these refer the same object\r\n\r\n- matching any object of given type with `Mockito.any(Class&lt;T&gt;)`. Often the simplest way but not the most robust\r\n\r\n- returning an [`Answer`][2] instead of the value to return.  That is using `Mockito.when(...).then(Answer)` instead of `Mockito.when(...).thenReturn(valuetoReturn)`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\r\n  [2]: https://static.javadoc.io/org.mockito/mockito-core/2.19.0/org/mockito/stubbing/Answer.html","title":"Mockito FindIterable&lt;Document&gt;","body":"<p>You return <code>null</code> in <code>collection.find(...)</code> mocked invocation :</p>\n\n<pre><code>FindIterable&lt;Document&gt; findIterable = null;\nMockito.when(collection.find(new Document())).thenReturn(findIterable);\n</code></pre>\n\n<p>So the mock will return <code>null</code> at runtime. What you need is returning a <code>FindIterable&lt;Document&gt;</code> object that allows to execute the code to test associated to :</p>\n\n<pre><code>for (Document doc : cursorPersonDoc) {\n    emplinfo.setEmplFirstName(doc.getString(\"firstname\"));\n    emplinfo.setEmplLastName(doc.getString(\"lastname\"));\n    break;\n}\nreturn emplinfo;\n</code></pre>\n\n<p>In this way you can assert that the method does what it is designed to : \nsetting the first name and the last name from the retrieved <code>FindIterable&lt;Document&gt;</code>.   </p>\n\n<p>You could use the <code>Mockito.mock()</code> method to mock <code>FindIterable&lt;Document&gt;</code> that is an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Iterable</a> (whereas the used <code>foreach</code>).<br>\nAdditionally, to not bother to mock individual methods of <code>Iterator</code> (<code>hasNext()</code>, <code>next()</code>) that could make you test less readable, use a <code>List</code> (that is also an <code>Iterable</code>) to populate the <code>Document</code>s and delegate the behavior of the mocked <code>FindIterable.iterator()</code> to <code>List.iterator()</code>.  </p>\n\n<pre><code>@Test\npublic void testGetMetaData() throws Exception {\n  ... \n  // add your document instances\n  final List&lt;Document&gt; documentsMocked = new ArrayList&lt;&gt;();\n  documentsMocked.add(new Document(...));\n  documentsMocked.add(new Document(...));\n\n  // mock FindIterable&lt;Document&gt;\n   FindIterable&lt;Document&gt; findIterableMocked = (FindIterable&lt;Document&gt;) Mockito.mock(FindIterable.class);\n\n  // mock the behavior of FindIterable.iterator() by delegating to List.iterator()\n  when(findIterableMocked.iterator()).thenReturn(documentsMocked.iterator());\n\n  // record a behavior for Collection.find()\n  Mockito.when(collection.find(dbObj)).thenReturn(findIterableMocked);\n\n  // execute your method to test\n  EmplInfo actualEmplInfo = personDocumentRepo.getMetaData(...);\n\n  // assert that actualEmplInfo has the expected state\n  Assert(...);\n\n}\n</code></pre>\n\n<p>I would add that such a mock will probably not work :</p>\n\n<pre><code>Mockito.when(collection.find(new Document())).thenReturn(findIterable);\n</code></pre>\n\n<p>Mockito will intercept and replace the behavior of the method invoked on the mock only if the arguments in the recording match (in terms of <code>equals()</code>) with the arguments passed at runtime by the tested method.<br>\nAt runtime, the argument is build in this way :</p>\n\n<pre><code>BasicDBObject whereClauseCondition = getMetaDataWhereClause(objectId);\nEmplInfo emplinfo= new EmplInfo ();\nemplinfo.set_id(objectId);\n</code></pre>\n\n<p>So the argument in the mock recording should be equal to which one defined above.<br>\nNote that if <code>equals()</code> is not overriden/overridable for the arguments classes, you have some workarounds such as :</p>\n\n<ul>\n<li><p>passing the object as argument in the method to test (require some refactoring). In this case, Mocked argument and the referenced passed at runtime in the method to test are necessarily equal as these refer the same object</p></li>\n<li><p>matching any object of given type with <code>Mockito.any(Class&lt;T&gt;)</code>. Often the simplest way but not the most robust</p></li>\n<li><p>returning an <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.19.0/org/mockito/stubbing/Answer.html\" rel=\"nofollow noreferrer\"><code>Answer</code></a> instead of the value to return.  That is using <code>Mockito.when(...).then(Answer)</code> instead of <code>Mockito.when(...).thenReturn(valuetoReturn)</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1550662754,"creation_date":1529671885,"answer_id":50988354,"question_id":50987954,"body_markdown":"As you have rightly pointed out, you are getting NPE because FindIterable is null. You need to mock it.   \r\nMocking it is not so straightforward, since it uses `MongoCursor`(this in turn extend `Iterator`), you need to mock certain methods which are used internally.  \r\n\r\n\r\nWhile traversing certain methods of the Iter\r\n\r\nI believe you have to do something like this.  \r\n\r\n    FindIterable iterable = mock(FindIterable.class);\r\n    MongoCursor cursor = mock(MongoCursor.class);\r\n\r\n    Document doc1= //create dummy document;\r\n    Document doc2= //create dummy document;\r\n\r\n    when(collection.find(dbObj)).thenReturn(iterable);\r\n\r\n    when(iterable.iterator()).thenReturn(cursor);\r\n    when(cursor.hasNext()) \r\n      .thenReturn(true)\r\n      .thenReturn(true)// do this as many times as you want your loop to traverse\r\n     .thenReturn(false); // Make sure you return false at the end.\r\n    when(cursor.next())\r\n      .thenReturn(doc1)\r\n      .thenReturn(doc2); \r\n\r\nThis is not a complete solution. You need to adapt it to your class.","title":"Mockito FindIterable&lt;Document&gt;","body":"<p>As you have rightly pointed out, you are getting NPE because FindIterable is null. You need to mock it.<br>\nMocking it is not so straightforward, since it uses <code>MongoCursor</code>(this in turn extend <code>Iterator</code>), you need to mock certain methods which are used internally.  </p>\n\n<p>While traversing certain methods of the Iter</p>\n\n<p>I believe you have to do something like this.  </p>\n\n<pre><code>FindIterable iterable = mock(FindIterable.class);\nMongoCursor cursor = mock(MongoCursor.class);\n\nDocument doc1= //create dummy document;\nDocument doc2= //create dummy document;\n\nwhen(collection.find(dbObj)).thenReturn(iterable);\n\nwhen(iterable.iterator()).thenReturn(cursor);\nwhen(cursor.hasNext()) \n  .thenReturn(true)\n  .thenReturn(true)// do this as many times as you want your loop to traverse\n .thenReturn(false); // Make sure you return false at the end.\nwhen(cursor.next())\n  .thenReturn(doc1)\n  .thenReturn(doc2); \n</code></pre>\n\n<p>This is not a complete solution. You need to adapt it to your class.</p>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580141981,"creation_date":1580141981,"answer_id":59935018,"question_id":50987954,"body_markdown":"I would like to complete `pvpkiran` answer with a kind of genric method to mock a `DistinctIterable` (same as `FindIterable`).\r\n\r\nNB/ in order to avoid sonar warning, I use inner class\r\n\r\n```\r\n\r\n    private DistinctIterable&lt;String&gt; mockDistinctIterableString(List&lt;String&gt; resultList) {\r\n        DistinctIterable&lt;String&gt; iterable = mock(DistinctIterableString.class);\r\n        MongoCursor cursor = mock(MongoCursor.class);\r\n        doReturn(cursor)\r\n                .when(iterable).iterator();\r\n        OngoingStubbing&lt;Boolean&gt; whenHasNext = when(cursor.hasNext());\r\n        for (String resultEntry : resultList) {\r\n            whenHasNext = whenHasNext.thenReturn(true);\r\n        }\r\n        whenHasNext.thenReturn(false);\r\n        if (CollectionUtils.isEmpty(resultList)) {\r\n            return iterable;\r\n        }\r\n        OngoingStubbing&lt;Object&gt; whenNext = when(cursor.next());\r\n        for (String resultEntry : resultList) {\r\n            whenNext = whenNext.thenReturn(resultEntry);\r\n        }\r\n        return iterable;\r\n    }\r\n\r\n    public interface DistinctIterableString extends com.mongodb.client.DistinctIterable&lt;String&gt; {\r\n    }\r\n```\r\n\r\nuse:\r\n```\r\n        doReturn(mockDistinctIterableString(asList(\r\n                &quot;entry1&quot;,\r\n                &quot;entry2&quot;,\r\n                &quot;lastEntry&quot;\r\n        )))\r\n        .when(myRepository)\r\n        .myMongoDistinctQuery();\r\n```","title":"Mockito FindIterable&lt;Document&gt;","body":"<p>I would like to complete <code>pvpkiran</code> answer with a kind of genric method to mock a <code>DistinctIterable</code> (same as <code>FindIterable</code>).</p>\n\n<p>NB/ in order to avoid sonar warning, I use inner class</p>\n\n<pre><code>\n    private DistinctIterable&lt;String&gt; mockDistinctIterableString(List&lt;String&gt; resultList) {\n        DistinctIterable&lt;String&gt; iterable = mock(DistinctIterableString.class);\n        MongoCursor cursor = mock(MongoCursor.class);\n        doReturn(cursor)\n                .when(iterable).iterator();\n        OngoingStubbing&lt;Boolean&gt; whenHasNext = when(cursor.hasNext());\n        for (String resultEntry : resultList) {\n            whenHasNext = whenHasNext.thenReturn(true);\n        }\n        whenHasNext.thenReturn(false);\n        if (CollectionUtils.isEmpty(resultList)) {\n            return iterable;\n        }\n        OngoingStubbing&lt;Object&gt; whenNext = when(cursor.next());\n        for (String resultEntry : resultList) {\n            whenNext = whenNext.thenReturn(resultEntry);\n        }\n        return iterable;\n    }\n\n    public interface DistinctIterableString extends com.mongodb.client.DistinctIterable&lt;String&gt; {\n    }\n</code></pre>\n\n<p>use:</p>\n\n<pre><code>        doReturn(mockDistinctIterableString(asList(\n                \"entry1\",\n                \"entry2\",\n                \"lastEntry\"\n        )))\n        .when(myRepository)\n        .myMongoDistinctQuery();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1516166,"reputation":646,"user_id":1417125,"accept_rate":100,"display_name":"Paolo Biavati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690883068,"creation_date":1690883068,"answer_id":76810391,"question_id":50987954,"body_markdown":"the @pvpkiran answer is correct when you use a for() directly on the FindIterable\r\n\r\nBUT if you use a .forEach method with a lambda, the FindIterable MUST be a spy:\r\n\r\nthis works:\r\n\r\n    FindIterable iterable = Mockito.mock(FindIterable.class);\r\n    ...\r\n    for(x : iterable) {\r\n    \r\n    }\r\n\r\nthis DONT work:\r\n\r\n    FindIterable iterable = Mockito.mock(FindIterable.class);\r\n    ...\r\n    iterable.forEach(...);\r\n    \r\n    \r\n\r\nthis WORK with forEach (iterable is a spy not a mock):\r\n\r\n    FindIterable iterable = Mockito.spy(FindIterable.class);\r\n    ...\r\n    iterable.forEach(...);\r\n    \r\n    \r\n  ","title":"Mockito FindIterable&lt;Document&gt;","body":"<p>the @pvpkiran answer is correct when you use a for() directly on the FindIterable</p>\n<p>BUT if you use a .forEach method with a lambda, the FindIterable MUST be a spy:</p>\n<p>this works:</p>\n<pre><code>FindIterable iterable = Mockito.mock(FindIterable.class);\n...\nfor(x : iterable) {\n\n}\n</code></pre>\n<p>this DONT work:</p>\n<pre><code>FindIterable iterable = Mockito.mock(FindIterable.class);\n...\niterable.forEach(...);\n</code></pre>\n<p>this WORK with forEach (iterable is a spy not a mock):</p>\n<pre><code>FindIterable iterable = Mockito.spy(FindIterable.class);\n...\niterable.forEach(...);\n</code></pre>\n"}],"owner":{"account_id":5134668,"reputation":679,"user_id":4113809,"accept_rate":50,"display_name":"Bharathiraja S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10552,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":50988354,"answer_count":4,"score":8,"last_activity_date":1690883068,"creation_date":1529670487,"question_id":50987954,"body_markdown":"Am trying to write a JUnit test case for below method, am using Mockito framework.\r\n\r\nMethod:\r\n\r\n    public EmplInfo getMetaData(String objectId) {\r\n    \t\t\r\n    \t\tobjectId = new StringBuffer(objectId).reverse().toString();\r\n    \t\ttry{\r\n    \t\t\tBasicDBObject whereClauseCondition = getMetaDataWhereClause(objectId);\r\n    \t\t\tEmplInfo emplinfo= new EmplInfo ();\r\n    \t\t\templinfo.set_id(objectId);\r\n    \t\t\tFindIterable&lt;Document&gt; cursorPersonDoc = personDocCollection.find(whereClauseCondition);\r\n    \t\t\tfor (Document doc : cursorPersonDoc) {\r\n    \t\t\t\templinfo.setEmplFirstName(doc.getString(&quot;firstname&quot;));\r\n    \t\t\t\templinfo.setEmplLastName(doc.getString(&quot;lastname&quot;));\r\n    \t\t\t\tbreak;\r\n    \t        }\r\n    \t\t\treturn emplinfo;\r\n    \t\t}catch(Exception e){\r\n             e.printstacktrace();\r\n            }\r\n\r\nJunit:\r\n\r\n    @Test\r\n    public void testGetMetaData() throws Exception {\r\n    \tString docObjectId = &quot;f2da8044b29f2e0a35c0a2b5&quot;;\r\n    \tBasicDBObject dbObj = personDocumentRepo.getMetaDataWhereClause(docObjectId);\r\n    \tFindIterable&lt;Document&gt; findIterable = null;\r\n    \tMockito.when(collection.find(dbObj)).thenReturn(findIterable);\r\n    \tpersonDocumentRepo.getMetaData(docObjectId);\r\n    }\r\n\r\nAm getting null point expection in &quot;personDocumentRepo.getMetaData(docObjectId)&quot;, because am &quot;Return&quot; the findIterable which is NULL. Not sure how to assign dummy/test value into findIterable.\r\n\r\nPlease advise.\r\n\r\nThanks!\r\nBharathi","title":"Mockito FindIterable&lt;Document&gt;","body":"<p>Am trying to write a JUnit test case for below method, am using Mockito framework.</p>\n\n<p>Method:</p>\n\n<pre><code>public EmplInfo getMetaData(String objectId) {\n\n        objectId = new StringBuffer(objectId).reverse().toString();\n        try{\n            BasicDBObject whereClauseCondition = getMetaDataWhereClause(objectId);\n            EmplInfo emplinfo= new EmplInfo ();\n            emplinfo.set_id(objectId);\n            FindIterable&lt;Document&gt; cursorPersonDoc = personDocCollection.find(whereClauseCondition);\n            for (Document doc : cursorPersonDoc) {\n                emplinfo.setEmplFirstName(doc.getString(\"firstname\"));\n                emplinfo.setEmplLastName(doc.getString(\"lastname\"));\n                break;\n            }\n            return emplinfo;\n        }catch(Exception e){\n         e.printstacktrace();\n        }\n</code></pre>\n\n<p>Junit:</p>\n\n<pre><code>@Test\npublic void testGetMetaData() throws Exception {\n    String docObjectId = \"f2da8044b29f2e0a35c0a2b5\";\n    BasicDBObject dbObj = personDocumentRepo.getMetaDataWhereClause(docObjectId);\n    FindIterable&lt;Document&gt; findIterable = null;\n    Mockito.when(collection.find(dbObj)).thenReturn(findIterable);\n    personDocumentRepo.getMetaData(docObjectId);\n}\n</code></pre>\n\n<p>Am getting null point expection in \"personDocumentRepo.getMetaData(docObjectId)\", because am \"Return\" the findIterable which is NULL. Not sure how to assign dummy/test value into findIterable.</p>\n\n<p>Please advise.</p>\n\n<p>Thanks!\nBharathi</p>\n"},{"tags":["java","jakarta-ee","shiro","java-ee-8"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1672665095,"post_id":74982675,"comment_id":132322313,"body_markdown":"afaik Apache Shiro isn&#39;t compatible (yet?) with JakartaEE.","body":"afaik Apache Shiro isn&#39;t compatible (yet?) with JakartaEE."},{"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"score":0,"creation_date":1672665236,"post_id":74982675,"comment_id":132322353,"body_markdown":"hmmm sadd... Any idea if it will be any soon?","body":"hmmm sadd... Any idea if it will be any soon?"}],"answers":[{"tags":[],"owner":{"account_id":19442007,"reputation":36,"user_id":14220227,"display_name":"Tejumola Mann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672750856,"creation_date":1672750856,"answer_id":74993710,"question_id":74982675,"body_markdown":"Unfortunately, Apache Shiro is not compatible with Jarkarta namespace yet. According to Apache Shiro&#39;s [publication]: https://shiro.apache.org/blog/2022/06/30/jakarta-work.html, version 1.10.0 of Shiro was supposed to be shipped with jakarta but unfortunately as of this writing their latest version, being 1.10.1, does not come with the jakarta namespace yet.","title":"Jakarta EE with Apache Shiro","body":"<p>Unfortunately, Apache Shiro is not compatible with Jarkarta namespace yet. According to Apache Shiro's [publication]: <a href=\"https://shiro.apache.org/blog/2022/06/30/jakarta-work.html\" rel=\"nofollow noreferrer\">https://shiro.apache.org/blog/2022/06/30/jakarta-work.html</a>, version 1.10.0 of Shiro was supposed to be shipped with jakarta but unfortunately as of this writing their latest version, being 1.10.1, does not come with the jakarta namespace yet.</p>\n"},{"tags":[],"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678072747,"creation_date":1678066100,"answer_id":75646400,"question_id":74982675,"body_markdown":"Jakarta EE module has been released as part of Shiro 2.0.0-alpha-1\r\nThis includes Jakarta namespace and JPMS.\r\nSee https://shiro.apache.org/jakarta-ee.html\r\nShiro 1.11.x (latest) also has Jakarta artifacts (with jakarta classifiers) that makes it compatible with jakarta namespace","title":"Jakarta EE with Apache Shiro","body":"<p>Jakarta EE module has been released as part of Shiro 2.0.0-alpha-1\nThis includes Jakarta namespace and JPMS.\nSee <a href=\"https://shiro.apache.org/jakarta-ee.html\" rel=\"nofollow noreferrer\">https://shiro.apache.org/jakarta-ee.html</a>\nShiro 1.11.x (latest) also has Jakarta artifacts (with jakarta classifiers) that makes it compatible with jakarta namespace</p>\n"},{"tags":[],"owner":{"account_id":29133724,"reputation":31,"user_id":22318366,"display_name":"Gyula K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690882679,"creation_date":1690876751,"answer_id":76809585,"question_id":74982675,"body_markdown":"Shiro supports jakarta since version [1.10.0](https://shiro.apache.org/blog/2022/06/30/jakarta-work.html) \r\n\r\nYou have to define the dependecies with the `jakarta` classifier.\r\n\r\nFor instance this is what I used to make it work with `gradle` and `spring boot 3.x`.\r\n```\r\nimplementation(&quot;org.apache.shiro:shiro-spring-boot-starter:${versions.shiro}:jakarta&quot;) {\r\n    // has to be excluded to get replaced by the jars with &#39;jakarta&#39; classifier\r\n    exclude group: &#39;org.apache.shiro&#39;, module: &#39;shiro-spring&#39; \r\n}\r\nimplementation(&quot;org.apache.shiro:shiro-spring:${versions.shiro}:jakarta&quot;)\r\nimplementation(&quot;org.apache.shiro:shiro-web:${versions.shiro}:jakarta&quot;)\r\n```\r\n\r\nThe `pom.xml` version should look something like this:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n    &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n    &lt;version&gt;1.10.0&lt;/version&gt;\r\n    &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Jakarta EE with Apache Shiro","body":"<p>Shiro supports jakarta since version <a href=\"https://shiro.apache.org/blog/2022/06/30/jakarta-work.html\" rel=\"nofollow noreferrer\">1.10.0</a></p>\n<p>You have to define the dependecies with the <code>jakarta</code> classifier.</p>\n<p>For instance this is what I used to make it work with <code>gradle</code> and <code>spring boot 3.x</code>.</p>\n<pre><code>implementation(&quot;org.apache.shiro:shiro-spring-boot-starter:${versions.shiro}:jakarta&quot;) {\n    // has to be excluded to get replaced by the jars with 'jakarta' classifier\n    exclude group: 'org.apache.shiro', module: 'shiro-spring' \n}\nimplementation(&quot;org.apache.shiro:shiro-spring:${versions.shiro}:jakarta&quot;)\nimplementation(&quot;org.apache.shiro:shiro-web:${versions.shiro}:jakarta&quot;)\n</code></pre>\n<p>The <code>pom.xml</code> version should look something like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n    &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n    &lt;classifier&gt;jakarta&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74993710,"answer_count":3,"score":1,"last_activity_date":1690882679,"creation_date":1672664031,"question_id":74982675,"body_markdown":"I am using Wildfly webserver, and trying to implement Apache Shiro within Jakarta EE application, unfortunately I am getting this error:\r\n\r\n```\r\n16:49:36,189 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;testjee8-1.0-SNAPSHOT&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\r\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\r\n16:49:36,190 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;testjee8-1.0-SNAPSHOT&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\r\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\r\n16:49:36,190 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment &quot;testjee8-1.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \r\n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\r\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\r\n16:49:36,214 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0028: Stopped deployment testjee8-1.0-SNAPSHOT (runtime-name: testjee8-1.0-SNAPSHOT.war) in 23ms\r\n[2023-01-02 04:49:36,249] Artifact testjee8:war exploded: Error during artifact deployment. See server log for details.\r\n[2023-01-02 04:49:36,250] Artifact testjee8:war exploded: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\r\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\r\n``` \r\n\r\nlooks like the class is not found...\r\n\r\nThe following web.xml and shiro.ini (placed in WEB-INF) as follows:\r\n\r\nweb.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;shiroConfigLocations&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/shiro.ini&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;ShiroFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.shiro.web.servlet.ShiroFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;ShiroFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nShiro.ini:\r\n```\r\n[main]\r\n\r\n\r\n[urls]\r\n/** = noSessionCreation,authcJWT[permissive]\r\n```\r\n\r\nForgot to add the pom.xml:\r\n\r\n```\r\n...\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\r\n    &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\r\n    &lt;version&gt;1.10.0&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n...\r\n```\r\n\r\nPlease help me how to address this issue!\r\n","title":"Jakarta EE with Apache Shiro","body":"<p>I am using Wildfly webserver, and trying to implement Apache Shiro within Jakarta EE application, unfortunately I am getting this error:</p>\n<pre><code>16:49:36,189 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;testjee8-1.0-SNAPSHOT&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\n16:49:36,190 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;testjee8-1.0-SNAPSHOT&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\n16:49:36,190 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0021: Deploy of deployment &quot;testjee8-1.0-SNAPSHOT.war&quot; was rolled back with the following failure message: \n{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\n16:49:36,214 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0028: Stopped deployment testjee8-1.0-SNAPSHOT (runtime-name: testjee8-1.0-SNAPSHOT.war) in 23ms\n[2023-01-02 04:49:36,249] Artifact testjee8:war exploded: Error during artifact deployment. See server log for details.\n[2023-01-02 04:49:36,250] Artifact testjee8:war exploded: java.lang.Exception: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;testjee8-1.0-SNAPSHOT.war\\&quot;.undertow-deployment.UndertowDeploymentInfoService&quot; =&gt; &quot;Failed to start service\n    Caused by: java.lang.NoClassDefFoundError: Failed to link org/apache/shiro/web/servlet/ShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractShiroFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/OncePerRequestFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/NameableFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): Failed to link org/apache/shiro/web/servlet/AbstractFilter (Module \\&quot;deployment.testjee8-1.0-SNAPSHOT.war\\&quot; from Service Module Loader): javax/servlet/Filter&quot;}}\n</code></pre>\n<p>looks like the class is not found...</p>\n<p>The following web.xml and shiro.ini (placed in WEB-INF) as follows:</p>\n<p>web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;shiroConfigLocations&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/shiro.ini&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;ShiroFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.shiro.web.servlet.ShiroFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;ShiroFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Shiro.ini:</p>\n<pre><code>[main]\n\n\n[urls]\n/** = noSessionCreation,authcJWT[permissive]\n</code></pre>\n<p>Forgot to add the pom.xml:</p>\n<pre><code>...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;\n    &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n &lt;/dependency&gt;\n...\n</code></pre>\n<p>Please help me how to address this issue!</p>\n"},{"tags":["java","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":6313442,"reputation":36281,"user_id":5625547,"display_name":"0stone0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649673494,"creation_date":1649667446,"answer_id":71825110,"question_id":71809866,"body_markdown":"From the [docs](https://github.com/pengrad/java-telegram-bot-api#send-message):\r\n\r\n&gt; Send message\r\n&gt;\r\n&gt; All send requests (`SendMessage`, `SendPhoto`, `SendLocation`...) return `SendResponse` object that contains Message.\r\n\r\nSo you&#39;ll need to capture the response of `execute(message)` to get the `SendResponse`. \r\n\r\nThe message ID will be available on that object.\r\n\r\n\r\n----------\r\n\r\n\r\nExample code:\r\n\r\n```java\r\npublic class App  {\r\n    public static void main( String[] args ) {\r\n\r\n        long chatId = 1234567;\r\n\r\n        TelegramBot bot = new TelegramBot(&quot;ABCDEF......&quot;);\r\n\r\n        SendResponse response = bot.execute(new SendMessage(chatId, &quot;Hello!&quot;));\r\n        Message message = response.message();\r\n        long messageId = message.messageId();\r\n\r\n        System.out.println(&quot;Message id :&quot;);\r\n        System.out.println(messageId);\r\n\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n\r\nShows the following output:\r\n```none\r\nMessage id :\r\n449\r\n```","title":"How can you get the message ID of currently sent message sent from telegram bot?","body":"<p>From the <a href=\"https://github.com/pengrad/java-telegram-bot-api#send-message\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Send message</p>\n<p>All send requests (<code>SendMessage</code>, <code>SendPhoto</code>, <code>SendLocation</code>...) return <code>SendResponse</code> object that contains Message.</p>\n</blockquote>\n<p>So you'll need to capture the response of <code>execute(message)</code> to get the <code>SendResponse</code>.</p>\n<p>The message ID will be available on that object.</p>\n<hr />\n<p>Example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App  {\n    public static void main( String[] args ) {\n\n        long chatId = 1234567;\n\n        TelegramBot bot = new TelegramBot(&quot;ABCDEF......&quot;);\n\n        SendResponse response = bot.execute(new SendMessage(chatId, &quot;Hello!&quot;));\n        Message message = response.message();\n        long messageId = message.messageId();\n\n        System.out.println(&quot;Message id :&quot;);\n        System.out.println(messageId);\n\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>Shows the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Message id :\n449\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29135263,"reputation":1,"user_id":22319584,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690882238,"creation_date":1690882170,"answer_id":76810283,"question_id":71809866,"body_markdown":"I have created a message and sent it using sendMessage with Telegram API.\r\nHow can I get the message ID of currently sent message?\r\n\r\ni do:\r\n\r\n```\r\nSendMessage message = new SendMessage();\r\nmessage.setChatId(example);\r\nmessage.setText(text);\r\n\r\n// and here i want to get message id of this message\r\n```\r\n\r\nI have already found the answer (using SendResponse), but it is outdated\r\n\r\nps: or mb im dumbasses","title":"How can you get the message ID of currently sent message sent from telegram bot?","body":"<p>I have created a message and sent it using sendMessage with Telegram API.\nHow can I get the message ID of currently sent message?</p>\n<p>i do:</p>\n<pre><code>SendMessage message = new SendMessage();\nmessage.setChatId(example);\nmessage.setText(text);\n\n// and here i want to get message id of this message\n</code></pre>\n<p>I have already found the answer (using SendResponse), but it is outdated</p>\n<p>ps: or mb im dumbasses</p>\n"}],"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1964,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71825110,"answer_count":2,"score":0,"last_activity_date":1690882238,"creation_date":1649521433,"question_id":71809866,"body_markdown":"I have created a message and sent it using `sendMessage` with Telegram API. \r\n\r\n***How can I get the message ID of currently sent message?***\r\n\r\n```java\r\nimport org.telegram.telegrambots.meta.api.methods.send.SendMessage;\r\n\r\n...\r\n\r\nSendMessage message = new SendMessage(); \r\nmessage.setChatId(chat_id)\r\n\r\ntry {\r\n    execute(message);\r\n} catch (TelegramApiException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n// here is where I would like to get the id of the message I just sent above\r\n```\r\n        ","title":"How can you get the message ID of currently sent message sent from telegram bot?","body":"<p>I have created a message and sent it using <code>sendMessage</code> with Telegram API.</p>\n<p><em><strong>How can I get the message ID of currently sent message?</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.telegram.telegrambots.meta.api.methods.send.SendMessage;\n\n...\n\nSendMessage message = new SendMessage(); \nmessage.setChatId(chat_id)\n\ntry {\n    execute(message);\n} catch (TelegramApiException e) {\n    e.printStackTrace();\n}\n\n// here is where I would like to get the id of the message I just sent above\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690880679,"post_id":76810088,"comment_id":135411379,"body_markdown":"Are you asking what the result of those queries is? Why don&#39;t you just try it?","body":"Are you asking what the result of those queries is? Why don&#39;t you just try it?"}],"answers":[{"tags":[],"owner":{"account_id":6271524,"reputation":1112,"user_id":4875624,"accept_rate":86,"display_name":"Koustav Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690882237,"creation_date":1690882237,"answer_id":76810294,"question_id":76810088,"body_markdown":"In elasticsearch:\r\n\r\n- **Term** is an exact query\r\n\r\n- **Match** is a query passed through a text analyzer.\r\n\r\nTo explain in over-simplified terms:\r\n\r\nSo term queries will only match &quot;Hello World&quot; and NOT &quot;hello world&quot;, &quot;HELLO world&quot;, &quot;HeLLo WoRlD&quot; etc. However match queries will match all of those and with fuzziness can match even misspelt or similar words.\r\n\r\n\r\n\r\nNote: Elastic search adds a warning called\r\n`Avoid using the term query for text fields.` \r\n\r\nThumb rule is use term queries for exact matches like say a tag, or an email id etc.\r\n\r\nSo for your example use the term query on the keyword type of field which is someText2.\r\n\r\n---\r\n\r\nFurther Reading: \r\n\r\n- [Term Queries](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html)\r\n\r\n- [Match Queries](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html)\r\n","title":"In ElasticSearch, use &#39;match&#39; to match a field of type keyword and &#39;term&#39; to match a field of text type. What does ES do?","body":"<p>In elasticsearch:</p>\n<ul>\n<li><p><strong>Term</strong> is an exact query</p>\n</li>\n<li><p><strong>Match</strong> is a query passed through a text analyzer.</p>\n</li>\n</ul>\n<p>To explain in over-simplified terms:</p>\n<p>So term queries will only match &quot;Hello World&quot; and NOT &quot;hello world&quot;, &quot;HELLO world&quot;, &quot;HeLLo WoRlD&quot; etc. However match queries will match all of those and with fuzziness can match even misspelt or similar words.</p>\n<p>Note: Elastic search adds a warning called\n<code>Avoid using the term query for text fields.</code></p>\n<p>Thumb rule is use term queries for exact matches like say a tag, or an email id etc.</p>\n<p>So for your example use the term query on the keyword type of field which is someText2.</p>\n<hr />\n<p>Further Reading:</p>\n<ul>\n<li><p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-term-query.html\" rel=\"nofollow noreferrer\">Term Queries</a></p>\n</li>\n<li><p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html\" rel=\"nofollow noreferrer\">Match Queries</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":29134861,"reputation":1,"user_id":22319272,"display_name":"Daiwting"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690882237,"creation_date":1690880614,"question_id":76810088,"body_markdown":"```\r\n# Create a DSL statement for the index library\r\nPUT /mytest\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;properties&quot;: {\r\n      &quot;someText1&quot;: {\r\n        &quot;type&quot;: &quot;text&quot;\r\n      },\r\n      &quot;someText2&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n# Add a piece of data\r\nPOST /mytest/_doc/1\r\n{\r\n  &quot;someText1&quot;: &quot;Hello World&quot;,\r\n  &quot;someText2&quot;: &quot;Hello World&quot;\r\n}\r\n\r\n# Use &#39;term&#39; to match a field of type text, and the query result is empty\r\nGET /mytest/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;term&quot;: {\r\n      &quot;someText1&quot;: &quot;Hello World&quot;\r\n    }\r\n  }\r\n}\r\n\r\n# Use &#39;match&#39; to match a field of type keyword. The query result has the above data\r\nGET /mytest/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;match&quot;: {\r\n      &quot;someText2&quot;: &quot;Hello World&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**May I ask how ES will execute these two queries?**\r\n\r\nI would have thought that if I used &#39;match&#39; to match a field of type keyword, match would use a &#39;standard&#39; word divider to split the input, then match the keyword&#39;s inverted index, and the result set would be empty.","title":"In ElasticSearch, use &#39;match&#39; to match a field of type keyword and &#39;term&#39; to match a field of text type. What does ES do?","body":"<pre><code># Create a DSL statement for the index library\nPUT /mytest\n{\n  &quot;mappings&quot;: {\n    &quot;properties&quot;: {\n      &quot;someText1&quot;: {\n        &quot;type&quot;: &quot;text&quot;\n      },\n      &quot;someText2&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n      }\n    }\n  }\n}\n\n# Add a piece of data\nPOST /mytest/_doc/1\n{\n  &quot;someText1&quot;: &quot;Hello World&quot;,\n  &quot;someText2&quot;: &quot;Hello World&quot;\n}\n\n# Use 'term' to match a field of type text, and the query result is empty\nGET /mytest/_search\n{\n  &quot;query&quot;: {\n    &quot;term&quot;: {\n      &quot;someText1&quot;: &quot;Hello World&quot;\n    }\n  }\n}\n\n# Use 'match' to match a field of type keyword. The query result has the above data\nGET /mytest/_search\n{\n  &quot;query&quot;: {\n    &quot;match&quot;: {\n      &quot;someText2&quot;: &quot;Hello World&quot;\n    }\n  }\n}\n</code></pre>\n<p><strong>May I ask how ES will execute these two queries?</strong></p>\n<p>I would have thought that if I used 'match' to match a field of type keyword, match would use a 'standard' word divider to split the input, then match the keyword's inverted index, and the result set would be empty.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628174214,"creation_date":1628174214,"answer_id":68668656,"question_id":68666706,"body_markdown":"Without a prefix, those are just regular user-properties that you would need to wire in yourself via `@Value`\r\n\r\nYou can find all `spring.kafka` properties [in the Spring documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html) \r\n\r\nThat being said, the two properties you listed are not listed there, but that doesn&#39;t prevent you from creating your own ConsumerFactory where those properties could get added","title":"What are the correct Springboot -Kafka parameters in application.yml?","body":"<p>Without a prefix, those are just regular user-properties that you would need to wire in yourself via <code>@Value</code></p>\n<p>You can find all <code>spring.kafka</code> properties <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">in the Spring documentation</a></p>\n<p>That being said, the two properties you listed are not listed there, but that doesn't prevent you from creating your own ConsumerFactory where those properties could get added</p>\n"},{"tags":[],"owner":{"account_id":5964735,"reputation":1067,"user_id":4688775,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628177167,"creation_date":1628177167,"answer_id":68669420,"question_id":68666706,"body_markdown":"If you are using `org.springframework.kafka:spring-kafka`, please see the following images, it does not have mentioned properties.\r\n\r\n[![prop1][1]][1]\r\n\r\n[![prop2][2]][2]\r\n\r\nOn your other question, for concurrent kafka listeners I created a `@Bean` of `ConcurrentKafkaListenerContainerFactory` and pass it as an argument to the parameter `containerFactory` in `@KafkaListener` annotation.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E7kIt.png\r\n  [2]: https://i.stack.imgur.com/a1eTI.png","title":"What are the correct Springboot -Kafka parameters in application.yml?","body":"<p>If you are using <code>org.springframework.kafka:spring-kafka</code>, please see the following images, it does not have mentioned properties.</p>\n<p><a href=\"https://i.stack.imgur.com/E7kIt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E7kIt.png\" alt=\"prop1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/a1eTI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a1eTI.png\" alt=\"prop2\" /></a></p>\n<p>On your other question, for concurrent kafka listeners I created a <code>@Bean</code> of <code>ConcurrentKafkaListenerContainerFactory</code> and pass it as an argument to the parameter <code>containerFactory</code> in <code>@KafkaListener</code> annotation.</p>\n"}],"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68668656,"answer_count":2,"score":0,"last_activity_date":1690882190,"creation_date":1628166834,"question_id":68666706,"body_markdown":"Trying out a hands on with Springboot-Kafka. A couple of doubts. Are these valid parameters for Kafka tuning in `application.yml`:\r\n\r\n    fetch-max-bytes: 52428800\r\n\r\nAny idea if this is a valid property on Kakfa? I am using it in `application.yml` in my springboot project to control my consumer polling behaviour. Secondly, in this block are there multiple threads launched internally by the `KafkaListener`:\r\n\r\n    @KafkaListener(id = &quot;instance1&quot;, groupId = &quot;${spring.kafka.consumer.group-id}&quot;, topics = &quot;${spring.kafka.consumer.topic}&quot;)\r\n    \tpublic void consume(String message) {\r\n    \t\tSystem.out.println(&quot;Hellolistener ...&quot;+message);\r\n    \t\tlog.info(&quot;container1 Message recieved from Kafka topic :{} &quot;, message);\r\n    \t}\r\n\r\nThanks in advance.\r\n","title":"What are the correct Springboot -Kafka parameters in application.yml?","body":"<p>Trying out a hands on with Springboot-Kafka. A couple of doubts. Are these valid parameters for Kafka tuning in <code>application.yml</code>:</p>\n<pre><code>fetch-max-bytes: 52428800\n</code></pre>\n<p>Any idea if this is a valid property on Kakfa? I am using it in <code>application.yml</code> in my springboot project to control my consumer polling behaviour. Secondly, in this block are there multiple threads launched internally by the <code>KafkaListener</code>:</p>\n<pre><code>@KafkaListener(id = &quot;instance1&quot;, groupId = &quot;${spring.kafka.consumer.group-id}&quot;, topics = &quot;${spring.kafka.consumer.topic}&quot;)\n    public void consume(String message) {\n        System.out.println(&quot;Hellolistener ...&quot;+message);\n        log.info(&quot;container1 Message recieved from Kafka topic :{} &quot;, message);\n    }\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1690896632,"post_id":76810277,"comment_id":135414821,"body_markdown":"can you please attach your filter class in issue description ?","body":"can you please attach your filter class in issue description ?"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690898892,"post_id":76810277,"comment_id":135415393,"body_markdown":"I think you have a Problem with Servlet-API Version. spring boot 3.1.2 uses servlet-api 6.0. And sevlet-api 6.0 doesnt content javax.servlet.Filter, but jakarta.servlet.Filter.","body":"I think you have a Problem with Servlet-API Version. spring boot 3.1.2 uses servlet-api 6.0. And sevlet-api 6.0 doesnt content javax.servlet.Filter, but jakarta.servlet.Filter."},{"owner":{"account_id":26572841,"reputation":3,"user_id":20198807,"display_name":"CosmaPOP"},"score":0,"creation_date":1690904817,"post_id":76810277,"comment_id":135416698,"body_markdown":"Wladimir Diskowski ,you are right ,thanks","body":"Wladimir Diskowski ,you are right ,thanks"}],"owner":{"account_id":26572841,"reputation":3,"user_id":20198807,"display_name":"CosmaPOP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690882134,"creation_date":1690882134,"question_id":76810277,"body_markdown":"I&#39;m encountering a \\`ClassCastException\\` related to \\`AuthorizationFilter\\` when starting my Spring Boot application. The error message mentions that \\`org.springframework.security.web.access.intercept.AuthorizationFilter\\` cannot be cast to \\`javax.servlet.Filter\\`:\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class org.springframework.security.web.access.intercept.AuthorizationFilter cannot be cast to class javax.servlet.Filter (org.springframework.security.web.access.intercept.AuthorizationFilter and javax.servlet.Filter are in unnamed module of loader &#39;app&#39;)\r\n\tat org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer.configure(AuthorizeHttpRequestsConfigurer.java:73) ~[spring-security-config-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer.configure(AuthorizeHttpRequestsConfigurer.java:46) ~[spring-security-config-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.5.2.jar:5.5.2]\r\n\tat org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration.defaultSecurityFilterChain(SpringBootWebSecurityConfiguration.java:61) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 37 common frames omitted\r\n```\r\n\r\n**My dependencies:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;1-project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;1-project&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n\r\n\r\n\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.04&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI thought that maybe it was some compatibility issues with spring 3.1.2","title":"Spring Security - ClassCastException with AuthorizationFilter","body":"<p>I'm encountering a `ClassCastException` related to `AuthorizationFilter` when starting my Spring Boot application. The error message mentions that `org.springframework.security.web.access.intercept.AuthorizationFilter` cannot be cast to `javax.servlet.Filter`:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class org.springframework.security.web.access.intercept.AuthorizationFilter cannot be cast to class javax.servlet.Filter (org.springframework.security.web.access.intercept.AuthorizationFilter and javax.servlet.Filter are in unnamed module of loader 'app')\n    at org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer.configure(AuthorizeHttpRequestsConfigurer.java:73) ~[spring-security-config-5.5.2.jar:5.5.2]\n    at org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer.configure(AuthorizeHttpRequestsConfigurer.java:46) ~[spring-security-config-5.5.2.jar:5.5.2]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-5.5.2.jar:5.5.2]\n    at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-5.5.2.jar:5.5.2]\n    at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-5.5.2.jar:5.5.2]\n    at org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration.defaultSecurityFilterChain(SpringBootWebSecurityConfiguration.java:61) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 37 common frames omitted\n</code></pre>\n<p><strong>My dependencies:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;1-project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;1-project&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\n\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;version&gt;1.3.04&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I thought that maybe it was some compatibility issues with spring 3.1.2</p>\n"},{"tags":["java","postgresql","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690881760,"post_id":76810220,"comment_id":135411605,"body_markdown":"Because a `byte[]` is not a `MultipartFile` which is what the parameter actually is. Submit it under a different name so that Spring will not try to bind it.","body":"Because a <code>byte[]</code> is not a <code>MultipartFile</code> which is what the parameter actually is. Submit it under a different name so that Spring will not try to bind it."}],"owner":{"account_id":9071532,"reputation":41,"user_id":6754555,"display_name":"Odair Vaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690881632,"creation_date":1690881632,"question_id":76810220,"body_markdown":"This seems to be an easy issue but I can find the solution..\r\nI’m building a spring app with thymeleaf and using postgres as my db, I have a form that will allow the users to enter a book information with image but I’m getting an error since I’ve added an image field in my book class, here is my files:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n       &lt;version&gt;3.1.1&lt;/version&gt;\r\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;book-store&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;book-store&lt;/name&gt;\r\n    &lt;description&gt;book-store&lt;/description&gt;\r\n    &lt;properties&gt;\r\n       &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;9.21.1&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n       &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```\r\n\r\n# Datasource configuration\r\nspring.datasource.url=${datasourceUrl}\r\nspring.datasource.username=${datasourceUsername}\r\nspring.datasource.password=${datasourcePassword}\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nlogging.file.path=${logDir}\r\n\r\n# Flyway configuration\r\nspring.flyway.enabled=true\r\nspring.flyway.baseline-on-migrate=true\r\nspring.flyway.locations=classpath:db/migration\r\n\r\n# Multipart configuration\r\n# Maximum file size for each request in bytes\r\nspring.servlet.multipart.max-file-size=10MB\r\n\r\n# Maximum size allowed for multipart/form-data request\r\nspring.servlet.multipart.max-request-size=10MB\r\n```\r\n\r\n```\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.Min;\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\n@Entity\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    private String title;\r\n\r\n    @NotBlank\r\n    private String author;\r\n\r\n    private String publisher;\r\n\r\n    @Min(1900)\r\n    private int year;\r\n\r\n    private double price;\r\n\r\n    @Lob\r\n    @Column(columnDefinition = &quot;bytea&quot;)\r\n    private byte[] imageData;\r\n\r\n    public Book() {}\r\n\r\n    public Book(String title, String author, String publisher, int year, double price, byte[] imageData) {\r\n        this.title = title;\r\n        this.author = author;\r\n        this.publisher = publisher;\r\n        this.year = year;\r\n        this.price = price;\r\n        this.imageData = imageData;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public String getPublisher() {\r\n        return publisher;\r\n    }\r\n\r\n    public void setPublisher(String published) {\r\n        this.publisher = published;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public byte[] getImageData() {\r\n        return imageData;\r\n    }\r\n\r\n    public void setImageData(byte[] imageData) {\r\n        this.imageData = imageData;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\nimport com.example.bookstore.persistense.model.Book;\r\nimport com.example.bookstore.service.IBookService;\r\nimport jakarta.validation.Valid;\r\nimport org.slf4j.Logger;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.server.ResponseStatusException;\r\n\r\nimport java.io.IOException;\r\nimport java.time.Year;\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/api/v1/books&quot;)\r\npublic class BookController {\r\n\r\n    public static final String REDIRECT_BOOKS = &quot;redirect:/api/v1/books&quot;;\r\n    private static final Logger LOGGER = org.slf4j.LoggerFactory.getLogger(BookController.class);\r\n    private final IBookService bookService;\r\n    int currentYear = Year.now().getValue();\r\n\r\n    public BookController(IBookService bookService) {\r\n        this.bookService = bookService;\r\n    }\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public String saveBook(@Valid Book book, BindingResult bindingResult, @RequestParam(&quot;imageData&quot;) MultipartFile imageData) {\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;add&quot;;\r\n        }\r\n        if (!imageData.isEmpty()) {\r\n            try {\r\n                byte[] imageDataBytes = imageData.getBytes();\r\n                book.setImageData(imageDataBytes);\r\n            } catch (IOException e) {\r\n                throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Failed to process image upload.&quot;, e);\r\n            }\r\n        }\r\n        bookService.save(book);\r\n        return REDIRECT_BOOKS;\r\n    }\r\n//other methods\r\n\r\n}\r\n```\r\n\r\n```\r\n&lt;head xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;th:block th:insert=&quot;~{fragments/headerFragment.html}&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;head th:insert=&quot;~{fragments/navbarFragment.html}&quot;&gt;&lt;/head&gt;\r\n&lt;main th:with=&quot;baseUrl=@{/api/v1/books}&quot; class=&quot;container-fluid&quot;&gt;\r\n    &lt;div class=&quot;row&quot;&gt;\r\n        &lt;div class=&quot;mx-auto col-10 col-md-8 col-lg-6&quot;&gt;\r\n            &lt;h1&gt;Add New book&lt;/h1&gt;\r\n\r\n            &lt;form method=&quot;post&quot; th:action=&quot;${baseUrl + &#39;/save&#39;}&quot; th:object=&quot;${book}&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label class=&quot;form-label&quot; for=&quot;titleInput&quot;&gt;Title&lt;/label&gt;\r\n                    &lt;input class=&quot;form-control&quot; id=&quot;titleInput&quot; th:field=&quot;*{title}&quot; type=&quot;text&quot; required&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label class=&quot;form-label&quot; for=&quot;authorInput&quot;&gt;Author&lt;/label&gt;\r\n                    &lt;input class=&quot;form-control&quot; id=&quot;authorInput&quot; th:field=&quot;*{author}&quot; type=&quot;text&quot; required&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label class=&quot;form-label&quot; for=&quot;publisherInput&quot;&gt;Publisher&lt;/label&gt;\r\n                    &lt;input class=&quot;form-control&quot; id=&quot;publisherInput&quot; th:field=&quot;*{publisher}&quot; type=&quot;text&quot;&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label class=&quot;form-label&quot; for=&quot;yearInput&quot;&gt;Year&lt;/label&gt;\r\n                    &lt;input class=&quot;form-control&quot; id=&quot;yearInput&quot; min=&quot;1900&quot; step=&quot;1&quot; th:field=&quot;*{year}&quot; th:max=&quot;${currentYear}&quot;\r\n                           type=&quot;number&quot; required&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label class=&quot;form-label&quot; for=&quot;priceInput&quot;&gt;Price&lt;/label&gt;\r\n                    &lt;input class=&quot;form-control&quot; id=&quot;priceInput&quot; min=&quot;2&quot; step=&quot;0.1&quot; th:field=&quot;*{price}&quot; type=&quot;number&quot; required&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;label class=&quot;form-label&quot; for=&quot;bookCoverInput&quot;&gt;Book Cover&lt;/label&gt;\r\n                    &lt;input class=&quot;form-control&quot; id=&quot;bookCoverInput&quot; th:field=&quot;*{imageData}&quot; type=&quot;file&quot; accept=&quot;image/png, image/jpeg&quot;&gt;\r\n                &lt;/div&gt;\r\n\r\n                &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/main&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nWhen I submit the form I get this error:\r\n\r\n```\r\norg.springframework.validation.BeanPropertyBindingResult: 1 errors\r\nField error in object &#39;book&#39; on field &#39;imageData&#39;: rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@1e484afe]; codes [typeMismatch.book.imageData,typeMismatch.imageData,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [book.imageData,imageData]; arguments []; default message [imageData]]; default message [Failed to convert property value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte[]&#39; for property &#39;imageData&#39;; Cannot convert value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte&#39; for property &#39;imageData[0]&#39;: PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39;]\r\n```\r\n\r\nthe error is returned in bindingResult when i try so save the book in the database.\r\n\r\nThanks in advance.\r\n\r\nWhen I submit the the form the data should be persisted in the database, but the bindingResult retrun some errors.","title":"Spring BeanPropertyBindingResult error on image field","body":"<p>This seems to be an easy issue but I can find the solution..\nI’m building a spring app with thymeleaf and using postgres as my db, I have a form that will allow the users to enter a book information with image but I’m getting an error since I’ve added an image field in my book class, here is my files:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;3.1.1&lt;/version&gt;\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;book-store&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;book-store&lt;/name&gt;\n    &lt;description&gt;book-store&lt;/description&gt;\n    &lt;properties&gt;\n       &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n          &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n          &lt;scope&gt;runtime&lt;/scope&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n          &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;9.21.1&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n          &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n          &lt;version&gt;1.4&lt;/version&gt;\n       &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n       &lt;plugins&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;/plugin&gt;\n       &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>\n# Datasource configuration\nspring.datasource.url=${datasourceUrl}\nspring.datasource.username=${datasourceUsername}\nspring.datasource.password=${datasourcePassword}\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n\nlogging.file.path=${logDir}\n\n# Flyway configuration\nspring.flyway.enabled=true\nspring.flyway.baseline-on-migrate=true\nspring.flyway.locations=classpath:db/migration\n\n# Multipart configuration\n# Maximum file size for each request in bytes\nspring.servlet.multipart.max-file-size=10MB\n\n# Maximum size allowed for multipart/form-data request\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n<pre><code>\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.Min;\nimport jakarta.validation.constraints.NotBlank;\n\n@Entity\npublic class Book {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @NotBlank\n    private String title;\n\n    @NotBlank\n    private String author;\n\n    private String publisher;\n\n    @Min(1900)\n    private int year;\n\n    private double price;\n\n    @Lob\n    @Column(columnDefinition = &quot;bytea&quot;)\n    private byte[] imageData;\n\n    public Book() {}\n\n    public Book(String title, String author, String publisher, int year, double price, byte[] imageData) {\n        this.title = title;\n        this.author = author;\n        this.publisher = publisher;\n        this.year = year;\n        this.price = price;\n        this.imageData = imageData;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public String getPublisher() {\n        return publisher;\n    }\n\n    public void setPublisher(String published) {\n        this.publisher = published;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public byte[] getImageData() {\n        return imageData;\n    }\n\n    public void setImageData(byte[] imageData) {\n        this.imageData = imageData;\n    }\n\n}\n</code></pre>\n<pre><code>\nimport com.example.bookstore.persistense.model.Book;\nimport com.example.bookstore.service.IBookService;\nimport jakarta.validation.Valid;\nimport org.slf4j.Logger;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.util.StringUtils;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.server.ResponseStatusException;\n\nimport java.io.IOException;\nimport java.time.Year;\nimport java.util.List;\n\n@Controller\n@RequestMapping(&quot;/api/v1/books&quot;)\npublic class BookController {\n\n    public static final String REDIRECT_BOOKS = &quot;redirect:/api/v1/books&quot;;\n    private static final Logger LOGGER = org.slf4j.LoggerFactory.getLogger(BookController.class);\n    private final IBookService bookService;\n    int currentYear = Year.now().getValue();\n\n    public BookController(IBookService bookService) {\n        this.bookService = bookService;\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    public String saveBook(@Valid Book book, BindingResult bindingResult, @RequestParam(&quot;imageData&quot;) MultipartFile imageData) {\n        if (bindingResult.hasErrors()) {\n            return &quot;add&quot;;\n        }\n        if (!imageData.isEmpty()) {\n            try {\n                byte[] imageDataBytes = imageData.getBytes();\n                book.setImageData(imageDataBytes);\n            } catch (IOException e) {\n                throw new ResponseStatusException(HttpStatus.INTERNAL_SERVER_ERROR, &quot;Failed to process image upload.&quot;, e);\n            }\n        }\n        bookService.save(book);\n        return REDIRECT_BOOKS;\n    }\n//other methods\n\n}\n</code></pre>\n<pre><code>&lt;head xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;th:block th:insert=&quot;~{fragments/headerFragment.html}&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;head th:insert=&quot;~{fragments/navbarFragment.html}&quot;&gt;&lt;/head&gt;\n&lt;main th:with=&quot;baseUrl=@{/api/v1/books}&quot; class=&quot;container-fluid&quot;&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;mx-auto col-10 col-md-8 col-lg-6&quot;&gt;\n            &lt;h1&gt;Add New book&lt;/h1&gt;\n\n            &lt;form method=&quot;post&quot; th:action=&quot;${baseUrl + '/save'}&quot; th:object=&quot;${book}&quot; enctype=&quot;multipart/form-data&quot;&gt;\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;label class=&quot;form-label&quot; for=&quot;titleInput&quot;&gt;Title&lt;/label&gt;\n                    &lt;input class=&quot;form-control&quot; id=&quot;titleInput&quot; th:field=&quot;*{title}&quot; type=&quot;text&quot; required&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;label class=&quot;form-label&quot; for=&quot;authorInput&quot;&gt;Author&lt;/label&gt;\n                    &lt;input class=&quot;form-control&quot; id=&quot;authorInput&quot; th:field=&quot;*{author}&quot; type=&quot;text&quot; required&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;label class=&quot;form-label&quot; for=&quot;publisherInput&quot;&gt;Publisher&lt;/label&gt;\n                    &lt;input class=&quot;form-control&quot; id=&quot;publisherInput&quot; th:field=&quot;*{publisher}&quot; type=&quot;text&quot;&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;label class=&quot;form-label&quot; for=&quot;yearInput&quot;&gt;Year&lt;/label&gt;\n                    &lt;input class=&quot;form-control&quot; id=&quot;yearInput&quot; min=&quot;1900&quot; step=&quot;1&quot; th:field=&quot;*{year}&quot; th:max=&quot;${currentYear}&quot;\n                           type=&quot;number&quot; required&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;label class=&quot;form-label&quot; for=&quot;priceInput&quot;&gt;Price&lt;/label&gt;\n                    &lt;input class=&quot;form-control&quot; id=&quot;priceInput&quot; min=&quot;2&quot; step=&quot;0.1&quot; th:field=&quot;*{price}&quot; type=&quot;number&quot; required&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;label class=&quot;form-label&quot; for=&quot;bookCoverInput&quot;&gt;Book Cover&lt;/label&gt;\n                    &lt;input class=&quot;form-control&quot; id=&quot;bookCoverInput&quot; th:field=&quot;*{imageData}&quot; type=&quot;file&quot; accept=&quot;image/png, image/jpeg&quot;&gt;\n                &lt;/div&gt;\n\n                &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/main&gt;\n&lt;/body&gt;\n</code></pre>\n<p>When I submit the form I get this error:</p>\n<pre><code>org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'book' on field 'imageData': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@1e484afe]; codes [typeMismatch.book.imageData,typeMismatch.imageData,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [book.imageData,imageData]; arguments []; default message [imageData]]; default message [Failed to convert property value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte[]' for property 'imageData'; Cannot convert value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte' for property 'imageData[0]': PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile']\n</code></pre>\n<p>the error is returned in bindingResult when i try so save the book in the database.</p>\n<p>Thanks in advance.</p>\n<p>When I submit the the form the data should be persisted in the database, but the bindingResult retrun some errors.</p>\n"},{"tags":["java","c#","c++","oop"],"owner":{"account_id":2247038,"reputation":77,"user_id":1980151,"accept_rate":60,"display_name":"Gonzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690881279,"creation_date":1690018624,"question_id":76743168,"body_markdown":"Our legacy code is written in such a way, that the master class holds a state and every so often does this kind of update: `NewState = CurrentState-&gt;UpdateState()`\r\n\r\nThe issue is that one is `ReadyState` and the other is `RefreshingState`. As it is now, the ReadyState would have to check the time to refresh and if the time is right, call return the RefreshingState in its UpdateState method.\r\n\r\nHowever, the time to refresh is known only by the RefreshingState!\r\n\r\nI cannot simply return it from the UpdateState method, at least not without modifying contract for another 20 classes that won&#39;t care about the time...\r\n\r\nI have three questions:\r\n1. What kind of OOP pattern would that be?\r\n1. How should I share the time between the states properly with this pattern?\r\n1. Is there a better way to write this altogether? (I CAN&#39;T/WON&#39;T rewrite it, I&#39;m just curious)\r\n\r\nThank you.","title":"OOP code - sharing data between state objects","body":"<p>Our legacy code is written in such a way, that the master class holds a state and every so often does this kind of update: <code>NewState = CurrentState-&gt;UpdateState()</code></p>\n<p>The issue is that one is <code>ReadyState</code> and the other is <code>RefreshingState</code>. As it is now, the ReadyState would have to check the time to refresh and if the time is right, call return the RefreshingState in its UpdateState method.</p>\n<p>However, the time to refresh is known only by the RefreshingState!</p>\n<p>I cannot simply return it from the UpdateState method, at least not without modifying contract for another 20 classes that won't care about the time...</p>\n<p>I have three questions:</p>\n<ol>\n<li>What kind of OOP pattern would that be?</li>\n<li>How should I share the time between the states properly with this pattern?</li>\n<li>Is there a better way to write this altogether? (I CAN'T/WON'T rewrite it, I'm just curious)</li>\n</ol>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-boot","ibm-mq","mq"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690880276,"post_id":76809901,"comment_id":135411288,"body_markdown":"Isn&#39;t setting the username/password for the connection factory enough?","body":"Isn&#39;t setting the username/password for the connection factory enough?"},{"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"score":0,"creation_date":1690881018,"post_id":76809901,"comment_id":135411451,"body_markdown":"No. I need to set MQ User id and not the user name. They are totally different.","body":"No. I need to set MQ User id and not the user name. They are totally different."}],"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690881065,"creation_date":1690879263,"question_id":76809901,"body_markdown":"I&#39;m trying to connect to IBM MQ (Remote queue) through my spring boot application.\r\n\r\nConfiguration:\r\n\r\n    @Configuration\r\n    @EnableJms\r\n    @ConditionalOnProperty(value = &quot;mq.enabled&quot;, havingValue = &quot;true&quot;)\r\n    @Import({MQAutoConfiguration.class, JmsAutoConfiguration.class})\r\n    public class MQConfiguration {\r\n    \r\n      @Bean\r\n      JmsListenerContainerFactory&lt;?&gt; jmsListenerContainerFactory(\r\n          ConnectionFactory connectionFactory,\r\n          DefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n        var factory = new DefaultJmsListenerContainerFactory();\r\n        configurer.configure(factory, connectionFactory);\r\n        return factory;\r\n      }\r\n    }\r\n\r\nListener:\r\n\r\n  \r\n\r\n    @JmsListener(destination = &quot;${test-queue}&quot;)\r\n      public void receive(TextMessage message) {\r\n        try {\r\n          var foo =\r\n              objectMapper.readValue(message.getText(), Foo.class);\r\n          LOGGER.info(&quot;Incoming JMS message : &quot; + message.getText());\r\n    \t  //Business logic\r\n        } catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n        }\r\n      }\r\n\r\napplication.yaml:\r\n\r\n    ibm:\r\n      mq:\r\n        channel: DEV.CHNL\r\n        user: app\r\n        conn-name: ${ibm.mq.host}(${ibm.mq.port})\r\n        queue-manager: QM_NAME\r\n\r\npom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;${ibm-mq.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe Queue manager needs UserId to connect to the queue. The userId is automatically set by process name and not from the yaml as mentioned here [https://www.ibm.com/support/pages/how-specify-userid-and-password-when-connecting-ibm-mq][1]\r\n\r\nIf the property is set to the default value, then the WebSphere MQ classes for Java will query the Java system property user.name.\r\nEven after setting these props its not working as expected. \r\n \r\n\r\n    ibm.mq.user\r\n    ibm.mq.password\r\n\r\nThe core internal library from ibm is somehow reading System.getProperty(&quot;user.name&quot;).\r\n\r\nThe only way I can set is uing \r\n\r\n    set - _JAVA_OPTIONS=-Duser.name=myUser\r\n\r\nIs there anyway we can set WMQConstants.USERID without having to set java user name? \t \r\n\r\n\r\n  [1]: https://www.ibm.com/support/pages/how-specify-userid-and-password-when-connecting-ibm-mq","title":"How to set WMQConstants.USERID in springboot application to connect to IBM MQ?","body":"<p>I'm trying to connect to IBM MQ (Remote queue) through my spring boot application.</p>\n<p>Configuration:</p>\n<pre><code>@Configuration\n@EnableJms\n@ConditionalOnProperty(value = &quot;mq.enabled&quot;, havingValue = &quot;true&quot;)\n@Import({MQAutoConfiguration.class, JmsAutoConfiguration.class})\npublic class MQConfiguration {\n\n  @Bean\n  JmsListenerContainerFactory&lt;?&gt; jmsListenerContainerFactory(\n      ConnectionFactory connectionFactory,\n      DefaultJmsListenerContainerFactoryConfigurer configurer) {\n    var factory = new DefaultJmsListenerContainerFactory();\n    configurer.configure(factory, connectionFactory);\n    return factory;\n  }\n}\n</code></pre>\n<p>Listener:</p>\n<pre><code>@JmsListener(destination = &quot;${test-queue}&quot;)\n  public void receive(TextMessage message) {\n    try {\n      var foo =\n          objectMapper.readValue(message.getText(), Foo.class);\n      LOGGER.info(&quot;Incoming JMS message : &quot; + message.getText());\n      //Business logic\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n</code></pre>\n<p>application.yaml:</p>\n<pre><code>ibm:\n  mq:\n    channel: DEV.CHNL\n    user: app\n    conn-name: ${ibm.mq.host}(${ibm.mq.port})\n    queue-manager: QM_NAME\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n    &lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;${ibm-mq.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The Queue manager needs UserId to connect to the queue. The userId is automatically set by process name and not from the yaml as mentioned here <a href=\"https://www.ibm.com/support/pages/how-specify-userid-and-password-when-connecting-ibm-mq\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/how-specify-userid-and-password-when-connecting-ibm-mq</a></p>\n<p>If the property is set to the default value, then the WebSphere MQ classes for Java will query the Java system property user.name.\nEven after setting these props its not working as expected.</p>\n<pre><code>ibm.mq.user\nibm.mq.password\n</code></pre>\n<p>The core internal library from ibm is somehow reading System.getProperty(&quot;user.name&quot;).</p>\n<p>The only way I can set is uing</p>\n<pre><code>set - _JAVA_OPTIONS=-Duser.name=myUser\n</code></pre>\n<p>Is there anyway we can set WMQConstants.USERID without having to set java user name?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325240175,"creation_date":1325240175,"answer_id":8678405,"question_id":8678382,"body_markdown":"why don&#39;t you just do\r\n\r\n\r\n    Sample sample  = appContext.getBean(&quot;sample&quot;);\r\n    sample.setSomeProperty(appContext.getBean(&quot;someOtherBean&quot;));","title":"Ability to create bean template in Spring","body":"<p>why don't you just do</p>\n\n<pre><code>Sample sample  = appContext.getBean(\"sample\");\nsample.setSomeProperty(appContext.getBean(\"someOtherBean\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325241430,"creation_date":1325240400,"answer_id":8678434,"question_id":8678382,"body_markdown":"Have you looked at the [Prototype scope][1]? \r\n\r\n&gt; The non-singleton, prototype scope of bean deployment results in the creation of a new bean instance every time a request for that specific bean is made. That is, the bean is injected into another bean or you request it through a getBean() method call on the container. As a rule, use the prototype scope for all stateful beans and the singleton scope for stateless beans.\r\n\r\nThere is also the [@Scope][2] annotation if you are using the [Java based container configuration][3].\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-factory-scopes-prototype\r\n  [2]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-java-specifying-bean-scope\r\n  [3]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-java","title":"Ability to create bean template in Spring","body":"<p>Have you looked at the <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-factory-scopes-prototype\" rel=\"nofollow\">Prototype scope</a>? </p>\n\n<blockquote>\n  <p>The non-singleton, prototype scope of bean deployment results in the creation of a new bean instance every time a request for that specific bean is made. That is, the bean is injected into another bean or you request it through a getBean() method call on the container. As a rule, use the prototype scope for all stateful beans and the singleton scope for stateless beans.</p>\n</blockquote>\n\n<p>There is also the <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-java-specifying-bean-scope\" rel=\"nofollow\">@Scope</a> annotation if you are using the <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-java\" rel=\"nofollow\">Java based container configuration</a>.</p>\n"}],"owner":{"account_id":38541,"reputation":12659,"user_id":110677,"accept_rate":83,"display_name":"Ula Krukar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1537,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1690880864,"creation_date":1325240017,"question_id":8678382,"body_markdown":"Lets say I have a situation like this:\r\n\r\n    &lt;bean id=&quot;sample&quot; class=&quot;ComlicatedClass&quot; scope=&quot;prototype&quot;&gt;\r\n        &lt;property name=&quot;someProperty&quot; value=&quot;${propertyValue}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nI want to be able to create the bean programatically and provide value for &lt;code&gt;propertyValue&lt;/code&gt; at runtime (pseudocode ahead):\r\n\r\n    appContext.getBean(&quot;sample&quot;, &quot;propertyValue&quot; =&gt; &quot;value&quot;)\r\n\r\nIn a way, I want to create &quot;bean template&quot; rather than full defined bean. Is that possible in any way in spring?\r\n\r\nEDIT:\r\nThe value for &lt;code&gt;propertyValue&lt;/code&gt; is known at runtime! There is no way to define it as another bean.","title":"Ability to create bean template in Spring","body":"<p>Lets say I have a situation like this:</p>\n\n<pre><code>&lt;bean id=\"sample\" class=\"ComlicatedClass\" scope=\"prototype\"&gt;\n    &lt;property name=\"someProperty\" value=\"${propertyValue}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I want to be able to create the bean programatically and provide value for <code>propertyValue</code> at runtime (pseudocode ahead):</p>\n\n<pre><code>appContext.getBean(\"sample\", \"propertyValue\" =&gt; \"value\")\n</code></pre>\n\n<p>In a way, I want to create \"bean template\" rather than full defined bean. Is that possible in any way in spring?</p>\n\n<p>EDIT:\nThe value for <code>propertyValue</code> is known at runtime! There is no way to define it as another bean.</p>\n"},{"tags":["java","hibernate","inheritance","jpa"],"answers":[{"tags":[],"owner":{"account_id":3527935,"reputation":1497,"user_id":2948478,"accept_rate":79,"display_name":"EasterBunnyBugSmasher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1400087748,"creation_date":1400087748,"answer_id":23661075,"question_id":22647768,"body_markdown":"so far I haven&#39;t encountered any problems, so it&#39;s all good. \r\n\r\nBut this is only the case for normal properties. Adding A2.address and A3.address where &quot;address&quot; is a ManyToOne- or OneToOne- Relation to another entity, then things will not work anymore.","title":"JPA Inheritance: same property in different subclasses","body":"<p>so far I haven't encountered any problems, so it's all good. </p>\n\n<p>But this is only the case for normal properties. Adding A2.address and A3.address where \"address\" is a ManyToOne- or OneToOne- Relation to another entity, then things will not work anymore.</p>\n"}],"owner":{"account_id":3527935,"reputation":1497,"user_id":2948478,"accept_rate":79,"display_name":"EasterBunnyBugSmasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23661075,"answer_count":1,"score":1,"last_activity_date":1690880707,"creation_date":1395786967,"question_id":22647768,"body_markdown":"so I have a single table inheritance with A being my base class and A1,A2,A3 all extend A. A2 and A3 both have a property named &quot;name&quot;. Will it get me in trouble if I map A2.name and A3.name to the same table column? I&#39;m not getting any errors so far, but I&#39;m worried about strange behavior in the future.\r\n\r\nI&#39;m using hibernate 4.3+","title":"JPA Inheritance: same property in different subclasses","body":"<p>so I have a single table inheritance with A being my base class and A1,A2,A3 all extend A. A2 and A3 both have a property named \"name\". Will it get me in trouble if I map A2.name and A3.name to the same table column? I'm not getting any errors so far, but I'm worried about strange behavior in the future.</p>\n\n<p>I'm using hibernate 4.3+</p>\n"},{"tags":["java","maven","exception","intellij-idea"],"comments":[{"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"score":0,"creation_date":1674557110,"post_id":75220039,"comment_id":132734370,"body_markdown":"may be this can help? https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find","body":"may be this can help? <a href=\"https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find\" title=\"java sun security provider certpath suncertpathbuilderexception unable to find\">stackoverflow.com/questions/6908948/&hellip;</a>"},{"owner":{"account_id":21382117,"reputation":37,"user_id":15747862,"display_name":"Nikita Dixit"},"score":0,"creation_date":1674558629,"post_id":75220039,"comment_id":132734792,"body_markdown":"@LowCool Thank you but I have already gone through it. I don&#39;t have any libraries imported yet that looks like while  the server is up he/she is facing it. My situation is I have just cloned the project and no dependency is present because it fails at the very beginning while it imports.","body":"@LowCool Thank you but I have already gone through it. I don&#39;t have any libraries imported yet that looks like while  the server is up he/she is facing it. My situation is I have just cloned the project and no dependency is present because it fails at the very beginning while it imports."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674574812,"creation_date":1674569564,"answer_id":75222750,"question_id":75220039,"body_markdown":"The server XXXXXXXXXXXXXXXX that you are collecting dependencies from has a self signed certificate so SSL comms cannot be established.\r\n\r\nThe server certificate needs to be added to java CACERTS. That way your maven will &#39;trust&#39; the server and allow SSL.\r\n\r\nTo get the cert from XXXXXXXXXXXXXXXX you do [this][1]\r\n\r\nYou can add the cert to CACERTS with java keytool as follows: (assuming your java is at D:\\Java and your cert is in a file called repo.cer\r\n\r\n    &quot;D:\\Java\\bin\\keytool.exe&quot; -import -alias repo -keystore  &quot;D:\\Java\\jre\\lib\\security\\cacerts&quot; -storepass changeit -file repo.cer\r\n\r\nTrust this certificate? [no]: answer is y\r\n\r\nSuccess is indicated with: &quot;Certificate was added to keystore&quot;\r\n\r\nThen set this JDK in Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | **JDK for importer** in IDE.\r\n\r\n  [1]: https://www.instructables.com/How-to-Download-the-SSL-Certificate-From-a-Website/","title":"Maven import issue in IntelliJ : PKIX path building failed sun.security.provider.certpath.SunCertPathBuilderException","body":"<p>The server XXXXXXXXXXXXXXXX that you are collecting dependencies from has a self signed certificate so SSL comms cannot be established.</p>\n<p>The server certificate needs to be added to java CACERTS. That way your maven will 'trust' the server and allow SSL.</p>\n<p>To get the cert from XXXXXXXXXXXXXXXX you do <a href=\"https://www.instructables.com/How-to-Download-the-SSL-Certificate-From-a-Website/\" rel=\"nofollow noreferrer\">this</a></p>\n<p>You can add the cert to CACERTS with java keytool as follows: (assuming your java is at D:\\Java and your cert is in a file called repo.cer</p>\n<pre><code>&quot;D:\\Java\\bin\\keytool.exe&quot; -import -alias repo -keystore  &quot;D:\\Java\\jre\\lib\\security\\cacerts&quot; -storepass changeit -file repo.cer\n</code></pre>\n<p>Trust this certificate? [no]: answer is y</p>\n<p>Success is indicated with: &quot;Certificate was added to keystore&quot;</p>\n<p>Then set this JDK in Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | <strong>JDK for importer</strong> in IDE.</p>\n"}],"owner":{"account_id":21382117,"reputation":37,"user_id":15747862,"display_name":"Nikita Dixit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690880100,"creation_date":1674555310,"question_id":75220039,"body_markdown":"While the maven build is successful I am unable to import the dependencies to the project in IntelliJ. Below is the error its showing:\r\n\r\n`Could not transfer artifact com.sun.activation:jakarta.activation:pom:1.2.1 from/to central (https://XXXXXXXXXXXXXXXX/XXXXXX/XXXXXXXXXXXXXXX): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target`\r\n\r\n","title":"Maven import issue in IntelliJ : PKIX path building failed sun.security.provider.certpath.SunCertPathBuilderException","body":"<p>While the maven build is successful I am unable to import the dependencies to the project in IntelliJ. Below is the error its showing:</p>\n<p><code>Could not transfer artifact com.sun.activation:jakarta.activation:pom:1.2.1 from/to central (https://XXXXXXXXXXXXXXXX/XXXXXX/XXXXXXXXXXXXXXX): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>\n"},{"tags":["java","eclipse","maven","pom.xml","pkix"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673544751,"post_id":75100163,"comment_id":132528666,"body_markdown":"The certificate of maven central should be accepted without any changes","body":"The certificate of maven central should be accepted without any changes"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673548266,"post_id":75100163,"comment_id":132529827,"body_markdown":"Which Java version do you use? Which Maven version do you use?","body":"Which Java version do you use? Which Maven version do you use?"},{"owner":{"account_id":27512337,"reputation":1,"user_id":20993997,"display_name":"Shivani Pentela"},"score":0,"creation_date":1673633019,"post_id":75100163,"comment_id":132550736,"body_markdown":"@https://stackoverflow.com/users/296328/khmarbaise, Java version used is &quot;11.0.13&quot;  and Maven version is Apache Maven 3.5.2","body":"@<a href=\"https://stackoverflow.com/users/296328/khmarbaise\">stackoverflow.com/users/296328/khmarbaise</a>, Java version used is &quot;11.0.13&quot;  and Maven version is Apache Maven 3.5.2"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1674086081,"post_id":75100163,"comment_id":132642686,"body_markdown":"It might be useful to know where you are executing this from.  Are you behind a corporate firewall?  It&#39;s possible your enterprise requires a specific intermediate root certificate installed in your JDK&#39;s cacerts truststore.","body":"It might be useful to know where you are executing this from.  Are you behind a corporate firewall?  It&#39;s possible your enterprise requires a specific intermediate root certificate installed in your JDK&#39;s cacerts truststore."}],"answers":[{"tags":[],"owner":{"account_id":3300251,"reputation":149,"user_id":2776597,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690879977,"creation_date":1690879977,"answer_id":76810000,"question_id":75100163,"body_markdown":"Starting with Maven 3.9 they changed the default Transport implementation to **native**.\r\n\r\nTry with this option to disable SSL verifications:\r\n\r\n    mvn compile -Daether.connector.https.securityMode=insecure\r\n\r\nBackground:\r\nhttps://maven.apache.org/guides/mini/guide-resolver-transport.html","title":"Maven error stating that PKIX path building failed: unable to find the valid certificate","body":"<p>Starting with Maven 3.9 they changed the default Transport implementation to <strong>native</strong>.</p>\n<p>Try with this option to disable SSL verifications:</p>\n<pre><code>mvn compile -Daether.connector.https.securityMode=insecure\n</code></pre>\n<p>Background:\n<a href=\"https://maven.apache.org/guides/mini/guide-resolver-transport.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-resolver-transport.html</a></p>\n"}],"owner":{"account_id":27512337,"reputation":1,"user_id":20993997,"display_name":"Shivani Pentela"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690879977,"creation_date":1673544545,"question_id":75100163,"body_markdown":"While i am building the code in my local, I am getting this error.\r\n\r\nI have tried downloading the certificate from https://repo.maven.apache.org/maven2, and through cmd , i have given the command to trust the certificate but this has not solved the problem.\r\n\r\n Non-resolvable import POM: Could not transfer artifact org.junit:junit-bom:pom:5.6.2 from/to central (https://repo.maven.apache.org/maven2): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n Please help me how I can fix this issue\r\n\r\nI have tried downloading the certificate from https://repo.maven.apache.org/maven2, and through cmd , i have given the command to trust the certificate but this has not solved the problem.","title":"Maven error stating that PKIX path building failed: unable to find the valid certificate","body":"<p>While i am building the code in my local, I am getting this error.</p>\n<p>I have tried downloading the certificate from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>, and through cmd , i have given the command to trust the certificate but this has not solved the problem.</p>\n<p>Non-resolvable import POM: Could not transfer artifact org.junit:junit-bom:pom:5.6.2 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n<p>Please help me how I can fix this issue</p>\n<p>I have tried downloading the certificate from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>, and through cmd , i have given the command to trust the certificate but this has not solved the problem.</p>\n"},{"tags":["java","spring-boot","logging","logback","pattern-layout"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690815601,"post_id":76804806,"comment_id":135401966,"body_markdown":"This is Logback not Log4j...","body":"This is Logback not Log4j..."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690816958,"post_id":76804806,"comment_id":135402282,"body_markdown":"Why do you say you have a log4j issue if you are using the logback logging library which is unrelated to log4j? Please edit your question.","body":"Why do you say you have a log4j issue if you are using the logback logging library which is unrelated to log4j? Please edit your question."},{"owner":{"account_id":29129763,"reputation":1,"user_id":22315321,"display_name":"Bernadett Kov&#225;cs-Szenti"},"score":0,"creation_date":1690880120,"post_id":76804806,"comment_id":135411252,"body_markdown":"Sorry for the inaccurate title and description, I fixed the title. I have just few experience with that.","body":"Sorry for the inaccurate title and description, I fixed the title. I have just few experience with that."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690817243,"creation_date":1690817243,"answer_id":76805057,"question_id":76804806,"body_markdown":"Don&#39;t assume a bug until you discarded user error. `%C{1.}`: the `%C` (or `%class`) [conversion word][1] takes an integer as an argument to shorten the class name, but you passed a floating point number because of the decimal dot. \r\n\r\nThe error is clear in the error message `failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot;` and above documentation link provides the definition.\r\n\r\nRemove that dot and it should resolve the issue.\r\n\r\n\r\n  [1]: https://logback.qos.ch/manual/layouts.html#ClassicPatternLayout","title":"Logback PatternLayout class name format problem with Spring Boot 3.0","body":"<p>Don't assume a bug until you discarded user error. <code>%C{1.}</code>: the <code>%C</code> (or <code>%class</code>) <a href=\"https://logback.qos.ch/manual/layouts.html#ClassicPatternLayout\" rel=\"nofollow noreferrer\">conversion word</a> takes an integer as an argument to shorten the class name, but you passed a floating point number because of the decimal dot.</p>\n<p>The error is clear in the error message <code>failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot;</code> and above documentation link provides the definition.</p>\n<p>Remove that dot and it should resolve the issue.</p>\n"}],"owner":{"account_id":29129763,"reputation":1,"user_id":22315321,"display_name":"Bernadett Kov&#225;cs-Szenti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690879880,"creation_date":1690815213,"question_id":76804806,"body_markdown":"I would like to ask your help. I have a small Spring Boot Application project with v2.7.1. I started to change the version to v3.0.6 and I faced with a logback problem.\r\nIn my logback xml file I use %C{1.} for PatternLayout but it does not work, I get an error. When I replace it with %C{1} it&#39;s working. I would like to use %C{1.} pattern and I don&#39;t know why I cannot.\r\n\r\nThanks your help in advance!\r\n\r\nAppender in logback xml:\r\n```\r\n    &lt;appender name=&quot;Console&quot;\r\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n```\r\n\r\nError:\r\n```\r\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.classic.pattern.LoggerConverter@5b080f3a - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot;\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n\t... 19 more\r\n```\r\n\r\nI tried to edit %C{1.} to %C{1} and it worked but this is another pattern for formatting a class name in logs.","title":"Logback PatternLayout class name format problem with Spring Boot 3.0","body":"<p>I would like to ask your help. I have a small Spring Boot Application project with v2.7.1. I started to change the version to v3.0.6 and I faced with a logback problem.\nIn my logback xml file I use %C{1.} for PatternLayout but it does not work, I get an error. When I replace it with %C{1} it's working. I would like to use %C{1.} pattern and I don't know why I cannot.</p>\n<p>Thanks your help in advance!</p>\n<p>Appender in logback xml:</p>\n<pre><code>    &lt;appender name=&quot;Console&quot;\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.classic.pattern.LoggerConverter@5b080f3a - failed to parse integer string [1.] java.lang.NumberFormatException: For input string: &quot;1.&quot;\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    ... 19 more\n</code></pre>\n<p>I tried to edit %C{1.} to %C{1} and it worked but this is another pattern for formatting a class name in logs.</p>\n"},{"tags":["java","spring","spring-boot","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1690884553,"post_id":76809754,"comment_id":135412165,"body_markdown":"https://stackoverflow.com/a/76757037/1662997","body":"<a href=\"https://stackoverflow.com/a/76757037/1662997\">stackoverflow.com/a/76757037/1662997</a>"}],"owner":{"account_id":19233433,"reputation":1,"user_id":14054876,"display_name":"FOCS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690879602,"creation_date":1690878137,"question_id":76809754,"body_markdown":"I&#39;m currently experimenting with Vaadin, so I&#39;ve decided to start a Spring project and I was trying to build a UI. So far I&#39;ve organized my packages this way:\r\n\r\n    main\r\n      └── java\r\n            └── com.asta\r\n                      ├── ui\r\n                      │       ├── client package with Vaadin files (com.asta.ui.views, com.asta.ui.components, etc.)\r\n                      │\r\n                      └── server\r\n                              ├── config\r\n                              │       └── Configuration classes (Spring configurations, security configs, etc.)\r\n                              │\r\n                              ├── controllers\r\n                              │       └── All controllers (SquadraController, GiocatoreController, etc.)\r\n                              │\r\n                              ├── entities\r\n                              │       └── All JPA entities (Squadra, Giocatore, etc.)\r\n                              │\r\n                              ├── repositories\r\n                              │       └── All JPA repositories (SquadraRepository, GiocatoreRepository, etc.)\r\n                              │\r\n                              ├── services\r\n                              │       └── All service classes (SquadraService, GiocatoreService, etc.)\r\n                              │\r\n                              └── util\r\n                                      └── Utility classes, if any.\r\n\r\nNow, my SpringbootApplication and my MainView classes are in com.asta.server, but if i move the last one to the ui package, it doesn&#39;t work anymore. Is there a way to allow MainView to be in a different package?\r\n\r\n\r\n\r\nI&#39;ve tried working with annotations and googling my problem with no results so far.","title":"Vaadin&#39;s MainView seems to be unrecognized if moved to a different package from the one where my Springboot Application is","body":"<p>I'm currently experimenting with Vaadin, so I've decided to start a Spring project and I was trying to build a UI. So far I've organized my packages this way:</p>\n<pre><code>main\n  └── java\n        └── com.asta\n                  ├── ui\n                  │       ├── client package with Vaadin files (com.asta.ui.views, com.asta.ui.components, etc.)\n                  │\n                  └── server\n                          ├── config\n                          │       └── Configuration classes (Spring configurations, security configs, etc.)\n                          │\n                          ├── controllers\n                          │       └── All controllers (SquadraController, GiocatoreController, etc.)\n                          │\n                          ├── entities\n                          │       └── All JPA entities (Squadra, Giocatore, etc.)\n                          │\n                          ├── repositories\n                          │       └── All JPA repositories (SquadraRepository, GiocatoreRepository, etc.)\n                          │\n                          ├── services\n                          │       └── All service classes (SquadraService, GiocatoreService, etc.)\n                          │\n                          └── util\n                                  └── Utility classes, if any.\n</code></pre>\n<p>Now, my SpringbootApplication and my MainView classes are in com.asta.server, but if i move the last one to the ui package, it doesn't work anymore. Is there a way to allow MainView to be in a different package?</p>\n<p>I've tried working with annotations and googling my problem with no results so far.</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":4356937,"reputation":418,"user_id":3555230,"display_name":"gruntled"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632708478,"creation_date":1632708478,"answer_id":69340450,"question_id":69326960,"body_markdown":"You can add the `@EnableVaadin` annotation on your Spring application class, and supply the package name. So in your example it would be\r\n\r\n    @SpringBootApplication\r\n    @EnableVaadin(value = &quot;com.xyz.vaadin.views&quot;)\r\n    public class MainClass {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainClass.class, args);\r\n        }\r\n    }","title":"Vaadin flow - Having views in a different package","body":"<p>You can add the <code>@EnableVaadin</code> annotation on your Spring application class, and supply the package name. So in your example it would be</p>\n<pre><code>@SpringBootApplication\n@EnableVaadin(value = &quot;com.xyz.vaadin.views&quot;)\npublic class MainClass {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainClass.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3325683,"reputation":25,"user_id":2795822,"display_name":"Ronan Quintin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632759894,"creation_date":1632759894,"answer_id":69350088,"question_id":69326960,"body_markdown":"This issue can be triggered when you instantiate &quot;RouterLink&quot; with views/component that aren&#39;t annotated with &quot;@Route&quot;. It happens even if you actually don&#39;t try to access to this particular view.","title":"Vaadin flow - Having views in a different package","body":"<p>This issue can be triggered when you instantiate &quot;RouterLink&quot; with views/component that aren't annotated with &quot;@Route&quot;. It happens even if you actually don't try to access to this particular view.</p>\n"}],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69340450,"answer_count":2,"score":2,"last_activity_date":1690879506,"creation_date":1632579228,"question_id":69326960,"body_markdown":"Exists in vaadin flow an option to have the views in a different package and not as a subpackage where the main spring boot class is located? e.g.\r\n\r\n```\r\ncom.xyz.vaadin.app --&gt; Spring Boot Main\r\ncom.xyz.vaadin.config\r\ncom.xyz.vaadin.views  --&gt; Main view\r\n```\r\n\r\nI already tried to use &quot;@SpringBootApplication scanBasePackages&quot; or &quot;scanBasePackageClasses&quot; and passed the main view package or main view class but after starting the application it does not found the view. Error &quot;Route is not found&quot;\r\n","title":"Vaadin flow - Having views in a different package","body":"<p>Exists in vaadin flow an option to have the views in a different package and not as a subpackage where the main spring boot class is located? e.g.</p>\n<pre><code>com.xyz.vaadin.app --&gt; Spring Boot Main\ncom.xyz.vaadin.config\ncom.xyz.vaadin.views  --&gt; Main view\n</code></pre>\n<p>I already tried to use &quot;@SpringBootApplication scanBasePackages&quot; or &quot;scanBasePackageClasses&quot; and passed the main view package or main view class but after starting the application it does not found the view. Error &quot;Route is not found&quot;</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661803038,"creation_date":1661803038,"answer_id":73534055,"question_id":73476729,"body_markdown":"The `@ResponseBody` annotation is used to serialize a Java object to the response (typically as JSON or XML).\r\nHere you don&#39;t want to convert anything, just send raw binary content. Remove the annotation.\r\n\r\nYou should also change `@RestController` to `@Controller`, because `@RestController` automatically adds `@ResponseBody`.\r\n","title":"How to solve &quot;No converter for [class [B] with preset Content-Type &#39;image/png&#39;&quot; error in Spring when trying to serve an image?","body":"<p>The <code>@ResponseBody</code> annotation is used to serialize a Java object to the response (typically as JSON or XML).\nHere you don't want to convert anything, just send raw binary content. Remove the annotation.</p>\n<p>You should also change <code>@RestController</code> to <code>@Controller</code>, because <code>@RestController</code> automatically adds <code>@ResponseBody</code>.</p>\n"},{"tags":[],"owner":{"account_id":1164213,"reputation":431,"user_id":1143156,"accept_rate":58,"display_name":"Rickky13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662012539,"creation_date":1662012539,"answer_id":73564901,"question_id":73476729,"body_markdown":"It seems like the problem you are facing is due to `@BasePathAwareController` , remove it and you are good to go.\r\n\r\nDescription:\r\n\r\nBased on the stack trace shared:\r\n[![enter image description here][1]][1]\r\n\r\nit occurs that SpringDataRest is trying to map an appropriate object to the `content-type` which it cannot find. hence throwing an generic 500 exception.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XtJB9.png","title":"How to solve &quot;No converter for [class [B] with preset Content-Type &#39;image/png&#39;&quot; error in Spring when trying to serve an image?","body":"<p>It seems like the problem you are facing is due to <code>@BasePathAwareController</code> , remove it and you are good to go.</p>\n<p>Description:</p>\n<p>Based on the stack trace shared:\n<a href=\"https://i.stack.imgur.com/XtJB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XtJB9.png\" alt=\"enter image description here\" /></a></p>\n<p>it occurs that SpringDataRest is trying to map an appropriate object to the <code>content-type</code> which it cannot find. hence throwing an generic 500 exception.</p>\n"},{"tags":[],"owner":{"account_id":26508519,"reputation":1,"user_id":20144250,"display_name":"Michel DIO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664729307,"creation_date":1664729307,"answer_id":73927635,"question_id":73476729,"body_markdown":"For those who are interested: i&#39;ve had same issue and solve it like this.\r\nThis code is not the final, only for test in my case.\r\n\r\n**Angular frontend openlayers**\r\n\r\nTile layer : i defined custom tileLoadFunction (example can be found in openlayers docs), url call my springboot backend api witch is proxying geoserver backend, a jwt token is sent in the fetch header (for security purpose, not mandatory)\r\n\r\n            new TileLayer({\r\n          source: new TileWMS({\r\n            url: &#39;http://localhost:8080/api/v1/map/wms&#39;,\r\n            tileLoadFunction: (tile, src) =&gt; {\r\n              const retryCodes = [408, 429, 500, 502, 503, 504];\r\n              const retries: any = {};\r\n              const image: any = (tile as ImageTile).getImage();\r\n              fetch(src, {\r\n                headers: {\r\n                  Authorization: &#39;Bearer &#39; + this.oauthService.getAccessToken(),\r\n                },\r\n              })\r\n                .then((response) =&gt; {\r\n                  if (retryCodes.includes(response.status)) {\r\n                    retries[src] = (retries[src] || 0) + 1;\r\n                    if (retries[src] &lt;= 3) {\r\n                      setTimeout(() =&gt; tile.load(), retries[src] * 1000);\r\n                    }\r\n                    return Promise.reject();\r\n                  }\r\n                  return response.blob();\r\n                })\r\n                .then((blob) =&gt; {\r\n                  const imageUrl = URL.createObjectURL(blob);\r\n                  image.src = imageUrl;\r\n                  setTimeout(() =&gt; URL.revokeObjectURL(imageUrl), 5000);\r\n                })\r\n                .catch(() =&gt; tile.setState(3)); // error\r\n            },\r\n            params: {\r\n              LAYERS: &#39;TEST:section_33&#39;,\r\n              TILED: true,\r\n            },\r\n            serverType: &#39;geoserver&#39;,\r\n            transition: 0,\r\n          }),\r\n\r\n**Springboot backend**\r\n\r\nI have a RestController endpoint witch is close to the first post, and everythind is ok for me : wms geoserver tiles are called by my frontend, the bakend intercept these calls and make geoserver request and finally send back the tiles to the frontend and the wms layer appears to the map \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/map&quot;)\r\n    @Slf4j\r\n    public class MapController {\r\n    \r\n    \r\n        @GetMapping(value = &quot;/wms&quot;)\r\n        public ResponseEntity&lt;byte[]&gt; getWmsTile(@RequestParam MultiValueMap&lt;String, String&gt; requestParams, @RequestHeader Map&lt;String, String&gt; headers, HttpServletRequest request) throws IOException {\r\n    \r\n            WebClient client = WebClient.builder()\r\n                    .baseUrl(&quot;http://localhost:7070/geoserver/TEST/wms&quot;)\r\n                    .build();\r\n\r\n            WebClient.ResponseSpec response = client.get()\r\n                    .uri(uriBuilder -&gt; uriBuilder\r\n                            .path(&quot;&quot;)\r\n                            .queryParams(requestParams)\r\n                            .build())\r\n                    .headers(httpHeaders -&gt; {\r\n                        headers.forEach(httpHeaders::set);\r\n                    })\r\n                    .retrieve();\r\n            HttpHeaders responseHeaders = response.toBodilessEntity().map(HttpEntity::getHeaders).block();\r\n    \r\n            byte[] responseBody = response.bodyToMono(byte[].class).block();\r\n    \r\n            return ResponseEntity.ok().contentType(MediaType.IMAGE_PNG).body(responseBody);\r\n        }\r\n    \r\n    }","title":"How to solve &quot;No converter for [class [B] with preset Content-Type &#39;image/png&#39;&quot; error in Spring when trying to serve an image?","body":"<p>For those who are interested: i've had same issue and solve it like this.\nThis code is not the final, only for test in my case.</p>\n<p><strong>Angular frontend openlayers</strong></p>\n<p>Tile layer : i defined custom tileLoadFunction (example can be found in openlayers docs), url call my springboot backend api witch is proxying geoserver backend, a jwt token is sent in the fetch header (for security purpose, not mandatory)</p>\n<pre><code>        new TileLayer({\n      source: new TileWMS({\n        url: 'http://localhost:8080/api/v1/map/wms',\n        tileLoadFunction: (tile, src) =&gt; {\n          const retryCodes = [408, 429, 500, 502, 503, 504];\n          const retries: any = {};\n          const image: any = (tile as ImageTile).getImage();\n          fetch(src, {\n            headers: {\n              Authorization: 'Bearer ' + this.oauthService.getAccessToken(),\n            },\n          })\n            .then((response) =&gt; {\n              if (retryCodes.includes(response.status)) {\n                retries[src] = (retries[src] || 0) + 1;\n                if (retries[src] &lt;= 3) {\n                  setTimeout(() =&gt; tile.load(), retries[src] * 1000);\n                }\n                return Promise.reject();\n              }\n              return response.blob();\n            })\n            .then((blob) =&gt; {\n              const imageUrl = URL.createObjectURL(blob);\n              image.src = imageUrl;\n              setTimeout(() =&gt; URL.revokeObjectURL(imageUrl), 5000);\n            })\n            .catch(() =&gt; tile.setState(3)); // error\n        },\n        params: {\n          LAYERS: 'TEST:section_33',\n          TILED: true,\n        },\n        serverType: 'geoserver',\n        transition: 0,\n      }),\n</code></pre>\n<p><strong>Springboot backend</strong></p>\n<p>I have a RestController endpoint witch is close to the first post, and everythind is ok for me : wms geoserver tiles are called by my frontend, the bakend intercept these calls and make geoserver request and finally send back the tiles to the frontend and the wms layer appears to the map</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/map&quot;)\n@Slf4j\npublic class MapController {\n\n\n    @GetMapping(value = &quot;/wms&quot;)\n    public ResponseEntity&lt;byte[]&gt; getWmsTile(@RequestParam MultiValueMap&lt;String, String&gt; requestParams, @RequestHeader Map&lt;String, String&gt; headers, HttpServletRequest request) throws IOException {\n\n        WebClient client = WebClient.builder()\n                .baseUrl(&quot;http://localhost:7070/geoserver/TEST/wms&quot;)\n                .build();\n\n        WebClient.ResponseSpec response = client.get()\n                .uri(uriBuilder -&gt; uriBuilder\n                        .path(&quot;&quot;)\n                        .queryParams(requestParams)\n                        .build())\n                .headers(httpHeaders -&gt; {\n                    headers.forEach(httpHeaders::set);\n                })\n                .retrieve();\n        HttpHeaders responseHeaders = response.toBodilessEntity().map(HttpEntity::getHeaders).block();\n\n        byte[] responseBody = response.bodyToMono(byte[].class).block();\n\n        return ResponseEntity.ok().contentType(MediaType.IMAGE_PNG).body(responseBody);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26793716,"reputation":1,"user_id":20386748,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690878905,"creation_date":1690878905,"answer_id":76809848,"question_id":73476729,"body_markdown":"After tested with my project, it&#39;s fine to keep the `@RestController`, the root cause is because of the `@BasePathAwareController`. The automatically added `@ResponseBody` is not a problem with this issue.","title":"How to solve &quot;No converter for [class [B] with preset Content-Type &#39;image/png&#39;&quot; error in Spring when trying to serve an image?","body":"<p>After tested with my project, it's fine to keep the <code>@RestController</code>, the root cause is because of the <code>@BasePathAwareController</code>. The automatically added <code>@ResponseBody</code> is not a problem with this issue.</p>\n"}],"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73534055,"answer_count":4,"score":2,"last_activity_date":1690878905,"creation_date":1661358869,"question_id":73476729,"body_markdown":"I&#39;m trying to build a spring controller which essentially acts as a reverse-proxy for a geoserver instance.\r\nFor example if the client wants to access `geoserver/wms?PARAM1=foo&amp;PARAM2=bar`, the controller will simply forward the request to the actual geoserver instance and serve back the response. In my case, geoserver either returns an XML payload or an image.\r\n\r\nWhen testing this controller with an URL which returns an image, I am able to process the initial client request, forward it to geoserver and then process it but I&#39;m getting the following error when serving the response to the client : \r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nNo converter for [class [B] with preset Content-Type &#39;image/png&#39;\r\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class [B] with preset Content-Type &#39;image/png&#39;\r\n``` \r\n[Full stack trace][1]\r\n\r\nHere is the controller class:\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.rest.webmvc.BasePathAwareController;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.converter.HttpMessageConverter;\r\nimport org.springframework.util.AntPathMatcher;\r\nimport org.springframework.util.MultiValueMap;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Slf4j\r\n@RestController\r\n@BasePathAwareController\r\npublic class GeoServerProxyController {\r\n\r\n  //only used to check which converters are present\r\n    @Autowired\r\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; converters;\r\n\r\n    @RequestMapping(value = &quot;/geoserver/**&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;byte[]&gt; forwardRequest(@RequestParam MultiValueMap&lt;String, String&gt; requestParams, @RequestHeader Map&lt;String, String&gt; headers, HttpServletRequest request) {\r\n        WebClient client = WebClient.builder()\r\n                .baseUrl(&quot;http://127.0.0.1:8090/geoserver/&quot;)\r\n                .build();\r\n\r\n        String url = new AntPathMatcher().extractPathWithinPattern(&quot;/geoserver/**&quot;, request.getRequestURI());\r\n        WebClient.ResponseSpec response = client.get()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                        .path(url)\r\n                        .queryParams(requestParams)\r\n                        .build())\r\n                .headers(httpHeaders -&gt; {\r\n                    headers.forEach(httpHeaders::set);\r\n                })\r\n                .retrieve();\r\n        HttpHeaders responseHeaders = response.toBodilessEntity().map(HttpEntity::getHeaders).block();\r\n\r\n        byte[] responseBody = response.bodyToMono(byte[].class).block();\r\n        return ResponseEntity.ok().headers(responseHeaders).body(responseBody);\r\n    }\r\n\r\n``` \r\nAs advised in another thread, I have tried registering a byte array http message converter, which I was able to confirm is added to the list of http message converters.\r\n```java\r\n@Configuration\r\npublic class WebMVCConfig implements WebMvcConfigurer {\r\n\r\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n        final ByteArrayHttpMessageConverter arrayHttpMessageConverter = new ByteArrayHttpMessageConverter();\r\n        final List&lt;MediaType&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(MediaType.IMAGE_JPEG);\r\n        list.add(MediaType.IMAGE_PNG);\r\n        list.add(MediaType.APPLICATION_OCTET_STREAM);\r\n        arrayHttpMessageConverter.setSupportedMediaTypes(list);\r\n        converters.add(arrayHttpMessageConverter);\r\n    }\r\n}\r\n\r\n```\r\nThis resulted in the same error.\r\n\r\nI have also tried using &#160;`InputStreamResource` as a return type, as recommended by [this article][2]. It resulted in the same kind of error except with `InputStreamResource` instead of `class [B]`.\r\n\r\nI have also tried adding the following annotation to my controller method (which wasn&#39;t optimal as I would prefer not specifying a constant content type) : \r\n```java\r\n@RequestMapping(value = &quot;/geoserver/**&quot;, produces=MediaType.IMAGE_PNG_VALUE)\r\n```\r\nThis also results in the exact same error.   \r\nI was not able to find a solution to this problem in other threads or in spring web documentation. The most common problem that somewhat resembles this deals with a &quot;Content-Type=null&quot; header, which is not my case.\r\n\r\nDoes anyone know how to solve this error ? Alternatively, is there a better way to serve distant image files through a Spring controller ? \r\n\r\n\r\n  [1]: https://pastebin.com/0pgfKtkt\r\n  [2]: https://www.baeldung.com/spring-controller-return-image-file","title":"How to solve &quot;No converter for [class [B] with preset Content-Type &#39;image/png&#39;&quot; error in Spring when trying to serve an image?","body":"<p>I'm trying to build a spring controller which essentially acts as a reverse-proxy for a geoserver instance.\nFor example if the client wants to access <code>geoserver/wms?PARAM1=foo&amp;PARAM2=bar</code>, the controller will simply forward the request to the actual geoserver instance and serve back the response. In my case, geoserver either returns an XML payload or an image.</p>\n<p>When testing this controller with an URL which returns an image, I am able to process the initial client request, forward it to geoserver and then process it but I'm getting the following error when serving the response to the client :</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nNo converter for [class [B] with preset Content-Type 'image/png'\norg.springframework.http.converter.HttpMessageNotWritableException: No converter for [class [B] with preset Content-Type 'image/png'\n</code></pre>\n<p><a href=\"https://pastebin.com/0pgfKtkt\" rel=\"nofollow noreferrer\">Full stack trace</a></p>\n<p>Here is the controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.rest.webmvc.BasePathAwareController;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.util.AntPathMatcher;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.util.List;\nimport java.util.Map;\n\n@Slf4j\n@RestController\n@BasePathAwareController\npublic class GeoServerProxyController {\n\n  //only used to check which converters are present\n    @Autowired\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; converters;\n\n    @RequestMapping(value = &quot;/geoserver/**&quot;)\n    @ResponseBody\n    public ResponseEntity&lt;byte[]&gt; forwardRequest(@RequestParam MultiValueMap&lt;String, String&gt; requestParams, @RequestHeader Map&lt;String, String&gt; headers, HttpServletRequest request) {\n        WebClient client = WebClient.builder()\n                .baseUrl(&quot;http://127.0.0.1:8090/geoserver/&quot;)\n                .build();\n\n        String url = new AntPathMatcher().extractPathWithinPattern(&quot;/geoserver/**&quot;, request.getRequestURI());\n        WebClient.ResponseSpec response = client.get()\n                .uri(uriBuilder -&gt; uriBuilder\n                        .path(url)\n                        .queryParams(requestParams)\n                        .build())\n                .headers(httpHeaders -&gt; {\n                    headers.forEach(httpHeaders::set);\n                })\n                .retrieve();\n        HttpHeaders responseHeaders = response.toBodilessEntity().map(HttpEntity::getHeaders).block();\n\n        byte[] responseBody = response.bodyToMono(byte[].class).block();\n        return ResponseEntity.ok().headers(responseHeaders).body(responseBody);\n    }\n\n</code></pre>\n<p>As advised in another thread, I have tried registering a byte array http message converter, which I was able to confirm is added to the list of http message converters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebMVCConfig implements WebMvcConfigurer {\n\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        final ByteArrayHttpMessageConverter arrayHttpMessageConverter = new ByteArrayHttpMessageConverter();\n        final List&lt;MediaType&gt; list = new ArrayList&lt;&gt;();\n        list.add(MediaType.IMAGE_JPEG);\n        list.add(MediaType.IMAGE_PNG);\n        list.add(MediaType.APPLICATION_OCTET_STREAM);\n        arrayHttpMessageConverter.setSupportedMediaTypes(list);\n        converters.add(arrayHttpMessageConverter);\n    }\n}\n\n</code></pre>\n<p>This resulted in the same error.</p>\n<p>I have also tried using  <code>InputStreamResource</code> as a return type, as recommended by <a href=\"https://www.baeldung.com/spring-controller-return-image-file\" rel=\"nofollow noreferrer\">this article</a>. It resulted in the same kind of error except with <code>InputStreamResource</code> instead of <code>class [B]</code>.</p>\n<p>I have also tried adding the following annotation to my controller method (which wasn't optimal as I would prefer not specifying a constant content type) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/geoserver/**&quot;, produces=MediaType.IMAGE_PNG_VALUE)\n</code></pre>\n<p>This also results in the exact same error.<br />\nI was not able to find a solution to this problem in other threads or in spring web documentation. The most common problem that somewhat resembles this deals with a &quot;Content-Type=null&quot; header, which is not my case.</p>\n<p>Does anyone know how to solve this error ? Alternatively, is there a better way to serve distant image files through a Spring controller ?</p>\n"},{"tags":["java","java-stream","java-9"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1554115257,"post_id":55453144,"comment_id":97619998,"body_markdown":"What about `takeWhile(n -&gt; n!=5)` or `takeWhile(n -&gt; n &lt; 6)`?","body":"What about <code>takeWhile(n -&gt; n!=5)</code> or <code>takeWhile(n -&gt; n &lt; 6)</code>?"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1554115558,"post_id":55453144,"comment_id":97620154,"body_markdown":"Do you really need a peek?","body":"Do you really need a peek?"},{"owner":{"account_id":7380762,"reputation":324,"user_id":5617549,"display_name":"MugenTwo"},"score":2,"creation_date":1554115721,"post_id":55453144,"comment_id":97620255,"body_markdown":"@soorapadman I used to peek() method here to properly explain what is going on.","body":"@soorapadman I used to peek() method here to properly explain what is going on."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554115787,"creation_date":1554115787,"answer_id":55453373,"question_id":55453144,"body_markdown":"There&#39;s no convenient way to do that with the normal stream API. It is possible in [an ugly way](https://stackoverflow.com/a/20765715/1898563) (you would need to adapt this implementation, that&#39;s just a normal `takeWhile` &quot;backported&quot; for Java 8).\r\n\r\n[This guy](https://stackoverflow.com/a/32304962/1898563) has written a stream extension library which has [`takeWhileInclusive`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/IntStreamEx.html#takeWhileInclusive-java.util.function.IntPredicate-).\r\n\r\nSample usage:\r\n\r\n    IntStreamEx.of(1, 3, 2, 5, 4, 6)\r\n        .peek(foo -&gt; System.out.println(&quot;Peek: &quot; + foo))\r\n        .takeWhileInclusive(n -&gt; n &lt; 5)\r\n        .forEach(bar -&gt; System.out.println(&quot;forEach: &quot; + bar));","title":"Inclusive takeWhile() for Streams","body":"<p>There's no convenient way to do that with the normal stream API. It is possible in <a href=\"https://stackoverflow.com/a/20765715/1898563\">an ugly way</a> (you would need to adapt this implementation, that's just a normal <code>takeWhile</code> \"backported\" for Java 8).</p>\n\n<p><a href=\"https://stackoverflow.com/a/32304962/1898563\">This guy</a> has written a stream extension library which has <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/IntStreamEx.html#takeWhileInclusive-java.util.function.IntPredicate-\" rel=\"nofollow noreferrer\"><code>takeWhileInclusive</code></a>.</p>\n\n<p>Sample usage:</p>\n\n<pre><code>IntStreamEx.of(1, 3, 2, 5, 4, 6)\n    .peek(foo -&gt; System.out.println(\"Peek: \" + foo))\n    .takeWhileInclusive(n -&gt; n &lt; 5)\n    .forEach(bar -&gt; System.out.println(\"forEach: \" + bar));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3265223,"reputation":542,"user_id":2749853,"display_name":"Luca Abbati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559804183,"creation_date":1559804183,"answer_id":56472299,"question_id":55453144,"body_markdown":"I add an horrible approach that might be overkill for your (or any) use case, but just for fun.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; source = List.of(1, 3, 2, 5, 4, 6);\r\n        Iterator&lt;Integer&gt; iterator = source.iterator();\r\n        AtomicBoolean proceed = new AtomicBoolean(true);\r\n\r\n        Stream\r\n            .generate(() -&gt; {\r\n                if (!proceed.get() || !iterator.hasNext()) {\r\n                    return null;\r\n                }\r\n                int value = iterator.next();\r\n                System.out.println(&quot;generate: &quot; + value);\r\n                proceed.set(value &lt; 5);\r\n                return value;\r\n            })\r\n            .takeWhile(Objects::nonNull)\r\n            .forEach(bar -&gt; System.out.println(&quot;forEach: &quot; + bar));\r\n\r\n    }\r\n\r\nThe output will be:\r\n\r\n    generate: 1\r\n    forEach: 1\r\n    generate: 3\r\n    forEach: 3\r\n    generate: 2\r\n    forEach: 2\r\n    generate: 5\r\n    forEach: 5\r\n\r\nProbably the worst thing about this approach is that it gives `generate()` a responsibility (checking if there are more) that it does not belong with it.\r\n","title":"Inclusive takeWhile() for Streams","body":"<p>I add an horrible approach that might be overkill for your (or any) use case, but just for fun.</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; source = List.of(1, 3, 2, 5, 4, 6);\n    Iterator&lt;Integer&gt; iterator = source.iterator();\n    AtomicBoolean proceed = new AtomicBoolean(true);\n\n    Stream\n        .generate(() -&gt; {\n            if (!proceed.get() || !iterator.hasNext()) {\n                return null;\n            }\n            int value = iterator.next();\n            System.out.println(\"generate: \" + value);\n            proceed.set(value &lt; 5);\n            return value;\n        })\n        .takeWhile(Objects::nonNull)\n        .forEach(bar -&gt; System.out.println(\"forEach: \" + bar));\n\n}\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>generate: 1\nforEach: 1\ngenerate: 3\nforEach: 3\ngenerate: 2\nforEach: 2\ngenerate: 5\nforEach: 5\n</code></pre>\n\n<p>Probably the worst thing about this approach is that it gives <code>generate()</code> a responsibility (checking if there are more) that it does not belong with it.</p>\n"},{"tags":[],"owner":{"account_id":1256882,"reputation":2244,"user_id":1216166,"display_name":"Andreas Berheim Brudin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648593308,"creation_date":1648560526,"answer_id":71662966,"question_id":55453144,"body_markdown":"An alternative would be to use a stateful predicate - this would be unpredictable if you try to parallellize the stream but as long as you do not need to do that:\r\n```\r\nprivate static &lt;T&gt; Predicate&lt;T&gt; inclusiveFirstFailed(final Predicate&lt;T&gt; p) {\r\n  final var goOn = new AtomicBoolean(true);\r\n  return t -&gt; p.test(t) ? goOn.get() : goOn.getAndSet(false);\r\n}\r\n```\r\nIn your case you would need to use an IntPredicate:\r\n```\r\nprivate static IntPredicate inclusiveFirstFailed(final IntPredicate p) {\r\n  final var goOn = new AtomicBoolean(true);\r\n  return t -&gt; p.test(t) ? goOn.get() : goOn.getAndSet(false);\r\n}\r\n```\r\nSample usage:\r\n```\r\nIntStream.of(1, 3, 2, 5, 4, 6)\r\n        .peek(foo -&gt; System.out.println(&quot;Peek: &quot; + foo))\r\n        .takeWhile(inclusiveFirstFailed(n -&gt; n &lt; 5))\r\n        .forEach(bar -&gt; System.out.println(&quot;forEach: &quot; + bar));\r\n```","title":"Inclusive takeWhile() for Streams","body":"<p>An alternative would be to use a stateful predicate - this would be unpredictable if you try to parallellize the stream but as long as you do not need to do that:</p>\n<pre><code>private static &lt;T&gt; Predicate&lt;T&gt; inclusiveFirstFailed(final Predicate&lt;T&gt; p) {\n  final var goOn = new AtomicBoolean(true);\n  return t -&gt; p.test(t) ? goOn.get() : goOn.getAndSet(false);\n}\n</code></pre>\n<p>In your case you would need to use an IntPredicate:</p>\n<pre><code>private static IntPredicate inclusiveFirstFailed(final IntPredicate p) {\n  final var goOn = new AtomicBoolean(true);\n  return t -&gt; p.test(t) ? goOn.get() : goOn.getAndSet(false);\n}\n</code></pre>\n<p>Sample usage:</p>\n<pre><code>IntStream.of(1, 3, 2, 5, 4, 6)\n        .peek(foo -&gt; System.out.println(&quot;Peek: &quot; + foo))\n        .takeWhile(inclusiveFirstFailed(n -&gt; n &lt; 5))\n        .forEach(bar -&gt; System.out.println(&quot;forEach: &quot; + bar));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670502926,"creation_date":1670502926,"answer_id":74730388,"question_id":55453144,"body_markdown":"Another way for linear Streams would be the iterative approach:\r\n```Java\r\npublic static &lt;T&gt; Stream&lt;T&gt; takeWhileIncl(Stream&lt;T&gt; stream, Predicate&lt;T&gt; pred) {\r\n\tvar res = new ArrayList&lt;T&gt;();\r\n\tfor (var e : stream.toList()) {\r\n\t\tres.add(e);\r\n\t\tif (pred.test(e))\r\n\t\t\tcontinue;\r\n\t\tbreak;\r\n\t}\r\n\treturn res.stream();\r\n}\r\n```    ","title":"Inclusive takeWhile() for Streams","body":"<p>Another way for linear Streams would be the iterative approach:</p>\n<pre><code>public static &lt;T&gt; Stream&lt;T&gt; takeWhileIncl(Stream&lt;T&gt; stream, Predicate&lt;T&gt; pred) {\n    var res = new ArrayList&lt;T&gt;();\n    for (var e : stream.toList()) {\n        res.add(e);\n        if (pred.test(e))\n            continue;\n        break;\n    }\n    return res.stream();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10541604,"reputation":1,"user_id":22319251,"display_name":"Luiz Augusto Garcia da Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690878772,"creation_date":1690878772,"answer_id":76809828,"question_id":55453144,"body_markdown":"The `limitUntilClosed` method from jOOl does exactly what you need.\r\n\r\nFor reference: \r\nhttps://www.jooq.org/products/jOO%CE%BB/javadoc/latest/org.jooq.jool/org/jooq/lambda/Seq.html#limitUntilClosed(java.util.function.Predicate)","title":"Inclusive takeWhile() for Streams","body":"<p>The <code>limitUntilClosed</code> method from jOOl does exactly what you need.</p>\n<p>For reference:\n<a href=\"https://www.jooq.org/products/jOO%CE%BB/javadoc/latest/org.jooq.jool/org/jooq/lambda/Seq.html#limitUntilClosed(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">https://www.jooq.org/products/jOO%CE%BB/javadoc/latest/org.jooq.jool/org/jooq/lambda/Seq.html#limitUntilClosed(java.util.function.Predicate)</a></p>\n"}],"owner":{"account_id":7380762,"reputation":324,"user_id":5617549,"display_name":"MugenTwo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2527,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1690878772,"creation_date":1554115092,"question_id":55453144,"body_markdown":"I want to know if there is a way to add the last element of the stream that was tested against the condition of the method `takeWhile()`. I believe I want to achieve something similar to RxJava&#39;s `takeUntil()` method.\r\n\r\nI&#39;m guessing there is no direct way to do this (correct me if I am mistaken), but I would like to know if there is a proper workaround to achieve this that I am now aware of.\r\n\r\nI&#39;ve searched throughout Stack Overflow with little to no success. If you think there are threads that could solve my problems, I would certainly like to see it.\r\n\r\nIf you look at the following code&#39;s `peek()` you will see that the number 5 is checked against the `takeWhile()` condition but it never arrives in the `forEach()`:\r\n\r\n```java\r\nIntStream.of(1, 3, 2, 5, 4, 6)\r\n        .peek(foo -&gt; System.out.println(&quot;Peek: &quot; + foo))\r\n        .takeWhile(n -&gt; n &lt; 5)\r\n        .forEach(bar -&gt; System.out.println(&quot;forEach: &quot; + bar));\r\n```\r\n\r\nThe expected result is for the last element checked against `takeWhile`&#39;s condition to arrive at the `forEach`&#39;s `System.out::println`. In this case it is 5.\r\n\r\nThanks to everyone!","title":"Inclusive takeWhile() for Streams","body":"<p>I want to know if there is a way to add the last element of the stream that was tested against the condition of the method <code>takeWhile()</code>. I believe I want to achieve something similar to RxJava's <code>takeUntil()</code> method.</p>\n<p>I'm guessing there is no direct way to do this (correct me if I am mistaken), but I would like to know if there is a proper workaround to achieve this that I am now aware of.</p>\n<p>I've searched throughout Stack Overflow with little to no success. If you think there are threads that could solve my problems, I would certainly like to see it.</p>\n<p>If you look at the following code's <code>peek()</code> you will see that the number 5 is checked against the <code>takeWhile()</code> condition but it never arrives in the <code>forEach()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.of(1, 3, 2, 5, 4, 6)\n        .peek(foo -&gt; System.out.println(&quot;Peek: &quot; + foo))\n        .takeWhile(n -&gt; n &lt; 5)\n        .forEach(bar -&gt; System.out.println(&quot;forEach: &quot; + bar));\n</code></pre>\n<p>The expected result is for the last element checked against <code>takeWhile</code>'s condition to arrive at the <code>forEach</code>'s <code>System.out::println</code>. In this case it is 5.</p>\n<p>Thanks to everyone!</p>\n"},{"tags":["java","shell"],"answers":[{"tags":[],"owner":{"account_id":28721185,"reputation":11,"user_id":21994919,"display_name":"Devesh Joshi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690878757,"creation_date":1690878681,"answer_id":76809813,"question_id":76809775,"body_markdown":"It looks like you are trying to set the JAVA_OPTS environment variable to specify the behavior when an OutOfMemoryError occurs in the Java Virtual Machine. However, there might be an issue with the way you are passing the arguments in the JAVA_OPTS variable.\r\n\r\nWhen you use the JAVA_OPTS+=&quot; -XX:OnOutOfMemoryError=\\&quot;Cloud_Metrix.sh $runtime_params\\&quot;&quot; line, it is essential to make sure that the $runtime_params variable is properly expanded when it is set. To do this, you can use single quotes instead of double quotes around the entire string:\r\n\r\n----------------------------------------------------------------------------\r\n```\r\nbash\r\n\r\nif [[ $SERVICE_NAME == &quot;abc&quot; ]]; \r\nthen\r\n  runtime_params=&quot;hello&quot;\r\n  JAVA_OPTS+=&quot; -XX:OnOutOfMemoryError=&#39;Cloud_Metrix.sh $runtime_params&#39;&quot;\r\nfi\r\n```\r\n----------------------------------------------------------------------------\r\n\r\nUsing single quotes will prevent the immediate expansion of $runtime_params, so it will be evaluated later when the JAVA_OPTS variable is used. Also, there&#39;s no need to escape the double quotes around Cloud_Metrix.sh $runtime_params in this context.\r\n\r\nNow, when you pass the JAVA_OPTS to the Java process, it should correctly include the OnOutOfMemoryError behavior with the Cloud_Metrix.sh script and the runtime_params argument.","title":"How i can pass argument in OnOutOfMemoryError","body":"<p>It looks like you are trying to set the JAVA_OPTS environment variable to specify the behavior when an OutOfMemoryError occurs in the Java Virtual Machine. However, there might be an issue with the way you are passing the arguments in the JAVA_OPTS variable.</p>\n<p>When you use the JAVA_OPTS+=&quot; -XX:OnOutOfMemoryError=&quot;Cloud_Metrix.sh $runtime_params&quot;&quot; line, it is essential to make sure that the $runtime_params variable is properly expanded when it is set. To do this, you can use single quotes instead of double quotes around the entire string:</p>\n<hr />\n<pre><code>bash\n\nif [[ $SERVICE_NAME == &quot;abc&quot; ]]; \nthen\n  runtime_params=&quot;hello&quot;\n  JAVA_OPTS+=&quot; -XX:OnOutOfMemoryError='Cloud_Metrix.sh $runtime_params'&quot;\nfi\n</code></pre>\n<hr />\n<p>Using single quotes will prevent the immediate expansion of $runtime_params, so it will be evaluated later when the JAVA_OPTS variable is used. Also, there's no need to escape the double quotes around Cloud_Metrix.sh $runtime_params in this context.</p>\n<p>Now, when you pass the JAVA_OPTS to the Java process, it should correctly include the OnOutOfMemoryError behavior with the Cloud_Metrix.sh script and the runtime_params argument.</p>\n"}],"owner":{"account_id":17634420,"reputation":89,"user_id":12797947,"display_name":"bateda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1690878757,"creation_date":1690878311,"question_id":76809775,"body_markdown":"In my shell script I am setting command on OnOutOfMemoryError, so when i pass only \r\nCloud_Metrix.sh then it&#39;s working but when i pass Cloud_Metrix.sh $runtime_params it&#39;s not working i want to pass the argument\r\n     \r\n    if [[ $SERVICE_NAME == &quot;abc&quot; ]]; \r\n    then\r\n      runtime_params=&quot;hello&quot;\r\n      JAVA_OPTS+=&quot; -XX:OnOutOfMemoryError=\\&quot;Cloud_Metrix.sh $runtime_params\\&quot;&quot;\r\n    fi","title":"How i can pass argument in OnOutOfMemoryError","body":"<p>In my shell script I am setting command on OnOutOfMemoryError, so when i pass only\nCloud_Metrix.sh then it's working but when i pass Cloud_Metrix.sh $runtime_params it's not working i want to pass the argument</p>\n<pre><code>if [[ $SERVICE_NAME == &quot;abc&quot; ]]; \nthen\n  runtime_params=&quot;hello&quot;\n  JAVA_OPTS+=&quot; -XX:OnOutOfMemoryError=\\&quot;Cloud_Metrix.sh $runtime_params\\&quot;&quot;\nfi\n</code></pre>\n"},{"tags":["java","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1673175055,"creation_date":1673124026,"answer_id":75043614,"question_id":75042081,"body_markdown":"It&#39;s hard to be sure, since you have not told us what the *Java* type of the field you&#39;re trying to map with the `@Lob` annotation is, but hell, just this once I&#39;ll have a go at reading your mind, and _speculate_ that what you&#39;ve written is this:\r\n\r\n    @Lob \r\n    byte[] binaryData;\r\n\r\nNow, the Postgres JDBC driver doesn&#39;t support using the LOB APIs to read/write `bytea` columns, and Hibernate knows about this, so it does the next-most-sensible thing, and assumes that this field maps to an `oid` column. This turns out to not be what you want.\r\n\r\nOf course, you could try bypassing Hibernate&#39;s knowledge of Postgres by writing:\r\n\r\n    @Lob @Column(columnDefinition=&quot;bytea&quot;) \r\n    byte[] binaryData;\r\n\r\nAnd then you would get an error from Postgres or its driver (I forget which), because, as I said, the postgres driver doesn&#39;t support this.\r\n\r\nSo what to do? \r\n\r\nWell, sure, you could try hacking the Hibernate `Dialect` as you have done above, to tell Hibernate to:\r\n\r\n1. use `bytea` for the JDBC type `BLOB`, and\r\n2. bind JDBC `BLOB`s using the usual handling for the JDBC type `BINARY` or `VARBINARY` or whatever.\r\n\r\nAnd yeah, you could still make that work easily enough in H6.\r\n\r\nOr, you know, _you could just remove the stupid `@Lob` annotation which isn&#39;t doing any useful work here_, and let Hibernate treat your field as a `varbinary`, which maps to `bytea` by default.\r\n\r\n    byte[] binaryData;\r\n\r\nNow, look, there might be something more to what you&#39;re doing here, but then you&#39;ll need to help me out here by actually posting the details of the field and how you&#39;ve mapped it.","title":"Hibernate 6, Postgres, and bytea","body":"<p>It's hard to be sure, since you have not told us what the <em>Java</em> type of the field you're trying to map with the <code>@Lob</code> annotation is, but hell, just this once I'll have a go at reading your mind, and <em>speculate</em> that what you've written is this:</p>\n<pre><code>@Lob \nbyte[] binaryData;\n</code></pre>\n<p>Now, the Postgres JDBC driver doesn't support using the LOB APIs to read/write <code>bytea</code> columns, and Hibernate knows about this, so it does the next-most-sensible thing, and assumes that this field maps to an <code>oid</code> column. This turns out to not be what you want.</p>\n<p>Of course, you could try bypassing Hibernate's knowledge of Postgres by writing:</p>\n<pre><code>@Lob @Column(columnDefinition=&quot;bytea&quot;) \nbyte[] binaryData;\n</code></pre>\n<p>And then you would get an error from Postgres or its driver (I forget which), because, as I said, the postgres driver doesn't support this.</p>\n<p>So what to do?</p>\n<p>Well, sure, you could try hacking the Hibernate <code>Dialect</code> as you have done above, to tell Hibernate to:</p>\n<ol>\n<li>use <code>bytea</code> for the JDBC type <code>BLOB</code>, and</li>\n<li>bind JDBC <code>BLOB</code>s using the usual handling for the JDBC type <code>BINARY</code> or <code>VARBINARY</code> or whatever.</li>\n</ol>\n<p>And yeah, you could still make that work easily enough in H6.</p>\n<p>Or, you know, <em>you could just remove the stupid <code>@Lob</code> annotation which isn't doing any useful work here</em>, and let Hibernate treat your field as a <code>varbinary</code>, which maps to <code>bytea</code> by default.</p>\n<pre><code>byte[] binaryData;\n</code></pre>\n<p>Now, look, there might be something more to what you're doing here, but then you'll need to help me out here by actually posting the details of the field and how you've mapped it.</p>\n"},{"tags":[],"owner":{"account_id":27714371,"reputation":41,"user_id":21156400,"display_name":"mrenne"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675936310,"creation_date":1675673301,"answer_id":75359082,"question_id":75042081,"body_markdown":"We had exactly the same problem and manage to fix it with this dialect class (kotlin):\r\n``` kotlin\r\nclass CustomSQLDialect : PostgreSQLDialect(DatabaseVersion.make(9, 5)) {\r\n    override fun columnType(sqlTypeCode: Int): String {\r\n        return when (sqlTypeCode) {\r\n            SqlTypes.BLOB -&gt; &quot;bytea&quot;\r\n            else -&gt; super.columnType(sqlTypeCode)\r\n        }\r\n    }\r\n\r\n    override fun castType(sqlTypeCode: Int): String {\r\n        return when (sqlTypeCode) {\r\n            SqlTypes.BLOB -&gt; &quot;bytea&quot;\r\n            else -&gt; super.castType(sqlTypeCode)\r\n        }\r\n    }\r\n\r\n    override fun contributeTypes(typeContributions: TypeContributions, serviceRegistry: ServiceRegistry) {\r\n        super.contributeTypes(typeContributions, serviceRegistry)\r\n        val jdbcTypeRegistry = typeContributions.typeConfiguration\r\n            .jdbcTypeRegistry\r\n        jdbcTypeRegistry.addDescriptor(Types.BLOB, BinaryJdbcType.INSTANCE)\r\n    }\r\n}\r\n```","title":"Hibernate 6, Postgres, and bytea","body":"<p>We had exactly the same problem and manage to fix it with this dialect class (kotlin):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class CustomSQLDialect : PostgreSQLDialect(DatabaseVersion.make(9, 5)) {\n    override fun columnType(sqlTypeCode: Int): String {\n        return when (sqlTypeCode) {\n            SqlTypes.BLOB -&gt; &quot;bytea&quot;\n            else -&gt; super.columnType(sqlTypeCode)\n        }\n    }\n\n    override fun castType(sqlTypeCode: Int): String {\n        return when (sqlTypeCode) {\n            SqlTypes.BLOB -&gt; &quot;bytea&quot;\n            else -&gt; super.castType(sqlTypeCode)\n        }\n    }\n\n    override fun contributeTypes(typeContributions: TypeContributions, serviceRegistry: ServiceRegistry) {\n        super.contributeTypes(typeContributions, serviceRegistry)\n        val jdbcTypeRegistry = typeContributions.typeConfiguration\n            .jdbcTypeRegistry\n        jdbcTypeRegistry.addDescriptor(Types.BLOB, BinaryJdbcType.INSTANCE)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29133724,"reputation":31,"user_id":22318366,"display_name":"Gyula K."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690878754,"creation_date":1690874946,"answer_id":76809377,"question_id":75042081,"body_markdown":"I had a similar problem, that I need to support `H2`,`MariaDB` and `PostgreSQL` at the same time. In addtion to the original problem I also has to map `CLOB` to `text`. Based on the kotlin solution, I have created this java class.\r\n```\r\npublic class CustomPostgreSQLDialect extends PostgreSQLDialect {\r\n\r\n    public CustomPostgreSQLDialect() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    protected String columnType(int sqlTypeCode) {\r\n        if (SqlTypes.BLOB == sqlTypeCode) {\r\n            return &quot;bytea&quot;;\r\n        }\r\n        if (SqlTypes.CLOB == sqlTypeCode) {\r\n            return &quot;text&quot;;\r\n        }\r\n        return super.columnType(sqlTypeCode);\r\n    }\r\n\r\n    @Override\r\n    protected String castType(int sqlTypeCode) {\r\n        if (SqlTypes.BLOB == sqlTypeCode) {\r\n            return &quot;bytea&quot;;\r\n        }\r\n        if (SqlTypes.CLOB == sqlTypeCode) {\r\n            return &quot;text&quot;;\r\n        }\r\n        return super.castType(sqlTypeCode);\r\n    }\r\n\r\n    @Override\r\n    public void contributeTypes(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\r\n        super.contributeTypes(typeContributions, serviceRegistry);\r\n        JdbcTypeRegistry jdbcTypeRegistry = typeContributions.getTypeConfiguration().getJdbcTypeRegistry();\r\n        jdbcTypeRegistry.addDescriptor(Types.BLOB, BinaryJdbcType.INSTANCE);\r\n        jdbcTypeRegistry.addDescriptor(Types.CLOB, LongVarcharJdbcType.INSTANCE);\r\n    }\r\n\r\n}\r\n```\r\n","title":"Hibernate 6, Postgres, and bytea","body":"<p>I had a similar problem, that I need to support <code>H2</code>,<code>MariaDB</code> and <code>PostgreSQL</code> at the same time. In addtion to the original problem I also has to map <code>CLOB</code> to <code>text</code>. Based on the kotlin solution, I have created this java class.</p>\n<pre><code>public class CustomPostgreSQLDialect extends PostgreSQLDialect {\n\n    public CustomPostgreSQLDialect() {\n        super();\n    }\n\n    @Override\n    protected String columnType(int sqlTypeCode) {\n        if (SqlTypes.BLOB == sqlTypeCode) {\n            return &quot;bytea&quot;;\n        }\n        if (SqlTypes.CLOB == sqlTypeCode) {\n            return &quot;text&quot;;\n        }\n        return super.columnType(sqlTypeCode);\n    }\n\n    @Override\n    protected String castType(int sqlTypeCode) {\n        if (SqlTypes.BLOB == sqlTypeCode) {\n            return &quot;bytea&quot;;\n        }\n        if (SqlTypes.CLOB == sqlTypeCode) {\n            return &quot;text&quot;;\n        }\n        return super.castType(sqlTypeCode);\n    }\n\n    @Override\n    public void contributeTypes(TypeContributions typeContributions, ServiceRegistry serviceRegistry) {\n        super.contributeTypes(typeContributions, serviceRegistry);\n        JdbcTypeRegistry jdbcTypeRegistry = typeContributions.getTypeConfiguration().getJdbcTypeRegistry();\n        jdbcTypeRegistry.addDescriptor(Types.BLOB, BinaryJdbcType.INSTANCE);\n        jdbcTypeRegistry.addDescriptor(Types.CLOB, LongVarcharJdbcType.INSTANCE);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4353759,"reputation":543,"user_id":3666206,"accept_rate":40,"display_name":"BAMF4bacon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2897,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1690878754,"creation_date":1673110027,"question_id":75042081,"body_markdown":"With the release of **Hibernate 6**, once again I am scratching my head trying to figure out how to get Hibernate to convert a **@Lob** to **bytea** for a **PostGres** database.  I also need the code to be testable with H2 (or any in memory database).\r\n\r\nI am using Postgres 10+ (v13), so that takes care of that requirement.\r\n\r\nThis is what I used before, which was tricky, because I also needed it to work with H2.  (The PostGres dialect was only loaded in production, not tests.)\r\n\r\nSadly, getting bytea to work is &quot;outside the scope&quot; of the Hibernate 6 user guide. See 2.2.47.\r\nhttps://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html\r\n\r\nThe migration guide also seems silent on the topic.\r\nhttps://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc\r\n\r\nThe entire API for SQLDialect family has been rewritten, so I am back to square 1.  \r\n```\r\npublic class CustomPostgresSQL10Dialect extends PostgreSQL10Dialect{\r\n\r\n  public CustomPostgresSQL10Dialect() {\r\n    super();\r\n    registerColumnType(Types.BLOB, &quot;bytea&quot;);\r\n  }\r\n\r\n  @Override\r\n  public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\r\n    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\r\n      return BinaryTypeDescriptor.INSTANCE;\r\n    }\r\n\r\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\r\n  }\r\n}\r\n```\r\n","title":"Hibernate 6, Postgres, and bytea","body":"<p>With the release of <strong>Hibernate 6</strong>, once again I am scratching my head trying to figure out how to get Hibernate to convert a <strong>@Lob</strong> to <strong>bytea</strong> for a <strong>PostGres</strong> database.  I also need the code to be testable with H2 (or any in memory database).</p>\n<p>I am using Postgres 10+ (v13), so that takes care of that requirement.</p>\n<p>This is what I used before, which was tricky, because I also needed it to work with H2.  (The PostGres dialect was only loaded in production, not tests.)</p>\n<p>Sadly, getting bytea to work is &quot;outside the scope&quot; of the Hibernate 6 user guide. See 2.2.47.\n<a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html</a></p>\n<p>The migration guide also seems silent on the topic.\n<a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc\" rel=\"noreferrer\">https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc</a></p>\n<p>The entire API for SQLDialect family has been rewritten, so I am back to square 1.</p>\n<pre><code>public class CustomPostgresSQL10Dialect extends PostgreSQL10Dialect{\n\n  public CustomPostgresSQL10Dialect() {\n    super();\n    registerColumnType(Types.BLOB, &quot;bytea&quot;);\n  }\n\n  @Override\n  public SqlTypeDescriptor remapSqlTypeDescriptor(SqlTypeDescriptor sqlTypeDescriptor) {\n    if (sqlTypeDescriptor.getSqlType() == java.sql.Types.BLOB) {\n      return BinaryTypeDescriptor.INSTANCE;\n    }\n\n    return super.remapSqlTypeDescriptor(sqlTypeDescriptor);\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1269523,"reputation":1992,"user_id":1226162,"accept_rate":78,"display_name":"user1226162"},"score":1,"creation_date":1336536782,"post_id":10509699,"comment_id":13588742,"body_markdown":"Must issue a STARTTLS command first. nv2sm4478384pbb.6","body":"Must issue a STARTTLS command first. nv2sm4478384pbb.6"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":11,"creation_date":1357541772,"post_id":10509699,"comment_id":19672574,"body_markdown":"You need to add the following line: props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);","body":"You need to add the following line: props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);"},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1358515194,"post_id":10509699,"comment_id":20034621,"body_markdown":"Dupe of http://stackoverflow.com/questions/10509699/must-issue-a-starttls-command-first","body":"Dupe of <a href=\"http://stackoverflow.com/questions/10509699/must-issue-a-starttls-command-first\" title=\"must issue a starttls command first\">stackoverflow.com/questions/10509699/&hellip;</a>"},{"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"score":0,"creation_date":1358566989,"post_id":10509699,"comment_id":20054817,"body_markdown":"possible duplicate of [Must issue a STARTTLS command first. Sending email with Java and Google Apps](http://stackoverflow.com/questions/386083/must-issue-a-starttls-command-first-sending-email-with-java-and-google-apps)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/386083/must-issue-a-starttls-command-first-sending-email-with-java-and-google-apps\">Must issue a STARTTLS command first. Sending email with Java and Google Apps</a>"},{"owner":{"account_id":2912778,"reputation":389,"user_id":2496654,"display_name":"steineron"},"score":0,"creation_date":1429192796,"post_id":10509699,"comment_id":47491572,"body_markdown":"see my answer here: http://stackoverflow.com/questions/26774057/how-to-send-emails-via-spring/29676871#29676871\r\n\r\nmaybe it&#39;ll help","body":"see my answer here: <a href=\"http://stackoverflow.com/questions/26774057/how-to-send-emails-via-spring/29676871#29676871\" title=\"how to send emails via spring\">stackoverflow.com/questions/26774057/&hellip;</a>    maybe it&#39;ll help"},{"owner":{"account_id":2912778,"reputation":389,"user_id":2496654,"display_name":"steineron"},"score":0,"creation_date":1429192904,"post_id":10509699,"comment_id":47491662,"body_markdown":"checkout my answer here: http://stackoverflow.com/questions/26774057/how-to-send-emails-via-spring/29676871#29676871\r\n\r\nI hope it&#39;ll help","body":"checkout my answer here: <a href=\"http://stackoverflow.com/questions/26774057/how-to-send-emails-via-spring/29676871#29676871\" title=\"how to send emails via spring\">stackoverflow.com/questions/26774057/&hellip;</a>    I hope it&#39;ll help"},{"owner":{"account_id":2912778,"reputation":389,"user_id":2496654,"display_name":"steineron"},"score":0,"creation_date":1429193031,"post_id":10509699,"comment_id":47491757,"body_markdown":"checkout my answer here: http://stackoverflow.com/questions/26774057/how-to-send-emails-via-spring/29676871#29676871\r\n\r\nI hope it&#39;ll help","body":"checkout my answer here: <a href=\"http://stackoverflow.com/questions/26774057/how-to-send-emails-via-spring/29676871#29676871\" title=\"how to send emails via spring\">stackoverflow.com/questions/26774057/&hellip;</a>    I hope it&#39;ll help"}],"answers":[{"tags":[],"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1336537911,"creation_date":1336537911,"answer_id":10509882,"question_id":10509699,"body_markdown":"You are probably attempting to use Gmail&#39;s servers on port 25 to deliver mail to a third party over an unauthenticated connection. Gmail doesn&#39;t let you do this, because then *anybody* could use Gmail&#39;s servers to send mail to anybody else. This is called an *open relay* and was a common enabler of spam in the early days. Open relays are no longer acceptable on the Internet.\r\n\r\nYou will need to ask your SMTP client to connect to Gmail using an authenticated connection, probably on [port 587](https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol#Ports).","title":"Must issue a STARTTLS command first","body":"<p>You are probably attempting to use Gmail's servers on port 25 to deliver mail to a third party over an unauthenticated connection. Gmail doesn't let you do this, because then <em>anybody</em> could use Gmail's servers to send mail to anybody else. This is called an <em>open relay</em> and was a common enabler of spam in the early days. Open relays are no longer acceptable on the Internet.</p>\n\n<p>You will need to ask your SMTP client to connect to Gmail using an authenticated connection, probably on <a href=\"https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol#Ports\">port 587</a>.</p>\n"},{"tags":[],"owner":{"account_id":1390442,"reputation":1346,"user_id":1321403,"display_name":"Vadim Ponomarev"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1336550571,"creation_date":1336550571,"answer_id":10512105,"question_id":10509699,"body_markdown":"\t\tString username = &quot;mail@google.com&quot;;\r\n\t\tString password = &quot;some-password&quot;;\r\n\t\tString recipient = &quot;myemail@hotmail.com&quot;);\r\n\r\n\t\tProperties props = new Properties();\r\n\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t\tprops.put(&quot;mail.from&quot;, &quot;myemail@gmail.com&quot;);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\t\tprops.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n\t\tSession session = Session.getInstance(props, null);\r\n\t\tMimeMessage msg = new MimeMessage(session);\r\n\r\n\t\tmsg.setRecipients(Message.RecipientType.TO, recipient);\r\n\t\tmsg.setSubject(&quot;JavaMail hello world example&quot;);\r\n\t\tmsg.setSentDate(new Date());\r\n\t\tmsg.setText(&quot;Hello, world!\\n&quot;);\r\n\r\n\t\tTransport transport = session.getTransport(&quot;smtp&quot;);\r\n\r\n\t\ttransport.connect(username, password);\r\n\t\ttransport.sendMessage(msg, msg.getAllRecipients());\r\n\t\ttransport.close();","title":"Must issue a STARTTLS command first","body":"<pre><code>    String username = \"mail@google.com\";\n    String password = \"some-password\";\n    String recipient = \"myemail@hotmail.com\");\n\n    Properties props = new Properties();\n\n    props.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n    props.put(\"mail.from\", \"myemail@gmail.com\");\n    props.put(\"mail.smtp.starttls.enable\", \"true\");\n    props.put(\"mail.smtp.port\", \"587\");\n    props.setProperty(\"mail.debug\", \"true\");\n\n    Session session = Session.getInstance(props, null);\n    MimeMessage msg = new MimeMessage(session);\n\n    msg.setRecipients(Message.RecipientType.TO, recipient);\n    msg.setSubject(\"JavaMail hello world example\");\n    msg.setSentDate(new Date());\n    msg.setText(\"Hello, world!\\n\");\n\n    Transport transport = session.getTransport(\"smtp\");\n\n    transport.connect(username, password);\n    transport.sendMessage(msg, msg.getAllRecipients());\n    transport.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3313747,"reputation":295,"user_id":2786552,"display_name":"Pradeep Maurya"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1385106916,"creation_date":1385106916,"answer_id":20139775,"question_id":10509699,"body_markdown":"smtp port and socketFactory has to be change \r\n\r\n        String to = &quot;reciveremail@xxxx.xxx&quot;;\r\n        String subject = &quot;subject&quot;\r\n        String msg =&quot;email text....&quot;\r\n        final String from =&quot;senderemail@gmail.com&quot;\r\n        final  String password =&quot;senderPassword&quot;\r\n    \t\r\n       \r\n        Properties props = new Properties();  \r\n        props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);     \r\n        props.setProperty(&quot;mail.host&quot;, &quot;smtp.gmail.com&quot;);  \r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);  \r\n        props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);  \r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);  \r\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);  \r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;,&quot;javax.net.ssl.SSLSocketFactory&quot;);  \r\n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);  \r\n        Session session = Session.getDefaultInstance(props,  \r\n        new javax.mail.Authenticator() {\r\n    \t   protected PasswordAuthentication getPasswordAuthentication() {  \r\n    \t   return new PasswordAuthentication(from,password);  \r\n       }  \r\n       });  \r\n          \r\n       //session.setDebug(true);  \r\n       Transport transport = session.getTransport();  \r\n       InternetAddress addressFrom = new InternetAddress(from);  \r\n          \r\n       MimeMessage message = new MimeMessage(session);  \r\n       message.setSender(addressFrom);  \r\n       message.setSubject(subject);  \r\n       message.setContent(msg, &quot;text/plain&quot;);  \r\n       message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));  \r\n          \r\n       transport.connect();  \r\n       Transport.send(message);  \r\n       transport.close();\r\n       }  \r\n\r\nhope it will work for you..","title":"Must issue a STARTTLS command first","body":"<p>smtp port and socketFactory has to be change </p>\n\n<pre><code>    String to = \"reciveremail@xxxx.xxx\";\n    String subject = \"subject\"\n    String msg =\"email text....\"\n    final String from =\"senderemail@gmail.com\"\n    final  String password =\"senderPassword\"\n\n\n    Properties props = new Properties();  \n    props.setProperty(\"mail.transport.protocol\", \"smtp\");     \n    props.setProperty(\"mail.host\", \"smtp.gmail.com\");  \n    props.put(\"mail.smtp.auth\", \"true\");  \n    props.put(\"mail.smtp.port\", \"465\");  \n    props.put(\"mail.debug\", \"true\");  \n    props.put(\"mail.smtp.socketFactory.port\", \"465\");  \n    props.put(\"mail.smtp.socketFactory.class\",\"javax.net.ssl.SSLSocketFactory\");  \n    props.put(\"mail.smtp.socketFactory.fallback\", \"false\");  \n    Session session = Session.getDefaultInstance(props,  \n    new javax.mail.Authenticator() {\n       protected PasswordAuthentication getPasswordAuthentication() {  \n       return new PasswordAuthentication(from,password);  \n   }  \n   });  \n\n   //session.setDebug(true);  \n   Transport transport = session.getTransport();  \n   InternetAddress addressFrom = new InternetAddress(from);  \n\n   MimeMessage message = new MimeMessage(session);  \n   message.setSender(addressFrom);  \n   message.setSubject(subject);  \n   message.setContent(msg, \"text/plain\");  \n   message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));  \n\n   transport.connect();  \n   Transport.send(message);  \n   transport.close();\n   }  \n</code></pre>\n\n<p>hope it will work for you..</p>\n"},{"tags":[],"owner":{"account_id":6623825,"reputation":373,"user_id":5114663,"display_name":"Vasudeva Krishnan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1501909217,"creation_date":1501909217,"answer_id":45518401,"question_id":10509699,"body_markdown":"# Adding\r\n\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\nsolved my problem ;)\r\n\r\n***My problem was*** :\r\n\r\ncom.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. u186sm7971862pfu.82 - gsmtp\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2108)\r\n\tat com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1609)\r\n\tat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1117)\r\n\tat javax.mail.Transport.send0(Transport.java:195)\r\n\tat javax.mail.Transport.send(Transport.java:124)\r\n\tat com.example.sendmail.SendEmailExample2.main(SendEmailExample2.java:53)","title":"Must issue a STARTTLS command first","body":"<h1>Adding</h1>\n\n<pre><code>props.put(\"mail.smtp.starttls.enable\", \"true\");\n</code></pre>\n\n<p>solved my problem ;)</p>\n\n<p><strong><em>My problem was</em></strong> :</p>\n\n<p>com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. u186sm7971862pfu.82 - gsmtp</p>\n\n<pre><code>at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2108)\nat com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1609)\nat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1117)\nat javax.mail.Transport.send0(Transport.java:195)\nat javax.mail.Transport.send(Transport.java:124)\nat com.example.sendmail.SendEmailExample2.main(SendEmailExample2.java:53)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9256873,"reputation":107,"user_id":6875445,"display_name":"Haddad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521949886,"creation_date":1521949226,"answer_id":49472304,"question_id":10509699,"body_markdown":"Try this code :\r\n\r\n    Properties props = new Properties();\r\n\t\t\t\t\t\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t\t\t\t\t\t\tprops.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n\t\t\t\t\t\t\tprops.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t\t\t\t\t\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\t\t\t\t\t\tprops.put(&quot;mail.smtp.prot&quot;, &quot;465&quot;);\r\n\r\n\t\t\t\t\t\t\tSession session = Session.getDefaultInstance(props,\r\n\t\t\t\t\t\t\t\t\tnew javax.mail.Authenticator() {\r\n\t\t\t\t\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\r\n\t\t\t\t\t\t\t\t\treturn new PasswordAuthentication(&quot;PUT THE MAIL SENDER HERE !&quot;, &quot;PUT THE PASSWORD OF THE MAIL SENDER HERE !&quot;);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tMessage message = new MimeMessage(session);\r\n\t\t\t\t\t\t\t\tmessage.setFrom(new InternetAddress(&quot;PUT THE MAIL SENDER HERE !&quot;));\r\n\t\t\t\t\t\t\t\tmessage.setRecipients(Message.RecipientType.TO, InternetAddress.parse(&quot;PUT THE MAIL RECEIVER HERE !&quot;));\r\n\t\t\t\t\t\t\t\tmessage.setSubject(&quot;MAIL SUBJECT !&quot;);\r\n\t\t\t\t\t\t\t\tmessage.setText(&quot;MAIL BODY !&quot;);\r\n\t\t\t\t\t\t\t\tTransport.send(message);\r\n\r\n\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\tJOptionPane.showMessageDialog(null, e);\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\nYou have to less secure the security of the mail sender. if the problem persist I think It can be caused by the antivirus, try to disable it ..","title":"Must issue a STARTTLS command first","body":"<p>Try this code :</p>\n\n<pre><code>Properties props = new Properties();\n                        props.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n                        props.put(\"mail.smtp.socketFactory.port\", \"465\");\n                        props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n                        props.put(\"mail.smtp.auth\", \"true\");\n                        props.put(\"mail.smtp.prot\", \"465\");\n\n                        Session session = Session.getDefaultInstance(props,\n                                new javax.mail.Authenticator() {\n                            protected PasswordAuthentication getPasswordAuthentication() {\n\n                                return new PasswordAuthentication(\"PUT THE MAIL SENDER HERE !\", \"PUT THE PASSWORD OF THE MAIL SENDER HERE !\");\n                            }\n                        }\n                        );\n                        try {\n                            Message message = new MimeMessage(session);\n                            message.setFrom(new InternetAddress(\"PUT THE MAIL SENDER HERE !\"));\n                            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(\"PUT THE MAIL RECEIVER HERE !\"));\n                            message.setSubject(\"MAIL SUBJECT !\");\n                            message.setText(\"MAIL BODY !\");\n                            Transport.send(message);\n\n                        } catch (Exception e) {\n                            JOptionPane.showMessageDialog(null, e);\n                        }\n</code></pre>\n\n<p>You have to less secure the security of the mail sender. if the problem persist I think It can be caused by the antivirus, try to disable it ..</p>\n"},{"tags":[],"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1529174422,"creation_date":1529174422,"answer_id":50890718,"question_id":10509699,"body_markdown":"I also faced the same issue while I was building email notification application.  you just need to add one line. Below one saved my day.\r\n\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\r\ncom.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. h13-v6sm10627790pgp.13 - gsmtp\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2108)\r\n\tat com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1609)\r\n\tat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1117)\r\n\tat javax.mail.Transport.send0(Transport.java:195)\r\n\tat javax.mail.Transport.send(Transport.java:124)\r\n\tat com.smruti.email.EmailProject.EmailSend.main(EmailSend.java:99)\r\n\r\n\r\nHope this helps you.","title":"Must issue a STARTTLS command first","body":"<p>I also faced the same issue while I was building email notification application.  you just need to add one line. Below one saved my day.</p>\n\n<pre><code>props.put(\"mail.smtp.starttls.enable\", \"true\");\n</code></pre>\n\n<p>com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. h13-v6sm10627790pgp.13 - gsmtp</p>\n\n<pre><code>at com.sun.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2108)\nat com.sun.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1609)\nat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1117)\nat javax.mail.Transport.send0(Transport.java:195)\nat javax.mail.Transport.send(Transport.java:124)\nat com.smruti.email.EmailProject.EmailSend.main(EmailSend.java:99)\n</code></pre>\n\n<p>Hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":16156395,"reputation":51,"user_id":11663536,"display_name":"J Medeiros"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580891238,"creation_date":1580891238,"answer_id":60071716,"question_id":10509699,"body_markdown":"Google now has a feature stating that it won&#39;t allow insecure devices to send emails. When I ran my program it came up with the error in the first post. I had to go into my account and allow insecure apps to send emails, which I did by clicking on my account, going into the security tab, and allowing insecure apps to use my gmail.\r\n","title":"Must issue a STARTTLS command first","body":"<p>Google now has a feature stating that it won't allow insecure devices to send emails. When I ran my program it came up with the error in the first post. I had to go into my account and allow insecure apps to send emails, which I did by clicking on my account, going into the security tab, and allowing insecure apps to use my gmail.</p>\n"},{"tags":[],"owner":{"account_id":17522702,"reputation":41,"user_id":12708379,"display_name":"Sundar Garud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674221094,"creation_date":1674221094,"answer_id":75184586,"question_id":10509699,"body_markdown":"I was also getting this error as I was setting the props.put(&quot;mail.smtp.starttls.enable&quot;, myMailConfig.StartTLS); and here myMailConfig.StartTLS was String and had a true value, So this String literal was the very first cause.\r\nSo try to set it (boolean) true like props.put(&quot;mail.smtp.starttls.enable&quot;, true); or if its dynamic then make sure your variable is boolean or if its String then db value should be set as true.\r\n","title":"Must issue a STARTTLS command first","body":"<p>I was also getting this error as I was setting the props.put(&quot;mail.smtp.starttls.enable&quot;, myMailConfig.StartTLS); and here myMailConfig.StartTLS was String and had a true value, So this String literal was the very first cause.\nSo try to set it (boolean) true like props.put(&quot;mail.smtp.starttls.enable&quot;, true); or if its dynamic then make sure your variable is boolean or if its String then db value should be set as true.</p>\n"},{"tags":[],"owner":{"account_id":29134825,"reputation":1,"user_id":22319245,"display_name":"Quy&#234;n Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690878535,"creation_date":1690878535,"answer_id":76809801,"question_id":10509699,"body_markdown":"Add this in file application.properties:\r\n\r\n`spring.mail.properties.mail.smtp.starttls.required=true`\r\n\r\nThat works for me","title":"Must issue a STARTTLS command first","body":"<p>Add this in file application.properties:</p>\n<p><code>spring.mail.properties.mail.smtp.starttls.required=true</code></p>\n<p>That works for me</p>\n"}],"owner":{"account_id":1269523,"reputation":1992,"user_id":1226162,"accept_rate":78,"display_name":"user1226162"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266157,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":10509882,"answer_count":9,"score":60,"last_activity_date":1690878535,"creation_date":1336536575,"question_id":10509699,"body_markdown":"I am running this simple example with my `Gmail` account, but its not working and giving the following error:\r\n\r\n          send failed, exception: com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. nv2sm4478384pbb.6      \r\nHere is my code\r\n\r\n\r\n       public class Email\r\n\t{\r\n\t   public static void main(String [] args)\r\n\t   {\r\n\t      \r\n\t\t   Properties props = new Properties();\r\n\t\t    props.put(&quot;mail.smtp.host&quot;, &quot;smtp.googlemail.com&quot;);\r\n\t\t    props.put(&quot;mail.from&quot;, &quot;myemail@gmail.com&quot;);\r\n\t\t      Session session = Session.getInstance(props, null);\r\n\r\n\t\t    try {\r\n\t\t        MimeMessage msg = new MimeMessage(session);\r\n\t\t        msg.setFrom();\r\n\t\t        msg.setRecipients(Message.RecipientType.TO,\r\n\t\t                          &quot;myemail@hotmail.com&quot;);\r\n\t\t        msg.setSubject(&quot;JavaMail hello world example&quot;);\r\n\t\t        msg.setSentDate(new Date());\r\n\t\t        msg.setText(&quot;Hello, world!\\n&quot;);\r\n\t\t        Transport.send(msg);\r\n\t\t    } catch (MessagingException mex) {\r\n\t\t        System.out.println(&quot;send failed, exception: &quot; + mex);\r\n\t\t    }\r\n\t   }\r\n\t}\r\n","title":"Must issue a STARTTLS command first","body":"<p>I am running this simple example with my <code>Gmail</code> account, but its not working and giving the following error:</p>\n\n<pre><code>      send failed, exception: com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue a STARTTLS command first. nv2sm4478384pbb.6      \n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>   public class Email\n{\n   public static void main(String [] args)\n   {\n\n       Properties props = new Properties();\n        props.put(\"mail.smtp.host\", \"smtp.googlemail.com\");\n        props.put(\"mail.from\", \"myemail@gmail.com\");\n          Session session = Session.getInstance(props, null);\n\n        try {\n            MimeMessage msg = new MimeMessage(session);\n            msg.setFrom();\n            msg.setRecipients(Message.RecipientType.TO,\n                              \"myemail@hotmail.com\");\n            msg.setSubject(\"JavaMail hello world example\");\n            msg.setSentDate(new Date());\n            msg.setText(\"Hello, world!\\n\");\n            Transport.send(msg);\n        } catch (MessagingException mex) {\n            System.out.println(\"send failed, exception: \" + mex);\n        }\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690270182,"post_id":76760277,"comment_id":135325915,"body_markdown":"It is just an informational message which you can ignore.","body":"It is just an informational message which you can ignore."},{"owner":{"account_id":28719065,"reputation":3,"user_id":21993125,"display_name":"Prajal Saxena"},"score":0,"creation_date":1690270711,"post_id":76760277,"comment_id":135326014,"body_markdown":"Im not getting output on console. trying to print student details in output. but console shows this error message","body":"Im not getting output on console. trying to print student details in output. but console shows this error message"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690270800,"post_id":76760277,"comment_id":135326030,"body_markdown":"It is not an error message it is an informational message and doesn&#39;t influence your application. That you don&#39;t see any output is a totally different issue.","body":"It is not an error message it is an informational message and doesn&#39;t influence your application. That you don&#39;t see any output is a totally different issue."},{"owner":{"account_id":28719065,"reputation":3,"user_id":21993125,"display_name":"Prajal Saxena"},"score":0,"creation_date":1690271164,"post_id":76760277,"comment_id":135326095,"body_markdown":"why system.out.println() not showing up op on console. Any idea?","body":"why system.out.println() not showing up op on console. Any idea?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1690271226,"post_id":76760277,"comment_id":135326105,"body_markdown":"That is a different question, ask that as a separate question don&#39;t re-use this one (or rewrite it to make it about that). Also don&#39;t post code as images but include them as code in the question. Looking at the logging output why are you even starting tomcat? This code isn&#39;t webrelated, just launch the `main` method.","body":"That is a different question, ask that as a separate question don&#39;t re-use this one (or rewrite it to make it about that). Also don&#39;t post code as images but include them as code in the question. Looking at the logging output why are you even starting tomcat? This code isn&#39;t webrelated, just launch the <code>main</code> method."}],"owner":{"account_id":28719065,"reputation":3,"user_id":21993125,"display_name":"Prajal Saxena"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690878231,"creation_date":1690269500,"question_id":76760277,"body_markdown":"I have added all the spring jars in build path.\r\nWhen I&#39;m trying to run a simple dependency injection program on Eclipse, it doesn&#39;t show output in console. I&#39;m using macOS. So please give a solution for MAC perspective.\r\n\r\nHere is my console output:\r\n\r\n```\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. VersionLoggerListener log\r\nINFO: Command line argument: -Dwtp.deploy=/Users/PR20372898/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmpo/wtpwebapps\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\r\nINFO: Command line argument: --add-opens-java.base/java.lang-ALL-UNNAMED\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\r\nINFO: Command line argument: --add-opens-java.base/java.io=ALL-UNNAMED\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\r\nINFO: Command line argument: --add-opens-java.base/java.util-ALL-UNNAMED\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\r\nINFO: Command line argument: --add-opens-java.base/java.util.concurrent-ALL-UNNAMED\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\r\nINFO: Command line argument: --add-opens-java.rmi/sun.rmi.transport-ALL-UNNAMED\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\r\nINFO: Command line argument: -Dfile.encoding=UTF-8\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. VersionLoggerListener log\r\nINFO: Command line argument: -Xbootclasspath/a:/Users/PR20372898/apache-tomcat-9.0.63/bin/bootstrap.jar:/Users/PR20372898/apache-tomcat-9.0.63/bin/commons-daemon.jar:/Users/PR20372898/apac\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\r\nINFO: Command line argument: -XX: +ShowCodeDetailsInExceptionMessages\r\nJul 25, 2023 12:32:50 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\nINFO: The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/PR20372898/Library/Java/Extensions:/Library/Java/Extensions:/Network/Libra\r\nJul 25, 2023 12:32:51 PM org.apache.coyote. Abstract Protocol init\r\nINFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\nJul 25, 2023 12:32:51 PM org.apache.catalina.startup. Catalina load\r\nINFO: Server initialization in [335] milliseconds\r\nJul 25, 2023 12:32:51 PM org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Catalina]\r\nstartInternal\r\nJul 25, 2023 12:32:51 PM org.apache.catalina.core.StandardEngine\r\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.63]\r\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet.TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:52 PM org.apache.jasper.servlet. TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:52 PM org.apache.jasper.servlet. TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:52 PM org.apache.jasper.servlet. TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\r\nJul 25, 2023 12:32:52 PM org.apache.coyote. Abstract Protocol start\r\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\nJul 25, 2023 12:32:52 PM org.apache.catalina.startup. Catalina start\r\n```\r\n\r\nHere is my code:\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans\r\nxmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\nhttps://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n&lt;bean id = &quot;student&quot; class=&quot;com.seleniumexpress.Student&quot;&gt;\r\n&lt;property name=&quot;id&quot; value = &quot;3100&quot;&gt;&lt;/property&gt;\r\n&lt;property name = &quot;studentName&quot; value = &quot;Prajal Saxena&quot;&gt;&lt;/property&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id = &quot;student1&quot; class=&quot;com.seleniumexpress. Student&quot;&gt;\r\n&lt;constructor-arg name = &quot;studentName&quot; value = &quot;Piyush Verma&quot;&gt;&lt;/constructor-arg&gt;\r\n&lt;constructor-arg name=&quot;id&quot; value=&quot;3097&quot;&gt;&lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n````\r\n\r\n```java\r\npackage com.JFSTraining.SpringAssignments;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\npublic class Test\r\npublic static void main(String[] args) {}\r\n}\r\nApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\r\nStudent s1 = context.getBean(&quot;student&quot;, Student.class);\r\ns1.displayStudentInfo();\r\nStudent s2 = context.getBean(&quot;student1&quot;, Student.class);\r\ns2.displayStudentInfo();\r\n```\r\n\r\nit looks same things like this: [Test.java](https://i.stack.imgur.com/JLh0Y.jpg) \r\n","title":"MAC OS: The Apache Tomcat Native library which allows using OpenSSL was not found","body":"<p>I have added all the spring jars in build path.\nWhen I'm trying to run a simple dependency injection program on Eclipse, it doesn't show output in console. I'm using macOS. So please give a solution for MAC perspective.</p>\n<p>Here is my console output:</p>\n<pre><code>Jul 25, 2023 12:32:50 PM org.apache.catalina.startup. VersionLoggerListener log\nINFO: Command line argument: -Dwtp.deploy=/Users/PR20372898/eclipse-workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmpo/wtpwebapps\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\nINFO: Command line argument: --add-opens-java.base/java.lang-ALL-UNNAMED\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\nINFO: Command line argument: --add-opens-java.base/java.io=ALL-UNNAMED\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\nINFO: Command line argument: --add-opens-java.base/java.util-ALL-UNNAMED\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\nINFO: Command line argument: --add-opens-java.base/java.util.concurrent-ALL-UNNAMED\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\nINFO: Command line argument: --add-opens-java.rmi/sun.rmi.transport-ALL-UNNAMED\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\nINFO: Command line argument: -Dfile.encoding=UTF-8\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. VersionLoggerListener log\nINFO: Command line argument: -Xbootclasspath/a:/Users/PR20372898/apache-tomcat-9.0.63/bin/bootstrap.jar:/Users/PR20372898/apache-tomcat-9.0.63/bin/commons-daemon.jar:/Users/PR20372898/apac\nJul 25, 2023 12:32:50 PM org.apache.catalina.startup. Version LoggerListener log\nINFO: Command line argument: -XX: +ShowCodeDetailsInExceptionMessages\nJul 25, 2023 12:32:50 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/Users/PR20372898/Library/Java/Extensions:/Library/Java/Extensions:/Network/Libra\nJul 25, 2023 12:32:51 PM org.apache.coyote. Abstract Protocol init\nINFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\nJul 25, 2023 12:32:51 PM org.apache.catalina.startup. Catalina load\nINFO: Server initialization in [335] milliseconds\nJul 25, 2023 12:32:51 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Catalina]\nstartInternal\nJul 25, 2023 12:32:51 PM org.apache.catalina.core.StandardEngine\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.63]\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:51 PM org.apache.jasper.servlet. TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:52 PM org.apache.jasper.servlet. TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:52 PM org.apache.jasper.servlet. TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:52 PM org.apache.jasper.servlet. TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARS that were scanned but no TLDs were found in them. Skippi\nJul 25, 2023 12:32:52 PM org.apache.coyote. Abstract Protocol start\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\nJul 25, 2023 12:32:52 PM org.apache.catalina.startup. Catalina start\n</code></pre>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans\nxmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttps://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n&lt;bean id = &quot;student&quot; class=&quot;com.seleniumexpress.Student&quot;&gt;\n&lt;property name=&quot;id&quot; value = &quot;3100&quot;&gt;&lt;/property&gt;\n&lt;property name = &quot;studentName&quot; value = &quot;Prajal Saxena&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id = &quot;student1&quot; class=&quot;com.seleniumexpress. Student&quot;&gt;\n&lt;constructor-arg name = &quot;studentName&quot; value = &quot;Piyush Verma&quot;&gt;&lt;/constructor-arg&gt;\n&lt;constructor-arg name=&quot;id&quot; value=&quot;3097&quot;&gt;&lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.JFSTraining.SpringAssignments;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\npublic class Test\npublic static void main(String[] args) {}\n}\nApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\nStudent s1 = context.getBean(&quot;student&quot;, Student.class);\ns1.displayStudentInfo();\nStudent s2 = context.getBean(&quot;student1&quot;, Student.class);\ns2.displayStudentInfo();\n</code></pre>\n<p>it looks same things like this: <a href=\"https://i.stack.imgur.com/JLh0Y.jpg\" rel=\"nofollow noreferrer\">Test.java</a></p>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1302634197,"post_id":5609321,"comment_id":6429824,"body_markdown":"I know this is not a solution quite yet, but Jackson 1.8 has full support for custom key serializers and deserializers, both via annotations and through Module API. So it should help a lot: this has been painful to do properly with earlier versions.","body":"I know this is not a solution quite yet, but Jackson 1.8 has full support for custom key serializers and deserializers, both via annotations and through Module API. So it should help a lot: this has been painful to do properly with earlier versions."}],"answers":[{"tags":[],"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1690878034,"creation_date":1302451015,"answer_id":5612934,"question_id":5609321,"body_markdown":"I am a complete newbie with Jackson, but the following works for me.\r\n\r\nFirst I add a JsonCreator method to A:\r\n\r\n    public class A {\r\n        private String a1;\r\n        private Integer a2;\r\n        public String getA1() { return a1; }\r\n        public Integer getA2() { return a2; }\r\n        public void setA1(String a1) { this.a1 = a1; }\r\n        public void setA2(Integer a2) { this.a2 = a2; }\r\n        \r\n        @JsonCreator\r\n        public static A fromJSON(String val) throws JsonParseException, JsonMappingException, IOException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            A a = mapper.readValue(val,A.class);\r\n            return a;\r\n        }\r\n    } \r\n\r\n\r\nThat alone solves the deserialization problem. The harder part for me was the correct serialization of the keys. What I did there was to define a key serializer that serializes named classes as there JSON serialization, like this:\r\n\r\n\r\n    public class KeySerializer extends SerializerBase&lt;Object&gt; {\r\n        private static final SerializerBase&lt;Object&gt; DEFAULT = new StdKeySerializer();\r\n\r\n        private Set&lt;Class&lt;?&gt;&gt; objectKeys_ = Collections.synchronizedSet(new HashSet&lt;Class&lt;?&gt;&gt;());\r\n\r\n        protected KeySerializer(Class&lt;?&gt;... objectKeys) {\r\n            super(Object.class);\r\n            for(Class&lt;?&gt; cl:objectKeys) {\r\n                objectKeys_.add(cl);\r\n            }\r\n        }\r\n\r\n\r\n        @Override\r\n        public JsonNode getSchema(SerializerProvider provider, Type typeHint) throws JsonMappingException {\r\n            return DEFAULT.getSchema(provider, typeHint);\r\n        }\r\n\r\n\r\n        @Override\r\n        public void serialize(Object value, JsonGenerator jgen,\r\n                SerializerProvider provider) throws IOException,\r\n                JsonGenerationException {\r\n            if (objectKeys_.contains(value.getClass())) {\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                StringWriter writer = new StringWriter();\r\n                mapper.writeValue(writer, value);\r\n                jgen.writeFieldName(writer.toString());\r\n            } else {\r\n                DEFAULT.serialize(value, jgen, provider);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThen to prove it works, serializing and deserializing an instance of class C:\r\n\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        StdSerializerProvider provider = new StdSerializerProvider();\r\n        provider.setKeySerializer(new KeySerializer(A.class));\r\n        mapper.setSerializerProvider(provider);\r\n        \r\n        StringWriter out = new StringWriter();\r\n        mapper.writeValue(out, c);\r\n        String json = out.toString();\r\n        System.out.println(&quot;JSON= &quot;+json);\r\n        \r\n        C c2 = mapper.readValue(json, C.class);\r\n        System.out.print(&quot;C2= &quot;);\r\n        StringWriter outC2 = new StringWriter();\r\n        mapper.writeValue(outC2, c2);\r\n        System.out.println(outC2.toString());\r\n\r\n\r\nFor me this produced the output:\r\n\r\n    JSON = {&quot;c1&quot;:&quot;goo&quot;,&quot;map&quot;:{&quot;{\\&quot;a1\\&quot;:\\&quot;1ccf\\&quot;,\\&quot;a2\\&quot;:7376}&quot;:{&quot;b1&quot;:&quot;5ox&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd2\\&quot;,\\&quot;a2\\&quot;:7379}&quot;:{&quot;b1&quot;:&quot;5p0&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd5\\&quot;,\\&quot;a2\\&quot;:7382}&quot;:{&quot;b1&quot;:&quot;5p3&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd8\\&quot;,\\&quot;a2\\&quot;:7385}&quot;:{&quot;b1&quot;:&quot;5p6&quot;}}}\r\n    C2 =   {&quot;c1&quot;:&quot;goo&quot;,&quot;map&quot;:{&quot;{\\&quot;a1\\&quot;:\\&quot;1ccf\\&quot;,\\&quot;a2\\&quot;:7376}&quot;:{&quot;b1&quot;:&quot;5ox&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd2\\&quot;,\\&quot;a2\\&quot;:7379}&quot;:{&quot;b1&quot;:&quot;5p0&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd5\\&quot;,\\&quot;a2\\&quot;:7382}&quot;:{&quot;b1&quot;:&quot;5p3&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd8\\&quot;,\\&quot;a2\\&quot;:7385}&quot;:{&quot;b1&quot;:&quot;5p6&quot;}}}\r\n\r\n\r\nI feel there ought to have been a better way of doing saying how to serialize the key by using annotations, but I could not work it out.","title":"how to create a custom JsonDeserializer in Java?","body":"<p>I am a complete newbie with Jackson, but the following works for me.</p>\n<p>First I add a JsonCreator method to A:</p>\n<pre><code>public class A {\n    private String a1;\n    private Integer a2;\n    public String getA1() { return a1; }\n    public Integer getA2() { return a2; }\n    public void setA1(String a1) { this.a1 = a1; }\n    public void setA2(Integer a2) { this.a2 = a2; }\n    \n    @JsonCreator\n    public static A fromJSON(String val) throws JsonParseException, JsonMappingException, IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        A a = mapper.readValue(val,A.class);\n        return a;\n    }\n} \n</code></pre>\n<p>That alone solves the deserialization problem. The harder part for me was the correct serialization of the keys. What I did there was to define a key serializer that serializes named classes as there JSON serialization, like this:</p>\n<pre><code>public class KeySerializer extends SerializerBase&lt;Object&gt; {\n    private static final SerializerBase&lt;Object&gt; DEFAULT = new StdKeySerializer();\n\n    private Set&lt;Class&lt;?&gt;&gt; objectKeys_ = Collections.synchronizedSet(new HashSet&lt;Class&lt;?&gt;&gt;());\n\n    protected KeySerializer(Class&lt;?&gt;... objectKeys) {\n        super(Object.class);\n        for(Class&lt;?&gt; cl:objectKeys) {\n            objectKeys_.add(cl);\n        }\n    }\n\n\n    @Override\n    public JsonNode getSchema(SerializerProvider provider, Type typeHint) throws JsonMappingException {\n        return DEFAULT.getSchema(provider, typeHint);\n    }\n\n\n    @Override\n    public void serialize(Object value, JsonGenerator jgen,\n            SerializerProvider provider) throws IOException,\n            JsonGenerationException {\n        if (objectKeys_.contains(value.getClass())) {\n            ObjectMapper mapper = new ObjectMapper();\n            StringWriter writer = new StringWriter();\n            mapper.writeValue(writer, value);\n            jgen.writeFieldName(writer.toString());\n        } else {\n            DEFAULT.serialize(value, jgen, provider);\n        }\n    }\n}\n</code></pre>\n<p>Then to prove it works, serializing and deserializing an instance of class C:</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    StdSerializerProvider provider = new StdSerializerProvider();\n    provider.setKeySerializer(new KeySerializer(A.class));\n    mapper.setSerializerProvider(provider);\n    \n    StringWriter out = new StringWriter();\n    mapper.writeValue(out, c);\n    String json = out.toString();\n    System.out.println(&quot;JSON= &quot;+json);\n    \n    C c2 = mapper.readValue(json, C.class);\n    System.out.print(&quot;C2= &quot;);\n    StringWriter outC2 = new StringWriter();\n    mapper.writeValue(outC2, c2);\n    System.out.println(outC2.toString());\n</code></pre>\n<p>For me this produced the output:</p>\n<pre><code>JSON = {&quot;c1&quot;:&quot;goo&quot;,&quot;map&quot;:{&quot;{\\&quot;a1\\&quot;:\\&quot;1ccf\\&quot;,\\&quot;a2\\&quot;:7376}&quot;:{&quot;b1&quot;:&quot;5ox&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd2\\&quot;,\\&quot;a2\\&quot;:7379}&quot;:{&quot;b1&quot;:&quot;5p0&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd5\\&quot;,\\&quot;a2\\&quot;:7382}&quot;:{&quot;b1&quot;:&quot;5p3&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd8\\&quot;,\\&quot;a2\\&quot;:7385}&quot;:{&quot;b1&quot;:&quot;5p6&quot;}}}\nC2 =   {&quot;c1&quot;:&quot;goo&quot;,&quot;map&quot;:{&quot;{\\&quot;a1\\&quot;:\\&quot;1ccf\\&quot;,\\&quot;a2\\&quot;:7376}&quot;:{&quot;b1&quot;:&quot;5ox&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd2\\&quot;,\\&quot;a2\\&quot;:7379}&quot;:{&quot;b1&quot;:&quot;5p0&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd5\\&quot;,\\&quot;a2\\&quot;:7382}&quot;:{&quot;b1&quot;:&quot;5p3&quot;},&quot;{\\&quot;a1\\&quot;:\\&quot;1cd8\\&quot;,\\&quot;a2\\&quot;:7385}&quot;:{&quot;b1&quot;:&quot;5p6&quot;}}}\n</code></pre>\n<p>I feel there ought to have been a better way of doing saying how to serialize the key by using annotations, but I could not work it out.</p>\n"}],"owner":{"account_id":108637,"reputation":11716,"user_id":288247,"accept_rate":81,"display_name":"Neuquino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14617,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5612934,"answer_count":1,"score":5,"last_activity_date":1690878034,"creation_date":1302401497,"question_id":5609321,"body_markdown":"I have a `Map&lt;A,B&gt; fieldOfC` as a field of a class C. When I try to deserialize C with Jackson, an Exception is thrown because it can&#39;t find a Deserializer for Map&#39;s key A. So, I guess the solution is to extend StdJsonDeserializer&lt;A&gt; and do it manually.  \r\nMy problem is that I can&#39;t find an example on how to use the parser and the context of the method &quot;deserialize&quot; that I have to implement.\r\n\r\nCan anyone write the code for this simple example so I can use it as a start to build my real deserializer?\r\n\r\n    public class A{\r\n      private String a1;\r\n      private Integer a2;\r\n    }\r\n\r\n    public class B{\r\n      private String b1;\r\n    }\r\n    \r\n    public class C{\r\n      @JsonDeserialize(keyUsing=ADeserializer.class)\r\n      //also tried this: @JsonDeserialize(keyAs=A.class) without success\r\n      private Map&lt;A,B&gt; fieldOfC;\r\n      private String c1;\r\n    }\r\n\r\n    public class ADeserializer extends StdKeyDeserializer {\r\n\r\n      protected ADeserializer(Class&lt;A&gt; cls) {\r\n        super(cls);\r\n      }\r\n\r\n      protected Object _parse(String key, DeserializationContext ctxt) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.readValue(key, A.class);\r\n      }\r\n    }\r\n\r\nThanks in advance\r\n\r\n**EDIT**: googling, I found a [test](http://archive.codehaus.org/lists/org.codehaus.jackson.user/msg/ceb609d80910021829r61997ec0q5fc64e926779f4c0@mail.gmail.com) of the same problem I have. This is exactly my problem \r\n\r\n**EDIT**: changed extended class from StdDeserializer to StdKeyDeserializer as I read [here](http://jackson.codehaus.org/1.7.0/javadoc/org/codehaus/jackson/map/DeserializerProvider.html) in method `findKeyDeserializer(org.codehaus.jackson.map.DeserializationConfig, org.codehaus.jackson.type.JavaType, org.codehaus.jackson.map.BeanProperty)`\r\n\r\n**EDIT**: After solving this issue I got [this one](https://stackoverflow.com/q/5614654/288247) that is related.","title":"how to create a custom JsonDeserializer in Java?","body":"<p>I have a <code>Map&lt;A,B&gt; fieldOfC</code> as a field of a class C. When I try to deserialize C with Jackson, an Exception is thrown because it can't find a Deserializer for Map's key A. So, I guess the solution is to extend StdJsonDeserializer and do it manually.<br>\nMy problem is that I can't find an example on how to use the parser and the context of the method \"deserialize\" that I have to implement.</p>\n\n<p>Can anyone write the code for this simple example so I can use it as a start to build my real deserializer?</p>\n\n<pre><code>public class A{\n  private String a1;\n  private Integer a2;\n}\n\npublic class B{\n  private String b1;\n}\n\npublic class C{\n  @JsonDeserialize(keyUsing=ADeserializer.class)\n  //also tried this: @JsonDeserialize(keyAs=A.class) without success\n  private Map&lt;A,B&gt; fieldOfC;\n  private String c1;\n}\n\npublic class ADeserializer extends StdKeyDeserializer {\n\n  protected ADeserializer(Class&lt;A&gt; cls) {\n    super(cls);\n  }\n\n  protected Object _parse(String key, DeserializationContext ctxt) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    return mapper.readValue(key, A.class);\n  }\n}\n</code></pre>\n\n<p>Thanks in advance</p>\n\n<p><strong>EDIT</strong>: googling, I found a <a href=\"http://archive.codehaus.org/lists/org.codehaus.jackson.user/msg/ceb609d80910021829r61997ec0q5fc64e926779f4c0@mail.gmail.com\" rel=\"nofollow noreferrer\">test</a> of the same problem I have. This is exactly my problem </p>\n\n<p><strong>EDIT</strong>: changed extended class from StdDeserializer to StdKeyDeserializer as I read <a href=\"http://jackson.codehaus.org/1.7.0/javadoc/org/codehaus/jackson/map/DeserializerProvider.html\" rel=\"nofollow noreferrer\">here</a> in method <code>findKeyDeserializer(org.codehaus.jackson.map.DeserializationConfig, org.codehaus.jackson.type.JavaType, org.codehaus.jackson.map.BeanProperty)</code></p>\n\n<p><strong>EDIT</strong>: After solving this issue I got <a href=\"https://stackoverflow.com/q/5614654/288247\">this one</a> that is related.</p>\n"},{"tags":["java","email","james"],"owner":{"account_id":24983556,"reputation":11,"user_id":18845583,"display_name":"jiuli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690878033,"creation_date":1690877927,"question_id":76809718,"body_markdown":"I get the `IMAPFolder` object. Can pass `folder.getMessages(start, end);` Gets paging data, but the search method is not implemented.How can I do？\r\n\r\n    // pagable\r\n    Message[] messages = folder.getMessages(start, end);\r\n    // unPagable\r\n    Message[] messages = folder.search(searchTerm);\r\n\r\n\r\nI structured the messages into collections and paginated them, but this was inefficient and I expected ImapFolder to have its own method.\r\n\r\n    emailListDTOList = emailListDTOList.stream().sorted(EmailListDTO.getComparator()).collect(Collectors.toList());   \r\n    emailListDTOList = emailListDTOList.subList(start, end);\r\n\r\n","title":"how can i paging search james email on Java","body":"<p>I get the <code>IMAPFolder</code> object. Can pass <code>folder.getMessages(start, end);</code> Gets paging data, but the search method is not implemented.How can I do？</p>\n<pre><code>// pagable\nMessage[] messages = folder.getMessages(start, end);\n// unPagable\nMessage[] messages = folder.search(searchTerm);\n</code></pre>\n<p>I structured the messages into collections and paginated them, but this was inefficient and I expected ImapFolder to have its own method.</p>\n<pre><code>emailListDTOList = emailListDTOList.stream().sorted(EmailListDTO.getComparator()).collect(Collectors.toList());   \nemailListDTOList = emailListDTOList.subList(start, end);\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1690807841,"post_id":76803794,"comment_id":135400121,"body_markdown":"Are other values from the file read? Is the `dev` profile activated? In order to help you, we need more information. Please [edit] the post and provide a [MRE].","body":"Are other values from the file read? Is the <code>dev</code> profile activated? In order to help you, we need more information. Please <a href=\"https://stackoverflow.com/posts/76803794/edit\">edit</a> the post and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1690808440,"post_id":76803794,"comment_id":135400262,"body_markdown":"You very likely don&#39;t have the `dev` profile enabled. Here&#39;s an excellent tutorial on profiles in Spring: https://www.sivalabs.in/spring-boot-profiles-tutorial/","body":"You very likely don&#39;t have the <code>dev</code> profile enabled. Here&#39;s an excellent tutorial on profiles in Spring: <a href=\"https://www.sivalabs.in/spring-boot-profiles-tutorial/\" rel=\"nofollow noreferrer\">sivalabs.in/spring-boot-profiles-tutorial</a>"},{"owner":{"account_id":29128923,"reputation":1,"user_id":22314669,"display_name":"Antonino Sciacca"},"score":0,"creation_date":1690808551,"post_id":76803794,"comment_id":135400282,"body_markdown":"I entered the same value also in the application.properties, so any case it should be read that value.","body":"I entered the same value also in the application.properties, so any case it should be read that value."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690809754,"post_id":76803794,"comment_id":135400563,"body_markdown":"`@Value` like `@Autowired` doesn&#39;t work on `static`.","body":"<code>@Value</code> like <code>@Autowired</code> doesn&#39;t work on <code>static</code>."},{"owner":{"account_id":29128923,"reputation":1,"user_id":22314669,"display_name":"Antonino Sciacca"},"score":0,"creation_date":1690810317,"post_id":76803794,"comment_id":135400702,"body_markdown":"If i delet static on the variable it doesn&#39;t work anyway","body":"If i delet static on the variable it doesn&#39;t work anyway"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690814889,"post_id":76803794,"comment_id":135401798,"body_markdown":"If it doesn&#39;t work without `static` then the class/instance isn&#39;t managed by Spring and `@Value` like `@Autowired` won&#39;t work anyway.","body":"If it doesn&#39;t work without <code>static</code> then the class/instance isn&#39;t managed by Spring and <code>@Value</code> like <code>@Autowired</code> won&#39;t work anyway."},{"owner":{"account_id":29128923,"reputation":1,"user_id":22314669,"display_name":"Antonino Sciacca"},"score":0,"creation_date":1690817488,"post_id":76803794,"comment_id":135402417,"body_markdown":"how can i check if the class is managed by Spring","body":"how can i check if the class is managed by Spring"}],"answers":[{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690870765,"creation_date":1690870765,"answer_id":76808951,"question_id":76803794,"body_markdown":"you should use @Profile(&quot;dev&quot;) annotation in your class ","title":"How to make read a value from application-dev.properties","body":"<p>you should use @Profile(&quot;dev&quot;) annotation in your class</p>\n"}],"owner":{"account_id":29128923,"reputation":1,"user_id":22314669,"display_name":"Antonino Sciacca"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690877972,"creation_date":1690807732,"question_id":76803794,"body_markdown":"I have the dev profile so i was trying to read the &quot;spring.rabbitmq.encodedEnabled&quot; value from application-dev.properties, and when i try to use this snippet of code:\r\n`   @Value(&quot;${spring.rabbitmq.encodedEnabled}&quot;)\r\n    private Boolean encodedEnabled;\r\n`\r\nspring throw a NullPointerException on encodedEnabled variable. Could someone help me?","title":"How to make read a value from application-dev.properties","body":"<p>I have the dev profile so i was trying to read the &quot;spring.rabbitmq.encodedEnabled&quot; value from application-dev.properties, and when i try to use this snippet of code:\n<code>  @Value(&quot;${spring.rabbitmq.encodedEnabled}&quot;) private Boolean encodedEnabled;</code>\nspring throw a NullPointerException on encodedEnabled variable. Could someone help me?</p>\n"},{"tags":["java","json","transformation","jolt","isnullorempty"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690877618,"creation_date":1690805232,"answer_id":76803452,"question_id":76803196,"body_markdown":"You can use the ***`~`*** operator within a **modify-overwrite-beta** transformation such as \r\n\r\n**`&quot;~detail&quot; : &quot;@(2,updating_field)&quot;`**  meaning if `&quot;detail&quot;` does not exist or is null, \r\n\r\nthen make it be the value of `&quot;updating_field&quot;` after traversing 2 levels (**`:`** and **`{`**) up the tree such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;c*&quot;: {\r\n        &quot;~detail&quot;: &quot;@(2,updating_field)&quot;\r\n      }\r\n    }\r\n  },\r\n  { // rename the key from &quot;detail&quot; to &quot;updating_field&quot;\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;c*&quot;: { // the level of &quot;channel&quot; where * stand for abbreviation\r\n        &quot;*&quot;: &quot;&amp;1.updating_field&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe ***first demo*** on the http://jolt-demo.appspot.com/ site is :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthe ***second demo*** on the http://jolt-demo.appspot.com/ site is :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EcRxf.jpg\r\n  [2]: https://i.stack.imgur.com/PzdhX.jpg\r\n\r\n**Edit** : If the **null** and empty string (`&quot;&quot;`) values should be classifed as in the same category, then use ths **size** function as follows :\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;c*&quot;: {\r\n        &quot;sz&quot;: [&quot;=size(@(1,detail))&quot;, 0]\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;c*&quot;: {\r\n        &quot;sz&quot;: {\r\n          &quot;0&quot;: { &quot;@3,updating_field&quot;: &quot;&amp;3.updating_field&quot; },\r\n          &quot;*&quot;: { &quot;@2,detail&quot;: &quot;&amp;3.updating_field&quot; } // else case\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"JOLT if else and moving the value of the root field to the nested","body":"<p>You can use the <em><strong><code>~</code></strong></em> operator within a <strong>modify-overwrite-beta</strong> transformation such as</p>\n<p><strong><code>&quot;~detail&quot; : &quot;@(2,updating_field)&quot;</code></strong>  meaning if <code>&quot;detail&quot;</code> does not exist or is null,</p>\n<p>then make it be the value of <code>&quot;updating_field&quot;</code> after traversing 2 levels (<strong><code>:</code></strong> and <strong><code>{</code></strong>) up the tree such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;c*&quot;: {\n        &quot;~detail&quot;: &quot;@(2,updating_field)&quot;\n      }\n    }\n  },\n  { // rename the key from &quot;detail&quot; to &quot;updating_field&quot;\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;c*&quot;: { // the level of &quot;channel&quot; where * stand for abbreviation\n        &quot;*&quot;: &quot;&amp;1.updating_field&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>first demo</strong></em> on the <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> site is :</p>\n<p><a href=\"https://i.stack.imgur.com/EcRxf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EcRxf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>the <em><strong>second demo</strong></em> on the <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> site is :</p>\n<p><a href=\"https://i.stack.imgur.com/PzdhX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PzdhX.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong> : If the <strong>null</strong> and empty string (<code>&quot;&quot;</code>) values should be classifed as in the same category, then use ths <strong>size</strong> function as follows :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;c*&quot;: {\n        &quot;sz&quot;: [&quot;=size(@(1,detail))&quot;, 0]\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;c*&quot;: {\n        &quot;sz&quot;: {\n          &quot;0&quot;: { &quot;@3,updating_field&quot;: &quot;&amp;3.updating_field&quot; },\n          &quot;*&quot;: { &quot;@2,detail&quot;: &quot;&amp;3.updating_field&quot; } // else case\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":13532979,"reputation":21,"user_id":17627206,"display_name":"Szymon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690877618,"creation_date":1690802982,"question_id":76803196,"body_markdown":"I&#39;m new to Jolt transformations. I will try to describe my case in detail.\r\nI suspect that you will need to combine shift and modify-default operations\r\n\r\nHERE: TRANSFORMATION RULE:&lt;br&gt;\r\nif field **detail** have value **(exist and is not&quot;&quot; or null)**&lt;br&gt;**then map** detail  =&gt; updating_field &lt;br&gt;\r\nelse: &lt;br&gt;\r\n**map** updating_field =&gt; updating_field\r\n\r\nINPUT\r\n```json\r\n{\r\n  &quot;updating_field&quot;: &quot;ACCEPT&quot;,\r\n  &quot;channel&quot;: {\r\n    &quot;detail&quot;: null\r\n  }\r\n}\r\n```\r\nEXPECTED OUTPUT for e.g. **detail = null** value inside JOLT\r\n```json\r\n{\r\n  &quot;channel&quot;: {\r\n    &quot;updating_field&quot;: &quot;ACCEPT&quot;\r\n  }\r\n}\r\n```\r\nOTHER INPUT\r\n```json\r\n{\r\n  &quot;updating_field&quot;: &quot;ACCEPT&quot;,\r\n  &quot;channel&quot;: {\r\n    &quot;detail&quot;: &quot;normal_value&quot;\r\n  }\r\n}\r\n```\r\nOTHER EXPECTED OUTPUT for e.g. **detail = &quot;**normal_value**&quot; value inside JOLT\r\n```json\r\n{\r\n  &quot;channel&quot;: {\r\n    &quot;updating_field&quot;: &quot;normal_value&quot;\r\n  }\r\n}\r\n```\r\nThanks in advance for any help.\r\n\r\n","title":"JOLT if else and moving the value of the root field to the nested","body":"<p>I'm new to Jolt transformations. I will try to describe my case in detail.\nI suspect that you will need to combine shift and modify-default operations</p>\n<p>HERE: TRANSFORMATION RULE:<br>\nif field <strong>detail</strong> have value <strong>(exist and is not&quot;&quot; or null)</strong><br><strong>then map</strong> detail  =&gt; updating_field <br>\nelse: <br>\n<strong>map</strong> updating_field =&gt; updating_field</p>\n<p>INPUT</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;updating_field&quot;: &quot;ACCEPT&quot;,\n  &quot;channel&quot;: {\n    &quot;detail&quot;: null\n  }\n}\n</code></pre>\n<p>EXPECTED OUTPUT for e.g. <strong>detail = null</strong> value inside JOLT</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;channel&quot;: {\n    &quot;updating_field&quot;: &quot;ACCEPT&quot;\n  }\n}\n</code></pre>\n<p>OTHER INPUT</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;updating_field&quot;: &quot;ACCEPT&quot;,\n  &quot;channel&quot;: {\n    &quot;detail&quot;: &quot;normal_value&quot;\n  }\n}\n</code></pre>\n<p>OTHER EXPECTED OUTPUT for e.g. **detail = &quot;<strong>normal_value</strong>&quot; value inside JOLT</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;channel&quot;: {\n    &quot;updating_field&quot;: &quot;normal_value&quot;\n  }\n}\n</code></pre>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","testing","junit"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1499011326,"post_id":44872697,"comment_id":76723871,"body_markdown":"Maybe the method could walk up the call stack, looking for some method that&#39;s annotated with @Test? (That is, as long as the method is in the same thread as the test.)","body":"Maybe the method could walk up the call stack, looking for some method that&#39;s annotated with @Test? (That is, as long as the method is in the same thread as the test.)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1499012576,"post_id":44872697,"comment_id":76724192,"body_markdown":"Andy: that would put a whole lot of complicated test only code in your production class. I would strongly advise to not do that.","body":"Andy: that would put a whole lot of complicated test only code in your production class. I would strongly advise to not do that."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1499157522,"post_id":44872697,"comment_id":76779294,"body_markdown":"Just wondering: are you looking for further input; or is there anything I could do to make my answer accept-worthy?","body":"Just wondering: are you looking for further input; or is there anything I could do to make my answer accept-worthy?"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499157865,"creation_date":1499012443,"answer_id":44872870,"question_id":44872697,"body_markdown":"There is nothing that would prevent to call methods &quot;outside&quot; of a junit test case. \r\n\r\nMy pragmatic answer: make the method package protected and add a simple comment like &quot;unit test only&quot; as javadoc. And educate your team to honor such statements. \r\n\r\nAnd ideally: design your production code in a way that does not require such &quot;tricks&quot; in order to make it testable! \r\n\r\nGiven the comments on the question: it might be technically possible to somehow acquire stack trace information; to then search for the presence of @Test annotations on the corresponding methods. But that seems to be absolute overkill - and it would mean to add even more &quot;test only&quot; code into the production code. \r\n\r\nAnd it would also be the wrong approach - as it tries to solve a &quot;social&quot; problem using technical means: if you don&#39;t want that people are calling a certain method - then make sure they **understand** that. ","title":"How to create method that could be used only for tests","body":"<p>There is nothing that would prevent to call methods \"outside\" of a junit test case. </p>\n\n<p>My pragmatic answer: make the method package protected and add a simple comment like \"unit test only\" as javadoc. And educate your team to honor such statements. </p>\n\n<p>And ideally: design your production code in a way that does not require such \"tricks\" in order to make it testable! </p>\n\n<p>Given the comments on the question: it might be technically possible to somehow acquire stack trace information; to then search for the presence of @Test annotations on the corresponding methods. But that seems to be absolute overkill - and it would mean to add even more \"test only\" code into the production code. </p>\n\n<p>And it would also be the wrong approach - as it tries to solve a \"social\" problem using technical means: if you don't want that people are calling a certain method - then make sure they <strong>understand</strong> that. </p>\n"},{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499013710,"creation_date":1499013261,"answer_id":44872974,"question_id":44872697,"body_markdown":"For what purpose do you need this method? \r\n\r\n(J)UnitTests should verify the *behavior* of the class by using its *public interface*. No &quot;special&quot; method in the tested code should be used in unit tests. \r\n\r\n\r\n----------\r\n\r\n\r\n**But** Unittests should replace the *dependencies* of the tested code with *test doubles* (aka fakes and mocks). The preferred way to provide those test doubles is *dependency injection* (DI). \r\n\r\nSometimes its to much effort to introduce DI to your code. In that case it is acceptable to introduce *low visibility getter methods* as a seam where the dependency can be replaced by the mock.\r\n\r\n    class CodeUnderTest{\r\n      private final SomeOtherClass dependency = new SomeOtherClass();\r\n      SomeOtherClass getDependency(){ // package private getter\r\n        return dependency;\r\n      }\r\n      public void doSomething(){\r\n         dependency.expectedMethodCalled();\r\n      }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    class TestInSamePackage{\r\n         @Rule\r\n         public MockitoRule rule = MockitoJUnit.rule();\r\n    \r\n         @Mock\r\n         private SomeOtherClass testDouble;\r\n    \r\n         @Spy\r\n         private CodeUnderTest cut;\r\n        \r\n         @Before\r\n         public void setup(){\r\n           doReturn(testDouble).when(cut).getDependency();\r\n         }\r\n    \r\n         @Test\r\n         public void shouldDoSomething() {\r\n             // configure testDouble\r\n             \r\n             cut.doSomething();\r\n    \r\n             verify(testDouble).expectedMethodCalled();\r\n         }\r\n    }","title":"How to create method that could be used only for tests","body":"<p>For what purpose do you need this method? </p>\n\n<p>(J)UnitTests should verify the <em>behavior</em> of the class by using its <em>public interface</em>. No \"special\" method in the tested code should be used in unit tests. </p>\n\n<hr>\n\n<p><strong>But</strong> Unittests should replace the <em>dependencies</em> of the tested code with <em>test doubles</em> (aka fakes and mocks). The preferred way to provide those test doubles is <em>dependency injection</em> (DI). </p>\n\n<p>Sometimes its to much effort to introduce DI to your code. In that case it is acceptable to introduce <em>low visibility getter methods</em> as a seam where the dependency can be replaced by the mock.</p>\n\n<pre><code>class CodeUnderTest{\n  private final SomeOtherClass dependency = new SomeOtherClass();\n  SomeOtherClass getDependency(){ // package private getter\n    return dependency;\n  }\n  public void doSomething(){\n     dependency.expectedMethodCalled();\n  }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class TestInSamePackage{\n     @Rule\n     public MockitoRule rule = MockitoJUnit.rule();\n\n     @Mock\n     private SomeOtherClass testDouble;\n\n     @Spy\n     private CodeUnderTest cut;\n\n     @Before\n     public void setup(){\n       doReturn(testDouble).when(cut).getDependency();\n     }\n\n     @Test\n     public void shouldDoSomething() {\n         // configure testDouble\n\n         cut.doSomething();\n\n         verify(testDouble).expectedMethodCalled();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499014237,"creation_date":1499013736,"answer_id":44873040,"question_id":44872697,"body_markdown":"For methods that are only used for testing... why not make them part of the actual test-code? At least in build-systems such as Maven, test code is not included in packaged jars, and is only distributed as part of the sources. In that sense, it cannot be called from normal classes, since it is simply not included in the final .jar (or .war).\r\n\r\nI very frequently write such methods to make my test-code more maintainable. \r\n\r\nTo clarify:\r\n\r\n    src/\r\n      main/\r\n        java/\r\n          my/package/\r\n            MyClass.java &lt;-- leave necessary protected accessors here\r\n      test/\r\n        java/\r\n          my/package/\r\n            MyClassTest.java &lt;-- implement test-code here\r\n\r\nAnd in `MyClassTest`...\r\n\r\n    public class MyClassTest {\r\n\r\n       ...\r\n\r\n       private static Foo doSomethingCoolButTesty(MyClass instance) {\r\n           // access protected or package-private MyClass code here \r\n       }\r\n    }\r\n\r\n`MyClassTest.doSomethingCoolButTesty` will be kept separate from the main code, and will obviously only be available to test code. Yes, it is somewhat uglier than including it as a method of the main code, but I find a fair price to pay.","title":"How to create method that could be used only for tests","body":"<p>For methods that are only used for testing... why not make them part of the actual test-code? At least in build-systems such as Maven, test code is not included in packaged jars, and is only distributed as part of the sources. In that sense, it cannot be called from normal classes, since it is simply not included in the final .jar (or .war).</p>\n\n<p>I very frequently write such methods to make my test-code more maintainable. </p>\n\n<p>To clarify:</p>\n\n<pre><code>src/\n  main/\n    java/\n      my/package/\n        MyClass.java &lt;-- leave necessary protected accessors here\n  test/\n    java/\n      my/package/\n        MyClassTest.java &lt;-- implement test-code here\n</code></pre>\n\n<p>And in <code>MyClassTest</code>...</p>\n\n<pre><code>public class MyClassTest {\n\n   ...\n\n   private static Foo doSomethingCoolButTesty(MyClass instance) {\n       // access protected or package-private MyClass code here \n   }\n}\n</code></pre>\n\n<p><code>MyClassTest.doSomethingCoolButTesty</code> will be kept separate from the main code, and will obviously only be available to test code. Yes, it is somewhat uglier than including it as a method of the main code, but I find a fair price to pay.</p>\n"},{"tags":[],"owner":{"account_id":3038507,"reputation":13,"user_id":2576068,"display_name":"apoth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690876821,"creation_date":1690876821,"answer_id":76809594,"question_id":44872697,"body_markdown":"Copied from https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes\r\n\r\nYou can use reflection to get around the visibility of fields and methods. Others rightly pointed out that private functions should not be tested but I personally had the use case of writing into fields that under normal circumstances should not have a setter or any write access beside the constructor.","title":"How to create method that could be used only for tests","body":"<p>Copied from <a href=\"https://stackoverflow.com/questions/34571/how-do-i-test-a-class-that-has-private-methods-fields-or-inner-classes\">How do I test a class that has private methods, fields or inner classes?</a></p>\n<p>You can use reflection to get around the visibility of fields and methods. Others rightly pointed out that private functions should not be tested but I personally had the use case of writing into fields that under normal circumstances should not have a setter or any write access beside the constructor.</p>\n"}],"owner":{"display_name":"user7948569"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9176,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1690876821,"creation_date":1499011245,"question_id":44872697,"body_markdown":"Are the any ways to create method/contractor that could be used only in Junit ( test purpose only ) ? \r\n\r\nMaybe there is an annotation? ","title":"How to create method that could be used only for tests","body":"<p>Are the any ways to create method/contractor that could be used only in Junit ( test purpose only ) ? </p>\n\n<p>Maybe there is an annotation? </p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689782238,"post_id":76722561,"comment_id":135263210,"body_markdown":"As an aside to what I state [here](https://stackoverflow.com/questions/76722561/how-do-i-reuse-a-method-from-another-class#comment135263123_76722588), standard Java naming conventions have class names following the `PascalCase` (i.e., `UpperCamelCase`) format. So, `aboutController` and `contactController` should be `AboutController` and `ContactController`, respectively. You should follow standard naming conventions when posting code to a public forum like Stack Overflow.","body":"As an aside to what I state <a href=\"https://stackoverflow.com/questions/76722561/how-do-i-reuse-a-method-from-another-class#comment135263123_76722588\">here</a>, standard Java naming conventions have class names following the <code>PascalCase</code> (i.e., <code>UpperCamelCase</code>) format. So, <code>aboutController</code> and <code>contactController</code> should be <code>AboutController</code> and <code>ContactController</code>, respectively. You should follow standard naming conventions when posting code to a public forum like Stack Overflow."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689782463,"post_id":76722561,"comment_id":135263258,"body_markdown":"Additionally, the way you have `ContactController` subclassing `AboutController` is strange. For one, you apparently want to use the implementation of `logoutButtonClick` from `AboutController`, yet you override that method in `ContactController`. Why override the method at all? And then you have an identical `logoutButton` field in both classes; the field in the subclass is _hiding_ the field in the superclass (note fields are not polymorphic). Since that field is public, you already have access to it in the subclass. Why define it &quot;again&quot;?","body":"Additionally, the way you have <code>ContactController</code> subclassing <code>AboutController</code> is strange. For one, you apparently want to use the implementation of <code>logoutButtonClick</code> from <code>AboutController</code>, yet you override that method in <code>ContactController</code>. Why override the method at all? And then you have an identical <code>logoutButton</code> field in both classes; the field in the subclass is <i>hiding</i> the field in the superclass (note fields are not polymorphic). Since that field is public, you already have access to it in the subclass. Why define it &quot;again&quot;?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1689788343,"post_id":76722561,"comment_id":135264489,"body_markdown":"As Slaw notes, likely your design should be changed, and possibly triggering a button click shouldn&#39;t be necessary.  Usually, with a logout, a single action will logout the user in all places, and there is no need to generate multiple actions to have this occur.  How to log out in all places though is application specific and beyond the scope of what I could answer here.  To achieve it, likely you would apply elements of an [mvc](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) pattern, which is a more advanced (and complex) approach.","body":"As Slaw notes, likely your design should be changed, and possibly triggering a button click shouldn&#39;t be necessary.  Usually, with a logout, a single action will logout the user in all places, and there is no need to generate multiple actions to have this occur.  How to log out in all places though is application specific and beyond the scope of what I could answer here.  To achieve it, likely you would apply elements of an <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">mvc</a> pattern, which is a more advanced (and complex) approach."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689790505,"post_id":76722561,"comment_id":135264904,"body_markdown":"If you want to simulate a button click from code, you should call [`fire`](https://stackoverflow.com/q/29353790/1155209) on the button.","body":"If you want to simulate a button click from code, you should call <a href=\"https://stackoverflow.com/q/29353790/1155209\"><code>fire</code></a> on the button."}],"answers":[{"tags":[],"owner":{"account_id":26991848,"reputation":62,"user_id":20554626,"display_name":"sammy medawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690876104,"creation_date":1690875701,"answer_id":76809466,"question_id":76722561,"body_markdown":"Seeing as you&#39;re not using the actionEvent argument, I suggest creating a method in the aboutController class for logging out and calling that method from the Action Event method:\r\n\r\n    public class aboutController {\r\n    \r\n        @FXML\r\n        public Button logoutButton;\r\n    \r\n        public void logoutButtonClick (ActionEvent actionEvent) throws IOException {\r\n           logout();\r\n        }\r\n    \r\n        public void logout(){\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;FirstPage.fxml&quot;));\r\n            Stage window = (Stage) logoutButton.getScene().getWindow();\r\n            window.setScene(new Scene(root, 800,500));\r\n        }\r\n\r\nAnd then you can try calling the logout method from the contactController\r\n\r\n    public class contactController extends aboutController{\r\n    \r\n        @FXML\r\n        public Button logoutButton; // If this is the same logout button as \r\n        //it&#39;s parent class, this is not necessary\r\n    \r\n    \r\n        public void logoutButtonClick(ActionEvent actionEvent) throws IOException {\r\n    \r\n            super.logout();\r\n    \r\n        }\r\n\r\nOn a side note, as others have said, it&#39;s better to use Pascal Case when naming classes (i.e ContactController instead of contactController). Additionally, logoutButtonClick isn&#39;t the best name to give such a method since this is an action event not a click. I&#39;d rather name it something like onActionLogoutButton.","title":"How do I reuse a method from another class?","body":"<p>Seeing as you're not using the actionEvent argument, I suggest creating a method in the aboutController class for logging out and calling that method from the Action Event method:</p>\n<pre><code>public class aboutController {\n\n    @FXML\n    public Button logoutButton;\n\n    public void logoutButtonClick (ActionEvent actionEvent) throws IOException {\n       logout();\n    }\n\n    public void logout(){\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FirstPage.fxml&quot;));\n        Stage window = (Stage) logoutButton.getScene().getWindow();\n        window.setScene(new Scene(root, 800,500));\n    }\n</code></pre>\n<p>And then you can try calling the logout method from the contactController</p>\n<pre><code>public class contactController extends aboutController{\n\n    @FXML\n    public Button logoutButton; // If this is the same logout button as \n    //it's parent class, this is not necessary\n\n\n    public void logoutButtonClick(ActionEvent actionEvent) throws IOException {\n\n        super.logout();\n\n    }\n</code></pre>\n<p>On a side note, as others have said, it's better to use Pascal Case when naming classes (i.e ContactController instead of contactController). Additionally, logoutButtonClick isn't the best name to give such a method since this is an action event not a click. I'd rather name it something like onActionLogoutButton.</p>\n"}],"owner":{"account_id":17259056,"reputation":27,"user_id":12497473,"display_name":"sqlcoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690876104,"creation_date":1689778021,"question_id":76722561,"body_markdown":"I am currently using JavaFX and I want to reuse a method from another class. I have the method in a class called about and I want to reuse the method in a class called contact. Its a simple method, all it does is changes scene after the button is clicked. Code is below: \r\n\r\n```\r\npublic void logoutButtonClick (ActionEvent actionEvent) throws IOException {\r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;FirstPage.fxml&quot;));\r\n    Stage window = (Stage) logoutButton.getScene().getWindow();\r\n    window.setScene(new Scene(root, 800,500));\r\n\r\n}\r\n```\r\n```\r\npublic void logoutButtonClick(ActionEvent actionEvent) throws IOException {\r\n\r\n    aboutController aboutController = new aboutController();\r\n    aboutController.logoutButtonClick();\r\n\r\n}\r\n```\r\n\r\nAt the moment I am getting an error:\r\n\r\n```\r\njava: method logoutButtonClick in class com.example.demo2.aboutController cannot be applied to given types;\r\n  required: javafx.event.ActionEvent\r\n  found:    no arguments\r\n  reason: actual and formal argument lists differ in length\r\n```\r\nIt is expecting something in the brackets but I am unsure what it is. Any help would be great. Thanks\r\n\r\nSome more code of the classes:\r\n\r\n```\r\npublic class contactController extends aboutController{\r\n\r\n    @FXML\r\n    public Button logoutButton;\r\n\r\n\r\n    public void logoutButtonClick(ActionEvent actionEvent) throws IOException {\r\n\r\n        aboutController aboutController = new aboutController();\r\n        aboutController.logoutButtonClick(actionEvent);\r\n\r\n    }\r\n```\r\n```\r\npublic class aboutController {\r\n\r\n    @FXML\r\n    public Button logoutButton;\r\n\r\n    public void logoutButtonClick (ActionEvent actionEvent) throws IOException {\r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;FirstPage.fxml&quot;));\r\n    Stage window = (Stage) logoutButton.getScene().getWindow();\r\n    window.setScene(new Scene(root, 800,500));\r\n\r\n    }\r\n```","title":"How do I reuse a method from another class?","body":"<p>I am currently using JavaFX and I want to reuse a method from another class. I have the method in a class called about and I want to reuse the method in a class called contact. Its a simple method, all it does is changes scene after the button is clicked. Code is below:</p>\n<pre><code>public void logoutButtonClick (ActionEvent actionEvent) throws IOException {\n\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;FirstPage.fxml&quot;));\n    Stage window = (Stage) logoutButton.getScene().getWindow();\n    window.setScene(new Scene(root, 800,500));\n\n}\n</code></pre>\n<pre><code>public void logoutButtonClick(ActionEvent actionEvent) throws IOException {\n\n    aboutController aboutController = new aboutController();\n    aboutController.logoutButtonClick();\n\n}\n</code></pre>\n<p>At the moment I am getting an error:</p>\n<pre><code>java: method logoutButtonClick in class com.example.demo2.aboutController cannot be applied to given types;\n  required: javafx.event.ActionEvent\n  found:    no arguments\n  reason: actual and formal argument lists differ in length\n</code></pre>\n<p>It is expecting something in the brackets but I am unsure what it is. Any help would be great. Thanks</p>\n<p>Some more code of the classes:</p>\n<pre><code>public class contactController extends aboutController{\n\n    @FXML\n    public Button logoutButton;\n\n\n    public void logoutButtonClick(ActionEvent actionEvent) throws IOException {\n\n        aboutController aboutController = new aboutController();\n        aboutController.logoutButtonClick(actionEvent);\n\n    }\n</code></pre>\n<pre><code>public class aboutController {\n\n    @FXML\n    public Button logoutButton;\n\n    public void logoutButtonClick (ActionEvent actionEvent) throws IOException {\n\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;FirstPage.fxml&quot;));\n    Stage window = (Stage) logoutButton.getScene().getWindow();\n    window.setScene(new Scene(root, 800,500));\n\n    }\n</code></pre>\n"},{"tags":["java","android","reactjs","flutter","react-native"],"owner":{"account_id":4022519,"reputation":89,"user_id":3312267,"accept_rate":25,"display_name":"srinivas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690876010,"creation_date":1690876010,"question_id":76809498,"body_markdown":"React app crashes without any errors,\r\nprevious same app worked fine now it is crashing without any errors so I took logs from adb logs and shared them below.\r\n\r\nwhenever I open the app it is crashing build is getting success \r\n\r\nhere I gave build.gradle \r\n\r\n       ext {\r\n            buildToolsVersion = &quot;29.0.2&quot;\r\n            minSdkVersion = 21\r\n            compileSdkVersion = 33\r\n            targetSdkVersion = 33\r\n        }\r\n\r\n\r\ndependencies added here :  app/build.gradle\r\n\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    //noinspection GradleDynamicVersion\r\n    def REACT_NATIVE_VERSION = new File([&#39;node&#39;, &#39;--\r\n    print&#39;,&quot;JSON.parse(require(&#39;fs&#39;).readFileSync(require.resolve(&#39;react-native/package.json&#39;), &#39;utf-8&#39;)).version&quot;].execute(null, rootDir).text.trim())\r\n    \r\n    implementation &quot;com.facebook.react:react-native:&quot; + REACT_NATIVE_VERSION;  // From node_modules\r\n    // implementation &#39;com.google.android.gms:play-services-ads:19.8.0&#39;\r\n    // implementation (&#39;com.google.android.gms:play-services-ads:16.+&#39;) { force = true; }\r\n    // implementation &quot;com.google.android.gms.ads.InterstitialAd&quot;;\r\n    // implementation &quot;com.google.android.gms.ads.interstitial.InterstitialAd&quot;;\r\n    // implementation &#39;com.google.android.gms:play-services:9.2.1&#39;\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.1&#39;;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:4.9.0&#39;;\r\n    \r\n    \r\n    implementation &quot;com.google.android.gms:play-services-basement:17.0.0&quot;;\r\n    implementation &quot;com.google.android.gms:play-services-base:17.1.0&quot;;\r\n    implementation &quot;com.google.android.gms:play-services-stats:17.0.0&quot;;\r\n    implementation &quot;com.google.android.gms:play-services-gcm:17.0.0&quot;;\r\n    implementation &quot;com.google.android.gms:play-services-ads:19.8.0&quot;;\r\n    \r\n    \r\n    \r\n    \r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;;\r\n    \r\n    debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n      exclude group:&#39;com.facebook.fbjni&#39;\r\n    }\r\n    \r\n    debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n        exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n    }\r\n    \r\n    debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n        exclude group:&#39;com.facebook.flipper&#39;\r\n    }\r\n     implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n     implementation &quot;com.android.support:appcompat-v7:23.0.1&quot;\r\n     implementation &quot;com.facebook.react:react-native:+&quot;;  // From node_modules\r\n    \r\n     implementation project(&#39;:react-native-vector-icons&#39;)\r\n     \r\n    //  implementation project(&#39;:RNAdMob&#39;)\r\n     implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    \r\n    \r\n    if (enableHermes) {\r\n        def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n        debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n        releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n    } else {\r\n        implementation jscFlavor\r\n    }\r\n\r\n\r\n\r\n\r\nadblogs: \r\n\r\n    08-01 11:27:12.844   551   581 W WindowManager:         at com.android.server.ServiceThread.run(ServiceThread.java:46)\r\n    08-01 11:27:12.941   551  1956 I ActivityManager: Process com.whatsappstatusdownload2save (pid 5184) has died: prcp TOP\r\n    08-01 11:27:13.139   551   581 W WindowManager: Failed to deliver inset control state change to w=Window{46dc90e u0 com.whatsappstatusdownload2save/com.whatsappstatusdownload2save.MainActivity EXITING}\r\n    08-01 11:27:13.139   551   581 W WindowManager: android.os.DeadObjectException\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.os.BinderProxy.transactNative(Native Method)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.os.BinderProxy.transact(BinderProxy.java:584)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.view.IWindow$Stub$Proxy.insetsControlChanged(IWindow.java:479)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowState.notifyInsetsControlChanged(WindowState.java:3794)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.InsetsStateController.lambda$notifyPendingInsetsControlChanged$3(InsetsStateController.java:343)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.InsetsStateController.$r8$lambda$8yykPRG1GyNq_J17QvL9d5xANMc(InsetsStateController.java:0)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.InsetsStateController$$ExternalSyntheticLambda2.run(R8$$SyntheticClass:0)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowAnimator.executeAfterPrepareSurfacesRunnables(WindowAnimator.java:294)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.RootWindowContainer.performSurfacePlacementNoTrace(RootWindowContainer.java:811)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.RootWindowContainer.performSurfacePlacement(RootWindowContainer.java:756)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer.performSurfacePlacementLoop(WindowSurfacePlacer.java:177)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer.performSurfacePlacement(WindowSurfacePlacer.java:126)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer.performSurfacePlacement(WindowSurfacePlacer.java:115)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer$Traverser.run(WindowSurfacePlacer.java:57)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Handler.handleCallback(Handler.java:958)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Looper.loopOnce(Looper.java:205)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Looper.loop(Looper.java:294)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at android.os.HandlerThread.run(HandlerThread.java:67)\r\n    08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.ServiceThread.run(ServiceThread.java:46)\r\n    08-01 11:27:13.204   551   577 V WindowManager:     info={id=10 t=CLOSE f=0x10 trk=0 r=[0@Point(0, 0)] c=[{WCT{RemoteToken{cc078bb Task{2dca30 #1 type=home}}} m=TO_FRONT f=SHOW_WALLPAPER|MOVE_TO_TOP leash=Surface(name=Task=1)/@0xc7615e4 sb=Rect(0, 0 - 1440, 3120) eb=Rect(0, 0 - 1440, 3120) d=0},{WCT{RemoteToken{480c6b5 Task{b8692d1 #54 type=standard A=10184:com.whatsappstatusdownload2save}}} m=CLOSE f=NONE leash=Surface(name=Task=54)/@0x1237e5f sb=Rect(0, 0 - 1440, 3120) eb=Rect(0, 0 - 1440, 3120) d=0},{null m=TO_FRONT f=IS_WALLPAPER leash=Surface(name=WallpaperWindowToken{2f86cdf token=android.os.Binder@3924f7e})/@0x5edfe53 sb=Rect(0, 0 - 1440, 3120) eb=Rect(0, 0 - 1440, 3120) d=0}]}\r\n    08-01 11:27:13.499   551  1956 W WindowManager: Exception thrown during dispatchAppVisibility Window{46dc90e u0 com.whatsappstatusdownload2save/com.whatsappstatusdownload2save.MainActivity EXITING}\r\n    08-01 11:27:13.499   551  1956 W WindowManager: android.os.DeadObjectException\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.BinderProxy.transactNative(Native Method)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.BinderProxy.transact(BinderProxy.java:584)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at android.view.IWindow$Stub$Proxy.dispatchAppVisibility(IWindow.java:546)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowState.sendAppVisibilityToClients(WindowState.java:3271)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowContainer.sendAppVisibilityToClients(WindowContainer.java:1221)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowToken.setClientVisible(WindowToken.java:409)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.ActivityRecord.setClientVisible(ActivityRecord.java:6946)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.ActivityRecord.postApplyAnimation(ActivityRecord.java:5637)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.ActivityRecord.commitVisibility(ActivityRecord.java:5580)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.Transition.finishTransition(Transition.java:1143)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.TransitionController.finishTransition(TransitionController.java:859)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowOrganizerController.finishTransition(WindowOrganizerController.java:396)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at android.window.IWindowOrganizerController$Stub.onTransact(IWindowOrganizerController.java:286)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowOrganizerController.onTransact(WindowOrganizerController.java:181)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.Binder.execTransactInternal(Binder.java:1344)\r\n    08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.Binder.execTransact(Binder.java:1275)\r\n    08-01 11:27:13.646   551  5261 W ActivityManager: Ignoring remove of inactive process: ProcessRecord{a994481 0:com.whatsappstatusdownload2save/u0a184}\r\n\r\n\r\ngradle wrapper properties:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n\r\n\r\n\r\n\r\n","title":"React native app crashing without any errors - adb logs given below","body":"<p>React app crashes without any errors,\nprevious same app worked fine now it is crashing without any errors so I took logs from adb logs and shared them below.</p>\n<p>whenever I open the app it is crashing build is getting success</p>\n<p>here I gave build.gradle</p>\n<pre><code>   ext {\n        buildToolsVersion = &quot;29.0.2&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 33\n        targetSdkVersion = 33\n    }\n</code></pre>\n<p>dependencies added here :  app/build.gradle</p>\n<pre><code>implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n//noinspection GradleDynamicVersion\ndef REACT_NATIVE_VERSION = new File(['node', '--\nprint',&quot;JSON.parse(require('fs').readFileSync(require.resolve('react-native/package.json'), 'utf-8')).version&quot;].execute(null, rootDir).text.trim())\n\nimplementation &quot;com.facebook.react:react-native:&quot; + REACT_NATIVE_VERSION;  // From node_modules\n// implementation 'com.google.android.gms:play-services-ads:19.8.0'\n// implementation ('com.google.android.gms:play-services-ads:16.+') { force = true; }\n// implementation &quot;com.google.android.gms.ads.InterstitialAd&quot;;\n// implementation &quot;com.google.android.gms.ads.interstitial.InterstitialAd&quot;;\n// implementation 'com.google.android.gms:play-services:9.2.1'\nimplementation 'androidx.work:work-runtime-ktx:2.7.1';\nimplementation 'com.squareup.okhttp3:okhttp:4.9.0';\n\n\nimplementation &quot;com.google.android.gms:play-services-basement:17.0.0&quot;;\nimplementation &quot;com.google.android.gms:play-services-base:17.1.0&quot;;\nimplementation &quot;com.google.android.gms:play-services-stats:17.0.0&quot;;\nimplementation &quot;com.google.android.gms:play-services-gcm:17.0.0&quot;;\nimplementation &quot;com.google.android.gms:play-services-ads:19.8.0&quot;;\n\n\n\n\nimplementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.0.0&quot;;\n\ndebugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n  exclude group:'com.facebook.fbjni'\n}\n\ndebugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n    exclude group:'com.facebook.flipper'\n    exclude group:'com.squareup.okhttp3', module:'okhttp'\n}\n\ndebugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n    exclude group:'com.facebook.flipper'\n}\n implementation fileTree(dir: 'libs', include: ['*.jar'])\n implementation &quot;com.android.support:appcompat-v7:23.0.1&quot;\n implementation &quot;com.facebook.react:react-native:+&quot;;  // From node_modules\n\n implementation project(':react-native-vector-icons')\n \n//  implementation project(':RNAdMob')\n implementation 'com.android.support:multidex:1.0.3'\n\n\nif (enableHermes) {\n    def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\n    debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n    releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n} else {\n    implementation jscFlavor\n}\n</code></pre>\n<p>adblogs:</p>\n<pre><code>08-01 11:27:12.844   551   581 W WindowManager:         at com.android.server.ServiceThread.run(ServiceThread.java:46)\n08-01 11:27:12.941   551  1956 I ActivityManager: Process com.whatsappstatusdownload2save (pid 5184) has died: prcp TOP\n08-01 11:27:13.139   551   581 W WindowManager: Failed to deliver inset control state change to w=Window{46dc90e u0 com.whatsappstatusdownload2save/com.whatsappstatusdownload2save.MainActivity EXITING}\n08-01 11:27:13.139   551   581 W WindowManager: android.os.DeadObjectException\n08-01 11:27:13.139   551   581 W WindowManager:         at android.os.BinderProxy.transactNative(Native Method)\n08-01 11:27:13.139   551   581 W WindowManager:         at android.os.BinderProxy.transact(BinderProxy.java:584)\n08-01 11:27:13.139   551   581 W WindowManager:         at android.view.IWindow$Stub$Proxy.insetsControlChanged(IWindow.java:479)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowState.notifyInsetsControlChanged(WindowState.java:3794)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.InsetsStateController.lambda$notifyPendingInsetsControlChanged$3(InsetsStateController.java:343)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.InsetsStateController.$r8$lambda$8yykPRG1GyNq_J17QvL9d5xANMc(InsetsStateController.java:0)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.InsetsStateController$$ExternalSyntheticLambda2.run(R8$$SyntheticClass:0)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowAnimator.executeAfterPrepareSurfacesRunnables(WindowAnimator.java:294)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.RootWindowContainer.performSurfacePlacementNoTrace(RootWindowContainer.java:811)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.RootWindowContainer.performSurfacePlacement(RootWindowContainer.java:756)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer.performSurfacePlacementLoop(WindowSurfacePlacer.java:177)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer.performSurfacePlacement(WindowSurfacePlacer.java:126)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer.performSurfacePlacement(WindowSurfacePlacer.java:115)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.wm.WindowSurfacePlacer$Traverser.run(WindowSurfacePlacer.java:57)\n08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Handler.handleCallback(Handler.java:958)\n08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Handler.dispatchMessage(Handler.java:99)\n08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Looper.loopOnce(Looper.java:205)\n08-01 11:27:13.139   551   581 W WindowManager:         at android.os.Looper.loop(Looper.java:294)\n08-01 11:27:13.139   551   581 W WindowManager:         at android.os.HandlerThread.run(HandlerThread.java:67)\n08-01 11:27:13.139   551   581 W WindowManager:         at com.android.server.ServiceThread.run(ServiceThread.java:46)\n08-01 11:27:13.204   551   577 V WindowManager:     info={id=10 t=CLOSE f=0x10 trk=0 r=[0@Point(0, 0)] c=[{WCT{RemoteToken{cc078bb Task{2dca30 #1 type=home}}} m=TO_FRONT f=SHOW_WALLPAPER|MOVE_TO_TOP leash=Surface(name=Task=1)/@0xc7615e4 sb=Rect(0, 0 - 1440, 3120) eb=Rect(0, 0 - 1440, 3120) d=0},{WCT{RemoteToken{480c6b5 Task{b8692d1 #54 type=standard A=10184:com.whatsappstatusdownload2save}}} m=CLOSE f=NONE leash=Surface(name=Task=54)/@0x1237e5f sb=Rect(0, 0 - 1440, 3120) eb=Rect(0, 0 - 1440, 3120) d=0},{null m=TO_FRONT f=IS_WALLPAPER leash=Surface(name=WallpaperWindowToken{2f86cdf token=android.os.Binder@3924f7e})/@0x5edfe53 sb=Rect(0, 0 - 1440, 3120) eb=Rect(0, 0 - 1440, 3120) d=0}]}\n08-01 11:27:13.499   551  1956 W WindowManager: Exception thrown during dispatchAppVisibility Window{46dc90e u0 com.whatsappstatusdownload2save/com.whatsappstatusdownload2save.MainActivity EXITING}\n08-01 11:27:13.499   551  1956 W WindowManager: android.os.DeadObjectException\n08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.BinderProxy.transactNative(Native Method)\n08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.BinderProxy.transact(BinderProxy.java:584)\n08-01 11:27:13.499   551  1956 W WindowManager:         at android.view.IWindow$Stub$Proxy.dispatchAppVisibility(IWindow.java:546)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowState.sendAppVisibilityToClients(WindowState.java:3271)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowContainer.sendAppVisibilityToClients(WindowContainer.java:1221)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowToken.setClientVisible(WindowToken.java:409)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.ActivityRecord.setClientVisible(ActivityRecord.java:6946)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.ActivityRecord.postApplyAnimation(ActivityRecord.java:5637)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.ActivityRecord.commitVisibility(ActivityRecord.java:5580)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.Transition.finishTransition(Transition.java:1143)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.TransitionController.finishTransition(TransitionController.java:859)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowOrganizerController.finishTransition(WindowOrganizerController.java:396)\n08-01 11:27:13.499   551  1956 W WindowManager:         at android.window.IWindowOrganizerController$Stub.onTransact(IWindowOrganizerController.java:286)\n08-01 11:27:13.499   551  1956 W WindowManager:         at com.android.server.wm.WindowOrganizerController.onTransact(WindowOrganizerController.java:181)\n08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.Binder.execTransactInternal(Binder.java:1344)\n08-01 11:27:13.499   551  1956 W WindowManager:         at android.os.Binder.execTransact(Binder.java:1275)\n08-01 11:27:13.646   551  5261 W ActivityManager: Ignoring remove of inactive process: ProcessRecord{a994481 0:com.whatsappstatusdownload2save/u0a184}\n</code></pre>\n<p>gradle wrapper properties:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"},{"tags":["java","spring","testing","junit"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690875095,"post_id":76809390,"comment_id":135410250,"body_markdown":"Don&#39;t test that method by calling it directly. Use a REST endpoint testing framework.","body":"Don&#39;t test that method by calling it directly. Use a REST endpoint testing framework."},{"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"score":0,"creation_date":1690875415,"post_id":76809390,"comment_id":135410307,"body_markdown":"I have done it with REST framework which was quite easy, but now i have to do this like this and this is the problem. @Jorn","body":"I have done it with REST framework which was quite easy, but now i have to do this like this and this is the problem. @Jorn"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690875488,"post_id":76809390,"comment_id":135410319,"body_markdown":"Right, so you know how to do it properly, but you&#39;re choosing not to. I can&#39;t help you with that other than to say: Don&#39;t.","body":"Right, so you know how to do it properly, but you&#39;re choosing not to. I can&#39;t help you with that other than to say: Don&#39;t."}],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690875048,"creation_date":1690875048,"question_id":76809390,"body_markdown":"i have a function that receives parameter HttpHeaders marked with @Context jakarta annotation.\r\n\r\nIt looks like this : \r\n\r\n    public Response login(\r\n    \t\t\t@HeaderParam(H_FIRM) String firm,\r\n    \t\t\t@QueryParam(&quot;rememberme&quot;) Boolean rememberme,\r\n    \t\t\t@Context HttpHeaders headers,\r\n    \t\t\t@Context UriInfo uriInfo\r\n    \t) { }\r\n\r\nAnd my question is how can i provide HttpHeaders to test which looks more or less like this:\r\n\r\n\t\r\n\r\n    @Test\r\n    \t@OperateOnDeployment(IT)\r\n    \tpublic void loginWithoutValidityTest() {\r\n    \t\t//when\r\n    \t\tResponse response = authResource.login(&#39;parameters&#39;)\r\n    \t\t//then\r\n    \t\tassertEquals(200, response.getStatus());\r\n    \t}\r\n\r\nThanks in advance for any answers, ive been struggling with this for a long time.\r\n","title":"Testing method with parameter marked with @Context annotation","body":"<p>i have a function that receives parameter HttpHeaders marked with @Context jakarta annotation.</p>\n<p>It looks like this :</p>\n<pre><code>public Response login(\n            @HeaderParam(H_FIRM) String firm,\n            @QueryParam(&quot;rememberme&quot;) Boolean rememberme,\n            @Context HttpHeaders headers,\n            @Context UriInfo uriInfo\n    ) { }\n</code></pre>\n<p>And my question is how can i provide HttpHeaders to test which looks more or less like this:</p>\n<pre><code>@Test\n    @OperateOnDeployment(IT)\n    public void loginWithoutValidityTest() {\n        //when\n        Response response = authResource.login('parameters')\n        //then\n        assertEquals(200, response.getStatus());\n    }\n</code></pre>\n<p>Thanks in advance for any answers, ive been struggling with this for a long time.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"score":0,"creation_date":1315909748,"post_id":7400292,"comment_id":8939469,"body_markdown":"http://download.oracle.com/javase/7/docs/api/java/util/Hashtable.html","body":"<a href=\"http://download.oracle.com/javase/7/docs/api/java/util/Hashtable.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/7/docs/api/java/util/Hashtable.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"score":1,"creation_date":1315909768,"post_id":7400292,"comment_id":8939477,"body_markdown":"Quote from the above link - Unlike the new collection implementations, Hashtable is synchronized. If a thread-safe implementation is not needed, it is recommended to use HashMap in place of Hashtable. If a thread-safe highly-concurrent implementation is desired, then it is recommended to use ConcurrentHashMap in place of Hashtable.","body":"Quote from the above link - Unlike the new collection implementations, Hashtable is synchronized. If a thread-safe implementation is not needed, it is recommended to use HashMap in place of Hashtable. If a thread-safe highly-concurrent implementation is desired, then it is recommended to use ConcurrentHashMap in place of Hashtable."}],"answers":[{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1315910459,"creation_date":1315909573,"answer_id":7400327,"question_id":7400292,"body_markdown":"It is threadsafe because the get, put, contains methods etc are synchronized.  Furthermore, Several threads will not be able to access the hashtable at the same time, regardless of which entries they are modifying.\r\n\r\nedit - amended to include the provisio that synchronization makes the hashtable internally threadsafe in that it is modified atomically; it doesn&#39;t guard against race conditions in outside code caused by concurrent access to the hashtable by multiple threads.","title":"Is java.util.Hashtable thread safe?","body":"<p>It is threadsafe because the get, put, contains methods etc are synchronized.  Furthermore, Several threads will not be able to access the hashtable at the same time, regardless of which entries they are modifying.</p>\n\n<p>edit - amended to include the provisio that synchronization makes the hashtable internally threadsafe in that it is modified atomically; it doesn't guard against race conditions in outside code caused by concurrent access to the hashtable by multiple threads.</p>\n"},{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1315909588,"creation_date":1315909588,"answer_id":7400332,"question_id":7400292,"body_markdown":"Yes, Hashtable thread safe, so only one thread can access a hashtable at any time\r\n\r\nHashMap, on the other side, is not thread safe (and thus &#39;faster&#39;).\r\n","title":"Is java.util.Hashtable thread safe?","body":"<p>Yes, Hashtable thread safe, so only one thread can access a hashtable at any time</p>\n\n<p>HashMap, on the other side, is not thread safe (and thus 'faster').</p>\n"},{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1690875036,"creation_date":1315909714,"answer_id":7400360,"question_id":7400292,"body_markdown":"For general usage it is thread safe.\r\n\r\nBut you have to understand that it doesn&#39;t make your application logic around it thread-safe. For e.g. consider implementing to put a value in a map, if it&#39;s not there already.\r\nThis idiom is called `putIfAbsent`. Its difficult to implement this in a thread-safe manner using HashTable alone. Similarly for the idiom `replace(k,V,V)`.\r\n\r\n\r\nHence for certain idioms like `putIfAbsent` and and `replace(K,V,V)`, I would recommend using [ConcurrentHashMap][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentHashMap.html","title":"Is java.util.Hashtable thread safe?","body":"<p>For general usage it is thread safe.</p>\n<p>But you have to understand that it doesn't make your application logic around it thread-safe. For e.g. consider implementing to put a value in a map, if it's not there already.\nThis idiom is called <code>putIfAbsent</code>. Its difficult to implement this in a thread-safe manner using HashTable alone. Similarly for the idiom <code>replace(k,V,V)</code>.</p>\n<p>Hence for certain idioms like <code>putIfAbsent</code> and and <code>replace(K,V,V)</code>, I would recommend using <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a></p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1315986189,"creation_date":1315909750,"answer_id":7400367,"question_id":7400292,"body_markdown":"No. It is &#39;threadsafe&#39; *only to the extent that* its methods are synchronized. However it is not threadsafe in general, and it can&#39;t be, because classes that export internal state such as Iterators or Enumerations require the use of the internal state to be synchronized as well. That&#39;s why the new Collections classes are *not* synchronized, as the Java designers recognized that thread-safety is up to the user of the class, not the class itself.","title":"Is java.util.Hashtable thread safe?","body":"<p>No. It is 'threadsafe' <em>only to the extent that</em> its methods are synchronized. However it is not threadsafe in general, and it can't be, because classes that export internal state such as Iterators or Enumerations require the use of the internal state to be synchronized as well. That's why the new Collections classes are <em>not</em> synchronized, as the Java designers recognized that thread-safety is up to the user of the class, not the class itself.</p>\n"},{"tags":[],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315910094,"creation_date":1315910094,"answer_id":7400444,"question_id":7400292,"body_markdown":"Note, that a lot of the answers state that Hashtable is synchronised. but this will give you a very little. The synchronization is on the accessor / mutator methods will stop two threads adding or removing from the map concurrently, but in the real world you will often need additional synchronisation.\r\n\r\nEven iterating over a Hashtable&#39;s entries is not thread safe unless you also guard the Map from being modified through additional synchronization.","title":"Is java.util.Hashtable thread safe?","body":"<p>Note, that a lot of the answers state that Hashtable is synchronised. but this will give you a very little. The synchronization is on the accessor / mutator methods will stop two threads adding or removing from the map concurrently, but in the real world you will often need additional synchronisation.</p>\n\n<p>Even iterating over a Hashtable's entries is not thread safe unless you also guard the Map from being modified through additional synchronization.</p>\n"},{"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1315911203,"creation_date":1315911203,"answer_id":7400678,"question_id":7400292,"body_markdown":"Hashtable is deprecated. Forget it. If you want to use synchronized collections, use Collections.syncrhonize*() wrapper for that purpose. But these ones are not recommended. In Java 5, 6 new concurrent algorithms have been implemented. Copy-on-write, CAS, lock-free algorithms.\r\nFor Map interface there are two concurrent implementations. ConcurrentHashMap (concurrent hash map) and ConcurrentSkipListMap - concurrent sorted map implementaion.\r\n\r\nThe first one is optimized for reading, so retrievals do not block even while the table is being updated. Writes are also  work much faster comparing with synchronized wrappers cause a ConcurrentHashMap consists of not one but a set of tables, called segments. It can be managed by the last argument in the constructor:\r\n\r\n    public ConcurrentHashMap(int initialCapacity,\r\n                             float loadFactor,\r\n                             int concurrencyLevel);\r\n\r\nConcurrentHashMap is indispensable in highly concurrent contexts, where it performs far better than any available alternative.\r\n","title":"Is java.util.Hashtable thread safe?","body":"<p>Hashtable is deprecated. Forget it. If you want to use synchronized collections, use Collections.syncrhonize*() wrapper for that purpose. But these ones are not recommended. In Java 5, 6 new concurrent algorithms have been implemented. Copy-on-write, CAS, lock-free algorithms.\nFor Map interface there are two concurrent implementations. ConcurrentHashMap (concurrent hash map) and ConcurrentSkipListMap - concurrent sorted map implementaion.</p>\n\n<p>The first one is optimized for reading, so retrievals do not block even while the table is being updated. Writes are also  work much faster comparing with synchronized wrappers cause a ConcurrentHashMap consists of not one but a set of tables, called segments. It can be managed by the last argument in the constructor:</p>\n\n<pre><code>public ConcurrentHashMap(int initialCapacity,\n                         float loadFactor,\n                         int concurrencyLevel);\n</code></pre>\n\n<p>ConcurrentHashMap is indispensable in highly concurrent contexts, where it performs far better than any available alternative.</p>\n"},{"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375036442,"creation_date":1315915673,"answer_id":7401603,"question_id":7400292,"body_markdown":"&gt; I&#39;m asking is &quot;Is java.util.Hashtable thread safe?&quot;.\r\n\r\nYes Hashtable is thread safe, If a thread safe is not needed in your application then go through HashMap, In case, If a thread-safe implementation is desired,then it is recommended to use ConcurrentHashMap in place of Hashtable.","title":"Is java.util.Hashtable thread safe?","body":"<blockquote>\n  <p>I'm asking is \"Is java.util.Hashtable thread safe?\".</p>\n</blockquote>\n\n<p>Yes Hashtable is thread safe, If a thread safe is not needed in your application then go through HashMap, In case, If a thread-safe implementation is desired,then it is recommended to use ConcurrentHashMap in place of Hashtable.</p>\n"},{"tags":[],"owner":{"account_id":459142,"reputation":174,"user_id":859439,"accept_rate":62,"display_name":"celik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366208127,"creation_date":1366208127,"answer_id":16062480,"question_id":7400292,"body_markdown":"If you look into Hashtable code, you will see that methods are synchronized such as:\r\n\r\n \r\n\r\n    public synchronized V get(Object key) \r\n     public synchronized V put(K key, V value)\r\n     public synchronized boolean containsKey(Object key)\r\n\r\nYou can keep pressing on control key (command for mac) and then click on any method name in the eclipse to go to the java source code.","title":"Is java.util.Hashtable thread safe?","body":"<p>If you look into Hashtable code, you will see that methods are synchronized such as:</p>\n\n<pre><code>public synchronized V get(Object key) \n public synchronized V put(K key, V value)\n public synchronized boolean containsKey(Object key)\n</code></pre>\n\n<p>You can keep pressing on control key (command for mac) and then click on any method name in the eclipse to go to the java source code.</p>\n"},{"tags":[],"owner":{"account_id":2448376,"reputation":1387,"user_id":2135191,"accept_rate":43,"display_name":"Rollyng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383848831,"creation_date":1383848831,"answer_id":19843765,"question_id":7400292,"body_markdown":"Unlike the new collection implementations, **Hashtable is synchronized.** **If a thread-safe implementation is not needed, it is recommended to use HashMap** in place of Hashtable. If a **thread-safe highly-concurrent implementation** is desired, then it is recommended to use **ConcurrentHashMap in place of Hashtable.**\r\n\r\nhttp://download.oracle.com/javase/7/docs/api/java/util/Hashtable.html","title":"Is java.util.Hashtable thread safe?","body":"<p>Unlike the new collection implementations, <strong>Hashtable is synchronized.</strong> *<em>If a thread-safe implementation is not needed, it is recommended to use HashMap</em>* in place of Hashtable. If a <strong>thread-safe highly-concurrent implementation</strong> is desired, then it is recommended to use <strong>ConcurrentHashMap in place of Hashtable.</strong></p>\n\n<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/util/Hashtable.html\" rel=\"nofollow\">http://download.oracle.com/javase/7/docs/api/java/util/Hashtable.html</a></p>\n"}],"owner":{"account_id":204450,"reputation":11422,"user_id":452680,"accept_rate":91,"display_name":"Saravanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31068,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":7400327,"answer_count":9,"score":9,"last_activity_date":1690875036,"creation_date":1315909408,"question_id":7400292,"body_markdown":"It&#39;s been a while since I&#39;ve used hashtable for anything significant, but I seem to recall the get() and put() methods being synchronized. \r\n\r\nThe JavaDocs don&#39;t reflect this. They simply say that the class Hashtable is synchronized. What can I assume? If several threads access the hashtable at the same time (assuming they are not modifying the same entry), the operations will succeed, right? I guess what I&#39;m asking is &quot;Is java.util.Hashtable thread safe?&quot;\r\n\r\nPlease Guide me to get out of this issue...\r\n","title":"Is java.util.Hashtable thread safe?","body":"<p>It's been a while since I've used hashtable for anything significant, but I seem to recall the get() and put() methods being synchronized. </p>\n\n<p>The JavaDocs don't reflect this. They simply say that the class Hashtable is synchronized. What can I assume? If several threads access the hashtable at the same time (assuming they are not modifying the same entry), the operations will succeed, right? I guess what I'm asking is \"Is java.util.Hashtable thread safe?\"</p>\n\n<p>Please Guide me to get out of this issue...</p>\n"},{"tags":["java","servlets","mvvm","zk","zkoss"],"answers":[{"tags":[],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690873908,"creation_date":1690873065,"answer_id":76809171,"question_id":76661331,"body_markdown":"If you just need to share data, then you can store the data in a session attribute and get it from ZK ViewModel. (see https://www.zkoss.org/wiki/ZK%20Developer&#39;s%20Reference/Integration/Accessing%20Java%20EE%20Scope%20Objects)\r\n\r\nIf you need to actively send an event to notify ZK ViewModel, then you need to  use [session-scope event queue](https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/Event_Handling/Event_Queues#The_Scope_of_an_Event_Queue). Only desktop event queue requires an `Execution`.\r\n\r\nSince a HttpServlet cannot access a desktop, you cannot send an event via a desktop-scope event queue.","title":"Event/information pass from servlet to ZK Mvvm","body":"<p>If you just need to share data, then you can store the data in a session attribute and get it from ZK ViewModel. (see <a href=\"https://www.zkoss.org/wiki/ZK%20Developer%27s%20Reference/Integration/Accessing%20Java%20EE%20Scope%20Objects\" rel=\"nofollow noreferrer\">https://www.zkoss.org/wiki/ZK%20Developer's%20Reference/Integration/Accessing%20Java%20EE%20Scope%20Objects</a>)</p>\n<p>If you need to actively send an event to notify ZK ViewModel, then you need to  use <a href=\"https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/Event_Handling/Event_Queues#The_Scope_of_an_Event_Queue\" rel=\"nofollow noreferrer\">session-scope event queue</a>. Only desktop event queue requires an <code>Execution</code>.</p>\n<p>Since a HttpServlet cannot access a desktop, you cannot send an event via a desktop-scope event queue.</p>\n"}],"owner":{"account_id":7747056,"reputation":5,"user_id":5864411,"display_name":"Mohammad Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76809171,"answer_count":1,"score":0,"last_activity_date":1690873908,"creation_date":1689073427,"question_id":76661331,"body_markdown":"How to forward an event/information from java servlet controller to ZK MVVM model. Basically, i have some informations into servlet layer but based on data, i need to process into ZK UI layer. I couldn&#39;t use ZK event queues/Global commasnd as it requires current exections. Also, i don&#39;t have any third event queue system.\r\n\r\nPosting an event/request from servlet and recieve into ZK MVVM layer.","title":"Event/information pass from servlet to ZK Mvvm","body":"<p>How to forward an event/information from java servlet controller to ZK MVVM model. Basically, i have some informations into servlet layer but based on data, i need to process into ZK UI layer. I couldn't use ZK event queues/Global commasnd as it requires current exections. Also, i don't have any third event queue system.</p>\n<p>Posting an event/request from servlet and recieve into ZK MVVM layer.</p>\n"},{"tags":["java","geany"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690874185,"post_id":76809252,"comment_id":135410082,"body_markdown":"What&#39;s the name of the file? How exactly are you compiling and running it?","body":"What&#39;s the name of the file? How exactly are you compiling and running it?"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1690875064,"post_id":76809252,"comment_id":135410240,"body_markdown":"The class is called `Main`, not `main`. Classes are case-sensitive","body":"The class is called <code>Main</code>, not <code>main</code>. Classes are case-sensitive"}],"owner":{"account_id":25002864,"reputation":1,"user_id":18863114,"display_name":"Fenni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690977488,"answer_count":0,"score":0,"last_activity_date":1690873891,"creation_date":1690873891,"question_id":76809252,"body_markdown":"i wanted to learn java, and for text editor i use geany, i wanted to run this code:\r\n\r\n```\r\npublic class Main {\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\t\tSystem.out.print(&quot;Java!&quot;);\r\n\t\t}\r\n}\r\n```\r\nBut when i run it, it gives me this error:\r\n\r\nError: Could not find or load main class main\r\nCaused by: java.lang.ClassNotFoundException: main\r\n\r\n\r\n\r\n\r\nI installed the latest java se, setted up the enviroment variables, and edited the compile and launch options for java in geany. Nothing works.","title":"When i try to run/compile a java file with Geany it spits out an error","body":"<p>i wanted to learn java, and for text editor i use geany, i wanted to run this code:</p>\n<pre><code>public class Main {\n        public static void main(String args[]) {\n                System.out.print(&quot;Java!&quot;);\n        }\n}\n</code></pre>\n<p>But when i run it, it gives me this error:</p>\n<p>Error: Could not find or load main class main\nCaused by: java.lang.ClassNotFoundException: main</p>\n<p>I installed the latest java se, setted up the enviroment variables, and edited the compile and launch options for java in geany. Nothing works.</p>\n"},{"tags":["java","database","performance","hibernate","batch-processing"],"answers":[{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1345231836,"creation_date":1345228534,"answer_id":12011344,"question_id":12011343,"body_markdown":"Turns out what was missing in this case was:\r\n\r\n    &lt;property name=&quot;order_inserts&quot;&gt;true&lt;/property&gt;\r\n\r\nref: https://forum.hibernate.org/viewtopic.php?p=2374413, https://stackoverflow.com/a/5240930/32453\r\nOr possibly hibernate.order_inserts.\r\n\r\nNow I see\r\n     \r\n     [...] cfg.SettingsFactory INFO  - Order SQL inserts for batching: enabled\r\n     ...\r\n     [...] Executing batch size: 2\r\n\r\nMuch more frequently (anything greater than 1 basically means it&#39;s successfully doing batch inserts).\r\n\r\nhibernate.jdbc.batch_versioned_data may also be useful.\r\n\r\njdbc:mysql://localhost:3306/batch?rewriteBatchedStatements=true type connection strings might also be related somehow.\r\n\r\nhttps://forum.hibernate.org/viewtopic.php?p=2374413 and also see\r\nhttps://stackoverflow.com/questions/6687422/hibernate-batch-size-confusion","title":"How do you enable batch inserts in hibernate?","body":"<p>Turns out what was missing in this case was:</p>\n\n<pre><code>&lt;property name=\"order_inserts\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>ref: <a href=\"https://forum.hibernate.org/viewtopic.php?p=2374413\" rel=\"nofollow noreferrer\">https://forum.hibernate.org/viewtopic.php?p=2374413</a>, <a href=\"https://stackoverflow.com/a/5240930/32453\">https://stackoverflow.com/a/5240930/32453</a>\nOr possibly hibernate.order_inserts.</p>\n\n<p>Now I see</p>\n\n<pre><code> [...] cfg.SettingsFactory INFO  - Order SQL inserts for batching: enabled\n ...\n [...] Executing batch size: 2\n</code></pre>\n\n<p>Much more frequently (anything greater than 1 basically means it's successfully doing batch inserts).</p>\n\n<p>hibernate.jdbc.batch_versioned_data may also be useful.</p>\n\n<p>jdbc:mysql://localhost:3306/batch?rewriteBatchedStatements=true type connection strings might also be related somehow.</p>\n\n<p><a href=\"https://forum.hibernate.org/viewtopic.php?p=2374413\" rel=\"nofollow noreferrer\">https://forum.hibernate.org/viewtopic.php?p=2374413</a> and also see\n<a href=\"https://stackoverflow.com/questions/6687422/hibernate-batch-size-confusion\">Hibernate batch size confusion</a></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1690873756,"creation_date":1426771517,"answer_id":29145834,"question_id":12011343,"body_markdown":"To enable batching for both INSERT and UPDATE statements, you need to set all the following Hibernate properties:\r\n\r\n    spring.jpa.properties.hibernate.jdbc.batch_size=30\r\n    spring.jpa.properties.hibernate.order_inserts=true\r\n    spring.jpa.properties.hibernate.order_updates=true\r\n\r\nIf you can use a `SEQUENCE`, then you should not use `IDENTITY` entity identifier generator, since it disables batch fetching.\r\n\r\nIf you cannot use a `SEQUENCE` (e.g. MySQL), then try using a separate mechanism to enable batch inserts (e.g. JDBC) instead of using the `TABLE` generator which does not scale and has a high-performance penalty.\r\n","title":"How do you enable batch inserts in hibernate?","body":"<p>To enable batching for both INSERT and UPDATE statements, you need to set all the following Hibernate properties:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.batch_size=30\nspring.jpa.properties.hibernate.order_inserts=true\nspring.jpa.properties.hibernate.order_updates=true\n</code></pre>\n<p>If you can use a <code>SEQUENCE</code>, then you should not use <code>IDENTITY</code> entity identifier generator, since it disables batch fetching.</p>\n<p>If you cannot use a <code>SEQUENCE</code> (e.g. MySQL), then try using a separate mechanism to enable batch inserts (e.g. JDBC) instead of using the <code>TABLE</code> generator which does not scale and has a high-performance penalty.</p>\n"}],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32417,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":12011344,"answer_count":2,"score":15,"last_activity_date":1690873756,"creation_date":1345228534,"question_id":12011343,"body_markdown":"With hibernate, when I attempt to enable batch inserts with\r\n\r\n      &lt;property name=&quot;jdbc.batch_size&quot;&gt;50&lt;/property&gt;\r\n\r\nI get the following output:\r\n\r\n     [...] cfg.SettingsFactory INFO  - JDBC batch updates for versioned data: disabled\r\n     [...] cfg.SettingsFactory INFO  - Order SQL inserts for batching: disabled\r\n\r\nAnd then this:\r\n\r\n     [...] jdbc.AbstractBatcher DEBUG - Executing batch size: 1\r\n\r\nnever more than `batch size: 1` basically.\r\n\r\nAm I missing a setting?\r\n","title":"How do you enable batch inserts in hibernate?","body":"<p>With hibernate, when I attempt to enable batch inserts with</p>\n\n<pre><code>  &lt;property name=\"jdbc.batch_size\"&gt;50&lt;/property&gt;\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code> [...] cfg.SettingsFactory INFO  - JDBC batch updates for versioned data: disabled\n [...] cfg.SettingsFactory INFO  - Order SQL inserts for batching: disabled\n</code></pre>\n\n<p>And then this:</p>\n\n<pre><code> [...] jdbc.AbstractBatcher DEBUG - Executing batch size: 1\n</code></pre>\n\n<p>never more than <code>batch size: 1</code> basically.</p>\n\n<p>Am I missing a setting?</p>\n"},{"tags":["java","sailpoint"],"owner":{"account_id":18429197,"reputation":1,"user_id":13483954,"display_name":"vedant Balachandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690873536,"creation_date":1690873536,"question_id":76809214,"body_markdown":"This is the error I am facing when I am Performing user Provisioning for Active Directory. I have passed in Account Dn, password, First name, and last name. I access Request for an entitlement which belongs ad and the Task results show and throw this exception\r\nAn exception occurred while executing the RPCRequest: Errors returned from \r\nIQService. &quot;Attribute DistinguishedNamedoes does not contain the expected \r\ncharacter.\r\n\r\nI tried returning all values throw a variable. Created a different OU for the same as well and tested for different Identities (Users).","title":"Provisioning in sailpoint iiq","body":"<p>This is the error I am facing when I am Performing user Provisioning for Active Directory. I have passed in Account Dn, password, First name, and last name. I access Request for an entitlement which belongs ad and the Task results show and throw this exception\nAn exception occurred while executing the RPCRequest: Errors returned from\nIQService. &quot;Attribute DistinguishedNamedoes does not contain the expected\ncharacter.</p>\n<p>I tried returning all values throw a variable. Created a different OU for the same as well and tested for different Identities (Users).</p>\n"},{"tags":["java","ruby"],"comments":[{"owner":{"account_id":9930295,"reputation":11613,"user_id":11082165,"display_name":"Brian61354270"},"score":0,"creation_date":1690851105,"post_id":76807862,"comment_id":135407499,"body_markdown":"You forgot to cube and square the relevant numbers. And as you noted, you&#39;re not iterating primes.","body":"You forgot to cube and square the relevant numbers. And as you noted, you&#39;re not iterating primes."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1690860034,"post_id":76807862,"comment_id":135408310,"body_markdown":"I don&#39;t think you understand what the require statement is actually doing in Ruby. Hint: &#39;prime&#39; is a module in the Ruby Standard Library, and it does a lot more than &quot;make all the numbers prime.&quot;","body":"I don&#39;t think you understand what the require statement is actually doing in Ruby. Hint: &#39;prime&#39; is a module in the Ruby Standard Library, and it does a lot more than &quot;make all the numbers prime.&quot;"},{"owner":{"account_id":28131247,"reputation":11,"user_id":22317408,"display_name":"xousious"},"score":0,"creation_date":1690865546,"post_id":76807862,"comment_id":135408807,"body_markdown":"ok but how to implement in java?","body":"ok but how to implement in java?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690872803,"creation_date":1690871223,"answer_id":76808990,"question_id":76807862,"body_markdown":"I believe the error in your code is that you are not using prime values.\r\n\r\nThe _Ruby_ _[Prime](https://ruby-doc.org/stdlib-2.5.1/libdoc/prime/rdoc/Prime.html)_ class is going to be a list of primes.  \r\nYou&#39;re just using a range of values, from _2_ to _2143_.\r\n\r\nYou can mimic the _Prime_ class with a _Java_ class.  \r\nThis will populate a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ with primes, given a supplied _maximum_ value during the object&#39;s instantiation.\r\n\r\n```java\r\nclass Prime {\r\n    List&lt;Integer&gt; list;\r\n\r\n    Prime(int maximum) {\r\n        list = new ArrayList&lt;&gt;();\r\n        boolean prime;\r\n        for (int valueA = 2; valueA &lt;= maximum; valueA++) {\r\n            prime = true;\r\n            for (int valueB = 2; valueB * valueB &lt;= valueA ; valueB++) {\r\n                if (valueA % valueB == 0) {\r\n                    prime = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (prime) list.add(valueA);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage.\r\n\r\n```java\r\nfor (int prime_to_cube : new Prime(2143).list)\r\n```\r\n\r\nAdditionally, you can mimic the _String_ to _Set_ conversion with the following,\r\n\r\n```java\r\n// Check if all digits are unique by converting to a set\r\ns = String.valueOf(combined_val);\r\nif (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10)\r\n```\r\n\r\nHere is a full re-factor, from the _Ruby_ code.\r\n\r\nFor the _prime_to_square_ loop, I had to use a _Prime_ list with a _maximum_ of _100,000_ to get the required results.\r\n\r\n```java\r\nint f() {\r\n    // Determine the max &amp; min numbers that can be made with 10 distinct digits and no leading zeroes\r\n    long max_num = 9_876_543_210L;\r\n    long min_num = 1_023_456_789;\r\n\r\n    // Find the largest prime having a cube &lt;= max_num\r\n    long max_prime_to_cube = 2143;\r\n\r\n    int count = 0;\r\n\r\n    // Cube every prime up to 2143\r\n    long cubed_val, squared_val, combined_val;\r\n    String s;\r\n    for (long prime_to_cube : new Prime(2143).list) {\r\n        if (prime_to_cube &gt; max_prime_to_cube) return count;\r\n        cubed_val = prime_to_cube * prime_to_cube * prime_to_cube;\r\n\r\n        // Try adding the square of every prime until we exceed the maximum valid number\r\n        for(long prime_to_square : new Prime(100_000).list) {\r\n            squared_val = prime_to_square * prime_to_square;\r\n            combined_val = squared_val + cubed_val;\r\n            if (combined_val &lt; min_num) continue;\r\n            if (combined_val &gt; max_num) break;\r\n\r\n            // Check if all digits are unique by converting to a set\r\n            s = String.valueOf(combined_val);\r\n            if (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10) {\r\n                count += 1;\r\n                System.out.printf(\r\n                    &quot;val: %s = %d^2 + %d^3, count:%d%n&quot;,\r\n                    s, prime_to_square, prime_to_cube, count);\r\n            }\r\n        }\r\n    }\r\n    return count;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nval: 1328675409 = 36451^2 + 2^3, count:1\r\nval: 1478325609 = 38449^2 + 2^3, count:2\r\nval: 3085469217 = 55547^2 + 2^3, count:3\r\nval: 3507126849 = 59221^2 + 2^3, count:4\r\n...\r\nval: 9682357410 = 5689^2 + 2129^3, count:1267\r\nval: 9837162450 = 13681^2 + 2129^3, count:1268\r\nval: 9814362750 = 523^2 + 2141^3, count:1269\r\nval: 9815674302 = 1259^2 + 2141^3, count:1270\r\n1270\r\n```","title":"prime numbers in java vs ruby","body":"<p>I believe the error in your code is that you are not using prime values.</p>\n<p>The <em>Ruby</em> <em><a href=\"https://ruby-doc.org/stdlib-2.5.1/libdoc/prime/rdoc/Prime.html\" rel=\"nofollow noreferrer\">Prime</a></em> class is going to be a list of primes.<br />\nYou're just using a range of values, from <em>2</em> to <em>2143</em>.</p>\n<p>You can mimic the <em>Prime</em> class with a <em>Java</em> class.<br />\nThis will populate a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> with primes, given a supplied <em>maximum</em> value during the object's instantiation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Prime {\n    List&lt;Integer&gt; list;\n\n    Prime(int maximum) {\n        list = new ArrayList&lt;&gt;();\n        boolean prime;\n        for (int valueA = 2; valueA &lt;= maximum; valueA++) {\n            prime = true;\n            for (int valueB = 2; valueB * valueB &lt;= valueA ; valueB++) {\n                if (valueA % valueB == 0) {\n                    prime = false;\n                    break;\n                }\n            }\n            if (prime) list.add(valueA);\n        }\n    }\n}\n</code></pre>\n<p>Here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int prime_to_cube : new Prime(2143).list)\n</code></pre>\n<p>Additionally, you can mimic the <em>String</em> to <em>Set</em> conversion with the following,</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Check if all digits are unique by converting to a set\ns = String.valueOf(combined_val);\nif (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10)\n</code></pre>\n<p>Here is a full re-factor, from the <em>Ruby</em> code.</p>\n<p>For the <em>prime_to_square</em> loop, I had to use a <em>Prime</em> list with a <em>maximum</em> of <em>100,000</em> to get the required results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int f() {\n    // Determine the max &amp; min numbers that can be made with 10 distinct digits and no leading zeroes\n    long max_num = 9_876_543_210L;\n    long min_num = 1_023_456_789;\n\n    // Find the largest prime having a cube &lt;= max_num\n    long max_prime_to_cube = 2143;\n\n    int count = 0;\n\n    // Cube every prime up to 2143\n    long cubed_val, squared_val, combined_val;\n    String s;\n    for (long prime_to_cube : new Prime(2143).list) {\n        if (prime_to_cube &gt; max_prime_to_cube) return count;\n        cubed_val = prime_to_cube * prime_to_cube * prime_to_cube;\n\n        // Try adding the square of every prime until we exceed the maximum valid number\n        for(long prime_to_square : new Prime(100_000).list) {\n            squared_val = prime_to_square * prime_to_square;\n            combined_val = squared_val + cubed_val;\n            if (combined_val &lt; min_num) continue;\n            if (combined_val &gt; max_num) break;\n\n            // Check if all digits are unique by converting to a set\n            s = String.valueOf(combined_val);\n            if (new HashSet&lt;&gt;(Arrays.asList(s.split(&quot;&quot;))).size() == 10) {\n                count += 1;\n                System.out.printf(\n                    &quot;val: %s = %d^2 + %d^3, count:%d%n&quot;,\n                    s, prime_to_square, prime_to_cube, count);\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>val: 1328675409 = 36451^2 + 2^3, count:1\nval: 1478325609 = 38449^2 + 2^3, count:2\nval: 3085469217 = 55547^2 + 2^3, count:3\nval: 3507126849 = 59221^2 + 2^3, count:4\n...\nval: 9682357410 = 5689^2 + 2129^3, count:1267\nval: 9837162450 = 13681^2 + 2129^3, count:1268\nval: 9814362750 = 523^2 + 2141^3, count:1269\nval: 9815674302 = 1259^2 + 2141^3, count:1270\n1270\n</code></pre>\n"}],"owner":{"account_id":28131247,"reputation":11,"user_id":22317408,"display_name":"xousious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690901271,"answer_count":1,"score":0,"last_activity_date":1690872803,"creation_date":1690850431,"question_id":76807862,"body_markdown":"I tried to convert the Ruby code into Java code from this answer:\r\n\r\n[text](https://stackoverflow.com/questions/76801481/determine-the-number-of-ordered-pairs-of-prime-numbers-p-q-such-that-n-p2)\r\n\r\nMy code is below. As you can see since there is no prime in java (the line `require prime` in Ruby makes all the numbers prime), my program simply returns all numbers. I don&#39;t know how to do this in Java. Help is appreciated.\r\n\r\n\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class sus {\r\n    public static void main(String[] args) {\r\n        long maxNum = 9876543210L;\r\n        int minNum = 1023456789;\r\n        int maxPrimeToCube = 2143;\r\n        int count = 0;\r\n\r\n        for (int primeToCube = 2; primeToCube &lt;= maxPrimeToCube; primeToCube++) {\r\n            int cubedVal = primeToCube * primeToCube * primeToCube;\r\n\r\n            for (int primeToSquare = 2; primeToSquare &lt;= maxPrimeToCube; primeToSquare++) {\r\n                int squaredVal = primeToSquare * primeToSquare;\r\n                int combinedVal = squaredVal + cubedVal;\r\n\r\n                if (combinedVal &lt; minNum) {\r\n                    continue;\r\n                }\r\n\r\n                if (combinedVal &gt; maxNum) {\r\n                    break;\r\n                }\r\n\r\n                String s = String.valueOf(combinedVal);\r\n                Set&lt;Character&gt; uniqueDigits = new HashSet&lt;&gt;();\r\n                for (char digit : s.toCharArray()) {\r\n                    uniqueDigits.add(digit);\r\n                }\r\n\r\n                if (uniqueDigits.size() == 10) {\r\n                    count++;\r\n                    System.out.println(&quot;val: &quot; + s + &quot; = &quot; + primeToSquare + &quot;^2 + &quot; + primeToCube + &quot;^3, count: &quot; + count);\r\n                }\r\n            }\r\n        }\r\n        System.out.println(count);\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\n_________________________________________________________-","title":"prime numbers in java vs ruby","body":"<p>I tried to convert the Ruby code into Java code from this answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/76801481/determine-the-number-of-ordered-pairs-of-prime-numbers-p-q-such-that-n-p2\">text</a></p>\n<p>My code is below. As you can see since there is no prime in java (the line <code>require prime</code> in Ruby makes all the numbers prime), my program simply returns all numbers. I don't know how to do this in Java. Help is appreciated.</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\npublic class sus {\n    public static void main(String[] args) {\n        long maxNum = 9876543210L;\n        int minNum = 1023456789;\n        int maxPrimeToCube = 2143;\n        int count = 0;\n\n        for (int primeToCube = 2; primeToCube &lt;= maxPrimeToCube; primeToCube++) {\n            int cubedVal = primeToCube * primeToCube * primeToCube;\n\n            for (int primeToSquare = 2; primeToSquare &lt;= maxPrimeToCube; primeToSquare++) {\n                int squaredVal = primeToSquare * primeToSquare;\n                int combinedVal = squaredVal + cubedVal;\n\n                if (combinedVal &lt; minNum) {\n                    continue;\n                }\n\n                if (combinedVal &gt; maxNum) {\n                    break;\n                }\n\n                String s = String.valueOf(combinedVal);\n                Set&lt;Character&gt; uniqueDigits = new HashSet&lt;&gt;();\n                for (char digit : s.toCharArray()) {\n                    uniqueDigits.add(digit);\n                }\n\n                if (uniqueDigits.size() == 10) {\n                    count++;\n                    System.out.println(&quot;val: &quot; + s + &quot; = &quot; + primeToSquare + &quot;^2 + &quot; + primeToCube + &quot;^3, count: &quot; + count);\n                }\n            }\n        }\n        System.out.println(count);\n        \n    }\n}\n</code></pre>\n<p>_________________________________________________________-</p>\n"},{"tags":["java","visual-studio-code","package"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1690790930,"post_id":76801716,"comment_id":135396815,"body_markdown":"Please add code always as text not as image","body":"Please add code always as text not as image"},{"owner":{"account_id":27210786,"reputation":1,"user_id":20741647,"display_name":"Rukiye Arıcan"},"score":0,"creation_date":1690791928,"post_id":76801716,"comment_id":135396991,"body_markdown":"i was not trying to show the code, so i didnt","body":"i was not trying to show the code, so i didnt"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690790826,"creation_date":1690790826,"answer_id":76801743,"question_id":76801716,"body_markdown":"Your class is located in the package (folder) `week3.lesson`.\r\n\r\nSo you have to add the package declaration:\r\n\r\n    package week3.lesson\r\n\r\nto the class.\r\n\r\nBTW: Take care of java naming conventions. Class names should start with upper case character and be camelCase not snake_case.\r\nIn your case your class should be named:`DrawCards`\r\n","title":"JAVA - The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<p>Your class is located in the package (folder) <code>week3.lesson</code>.</p>\n<p>So you have to add the package declaration:</p>\n<pre><code>package week3.lesson\n</code></pre>\n<p>to the class.</p>\n<p>BTW: Take care of java naming conventions. Class names should start with upper case character and be camelCase not snake_case.\nIn your case your class should be named:<code>DrawCards</code></p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690872399,"creation_date":1690872399,"answer_id":76809109,"question_id":76801716,"body_markdown":" - Hover the mouse over the red wavy line to view error messages.\r\n\r\n - &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; --&gt; `Java: Clean Java Language Server Workspace` and restart vscode.\r\n\r\n*If you can run the code normally, you can ignore the warning.*","title":"JAVA - The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<ul>\n<li><p>Hover the mouse over the red wavy line to view error messages.</p>\n</li>\n<li><p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> --&gt; <code>Java: Clean Java Language Server Workspace</code> and restart vscode.</p>\n</li>\n</ul>\n<p><em>If you can run the code normally, you can ignore the warning.</em></p>\n"}],"owner":{"account_id":27210786,"reputation":1,"user_id":20741647,"display_name":"Rukiye Arıcan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690872399,"creation_date":1690790474,"question_id":76801716,"body_markdown":"I know this question asked a lot and i read most answer but non of them solved my problem. \r\n\r\nI&#39;m kinda new at java but i&#39;m using vscode over than a year. I never come across this kinda problem on other languages, libraries, frameworks. \r\n\r\nWhen i open vscode, a couple seconds later, all my java source code files turns red and the error is \r\n\r\n`The declared package &lt;package name&gt; does not match the expected package &quot;&quot;`\r\n\r\nbut jokes on me **i dont have any packages on those files**. when i open the source code files, some of them stays same, others turn normal? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI saw the extensions can cause this problem, like Java Language Support - by George Fraser\r\nVS Marketplace Link: https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac\r\n\r\nI uninstall that, only microsoft&#39;s and red hat&#39;s extensions left. I have reloaded window a couple hundred times, close folder ets. I have no idea what is going on, please help. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rNwyf.png","title":"JAVA - The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<p>I know this question asked a lot and i read most answer but non of them solved my problem.</p>\n<p>I'm kinda new at java but i'm using vscode over than a year. I never come across this kinda problem on other languages, libraries, frameworks.</p>\n<p>When i open vscode, a couple seconds later, all my java source code files turns red and the error is</p>\n<p><code>The declared package &lt;package name&gt; does not match the expected package &quot;&quot;</code></p>\n<p>but jokes on me <strong>i dont have any packages on those files</strong>. when i open the source code files, some of them stays same, others turn normal?</p>\n<p><a href=\"https://i.stack.imgur.com/rNwyf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNwyf.png\" alt=\"enter image description here\" /></a></p>\n<p>I saw the extensions can cause this problem, like Java Language Support - by George Fraser\nVS Marketplace Link: <a href=\"https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=georgewfraser.vscode-javac</a></p>\n<p>I uninstall that, only microsoft's and red hat's extensions left. I have reloaded window a couple hundred times, close folder ets. I have no idea what is going on, please help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9718,"page":274,"page_size":100}
