{"items":[{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1666438094,"post_id":74163076,"comment_id":130939801,"body_markdown":"The `VideoCapture` class is not a native Java class.  Pointing to the source and explaining how this class works would be helpful.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"The <code>VideoCapture</code> class is not a native Java class.  Pointing to the source and explaining how this class works would be helpful.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"score":0,"creation_date":1666442515,"post_id":74163076,"comment_id":130940646,"body_markdown":"org.opencv.videoio.VideoCapture. This is opencvs java biding..","body":"org.opencv.videoio.VideoCapture. This is opencvs java biding.."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666455711,"post_id":74163076,"comment_id":130943439,"body_markdown":"I see there are [tutorials](https://opencv-java-tutorials.readthedocs.io/en/latest/index.html) for using OpenCV with JavaFX.","body":"I see there are <a href=\"https://opencv-java-tutorials.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">tutorials</a> for using OpenCV with JavaFX."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666454930,"post_id":74163313,"comment_id":130943269,"body_markdown":"Method `updateGraphics` calls method `repaint`. Calling `repaint` from a thread which is **not** the [EDT](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) may cause problems.","body":"Method <code>updateGraphics</code> calls method <code>repaint</code>. Calling <code>repaint</code> from a thread which is <b>not</b> the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">EDT</a> may cause problems."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666505015,"post_id":74163313,"comment_id":130950279,"body_markdown":"@Abra hmm, repaint may be called from any thread: _To enable app-triggered painting, the AWT provides the following java.awt.Component methods to allow programs to asynchronously request a paint operation_ - from https://www.oracle.com/java/technologies/painting.html","body":"@Abra hmm, repaint may be called from any thread: <i>To enable app-triggered painting, the AWT provides the following java.awt.Component methods to allow programs to asynchronously request a paint operation</i> - from <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/painting.html</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666505737,"post_id":74163313,"comment_id":130950360,"body_markdown":"even though repaint itself isn&#39;t a problem to be called from any thread: not so sure about the rest of the method - it seems to be reading and setting an image field which then is used in painting .. that&#39;s a recipe for problems without proper thread management","body":"even though repaint itself isn&#39;t a problem to be called from any thread: not so sure about the rest of the method - it seems to be reading and setting an image field which then is used in painting .. that&#39;s a recipe for problems without proper thread management"}],"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666455883,"creation_date":1666439683,"answer_id":74163313,"question_id":74163076,"body_markdown":"The problem is in:           \r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent arg0) {\r\n    try {\r\n        paintPan.updateGraphics(50, 50);\r\n    } catch (InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n    repaint();\r\n}\r\n```\r\nespecially in the call of blocking method (it contains endless loop):\r\n\r\n    paintPan.updateGraphics(50, 50);\r\n\r\nis called directly in the event dispatch thread (EDT). When you block this thread then really there can&#39;t be any update because it is the thread that actually paints everything.\r\n\r\nTo release the EDT you can call this method from another thread, e.g. you can create new and start it to execute your method:\r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent arg0) {\r\n    new Thread(() -&gt;{\r\n        paintPan.updateGraphics(50, 50);\r\n    }).start();\r\n}\r\n```\r\nThis isn&#39;t the perfect solution, but probably a good starting point.\r\nI would recommend you to read few books so you can improve the code above on your own:\r\n\r\n - Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java Applications\r\n - Clean Code: A Handbook of Agile Software Craftsmanship\r\n\r\n","title":"Repaint JPanel with images from video","body":"<p>The problem is in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent arg0) {\n    try {\n        paintPan.updateGraphics(50, 50);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    repaint();\n}\n</code></pre>\n<p>especially in the call of blocking method (it contains endless loop):</p>\n<pre><code>paintPan.updateGraphics(50, 50);\n</code></pre>\n<p>is called directly in the event dispatch thread (EDT). When you block this thread then really there can't be any update because it is the thread that actually paints everything.</p>\n<p>To release the EDT you can call this method from another thread, e.g. you can create new and start it to execute your method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent arg0) {\n    new Thread(() -&gt;{\n        paintPan.updateGraphics(50, 50);\n    }).start();\n}\n</code></pre>\n<p>This isn't the perfect solution, but probably a good starting point.\nI would recommend you to read few books so you can improve the code above on your own:</p>\n<ul>\n<li>Filthy Rich Clients: Developing Animated and Graphical Effects for Desktop Java Applications</li>\n<li>Clean Code: A Handbook of Agile Software Craftsmanship</li>\n</ul>\n"}],"owner":{"account_id":8919460,"reputation":25,"user_id":6656649,"accept_rate":0,"display_name":"Shailender Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666455883,"creation_date":1666437498,"question_id":74163076,"body_markdown":"\r\n\r\nThere is a need to create a video player where i can edit frames. \r\nI am trying to create a JFrame and added JPanel inside.  \r\nI need to capture images from a video and display the same in JPanel.  I\r\ncannot use the custom controls of Java Swings.  I am trying to call\r\nrepaint inside for loop. However, paintComponent is called only for the first time.\r\n\r\n\r\n\r\n    public class MainPaint extends JFrame {\r\n    \r\n    \t\r\n    \tstatic{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n    \tPaintPanel paintPan = null;\r\n    \t\r\n        public MainPaint() {\r\n            setTitle(&quot;Video Panel&quot;);\r\n            setSize(600, 600);\r\n            setLayout(new BorderLayout());\r\n    \r\n             paintPan = new PaintPanel();\r\n            JButton testButon = new JButton(&quot;Display Video&quot;);\r\n            add(paintPan, BorderLayout.CENTER);\r\n            add(testButon, BorderLayout.PAGE_END);\r\n    \r\n            testButon.addActionListener(new ActionListener() {\r\n    \r\n                @Override\r\n                public void actionPerformed(ActionEvent arg0) {\r\n                    try {\r\n    \t\t\t\t\tpaintPan.updateGraphics(50, 50);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n                    repaint();\r\n                }\r\n            });\r\n            setVisible(true);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            new MainPaint();\r\n        }\r\n    }\r\n    \r\n    class PaintPanel extends JPanel {\r\n    \r\n        \r\n    \r\n        public PaintPanel() {\r\n           // setBackground(Color.ORANGE);\r\n        }\r\n    \r\n        int count = 0;\r\n        \r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            \r\n        \tsuper.paintComponent(g);\r\n            Graphics2D graphics2d = (Graphics2D)  g.create();\r\n           \r\n            graphics2d.drawImage(image, null, 0, 0);\r\n            graphics2d.dispose();\r\n           \r\n        }\r\n    \r\n        BufferedImage image = null;\r\n        public void updateGraphics(int length, int width) throws InterruptedException {\r\n          \r\n            File selectedFile = new File(&quot;C:\\\\image_test\\\\Opencvs\\\\data\\\\test.mp4&quot;);\r\n            \r\n            String filePath = selectedFile.getAbsolutePath();\r\n            \r\n            VideoCapture cap = new VideoCapture(filePath);// Load video using the videocapture method//\r\n             Mat frame = new Mat(); // define a matrix to extract and store pixel info from video//\r\n            Mat dst = new Mat ();\r\n            \r\n            while (true) {\r\n            \t\r\n                if (cap.read(frame)) {\r\n         \r\n                \t\timage = (Mat2bufferedImage(frame)); //setting the results into a frame and initializing it //\r\n                \t\r\n                \t\t repaint();\r\n                \t\t Thread.currentThread().wait(100);\r\n                \t\t\r\n            }// if loop\r\n                }   // while loop   \r\n            \r\n        }\r\n        \r\n        private static BufferedImage Mat2bufferedImage(Mat image) {   // The class described here  takes in matrix and renders the video to the frame  //\r\n    \t\tMatOfByte bytemat = new MatOfByte();\r\n    \t\tImgcodecs.imencode(&quot;.jpg&quot;, image, bytemat);\r\n    \t\tbyte[] bytes = bytemat.toArray();\r\n    \t\tInputStream in = new ByteArrayInputStream(bytes);\r\n    \t\tBufferedImage img = null;\r\n    \t\ttry {\r\n    \t\t\timg = ImageIO.read(in);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn img;\r\n    \t}\r\n    }","title":"Repaint JPanel with images from video","body":"<p>There is a need to create a video player where i can edit frames.\nI am trying to create a JFrame and added JPanel inside.<br />\nI need to capture images from a video and display the same in JPanel.  I\ncannot use the custom controls of Java Swings.  I am trying to call\nrepaint inside for loop. However, paintComponent is called only for the first time.</p>\n<pre><code>public class MainPaint extends JFrame {\n\n    \n    static{ System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n    PaintPanel paintPan = null;\n    \n    public MainPaint() {\n        setTitle(&quot;Video Panel&quot;);\n        setSize(600, 600);\n        setLayout(new BorderLayout());\n\n         paintPan = new PaintPanel();\n        JButton testButon = new JButton(&quot;Display Video&quot;);\n        add(paintPan, BorderLayout.CENTER);\n        add(testButon, BorderLayout.PAGE_END);\n\n        testButon.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent arg0) {\n                try {\n                    paintPan.updateGraphics(50, 50);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                repaint();\n            }\n        });\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        new MainPaint();\n    }\n}\n\nclass PaintPanel extends JPanel {\n\n    \n\n    public PaintPanel() {\n       // setBackground(Color.ORANGE);\n    }\n\n    int count = 0;\n    \n    @Override\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        Graphics2D graphics2d = (Graphics2D)  g.create();\n       \n        graphics2d.drawImage(image, null, 0, 0);\n        graphics2d.dispose();\n       \n    }\n\n    BufferedImage image = null;\n    public void updateGraphics(int length, int width) throws InterruptedException {\n      \n        File selectedFile = new File(&quot;C:\\\\image_test\\\\Opencvs\\\\data\\\\test.mp4&quot;);\n        \n        String filePath = selectedFile.getAbsolutePath();\n        \n        VideoCapture cap = new VideoCapture(filePath);// Load video using the videocapture method//\n         Mat frame = new Mat(); // define a matrix to extract and store pixel info from video//\n        Mat dst = new Mat ();\n        \n        while (true) {\n            \n            if (cap.read(frame)) {\n     \n                    image = (Mat2bufferedImage(frame)); //setting the results into a frame and initializing it //\n                \n                     repaint();\n                     Thread.currentThread().wait(100);\n                    \n        }// if loop\n            }   // while loop   \n        \n    }\n    \n    private static BufferedImage Mat2bufferedImage(Mat image) {   // The class described here  takes in matrix and renders the video to the frame  //\n        MatOfByte bytemat = new MatOfByte();\n        Imgcodecs.imencode(&quot;.jpg&quot;, image, bytemat);\n        byte[] bytes = bytemat.toArray();\n        InputStream in = new ByteArrayInputStream(bytes);\n        BufferedImage img = null;\n        try {\n            img = ImageIO.read(in);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return img;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16450039,"reputation":109,"user_id":11883685,"display_name":"Erfan Sn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666454946,"creation_date":1666454946,"answer_id":74165109,"question_id":74164914,"body_markdown":"In Java, we don&#39;t have anything called Local Function as a result, move the functions from the onCreate method to the class.\r\n","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>In Java, we don't have anything called Local Function as a result, move the functions from the onCreate method to the class.</p>\n"},{"tags":[],"owner":{"account_id":17075413,"reputation":40,"user_id":12355161,"display_name":"JadeCeci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666455123,"creation_date":1666455123,"answer_id":74165138,"question_id":74164914,"body_markdown":"Firstly, implement your methods onClick() and increment() outside of the function onCreate(). It does not make sense to implement a function inside of a fuction. You can implement them inside the class MainActivity. Moreover, I would suggest not to name your custom button click function as onClick() as it might lead to confusion later on.\r\n\r\nSecondly, I cannot see the implementation of the function &quot;display()&quot;. That&#39;s why AndroidStudio cannot recognize the function. If you move onClick() and increment() to the place I said and in the same class implement the display function, it should be fine.","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>Firstly, implement your methods onClick() and increment() outside of the function onCreate(). It does not make sense to implement a function inside of a fuction. You can implement them inside the class MainActivity. Moreover, I would suggest not to name your custom button click function as onClick() as it might lead to confusion later on.</p>\n<p>Secondly, I cannot see the implementation of the function &quot;display()&quot;. That's why AndroidStudio cannot recognize the function. If you move onClick() and increment() to the place I said and in the same class implement the display function, it should be fine.</p>\n"}],"owner":{"account_id":26427358,"reputation":1,"user_id":20074099,"display_name":"Amira Abbas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666455123,"creation_date":1666453426,"question_id":74164914,"body_markdown":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]\r\nI am getting a error on Android Studio as what I believe is because I&#39;m inserting multiple &#39;displays&#39;. Can someone advise &amp; explain what I need to do and why it causes this error so I know for future?\r\n\r\nPlease see below for the following error:\r\n\r\n    package com.example.justjava;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.text.NumberFormat;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            TextView num = findViewById(R.id.num);\r\n            Button order1 = findViewById(R.id.order);\r\n            /**\r\n             * This method is called when the plus button is clicked.\r\n             */\r\n            public void increment (View view) {\r\n                int quantity = 2;\r\n                display(quantity);\r\n            }\r\n            /**\r\n             * This method is called when the minus button is clicked.\r\n             */\r\n            public void onClick (View view) {\r\n                int quantity = 2;\r\n                display(quantity);\r\n            }\r\n    \r\n    \r\n            /**\r\n             * This method is called when the order button is clicked.\r\n             */\r\n            order1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    int quantity = 2;\r\n                    display1(quantity);\r\n                    displayPrice(quantity*5);\r\n                }\r\n    \r\n                /**\r\n                 * This method displays the given price on the screen.\r\n                 */\r\n                private void displayPrice(int number) {\r\n                    TextView priceTextView = (TextView) findViewById(R.id.price_text_view);\r\n                    priceTextView.setText(NumberFormat.getCurrencyInstance().format(number));\r\n                }\r\n                /**\r\n                 * This method displays the given quantity value on the screen.\r\n                 */\r\n                private void display1(int number)\r\n                {\r\n                    //  TextView quantity = (TextView) findViewById(R.id.quantity);\r\n                    num.setText(&quot;&quot; + number);\r\n                }\r\n    \r\n    \r\n            });\r\n        }\r\n    }","title":"Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]","body":"<p>Android - Display Int onClick with Buttons increment , decremet [Error: Cannot resolve method ‘display(int)’ ]\nI am getting a error on Android Studio as what I believe is because I'm inserting multiple 'displays'. Can someone advise &amp; explain what I need to do and why it causes this error so I know for future?</p>\n<p>Please see below for the following error:</p>\n<pre><code>package com.example.justjava;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.text.NumberFormat;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView num = findViewById(R.id.num);\n        Button order1 = findViewById(R.id.order);\n        /**\n         * This method is called when the plus button is clicked.\n         */\n        public void increment (View view) {\n            int quantity = 2;\n            display(quantity);\n        }\n        /**\n         * This method is called when the minus button is clicked.\n         */\n        public void onClick (View view) {\n            int quantity = 2;\n            display(quantity);\n        }\n\n\n        /**\n         * This method is called when the order button is clicked.\n         */\n        order1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                int quantity = 2;\n                display1(quantity);\n                displayPrice(quantity*5);\n            }\n\n            /**\n             * This method displays the given price on the screen.\n             */\n            private void displayPrice(int number) {\n                TextView priceTextView = (TextView) findViewById(R.id.price_text_view);\n                priceTextView.setText(NumberFormat.getCurrencyInstance().format(number));\n            }\n            /**\n             * This method displays the given quantity value on the screen.\n             */\n            private void display1(int number)\n            {\n                //  TextView quantity = (TextView) findViewById(R.id.quantity);\n                num.setText(&quot;&quot; + number);\n            }\n\n\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","communication","file-transfer","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666454640,"creation_date":1666454640,"answer_id":74165061,"question_id":74165040,"body_markdown":"You can use RestTemplate .\r\n\r\nRestTemplate is used to consume API in Spring Boot \r\n\r\nhttps://spring.io/guides/gs/consuming-rest/","title":"Java Spring Restcontroller Communication Message+File","body":"<p>You can use RestTemplate .</p>\n<p>RestTemplate is used to consume API in Spring Boot</p>\n<p><a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-rest/</a></p>\n"}],"owner":{"account_id":14172533,"reputation":3,"user_id":10238739,"display_name":"tc.th3.bl4cksm1th"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74165061,"answer_count":1,"score":0,"last_activity_date":1666454640,"creation_date":1666454437,"question_id":74165040,"body_markdown":"I have a small task to design 2 applications \r\napplication1: takes a file from a web interface that the user uploads. Further the user makes an input like book1 or book2 etc. Iv managed to put together a RestController in a Spring boot application that takes the input and the file. Iv also managed to put together application2: which does the processing of that file (convert it to a json file) and send it back to the application1 which the user can download(it is also a Spring boot application written in java like application1).\r\n\r\nI have unfortunately no clue how to put together the communication between the two RestControllers. Could some1 point me in the right direction where i can read up on this?","title":"Java Spring Restcontroller Communication Message+File","body":"<p>I have a small task to design 2 applications\napplication1: takes a file from a web interface that the user uploads. Further the user makes an input like book1 or book2 etc. Iv managed to put together a RestController in a Spring boot application that takes the input and the file. Iv also managed to put together application2: which does the processing of that file (convert it to a json file) and send it back to the application1 which the user can download(it is also a Spring boot application written in java like application1).</p>\n<p>I have unfortunately no clue how to put together the communication between the two RestControllers. Could some1 point me in the right direction where i can read up on this?</p>\n"},{"tags":["java","enums","jackson","jsonserializer"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":4,"creation_date":1347993792,"post_id":12468764,"comment_id":16794465,"body_markdown":"Have you tried `{&quot;Event&quot;:&quot;FORGOT_PASSWORD&quot;}`? Note the caps on both Event and FORGOT_PASSWORD.","body":"Have you tried <code>{&quot;Event&quot;:&quot;FORGOT_PASSWORD&quot;}</code>? Note the caps on both Event and FORGOT_PASSWORD."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1519909942,"post_id":12468764,"comment_id":85105193,"body_markdown":"Similar: [How to annotate enum fields for deserialization using Jackson json](https://stackoverflow.com/questions/9300191/how-to-annotate-enum-fields-for-deserialization-using-jackson-json)","body":"Similar: <a href=\"https://stackoverflow.com/questions/9300191/how-to-annotate-enum-fields-for-deserialization-using-jackson-json\">How to annotate enum fields for deserialization using Jackson json</a>"},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1587399084,"post_id":12468764,"comment_id":108490553,"body_markdown":"Who came here also check getter setter syntax if you follow different naming convention i.e. instead of `getValue` this `GetValue` doesn&#39;t work","body":"Who came here also check getter setter syntax if you follow different naming convention i.e. instead of <code>getValue</code> this <code>GetValue</code> doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":3515404,"reputation":943,"user_id":2938966,"accept_rate":73,"display_name":"Dmitry Gryazin"},"score":3,"creation_date":1413207425,"post_id":13368831,"comment_id":41344766,"body_markdown":"The usage of custom (de)serializer kills the simplicity (which is using Jackson is worth for, btw), so this is needed in really heavy situations. Use @JsonCreator, as described below, and check [this comment](http://jira.codehaus.org/browse/JACKSON-861)","body":"The usage of custom (de)serializer kills the simplicity (which is using Jackson is worth for, btw), so this is needed in really heavy situations. Use @JsonCreator, as described below, and check <a href=\"http://jira.codehaus.org/browse/JACKSON-861\" rel=\"nofollow noreferrer\">this comment</a>"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":2,"creation_date":1491886859,"post_id":13368831,"comment_id":73737873,"body_markdown":"This soluiton is best for the somewhat crazy problem introduced in the OPs question. The real issue here is that the OP wants to return the structured data in a *rendered* form. That is, they&#39;re returning data that already includes a user friendly string. But in order to turn the rendered form back into an identifier, we need some code that can reverse the transformation. The hacky accepted answer wants to use a map to handle the transformation, but requires more maintenance. With this solution, you can add new enumerated types and then your developers can get on with their jobs.","body":"This soluiton is best for the somewhat crazy problem introduced in the OPs question. The real issue here is that the OP wants to return the structured data in a <i>rendered</i> form. That is, they&#39;re returning data that already includes a user friendly string. But in order to turn the rendered form back into an identifier, we need some code that can reverse the transformation. The hacky accepted answer wants to use a map to handle the transformation, but requires more maintenance. With this solution, you can add new enumerated types and then your developers can get on with their jobs."}],"tags":[],"owner":{"account_id":334722,"reputation":13230,"user_id":661363,"accept_rate":94,"display_name":"xbakesx"},"comment_count":2,"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1366427041,"creation_date":1352840937,"answer_id":13368831,"question_id":12468764,"body_markdown":"**Actual Answer:**\r\n\r\nThe default deserializer for enums uses `.name()` to deserialize, so it&#39;s not using the `@JsonValue`.  So as @OldCurmudgeon pointed out, you&#39;d need to pass in `{&quot;event&quot;: &quot;FORGOT_PASSWORD&quot;}` to match the `.name()` value.\r\n\r\nAn other option (assuming you want the write and read json values to be the same)...\r\n\r\n**More Info:**\r\n\r\nThere is (yet) another way to manage the serialization and deserialization process with Jackson.  You can specify these annotations to use your own custom serializer and deserializer:\r\n\r\n    @JsonSerialize(using = MySerializer.class)\r\n    @JsonDeserialize(using = MyDeserializer.class)\r\n    public final class MyClass {\r\n        ...\r\n    }\r\n\r\nThen you have to write `MySerializer` and `MyDeserializer` which look like this:\r\n\r\n**MySerializer**\r\n\r\n    public final class MySerializer extends JsonSerializer&lt;MyClass&gt;\r\n    {\r\n        @Override\r\n        public void serialize(final MyClass yourClassHere, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\r\n        {\r\n            // here you&#39;d write data to the stream with gen.write...() methods\r\n        }\r\n    \r\n    }\r\n\r\n**MyDeserializer**\r\n\r\n    public final class MyDeserializer extends org.codehaus.jackson.map.JsonDeserializer&lt;MyClass&gt;\r\n    {\r\n        @Override\r\n        public MyClass deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\r\n        {\r\n            // then you&#39;d do something like parser.getInt() or whatever to pull data off the parser\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nLast little bit, particularly for doing this to an enum `JsonEnum` that serializes with the method `getYourValue()`, your serializer and deserializer might look like this:\r\n\r\n\r\n    public void serialize(final JsonEnum enumValue, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\r\n    {\r\n        gen.writeString(enumValue.getYourValue());\r\n    }\r\n\r\n    public JsonEnum deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\r\n    {\r\n        final String jsonValue = parser.getText();\r\n        for (final JsonEnum enumValue : JsonEnum.values())\r\n        {\r\n            if (enumValue.getYourValue().equals(jsonValue))\r\n            {\r\n                return enumValue;\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p><strong>Actual Answer:</strong></p>\n\n<p>The default deserializer for enums uses <code>.name()</code> to deserialize, so it's not using the <code>@JsonValue</code>.  So as @OldCurmudgeon pointed out, you'd need to pass in <code>{\"event\": \"FORGOT_PASSWORD\"}</code> to match the <code>.name()</code> value.</p>\n\n<p>An other option (assuming you want the write and read json values to be the same)...</p>\n\n<p><strong>More Info:</strong></p>\n\n<p>There is (yet) another way to manage the serialization and deserialization process with Jackson.  You can specify these annotations to use your own custom serializer and deserializer:</p>\n\n<pre><code>@JsonSerialize(using = MySerializer.class)\n@JsonDeserialize(using = MyDeserializer.class)\npublic final class MyClass {\n    ...\n}\n</code></pre>\n\n<p>Then you have to write <code>MySerializer</code> and <code>MyDeserializer</code> which look like this:</p>\n\n<p><strong>MySerializer</strong></p>\n\n<pre><code>public final class MySerializer extends JsonSerializer&lt;MyClass&gt;\n{\n    @Override\n    public void serialize(final MyClass yourClassHere, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n    {\n        // here you'd write data to the stream with gen.write...() methods\n    }\n\n}\n</code></pre>\n\n<p><strong>MyDeserializer</strong></p>\n\n<pre><code>public final class MyDeserializer extends org.codehaus.jackson.map.JsonDeserializer&lt;MyClass&gt;\n{\n    @Override\n    public MyClass deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n    {\n        // then you'd do something like parser.getInt() or whatever to pull data off the parser\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>Last little bit, particularly for doing this to an enum <code>JsonEnum</code> that serializes with the method <code>getYourValue()</code>, your serializer and deserializer might look like this:</p>\n\n<pre><code>public void serialize(final JsonEnum enumValue, final JsonGenerator gen, final SerializerProvider serializer) throws IOException, JsonProcessingException\n{\n    gen.writeString(enumValue.getYourValue());\n}\n\npublic JsonEnum deserialize(final JsonParser parser, final DeserializationContext context) throws IOException, JsonProcessingException\n{\n    final String jsonValue = parser.getText();\n    for (final JsonEnum enumValue : JsonEnum.values())\n    {\n        if (enumValue.getYourValue().equals(jsonValue))\n        {\n            return enumValue;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":11,"creation_date":1404248840,"post_id":17420756,"comment_id":37963333,"body_markdown":"This is the cleanest and most concise solution, the rest are just tons of boilerplate that could (and should!) be avoided at all costs!","body":"This is the cleanest and most concise solution, the rest are just tons of boilerplate that could (and should!) be avoided at all costs!"},{"owner":{"account_id":3219353,"reputation":1783,"user_id":2717158,"accept_rate":79,"display_name":"Chiranjib"},"score":6,"creation_date":1490619076,"post_id":17420756,"comment_id":73177989,"body_markdown":"`@JSONValue` to serialize and `@JSONCreator` to deserialize.","body":"<code>@JSONValue</code> to serialize and <code>@JSONCreator</code> to deserialize."},{"owner":{"account_id":5241914,"reputation":1343,"user_id":4188683,"accept_rate":87,"display_name":"Eido95"},"score":0,"creation_date":1538557727,"post_id":17420756,"comment_id":92180420,"body_markdown":"`@JsonCreator public static Event valueOf(int intValue) { ... }` to deserialize `int` to `Event` enumerator.","body":"<code>@JsonCreator public static Event valueOf(int intValue) { ... }</code> to deserialize <code>int</code> to <code>Event</code> enumerator."},{"owner":{"account_id":185776,"reputation":1654,"user_id":422707,"accept_rate":100,"display_name":"Asa"},"score":2,"creation_date":1542259137,"post_id":17420756,"comment_id":93506144,"body_markdown":"@ClintEastwood whether the other solutions should be avoided depends on whether you want to separate serialzation/ deserialization concerns from the enum or not.","body":"@ClintEastwood whether the other solutions should be avoided depends on whether you want to separate serialzation/ deserialization concerns from the enum or not."}],"tags":[],"owner":{"account_id":1668809,"reputation":5077,"user_id":1535679,"accept_rate":100,"display_name":"Stanley"},"comment_count":4,"down_vote_count":0,"up_vote_count":101,"is_accepted":false,"score":101,"last_activity_date":1372753292,"creation_date":1372753292,"answer_id":17420756,"question_id":12468764,"body_markdown":"You should create a static factory method which takes single argument and annotate it with `@JsonCreator` (available since Jackson 1.2)\r\n\r\n    @JsonCreator\r\n    public static Event forValue(String value) { ... }\r\n\r\nRead more about JsonCreator annotation [here][1].\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/index.html?com/fasterxml/jackson/annotation/JsonCreator.html","title":"Jackson enum Serializing and DeSerializer","body":"<p>You should create a static factory method which takes single argument and annotate it with <code>@JsonCreator</code> (available since Jackson 1.2)</p>\n\n<pre><code>@JsonCreator\npublic static Event forValue(String value) { ... }\n</code></pre>\n\n<p>Read more about JsonCreator annotation <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/index.html?com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":5208406,"reputation":4517,"user_id":4165579,"accept_rate":75,"display_name":"Prabjot Singh"},"score":0,"creation_date":1432891857,"post_id":20421494,"comment_id":49125558,"body_markdown":"@Agusti please take a look at my question,what am i missing there http://stackoverflow.com/questions/30525986/enum-is-not-binding","body":"@Agusti please take a look at my question,what am i missing there <a href=\"http://stackoverflow.com/questions/30525986/enum-is-not-binding\">stackoverflow.com/questions/30525986/enum-is-not-binding</a>"},{"owner":{"account_id":944240,"reputation":2486,"user_id":971813,"accept_rate":84,"display_name":"acvcu"},"score":47,"creation_date":1444421993,"post_id":20421494,"comment_id":53913904,"body_markdown":"maybe obvious to some, but note that @ JsonValue is used for serialization and @ JsonCreator for deserialization. If you&#39;re not doing both you&#39;ll only need one or the other.","body":"maybe obvious to some, but note that @ JsonValue is used for serialization and @ JsonCreator for deserialization. If you&#39;re not doing both you&#39;ll only need one or the other."},{"owner":{"account_id":5048751,"reputation":564,"user_id":4053944,"display_name":"Deepika Rajani"},"score":0,"creation_date":1460011186,"post_id":20421494,"comment_id":60547942,"body_markdown":"@Agusti can you please tell me how will I use(call) this enum in my json","body":"@Agusti can you please tell me how will I use(call) this enum in my json"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":12,"creation_date":1476124893,"post_id":20421494,"comment_id":67209131,"body_markdown":"I really dislike this solution for the simple fact that you introduce two sources of truth. The developer will always have to remember to add the name in two places. I much prefer a solution that just does the right thing without decorating the internals of an enum with a map.","body":"I really dislike this solution for the simple fact that you introduce two sources of truth. The developer will always have to remember to add the name in two places. I much prefer a solution that just does the right thing without decorating the internals of an enum with a map."},{"owner":{"account_id":4895674,"reputation":5334,"user_id":3945392,"accept_rate":50,"display_name":"Langley"},"score":2,"creation_date":1487639314,"post_id":20421494,"comment_id":71864738,"body_markdown":"@mttdbrd you can avoid that by adding the objects to the map during the constructor","body":"@mttdbrd you can avoid that by adding the objects to the map during the constructor"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":1,"creation_date":1487653931,"post_id":20421494,"comment_id":71868723,"body_markdown":"@Langley That doesn&#39;t mitigate the problem that someone needs to remember to add the name in two places. You&#39;re just suggesting moving the naming to a constructor instead of in a static initializer. Two sources of truth = not clean code.","body":"@Langley That doesn&#39;t mitigate the problem that someone needs to remember to add the name in two places. You&#39;re just suggesting moving the naming to a constructor instead of in a static initializer. Two sources of truth = not clean code."},{"owner":{"account_id":4895674,"reputation":5334,"user_id":3945392,"accept_rate":50,"display_name":"Langley"},"score":0,"creation_date":1487882777,"post_id":20421494,"comment_id":71997047,"body_markdown":"@mttdbrd &quot;someone needs to remember to add the name in two places&quot;, no you won&#39;t, it will be the same place, you can&#39;t declare it without specifying it, so you don&#39;t have to remember, the compiler will tell you to.","body":"@mttdbrd &quot;someone needs to remember to add the name in two places&quot;, no you won&#39;t, it will be the same place, you can&#39;t declare it without specifying it, so you don&#39;t have to remember, the compiler will tell you to."},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":0,"creation_date":1491886529,"post_id":20421494,"comment_id":73737747,"body_markdown":"@Langley You have to declare the elements in the enum (1st place) and then in the constructor or static initializer (2nd place). You have to record the actual name of the enumerated element, and then the pretty-printed name somewhere else. It&#39;s bad enough when they&#39;re right next to each other as in `@JsonProperty` but your solution means that they&#39;re not even guaranteed to be that close. I still don&#39;t like this solution.","body":"@Langley You have to declare the elements in the enum (1st place) and then in the constructor or static initializer (2nd place). You have to record the actual name of the enumerated element, and then the pretty-printed name somewhere else. It&#39;s bad enough when they&#39;re right next to each other as in <code>@JsonProperty</code> but your solution means that they&#39;re not even guaranteed to be that close. I still don&#39;t like this solution."},{"owner":{"account_id":164436,"reputation":1000,"user_id":387175,"accept_rate":88,"display_name":"KevinO"},"score":5,"creation_date":1505959818,"post_id":20421494,"comment_id":79629162,"body_markdown":"@ttdbrd how about this for unifying truths? https://gist.github.com/Scuilion/036c53fd7fee2de89701a95822c0fb60","body":"@ttdbrd how about this for unifying truths? <a href=\"https://gist.github.com/Scuilion/036c53fd7fee2de89701a95822c0fb60\" rel=\"nofollow noreferrer\">gist.github.com/Scuilion/036c53fd7fee2de89701a95822c0fb60</a>"},{"owner":{"account_id":337726,"reputation":2190,"user_id":666176,"accept_rate":75,"display_name":"Cortlendt"},"score":0,"creation_date":1513687373,"post_id":20421494,"comment_id":82740236,"body_markdown":"does not work for me, when I add JsonValue, Json creator starts being ignored.","body":"does not work for me, when I add JsonValue, Json creator starts being ignored."},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":6,"creation_date":1552550217,"post_id":20421494,"comment_id":97054071,"body_markdown":"Instead of static map you can use YourEnum.values() which give Array of YourEnum and iterate on it","body":"Instead of static map you can use YourEnum.values() which give Array of YourEnum and iterate on it"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1590782889,"post_id":20421494,"comment_id":109822393,"body_markdown":"Concerning the implication that @JsonValue is not intended for deserialization, I noticed the following statement in the JsonValue javadoc: &quot;NOTE: when use for Java enums, one additional feature isthat value returned by annotated method is also considered to be thevalue to deserialize from, not just JSON String to serialize as.This is possible since set of Enum values is constant and it is possibleto define mapping, but can not be done in general for POJO types; as such,this is not used for POJO deserialization.&quot;","body":"Concerning the implication that @JsonValue is not intended for deserialization, I noticed the following statement in the JsonValue javadoc: &quot;NOTE: when use for Java enums, one additional feature isthat value returned by annotated method is also considered to be thevalue to deserialize from, not just JSON String to serialize as.This is possible since set of Enum values is constant and it is possibleto define mapping, but can not be done in general for POJO types; as such,this is not used for POJO deserialization.&quot;"}],"tags":[],"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"comment_count":12,"down_vote_count":3,"up_vote_count":344,"is_accepted":true,"score":341,"last_activity_date":1560513527,"creation_date":1386325415,"answer_id":20421494,"question_id":12468764,"body_markdown":"The serializer / deserializer solution pointed out by [*@xbakesx*][1] is an excellent one if you wish to completely decouple your *enum* class from its JSON representation.\r\n\r\nAlternatively, if you prefer a self-contained solution, an implementation based on `@JsonCreator` and `@JsonValue` annotations would be more convenient.\r\n\r\nSo leveraging on the example by [*@Stanley*][2] the following is a complete self-contained solution (Java 6, Jackson 1.9):\r\n\r\n    public enum DeviceScheduleFormat {\r\n\r\n        Weekday,\r\n        EvenOdd,\r\n        Interval;\r\n    \r\n        private static Map&lt;String, DeviceScheduleFormat&gt; namesMap = new HashMap&lt;String, DeviceScheduleFormat&gt;(3);\r\n    \r\n        static {\r\n            namesMap.put(&quot;weekday&quot;, Weekday);\r\n            namesMap.put(&quot;even-odd&quot;, EvenOdd);\r\n            namesMap.put(&quot;interval&quot;, Interval);\r\n        }\r\n    \r\n        @JsonCreator\r\n        public static DeviceScheduleFormat forValue(String value) {\r\n            return namesMap.get(StringUtils.lowerCase(value));\r\n        }\r\n    \r\n        @JsonValue\r\n        public String toValue() {\r\n            for (Entry&lt;String, DeviceScheduleFormat&gt; entry : namesMap.entrySet()) {\r\n                if (entry.getValue() == this)\r\n                    return entry.getKey();\r\n            }\r\n    \r\n            return null; // or fail\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13368831/814702\r\n  [2]: https://stackoverflow.com/a/17420756/814702","title":"Jackson enum Serializing and DeSerializer","body":"<p>The serializer / deserializer solution pointed out by <a href=\"https://stackoverflow.com/a/13368831/814702\"><em>@xbakesx</em></a> is an excellent one if you wish to completely decouple your <em>enum</em> class from its JSON representation.</p>\n\n<p>Alternatively, if you prefer a self-contained solution, an implementation based on <code>@JsonCreator</code> and <code>@JsonValue</code> annotations would be more convenient.</p>\n\n<p>So leveraging on the example by <a href=\"https://stackoverflow.com/a/17420756/814702\"><em>@Stanley</em></a> the following is a complete self-contained solution (Java 6, Jackson 1.9):</p>\n\n<pre><code>public enum DeviceScheduleFormat {\n\n    Weekday,\n    EvenOdd,\n    Interval;\n\n    private static Map&lt;String, DeviceScheduleFormat&gt; namesMap = new HashMap&lt;String, DeviceScheduleFormat&gt;(3);\n\n    static {\n        namesMap.put(\"weekday\", Weekday);\n        namesMap.put(\"even-odd\", EvenOdd);\n        namesMap.put(\"interval\", Interval);\n    }\n\n    @JsonCreator\n    public static DeviceScheduleFormat forValue(String value) {\n        return namesMap.get(StringUtils.lowerCase(value));\n    }\n\n    @JsonValue\n    public String toValue() {\n        for (Entry&lt;String, DeviceScheduleFormat&gt; entry : namesMap.entrySet()) {\n            if (entry.getValue() == this)\n                return entry.getKey();\n        }\n\n        return null; // or fail\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":13,"creation_date":1476125691,"post_id":24537575,"comment_id":67209538,"body_markdown":"not sure why you need to extend the class. you can enable this feature on an instance of the ObjectMapper.","body":"not sure why you need to extend the class. you can enable this feature on an instance of the ObjectMapper."},{"owner":{"account_id":1799615,"reputation":299,"user_id":1638270,"accept_rate":88,"display_name":"HelLViS69"},"score":0,"creation_date":1518694199,"post_id":24537575,"comment_id":84615005,"body_markdown":"+1 because he pointed me to the [READ|WRITE]_ENUMS_USING_TO_STRING which I can use in Spring application.yml","body":"+1 because he pointed me to the [READ|WRITE]_ENUMS_USING_TO_STRING which I can use in Spring application.yml"},{"owner":{"account_id":1179053,"reputation":2329,"user_id":1154390,"accept_rate":31,"display_name":"user1154390"},"score":1,"creation_date":1610527552,"post_id":24537575,"comment_id":116158990,"body_markdown":"Thanks, your answer helped me to resolve my issue in Retrofit If you want you use ordinal during serialization then use SerializationFeature.WRITE_ENUMS_USING_INDEX .","body":"Thanks, your answer helped me to resolve my issue in Retrofit If you want you use ordinal during serialization then use SerializationFeature.WRITE_ENUMS_USING_INDEX ."},{"owner":{"account_id":3625600,"reputation":959,"user_id":3023331,"accept_rate":67,"display_name":"Arnas Ivanavičius"},"score":0,"creation_date":1640203314,"post_id":24537575,"comment_id":124542555,"body_markdown":"thanks, for the config hits. It helped me to solve my issue.","body":"thanks, for the config hits. It helped me to solve my issue."},{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":0,"creation_date":1666901976,"post_id":24537575,"comment_id":131051275,"body_markdown":"This help me since the POJO&#39;s were external and have no way to update them","body":"This help me since the POJO&#39;s were external and have no way to update them"}],"tags":[],"owner":{"account_id":2508823,"reputation":2709,"user_id":2181768,"accept_rate":80,"display_name":"lagivan"},"comment_count":5,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1519806876,"creation_date":1404322624,"answer_id":24537575,"question_id":12468764,"body_markdown":"I&#39;ve found a very nice and concise solution, especially useful when you cannot modify enum classes as it was in my case. Then you should provide a custom ObjectMapper with a certain feature enabled. Those features are available since Jackson 1.6. So you only need to write ```toString()``` method in your enum.\r\n\r\n    public class CustomObjectMapper extends ObjectMapper {\r\n        @PostConstruct\r\n        public void customConfiguration() {\r\n            // Uses Enum.toString() for serialization of an Enum\r\n            this.enable(WRITE_ENUMS_USING_TO_STRING);\r\n            // Uses Enum.toString() for deserialization of an Enum\r\n            this.enable(READ_ENUMS_USING_TO_STRING);\r\n        }\r\n    }\r\n\r\nThere are more enum-related features available, see here:\r\n\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Serialization-Features\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>I've found a very nice and concise solution, especially useful when you cannot modify enum classes as it was in my case. Then you should provide a custom ObjectMapper with a certain feature enabled. Those features are available since Jackson 1.6. So you only need to write <code>toString()</code> method in your enum.</p>\n\n<pre><code>public class CustomObjectMapper extends ObjectMapper {\n    @PostConstruct\n    public void customConfiguration() {\n        // Uses Enum.toString() for serialization of an Enum\n        this.enable(WRITE_ENUMS_USING_TO_STRING);\n        // Uses Enum.toString() for deserialization of an Enum\n        this.enable(READ_ENUMS_USING_TO_STRING);\n    }\n}\n</code></pre>\n\n<p>There are more enum-related features available, see here:</p>\n\n<p><a href=\"https://github.com/FasterXML/jackson-databind/wiki/Serialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Serialization-Features</a>\n<a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features</a></p>\n"},{"comments":[{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":1,"creation_date":1463589881,"post_id":32723692,"comment_id":62132833,"body_markdown":"nice solution. It&#39;s a shame I&#39;m stuck with 2.6.0 bundled in Dropwizard :-(","body":"nice solution. It&#39;s a shame I&#39;m stuck with 2.6.0 bundled in Dropwizard :-("},{"owner":{"account_id":101941,"reputation":4209,"user_id":1080891,"accept_rate":96,"display_name":"Cavyn VonDeylen"},"score":0,"creation_date":1478014128,"post_id":32723692,"comment_id":67979460,"body_markdown":"This will only serialize, not deserialize.","body":"This will only serialize, not deserialize."},{"owner":{"account_id":204704,"reputation":3296,"user_id":453084,"accept_rate":86,"display_name":"Nicholas"},"score":1,"creation_date":1496246555,"post_id":32723692,"comment_id":75585819,"body_markdown":"Unfortunately this does not return the property when converting your enum to a string.","body":"Unfortunately this does not return the property when converting your enum to a string."},{"owner":{"account_id":2482344,"reputation":2585,"user_id":2161568,"accept_rate":83,"display_name":"Downhillski"},"score":2,"creation_date":1524154771,"post_id":32723692,"comment_id":86867469,"body_markdown":"This solution works for both serialize and deserialize on Enum. Tested in 2.8.","body":"This solution works for both serialize and deserialize on Enum. Tested in 2.8."},{"owner":{"account_id":3500565,"reputation":369,"user_id":2927422,"display_name":"Pablo Fradua"},"score":10,"creation_date":1561720066,"post_id":32723692,"comment_id":100165598,"body_markdown":"Doesn&#39;t seem to be deprecated at all: https://github.com/FasterXML/jackson-annotations/blob/master/src/main/java/com/fasterxml/jackson/annotation/JsonProperty.java","body":"Doesn&#39;t seem to be deprecated at all: <a href=\"https://github.com/FasterXML/jackson-annotations/blob/master/src/main/java/com/fasterxml/jackson/annotation/JsonProperty.java\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-annotations/blob/master/src/mai&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":2,"creation_date":1590783033,"post_id":32723692,"comment_id":109822458,"body_markdown":"This didn&#39;t do anything for me, using Jackson 2.9.10.","body":"This didn&#39;t do anything for me, using Jackson 2.9.10."},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":3,"creation_date":1600778567,"post_id":32723692,"comment_id":113189914,"body_markdown":"I added an official link to the (2.11) documentation, which explicitly states that `@JsonProperty` can be used like this in 2.6 and onwards.","body":"I added an official link to the (2.11) documentation, which explicitly states that <code>@JsonProperty</code> can be used like this in 2.6 and onwards."},{"owner":{"account_id":2517927,"reputation":1079,"user_id":2188893,"accept_rate":75,"display_name":"PragmaticProgrammer"},"score":0,"creation_date":1643063851,"post_id":32723692,"comment_id":125236615,"body_markdown":"worked for me in Jackson 2.11.2","body":"worked for me in Jackson 2.11.2"}],"tags":[],"owner":{"account_id":5109291,"reputation":2911,"user_id":5364613,"display_name":"tif"},"comment_count":8,"down_vote_count":0,"up_vote_count":280,"is_accepted":false,"score":280,"last_activity_date":1600778515,"creation_date":1442944619,"answer_id":32723692,"question_id":12468764,"body_markdown":"Note that as of [this commit](https://github.com/FasterXML/jackson-databind/commit/707db7a972e2d088647450f9a890c438fb735933) in June 2015 (Jackson 2.6.2 and above) you can now simply write:\r\n\r\n    public enum Event {\r\n        @JsonProperty(&quot;forgot password&quot;)\r\n        FORGOT_PASSWORD;\r\n    }\r\n\r\nThe behavior is documented here: https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html\r\n\r\n&gt;  Starting with Jackson 2.6 this annotation may also be used to change serialization of Enum like so:\r\n&gt;\r\n&gt;      public enum MyEnum {\r\n&gt;           @JsonProperty(&quot;theFirstValue&quot;) THE_FIRST_VALUE,\r\n&gt;           @JsonProperty(&quot;another_value&quot;) ANOTHER_VALUE;\r\n&gt;      }\r\n&gt;\r\n&gt; as an alternative to using JsonValue annotation.\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>Note that as of <a href=\"https://github.com/FasterXML/jackson-databind/commit/707db7a972e2d088647450f9a890c438fb735933\" rel=\"noreferrer\">this commit</a> in June 2015 (Jackson 2.6.2 and above) you can now simply write:</p>\n<pre><code>public enum Event {\n    @JsonProperty(&quot;forgot password&quot;)\n    FORGOT_PASSWORD;\n}\n</code></pre>\n<p>The behavior is documented here: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.11/com/fasterxml/jackson/annotation/JsonProperty.html</a></p>\n<blockquote>\n<p>Starting with Jackson 2.6 this annotation may also be used to change serialization of Enum like so:</p>\n<pre><code> public enum MyEnum {\n      @JsonProperty(&quot;theFirstValue&quot;) THE_FIRST_VALUE,\n      @JsonProperty(&quot;another_value&quot;) ANOTHER_VALUE;\n }\n</code></pre>\n<p>as an alternative to using JsonValue annotation.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":5060517,"reputation":1312,"user_id":4062292,"display_name":"Fernando Nogueira"},"score":0,"creation_date":1453922073,"post_id":33026308,"comment_id":57816356,"body_markdown":"Nathaniel Ford,  got better ?","body":"Nathaniel Ford,  got better ?"},{"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"score":1,"creation_date":1453924674,"post_id":33026308,"comment_id":57817899,"body_markdown":"Yes, this is a much better answer; it provides some context. I would go even further, though, and discuss why adding deserialization in this manner addresses the OP&#39;s specific obstacle.","body":"Yes, this is a much better answer; it provides some context. I would go even further, though, and discuss why adding deserialization in this manner addresses the OP&#39;s specific obstacle."}],"tags":[],"owner":{"account_id":5060517,"reputation":1312,"user_id":4062292,"display_name":"Fernando Nogueira"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1465770969,"creation_date":1444339967,"answer_id":33026308,"question_id":12468764,"body_markdown":"You can customize the deserialization for any attribute.\r\n\r\nDeclare your deserialize class using the annotationJsonDeserialize (`import com.fasterxml.jackson.databind.annotation.JsonDeserialize`) for the attribute that will be processed. If this is an Enum:\r\n\r\n    @JsonDeserialize(using = MyEnumDeserialize.class)\r\n    private MyEnum myEnum;\r\n    \r\nThis way your class will be used to deserialize the attribute. This is a full example:\r\n\r\n    public class MyEnumDeserialize extends JsonDeserializer&lt;MyEnum&gt; {\r\n    \t\r\n    \t@Override\r\n    \tpublic MyEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n    \t\tJsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n    \t\tMyEnum type = null;\r\n    \t\ttry{\r\n    \t\t\tif(node.get(&quot;attr&quot;) != null){\r\n    \t\t\t\ttype = MyEnum.get(Long.parseLong(node.get(&quot;attr&quot;).asText()));\r\n    \t\t\t\tif (type != null) {\r\n    \t\t\t\t\treturn type;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\ttype = null;\r\n    \t\t}\r\n            return type;\r\n    \t}\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>You can customize the deserialization for any attribute.</p>\n\n<p>Declare your deserialize class using the annotationJsonDeserialize (<code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize</code>) for the attribute that will be processed. If this is an Enum:</p>\n\n<pre><code>@JsonDeserialize(using = MyEnumDeserialize.class)\nprivate MyEnum myEnum;\n</code></pre>\n\n<p>This way your class will be used to deserialize the attribute. This is a full example:</p>\n\n<pre><code>public class MyEnumDeserialize extends JsonDeserializer&lt;MyEnum&gt; {\n\n    @Override\n    public MyEnum deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        MyEnum type = null;\n        try{\n            if(node.get(\"attr\") != null){\n                type = MyEnum.get(Long.parseLong(node.get(\"attr\").asText()));\n                if (type != null) {\n                    return type;\n                }\n            }\n        }catch(Exception e){\n            type = null;\n        }\n        return type;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3711378,"reputation":8168,"user_id":3088642,"accept_rate":91,"display_name":"Gremash"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1454110336,"creation_date":1454110336,"answer_id":35095995,"question_id":12468764,"body_markdown":"Here is another example that uses string values instead of a map.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public enum Operator {\r\n        EQUAL(new String[]{&quot;=&quot;,&quot;==&quot;,&quot;===&quot;}),\r\n        NOT_EQUAL(new String[]{&quot;!=&quot;,&quot;&lt;&gt;&quot;}),\r\n        LESS_THAN(new String[]{&quot;&lt;&quot;}),\r\n        LESS_THAN_EQUAL(new String[]{&quot;&lt;=&quot;}),\r\n        GREATER_THAN(new String[]{&quot;&gt;&quot;}),\r\n        GREATER_THAN_EQUAL(new String[]{&quot;&gt;=&quot;}),\r\n        EXISTS(new String[]{&quot;not null&quot;, &quot;exists&quot;}),\r\n        NOT_EXISTS(new String[]{&quot;is null&quot;, &quot;not exists&quot;}),\r\n        MATCH(new String[]{&quot;match&quot;});\r\n\r\n        private String[] value;\r\n\r\n        Operator(String[] value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @JsonValue\r\n        public String toStringOperator(){\r\n            return value[0];\r\n        }\r\n\r\n        @JsonCreator\r\n        public static Operator fromStringOperator(String stringOperator) {\r\n            if(stringOperator != null) {\r\n                for(Operator operator : Operator.values()) {\r\n                    for(String operatorString : operator.value) {\r\n                        if (stringOperator.equalsIgnoreCase(operatorString)) {\r\n                            return operator;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Here is another example that uses string values instead of a map.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public enum Operator {\n    EQUAL(new String[]{\"=\",\"==\",\"===\"}),\n    NOT_EQUAL(new String[]{\"!=\",\"&lt;&gt;\"}),\n    LESS_THAN(new String[]{\"&lt;\"}),\n    LESS_THAN_EQUAL(new String[]{\"&lt;=\"}),\n    GREATER_THAN(new String[]{\"&gt;\"}),\n    GREATER_THAN_EQUAL(new String[]{\"&gt;=\"}),\n    EXISTS(new String[]{\"not null\", \"exists\"}),\n    NOT_EXISTS(new String[]{\"is null\", \"not exists\"}),\n    MATCH(new String[]{\"match\"});\n\n    private String[] value;\n\n    Operator(String[] value) {\n        this.value = value;\n    }\n\n    @JsonValue\n    public String toStringOperator(){\n        return value[0];\n    }\n\n    @JsonCreator\n    public static Operator fromStringOperator(String stringOperator) {\n        if(stringOperator != null) {\n            for(Operator operator : Operator.values()) {\n                for(String operatorString : operator.value) {\n                    if (stringOperator.equalsIgnoreCase(operatorString)) {\n                        return operator;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1472681862,"creation_date":1472681155,"answer_id":39259725,"question_id":12468764,"body_markdown":"There are various approaches that you can take to accomplish deserialization of a JSON object to an enum. My favorite style is to make an inner class:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import org.hibernate.validator.constraints.NotEmpty;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n\r\n    import static com.fasterxml.jackson.annotation.JsonFormat.Shape.OBJECT;\r\n\r\n    @JsonFormat(shape = OBJECT)\r\n    public enum FinancialAccountSubAccountType {\r\n      MAIN(&quot;Main&quot;),\r\n      MAIN_DISCOUNT(&quot;Main Discount&quot;);\r\n\r\n      private final static Map&lt;String, FinancialAccountSubAccountType&gt; ENUM_NAME_MAP;\r\n      static {\r\n        ENUM_NAME_MAP = Arrays.stream(FinancialAccountSubAccountType.values())\r\n          .collect(Collectors.toMap(\r\n            Enum::name,\r\n            Function.identity()));\r\n      }\r\n\r\n      private final String displayName;\r\n\r\n      FinancialAccountSubAccountType(String displayName) {\r\n        this.displayName = displayName;\r\n      }\r\n\r\n      @JsonCreator\r\n      public static FinancialAccountSubAccountType fromJson(Request request) {\r\n        return ENUM_NAME_MAP.get(request.getCode());\r\n      }\r\n\r\n      @JsonProperty(&quot;name&quot;)\r\n      public String getDisplayName() {\r\n        return displayName;\r\n      }\r\n\r\n      private static class Request {\r\n        @NotEmpty(message = &quot;Financial account sub-account type code is required&quot;)\r\n        private final String code;\r\n        private final String displayName;\r\n\r\n        @JsonCreator\r\n        private Request(@JsonProperty(&quot;code&quot;) String code,\r\n                        @JsonProperty(&quot;name&quot;) String displayName) {\r\n          this.code = code;\r\n          this.displayName = displayName;\r\n        }\r\n\r\n        public String getCode() {\r\n          return code;\r\n        }\r\n\r\n        @JsonProperty(&quot;name&quot;)\r\n        public String getDisplayName() {\r\n          return displayName;\r\n        }\r\n      }\r\n    }\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>There are various approaches that you can take to accomplish deserialization of a JSON object to an enum. My favorite style is to make an inner class:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport org.hibernate.validator.constraints.NotEmpty;\n\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport static com.fasterxml.jackson.annotation.JsonFormat.Shape.OBJECT;\n\n@JsonFormat(shape = OBJECT)\npublic enum FinancialAccountSubAccountType {\n  MAIN(\"Main\"),\n  MAIN_DISCOUNT(\"Main Discount\");\n\n  private final static Map&lt;String, FinancialAccountSubAccountType&gt; ENUM_NAME_MAP;\n  static {\n    ENUM_NAME_MAP = Arrays.stream(FinancialAccountSubAccountType.values())\n      .collect(Collectors.toMap(\n        Enum::name,\n        Function.identity()));\n  }\n\n  private final String displayName;\n\n  FinancialAccountSubAccountType(String displayName) {\n    this.displayName = displayName;\n  }\n\n  @JsonCreator\n  public static FinancialAccountSubAccountType fromJson(Request request) {\n    return ENUM_NAME_MAP.get(request.getCode());\n  }\n\n  @JsonProperty(\"name\")\n  public String getDisplayName() {\n    return displayName;\n  }\n\n  private static class Request {\n    @NotEmpty(message = \"Financial account sub-account type code is required\")\n    private final String code;\n    private final String displayName;\n\n    @JsonCreator\n    private Request(@JsonProperty(\"code\") String code,\n                    @JsonProperty(\"name\") String displayName) {\n      this.code = code;\n      this.displayName = displayName;\n    }\n\n    public String getCode() {\n      return code;\n    }\n\n    @JsonProperty(\"name\")\n    public String getDisplayName() {\n      return displayName;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532100363,"creation_date":1532100363,"answer_id":51445841,"question_id":12468764,"body_markdown":"In the context of an enum, using `@JsonValue` now (since 2.0) works for serialization *and* deserialization.\r\n\r\nAccording to the [jackson-annotations javadoc for `@JsonValue`][1]:\r\n\r\n&gt; NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonValue.html\r\n\r\nSo having the `Event` enum annotated just as above works (for both serialization and deserialization) with jackson 2.0+.","title":"Jackson enum Serializing and DeSerializer","body":"<p>In the context of an enum, using <code>@JsonValue</code> now (since 2.0) works for serialization <em>and</em> deserialization.</p>\n\n<p>According to the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonValue.html\" rel=\"noreferrer\">jackson-annotations javadoc for <code>@JsonValue</code></a>:</p>\n\n<blockquote>\n  <p>NOTE: when use for Java enums, one additional feature is that value returned by annotated method is also considered to be the value to deserialize from, not just JSON String to serialize as. This is possible since set of Enum values is constant and it is possible to define mapping, but can not be done in general for POJO types; as such, this is not used for POJO deserialization.</p>\n</blockquote>\n\n<p>So having the <code>Event</code> enum annotated just as above works (for both serialization and deserialization) with jackson 2.0+.</p>\n"},{"tags":[],"owner":{"account_id":1286492,"reputation":2812,"user_id":1239439,"display_name":"Yuantao"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552502058,"creation_date":1552502058,"answer_id":55149048,"question_id":12468764,"body_markdown":"Besides using @JsonSerialize @JsonDeserialize, you can also use SerializationFeature and DeserializationFeature (jackson binding) in the object mapper.\r\n\r\nSuch as DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE, which give default enum type if the one provided is not defined in the enum class.","title":"Jackson enum Serializing and DeSerializer","body":"<p>Besides using @JsonSerialize @JsonDeserialize, you can also use SerializationFeature and DeserializationFeature (jackson binding) in the object mapper.</p>\n\n<p>Such as DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE, which give default enum type if the one provided is not defined in the enum class.</p>\n"},{"tags":[],"owner":{"account_id":4346027,"reputation":151,"user_id":3547944,"display_name":"Durga"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1590905896,"creation_date":1554413398,"answer_id":55525196,"question_id":12468764,"body_markdown":"Try this.\r\n\r\n    public enum Event {\r\n    \t\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n    \tprivate final String value;\r\n    \r\n    \tprivate Event(final String description) {\r\n    \t\tthis.value = description;\r\n    \t}\r\n    \r\n    \tprivate Event() {\r\n    \t\tthis.value = this.name();\r\n    \t}\r\n    \r\n    \t@JsonValue\r\n    \tfinal String value() {\r\n    \t\treturn this.value;\r\n    \t}\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Try this.</p>\n\n<pre><code>public enum Event {\n\n    FORGOT_PASSWORD(\"forgot password\");\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n    private Event() {\n        this.value = this.name();\n    }\n\n    @JsonValue\n    final String value() {\n        return this.value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559131570,"creation_date":1559131241,"answer_id":56360153,"question_id":12468764,"body_markdown":"The simplest way I found is using @JsonFormat.Shape.OBJECT annotation for the enum.\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum MyEnum{\r\n\t    ....\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>The simplest way I found is using @JsonFormat.Shape.OBJECT annotation for the enum.</p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum MyEnum{\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346494,"reputation":447,"user_id":2811560,"display_name":"Flavio Sousa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583851181,"creation_date":1583851181,"answer_id":60619890,"question_id":12468764,"body_markdown":"In my case, this is what resolved:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\npublic enum PeriodEnum {\r\n\r\n    DAILY(1),\r\n    WEEKLY(2),\r\n    ;\r\n\r\n    private final int id;\r\n\r\n    PeriodEnum(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return this.name();\r\n    }\r\n\r\n    @JsonCreator\r\n    public static PeriodEnum fromJson(@JsonProperty(&quot;name&quot;) String name) {\r\n        return valueOf(name);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSerializes and deserializes the following json:\r\n```json\r\n{\r\n  &quot;id&quot;: 2,\r\n  &quot;name&quot;: &quot;WEEKLY&quot;\r\n}\r\n```\r\n\r\nI hope it helps!\r\n\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>In my case, this is what resolved:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum PeriodEnum {\n\n    DAILY(1),\n    WEEKLY(2),\n    ;\n\n    private final int id;\n\n    PeriodEnum(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return this.name();\n    }\n\n    @JsonCreator\n    public static PeriodEnum fromJson(@JsonProperty(\"name\") String name) {\n        return valueOf(name);\n    }\n}\n\n</code></pre>\n\n<p>Serializes and deserializes the following json:</p>\n\n<pre><code>{\n  \"id\": 2,\n  \"name\": \"WEEKLY\"\n}\n</code></pre>\n\n<p>I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":4722924,"reputation":121,"user_id":3820358,"display_name":"bastien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593683715,"creation_date":1593683715,"answer_id":62693660,"question_id":12468764,"body_markdown":"I did it like this :\r\n\r\n```\r\n// Your JSON\r\n{&quot;event&quot;:&quot;forgot password&quot;}\r\n\r\n// Your class to map \r\npublic class LoggingDto {\r\n    @JsonProperty(value = &quot;event&quot;)\r\n    private FooEnum logType;\r\n}\r\n\r\n//Your enum\r\npublic enum FooEnum {\r\n\r\n    DATA_LOG (&quot;Dummy 1&quot;),\r\n    DATA2_LOG (&quot;Dummy 2&quot;),\r\n    DATA3_LOG (&quot;forgot password&quot;),\r\n    DATA4_LOG (&quot;Dummy 4&quot;),\r\n    DATA5_LOG (&quot;Dummy 5&quot;),\r\n    UNKNOWN (&quot;&quot;);\r\n\r\n    private String fullName;\r\n\r\n    FooEnum(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    @JsonCreator\r\n    public static FooEnum getLogTypeFromFullName(String fullName) {\r\n        for (FooEnum logType : FooEnum.values()) {\r\n            if (logType.fullName.equals(fullName)) {\r\n                return logType;\r\n            }\r\n        }\r\n        return UNKNOWN;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nSo the value of the property &quot;logType&quot; for class LoggingDto will be DATA3_LOG","title":"Jackson enum Serializing and DeSerializer","body":"<p>I did it like this :</p>\n<pre><code>// Your JSON\n{&quot;event&quot;:&quot;forgot password&quot;}\n\n// Your class to map \npublic class LoggingDto {\n    @JsonProperty(value = &quot;event&quot;)\n    private FooEnum logType;\n}\n\n//Your enum\npublic enum FooEnum {\n\n    DATA_LOG (&quot;Dummy 1&quot;),\n    DATA2_LOG (&quot;Dummy 2&quot;),\n    DATA3_LOG (&quot;forgot password&quot;),\n    DATA4_LOG (&quot;Dummy 4&quot;),\n    DATA5_LOG (&quot;Dummy 5&quot;),\n    UNKNOWN (&quot;&quot;);\n\n    private String fullName;\n\n    FooEnum(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    @JsonCreator\n    public static FooEnum getLogTypeFromFullName(String fullName) {\n        for (FooEnum logType : FooEnum.values()) {\n            if (logType.fullName.equals(fullName)) {\n                return logType;\n            }\n        }\n        return UNKNOWN;\n    }\n\n\n}\n</code></pre>\n<p>So the value of the property &quot;logType&quot; for class LoggingDto will be DATA3_LOG</p>\n"},{"tags":[],"owner":{"account_id":8074503,"reputation":176,"user_id":6086037,"display_name":"Evgeniy Sokolov"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1616519857,"creation_date":1616515714,"answer_id":66766953,"question_id":12468764,"body_markdown":"I like the [accepted answer][1]. However, I would improve it a little (considering that there is now Java higher than version 6 available). \r\n\r\nExample: \r\n```\r\n    public enum Operation {\r\n        EQUAL(&quot;eq&quot;),\r\n        NOT_EQUAL(&quot;ne&quot;),\r\n        LESS_THAN(&quot;lt&quot;),\r\n        GREATER_THAN(&quot;gt&quot;);\r\n\r\n        private final String value;\r\n\r\n        Operation(String value) {\r\n            this.value = value;\r\n        }\r\n\r\n        @JsonValue\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n\r\n        @JsonCreator\r\n        public static Operation forValue(String value) {\r\n            return Arrays.stream(Operation.values())\r\n                .filter(op -&gt; op.getValue().equals(value))\r\n                .findFirst()\r\n                .orElseThrow(); // depending on requirements: can be .orElse(null);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20421494/10871073","title":"Jackson enum Serializing and DeSerializer","body":"<p>I like the <a href=\"https://stackoverflow.com/a/20421494/10871073\">accepted answer</a>. However, I would improve it a little (considering that there is now Java higher than version 6 available).</p>\n<p>Example:</p>\n<pre><code>    public enum Operation {\n        EQUAL(&quot;eq&quot;),\n        NOT_EQUAL(&quot;ne&quot;),\n        LESS_THAN(&quot;lt&quot;),\n        GREATER_THAN(&quot;gt&quot;);\n\n        private final String value;\n\n        Operation(String value) {\n            this.value = value;\n        }\n\n        @JsonValue\n        public String getValue() {\n            return value;\n        }\n\n        @JsonCreator\n        public static Operation forValue(String value) {\n            return Arrays.stream(Operation.values())\n                .filter(op -&gt; op.getValue().equals(value))\n                .findFirst()\n                .orElseThrow(); // depending on requirements: can be .orElse(null);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4261778,"reputation":1,"user_id":3485970,"display_name":"Dufayel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630070623,"creation_date":1630069519,"answer_id":68953926,"question_id":12468764,"body_markdown":"This post is old, but if it can help someone, use JsonFormat.Shape.STRING\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    public enum SomeEnum{\r\n        @JsonProperty(&quot;SOME_PROPERTY&quot;)\r\n        someProperty,\r\n        ...\r\n    }\r\n\r\nCode results is like this\r\n\r\n    {&quot;someenum&quot;:&quot;SOME_PROPERTY&quot;}","title":"Jackson enum Serializing and DeSerializer","body":"<p>This post is old, but if it can help someone, use JsonFormat.Shape.STRING</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING)\npublic enum SomeEnum{\n    @JsonProperty(&quot;SOME_PROPERTY&quot;)\n    someProperty,\n    ...\n}\n</code></pre>\n<p>Code results is like this</p>\n<pre><code>{&quot;someenum&quot;:&quot;SOME_PROPERTY&quot;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2235815,"reputation":884,"user_id":1972234,"display_name":"sujith s"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638338059,"creation_date":1638337473,"answer_id":70179636,"question_id":12468764,"body_markdown":"    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum LoginOptionType {\r\n\r\n\t PHONE(1, &quot;Phone&quot;), MAIL(2, &quot;mail&quot;), PERSONAL_EMAIL(3, &quot;Personal email&quot;);\r\n\r\n\tprivate static List&lt;LoginOptionType&gt; all;\r\n\r\n\tstatic {\r\n\t\tall = new ArrayList&lt;LoginOptionType&gt;() {\r\n\t\t\t{\r\n\t\t\t\tadd(LoginOptionType.PHONE);\r\n\t\t\t\tadd(LoginOptionType.MAIL);\r\n\t\t\t\tadd(LoginOptionType.PERSONAL_EMAIL);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprivate final Integer viewValue;\r\n\r\n\tprivate final String name;\r\n\r\n\tLoginOptionType(Integer viewValue, String name) {\r\n\t\tthis.viewValue = viewValue;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Integer getViewValue() {\r\n\t\treturn viewValue;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic static List&lt;LoginOptionType&gt; getAll() {\r\n\t\treturn all;\r\n\t}\r\n    }\r\n\r\n&gt; Response\r\n\r\n    [\r\n    {\r\n        &quot;viewValue&quot;: 1,\r\n        &quot;name&quot;: &quot;Phone&quot;\r\n    },\r\n    {\r\n        &quot;viewValue&quot;: 2,\r\n        &quot;name&quot;: &quot;mail&quot;\r\n    },\r\n    {\r\n        &quot;viewValue&quot;: 3,\r\n        &quot;name&quot;: &quot;Personal email&quot;\r\n    }\r\n    ]","title":"Jackson enum Serializing and DeSerializer","body":"<pre><code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum LoginOptionType {\n\n PHONE(1, &quot;Phone&quot;), MAIL(2, &quot;mail&quot;), PERSONAL_EMAIL(3, &quot;Personal email&quot;);\n\nprivate static List&lt;LoginOptionType&gt; all;\n\nstatic {\n    all = new ArrayList&lt;LoginOptionType&gt;() {\n        {\n            add(LoginOptionType.PHONE);\n            add(LoginOptionType.MAIL);\n            add(LoginOptionType.PERSONAL_EMAIL);\n        }\n    };\n}\n\nprivate final Integer viewValue;\n\nprivate final String name;\n\nLoginOptionType(Integer viewValue, String name) {\n    this.viewValue = viewValue;\n    this.name = name;\n}\n\npublic Integer getViewValue() {\n    return viewValue;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic static List&lt;LoginOptionType&gt; getAll() {\n    return all;\n}\n}\n</code></pre>\n<blockquote>\n<p>Response</p>\n</blockquote>\n<pre><code>[\n{\n    &quot;viewValue&quot;: 1,\n    &quot;name&quot;: &quot;Phone&quot;\n},\n{\n    &quot;viewValue&quot;: 2,\n    &quot;name&quot;: &quot;mail&quot;\n},\n{\n    &quot;viewValue&quot;: 3,\n    &quot;name&quot;: &quot;Personal email&quot;\n}\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664361924,"creation_date":1664361924,"answer_id":73880147,"question_id":12468764,"body_markdown":"Here, &#39;value&#39; acts as a deserialiser and &#39;namespace&#39; acts as a serialiser. Hence, you can pass in value &quot;Student Absent&quot; to API while saving, and in DB it will be saved as &quot;STUDENT_ABSENT&quot;. On the other hand, while retrieving data in your class, your API will return &quot;Student Absent&quot;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    public enum AttendanceEnums {\r\n        STUDENT_PRESENT,\r\n        @JsonProperty(value = &quot;Student Absent&quot;, namespace = &quot;Student Absent&quot;)\r\n        STUDENT_ABSENT;\r\n    }","title":"Jackson enum Serializing and DeSerializer","body":"<p>Here, 'value' acts as a deserialiser and 'namespace' acts as a serialiser. Hence, you can pass in value &quot;Student Absent&quot; to API while saving, and in DB it will be saved as &quot;STUDENT_ABSENT&quot;. On the other hand, while retrieving data in your class, your API will return &quot;Student Absent&quot;</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\npublic enum AttendanceEnums {\n    STUDENT_PRESENT,\n    @JsonProperty(value = &quot;Student Absent&quot;, namespace = &quot;Student Absent&quot;)\n    STUDENT_ABSENT;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":466270,"reputation":1285,"user_id":870916,"accept_rate":75,"display_name":"Phill Campbell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666453337,"creation_date":1666395258,"answer_id":74160058,"question_id":12468764,"body_markdown":"I had been looking for a solution to enum serialization and I finally made a solution.\r\n\r\nhttps://github.com/sirgilligan/EnumerationSerialization\r\n\r\nhttps://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html\r\n\r\nIt uses a new annotation and two new classes, EnumerationSerializer and EnumerationDeserializer. You can subclass the EnumerationDeserializer and make a class that sets the enum Class (typical approach) or you can annotate the enum and you don&#39;t have to have a subclass of EnumerationDeserializer.\r\n\r\n\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = RGB.class)\r\n    enum RGB {\r\n    \tRED,\r\n    \tGREEN,\r\n    \tBLUE\r\n    }\r\n\r\nNotice how the implementation of ContextualDeserializer pulls the class from the annotation.\r\n\r\nhttps://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java\r\n\r\n\r\nThere is a lot of good code in this that might give insights.\r\n\r\nFor your specific question you could do this:\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n        //This annotation is optional because the code looks for value or alias.\r\n        @EnumJson(serializeProjection = Projection.VALUE)\r\n        private final String value;\r\n    \r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n  \r\n    }\r\n\r\nOr you could do this:\r\n\r\n    @JsonSerialize(using = EnumerationSerializer.class)\r\n    @JsonDeserialize(using = EnumerationDeserializer.class)\r\n    @EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n    \r\n        private final String value;\r\n    \r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n  \r\n    }\r\n\r\nThat&#39;s all you have to do.\r\n\r\nThen if you have a class that &quot;has a&quot; event you can annotate each occurance to serialize the way you want.\r\n\r\n    class EventHolder {\r\n    \t@EnumJson(serializeProjection = Projection.NAME)\r\n    \tEvent someEvent;\r\n    \r\n    \t@EnumJson(serializeProjection = Projection.ORDINAL)\r\n    \tEvent someOtherEvent;\r\n    \r\n    \t@EnumJson(serializeProjection = Projection.VALUE)\r\n    \tEvent yetAnotherEvent;\r\n    }\r\n","title":"Jackson enum Serializing and DeSerializer","body":"<p>I had been looking for a solution to enum serialization and I finally made a solution.</p>\n<p><a href=\"https://github.com/sirgilligan/EnumerationSerialization\" rel=\"nofollow noreferrer\">https://github.com/sirgilligan/EnumerationSerialization</a></p>\n<p><a href=\"https://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html\" rel=\"nofollow noreferrer\">https://digerati-illuminatus.blogspot.com/2022/10/java-enum-generic-serializer-and.html</a></p>\n<p>It uses a new annotation and two new classes, EnumerationSerializer and EnumerationDeserializer. You can subclass the EnumerationDeserializer and make a class that sets the enum Class (typical approach) or you can annotate the enum and you don't have to have a subclass of EnumerationDeserializer.</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = RGB.class)\nenum RGB {\n    RED,\n    GREEN,\n    BLUE\n}\n</code></pre>\n<p>Notice how the implementation of ContextualDeserializer pulls the class from the annotation.</p>\n<p><a href=\"https://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java\" rel=\"nofollow noreferrer\">https://github.com/sirgilligan/EnumerationSerialization/blob/main/src/main/java/org/example/EnumerationDeserializer.java</a></p>\n<p>There is a lot of good code in this that might give insights.</p>\n<p>For your specific question you could do this:</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\npublic enum Event {\n    FORGOT_PASSWORD(&quot;forgot password&quot;);\n\n    //This annotation is optional because the code looks for value or alias.\n    @EnumJson(serializeProjection = Projection.VALUE)\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n}\n</code></pre>\n<p>Or you could do this:</p>\n<pre><code>@JsonSerialize(using = EnumerationSerializer.class)\n@JsonDeserialize(using = EnumerationDeserializer.class)\n@EnumJson(serializeProjection = Projection.NAME, deserializationClass = Event.class)\npublic enum Event {\n    FORGOT_PASSWORD(&quot;forgot password&quot;);\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n}\n</code></pre>\n<p>That's all you have to do.</p>\n<p>Then if you have a class that &quot;has a&quot; event you can annotate each occurance to serialize the way you want.</p>\n<pre><code>class EventHolder {\n    @EnumJson(serializeProjection = Projection.NAME)\n    Event someEvent;\n\n    @EnumJson(serializeProjection = Projection.ORDINAL)\n    Event someOtherEvent;\n\n    @EnumJson(serializeProjection = Projection.VALUE)\n    Event yetAnotherEvent;\n}\n</code></pre>\n"}],"owner":{"account_id":1461922,"reputation":3031,"user_id":1376000,"accept_rate":40,"display_name":"pookieman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353060,"favorite_count":0,"down_vote_count":1,"up_vote_count":289,"accepted_answer_id":20421494,"answer_count":19,"score":288,"last_activity_date":1666453337,"creation_date":1347927164,"question_id":12468764,"body_markdown":"I&#39;m using JAVA 1.6 and Jackson 1.9.9 I&#39;ve got an enum\r\n\r\n    public enum Event {\r\n        FORGOT_PASSWORD(&quot;forgot password&quot;);\r\n\r\n        private final String value;\r\n\r\n        private Event(final String description) {\r\n            this.value = description;\r\n        }\r\n\r\n        @JsonValue\r\n        final String value() {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\nI&#39;ve added a @JsonValue, this seems to do the job it serializes the object into:\r\n\r\n    {&quot;event&quot;:&quot;forgot password&quot;}\r\n\r\nbut when I try to deserialize I get a\r\n\r\n    Caused by: org.codehaus.jackson.map.JsonMappingException: Can not construct instance of com.globalrelay.gas.appsjson.authportal.Event from String value &#39;forgot password&#39;: value not one of declared Enum instance names\r\n\r\nWhat am I missing here?","title":"Jackson enum Serializing and DeSerializer","body":"<p>I'm using JAVA 1.6 and Jackson 1.9.9 I've got an enum</p>\n\n<pre><code>public enum Event {\n    FORGOT_PASSWORD(\"forgot password\");\n\n    private final String value;\n\n    private Event(final String description) {\n        this.value = description;\n    }\n\n    @JsonValue\n    final String value() {\n        return this.value;\n    }\n}\n</code></pre>\n\n<p>I've added a @JsonValue, this seems to do the job it serializes the object into:</p>\n\n<pre><code>{\"event\":\"forgot password\"}\n</code></pre>\n\n<p>but when I try to deserialize I get a</p>\n\n<pre><code>Caused by: org.codehaus.jackson.map.JsonMappingException: Can not construct instance of com.globalrelay.gas.appsjson.authportal.Event from String value 'forgot password': value not one of declared Enum instance names\n</code></pre>\n\n<p>What am I missing here?</p>\n"},{"tags":["java","loops","methods","restart"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":3,"creation_date":1453028037,"post_id":34837441,"comment_id":57415811,"body_markdown":"Use a `while` or `do` loop to restart the game based on user input.","body":"Use a <code>while</code> or <code>do</code> loop to restart the game based on user input."},{"owner":{"account_id":49167,"reputation":144581,"user_id":146325,"display_name":"APC"},"score":0,"creation_date":1453028164,"post_id":34837441,"comment_id":57415843,"body_markdown":"Given that your question is &quot;Do you want to play again?&quot; surely the restarting option should be *Yes* not *No*.","body":"Given that your question is &quot;Do you want to play again?&quot; surely the restarting option should be <i>Yes</i> not <i>No</i>."}],"answers":[{"comments":[{"owner":{"account_id":49167,"reputation":144581,"user_id":146325,"display_name":"APC"},"score":1,"creation_date":1453028246,"post_id":34837492,"comment_id":57415860,"body_markdown":"Not sure recursion is the *easiest* option for a beginner (depending on depth of non-Java programming experience).","body":"Not sure recursion is the <i>easiest</i> option for a beginner (depending on depth of non-Java programming experience)."},{"owner":{"account_id":5548328,"reputation":23,"user_id":4402294,"display_name":"Robolt Activator"},"score":0,"creation_date":1453078256,"post_id":34837492,"comment_id":57431899,"body_markdown":"This solved my problem,,, calling the game method again!!\nThanks!","body":"This solved my problem,,, calling the game method again!! Thanks!"}],"tags":[],"owner":{"account_id":3296070,"reputation":4445,"user_id":2773311,"accept_rate":73,"display_name":"Arc676"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453028378,"creation_date":1453028092,"answer_id":34837492,"question_id":34837441,"body_markdown":"Given the current state of your program, the &lt;s&gt;easiest&lt;/s&gt; &lt;s&gt;simplest&lt;/s&gt; most &lt;s&gt;straightforward&lt;/s&gt; readable method is recursion. Just call your game method again. Note that there&#39;s probably a recursion limit, so the loop is the recommended method, even if it does involve restructuring your code a bit.\r\n\r\n    else{\r\n        game();\r\n    }\r\nLoop method: declare `play` at the beginning and use a loop:\r\n\r\n    private static void game(){\r\n        boolean play = true;\r\n        while (play){\r\n            //...\r\n            //find out if user wants to play again\r\n            //set play to false if player doesn&#39;t want to play anymore\r\n        }\r\n    }","title":"How to restart a program from a method","body":"<p>Given the current state of your program, the <s>easiest</s> <s>simplest</s> most <s>straightforward</s> readable method is recursion. Just call your game method again. Note that there's probably a recursion limit, so the loop is the recommended method, even if it does involve restructuring your code a bit.</p>\n\n<pre><code>else{\n    game();\n}\n</code></pre>\n\n<p>Loop method: declare <code>play</code> at the beginning and use a loop:</p>\n\n<pre><code>private static void game(){\n    boolean play = true;\n    while (play){\n        //...\n        //find out if user wants to play again\n        //set play to false if player doesn't want to play anymore\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1149888,"reputation":1033,"user_id":1131828,"display_name":"Hamdi Douss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1453028408,"creation_date":1453028408,"answer_id":34837553,"question_id":34837441,"body_markdown":"If you just want to make it work you can do something like this :\r\n\r\n    private static void game()//game method\r\n    {\r\n        boolean exit = false;\r\n        while(!exit){\r\n            //...int play = JOptionPane.showOptionDialog(null,&quot;Play Again?&quot;, &quot;Do you want to play again?&quot;, JOptionPane.PLAIN_MESSAGE,JOptionPane.DEFAULT_OPTION, null, again, again[1]);\r\n           //end of game\r\n    \r\n    \r\n            if (play == 0) {\r\n                exit = true;\r\n            }\r\n\r\n        }          \r\n            System.exit(0);//exit \r\nBut a better more professionnal approach would be to refactor your code, so you extract game logic and separate it from User dialog interaction.","title":"How to restart a program from a method","body":"<p>If you just want to make it work you can do something like this :</p>\n\n<pre><code>private static void game()//game method\n{\n    boolean exit = false;\n    while(!exit){\n        //...int play = JOptionPane.showOptionDialog(null,\"Play Again?\", \"Do you want to play again?\", JOptionPane.PLAIN_MESSAGE,JOptionPane.DEFAULT_OPTION, null, again, again[1]);\n       //end of game\n\n\n        if (play == 0) {\n            exit = true;\n        }\n\n    }          \n        System.exit(0);//exit \n</code></pre>\n\n<p>But a better more professionnal approach would be to refactor your code, so you extract game logic and separate it from User dialog interaction.</p>\n"},{"tags":[],"owner":{"account_id":6739555,"reputation":2194,"user_id":5193194,"display_name":"karim mohsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453028581,"creation_date":1453028581,"answer_id":34837586,"question_id":34837441,"body_markdown":"Extract the `JOptionPane` part from your `game()` function code\r\n\r\n    int play=0;\r\n    do{\r\n    game();\r\n    play = JOptionPane.showOptionDialog(null\r\n                       ,&quot;End&quot;\r\n                       , &quot;Do you want to play again?&quot;\r\n                       , JOptionPane.PLAIN_MESSAGE\r\n                       ,JOptionPane.DEFAULT_OPTION\r\n                       , null\r\n                       , again\r\n                       , again[1]); \r\n    }while(play);","title":"How to restart a program from a method","body":"<p>Extract the <code>JOptionPane</code> part from your <code>game()</code> function code</p>\n\n<pre><code>int play=0;\ndo{\ngame();\nplay = JOptionPane.showOptionDialog(null\n                   ,\"End\"\n                   , \"Do you want to play again?\"\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]); \n}while(play);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24183482,"reputation":1,"user_id":18143792,"display_name":"Samwel001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666453181,"creation_date":1666453181,"answer_id":74164877,"question_id":34837441,"body_markdown":"You can use this method which i am very sure will work in your program since it is something that i have done before. You&#39;ll use Desktop class of the system that will initiate the opening of the program. The program will look like this\r\n```\r\npublic static void restart()\r\n{\r\nDesktop desktop = Desktop.getDesktop();\r\n\ttry {\r\n\t\tdesktop.open(new File(&quot;name_of_your_jarfile.jar&quot;).getCanonicalFile());\r\n// desktop.open(new File(&quot;name_of_your_exe.exe&quot;).getCanonicalFile());//for exe\r\n\t\t} catch (IOException e) {\r\n\t\t\t//if this happen try looking whether the name of your jar file is correct\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n}\r\nprivate static void game() //game method\r\n{\r\n    //...\r\n\r\n   int play = JOptionPane.showOptionDialog(null\r\n                   ,&quot;End&quot;\r\n                   , &quot;Do you want to play again?&quot;\r\n                   , JOptionPane.PLAIN_MESSAGE\r\n                   ,JOptionPane.DEFAULT_OPTION\r\n                   , null\r\n                   , again\r\n                   , again[1]);\r\n   //end of game\r\n    if (play == 0)\r\n        System.exit(0);//exit\r\n    else\r\n         /* what do I put here to restart the program in the same \r\n            after pressing the No button on the JOptionPane???    */        \r\n         System.out.println(&quot;Service not available&quot;);  \r\n       restart();//this will reopen your jar/exe file\r\n       System.exit(0);\r\n}\r\n```","title":"How to restart a program from a method","body":"<p>You can use this method which i am very sure will work in your program since it is something that i have done before. You'll use Desktop class of the system that will initiate the opening of the program. The program will look like this</p>\n<pre><code>public static void restart()\n{\nDesktop desktop = Desktop.getDesktop();\n    try {\n        desktop.open(new File(&quot;name_of_your_jarfile.jar&quot;).getCanonicalFile());\n// desktop.open(new File(&quot;name_of_your_exe.exe&quot;).getCanonicalFile());//for exe\n        } catch (IOException e) {\n            //if this happen try looking whether the name of your jar file is correct\n            e.printStackTrace();\n        }\n}\nprivate static void game() //game method\n{\n    //...\n\n   int play = JOptionPane.showOptionDialog(null\n                   ,&quot;End&quot;\n                   , &quot;Do you want to play again?&quot;\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]);\n   //end of game\n    if (play == 0)\n        System.exit(0);//exit\n    else\n         /* what do I put here to restart the program in the same \n            after pressing the No button on the JOptionPane???    */        \n         System.out.println(&quot;Service not available&quot;);  \n       restart();//this will reopen your jar/exe file\n       System.exit(0);\n}\n</code></pre>\n"}],"owner":{"account_id":5548328,"reputation":23,"user_id":4402294,"display_name":"Robolt Activator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39068,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":34837553,"answer_count":4,"score":1,"last_activity_date":1666453181,"creation_date":1453027640,"question_id":34837441,"body_markdown":"I&#39;m a beginner in Java and I am making a basic game for practice. I&#39;m almost done, but I have one further obstacle to overcome. \r\n\r\nI would like to know how to make the game loop on the `game()` method after pressing *no* as a choice when asked whether to end the game.\r\n\r\nHere is my code:\r\n\r\n\tprivate static void game() //game method\r\n\t{\r\n\t\t//...\r\n\r\n\t   int play = JOptionPane.showOptionDialog(null\r\n                       ,&quot;End&quot;\r\n                       , &quot;Do you want to play again?&quot;\r\n                       , JOptionPane.PLAIN_MESSAGE\r\n                       ,JOptionPane.DEFAULT_OPTION\r\n                       , null\r\n                       , again\r\n                       , again[1]);\r\n\t   //end of game\r\n\t  \r\n\t    if (play == 0)\r\n\t    \tSystem.exit(0);//exit\r\n\t    else\r\n             /* what do I put here to restart the program in the same method(game()) \r\n                after pressing the No button on the JOptionPane???    */        \r\n\t    \t System.out.println(&quot;Service not available&quot;);  \r\n\r\n\r\nTo anybody who can help, I thank you very much!\r\n\r\n\r\n","title":"How to restart a program from a method","body":"<p>I'm a beginner in Java and I am making a basic game for practice. I'm almost done, but I have one further obstacle to overcome. </p>\n\n<p>I would like to know how to make the game loop on the <code>game()</code> method after pressing <em>no</em> as a choice when asked whether to end the game.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>private static void game() //game method\n{\n    //...\n\n   int play = JOptionPane.showOptionDialog(null\n                   ,\"End\"\n                   , \"Do you want to play again?\"\n                   , JOptionPane.PLAIN_MESSAGE\n                   ,JOptionPane.DEFAULT_OPTION\n                   , null\n                   , again\n                   , again[1]);\n   //end of game\n\n    if (play == 0)\n        System.exit(0);//exit\n    else\n         /* what do I put here to restart the program in the same method(game()) \n            after pressing the No button on the JOptionPane???    */        \n         System.out.println(\"Service not available\");  \n</code></pre>\n\n<p>To anybody who can help, I thank you very much!</p>\n"},{"tags":["java","arrays","list","rotation","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666397528,"post_id":74159975,"comment_id":130935155,"body_markdown":"Would generating the result list satisfy your requirements, or do we need to assume that you&#39;ve got the list with the ISO order and we need to use that? In the latter case, does your list always hold all seven days and always exactly once each?","body":"Would generating the result list satisfy your requirements, or do we need to assume that you&#39;ve got the list with the ISO order and we need to use that? In the latter case, does your list always hold all seven days and always exactly once each?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666398624,"post_id":74159975,"comment_id":130935283,"body_markdown":"Relying on an assumption about the original list would mean waiting for your program to break when the assumption breaks. If I have understood your situation correctly, I would resort to sorting into the desired order. Probably not quite as efficient, but it guarantees that whatever was in the list in what order ends up in the correct order.","body":"Relying on an assumption about the original list would mean waiting for your program to break when the assumption breaks. If I have understood your situation correctly, I would resort to sorting into the desired order. Probably not quite as efficient, but it guarantees that whatever was in the list in what order ends up in the correct order."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666498970,"post_id":74159975,"comment_id":130949729,"body_markdown":"Here are three ways demonstrated online: https://rextester.com/MUKZY76895. First one as the question is asked, assuming that the original list contains each day once in the order defined by ISO 8601 and validating this assumption. Second a simpler solution accepting any list of DayOfWeek objects and just sorting it according to the locale. Finally another simple solution that generates the list without starting out from any existing list.","body":"Here are three ways demonstrated online: <a href=\"https://rextester.com/MUKZY76895\" rel=\"nofollow noreferrer\">rextester.com/MUKZY76895</a>. First one as the question is asked, assuming that the original list contains each day once in the order defined by ISO 8601 and validating this assumption. Second a simpler solution accepting any list of DayOfWeek objects and just sorting it according to the locale. Finally another simple solution that generates the list without starting out from any existing list."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667383908,"post_id":74159975,"comment_id":131152445,"body_markdown":"Related: [Get weekdays in order by locale](https://stackoverflow.com/questions/52742452/get-weekdays-in-order-by-locale)","body":"Related: <a href=\"https://stackoverflow.com/questions/52742452/get-weekdays-in-order-by-locale\">Get weekdays in order by locale</a>"}],"answers":[{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666394893,"post_id":74159976,"comment_id":130934816,"body_markdown":"Since `DayOfWeek.MONDAY.ordinal()` is `0`, it can be discarded.","body":"Since <code>DayOfWeek.MONDAY.ordinal()</code> is <code>0</code>, it can be discarded."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666395043,"post_id":74159976,"comment_id":130934833,"body_markdown":"@AlexanderIvanchenko Valid point. But I like the way its inclusion makes clear that conceptually we are making an offset from that Monday to our desired day. I expect the compiler would optimize away the `MONDAY.ordinal()` call.","body":"@AlexanderIvanchenko Valid point. But I like the way its inclusion makes clear that conceptually we are making an offset from that Monday to our desired day. I expect the compiler would optimize away the <code>MONDAY.ordinal()</code> call."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666435399,"post_id":74159976,"comment_id":130939286,"body_markdown":"I would expect passing `Arrays.asList(DayOfWeek.values())` to `rotate()` to work. Haven&#39;t tried it.","body":"I would expect passing <code>Arrays.asList(DayOfWeek.values())</code> to <code>rotate()</code> to work. Haven&#39;t tried it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666471255,"post_id":74159976,"comment_id":130946578,"body_markdown":"@OleV.V. I am not clear on (a) if [`DayOfWeek.values`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/DayOfWeek.html#values()) returns a modifiable or unmodifiable array, and (b) if that array will always be modifiable in future versions. So I am more comfortable with making an explicit copy of the contents which [`Arrays.asList`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Arrays.html#asList(T...)) decidedly does *not*. Thus my use of `new ArrayList`.","body":"@OleV.V. I am not clear on (a) if <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/DayOfWeek.html#values()\" rel=\"nofollow noreferrer\"><code>DayOfWeek.values</code></a> returns a modifiable or unmodifiable array, and (b) if that array will always be modifiable in future versions. So I am more comfortable with making an explicit copy of the contents which <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Arrays.html#asList(T...)\" rel=\"nofollow noreferrer\"><code>Arrays.asList</code></a> decidedly does <i>not</i>. Thus my use of <code>new ArrayList</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1666497717,"post_id":74159976,"comment_id":130949624,"body_markdown":"I see your valid point. The method was introduced long before frozen arrays. So even though returning an unmodifiable array would be advantageous, I bet they dare not introduce that later. One would at least need to make sure to put the code under unit test so one discovers if it happens.","body":"I see your valid point. The method was introduced long before frozen arrays. So even though returning an unmodifiable array would be advantageous, I bet they dare not introduce that later. One would at least need to make sure to put the code under unit test so one discovers if it happens."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666394157,"creation_date":1666394157,"answer_id":74159976,"question_id":74159975,"body_markdown":"# tl;dr\r\n\r\n```java\r\nCollections.rotate( \r\n    new ArrayList&lt;&gt; ( List.of( DayOfWeek.values() ) ) ,   // Actually, you would instantiate elsewhere and pass here.\r\n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \r\n)\r\n```\r\n\r\n# Details\r\n\r\nFortunately, you need not do the list-rotation work yourself. The `Collections` utility class offers a [`rotate`][1] method. Pass your list along with an offset. \r\n\r\nTo quote the Javadoc:\r\n\r\n&gt;Rotates the elements in the specified list by the specified distance. After calling this method, the element at index i will be the element previously at index (i - distance) mod list.size(), for all values of i between 0 and list.size()-1, inclusive. (This method has no effect on the size of the list.)\r\n&gt;\r\n&gt;For example, suppose list comprises [t, a, n, k, s]. After invoking Collections.rotate(list, 1) (or Collections.rotate(list, -4)), list will comprise [s, t, a, n, k].\r\n\r\n```java\r\nfinal List&lt; DayOfWeek &gt; iso8601 = List.of( DayOfWeek.values() ) ;  // Monday-Sunday, defined in ISO 8601 standard.\r\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt;&gt;( iso8601 ) ;       // Duplicate the list of DayOfWeek objects.\r\nLocale locale = Locale.US ;\r\nDayOfWeek localeFirstDayOfWeek = WeekFields.of( locale ).getFirstDayOfWeek() ;  // Sunday-Saturday.\r\nint distance = DayOfWeek.MONDAY.ordinal() - localeFirstDayOfWeek.ordinal() ;\r\nCollections.rotate( localeOrder , distance ) ;\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( iso8601 ) ;\r\nSystem.out.println( localeOrder ) ;\r\nSystem.out.println( distance ) ;\r\n```\r\n\r\nSee that [code run at Ideone.com][2].\r\n\r\n&gt;[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]\r\n&gt;\r\n&gt;[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]\r\n&gt;\r\n&gt;-6\r\n\r\nOr more briefly:\r\n\r\n```java\r\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt; DayOfWeek &gt; ( List.of( DayOfWeek.values() ) ) ;   \r\nCollections.rotate( \r\n\tlocaleOrder , \r\n\tDayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \r\n) ;\r\n```\r\n\r\nSee this [code run at Ideone.com][3].\r\n\r\n&gt;[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)\r\n  [2]: https://ideone.com/adxKDY\r\n  [3]: https://ideone.com/bCXbgA","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.rotate( \n    new ArrayList&lt;&gt; ( List.of( DayOfWeek.values() ) ) ,   // Actually, you would instantiate elsewhere and pass here.\n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \n)\n</code></pre>\n<h1>Details</h1>\n<p>Fortunately, you need not do the list-rotation work yourself. The <code>Collections</code> utility class offers a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#rotate(java.util.List,int)\" rel=\"nofollow noreferrer\"><code>rotate</code></a> method. Pass your list along with an offset.</p>\n<p>To quote the Javadoc:</p>\n<blockquote>\n<p>Rotates the elements in the specified list by the specified distance. After calling this method, the element at index i will be the element previously at index (i - distance) mod list.size(), for all values of i between 0 and list.size()-1, inclusive. (This method has no effect on the size of the list.)</p>\n<p>For example, suppose list comprises [t, a, n, k, s]. After invoking Collections.rotate(list, 1) (or Collections.rotate(list, -4)), list will comprise [s, t, a, n, k].</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt; DayOfWeek &gt; iso8601 = List.of( DayOfWeek.values() ) ;  // Monday-Sunday, defined in ISO 8601 standard.\nList&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt;&gt;( iso8601 ) ;       // Duplicate the list of DayOfWeek objects.\nLocale locale = Locale.US ;\nDayOfWeek localeFirstDayOfWeek = WeekFields.of( locale ).getFirstDayOfWeek() ;  // Sunday-Saturday.\nint distance = DayOfWeek.MONDAY.ordinal() - localeFirstDayOfWeek.ordinal() ;\nCollections.rotate( localeOrder , distance ) ;\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( iso8601 ) ;\nSystem.out.println( localeOrder ) ;\nSystem.out.println( distance ) ;\n</code></pre>\n<p>See that <a href=\"https://ideone.com/adxKDY\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>[MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]</p>\n<p>[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]</p>\n<p>-6</p>\n</blockquote>\n<p>Or more briefly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt; DayOfWeek &gt; localeOrder = new ArrayList&lt; DayOfWeek &gt; ( List.of( DayOfWeek.values() ) ) ;   \nCollections.rotate( \n    localeOrder , \n    DayOfWeek.MONDAY.ordinal() - WeekFields.of( Locale.US ).getFirstDayOfWeek().ordinal()  \n) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/bCXbgA\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>[SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666397976,"creation_date":1666397546,"answer_id":74160219,"question_id":74159975,"body_markdown":"Here&#39;s how it can be done using [`List.subList()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)) and [`Stream.concat()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)).\r\n\r\n**The core idea**\r\n\r\nThe rotated list can be constructed from two parts:\r\n\r\n* From the first day of the week to Sunday (inclusive);\r\n* From Monday to the first day of the week (exclusive). In case when the first day of the week is Monday, the second part would be empty.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n```\r\nDayOfWeek firstDayOfWeek = WeekFields.of(Locale.US).getFirstDayOfWeek();   // the first Day of Week\r\n    \r\nList&lt;DayOfWeek&gt; initial = new ArrayList&lt;&gt;(EnumSet.allOf(DayOfWeek.class)); // initial list of Days of Week ordered according to ISO-8601\r\n        \r\nList&lt;DayOfWeek&gt; rotated = Stream.concat(\r\n    initial.subList(firstDayOfWeek.ordinal(), DayOfWeek.SUNDAY.ordinal() + 1).stream(), // from the firstDayOfWeek to Sunday inclusive\r\n    initial.subList(DayOfWeek.MONDAY.ordinal(), firstDayOfWeek.ordinal()).stream()      // from Monday to the firstDayOfWeek exclusive\r\n).toList();\r\n        \r\nrotated.forEach(System.out::println); // printing the result\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nSUNDAY\r\nMONDAY\r\nTUESDAY\r\nWEDNESDAY\r\nTHURSDAY\r\nFRIDAY\r\nSATURDAY\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/xN5)","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<p>Here's how it can be done using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\"><code>List.subList()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\" rel=\"nofollow noreferrer\"><code>Stream.concat()</code></a>.</p>\n<p><strong>The core idea</strong></p>\n<p>The rotated list can be constructed from two parts:</p>\n<ul>\n<li>From the first day of the week to Sunday (inclusive);</li>\n<li>From Monday to the first day of the week (exclusive). In case when the first day of the week is Monday, the second part would be empty.</li>\n</ul>\n<p>That's how implementation might look like:</p>\n<pre><code>DayOfWeek firstDayOfWeek = WeekFields.of(Locale.US).getFirstDayOfWeek();   // the first Day of Week\n    \nList&lt;DayOfWeek&gt; initial = new ArrayList&lt;&gt;(EnumSet.allOf(DayOfWeek.class)); // initial list of Days of Week ordered according to ISO-8601\n        \nList&lt;DayOfWeek&gt; rotated = Stream.concat(\n    initial.subList(firstDayOfWeek.ordinal(), DayOfWeek.SUNDAY.ordinal() + 1).stream(), // from the firstDayOfWeek to Sunday inclusive\n    initial.subList(DayOfWeek.MONDAY.ordinal(), firstDayOfWeek.ordinal()).stream()      // from Monday to the firstDayOfWeek exclusive\n).toList();\n        \nrotated.forEach(System.out::println); // printing the result\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>SUNDAY\nMONDAY\nTUESDAY\nWEDNESDAY\nTHURSDAY\nFRIDAY\nSATURDAY\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/xN5\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666452929,"creation_date":1666394157,"question_id":74159975,"body_markdown":"Given we can determine the first day of the week by soft-coding with [`Locale`][1]:\r\n\r\n    DayOfWeek firstDayOfWeek = WeekFields.of( Locale.US ).getFirstDayOfWeek() ;  // Sunday-Saturday.\r\n\r\n… and given that Java comes with a built-in enum defining days of the week, [DayOfWeek][2]:\r\n\r\n    DayOfWeek[] dows = DayOfWeek.values() ;  // Monday-Sunday\r\n\r\nHow can we create another array or a list of whose elements are the `DayOfWeek`  enum objects rearranged in order defined by our specified locale?\r\n\r\nThe goal is to represent all seven days of the week in the order defined by cultural norms as represented by a particular `Locale`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html","title":"Rotate elements of a collection of DayOfWeek into locale-defined order","body":"<p>Given we can determine the first day of the week by soft-coding with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a>:</p>\n<pre><code>DayOfWeek firstDayOfWeek = WeekFields.of( Locale.US ).getFirstDayOfWeek() ;  // Sunday-Saturday.\n</code></pre>\n<p>… and given that Java comes with a built-in enum defining days of the week, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">DayOfWeek</a>:</p>\n<pre><code>DayOfWeek[] dows = DayOfWeek.values() ;  // Monday-Sunday\n</code></pre>\n<p>How can we create another array or a list of whose elements are the <code>DayOfWeek</code>  enum objects rearranged in order defined by our specified locale?</p>\n<p>The goal is to represent all seven days of the week in the order defined by cultural norms as represented by a particular <code>Locale</code>.</p>\n"},{"tags":["java","json","org.json","jsonexception"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666451698,"creation_date":1666451676,"answer_id":74164741,"question_id":74152664,"body_markdown":"This could be one of the solution\r\n```\r\nvar jsonObject = new JSONObject(json);\r\nvar result = jsonObject.getJSONObject(&quot;reminders&quot;).getJSONArray(&quot;overrides&quot;);\r\nvar minutes = result.getJSONObject(0).get(&quot;minutes&quot;);\r\n```\r\n        ","title":"org.json.JSONException: JSONObject[&quot;minutes&quot;] not found","body":"<p>This could be one of the solution</p>\n<pre><code>var jsonObject = new JSONObject(json);\nvar result = jsonObject.getJSONObject(&quot;reminders&quot;).getJSONArray(&quot;overrides&quot;);\nvar minutes = result.getJSONObject(0).get(&quot;minutes&quot;);\n</code></pre>\n"}],"owner":{"account_id":26691798,"reputation":1,"user_id":20300275,"display_name":"Avinash Sirohi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666451698,"creation_date":1666350091,"question_id":74152664,"body_markdown":"\r\nThis is my JSON object and I am trying to access the minutes from this JSON object but unable to access it, I have also tried writing some code, can anyone please help.\r\n\r\n***{&quot;summary&quot;:&quot;B.Com; LL.B.(Hons.) 5-Year integrated-MIBCBT802R01&quot;,&quot;recurrence&quot;:[&quot;RRULE:FREQ=DAILY;COUNT=1&quot;],&quot;reminders&quot;:{&quot;overrides&quot;:[{&quot;method&quot;:&quot;email&quot;,&quot;minutes&quot;:1440}],&quot;useDefault&quot;:&quot;false&quot;},&quot;attendees&quot;:[&quot;qatest1@dc01.tcs-itontap.com&quot;],&quot;start&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T08:40:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;description&quot;:&quot;Lecture scheduled for Subject:Down Stream Processing Lab II and Activity: Practical&quot;,&quot;location&quot;:&quot;India&quot;,&quot;end&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T09:30:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;id&quot;:2300036}***\r\n\r\n\r\n    ```String remMinutes = new org.json.JSONObject(new org.json.JSONObject(jsonFromSolJSON.getJSONObject(&quot;reminders&quot;)).getJSONArray(&quot;overrides&quot;).getJSONObject(0)).getInt(&quot;minutes&quot;)```\r\n\r\n\r\n\r\nErr - JSONError:: org.json.JSONException: JSONObject[&quot;minutes&quot;] not found.","title":"org.json.JSONException: JSONObject[&quot;minutes&quot;] not found","body":"<p>This is my JSON object and I am trying to access the minutes from this JSON object but unable to access it, I have also tried writing some code, can anyone please help.</p>\n<p><em><strong>{&quot;summary&quot;:&quot;B.Com; LL.B.(Hons.) 5-Year integrated-MIBCBT802R01&quot;,&quot;recurrence&quot;:[&quot;RRULE:FREQ=DAILY;COUNT=1&quot;],&quot;reminders&quot;:{&quot;overrides&quot;:[{&quot;method&quot;:&quot;email&quot;,&quot;minutes&quot;:1440}],&quot;useDefault&quot;:&quot;false&quot;},&quot;attendees&quot;:[&quot;qatest1@dc01.tcs-itontap.com&quot;],&quot;start&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T08:40:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;description&quot;:&quot;Lecture scheduled for Subject:Down Stream Processing Lab II and Activity: Practical&quot;,&quot;location&quot;:&quot;India&quot;,&quot;end&quot;:{&quot;dateTime&quot;:&quot;2022-10-24T09:30:00+05:30&quot;,&quot;timeZone&quot;:&quot;India+5:30&quot;},&quot;id&quot;:2300036}</strong></em></p>\n<pre><code>```String remMinutes = new org.json.JSONObject(new org.json.JSONObject(jsonFromSolJSON.getJSONObject(&quot;reminders&quot;)).getJSONArray(&quot;overrides&quot;).getJSONObject(0)).getInt(&quot;minutes&quot;)```\n</code></pre>\n<p>Err - JSONError:: org.json.JSONException: JSONObject[&quot;minutes&quot;] not found.</p>\n"},{"tags":["java","reactive-programming","quarkus","mutiny","quarkus-reactive"],"comments":[{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1666310155,"post_id":74146687,"comment_id":130912818,"body_markdown":"SQL has `union all` operation.","body":"SQL has <code>union all</code> operation."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1666370136,"post_id":74146687,"comment_id":130928837,"body_markdown":"I don&#39;t see any Hibernate in this code. It looks like you&#39;re just using the Vert.x database client library directly.","body":"I don&#39;t see any Hibernate in this code. It looks like you&#39;re just using the Vert.x database client library directly."}],"answers":[{"comments":[{"owner":{"account_id":20125651,"reputation":13,"user_id":15762382,"display_name":"Jonathan"},"score":0,"creation_date":1666400630,"post_id":74153326,"comment_id":130935479,"body_markdown":"Hi Davide, thank you for your detailed answer, i got it working! I modified your code to pass a list of unis to the Uni.combine().all().unis() function. This works like a charm. I tried to apply your suggested uni approach using hibernate panache which cause HR000061: Session is currently connecting to database. when i use multis with hibernate instead, it works as expected.  Is there a reason why you prefer unis before multis? Are there any significant differences performance wise?","body":"Hi Davide, thank you for your detailed answer, i got it working! I modified your code to pass a list of unis to the Uni.combine().all().unis() function. This works like a charm. I tried to apply your suggested uni approach using hibernate panache which cause HR000061: Session is currently connecting to database. when i use multis with hibernate instead, it works as expected.  Is there a reason why you prefer unis before multis? Are there any significant differences performance wise?"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666450178,"post_id":74153326,"comment_id":130942270,"body_markdown":"The Hibernate Reactive session is not made for the execution of queries in parallel. This means that you cannot use `.combine().all().uni(...)` with unis sharing the same session. The reason you see the exception HR000061 is that as soon as one of uni ends, it will close the session even if another uni is still using it. If you want to make it work, you need to make sure that the queries run in the right order or that you use a new session for every uni. I&#39;ve mentioned  this in a similar issue: https://github.com/quarkusio/quarkus/issues/22433#issuecomment-1284041669","body":"The Hibernate Reactive session is not made for the execution of queries in parallel. This means that you cannot use <code>.combine().all().uni(...)</code> with unis sharing the same session. The reason you see the exception HR000061 is that as soon as one of uni ends, it will close the session even if another uni is still using it. If you want to make it work, you need to make sure that the queries run in the right order or that you use a new session for every uni. I&#39;ve mentioned  this in a similar issue: <a href=\"https://github.com/quarkusio/quarkus/issues/22433#issuecomment-1284041669\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/&hellip;</a>"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1666450832,"post_id":74153326,"comment_id":130942381,"body_markdown":"With my approach, I&#39;m converting a RowSet into a Map with a loop. By converting the Uni to a Multi, you are iterating over the same list, emitting eache element into a stream of events so that you can collect them into a map again. Maybe there is not much difference in practice, but I find my approach easier to understand and refactor. Anyway, it&#39;s just a personal preference, I don&#39;t know if it&#39;s better in term of performance.","body":"With my approach, I&#39;m converting a RowSet into a Map with a loop. By converting the Uni to a Multi, you are iterating over the same list, emitting eache element into a stream of events so that you can collect them into a map again. Maybe there is not much difference in practice, but I find my approach easier to understand and refactor. Anyway, it&#39;s just a personal preference, I don&#39;t know if it&#39;s better in term of performance."}],"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666451617,"creation_date":1666353726,"answer_id":74153326,"question_id":74146687,"body_markdown":"Instead of returning it as a `Tuple`, you could return it as a `Map`:\r\n```\r\n\r\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = ... // Same as in the quesion\r\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = ... // Same as in the quesion\r\n\r\n\t\tUni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni1 = multi1\r\n\t\t\t\t.toUni()\r\n\t\t\t\t.map( map -&gt; Map.of( &quot;addresses&quot;, map ) );\r\n\r\n\t\tUni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni2 = multi2\r\n\t\t\t\t.toUni()\r\n\t\t\t\t.map( map -&gt; Map.of( &quot;methods&quot;, map ) );\r\n\r\n\t\treturn Uni.combine().all().unis( uni1, uni2 )\r\n\t\t\t\t.combinedWith( objects -&gt; {\r\n\t\t\t\t\tfinal Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\t((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\r\n\t\t\t\t\treturn resultMap;\r\n\t\t\t\t} ); \r\n```\r\n\r\nBut the result will look like this (different than the example in the question):\r\n```\r\n{\r\n  &quot;addresses&quot;: [\r\n    { &quot;1.2.3.4&quot;: 10},\r\n    { &quot;5.6.7.3&quot;: 15},\r\n  ],\r\n  &quot;methods&quot;: [\r\n    { &quot;GET&quot;: 7 }\r\n  ]\r\n}\r\n\r\n```\r\n\r\nI don&#39;t think I would convert everything to a `Multi` and then convert it back to a `Uni`. This will return the JSON you mention in the question:\r\n\r\n```\r\n    public Uni&lt;Map&lt;String, Object&gt;&gt; getCombined() {\r\n        ...\r\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\r\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\r\n\r\n\t\tUni&lt;Map&lt;String, Object&gt;&gt; addressesUni = convertRowSet(&quot;addresses&quot;, &quot;address&quot;, set1);\r\n\t\tUni&lt;Map&lt;String, Object&gt;&gt; methodsUni = convertRowSet(&quot;methods&quot;, &quot;method&quot;, set2);\r\n\r\n\t\treturn Uni.combine().all().unis( addressesUni, methodsUni )\r\n\t\t\t\t.combinedWith( objects -&gt; {\r\n\t\t\t\t\tfinal Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\t((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\r\n\t\t\t\t\treturn resultMap;\r\n\t\t\t\t} );\r\n    }\r\n\r\n\tprivate static Uni&lt;Map&lt;String, Object&gt;&gt; convertRowSet(String plural, String singular, Uni&lt;RowSet&lt;Row&gt;&gt; rowSetUni) {\r\n\t\treturn rowSetUni.map( rowSet -&gt; {\r\n\t\t\tif ( rowSet.size() &gt; 0 ) {\r\n\t\t\t\tList&lt;Map&lt;String, Object&gt;&gt; resultList = new ArrayList&lt;&gt;();\r\n\t\t\t\trowSet.forEach( row -&gt; {\r\n\t\t\t\t\tresultList.add( Map.of(\r\n\t\t\t\t\t\t\tsingular, row.getString( singular ),\r\n\t\t\t\t\t\t\t&quot;requests&quot;, row.getInteger( &quot;requests&quot; )\r\n\t\t\t\t\t) );\r\n\t\t\t\t} );\r\n\t\t\t\treturn Map.of( plural, resultList );\r\n\t\t\t}\r\n\t\t\treturn Collections.emptyMap();\r\n\t\t} );\r\n\t}\r\n```\r\n\r\nAssuming that all results from the queries look the same.\r\n\r\nNote that this approach works because you are using the Vert.x client and not the Hibernate Reactive session. Because the [session cannot be used for parallel operations][1], you would need to make sure that each query is executed using a different session or that the two queries are executed in a sequence.\r\n\r\n\r\n  [1]: https://staging.hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts","title":"Combine multiple resultsets into one object with hibernate reactive and mutiny","body":"<p>Instead of returning it as a <code>Tuple</code>, you could return it as a <code>Map</code>:</p>\n<pre><code>\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = ... // Same as in the quesion\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = ... // Same as in the quesion\n\n        Uni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni1 = multi1\n                .toUni()\n                .map( map -&gt; Map.of( &quot;addresses&quot;, map ) );\n\n        Uni&lt;Map&lt;String, Map&lt;String, Integer&gt;&gt;&gt; uni2 = multi2\n                .toUni()\n                .map( map -&gt; Map.of( &quot;methods&quot;, map ) );\n\n        return Uni.combine().all().unis( uni1, uni2 )\n                .combinedWith( objects -&gt; {\n                    final Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n                    ((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\n                    return resultMap;\n                } ); \n</code></pre>\n<p>But the result will look like this (different than the example in the question):</p>\n<pre><code>{\n  &quot;addresses&quot;: [\n    { &quot;1.2.3.4&quot;: 10},\n    { &quot;5.6.7.3&quot;: 15},\n  ],\n  &quot;methods&quot;: [\n    { &quot;GET&quot;: 7 }\n  ]\n}\n\n</code></pre>\n<p>I don't think I would convert everything to a <code>Multi</code> and then convert it back to a <code>Uni</code>. This will return the JSON you mention in the question:</p>\n<pre><code>    public Uni&lt;Map&lt;String, Object&gt;&gt; getCombined() {\n        ...\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\n\n        Uni&lt;Map&lt;String, Object&gt;&gt; addressesUni = convertRowSet(&quot;addresses&quot;, &quot;address&quot;, set1);\n        Uni&lt;Map&lt;String, Object&gt;&gt; methodsUni = convertRowSet(&quot;methods&quot;, &quot;method&quot;, set2);\n\n        return Uni.combine().all().unis( addressesUni, methodsUni )\n                .combinedWith( objects -&gt; {\n                    final Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;();\n                    ((List&lt;Map&lt;String, Object&gt;&gt;) objects).forEach( resultMap::putAll );\n                    return resultMap;\n                } );\n    }\n\n    private static Uni&lt;Map&lt;String, Object&gt;&gt; convertRowSet(String plural, String singular, Uni&lt;RowSet&lt;Row&gt;&gt; rowSetUni) {\n        return rowSetUni.map( rowSet -&gt; {\n            if ( rowSet.size() &gt; 0 ) {\n                List&lt;Map&lt;String, Object&gt;&gt; resultList = new ArrayList&lt;&gt;();\n                rowSet.forEach( row -&gt; {\n                    resultList.add( Map.of(\n                            singular, row.getString( singular ),\n                            &quot;requests&quot;, row.getInteger( &quot;requests&quot; )\n                    ) );\n                } );\n                return Map.of( plural, resultList );\n            }\n            return Collections.emptyMap();\n        } );\n    }\n</code></pre>\n<p>Assuming that all results from the queries look the same.</p>\n<p>Note that this approach works because you are using the Vert.x client and not the Hibernate Reactive session. Because the <a href=\"https://staging.hibernate.org/reactive/documentation/1.1/reference/html_single/#_sessions_and_vert_x_contexts\" rel=\"nofollow noreferrer\">session cannot be used for parallel operations</a>, you would need to make sure that each query is executed using a different session or that the two queries are executed in a sequence.</p>\n"}],"owner":{"account_id":20125651,"reputation":13,"user_id":15762382,"display_name":"Jonathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74153326,"answer_count":1,"score":1,"last_activity_date":1666451617,"creation_date":1666302817,"question_id":74146687,"body_markdown":"I have a database representing the accesslog of my webserver with columns such as ip-address, method, requested path, etc. I want to create an endpoint which returns a json similar to this:\r\n```json\r\n{\r\n\t&quot;addresses&quot;: [\r\n\t\t{\r\n\t\t\t&quot;address&quot;: &quot;1.2.3.4&quot;,\r\n\t\t\t&quot;requests&quot;: 10\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;address&quot;: &quot;5.6.7.8&quot;,\r\n\t\t\t&quot;requests&quot;: 5\r\n\t\t}\r\n\t],\r\n\t&quot;methods&quot;: [\r\n\t\t{\r\n\t\t\t&quot;method&quot;: &quot;GET&quot;,\r\n\t\t\t&quot;requests&quot;: 14\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;method&quot;: &quot;POST&quot;,\r\n\t\t\t&quot;requests&quot;: 1\r\n\t\t}\r\n\t],\r\n\t&quot;paths&quot;: [\r\n\t\t{\r\n\t\t\t&quot;path&quot;: &quot;/index&quot;,\r\n\t\t\t&quot;requests&quot;: 15\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```\r\n\r\n\r\n```sql\r\nselect address, count(address) as requests\r\nfrom logs\r\ngroup by address\r\norder by requests desc\r\n```\r\n```sql\r\nselect method, count(method) as requests\r\nfrom logs\r\ngroup by method\r\norder by requests desc\r\n```\r\n```sql\r\nselect path, count(path) as requests\r\nfrom logs\r\ngroup by path\r\norder by requests desc\r\n```\r\n\r\nSo this endpoint should execute 3 queries to get these 3 resultsets.\r\n\r\n\r\nThis is my first reactive/mutiny project so ive come as far as the tutorials go:\r\n```java\r\n    @Inject\r\n\tio.vertx.mutiny.pgclient.PgPool client;\r\n\r\n\t@GET\r\n\t@Path(&quot;/getOne&quot;)\r\n\tpublic Multi&lt;Map&lt;String, Integer&gt;&gt; getOne() {\r\n\r\n\t\tString select = &quot;select address, count(address) as requests&quot; \r\n\t\t\t\t\t + &quot; from logs group by address order by requests&quot;;\r\n\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(select).execute();\r\n\r\n\t\treturn set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem()\r\n\t\t\t\t.transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\r\n\t}\r\n```\r\n\r\nThis already returns the array of ips and their requests. \r\n\r\n```json\r\n[\r\n  {\r\n    &quot;1.2.3.4&quot;: 10\r\n  },\r\n  {\r\n    &quot;5.6.7.8&quot;: 5\r\n  }\r\n]\r\n``` \r\nI am now struggling to combine 2 resultsets into one response object:\r\n```java\r\n\r\n    @Inject\r\n\tio.vertx.mutiny.pgclient.PgPool client;\r\n\r\n\t@GET\r\n\t@Path(&quot;/getCombined&quot;)\r\n\tpublic Uni&lt;Tuple2&lt;Map&lt;String, Integer&gt;, Map&lt;String, Integer&gt;&gt;&gt; getCombined() {\r\n\r\n\t\tString selectIps = &quot;select address, count(address) as requests&quot;\r\n\t\t\t\t+ &quot; from logs group by address order by requests&quot;;\r\n\r\n\t\tString selectMethods = &quot;select method, count(method) as requests&quot;\r\n\t\t\t\t+ &quot; from logs group by method order by requests&quot;;\r\n\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\r\n\t\tUni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\r\n\r\n\t\tMulti&lt;Map&lt;String, Integer&gt;&gt; multi1 = set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\r\n\t\t\t\t.onItem().transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\r\n\r\n\t\tMulti&lt;Map&lt;String, Integer&gt;&gt; multi2 = set2.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\r\n\t\t\t\t.onItem().transform(row -&gt; Map.of(row.getString(&quot;method&quot;), row.getInteger(&quot;requests&quot;)));\r\n\r\n\t\treturn Uni.combine().all().unis(multi1.toUni(), multi2.toUni()).asTuple();\r\n\t}\r\n```\r\nthis seems to go in the right direction but i end up having my arrays converted to objects:\r\n```json\r\n{\r\n  &quot;item1&quot;: {\r\n    &quot;1.2.3.4&quot;: 10\r\n  },\r\n  &quot;item2&quot;: {\r\n    &quot;GET&quot;: 7\r\n  }\r\n}\r\n```\r\nHow can i **combine multiple resultsets into one**, to return one response object like the one at the top?\r\n\r\n","title":"Combine multiple resultsets into one object with hibernate reactive and mutiny","body":"<p>I have a database representing the accesslog of my webserver with columns such as ip-address, method, requested path, etc. I want to create an endpoint which returns a json similar to this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;addresses&quot;: [\n        {\n            &quot;address&quot;: &quot;1.2.3.4&quot;,\n            &quot;requests&quot;: 10\n        },\n        {\n            &quot;address&quot;: &quot;5.6.7.8&quot;,\n            &quot;requests&quot;: 5\n        }\n    ],\n    &quot;methods&quot;: [\n        {\n            &quot;method&quot;: &quot;GET&quot;,\n            &quot;requests&quot;: 14\n        },\n        {\n            &quot;method&quot;: &quot;POST&quot;,\n            &quot;requests&quot;: 1\n        }\n    ],\n    &quot;paths&quot;: [\n        {\n            &quot;path&quot;: &quot;/index&quot;,\n            &quot;requests&quot;: 15\n        }\n    ]\n}\n\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select address, count(address) as requests\nfrom logs\ngroup by address\norder by requests desc\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select method, count(method) as requests\nfrom logs\ngroup by method\norder by requests desc\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>select path, count(path) as requests\nfrom logs\ngroup by path\norder by requests desc\n</code></pre>\n<p>So this endpoint should execute 3 queries to get these 3 resultsets.</p>\n<p>This is my first reactive/mutiny project so ive come as far as the tutorials go:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Inject\n    io.vertx.mutiny.pgclient.PgPool client;\n\n    @GET\n    @Path(&quot;/getOne&quot;)\n    public Multi&lt;Map&lt;String, Integer&gt;&gt; getOne() {\n\n        String select = &quot;select address, count(address) as requests&quot; \n                     + &quot; from logs group by address order by requests&quot;;\n\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(select).execute();\n\n        return set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set)).onItem()\n                .transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\n    }\n</code></pre>\n<p>This already returns the array of ips and their requests.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;1.2.3.4&quot;: 10\n  },\n  {\n    &quot;5.6.7.8&quot;: 5\n  }\n]\n</code></pre>\n<p>I am now struggling to combine 2 resultsets into one response object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Inject\n    io.vertx.mutiny.pgclient.PgPool client;\n\n    @GET\n    @Path(&quot;/getCombined&quot;)\n    public Uni&lt;Tuple2&lt;Map&lt;String, Integer&gt;, Map&lt;String, Integer&gt;&gt;&gt; getCombined() {\n\n        String selectIps = &quot;select address, count(address) as requests&quot;\n                + &quot; from logs group by address order by requests&quot;;\n\n        String selectMethods = &quot;select method, count(method) as requests&quot;\n                + &quot; from logs group by method order by requests&quot;;\n\n        Uni&lt;RowSet&lt;Row&gt;&gt; set1 = client.query(selectIps).execute();\n        Uni&lt;RowSet&lt;Row&gt;&gt; set2 = client.query(selectMethods).execute();\n\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi1 = set1.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\n                .onItem().transform(row -&gt; Map.of(row.getString(&quot;address&quot;), row.getInteger(&quot;requests&quot;)));\n\n        Multi&lt;Map&lt;String, Integer&gt;&gt; multi2 = set2.onItem().transformToMulti(set -&gt; Multi.createFrom().iterable(set))\n                .onItem().transform(row -&gt; Map.of(row.getString(&quot;method&quot;), row.getInteger(&quot;requests&quot;)));\n\n        return Uni.combine().all().unis(multi1.toUni(), multi2.toUni()).asTuple();\n    }\n</code></pre>\n<p>this seems to go in the right direction but i end up having my arrays converted to objects:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;item1&quot;: {\n    &quot;1.2.3.4&quot;: 10\n  },\n  &quot;item2&quot;: {\n    &quot;GET&quot;: 7\n  }\n}\n</code></pre>\n<p>How can i <strong>combine multiple resultsets into one</strong>, to return one response object like the one at the top?</p>\n"},{"tags":["java","rest","swagger","filtering"],"answers":[{"comments":[{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1666448731,"post_id":74163956,"comment_id":130941924,"body_markdown":"Thanks for your answer! But unfortunately id didn&#39;t help because I still cannot filter my request by username. But I can filter my request as previous by startIndex and count field. Are there any other possible solution for this?","body":"Thanks for your answer! But unfortunately id didn&#39;t help because I still cannot filter my request by username. But I can filter my request as previous by startIndex and count field. Are there any other possible solution for this?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1666449412,"post_id":74163956,"comment_id":130942094,"body_markdown":"You should be more specific by what &quot;still cannot filter my request by username&quot; exactly means. First of all, check if Spring MVC parameter is working as intended without swagger, e.g. send `/Users?count=1&amp;username=aaa` request via browser or curl, postman etc. and check if filter.username variable is populated. Don&#39;t forget accessors. As for swagger, add @ParameterObject annotation to Filter controller parameter. This should make Filter properties (username) visible in swagger-ui. I will update my answer.","body":"You should be more specific by what &quot;still cannot filter my request by username&quot; exactly means. First of all, check if Spring MVC parameter is working as intended without swagger, e.g. send <code>&#47;Users?count=1&amp;username=aaa</code> request via browser or curl, postman etc. and check if filter.username variable is populated. Don&#39;t forget accessors. As for swagger, add @ParameterObject annotation to Filter controller parameter. This should make Filter properties (username) visible in swagger-ui. I will update my answer."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1666450331,"post_id":74163956,"comment_id":130942301,"body_markdown":"Thanks, I&#39; ve added accessors and @ParameterObject! \nWhen I wrote about error I meant that I&#39;ve added some username in filter field in swagger but it hadn&#39;t filter my users and showed the list of all users. And in postman it didn&#39;t work too.","body":"Thanks, I&#39; ve added accessors and @ParameterObject!  When I wrote about error I meant that I&#39;ve added some username in filter field in swagger but it hadn&#39;t filter my users and showed the list of all users. And in postman it didn&#39;t work too."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1666452222,"post_id":74163956,"comment_id":130942678,"body_markdown":"Well, the question is labeled &quot;How to add filter to Get query to swagger?&quot; and I am giving my answer to that question. Obviously, we don&#39;t see what you&#39;re doing with filter object in your code and why it doesn&#39;t work as you expect. In your original message filter object is not used at all as you&#39;re not passing it to userService. If you do see &quot;username&quot; parameter in swagger-ui and filter object in your controller gets its &quot;username&quot; property populated correctly (as you should check by debugging or printing, etc), I think your swagger-related question is answered.","body":"Well, the question is labeled &quot;How to add filter to Get query to swagger?&quot; and I am giving my answer to that question. Obviously, we don&#39;t see what you&#39;re doing with filter object in your code and why it doesn&#39;t work as you expect. In your original message filter object is not used at all as you&#39;re not passing it to userService. If you do see &quot;username&quot; parameter in swagger-ui and filter object in your controller gets its &quot;username&quot; property populated correctly (as you should check by debugging or printing, etc), I think your swagger-related question is answered."}],"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666449447,"creation_date":1666445246,"answer_id":74163956,"question_id":74163858,"body_markdown":"```\r\n@GetMapping(&quot;/Users&quot;)\r\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\r\n    @RequestParam(required = false) Integer count,\r\n    @ParameterObject Filter filter) {\r\n\t...\r\n\t\r\npublic class Filter {\r\n    @Parameter(description=&quot;optional description&quot;)\r\n    String username;\r\n\t// accessors\r\n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n```\r\n\r\nThis should result in HTTP request with parameters:  \r\n/Users?count=1&amp;username=aaa\r\n\r\nYou can move all your parameters to Filter class.\r\n\r\n```\r\n@GetMapping(&quot;/Users&quot;)\r\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\r\n    @ParameterObject Filter filter) {\r\n\t...\r\n\t\r\npublic class Filter {\r\n    Integer count;\r\n\r\n    @Parameter(description=&quot;optional description&quot;)\r\n    String username;\r\n\t// accessors\r\n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n```\r\n","title":"How to add filter to Get query to swagger?","body":"<pre><code>@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\n    @RequestParam(required = false) Integer count,\n    @ParameterObject Filter filter) {\n    ...\n    \npublic class Filter {\n    @Parameter(description=&quot;optional description&quot;)\n    String username;\n    // accessors\n}\n                                                        \n</code></pre>\n<p>This should result in HTTP request with parameters:<br />\n/Users?count=1&amp;username=aaa</p>\n<p>You can move all your parameters to Filter class.</p>\n<pre><code>@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(\n    @ParameterObject Filter filter) {\n    ...\n    \npublic class Filter {\n    Integer count;\n\n    @Parameter(description=&quot;optional description&quot;)\n    String username;\n    // accessors\n}\n                                                        \n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666449447,"creation_date":1666444280,"question_id":74163858,"body_markdown":"I want to add query filter to my GET/Users endpoint in order to filter my request in swagger by username. I&#39;ve created a class name &quot;Filter&quot; with only one field - &quot;private String username&quot;.\r\nMy controller looks like this: \r\n\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Client error&quot;),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Server error&quot;)\r\n    })\r\n    @GetMapping(&quot;/Users&quot;)\r\n    public ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(HttpServletRequest request,\r\n                                                            @Min(1)\r\n                                                            @RequestParam(required = false) Integer startIndex,\r\n                                                            @RequestParam(required = false) Integer count,\r\n                                                            @RequestParam(required = false) Filter filter) {\r\n        final PagingDto&lt;UserResource&gt; users = userService.getUsers(startIndex, count);\r\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\r\n    }\r\n\r\nAdditionally, my filter has Integer maxResult and Boolean suppoted but unfortunately, it doesn&#39;t work.\r\nMy method &quot;getUsers&quot; looks like:\r\n\r\n    @Override\r\n    public PagingDto&lt;UserResource&gt; getUsers(Integer startIndex, Integer count) {\r\n        final PagingDto&lt;UserResource&gt; users = get(startIndex, count);\r\n        return users;\r\n    }\r\n\r\nPreviously, I&#39;ve tried to add to parameters &quot;Filter filter&quot; but it hadn&#39;t help either. I see the field &quot;filter&quot; in query section in swagger but it doesn&#39;t work properly.\r\nCan you help me please to solve this problem?","title":"How to add filter to Get query to swagger?","body":"<p>I want to add query filter to my GET/Users endpoint in order to filter my request in swagger by username. I've created a class name &quot;Filter&quot; with only one field - &quot;private String username&quot;.\nMy controller looks like this:</p>\n<pre><code>@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;),\n        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Client error&quot;),\n        @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Server error&quot;)\n})\n@GetMapping(&quot;/Users&quot;)\npublic ResponseEntity&lt;PagingDto&lt;UserResource&gt;&gt; getUsers(HttpServletRequest request,\n                                                        @Min(1)\n                                                        @RequestParam(required = false) Integer startIndex,\n                                                        @RequestParam(required = false) Integer count,\n                                                        @RequestParam(required = false) Filter filter) {\n    final PagingDto&lt;UserResource&gt; users = userService.getUsers(startIndex, count);\n    return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\n}\n</code></pre>\n<p>Additionally, my filter has Integer maxResult and Boolean suppoted but unfortunately, it doesn't work.\nMy method &quot;getUsers&quot; looks like:</p>\n<pre><code>@Override\npublic PagingDto&lt;UserResource&gt; getUsers(Integer startIndex, Integer count) {\n    final PagingDto&lt;UserResource&gt; users = get(startIndex, count);\n    return users;\n}\n</code></pre>\n<p>Previously, I've tried to add to parameters &quot;Filter filter&quot; but it hadn't help either. I see the field &quot;filter&quot; in query section in swagger but it doesn't work properly.\nCan you help me please to solve this problem?</p>\n"},{"tags":["java","keytab"],"owner":{"account_id":6236150,"reputation":15,"user_id":4851394,"display_name":"OHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666447713,"creation_date":1666447713,"question_id":74164253,"body_markdown":"I develop a POC to do exactly what&#39;s mentionned in this topic&#39;s title.&lt;br/&gt;\r\nFor this, I&#39;ve found [jumarko sample][1] which is working perfectly. Many thanks to him for this sample :).&lt;br/&gt;\r\nHowever jumarko&#39;s sample uses ```callbackhandler``` implemetation. Which is a login/password authentication.&lt;br/&gt;\r\nIn my case, I&#39;d like to use a **keytab authentication** instead of.&lt;br/&gt;\r\nCould someone advise which interface or which system.property should I use to get **keytab authentication**  ?&lt;br/&gt;\r\nMany thanks in advance for your kind assist,\r\n\r\n\r\n  [1]: https://github.com/jumarko/kerberos-auth-example","title":"Client Java program to reach internet through proxy using kerberos/Keytab authentication","body":"<p>I develop a POC to do exactly what's mentionned in this topic's title.<br/>\nFor this, I've found <a href=\"https://github.com/jumarko/kerberos-auth-example\" rel=\"nofollow noreferrer\">jumarko sample</a> which is working perfectly. Many thanks to him for this sample :).<br/>\nHowever jumarko's sample uses <code>callbackhandler</code> implemetation. Which is a login/password authentication.<br/>\nIn my case, I'd like to use a <strong>keytab authentication</strong> instead of.<br/>\nCould someone advise which interface or which system.property should I use to get <strong>keytab authentication</strong>  ?<br/>\nMany thanks in advance for your kind assist,</p>\n"},{"tags":["javascript","java","android","mysql","epub3"],"answers":[{"tags":[],"owner":{"account_id":2491622,"reputation":419,"user_id":2168948,"display_name":"Alex Milewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526589056,"creation_date":1526589056,"answer_id":50400063,"question_id":45303666,"body_markdown":"For the worst-case side of this, saving the information locally, you can use &quot;localstorage&quot;, for info on that go here: http://diveintohtml5.info/storage.html.\r\n\r\nThe next part is not so simple: you could use some sort of XHR request, but chances are that won&#39;t work because most ePub3 readers don&#39;t support XHR or external request functionality.\r\n\r\nIf you want your book to be distributed through any of the &quot;normal&quot; channels (pretty much just iBooks since you need Script support at this point) you won&#39;t be able to send the data externally...\r\n\r\nHowever, if you will be distributing the book yourself for use on Readium and iBooks (or if you want to plan ahead and hope for support) there are a few hacks you can do. My personal favorite, is embedding the data in a media request (IE www.yoursite.com/fake.m4v?data1=localStorage.data1&amp;data2=localStorage.data2) and pulling out the data on your server. This would be nested in a try catch and activated whenever the book is opened. If you include the base url (www.yoursite.com) in the .opf file, as well as at some point in the chapter which contains the script, this will work in iBooks! If you don&#39;t include it in the .opf the request will get blocked right out of the gate... Again, this &quot;solution&quot; is just a hack and it won&#39;t work through &quot;normal&quot; distribution channels and all of this is entirely dependent on the reader app you are using.\r\n\r\n\r\nBest of luck!!!","title":"EPUB3 Input data and save them somewhere","body":"<p>For the worst-case side of this, saving the information locally, you can use \"localstorage\", for info on that go here: <a href=\"http://diveintohtml5.info/storage.html\" rel=\"nofollow noreferrer\">http://diveintohtml5.info/storage.html</a>.</p>\n\n<p>The next part is not so simple: you could use some sort of XHR request, but chances are that won't work because most ePub3 readers don't support XHR or external request functionality.</p>\n\n<p>If you want your book to be distributed through any of the \"normal\" channels (pretty much just iBooks since you need Script support at this point) you won't be able to send the data externally...</p>\n\n<p>However, if you will be distributing the book yourself for use on Readium and iBooks (or if you want to plan ahead and hope for support) there are a few hacks you can do. My personal favorite, is embedding the data in a media request (IE www.yoursite.com/fake.m4v?data1=localStorage.data1&amp;data2=localStorage.data2) and pulling out the data on your server. This would be nested in a try catch and activated whenever the book is opened. If you include the base url (www.yoursite.com) in the .opf file, as well as at some point in the chapter which contains the script, this will work in iBooks! If you don't include it in the .opf the request will get blocked right out of the gate... Again, this \"solution\" is just a hack and it won't work through \"normal\" distribution channels and all of this is entirely dependent on the reader app you are using.</p>\n\n<p>Best of luck!!!</p>\n"}],"owner":{"account_id":11408988,"reputation":11,"user_id":8363676,"display_name":"K3nnythe13ed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666447700,"creation_date":1500986556,"question_id":45303666,"body_markdown":"So I&#39;m looking for a way to get some kind of form into an EPUB3 Book that allows the user to enter some data for example his first name and last name. \r\nAfter submitting this data has to be saved somewhere, best case would be a database like MySQL. \r\nWorst Case data is being saved locally and the EPUB3 Reader App I am using is getting a function call to work with the data.\r\n\r\nSo is there anyway get this done on best case?\r\nOr is it even possible for the worst case? I&#39;m using an EPUB3 Reader App that is still on development, it is based on Java. Is there any way to get an interface between app and Ebook?\r\n\r\nI do not require full functioning code here just some hints on how it might work out","title":"EPUB3 Input data and save them somewhere","body":"<p>So I'm looking for a way to get some kind of form into an EPUB3 Book that allows the user to enter some data for example his first name and last name. \nAfter submitting this data has to be saved somewhere, best case would be a database like MySQL. \nWorst Case data is being saved locally and the EPUB3 Reader App I am using is getting a function call to work with the data.</p>\n\n<p>So is there anyway get this done on best case?\nOr is it even possible for the worst case? I'm using an EPUB3 Reader App that is still on development, it is based on Java. Is there any way to get an interface between app and Ebook?</p>\n\n<p>I do not require full functioning code here just some hints on how it might work out</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":5,"creation_date":1665749263,"post_id":74068502,"comment_id":130776331,"body_markdown":"Hello :) Could you please give us a [minimal reproductible example](https://stackoverflow.com/help/minimal-reproducible-example)? At least we would like to see the problematic code.","body":"Hello :) Could you please give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproductible example</a>? At least we would like to see the problematic code."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1665750160,"post_id":74068502,"comment_id":130776618,"body_markdown":"Review these related [examples](https://stackoverflow.com/search?q=%5Bjavafx%5D+TableView++scrollTo) and [edit] your question to show your revised approach.","body":"Review these related <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+TableView++scrollTo\">examples</a> and <a href=\"https://stackoverflow.com/posts/74068502/edit\">edit</a> your question to show your revised approach."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1665950631,"post_id":74068502,"comment_id":130813912,"body_markdown":"Your `addAutoScroll` method is never called.  You can delete the method and move its code into the `setupTable` method (it won&#39;t need the null check then because the table must not be null for the setup to work).","body":"Your <code>addAutoScroll</code> method is never called.  You can delete the method and move its code into the <code>setupTable</code> method (it won&#39;t need the null check then because the table must not be null for the setup to work)."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1666156451,"post_id":74094994,"comment_id":130865817,"body_markdown":"refresh is wrong..","body":"refresh is wrong.."},{"owner":{"account_id":12458416,"reputation":1488,"user_id":9070798,"display_name":"Patrick"},"score":0,"creation_date":1666255907,"post_id":74094994,"comment_id":130894458,"body_markdown":"You should consider explaining in a few sentences what the problem was at the beginning of the answer rather than copy-pasting the entire code.","body":"You should consider explaining in a few sentences what the problem was at the beginning of the answer rather than copy-pasting the entire code."}],"tags":[],"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666447385,"creation_date":1665998058,"answer_id":74094994,"question_id":74068502,"body_markdown":"got it working thanks to @jewelsea\r\n\r\nhad forgotten to add &quot;addAutoScroll(dogTable)&quot; to setupTable method so the auto scroll was never called.\r\n\r\nController.java\r\n```\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.input.MouseEvent;\r\n\r\n\r\n\r\npublic class DogRegisterController implements Initializable {\r\n    \r\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\r\n        if (dogTable == null) {\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\r\n            c.next();\r\n            final int size = dogTable.getItems().size();\r\n            if (size &gt; 0) {\r\n                dogTable.scrollTo(size - 1);\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n    private void setupTable(){\r\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\r\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\r\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\r\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\r\n\r\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\r\n\r\n        addAutoScroll(dogTable);\r\n    }\r\n}\r\n\r\n``` ","title":"javaFX tableview auto scroll to last","body":"<p>got it working thanks to @jewelsea</p>\n<p>had forgotten to add &quot;addAutoScroll(dogTable)&quot; to setupTable method so the auto scroll was never called.</p>\n<p>Controller.java</p>\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\n\n\n\npublic class DogRegisterController implements Initializable {\n    \n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\n        if (dogTable == null) {\n            throw new NullPointerException();\n        }\n    \n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\n            c.next();\n            final int size = dogTable.getItems().size();\n            if (size &gt; 0) {\n                dogTable.scrollTo(size - 1);\n            }\n        }));\n    }\n\n\n    private void setupTable(){\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\n\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\n\n        addAutoScroll(dogTable);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":26461456,"reputation":1,"user_id":20103342,"display_name":"UnseenSnick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74094994,"answer_count":1,"score":-2,"last_activity_date":1666447385,"creation_date":1665746761,"question_id":74068502,"body_markdown":"I&#39;m new to java/javaFX so be patient with me.\r\n\r\nThe problem I&#39;m having is that I don&#39;t get auto scrolling to work.\r\n\r\nI&#39;ve tried these solutions but didn&#39;t get them to work:\r\n\r\nhttps://stackoverflow.com/questions/14779135/javafx-tableview-auto-scroll-to-the-last\r\n\r\nhttps://stackoverflow.com/questions/28972021/javafx-how-to-add-changelistener-to-auto-scroll-tableview\r\n\r\nMain.java\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.image.Image;\r\nimport javafx.stage.Stage;\r\n\r\n\r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage stage) {\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;DogRegister.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.setMinHeight(900);\r\n            stage.setMinWidth(1200);\r\n            stage.setResizable(false);\r\n            stage.setTitle(&quot;Dog Registry&quot;);\r\n            Image image = new Image(&quot;/image/paw.png&quot;);\r\n            stage.getIcons().add(image);\r\n            stage.show();\r\n\r\n            stage.setOnCloseRequest(event -&gt; {\r\n                event.consume();\r\n                exit(stage);\r\n            });\r\n\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public void exit(Stage stage){\r\n\r\n        Alert alert = new Alert(AlertType.CONFIRMATION);\r\n        alert.setTitle(&quot;Exit&quot;);\r\n        alert.setHeaderText(&quot;You&#39;re about to exit!&quot;);\r\n        alert.setContentText(&quot;Are you sure you want to exit?: &quot;);\r\n\r\n        if(alert.showAndWait().get() == ButtonType.OK){\r\n            System.out.println(&quot;You successfully exited!&quot;);\r\n            stage.close();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nController.java\r\n```\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.collections.ListChangeListener;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.input.MouseEvent;\r\n\r\n\r\n\r\npublic class DogRegisterController implements Initializable {\r\n    \r\n    @FXML\r\n    private TableView&lt;Dog&gt; dogTable;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; idCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, String&gt; nameCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, String&gt; BreedCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; ageCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Integer&gt; weightCol;\r\n    @FXML\r\n    private TableColumn&lt;Dog, Double&gt; tailCol;\r\n\r\n    @FXML\r\n    private TextField idField;\r\n    @FXML\r\n    private TextField nameField;\r\n    @FXML\r\n    private TextField breedField;\r\n    @FXML\r\n    private TextField ageField;\r\n    @FXML\r\n    private TextField weightField;\r\n\r\n    @FXML\r\n    private Button removeBtn;\r\n    @FXML\r\n    private Button submitBtn;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        idCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;id&quot;));\r\n        nameCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;name&quot;));\r\n        BreedCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;breed&quot;));\r\n        ageCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;age&quot;));\r\n        weightCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;weight&quot;));\r\n        tailCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Double&gt;(&quot;tailLength&quot;)); \r\n\r\n        setupTable();\r\n    }\r\n\r\n    @FXML\r\n    void submit(ActionEvent event){\r\n        Dog dog = new Dog(nameField.getText(), breedField.getText(),\r\n                        Integer.parseInt(ageField.getText()), Integer.parseInt(weightField.getText()));\r\n        ObservableList&lt;Dog&gt; dogs = dogTable.getItems();\r\n        dogs.add(dog);\r\n        dogTable.setItems(dogs);\r\n    }\r\n\r\n    @FXML\r\n    void edit(ActionEvent event){\r\n        ObservableList&lt;Dog&gt; currentTableData = dogTable.getItems();\r\n        int currentDogId = Integer.parseInt(idField.getText());\r\n\r\n        for(Dog dog : currentTableData){\r\n            if(dog.getId() == currentDogId) {\r\n                dog.setId(Integer.parseInt(idField.getText()));\r\n                dog.setName(nameField.getText());\r\n                dog.setBreed(breedField.getText());\r\n                dog.setAge(Integer.parseInt(ageField.getText()));\r\n                dog.setWeight(Integer.parseInt(weightField.getText()));\r\n\r\n                dogTable.setItems(currentTableData);\r\n                dogTable.refresh();\r\n                idField.clear();\r\n                nameField.clear();\r\n                breedField.clear();\r\n                ageField.clear();\r\n                weightField.clear();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @FXML\r\n    void rowClicked(MouseEvent event){\r\n        Dog clickedDog = dogTable.getSelectionModel().getSelectedItem();\r\n        \r\n        idField.setText(String.valueOf(clickedDog.getId()));\r\n        nameField.setText(String.valueOf(clickedDog.getName()));\r\n        breedField.setText(String.valueOf(clickedDog.getBreed()));\r\n        ageField.setText(String.valueOf(clickedDog.getAge()));\r\n        weightField.setText(String.valueOf(clickedDog.getWeight()));\r\n    }\r\n\r\n\r\n    @FXML\r\n    void removeDog(ActionEvent event){\r\n        int selectedID = dogTable.getSelectionModel().getSelectedIndex();\r\n        dogTable.getItems().remove(selectedID);\r\n        idField.clear();\r\n        nameField.clear();\r\n        breedField.clear();\r\n        ageField.clear();\r\n        weightField.clear();\r\n        dogTable.refresh();\r\n    }\r\n\r\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\r\n        if (dogTable == null) {\r\n            throw new NullPointerException();\r\n        }\r\n    \r\n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\r\n            c.next();\r\n            final int size = dogTable.getItems().size();\r\n            if (size &gt; 0) {\r\n                dogTable.scrollTo(size - 1);\r\n            }\r\n        }));\r\n    }\r\n\r\n\r\n    private void setupTable(){\r\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\r\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\r\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\r\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\r\n\r\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\r\n    }\r\n}\r\n\r\n```\r\n\r\nDog.java\r\n```\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class Dog {\r\n\r\n    private static final AtomicInteger _ID = new AtomicInteger(0);\r\n\r\n    private String name;\r\n    private String breed;\r\n    private int age;\r\n    private int weight;\r\n    private double tailLength;\r\n    private int id;\r\n\r\n    public Dog(String name, String breed, int age, int weight){\r\n        this.id = _ID.incrementAndGet();\r\n        this.name = name;\r\n        this.breed = breed;\r\n        this.age = age;\r\n        this.weight = weight;\r\n        this.tailLength = getTailLength();\r\n    }\r\n\r\n    public double getTailLength(){\r\n\r\n        if (breed.toLowerCase().equals(&quot;tax&quot;) || breed.toLowerCase().equals(&quot;dachshund&quot;)|| breed.toLowerCase().equals(&quot;dachs&quot;)){\r\n            return 3.7;\r\n        } else {\r\n            return (age * weight) / 10.0;\r\n        }\r\n    }\r\n\r\n    public int getId() { return id; }\r\n    \r\n    public void setId(int id){ this.id = id; }\r\n    \r\n    public String getName() { return name; }\r\n    \r\n    public void setName(String name){ this.name = name; }\r\n\r\n    public String getBreed() { return breed; }\r\n\r\n    public void setBreed(String breed){this.breed = breed;}\r\n    \r\n    public int getWeight() { return weight; }\r\n\r\n    public void setWeight(int weight) { this.weight = weight; }\r\n    \r\n    public int getAge() { return age; }\r\n\r\n    public void setAge(int age) { this.age = age; }\r\n}\r\n```\r\n\r\nGUI.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.String?&gt;\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import javafx.scene.text.Text?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;900.0&quot; minWidth=&quot;1200.0&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1200.0&quot; styleClass=&quot;pane&quot; stylesheets=&quot;@StyleSheet.css&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;DogRegisterController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TableView fx:id=&quot;dogTable&quot; layoutX=&quot;586.0&quot; layoutY=&quot;160.0&quot; onMouseClicked=&quot;#rowClicked&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;600.0&quot; stylesheets=&quot;@StyleSheet.css&quot; AnchorPane.rightAnchor=&quot;60.0&quot; AnchorPane.topAnchor=&quot;100.0&quot;&gt;\r\n        &lt;columns&gt;\r\n          &lt;TableColumn fx:id=&quot;idCol&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;ID&quot; /&gt;\r\n          &lt;TableColumn fx:id=&quot;nameCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Name&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;BreedCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Breed&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;ageCol&quot; minWidth=&quot;80.0&quot; text=&quot;Age&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;weightCol&quot; minWidth=&quot;80.0&quot; text=&quot;Weight&quot; /&gt;\r\n            &lt;TableColumn fx:id=&quot;tailCol&quot; minWidth=&quot;96.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Tail-length&quot; /&gt;\r\n        &lt;/columns&gt;\r\n         &lt;columnResizePolicy&gt;\r\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\r\n         &lt;/columnResizePolicy&gt;\r\n         &lt;styleClass&gt;\r\n            &lt;String fx:value=&quot;column-header&quot; /&gt;\r\n            &lt;String fx:value=&quot;column-header-background&quot; /&gt;\r\n            &lt;String fx:value=&quot;corner&quot; /&gt;\r\n            &lt;String fx:value=&quot;filler&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-cell&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-row-cell&quot; /&gt;\r\n            &lt;String fx:value=&quot;table-view&quot; /&gt;\r\n         &lt;/styleClass&gt;\r\n      &lt;/TableView&gt;\r\n      &lt;ImageView fitHeight=&quot;100.0&quot; fitWidth=&quot;150.0&quot; layoutX=&quot;220.0&quot; layoutY=&quot;100.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n         &lt;image&gt;\r\n            &lt;Image url=&quot;@image/paw.png&quot; /&gt;\r\n         &lt;/image&gt;\r\n      &lt;/ImageView&gt;\r\n      &lt;VBox prefHeight=&quot;900.0&quot; prefWidth=&quot;560.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;ID&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;260.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;idField&quot; editable=&quot;false&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;27.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;39.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Breed&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;breedField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;127.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;57.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Age&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;ageField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;71.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Weight&quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;14.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Text&gt;\r\n            &lt;TextField fx:id=&quot;weightField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button fx:id=&quot;submitBtn&quot; alignment=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Submit&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font size=&quot;14.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n                  &lt;Button fx:id=&quot;editBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#edit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Edit&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font size=&quot;14.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Button&gt;\r\n               &lt;/children&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/HBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;Button fx:id=&quot;removeBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;770.0&quot; layoutY=&quot;825.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeDog&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Remove&quot; AnchorPane.bottomAnchor=&quot;35.0&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;14.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Button&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```","title":"javaFX tableview auto scroll to last","body":"<p>I'm new to java/javaFX so be patient with me.</p>\n<p>The problem I'm having is that I don't get auto scrolling to work.</p>\n<p>I've tried these solutions but didn't get them to work:</p>\n<p><a href=\"https://stackoverflow.com/questions/14779135/javafx-tableview-auto-scroll-to-the-last\">javafx tableview auto scroll to the last</a></p>\n<p><a href=\"https://stackoverflow.com/questions/28972021/javafx-how-to-add-changelistener-to-auto-scroll-tableview\">JavaFX how to add ChangeListener to auto scroll TableView</a></p>\n<p>Main.java</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage stage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;DogRegister.fxml&quot;));\n            Scene scene = new Scene(root);\n            stage.setScene(scene);\n            stage.setMinHeight(900);\n            stage.setMinWidth(1200);\n            stage.setResizable(false);\n            stage.setTitle(&quot;Dog Registry&quot;);\n            Image image = new Image(&quot;/image/paw.png&quot;);\n            stage.getIcons().add(image);\n            stage.show();\n\n            stage.setOnCloseRequest(event -&gt; {\n                event.consume();\n                exit(stage);\n            });\n\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void exit(Stage stage){\n\n        Alert alert = new Alert(AlertType.CONFIRMATION);\n        alert.setTitle(&quot;Exit&quot;);\n        alert.setHeaderText(&quot;You're about to exit!&quot;);\n        alert.setContentText(&quot;Are you sure you want to exit?: &quot;);\n\n        if(alert.showAndWait().get() == ButtonType.OK){\n            System.out.println(&quot;You successfully exited!&quot;);\n            stage.close();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Controller.java</p>\n<pre><code>import java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.collections.ListChangeListener;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.input.MouseEvent;\n\n\n\npublic class DogRegisterController implements Initializable {\n    \n    @FXML\n    private TableView&lt;Dog&gt; dogTable;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; idCol;\n    @FXML\n    private TableColumn&lt;Dog, String&gt; nameCol;\n    @FXML\n    private TableColumn&lt;Dog, String&gt; BreedCol;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; ageCol;\n    @FXML\n    private TableColumn&lt;Dog, Integer&gt; weightCol;\n    @FXML\n    private TableColumn&lt;Dog, Double&gt; tailCol;\n\n    @FXML\n    private TextField idField;\n    @FXML\n    private TextField nameField;\n    @FXML\n    private TextField breedField;\n    @FXML\n    private TextField ageField;\n    @FXML\n    private TextField weightField;\n\n    @FXML\n    private Button removeBtn;\n    @FXML\n    private Button submitBtn;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        idCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;id&quot;));\n        nameCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;name&quot;));\n        BreedCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, String&gt;(&quot;breed&quot;));\n        ageCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;age&quot;));\n        weightCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Integer&gt;(&quot;weight&quot;));\n        tailCol.setCellValueFactory(new PropertyValueFactory&lt;Dog, Double&gt;(&quot;tailLength&quot;)); \n\n        setupTable();\n    }\n\n    @FXML\n    void submit(ActionEvent event){\n        Dog dog = new Dog(nameField.getText(), breedField.getText(),\n                        Integer.parseInt(ageField.getText()), Integer.parseInt(weightField.getText()));\n        ObservableList&lt;Dog&gt; dogs = dogTable.getItems();\n        dogs.add(dog);\n        dogTable.setItems(dogs);\n    }\n\n    @FXML\n    void edit(ActionEvent event){\n        ObservableList&lt;Dog&gt; currentTableData = dogTable.getItems();\n        int currentDogId = Integer.parseInt(idField.getText());\n\n        for(Dog dog : currentTableData){\n            if(dog.getId() == currentDogId) {\n                dog.setId(Integer.parseInt(idField.getText()));\n                dog.setName(nameField.getText());\n                dog.setBreed(breedField.getText());\n                dog.setAge(Integer.parseInt(ageField.getText()));\n                dog.setWeight(Integer.parseInt(weightField.getText()));\n\n                dogTable.setItems(currentTableData);\n                dogTable.refresh();\n                idField.clear();\n                nameField.clear();\n                breedField.clear();\n                ageField.clear();\n                weightField.clear();\n                break;\n            }\n        }\n    }\n\n\n    @FXML\n    void rowClicked(MouseEvent event){\n        Dog clickedDog = dogTable.getSelectionModel().getSelectedItem();\n        \n        idField.setText(String.valueOf(clickedDog.getId()));\n        nameField.setText(String.valueOf(clickedDog.getName()));\n        breedField.setText(String.valueOf(clickedDog.getBreed()));\n        ageField.setText(String.valueOf(clickedDog.getAge()));\n        weightField.setText(String.valueOf(clickedDog.getWeight()));\n    }\n\n\n    @FXML\n    void removeDog(ActionEvent event){\n        int selectedID = dogTable.getSelectionModel().getSelectedIndex();\n        dogTable.getItems().remove(selectedID);\n        idField.clear();\n        nameField.clear();\n        breedField.clear();\n        ageField.clear();\n        weightField.clear();\n        dogTable.refresh();\n    }\n\n    public static &lt;S&gt; void addAutoScroll(final TableView&lt;S&gt; dogTable) {\n        if (dogTable == null) {\n            throw new NullPointerException();\n        }\n    \n        dogTable.getItems().addListener((ListChangeListener&lt;S&gt;) (c -&gt; {\n            c.next();\n            final int size = dogTable.getItems().size();\n            if (size &gt; 0) {\n                dogTable.scrollTo(size - 1);\n            }\n        }));\n    }\n\n\n    private void setupTable(){\n        Dog dog0 = new Dog(&quot;Luna&quot;, &quot;Eurasier&quot;, 3, 22);\n        Dog dog1 = new Dog(&quot;Skye&quot;, &quot;Dachshund&quot;, 4, 5);\n        Dog dog2 = new Dog(&quot;Bella&quot;, &quot;Dachs&quot;, 2, 3);\n        Dog dog3 = new Dog(&quot;Sky&quot;, &quot;Tax&quot;, 3, 3);\n\n        dogTable.getItems().addAll(dog0, dog1, dog2, dog3);\n    }\n}\n\n</code></pre>\n<p>Dog.java</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\npublic class Dog {\n\n    private static final AtomicInteger _ID = new AtomicInteger(0);\n\n    private String name;\n    private String breed;\n    private int age;\n    private int weight;\n    private double tailLength;\n    private int id;\n\n    public Dog(String name, String breed, int age, int weight){\n        this.id = _ID.incrementAndGet();\n        this.name = name;\n        this.breed = breed;\n        this.age = age;\n        this.weight = weight;\n        this.tailLength = getTailLength();\n    }\n\n    public double getTailLength(){\n\n        if (breed.toLowerCase().equals(&quot;tax&quot;) || breed.toLowerCase().equals(&quot;dachshund&quot;)|| breed.toLowerCase().equals(&quot;dachs&quot;)){\n            return 3.7;\n        } else {\n            return (age * weight) / 10.0;\n        }\n    }\n\n    public int getId() { return id; }\n    \n    public void setId(int id){ this.id = id; }\n    \n    public String getName() { return name; }\n    \n    public void setName(String name){ this.name = name; }\n\n    public String getBreed() { return breed; }\n\n    public void setBreed(String breed){this.breed = breed;}\n    \n    public int getWeight() { return weight; }\n\n    public void setWeight(int weight) { this.weight = weight; }\n    \n    public int getAge() { return age; }\n\n    public void setAge(int age) { this.age = age; }\n}\n</code></pre>\n<p>GUI.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.String?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;AnchorPane fx:id=&quot;mainPane&quot; minHeight=&quot;900.0&quot; minWidth=&quot;1200.0&quot; prefHeight=&quot;900.0&quot; prefWidth=&quot;1200.0&quot; styleClass=&quot;pane&quot; stylesheets=&quot;@StyleSheet.css&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;DogRegisterController&quot;&gt;\n   &lt;children&gt;\n      &lt;TableView fx:id=&quot;dogTable&quot; layoutX=&quot;586.0&quot; layoutY=&quot;160.0&quot; onMouseClicked=&quot;#rowClicked&quot; prefHeight=&quot;700.0&quot; prefWidth=&quot;600.0&quot; stylesheets=&quot;@StyleSheet.css&quot; AnchorPane.rightAnchor=&quot;60.0&quot; AnchorPane.topAnchor=&quot;100.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;idCol&quot; minWidth=&quot;50.0&quot; prefWidth=&quot;50.0&quot; text=&quot;ID&quot; /&gt;\n          &lt;TableColumn fx:id=&quot;nameCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Name&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;BreedCol&quot; minWidth=&quot;140.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Breed&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;ageCol&quot; minWidth=&quot;80.0&quot; text=&quot;Age&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;weightCol&quot; minWidth=&quot;80.0&quot; text=&quot;Weight&quot; /&gt;\n            &lt;TableColumn fx:id=&quot;tailCol&quot; minWidth=&quot;96.0&quot; prefWidth=&quot;96.0&quot; text=&quot;Tail-length&quot; /&gt;\n        &lt;/columns&gt;\n         &lt;columnResizePolicy&gt;\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot; /&gt;\n         &lt;/columnResizePolicy&gt;\n         &lt;styleClass&gt;\n            &lt;String fx:value=&quot;column-header&quot; /&gt;\n            &lt;String fx:value=&quot;column-header-background&quot; /&gt;\n            &lt;String fx:value=&quot;corner&quot; /&gt;\n            &lt;String fx:value=&quot;filler&quot; /&gt;\n            &lt;String fx:value=&quot;table-cell&quot; /&gt;\n            &lt;String fx:value=&quot;table-row-cell&quot; /&gt;\n            &lt;String fx:value=&quot;table-view&quot; /&gt;\n         &lt;/styleClass&gt;\n      &lt;/TableView&gt;\n      &lt;ImageView fitHeight=&quot;100.0&quot; fitWidth=&quot;150.0&quot; layoutX=&quot;220.0&quot; layoutY=&quot;100.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n         &lt;image&gt;\n            &lt;Image url=&quot;@image/paw.png&quot; /&gt;\n         &lt;/image&gt;\n      &lt;/ImageView&gt;\n      &lt;VBox prefHeight=&quot;900.0&quot; prefWidth=&quot;560.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;ID&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;260.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;idField&quot; editable=&quot;false&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Name&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;nameField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;27.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;39.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Breed&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;breedField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;127.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;57.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Age&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;ageField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;144.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;Text layoutX=&quot;10.0&quot; layoutY=&quot;71.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Weight&quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;14.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;100.0&quot; right=&quot;100.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Text&gt;\n            &lt;TextField fx:id=&quot;weightField&quot; layoutX=&quot;10.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; styleClass=&quot;text-field&quot; stylesheets=&quot;@StyleSheet.css&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/TextField&gt;\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;submitBtn&quot; alignment=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#submit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Submit&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font size=&quot;14.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n                  &lt;Button fx:id=&quot;editBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;10.0&quot; layoutY=&quot;10.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#edit&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Edit&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font size=&quot;14.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets left=&quot;25.0&quot; right=&quot;25.0&quot; top=&quot;10.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Button&gt;\n               &lt;/children&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;5.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;5.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/HBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;Button fx:id=&quot;removeBtn&quot; alignment=&quot;CENTER&quot; layoutX=&quot;770.0&quot; layoutY=&quot;825.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#removeDog&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;140.0&quot; stylesheets=&quot;@../../Assignment-3/src/style.css&quot; text=&quot;Remove&quot; AnchorPane.bottomAnchor=&quot;35.0&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;14.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n"},{"tags":["java","hibernate","logging","jboss","slf4j"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1666363528,"post_id":74154748,"comment_id":130926516,"body_markdown":"You need to add the slf4j binding to the jdk logger, may I ask why you don&#39;t want to &quot;add the slf4j dependency&quot;?","body":"You need to add the slf4j binding to the jdk logger, may I ask why you don&#39;t want to &quot;add the slf4j dependency&quot;?"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1666364760,"post_id":74154748,"comment_id":130926927,"body_markdown":"I never add a dependency if I can prevent it. In theory, I would need to fully code review everything I add (compare Software Engineering by Ian Sommerville). To me it seems like nobody does it, but the least thing I can do is keep additional packages as low as feasible. I need Hibernate, I cannot omit JBoss Logging, but according to the documentation, I can omit SLF4J. Of course, that is an older version, which is why I am asking.","body":"I never add a dependency if I can prevent it. In theory, I would need to fully code review everything I add (compare Software Engineering by Ian Sommerville). To me it seems like nobody does it, but the least thing I can do is keep additional packages as low as feasible. I need Hibernate, I cannot omit JBoss Logging, but according to the documentation, I can omit SLF4J. Of course, that is an older version, which is why I am asking."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1666367738,"post_id":74154748,"comment_id":130928070,"body_markdown":"I think you&#39;re getting this message because slf4j is on your classpath, so you want to omit it but you already seem to be using it, albeit without any binding","body":"I think you&#39;re getting this message because slf4j is on your classpath, so you want to omit it but you already seem to be using it, albeit without any binding"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1666369184,"post_id":74154748,"comment_id":130928578,"body_markdown":"So far I can just say you are correct - I will update once I have found which dependency is loading it.","body":"So far I can just say you are correct - I will update once I have found which dependency is loading it."},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1666373243,"post_id":74154748,"comment_id":130929817,"body_markdown":"slf4j (the API) is pretty hard to avoid these days","body":"slf4j (the API) is pretty hard to avoid these days"}],"answers":[{"tags":[],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666446579,"creation_date":1666446579,"answer_id":74164117,"question_id":74154748,"body_markdown":"I realized that it was not vanilla Hibernate that caused the error. I am also using hibernate-spatial and consequently geolatte-geom. That one is not using JBoss logging and instead always goes through SLF4J. So even though Hibernate went through JDK logging, SLF4J was still loaded. I have now unhappily added slf4j-jdk14 and the error is gone. It&#39;s still more layers and source code sources than I am happy with, but probably a lot less than in other programming ecosystems. ","title":"Setting Hibernate Logging Provider with Version 6.1","body":"<p>I realized that it was not vanilla Hibernate that caused the error. I am also using hibernate-spatial and consequently geolatte-geom. That one is not using JBoss logging and instead always goes through SLF4J. So even though Hibernate went through JDK logging, SLF4J was still loaded. I have now unhappily added slf4j-jdk14 and the error is gone. It's still more layers and source code sources than I am happy with, but probably a lot less than in other programming ecosystems.</p>\n"}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74164117,"answer_count":1,"score":0,"last_activity_date":1666446579,"creation_date":1666360595,"question_id":74154748,"body_markdown":"I am using Hibernate 6.1.2. I&#39;d like to log use the default JDK logging provider. [According to a documentation for 5.4][1], this can be done like this:\r\n\r\n    public class TestSL4JBug {\r\n\t\tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;org.jboss.logging.provider&quot;, &quot;jdk&quot;);\r\n    \t\tjakarta.persistence.Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);\t\t\r\n\t\t}\r\n\t}\r\n\r\nI looked for a similar explanation in newer documentations, but I did not find it.\r\n\r\nAlas, if I am testing the minimal example above, I get this:\r\n\r\n...\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    MLog initialization issue: slf4j found no binding or threatened to use its (dangerously silent) NOPLogger. We consider the slf4j library not found.\r\n\r\n...\r\n\r\nTo me, this looks like Hibernate tries to load SLF4J and fails. I have, of course, found guides that say I should add the SLF4J dependency, but that is not what I want.\r\n\r\nSo my question is: How do I configure Hibernate 6.1.2 to log with JDK logging? Has the property changed, or should I use a better way to set it?\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/logging/Logging.html","title":"Setting Hibernate Logging Provider with Version 6.1","body":"<p>I am using Hibernate 6.1.2. I'd like to log use the default JDK logging provider. <a href=\"https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/logging/Logging.html\" rel=\"nofollow noreferrer\">According to a documentation for 5.4</a>, this can be done like this:</p>\n<pre><code>public class TestSL4JBug {\n    public static void main(String[] args) {\n        System.setProperty(&quot;org.jboss.logging.provider&quot;, &quot;jdk&quot;);\n        jakarta.persistence.Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);        \n    }\n}\n</code></pre>\n<p>I looked for a similar explanation in newer documentations, but I did not find it.</p>\n<p>Alas, if I am testing the minimal example above, I get this:</p>\n<p>...</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nMLog initialization issue: slf4j found no binding or threatened to use its (dangerously silent) NOPLogger. We consider the slf4j library not found.\n</code></pre>\n<p>...</p>\n<p>To me, this looks like Hibernate tries to load SLF4J and fails. I have, of course, found guides that say I should add the SLF4J dependency, but that is not what I want.</p>\n<p>So my question is: How do I configure Hibernate 6.1.2 to log with JDK logging? Has the property changed, or should I use a better way to set it?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"owner":{"account_id":21249672,"reputation":51,"user_id":15632017,"display_name":"Edward Cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666446549,"creation_date":1666433845,"question_id":74162682,"body_markdown":"I&#39;m quite new to Apache Kafka. I read a lot and I thought having understood the partitions and consumer groups mechanism. But I have an issue.\r\n\r\nI have 2 spring boot projects. Both of them implement an apache kafka consumer.\r\nFor both of them the kafka parameters are defined in the application.properties file of each project. Following the common parameters:\r\n\r\n    spring.kafka.bootstrap-servers=localhost:9092\r\n    spring.kafka.consumer.auto-offset-reset=latest\r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n\r\nThe 2 consumers belong to 2 different consumer groups. To achieve this goal I added a property in the application.properties file of each project. For the consumer 1 I defined the property:\r\n\r\n    kafka.consumer.group.id=GROUP.ID.SERVICE.ONE\r\n\r\nFor the consumer 2 I defined the property:\r\n\r\n    kafka.consumer.group.id=GROUP.ID.SERVICE.TWO\r\n\r\nThis way, in the service one I created a java class with the annotation @Service and defined the following kafka listener method:\r\n\r\n    @KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\r\n    public void consumeTopic(String kafkaMessage) {\r\n    //Do something\t\t\r\n    }\r\n\r\nFor the service 2 I did the same:\r\n\r\n    @KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\r\n    public void consumeTopic(String kafkaMessage) {\r\n    //Do something\t\t\r\n    }\r\n\r\nThere are no other applications belonging the same group of these consumers.\r\nThis way I was sure that both of them will receive the kafka message. But I was wrong: the application 2 does not receive the kafka topic if the application 1 is running (and it receives he topic). i performed a lot of tests and I can say that the application 2 receives the messages from kafka only if the application 1 is off.\r\n\r\nWhat am I wrong? Further information: Apache kafka is installed on single node.","title":"Apache kafka Spring boot consumer not receiving topics when another consumer is running","body":"<p>I'm quite new to Apache Kafka. I read a lot and I thought having understood the partitions and consumer groups mechanism. But I have an issue.</p>\n<p>I have 2 spring boot projects. Both of them implement an apache kafka consumer.\nFor both of them the kafka parameters are defined in the application.properties file of each project. Following the common parameters:</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost:9092\nspring.kafka.consumer.auto-offset-reset=latest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>The 2 consumers belong to 2 different consumer groups. To achieve this goal I added a property in the application.properties file of each project. For the consumer 1 I defined the property:</p>\n<pre><code>kafka.consumer.group.id=GROUP.ID.SERVICE.ONE\n</code></pre>\n<p>For the consumer 2 I defined the property:</p>\n<pre><code>kafka.consumer.group.id=GROUP.ID.SERVICE.TWO\n</code></pre>\n<p>This way, in the service one I created a java class with the annotation @Service and defined the following kafka listener method:</p>\n<pre><code>@KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\npublic void consumeTopic(String kafkaMessage) {\n//Do something      \n}\n</code></pre>\n<p>For the service 2 I did the same:</p>\n<pre><code>@KafkaListener(topics = &quot;${my.topic}&quot;, groupId = &quot;${kafka.consumer.group.id}&quot;, autoStartup = &quot;true&quot; )\npublic void consumeTopic(String kafkaMessage) {\n//Do something      \n}\n</code></pre>\n<p>There are no other applications belonging the same group of these consumers.\nThis way I was sure that both of them will receive the kafka message. But I was wrong: the application 2 does not receive the kafka topic if the application 1 is running (and it receives he topic). i performed a lot of tests and I can say that the application 2 receives the messages from kafka only if the application 1 is off.</p>\n<p>What am I wrong? Further information: Apache kafka is installed on single node.</p>\n"},{"tags":["java","javafx","java-11","javafx-11","javafx-17"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":4,"creation_date":1666443406,"post_id":74163720,"comment_id":130940841,"body_markdown":"Yes, javafx has it&#39;s own version numbers. javafx 17 does not require java 17. You can try the hello world pom.xml files for javafx 17 with java 11 and maven rather easily.","body":"Yes, javafx has it&#39;s own version numbers. javafx 17 does not require java 17. You can try the hello world pom.xml files for javafx 17 with java 11 and maven rather easily."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1666443418,"post_id":74163720,"comment_id":130940846,"body_markdown":"https://github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17.md _&quot;JavaFX 17 requires JDK 11 or later.&quot;_","body":"<a href=\"https://github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17.md\" rel=\"nofollow noreferrer\">github.com/openjdk/jfx/blob/jfx17/doc-files/release-notes-17&zwnj;&#8203;.md</a> <i>&quot;JavaFX 17 requires JDK 11 or later.&quot;</i>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666453987,"post_id":74163720,"comment_id":130943044,"body_markdown":"Always read the documentation before posting here.","body":"Always read the documentation before posting here."}],"owner":{"account_id":26700906,"reputation":9,"user_id":20307971,"display_name":"Thijzert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666445962,"answer_count":0,"score":0,"last_activity_date":1666445409,"creation_date":1666443069,"question_id":74163720,"body_markdown":"Is it possible to use JavaFX 17 with Java 11? I want to keep using Java 11 because I use it a lot and I don&#39;t want to switch over to Java 17. But can I run JavaFX 17 while using Java 11?\r\n\r\nI have tried to find it on the internet, but I couldn&#39;t find it. The reason I ask this question is: I ran a script with maven where I could see if there were any updates available for my dependencies. This is what I saw:\r\n```none\r\n[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ testproject ---\r\n[INFO] The following dependencies in Dependencies have newer versions:\r\n[INFO]   org.openjfx:javafx-controls ............................ 11 -&gt; 17\r\n[INFO]   org.openjfx:javafx-media ............................... 11 -&gt; 17\r\n```\r\n","title":"Using JavaFX 17 while using Java 11","body":"<p>Is it possible to use JavaFX 17 with Java 11? I want to keep using Java 11 because I use it a lot and I don't want to switch over to Java 17. But can I run JavaFX 17 while using Java 11?</p>\n<p>I have tried to find it on the internet, but I couldn't find it. The reason I ask this question is: I ran a script with maven where I could see if there were any updates available for my dependencies. This is what I saw:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- versions-maven-plugin:2.8.1:display-dependency-updates (default-cli) @ testproject ---\n[INFO] The following dependencies in Dependencies have newer versions:\n[INFO]   org.openjfx:javafx-controls ............................ 11 -&gt; 17\n[INFO]   org.openjfx:javafx-media ............................... 11 -&gt; 17\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":6,"creation_date":1666445105,"post_id":74163905,"comment_id":130941173,"body_markdown":"**No**. There is no way to securely run user provided code. Java tried with Applets. It was called the &quot;[sandbox](https://www.webopedia.com/definitions/sandbox/)&quot;. It was not secure.","body":"<b>No</b>. There is no way to securely run user provided code. Java tried with Applets. It was called the &quot;<a href=\"https://www.webopedia.com/definitions/sandbox/\" rel=\"nofollow noreferrer\">sandbox</a>&quot;. It was not secure."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1666445315,"post_id":74163905,"comment_id":130941206,"body_markdown":"Depends what you mean by &#39;secure&#39; though.  If you&#39;ll accept &quot;can destroy the JVM environment but do no damage to the host system&quot;, then the usual OS process-isolation techniques apply. But no, you can&#39;t protect code in the JVM from code in the JVM.","body":"Depends what you mean by &#39;secure&#39; though.  If you&#39;ll accept &quot;can destroy the JVM environment but do no damage to the host system&quot;, then the usual OS process-isolation techniques apply. But no, you can&#39;t protect code in the JVM from code in the JVM."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":3,"creation_date":1666445471,"post_id":74163905,"comment_id":130941231,"body_markdown":"You can add protection to some degree by using `SecurityManager` which has been deprecated though. See [here](https://openjdk.org/jeps/411) for some reasoning for the deprecation.","body":"You can add protection to some degree by using <code>SecurityManager</code> which has been deprecated though. See <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">here</a> for some reasoning for the deprecation."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666461858,"post_id":74163905,"comment_id":130944756,"body_markdown":"So how do the various “fiddle” web sites handle user-posted code that executes on the server?","body":"So how do the various “fiddle” web sites handle user-posted code that executes on the server?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666474013,"post_id":74163905,"comment_id":130947039,"body_markdown":"I think they execute a separate sandboxed process, likely using Linux containers for further isolation","body":"I think they execute a separate sandboxed process, likely using Linux containers for further isolation"}],"owner":{"account_id":270162,"reputation":7734,"user_id":559940,"accept_rate":74,"display_name":"Ailef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666444739,"creation_date":1666444739,"question_id":74163905,"body_markdown":"I&#39;m developing a multiplayer game where the player has to provide code that will run inside a physics-based simulation.\r\n\r\nThe simulation runs in Java, and each player has to provide a class implementing a specific Interface (so not completely arbitrary code).\r\n\r\nThe player-provided code has to run inside the same main process, as it needs access to the physics simulation and any other solution won&#39;t allow to keep things fast enough.\r\n\r\nIs there a way to implement this securely given these constraints?","title":"How to safely run user-provided Java code?","body":"<p>I'm developing a multiplayer game where the player has to provide code that will run inside a physics-based simulation.</p>\n<p>The simulation runs in Java, and each player has to provide a class implementing a specific Interface (so not completely arbitrary code).</p>\n<p>The player-provided code has to run inside the same main process, as it needs access to the physics simulation and any other solution won't allow to keep things fast enough.</p>\n<p>Is there a way to implement this securely given these constraints?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1451467310,"post_id":34526362,"comment_id":56794263,"body_markdown":"There is no &#39;peculiar behaviour of `ArrayList.size()` &#39;here. You&#39;re not even getting there.","body":"There is no &#39;peculiar behaviour of <code>ArrayList.size()</code> &#39;here. You&#39;re not even getting there."},{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451470038,"post_id":34526362,"comment_id":56795805,"body_markdown":"Ok , Will change the title","body":"Ok , Will change the title"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1451510007,"post_id":34526362,"comment_id":56816690,"body_markdown":"Possible duplicate of [ArrayList initial capacity and IndexOutOfBoundsException](http://stackoverflow.com/questions/11908037/arraylist-initial-capacity-and-indexoutofboundsexception)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11908037/arraylist-initial-capacity-and-indexoutofboundsexception\">ArrayList initial capacity and IndexOutOfBoundsException</a>"},{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451543318,"post_id":34526362,"comment_id":56826104,"body_markdown":"I am not convinced by the answer provided there , Answer provided by ERAN i think is much simpler and self explanatory. Hence not a duplicate","body":"I am not convinced by the answer provided there , Answer provided by ERAN i think is much simpler and self explanatory. Hence not a duplicate"},{"owner":{"account_id":953294,"reputation":2389,"user_id":1090666,"display_name":"Mike Ryan"},"score":0,"creation_date":1535564360,"post_id":34526362,"comment_id":91116811,"body_markdown":"This is a duplicate of the much clearer question and answer in https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist","body":"This is a duplicate of the much clearer question and answer in <a href=\"https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist\" title=\"initial size for the arraylist\">stackoverflow.com/questions/8896758/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"score":0,"creation_date":1451467175,"post_id":34526379,"comment_id":56794188,"body_markdown":"I updated my question , it was not properly explained before please check now","body":"I updated my question , it was not properly explained before please check now"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":7,"creation_date":1451467319,"post_id":34526379,"comment_id":56794270,"body_markdown":"@ShowStopper What&#39;s not properly explained? An ArrayList is initialized to a 0 length, regardless of its initial capacity, unless you are using a constructor that initializes the ArrayList with the elements of another Collection.","body":"@ShowStopper What&#39;s not properly explained? An ArrayList is initialized to a 0 length, regardless of its initial capacity, unless you are using a constructor that initializes the ArrayList with the elements of another Collection."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1451467408,"creation_date":1451466841,"answer_id":34526379,"question_id":34526362,"body_markdown":"`test.set(5, &quot;test&quot;);` is the statement that throws this exception, since your `ArrayList` is empty (`size()` would return `0` if you got to that statement), and you can&#39;t set the i&#39;th element if it doesn&#39;t already contain a value. You must add at least 6 elements to your `ArrayList` in order for `test.set(5, &quot;test&quot;);` to be valid.\r\n\r\n`new ArrayList(10)` doesn&#39;t create an `ArrayList` whose size is 10. It creates an empty `ArrayList` whose initial capacity is 10.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>test.set(5, \"test\");</code> is the statement that throws this exception, since your <code>ArrayList</code> is empty (<code>size()</code> would return <code>0</code> if you got to that statement), and you can't set the i'th element if it doesn't already contain a value. You must add at least 6 elements to your <code>ArrayList</code> in order for <code>test.set(5, \"test\");</code> to be valid.</p>\n\n<p><code>new ArrayList(10)</code> doesn't create an <code>ArrayList</code> whose size is 10. It creates an empty <code>ArrayList</code> whose initial capacity is 10.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1451467074,"creation_date":1451467074,"answer_id":34526438,"question_id":34526362,"body_markdown":"The exception is not thrown by `test.size()` but by `test.set(5, &quot;test&quot;);`. This is because you are setting an element at index 5 but the list is currently empty.\r\n\r\n    List test = new ArrayList(10);\r\n\r\ndoes not create a list initialized with 10 `null` elements. It creates a list that has an initial capacity of 10 elements, that is the backing array has a size of 10, but the list itself is still empty.\r\n\r\nIf you want to initialize a list with 10 `null` elements, you can use\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(10, null));\r\n\r\n&lt;hr&gt;\r\n\r\nAs a side note, [you should never use raw types](https://stackoverflow.com/q/2770321/1743880) like `List` but always prefer a parameterized list.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>The exception is not thrown by <code>test.size()</code> but by <code>test.set(5, \"test\");</code>. This is because you are setting an element at index 5 but the list is currently empty.</p>\n\n<pre><code>List test = new ArrayList(10);\n</code></pre>\n\n<p>does not create a list initialized with 10 <code>null</code> elements. It creates a list that has an initial capacity of 10 elements, that is the backing array has a size of 10, but the list itself is still empty.</p>\n\n<p>If you want to initialize a list with 10 <code>null</code> elements, you can use</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(10, null));\n</code></pre>\n\n<hr>\n\n<p>As a side note, <a href=\"https://stackoverflow.com/q/2770321/1743880\">you should never use raw types</a> like <code>List</code> but always prefer a parameterized list.</p>\n"},{"tags":[],"owner":{"account_id":7546932,"reputation":63,"user_id":5729601,"display_name":"Programming_Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451470924,"creation_date":1451469295,"answer_id":34527076,"question_id":34526362,"body_markdown":"`List test = new ArrayList(10);` creates empty list which would have capacity of 10 elements.It is not containing element at 6th position so you will not be able to set element at this position.","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>List test = new ArrayList(10);</code> creates empty list which would have capacity of 10 elements.It is not containing element at 6th position so you will not be able to set element at this position.</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451493676,"creation_date":1451493676,"answer_id":34533480,"question_id":34526362,"body_markdown":"`List test = new ArrayList(10);` creates **empty** `ArrayList` of raw types (`Object`) with initial capacity(*capacity of list initially, initialize internal array with length 10*) not to be confused with size(*number of elements list contains*). \r\n\r\nTo understand more first note that `ArrayList` is nothing but *manipulation* of *array* to dynamically change size of the array which we were not able to do with array directly. Ultimately, it&#39;s a ***smart*** array. \r\n\r\nBy setting *initial capacity* we are telling `ArrayList` to create size of array `10` initially (by default initial capacity is `10`). \r\n\r\nThis is what constructor is doing,\r\n\r\n    public ArrayList(int initialCapacity) {\r\n        super();\r\n        if (initialCapacity &lt; 0)\r\n            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+\r\n                                               initialCapacity);\r\n        this.elementData = new Object[initialCapacity];//creates initial array\r\n    }\r\n\r\nYou can increase or decrease it accordingly, say you are sure that you are going to need list with `20` elements it&#39;ll be better to set initial capacity at start. It avoids *resizing* of array if you are sure about minimum number of elements you will definitely have in list. \r\n\r\n`test.set(5, &quot;test&quot;);` method ***replaces*** element at specific position here it will going to replace element at index `5` with `test`. But our list is empty, it does not have any element. \r\n\r\nDocumentation of this method says, \r\n\r\n&gt; `IndexOutOfBoundsException` - if the `index` is out of range (`index &lt; 0`  **||**\r\n&gt; `index &gt;= size()`)\r\n\r\nNote that size of list is `0` so index (`5`) is greater than size(`0`).","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p><code>List test = new ArrayList(10);</code> creates <strong>empty</strong> <code>ArrayList</code> of raw types (<code>Object</code>) with initial capacity(<em>capacity of list initially, initialize internal array with length 10</em>) not to be confused with size(<em>number of elements list contains</em>). </p>\n\n<p>To understand more first note that <code>ArrayList</code> is nothing but <em>manipulation</em> of <em>array</em> to dynamically change size of the array which we were not able to do with array directly. Ultimately, it's a <strong><em>smart</em></strong> array. </p>\n\n<p>By setting <em>initial capacity</em> we are telling <code>ArrayList</code> to create size of array <code>10</code> initially (by default initial capacity is <code>10</code>). </p>\n\n<p>This is what constructor is doing,</p>\n\n<pre><code>public ArrayList(int initialCapacity) {\n    super();\n    if (initialCapacity &lt; 0)\n        throw new IllegalArgumentException(\"Illegal Capacity: \"+\n                                           initialCapacity);\n    this.elementData = new Object[initialCapacity];//creates initial array\n}\n</code></pre>\n\n<p>You can increase or decrease it accordingly, say you are sure that you are going to need list with <code>20</code> elements it'll be better to set initial capacity at start. It avoids <em>resizing</em> of array if you are sure about minimum number of elements you will definitely have in list. </p>\n\n<p><code>test.set(5, \"test\");</code> method <strong><em>replaces</em></strong> element at specific position here it will going to replace element at index <code>5</code> with <code>test</code>. But our list is empty, it does not have any element. </p>\n\n<p>Documentation of this method says, </p>\n\n<blockquote>\n  <p><code>IndexOutOfBoundsException</code> - if the <code>index</code> is out of range (<code>index &lt; 0</code>  <strong>||</strong>\n  <code>index &gt;= size()</code>)</p>\n</blockquote>\n\n<p>Note that size of list is <code>0</code> so index (<code>5</code>) is greater than size(<code>0</code>).</p>\n"},{"tags":[],"owner":{"account_id":9281995,"reputation":374,"user_id":6892962,"display_name":"nzala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477055113,"creation_date":1477055113,"answer_id":40177439,"question_id":34526362,"body_markdown":"Replaces the element at the specified position in this list with the specified element.\r\n\r\n    set\r\n\r\nParameters\r\n\r\nindex\r\nint: index of the element to replace\r\n\r\nelement\r\nE: element to be stored at the specified position\r\n\r\nReturns\r\nE\r\nthe element previously at the specified position\r\n\r\nThrows\r\n\r\n    IndexOutOfBoundsException\r\n\r\n","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>Replaces the element at the specified position in this list with the specified element.</p>\n\n<pre><code>set\n</code></pre>\n\n<p>Parameters</p>\n\n<p>index\nint: index of the element to replace</p>\n\n<p>element\nE: element to be stored at the specified position</p>\n\n<p>Returns\nE\nthe element previously at the specified position</p>\n\n<p>Throws</p>\n\n<pre><code>IndexOutOfBoundsException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666444404,"creation_date":1666444404,"answer_id":74163873,"question_id":34526362,"body_markdown":"The thing is that your list **&quot;Test&quot;** is **empty** and when you are trying to\r\n\r\nexecute this statement **test.set(5, &quot;test&quot;);** it won&#39;t be able to set that \r\n\r\nvalue in the list &amp; will show `Out of bounds exception` as it will not create 10 empty spaces.\r\n\r\nSo, you can initialize your list before:\r\n\r\n    for(int i=0;i&lt;10;i++)  // As you took ten in your code\r\n     \r\n    {\r\n    test.add(null);   // some people also use test.add(0) instead of null , \r\n                     //but &#39;0&#39; also contains a value &amp; considering your code please use null   \r\n    }  \r\n\r\n","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>The thing is that your list <strong>&quot;Test&quot;</strong> is <strong>empty</strong> and when you are trying to</p>\n<p>execute this statement <strong>test.set(5, &quot;test&quot;);</strong> it won't be able to set that</p>\n<p>value in the list &amp; will show <code>Out of bounds exception</code> as it will not create 10 empty spaces.</p>\n<p>So, you can initialize your list before:</p>\n<pre><code>for(int i=0;i&lt;10;i++)  // As you took ten in your code\n \n{\ntest.add(null);   // some people also use test.add(0) instead of null , \n                 //but '0' also contains a value &amp; considering your code please use null   \n}  \n</code></pre>\n"}],"owner":{"account_id":4761031,"reputation":11006,"user_id":3848411,"accept_rate":60,"display_name":"Joker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4637,"favorite_count":0,"down_vote_count":4,"up_vote_count":18,"accepted_answer_id":34526379,"answer_count":6,"score":14,"last_activity_date":1666444404,"creation_date":1451466767,"question_id":34526362,"body_markdown":"While working on `ArrayList`, I found after setting the initial size of array using the constructor with `initialCapacity`, then use `set()` will throw an exception although the array is created, but size isn&#39;t set correctly. \r\n\r\nUsing `ensureCapacity()` won&#39;t work either because it is based on the `elementData` array instead of `size`.\r\n\r\nThere are other side effects because of the static `DEFAULT_CAPACITY` with `ensureCapacity()`.\r\n\r\nThe only way to make this work is to use add() as many time as required after using the constructor. \r\n  \r\nPlease check the code below.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList test = new ArrayList(10);\r\n\t\ttest.set(5, &quot;test&quot;);\r\n\t\tSystem.out.println(test.size());\r\n\t}\r\n\r\n\r\nI am not sure why java is throwing this exception.\r\n\r\nBehaviour I expected: `test.size()` should return 10 and set(5, ...) should  work.\r\n\r\nACTUAL: throws an Exception `IndexOutOfBoundsException`.\r\n\r\nSo is it set  method that is causing problem ?","title":"Set Method of ArrayList throwing IndexOutOfBoundsException","body":"<p>While working on <code>ArrayList</code>, I found after setting the initial size of array using the constructor with <code>initialCapacity</code>, then use <code>set()</code> will throw an exception although the array is created, but size isn't set correctly. </p>\n\n<p>Using <code>ensureCapacity()</code> won't work either because it is based on the <code>elementData</code> array instead of <code>size</code>.</p>\n\n<p>There are other side effects because of the static <code>DEFAULT_CAPACITY</code> with <code>ensureCapacity()</code>.</p>\n\n<p>The only way to make this work is to use add() as many time as required after using the constructor. </p>\n\n<p>Please check the code below.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\npublic static void main(String[] args) {\n\n    List test = new ArrayList(10);\n    test.set(5, \"test\");\n    System.out.println(test.size());\n}\n</code></pre>\n\n<p>I am not sure why java is throwing this exception.</p>\n\n<p>Behaviour I expected: <code>test.size()</code> should return 10 and set(5, ...) should  work.</p>\n\n<p>ACTUAL: throws an Exception <code>IndexOutOfBoundsException</code>.</p>\n\n<p>So is it set  method that is causing problem ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"score":0,"creation_date":1666441232,"post_id":74163338,"comment_id":130940386,"body_markdown":"That&#39;s quite close to what I&#39;m looking for, but how would I go about adding different numbers of variables into constructor.newInstance() ?","body":"That&#39;s quite close to what I&#39;m looking for, but how would I go about adding different numbers of variables into constructor.newInstance() ?"},{"owner":{"account_id":18084758,"reputation":134,"user_id":13145959,"display_name":"trauni"},"score":0,"creation_date":1666441377,"post_id":74163338,"comment_id":130940419,"body_markdown":"Make the constructor accept an array of objects, this way you can choose how many parameters you give it.","body":"Make the constructor accept an array of objects, this way you can choose how many parameters you give it."},{"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"score":0,"creation_date":1666444038,"post_id":74163338,"comment_id":130940962,"body_markdown":"Thank you so much for directing me toward the right link, I&#39;ve managed to get it working now!","body":"Thank you so much for directing me toward the right link, I&#39;ve managed to get it working now!"}],"owner":{"account_id":26700996,"reputation":1,"user_id":20308046,"display_name":"tryingThingsOut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666444053,"answer_count":0,"score":0,"last_activity_date":1666444302,"creation_date":1666439857,"question_id":74163338,"body_markdown":"I have a few objects stored in multiple CSV files, and would like to:\r\n\r\n 1. Read the CSV file\r\n 2. Create objects based on the read tokens\r\n 3. Store and return the created objects into an arraylist.\r\n\r\nOf course, creating separate functions for each object would be simple, but that would be tedious if I were to have a large number of objects to read in.\r\n\r\nIs it possible to create a single function that is able to do all this dynamically?\r\n\r\nSomething like:\r\n\r\n```\r\npublic ArrayList readFromCSV(String objectName){\r\n  //generic all in one code\r\n}\r\n```\r\nor\r\n```\r\npublic ArrayList readFromCSV(Class classItself){\r\n  //generic all in one code\r\n}\r\n```\r\n\r\nEssentially I&#39;m trying to do the opposite of the following:\r\n```\r\npublic static void saveArray(String filename, List al) throws IOException {\r\n    List alw = new ArrayList();// to store Professors data\r\n    for (Object obj : al) {\r\n        try {\r\n            Class c = obj.getClass();\r\n            Field[] fields = c.getDeclaredFields();\r\n            int noOfFields = fields.length;\r\n            StringBuilder st = new StringBuilder();\r\n            for (int i = 0; i &lt; noOfFields; i++) {\r\n                // System.out.println(&quot;The field is: &quot; + fields[i].getName());\r\n                Field field = obj.getClass().getDeclaredField(fields[i].getName());\r\n                field.setAccessible(true);\r\n                Object value = field.get(obj);\r\n                st.append(value.toString().trim());\r\n                if (i != noOfFields - 1) {\r\n                    st.append(SEPARATOR);\r\n                }\r\n            }\r\n            alw.add(st.toString());\r\n            write(filename, alw);\r\n        } catch (Exception e) {\r\n            System.out.println(e.toString());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Create a function that creates object &quot;X&quot; with tokens imported from a csv file dynamically?","body":"<p>I have a few objects stored in multiple CSV files, and would like to:</p>\n<ol>\n<li>Read the CSV file</li>\n<li>Create objects based on the read tokens</li>\n<li>Store and return the created objects into an arraylist.</li>\n</ol>\n<p>Of course, creating separate functions for each object would be simple, but that would be tedious if I were to have a large number of objects to read in.</p>\n<p>Is it possible to create a single function that is able to do all this dynamically?</p>\n<p>Something like:</p>\n<pre><code>public ArrayList readFromCSV(String objectName){\n  //generic all in one code\n}\n</code></pre>\n<p>or</p>\n<pre><code>public ArrayList readFromCSV(Class classItself){\n  //generic all in one code\n}\n</code></pre>\n<p>Essentially I'm trying to do the opposite of the following:</p>\n<pre><code>public static void saveArray(String filename, List al) throws IOException {\n    List alw = new ArrayList();// to store Professors data\n    for (Object obj : al) {\n        try {\n            Class c = obj.getClass();\n            Field[] fields = c.getDeclaredFields();\n            int noOfFields = fields.length;\n            StringBuilder st = new StringBuilder();\n            for (int i = 0; i &lt; noOfFields; i++) {\n                // System.out.println(&quot;The field is: &quot; + fields[i].getName());\n                Field field = obj.getClass().getDeclaredField(fields[i].getName());\n                field.setAccessible(true);\n                Object value = field.get(obj);\n                st.append(value.toString().trim());\n                if (i != noOfFields - 1) {\n                    st.append(SEPARATOR);\n                }\n            }\n            alw.add(st.toString());\n            write(filename, alw);\n        } catch (Exception e) {\n            System.out.println(e.toString());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","2d"],"comments":[{"owner":{"account_id":26683599,"reputation":7,"user_id":20293241,"display_name":"theadvocate"},"score":0,"creation_date":1666337004,"post_id":74142634,"comment_id":130917342,"body_markdown":"I need to get the result of multiplying (1,5,9) with (7,5,3). I can get the sum of the elements, but I can not get the multiplying result of the elements. E.g 1*5*9*7*5*3=","body":"I need to get the result of multiplying (1,5,9) with (7,5,3). I can get the sum of the elements, but I can not get the multiplying result of the elements. E.g 1*5*9*7*5*3="}],"owner":{"account_id":26683599,"reputation":7,"user_id":20293241,"display_name":"theadvocate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666444226,"creation_date":1666280289,"question_id":74142634,"body_markdown":"I have this method to find the result of multiplying the primary and secondary diagonal of a 2d Array\r\n\r\n```\r\npublic static int produsDiagonle(int[][] coloane) {\r\n        int produsulDiagonalelor = 0;\r\n        for (int row = 0; row &lt; coloane.length; row++) {\r\n\r\n            produsulDiagonalelor = produsulDiagonalelor + (coloane[row][row] * coloane[row][coloane.length - row - 1]);\r\n\r\n\r\n        }\r\n        return produsulDiagonalelor;\r\n    }\r\n```\r\n\r\nThe array is this: \r\n\r\n```\r\nint[][] vector2 = {\r\n                {1, 2, 3},\r\n                {4, 5, 6},\r\n                {7, 8, 9}};\r\n```\r\n\r\nI have done previously 2 methods to find the sum of the main and the secondary diagonal, which are working as expected (returning 15 for the main one:1,5,6 and 15 for the secondary one: 7,5,3), but for this method, I can not for the life of me return the multiplication value, it seems to add something than multiply something and then add some more, as it returns the value of 91.\r\n\r\n\r\n","title":"Returning the the product of all elements of both diagonals value ( primary and secondary diagonal:(1,5,9) with (7,5,3))of an 2d Array","body":"<p>I have this method to find the result of multiplying the primary and secondary diagonal of a 2d Array</p>\n<pre><code>public static int produsDiagonle(int[][] coloane) {\n        int produsulDiagonalelor = 0;\n        for (int row = 0; row &lt; coloane.length; row++) {\n\n            produsulDiagonalelor = produsulDiagonalelor + (coloane[row][row] * coloane[row][coloane.length - row - 1]);\n\n\n        }\n        return produsulDiagonalelor;\n    }\n</code></pre>\n<p>The array is this:</p>\n<pre><code>int[][] vector2 = {\n                {1, 2, 3},\n                {4, 5, 6},\n                {7, 8, 9}};\n</code></pre>\n<p>I have done previously 2 methods to find the sum of the main and the secondary diagonal, which are working as expected (returning 15 for the main one:1,5,6 and 15 for the secondary one: 7,5,3), but for this method, I can not for the life of me return the multiplication value, it seems to add something than multiply something and then add some more, as it returns the value of 91.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666443855,"post_id":74163760,"comment_id":130940923,"body_markdown":"have you tried to run the project see if error go away","body":"have you tried to run the project see if error go away"},{"owner":{"account_id":24286991,"reputation":15,"user_id":18232615,"display_name":"Saadia"},"score":0,"creation_date":1666447787,"post_id":74163760,"comment_id":130941687,"body_markdown":"I executed the code it executes successfully and shows the desired output but that error and red line are still there, and in the problems tab, it shows &quot;unresolved reference: java&quot;","body":"I executed the code it executes successfully and shows the desired output but that error and red line are still there, and in the problems tab, it shows &quot;unresolved reference: java&quot;"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666448133,"post_id":74163760,"comment_id":130941770,"body_markdown":"It can be Ide aka Android Studio&#39;s bug so relax nothing to worry about ;)","body":"It can be Ide aka Android Studio&#39;s bug so relax nothing to worry about ;)"}],"owner":{"account_id":24286991,"reputation":15,"user_id":18232615,"display_name":"Saadia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666443463,"creation_date":1666443463,"question_id":74163760,"body_markdown":"The IDE shows an error in .java. please tell me what is wrong here.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i0U86.png\r\n\r\n\r\n\r\n    Handler().postDelayed({\r\n            Toast.makeText(applicationContext,&quot;This is Splash Screen&quot;,Toast.LENGTH_SHORT).show()\r\n            val intent = Intent(this, ScreenTwo::class.java)\r\n            startActivity(intent)\r\n            finish()\r\n        }, SPLASH_TIMER.toLong())\r\n\r\n    }","title":"Error when passing intent from one activity to another activity in Kotlin, android studio","body":"<p>The IDE shows an error in .java. please tell me what is wrong here.\n<a href=\"https://i.stack.imgur.com/i0U86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i0U86.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Handler().postDelayed({\n        Toast.makeText(applicationContext,&quot;This is Splash Screen&quot;,Toast.LENGTH_SHORT).show()\n        val intent = Intent(this, ScreenTwo::class.java)\n        startActivity(intent)\n        finish()\n    }, SPLASH_TIMER.toLong())\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","soap-client","spring-ws"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666441082,"post_id":74163414,"comment_id":130940353,"body_markdown":"Apparently, the soap service your are calling won&#39;t permit you to do that:  *&quot;The HTTP 403 Forbidden response status code indicates that the server understands the request but refuses to authorize it.  This status is similar to 401, but for the 403 Forbidden status code, re-authenticating makes no difference. The access is permanently forbidden and tied to the application logic, such as insufficient rights to a resource.&quot;* (source https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403)","body":"Apparently, the soap service your are calling won&#39;t permit you to do that:  <i>&quot;The HTTP 403 Forbidden response status code indicates that the server understands the request but refuses to authorize it.  This status is similar to 401, but for the 403 Forbidden status code, re-authenticating makes no difference. The access is permanently forbidden and tied to the application logic, such as insufficient rights to a resource.&quot;</i> (source <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/403</a>)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666441157,"post_id":74163414,"comment_id":130940371,"body_markdown":"So ... basically ... you need to figure out *why* it is not permitted.  I don&#39;t know how we can help you with that.","body":"So ... basically ... you need to figure out <i>why</i> it is not permitted.  I don&#39;t know how we can help you with that."},{"owner":{"account_id":6844303,"reputation":239,"user_id":5263595,"accept_rate":62,"display_name":"Rahul"},"score":0,"creation_date":1666757167,"post_id":74163414,"comment_id":131009342,"body_markdown":"Thanks @StephenC, the same code is working older versions of spring boot , but sure ill give a try where this is happening.","body":"Thanks @StephenC, the same code is working older versions of spring boot , but sure ill give a try where this is happening."}],"owner":{"account_id":6844303,"reputation":239,"user_id":5263595,"accept_rate":62,"display_name":"Rahul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666440406,"creation_date":1666440406,"question_id":74163414,"body_markdown":"We are getting below exception while trying to call a soap service through spring boot :    &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\nClass:\r\n\r\n    public class Client extends WebServiceGatewaySupport {\r\n\r\n    @Autowired\r\n    private MessageSender messageSender ;\r\n\r\nRequest :\r\n\r\n    RequestTest request = new RequestTest ();\r\n    \trequest.setSRequestXML(&quot;XML CONTENT&quot;);\r\n\r\nClient Method: \r\n\t\r\n\r\n    WebServiceTemplate serviceTemplate = getWebServiceTemplate();\r\n    \t\tserviceTemplate.setMessageSender(messageSender);\r\n    \t\tResponseTest response = (ResponseTest) serviceTemplate.marshalSendAndReceive(url, request,\r\n    \t\t\t\tnew SoapActionCallback(callBack));\r\n\r\nBelow error is on last line above : \r\n\r\n    org.springframework.ws.client.WebServiceTransportException: Forbidden [403]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:609)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390)\r\n\r\nAny thoughts please help","title":"org.springframework.ws.client.WebServiceTransportException: Forbidden [403] Spring boot soap call","body":"<p>We are getting below exception while trying to call a soap service through spring boot :    2.1.3.RELEASE\nClass:</p>\n<pre><code>public class Client extends WebServiceGatewaySupport {\n\n@Autowired\nprivate MessageSender messageSender ;\n</code></pre>\n<p>Request :</p>\n<pre><code>RequestTest request = new RequestTest ();\n    request.setSRequestXML(&quot;XML CONTENT&quot;);\n</code></pre>\n<p>Client Method:</p>\n<pre><code>WebServiceTemplate serviceTemplate = getWebServiceTemplate();\n        serviceTemplate.setMessageSender(messageSender);\n        ResponseTest response = (ResponseTest) serviceTemplate.marshalSendAndReceive(url, request,\n                new SoapActionCallback(callBack));\n</code></pre>\n<p>Below error is on last line above :</p>\n<pre><code>org.springframework.ws.client.WebServiceTransportException: Forbidden [403]\n    at org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:609)\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555)\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390)\n</code></pre>\n<p>Any thoughts please help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":80280,"reputation":8732,"user_id":227103,"accept_rate":91,"display_name":"YuppieNetworking"},"score":0,"creation_date":1274095094,"post_id":2848508,"comment_id":2891584,"body_markdown":"See http://stackoverflow.com/questions/122105/java-what-is-the-best-way-to-filter-a-collection","body":"See <a href=\"http://stackoverflow.com/questions/122105/java-what-is-the-best-way-to-filter-a-collection\" title=\"java what is the best way to filter a collection\">stackoverflow.com/questions/122105/&hellip;</a>"},{"owner":{"account_id":177420,"reputation":5055,"user_id":408738,"accept_rate":84,"display_name":"Sujee"},"score":0,"creation_date":1274095192,"post_id":2848508,"comment_id":21954858,"body_markdown":"Similar question http://stackoverflow.com/questions/2846771/how-to-selectively-filter-items-in-a-collection","body":"Similar question <a href=\"http://stackoverflow.com/questions/2846771/how-to-selectively-filter-items-in-a-collection\" title=\"how to selectively filter items in a collection\">stackoverflow.com/questions/2846771/&hellip;</a>"},{"owner":{"account_id":95749,"reputation":16830,"user_id":260594,"accept_rate":86,"display_name":"TCM"},"score":0,"creation_date":1274096000,"post_id":2848508,"comment_id":2891683,"body_markdown":"Thanks Yuppie. Yours is the most relevant answer.","body":"Thanks Yuppie. Yours is the most relevant answer."},{"owner":{"account_id":61045,"reputation":2660,"user_id":182094,"accept_rate":78,"display_name":"NT_"},"score":1,"creation_date":1318070141,"post_id":2848508,"comment_id":9357525,"body_markdown":"You can do objList.select(idEqualTo(2)) when using this library https://github.com/nicholas22/jpropel-light. You have to define the function idEqualTo() but it&#39;s a one-liner.","body":"You can do objList.select(idEqualTo(2)) when using this library <a href=\"https://github.com/nicholas22/jpropel-light\" rel=\"nofollow noreferrer\">github.com/nicholas22/jpropel-light</a>. You have to define the function idEqualTo() but it&#39;s a one-liner."}],"answers":[{"comments":[{"owner":{"account_id":95749,"reputation":16830,"user_id":260594,"accept_rate":86,"display_name":"TCM"},"score":1,"creation_date":1274095507,"post_id":2848524,"comment_id":2891628,"body_markdown":"Well, i am not worried about running time. I am more worried about my coding time (my productivity). Just one extra method call is not going to miserably slow down my application. And i don&#39;t want to use Hashtable kind of data structure. Actually i want something similar to what Linq offers in .Net where you can directly query a collection","body":"Well, i am not worried about running time. I am more worried about my coding time (my productivity). Just one extra method call is not going to miserably slow down my application. And i don&#39;t want to use Hashtable kind of data structure. Actually i want something similar to what Linq offers in .Net where you can directly query a collection"},{"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"score":0,"creation_date":1274096063,"post_id":2848524,"comment_id":2891691,"body_markdown":"@Nitesh, Sorry not familiar with .NET. But you cannot query a collection in Java as in your example (there may be some 3rd party frameworks or libraries that do this).","body":"@Nitesh, Sorry not familiar with .NET. But you cannot query a collection in Java as in your example (there may be some 3rd party frameworks or libraries that do this)."}],"tags":[],"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274095102,"creation_date":1274095102,"answer_id":2848524,"question_id":2848508,"body_markdown":"Even if this was a supported feature of the language, then it would be Java that would need to do the iterating, so you&#39;re back at square one (in terms on time complexity).\r\n\r\nWhat you&#39;re looking for is associative mapping. This can be achieved with HashMap. If you want to associate by more than one type of property for example id AND name, then you could make two HashMaps, one whose key is id and one whose key is name.\r\n\r\nThis of course doesn&#39;t scale very well if you want to query for many properties, so the next step would be using an Object oriented database such as Hibernate which will allow you to query the database for objects exactly as in your example.","title":"Can I query a List?","body":"<p>Even if this was a supported feature of the language, then it would be Java that would need to do the iterating, so you're back at square one (in terms on time complexity).</p>\n\n<p>What you're looking for is associative mapping. This can be achieved with HashMap. If you want to associate by more than one type of property for example id AND name, then you could make two HashMaps, one whose key is id and one whose key is name.</p>\n\n<p>This of course doesn't scale very well if you want to query for many properties, so the next step would be using an Object oriented database such as Hibernate which will allow you to query the database for objects exactly as in your example.</p>\n"},{"tags":[],"owner":{"account_id":47063,"reputation":828,"user_id":139265,"accept_rate":100,"display_name":"p4553d"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274095206,"creation_date":1274095206,"answer_id":2848532,"question_id":2848508,"body_markdown":"short: no, you can&#39;t\r\n\r\nlong: you can write own data structure and hash/index fields of object for some more efficient search. but this is not a list, more `HashMap` or so.","title":"Can I query a List?","body":"<p>short: no, you can't</p>\n\n<p>long: you can write own data structure and hash/index fields of object for some more efficient search. but this is not a list, more <code>HashMap</code> or so.</p>\n"},{"comments":[{"owner":{"account_id":47063,"reputation":828,"user_id":139265,"accept_rate":100,"display_name":"p4553d"},"score":1,"creation_date":1274857619,"post_id":2848632,"comment_id":2961574,"body_markdown":"stylish, eventually slow, contains implicit loop","body":"stylish, eventually slow, contains implicit loop"}],"tags":[],"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439890716,"creation_date":1274096074,"answer_id":2848632,"question_id":2848508,"body_markdown":"If you want something like linq for java, check out [quaere](https://github.com/anoras/Quaere)\r\n\r\n----------\r\n\r\n**Edit:** At this point, quaere looks like it is unmaintained.  With Java 7 being EOL, you should be on Java 8 whose [Stream API][1] should get you most of the way there when compared to Linq&#39;s dot syntax.  See [this page][2] for some examples.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html","title":"Can I query a List?","body":"<p>If you want something like linq for java, check out <a href=\"https://github.com/anoras/Quaere\" rel=\"nofollow noreferrer\">quaere</a></p>\n\n<hr>\n\n<p><strong>Edit:</strong> At this point, quaere looks like it is unmaintained.  With Java 7 being EOL, you should be on Java 8 whose <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Stream API</a> should get you most of the way there when compared to Linq's dot syntax.  See <a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\" rel=\"nofollow noreferrer\">this page</a> for some examples.</p>\n"},{"tags":[],"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1274096110,"creation_date":1274096110,"answer_id":2848639,"question_id":2848508,"body_markdown":"Libraries with functional, well, functionality such as [functionaljava][1] provide such \r\nmethods.\r\n\r\nYou&#39;d need to use its own `List` implementation which is incompatible to native Javas `(Array)List` or convert between the two. \r\n\r\nAn Example:\r\n\r\n    import fj.data.Java\r\n    import fj.data.List\r\n    import fj.F\r\n    \r\n    // Converting an ArrayList\r\n    fj.data.List&lt;SomeObject&gt; objList2 = Java.ArrayList_List().f(objList);\r\n    \r\n    fj.data.List&lt;SomeObject&gt; filteredObjList = objList2.filter(new F&lt;SomeObject, Boolean&gt;() {\r\n      Boolean f(SomeObject c) { return c.id == 2; } \r\n    });\r\n    \r\n    // Converting back to ArrayList\r\n    java.util.List&lt;SomeObject&gt; objList2 = Java.List_ArrayList().f(filteredObjList );\r\n\r\nBy using functionaljava&#39;s `List` through out of your project you would avoid the converting.\r\n\r\n[1]: http://functionaljava.org/","title":"Can I query a List?","body":"<p>Libraries with functional, well, functionality such as <a href=\"http://functionaljava.org/\" rel=\"noreferrer\">functionaljava</a> provide such \nmethods.</p>\n\n<p>You'd need to use its own <code>List</code> implementation which is incompatible to native Javas <code>(Array)List</code> or convert between the two. </p>\n\n<p>An Example:</p>\n\n<pre><code>import fj.data.Java\nimport fj.data.List\nimport fj.F\n\n// Converting an ArrayList\nfj.data.List&lt;SomeObject&gt; objList2 = Java.ArrayList_List().f(objList);\n\nfj.data.List&lt;SomeObject&gt; filteredObjList = objList2.filter(new F&lt;SomeObject, Boolean&gt;() {\n  Boolean f(SomeObject c) { return c.id == 2; } \n});\n\n// Converting back to ArrayList\njava.util.List&lt;SomeObject&gt; objList2 = Java.List_ArrayList().f(filteredObjList );\n</code></pre>\n\n<p>By using functionaljava's <code>List</code> through out of your project you would avoid the converting.</p>\n"},{"tags":[],"owner":{"account_id":451780,"reputation":6004,"user_id":847853,"accept_rate":68,"display_name":"Low Flying Pelican"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374488201,"creation_date":1374488201,"answer_id":17784997,"question_id":2848508,"body_markdown":"Probably this will help someone,\r\n\r\nhttp://code.google.com/p/joquery/\r\n\r\nthis library supports following code structure,\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n        .where()\r\n        .property(&quot;id&quot;).eq().value(1);\r\n    Collection&lt;Dto&gt; filtered = query.list();","title":"Can I query a List?","body":"<p>Probably this will help someone,</p>\n\n<p><a href=\"http://code.google.com/p/joquery/\" rel=\"nofollow\">http://code.google.com/p/joquery/</a></p>\n\n<p>this library supports following code structure,</p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n    .where()\n    .property(\"id\").eq().value(1);\nCollection&lt;Dto&gt; filtered = query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1320054,"reputation":526,"user_id":1266071,"accept_rate":43,"display_name":"Der Zinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395918960,"creation_date":1395918960,"answer_id":22685940,"question_id":2848508,"body_markdown":"Here\r\nhttps://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like\r\nyou can see some nice option/ I&#39;ve sopped on this one actually.\r\n","title":"Can I query a List?","body":"<p>Here\n<a href=\"https://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like\">How do you query object collections in Java (Criteria/SQL-like)?</a>\nyou can see some nice option/ I've sopped on this one actually.</p>\n"}],"owner":{"account_id":95749,"reputation":16830,"user_id":260594,"accept_rate":86,"display_name":"TCM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27774,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":2848632,"answer_count":6,"score":7,"last_activity_date":1666440272,"creation_date":1274094886,"question_id":2848508,"body_markdown":"Say I have \r\n\r\n``` java\r\n    List&lt;SomeObject&gt; objList = new ArrayList&lt;SomeObject&gt;();\r\n```\r\n\r\nIf SomeObject contains a field named id. Can we find it through some query like\r\n\r\n``` java\r\nobjList.filter(&#39;id=2&#39;);\r\n```\r\n\r\nwithout looping through the list? If not, then why? This can be such a useful method and can be used as an alternative to write a tedious for loop.\r\n\r\n\r\n\r\n\r\n","title":"Can I query a List?","body":"<p>Say I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;SomeObject&gt; objList = new ArrayList&lt;SomeObject&gt;();\n</code></pre>\n<p>If SomeObject contains a field named id. Can we find it through some query like</p>\n<pre class=\"lang-java prettyprint-override\"><code>objList.filter('id=2');\n</code></pre>\n<p>without looping through the list? If not, then why? This can be such a useful method and can be used as an alternative to write a tedious for loop.</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":0,"creation_date":1479037772,"post_id":40573342,"comment_id":68382523,"body_markdown":"Perhaps you want to post a [Minimal, Complete, and Verifiable version of your code](http://stackoverflow.com/help/mcve), so that others have chance to point you in the right direction.","body":"Perhaps you want to post a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable version of your code</a>, so that others have chance to point you in the right direction."}],"answers":[{"comments":[{"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"score":1,"creation_date":1479039133,"post_id":40573493,"comment_id":68382930,"body_markdown":"Thanks man it was it ... That what happenned when you take code from someone else and read it too fast : my bad :/","body":"Thanks man it was it ... That what happenned when you take code from someone else and read it too fast : my bad :/"}],"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1479037831,"creation_date":1479037831,"answer_id":40573493,"question_id":40573342,"body_markdown":"Look for the `hibernate.hbm2ddl.auto` setting. Probably you have set it to `create-drop`.","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>Look for the <code>hibernate.hbm2ddl.auto</code> setting. Probably you have set it to <code>create-drop</code>.</p>\n"},{"tags":[],"owner":{"account_id":1794574,"reputation":1448,"user_id":1634263,"accept_rate":71,"display_name":"Niranjan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1479038277,"creation_date":1479038277,"answer_id":40573552,"question_id":40573342,"body_markdown":"Place in application.properties/application.yml\r\n\r\n&gt; spring.jpa.hibernate.ddl-auto=update\r\n\r\nThis property can be set with values \r\n\r\n    1. update (Update the schema if necessary)\r\n    2. create (create the schema and destroy previous data)\r\n    3. create-drop (create and then destroy the schema at the end of the session)\r\n    4. none (disable ddl handling)\r\n    5. validate (validate the schema , make no changes to the database)","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>Place in application.properties/application.yml</p>\n\n<blockquote>\n  <p>spring.jpa.hibernate.ddl-auto=update</p>\n</blockquote>\n\n<p>This property can be set with values </p>\n\n<pre><code>1. update (Update the schema if necessary)\n2. create (create the schema and destroy previous data)\n3. create-drop (create and then destroy the schema at the end of the session)\n4. none (disable ddl handling)\n5. validate (validate the schema , make no changes to the database)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5643369,"reputation":374,"user_id":4466363,"display_name":"Arunkumar Arjunan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1547138976,"creation_date":1547138976,"answer_id":54133386,"question_id":40573342,"body_markdown":"    spring.jpa.hibernate.ddl-auto=none\r\n\r\nthis worked for me and it didn&#39;t messed up with the table and just used it.","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n\n<p>this worked for me and it didn't messed up with the table and just used it.</p>\n"},{"tags":[],"owner":{"account_id":975547,"reputation":511,"user_id":9550551,"display_name":"Didier Breedt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597323849,"creation_date":1597323849,"answer_id":63395824,"question_id":40573342,"body_markdown":"Some additional information as I found myself here not understanding why Spring would default to `create-drop`:\r\n\r\n&gt; `spring.jpa.hibernate.ddl-auto` `String`: \r\nDDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot; property. Defaults to &quot;create-drop&quot; when using an embedded database and no schema manager was detected. Otherwise, defaults to &quot;none&quot;.\r\n\r\nSource: Javadoc","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>Some additional information as I found myself here not understanding why Spring would default to <code>create-drop</code>:</p>\n<blockquote>\n<p><code>spring.jpa.hibernate.ddl-auto</code> <code>String</code>:\nDDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot; property. Defaults to &quot;create-drop&quot; when using an embedded database and no schema manager was detected. Otherwise, defaults to &quot;none&quot;.</p>\n</blockquote>\n<p>Source: Javadoc</p>\n"},{"tags":[],"owner":{"account_id":25083438,"reputation":1,"user_id":18935928,"display_name":"Praniket More"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651654257,"creation_date":1651654257,"answer_id":72110235,"question_id":40573342,"body_markdown":"    spring.jpa.hibernate.ddl-auto=validate\r\n\r\nadd this line in **applications.properties** file. This worked for me.","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<pre><code>spring.jpa.hibernate.ddl-auto=validate\n</code></pre>\n<p>add this line in <strong>applications.properties</strong> file. This worked for me.</p>\n"}],"owner":{"account_id":8289373,"reputation":1762,"user_id":6231539,"accept_rate":71,"display_name":"Antoine Grenard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21040,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":40573552,"answer_count":5,"score":11,"last_activity_date":1666439665,"creation_date":1479036904,"question_id":40573342,"body_markdown":"I&#39;m new with Spring. I finally succeeded to build my application with no error but when i&#39;m looking to the output i have a lot of information that i don&#39;t understand. \r\n\r\nFirst this error each tables,  it seems to be a Hibernate/Spring bug : \r\n\r\n    Hibernate: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\r\n            2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\r\n            2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : ERREUR: la relation &#171; entity.administrationaction &#187; n&#39;existe pas \r\n\r\nThen this for each table : \r\n\r\n    Hibernate: drop table if exists entity.administrationaction cascade\r\n\r\nThen this for each table : \r\n \r\n    Hibernate: create table entity.administrationaction (id  serial not null, action int4, creation_date timestamp, entity_class varchar(255), entity_id int4, message varchar(255), administrator_id int4, primary key (id))\r\n\r\n\r\nSo it is like Spring was trying to drop all my database and recreate it. Why ? Is it normal or have i done something wrong ? ","title":"Hibernate : Why is it trying to drop/create database on startup?","body":"<p>I'm new with Spring. I finally succeeded to build my application with no error but when i'm looking to the output i have a lot of information that i don't understand. </p>\n\n<p>First this error each tables,  it seems to be a Hibernate/Spring bug : </p>\n\n<pre><code>Hibernate: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\n        2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: alter table entity.administrationaction drop constraint FKjaafjywumaavhae5kjyo34gx5\n        2016-11-13 12:16:41.475 ERROR 2156 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : ERREUR: la relation « entity.administrationaction » n'existe pas \n</code></pre>\n\n<p>Then this for each table : </p>\n\n<pre><code>Hibernate: drop table if exists entity.administrationaction cascade\n</code></pre>\n\n<p>Then this for each table : </p>\n\n<pre><code>Hibernate: create table entity.administrationaction (id  serial not null, action int4, creation_date timestamp, entity_class varchar(255), entity_id int4, message varchar(255), administrator_id int4, primary key (id))\n</code></pre>\n\n<p>So it is like Spring was trying to drop all my database and recreate it. Why ? Is it normal or have i done something wrong ? </p>\n"},{"tags":["java","geometry","drawing","coordinates"],"comments":[{"owner":{"account_id":14401266,"reputation":1400,"user_id":10402819,"display_name":"mettleap"},"score":0,"creation_date":1570866161,"post_id":58351952,"comment_id":103058012,"body_markdown":"Hello, could you explain with an example how the coordinates are expressed per row?","body":"Hello, could you explain with an example how the coordinates are expressed per row?"},{"owner":{"account_id":14831141,"reputation":77,"user_id":10990598,"display_name":"Bhavin S."},"score":1,"creation_date":1570866509,"post_id":58351952,"comment_id":103058090,"body_markdown":"@mettleap I have update question. Please check.","body":"@mettleap I have update question. Please check."},{"owner":{"account_id":14401266,"reputation":1400,"user_id":10402819,"display_name":"mettleap"},"score":0,"creation_date":1570866843,"post_id":58351952,"comment_id":103058154,"body_markdown":"@ArvindKumarAvinash, I was going to say the same thing ...","body":"@ArvindKumarAvinash, I was going to say the same thing ..."},{"owner":{"account_id":14401266,"reputation":1400,"user_id":10402819,"display_name":"mettleap"},"score":0,"creation_date":1570866867,"post_id":58351952,"comment_id":103058160,"body_markdown":"@BhavinS. can ew assume that the coordinates on the first line are the start point?","body":"@BhavinS. can ew assume that the coordinates on the first line are the start point?"},{"owner":{"account_id":14831141,"reputation":77,"user_id":10990598,"display_name":"Bhavin S."},"score":0,"creation_date":1570867262,"post_id":58351952,"comment_id":103058230,"body_markdown":"Yes, coordinates on the first line are the start point","body":"Yes, coordinates on the first line are the start point"}],"answers":[{"comments":[{"owner":{"account_id":14831141,"reputation":77,"user_id":10990598,"display_name":"Bhavin S."},"score":0,"creation_date":1570872084,"post_id":58352493,"comment_id":103059259,"body_markdown":"Every time this code give only first list of connected lines.\nGoal is to find all the connected lines.","body":"Every time this code give only first list of connected lines. Goal is to find all the connected lines."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1570947362,"creation_date":1570870700,"answer_id":58352493,"question_id":58351952,"body_markdown":"**Updated based on the following assumptions:**\r\n\r\n 1. The first line of coordinates given in the question represents the coordinates of the first line in the set of connected lines\r\n 2. After finding the first set of connected lines, the first **unused** line of remaining lines of coordinates given in the question will be considered as the coordinates of the first line in the next set of connected lines and so on until the list of coordinates given in the question exhaust.\r\n\r\nThe required logic is in `Main.java`. I have also created `Point.java` and `Line.java` to test the logic. Feel free to let me know if you face any issue.\r\n\r\n**Point.java**\r\n\r\n\r\n    public class Point {\r\n    \tint x,y;\r\n    \r\n    \tpublic Point(int x, int y) {\r\n    \t\tsuper();\r\n    \t\tthis.x = x;\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \tpublic int getX() {\r\n    \t\treturn x;\r\n    \t}\r\n    \r\n    \tpublic void setX(int x) {\r\n    \t\tthis.x = x;\r\n    \t}\r\n    \r\n    \tpublic int getY() {\r\n    \t\treturn y;\r\n    \t}\r\n    \r\n    \tpublic void setY(int y) {\r\n    \t\tthis.y = y;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Point [x=&quot; + x + &quot;, y=&quot; + y + &quot;]&quot;;\r\n    \t}\t\r\n    }\r\n\r\n\r\n**Line.java**\r\n\r\n\r\n\r\n    public class Line {\r\n    \tint x1,y1,x2,y2;\r\n    \tPoint start,end;\r\n    \tboolean used;\r\n    \tpublic Line(int x1, int y1, int x2, int y2) {\r\n    \t\tsuper();\r\n    \t\tthis.x1 = x1;\r\n    \t\tthis.y1 = y1;\r\n    \t\tthis.x2 = x2;\r\n    \t\tthis.y2 = y2;\r\n    \t}\r\n    \tpublic Line(Point start, Point end) {\r\n    \t\tsuper();\r\n    \t\tthis.start = start;\r\n    \t\tthis.end = end;\r\n    \t}\r\n    \tpublic int getX1() {\r\n    \t\treturn x1;\r\n    \t}\r\n    \tpublic void setX1(int x1) {\r\n    \t\tthis.x1 = x1;\r\n    \t}\r\n    \tpublic int getY1() {\r\n    \t\treturn y1;\r\n    \t}\r\n    \tpublic void setY1(int y1) {\r\n    \t\tthis.y1 = y1;\r\n    \t}\r\n    \tpublic int getX2() {\r\n    \t\treturn x2;\r\n    \t}\r\n    \tpublic void setX2(int x2) {\r\n    \t\tthis.x2 = x2;\r\n    \t}\r\n    \tpublic int getY2() {\r\n    \t\treturn y2;\r\n    \t}\r\n    \tpublic void setY2(int y2) {\r\n    \t\tthis.y2 = y2;\r\n    \t}\r\n    \tpublic Point getStart() {\r\n    \t\treturn start;\r\n    \t}\r\n    \tpublic void setStart(Point start) {\r\n    \t\tthis.start = start;\r\n    \t}\r\n    \tpublic Point getEnd() {\r\n    \t\treturn end;\r\n    \t}\r\n    \tpublic void setEnd(Point end) {\r\n    \t\tthis.end = end;\r\n    \t}\r\n    \tpublic boolean isUsed() {\r\n    \t\treturn used;\r\n    \t}\r\n    \tpublic void setUsed(boolean used) {\r\n    \t\tthis.used = used;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Line [x1=&quot; + x1 + &quot;, y1=&quot; + y1 + &quot;, x2=&quot; + x2 + &quot;, y2=&quot; + y2 + &quot;]&quot;;\r\n    \t}\t\r\n    }\r\n\r\n\r\n**Main.java**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    class Main {\r\n        public static void main(String args[]) {\r\n            List&lt;Line&gt; givenLines = new ArrayList&lt;Line&gt;();\r\n            givenLines.add(new Line(3350, 1500, 3200, 1500));\r\n            givenLines.add(new Line(1450, 1750, 1450, 2200));\r\n            givenLines.add(new Line(1450, 2200, 2100, 2200));\r\n            givenLines.add(new Line(2400, 2200, 2550, 2200));\r\n            givenLines.add(new Line(2550, 2200, 2550, 2350));\r\n            givenLines.add(new Line(2550, 2350, 2850, 2350));\r\n            givenLines.add(new Line(2850, 2350, 2850, 2700));\r\n            givenLines.add(new Line(2850, 2700, 3350, 2700));\r\n            givenLines.add(new Line(3650, 2700, 3750, 2700));\r\n            givenLines.add(new Line(3750, 2700, 3750, 2600));\r\n            givenLines.add(new Line(3750, 2600, 5250, 2600));\r\n            givenLines.add(new Line(5250, 2600, 5250, 2350));\r\n            givenLines.add(new Line(5250, 2350, 5000, 2350));\r\n            givenLines.add(new Line(4700, 2350, 4350, 2350));\r\n            givenLines.add(new Line(4350, 2350, 4350, 1600));\r\n            givenLines.add(new Line(4350, 1600, 3650, 1600));\r\n            givenLines.add(new Line(3650, 1600, 3650, 1500));\r\n            givenLines.add(new Line(3200, 1500, 3200, 1750));\r\n            givenLines.add(new Line(3200, 1750, 1450, 1750));\r\n    \r\n            int linesIndex, usedCounter=0;\r\n            List&lt;List&lt;Line&gt;&gt; listOfConnectedLines = new ArrayList&lt;List&lt;Line&gt;&gt;();\r\n    \r\n            //The start (first) line, in the list of given lines, to be processed to find the first set of connected lines\r\n            Line startLineforTheNextSetOfConnectedLines=givenLines.get(0);\r\n            startLineforTheNextSetOfConnectedLines.setUsed(true);\r\n            usedCounter = 1;        \r\n    \r\n            //Process the list of given lines until all the lines have been used to form the connected lines\r\n            while (usedCounter &lt; givenLines.size()) {\r\n    \r\n                linesIndex = 0;         \r\n                List&lt;Line&gt; connectedLines = new ArrayList&lt;Line&gt;();\r\n                connectedLines.add(linesIndex, startLineforTheNextSetOfConnectedLines);     \r\n                Line nextLine=null;\r\n                \r\n                //Starting with startLineforTheNextSetOfConnectedLines, the variable lastArrangedLine will hold the next lines qualifying to become the connected line \r\n                Line lastArrangedLine=startLineforTheNextSetOfConnectedLines;\r\n    \r\n                //Create the list of connected lines starting with startLineforTheNextSetOfConnectedLines\r\n                for (int i = 0; i &lt; givenLines.size(); i++) {\r\n                    for (int j = 0; j &lt; givenLines.size(); j++) {\r\n                        nextLine=givenLines.get(j);\r\n                        if (!nextLine.isUsed() &amp;&amp; lastArrangedLine.getX2() == nextLine.getX1()\r\n                                &amp;&amp; lastArrangedLine.getY2() == nextLine.getY1()) {\r\n                            nextLine.setUsed(true);\r\n                            usedCounter++;\r\n                            connectedLines.add(++linesIndex, nextLine);\r\n                            lastArrangedLine = nextLine;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                //Add the list of connected lines (found from the above nested for loops) to the list of connected lines\r\n                listOfConnectedLines.add(connectedLines);\r\n    \r\n                //Find the start (first) line for the next set of connected lines\r\n                for (int i = 0; i &lt; givenLines.size(); i++) {\r\n                    if(!givenLines.get(i).isUsed()) {\r\n                        startLineforTheNextSetOfConnectedLines=givenLines.get(i);\r\n                        startLineforTheNextSetOfConnectedLines.setUsed(true);\r\n                        usedCounter++;                  \r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            //Display the lists of connected lines\r\n            for(List&lt;Line&gt; connectedLines:listOfConnectedLines)\r\n                System.out.println(connectedLines);\r\n        }\r\n    }\r\n\r\n\r\n**Output for the given list of lines:**\r\n\r\n    [Line [x1=3350, y1=1500, x2=3200, y2=1500], Line [x1=3200, y1=1500, x2=3200, y2=1750], Line [x1=3200, y1=1750, x2=1450, y2=1750], Line [x1=1450, y1=1750, x2=1450, y2=2200], Line [x1=1450, y1=2200, x2=2100, y2=2200]]\r\n    [Line [x1=2400, y1=2200, x2=2550, y2=2200], Line [x1=2550, y1=2200, x2=2550, y2=2350], Line [x1=2550, y1=2350, x2=2850, y2=2350], Line [x1=2850, y1=2350, x2=2850, y2=2700], Line [x1=2850, y1=2700, x2=3350, y2=2700]]\r\n    [Line [x1=3650, y1=2700, x2=3750, y2=2700], Line [x1=3750, y1=2700, x2=3750, y2=2600], Line [x1=3750, y1=2600, x2=5250, y2=2600], Line [x1=5250, y1=2600, x2=5250, y2=2350], Line [x1=5250, y1=2350, x2=5000, y2=2350]]\r\n    [Line [x1=4700, y1=2350, x2=4350, y2=2350], Line [x1=4350, y1=2350, x2=4350, y2=1600], Line [x1=4350, y1=1600, x2=3650, y2=1600], Line [x1=3650, y1=1600, x2=3650, y2=1500]]\r\n\r\n","title":"I have list of coordinates and My requirement is to arrange it","body":"<p><strong>Updated based on the following assumptions:</strong></p>\n\n<ol>\n<li>The first line of coordinates given in the question represents the coordinates of the first line in the set of connected lines</li>\n<li>After finding the first set of connected lines, the first <strong>unused</strong> line of remaining lines of coordinates given in the question will be considered as the coordinates of the first line in the next set of connected lines and so on until the list of coordinates given in the question exhaust.</li>\n</ol>\n\n<p>The required logic is in <code>Main.java</code>. I have also created <code>Point.java</code> and <code>Line.java</code> to test the logic. Feel free to let me know if you face any issue.</p>\n\n<p><strong>Point.java</strong></p>\n\n<pre><code>public class Point {\n    int x,y;\n\n    public Point(int x, int y) {\n        super();\n        this.x = x;\n        this.y = y;\n    }\n    public int getX() {\n        return x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n    @Override\n    public String toString() {\n        return \"Point [x=\" + x + \", y=\" + y + \"]\";\n    }   \n}\n</code></pre>\n\n<p><strong>Line.java</strong></p>\n\n<pre><code>public class Line {\n    int x1,y1,x2,y2;\n    Point start,end;\n    boolean used;\n    public Line(int x1, int y1, int x2, int y2) {\n        super();\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    public Line(Point start, Point end) {\n        super();\n        this.start = start;\n        this.end = end;\n    }\n    public int getX1() {\n        return x1;\n    }\n    public void setX1(int x1) {\n        this.x1 = x1;\n    }\n    public int getY1() {\n        return y1;\n    }\n    public void setY1(int y1) {\n        this.y1 = y1;\n    }\n    public int getX2() {\n        return x2;\n    }\n    public void setX2(int x2) {\n        this.x2 = x2;\n    }\n    public int getY2() {\n        return y2;\n    }\n    public void setY2(int y2) {\n        this.y2 = y2;\n    }\n    public Point getStart() {\n        return start;\n    }\n    public void setStart(Point start) {\n        this.start = start;\n    }\n    public Point getEnd() {\n        return end;\n    }\n    public void setEnd(Point end) {\n        this.end = end;\n    }\n    public boolean isUsed() {\n        return used;\n    }\n    public void setUsed(boolean used) {\n        this.used = used;\n    }\n    @Override\n    public String toString() {\n        return \"Line [x1=\" + x1 + \", y1=\" + y1 + \", x2=\" + x2 + \", y2=\" + y2 + \"]\";\n    }   \n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Main {\n    public static void main(String args[]) {\n        List&lt;Line&gt; givenLines = new ArrayList&lt;Line&gt;();\n        givenLines.add(new Line(3350, 1500, 3200, 1500));\n        givenLines.add(new Line(1450, 1750, 1450, 2200));\n        givenLines.add(new Line(1450, 2200, 2100, 2200));\n        givenLines.add(new Line(2400, 2200, 2550, 2200));\n        givenLines.add(new Line(2550, 2200, 2550, 2350));\n        givenLines.add(new Line(2550, 2350, 2850, 2350));\n        givenLines.add(new Line(2850, 2350, 2850, 2700));\n        givenLines.add(new Line(2850, 2700, 3350, 2700));\n        givenLines.add(new Line(3650, 2700, 3750, 2700));\n        givenLines.add(new Line(3750, 2700, 3750, 2600));\n        givenLines.add(new Line(3750, 2600, 5250, 2600));\n        givenLines.add(new Line(5250, 2600, 5250, 2350));\n        givenLines.add(new Line(5250, 2350, 5000, 2350));\n        givenLines.add(new Line(4700, 2350, 4350, 2350));\n        givenLines.add(new Line(4350, 2350, 4350, 1600));\n        givenLines.add(new Line(4350, 1600, 3650, 1600));\n        givenLines.add(new Line(3650, 1600, 3650, 1500));\n        givenLines.add(new Line(3200, 1500, 3200, 1750));\n        givenLines.add(new Line(3200, 1750, 1450, 1750));\n\n        int linesIndex, usedCounter=0;\n        List&lt;List&lt;Line&gt;&gt; listOfConnectedLines = new ArrayList&lt;List&lt;Line&gt;&gt;();\n\n        //The start (first) line, in the list of given lines, to be processed to find the first set of connected lines\n        Line startLineforTheNextSetOfConnectedLines=givenLines.get(0);\n        startLineforTheNextSetOfConnectedLines.setUsed(true);\n        usedCounter = 1;        \n\n        //Process the list of given lines until all the lines have been used to form the connected lines\n        while (usedCounter &lt; givenLines.size()) {\n\n            linesIndex = 0;         \n            List&lt;Line&gt; connectedLines = new ArrayList&lt;Line&gt;();\n            connectedLines.add(linesIndex, startLineforTheNextSetOfConnectedLines);     \n            Line nextLine=null;\n\n            //Starting with startLineforTheNextSetOfConnectedLines, the variable lastArrangedLine will hold the next lines qualifying to become the connected line \n            Line lastArrangedLine=startLineforTheNextSetOfConnectedLines;\n\n            //Create the list of connected lines starting with startLineforTheNextSetOfConnectedLines\n            for (int i = 0; i &lt; givenLines.size(); i++) {\n                for (int j = 0; j &lt; givenLines.size(); j++) {\n                    nextLine=givenLines.get(j);\n                    if (!nextLine.isUsed() &amp;&amp; lastArrangedLine.getX2() == nextLine.getX1()\n                            &amp;&amp; lastArrangedLine.getY2() == nextLine.getY1()) {\n                        nextLine.setUsed(true);\n                        usedCounter++;\n                        connectedLines.add(++linesIndex, nextLine);\n                        lastArrangedLine = nextLine;\n                        break;\n                    }\n                }\n            }\n\n            //Add the list of connected lines (found from the above nested for loops) to the list of connected lines\n            listOfConnectedLines.add(connectedLines);\n\n            //Find the start (first) line for the next set of connected lines\n            for (int i = 0; i &lt; givenLines.size(); i++) {\n                if(!givenLines.get(i).isUsed()) {\n                    startLineforTheNextSetOfConnectedLines=givenLines.get(i);\n                    startLineforTheNextSetOfConnectedLines.setUsed(true);\n                    usedCounter++;                  \n                    break;\n                }\n            }\n        }\n\n        //Display the lists of connected lines\n        for(List&lt;Line&gt; connectedLines:listOfConnectedLines)\n            System.out.println(connectedLines);\n    }\n}\n</code></pre>\n\n<p><strong>Output for the given list of lines:</strong></p>\n\n<pre><code>[Line [x1=3350, y1=1500, x2=3200, y2=1500], Line [x1=3200, y1=1500, x2=3200, y2=1750], Line [x1=3200, y1=1750, x2=1450, y2=1750], Line [x1=1450, y1=1750, x2=1450, y2=2200], Line [x1=1450, y1=2200, x2=2100, y2=2200]]\n[Line [x1=2400, y1=2200, x2=2550, y2=2200], Line [x1=2550, y1=2200, x2=2550, y2=2350], Line [x1=2550, y1=2350, x2=2850, y2=2350], Line [x1=2850, y1=2350, x2=2850, y2=2700], Line [x1=2850, y1=2700, x2=3350, y2=2700]]\n[Line [x1=3650, y1=2700, x2=3750, y2=2700], Line [x1=3750, y1=2700, x2=3750, y2=2600], Line [x1=3750, y1=2600, x2=5250, y2=2600], Line [x1=5250, y1=2600, x2=5250, y2=2350], Line [x1=5250, y1=2350, x2=5000, y2=2350]]\n[Line [x1=4700, y1=2350, x2=4350, y2=2350], Line [x1=4350, y1=2350, x2=4350, y2=1600], Line [x1=4350, y1=1600, x2=3650, y2=1600], Line [x1=3650, y1=1600, x2=3650, y2=1500]]\n</code></pre>\n"}],"owner":{"account_id":14831141,"reputation":77,"user_id":10990598,"display_name":"Bhavin S."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58352493,"answer_count":1,"score":1,"last_activity_date":1666439029,"creation_date":1570865779,"question_id":58351952,"body_markdown":"I have list of coordinates to draw line.\r\n\r\nActually Problem is these coordinates are not in sequence.\r\n\r\nCoordinate of endline is coordinates of startline for another line.\r\nIf any line&#39;s endline coordinates is not match with another line&#39;s start coordinates then create list of connected line.\r\n\r\nCoordinates of lines are as startx,starty,endx,endy.\r\n\r\nBelow is list of lines coordinates.\r\n\r\n3350 1500 3200 1500\r\n\r\n1450 1750 1450 2200\r\n\r\n1450 2200 2100 2200\r\n\r\n2400 2200 2550 2200\r\n\r\n2550 2200 2550 2350\r\n\r\n2550 2350 2850 2350\r\n\r\n2850 2350 2850 2700\r\n\r\n2850 2700 3350 2700\r\n\r\n3650 2700 3750 2700\r\n\r\n3750 2700 3750 2600\r\n\r\n3750 2600 5250 2600\r\n\r\n5250 2600 5250 2350\r\n\r\n5250 2350 5000 2350\r\n\r\n4700 2350 4350 2350\r\n\r\n4350 2350 4350 1600\r\n\r\n4350 1600 3650 1600\r\n\r\n3650 1600 3650 1500\r\n\r\n3200 1500 3200 1750\r\n\r\n3200 1750 1450 1750\r\n\r\nHere last two line coordinates is actually on 2nd and 3rd position.\r\n\r\n3200 1500 3200 1750\r\n\r\n3200 1750 1450 1750\r\n\r\nMy requirement is to create all the bunch of lines which are connected to each other. \r\n\r\n\r\n \r\n\r\n\r\n    List&lt;DeviceElement&gt; outerListWire= new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\r\n    List&lt;DeviceElement&gt; innerListWire = new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\r\n        List&lt;DeviceElement&gt; listWireTemp = new ArrayList&lt;DeviceElement&gt;();\r\n    for (int j = 0; j &lt; outerListWire.size(); j++) {\r\n    \tWire wire1 = (Wire) outerListWire.get(j);\r\n    \tfor (int i = 0; i &lt; innerListWire.size(); i++) {\r\n    \t\tWire wire2 = (Wire) innerListWire.get(i);\r\n    \t\t\r\n    \t\tif (wire1.getEndPoint().getX() == wire2.getStartPoint().getX() &amp;&amp; wire1.getEndPoint().getY() == wire2.getStartPoint().getY() ) {\r\n    \t\t\tif (!listWireTemp.contains(wire1)) {\r\n    \t\t\t\tlistWireTemp.add(wire1);\r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t.println(&quot;wire1 = &quot; + wire1.getStartPoint().toString() + &quot; = &quot; + wire1.getEndPoint().toString());\r\n    \t\t\t\tinnerListWire.remove(wire1);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (!listWireTemp.contains(wire2)) {\r\n    \t\t\t\tlistWireTemp.add(wire2);\r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t.println(&quot;wire2 = &quot; + wire2.getStartPoint().toString() + &quot; = &quot; + wire2.getEndPoint().toString());\r\n    \t\t\t\tinnerListWire.remove(wire2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nI have tried above code but still coordinates list not getting in sequence.","title":"I have list of coordinates and My requirement is to arrange it","body":"<p>I have list of coordinates to draw line.</p>\n\n<p>Actually Problem is these coordinates are not in sequence.</p>\n\n<p>Coordinate of endline is coordinates of startline for another line.\nIf any line's endline coordinates is not match with another line's start coordinates then create list of connected line.</p>\n\n<p>Coordinates of lines are as startx,starty,endx,endy.</p>\n\n<p>Below is list of lines coordinates.</p>\n\n<p>3350 1500 3200 1500</p>\n\n<p>1450 1750 1450 2200</p>\n\n<p>1450 2200 2100 2200</p>\n\n<p>2400 2200 2550 2200</p>\n\n<p>2550 2200 2550 2350</p>\n\n<p>2550 2350 2850 2350</p>\n\n<p>2850 2350 2850 2700</p>\n\n<p>2850 2700 3350 2700</p>\n\n<p>3650 2700 3750 2700</p>\n\n<p>3750 2700 3750 2600</p>\n\n<p>3750 2600 5250 2600</p>\n\n<p>5250 2600 5250 2350</p>\n\n<p>5250 2350 5000 2350</p>\n\n<p>4700 2350 4350 2350</p>\n\n<p>4350 2350 4350 1600</p>\n\n<p>4350 1600 3650 1600</p>\n\n<p>3650 1600 3650 1500</p>\n\n<p>3200 1500 3200 1750</p>\n\n<p>3200 1750 1450 1750</p>\n\n<p>Here last two line coordinates is actually on 2nd and 3rd position.</p>\n\n<p>3200 1500 3200 1750</p>\n\n<p>3200 1750 1450 1750</p>\n\n<p>My requirement is to create all the bunch of lines which are connected to each other. </p>\n\n<pre><code>List&lt;DeviceElement&gt; outerListWire= new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\nList&lt;DeviceElement&gt; innerListWire = new ArrayList&lt;DeviceElement&gt;(schematicImporter.listOfWires);\n    List&lt;DeviceElement&gt; listWireTemp = new ArrayList&lt;DeviceElement&gt;();\nfor (int j = 0; j &lt; outerListWire.size(); j++) {\n    Wire wire1 = (Wire) outerListWire.get(j);\n    for (int i = 0; i &lt; innerListWire.size(); i++) {\n        Wire wire2 = (Wire) innerListWire.get(i);\n\n        if (wire1.getEndPoint().getX() == wire2.getStartPoint().getX() &amp;&amp; wire1.getEndPoint().getY() == wire2.getStartPoint().getY() ) {\n            if (!listWireTemp.contains(wire1)) {\n                listWireTemp.add(wire1);\n                System.out\n                .println(\"wire1 = \" + wire1.getStartPoint().toString() + \" = \" + wire1.getEndPoint().toString());\n                innerListWire.remove(wire1);\n            }\n\n            if (!listWireTemp.contains(wire2)) {\n                listWireTemp.add(wire2);\n                System.out\n                .println(\"wire2 = \" + wire2.getStartPoint().toString() + \" = \" + wire2.getEndPoint().toString());\n                innerListWire.remove(wire2);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have tried above code but still coordinates list not getting in sequence.</p>\n"},{"tags":["java","arrays","sorting","selection-sort"],"owner":{"account_id":24351995,"reputation":13,"user_id":18287710,"display_name":"Ellie Riggs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666438302,"creation_date":1665666147,"question_id":74056245,"body_markdown":"So my Professor gave us an activity where we input the amount of array and its value. Then Selection sort will be implemented and will display each pass. I manage to do the input part but only managed to display the unsorted and sorted output. I&#39;ve been wracking my brains on how to show the input of each pass but I always come up short. I saw a code in C/C++ but I don&#39;t know how to read the language well enough to understand the code.\r\n\r\nThis is what the expected output:\r\n```\r\nInput a number: 5\r\n\r\na[0]: 5\r\n\r\na[1]: 4\r\n\r\na[2]: 2\r\n\r\na[3]: 8\r\n\r\na[4]: 10\r\n\r\nUnSorted Array: 5  4  2  8  10 \r\n\r\n1st Pass: 5 4 2 8 10\r\n\r\n2nd Pass: 5 4 2 8 10\r\n\r\n3rd Pass: 2 4 5 8 10\r\n\r\nSorted Array Values :2  4  5  8  10  \r\n```\r\n\t\r\nAnd here&#39;s my current output:\r\n\r\n```\r\nInput a number: 5\r\n\r\na[0]: 5\r\n\r\na[1]: 4\r\n\r\na[2]: 2\r\n\r\na[3]: 8\r\n\r\na[4]: 10\r\n\r\nUnSorted Array: 5  4  2  8  10  \r\n\r\nSorted Array Values: 2  4  5  8  10  \r\n```\r\n\r\nThis is my code:\r\n```\r\npublic static void main(String[] args) {\r\n\t// TODO Auto-generated method stub\r\n\t/*\r\n\t * input number of array\r\n\t * display array\r\n\t * 1st pass\r\n\t * 2nd pass\r\n\t * 3rd \r\n\t * 4th\r\n\t * 5th...\r\n\t */\r\n\tScanner ss = new Scanner(System.in);\r\n\tint a, j, temp;  \r\n\tint arr[] = new int[50];  \r\n\t\r\n\t//input number of array\r\n\tSystem.out.print(&quot;Input a number: &quot;);\r\n\tint num=ss.nextInt();\r\n\tSystem.out.print(&quot;&quot;);\r\n\t\r\n\t//display array\r\n\tfor (a = 0; a &lt; num; a++) {\r\n\t\tSystem.out.print(&quot;a[&quot; + a + &quot;]: &quot;);\r\n\t\tarr[a] = ss.nextInt();\r\n\t}\r\n\t\r\n\t//Unsorted Value\r\n\tSystem.out.print(&quot;UnSorted Array: &quot;);\r\n\tfor (a = 0; a &lt; num; a++) {\r\n\t\tSystem.out.print(arr[a] + &quot;  &quot;);\r\n\t}\r\n\t\r\n\tSystem.out.println();\r\n\tfor (a = 0; a &lt; num; a++) {\r\n\t\tfor(j = a + 1; j &lt; num; j++) {   \r\n\t\t\tif(arr[a] &gt; arr[j]) {  \r\n\t\t\t\ttemp = arr[a];  \r\n\t\t\t\tarr[a] = arr[j];  \r\n\t\t\t\tarr[j] = temp;  \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//Passes\r\n\t\r\n\t//Sorted Value\r\n\tSystem.out.print(&quot;Sorted Array Values :&quot;);  \r\n\tfor (a = 0; a &lt; num; a++) {  \r\n\t\tSystem.out.print(arr[a] + &quot;  &quot;);  \r\n\t}\r\n}\r\n```","title":"Selection Sort displaying each Pass","body":"<p>So my Professor gave us an activity where we input the amount of array and its value. Then Selection sort will be implemented and will display each pass. I manage to do the input part but only managed to display the unsorted and sorted output. I've been wracking my brains on how to show the input of each pass but I always come up short. I saw a code in C/C++ but I don't know how to read the language well enough to understand the code.</p>\n<p>This is what the expected output:</p>\n<pre><code>Input a number: 5\n\na[0]: 5\n\na[1]: 4\n\na[2]: 2\n\na[3]: 8\n\na[4]: 10\n\nUnSorted Array: 5  4  2  8  10 \n\n1st Pass: 5 4 2 8 10\n\n2nd Pass: 5 4 2 8 10\n\n3rd Pass: 2 4 5 8 10\n\nSorted Array Values :2  4  5  8  10  \n</code></pre>\n<p>And here's my current output:</p>\n<pre><code>Input a number: 5\n\na[0]: 5\n\na[1]: 4\n\na[2]: 2\n\na[3]: 8\n\na[4]: 10\n\nUnSorted Array: 5  4  2  8  10  \n\nSorted Array Values: 2  4  5  8  10  \n</code></pre>\n<p>This is my code:</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    /*\n     * input number of array\n     * display array\n     * 1st pass\n     * 2nd pass\n     * 3rd \n     * 4th\n     * 5th...\n     */\n    Scanner ss = new Scanner(System.in);\n    int a, j, temp;  \n    int arr[] = new int[50];  \n    \n    //input number of array\n    System.out.print(&quot;Input a number: &quot;);\n    int num=ss.nextInt();\n    System.out.print(&quot;&quot;);\n    \n    //display array\n    for (a = 0; a &lt; num; a++) {\n        System.out.print(&quot;a[&quot; + a + &quot;]: &quot;);\n        arr[a] = ss.nextInt();\n    }\n    \n    //Unsorted Value\n    System.out.print(&quot;UnSorted Array: &quot;);\n    for (a = 0; a &lt; num; a++) {\n        System.out.print(arr[a] + &quot;  &quot;);\n    }\n    \n    System.out.println();\n    for (a = 0; a &lt; num; a++) {\n        for(j = a + 1; j &lt; num; j++) {   \n            if(arr[a] &gt; arr[j]) {  \n                temp = arr[a];  \n                arr[a] = arr[j];  \n                arr[j] = temp;  \n            }\n        }\n    }\n    //Passes\n    \n    //Sorted Value\n    System.out.print(&quot;Sorted Array Values :&quot;);  \n    for (a = 0; a &lt; num; a++) {  \n        System.out.print(arr[a] + &quot;  &quot;);  \n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1666286732,"post_id":74143428,"comment_id":130906717,"body_markdown":"1. You can pass data between Activities via Intent. 2. You can use multiple fragments &amp; use the Single Activity architecture as well.","body":"1. You can pass data between Activities via Intent. 2. You can use multiple fragments &amp; use the Single Activity architecture as well."},{"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"score":0,"creation_date":1666291941,"post_id":74143428,"comment_id":130908447,"body_markdown":"So as far as i understand intent is kinda like a variable that is beeing passed into function ? Meaning - if i will start activity and pass intent to it and later finish activity (finish() ) and then start activity again without passing value in intent, the previous passed intent wont be available anymore ?","body":"So as far as i understand intent is kinda like a variable that is beeing passed into function ? Meaning - if i will start activity and pass intent to it and later finish activity (finish() ) and then start activity again without passing value in intent, the previous passed intent wont be available anymore ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666326535,"post_id":74143428,"comment_id":130915145,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666437999,"creation_date":1666437999,"answer_id":74163136,"question_id":74143428,"body_markdown":"Solved with  startActivityForResult:\r\n\r\n   \r\n\r\n        Intent intent = new Intent(MainActivity.this, SetKnownPlaces.class);\r\n        intent.putExtra(&quot;lat&quot;, geoLastLocation.getLatitude());\r\n        intent.putExtra(&quot;lon&quot;, geoLastLocation.getLongitude());\r\n        intent.putExtra(&quot;title&quot;, getString(R.string.KnownPlaces_title_home));\r\n        startActivityForResult(intent, 1);\r\n\r\n         @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        try {\r\n            if (requestCode == 1) {\r\n                navi.homeAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\r\n            }\r\n            if (requestCode == 2) {\r\n                navi.workAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\r\n            }\r\n\r\n            if (requestCode == 3) {\r\n                navi.favAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.homeAddress.getLatitude());\r\n        Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.workAddress.getLatitude());\r\n\r\n    }\r\n\r\n\r\nThen in 2nd Activity:\r\n\r\n        title.setText(getIntent().getStringExtra(&quot;title&quot;));\r\n        map.init();\r\n\r\n        GeoPoint lastLocation = new GeoPoint(getIntent().getDoubleExtra(&quot;lat&quot;,0), \r\n        getIntent().getDoubleExtra(&quot;lon&quot;,0));\r\n\r\n\r\n\r\n\r\n","title":"new activity vs 2 x setContentView in the same activity","body":"<p>Solved with  startActivityForResult:</p>\n<pre><code>    Intent intent = new Intent(MainActivity.this, SetKnownPlaces.class);\n    intent.putExtra(&quot;lat&quot;, geoLastLocation.getLatitude());\n    intent.putExtra(&quot;lon&quot;, geoLastLocation.getLongitude());\n    intent.putExtra(&quot;title&quot;, getString(R.string.KnownPlaces_title_home));\n    startActivityForResult(intent, 1);\n\n     @Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    try {\n        if (requestCode == 1) {\n            navi.homeAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\n        }\n        if (requestCode == 2) {\n            navi.workAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\n        }\n\n        if (requestCode == 3) {\n            navi.favAddress.setCoords(data.getDoubleExtra(&quot;lat&quot;, 0), data.getDoubleExtra(&quot;lon&quot;, 0));\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.homeAddress.getLatitude());\n    Log.d(&quot;home &quot;, &quot;onActivityResult: &quot; + navi.workAddress.getLatitude());\n\n}\n</code></pre>\n<p>Then in 2nd Activity:</p>\n<pre><code>    title.setText(getIntent().getStringExtra(&quot;title&quot;));\n    map.init();\n\n    GeoPoint lastLocation = new GeoPoint(getIntent().getDoubleExtra(&quot;lat&quot;,0), \n    getIntent().getDoubleExtra(&quot;lon&quot;,0));\n</code></pre>\n"}],"owner":{"account_id":25926284,"reputation":9,"user_id":20286764,"display_name":"user1618809"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666437999,"creation_date":1666283892,"question_id":74143428,"body_markdown":"I&#39;m designing navigation app using Osmdroid and OSRM. I have MainActivity which shows map and is beeing used for navigation purposes to display current location, route, speed etc. \r\nNow i want to add functionality to set home address and work address but i want to do it in new View since it would be struggle to hide all of the buttons, stop follow direction and creating new View seems like better apporach.\r\n\r\n1. First idea is to create new activity set new contentview and play there BUT to do that i would need to inform activity on start that now i will be setting for example home address not work address. If it was a function i would just pass int variable to function and inside of it make if statements - 1 is work, 2 is home etc.\r\n\r\n2. Second idea is to just make a function in the same activity to set new content view, make return as location, and then save result to address i want it to be set. Although if after this operation i will call old contentview i want be back to the previous state of the old content (for example there was a route already set)\r\n\r\nIs there better way to do it ? \r\n","title":"new activity vs 2 x setContentView in the same activity","body":"<p>I'm designing navigation app using Osmdroid and OSRM. I have MainActivity which shows map and is beeing used for navigation purposes to display current location, route, speed etc.\nNow i want to add functionality to set home address and work address but i want to do it in new View since it would be struggle to hide all of the buttons, stop follow direction and creating new View seems like better apporach.</p>\n<ol>\n<li><p>First idea is to create new activity set new contentview and play there BUT to do that i would need to inform activity on start that now i will be setting for example home address not work address. If it was a function i would just pass int variable to function and inside of it make if statements - 1 is work, 2 is home etc.</p>\n</li>\n<li><p>Second idea is to just make a function in the same activity to set new content view, make return as location, and then save result to address i want it to be set. Although if after this operation i will call old contentview i want be back to the previous state of the old content (for example there was a route already set)</p>\n</li>\n</ol>\n<p>Is there better way to do it ?</p>\n"},{"tags":["java","parent-child"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1666375933,"post_id":74157117,"comment_id":130930572,"body_markdown":"can you please indent your code so it&#39;s readable, and also add expected input and output?","body":"can you please indent your code so it&#39;s readable, and also add expected input and output?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1666376182,"post_id":74157117,"comment_id":130930649,"body_markdown":"`I want to validate the parent child relationship,`, this is not clear. You should reword what you want as output.","body":"<code>I want to validate the parent child relationship,</code>, this is not clear. You should reword what you want as output."}],"answers":[{"tags":[],"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666381072,"creation_date":1666381072,"answer_id":74158471,"question_id":74157117,"body_markdown":"It looks like you need to traverse the tree in both directions so you need to build a data structure that reflects this.\r\n\r\nAdd a parentCategory field to your Category class, plus a List of child categories. Initialise these new fields in a new method Category getCategoryTree() which will return the root category. \r\n\r\nInitialising the tree is a little tricky, but once done you will be able to navigate freely up and down the category hierarchy.","title":"How to verify if the objects in a list are all having parent child relationship in java","body":"<p>It looks like you need to traverse the tree in both directions so you need to build a data structure that reflects this.</p>\n<p>Add a parentCategory field to your Category class, plus a List of child categories. Initialise these new fields in a new method Category getCategoryTree() which will return the root category.</p>\n<p>Initialising the tree is a little tricky, but once done you will be able to navigate freely up and down the category hierarchy.</p>\n"}],"owner":{"account_id":26316107,"reputation":1,"user_id":19978865,"display_name":"v_1403"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666437955,"creation_date":1666372584,"question_id":74157117,"body_markdown":"I am having a List of categories, and I am trying to find if the categories are all related to each other. For Example, HW, Phones, Iphone and 13 Pro are the categories. Each Category will have fields categoryid and parentId. \r\n\r\nHW -&gt; Phones -&gt; IPhone -&gt; 13 Pro \r\n\r\nIn above case, HW has parentId as null since it is a root, Phones has parentId as HW, Iphone has parentId as Phones, and 13 Pro has parent id as IPhone. \r\nI want to validate the parent child relationship along with the order of the categories( meaning, 13 Pro is a child of Iphone, Iphone is a child of Phones, Phones is a child of HW and If they are not in the order, ex: HW -&gt; 13 Pro -&gt; IPhone -&gt; Phones , then I need to throw error saying the order is incorrect), as I get this List from an external service. Also the order could not be hierachial. The list could be in any order. I am trying to write a Java code for the same. Any help is appreciated. Thanks in advance. \r\n            \r\n    List&lt;Category&gt; categoryList = getCategoryList();\r\n    categoryList.stream().forEach(category -&gt; {\r\n        if (category.getParentId().isEmpty()) {\r\n            String rootCategory = category.getId();\r\n            if (category.getParentId().equals(rootCategory)) {\r\n                String category2 = category.getId();\r\n                if (category.getParentId().equals(category2)) {\r\n                    String category3 = category.getId();\r\n                    if (category.getParentId().equals(category3)) {\r\n                        String category4 = category.getId();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });","title":"How to verify if the objects in a list are all having parent child relationship in java","body":"<p>I am having a List of categories, and I am trying to find if the categories are all related to each other. For Example, HW, Phones, Iphone and 13 Pro are the categories. Each Category will have fields categoryid and parentId.</p>\n<p>HW -&gt; Phones -&gt; IPhone -&gt; 13 Pro</p>\n<p>In above case, HW has parentId as null since it is a root, Phones has parentId as HW, Iphone has parentId as Phones, and 13 Pro has parent id as IPhone.\nI want to validate the parent child relationship along with the order of the categories( meaning, 13 Pro is a child of Iphone, Iphone is a child of Phones, Phones is a child of HW and If they are not in the order, ex: HW -&gt; 13 Pro -&gt; IPhone -&gt; Phones , then I need to throw error saying the order is incorrect), as I get this List from an external service. Also the order could not be hierachial. The list could be in any order. I am trying to write a Java code for the same. Any help is appreciated. Thanks in advance.</p>\n<pre><code>List&lt;Category&gt; categoryList = getCategoryList();\ncategoryList.stream().forEach(category -&gt; {\n    if (category.getParentId().isEmpty()) {\n        String rootCategory = category.getId();\n        if (category.getParentId().equals(rootCategory)) {\n            String category2 = category.getId();\n            if (category.getParentId().equals(category2)) {\n                String category3 = category.getId();\n                if (category.getParentId().equals(category3)) {\n                    String category4 = category.getId();\n                }\n            }\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","android","service"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666374525,"post_id":74157168,"comment_id":130930186,"body_markdown":"Add the array as an extra on the `Intent`, just as you would if you were passing the array to another activity.","body":"Add the array as an extra on the <code>Intent</code>, just as you would if you were passing the array to another activity."},{"owner":{"account_id":23044883,"reputation":117,"user_id":18016959,"display_name":"arnold"},"score":0,"creation_date":1666375898,"post_id":74157168,"comment_id":130930564,"body_markdown":"@CommonsWare ,  sorry, I don&#39;t quite understand how to do this, can you please clarify?","body":"@CommonsWare ,  sorry, I don&#39;t quite understand how to do this, can you please clarify?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666376582,"post_id":74157168,"comment_id":130930752,"body_markdown":"Extras are part of an `Intent`, for passing data between components. See [the documentation](https://developer.android.com/guide/components/intents-filters#Building). I also cover extras (in the context of activities) in [this chapter](https://commonsware.com/Jetpack/pages/chap-activities-001.html) of [this free book](https://commonsware.com/Jetpack).","body":"Extras are part of an <code>Intent</code>, for passing data between components. See <a href=\"https://developer.android.com/guide/components/intents-filters#Building\" rel=\"nofollow noreferrer\">the documentation</a>. I also cover extras (in the context of activities) in <a href=\"https://commonsware.com/Jetpack/pages/chap-activities-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":23044883,"reputation":117,"user_id":18016959,"display_name":"arnold"},"score":0,"creation_date":1666379949,"post_id":74157168,"comment_id":130931720,"body_markdown":"@CommonsWare, in general, I looked at everything, and even figured it out a little more, but the ```getIntent()``` function is used everywhere, which is outdated and it is not possible to use it. Is there any alternative?","body":"@CommonsWare, in general, I looked at everything, and even figured it out a little more, but the <code>getIntent()</code> function is used everywhere, which is outdated and it is not possible to use it. Is there any alternative?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1666381095,"post_id":74157168,"comment_id":130932027,"body_markdown":"&quot;but the getIntent() function is used everywhere, which is outdated and it is not possible to use it&quot; -- `getIntent()` is not outdated. However, that is a method on `Activity`. In your service, override `onStartCommand()`, and you receive your `Intent` as a parameter. Note that using a service is unusual in 2022, so you might want to reconsider whether a service is appropriate for whatever problem you are trying to solve.","body":"&quot;but the getIntent() function is used everywhere, which is outdated and it is not possible to use it&quot; -- <code>getIntent()</code> is not outdated. However, that is a method on <code>Activity</code>. In your service, override <code>onStartCommand()</code>, and you receive your <code>Intent</code> as a parameter. Note that using a service is unusual in 2022, so you might want to reconsider whether a service is appropriate for whatever problem you are trying to solve."}],"answers":[{"comments":[{"owner":{"account_id":23044883,"reputation":117,"user_id":18016959,"display_name":"arnold"},"score":0,"creation_date":1666448575,"post_id":74163058,"comment_id":130941878,"body_markdown":"Yes! this really works! thanks for helping me figure it out!","body":"Yes! this really works! thanks for helping me figure it out!"}],"tags":[],"owner":{"account_id":16217139,"reputation":377,"user_id":11709683,"display_name":"Anas Hafidi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666437376,"creation_date":1666437376,"answer_id":74163058,"question_id":74157168,"body_markdown":"in MainActivity start your service like this \r\n```\r\n Intent intent =new Intent(this,MyService.class);\r\n        intent.putExtra(&quot;myArray&quot;,arr); \r\n        startService(intent);\r\n```\r\n\r\non your service override onStartCommand method  \r\n\r\n```\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        int myList[]=intent.getIntArrayExtra(&quot;myArray&quot;);\r\n        for (int item:myList){\r\n            Log.i(&quot;MyLog&quot;, &quot;onStartCommand: &quot;+item);\r\n        }\r\n        return super.onStartCommand(intent, flags, startId);\r\n\r\n    }\r\n```\r\n\r\nand don&#39;t forget to declare your service on AndroidManifest file inside Application tag add \r\n```\r\n&lt;service android:name=&quot;.MyService&quot;/&gt;\r\n```","title":"Pass array from activity to service (Android)","body":"<p>in MainActivity start your service like this</p>\n<pre><code> Intent intent =new Intent(this,MyService.class);\n        intent.putExtra(&quot;myArray&quot;,arr); \n        startService(intent);\n</code></pre>\n<p>on your service override onStartCommand method</p>\n<pre><code>    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        int myList[]=intent.getIntArrayExtra(&quot;myArray&quot;);\n        for (int item:myList){\n            Log.i(&quot;MyLog&quot;, &quot;onStartCommand: &quot;+item);\n        }\n        return super.onStartCommand(intent, flags, startId);\n\n    }\n</code></pre>\n<p>and don't forget to declare your service on AndroidManifest file inside Application tag add</p>\n<pre><code>&lt;service android:name=&quot;.MyService&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":23044883,"reputation":117,"user_id":18016959,"display_name":"arnold"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74163058,"answer_count":1,"score":0,"last_activity_date":1666437376,"creation_date":1666372830,"question_id":74157168,"body_markdown":"i&#39;m beginner to java and i&#39;m trying to do the following: in MainActivity generate an array and pass it to the Service. The difficulty lies precisely in how to pass this array to the Service. Yes, I saw that there are many similar questions, but I can&#39;t understand the principle of how this happens.\r\n\r\nWhat can you advise me?\r\n\r\nMainActivity.java\r\n\r\n```\r\npackage com.example.myservice;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        int[] arr = new int[5];\r\n        StringBuilder num = new StringBuilder();\r\n\r\n        for(int i = 0; i &lt; 5; i++) {\r\n            arr[i] = (int) (Math.random() * 10);\r\n            num.append(arr[i]).append(&quot; &quot;);\r\n        }\r\n\r\n        TextView textView = findViewById(R.id.textView2);\r\n\r\n        textView.setText(num);\r\n        startService(new Intent(this, MyService.class));\r\n    }\r\n}\r\n```\r\n\r\nMyService.java\r\n```\r\npackage com.example.myservice;\r\n\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\n\r\n\r\npublic class MyService extends Service {\r\n    @Override\r\n    public void onCreate(){\r\n        Log.i(&quot;MyLog&quot;, &quot;onCreate&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n}\r\n```","title":"Pass array from activity to service (Android)","body":"<p>i'm beginner to java and i'm trying to do the following: in MainActivity generate an array and pass it to the Service. The difficulty lies precisely in how to pass this array to the Service. Yes, I saw that there are many similar questions, but I can't understand the principle of how this happens.</p>\n<p>What can you advise me?</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.myservice;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        int[] arr = new int[5];\n        StringBuilder num = new StringBuilder();\n\n        for(int i = 0; i &lt; 5; i++) {\n            arr[i] = (int) (Math.random() * 10);\n            num.append(arr[i]).append(&quot; &quot;);\n        }\n\n        TextView textView = findViewById(R.id.textView2);\n\n        textView.setText(num);\n        startService(new Intent(this, MyService.class));\n    }\n}\n</code></pre>\n<p>MyService.java</p>\n<pre><code>package com.example.myservice;\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.os.IBinder;\nimport android.util.Log;\n\n\npublic class MyService extends Service {\n    @Override\n    public void onCreate(){\n        Log.i(&quot;MyLog&quot;, &quot;onCreate&quot;);\n    }\n\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","inheritance","user-input"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666412870,"post_id":74161048,"comment_id":130936545,"body_markdown":"You&#39;re setting the details on an instance of `Employee`, `e`. But you print the values from an instance of `Manager`, `mgr`. You should see a non-null department, do you?","body":"You&#39;re setting the details on an instance of <code>Employee</code>, <code>e</code>. But you print the values from an instance of <code>Manager</code>, <code>mgr</code>. You should see a non-null department, do you?"},{"owner":{"account_id":23508083,"reputation":1,"user_id":17557019,"display_name":"Andre Ryan"},"score":0,"creation_date":1666413121,"post_id":74161048,"comment_id":130936568,"body_markdown":"Yes, I do see a non-null department. I edited my question for clarification.","body":"Yes, I do see a non-null department. I edited my question for clarification."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666428010,"post_id":74161048,"comment_id":130938214,"body_markdown":"Do you understand that you have two distinct objects? That the properties other than department are being set on the first object, `e`, and that you are displaying the second object `mgr`, so you don&#39;t see any of the other properties?","body":"Do you understand that you have two distinct objects? That the properties other than department are being set on the first object, <code>e</code>, and that you are displaying the second object <code>mgr</code>, so you don&#39;t see any of the other properties?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666428094,"post_id":74161048,"comment_id":130938230,"body_markdown":"I&#39;d suggest that you read an OO tutorial, e.g. https://docs.oracle.com/javase/tutorial/java/concepts/","body":"I&#39;d suggest that you read an OO tutorial, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/concepts</a>"},{"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"score":0,"creation_date":1666429839,"post_id":74161048,"comment_id":130938440,"body_markdown":"The question is okay, but it could be even better if you would shorten your code example to the basic stuff. For the purpose of your question, it is not really important how you input the values for the employee, or if the employee has a birthdate or middle name. Keep on learning ;-)","body":"The question is okay, but it could be even better if you would shorten your code example to the basic stuff. For the purpose of your question, it is not really important how you input the values for the employee, or if the employee has a birthdate or middle name. Keep on learning ;-)"}],"answers":[{"tags":[],"owner":{"account_id":114799,"reputation":1290,"user_id":301740,"accept_rate":25,"display_name":"Draško Kokić"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666436806,"creation_date":1666436806,"answer_id":74163002,"question_id":74161048,"body_markdown":"You seamed to be at the beginning of a great developer career, and even thought the answer is very simple, I will use it to give you some guidelines how to approach problem-solving.\r\n\r\n**Try always to resolve your problem with the &quot;pen and paper&quot;, meaning the first thing is to understand the problem and resolve it manually. Only then you can pour it into a programming code.**\r\n\r\nFirst, the strict answer to your original posted question: The `mgr` and `e` objects are two separate objects and the inheritance relationship between the `Manager` and `Employee` classes is not enough for the effect you are expecting.\r\n\r\nAnd now some proposals how to get to the solution that fits your needs.\r\n\r\nIf you like to continue with the _Java Inheritance_, then you have to set super and subclass properly. Using _constructor_ method and proper setters and getters is highly recommended.\r\n\r\n```java\r\nEmployee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\r\nManager mgr = new Manager(ID, firstName, lastName, middleName, birthDate, salary, department);  // Now, I am a manager !!!\r\n\r\nSystem.out.println(mgr.getDetails());\r\n```\r\nFor this to work, the `Employee` and `Manager` classes should look like:\r\n```java\r\npublic class Employee {\r\n\r\n    protected int ID;\r\n\r\n    protected String firstName;\r\n    protected String lastName;\r\n    protected String middleName;\r\n    protected double salary;\r\n    protected String birthDate;\r\n\r\n    public Employee(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\r\n        setDetails(ID, firstName, lastName, middleName, birthDate, salary);\r\n    }\r\n\r\n    public String getDetails() {\r\n        return String.format(&quot;ID: %03d\\nName: %s, %s, %s\\nBirthdate: %s\\nSalary: %,.2f&quot;, ID, firstName, lastName, middleName, birthDate, salary);\r\n    }\r\n    \r\n    public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\r\n        this.ID = ID;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.middleName = middleName;\r\n        this.birthDate = birthDate;\r\n        this.salary = salary;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class Manager extends Employee {\r\n\r\n    protected String department;\r\n\r\n    public Manager(int ID, String firstName, String lastName, String middleName, String birthDate, double salary, String department) {\r\n        super(ID, firstName, lastName, middleName, birthDate, salary);\r\n        this.department = department;\r\n    }\r\n  \r\n    @Override\r\n    public String getDetails() {\r\n        return super.getDetails() + &quot;\\nDepartment: &quot; + department;\r\n    }\r\n\r\n}\r\n```\r\n\r\nEven thought this might work, it is also showing that in this particular case the _Inheritance_ is probably not the best pattern to use.\r\n\r\nHow about this way? Let&#39;s change the `Manager` class a bit:\r\n```java\r\npublic class Manager {\r\n\r\n    protected Employee employee;\r\n    protected String department;\r\n\r\n    public Manager(Employee employee, String department) {\r\n        this.employee = employee;\r\n        this.department = department;\r\n    }\r\n  \r\n    @Override\r\n    public String getDetails(){\r\n        return employee.getDetails() + &quot;\\nDepartment: &quot; + department;\r\n    }\r\n\r\n}\r\n```\r\nThen you can use it in the following way. It looks like you can easily promote an employee to a manager ;-)\r\n```java\r\nEmployee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\r\nManager mgr = new Manager(e, department);  // Now, I am a manager !!!\r\n\r\nSystem.out.println(mgr.getDetails());\r\n```\r\n\r\nHope it helps. Keep on learning ;-)\r\n","title":"(JAVA) Inheritance from user inputted values keeps getting null","body":"<p>You seamed to be at the beginning of a great developer career, and even thought the answer is very simple, I will use it to give you some guidelines how to approach problem-solving.</p>\n<p><strong>Try always to resolve your problem with the &quot;pen and paper&quot;, meaning the first thing is to understand the problem and resolve it manually. Only then you can pour it into a programming code.</strong></p>\n<p>First, the strict answer to your original posted question: The <code>mgr</code> and <code>e</code> objects are two separate objects and the inheritance relationship between the <code>Manager</code> and <code>Employee</code> classes is not enough for the effect you are expecting.</p>\n<p>And now some proposals how to get to the solution that fits your needs.</p>\n<p>If you like to continue with the <em>Java Inheritance</em>, then you have to set super and subclass properly. Using <em>constructor</em> method and proper setters and getters is highly recommended.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\nManager mgr = new Manager(ID, firstName, lastName, middleName, birthDate, salary, department);  // Now, I am a manager !!!\n\nSystem.out.println(mgr.getDetails());\n</code></pre>\n<p>For this to work, the <code>Employee</code> and <code>Manager</code> classes should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n\n    protected int ID;\n\n    protected String firstName;\n    protected String lastName;\n    protected String middleName;\n    protected double salary;\n    protected String birthDate;\n\n    public Employee(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\n        setDetails(ID, firstName, lastName, middleName, birthDate, salary);\n    }\n\n    public String getDetails() {\n        return String.format(&quot;ID: %03d\\nName: %s, %s, %s\\nBirthdate: %s\\nSalary: %,.2f&quot;, ID, firstName, lastName, middleName, birthDate, salary);\n    }\n    \n    public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary) {\n        this.ID = ID;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.middleName = middleName;\n        this.birthDate = birthDate;\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Manager extends Employee {\n\n    protected String department;\n\n    public Manager(int ID, String firstName, String lastName, String middleName, String birthDate, double salary, String department) {\n        super(ID, firstName, lastName, middleName, birthDate, salary);\n        this.department = department;\n    }\n  \n    @Override\n    public String getDetails() {\n        return super.getDetails() + &quot;\\nDepartment: &quot; + department;\n    }\n\n}\n</code></pre>\n<p>Even thought this might work, it is also showing that in this particular case the <em>Inheritance</em> is probably not the best pattern to use.</p>\n<p>How about this way? Let's change the <code>Manager</code> class a bit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Manager {\n\n    protected Employee employee;\n    protected String department;\n\n    public Manager(Employee employee, String department) {\n        this.employee = employee;\n        this.department = department;\n    }\n  \n    @Override\n    public String getDetails(){\n        return employee.getDetails() + &quot;\\nDepartment: &quot; + department;\n    }\n\n}\n</code></pre>\n<p>Then you can use it in the following way. It looks like you can easily promote an employee to a manager ;-)</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee e = new Employee(ID, firstName, lastName, middleName, birthDate, salary);\nManager mgr = new Manager(e, department);  // Now, I am a manager !!!\n\nSystem.out.println(mgr.getDetails());\n</code></pre>\n<p>Hope it helps. Keep on learning ;-)</p>\n"}],"owner":{"account_id":23508083,"reputation":1,"user_id":17557019,"display_name":"Andre Ryan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666436806,"creation_date":1666412644,"question_id":74161048,"body_markdown":"I&#39;m very new to java so my code might be very inefficient or downright wrong. I&#39;m really sorry if this was a stupid question but my problem is when I print `mgr.getDetails()` all the user inputted values from `Employee`  are null.\r\n\r\nHere are the codes:\r\n\r\nEmployee:\r\n\r\n    public class Employee {\r\n    \r\n        protected int ID;\r\n    \r\n        protected String firstName;\r\n        protected String lastName;\r\n        protected String middleName;\r\n        protected double salary;\r\n        protected String birthDate;\r\n    \r\n        public String getDetails(){\r\n            return &quot;ID: &quot; + String.format(&quot;%03d&quot;, ID) + &quot;\\nName: &quot; + firstName + &quot;, &quot; + lastName + &quot;, &quot; + middleName + &quot;\\nBirthdate: &quot; + birthDate + \r\n                    &quot;\\nSalary: &quot; + String.format(&quot;%,.2f&quot;,salary);\r\n        }\r\n        \r\n        public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary){\r\n            this.ID = ID;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.middleName = middleName;\r\n            this.birthDate = birthDate;\r\n            this.salary = salary;\r\n        }\r\n    \r\n    }\r\n\r\nManager:\r\n\r\n    public class Manager extends Employee{\r\n    \r\n        protected String department;\r\n    \r\n        \r\n      \r\n        @Override\r\n        public String getDetails(){\r\n            return super.getDetails() + &quot;\\nDepartment: &quot; + department;\r\n        }   \r\n        public void setDetails(String department){\r\n            this.department = department;\r\n        }\r\n    \r\n    }\r\n\r\nMainClass:\r\n\r\n    import java.util.Scanner;\r\n    public class MainClass {\r\n        public static void main(String[] args){\r\n            Scanner input = new Scanner(System.in);\r\n            Employee e = new Employee();\r\n            Manager mgr = new Manager();\r\n            \r\n            System.out.println(&quot;Enter ID: &quot;);\r\n            int ID = input.nextInt();\r\n            input.nextLine();\r\n            \r\n            System.out.println(&quot;Enter First Name: &quot;);\r\n            String firstName = input.nextLine();\r\n           \r\n            \r\n            System.out.println(&quot;Enter Middle Name: &quot;);\r\n            String middleName = input.nextLine();\r\n        \r\n            \r\n            System.out.println(&quot;Enter last Name: &quot;);\r\n            String lastName = input.nextLine();\r\n            \r\n            \r\n            System.out.println(&quot;Enter Salary: &quot;);\r\n            double salary = input.nextDouble();\r\n            input.nextLine();\r\n         \r\n            System.out.println(&quot;Enter Birthdate: &quot;);\r\n            String birthDate = input.nextLine();\r\n            e.setDetails(ID, firstName, lastName, middleName, birthDate, salary);\r\n            \r\n            System.out.println(&quot;Enter Department: &quot;);\r\n            String department = input.nextLine();\r\n            mgr.setDetails(department);\r\n            \r\n            System.out.println(mgr.getDetails());\r\n            input.close();\r\n            \r\n        }\r\n    }","title":"(JAVA) Inheritance from user inputted values keeps getting null","body":"<p>I'm very new to java so my code might be very inefficient or downright wrong. I'm really sorry if this was a stupid question but my problem is when I print <code>mgr.getDetails()</code> all the user inputted values from <code>Employee</code>  are null.</p>\n<p>Here are the codes:</p>\n<p>Employee:</p>\n<pre><code>public class Employee {\n\n    protected int ID;\n\n    protected String firstName;\n    protected String lastName;\n    protected String middleName;\n    protected double salary;\n    protected String birthDate;\n\n    public String getDetails(){\n        return &quot;ID: &quot; + String.format(&quot;%03d&quot;, ID) + &quot;\\nName: &quot; + firstName + &quot;, &quot; + lastName + &quot;, &quot; + middleName + &quot;\\nBirthdate: &quot; + birthDate + \n                &quot;\\nSalary: &quot; + String.format(&quot;%,.2f&quot;,salary);\n    }\n    \n    public void setDetails(int ID, String firstName, String lastName, String middleName, String birthDate, double salary){\n        this.ID = ID;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.middleName = middleName;\n        this.birthDate = birthDate;\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n<p>Manager:</p>\n<pre><code>public class Manager extends Employee{\n\n    protected String department;\n\n    \n  \n    @Override\n    public String getDetails(){\n        return super.getDetails() + &quot;\\nDepartment: &quot; + department;\n    }   \n    public void setDetails(String department){\n        this.department = department;\n    }\n\n}\n</code></pre>\n<p>MainClass:</p>\n<pre><code>import java.util.Scanner;\npublic class MainClass {\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        Employee e = new Employee();\n        Manager mgr = new Manager();\n        \n        System.out.println(&quot;Enter ID: &quot;);\n        int ID = input.nextInt();\n        input.nextLine();\n        \n        System.out.println(&quot;Enter First Name: &quot;);\n        String firstName = input.nextLine();\n       \n        \n        System.out.println(&quot;Enter Middle Name: &quot;);\n        String middleName = input.nextLine();\n    \n        \n        System.out.println(&quot;Enter last Name: &quot;);\n        String lastName = input.nextLine();\n        \n        \n        System.out.println(&quot;Enter Salary: &quot;);\n        double salary = input.nextDouble();\n        input.nextLine();\n     \n        System.out.println(&quot;Enter Birthdate: &quot;);\n        String birthDate = input.nextLine();\n        e.setDetails(ID, firstName, lastName, middleName, birthDate, salary);\n        \n        System.out.println(&quot;Enter Department: &quot;);\n        String department = input.nextLine();\n        mgr.setDetails(department);\n        \n        System.out.println(mgr.getDetails());\n        input.close();\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","join"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666437653,"post_id":74162964,"comment_id":130939714,"body_markdown":"I think what you are looking is using `@ForeignKey`, does this [question](https://stackoverflow.com/questions/47511750/how-to-use-foreign-key-in-room-persistence-library) help you?","body":"I think what you are looking is using <code>@ForeignKey</code>, does this <a href=\"https://stackoverflow.com/questions/47511750/how-to-use-foreign-key-in-room-persistence-library\">question</a> help you?"},{"owner":{"account_id":12825618,"reputation":13,"user_id":9278770,"display_name":"oldgit"},"score":0,"creation_date":1666438024,"post_id":74162964,"comment_id":130939784,"body_markdown":"@TheLibrarian - quite possibly - thanks, I&#39;ll settle down for a good read. I had done all my searching using terms like JOIN and relationships. The idea of ForeignKey never entered my mind. Doh!","body":"@TheLibrarian - quite possibly - thanks, I&#39;ll settle down for a good read. I had done all my searching using terms like JOIN and relationships. The idea of ForeignKey never entered my mind. Doh!"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666438651,"post_id":74162964,"comment_id":130939905,"body_markdown":"There are easier other ways but ForeignKey is probably the best.","body":"There are easier other ways but ForeignKey is probably the best."},{"owner":{"account_id":12825618,"reputation":13,"user_id":9278770,"display_name":"oldgit"},"score":0,"creation_date":1666499555,"post_id":74162964,"comment_id":130949767,"body_markdown":"On reflection - and having found the documentation - what I was really looking for was the equivalent of a fairly simple LOOKUP type of approach.\n\nAnd this is easily provided by an Intermediate Data class - see [here](https://developer.android.com/training/data-storage/room/relationships#data-class)","body":"On reflection - and having found the documentation - what I was really looking for was the equivalent of a fairly simple LOOKUP type of approach.  And this is easily provided by an Intermediate Data class - see <a href=\"https://developer.android.com/training/data-storage/room/relationships#data-class\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1666532313,"post_id":74162964,"comment_id":130954634,"body_markdown":"Yeah, I still have half-written answer about that but that example is not your case. Your two entities are strictly tied to each other.","body":"Yeah, I still have half-written answer about that but that example is not your case. Your two entities are strictly tied to each other."}],"owner":{"account_id":12825618,"reputation":13,"user_id":9278770,"display_name":"oldgit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666436443,"creation_date":1666436443,"question_id":74162964,"body_markdown":"I&#39;ve recently started using LiveData in my project and was facing difficulties JOINing data from related tables. Not being able to find anything related to this on the web - links welcome, please, I started this morning to try and find a solution. \r\n\r\nSo, I put together a Product Entity class…\r\n\r\n```\r\n@Entity(tableName = &quot;products&quot;)\r\npublic class Product {\r\n    @PrimaryKey(autoGenerate = true)\r\n    @NonNull\r\n    int productID;\r\n\r\n    @NonNull\r\n    private String productName;\r\n\r\n    @NonNull\r\n    private String supplierName;\r\n    private int supplierID;\r\n    private int stocklevel;\r\n\r\n    public Product(@NonNull String productName, int supplierID) {\r\n        this.productName = productName;\r\n        this.supplierID = supplierID;\r\n        this.supplierName = &quot;Dummy Supplier&quot;;\r\n        stocklevel = 0;\r\n}\r\n```\r\nand a DAO with the query…\r\n\r\n```\r\n    @Query(&quot;SELECT products.*, suppliers.supplierName FROM products JOIN suppliers ON products.supplierID = suppliers.supplierID ORDER BY stocklevel DESC&quot;)\r\n    LiveData&lt;List&lt;Product&gt;&gt; getProductDetails();\r\n```\r\n\r\nso that, when the query is run, the placeholder text is overwritten by the supplierName from the related table. And it works! \r\n\r\nSo, my question is, &#39;Is this an acceptable way of proceeding? And, if not - what is?&#39;\r\n\r\nAny feedback? Or links?","title":"RoomDatabase LiveData JOIN fields","body":"<p>I've recently started using LiveData in my project and was facing difficulties JOINing data from related tables. Not being able to find anything related to this on the web - links welcome, please, I started this morning to try and find a solution.</p>\n<p>So, I put together a Product Entity class…</p>\n<pre><code>@Entity(tableName = &quot;products&quot;)\npublic class Product {\n    @PrimaryKey(autoGenerate = true)\n    @NonNull\n    int productID;\n\n    @NonNull\n    private String productName;\n\n    @NonNull\n    private String supplierName;\n    private int supplierID;\n    private int stocklevel;\n\n    public Product(@NonNull String productName, int supplierID) {\n        this.productName = productName;\n        this.supplierID = supplierID;\n        this.supplierName = &quot;Dummy Supplier&quot;;\n        stocklevel = 0;\n}\n</code></pre>\n<p>and a DAO with the query…</p>\n<pre><code>    @Query(&quot;SELECT products.*, suppliers.supplierName FROM products JOIN suppliers ON products.supplierID = suppliers.supplierID ORDER BY stocklevel DESC&quot;)\n    LiveData&lt;List&lt;Product&gt;&gt; getProductDetails();\n</code></pre>\n<p>so that, when the query is run, the placeholder text is overwritten by the supplierName from the related table. And it works!</p>\n<p>So, my question is, 'Is this an acceptable way of proceeding? And, if not - what is?'</p>\n<p>Any feedback? Or links?</p>\n"},{"tags":["java","list","algorithm","hashmap"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666435817,"post_id":74162662,"comment_id":130939347,"body_markdown":"What is &quot;the proper data&quot;, and what are you getting?","body":"What is &quot;the proper data&quot;, and what are you getting?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666435558,"creation_date":1666435558,"answer_id":74162853,"question_id":74162662,"body_markdown":"Basically, you have a disjointed [Graph](https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)) of Entities.\r\n\r\nTherefore, you need to implement a graph traversal algorithm in order to the data of the Entities into the resulting Map.\r\n\r\nOne of the simplest algorithms commonly used for such purposes is the [*Depth first search*](https://en.wikipedia.org/wiki/Depth-first_search).\r\n\r\nThe core idea behind this algorithm:\r\n* Maintain a Stack, containing the element that are being examined.\r\n* Search starts from the root element being pushed on the top of the stack.\r\n* Elements are being repeatedly removed from the top of the stack. And if the next element has children that haven&#39;t been yet seen, they are being pushed on the top of the stack.\r\n\r\nHere&#39;s how the iterative implementation might look like:\r\n\r\n    public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\r\n        \r\n        Map&lt;String, Entity&gt; result = new HashMap&lt;&gt;();\r\n        Set&lt;String&gt; seen = new HashSet&lt;&gt;();\r\n        \r\n        for (Entity e : entities) {\r\n            if (seen.add(e.getId())) { // entity was not previously encountered\r\n                addAllChildren(result, seen, e);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * Depth first search algorithm implementation\r\n     */\r\n    public static void addAllChildren(Map&lt;String, Entity&gt; result,\r\n                                      Set&lt;String&gt; seen,\r\n                                      Entity root) {\r\n        \r\n        Deque&lt;Entity&gt; stack = new ArrayDeque&lt;&gt;();\r\n        stack.push(root);\r\n        \r\n        while (!stack.isEmpty()) {\r\n            Entity current = stack.pop();\r\n            result.put(current.getId(), current);\r\n            \r\n            for (Entity child: current.getChildren()) {\r\n                if (seen.add(child.getId())) {\r\n                    stack.push(child);\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to convert a List&lt;Entity&gt; where each element points to other Entities into Map&lt;String, Entity&gt; in Java","body":"<p>Basically, you have a disjointed <a href=\"https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)\" rel=\"nofollow noreferrer\">Graph</a> of Entities.</p>\n<p>Therefore, you need to implement a graph traversal algorithm in order to the data of the Entities into the resulting Map.</p>\n<p>One of the simplest algorithms commonly used for such purposes is the <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search</em></a>.</p>\n<p>The core idea behind this algorithm:</p>\n<ul>\n<li>Maintain a Stack, containing the element that are being examined.</li>\n<li>Search starts from the root element being pushed on the top of the stack.</li>\n<li>Elements are being repeatedly removed from the top of the stack. And if the next element has children that haven't been yet seen, they are being pushed on the top of the stack.</li>\n</ul>\n<p>Here's how the iterative implementation might look like:</p>\n<pre><code>public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\n    \n    Map&lt;String, Entity&gt; result = new HashMap&lt;&gt;();\n    Set&lt;String&gt; seen = new HashSet&lt;&gt;();\n    \n    for (Entity e : entities) {\n        if (seen.add(e.getId())) { // entity was not previously encountered\n            addAllChildren(result, seen, e);\n        }\n    }\n    return result;\n}\n\n/**\n * Depth first search algorithm implementation\n */\npublic static void addAllChildren(Map&lt;String, Entity&gt; result,\n                                  Set&lt;String&gt; seen,\n                                  Entity root) {\n    \n    Deque&lt;Entity&gt; stack = new ArrayDeque&lt;&gt;();\n    stack.push(root);\n    \n    while (!stack.isEmpty()) {\n        Entity current = stack.pop();\n        result.put(current.getId(), current);\n        \n        for (Entity child: current.getChildren()) {\n            if (seen.add(child.getId())) {\n                stack.push(child);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74162853,"answer_count":1,"score":1,"last_activity_date":1666435948,"creation_date":1666433670,"question_id":74162662,"body_markdown":"I am having a class as\r\n\t\r\n\r\n    public class Entity {\r\n        private String id;\r\n        private List&lt;Entity&gt; children;\r\n        \r\n        // getters, constructor, etc.\r\n    }\r\n\r\nNow I need to convert this Entity class data into Map&lt;String, Entity&gt;\r\n\r\nMy Method accepts (List&lt;Entity&gt; entity) as Input and that need to be converted to Map \r\n\r\nI tried like:\r\n\r\n    public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\r\n        \r\n        Map&lt;String, Entity&gt; map = new HashMap&lt;&gt;();\r\n        for (Entity e : entities) {\r\n            if (!map.containsKey(e.getId())) {\r\n                map.put(e.getId(), ??? e.getChildren() ???); // my point of confusion\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n\r\nMy problem is that I don&#39;t know how to proceed at the point when I need to access children-entities via `getChildren()`. How it can be implemented to get the proper data?\r\n\r\n\r\nSample data format is as follows.\r\n\r\n    [\r\n     {\r\n     \tid: bos\r\n     \tchilds:[\r\n     \t\t{\r\n     \t\t\tid: manager1\r\n     \t\t\tchilds: [{id: worker11}, {id: worker12}]\r\n     \t\t},\r\n     \t\t{\r\n     \t\t\tid: manager2\r\n     \t\t\tchilds: [{id: worker21}, {id: worker22}]\r\n     \t\t}\r\n     \t]\r\n     }\r\n    ]\r\n\r\n","title":"How to convert a List&lt;Entity&gt; where each element points to other Entities into Map&lt;String, Entity&gt; in Java","body":"<p>I am having a class as</p>\n<pre><code>public class Entity {\n    private String id;\n    private List&lt;Entity&gt; children;\n    \n    // getters, constructor, etc.\n}\n</code></pre>\n<p>Now I need to convert this Entity class data into Map&lt;String, Entity&gt;</p>\n<p>My Method accepts (List entity) as Input and that need to be converted to Map</p>\n<p>I tried like:</p>\n<pre><code>public static Map&lt;String, Entity&gt; group(List&lt;Entity&gt; entities) {\n    \n    Map&lt;String, Entity&gt; map = new HashMap&lt;&gt;();\n    for (Entity e : entities) {\n        if (!map.containsKey(e.getId())) {\n            map.put(e.getId(), ??? e.getChildren() ???); // my point of confusion\n        }\n    }\n    return map;\n}\n</code></pre>\n<p>My problem is that I don't know how to proceed at the point when I need to access children-entities via <code>getChildren()</code>. How it can be implemented to get the proper data?</p>\n<p>Sample data format is as follows.</p>\n<pre><code>[\n {\n    id: bos\n    childs:[\n        {\n            id: manager1\n            childs: [{id: worker11}, {id: worker12}]\n        },\n        {\n            id: manager2\n            childs: [{id: worker21}, {id: worker22}]\n        }\n    ]\n }\n]\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1666433536,"post_id":74162630,"comment_id":130939013,"body_markdown":"I strongly recommend that you read up on prepared statements and parameterised SQL in general. Currently you&#39;re including both values directly in your SQL (which is a bad idea in terms of SQL Injection attacks; less so for integers, but it&#39;s best to parameterize *everything* non-constant) but expecting *one* of them to be a parameter. They should *both* be parameters, specified in the normal way. Searching for tutorials on PreparedStatement should help you a lot.","body":"I strongly recommend that you read up on prepared statements and parameterised SQL in general. Currently you&#39;re including both values directly in your SQL (which is a bad idea in terms of SQL Injection attacks; less so for integers, but it&#39;s best to parameterize <i>everything</i> non-constant) but expecting <i>one</i> of them to be a parameter. They should <i>both</i> be parameters, specified in the normal way. Searching for tutorials on PreparedStatement should help you a lot."}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1666433558,"post_id":74162640,"comment_id":130939020,"body_markdown":"Not going to suggest doing the same for the quantity?","body":"Not going to suggest doing the same for the quantity?"},{"owner":{"account_id":26700283,"reputation":1,"user_id":20307458,"display_name":"Mochi Gaga"},"score":0,"creation_date":1666434485,"post_id":74162640,"comment_id":130939158,"body_markdown":"its solve error but i need int Prid and newQty to calculate this :","body":"its solve error but i need int Prid and newQty to calculate this :"},{"owner":{"account_id":26700283,"reputation":1,"user_id":20307458,"display_name":"Mochi Gaga"},"score":0,"creation_date":1666434756,"post_id":74162640,"comment_id":130939197,"body_markdown":"private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                    \n        DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();\n        int Myindex = ProdTB.getSelectedRow();","body":"private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                             DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();         int Myindex = ProdTB.getSelectedRow();"},{"owner":{"account_id":26700283,"reputation":1,"user_id":20307458,"display_name":"Mochi Gaga"},"score":0,"creation_date":1666434766,"post_id":74162640,"comment_id":130939198,"body_markdown":"Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());\n        AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());        \n        try {\n            newQty = AvailQty - Integer.valueOf(ProdQty.getText());   \n        } catch (Exception e) {\n            \n        }        \n        ProdName.setText(model.getValueAt(Myindex, 1).toString());\n        Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());       \n    }","body":"Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());         AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());                 try {             newQty = AvailQty - Integer.valueOf(ProdQty.getText());            } catch (Exception e) {                      }                 ProdName.setText(model.getValueAt(Myindex, 1).toString());         Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());            }"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666463192,"post_id":74162640,"comment_id":130945072,"body_markdown":"you are asking a new question in comment. mark this answer and open new question and stop being ungrateful","body":"you are asking a new question in comment. mark this answer and open new question and stop being ungrateful"}],"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666434072,"creation_date":1666433508,"answer_id":74162640,"question_id":74162630,"body_markdown":"you specify that Prid is a [bind variable][1] but you also embed the value in the sql statement text.  \r\ninstead of embeddimg the value in the statement, you need to specify the placeholder for the bind variable:  \r\n`&quot;update product set ProdQty=&quot; + newQty + &quot; where ProdID = ?&quot;`\r\n\r\nit is also advisable to do the same for `newQty`. it improves performance of execution of similar statements, and mitigates the risk for [SQL injection][2] security vulnerability \r\n\r\n\r\n  [1]: https://www.databasestar.com/sql-bind-variables/\r\n  [2]: https://www.w3schools.com/sql/sql_injection.asp","title":"How to fix this error : Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<p>you specify that Prid is a <a href=\"https://www.databasestar.com/sql-bind-variables/\" rel=\"nofollow noreferrer\">bind variable</a> but you also embed the value in the sql statement text.<br />\ninstead of embeddimg the value in the statement, you need to specify the placeholder for the bind variable:<br />\n<code>&quot;update product set ProdQty=&quot; + newQty + &quot; where ProdID = ?&quot;</code></p>\n<p>it is also advisable to do the same for <code>newQty</code>. it improves performance of execution of similar statements, and mitigates the risk for <a href=\"https://www.w3schools.com/sql/sql_injection.asp\" rel=\"nofollow noreferrer\">SQL injection</a> security vulnerability</p>\n"}],"owner":{"account_id":26700283,"reputation":1,"user_id":20307458,"display_name":"Mochi Gaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1666435365,"creation_date":1666433350,"question_id":74162630,"body_markdown":"    int Prid,newQty;\r\n     public void Update()\r\n     {\r\n         String path=&quot;jdbc:mysql://localhost:3307/supermarket&quot;;\r\n         String user=&quot;root&quot;;\r\n         String pass=&quot;123456&quot;;\r\n         try {\r\n                con=DriverManager.getConnection(path, user, pass);\r\n                ps = con.prepareStatement(&quot;update product set ProdQty=&quot;+newQty+&quot;&quot;+&quot;where ProdID=&quot;+Prid);           \r\n                ps.setInt(1, Prid);               \r\n                ps.executeUpdate();                    \r\n                SelectSeller();\r\n            } catch (SQLException e) {\r\n               e.printStackTrace();\r\n            }\r\n     }\r\n\r\nI create int to update database table when calculated, but error\r\n\r\nthis code for calculate\r\n\r\n    private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                    \r\n        DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();\r\n        int Myindex = ProdTB.getSelectedRow();\r\n        Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());\r\n        AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());        \r\n        try {\r\n            newQty = AvailQty - Integer.valueOf(ProdQty.getText());   \r\n        } catch (Exception e) {\r\n            \r\n        }        \r\n        ProdName.setText(model.getValueAt(Myindex, 1).toString());\r\n        Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());      \r\n    }                                   \r\nI need to change variable ProdQty in product table when newQty = AvailQty - Integer.valueOf(ProdQty.getText()); \r\n\r\n    private void AddtoBillActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n    if(ProdQty.getText().isEmpty()|| ProdName.getText().isEmpty())\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Missing Information..&quot;);\r\n        }\r\n    else if(AvailQty &lt;= Integer.valueOf(ProdQty.getText()))\r\n    {\r\n        JOptionPane.showMessageDialog(this, &quot;Not Enough In Stock..&quot;);\r\n    }\r\n    else{\r\n        i++;\r\n            ProdTot = Uprice * Double.valueOf(ProdQty.getText());\r\n            GrdTotal = GrdTotal+ProdTot;\r\n        if(i==1)\r\n        {\r\n            Bill.setText(Bill.getText()+&quot;=============== SHOPPING MORE ==================\\n&quot;+&quot; NUM     PRODUCT     PRICE     QAUNTITY     SUBTOTAL\\n&quot;+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\r\n        }\r\n        else\r\n        {\r\n            Bill.setText(Bill.getText()+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\r\n        }\r\n        Grdtotal.setText(&quot;Total &quot;+GrdTotal);\r\n        Update();\r\n    }\r\n        \r\n    }                    \r\n\r\n \r\n\r\nI&#39;m a new for java please help me thanks.\r\n\r\n","title":"How to fix this error : Parameter index out of range (1 &gt; number of parameters, which is 0)","body":"<pre><code>int Prid,newQty;\n public void Update()\n {\n     String path=&quot;jdbc:mysql://localhost:3307/supermarket&quot;;\n     String user=&quot;root&quot;;\n     String pass=&quot;123456&quot;;\n     try {\n            con=DriverManager.getConnection(path, user, pass);\n            ps = con.prepareStatement(&quot;update product set ProdQty=&quot;+newQty+&quot;&quot;+&quot;where ProdID=&quot;+Prid);           \n            ps.setInt(1, Prid);               \n            ps.executeUpdate();                    \n            SelectSeller();\n        } catch (SQLException e) {\n           e.printStackTrace();\n        }\n }\n</code></pre>\n<p>I create int to update database table when calculated, but error</p>\n<p>this code for calculate</p>\n<pre><code>private void ProdTBMouseClicked(java.awt.event.MouseEvent evt) {                                    \n    DefaultTableModel model = (DefaultTableModel)ProdTB.getModel();\n    int Myindex = ProdTB.getSelectedRow();\n    Prid = Integer.valueOf(model.getValueAt(Myindex, 0).toString());\n    AvailQty = Integer.valueOf(model.getValueAt(Myindex, 2).toString());        \n    try {\n        newQty = AvailQty - Integer.valueOf(ProdQty.getText());   \n    } catch (Exception e) {\n        \n    }        \n    ProdName.setText(model.getValueAt(Myindex, 1).toString());\n    Uprice = Double.valueOf(model.getValueAt(Myindex, 3).toString());      \n}                                   \n</code></pre>\n<p>I need to change variable ProdQty in product table when newQty = AvailQty - Integer.valueOf(ProdQty.getText());</p>\n<pre><code>private void AddtoBillActionPerformed(java.awt.event.ActionEvent evt) {                                          \nif(ProdQty.getText().isEmpty()|| ProdName.getText().isEmpty())\n    {\n        JOptionPane.showMessageDialog(this, &quot;Missing Information..&quot;);\n    }\nelse if(AvailQty &lt;= Integer.valueOf(ProdQty.getText()))\n{\n    JOptionPane.showMessageDialog(this, &quot;Not Enough In Stock..&quot;);\n}\nelse{\n    i++;\n        ProdTot = Uprice * Double.valueOf(ProdQty.getText());\n        GrdTotal = GrdTotal+ProdTot;\n    if(i==1)\n    {\n        Bill.setText(Bill.getText()+&quot;=============== SHOPPING MORE ==================\\n&quot;+&quot; NUM     PRODUCT     PRICE     QAUNTITY     SUBTOTAL\\n&quot;+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\n    }\n    else\n    {\n        Bill.setText(Bill.getText()+&quot;    &quot;+i+&quot;         &quot;+ProdName.getText()+&quot;      &quot;+Uprice+&quot;              &quot;+ProdQty.getText()+&quot;               &quot;+ProdTot+&quot;\\n&quot;);\n    }\n    Grdtotal.setText(&quot;Total &quot;+GrdTotal);\n    Update();\n}\n    \n}                    \n</code></pre>\n<p>I'm a new for java please help me thanks.</p>\n"},{"tags":["java","spring","dependency-injection","inversion-of-control"],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666434942,"creation_date":1666434942,"answer_id":74162785,"question_id":73863233,"body_markdown":"&gt; What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its&#39; implementations?\r\n\r\nAn identifier could be that the bean implements a given interface of your type to inject, as in your example. This works with class as well, but it&#39;s less common. By type injection limits the total implementations that can be used in the IoC the exactly *one* bean per class-type, so can be uniquely identified in the given scope. On the other hand, you can extend the identification of a bean using with a name and reference to this name on the injection side (named bean).\r\n\r\n&gt; In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?\r\n\r\nYes, there is no obligation to use interfaces, but in practice you benefit a lot of using interfaces (i.e. decoupling from the implementation), so that the dependency does not rely on implementation specialities that are not specified in the interface, making it more feasible to inject a different bean implementation, such as often done in testing.\r\n\r\nIf you are using Spring IoC, which is quite popular, these documentations might help you. They are also mostly valid for other IoC containers.\r\n\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\r\n\r\nFor naming beans:\r\n* https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname\r\n\r\n","title":"What rules govern the mapping and assignment of dependency and injection in an IoC Container?","body":"<blockquote>\n<p>What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its' implementations?</p>\n</blockquote>\n<p>An identifier could be that the bean implements a given interface of your type to inject, as in your example. This works with class as well, but it's less common. By type injection limits the total implementations that can be used in the IoC the exactly <em>one</em> bean per class-type, so can be uniquely identified in the given scope. On the other hand, you can extend the identification of a bean using with a name and reference to this name on the injection side (named bean).</p>\n<blockquote>\n<p>In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?</p>\n</blockquote>\n<p>Yes, there is no obligation to use interfaces, but in practice you benefit a lot of using interfaces (i.e. decoupling from the implementation), so that the dependency does not rely on implementation specialities that are not specified in the interface, making it more feasible to inject a different bean implementation, such as often done in testing.</p>\n<p>If you are using Spring IoC, which is quite popular, these documentations might help you. They are also mostly valid for other IoC containers.</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html</a></li>\n</ul>\n<p>For naming beans:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-beanname</a></li>\n</ul>\n"}],"owner":{"account_id":5411133,"reputation":885,"user_id":4307872,"accept_rate":60,"display_name":"von spotz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666434942,"creation_date":1664260219,"question_id":73863233,"body_markdown":"what rules govern the mapping of beans (dependencies) to injection candidates (eligible for injection of a dependency) ?\r\n\r\nSay in a configuration file there is a builder function\r\n\r\n    @Autowired\r\n    MyFacilityInstance myFacility = MyFacilityConfigurer.builder()\r\n    .setA(ITypeA someIndentifierA),\r\n    .setB(ITypeB someIdentifierB));\r\n\r\nand I want to write beans to provide Instances for these two parameters by writing two beans. \r\n\r\nWhat is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its&#39; implementations? \r\n\r\n    @Bean\r\n    SomeImplementationA iTypeA() {\r\n      return new SomeImplementationA();\r\n    }\r\n    \r\n    @Bean\r\n    SomeImplementationA iTypeA() {\r\n      return new SomeImplementationA();\r\n    }\r\n\r\nIn this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?\r\n\r\nI&#39;m sure this is not all there is to the complexity of this mapping.\r\n\r\nCan you please answer my question insofar as is needed to correctly write Beans for other parts of a configuration file?\r\n\r\nAnd where can I read more on these rules? Do  you have a source for me?","title":"What rules govern the mapping and assignment of dependency and injection in an IoC Container?","body":"<p>what rules govern the mapping of beans (dependencies) to injection candidates (eligible for injection of a dependency) ?</p>\n<p>Say in a configuration file there is a builder function</p>\n<pre><code>@Autowired\nMyFacilityInstance myFacility = MyFacilityConfigurer.builder()\n.setA(ITypeA someIndentifierA),\n.setB(ITypeB someIdentifierB));\n</code></pre>\n<p>and I want to write beans to provide Instances for these two parameters by writing two beans.</p>\n<p>What is the identifier of the bean function? Is the identifier of the bean function the name of the Interface to be injected? And how do I type the bean-function (a.k.a dependency)? With the Interface to be instantiated or with the symbol for one of its' implementations?</p>\n<pre><code>@Bean\nSomeImplementationA iTypeA() {\n  return new SomeImplementationA();\n}\n\n@Bean\nSomeImplementationA iTypeA() {\n  return new SomeImplementationA();\n}\n</code></pre>\n<p>In this example I used Interfaces to be injected. But does this also work with normal classes that are injected with other subclasses?</p>\n<p>I'm sure this is not all there is to the complexity of this mapping.</p>\n<p>Can you please answer my question insofar as is needed to correctly write Beans for other parts of a configuration file?</p>\n<p>And where can I read more on these rules? Do  you have a source for me?</p>\n"},{"tags":["java","asynchronous","threadpoolexecutor"],"comments":[{"owner":{"account_id":1878548,"reputation":27164,"user_id":1699210,"display_name":"bummi"},"score":0,"creation_date":1373969105,"post_id":17659510,"comment_id":25744745,"body_markdown":"possible duplicate of [ThreadPoolExecutor - Core and maximum pool sizes](http://stackoverflow.com/questions/17660048/threadpoolexecutor-core-and-maximum-pool-sizes)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/17660048/threadpoolexecutor-core-and-maximum-pool-sizes\">ThreadPoolExecutor - Core and maximum pool sizes</a>"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":3,"creation_date":1491741381,"post_id":17659510,"comment_id":73678228,"body_markdown":"Possible duplicate of [What is the difference between corePoolSize and maxPoolSize in the Spring ThreadPoolTaskExecutor](http://stackoverflow.com/questions/1878806/what-is-the-difference-between-corepoolsize-and-maxpoolsize-in-the-spring-thread)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1878806/what-is-the-difference-between-corepoolsize-and-maxpoolsize-in-the-spring-thread\">What is the difference between corePoolSize and maxPoolSize in the Spring ThreadPoolTaskExecutor</a>"}],"answers":[{"comments":[{"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"score":0,"creation_date":1373908652,"post_id":17659569,"comment_id":25720668,"body_markdown":"1)When a new task is submitted in method execute(java.lang.Runnable),and fewer than corePoolSize threads are running,a new thread is created to handle the request,even if other worker threads are idle. \n\nWhy there is a need to create a new thread to handle the request if there are idle threads?","body":"1)When a new task is submitted in method execute(java.lang.Runnable),and fewer than corePoolSize threads are running,a new thread is created to handle the request,even if other worker threads are idle.   Why there is a need to create a new thread to handle the request if there are idle threads?"},{"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"score":1,"creation_date":1373908668,"post_id":17659569,"comment_id":25720678,"body_markdown":"2) If there are more than corePoolSize but less than maximumPoolSize threads running, a new thread will be created only if the queue is full.\n\nI don&#39;t understand the difference between corePoolSize and maximumPoolSize here. Secondly, how  can a queue is full when threads are less than maximumPoolSize? Queue can only be full if threads are equal to maximumPoolSize. Isn&#39;t it?","body":"2) If there are more than corePoolSize but less than maximumPoolSize threads running, a new thread will be created only if the queue is full.  I don&#39;t understand the difference between corePoolSize and maximumPoolSize here. Secondly, how  can a queue is full when threads are less than maximumPoolSize? Queue can only be full if threads are equal to maximumPoolSize. Isn&#39;t it?"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1373907195,"creation_date":1373907195,"answer_id":17659569,"question_id":17659510,"body_markdown":"From [the doc][1]:\r\n\r\n&gt; When a new task is submitted in method execute(java.lang.Runnable),\r\n&gt; and fewer than corePoolSize threads are running, a new thread is\r\n&gt; created to handle the request, even if other worker threads are idle.\r\n&gt; If there are more than corePoolSize but less than maximumPoolSize\r\n&gt; threads running, a new thread will be created only if the queue is\r\n&gt; full. \r\n\r\nFurthermore:\r\n\r\n&gt; By setting corePoolSize and maximumPoolSize the same, you create\r\n&gt; a fixed-size thread pool. By setting maximumPoolSize to an essentially\r\n&gt; unbounded value such as Integer.MAX_VALUE, you allow the pool to\r\n&gt; accommodate an arbitrary number of concurrent tasks. Most typically,\r\n&gt; core and maximum pool sizes are set only upon construction, but they\r\n&gt; may also be changed dynamically using setCorePoolSize(int) and\r\n&gt; setMaximumPoolSize(int).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\">the doc</a>:</p>\n\n<blockquote>\n  <p>When a new task is submitted in method execute(java.lang.Runnable),\n  and fewer than corePoolSize threads are running, a new thread is\n  created to handle the request, even if other worker threads are idle.\n  If there are more than corePoolSize but less than maximumPoolSize\n  threads running, a new thread will be created only if the queue is\n  full. </p>\n</blockquote>\n\n<p>Furthermore:</p>\n\n<blockquote>\n  <p>By setting corePoolSize and maximumPoolSize the same, you create\n  a fixed-size thread pool. By setting maximumPoolSize to an essentially\n  unbounded value such as Integer.MAX_VALUE, you allow the pool to\n  accommodate an arbitrary number of concurrent tasks. Most typically,\n  core and maximum pool sizes are set only upon construction, but they\n  may also be changed dynamically using setCorePoolSize(int) and\n  setMaximumPoolSize(int).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":166232,"reputation":20445,"user_id":390227,"accept_rate":71,"display_name":"Glide"},"score":1,"creation_date":1423881174,"post_id":17669660,"comment_id":45342278,"body_markdown":"Is this correct? I thought new threads will be created until it reaches maxPoolSize. Then any new threads will be put in the queue. Please correct me if I&#39;m wrong..","body":"Is this correct? I thought new threads will be created until it reaches maxPoolSize. Then any new threads will be put in the queue. Please correct me if I&#39;m wrong.."},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":9,"creation_date":1435566858,"post_id":17669660,"comment_id":50236166,"body_markdown":"There is an interesting method `allowCoreThreadTimeOut(boolean)` which allows core threads to be killed after given idle time. Setting this to true and setting `core threads` = `max threads` allows the thread pool to scale between 0 and `max threads`.","body":"There is an interesting method <code>allowCoreThreadTimeOut(boolean)</code> which allows core threads to be killed after given idle time. Setting this to true and setting <code>core threads</code> = <code>max threads</code> allows the thread pool to scale between 0 and <code>max threads</code>."},{"owner":{"account_id":51513,"reputation":1175,"user_id":153940,"accept_rate":58,"display_name":"Kumar Manish"},"score":4,"creation_date":1438509349,"post_id":17669660,"comment_id":51472342,"body_markdown":"You just copied it from here http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size","body":"You just copied it from here <a href=\"http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size\" rel=\"nofollow noreferrer\">bigsoft.co.uk/blog/index.php/2009/11/27/&hellip;</a>"},{"owner":{"account_id":17554,"reputation":17604,"user_id":39396,"accept_rate":81,"display_name":"Carl G"},"score":0,"creation_date":1455735209,"post_id":17669660,"comment_id":58626146,"body_markdown":"You can use [`prestartCoreThread()`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#prestartCoreThread()) or [`prestartAllCoreThreads()`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#prestartAllCoreThreads()) if you want to jump-start the number of threads running initially.","body":"You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#prestartCoreThread()\" rel=\"nofollow noreferrer\"><code>prestartCoreThread()</code></a> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#prestartAllCoreThreads()\" rel=\"nofollow noreferrer\"><code>prestartAllCoreThreads()</code></a> if you want to jump-start the number of threads running initially."},{"owner":{"account_id":2265959,"reputation":323,"user_id":1994629,"accept_rate":82,"display_name":"Wax"},"score":1,"creation_date":1497509685,"post_id":17669660,"comment_id":76110368,"body_markdown":"What happens to the rejected tasks?","body":"What happens to the rejected tasks?"},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1629874424,"post_id":17669660,"comment_id":121798556,"body_markdown":"Based on documentation https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html &quot; When a new task is submitted in method execute(java.lang.Runnable), and fewer than corePoolSize threads are running, a new thread is created to handle the request&quot;, the blogpost you&#39;re referencing has a misleading &quot;Starting thread pool size is 1&quot; line","body":"Based on documentation <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a> &quot; When a new task is submitted in method execute(java.lang.Runnable), and fewer than corePoolSize threads are running, a new thread is created to handle the request&quot;, the blogpost you&#39;re referencing has a misleading &quot;Starting thread pool size is 1&quot; line"}],"tags":[],"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"comment_count":6,"down_vote_count":3,"up_vote_count":180,"is_accepted":false,"score":177,"last_activity_date":1502443003,"creation_date":1373956812,"answer_id":17669660,"question_id":17659510,"body_markdown":"From [this blog post](http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size):\n\n&gt; Take this example. Starting thread pool size is 1, core pool size is\n&gt; 5, max pool size is 10 and the queue is 100. \n&gt;\n&gt; As requests come in,\n&gt; threads will be created up to 5 and then tasks will be added to the\n&gt; queue until it reaches 100. When the queue is full new threads will be\n&gt; created up to `maxPoolSize`. Once all the threads are in use and the\n&gt; queue is full tasks will be rejected. As the queue reduces, so does\n&gt; the number of active threads.","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From <a href=\"http://www.bigsoft.co.uk/blog/index.php/2009/11/27/rules-of-a-threadpoolexecutor-pool-size\" rel=\"noreferrer\">this blog post</a>:</p>\n<blockquote>\n<p>Take this example. Starting thread pool size is 1, core pool size is\n5, max pool size is 10 and the queue is 100.</p>\n<p>As requests come in,\nthreads will be created up to 5 and then tasks will be added to the\nqueue until it reaches 100. When the queue is full new threads will be\ncreated up to <code>maxPoolSize</code>. Once all the threads are in use and the\nqueue is full tasks will be rejected. As the queue reduces, so does\nthe number of active threads.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1160911,"reputation":351,"user_id":2796545,"display_name":"Braj Kishore"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378133164,"creation_date":1378118444,"answer_id":18571236,"question_id":17659510,"body_markdown":"You can find the definition of the terms corepoolsize and maxpoolsize in the javadoc. http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n\r\nThe link above has the answer to your question. However, just to make it clear. The application will keep creating threads till it reaches the corePoolSize. \r\nI think the idea here is that these many threads should be sufficient to handle the inflow of tasks. If a new task comes after the corePoolSize threads are created the tasks will be queued. Once the queue is full the executor will start creating new threads. It is kind of balancing. What it essentially means is that the inflow of tasks is more than the processing capacity. So, Executor will start creating new threads again till it reaches Max number of threads. Again, a new threads will be created if and only if the queue is full.\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>You can find the definition of the terms corepoolsize and maxpoolsize in the javadoc. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html</a></p>\n\n<p>The link above has the answer to your question. However, just to make it clear. The application will keep creating threads till it reaches the corePoolSize. \nI think the idea here is that these many threads should be sufficient to handle the inflow of tasks. If a new task comes after the corePoolSize threads are created the tasks will be queued. Once the queue is full the executor will start creating new threads. It is kind of balancing. What it essentially means is that the inflow of tasks is more than the processing capacity. So, Executor will start creating new threads again till it reaches Max number of threads. Again, a new threads will be created if and only if the queue is full.</p>\n"},{"tags":[],"owner":{"account_id":6623450,"reputation":599,"user_id":5114375,"display_name":"Prashant Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510664653,"creation_date":1440503542,"answer_id":32203277,"question_id":17659510,"body_markdown":"If you decide to create a `ThreadPoolExecutor` manually instead of using the `Executors` factory class, you will need to create and configure one using one of its constructors. The most extensive constructor of this class is:\r\n\r\n    public ThreadPoolExecutor(\r\n        int corePoolSize,\r\n        int maxPoolSize,\r\n        long keepAlive,\r\n        TimeUnit unit,\r\n        BlockingQueue&lt;Runnable&gt; workQueue,\r\n        RejectedExecutionHandler handler\r\n    );\r\n\r\nAs you can see, you can configure:\r\n\r\n - The core pool size (the size the thread pool will try to stick with).\r\n - The maximum pool size.\r\n - The keep alive time, which is a time after which an idle thread is eligible for being torn down.\r\n - The work queue to hold tasks awaiting execution.\r\n - The policy to apply when a task submission is rejected.\r\n\r\n## Limiting the Number of Queued Tasks\r\n\r\nLimiting the number of concurrent tasks being executing, sizing your thread pool, represents a huge benefit for your application and its execution environment in terms of predictability and stability: an unbounded thread creation will eventually exhaust the runtime resources and your application might experience as a consequence, serious performance problems that may lead even to application instability.\r\n\r\nThat&#39;s a solution to just one part of the problem: you&#39;re capping the number of tasks being executed but aren&#39;t capping the number of jobs that can be submitted and enqueued for later execution. The application will experience resource shortage later, but it will eventually experience it if the submission rate consistently outgrows the execution rate.\r\n\r\nThe solution to this problem is:\r\nProviding a blocking queue to the executor to hold the awaiting tasks. In the case the queue fills up, the submitted task will be &quot;rejected&quot;.\r\nThe `RejectedExecutionHandler` is invoked when a task submission is rejected, and that&#39;s why the verb rejected was quoted in the previous item. You can implement your own rejection policy or use one of the built-in policies provided by the framework.\r\n\r\nThe default rejection policies has the executor throw a `RejectedExecutionException`. However, other built-in policies let you:\r\n\r\n - Discard a job silently.\r\n - Discard the oldest job and try to resubmit the last one.\r\n - Execute the rejected task on the caller&#39;s thread.\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>If you decide to create a <code>ThreadPoolExecutor</code> manually instead of using the <code>Executors</code> factory class, you will need to create and configure one using one of its constructors. The most extensive constructor of this class is:</p>\n\n<pre><code>public ThreadPoolExecutor(\n    int corePoolSize,\n    int maxPoolSize,\n    long keepAlive,\n    TimeUnit unit,\n    BlockingQueue&lt;Runnable&gt; workQueue,\n    RejectedExecutionHandler handler\n);\n</code></pre>\n\n<p>As you can see, you can configure:</p>\n\n<ul>\n<li>The core pool size (the size the thread pool will try to stick with).</li>\n<li>The maximum pool size.</li>\n<li>The keep alive time, which is a time after which an idle thread is eligible for being torn down.</li>\n<li>The work queue to hold tasks awaiting execution.</li>\n<li>The policy to apply when a task submission is rejected.</li>\n</ul>\n\n<h2>Limiting the Number of Queued Tasks</h2>\n\n<p>Limiting the number of concurrent tasks being executing, sizing your thread pool, represents a huge benefit for your application and its execution environment in terms of predictability and stability: an unbounded thread creation will eventually exhaust the runtime resources and your application might experience as a consequence, serious performance problems that may lead even to application instability.</p>\n\n<p>That's a solution to just one part of the problem: you're capping the number of tasks being executed but aren't capping the number of jobs that can be submitted and enqueued for later execution. The application will experience resource shortage later, but it will eventually experience it if the submission rate consistently outgrows the execution rate.</p>\n\n<p>The solution to this problem is:\nProviding a blocking queue to the executor to hold the awaiting tasks. In the case the queue fills up, the submitted task will be \"rejected\".\nThe <code>RejectedExecutionHandler</code> is invoked when a task submission is rejected, and that's why the verb rejected was quoted in the previous item. You can implement your own rejection policy or use one of the built-in policies provided by the framework.</p>\n\n<p>The default rejection policies has the executor throw a <code>RejectedExecutionException</code>. However, other built-in policies let you:</p>\n\n<ul>\n<li>Discard a job silently.</li>\n<li>Discard the oldest job and try to resubmit the last one.</li>\n<li>Execute the rejected task on the caller's thread.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4915640,"reputation":1062,"user_id":3959647,"display_name":"Darshan Dalwadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1647517549,"creation_date":1517033558,"answer_id":48473149,"question_id":17659510,"body_markdown":"IF **running threads &gt; corePoolSize &amp; &lt; maxPoolSize**, then create a new Thread if Total task queue is full and new one is arriving.\r\n\r\nFrom doc:\r\n(If there are more than **corePoolSize** but less than **maximumPoolSize** threads running, a new thread will be created only if the queue is full.)\r\n\r\nNow, Take a simple example,\r\n\r\n    ThreadPoolExecutor executorPool = new ThreadPoolExecutor(5, 10, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(50));\r\n\r\n**Here, 5 is the corePoolSize** - means Jvm will create new thread for new task for first 5 tasks. and other tasks will be added to the queue until queue is getting full (50 tasks).\r\n\r\n**10 is the maxPoolSize** - JVM can create max 10 threads. \r\nMeans if there are already 5 task/thread is running and queue is full with 50 pending tasks and if one more new request/task is arriving in queue then JVM will create new thread up to 10 (total threads=previous 5 + new 5);\r\n\r\n**new ArrayBlockingQueue&lt;Runnable&gt;(50)** = is a total queue size - it can queue 50 tasks in it.\r\n\r\nonce all 10 threads are running and if new task is arriving then that new task will be rejected.\r\n\r\n**Rules for creating Threads internally by SUN:**\r\n\r\n1. If the number of threads is less than the corePoolSize, create a new Thread to run a new task.\r\n\r\n2. If the number of threads is equal (or greater than) the corePoolSize, put the task into the queue.\r\n\r\n3. If the queue is full, and the number of threads is less than the maxPoolSize, create a new thread to run tasks in.\r\n\r\n4. If the queue is full, and the number of threads is greater than or equal to maxPoolSize, reject the task.\r\n\r\n\r\n**Hope, This is HelpFul.. and please correct me if i&#39;m wrong...**","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>IF <strong>running threads &gt; corePoolSize &amp; &lt; maxPoolSize</strong>, then create a new Thread if Total task queue is full and new one is arriving.</p>\n<p>From doc:\n(If there are more than <strong>corePoolSize</strong> but less than <strong>maximumPoolSize</strong> threads running, a new thread will be created only if the queue is full.)</p>\n<p>Now, Take a simple example,</p>\n<pre><code>ThreadPoolExecutor executorPool = new ThreadPoolExecutor(5, 10, 3, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(50));\n</code></pre>\n<p><strong>Here, 5 is the corePoolSize</strong> - means Jvm will create new thread for new task for first 5 tasks. and other tasks will be added to the queue until queue is getting full (50 tasks).</p>\n<p><strong>10 is the maxPoolSize</strong> - JVM can create max 10 threads.\nMeans if there are already 5 task/thread is running and queue is full with 50 pending tasks and if one more new request/task is arriving in queue then JVM will create new thread up to 10 (total threads=previous 5 + new 5);</p>\n<p><strong>new ArrayBlockingQueue(50)</strong> = is a total queue size - it can queue 50 tasks in it.</p>\n<p>once all 10 threads are running and if new task is arriving then that new task will be rejected.</p>\n<p><strong>Rules for creating Threads internally by SUN:</strong></p>\n<ol>\n<li><p>If the number of threads is less than the corePoolSize, create a new Thread to run a new task.</p>\n</li>\n<li><p>If the number of threads is equal (or greater than) the corePoolSize, put the task into the queue.</p>\n</li>\n<li><p>If the queue is full, and the number of threads is less than the maxPoolSize, create a new thread to run tasks in.</p>\n</li>\n<li><p>If the queue is full, and the number of threads is greater than or equal to maxPoolSize, reject the task.</p>\n</li>\n</ol>\n<p><strong>Hope, This is HelpFul.. and please correct me if i'm wrong...</strong></p>\n"},{"tags":[],"owner":{"account_id":6127426,"reputation":63,"user_id":4778864,"display_name":"rxt66"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527473063,"creation_date":1527458112,"answer_id":50556865,"question_id":17659510,"body_markdown":"Good explanation in [this][1] blog:\r\n\r\n\r\n [Illustration][2]\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html &quot;this&quot;\r\n  [2]: https://i.stack.imgur.com/SBLH1.png\r\n\r\n\r\n\r\n    public class ThreadPoolExecutorExample {\r\n    \r\n        public static void main (String[] args) {\r\n            createAndRunPoolForQueue(new ArrayBlockingQueue&lt;Runnable&gt;(3), &quot;Bounded&quot;);\r\n            createAndRunPoolForQueue(new LinkedBlockingDeque&lt;&gt;(), &quot;Unbounded&quot;);\r\n            createAndRunPoolForQueue(new SynchronousQueue&lt;Runnable&gt;(), &quot;Direct hand-off&quot;);\r\n        }\r\n    \r\n        private static void createAndRunPoolForQueue (BlockingQueue&lt;Runnable&gt; queue,\r\n                                                                          String msg) {\r\n            System.out.println(&quot;---- &quot; + msg + &quot; queue instance = &quot; +\r\n                                                      queue.getClass()+ &quot; -------------&quot;);\r\n    \r\n            ThreadPoolExecutor e = new ThreadPoolExecutor(2, 5, Long.MAX_VALUE,\r\n                                     TimeUnit.NANOSECONDS, queue);\r\n    \r\n            for (int i = 0; i &lt; 10; i++) {\r\n                try {\r\n                    e.execute(new Task());\r\n                } catch (RejectedExecutionException ex) {\r\n                    System.out.println(&quot;Task rejected = &quot; + (i + 1));\r\n                }\r\n                printStatus(i + 1, e);\r\n            }\r\n    \r\n            e.shutdownNow();\r\n    \r\n            System.out.println(&quot;--------------------\\n&quot;);\r\n        }\r\n    \r\n        private static void printStatus (int taskSubmitted, ThreadPoolExecutor e) {\r\n            StringBuilder s = new StringBuilder();\r\n            s.append(&quot;poolSize = &quot;)\r\n             .append(e.getPoolSize())\r\n             .append(&quot;, corePoolSize = &quot;)\r\n             .append(e.getCorePoolSize())\r\n             .append(&quot;, queueSize = &quot;)\r\n             .append(e.getQueue()\r\n                      .size())\r\n             .append(&quot;, queueRemainingCapacity = &quot;)\r\n             .append(e.getQueue()\r\n                      .remainingCapacity())\r\n             .append(&quot;, maximumPoolSize = &quot;)\r\n             .append(e.getMaximumPoolSize())\r\n             .append(&quot;, totalTasksSubmitted = &quot;)\r\n             .append(taskSubmitted);\r\n    \r\n            System.out.println(s.toString());\r\n        }\r\n    \r\n        private static class Task implements Runnable {\r\n    \r\n            @Override\r\n            public void run () {\r\n                while (true) {\r\n                    try {\r\n                        Thread.sleep(1000000);\r\n                    } catch (InterruptedException e) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nOutput :\r\n\r\n    ---- Bounded queue instance = class java.util.concurrent.ArrayBlockingQueue -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 2, corePoolSize = 2, queueSize = 2, queueCapacity = 1, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    poolSize = 3, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    poolSize = 4, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    Task rejected = 9\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    Task rejected = 10\r\n    poolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    ---- Unbounded queue instance = class java.util.concurrent.LinkedBlockingDeque -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2147483646, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 2, corePoolSize = 2, queueSize = 2, queueRemainingCapacity = 2147483645, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 2147483644, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    poolSize = 2, corePoolSize = 2, queueSize = 4, queueRemainingCapacity = 2147483643, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    poolSize = 2, corePoolSize = 2, queueSize = 5, queueRemainingCapacity = 2147483642, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    poolSize = 2, corePoolSize = 2, queueSize = 6, queueRemainingCapacity = 2147483641, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    poolSize = 2, corePoolSize = 2, queueSize = 7, queueRemainingCapacity = 2147483640, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    poolSize = 2, corePoolSize = 2, queueSize = 8, queueRemainingCapacity = 2147483639, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    ---- Direct hand-off queue instance = class java.util.concurrent.SynchronousQueue -------------\r\n    poolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 1\r\n    poolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 2\r\n    poolSize = 3, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 3\r\n    poolSize = 4, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 4\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\r\n    Task rejected = 6\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\r\n    Task rejected = 7\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\r\n    Task rejected = 8\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\r\n    Task rejected = 9\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\r\n    Task rejected = 10\r\n    poolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\r\n    --------------------\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>Good explanation in <a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html\" rel=\"nofollow noreferrer\" title=\"this\">this</a> blog:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SBLH1.png\" rel=\"nofollow noreferrer\">Illustration</a></p>\n\n<pre><code>public class ThreadPoolExecutorExample {\n\n    public static void main (String[] args) {\n        createAndRunPoolForQueue(new ArrayBlockingQueue&lt;Runnable&gt;(3), \"Bounded\");\n        createAndRunPoolForQueue(new LinkedBlockingDeque&lt;&gt;(), \"Unbounded\");\n        createAndRunPoolForQueue(new SynchronousQueue&lt;Runnable&gt;(), \"Direct hand-off\");\n    }\n\n    private static void createAndRunPoolForQueue (BlockingQueue&lt;Runnable&gt; queue,\n                                                                      String msg) {\n        System.out.println(\"---- \" + msg + \" queue instance = \" +\n                                                  queue.getClass()+ \" -------------\");\n\n        ThreadPoolExecutor e = new ThreadPoolExecutor(2, 5, Long.MAX_VALUE,\n                                 TimeUnit.NANOSECONDS, queue);\n\n        for (int i = 0; i &lt; 10; i++) {\n            try {\n                e.execute(new Task());\n            } catch (RejectedExecutionException ex) {\n                System.out.println(\"Task rejected = \" + (i + 1));\n            }\n            printStatus(i + 1, e);\n        }\n\n        e.shutdownNow();\n\n        System.out.println(\"--------------------\\n\");\n    }\n\n    private static void printStatus (int taskSubmitted, ThreadPoolExecutor e) {\n        StringBuilder s = new StringBuilder();\n        s.append(\"poolSize = \")\n         .append(e.getPoolSize())\n         .append(\", corePoolSize = \")\n         .append(e.getCorePoolSize())\n         .append(\", queueSize = \")\n         .append(e.getQueue()\n                  .size())\n         .append(\", queueRemainingCapacity = \")\n         .append(e.getQueue()\n                  .remainingCapacity())\n         .append(\", maximumPoolSize = \")\n         .append(e.getMaximumPoolSize())\n         .append(\", totalTasksSubmitted = \")\n         .append(taskSubmitted);\n\n        System.out.println(s.toString());\n    }\n\n    private static class Task implements Runnable {\n\n        @Override\n        public void run () {\n            while (true) {\n                try {\n                    Thread.sleep(1000000);\n                } catch (InterruptedException e) {\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>---- Bounded queue instance = class java.util.concurrent.ArrayBlockingQueue -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 3, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 2, corePoolSize = 2, queueSize = 2, queueCapacity = 1, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\npoolSize = 3, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\npoolSize = 4, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\nTask rejected = 9\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\nTask rejected = 10\npoolSize = 5, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n---- Unbounded queue instance = class java.util.concurrent.LinkedBlockingDeque -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 2147483647, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 2, corePoolSize = 2, queueSize = 1, queueRemainingCapacity = 2147483646, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 2, corePoolSize = 2, queueSize = 2, queueRemainingCapacity = 2147483645, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 2, corePoolSize = 2, queueSize = 3, queueRemainingCapacity = 2147483644, maximumPoolSize = 5, totalTasksSubmitted = 5\npoolSize = 2, corePoolSize = 2, queueSize = 4, queueRemainingCapacity = 2147483643, maximumPoolSize = 5, totalTasksSubmitted = 6\npoolSize = 2, corePoolSize = 2, queueSize = 5, queueRemainingCapacity = 2147483642, maximumPoolSize = 5, totalTasksSubmitted = 7\npoolSize = 2, corePoolSize = 2, queueSize = 6, queueRemainingCapacity = 2147483641, maximumPoolSize = 5, totalTasksSubmitted = 8\npoolSize = 2, corePoolSize = 2, queueSize = 7, queueRemainingCapacity = 2147483640, maximumPoolSize = 5, totalTasksSubmitted = 9\npoolSize = 2, corePoolSize = 2, queueSize = 8, queueRemainingCapacity = 2147483639, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n---- Direct hand-off queue instance = class java.util.concurrent.SynchronousQueue -------------\npoolSize = 1, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 1\npoolSize = 2, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 2\npoolSize = 3, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 3\npoolSize = 4, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 4\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 5\nTask rejected = 6\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 6\nTask rejected = 7\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 7\nTask rejected = 8\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 8\nTask rejected = 9\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 9\nTask rejected = 10\npoolSize = 5, corePoolSize = 2, queueSize = 0, queueRemainingCapacity = 0, maximumPoolSize = 5, totalTasksSubmitted = 10\n--------------------\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539603648,"creation_date":1539603648,"answer_id":52815987,"question_id":17659510,"body_markdown":"java.util.concurrent.ThreadPoolExecutor\r\n\r\n      public void execute(Runnable command) {\r\n            if (command == null)\r\n                throw new NullPointerException();\r\n            /*\r\n             * Proceed in 3 steps:\r\n             *\r\n             * 1. If fewer than corePoolSize threads are running, try to\r\n             * start a new thread with the given command as its first\r\n             * task.  The call to addWorker atomically checks runState and\r\n             * workerCount, and so prevents false alarms that would add\r\n             * threads when it shouldn&#39;t, by returning false.\r\n             *\r\n             * 2. If a task can be successfully queued, then we still need\r\n             * to double-check whether we should have added a thread\r\n             * (because existing ones died since last checking) or that\r\n             * the pool shut down since entry into this method. So we\r\n             * recheck state and if necessary roll back the enqueuing if\r\n             * stopped, or start a new thread if there are none.\r\n             *\r\n             * 3. If we cannot queue task, then we try to add a new\r\n             * thread.  If it fails, we know we are shut down or saturated\r\n             * and so reject the task.\r\n             */\r\n            int c = ctl.get();\r\n            if (workerCountOf(c) &lt; corePoolSize) {\r\n                if (addWorker(command, true))\r\n                    return;\r\n                c = ctl.get();\r\n            }\r\n            if (isRunning(c) &amp;&amp; workQueue.offer(command)) {\r\n                int recheck = ctl.get();\r\n                if (! isRunning(recheck) &amp;&amp; remove(command))\r\n                    reject(command);\r\n                else if (workerCountOf(recheck) == 0)\r\n                    addWorker(null, false);\r\n            }\r\n            else if (!addWorker(command, false))\r\n                reject(command);\r\n        }","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>java.util.concurrent.ThreadPoolExecutor</p>\n\n<pre><code>  public void execute(Runnable command) {\n        if (command == null)\n            throw new NullPointerException();\n        /*\n         * Proceed in 3 steps:\n         *\n         * 1. If fewer than corePoolSize threads are running, try to\n         * start a new thread with the given command as its first\n         * task.  The call to addWorker atomically checks runState and\n         * workerCount, and so prevents false alarms that would add\n         * threads when it shouldn't, by returning false.\n         *\n         * 2. If a task can be successfully queued, then we still need\n         * to double-check whether we should have added a thread\n         * (because existing ones died since last checking) or that\n         * the pool shut down since entry into this method. So we\n         * recheck state and if necessary roll back the enqueuing if\n         * stopped, or start a new thread if there are none.\n         *\n         * 3. If we cannot queue task, then we try to add a new\n         * thread.  If it fails, we know we are shut down or saturated\n         * and so reject the task.\n         */\n        int c = ctl.get();\n        if (workerCountOf(c) &lt; corePoolSize) {\n            if (addWorker(command, true))\n                return;\n            c = ctl.get();\n        }\n        if (isRunning(c) &amp;&amp; workQueue.offer(command)) {\n            int recheck = ctl.get();\n            if (! isRunning(recheck) &amp;&amp; remove(command))\n                reject(command);\n            else if (workerCountOf(recheck) == 0)\n                addWorker(null, false);\n        }\n        else if (!addWorker(command, false))\n            reject(command);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566824896,"creation_date":1566824896,"answer_id":57658549,"question_id":17659510,"body_markdown":"From the book **Java concurency essentials** : \r\n\r\n**CorePoolSize**: The ThreadPoolExecutor has an attribute corePoolSize that determines how many threads it will start\r\nuntil new threads are only started when the queue is full\r\n\r\n**MaximumPoolSize**: This attribute determines how many threads are started at the maximum. You can set this to Integer.\r\nMAX_VALUE in order to have no upper boundary\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>From the book <strong>Java concurency essentials</strong> : </p>\n\n<p><strong>CorePoolSize</strong>: The ThreadPoolExecutor has an attribute corePoolSize that determines how many threads it will start\nuntil new threads are only started when the queue is full</p>\n\n<p><strong>MaximumPoolSize</strong>: This attribute determines how many threads are started at the maximum. You can set this to Integer.\nMAX_VALUE in order to have no upper boundary</p>\n"},{"tags":[],"owner":{"account_id":1150739,"reputation":7888,"user_id":1132522,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575573875,"creation_date":1575573170,"answer_id":59201879,"question_id":17659510,"body_markdown":"Understanding the internal behavior of the `ThreadPoolExecutor ` when a new task is submitted helped me understand how `corePoolSize` and `maximumPoolSize` differ.\r\n\r\nLet:\r\n\r\n- `N` be the number of threads in the pool, `getPoolSize()`. Active threads + idle threads. \r\n- `T` be the amount of tasks submitted to the executor/pool.\r\n- `C` be the core pool size, `getCorePoolSize()`. How many threads can at most be created per pool for the incoming tasks **before new tasks go to the queue**.\r\n- `M` be the maximum pool size, `getMaximumPoolSize()`. Maximum amount of threads the pool can allocate. \r\n\r\nBehaviors of the `ThreadPoolExecutor` in Java when a new task is submitted:\r\n\r\n- For `N &lt;= C`, the idle threads are not assigned the new incoming task, instead a new thread is created.\r\n- For `N &gt; C` and if there are idle threads then new task is assigned there.\r\n- For `N &gt; C` and if there are NO idle threads, new tasks are put into the queue. **NO NEW THREAD CREATED HERE.**\r\n- **When queue is full**, we create new threads up to `M`. If `M` is reached, we reject the tasks. What&#39;s important to not here is that we do not create new threads until the queue is full!\r\n\r\nSources: \r\n\r\n- [docs.oracle.com ](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html)\r\n- [excellent article on the subject.](https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html)\r\n\r\n## Examples\r\n\r\n### Example with `corePoolSize = 0` and `maximumPoolSize = 10` with a queue capacity of `50`.\r\n\r\nThis will result in one single active thread in the pool until the queue has 50 items in it. \r\n\r\n```\r\nexecutor.execute(task #1):\r\n\r\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\r\n\r\n[task #1 immediately queued and kicked in b/c the very first thread is created when `workerCountOf(recheck) == 0`]\r\n\r\nexecute(task #2):\r\n\r\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\r\n\r\n[task #2 not starting before #1 is done]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #19)\r\n\r\nbefore task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 17, completed tasks = 0]\r\n\r\nafter task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 18, completed tasks = 0]\r\n\r\n...\r\n\r\nexecute(task #51)\r\n\r\nbefore task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 50, completed tasks = 0]\r\n\r\nafter task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 2, active threads = 2, queued tasks = 50, completed tasks = 0]\r\n\r\nQueue is full.\r\nA new thread was created as the queue was full.\r\n\r\n```\r\n\r\n### Example with `corePoolSize = 10` and `maximumPoolSize = 10` with a queue capacity of `50`.\r\n\r\nThis will result in 10 active threads in the pool. When the queue has 50 items in it, tasks will be rejected.\r\n\r\n\r\n```\r\nexecute(task #1)\r\n\r\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nexecute(task #2)\r\n\r\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\r\n\r\nexecute(task #3)\r\n\r\nbefore task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #11)\r\n\r\nbefore task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 0, completed tasks = 0]\r\n\r\nafter task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 1, completed tasks = 0]\r\n\r\n... executed a few tasks...\r\n\r\nexecute(task #51)\r\nbefore task #51 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 50, completed tasks = 0]\r\n\r\nTask was rejected as we have reached `maximumPoolSize`. \r\n\r\n```\r\n","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>Understanding the internal behavior of the <code>ThreadPoolExecutor</code> when a new task is submitted helped me understand how <code>corePoolSize</code> and <code>maximumPoolSize</code> differ.</p>\n\n<p>Let:</p>\n\n<ul>\n<li><code>N</code> be the number of threads in the pool, <code>getPoolSize()</code>. Active threads + idle threads. </li>\n<li><code>T</code> be the amount of tasks submitted to the executor/pool.</li>\n<li><code>C</code> be the core pool size, <code>getCorePoolSize()</code>. How many threads can at most be created per pool for the incoming tasks <strong>before new tasks go to the queue</strong>.</li>\n<li><code>M</code> be the maximum pool size, <code>getMaximumPoolSize()</code>. Maximum amount of threads the pool can allocate. </li>\n</ul>\n\n<p>Behaviors of the <code>ThreadPoolExecutor</code> in Java when a new task is submitted:</p>\n\n<ul>\n<li>For <code>N &lt;= C</code>, the idle threads are not assigned the new incoming task, instead a new thread is created.</li>\n<li>For <code>N &gt; C</code> and if there are idle threads then new task is assigned there.</li>\n<li>For <code>N &gt; C</code> and if there are NO idle threads, new tasks are put into the queue. <strong>NO NEW THREAD CREATED HERE.</strong></li>\n<li><strong>When queue is full</strong>, we create new threads up to <code>M</code>. If <code>M</code> is reached, we reject the tasks. What's important to not here is that we do not create new threads until the queue is full!</li>\n</ul>\n\n<p>Sources: </p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">docs.oracle.com </a></li>\n<li><a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/java-multi-threading/thread-pools.html\" rel=\"nofollow noreferrer\">excellent article on the subject.</a></li>\n</ul>\n\n<h2>Examples</h2>\n\n<h3>Example with <code>corePoolSize = 0</code> and <code>maximumPoolSize = 10</code> with a queue capacity of <code>50</code>.</h3>\n\n<p>This will result in one single active thread in the pool until the queue has 50 items in it. </p>\n\n<pre><code>executor.execute(task #1):\n\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\n\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\n\n[task #1 immediately queued and kicked in b/c the very first thread is created when `workerCountOf(recheck) == 0`]\n\nexecute(task #2):\n\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@c52dafe[Running, pool size = 1, active threads = 1, queued tasks = 1, completed tasks = 0]\n\n[task #2 not starting before #1 is done]\n\n... executed a few tasks...\n\nexecute(task #19)\n\nbefore task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 17, completed tasks = 0]\n\nafter task #19 submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 18, completed tasks = 0]\n\n...\n\nexecute(task #51)\n\nbefore task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 1, active threads = 1, queued tasks = 50, completed tasks = 0]\n\nafter task submitted to executor: java.util.concurrent.ThreadPoolExecutor@735afe38[Running, pool size = 2, active threads = 2, queued tasks = 50, completed tasks = 0]\n\nQueue is full.\nA new thread was created as the queue was full.\n\n</code></pre>\n\n<h3>Example with <code>corePoolSize = 10</code> and <code>maximumPoolSize = 10</code> with a queue capacity of <code>50</code>.</h3>\n\n<p>This will result in 10 active threads in the pool. When the queue has 50 items in it, tasks will be rejected.</p>\n\n<pre><code>execute(task #1)\n\nbefore task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]\n\nafter task #1 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nexecute(task #2)\n\nbefore task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]\n\nafter task #2 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\n\nexecute(task #3)\n\nbefore task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]\n\nafter task #3 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 3, active threads = 3, queued tasks = 0, completed tasks = 0]\n\n... executed a few tasks...\n\nexecute(task #11)\n\nbefore task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 0, completed tasks = 0]\n\nafter task #11 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 1, completed tasks = 0]\n\n... executed a few tasks...\n\nexecute(task #51)\nbefore task #51 submitted to executor: java.util.concurrent.ThreadPoolExecutor@32d9e072[Running, pool size = 10, active threads = 10, queued tasks = 50, completed tasks = 0]\n\nTask was rejected as we have reached `maximumPoolSize`. \n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1564718,"reputation":642,"user_id":1765638,"accept_rate":100,"display_name":"Pasha"},"score":1,"creation_date":1599975564,"post_id":59579963,"comment_id":112938797,"body_markdown":"Thank you. I like your answer a lot. Spills the light on the underlying implementation and answers the questions that SHOULD be asked and answered in order to really understand this corePoolSize/maxPoolSize behavior of the thread pool.","body":"Thank you. I like your answer a lot. Spills the light on the underlying implementation and answers the questions that SHOULD be asked and answered in order to really understand this corePoolSize/maxPoolSize behavior of the thread pool."}],"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1578060381,"creation_date":1578060381,"answer_id":59579963,"question_id":17659510,"body_markdown":"[Source][1]\r\n&gt;Rules of a ThreadPoolExecutor pool size  \r\n\r\nThe rules for the size of a `ThreadPoolExecutor&#39;s` pool are generally miss-understood, because it doesn&#39;t work the way that you think it ought to or in the way that you want it to.\r\n\r\nTake this example. Starting thread pool size is 1, core pool size is 5, max pool size is 10 and the queue is 100.\r\n\r\nSun&#39;s way: as requests come in threads will be created up to 5, then tasks will be added to the queue until it reaches 100. When the queue is full new threads will be created up to `maxPoolSize`. Once all the threads are in use and the queue is full tasks will be rejected. As the queue reduces so does the number of active threads.\r\n\r\nUser anticipated way: as requests come in threads will be created up to 10, then tasks will be added to the queue until it reaches 100 at which point they are rejected. The number of threads will rename at max until the queue is empty. When the queue is empty the threads will die off until there are `corePoolSize` left.\r\n\r\nThe difference is that the users want to start increasing the pool size earlier and want the queue to be smaller, where as the Sun method want to keep the pool size small and only increase it once the load becomes to much.\r\n\r\nHere are Sun&#39;s rules for thread creation in simple terms:\r\n\r\n 1. If the number of threads is less than the `corePoolSize`, create a new Thread to run a new task.\r\n 1. If the number of threads is equal (or greater than) the `corePoolSize`, put the task into the queue.\r\n 1. If the queue is full, and the number of threads is less than the `maxPoolSize`, create a new thread to run tasks in.\r\n 1. If the queue is full, and the number of threads is greater than or equal to `maxPoolSize`, reject the task.\r\nThe long and the short of it is that new threads are only created when the queue fills up, so if you&#39;re using an unbounded queue then the number of threads will not exceed `corePoolSize`.\r\n\r\nFor a fuller explanation, get it from the horses mouth: `ThreadPoolExecutor` API documentation.\r\n\r\nThere is a really good forum post which talks you through the way that the `ThreadPoolExecutor` works with code examples: http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0\r\n\r\nMore info: http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450\r\n\r\n\r\n  [1]: http://www.bigsoft.co.uk/blog/2009/11/27/rules-of-a-threadpoolexecutor-pool-size","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p><a href=\"http://www.bigsoft.co.uk/blog/2009/11/27/rules-of-a-threadpoolexecutor-pool-size\" rel=\"noreferrer\">Source</a></p>\n\n<blockquote>\n  <p>Rules of a ThreadPoolExecutor pool size  </p>\n</blockquote>\n\n<p>The rules for the size of a <code>ThreadPoolExecutor's</code> pool are generally miss-understood, because it doesn't work the way that you think it ought to or in the way that you want it to.</p>\n\n<p>Take this example. Starting thread pool size is 1, core pool size is 5, max pool size is 10 and the queue is 100.</p>\n\n<p>Sun's way: as requests come in threads will be created up to 5, then tasks will be added to the queue until it reaches 100. When the queue is full new threads will be created up to <code>maxPoolSize</code>. Once all the threads are in use and the queue is full tasks will be rejected. As the queue reduces so does the number of active threads.</p>\n\n<p>User anticipated way: as requests come in threads will be created up to 10, then tasks will be added to the queue until it reaches 100 at which point they are rejected. The number of threads will rename at max until the queue is empty. When the queue is empty the threads will die off until there are <code>corePoolSize</code> left.</p>\n\n<p>The difference is that the users want to start increasing the pool size earlier and want the queue to be smaller, where as the Sun method want to keep the pool size small and only increase it once the load becomes to much.</p>\n\n<p>Here are Sun's rules for thread creation in simple terms:</p>\n\n<ol>\n<li>If the number of threads is less than the <code>corePoolSize</code>, create a new Thread to run a new task.</li>\n<li>If the number of threads is equal (or greater than) the <code>corePoolSize</code>, put the task into the queue.</li>\n<li>If the queue is full, and the number of threads is less than the <code>maxPoolSize</code>, create a new thread to run tasks in.</li>\n<li>If the queue is full, and the number of threads is greater than or equal to <code>maxPoolSize</code>, reject the task.\nThe long and the short of it is that new threads are only created when the queue fills up, so if you're using an unbounded queue then the number of threads will not exceed <code>corePoolSize</code>.</li>\n</ol>\n\n<p>For a fuller explanation, get it from the horses mouth: <code>ThreadPoolExecutor</code> API documentation.</p>\n\n<p>There is a really good forum post which talks you through the way that the <code>ThreadPoolExecutor</code> works with code examples: <a href=\"http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0\" rel=\"noreferrer\">http://forums.sun.com/thread.jspa?threadID=5401400&amp;tstart=0</a></p>\n\n<p>More info: <a href=\"http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450\" rel=\"noreferrer\">http://forums.sun.com/thread.jspa?threadID=5224557&amp;tstart=450</a></p>\n"},{"comments":[{"owner":{"account_id":5484486,"reputation":915,"user_id":4359767,"display_name":"bulletProofCat"},"score":0,"creation_date":1692067867,"post_id":67942144,"comment_id":135571993,"body_markdown":"But according to doc, threads count exceeds core size only if queue becomes full(queue.offer returns false, can&#39;t add new task to it indicates it&#39;s full). In your picture, I believe there is a missing constraint that queue capacity should be 8, so threads size can exceed core size when tasks count becomes 9.","body":"But according to doc, threads count exceeds core size only if queue becomes full(queue.offer returns false, can&#39;t add new task to it indicates it&#39;s full). In your picture, I believe there is a missing constraint that queue capacity should be 8, so threads size can exceed core size when tasks count becomes 9."}],"tags":[],"owner":{"account_id":1580007,"reputation":13266,"user_id":1465553,"accept_rate":68,"display_name":"Saurav Sahu"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1623437244,"creation_date":1623437244,"answer_id":67942144,"question_id":17659510,"body_markdown":"In picture, consider only addition of tasks are happening \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vQccY.png","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>In picture, consider only addition of tasks are happening</p>\n<p><a href=\"https://i.stack.imgur.com/vQccY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vQccY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7322921,"reputation":1043,"user_id":6602141,"accept_rate":0,"display_name":"Ankit kaushik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655714647,"creation_date":1655714647,"answer_id":72684387,"question_id":17659510,"body_markdown":"As per the documentation :\r\n\r\n&gt; Any BlockingQueue may be used to transfer and hold submitted tasks.\r\n&gt; The use of this queue interacts with pool sizing: If fewer than\r\n&gt; core pool size threads are running, the Executor always prefers adding a\r\n&gt; new thread rather than queuing. If core pool size or more threads are\r\n&gt; running, the Executor always prefers queuing a request rather than\r\n&gt; adding a new thread. If a request cannot be queued, a new thread is\r\n&gt; created unless this would exceed maximumPoolSize, in which case, the\r\n&gt; task will be rejected.\r\n\r\n\r\nThis means core pool size is the threshold beyond which executor service prefers to queue up the task than spawn a new thread. If when receiving a task, the number of threads are less than the core pool size, the creation of a new thread is done thereby increasing active threads.","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>As per the documentation :</p>\n<blockquote>\n<p>Any BlockingQueue may be used to transfer and hold submitted tasks.\nThe use of this queue interacts with pool sizing: If fewer than\ncore pool size threads are running, the Executor always prefers adding a\nnew thread rather than queuing. If core pool size or more threads are\nrunning, the Executor always prefers queuing a request rather than\nadding a new thread. If a request cannot be queued, a new thread is\ncreated unless this would exceed maximumPoolSize, in which case, the\ntask will be rejected.</p>\n</blockquote>\n<p>This means core pool size is the threshold beyond which executor service prefers to queue up the task than spawn a new thread. If when receiving a task, the number of threads are less than the core pool size, the creation of a new thread is done thereby increasing active threads.</p>\n"}],"owner":{"account_id":3028823,"reputation":3723,"user_id":2568266,"display_name":"user2568266"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162042,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"answer_count":12,"score":169,"last_activity_date":1666434144,"creation_date":1373907000,"question_id":17659510,"body_markdown":"What exactly is the difference between **core pool size** and **maximum pool size** when we talk in terms of `ThreadPoolExecutor`?  \r\nCan it be explained with the help of an example? ","title":"Core pool size vs maximum pool size in ThreadPoolExecutor","body":"<p>What exactly is the difference between <strong>core pool size</strong> and <strong>maximum pool size</strong> when we talk in terms of <code>ThreadPoolExecutor</code>?<br>\nCan it be explained with the help of an example? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666432974,"post_id":74162543,"comment_id":130938922,"body_markdown":"you cannot &quot;store it in a list, consuming less memory&quot;, instead you have to get rid of this need, but process (&amp;forget!) them line/chunk wise.","body":"you cannot &quot;store it in a list, consuming less memory&quot;, instead you have to get rid of this need, but process (&amp;forget!) them line/chunk wise."}],"answers":[{"comments":[{"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"score":0,"creation_date":1666475563,"post_id":74162613,"comment_id":130947253,"body_markdown":"It works! now, using BufferedReader  I can proces the log files without heap space errors.","body":"It works! now, using BufferedReader  I can proces the log files without heap space errors."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666433696,"creation_date":1666433140,"answer_id":74162613,"question_id":74162543,"body_markdown":"&gt; There is a best way to read line by line the file and storing in a List consuming less memory?\r\n\r\nNot really, no.\r\n\r\nThe problem is the &quot;store it in a list&quot; aspect.   That is the fundamental reason why you are using lots of memory.  Any time you hold an entire file in memory in `String` form you are going to use lots of memory&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe solution is NOT to store the entire file in memory at the same time.  Instead, read it line by line, process each line as you read it, and then discard the lines.\r\n\r\nFor example, instead of this:\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(somePath);\r\n    for (String line: lines) {\r\n        // process line\r\n    }\r\n\r\n... do this:\r\n\r\n    try (BufferedReader br = ...) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            // process line\r\n        }\r\n    }\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - You may save a bit of space by storing the file contents as bytes, but with recent JVMs and their more space-efficient `String` representations, the saving won&#39;t be great enough to make a lot of difference.&lt;/sup&gt;","title":"Alternative for read lines using less memory JAVA","body":"<blockquote>\n<p>There is a best way to read line by line the file and storing in a List consuming less memory?</p>\n</blockquote>\n<p>Not really, no.</p>\n<p>The problem is the &quot;store it in a list&quot; aspect.   That is the fundamental reason why you are using lots of memory.  Any time you hold an entire file in memory in <code>String</code> form you are going to use lots of memory<sup>1</sup>.</p>\n<p>The solution is NOT to store the entire file in memory at the same time.  Instead, read it line by line, process each line as you read it, and then discard the lines.</p>\n<p>For example, instead of this:</p>\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(somePath);\nfor (String line: lines) {\n    // process line\n}\n</code></pre>\n<p>... do this:</p>\n<pre><code>try (BufferedReader br = ...) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        // process line\n    }\n}\n</code></pre>\n<hr />\n<p><sup>1 - You may save a bit of space by storing the file contents as bytes, but with recent JVMs and their more space-efficient <code>String</code> representations, the saving won't be great enough to make a lot of difference.</sup></p>\n"}],"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74162613,"answer_count":1,"score":0,"last_activity_date":1666433696,"creation_date":1666432365,"question_id":74162543,"body_markdown":"Good morning,\r\n\r\nI am progarmming a tool to get some information from log files, the problem is that that files could by 100Mb, 300Mb ...900Mb.\r\n\r\nWhen I run my application using log of 100-200Mb the program works fine, but when I use a 500Mb or above log the application send heap space problem.\r\n\r\nThe problem could be this line?\r\n\r\n```\r\nList&lt;String&gt; resultado = Files.readAllLines(Paths.get(ruta.getText()));\r\n```\r\n\r\nI think that this object consume a lot of memory and it is the cause of my problem\r\n\r\nThere is a best way to read line by line the file and storing in a List&lt;String&gt; consuming less memory?\r\n\r\nThank you very much","title":"Alternative for read lines using less memory JAVA","body":"<p>Good morning,</p>\n<p>I am progarmming a tool to get some information from log files, the problem is that that files could by 100Mb, 300Mb ...900Mb.</p>\n<p>When I run my application using log of 100-200Mb the program works fine, but when I use a 500Mb or above log the application send heap space problem.</p>\n<p>The problem could be this line?</p>\n<pre><code>List&lt;String&gt; resultado = Files.readAllLines(Paths.get(ruta.getText()));\n</code></pre>\n<p>I think that this object consume a lot of memory and it is the cause of my problem</p>\n<p>There is a best way to read line by line the file and storing in a List consuming less memory?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","spring","spring-boot","hibernate","model"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666380705,"post_id":74157932,"comment_id":130931915,"body_markdown":"Avoid pictures, use code blocks instead.","body":"Avoid pictures, use code blocks instead."}],"answers":[{"tags":[],"owner":{"account_id":21911535,"reputation":51,"user_id":16195946,"display_name":"Daniel Domingueti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666433670,"creation_date":1666433670,"answer_id":74162661,"question_id":74157932,"body_markdown":"Mohsen, make sure you&#39;re implementing your entity class correctly. \r\nFirst of all, change your ID variable to the following:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\nThe annotations above ensures the ID variable works like an entity&#39;s identification. Now as it represents a unique value, you can make POST requests without passing any value for the id because it&#39;s an auto-generated field.\r\n\r\nFor PUT requests you&#39;re gonna always have to specify the id once JPA needs to fetch the object from the DB to make any change.","title":"Hibernate Null checker ignore field on POST request but don&#39;t on Put request","body":"<p>Mohsen, make sure you're implementing your entity class correctly.\nFirst of all, change your ID variable to the following:</p>\n<pre><code>@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate Long id;\n</code></pre>\n<p>The annotations above ensures the ID variable works like an entity's identification. Now as it represents a unique value, you can make POST requests without passing any value for the id because it's an auto-generated field.</p>\n<p>For PUT requests you're gonna always have to specify the id once JPA needs to fetch the object from the DB to make any change.</p>\n"}],"owner":{"account_id":12473162,"reputation":25,"user_id":9080506,"display_name":"Mohsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666433670,"creation_date":1666377487,"question_id":74157932,"body_markdown":"I&#39;m using spring boot 2.7. I want to null checker ignore &quot;ID&quot; field on POST request but don&#39;t ignore it on PUT request! what&#39;s the solution?\r\n\r\nNote: I want to do it in one model!\r\n\r\n\r\n    import lombok.Data;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    @Data\r\n    public class CategoryRequestModel {\r\n    \r\n        @NotNull\r\n        private String id;   // check on PUT request\r\n                             // not check on POST request\r\n    \r\n        private String title;\r\n        private String status;\r\n    }","title":"Hibernate Null checker ignore field on POST request but don&#39;t on Put request","body":"<p>I'm using spring boot 2.7. I want to null checker ignore &quot;ID&quot; field on POST request but don't ignore it on PUT request! what's the solution?</p>\n<p>Note: I want to do it in one model!</p>\n<pre><code>import lombok.Data;\n\nimport javax.validation.constraints.NotNull;\n\n@Data\npublic class CategoryRequestModel {\n\n    @NotNull\n    private String id;   // check on PUT request\n                         // not check on POST request\n\n    private String title;\n    private String status;\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1666438523,"post_id":74161975,"comment_id":130939879,"body_markdown":"In your `ATMKeypadPanel` `ActionListener`, you don&#39;t do anything with the button presses.  You need to save them in a `char` array that you can access from both the `ATMKeypadPanel` class and the `ATMScreenPanel` class.  An application model made up of one or more plain Java getter/setter classes should hold this `char` array.  You also need a more descriptive class name than `handler`.","body":"In your <code>ATMKeypadPanel</code> <code>ActionListener</code>, you don&#39;t do anything with the button presses.  You need to save them in a <code>char</code> array that you can access from both the <code>ATMKeypadPanel</code> class and the <code>ATMScreenPanel</code> class.  An application model made up of one or more plain Java getter/setter classes should hold this <code>char</code> array.  You also need a more descriptive class name than <code>handler</code>."},{"owner":{"account_id":21766426,"reputation":9,"user_id":16070237,"display_name":"Bluem"},"score":0,"creation_date":1666443946,"post_id":74161975,"comment_id":130940942,"body_markdown":"Thank you mister! Man I have a lot to learn :&lt;","body":"Thank you mister! Man I have a lot to learn :&lt;"}],"owner":{"account_id":21766426,"reputation":9,"user_id":16070237,"display_name":"Bluem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666433390,"creation_date":1666425694,"question_id":74161975,"body_markdown":"I&#39;m trying to input numbers to pin_textField from ATMScreenPanel using the buttons from ATMKeypadPanel class but I don&#39;t know how. I tried using objects although I learned that it doesn&#39;t actually change the value from the actual class when I used it. Can someone please teach me how to do it?\r\n\r\ncode for ATMScreenPanel\r\n```\r\npublic class ATMScreenPanel extends JPanel {\r\n    private ArrayList&lt;String&gt; pins = new ArrayList&lt;&gt;();\r\n    JLabel label;\r\n    static JTextField pin_textField;\r\n\r\n    ATMScreenPanel() {\r\n        setBackground(Color.GRAY);\r\n        setLayout(null);\r\n        pin_textField = new JTextField(&quot;&quot;);\r\n        pin_textField.setHorizontalAlignment(pin_textField.CENTER);\r\n        pin_textField.setBounds(98, 110, 300, 50);\r\n        add(pin_textField);\r\n\r\n        label = new JLabel(&quot;Enter your pin number&quot;);\r\n        label.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 35));\r\n        label.setBounds(90, 50, 400, 50);\r\n        add(label);\r\n\r\n        ATMKeypadPanel keys = new ATMKeypadPanel();\r\n\r\n    }\r\n}\r\n```\r\n\r\ncode for ATMKeypadPanel\r\n```\r\npublic class ATMKeypadPanel extends JPanel{\r\n\r\n    JButton[] buttons;\r\n\r\n    ATMKeypadPanel(){\r\n        buttons = new JButton[14];\r\n        setBackground(Color.CYAN);\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        setLayout(new GridBagLayout());\r\n        gbc.insets = new Insets(1,2,1,2);\r\n\r\n        handler buttonHandler = new handler();\r\n        buttons[0] = new JButton(&quot;1&quot;);\r\n        buttons[0].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        buttons[0].addActionListener( buttonHandler);\r\n        add(buttons[0],gbc);\r\n\r\n        buttons[1] = new JButton(&quot;2&quot;);\r\n        buttons[1].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 0;\r\n        buttons[1].addActionListener( buttonHandler);\r\n        add(buttons[1],gbc);\r\n\r\n        buttons[2] = new JButton(&quot;3&quot;);\r\n        buttons[2].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 0;\r\n        buttons[2].addActionListener( buttonHandler);\r\n\r\n        add(buttons[2],gbc);\r\n\r\n        buttons[3] = new JButton(&quot;4&quot;);\r\n        buttons[3].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        buttons[3].addActionListener( buttonHandler);\r\n\r\n        add(buttons[3],gbc);\r\n\r\n        buttons[4] = new JButton(&quot;5&quot;);\r\n        buttons[4].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 1;\r\n        buttons[4].addActionListener( buttonHandler);\r\n\r\n        add(buttons[4],gbc);\r\n\r\n        buttons[5] = new JButton(&quot;6&quot;);\r\n        buttons[5].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 1;\r\n        buttons[5].addActionListener( buttonHandler);\r\n\r\n        add(buttons[5],gbc);\r\n\r\n        buttons[6] = new JButton(&quot;7&quot;);\r\n        buttons[6].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        buttons[6].addActionListener( buttonHandler);\r\n\r\n        add(buttons[6],gbc);\r\n\r\n        buttons[7] = new JButton(&quot;8&quot;);\r\n        buttons[7].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 2;\r\n        buttons[7].addActionListener( buttonHandler);\r\n\r\n        add(buttons[7],gbc);\r\n\r\n        buttons[8] = new JButton(&quot;9&quot;);\r\n        buttons[8].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 2;\r\n        gbc.gridy = 2;\r\n        buttons[8].addActionListener( buttonHandler);\r\n\r\n        add(buttons[8],gbc);\r\n\r\n        buttons[9] = new JButton(&quot;0&quot;);\r\n        buttons[9].setPreferredSize(new Dimension(110,60));\r\n        gbc.gridx = 1;\r\n        gbc.gridy = 3;\r\n        buttons[9].addActionListener( buttonHandler);\r\n        add(buttons[9],gbc);\r\n    }\r\n\r\n    private class handler implements ActionListener{\r\n        public void actionPerformed(ActionEvent e){\r\n\r\n            if(e.getSource() == buttons[0]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[1]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[2]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[3]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[4]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[5]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[6]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[7]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[8]){\r\n\r\n            }\r\n\r\n            if(e.getSource() == buttons[9]){\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to input number on JTextField using buttons from another class","body":"<p>I'm trying to input numbers to pin_textField from ATMScreenPanel using the buttons from ATMKeypadPanel class but I don't know how. I tried using objects although I learned that it doesn't actually change the value from the actual class when I used it. Can someone please teach me how to do it?</p>\n<p>code for ATMScreenPanel</p>\n<pre><code>public class ATMScreenPanel extends JPanel {\n    private ArrayList&lt;String&gt; pins = new ArrayList&lt;&gt;();\n    JLabel label;\n    static JTextField pin_textField;\n\n    ATMScreenPanel() {\n        setBackground(Color.GRAY);\n        setLayout(null);\n        pin_textField = new JTextField(&quot;&quot;);\n        pin_textField.setHorizontalAlignment(pin_textField.CENTER);\n        pin_textField.setBounds(98, 110, 300, 50);\n        add(pin_textField);\n\n        label = new JLabel(&quot;Enter your pin number&quot;);\n        label.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 35));\n        label.setBounds(90, 50, 400, 50);\n        add(label);\n\n        ATMKeypadPanel keys = new ATMKeypadPanel();\n\n    }\n}\n</code></pre>\n<p>code for ATMKeypadPanel</p>\n<pre><code>public class ATMKeypadPanel extends JPanel{\n\n    JButton[] buttons;\n\n    ATMKeypadPanel(){\n        buttons = new JButton[14];\n        setBackground(Color.CYAN);\n        GridBagConstraints gbc = new GridBagConstraints();\n        setLayout(new GridBagLayout());\n        gbc.insets = new Insets(1,2,1,2);\n\n        handler buttonHandler = new handler();\n        buttons[0] = new JButton(&quot;1&quot;);\n        buttons[0].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        buttons[0].addActionListener( buttonHandler);\n        add(buttons[0],gbc);\n\n        buttons[1] = new JButton(&quot;2&quot;);\n        buttons[1].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 0;\n        buttons[1].addActionListener( buttonHandler);\n        add(buttons[1],gbc);\n\n        buttons[2] = new JButton(&quot;3&quot;);\n        buttons[2].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 0;\n        buttons[2].addActionListener( buttonHandler);\n\n        add(buttons[2],gbc);\n\n        buttons[3] = new JButton(&quot;4&quot;);\n        buttons[3].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        buttons[3].addActionListener( buttonHandler);\n\n        add(buttons[3],gbc);\n\n        buttons[4] = new JButton(&quot;5&quot;);\n        buttons[4].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        buttons[4].addActionListener( buttonHandler);\n\n        add(buttons[4],gbc);\n\n        buttons[5] = new JButton(&quot;6&quot;);\n        buttons[5].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 1;\n        buttons[5].addActionListener( buttonHandler);\n\n        add(buttons[5],gbc);\n\n        buttons[6] = new JButton(&quot;7&quot;);\n        buttons[6].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        buttons[6].addActionListener( buttonHandler);\n\n        add(buttons[6],gbc);\n\n        buttons[7] = new JButton(&quot;8&quot;);\n        buttons[7].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 2;\n        buttons[7].addActionListener( buttonHandler);\n\n        add(buttons[7],gbc);\n\n        buttons[8] = new JButton(&quot;9&quot;);\n        buttons[8].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 2;\n        gbc.gridy = 2;\n        buttons[8].addActionListener( buttonHandler);\n\n        add(buttons[8],gbc);\n\n        buttons[9] = new JButton(&quot;0&quot;);\n        buttons[9].setPreferredSize(new Dimension(110,60));\n        gbc.gridx = 1;\n        gbc.gridy = 3;\n        buttons[9].addActionListener( buttonHandler);\n        add(buttons[9],gbc);\n    }\n\n    private class handler implements ActionListener{\n        public void actionPerformed(ActionEvent e){\n\n            if(e.getSource() == buttons[0]){\n\n            }\n\n            if(e.getSource() == buttons[1]){\n\n            }\n\n            if(e.getSource() == buttons[2]){\n\n            }\n\n            if(e.getSource() == buttons[3]){\n\n            }\n\n            if(e.getSource() == buttons[4]){\n\n            }\n\n            if(e.getSource() == buttons[5]){\n\n            }\n\n            if(e.getSource() == buttons[6]){\n\n            }\n\n            if(e.getSource() == buttons[7]){\n\n            }\n\n            if(e.getSource() == buttons[8]){\n\n            }\n\n            if(e.getSource() == buttons[9]){\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":16351115,"reputation":33,"user_id":11809608,"display_name":"Arif Jehda-Oh"},"score":0,"creation_date":1666462006,"post_id":74162119,"comment_id":130944792,"body_markdown":"I agree with you. It is always good to start on a smaller scale and incrementally improve the code. And this can, of course, be implemented with the suggestion from @Panagiotis Bougioukos","body":"I agree with you. It is always good to start on a smaller scale and incrementally improve the code. And this can, of course, be implemented with the suggestion from @Panagiotis Bougioukos"}],"tags":[],"owner":{"account_id":16584107,"reputation":1,"user_id":11984002,"display_name":"Kirill"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427811,"creation_date":1666427811,"answer_id":74162119,"question_id":74160495,"body_markdown":"You probably need to smash the controllers with the same endpoint beginning.\r\nI&#39;d suggest you to remain this annotation `@RequestMapping(path = &quot;/api/foo&quot;)` and just insert inside that class the methods with `@GetMapping(path = &quot;/tar&quot;)`. And other methods could have prefix tar: `&quot;/tar/example&quot;`.\r\n\r\nBut if there are lots of methods starting with this prefix `/api/foo/tar` and the class `FooController` begins to be big enough, it&#39;s nice to keep them separately.","title":"Same prefix endpoint but two different Controllers","body":"<p>You probably need to smash the controllers with the same endpoint beginning.\nI'd suggest you to remain this annotation <code>@RequestMapping(path = &quot;/api/foo&quot;)</code> and just insert inside that class the methods with <code>@GetMapping(path = &quot;/tar&quot;)</code>. And other methods could have prefix tar: <code>&quot;/tar/example&quot;</code>.</p>\n<p>But if there are lots of methods starting with this prefix <code>/api/foo/tar</code> and the class <code>FooController</code> begins to be big enough, it's nice to keep them separately.</p>\n"},{"comments":[{"owner":{"account_id":16351115,"reputation":33,"user_id":11809608,"display_name":"Arif Jehda-Oh"},"score":0,"creation_date":1666460814,"post_id":74162411,"comment_id":130944552,"body_markdown":"I could see this work for a project that is not that big and have a complex endpoint router. The issue here would be that the following prefix on the next controller would need to add that same path on all the following endpoints in the fooController. Every Mapping gets a start of `path = &quot;/foo/*&quot;`","body":"I could see this work for a project that is not that big and have a complex endpoint router. The issue here would be that the following prefix on the next controller would need to add that same path on all the following endpoints in the fooController. Every Mapping gets a start of <code>path = &quot;&#47;foo&#47;*&quot;</code>"},{"owner":{"account_id":16351115,"reputation":33,"user_id":11809608,"display_name":"Arif Jehda-Oh"},"score":0,"creation_date":1666461825,"post_id":74162411,"comment_id":130944751,"body_markdown":"And on inspection, this would result in not being able to add a `RequestMapping` annotation on the class as it would overwrite the request mapping in the interface.","body":"And on inspection, this would result in not being able to add a <code>RequestMapping</code> annotation on the class as it would overwrite the request mapping in the interface."}],"tags":[],"owner":{"account_id":9792962,"reputation":168,"user_id":7256972,"display_name":"Soumen Ghosh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666431040,"creation_date":1666431040,"answer_id":74162411,"question_id":74160495,"body_markdown":"You can have an interface like below:\r\n\r\n&lt;code&gt;\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(path = &quot;/api&quot;)\r\n    public interface BaseController {\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nThen every individual controller class can implement the interface like below:\r\n\r\n&lt;code&gt;\r\n\r\n    public class FooController implements BaseController {\r\n      @GetMapping(path = &quot;/foo&quot;)\r\n      // Endpoint to /api/foo\r\n    }\r\n\r\n&lt;/code&gt;\r\n\r\nProvided it is possible to change every controller class.","title":"Same prefix endpoint but two different Controllers","body":"<p>You can have an interface like below:</p>\n<code>\n<pre><code>import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(path = &quot;/api&quot;)\npublic interface BaseController {\n}\n</code></pre>\n</code>\n<p>Then every individual controller class can implement the interface like below:</p>\n<code>\n<pre><code>public class FooController implements BaseController {\n  @GetMapping(path = &quot;/foo&quot;)\n  // Endpoint to /api/foo\n}\n</code></pre>\n</code>\n<p>Provided it is possible to change every controller class.</p>\n"},{"comments":[{"owner":{"account_id":16351115,"reputation":33,"user_id":11809608,"display_name":"Arif Jehda-Oh"},"score":0,"creation_date":1666461771,"post_id":74162522,"comment_id":130944744,"body_markdown":"I can see this implementation happening and why this could be good practice for providing the path. With this implementation, the endpoint is gathered in one place, and when the application gets big, the debugging starts from that place other than having to inspect many areas.\n\nAs the application gets bigger and some path have the same start of endpoint but different usage the path could then be replaced with a constant that before was only a constant together with a string path.\n\n`WebConstants.API + &quot;/foo&quot;` becomes `WebConstant.API_FOO`","body":"I can see this implementation happening and why this could be good practice for providing the path. With this implementation, the endpoint is gathered in one place, and when the application gets big, the debugging starts from that place other than having to inspect many areas.  As the application gets bigger and some path have the same start of endpoint but different usage the path could then be replaced with a constant that before was only a constant together with a string path.  <code>WebConstants.API + &quot;&#47;foo&quot;</code> becomes <code>WebConstant.API_FOO</code>"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666432147,"creation_date":1666432147,"answer_id":74162522,"question_id":74160495,"body_markdown":"I think the best practice would be something like \r\n\r\n    /**\r\n     * Class for String constants to use in the application\r\n     */\r\n    public final class WebConstants {\r\n\r\n       public static final String API = &quot;api&quot;;\r\n       ...other constants\r\n    \r\n    }\r\n\r\n    @Controller\r\n    @RequestMapping(path = WebConstants.API + &quot;/foo&quot;)\r\n    public class FooController {\r\n    \r\n      @GetMapping\r\n      // serve something for /api/foo\r\n\r\n      @GetMapping(path = &quot;/tar&quot;)\r\n      // serve something for /api/foo/tar\r\n\r\n    }\r\n    \r\n    // Bar controller\r\n    @Controller\r\n    @RequestMapping(path = WebConstants.API + &quot;/bar&quot;)\r\n    public class BarController {\r\n    \r\n      @GetMapping\r\n      // Serve something for /api/bar\r\n    }\r\n    \r\n    ","title":"Same prefix endpoint but two different Controllers","body":"<p>I think the best practice would be something like</p>\n<pre><code>/**\n * Class for String constants to use in the application\n */\npublic final class WebConstants {\n\n   public static final String API = &quot;api&quot;;\n   ...other constants\n\n}\n\n@Controller\n@RequestMapping(path = WebConstants.API + &quot;/foo&quot;)\npublic class FooController {\n\n  @GetMapping\n  // serve something for /api/foo\n\n  @GetMapping(path = &quot;/tar&quot;)\n  // serve something for /api/foo/tar\n\n}\n\n// Bar controller\n@Controller\n@RequestMapping(path = WebConstants.API + &quot;/bar&quot;)\npublic class BarController {\n\n  @GetMapping\n  // Serve something for /api/bar\n}\n</code></pre>\n"}],"owner":{"account_id":16351115,"reputation":33,"user_id":11809608,"display_name":"Arif Jehda-Oh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74162522,"answer_count":3,"score":2,"last_activity_date":1666432147,"creation_date":1666402063,"question_id":74160495,"body_markdown":"I remember working on a project made in Django where you could create routes that could be given a prefix and then include another URL file for the rest of the endpoint.\r\n```python\r\napi_patterns= [\r\n  url(&#39;foo/&#39;, include(foo.urls)),\r\n  url(&#39;bar/&#39;, include(bar.urls)),\r\n]\r\n\r\nurlpatterns = [\r\n  url(r&#39;api/&#39;, include(api_patterns)),\r\n]\r\n```\r\n\r\nThis implementation would result in endpoints `/api/foo/` and `/api/bar/` and these endpoints would live in separate directories with separate url files.\r\n\r\n\r\n# The question is whether we can implement something equivalent to **Spring Boot**.\r\nI know you can add the prefix to the `@RequestMapping` on all the files.\r\nBut in my current project, we have a lot of controllers that start from the same route prefix and then, later on, differ from each other.\r\n\r\n\r\n```java\r\n// Foo controller\r\n@Controller\r\n@RequestMapping(path = &quot;api/foo&quot;)\r\npublic class FooController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/foo\r\n}\r\n\r\n// Bar controller\r\n@Controller\r\n@RequestMapping(path = &quot;api/bar&quot;)\r\npublic class BarController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/bar\r\n}\r\n\r\n// Tar controller by foo\r\n@Controller\r\n@RequestMapping(path = &quot;api/foo/tar&quot;)\r\npublic class TarController {\r\n\r\n  @GetMapping(path = &quot;&quot;)\r\n  // Endpoint to /api/foo/tar\r\n}\r\n```\r\nThe endpoint would then look like this `/api/foo`, `/api/bar`, and `/api/foo/tar`.\r\n\r\nHow can I prevent the repeated path prefix on all the files?\r\n\r\n*This routing might be a bad practice for working with API endpoint, I also think that this could be prevented, and that is why I&#39;m asking as a junior developer to try to improve and show responsibility at my first job.*","title":"Same prefix endpoint but two different Controllers","body":"<p>I remember working on a project made in Django where you could create routes that could be given a prefix and then include another URL file for the rest of the endpoint.</p>\n<pre class=\"lang-py prettyprint-override\"><code>api_patterns= [\n  url('foo/', include(foo.urls)),\n  url('bar/', include(bar.urls)),\n]\n\nurlpatterns = [\n  url(r'api/', include(api_patterns)),\n]\n</code></pre>\n<p>This implementation would result in endpoints <code>/api/foo/</code> and <code>/api/bar/</code> and these endpoints would live in separate directories with separate url files.</p>\n<h1>The question is whether we can implement something equivalent to <strong>Spring Boot</strong>.</h1>\n<p>I know you can add the prefix to the <code>@RequestMapping</code> on all the files.\nBut in my current project, we have a lot of controllers that start from the same route prefix and then, later on, differ from each other.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Foo controller\n@Controller\n@RequestMapping(path = &quot;api/foo&quot;)\npublic class FooController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/foo\n}\n\n// Bar controller\n@Controller\n@RequestMapping(path = &quot;api/bar&quot;)\npublic class BarController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/bar\n}\n\n// Tar controller by foo\n@Controller\n@RequestMapping(path = &quot;api/foo/tar&quot;)\npublic class TarController {\n\n  @GetMapping(path = &quot;&quot;)\n  // Endpoint to /api/foo/tar\n}\n</code></pre>\n<p>The endpoint would then look like this <code>/api/foo</code>, <code>/api/bar</code>, and <code>/api/foo/tar</code>.</p>\n<p>How can I prevent the repeated path prefix on all the files?</p>\n<p><em>This routing might be a bad practice for working with API endpoint, I also think that this could be prevented, and that is why I'm asking as a junior developer to try to improve and show responsibility at my first job.</em></p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1446829538,"post_id":33571857,"comment_id":54921893,"body_markdown":"ElementCollection still stores the collection in a separate table, with one string per row. I don&#39;t know where you read that it stored elements as comma-separated values. You&#39;ll need a custom type, or a JPA attribute converted. Also, annotating a list of strings with GeneratedValue doesn&#39;t make any sense.","body":"ElementCollection still stores the collection in a separate table, with one string per row. I don&#39;t know where you read that it stored elements as comma-separated values. You&#39;ll need a custom type, or a JPA attribute converted. Also, annotating a list of strings with GeneratedValue doesn&#39;t make any sense."},{"owner":{"account_id":6959842,"reputation":4042,"user_id":5339680,"display_name":"Ish"},"score":1,"creation_date":1446832201,"post_id":33571857,"comment_id":54923308,"body_markdown":"you can try AttributeConverters as alternative: http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html","body":"you can try AttributeConverters as alternative: <a href=\"http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html\" rel=\"nofollow noreferrer\">hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1446890338,"post_id":33572326,"comment_id":54939498,"body_markdown":"It is also possible to store values into a transient list, and convert it to and from a string value only when writing/reading to DB. See [Entity listeners](https://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/listeners.html) - this would improve performance a biť, as the conversion does not happen always when yoe read/write value to the entity. Or you may also use [AttributeConverter](http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html), as suggested by @Ish","body":"It is also possible to store values into a transient list, and convert it to and from a string value only when writing/reading to DB. See <a href=\"https://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/listeners.html\" rel=\"nofollow noreferrer\">Entity listeners</a> - this would improve performance a biť, as the conversion does not happen always when yoe read/write value to the entity. Or you may also use <a href=\"http://hantsy.blogspot.com/2013/12/jpa-21-attribute-converter.html\" rel=\"nofollow noreferrer\">AttributeConverter</a>, as suggested by @Ish"}],"tags":[],"owner":{"account_id":6240728,"reputation":1323,"user_id":4854433,"display_name":"T&#250;lio Castro"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1446830829,"creation_date":1446830829,"answer_id":33572326,"question_id":33571857,"body_markdown":"The @ElementCollection requires a table to store multiples rows of values,\r\n\r\nSo you could define as a String column and join/explode in getters and setters, like this\r\n\r\n    private String services;\r\n\r\n    public setServices(String services[]) //Can be Array or List\r\n    {\r\n         // this.services = Iterate services[] and create a comma separated string or Use ArrayUtils\r\n    }\r\n\r\n    public String[] getServices() //Can be Array or List\r\n    {\r\n        // services.split(&quot;,&quot;) to get a list of Strings, then typecast/parse them to Strings before returning or use Arrays.asList(arguments.split(&quot;,&quot;));\r\n    }","title":"JPA: Saving List of values as comma separated values","body":"<p>The @ElementCollection requires a table to store multiples rows of values,</p>\n\n<p>So you could define as a String column and join/explode in getters and setters, like this</p>\n\n<pre><code>private String services;\n\npublic setServices(String services[]) //Can be Array or List\n{\n     // this.services = Iterate services[] and create a comma separated string or Use ArrayUtils\n}\n\npublic String[] getServices() //Can be Array or List\n{\n    // services.split(\",\") to get a list of Strings, then typecast/parse them to Strings before returning or use Arrays.asList(arguments.split(\",\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":912159,"reputation":3129,"user_id":945742,"accept_rate":60,"display_name":"pedorro"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1609963629,"creation_date":1521826010,"answer_id":49455323,"question_id":33571857,"body_markdown":"As mentioned by others in the comments an `AttributeConverter` works pretty well. This one uses Jackson to serialize as a JSON array. I recommend JSON since it cleanly handles delimiter escaping, nulls, quotes, etc.:\r\n\r\n    @Converter\r\n    public class StringListAttributeConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n\r\n        private static final TypeReference&lt;List&lt;String&gt;&gt; TypeRef = new TypeReference&lt;List&lt;String&gt;&gt;(){};\r\n\r\n        @Override\r\n        public String convertToDatabaseColumn (List&lt;String&gt; attribute) {\r\n            if (attribute == null) {\r\n                return null;\r\n            }\r\n            try {\r\n                return ObjectMapperFactory.getInstance().writeValueAsString(attribute);\r\n            }\r\n            catch (IOException ex) {\r\n                throw new UncheckedIOException(ex);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; convertToEntityAttribute (String dbData) {\r\n            if (dbData == null) {\r\n                return null;\r\n            }\r\n            try {\r\n                return ObjectMapperFactory.getInstance().readValue(dbData, TypeRef);\r\n            }\r\n            catch (IOException ex) {\r\n                throw new UncheckedIOException(ex);\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve used this class and it works well in most cases. One caveat I&#39;ve found is that using this converter can confuse some JPA criteria queries, because it expects a type List on the entity, but finds a String in the db.","title":"JPA: Saving List of values as comma separated values","body":"<p>As mentioned by others in the comments an <code>AttributeConverter</code> works pretty well. This one uses Jackson to serialize as a JSON array. I recommend JSON since it cleanly handles delimiter escaping, nulls, quotes, etc.:</p>\n<pre><code>@Converter\npublic class StringListAttributeConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n\n    private static final TypeReference&lt;List&lt;String&gt;&gt; TypeRef = new TypeReference&lt;List&lt;String&gt;&gt;(){};\n\n    @Override\n    public String convertToDatabaseColumn (List&lt;String&gt; attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        try {\n            return ObjectMapperFactory.getInstance().writeValueAsString(attribute);\n        }\n        catch (IOException ex) {\n            throw new UncheckedIOException(ex);\n        }\n    }\n\n    @Override\n    public List&lt;String&gt; convertToEntityAttribute (String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        try {\n            return ObjectMapperFactory.getInstance().readValue(dbData, TypeRef);\n        }\n        catch (IOException ex) {\n            throw new UncheckedIOException(ex);\n        }\n    }\n}\n</code></pre>\n<p>I've used this class and it works well in most cases. One caveat I've found is that using this converter can confuse some JPA criteria queries, because it expects a type List on the entity, but finds a String in the db.</p>\n"},{"tags":[],"owner":{"account_id":9949440,"reputation":636,"user_id":7362736,"display_name":"Marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1666431696,"creation_date":1666431696,"answer_id":74162476,"question_id":33571857,"body_markdown":"A more simple variant did the trick for me, no Jackson, but trimming strings:\r\n\r\n    public class CsvTrimmedStringsConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\r\n      @Override\r\n      public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\r\n        return attribute == null\r\n            ? null\r\n            : attribute.stream().map(String::trim).collect(Collectors.joining(&quot;,&quot;));\r\n      }\r\n    \r\n      @Override\r\n      public List&lt;String&gt; convertToEntityAttribute(String dbData) {\r\n        return dbData == null\r\n            ? null\r\n            : Arrays.stream(dbData.split(&quot;,&quot;)).map(String::trim).collect(Collectors.toList());\r\n      }\r\n    }\r\n\r\n","title":"JPA: Saving List of values as comma separated values","body":"<p>A more simple variant did the trick for me, no Jackson, but trimming strings:</p>\n<pre><code>public class CsvTrimmedStringsConverter implements AttributeConverter&lt;List&lt;String&gt;, String&gt; {\n  @Override\n  public String convertToDatabaseColumn(List&lt;String&gt; attribute) {\n    return attribute == null\n        ? null\n        : attribute.stream().map(String::trim).collect(Collectors.joining(&quot;,&quot;));\n  }\n\n  @Override\n  public List&lt;String&gt; convertToEntityAttribute(String dbData) {\n    return dbData == null\n        ? null\n        : Arrays.stream(dbData.split(&quot;,&quot;)).map(String::trim).collect(Collectors.toList());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18589,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":33572326,"answer_count":3,"score":15,"last_activity_date":1666431696,"creation_date":1446829189,"question_id":33571857,"body_markdown":"I am receiving a simple list of values part of JSON request which I want to save as comma separated values. Tried using following but it did not work.\r\n\r\n    @Column(nullable = true)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private ArrayList&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\r\n\r\nand \r\n\r\n    @Column(nullable = true)\r\n    @ElementCollection(targetClass = String.class)\r\n    private List&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\r\n\r\n`@ElementCollection` threw  an exception saying `table services does not exist`.","title":"JPA: Saving List of values as comma separated values","body":"<p>I am receiving a simple list of values part of JSON request which I want to save as comma separated values. Tried using following but it did not work.</p>\n\n<pre><code>@Column(nullable = true)\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate ArrayList&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Column(nullable = true)\n@ElementCollection(targetClass = String.class)\nprivate List&lt;String&gt; services = new ArrayList&lt;String&gt;() ;\n</code></pre>\n\n<p><code>@ElementCollection</code> threw  an exception saying <code>table services does not exist</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1666335757,"post_id":74149845,"comment_id":130916938,"body_markdown":"why don&#39;t you print out the actual class name and see why?","body":"why don&#39;t you print out the actual class name and see why?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666336089,"post_id":74149845,"comment_id":130917039,"body_markdown":"just guessing: besides the actual test method, Junit will also run @Before annotated method","body":"just guessing: besides the actual test method, Junit will also run @Before annotated method"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1666345851,"post_id":74149845,"comment_id":130920248,"body_markdown":"In the second code snippet you are importing some class `KeyAgreementSpi`. It could be that the class you are importing is not `javax.crypto.KeyAgreementSpi` but for example `org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi`. Replace `newInstance instanceof KeyAgreementSpi` with `newInstance instanceof javax.crypto.KeyAgreementSpi`.","body":"In the second code snippet you are importing some class <code>KeyAgreementSpi</code>. It could be that the class you are importing is not <code>javax.crypto.KeyAgreementSpi</code> but for example <code>org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementS&zwnj;&#8203;pi</code>. Replace <code>newInstance instanceof KeyAgreementSpi</code> with <code>newInstance instanceof javax.crypto.KeyAgreementSpi</code>."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666431270,"creation_date":1666431270,"answer_id":74162438,"question_id":74149845,"body_markdown":"Your problem can be easily explained by importing a `KeyAgreementSpi` class different from `javax.crypto.KeyAgreementSpi`.\r\n\r\nThe following example requires the dependency &quot;org.bouncycastle:pcprov-jdk15on&quot; and prints &quot;true&quot; and &quot;false&quot;:\r\n\r\n    import org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi;\r\n    \r\n    import java.lang.reflect.Constructor;\r\n    \r\n    public class KeyAgreementTest {\r\n        public static void main(String[] args) throws Exception{\r\n            Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n            Class&lt;?&gt;[] empty = {};\r\n            Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n            Object newInstance = con.newInstance();\r\n            System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\r\n            System.out.println(newInstance instanceof KeyAgreementSpi);\r\n        }\r\n    }\r\n\r\n","title":"Why the same code has different behaviors between main and junit test","body":"<p>Your problem can be easily explained by importing a <code>KeyAgreementSpi</code> class different from <code>javax.crypto.KeyAgreementSpi</code>.</p>\n<p>The following example requires the dependency &quot;org.bouncycastle:pcprov-jdk15on&quot; and prints &quot;true&quot; and &quot;false&quot;:</p>\n<pre><code>import org.bouncycastle.jcajce.provider.asymmetric.dh.KeyAgreementSpi;\n\nimport java.lang.reflect.Constructor;\n\npublic class KeyAgreementTest {\n    public static void main(String[] args) throws Exception{\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n        Class&lt;?&gt;[] empty = {};\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n        Object newInstance = con.newInstance();\n        System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\n        System.out.println(newInstance instanceof KeyAgreementSpi);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10778132,"reputation":29,"user_id":7929415,"display_name":"Bing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666431270,"creation_date":1666335603,"question_id":74149845,"body_markdown":"I have a code snippets, the output are different when I use main and JUnit run it.\r\n\r\nMy question: why the output of these two ways is not the same?\r\n\r\nI tried search on google, but no good answers. So asking here, hoping someone can explain.\r\n\r\n    // This output is true\r\n    public static void main(String[] args) throws Exception{\r\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n        Class&lt;?&gt;[] empty = {};\r\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n        Object newInstance = con.newInstance();\r\n        System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\r\n    }\r\n\r\n    // This output is false\r\n    @Test\r\n    public void test() throws Exception {\r\n        Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\r\n        Class&lt;?&gt;[] empty = {};\r\n        Constructor&lt;?&gt; con = clazz.getConstructor(empty);\r\n        Object newInstance = con.newInstance();\r\n        System.out.println(newInstance instanceof KeyAgreementSpi);\r\n    }","title":"Why the same code has different behaviors between main and junit test","body":"<p>I have a code snippets, the output are different when I use main and JUnit run it.</p>\n<p>My question: why the output of these two ways is not the same?</p>\n<p>I tried search on google, but no good answers. So asking here, hoping someone can explain.</p>\n<pre><code>// This output is true\npublic static void main(String[] args) throws Exception{\n    Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n    Class&lt;?&gt;[] empty = {};\n    Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n    Object newInstance = con.newInstance();\n    System.out.println(newInstance instanceof javax.crypto.KeyAgreementSpi);\n}\n\n// This output is false\n@Test\npublic void test() throws Exception {\n    Class&lt;?&gt; clazz = sun.security.ec.ECDHKeyAgreement.class;\n    Class&lt;?&gt;[] empty = {};\n    Constructor&lt;?&gt; con = clazz.getConstructor(empty);\n    Object newInstance = con.newInstance();\n    System.out.println(newInstance instanceof KeyAgreementSpi);\n}\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2048784,"reputation":787,"user_id":1828243,"accept_rate":14,"display_name":"Lefteris Bab"},"score":0,"creation_date":1510297272,"post_id":47217098,"comment_id":81383928,"body_markdown":"Is that useful for you? \nhttps://github.com/meetup/timeywimey/blob/master/timeywimey-core/src/main/java/com/meetup/timeywimey/JodaConverters.java","body":"Is that useful for you?  <a href=\"https://github.com/meetup/timeywimey/blob/master/timeywimey-core/src/main/java/com/meetup/timeywimey/JodaConverters.java\" rel=\"nofollow noreferrer\">github.com/meetup/timeywimey/blob/master/timeywimey-core/src&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1510299834,"post_id":47217098,"comment_id":81385161,"body_markdown":"I don’t think you meant to divide by 1000 the last two times you did it in the last code snippet, with the years and with the months.","body":"I don’t think you meant to divide by 1000 the last two times you did it in the last code snippet, with the years and with the months."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1510304283,"post_id":47217098,"comment_id":81387260,"body_markdown":"You may want to look into [`org.threeten.extra.PeriodDuration`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/PeriodDuration.html) in the ThreeTen Extra project.","body":"You may want to look into <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/PeriodDuration.html\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.PeriodDuration</code></a> in the ThreeTen Extra project."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1510304359,"post_id":47217098,"comment_id":81387308,"body_markdown":"I think (like you?) I would prefer to leave all parsing to the library methods. One option is to try parsing both as a `Period` and as a `Duration` and take the one that works.","body":"I think (like you?) I would prefer to leave all parsing to the library methods. One option is to try parsing both as a <code>Period</code> and as a <code>Duration</code> and take the one that works."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1510304503,"post_id":47217098,"comment_id":81387396,"body_markdown":"Are you sure your period is always a `Period` or a `Duration`? Or put the opposite way, could something like `P1MT1H` be present in your data?","body":"Are you sure your period is always a <code>Period</code> or a <code>Duration</code>? Or put the opposite way, could something like <code>P1MT1H</code> be present in your data?"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1510306204,"post_id":47217098,"comment_id":81388436,"body_markdown":"If you parse to a `java.time.Duration` then the original information if it was one day or 86400 seconds is lost because that type only stores seconds and nanoseconds. And about `java.time.Period`, it automatically convert a week to seven days which might not be desirable for you. IMHO I would avoid the conversion because the `java.time`-types are too limited here, compared with JodaTime.","body":"If you parse to a <code>java.time.Duration</code> then the original information if it was one day or 86400 seconds is lost because that type only stores seconds and nanoseconds. And about <code>java.time.Period</code>, it automatically convert a week to seven days which might not be desirable for you. IMHO I would avoid the conversion because the <code>java.time</code>-types are too limited here, compared with JodaTime."}],"answers":[{"comments":[{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1510325236,"post_id":47222220,"comment_id":81400619,"body_markdown":"Thanks for the input. But, my input could have P2M, P10M, P2Y, PT15M, PT10M. It wont have the combination of both Period and time like P1MT10M. But any number of months, years or days possible.","body":"Thanks for the input. But, my input could have P2M, P10M, P2Y, PT15M, PT10M. It wont have the combination of both Period and time like P1MT10M. But any number of months, years or days possible."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1510325817,"post_id":47222220,"comment_id":81401052,"body_markdown":"@user1578872 Ah okay, that is something you have told us differently in your original question. I will soon adjust my answer for your new requirement.","body":"@user1578872 Ah okay, that is something you have told us differently in your original question. I will soon adjust my answer for your new requirement."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1510328002,"post_id":47222220,"comment_id":81402535,"body_markdown":"@user1578872 Have now adjusted my answer. The suggested code covers a simplified variant of XML-schema suitable for the representations you mentioned inclusive a possible leading minus sign for negative durations.","body":"@user1578872 Have now adjusted my answer. The suggested code covers a simplified variant of XML-schema suitable for the representations you mentioned inclusive a possible leading minus sign for negative durations."},{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1510330719,"post_id":47222220,"comment_id":81404236,"body_markdown":"Awesome. Hope, ChronoException can be replaced with RuntimeException as I dont want to import net.time4j.engine.","body":"Awesome. Hope, ChronoException can be replaced with RuntimeException as I dont want to import net.time4j.engine."},{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1510331801,"post_id":47222220,"comment_id":81404922,"body_markdown":"This doesnt work as expected. \nSimpleDuration simpleDuration = SimpleDuration.parse(&quot;PT10M&quot;);\n  // It returns 10 as opposed to return 0      \n System.out.println(&quot;YEARS &quot;+simpleDuration.get(ChronoUnit.YEARS));","body":"This doesnt work as expected.  SimpleDuration simpleDuration = SimpleDuration.parse(&quot;PT10M&quot;);   // It returns 10 as opposed to return 0        System.out.println(&quot;YEARS &quot;+simpleDuration.get(ChronoUnit.YEARS));"},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1510333151,"post_id":47222220,"comment_id":81405710,"body_markdown":"@user1578872 I have fixed the import for the exception class (a faux-pas because I rather love to work with my own time library). About your counter-example: Sorry, I have now fixed the getter-code.","body":"@user1578872 I have fixed the import for the exception class (a faux-pas because I rather love to work with my own time library). About your counter-example: Sorry, I have now fixed the getter-code."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1510343845,"post_id":47222220,"comment_id":81411035,"body_markdown":"Nice work but I wonder if it wouldn&#39;t make more sense to copy the code from threetenextra.","body":"Nice work but I wonder if it wouldn&#39;t make more sense to copy the code from threetenextra."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1510353669,"post_id":47222220,"comment_id":81415230,"body_markdown":"@assylias Why from Threeten-Extra? ;-) I have exercise by implementing a much more featured `net.time4j.Duration`-class in my lib Time4J where I had also to write an [internal implementation](http://time4j.net/javadoc-en/net/time4j/Duration.html#toTemporalAmount--) of `TemporalAmount` for conversion purposes. And the sign-handling here is different (more suitable for XML-schema).","body":"@assylias Why from Threeten-Extra? ;-) I have exercise by implementing a much more featured <code>net.time4j.Duration</code>-class in my lib Time4J where I had also to write an <a href=\"http://time4j.net/javadoc-en/net/time4j/Duration.html#toTemporalAmount--\" rel=\"nofollow noreferrer\">internal implementation</a> of <code>TemporalAmount</code> for conversion purposes. And the sign-handling here is different (more suitable for XML-schema)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1510396640,"post_id":47222220,"comment_id":81424048,"body_markdown":"I&#39;m not questioning your ability to do it properly, I&#39;m just saying that if the user only needs a PeriodDuration class, there is one in threetenextra that&#39;s been tested and can be copied/pasted as is.","body":"I&#39;m not questioning your ability to do it properly, I&#39;m just saying that if the user only needs a PeriodDuration class, there is one in threetenextra that&#39;s been tested and can be copied/pasted as is."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":2,"creation_date":1510414970,"post_id":47222220,"comment_id":81429569,"body_markdown":"@assylias `PeriodDuration`of Threeten-extra does not the same (not suitable for XML-schema in case of negative durations), and `net.time4j.Duration` has even different arithmetic behaviour for negative durations and has extra formatting capabilities (missing in threeten-extra) so we talk here about apples and oranges, not really comparable or exchangeable classes representing a temporal amount. And the OP has explicitly asked for a Java-8-solution, not for 3rd-party-libraries.","body":"@assylias <code>PeriodDuration</code>of Threeten-extra does not the same (not suitable for XML-schema in case of negative durations), and <code>net.time4j.Duration</code> has even different arithmetic behaviour for negative durations and has extra formatting capabilities (missing in threeten-extra) so we talk here about apples and oranges, not really comparable or exchangeable classes representing a temporal amount. And the OP has explicitly asked for a Java-8-solution, not for 3rd-party-libraries."}],"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1510333106,"creation_date":1510314850,"answer_id":47222220,"question_id":47217098,"body_markdown":"Java-8 does not have such a complex duration type like the class `org.joda.time.Period`. But you can create your own implementation of the interface `TemporalAmount` in a straight-forward way:\r\n\r\n    import java.time.DateTimeException;    \r\n    import java.time.temporal.ChronoUnit;\r\n    import java.time.temporal.Temporal;\r\n    import java.time.temporal.TemporalAmount;\r\n    import java.time.temporal.TemporalUnit;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    import static java.time.temporal.ChronoUnit.*;\r\n    \r\n    public class SimpleDuration implements TemporalAmount {\r\n    \r\n    \tprivate static final List&lt;TemporalUnit&gt; SUPPORTED_UNITS =\r\n    \t\tCollections.unmodifiableList(Arrays.asList(YEARS, MONTHS, DAYS, HOURS, MINUTES));\r\n    \r\n    \tprivate final int amount;\r\n    \tprivate final ChronoUnit unit;\r\n    \r\n    \tprivate SimpleDuration(int amount, ChronoUnit unit) {\r\n    \t\tthis.amount = amount;\r\n    \t\tthis.unit = unit;\r\n    \t}\r\n    \r\n    \tpublic static SimpleDuration of(int amount, ChronoUnit unit) {\r\n    \t\tif (SUPPORTED_UNITS.contains(unit)) {\r\n    \t\t\treturn new SimpleDuration(amount, unit);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Not supported: &quot; + unit);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long get(TemporalUnit unit) {\r\n    \t\tif (this.unit.equals(unit)) {\r\n    \t\t  return this.amount;\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;TemporalUnit&gt; getUnits() {\r\n    \t\treturn SUPPORTED_UNITS;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Temporal addTo(Temporal temporal) {\r\n    \t\treturn temporal.plus(this.amount, this.unit);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Temporal subtractFrom(Temporal temporal) {\r\n    \t\treturn temporal.minus(this.amount, this.unit);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (obj instanceof SimpleDuration) {\r\n    \t\t\tSimpleDuration that = (SimpleDuration) obj;\r\n    \t\t\treturn this.unit == that.unit &amp;&amp; this.amount == that.amount;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn this.unit.hashCode() + 37 * Integer.hashCode(this.amount);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tif (this.amount &lt; 0) {\r\n    \t\t\tsb.append(&#39;-&#39;);\r\n    \t\t}\r\n    \t\tsb.append(&#39;P&#39;);\r\n    \t\tif (this.unit.isTimeBased()) {\r\n    \t\t\tsb.append(&#39;T&#39;);\r\n    \t\t}\r\n    \t\tsb.append(Math.abs(this.amount));\r\n    \t\tswitch (this.unit) {\r\n    \r\n    \t\t\tcase YEARS :\r\n    \t\t\t\tsb.append(&#39;Y&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase MONTHS :\r\n    \t\t\t\tsb.append(&#39;M&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase DAYS :\r\n    \t\t\t\tsb.append(&#39;D&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase HOURS :\r\n    \t\t\t\tsb.append(&#39;H&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tcase MINUTES :\r\n    \t\t\t\tsb.append(&#39;M&#39;);\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tdefault :\r\n    \t\t\t\tthrow new UnsupportedOperationException(this.unit.name());\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \tpublic static SimpleDuration parse(String input) {\r\n    \t\tint len = input.length();\r\n    \t\tint index = 0;\r\n    \t\tboolean negative = false;\r\n    \t\tif (len &gt; 0 &amp;&amp; input.charAt(0) == &#39;-&#39;) {\r\n    \t\t\tnegative = true; // for XML-Schema (not for ISO-8601)\r\n    \t\t\tindex++;\r\n    \t\t}\r\n    \t\tif (len &gt;= 3 &amp;&amp; input.charAt(index) == &#39;P&#39;) {\r\n    \t\t\tboolean timeBased = (input.charAt(index + 1) == &#39;T&#39;);\r\n    \t\t\tchar last = input.charAt(len - 1);\r\n    \t\t\tChronoUnit unit;\r\n    \t\t\tswitch (last) {\r\n    \r\n    \t\t\t\tcase &#39;Y&#39; :\r\n    \t\t\t\t\tunit = YEARS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;M&#39; :\r\n    \t\t\t\t\tunit = (timeBased ? MINUTES : MONTHS);\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;D&#39; :\r\n    \t\t\t\t\tunit = DAYS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tcase &#39;H&#39; :\r\n    \t\t\t\t\tunit = HOURS;\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\tdefault :\r\n    \t\t\t\t\tthrow new DateTimeException(\r\n    \t\t\t\t\t\t&quot;Unknown unit symbol found at last position: &quot; + input\r\n    \t\t\t\t\t);\r\n    \t\t\t}\r\n    \t\t\tif (unit.isTimeBased() != timeBased) {\r\n    \t\t\t\tthrow new DateTimeException(&quot;Invalid XML-Schema-format: &quot; + input);\r\n    \t\t\t}\r\n    \t\t\ttry {\r\n    \t\t\t  int amount =\r\n    \t\t\t    Integer.parseInt(\r\n    \t\t\t      input.substring(index).substring(timeBased ? 2 : 1, len - 1 - index));\r\n    \t\t\t  if (amount &lt; 0) {\r\n    \t\t\t    throw new DateTimeException(\r\n    \t\t\t\t  &quot;XML-Schema does not allow negative amounts inside: &quot; + input);\r\n    \t\t\t  }\r\n    \t\t\t  return SimpleDuration.of(negative ? -amount : amount, unit);\r\n    \t\t\t} catch (NumberFormatException ex) {\r\n    \t\t\t\tthrow new DateTimeException(&quot;Invalid XML-Schema-format: &quot; + input, ex);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthrow new DateTimeException(&quot;Cannot parse: &quot; + input);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... args) {\r\n    \t\tSystem.out.println(parse(&quot;-PT10M&quot;)); // -PT10M\r\n    \t}\r\n    }","title":"Converting org.joda.time.Period to java.time.Period","body":"<p>Java-8 does not have such a complex duration type like the class <code>org.joda.time.Period</code>. But you can create your own implementation of the interface <code>TemporalAmount</code> in a straight-forward way:</p>\n\n<pre><code>import java.time.DateTimeException;    \nimport java.time.temporal.ChronoUnit;\nimport java.time.temporal.Temporal;\nimport java.time.temporal.TemporalAmount;\nimport java.time.temporal.TemporalUnit;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\nimport static java.time.temporal.ChronoUnit.*;\n\npublic class SimpleDuration implements TemporalAmount {\n\n    private static final List&lt;TemporalUnit&gt; SUPPORTED_UNITS =\n        Collections.unmodifiableList(Arrays.asList(YEARS, MONTHS, DAYS, HOURS, MINUTES));\n\n    private final int amount;\n    private final ChronoUnit unit;\n\n    private SimpleDuration(int amount, ChronoUnit unit) {\n        this.amount = amount;\n        this.unit = unit;\n    }\n\n    public static SimpleDuration of(int amount, ChronoUnit unit) {\n        if (SUPPORTED_UNITS.contains(unit)) {\n            return new SimpleDuration(amount, unit);\n        } else {\n            throw new IllegalArgumentException(\"Not supported: \" + unit);\n        }\n    }\n\n    @Override\n    public long get(TemporalUnit unit) {\n        if (this.unit.equals(unit)) {\n          return this.amount;\n        }\n        return 0;\n    }\n\n    @Override\n    public List&lt;TemporalUnit&gt; getUnits() {\n        return SUPPORTED_UNITS;\n    }\n\n    @Override\n    public Temporal addTo(Temporal temporal) {\n        return temporal.plus(this.amount, this.unit);\n    }\n\n    @Override\n    public Temporal subtractFrom(Temporal temporal) {\n        return temporal.minus(this.amount, this.unit);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof SimpleDuration) {\n            SimpleDuration that = (SimpleDuration) obj;\n            return this.unit == that.unit &amp;&amp; this.amount == that.amount;\n        } else {\n            return false;\n        }\n    }\n\n    @Override\n    public int hashCode() {\n        return this.unit.hashCode() + 37 * Integer.hashCode(this.amount);\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        if (this.amount &lt; 0) {\n            sb.append('-');\n        }\n        sb.append('P');\n        if (this.unit.isTimeBased()) {\n            sb.append('T');\n        }\n        sb.append(Math.abs(this.amount));\n        switch (this.unit) {\n\n            case YEARS :\n                sb.append('Y');\n                break;\n\n            case MONTHS :\n                sb.append('M');\n                break;\n\n            case DAYS :\n                sb.append('D');\n                break;\n\n            case HOURS :\n                sb.append('H');\n                break;\n\n            case MINUTES :\n                sb.append('M');\n                break;\n\n            default :\n                throw new UnsupportedOperationException(this.unit.name());\n        }\n        return sb.toString();\n    }\n\n    public static SimpleDuration parse(String input) {\n        int len = input.length();\n        int index = 0;\n        boolean negative = false;\n        if (len &gt; 0 &amp;&amp; input.charAt(0) == '-') {\n            negative = true; // for XML-Schema (not for ISO-8601)\n            index++;\n        }\n        if (len &gt;= 3 &amp;&amp; input.charAt(index) == 'P') {\n            boolean timeBased = (input.charAt(index + 1) == 'T');\n            char last = input.charAt(len - 1);\n            ChronoUnit unit;\n            switch (last) {\n\n                case 'Y' :\n                    unit = YEARS;\n                    break;\n\n                case 'M' :\n                    unit = (timeBased ? MINUTES : MONTHS);\n                    break;\n\n                case 'D' :\n                    unit = DAYS;\n                    break;\n\n                case 'H' :\n                    unit = HOURS;\n                    break;\n\n                default :\n                    throw new DateTimeException(\n                        \"Unknown unit symbol found at last position: \" + input\n                    );\n            }\n            if (unit.isTimeBased() != timeBased) {\n                throw new DateTimeException(\"Invalid XML-Schema-format: \" + input);\n            }\n            try {\n              int amount =\n                Integer.parseInt(\n                  input.substring(index).substring(timeBased ? 2 : 1, len - 1 - index));\n              if (amount &lt; 0) {\n                throw new DateTimeException(\n                  \"XML-Schema does not allow negative amounts inside: \" + input);\n              }\n              return SimpleDuration.of(negative ? -amount : amount, unit);\n            } catch (NumberFormatException ex) {\n                throw new DateTimeException(\"Invalid XML-Schema-format: \" + input, ex);\n            }\n        }\n        throw new DateTimeException(\"Cannot parse: \" + input);\n    }\n\n    public static void main(String... args) {\n        System.out.println(parse(\"-PT10M\")); // -PT10M\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2500,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47222220,"answer_count":1,"score":5,"last_activity_date":1666431050,"creation_date":1510296466,"question_id":47217098,"body_markdown":"I am trying to replace org.joda.time.Period with java.time.\r\n\r\nWe have the following values stored in DB. \r\n\r\n    P1M, P1Y, P1D, PT1H, PT1M\r\n\r\nJust to parse this value:\r\n\r\n    Period monthly = ISOPeriodFormat.standard().parsePeriod(&lt;One of the above value from DB&gt;);\r\n\r\nThis is simple and getting Period as expected. But, now replacing with java.time is troublesome.\r\n\r\nBecause, `P1D, P1M, P1Y` should be parsed using the below code:\r\n\r\n    java.time.Period period = java.time.Period.parse(&quot;P1M&quot;);\r\n\r\nAnd, `P1H and P1D` should be parsed using the below code.\r\n\r\n    Duration dailyD = Duration.parse(&quot;P1D&quot;);\r\n\r\nSo, I might need some string check also like:\r\n\r\n    if(value.startsWith(&quot;PT&quot;)) {\r\n       // Use java.time.Duration\r\n    } else {\r\n       // Use java.time.Period\r\n    }\r\n\r\nIs there any better code for this logic?\r\n\r\nAlso, Finally, I will have to find the number of occurances from some startTime to till date based on the above java.time.Period or java.time.Duration.\r\n\r\nLike, if startDateTime is `01/01/2015 08:30`:\r\n\r\n    LocalDateTime startDateTime = // the above startDateTime ..\r\n    \r\n        if(value.startsWith(&quot;PT&quot;)) {\r\n           // Use java.time.Duration\r\n         ChronoUnit.SECONDS.between(startDateTime,curentDate)/(duration.toMillis()/1000)\r\n        } else {\r\n    \r\n     if(value.endsWith(&quot;Y&quot;)) {\r\n           // Use java.time.Period\r\n    ChronoUnit.YEARS.between(startDateTime,curentDate)/(period.getYears()/1000)\r\n    } else if(value.endsWith(&quot;M&quot;)){\r\n     ChronoUnit.MONTHS.between(startDateTime,curentDate)/(period.getMonths()/1000)\r\n    }\r\n\r\n\r\nIs there any other better way without this value parsing?\r\n        \r\nMy input could have P2M, P10M, P2Y, PT15M, PT10M. It won&#39;t have the combination of both Period and time like P1MT10M. But any number of months, years or days possible.","title":"Converting org.joda.time.Period to java.time.Period","body":"<p>I am trying to replace org.joda.time.Period with java.time.</p>\n<p>We have the following values stored in DB.</p>\n<pre><code>P1M, P1Y, P1D, PT1H, PT1M\n</code></pre>\n<p>Just to parse this value:</p>\n<pre><code>Period monthly = ISOPeriodFormat.standard().parsePeriod(&lt;One of the above value from DB&gt;);\n</code></pre>\n<p>This is simple and getting Period as expected. But, now replacing with java.time is troublesome.</p>\n<p>Because, <code>P1D, P1M, P1Y</code> should be parsed using the below code:</p>\n<pre><code>java.time.Period period = java.time.Period.parse(&quot;P1M&quot;);\n</code></pre>\n<p>And, <code>P1H and P1D</code> should be parsed using the below code.</p>\n<pre><code>Duration dailyD = Duration.parse(&quot;P1D&quot;);\n</code></pre>\n<p>So, I might need some string check also like:</p>\n<pre><code>if(value.startsWith(&quot;PT&quot;)) {\n   // Use java.time.Duration\n} else {\n   // Use java.time.Period\n}\n</code></pre>\n<p>Is there any better code for this logic?</p>\n<p>Also, Finally, I will have to find the number of occurances from some startTime to till date based on the above java.time.Period or java.time.Duration.</p>\n<p>Like, if startDateTime is <code>01/01/2015 08:30</code>:</p>\n<pre><code>LocalDateTime startDateTime = // the above startDateTime ..\n\n    if(value.startsWith(&quot;PT&quot;)) {\n       // Use java.time.Duration\n     ChronoUnit.SECONDS.between(startDateTime,curentDate)/(duration.toMillis()/1000)\n    } else {\n\n if(value.endsWith(&quot;Y&quot;)) {\n       // Use java.time.Period\nChronoUnit.YEARS.between(startDateTime,curentDate)/(period.getYears()/1000)\n} else if(value.endsWith(&quot;M&quot;)){\n ChronoUnit.MONTHS.between(startDateTime,curentDate)/(period.getMonths()/1000)\n}\n</code></pre>\n<p>Is there any other better way without this value parsing?</p>\n<p>My input could have P2M, P10M, P2Y, PT15M, PT10M. It won't have the combination of both Period and time like P1MT10M. But any number of months, years or days possible.</p>\n"},{"tags":["java","windows","textfield","touchscreen"],"answers":[{"tags":[],"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427815,"creation_date":1335090404,"answer_id":10267161,"question_id":10267107,"body_markdown":"You can&#39;t do that but if you use java.awt.Robot... allow the user to draw a box around the textfield in the other application to get its coordinates then remember it in your program. Or you could just hardcode the coordinates if they are always in the same place.\r\n\r\nOnce you know the coordinates you can listen to the mouse input, so when the mousePressed event is triggered, if the coords are within the text box, fire off your method for onscreen keyboard to appear.\r\n\r\nThis may not work because the user has to have the privilege and allow your app to read the native mouse input.\r\n","title":"detect text field of an windows application in java","body":"<p>You can't do that but if you use java.awt.Robot... allow the user to draw a box around the textfield in the other application to get its coordinates then remember it in your program. Or you could just hardcode the coordinates if they are always in the same place.</p>\n<p>Once you know the coordinates you can listen to the mouse input, so when the mousePressed event is triggered, if the coords are within the text box, fire off your method for onscreen keyboard to appear.</p>\n<p>This may not work because the user has to have the privilege and allow your app to read the native mouse input.</p>\n"}],"owner":{"account_id":295243,"reputation":546,"user_id":599552,"accept_rate":81,"display_name":"fean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666427815,"creation_date":1335089843,"question_id":10267107,"body_markdown":"A computer with touch monitor running in windows OS.\r\nI need to write a java code to detect when user touch in a textfield and then show the windows onscreen keyboard and hide the onscreen keyboard when it is not a textfield.\r\n\r\nI have done the work to show onscreen keyboard using :\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /c C:\\\\Windows\\\\System32\\\\osk.exe&quot;);\r\n\r\n\r\nbut how can i detect textfield (of another application which is NOT written in java) ?\r\n","title":"detect text field of an windows application in java","body":"<p>A computer with touch monitor running in windows OS.\nI need to write a java code to detect when user touch in a textfield and then show the windows onscreen keyboard and hide the onscreen keyboard when it is not a textfield.</p>\n\n<p>I have done the work to show onscreen keyboard using :</p>\n\n<pre><code>Runtime.getRuntime().exec(\"cmd /c C:\\\\Windows\\\\System32\\\\osk.exe\");\n</code></pre>\n\n<p>but how can i detect textfield (of another application which is NOT written in java) ?</p>\n"},{"tags":["java","audio","applet"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1322352221,"post_id":8281942,"comment_id":10199288,"body_markdown":"*&quot;does get invoked however NO SOUND!&quot;*  DON&#39;T SHOUT!  Try the code with the simple [`leftright.wav`](http://pscode.org/media/#sound).  Does your homework specify that this must be an applet?","body":"<i>&quot;does get invoked however NO SOUND!&quot;</i>  DON&#39;T SHOUT!  Try the code with the simple <a href=\"http://pscode.org/media/#sound\" rel=\"nofollow noreferrer\"><code>leftright.wav</code></a>.  Does your homework specify that this must be an applet?"},{"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"score":0,"creation_date":1322353565,"post_id":8281942,"comment_id":10199416,"body_markdown":"Wow... the leftright.wav works!! So I am guessing I have to try a different type of .wav file?","body":"Wow... the leftright.wav works!! So I am guessing I have to try a different type of .wav file?"}],"answers":[{"comments":[{"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"score":0,"creation_date":1322354851,"post_id":8281999,"comment_id":10199571,"body_markdown":"If a malformed was thrown I would see a message in the console, however it was never thrown to begin with.","body":"If a malformed was thrown I would see a message in the console, however it was never thrown to begin with."}],"tags":[],"owner":{"account_id":1020946,"reputation":8274,"user_id":1031312,"accept_rate":96,"display_name":"Ozzy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427722,"creation_date":1322345383,"answer_id":8281999,"question_id":8281942,"body_markdown":"Do you mean after you build your program and run it the sound doesn&#39;t play? You should either embed the wav file into your resource folder and use getResources() to find the file. Or the other option would be to scan your local directory to find the file object with a matching name and file extension.\r\n\r\nAlso you are throwing the Malformed URL exception so you wont get an error if the URL is wrong. You shouldn&#39;t throw it, use `try {...} catch (MalformedURLException mex) { system.out.println(mex.getMessage()) }` instead.\r\n","title":"Java AudioClip - no sound, no error","body":"<p>Do you mean after you build your program and run it the sound doesn't play? You should either embed the wav file into your resource folder and use getResources() to find the file. Or the other option would be to scan your local directory to find the file object with a matching name and file extension.</p>\n<p>Also you are throwing the Malformed URL exception so you wont get an error if the URL is wrong. You shouldn't throw it, use <code>try {...} catch (MalformedURLException mex) { system.out.println(mex.getMessage()) }</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1322354128,"creation_date":1322354128,"answer_id":8282750,"question_id":8281942,"body_markdown":"Try the code with the simple [leftright.wav](http://pscode.org/media/#sound). \r\n\r\n&gt; ..the leftright.wav works!! \r\n\r\nMost media formats (sound, image, video etc.) are what is known as &#39;container formats&#39;.  The encoding of the media might be in any number of types.  Java reads some encodings, but not others.\r\n\r\n&gt; So I am guessing I have to try a different type of .wav file?\r\n\r\nIf it is for an application resource, I&#39;d tend to convert the current WAV to a type that is compatible with Java Sound.","title":"Java AudioClip - no sound, no error","body":"<p>Try the code with the simple <a href=\"http://pscode.org/media/#sound\" rel=\"nofollow\">leftright.wav</a>. </p>\n\n<blockquote>\n  <p>..the leftright.wav works!! </p>\n</blockquote>\n\n<p>Most media formats (sound, image, video etc.) are what is known as 'container formats'.  The encoding of the media might be in any number of types.  Java reads some encodings, but not others.</p>\n\n<blockquote>\n  <p>So I am guessing I have to try a different type of .wav file?</p>\n</blockquote>\n\n<p>If it is for an application resource, I'd tend to convert the current WAV to a type that is compatible with Java Sound.</p>\n"}],"owner":{"account_id":368050,"reputation":3969,"user_id":714618,"accept_rate":100,"display_name":"Dennis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8282750,"answer_count":2,"score":0,"last_activity_date":1666427722,"creation_date":1322344666,"question_id":8281942,"body_markdown":"I&#39;ve read prior issues about java AudioClip and have done my research, yet I still cannot figure out why this\r\nAudioClip does not play. The .wav clip plays fine in Eclipse IDE, it is also in the appropriate directory; if the file\r\nis in the incorrect directory this code snippet throws an error message.\r\n\r\nMy professor asked that we play the audioClip using this format also, `audioClip = Applet.newAudioClip(new File(filePath).toURI().toURL());`\r\n\r\nWhen executed the play method at the bottom does get invoked however NO SOUND! \r\nAny help would be appreciated. \r\n\r\n\r\n\r\n    import java.applet.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.File;\r\n    import java.net.MalformedURLException;\r\n    \r\n    public class PlaySoundApplet extends Applet implements ActionListener\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tButton play,stop;\r\n    \tAudioClip audioClip;\r\n    \r\n      public void init()\r\n      {\r\n    \t  play = new Button(&quot;Play&quot;);\r\n    \t  add(play);\r\n    \t  play.addActionListener(this);\r\n    \t  \r\n    \t  stop = new Button(&quot;Stop&quot;);\r\n    \t  add(stop);\r\n    \t  stop.addActionListener(this);\r\n    \t  \r\n    \t  try\r\n    \t  {  \r\n    \t\t  String filePath = &quot;.&quot; + File.separator + &quot;audio&quot; + File.separator + &quot;island_music.wav&quot;;\r\n    \t\t  \r\n    \t\t  File file = new File(filePath);\r\n    \t\t  \r\n    \t\t  if (file.exists())\r\n    \t\t  {\r\n    \t\t\t  audioClip = Applet.newAudioClip(file.toURI().toURL());\r\n    \t\t  }\r\n    \t\t  else\r\n    \t\t  {\r\n    \t\t\t  throw new RuntimeException(&quot;Directory &quot; + filePath + &quot; does not exist&quot;); //debugging\r\n    \t\t  }\r\n    \t  }\r\n    \t  catch (MalformedURLException malformedURLException)\r\n    \t  {\r\n    \t\t  throw new RuntimeException(&quot;Malformed URL: &quot; + malformedURLException);  //debugging\r\n    \t  }\r\n      }\r\n      \r\n      public void actionPerformed(ActionEvent ae)\r\n      {\r\n    \t  Button source = (Button)ae.getSource();\r\n    \t  \r\n    \t  if (source.getLabel() == &quot;Play&quot;)\r\n    \t  {\r\n    \t\t  audioClip.play();\r\n    \t\t  System.out.println(&quot;Play was executed&quot;);\r\n    \t  }\r\n    \t  else if(source.getLabel() == &quot;Stop&quot;)\r\n    \t  {\r\n    \t\t  audioClip.stop();\r\n    \t\t  System.out.println(&quot;Stop was executed&quot;);\r\n    \t  }\r\n      }\r\n    }","title":"Java AudioClip - no sound, no error","body":"<p>I've read prior issues about java AudioClip and have done my research, yet I still cannot figure out why this\nAudioClip does not play. The .wav clip plays fine in Eclipse IDE, it is also in the appropriate directory; if the file\nis in the incorrect directory this code snippet throws an error message.</p>\n\n<p>My professor asked that we play the audioClip using this format also, <code>audioClip = Applet.newAudioClip(new File(filePath).toURI().toURL());</code></p>\n\n<p>When executed the play method at the bottom does get invoked however NO SOUND! \nAny help would be appreciated. </p>\n\n<pre><code>import java.applet.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.File;\nimport java.net.MalformedURLException;\n\npublic class PlaySoundApplet extends Applet implements ActionListener\n{\n    private static final long serialVersionUID = 1L;\n    Button play,stop;\n    AudioClip audioClip;\n\n  public void init()\n  {\n      play = new Button(\"Play\");\n      add(play);\n      play.addActionListener(this);\n\n      stop = new Button(\"Stop\");\n      add(stop);\n      stop.addActionListener(this);\n\n      try\n      {  \n          String filePath = \".\" + File.separator + \"audio\" + File.separator + \"island_music.wav\";\n\n          File file = new File(filePath);\n\n          if (file.exists())\n          {\n              audioClip = Applet.newAudioClip(file.toURI().toURL());\n          }\n          else\n          {\n              throw new RuntimeException(\"Directory \" + filePath + \" does not exist\"); //debugging\n          }\n      }\n      catch (MalformedURLException malformedURLException)\n      {\n          throw new RuntimeException(\"Malformed URL: \" + malformedURLException);  //debugging\n      }\n  }\n\n  public void actionPerformed(ActionEvent ae)\n  {\n      Button source = (Button)ae.getSource();\n\n      if (source.getLabel() == \"Play\")\n      {\n          audioClip.play();\n          System.out.println(\"Play was executed\");\n      }\n      else if(source.getLabel() == \"Stop\")\n      {\n          audioClip.stop();\n          System.out.println(\"Stop was executed\");\n      }\n  }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway","api-gateway"],"answers":[{"tags":[],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427472,"creation_date":1666427472,"answer_id":74162089,"question_id":74061774,"body_markdown":"Decided to use the `Use Lambda Proxy integration` option, this will automatically map the parameters when the request is received.\r\n","title":"AWS API Gateway path params throws Null pointer exception in Java application","body":"<p>Decided to use the <code>Use Lambda Proxy integration</code> option, this will automatically map the parameters when the request is received.</p>\n"}],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666427472,"creation_date":1665694996,"question_id":74061774,"body_markdown":"I have an API gateway connected to a lambda function for a GET request by email using path params `/ticket-order/{email}`\r\n\r\n[![API Gateway path params][1]][1]\r\n\r\n\r\nI have also configured Integration Request where I&#39;m setting a mapping template:\r\n\r\n[![Mapping Template][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eoMPy.png\r\n  [2]: https://i.stack.imgur.com/e5DLZ.png\r\n\r\nIn my Java application, I attempt to extract the params via the request like this:\r\n```\r\n    private APIGatewayProxyResponseEvent getTicketOrder(APIGatewayProxyRequestEvent requestEvent, Context context) {\r\n        var logger = context.getLogger();\r\n\r\n        var pathParameters = requestEvent.getPathParameters();\r\n        var email = pathParameters.get(&quot;email&quot;);\r\n        // ...\r\n    }\r\n```\r\n\r\n`pathParameters` seems to be null and throws a Null pointer. \r\n\r\nIn postman, I call the URI like this:\r\n\r\n`http://my-api-gateway-uri/dev/ticket-order/jondoe@email.com`","title":"AWS API Gateway path params throws Null pointer exception in Java application","body":"<p>I have an API gateway connected to a lambda function for a GET request by email using path params <code>/ticket-order/{email}</code></p>\n<p><a href=\"https://i.stack.imgur.com/eoMPy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoMPy.png\" alt=\"API Gateway path params\" /></a></p>\n<p>I have also configured Integration Request where I'm setting a mapping template:</p>\n<p><a href=\"https://i.stack.imgur.com/e5DLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e5DLZ.png\" alt=\"Mapping Template\" /></a></p>\n<p>In my Java application, I attempt to extract the params via the request like this:</p>\n<pre><code>    private APIGatewayProxyResponseEvent getTicketOrder(APIGatewayProxyRequestEvent requestEvent, Context context) {\n        var logger = context.getLogger();\n\n        var pathParameters = requestEvent.getPathParameters();\n        var email = pathParameters.get(&quot;email&quot;);\n        // ...\n    }\n</code></pre>\n<p><code>pathParameters</code> seems to be null and throws a Null pointer.</p>\n<p>In postman, I call the URI like this:</p>\n<p><code>http://my-api-gateway-uri/dev/ticket-order/jondoe@email.com</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666235576,"post_id":74133956,"comment_id":130889397,"body_markdown":"Possibly related: https://stackoverflow.com/questions/33058670/in-which-cases-stream-operations-should-be-stateful","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/33058670/in-which-cases-stream-operations-should-be-stateful\" title=\"in which cases stream operations should be stateful\">stackoverflow.com/questions/33058670/&hellip;</a>"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":1,"creation_date":1666238669,"post_id":74133956,"comment_id":130889857,"body_markdown":"what have you tried and how it did not work out? you aware of the filtering method then whats holding you back?","body":"what have you tried and how it did not work out? you aware of the filtering method then whats holding you back?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1666249930,"post_id":74133956,"comment_id":130892242,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1666255174,"post_id":74133956,"comment_id":130894156,"body_markdown":"You are probably looking for one of the [Collectors.groupingBy](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) methods. Group elements by the room number (the result will be a `Map`), then get the record with the latest date in each entry.","body":"You are probably looking for one of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">Collectors.groupingBy</a> methods. Group elements by the room number (the result will be a <code>Map</code>), then get the record with the latest date in each entry."},{"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"score":0,"creation_date":1666276994,"post_id":74133956,"comment_id":130902900,"body_markdown":"I updated the question to show that I grouped the objects but I am not sure how to filter down the grouped map back into a single list with the highest dates removed if multiple rooms are present","body":"I updated the question to show that I grouped the objects but I am not sure how to filter down the grouped map back into a single list with the highest dates removed if multiple rooms are present"}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666418005,"creation_date":1666418005,"answer_id":74161397,"question_id":74133956,"body_markdown":"You&#39;ve made a great attempt! You can continue to process the map by converting each value (a list of `TestClass` instances) to a single `TestClass` instance by getting the maximum value using the date:\r\n\r\n     List&lt;TestClass&gt; c = testClasses.stream()\r\n            .collect(Collectors.groupingBy(TestClass::getRoomNumber))\r\n            .values() // returns the collection of values from the map\r\n            .stream() // converts that collection to a stream\r\n            .map(group -&gt; // converts each item (a list of TestClass for a given room number)\r\n                    group.stream() // converts that list to a stream\r\n                            .max( // returns the maximum value of the list using the following Comparator\r\n                                    Comparator.comparing(TestClass::getDate)\r\n                                    // creates a comparator for TestClass based on calling getDate on each item,\r\n                                    // using the natural ordering for LocalDate\r\n                            ) // This returns Optional&lt;TestClass&gt;\r\n            ) // This returns Stream&lt;Optional&lt;TestClass&gt;&gt;\r\n            .filter(Optional::isPresent) // This removes empty Optional values\r\n            .map(Optional::get) // Converts the non-empty Optional to the value it contains\r\n            .collect(Collectors.toList()); // Collects the resulting stream into a list\r\n\r\nOne point of further clarification: why does `max` return an `Optional&lt;TestClass&gt;`? This handles the case of an empty stream (in other words, a room number in the map with no `TestClass` items), in which case an empty `Optional` is returned. Now, we know that this can&#39;t possibly happen, because of the way the data structure is built, but the compiler cannot infer that, so it is required to handle the impossible case of empty values. Strictly speaking, the `filter` part could be eliminated, but having it will ensure the code is robust in the face of some future change that allows empty values to appear.","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p>You've made a great attempt! You can continue to process the map by converting each value (a list of <code>TestClass</code> instances) to a single <code>TestClass</code> instance by getting the maximum value using the date:</p>\n<pre><code> List&lt;TestClass&gt; c = testClasses.stream()\n        .collect(Collectors.groupingBy(TestClass::getRoomNumber))\n        .values() // returns the collection of values from the map\n        .stream() // converts that collection to a stream\n        .map(group -&gt; // converts each item (a list of TestClass for a given room number)\n                group.stream() // converts that list to a stream\n                        .max( // returns the maximum value of the list using the following Comparator\n                                Comparator.comparing(TestClass::getDate)\n                                // creates a comparator for TestClass based on calling getDate on each item,\n                                // using the natural ordering for LocalDate\n                        ) // This returns Optional&lt;TestClass&gt;\n        ) // This returns Stream&lt;Optional&lt;TestClass&gt;&gt;\n        .filter(Optional::isPresent) // This removes empty Optional values\n        .map(Optional::get) // Converts the non-empty Optional to the value it contains\n        .collect(Collectors.toList()); // Collects the resulting stream into a list\n</code></pre>\n<p>One point of further clarification: why does <code>max</code> return an <code>Optional&lt;TestClass&gt;</code>? This handles the case of an empty stream (in other words, a room number in the map with no <code>TestClass</code> items), in which case an empty <code>Optional</code> is returned. Now, we know that this can't possibly happen, because of the way the data structure is built, but the compiler cannot infer that, so it is required to handle the impossible case of empty values. Strictly speaking, the <code>filter</code> part could be eliminated, but having it will ensure the code is robust in the face of some future change that allows empty values to appear.</p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666427443,"creation_date":1666423790,"answer_id":74161811,"question_id":74133956,"body_markdown":"**Using Java Streams toMap function**\r\n\r\n***Approach Here:***\r\n\r\nYou can try the below approach in which i have first `sorted` the `list` by `id` and then `date` in reverse order *(so that the list will have the latest record at top corresponding to each id)* and then using **`Collectors.toMap`** function created a map with key as id and value as the object of TestClass along with the **merger function** `(a, b) -&gt; a`(*which will help in getting the latest value corresponding to each key)* and `TreeMap::new` will give the **sorted** map.\r\n\r\nAfter that, I have created a `new ArrayList` of `TestClass` type with the `values` using `.values` of the map created above.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            final List&lt;TestClass&gt; testClasses = Arrays.asList(\r\n                    new TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n                    new TestClass(100L, LocalDate.of(2019, 1, 10)),\r\n                    new TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n                    new TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n                    new TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n                    new TestClass(104L, LocalDate.of(2020, 2, 13))\r\n            );\r\n    \r\n            List&lt;TestClass&gt; uniqueListWithLatestData =\r\n                new ArrayList&lt;&gt;(testClasses.stream()\r\n                .sorted((Comparator.comparing(TestClass::id)\r\n                              .thenComparing(TestClass::date).reversed()))\r\n                .collect(Collectors.toMap(TestClass::id, x -&gt; x,(a, b) -&gt; a, \r\n                                           TreeMap::new)).values());\r\n                 System.out.println(uniqueListWithLatestData);\r\n    \r\n        }\r\n    }\r\n\r\n**Note:** \r\n\r\nHere, I have created a `record` for TestClass for the solution, you can have your own TestClass POJO.*(Records are available from JDK14)*\r\n\r\n    public record TestClass(long id, LocalDate date) {}\r\n\r\n**Output:**\r\n\r\n    [TestClass[id=100, date=2020-01-10], \r\n    TestClass[id=101, date=2020-07-20], \r\n    TestClass[id=102, date=2020-01-09], \r\n    TestClass[id=103, date=2020-01-11], \r\n    TestClass[id=104, date=2020-02-13]]\r\n\r\n","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p><strong>Using Java Streams toMap function</strong></p>\n<p><em><strong>Approach Here:</strong></em></p>\n<p>You can try the below approach in which i have first <code>sorted</code> the <code>list</code> by <code>id</code> and then <code>date</code> in reverse order <em>(so that the list will have the latest record at top corresponding to each id)</em> and then using <strong><code>Collectors.toMap</code></strong> function created a map with key as id and value as the object of TestClass along with the <strong>merger function</strong> <code>(a, b) -&gt; a</code>(<em>which will help in getting the latest value corresponding to each key)</em> and <code>TreeMap::new</code> will give the <strong>sorted</strong> map.</p>\n<p>After that, I have created a <code>new ArrayList</code> of <code>TestClass</code> type with the <code>values</code> using <code>.values</code> of the map created above.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        final List&lt;TestClass&gt; testClasses = Arrays.asList(\n                new TestClass(100L, LocalDate.of(2020, 1, 10)),\n                new TestClass(100L, LocalDate.of(2019, 1, 10)),\n                new TestClass(101L, LocalDate.of(2020, 7, 20)),\n                new TestClass(102L, LocalDate.of(2020, 1, 9)),\n                new TestClass(103L, LocalDate.of(2020, 1, 11)),\n                new TestClass(104L, LocalDate.of(2020, 2, 13))\n        );\n\n        List&lt;TestClass&gt; uniqueListWithLatestData =\n            new ArrayList&lt;&gt;(testClasses.stream()\n            .sorted((Comparator.comparing(TestClass::id)\n                          .thenComparing(TestClass::date).reversed()))\n            .collect(Collectors.toMap(TestClass::id, x -&gt; x,(a, b) -&gt; a, \n                                       TreeMap::new)).values());\n             System.out.println(uniqueListWithLatestData);\n\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>Here, I have created a <code>record</code> for TestClass for the solution, you can have your own TestClass POJO.<em>(Records are available from JDK14)</em></p>\n<pre><code>public record TestClass(long id, LocalDate date) {}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[TestClass[id=100, date=2020-01-10], \nTestClass[id=101, date=2020-07-20], \nTestClass[id=102, date=2020-01-09], \nTestClass[id=103, date=2020-01-11], \nTestClass[id=104, date=2020-02-13]]\n</code></pre>\n"}],"owner":{"account_id":15965463,"reputation":81,"user_id":11521276,"display_name":"thottivelli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666427443,"creation_date":1666234669,"question_id":74133956,"body_markdown":"I am using Java 8 streams and would like to remove an item in my list if multiple items with the same room number are present and use the one with the most current date. \r\n\r\nI have this list:\r\n\r\n    final List&lt;TestClass&gt; testClasses = Arrays.asList(\r\n                new TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n                new TestClass(100L, LocalDate.of(2019, 1, 10)),\r\n                new TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n                new TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n                new TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n                new TestClass(104L, LocalDate.of(2020, 2, 13))\r\n        );\r\n\r\nI would like to filter this list down in a way such that if the roomNumber (first param of TestClass constructor) occurs multiple times in the list then that entry should be removed and the one with the most current date will be saved. \r\n\r\nSample output from above list after filtering:\r\n\r\n    [\r\n           TestClass(100L, LocalDate.of(2020, 1, 10)),\r\n           TestClass(101L, LocalDate.of(2020, 7, 20)),\r\n           TestClass(102L, LocalDate.of(2020, 1, 9)),\r\n           TestClass(103L, LocalDate.of(2020, 1, 11)),\r\n           TestClass(104L, LocalDate.of(2020, 2, 13))\r\n    ]\r\n\r\nAs you can see the second TestClass object with a roomNumber of 100 has been removed and we are left with the first TestClass object that also has a roomNumber of 100 but we keep it since the date is higher or more recent than the other entry.\r\n\r\nI have read through the Java streams documentation and am aware of filtering. Is there a way to achieve this functionality using Java streams? I feel like there is but there may be a way to use this api that I am unaware of.\r\n\r\nTIA and please let me know if more information is required :)\r\n\r\nEDIT:\r\nThis is the attempt that I made. I learned about the groupingBy function and was able to get the TestClasses into a list grouped by their room number. I am not sure where to go from there.\r\n\r\n     Map&lt;Long, List&lt;TestClass&gt;&gt; c = testClasses.stream()\r\n                .collect(Collectors.groupingBy(TestClass::getRoomNumber));\r\n\r\n","title":"Java Streams filter and replace an item in list if it meets criteria","body":"<p>I am using Java 8 streams and would like to remove an item in my list if multiple items with the same room number are present and use the one with the most current date.</p>\n<p>I have this list:</p>\n<pre><code>final List&lt;TestClass&gt; testClasses = Arrays.asList(\n            new TestClass(100L, LocalDate.of(2020, 1, 10)),\n            new TestClass(100L, LocalDate.of(2019, 1, 10)),\n            new TestClass(101L, LocalDate.of(2020, 7, 20)),\n            new TestClass(102L, LocalDate.of(2020, 1, 9)),\n            new TestClass(103L, LocalDate.of(2020, 1, 11)),\n            new TestClass(104L, LocalDate.of(2020, 2, 13))\n    );\n</code></pre>\n<p>I would like to filter this list down in a way such that if the roomNumber (first param of TestClass constructor) occurs multiple times in the list then that entry should be removed and the one with the most current date will be saved.</p>\n<p>Sample output from above list after filtering:</p>\n<pre><code>[\n       TestClass(100L, LocalDate.of(2020, 1, 10)),\n       TestClass(101L, LocalDate.of(2020, 7, 20)),\n       TestClass(102L, LocalDate.of(2020, 1, 9)),\n       TestClass(103L, LocalDate.of(2020, 1, 11)),\n       TestClass(104L, LocalDate.of(2020, 2, 13))\n]\n</code></pre>\n<p>As you can see the second TestClass object with a roomNumber of 100 has been removed and we are left with the first TestClass object that also has a roomNumber of 100 but we keep it since the date is higher or more recent than the other entry.</p>\n<p>I have read through the Java streams documentation and am aware of filtering. Is there a way to achieve this functionality using Java streams? I feel like there is but there may be a way to use this api that I am unaware of.</p>\n<p>TIA and please let me know if more information is required :)</p>\n<p>EDIT:\nThis is the attempt that I made. I learned about the groupingBy function and was able to get the TestClasses into a list grouped by their room number. I am not sure where to go from there.</p>\n<pre><code> Map&lt;Long, List&lt;TestClass&gt;&gt; c = testClasses.stream()\n            .collect(Collectors.groupingBy(TestClass::getRoomNumber));\n</code></pre>\n"},{"tags":["java","vba","vbscript"],"answers":[{"comments":[{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":1,"creation_date":1601584802,"post_id":46028197,"comment_id":113461348,"body_markdown":"I have indented your code in points 5 and 6, see the edit, that will answer your comment (but maybe you already know how to do it now in 2020)","body":"I have indented your code in points 5 and 6, see the edit, that will answer your comment (but maybe you already know how to do it now in 2020)"}],"tags":[],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666425959,"creation_date":1504476218,"answer_id":46028197,"question_id":40649696,"body_markdown":"To export all the modules from 1 mother office file, to another .xlsm file:\r\n\r\n1. if the workbook that contains the mother macros is located in folder:\r\n&quot;../a&quot; \r\n2. Then place the child office files in:\r\n&quot;../a/receiving/\r\n3. And create a(n empty) subfolder:\r\n&quot;../a/receiving/modules\r\n4. Open the VBA for applications editor in MS Office, click &quot;tools&gt;references&quot; and mark the checkbox: &quot;Microsoft Scripting Runtime&quot;\r\n\r\nNext, create two modules, \r\n\r\n 5. Module1:\r\n\r\n    ```vba\r\n    Sub Update_Workbooks()\r\n    &#39;This macro requires that a reference to Microsoft Scripting Routine\r\n    &#39;be selected under Tools\\References in order for it to work.\r\n    Application.DisplayAlerts = False\r\n    Application.ScreenUpdating = False\r\n    Dim fso As New FileSystemObject\r\n    Dim source As Scripting.Folder\r\n    Dim wbfile As Scripting.File\r\n    Dim book As Excel.Workbook\r\n    Dim sheet As Excel.Worksheet\r\n    Dim Filename As String\r\n    Dim ModuleFile As String\r\n    Dim Element As Object\r\n    Dim return_user_input As Integer\r\n    \r\n    \r\n    &#39;Set source = fso.GetFolder(&quot;C:\\Users\\Desktop\\Testing&quot;)   &#39;we will know this since all of the files will be in one folder\r\n    Set source = fso.GetFolder(ThisWorkbook.Path &amp; &quot;\\receiving&quot;)   &#39;we will know this since all of the files will be in one folder\r\n    For Each wbfile In source.Files\r\n    \r\n        Call basic_messagebox(wbfile, return_user_input)\r\n        If return_user_input = 6 Then\r\n            MsgBox (wbfile.name &amp; &quot; yes&quot;)\r\n            \r\n            &#39;For Each wbFile In source.Files\r\n        \r\n            If fso.GetExtensionName(wbfile.name) = &quot;xlsm&quot; Then  &#39;we will konw this too. All files will be .xlsm\r\n                &#39;Call basic_messagebox\r\n                &#39;Set book = Workbooks.Open(wbFile.Path)\r\n                Set book = Workbooks.Open(wbfile.Path)\r\n                    Filename = FileNameOnly(wbfile.name)\r\n                    &#39;This will remove all modules including ClassModules and UserForms.\r\n                    &#39;It will keep all object modules like (sheets, ThisWorkbook)\r\n                    &#39;On Error Resume Next\r\n                    Workbooks(wbfile.name).Activate\r\n                    &#39;For Each Element In ActiveWorkbook.VBProject.VBComponents\r\n                    &#39;On Error Resume Next\r\n                    Call DeleteAllCode(wbfile)\r\n    &#39;                For Each Element In Workbooks(wbfile.name).VBProject.VBComponents\r\n    &#39;                    &#39;ActiveWorkbook.VBProject.VBComponents.Remove Element\r\n    &#39;                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Element\r\n    &#39;\r\n    &#39;                Next\r\n    &#39;                For Each Module In Workbooks(wbfile.name).VBProject.VBComponents\r\n    &#39;                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Module\r\n    &#39;                Next\r\n        \r\n                    &#39;On Error GoTo ErrHandle\r\n                &#39;   Export Module1 from updating workbook\r\n                    &#39;ModuleFile = Application.DefaultFilePath &amp; &quot;\\tempmodxxx.bas&quot;\r\n                    ModuleFile = ThisWorkbook.Path &amp; &quot;\\receiving\\modules&quot; &amp; &quot;\\tempmodxxx.bas&quot;\r\n                    \r\n    &#39;                Workbooks(&quot;Update Multiple Workbooks.xlsm&quot;).VBProject.VBComponents(&quot;Module1&quot;) _\r\n    &#39;                .Export ModuleFile\r\n                    &#39;On Error Resume Next\r\n                    For Each Module In ThisWorkbook.VBProject.VBComponents\r\n                        &#39;MsgBox (Module.name)\r\n                        If Left(Module.name, 5) &lt;&gt; &quot;Sheet&quot; Then\r\n                            If Left(Module.name, 6) = &quot;Module&quot; Then\r\n                                &#39;MsgBox (&quot;the modules name = &quot; &amp; Module.name)\r\n                                &#39;ThisWorkbook.VBProject.VBComponents(&quot;Module1&quot;).Export ModuleFile\r\n                                ThisWorkbook.VBProject.VBComponents(Module.name).Export ModuleFile\r\n                                &#39;ThisWorkbook.VBProject.VBComponents(Module).Export ModuleFile\r\n                                &#39;MsgBox (ModuleFile)\r\n                            &#39;   Replace Module1 in Userbook\r\n                                Set VBP = Workbooks(Filename).VBProject\r\n                                &#39;On Error Resume Next\r\n                                With VBP.VBComponents\r\n                                    .Import ModuleFile\r\n                                End With\r\n                            &#39;   Delete the temporary module file\r\n                                Kill ModuleFile\r\n                            End If\r\n                        End If\r\n                    Next\r\n                &#39;book.Close True\r\n            End If\r\n    &#39;Next\r\n            \r\n            \r\n        End If\r\n        If return_user_input = 7 Then\r\n            MsgBox (wbfile.name &amp; &quot; no&quot;)\r\n        End If\r\n        \r\n    Next\r\n    \r\n    Exit Sub\r\n    ErrHandle:\r\n    &#39;   Did an error occur?\r\n        MsgBox &quot;ERROR. The module may not have been replaced.&quot;, _\r\n          vbCritical\r\n        \r\n    \r\n    End Sub\r\n    Private Function FileNameOnly(pname) As String\r\n        Dim temp As Variant\r\n        Length = Len(pname)\r\n        temp = Split(pname, Application.PathSeparator)\r\n        FileNameOnly = temp(UBound(temp))\r\n    End Function\r\n    Sub basic_messagebox(wbfile, return_user_input)\r\n        &#39;source: http://www.databison.com/vba-message-box-msgbox-the-message-can-do-better/\r\n        &#39;vbOK = 1\r\n        &#39;vbCancel = 2\r\n        &#39;vbAbort = 3\r\n        &#39;vbRetry = 4\r\n        &#39;vbIgnore = 5\r\n        &#39;vbYes = 6\r\n        &#39;vbNo = 7\r\n        \r\n        i = MsgBox(&quot;Do you wish to force the new code on the following excel file: &quot; &amp; vbNewLine &amp; vbNewLine &amp; wbfile.name, vbYesNo)\r\n        If i = 6 Then\r\n            &#39;MsgBox (wbFile.name &amp; &quot; yes&quot;)\r\n            return_user_input = i\r\n        End If\r\n        If i = 7 Then\r\n            &#39;MsgBox (wbFile.name &amp; &quot; no&quot;)\r\n            return_user_input = i\r\n        End If\r\n        \r\n    End Sub\r\n    ```\r\n\r\n 6. Module2:\r\n\r\n    ```\r\n    Sub DeleteAllCode(wbfile)\r\n         &#39;Source: http://www.vbaexpress.com/kb/getarticle.php?kb_id=93\r\n         &#39;Trust Access To Visual Basics Project must be enabled.\r\n         &#39;From Excel: Tools | Macro | Security | Trusted Sources\r\n         \r\n        Dim x               As Integer\r\n        Dim Proceed         As VbMsgBoxResult\r\n        Dim Prompt          As String\r\n        Dim Title           As String\r\n         \r\n        Prompt = &quot;Are you certain that you want to delete all the VBA Code from &quot; &amp; _\r\n        ActiveWorkbook.name &amp; &quot;?&quot;\r\n        Title = &quot;Verify Procedure&quot;\r\n         \r\n        Proceed = MsgBox(Prompt, vbYesNo + vbQuestion, Title)\r\n        If Proceed = vbNo Then\r\n            MsgBox &quot;Procedure Canceled&quot;, vbInformation, &quot;Procedure Aborted&quot;\r\n            Exit Sub\r\n        End If\r\n         \r\n        On Error Resume Next\r\n        With ActiveWorkbook.VBProject\r\n            For x = .VBComponents.count To 1 Step -1\r\n                .VBComponents.Remove .VBComponents(x)\r\n            Next x\r\n            For x = .VBComponents.count To 1 Step -1\r\n                .VBComponents(x).CodeModule.DeleteLines _\r\n                1, .VBComponents(x).CodeModule.CountOfLines\r\n            Next x\r\n        End With\r\n        On Error GoTo 0\r\n         \r\n    End Sub\r\n    ```\r\n","title":"Programmatically export VBA modules","body":"<p>To export all the modules from 1 mother office file, to another .xlsm file:</p>\n<ol>\n<li>if the workbook that contains the mother macros is located in folder:\n&quot;../a&quot;</li>\n<li>Then place the child office files in:\n&quot;../a/receiving/</li>\n<li>And create a(n empty) subfolder:\n&quot;../a/receiving/modules</li>\n<li>Open the VBA for applications editor in MS Office, click &quot;tools&gt;references&quot; and mark the checkbox: &quot;Microsoft Scripting Runtime&quot;</li>\n</ol>\n<p>Next, create two modules,</p>\n<ol start=\"5\">\n<li><p>Module1:</p>\n<pre class=\"lang-vb prettyprint-override\"><code>Sub Update_Workbooks()\n'This macro requires that a reference to Microsoft Scripting Routine\n'be selected under Tools\\References in order for it to work.\nApplication.DisplayAlerts = False\nApplication.ScreenUpdating = False\nDim fso As New FileSystemObject\nDim source As Scripting.Folder\nDim wbfile As Scripting.File\nDim book As Excel.Workbook\nDim sheet As Excel.Worksheet\nDim Filename As String\nDim ModuleFile As String\nDim Element As Object\nDim return_user_input As Integer\n\n\n'Set source = fso.GetFolder(&quot;C:\\Users\\Desktop\\Testing&quot;)   'we will know this since all of the files will be in one folder\nSet source = fso.GetFolder(ThisWorkbook.Path &amp; &quot;\\receiving&quot;)   'we will know this since all of the files will be in one folder\nFor Each wbfile In source.Files\n\n    Call basic_messagebox(wbfile, return_user_input)\n    If return_user_input = 6 Then\n        MsgBox (wbfile.name &amp; &quot; yes&quot;)\n\n        'For Each wbFile In source.Files\n\n        If fso.GetExtensionName(wbfile.name) = &quot;xlsm&quot; Then  'we will konw this too. All files will be .xlsm\n            'Call basic_messagebox\n            'Set book = Workbooks.Open(wbFile.Path)\n            Set book = Workbooks.Open(wbfile.Path)\n                Filename = FileNameOnly(wbfile.name)\n                'This will remove all modules including ClassModules and UserForms.\n                'It will keep all object modules like (sheets, ThisWorkbook)\n                'On Error Resume Next\n                Workbooks(wbfile.name).Activate\n                'For Each Element In ActiveWorkbook.VBProject.VBComponents\n                'On Error Resume Next\n                Call DeleteAllCode(wbfile)\n'                For Each Element In Workbooks(wbfile.name).VBProject.VBComponents\n'                    'ActiveWorkbook.VBProject.VBComponents.Remove Element\n'                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Element\n'\n'                Next\n'                For Each Module In Workbooks(wbfile.name).VBProject.VBComponents\n'                    Workbooks(wbfile.name).VBProject.VBComponents.Remove Module\n'                Next\n\n                'On Error GoTo ErrHandle\n            '   Export Module1 from updating workbook\n                'ModuleFile = Application.DefaultFilePath &amp; &quot;\\tempmodxxx.bas&quot;\n                ModuleFile = ThisWorkbook.Path &amp; &quot;\\receiving\\modules&quot; &amp; &quot;\\tempmodxxx.bas&quot;\n\n'                Workbooks(&quot;Update Multiple Workbooks.xlsm&quot;).VBProject.VBComponents(&quot;Module1&quot;) _\n'                .Export ModuleFile\n                'On Error Resume Next\n                For Each Module In ThisWorkbook.VBProject.VBComponents\n                    'MsgBox (Module.name)\n                    If Left(Module.name, 5) &lt;&gt; &quot;Sheet&quot; Then\n                        If Left(Module.name, 6) = &quot;Module&quot; Then\n                            'MsgBox (&quot;the modules name = &quot; &amp; Module.name)\n                            'ThisWorkbook.VBProject.VBComponents(&quot;Module1&quot;).Export ModuleFile\n                            ThisWorkbook.VBProject.VBComponents(Module.name).Export ModuleFile\n                            'ThisWorkbook.VBProject.VBComponents(Module).Export ModuleFile\n                            'MsgBox (ModuleFile)\n                        '   Replace Module1 in Userbook\n                            Set VBP = Workbooks(Filename).VBProject\n                            'On Error Resume Next\n                            With VBP.VBComponents\n                                .Import ModuleFile\n                            End With\n                        '   Delete the temporary module file\n                            Kill ModuleFile\n                        End If\n                    End If\n                Next\n            'book.Close True\n        End If\n'Next\n\n\n    End If\n    If return_user_input = 7 Then\n        MsgBox (wbfile.name &amp; &quot; no&quot;)\n    End If\n\nNext\n\nExit Sub\nErrHandle:\n'   Did an error occur?\n    MsgBox &quot;ERROR. The module may not have been replaced.&quot;, _\n      vbCritical\n\n\nEnd Sub\nPrivate Function FileNameOnly(pname) As String\n    Dim temp As Variant\n    Length = Len(pname)\n    temp = Split(pname, Application.PathSeparator)\n    FileNameOnly = temp(UBound(temp))\nEnd Function\nSub basic_messagebox(wbfile, return_user_input)\n    'source: http://www.databison.com/vba-message-box-msgbox-the-message-can-do-better/\n    'vbOK = 1\n    'vbCancel = 2\n    'vbAbort = 3\n    'vbRetry = 4\n    'vbIgnore = 5\n    'vbYes = 6\n    'vbNo = 7\n\n    i = MsgBox(&quot;Do you wish to force the new code on the following excel file: &quot; &amp; vbNewLine &amp; vbNewLine &amp; wbfile.name, vbYesNo)\n    If i = 6 Then\n        'MsgBox (wbFile.name &amp; &quot; yes&quot;)\n        return_user_input = i\n    End If\n    If i = 7 Then\n        'MsgBox (wbFile.name &amp; &quot; no&quot;)\n        return_user_input = i\n    End If\n\nEnd Sub\n</code></pre>\n</li>\n<li><p>Module2:</p>\n<pre><code>Sub DeleteAllCode(wbfile)\n     'Source: http://www.vbaexpress.com/kb/getarticle.php?kb_id=93\n     'Trust Access To Visual Basics Project must be enabled.\n     'From Excel: Tools | Macro | Security | Trusted Sources\n\n    Dim x               As Integer\n    Dim Proceed         As VbMsgBoxResult\n    Dim Prompt          As String\n    Dim Title           As String\n\n    Prompt = &quot;Are you certain that you want to delete all the VBA Code from &quot; &amp; _\n    ActiveWorkbook.name &amp; &quot;?&quot;\n    Title = &quot;Verify Procedure&quot;\n\n    Proceed = MsgBox(Prompt, vbYesNo + vbQuestion, Title)\n    If Proceed = vbNo Then\n        MsgBox &quot;Procedure Canceled&quot;, vbInformation, &quot;Procedure Aborted&quot;\n        Exit Sub\n    End If\n\n    On Error Resume Next\n    With ActiveWorkbook.VBProject\n        For x = .VBComponents.count To 1 Step -1\n            .VBComponents.Remove .VBComponents(x)\n        Next x\n        For x = .VBComponents.count To 1 Step -1\n            .VBComponents(x).CodeModule.DeleteLines _\n            1, .VBComponents(x).CodeModule.CountOfLines\n        Next x\n    End With\n    On Error GoTo 0\n\nEnd Sub\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":5970330,"reputation":2828,"user_id":4692826,"accept_rate":30,"display_name":"thegreatjedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3962,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1666425959,"creation_date":1479370335,"question_id":40649696,"body_markdown":"To transfer a VBA macro between different PowerPoint files, I can export the module as a BAS file and then import it into the other file. This has to be done manually, however.\r\n\r\nMy Java 1.8 application will automatically generate new PowerPoint files using Apache POI, then call a VBScript. The script will receive arguments from the Java application via the command line, and will then open the created PowerPoint file and call a macro, finally passing the parameters to the macro.\r\n\r\nBefore all that can happen, I need to first import multiple macros from a template PowerPoint file into the newly created one automatically. How can I do that using either Java or VBS?\r\n\r\nEdit: If you&#39;re going to close this for being too broad can you at least tell me how it is not specific enough? Because as far as I can see I&#39;ve already stated very specifically what I want to achieve. It&#39;s my first time coding in VBA or VBS so I don&#39;t know what is expected from me to make questions in this topic &quot;specific&quot;.","title":"Programmatically export VBA modules","body":"<p>To transfer a VBA macro between different PowerPoint files, I can export the module as a BAS file and then import it into the other file. This has to be done manually, however.</p>\n\n<p>My Java 1.8 application will automatically generate new PowerPoint files using Apache POI, then call a VBScript. The script will receive arguments from the Java application via the command line, and will then open the created PowerPoint file and call a macro, finally passing the parameters to the macro.</p>\n\n<p>Before all that can happen, I need to first import multiple macros from a template PowerPoint file into the newly created one automatically. How can I do that using either Java or VBS?</p>\n\n<p>Edit: If you're going to close this for being too broad can you at least tell me how it is not specific enough? Because as far as I can see I've already stated very specifically what I want to achieve. It's my first time coding in VBA or VBS so I don't know what is expected from me to make questions in this topic \"specific\".</p>\n"},{"tags":["java","cryptography","aes","rsa","instagram"],"comments":[{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666423411,"post_id":74161586,"comment_id":130937631,"body_markdown":"Yea sure, just edited the question. @AlexR","body":"Yea sure, just edited the question. @AlexR"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666423648,"post_id":74161586,"comment_id":130937665,"body_markdown":"32 bytes for an RSA key is unrealistic (possibly an EC key). Post a link describing the asymmetric encryption. For later: The chaset decoding with `toString()` of encrypted key, tag and ciphertext corrupts the data.","body":"32 bytes for an RSA key is unrealistic (possibly an EC key). Post a link describing the asymmetric encryption. For later: The chaset decoding with <code>toString()</code> of encrypted key, tag and ciphertext corrupts the data."},{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666424119,"post_id":74161586,"comment_id":130937712,"body_markdown":"@Topaco Here are some links of other people&#39;s implementation that all use RSA encryption. Couldn&#39;t find a recent one for Java. And thanks for the heads up on the toString().\n[python example](https://github.com/adw0rd/instagrapi/blob/3171ec34d62edef8bfef443faa26d26ae5f15b28/instagrapi/mixins/password.py)\n[C# implementation](https://gist.github.com/huoshan12345/44b1b4927b21d4ec21d1cbd61ea659da)","body":"@Topaco Here are some links of other people&#39;s implementation that all use RSA encryption. Couldn&#39;t find a recent one for Java. And thanks for the heads up on the toString(). <a href=\"https://github.com/adw0rd/instagrapi/blob/3171ec34d62edef8bfef443faa26d26ae5f15b28/instagrapi/mixins/password.py\" rel=\"nofollow noreferrer\">python example</a> <a href=\"https://gist.github.com/huoshan12345/44b1b4927b21d4ec21d1cbd61ea659da\" rel=\"nofollow noreferrer\">C# implementation</a>"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666425053,"post_id":74161586,"comment_id":130937859,"body_markdown":"This example does not show a key for length comparison. Secure RSA keys have a length of 2048 bits and X.509 encoded even more. Maybe a different algorithm is used or your public key is wrong.","body":"This example does not show a key for length comparison. Secure RSA keys have a length of 2048 bits and X.509 encoded even more. Maybe a different algorithm is used or your public key is wrong."},{"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"score":0,"creation_date":1666425660,"post_id":74161586,"comment_id":130937949,"body_markdown":"@Topaco I added an example key. The original key (the one that is scraped directly of instagram) is 64 bytes and follows the above style. If this is not an RSA key what kind of other encryption could it be?","body":"@Topaco I added an example key. The original key (the one that is scraped directly of instagram) is 64 bytes and follows the above style. If this is not an RSA key what kind of other encryption could it be?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1666433759,"post_id":74161586,"comment_id":130939055,"body_markdown":"Possibly different versions and therefore different algorithms, s. [here](https://github.com/dilame/instagram-private-api/issues/1010). An RSA key looks like [here](https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-564019541), which is an X.509-PEM key (after Base64 decoding). [Here](https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-749533937) different versions are mentioned. [Here](https://github.com/dilame/instagram-private-api/issues/1010) is a Libsodium-based approach (which uses a 32 bytes key).","body":"Possibly different versions and therefore different algorithms, s. <a href=\"https://github.com/dilame/instagram-private-api/issues/1010\" rel=\"nofollow noreferrer\">here</a>. An RSA key looks like <a href=\"https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-564019541\" rel=\"nofollow noreferrer\">here</a>, which is an X.509-PEM key (after Base64 decoding). <a href=\"https://github.com/dilame/instagram-private-api/issues/1010#issuecomment-749533937\" rel=\"nofollow noreferrer\">Here</a> different versions are mentioned. <a href=\"https://github.com/dilame/instagram-private-api/issues/1010\" rel=\"nofollow noreferrer\">Here</a> is a Libsodium-based approach (which uses a 32 bytes key)."}],"owner":{"account_id":18674860,"reputation":119,"user_id":13612757,"display_name":"Guhan SenSam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666425528,"creation_date":1666420930,"question_id":74161586,"body_markdown":"I am building and Instagram bot which needs to login to Instagram. Now I know that Instagram uses an encryption system for its password, and I am trying to follow it but keep running into the\r\n\r\n&gt; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: null\r\n\r\nBasically Instagram needs a cipher text that follow the structure detailed in this [github repo][1]. My code is as follows to replicate it.\r\n\r\n     // Generate a random IV\r\n     byte[] iv = new byte[12];\r\n     new SecureRandom().nextBytes(iv);\r\n\r\n     // Get the system current time in milliseconds\r\n     long timestamp = System.currentTimeMillis();\r\n\r\n     // Converting public key to byte array from hex string\r\n     byte[] publicKeyBytes = hexStringToByteArray(publicKey);\r\n\r\n     // Create a random key\r\n     byte[] randomKey = new byte[32];\r\n     new SecureRandom().nextBytes(randomKey);\r\n\r\n     // rebuild key using SecretKeySpec\r\n     SecretKey publicKeyClass = new SecretKeySpec(randomKey,0, randomKey.length, &quot;AES&quot;);\r\n \r\n     //generate the cipher text\r\n     Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n     cipher.init(Cipher.ENCRYPT_MODE, publicKeyClass, new GCMParameterSpec(128, iv));\r\n\r\n     // Add the current time in milliseconds as additional authenticated data\r\n     cipher.updateAAD(Long.toString(timestamp).getBytes(StandardCharsets.UTF_8));\r\n     byte[] cipherText = cipher.doFinal(pwd.getBytes(StandardCharsets.UTF_8));\r\n\r\n     // Get the tag from the end of the cipher text\r\n     byte[] tag = Arrays.copyOfRange(cipherText, cipherText.length - 16, cipherText.length);\r\n\r\n     // Now we encrypt a random key using the same public key\r\n     // use RSA encryption to encrypt the random key\r\n     X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes, &quot;RSA&quot;);\r\n     KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n     PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\r\n     Cipher cipher2 = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n     cipher2.init(Cipher.ENCRYPT_MODE, encryptedKeyClass);\r\n     byte[] encryptedRandomKey = cipher2.doFinal(randomKey);\r\n\r\n     // Generate the final encrypted text\r\n     String encryptedText = publicKeyId+encryptedRandomKey.toString()+tag.toString()+cipherText.toString();\r\n\r\n     //Base64 encode the encrypted text\r\n     String encryptedTextBase64 = Base64.getEncoder().encodeToString(encryptedText.getBytes(StandardCharsets.UTF_8));\r\n\r\nand the function hexStringtoByteArray\r\n\r\n    public static byte[] hexStringToByteArray(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] =(byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                                 + Character.digit(s.charAt(i+1), 16));\r\n        }\r\n        return data;\r\n    }\r\n\r\nI realize that it is a lot of code so here is a basic gist of what is going on\r\n\r\n 1. I pass a password and publickey(string) to the function.\r\n 2. We generate a random IV and a new random key.\r\n 3. I then use this random key to encrypt the password using AES_GCM_256 bit encryption.\r\n 4. Then the publickey(which was given by instagram) is 64 bytes long and appears to be hex encoded. So I decode it and use it as a key to encrypt the randomly generated key that I have created.\r\n 5. Finally I combine all of this in the format that insta wants and return the final cipher text.\r\n\r\nNow my problem lies in the 4th step.I keep getting the error that the key is of invalid spec. The line that throws the error is \r\n\r\n    PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\r\n\r\nExample Public Key that Instagram returns\r\n\r\n    c81814218a8fe89a6a5794ff5f2a192bf5ab9d3f7115bc8fbceb7b701079777c\r\n\r\nI checked multiple online sources and they all seem to follow the same method I am doing. Am I doing something wrong? Thanks !\r\n\r\n  [1]: https://github.com/Datalux/instagram-weak-encryption#encryption-phases","title":"InvalidKeyException when attempting to encrypt password for Instagram login","body":"<p>I am building and Instagram bot which needs to login to Instagram. Now I know that Instagram uses an encryption system for its password, and I am trying to follow it but keep running into the</p>\n<blockquote>\n<p>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: null</p>\n</blockquote>\n<p>Basically Instagram needs a cipher text that follow the structure detailed in this <a href=\"https://github.com/Datalux/instagram-weak-encryption#encryption-phases\" rel=\"nofollow noreferrer\">github repo</a>. My code is as follows to replicate it.</p>\n<pre><code> // Generate a random IV\n byte[] iv = new byte[12];\n new SecureRandom().nextBytes(iv);\n\n // Get the system current time in milliseconds\n long timestamp = System.currentTimeMillis();\n\n // Converting public key to byte array from hex string\n byte[] publicKeyBytes = hexStringToByteArray(publicKey);\n\n // Create a random key\n byte[] randomKey = new byte[32];\n new SecureRandom().nextBytes(randomKey);\n\n // rebuild key using SecretKeySpec\n SecretKey publicKeyClass = new SecretKeySpec(randomKey,0, randomKey.length, &quot;AES&quot;);\n\n //generate the cipher text\n Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n cipher.init(Cipher.ENCRYPT_MODE, publicKeyClass, new GCMParameterSpec(128, iv));\n\n // Add the current time in milliseconds as additional authenticated data\n cipher.updateAAD(Long.toString(timestamp).getBytes(StandardCharsets.UTF_8));\n byte[] cipherText = cipher.doFinal(pwd.getBytes(StandardCharsets.UTF_8));\n\n // Get the tag from the end of the cipher text\n byte[] tag = Arrays.copyOfRange(cipherText, cipherText.length - 16, cipherText.length);\n\n // Now we encrypt a random key using the same public key\n // use RSA encryption to encrypt the random key\n X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes, &quot;RSA&quot;);\n KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\n Cipher cipher2 = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n cipher2.init(Cipher.ENCRYPT_MODE, encryptedKeyClass);\n byte[] encryptedRandomKey = cipher2.doFinal(randomKey);\n\n // Generate the final encrypted text\n String encryptedText = publicKeyId+encryptedRandomKey.toString()+tag.toString()+cipherText.toString();\n\n //Base64 encode the encrypted text\n String encryptedTextBase64 = Base64.getEncoder().encodeToString(encryptedText.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>and the function hexStringtoByteArray</p>\n<pre><code>public static byte[] hexStringToByteArray(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] =(byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                             + Character.digit(s.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n<p>I realize that it is a lot of code so here is a basic gist of what is going on</p>\n<ol>\n<li>I pass a password and publickey(string) to the function.</li>\n<li>We generate a random IV and a new random key.</li>\n<li>I then use this random key to encrypt the password using AES_GCM_256 bit encryption.</li>\n<li>Then the publickey(which was given by instagram) is 64 bytes long and appears to be hex encoded. So I decode it and use it as a key to encrypt the randomly generated key that I have created.</li>\n<li>Finally I combine all of this in the format that insta wants and return the final cipher text.</li>\n</ol>\n<p>Now my problem lies in the 4th step.I keep getting the error that the key is of invalid spec. The line that throws the error is</p>\n<pre><code>PublicKey encryptedKeyClass = keyFactory.generatePublic(keySpec);\n</code></pre>\n<p>Example Public Key that Instagram returns</p>\n<pre><code>c81814218a8fe89a6a5794ff5f2a192bf5ab9d3f7115bc8fbceb7b701079777c\n</code></pre>\n<p>I checked multiple online sources and they all seem to follow the same method I am doing. Am I doing something wrong? Thanks !</p>\n"},{"tags":["java","android","textview"],"answers":[{"comments":[{"owner":{"account_id":61957,"reputation":44743,"user_id":184367,"accept_rate":76,"display_name":"znq"},"score":0,"creation_date":1257257314,"post_id":1667339,"comment_id":1540520,"body_markdown":"Perfect. Thanks. I have tried that before, but didn&#39;t work, because I used android:inputType=&quot;text&quot; instead of android:singleLine=&quot;true&quot; (which is supposed to be deprecated). But now I&#39;m gonna stick with android:singleLine=&quot;true&quot;. Muchas gracias.","body":"Perfect. Thanks. I have tried that before, but didn&#39;t work, because I used android:inputType=&quot;text&quot; instead of android:singleLine=&quot;true&quot; (which is supposed to be deprecated). But now I&#39;m gonna stick with android:singleLine=&quot;true&quot;. Muchas gracias."},{"owner":{"account_id":192526,"reputation":17562,"user_id":433718,"accept_rate":77,"display_name":"OneWorld"},"score":45,"creation_date":1285157190,"post_id":1667339,"comment_id":3988636,"body_markdown":"It still doesn&#39;t add the &quot;...&quot;. For me, this question is not fully answered! This answer will make &quot;short verylongword&quot; to just &quot;short&quot; and not &quot;short verylon...&quot; On top of that you guys suggest using a deprecated attribute.","body":"It still doesn&#39;t add the &quot;...&quot;. For me, this question is not fully answered! This answer will make &quot;short verylongword&quot; to just &quot;short&quot; and not &quot;short verylon...&quot; On top of that you guys suggest using a deprecated attribute."},{"owner":{"account_id":104952,"reputation":7263,"user_id":280342,"display_name":"Torre Lasley"},"score":9,"creation_date":1475338402,"post_id":1667339,"comment_id":66908905,"body_markdown":"Works great, however singleLine is deprecated so you must use maxLines=&quot;1&quot; instead. Side note, ellipsize works with multiple lines as well!","body":"Works great, however singleLine is deprecated so you must use maxLines=&quot;1&quot; instead. Side note, ellipsize works with multiple lines as well!"},{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":4,"creation_date":1479726561,"post_id":1667339,"comment_id":68664234,"body_markdown":"singleLine is deprecated. Use maxLines=&quot;1&quot;. just a comment to old answer","body":"singleLine is deprecated. Use maxLines=&quot;1&quot;. just a comment to old answer"},{"owner":{"account_id":1258981,"reputation":14388,"user_id":1217820,"accept_rate":85,"display_name":"Snake"},"score":1,"creation_date":1524309125,"post_id":1667339,"comment_id":86926668,"body_markdown":"MaxLine=1 will truncate the textview in the middle. SingleLine=True works as expected.","body":"MaxLine=1 will truncate the textview in the middle. SingleLine=True works as expected."},{"owner":{"account_id":1234925,"reputation":533,"user_id":1198704,"accept_rate":82,"display_name":"HeyThere"},"score":0,"creation_date":1544492321,"post_id":1667339,"comment_id":94286508,"body_markdown":"@torre-lasley Using maxLines=&quot;1&quot; and ellipsize doesn&#39;t work properly with API lower than 22 (tested on API 21 and API 16). For example this text `i have a abcdefghijklmhopqrstuvw` it should show as `i have a abcdefgh...` but instead it&#39;s showing as `i have a ...`","body":"@torre-lasley Using maxLines=&quot;1&quot; and ellipsize doesn&#39;t work properly with API lower than 22 (tested on API 21 and API 16). For example this text <code>i have a abcdefghijklmhopqrstuvw</code> it should show as <code>i have a abcdefgh...</code> but instead it&#39;s showing as <code>i have a ...</code>"},{"owner":{"account_id":11184646,"reputation":392,"user_id":8207486,"display_name":"Hocine B"},"score":0,"creation_date":1574026351,"post_id":1667339,"comment_id":104073510,"body_markdown":"Using ConstraintLayout, I needed to use constrainedWidth=&quot;true&quot; as well","body":"Using ConstraintLayout, I needed to use constrainedWidth=&quot;true&quot; as well"},{"owner":{"account_id":13671308,"reputation":1299,"user_id":9863904,"display_name":"Hasan El-Hefnawy"},"score":0,"creation_date":1583751998,"post_id":1667339,"comment_id":107209599,"body_markdown":"maxLines=&quot;1&quot; doesn&#39;t give the same result as singleLine=&quot;true&quot;","body":"maxLines=&quot;1&quot; doesn&#39;t give the same result as singleLine=&quot;true&quot;"}],"tags":[],"owner":{"account_id":11029,"reputation":4724,"user_id":21108,"display_name":"Nate"},"comment_count":8,"down_vote_count":5,"up_vote_count":333,"is_accepted":true,"score":328,"last_activity_date":1508363562,"creation_date":1257254907,"answer_id":1667339,"question_id":1666736,"body_markdown":"You should be able to use the &quot;ellipsize&quot; property of a text view:\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/text_mytext&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;1&quot;\r\n    /&gt;\r\nYou may also need to apply gravity values to the layout too; I have sometimes seen &quot;auto-stretching&quot; views without them.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>You should be able to use the \"ellipsize\" property of a text view:</p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/text_mytext\"\n    android:ellipsize=\"end\"\n    android:maxLines=\"1\"\n/&gt;\n</code></pre>\n\n<p>You may also need to apply gravity values to the layout too; I have sometimes seen \"auto-stretching\" views without them.</p>\n"},{"tags":[],"owner":{"account_id":267816,"reputation":6421,"user_id":1970896,"accept_rate":60,"display_name":"BonanzaDriver"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1305784875,"creation_date":1305784875,"answer_id":6054458,"question_id":1666736,"body_markdown":"Found an interesting work-a-round for this problem.\r\n\r\n    maxLines=1\r\n    ellipsize=end\r\n    scrollHorizontally=true\r\n\r\nThe trick is that last statement about horizontal scrolling .... check it out.  It at least works on v2.2.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Found an interesting work-a-round for this problem.</p>\n\n<pre><code>maxLines=1\nellipsize=end\nscrollHorizontally=true\n</code></pre>\n\n<p>The trick is that last statement about horizontal scrolling .... check it out.  It at least works on v2.2.</p>\n"},{"tags":[],"owner":{"account_id":200738,"reputation":369,"user_id":3137890,"display_name":"xevser"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531873949,"creation_date":1417701481,"answer_id":27295897,"question_id":1666736,"body_markdown":"Programmatically, you can use:\r\n\r\n    TextView tx = new TextView(this);\r\n    tx.setTextSize(13);\r\n    tx.setGravity(Gravity.CENTER);\r\n    tx.setTop(90);\r\n    tx.setText(&quot;Long text here&quot;);\r\n    tx.setTextColor(Color.BLACK);\r\n    tx.setSingleLine(true);\r\n    tx.setEllipsize(TruncateAt.END);","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Programmatically, you can use:</p>\n\n<pre><code>TextView tx = new TextView(this);\ntx.setTextSize(13);\ntx.setGravity(Gravity.CENTER);\ntx.setTop(90);\ntx.setText(\"Long text here\");\ntx.setTextColor(Color.BLACK);\ntx.setSingleLine(true);\ntx.setEllipsize(TruncateAt.END);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20826903,"reputation":19,"user_id":15297167,"display_name":"Reny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666425058,"creation_date":1662702826,"answer_id":73657838,"question_id":1666736,"body_markdown":"Just add\r\n``` android:ellipsize=&quot;end&quot;``` on XML &lt;/br&gt;\r\nand your code should look like this\r\n\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/newsTitleTextView&quot;\r\n        android:layout_marginLeft=&quot;5dp&quot;\r\n        android:layout_toRightOf=&quot;@id/newsThumbnailImageView&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;2&quot;\r\n        android:text=&quot;Analysts See Slower Bitcoin Hashrate Growth in 2022 Amid Market Correction &quot;\r\n        android:textSize=&quot;15sp&quot; /&gt;\r\n","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>Just add\n<code> android:ellipsize=&quot;end&quot;</code> on XML \nand your code should look like this</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/newsTitleTextView&quot;\n    android:layout_marginLeft=&quot;5dp&quot;\n    android:layout_toRightOf=&quot;@id/newsThumbnailImageView&quot;\n    android:ellipsize=&quot;end&quot;\n    android:maxLines=&quot;2&quot;\n    android:text=&quot;Analysts See Slower Bitcoin Hashrate Growth in 2022 Amid Market Correction &quot;\n    android:textSize=&quot;15sp&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":61957,"reputation":44743,"user_id":184367,"accept_rate":76,"display_name":"znq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104918,"favorite_count":0,"down_vote_count":0,"up_vote_count":149,"accepted_answer_id":1667339,"answer_count":4,"score":149,"last_activity_date":1666425058,"creation_date":1257247563,"question_id":1666736,"body_markdown":"If a `String` is longer than the `TextView`&#39;s width it automatically wraps onto the next line. I can avoid this by using `android:singleLine` (deprecated) or by setting `android:inputType=&quot;text&quot;`. What I need now is something that replaces the last 3 characters of my `String` with &quot;**...**&quot;. Since I&#39;m not using a monospace font this will always be different depending on the letters used in my `String`. So I&#39;m wondering what&#39;s the best way to get the last 3 characters of a String in a `TextView` and replace them. Maybe there&#39;s already something implemented in the Android framework, since this must be a common problem.","title":"Android: TextView automatically truncate and replace last 3 char of String","body":"<p>If a <code>String</code> is longer than the <code>TextView</code>'s width it automatically wraps onto the next line. I can avoid this by using <code>android:singleLine</code> (deprecated) or by setting <code>android:inputType=\"text\"</code>. What I need now is something that replaces the last 3 characters of my <code>String</code> with \"<strong>...</strong>\". Since I'm not using a monospace font this will always be different depending on the letters used in my <code>String</code>. So I'm wondering what's the best way to get the last 3 characters of a String in a <code>TextView</code> and replace them. Maybe there's already something implemented in the Android framework, since this must be a common problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666425186,"post_id":74161122,"comment_id":130937880,"body_markdown":"Sounds the same as [Files.delete does not delete empty directory](https://stackoverflow.com/questions/62132957/files-delete-does-not-delete-empty-directory)","body":"Sounds the same as <a href=\"https://stackoverflow.com/questions/62132957/files-delete-does-not-delete-empty-directory\">Files.delete does not delete empty directory</a>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666424651,"creation_date":1666424309,"answer_id":74161854,"question_id":74161122,"body_markdown":"This problem happens on Windows when you are not closing all the directory streams correctly. You must close all directory streams  scanned in your code. The two examples you&#39;ve shown can be fixed with try with resources:\r\n\r\n    try(Stream&lt;Path&gt; stream = Files.list( ... )) {\r\n        ... your code\r\n        stream.xyz(...);\r\n    }\r\n\r\n... plus same for `Files.walk()` in `deleteDirectory`. Check other similar calls in all code. \r\n\r\nWhen this occurs the directory is in a strange state when viewed in Windows Explorer - visible but not accessible. Shutting down the VM clears up correctly and the folder disappears from Explorer.","title":"Files.delete did not delete the folder correctly","body":"<p>This problem happens on Windows when you are not closing all the directory streams correctly. You must close all directory streams  scanned in your code. The two examples you've shown can be fixed with try with resources:</p>\n<pre><code>try(Stream&lt;Path&gt; stream = Files.list( ... )) {\n    ... your code\n    stream.xyz(...);\n}\n</code></pre>\n<p>... plus same for <code>Files.walk()</code> in <code>deleteDirectory</code>. Check other similar calls in all code.</p>\n<p>When this occurs the directory is in a strange state when viewed in Windows Explorer - visible but not accessible. Shutting down the VM clears up correctly and the folder disappears from Explorer.</p>\n"}],"owner":{"account_id":26291969,"reputation":27,"user_id":19958859,"display_name":"miniWorld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74161854,"answer_count":1,"score":0,"last_activity_date":1666424651,"creation_date":1666413744,"question_id":74161122,"body_markdown":"In the springboot project, after the files have been merged, they need to be deleted.\r\nThe main code for the merge method is：\r\n```\r\n// chunkFolder indicates the file storage folder path\r\nFiles.list(Paths.get(chunkFolder))\r\n                .filter(path -&gt; path.getFileName().toString().contains(HYPHEN))\r\n                .sorted((p1, p2) -&gt; {\r\n                    String fileName1 = p1.getFileName().toString();\r\n                    String fileName2 = p2.getFileName().toString();\r\n                    int index1 = fileName1.indexOf(HYPHEN);\r\n                    int index2 = fileName2.indexOf(HYPHEN);\r\n                    return Integer.valueOf(fileName1.substring(0, index1)).compareTo(Integer.valueOf(fileName2.substring(0, index2)));\r\n                })\r\n                .forEach(path -&gt; {\r\n                            try {\r\n                                Files.write(Paths.get(target), Files.readAllBytes(path), StandardOpenOption.APPEND);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                );\r\n```\r\nThe delete method is:\r\n```\r\n public void deleteDirectory(Path targetPath) throws IOException {\r\n        Files.walk(targetPath).sorted(Comparator.reverseOrder()).forEach(path -&gt; {\r\n            try {\r\n                Files.delete(path);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n```\r\nIn the windows environment test, delete the storage path after merging. However, the results show that the folder still exists, but cannot be accessed. If you stop the springboot project, the folder disappears.","title":"Files.delete did not delete the folder correctly","body":"<p>In the springboot project, after the files have been merged, they need to be deleted.\nThe main code for the merge method is：</p>\n<pre><code>// chunkFolder indicates the file storage folder path\nFiles.list(Paths.get(chunkFolder))\n                .filter(path -&gt; path.getFileName().toString().contains(HYPHEN))\n                .sorted((p1, p2) -&gt; {\n                    String fileName1 = p1.getFileName().toString();\n                    String fileName2 = p2.getFileName().toString();\n                    int index1 = fileName1.indexOf(HYPHEN);\n                    int index2 = fileName2.indexOf(HYPHEN);\n                    return Integer.valueOf(fileName1.substring(0, index1)).compareTo(Integer.valueOf(fileName2.substring(0, index2)));\n                })\n                .forEach(path -&gt; {\n                            try {\n                                Files.write(Paths.get(target), Files.readAllBytes(path), StandardOpenOption.APPEND);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                        }\n                );\n</code></pre>\n<p>The delete method is:</p>\n<pre><code> public void deleteDirectory(Path targetPath) throws IOException {\n        Files.walk(targetPath).sorted(Comparator.reverseOrder()).forEach(path -&gt; {\n            try {\n                Files.delete(path);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n</code></pre>\n<p>In the windows environment test, delete the storage path after merging. However, the results show that the folder still exists, but cannot be accessed. If you stop the springboot project, the folder disappears.</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"score":0,"creation_date":1618428352,"post_id":67097796,"comment_id":118601491,"body_markdown":"how about the argument? @RequestBody ParamClass param or String paramStr?","body":"how about the argument? @RequestBody ParamClass param or String paramStr?"},{"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"score":0,"creation_date":1618467846,"post_id":67097796,"comment_id":118610861,"body_markdown":"how about the argument? I tried `@RequestBody ParamClass param`, `@RequestBody byte[] bytes` and `String paramStr`, all of them dont work","body":"how about the argument? I tried <code>@RequestBody ParamClass param</code>, <code>@RequestBody byte[] bytes</code> and <code>String paramStr</code>, all of them dont work"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666424647,"post_id":67097796,"comment_id":130937788,"body_markdown":"@lily - It will work with ```HttpServletRequest```, I have added the working code. Please have a look.","body":"@lily - It will work with <code>HttpServletRequest</code>, I have added the working code. Please have a look."}],"tags":[],"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618427609,"creation_date":1618427609,"answer_id":67097796,"question_id":67097742,"body_markdown":"You need to define consumes attribute.\r\n\r\n    @PostMapping (path = &quot;/test2&quot;, consumes = {MediaType.APPLICATION_OCTET_STREAM_VALUE})","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>You need to define consumes attribute.</p>\n<pre><code>@PostMapping (path = &quot;/test2&quot;, consumes = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666424543,"creation_date":1666424543,"answer_id":74161873,"question_id":67097742,"body_markdown":"Here is the implementation with Unit Test Case.\r\n\r\n```java\r\n    @PostMapping(value = &quot;/upload&quot;,\r\n            consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public String demo(HttpServletRequest httpServletRequest) {\r\n\r\n        ServletInputStream inputStream;\r\n\r\n        try {\r\n            inputStream = httpServletRequest.getInputStream();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        final List&lt;String&gt; list = new BufferedReader(new InputStreamReader(inputStream))\r\n                .lines().toList();\r\n        System.out.println(list);\r\n        return &quot;Hello World&quot;;\r\n    }\r\n```\r\n\r\n**Test Case**\r\n\r\n```java\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void shouldTestBinaryFileUpload() throws Exception {\r\n        mockMvc\r\n                .perform(MockMvcRequestBuilders\r\n                        .post(&quot;/api/user/upload&quot;)\r\n                        .content(&quot;Hello&quot;.getBytes())\r\n                        .contentType(MediaType.APPLICATION_OCTET_STREAM))\r\n                .andExpect(MockMvcResultMatchers\r\n                        .status()\r\n                        .isOk())\r\n                .andExpect(MockMvcResultMatchers\r\n                        .content()\r\n                        .bytes(&quot;Hello World&quot;.getBytes()));\r\n    }\r\n```","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>Here is the implementation with Unit Test Case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(value = &quot;/upload&quot;,\n            consumes = MediaType.APPLICATION_OCTET_STREAM_VALUE)\n    public String demo(HttpServletRequest httpServletRequest) {\n\n        ServletInputStream inputStream;\n\n        try {\n            inputStream = httpServletRequest.getInputStream();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        final List&lt;String&gt; list = new BufferedReader(new InputStreamReader(inputStream))\n                .lines().toList();\n        System.out.println(list);\n        return &quot;Hello World&quot;;\n    }\n</code></pre>\n<p><strong>Test Case</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void shouldTestBinaryFileUpload() throws Exception {\n        mockMvc\n                .perform(MockMvcRequestBuilders\n                        .post(&quot;/api/user/upload&quot;)\n                        .content(&quot;Hello&quot;.getBytes())\n                        .contentType(MediaType.APPLICATION_OCTET_STREAM))\n                .andExpect(MockMvcResultMatchers\n                        .status()\n                        .isOk())\n                .andExpect(MockMvcResultMatchers\n                        .content()\n                        .bytes(&quot;Hello World&quot;.getBytes()));\n    }\n</code></pre>\n"}],"owner":{"account_id":4962272,"reputation":525,"user_id":4162708,"accept_rate":53,"display_name":"lily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666424543,"creation_date":1618427343,"question_id":67097742,"body_markdown":"I wrote a spring controller with following methods to deal with a callback http request,\r\n\r\n    @PostMapping (&quot;/test&quot;)\r\n    public void notifyTranscodeResult(String paramStr){\r\n       ...\r\n    }\r\n\r\n\r\n    @PostMapping (&quot;/test2&quot;)\r\n    public void notifyTranscodeResult(@RequestBody ParamClass param){\r\n       ...\r\n    }\r\n\r\nbut I get errors: Resolved exception caused by handler execution: org.springframework.web.HttpMediaTypeNotSupportedException:       Content type &#39;application/octet-stream&#39; not supported\r\n\r\nI can&#39;t change the callback http request because they are from other third-party services, how can I change my controller to correctly get the request params?","title":"How can a spring controller deal with application/octet-stream request?","body":"<p>I wrote a spring controller with following methods to deal with a callback http request,</p>\n<pre><code>@PostMapping (&quot;/test&quot;)\npublic void notifyTranscodeResult(String paramStr){\n   ...\n}\n\n\n@PostMapping (&quot;/test2&quot;)\npublic void notifyTranscodeResult(@RequestBody ParamClass param){\n   ...\n}\n</code></pre>\n<p>but I get errors: Resolved exception caused by handler execution: org.springframework.web.HttpMediaTypeNotSupportedException:       Content type 'application/octet-stream' not supported</p>\n<p>I can't change the callback http request because they are from other third-party services, how can I change my controller to correctly get the request params?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":2090041,"reputation":2250,"user_id":1860089,"accept_rate":40,"display_name":"Amnon"},"score":0,"creation_date":1664898433,"post_id":56988999,"comment_id":130573019,"body_markdown":"I would assume the OP is looking for a single method of the url that will do that without having to specify the host, port and slash explicitly.","body":"I would assume the OP is looking for a single method of the url that will do that without having to specify the host, port and slash explicitly."}],"tags":[],"owner":{"display_name":"user11044402"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562847508,"creation_date":1562847508,"answer_id":56988999,"question_id":56988955,"body_markdown":"Just use the `URL` constructor to build a new URL.\r\n\r\n```java\r\nURL newUrl = new URL(aURL.getProtocol(), aURL.getHost(), 8080, &quot;/&quot;);\r\n```","title":"Java URL: Get root of URL object (remove path)","body":"<p>Just use the <code>URL</code> constructor to build a new URL.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>URL newUrl = new URL(aURL.getProtocol(), aURL.getHost(), 8080, \"/\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12905416,"reputation":2922,"user_id":9332875,"display_name":"Sumit Wadhwa"},"score":0,"creation_date":1698850975,"post_id":74161767,"comment_id":136457528,"body_markdown":"Are you importing from `java.net.URL`? I&#39;m Getting symbol resolve not found. I don&#39;t see the method on oracle docs either.","body":"Are you importing from <code>java.net.URL</code>? I&#39;m Getting symbol resolve not found. I don&#39;t see the method on oracle docs either."}],"tags":[],"owner":{"account_id":27212,"reputation":413,"user_id":71576,"display_name":"kdubb"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666423323,"creation_date":1666423323,"answer_id":74161767,"question_id":56988955,"body_markdown":"I found shorter method that maintains everything but the path portion, use `URI.resolve()`.\r\n\r\n```java\r\nURL url = new URL(&quot;http://example.com:8081/api/test&quot;);\r\nSystem.out.println(url)// prints &quot;http://example.com:8081/api/test&quot;\r\n\r\nURL urlNoPath = url.resolve(&quot;/&quot;);\r\nSystem.out.println(url)// prints &quot;http://example.com:8081/&quot;\r\n```","title":"Java URL: Get root of URL object (remove path)","body":"<p>I found shorter method that maintains everything but the path portion, use <code>URI.resolve()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://example.com:8081/api/test&quot;);\nSystem.out.println(url)// prints &quot;http://example.com:8081/api/test&quot;\n\nURL urlNoPath = url.resolve(&quot;/&quot;);\nSystem.out.println(url)// prints &quot;http://example.com:8081/&quot;\n</code></pre>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3391,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74161767,"answer_count":2,"score":8,"last_activity_date":1666423323,"creation_date":1562847349,"question_id":56988955,"body_markdown":"Is there any way to get only the scheme + host + port from a given `URL`.\r\n\r\nSo I mean, I want to remove path url segment.\r\n\r\n    URL aURL = new URL(&quot;http://example.com:80/docs/books/tutorial&quot;\r\n                           + &quot;/index.html?name=networking#DOWNLOADING&quot;);\r\n\r\nI&#39;ve been playing with this:\r\n\r\n    System.out.println(&quot;protocol = &quot; + aURL.getProtocol());\r\n    System.out.println(&quot;authority = &quot; + aURL.getAuthority());\r\n    System.out.println(&quot;host = &quot; + aURL.getHost());\r\n    System.out.println(&quot;port = &quot; + aURL.getPort());\r\n    System.out.println(&quot;path = &quot; + aURL.getPath());\r\n    System.out.println(&quot;query = &quot; + aURL.getQuery());\r\n    System.out.println(&quot;filename = &quot; + aURL.getFile());\r\n    System.out.println(&quot;ref = &quot; + aURL.getRef());\r\n\r\nOutput is:\r\n\r\n    protocol = http\r\n    authority = example.com:80\r\n    host = example.com\r\n    port = 80\r\n    path = /docs/books/tutorial/index.html\r\n    query = name=networking\r\n    filename = /docs/books/tutorial/index.html?name=networking\r\n    ref = DOWNLOADING\r\n\r\nwhat I want to get is a new `URL` object to `http://example.com:8080`\r\n\r\nAny ideas?","title":"Java URL: Get root of URL object (remove path)","body":"<p>Is there any way to get only the scheme + host + port from a given <code>URL</code>.</p>\n\n<p>So I mean, I want to remove path url segment.</p>\n\n<pre><code>URL aURL = new URL(\"http://example.com:80/docs/books/tutorial\"\n                       + \"/index.html?name=networking#DOWNLOADING\");\n</code></pre>\n\n<p>I've been playing with this:</p>\n\n<pre><code>System.out.println(\"protocol = \" + aURL.getProtocol());\nSystem.out.println(\"authority = \" + aURL.getAuthority());\nSystem.out.println(\"host = \" + aURL.getHost());\nSystem.out.println(\"port = \" + aURL.getPort());\nSystem.out.println(\"path = \" + aURL.getPath());\nSystem.out.println(\"query = \" + aURL.getQuery());\nSystem.out.println(\"filename = \" + aURL.getFile());\nSystem.out.println(\"ref = \" + aURL.getRef());\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>protocol = http\nauthority = example.com:80\nhost = example.com\nport = 80\npath = /docs/books/tutorial/index.html\nquery = name=networking\nfilename = /docs/books/tutorial/index.html?name=networking\nref = DOWNLOADING\n</code></pre>\n\n<p>what I want to get is a new <code>URL</code> object to <code>http://example.com:8080</code></p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","circular-buffer","circular-queue"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666422884,"post_id":74161699,"comment_id":130937567,"body_markdown":"system.arraycopy: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)","body":"system.arraycopy: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666422965,"post_id":74161699,"comment_id":130937580,"body_markdown":"`tailIndex`: Index of &quot;tail&quot; (element/node)!?, `elements.length` = &quot;old capacity&quot;...","body":"<code>tailIndex</code>: Index of &quot;tail&quot; (element/node)!?, <code>elements.length</code> = &quot;old capacity&quot;..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666423346,"post_id":74161699,"comment_id":130937621,"body_markdown":"The rest is straight forward(!?;): 1. System.arraycopy copies `numberOfElementsAfterTail` elements from `elements[tailIndex]` to `newArray[0]`.","body":"The rest is straight forward(!?;): 1. System.arraycopy copies <code>numberOfElementsAfterTail</code> elements from <code>elements[tailIndex]</code> to <code>newArray[0]</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666423570,"post_id":74161699,"comment_id":130937658,"body_markdown":"2. System.arraycopy (`if (tailIndex &gt; 0)`! &lt;=&gt; &quot;size&quot;`&gt;0`) copies `tailIndex` elements from `elements[0]` to `newArray[numberOfElementsAfterTail]`","body":"2. System.arraycopy (<code>if (tailIndex &gt; 0)</code>! &lt;=&gt; &quot;size&quot;<code>&gt;0</code>) copies <code>tailIndex</code> elements from <code>elements[0]</code> to <code>newArray[numberOfElementsAfterTail]</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666424315,"post_id":74161699,"comment_id":130937734,"body_markdown":"No, `headIndex=0;...` is still &quot;confusing&quot;, when tailIndex/size&gt;0","body":"No, <code>headIndex=0;...</code> is still &quot;confusing&quot;, when tailIndex/size&gt;0"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666424701,"post_id":74161699,"comment_id":130937797,"body_markdown":"..but I&#39;d depends on how `head/tail` are treated:)","body":"..but I&#39;d depends on how <code>head&#47;tail</code> are treated:)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666424846,"post_id":74161699,"comment_id":130937821,"body_markdown":"..when `headIndex` should point to the first non-empty element, then `headIndex=numberOfElementsAfterTail` is correct. When it should point to the first empty/free element, then `headIndex=0;` is super.","body":"..when <code>headIndex</code> should point to the first non-empty element, then <code>headIndex=numberOfElementsAfterTail</code> is correct. When it should point to the first empty/free element, then <code>headIndex=0;</code> is super."},{"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"score":0,"creation_date":1666439380,"post_id":74161699,"comment_id":130940021,"body_markdown":"thank u for ur explanation, one more thing though, can you please explain what is numberOfElementsAfterTail and what is point of having this info","body":"thank u for ur explanation, one more thing though, can you please explain what is numberOfElementsAfterTail and what is point of having this info"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666440451,"post_id":74161699,"comment_id":130940232,"body_markdown":"It is &quot;the gap&quot;: `oldArrayLength - tailIndex` so..between (old) &quot;capacity&quot; and &quot;size&quot; .. and needed as a marker/counter/index ..in this implementation","body":"It is &quot;the gap&quot;: <code>oldArrayLength - tailIndex</code> so..between (old) &quot;capacity&quot; and &quot;size&quot; .. and needed as a marker/counter/index ..in this implementation"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666440569,"post_id":74161699,"comment_id":130940254,"body_markdown":"Can call it &quot;count/number of free space&quot; in &quot;old array&quot;.","body":"Can call it &quot;count/number of free space&quot; in &quot;old array&quot;."}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666422493,"creation_date":1666422493,"question_id":74161699,"body_markdown":"I&#39;m trying to learn about the implementation of a circular queue using arrays, and currently, my main source of learning how it works is through this page.\r\n\r\nhttps://www.happycoders.eu/algorithms/implement-deque-using-array/\r\n\r\nHowever, I&#39;m struggling to understand how one method in the code works, and that is the `growToNewCapacity()` method. I&#39;ve provided the code down below.\r\n\r\n    public class ArrayDeque&lt;E&gt; {\r\n            private static final int DEFAULT_INITIAL_CAPACITY = 10;\r\n            private Object[] elements;\r\n            private int headIndex;\r\n            private int tailIndex;\r\n            private int numberOfElements;\r\n    \r\n            public ArrayDeque() {\r\n                this(DEFAULT_INITIAL_CAPACITY);\r\n            }\r\n    \r\n            public ArrayDeque(int capacity) {\r\n                if (capacity &lt; 1) {\r\n                    throw new IllegalArgumentException(&quot;Capacity must be 1 or higher&quot;);\r\n                }\r\n    \r\n                elements = new Object[capacity];\r\n            }\r\n        private void growToNewCapacity(int newCapacity) {\r\n            Object[] newArray = new Object[newCapacity];\r\n            int oldArrayLength = elements.length;\r\n            int numberOfElementsAfterTail = oldArrayLength - tailIndex;\r\n            System.arraycopy(elements, tailIndex, newArray, 0, numberOfElementsAfterTail);\r\n            if (tailIndex &gt; 0) {\r\n                System.arraycopy(elements, 0, newArray, numberOfElementsAfterTail, tailIndex);\r\n            }\r\n            headIndex = 0;\r\n            tailIndex = oldArrayLength;\r\n            elements = newArray;\r\n        }\r\n\r\nI&#39;m just completely lost after the second line of the method which states \r\n\r\n    Object[] newArray = new Object[newCapacity];\r\n    int oldArrayLength = elements.length;\r\n\r\nAnything beyond that is completely dumbfounded for me, so can anyone please take some time off to explain what exactly is going on with the code, so that I could implement it based on my understanding later on.\r\n\r\n\r\n\r\n","title":"How can we grow an array in a circular buffer / circular queue implementation","body":"<p>I'm trying to learn about the implementation of a circular queue using arrays, and currently, my main source of learning how it works is through this page.</p>\n<p><a href=\"https://www.happycoders.eu/algorithms/implement-deque-using-array/\" rel=\"nofollow noreferrer\">https://www.happycoders.eu/algorithms/implement-deque-using-array/</a></p>\n<p>However, I'm struggling to understand how one method in the code works, and that is the <code>growToNewCapacity()</code> method. I've provided the code down below.</p>\n<pre><code>public class ArrayDeque&lt;E&gt; {\n        private static final int DEFAULT_INITIAL_CAPACITY = 10;\n        private Object[] elements;\n        private int headIndex;\n        private int tailIndex;\n        private int numberOfElements;\n\n        public ArrayDeque() {\n            this(DEFAULT_INITIAL_CAPACITY);\n        }\n\n        public ArrayDeque(int capacity) {\n            if (capacity &lt; 1) {\n                throw new IllegalArgumentException(&quot;Capacity must be 1 or higher&quot;);\n            }\n\n            elements = new Object[capacity];\n        }\n    private void growToNewCapacity(int newCapacity) {\n        Object[] newArray = new Object[newCapacity];\n        int oldArrayLength = elements.length;\n        int numberOfElementsAfterTail = oldArrayLength - tailIndex;\n        System.arraycopy(elements, tailIndex, newArray, 0, numberOfElementsAfterTail);\n        if (tailIndex &gt; 0) {\n            System.arraycopy(elements, 0, newArray, numberOfElementsAfterTail, tailIndex);\n        }\n        headIndex = 0;\n        tailIndex = oldArrayLength;\n        elements = newArray;\n    }\n</code></pre>\n<p>I'm just completely lost after the second line of the method which states</p>\n<pre><code>Object[] newArray = new Object[newCapacity];\nint oldArrayLength = elements.length;\n</code></pre>\n<p>Anything beyond that is completely dumbfounded for me, so can anyone please take some time off to explain what exactly is going on with the code, so that I could implement it based on my understanding later on.</p>\n"},{"tags":["java","jframe","jinternalframe"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1666417671,"post_id":74161102,"comment_id":130937015,"body_markdown":"You don&#39;t. Use `JInternalFrame` or `JDialog` instead.  There is no reason to have a `JFrame` inside another.","body":"You don&#39;t. Use <code>JInternalFrame</code> or <code>JDialog</code> instead.  There is no reason to have a <code>JFrame</code> inside another."}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1666462298,"post_id":74161603,"comment_id":130944858,"body_markdown":"You are using the term &quot;frame&quot; incorrectly. A JFrame contains a title bar and borders along with child panels. You are not using a &quot;frame&quot; in the code presented above.  You are adding a &quot;JPanel&quot; to the internal frame, which is correct. When your logic is contained in a panel, then the panel can be added to a JFrame, JDialog, JInternalFrame or even another JPanel.","body":"You are using the term &quot;frame&quot; incorrectly. A JFrame contains a title bar and borders along with child panels. You are not using a &quot;frame&quot; in the code presented above.  You are adding a &quot;JPanel&quot; to the internal frame, which is correct. When your logic is contained in a panel, then the panel can be added to a JFrame, JDialog, JInternalFrame or even another JPanel."}],"tags":[],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666421193,"creation_date":1666421193,"answer_id":74161603,"question_id":74161102,"body_markdown":"Just imported the frame that I want into the JFrame I want it to be in and did this.\r\n```\r\nJInternalFrame printImg = new JInternalFrame(inTitle);\r\nJPanel inLabel= new JPanel();\r\n        inLabel.add(new TestPane());\r\n        printImg.add(inLabel);\r\n        printImg.setVisible(true);\r\n```\r\njust for people who want to know when they stumble upon the post. Wouldnt want them to stay unanswered.\r\nmight also work if u copy-paste the Testpane (as the example) part and do the same thing for the rest instead of importing.","title":"How do I set a well functioning JFrame to be inside another JFrame as a internal JFrame?","body":"<p>Just imported the frame that I want into the JFrame I want it to be in and did this.</p>\n<pre><code>JInternalFrame printImg = new JInternalFrame(inTitle);\nJPanel inLabel= new JPanel();\n        inLabel.add(new TestPane());\n        printImg.add(inLabel);\n        printImg.setVisible(true);\n</code></pre>\n<p>just for people who want to know when they stumble upon the post. Wouldnt want them to stay unanswered.\nmight also work if u copy-paste the Testpane (as the example) part and do the same thing for the rest instead of importing.</p>\n"}],"owner":{"account_id":24850125,"reputation":35,"user_id":18727166,"display_name":"Arpan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74161603,"answer_count":1,"score":0,"last_activity_date":1666421193,"creation_date":1666413501,"question_id":74161102,"body_markdown":"Now I know how JInternalFrame works but what I am trying to do is give an already well-functioning JFrame with a space in a place where I have placed an empty Internal Frame. \r\n\r\nI want it to grab what I have in the already existing JFrame in the package and place it in that Internal JFrame. Here is the JFrame I want to be placed into another JFrame as an internal frame.\r\nWhy I wanna do it this way because the inner frame has a lot of functionality and the container Jframe would be too big to do it all in itself.\r\n\r\nWhat it does is not much of an interest to the thing I wanna do but here it is: It takes images and makes them pure b/w and takes 2 clicks on the screen and stores every pixel between them in a 2d array with their coordinates.\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.UIManager;\r\npublic class imageFilt {\r\n    public static void main(String[] args)\t{new imageFilt();}\r\n    //--basic initialization\r\n    int[] x= new int[3], y= new int[3];\r\n    static int[] black= new int[3]; //---------------- if black is 0, then the pixel is black\r\n    int clr;int flag=0;\r\n    //-----------------------------initialize the screen as runnable. dont disturb the fit\r\n    public imageFilt() {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());}\tcatch (Exception ex) {}\r\n                JFrame frame = new JFrame();\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.add(new TestPane());\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    public class TestPane extends JPanel {\r\n        private BufferedImage master;\r\n        private BufferedImage blackWhite;        \r\n        public TestPane() {\r\n            //----------------------try/catch for (pure black || pure white)\r\n        \ttry {\r\n                master = ImageIO.read(new File(&quot;D:\\\\colz\\\\java\\\\1Aakansh thapa\\\\1_1_2.jpg&quot;));\r\n                blackWhite = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_BYTE_BINARY);\r\n                Graphics2D g2d = blackWhite.createGraphics();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.dispose();\r\n            }catch (IOException ex) {ex.printStackTrace();}\r\n            //--------------------------1st and 2nd click point data and color\r\n\t        \tthis.addMouseListener(new MouseListener() {\r\n\t            \tint[] isFristEmpty;\r\n\t            \t@Override\r\n\t    \t\t\tpublic void mouseClicked(MouseEvent e1) {\r\n\t    \t\t\t\t\tint[] temp =new int[3];\t\t//external container so i can get 1st and 2nd separately\r\n\t    \t\t\t\t\ttemp[0] = (int) e1.getX();\r\n\t    \t\t\t\t\ttemp[1] = (int) e1.getY();\r\n\t    \t\t\t\t\tclr = blackWhite.getRGB(temp[0], temp[1]);\r\n\t    \t\t\t\t\ttemp[2] = (clr &amp; 0x00ff0000) &gt;&gt; 16;//--------------------bit map to find if red is there or not.\r\n\t    \t\t\t\t\t//-------------------------------------------------------since its pure b/w, if red 0, its white.\r\n\t    \t\t\t\t\tif(isFristEmpty==null) {\r\n\t\t    \t\t\t\t\tisFristEmpty=temp;\r\n\t\t    \t\t\t\t\tx[0] = temp[0]; y[0] = temp[1]; black[0]=temp[2];//------1st click\r\n\t\t    \t\t\t\t}else {\r\n\t\t    \t\t\t\t\tx[1] = temp[0]; y[1] = temp[1]; black[1]=temp[2];//-----2nd click\r\n\t\t    \t\t\t\t\tisFristEmpty=null;\t//so the 3rd click is considered 1st click again\r\n\t\t    \t\t\t\t\tflag=1;\r\n\t\t   \t\t\t\t\t}\r\n\t    \t\t\t\t\tif (flag==1) {\r\n\t    \t\t\t\t\t\tSystem.out.print(&quot;X1: &quot;+x[0]+&quot; &amp; &quot;+&quot;Y1: &quot;+y[0]+&quot; &quot;+&quot;(225 if white): &quot;+black[0]+&quot;\\t&quot;);\r\n\t    \t\t\t\t\t\tSystem.out.println(&quot;X2: &quot;+x[1]+&quot; &amp; &quot;+&quot;Y2: &quot;+y[1]+&quot; &quot;+&quot;(225 if white): &quot;+black[1]);\r\n\t    \t\t\t\t\t\tcounter(x,y);\r\n\t    \t\t\t\t\t}\r\n\t            \t}\r\n\t    \t\t\t@Override\tpublic void mousePressed(MouseEvent e) {}\r\n\t    \t\t\t@Override\tpublic void mouseReleased(MouseEvent e) {}\r\n\t    \t\t\t@Override\tpublic void mouseEntered(MouseEvent e) {}\r\n\t    \t\t\t@Override\tpublic void mouseExited(MouseEvent e) {}\r\n\t        \t});\r\n        }\r\n        //--------------------------------------------DDA block\r\n        private void counter(int x[],int y[]) {\r\n            if(flag!=1) return;//-------------------to only go to counter method after it takes that 2nd click\r\n            int dx = (x[1] - x[0]);\r\n            int dy = (y[1] - y[0]);//--------------makes it applicable for both inclinations (we do not have math.abs implies-&gt; -ve goes as -ve)\r\n            int step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\r\n            System.out.println(&quot;Steps: &quot;+step);\r\n            float Xinc = dx / (float) step;\r\n            float Yinc = dy / (float) step;\r\n            \r\n            int[][] tog= new int[step][3];\r\n            tog[0][0]=x[0];\ttog[0][1]=y[0];\r\n            //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\r\n            float xt=x[0],yt=y[0];\tint i=0, j=1;\tint a=0 ,b=0;\r\n            \r\n            while (a!=x[1] &amp;&amp; b!=y[1]){\r\n            \txt += Xinc;\r\n                yt += Yinc;\r\n                a=(int) xt;\tb=(int) yt;\r\n                tog[j][i] = a;\r\n               \ttog[j][i+1] = b;\r\n                //System.out.println(tog[j][i]+&quot; &quot;+tog[j][i+1]);           //*------------to print all that is saved\r\n               \tif(i==1) i=0;\r\n            }\r\n        }\r\n        //------------image size and such stuff. don&#39;t touch it\r\n\t    @Override\r\n\t    public Dimension getPreferredSize() {\r\n\t    \tDimension size = super.getPreferredSize();\r\n\t        if (master != null) {\r\n\t        \tsize = new Dimension(master.getWidth(), master.getHeight());\r\n\t        }\r\n\t        return size;\r\n\t    }\r\n\t    @Override\r\n\t    protected void paintComponent(Graphics g) {\r\n\t    \tsuper.paintComponent(g);\r\n\t        if (master != null) {\r\n\t        \tint x = (getWidth() - (master.getWidth())) / 2;\r\n\t            int y = (getHeight() - master.getHeight()) / 2;\r\n\t            g.drawImage(blackWhite, x, y, this);\r\n\t        }\r\n        }\r\n    }\r\n}\r\n```\r\nHope what I wanna do makes sense.\r\n","title":"How do I set a well functioning JFrame to be inside another JFrame as a internal JFrame?","body":"<p>Now I know how JInternalFrame works but what I am trying to do is give an already well-functioning JFrame with a space in a place where I have placed an empty Internal Frame.</p>\n<p>I want it to grab what I have in the already existing JFrame in the package and place it in that Internal JFrame. Here is the JFrame I want to be placed into another JFrame as an internal frame.\nWhy I wanna do it this way because the inner frame has a lot of functionality and the container Jframe would be too big to do it all in itself.</p>\n<p>What it does is not much of an interest to the thing I wanna do but here it is: It takes images and makes them pure b/w and takes 2 clicks on the screen and stores every pixel between them in a 2d array with their coordinates.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\npublic class imageFilt {\n    public static void main(String[] args)  {new imageFilt();}\n    //--basic initialization\n    int[] x= new int[3], y= new int[3];\n    static int[] black= new int[3]; //---------------- if black is 0, then the pixel is black\n    int clr;int flag=0;\n    //-----------------------------initialize the screen as runnable. dont disturb the fit\n    public imageFilt() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());}  catch (Exception ex) {}\n                JFrame frame = new JFrame();\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n    public class TestPane extends JPanel {\n        private BufferedImage master;\n        private BufferedImage blackWhite;        \n        public TestPane() {\n            //----------------------try/catch for (pure black || pure white)\n            try {\n                master = ImageIO.read(new File(&quot;D:\\\\colz\\\\java\\\\1Aakansh thapa\\\\1_1_2.jpg&quot;));\n                blackWhite = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_BYTE_BINARY);\n                Graphics2D g2d = blackWhite.createGraphics();\n                g2d.drawImage(master, 0, 0, this);\n                g2d.dispose();\n            }catch (IOException ex) {ex.printStackTrace();}\n            //--------------------------1st and 2nd click point data and color\n                this.addMouseListener(new MouseListener() {\n                    int[] isFristEmpty;\n                    @Override\n                    public void mouseClicked(MouseEvent e1) {\n                            int[] temp =new int[3];     //external container so i can get 1st and 2nd separately\n                            temp[0] = (int) e1.getX();\n                            temp[1] = (int) e1.getY();\n                            clr = blackWhite.getRGB(temp[0], temp[1]);\n                            temp[2] = (clr &amp; 0x00ff0000) &gt;&gt; 16;//--------------------bit map to find if red is there or not.\n                            //-------------------------------------------------------since its pure b/w, if red 0, its white.\n                            if(isFristEmpty==null) {\n                                isFristEmpty=temp;\n                                x[0] = temp[0]; y[0] = temp[1]; black[0]=temp[2];//------1st click\n                            }else {\n                                x[1] = temp[0]; y[1] = temp[1]; black[1]=temp[2];//-----2nd click\n                                isFristEmpty=null;  //so the 3rd click is considered 1st click again\n                                flag=1;\n                            }\n                            if (flag==1) {\n                                System.out.print(&quot;X1: &quot;+x[0]+&quot; &amp; &quot;+&quot;Y1: &quot;+y[0]+&quot; &quot;+&quot;(225 if white): &quot;+black[0]+&quot;\\t&quot;);\n                                System.out.println(&quot;X2: &quot;+x[1]+&quot; &amp; &quot;+&quot;Y2: &quot;+y[1]+&quot; &quot;+&quot;(225 if white): &quot;+black[1]);\n                                counter(x,y);\n                            }\n                    }\n                    @Override   public void mousePressed(MouseEvent e) {}\n                    @Override   public void mouseReleased(MouseEvent e) {}\n                    @Override   public void mouseEntered(MouseEvent e) {}\n                    @Override   public void mouseExited(MouseEvent e) {}\n                });\n        }\n        //--------------------------------------------DDA block\n        private void counter(int x[],int y[]) {\n            if(flag!=1) return;//-------------------to only go to counter method after it takes that 2nd click\n            int dx = (x[1] - x[0]);\n            int dy = (y[1] - y[0]);//--------------makes it applicable for both inclinations (we do not have math.abs implies-&gt; -ve goes as -ve)\n            int step = Math.abs(dx) &gt; Math.abs(dy) ? Math.abs(dx) : Math.abs(dy);\n            System.out.println(&quot;Steps: &quot;+step);\n            float Xinc = dx / (float) step;\n            float Yinc = dy / (float) step;\n            \n            int[][] tog= new int[step][3];\n            tog[0][0]=x[0]; tog[0][1]=y[0];\n            //---------------------------------------------------------------send value of x1 and y1 to listOfCoordinates\n            float xt=x[0],yt=y[0];  int i=0, j=1;   int a=0 ,b=0;\n            \n            while (a!=x[1] &amp;&amp; b!=y[1]){\n                xt += Xinc;\n                yt += Yinc;\n                a=(int) xt; b=(int) yt;\n                tog[j][i] = a;\n                tog[j][i+1] = b;\n                //System.out.println(tog[j][i]+&quot; &quot;+tog[j][i+1]);           //*------------to print all that is saved\n                if(i==1) i=0;\n            }\n        }\n        //------------image size and such stuff. don't touch it\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension size = super.getPreferredSize();\n            if (master != null) {\n                size = new Dimension(master.getWidth(), master.getHeight());\n            }\n            return size;\n        }\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (master != null) {\n                int x = (getWidth() - (master.getWidth())) / 2;\n                int y = (getHeight() - master.getHeight()) / 2;\n                g.drawImage(blackWhite, x, y, this);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Hope what I wanna do makes sense.</p>\n"},{"tags":["java","oracle-ebs"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1666269510,"post_id":74139708,"comment_id":130899599,"body_markdown":"Do not [delete a question](https://stackoverflow.com/q/74139304/1509264) and then post the same question again. [Edit your original question](https://stackoverflow.com/posts/74139304/edit) to improve it and ask for it to be reopened.","body":"Do not <a href=\"https://stackoverflow.com/q/74139304/1509264\">delete a question</a> and then post the same question again. <a href=\"https://stackoverflow.com/posts/74139304/edit\">Edit your original question</a> to improve it and ask for it to be reopened."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1666269820,"post_id":74139708,"comment_id":130899721,"body_markdown":"The title talks about Oracle EBS but the question talks about SQL and it is unclear where you want to use this Java library and what you want to do with it. If you want to add a Jar file to an Java-enabled Oracle RDBMS then use the `loadjava` utility; **NEVER** play with the file structures and try to include it manually through the file system.","body":"The title talks about Oracle EBS but the question talks about SQL and it is unclear where you want to use this Java library and what you want to do with it. If you want to add a Jar file to an Java-enabled Oracle RDBMS then use the <code>loadjava</code> utility; <b>NEVER</b> play with the file structures and try to include it manually through the file system."},{"owner":{"account_id":25090350,"reputation":165,"user_id":18942060,"display_name":"MK Said"},"score":0,"creation_date":1666270567,"post_id":74139708,"comment_id":130900014,"body_markdown":"@MT0 I edited my post which I mentioned why I need it and what is the java code for, many thanks for your reply, and please how can I use `loadjava` ?","body":"@MT0 I edited my post which I mentioned why I need it and what is the java code for, many thanks for your reply, and please how can I use <code>loadjava</code> ?"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1666271633,"post_id":74139708,"comment_id":130900406,"body_markdown":"&quot;I have a java script&quot; Please [edit] the question and include the Java script. &quot;and want to use it in SQL oracle&quot; Please [edit] the question and include details of how you want to use it. It is impossible to tell you how to use something when we don&#39;t know what it is or how you want to use it.","body":"&quot;I have a java script&quot; Please <a href=\"https://stackoverflow.com/posts/74139708/edit\">edit</a> the question and include the Java script. &quot;and want to use it in SQL oracle&quot; Please <a href=\"https://stackoverflow.com/posts/74139708/edit\">edit</a> the question and include details of how you want to use it. It is impossible to tell you how to use something when we don&#39;t know what it is or how you want to use it."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1666281025,"post_id":74139708,"comment_id":130904593,"body_markdown":"You still have not told us how you want to use it in Oracle (whether that is EBS or RDBMS is still unclear). Additionally, your Java method returns `void` (i.e. it does not return anything) so using it elsewhere is going to be almost impossible.","body":"You still have not told us how you want to use it in Oracle (whether that is EBS or RDBMS is still unclear). Additionally, your Java method returns <code>void</code> (i.e. it does not return anything) so using it elsewhere is going to be almost impossible."},{"owner":{"account_id":25090350,"reputation":165,"user_id":18942060,"display_name":"MK Said"},"score":0,"creation_date":1666281555,"post_id":74139708,"comment_id":130904764,"body_markdown":"@MT0 actually I am fresh on oracle sql, but want to sign the `str` which will come from db and send the output `base64` to store it in db.","body":"@MT0 actually I am fresh on oracle sql, but want to sign the <code>str</code> which will come from db and send the output <code>base64</code> to store it in db."}],"owner":{"account_id":25090350,"reputation":165,"user_id":18942060,"display_name":"MK Said"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1666420233,"creation_date":1666267988,"question_id":74139708,"body_markdown":"I have a java script and want to use it in SQL oracle but don&#39;t know how and where to add the 3rd java library in the server.\r\n\r\nI found one folder name `lib` \r\n\r\nIs it the right folder or there is another folder I can Idd? which I have the .jar file need to add\r\n\r\nI wrote a java code to sign a file from `Starkbank` library and in order to be able to us the java code I have to add `starkbank` library java file\r\n\r\n```\r\nimport com.starkbank.ellipticcurve.PrivateKey;\r\nimport com.starkbank.ellipticcurve.PublicKey;\r\nimport com.starkbank.ellipticcurve.Signature;\r\nimport com.starkbank.ellipticcurve.Ecdsa;\r\nimport com.starkbank.ellipticcurve.Ecdsa;\r\nimport com.starkbank.ellipticcurve.PublicKey;\r\nimport com.starkbank.ellipticcurve.Signature;\r\nimport com.starkbank.ellipticcurve.utils.ByteString;\r\nimport com.starkbank.ellipticcurve.utils.File;\r\nimport java.util.*;\r\n\r\npublic class NewClass3{\r\n\r\n    public static void main(String[] args){\r\n        \r\n        // Read files\r\n       // String publicKeyPem = File.read(&quot;publicKey.pem&quot;);\r\n        \r\n        String PrivKeyPem = File.read(&quot;ec-secp256k1-priv-key.pem&quot;);\r\n\r\n\r\n\r\n      //  PublicKey publicKey = PublicKey.fromPem(publicKeyPem);\r\n       \r\n        PrivateKey privateKey = PrivateKey.fromPem(PrivKeyPem);\r\n        \r\n          \r\n    Base64.Encoder enc = Base64.getEncoder();\r\n        Base64.Decoder dec = Base64.getDecoder();\r\n        \r\n    String str = &quot;LcHeQ9b2bhNW291aOgeXhBHKa1uHmNoKf/ATfX+AJbo=&quot;;\r\n  \r\n\r\n\r\n\r\n        // Decode data\r\n        String decoded = new String(dec.decode(str));\r\n        System.out.println(&quot;decoded value is \\t&quot; + decoded);\r\n        System.out.println(&quot;original value is \\t&quot; + str);\r\n        \r\n\r\n\r\n        // Generate Signature\r\n        Signature signature = Ecdsa.sign(decoded, privateKey);\r\n\r\n        // Return the signature verification status\r\n        System.out.println(&quot;signature: &quot; + signature);\r\n\r\n         // Encode into Base64 format - This value should add in QR code\r\n\r\n        String base64 = signature.toBase64();\r\n \r\n        // print encoded String\r\n        System.out.println(&quot;Encoded String:\\n&quot; + base64);\r\n        \r\n    }\r\n}\r\n```\r\n\r\n","title":"How to add Java Library inside Oracle EBS r11 in order to use Java script in SQL","body":"<p>I have a java script and want to use it in SQL oracle but don't know how and where to add the 3rd java library in the server.</p>\n<p>I found one folder name <code>lib</code></p>\n<p>Is it the right folder or there is another folder I can Idd? which I have the .jar file need to add</p>\n<p>I wrote a java code to sign a file from <code>Starkbank</code> library and in order to be able to us the java code I have to add <code>starkbank</code> library java file</p>\n<pre><code>import com.starkbank.ellipticcurve.PrivateKey;\nimport com.starkbank.ellipticcurve.PublicKey;\nimport com.starkbank.ellipticcurve.Signature;\nimport com.starkbank.ellipticcurve.Ecdsa;\nimport com.starkbank.ellipticcurve.Ecdsa;\nimport com.starkbank.ellipticcurve.PublicKey;\nimport com.starkbank.ellipticcurve.Signature;\nimport com.starkbank.ellipticcurve.utils.ByteString;\nimport com.starkbank.ellipticcurve.utils.File;\nimport java.util.*;\n\npublic class NewClass3{\n\n    public static void main(String[] args){\n        \n        // Read files\n       // String publicKeyPem = File.read(&quot;publicKey.pem&quot;);\n        \n        String PrivKeyPem = File.read(&quot;ec-secp256k1-priv-key.pem&quot;);\n\n\n\n      //  PublicKey publicKey = PublicKey.fromPem(publicKeyPem);\n       \n        PrivateKey privateKey = PrivateKey.fromPem(PrivKeyPem);\n        \n          \n    Base64.Encoder enc = Base64.getEncoder();\n        Base64.Decoder dec = Base64.getDecoder();\n        \n    String str = &quot;LcHeQ9b2bhNW291aOgeXhBHKa1uHmNoKf/ATfX+AJbo=&quot;;\n  \n\n\n\n        // Decode data\n        String decoded = new String(dec.decode(str));\n        System.out.println(&quot;decoded value is \\t&quot; + decoded);\n        System.out.println(&quot;original value is \\t&quot; + str);\n        \n\n\n        // Generate Signature\n        Signature signature = Ecdsa.sign(decoded, privateKey);\n\n        // Return the signature verification status\n        System.out.println(&quot;signature: &quot; + signature);\n\n         // Encode into Base64 format - This value should add in QR code\n\n        String base64 = signature.toBase64();\n \n        // print encoded String\n        System.out.println(&quot;Encoded String:\\n&quot; + base64);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1666395922,"post_id":74160097,"comment_id":130934962,"body_markdown":"Please see: [Why is “Can someone help me?” not an actual question?](http://meta.stackoverflow.com/q/284236)","body":"Please see: <a href=\"http://meta.stackoverflow.com/q/284236\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":978700,"reputation":2122,"user_id":998997,"accept_rate":50,"display_name":"Barcelona"},"score":0,"creation_date":1666396651,"post_id":74160097,"comment_id":130935060,"body_markdown":"I already updated the question, be honestly I need a hint not actually the real implementation","body":"I already updated the question, be honestly I need a hint not actually the real implementation"}],"answers":[{"tags":[],"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666420106,"creation_date":1666420106,"answer_id":74161531,"question_id":74160097,"body_markdown":"In the comments, you mentioned that you were looking for hints, so I&#39;ll share some ideas on how to approach the problem. The method I describe is ultimately a greedy algorithm, so it may not be optimal in all cases. It *is* optimal for the given example, but I would be interested in a counterexample that proves that it&#39;s not optimal.\r\n\r\nGiven the following topological graph, where\r\n- the letter is the task name, and the number is the effort for the task\r\n- purple tasks are starters, they have no dependencies \r\n- green tasks are intermediaries, they depend on other tasks, and tasks depend on them\r\n- blue tasks are terminals, no tasks depend on them\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe first step is to convert it (conceptually) to the following task diagram, where\r\n\r\n- the letter is the task name\r\n- the height of a task rectangle is proportional to the task effort\r\n- arrows show dependencies that aren&#39;t otherwise obvious\r\n- the terminals are aligned so that they all end at the same time\r\n- the end time for non-terminals is as late as possible while meeting the dependency requirements\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe conversion from topological graph to task diagram can be done with a breadth-first search. The terminals are assigned a distance of 0, and added to the queue. The edges are reversed, and have a weight equal to the task effort. So for example, there&#39;s an edge from &quot;H4&quot; to &quot;D1&quot; with a weight of 4. Tasks aren&#39;t added to the queue until all their dependents have been processed. For example, &quot;B1&quot; wouldn&#39;t go into the queue until tasks E, F, and G had come out of the queue.\r\n\r\nThe goal of the conversion is to determine the latest possible start time for each task that would allow all of the terminal tasks to finish at the same time (assuming that an unlimited number of workers were available).\r\n\r\nOnce every task has been assigned its latest possible starting time, then the greedy algorithm for task assignment begins. For the example, assume that there are two workers available. Then the tasks are assigned as follows:\r\n\r\n- A and B are started first.\r\n- F and E are next, but F should start before E since F requires more effort.\r\n- C should be started before D.\r\n- H is before I, and I is before G.\r\n\r\nIn short, tasks are sorted first by their topological order. Without violating the topological order, tasks are sorted by their start time, and for tasks with the same start time, the task that requires more effort is first.\r\n\r\nThis can be implemented with a priority queue that sorts based on task start time as the primary key, and task effort as the secondary key. Initially, only the starter tasks are added to the queue. As tasks are pulled from the queue, any tasks whose dependencies have been satisfied are added to the queue.\r\n\r\nThe final task assignments for the example are:\r\n\r\n|Worker ID|Task|Start Time|End Time|\r\n|--|--|--|--|\r\n|1|A|0|2|\r\n|2|B|0|1|\r\n|2|F|1|5|\r\n|1|E|2|5|\r\n|2|C|5|9|\r\n|1|D|5|6|\r\n|1|H|6|10|\r\n|2|I|9|12|\r\n|1|G|10|12|\r\n\r\nNote that this is an optimal solution for the example. Both workers finish at time 12. The total amount of effort for the tasks is 24, divided between 2 workers, giving 12 effort from each worker.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Iijw.png\r\n  [2]: https://i.stack.imgur.com/0CewI.png","title":"Task Scheduling with dependencies and worker allocation","body":"<p>In the comments, you mentioned that you were looking for hints, so I'll share some ideas on how to approach the problem. The method I describe is ultimately a greedy algorithm, so it may not be optimal in all cases. It <em>is</em> optimal for the given example, but I would be interested in a counterexample that proves that it's not optimal.</p>\n<p>Given the following topological graph, where</p>\n<ul>\n<li>the letter is the task name, and the number is the effort for the task</li>\n<li>purple tasks are starters, they have no dependencies</li>\n<li>green tasks are intermediaries, they depend on other tasks, and tasks depend on them</li>\n<li>blue tasks are terminals, no tasks depend on them</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/7Iijw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Iijw.png\" alt=\"enter image description here\" /></a></p>\n<p>The first step is to convert it (conceptually) to the following task diagram, where</p>\n<ul>\n<li>the letter is the task name</li>\n<li>the height of a task rectangle is proportional to the task effort</li>\n<li>arrows show dependencies that aren't otherwise obvious</li>\n<li>the terminals are aligned so that they all end at the same time</li>\n<li>the end time for non-terminals is as late as possible while meeting the dependency requirements</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/0CewI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CewI.png\" alt=\"enter image description here\" /></a></p>\n<p>The conversion from topological graph to task diagram can be done with a breadth-first search. The terminals are assigned a distance of 0, and added to the queue. The edges are reversed, and have a weight equal to the task effort. So for example, there's an edge from &quot;H4&quot; to &quot;D1&quot; with a weight of 4. Tasks aren't added to the queue until all their dependents have been processed. For example, &quot;B1&quot; wouldn't go into the queue until tasks E, F, and G had come out of the queue.</p>\n<p>The goal of the conversion is to determine the latest possible start time for each task that would allow all of the terminal tasks to finish at the same time (assuming that an unlimited number of workers were available).</p>\n<p>Once every task has been assigned its latest possible starting time, then the greedy algorithm for task assignment begins. For the example, assume that there are two workers available. Then the tasks are assigned as follows:</p>\n<ul>\n<li>A and B are started first.</li>\n<li>F and E are next, but F should start before E since F requires more effort.</li>\n<li>C should be started before D.</li>\n<li>H is before I, and I is before G.</li>\n</ul>\n<p>In short, tasks are sorted first by their topological order. Without violating the topological order, tasks are sorted by their start time, and for tasks with the same start time, the task that requires more effort is first.</p>\n<p>This can be implemented with a priority queue that sorts based on task start time as the primary key, and task effort as the secondary key. Initially, only the starter tasks are added to the queue. As tasks are pulled from the queue, any tasks whose dependencies have been satisfied are added to the queue.</p>\n<p>The final task assignments for the example are:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Worker ID</th>\n<th>Task</th>\n<th>Start Time</th>\n<th>End Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>A</td>\n<td>0</td>\n<td>2</td>\n</tr>\n<tr>\n<td>2</td>\n<td>B</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>F</td>\n<td>1</td>\n<td>5</td>\n</tr>\n<tr>\n<td>1</td>\n<td>E</td>\n<td>2</td>\n<td>5</td>\n</tr>\n<tr>\n<td>2</td>\n<td>C</td>\n<td>5</td>\n<td>9</td>\n</tr>\n<tr>\n<td>1</td>\n<td>D</td>\n<td>5</td>\n<td>6</td>\n</tr>\n<tr>\n<td>1</td>\n<td>H</td>\n<td>6</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2</td>\n<td>I</td>\n<td>9</td>\n<td>12</td>\n</tr>\n<tr>\n<td>1</td>\n<td>G</td>\n<td>10</td>\n<td>12</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Note that this is an optimal solution for the example. Both workers finish at time 12. The total amount of effort for the tasks is 24, divided between 2 workers, giving 12 effort from each worker.</p>\n"}],"owner":{"account_id":978700,"reputation":2122,"user_id":998997,"accept_rate":50,"display_name":"Barcelona"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1666462476,"accepted_answer_id":74161531,"answer_count":1,"score":0,"last_activity_date":1666420106,"creation_date":1666395863,"question_id":74160097,"body_markdown":"I want to implements a simple Task Scheduling. You have a list of tasks that need to be completed. For each task it is known exactly how much time is required for completion (known as &quot;effort&quot;) and a task may have a set of dependency task that need to be carried out before it can be started (known as &quot;dependencies&quot;). Given a certain number of available independent workers you have to compute a reasonable task distribution such as\r\n\r\n- tasks are not executed before each required task(s) are completed\r\n- there is no idling worker and available task (uncompleted task with 0 uncompleted requirement(s)) at any given time\r\n\r\nExample\r\n\r\nGiven below set of tasks\r\n- Task A requires 1 effort and has 0 depedency\r\n- Task B requires 2 effort and has 0 dependency\r\n- Task C requires 1 effort and depends on A, B\r\n\r\nAnd given 1 worker, the sample execution will be:\r\n\r\n|Worker ID|Task|Start Time|End Time|\r\n|--|--|--|--|\r\n|1|Task A|0|1|\r\n|1|Task B|1|3|\r\n|1|Task C|3|4|\r\n\r\nAnd given 2 workers, the sample execution will be:\r\n\r\n|Worker ID|Task|Start Time|End Time|\r\n|--|--|--|--|\r\n|1|Task A|0|1|\r\n|2|Task B|0|2|\r\n|1|Task C|2|3|\r\n\r\n*A worker can finish a task and pick up a new task at the same time step, refer to the 1st example where `Task B` start time same as `Task A`&#39;s end time. \r\n\r\n*The order of worker and task doesn&#39;t matter as long as it fulfills the given requirement.\r\n\r\nI also define some API contracts to achieve this\r\n\r\n```\r\npublic interface Task extends Iterable&lt;Task&gt; {\r\n    String getName();\r\n    int getEffort();\r\n    List&lt;Task&gt; getDependencies();\r\n}\r\n\r\npublic interface TaskExecution {\r\n    int getEnd();\r\n    Task getTask();\r\n    int getWorkerId();\r\n    int getStart();\r\n}\r\n\r\npublic interface Scheduler {\r\n    List&lt;TaskExecution&gt; estimate(Iterable&lt;Task&gt; tasks, int numWorkers);\r\n}\r\n```\r\n\r\nMy algorithm is\r\n\r\n- Sort the tasks based on their dependencies by using graph\r\n- Allocate workers to sorted tasks and calculate the time\r\n\r\nI can do the sort of tasks based on dependencies by using Graph and topological sorting but I am stucked with resource allocation to all tasks so that it can run in parallel if possible.\r\n\r\n```\r\n\r\npublic class Graph&lt;T&gt; {\r\n\r\n  static class Node&lt;E&gt; {\r\n    E source;\r\n    E destination;\r\n    \r\n    Node(E source, E destination) {\r\n      this.source = source;\r\n      this.destination = destination;\r\n    }\r\n  }\r\n\r\n  private int vertices;\r\n  private LinkedList&lt;Node&lt;T&gt;&gt;[] adjList;\r\n\r\n  public void addEgde(T source, T destination, List&lt;T&gt; list) {\r\n    Node node = new Node(source, destination);\r\n    adjList[list.indexOf(source)].addFirst(node);\r\n  }\r\n\r\n  public void topologicalSorting(List&lt;T&gt; list) {\r\n    //....\r\n  }\r\n\r\n}\r\n```\r\n\r\nAny idea on how to implement such an worker allocation while having as much parallelism as possible?\r\n\r\n","title":"Task Scheduling with dependencies and worker allocation","body":"<p>I want to implements a simple Task Scheduling. You have a list of tasks that need to be completed. For each task it is known exactly how much time is required for completion (known as &quot;effort&quot;) and a task may have a set of dependency task that need to be carried out before it can be started (known as &quot;dependencies&quot;). Given a certain number of available independent workers you have to compute a reasonable task distribution such as</p>\n<ul>\n<li>tasks are not executed before each required task(s) are completed</li>\n<li>there is no idling worker and available task (uncompleted task with 0 uncompleted requirement(s)) at any given time</li>\n</ul>\n<p>Example</p>\n<p>Given below set of tasks</p>\n<ul>\n<li>Task A requires 1 effort and has 0 depedency</li>\n<li>Task B requires 2 effort and has 0 dependency</li>\n<li>Task C requires 1 effort and depends on A, B</li>\n</ul>\n<p>And given 1 worker, the sample execution will be:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Worker ID</th>\n<th>Task</th>\n<th>Start Time</th>\n<th>End Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Task A</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Task B</td>\n<td>1</td>\n<td>3</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Task C</td>\n<td>3</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And given 2 workers, the sample execution will be:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Worker ID</th>\n<th>Task</th>\n<th>Start Time</th>\n<th>End Time</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Task A</td>\n<td>0</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Task B</td>\n<td>0</td>\n<td>2</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Task C</td>\n<td>2</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>*A worker can finish a task and pick up a new task at the same time step, refer to the 1st example where <code>Task B</code> start time same as <code>Task A</code>'s end time.</p>\n<p>*The order of worker and task doesn't matter as long as it fulfills the given requirement.</p>\n<p>I also define some API contracts to achieve this</p>\n<pre><code>public interface Task extends Iterable&lt;Task&gt; {\n    String getName();\n    int getEffort();\n    List&lt;Task&gt; getDependencies();\n}\n\npublic interface TaskExecution {\n    int getEnd();\n    Task getTask();\n    int getWorkerId();\n    int getStart();\n}\n\npublic interface Scheduler {\n    List&lt;TaskExecution&gt; estimate(Iterable&lt;Task&gt; tasks, int numWorkers);\n}\n</code></pre>\n<p>My algorithm is</p>\n<ul>\n<li>Sort the tasks based on their dependencies by using graph</li>\n<li>Allocate workers to sorted tasks and calculate the time</li>\n</ul>\n<p>I can do the sort of tasks based on dependencies by using Graph and topological sorting but I am stucked with resource allocation to all tasks so that it can run in parallel if possible.</p>\n<pre><code>\npublic class Graph&lt;T&gt; {\n\n  static class Node&lt;E&gt; {\n    E source;\n    E destination;\n    \n    Node(E source, E destination) {\n      this.source = source;\n      this.destination = destination;\n    }\n  }\n\n  private int vertices;\n  private LinkedList&lt;Node&lt;T&gt;&gt;[] adjList;\n\n  public void addEgde(T source, T destination, List&lt;T&gt; list) {\n    Node node = new Node(source, destination);\n    adjList[list.indexOf(source)].addFirst(node);\n  }\n\n  public void topologicalSorting(List&lt;T&gt; list) {\n    //....\n  }\n\n}\n</code></pre>\n<p>Any idea on how to implement such an worker allocation while having as much parallelism as possible?</p>\n"},{"tags":["java","function","generics","static"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666419518,"post_id":74160276,"comment_id":130937178,"body_markdown":"@LouisWasserman what makes you say there&#39;s no way to implement them? Try it with `Map` instead of `ReturnClassA` and `return new HashMap&lt;&gt;();` as the body.","body":"@LouisWasserman what makes you say there&#39;s no way to implement them? Try it with <code>Map</code> instead of <code>ReturnClassA</code> and <code>return new HashMap&lt;&gt;();</code> as the body."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666419869,"creation_date":1666419869,"answer_id":74161517,"question_id":74160276,"body_markdown":"If you can tolerate making these instance methods of a class with type parameters, rather than static methods, then you can avoid the repetition:\r\n\r\n    public final class SomeUtils&lt;REQUEST extends RequestClass, RESPONSE&gt; {\r\n        public ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\r\n            throw new UnsupportedOperationException(); // fill in with whatever implementation you need\r\n        }\r\n    \r\n        public ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\r\n            throw new UnsupportedOperationException(); // fill in with whatever implementation you need\r\n        }\r\n    \r\n        public ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\r\n            throw new UnsupportedOperationException(); // fill in with whatever implementation you need\r\n        }\r\n    }\r\n\r\nYou can then use it like this:\r\n\r\n    ReturnClassA&lt;RequestClass, Object&gt; a = new SomeUtils&lt;&gt;().funcA();","title":"Is there a way to simplify repeated use of generics in static methods in JAVA?","body":"<p>If you can tolerate making these instance methods of a class with type parameters, rather than static methods, then you can avoid the repetition:</p>\n<pre><code>public final class SomeUtils&lt;REQUEST extends RequestClass, RESPONSE&gt; {\n    public ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\n        throw new UnsupportedOperationException(); // fill in with whatever implementation you need\n    }\n\n    public ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\n        throw new UnsupportedOperationException(); // fill in with whatever implementation you need\n    }\n\n    public ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\n        throw new UnsupportedOperationException(); // fill in with whatever implementation you need\n    }\n}\n</code></pre>\n<p>You can then use it like this:</p>\n<pre><code>ReturnClassA&lt;RequestClass, Object&gt; a = new SomeUtils&lt;&gt;().funcA();\n</code></pre>\n"}],"owner":{"account_id":9233562,"reputation":69,"user_id":7818543,"display_name":"Himank Jog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666419869,"creation_date":1666398281,"question_id":74160276,"body_markdown":"I created a `final` class with multiple static methods. The generics used in all of those methods are same, any suggestion how this can be simplified any further?\r\n\r\n```\r\npublic final class SomeUtils {\r\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\r\n        ...\r\n    }\r\n\r\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\r\n        ...\r\n    }\r\n\r\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\r\n        ...\r\n    }\r\n\r\n}\r\n```\r\n\r\nP.S: I am using JDK8. I cannot upgrade that for sometime.","title":"Is there a way to simplify repeated use of generics in static methods in JAVA?","body":"<p>I created a <code>final</code> class with multiple static methods. The generics used in all of those methods are same, any suggestion how this can be simplified any further?</p>\n<pre><code>public final class SomeUtils {\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassA&lt;REQUEST, RESPONSE&gt; funcA() {\n        ...\n    }\n\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassB&lt;REQUEST, RESPONSE&gt; funcB() {\n        ...\n    }\n\n    public static &lt;REQUEST extends RequestClass, RESPONSE&gt; ReturnClassC&lt;REQUEST, RESPONSE&gt; funcC() {\n        ...\n    }\n\n}\n</code></pre>\n<p>P.S: I am using JDK8. I cannot upgrade that for sometime.</p>\n"},{"tags":["java","hex"],"comments":[{"owner":{"account_id":1298599,"reputation":7759,"user_id":1248974,"display_name":"chickity china chinese chicken"},"score":0,"creation_date":1666417364,"post_id":74161317,"comment_id":130936977,"body_markdown":"Already a good explanation here [Java Hexadecimal to Decimal conversion: Custom Logic](https://stackoverflow.com/a/52676496/1248974)","body":"Already a good explanation here <a href=\"https://stackoverflow.com/a/52676496/1248974\">Java Hexadecimal to Decimal conversion: Custom Logic</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666419317,"post_id":74161317,"comment_id":130937152,"body_markdown":"Not sure what you are asking, but the &quot;where does the value for val comes from on the right side of the equation&quot; so `val` on the right comes from the previous iteration of the loop.  The first iteration val is 0.  Next iteration it&#39;s the value of `d`.  After that it&#39;s the value of `d` times 16, after that it&#39;s d1*16*16 + d2 * 16, etc.  You can try printing out the value of `val` each loop, and you should also try doing some of the calculations by hand so you understand them better.","body":"Not sure what you are asking, but the &quot;where does the value for val comes from on the right side of the equation&quot; so <code>val</code> on the right comes from the previous iteration of the loop.  The first iteration val is 0.  Next iteration it&#39;s the value of <code>d</code>.  After that it&#39;s the value of <code>d</code> times 16, after that it&#39;s d1*16*16 + d2 * 16, etc.  You can try printing out the value of <code>val</code> each loop, and you should also try doing some of the calculations by hand so you understand them better."},{"owner":{"account_id":26699000,"reputation":1,"user_id":20306365,"display_name":"Rado"},"score":0,"creation_date":1666421828,"post_id":74161317,"comment_id":130937452,"body_markdown":"yup doing the actual math really helped thank you","body":"yup doing the actual math really helped thank you"}],"answers":[{"comments":[{"owner":{"account_id":26699000,"reputation":1,"user_id":20306365,"display_name":"Rado"},"score":0,"creation_date":1666422101,"post_id":74161458,"comment_id":130937474,"body_markdown":"it 100% was the logic I didnt understand","body":"it 100% was the logic I didnt understand"},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1666515310,"post_id":74161458,"comment_id":130951601,"body_markdown":"you can look it up on the internet: how to convert hex values into decimal. I am pretty sure there are a lot of sources to learn from","body":"you can look it up on the internet: how to convert hex values into decimal. I am pretty sure there are a lot of sources to learn from"}],"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419117,"creation_date":1666419117,"answer_id":74161458,"question_id":74161317,"body_markdown":"It seems like you didn&#39;t understand the logic behind this. \r\n\r\nBut let&#39;s assume you did and let&#39;s try break up the code:\r\n\r\n\r\nThe first thing is the String that you are working with. We have &quot;myhex&quot; String which is the hexadecimal representation of the value that we want to convert into decimal format.\r\n\r\n    String myhex=&quot;ABC&quot;;\r\n\r\nAnd we have another String &quot;digits&quot;. We use that String for our calculation with help of .indexOf(char character) method. It is a build-in method for Strings and used to find index of characters we are looking for. It returns the index of character we specified in brackets.(For example in &quot;digits&quot; String we have &#39;A&#39; character which is tenth in that String but if &#39;A&#39; was in the begining, it would return int 0.\r\n\r\n     String digits = &quot;0123456789ABCDEF&quot;; \r\n\r\nDon&#39;t forget that we have already declared an int &quot;val&quot; before the loop. So we won&#39;t loose the value in the loop section.\r\n\r\n    int val = 0;  \r\n\r\nThen we have a for loop and we set &quot;myhex&quot;&#39;s length as boundary of our loop. We go through characters of &quot;myhex&quot; by declaring a new character with .charAt(int index, which is 0 at the start of the loop and at the first execution we will have &#39;A&#39; as our first &quot;c&quot; char).\r\n\r\n    char c = myhex.charAt(i);\r\n\r\nAfter that we look which value it represents by assigning d \r\n\r\n    int d = digits.indexOf(c);  \r\n\r\nThe rest is just finding decimal value(base ten) -&gt; logic\r\n\r\n\r\nIf you have problems with understanding something. The first thing to do is figure out whether you have trouble with the logic or the code.\r\n\r\nDigit by digit\r\n\r\n    val = 16*val + d;\r\n\r\nAnd printing the decimal value after the loop\r\n\r\n    System.out.println(val);","title":"Please explain line of code for Hexadecimal to Decimal in java","body":"<p>It seems like you didn't understand the logic behind this.</p>\n<p>But let's assume you did and let's try break up the code:</p>\n<p>The first thing is the String that you are working with. We have &quot;myhex&quot; String which is the hexadecimal representation of the value that we want to convert into decimal format.</p>\n<pre><code>String myhex=&quot;ABC&quot;;\n</code></pre>\n<p>And we have another String &quot;digits&quot;. We use that String for our calculation with help of .indexOf(char character) method. It is a build-in method for Strings and used to find index of characters we are looking for. It returns the index of character we specified in brackets.(For example in &quot;digits&quot; String we have 'A' character which is tenth in that String but if 'A' was in the begining, it would return int 0.</p>\n<pre><code> String digits = &quot;0123456789ABCDEF&quot;; \n</code></pre>\n<p>Don't forget that we have already declared an int &quot;val&quot; before the loop. So we won't loose the value in the loop section.</p>\n<pre><code>int val = 0;  \n</code></pre>\n<p>Then we have a for loop and we set &quot;myhex&quot;'s length as boundary of our loop. We go through characters of &quot;myhex&quot; by declaring a new character with .charAt(int index, which is 0 at the start of the loop and at the first execution we will have 'A' as our first &quot;c&quot; char).</p>\n<pre><code>char c = myhex.charAt(i);\n</code></pre>\n<p>After that we look which value it represents by assigning d</p>\n<pre><code>int d = digits.indexOf(c);  \n</code></pre>\n<p>The rest is just finding decimal value(base ten) -&gt; logic</p>\n<p>If you have problems with understanding something. The first thing to do is figure out whether you have trouble with the logic or the code.</p>\n<p>Digit by digit</p>\n<pre><code>val = 16*val + d;\n</code></pre>\n<p>And printing the decimal value after the loop</p>\n<pre><code>System.out.println(val);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419699,"creation_date":1666419699,"answer_id":74161504,"question_id":74161317,"body_markdown":"Just to answer your question about the variable &#39;val&#39; on the right side of the equation.\r\n\r\n \r\n```\r\nval = (16 * val) * d;\r\n```\r\n**&#39;val&#39; is being redeclared to a new value by: val = (previous &#39;val&#39; times 16) plus the value of &#39;d&#39;.**\r\n\r\n\r\nThis is done every iteration, three times in this case for length 3 of &#39;myhex&#39;, of each character from my hex and checking if it exist in the digit string.\r\n\r\nHere&#39;s a modification of your code with comments that can help you understand the execution of the code through each iteration.\r\n\r\n```\r\npublic class JavaApplication {\r\n\tpublic static void main(String[] args)\t{\r\n\t    String digits = &quot;0123456789ABCDEF&quot;;\r\n\t    String myhex=&quot;ABC&quot;;\r\n\t    int val = 0;\r\n\t    \r\n\t    /* Iterate the length of the string myhex, in this case, 3 iterations */\r\n\t    for (int i = 0; i &lt; myhex.length(); i++)\t{\r\n\t    \t/* c is equals to the character at index &#39;i&#39; of myhex */\r\n\t    \tchar c = myhex.charAt(i);\r\n\t    \t\r\n\t    \t/* let d equal the index of the first occurence of &#39;c&#39; in digits */\r\n\t    \tint d = digits.indexOf(c);\r\n         \r\n\t    \t/* reassign val to (val * 16) + d */\r\n\t    \tval = 16 * val + d;\r\n\t    \tSystem.out.println(&quot;Value of &#39;val&#39; at iteration &quot; + i + &quot;:\\t&quot; + val); // print out val for every iteration of &#39;i&#39;\r\n       }\r\n\t    \r\n       System.out.println(&quot;final value of &#39;val&#39;: &quot; + val); // final value of val after all iterations\r\n    }\r\n}\r\n```","title":"Please explain line of code for Hexadecimal to Decimal in java","body":"<p>Just to answer your question about the variable 'val' on the right side of the equation.</p>\n<pre><code>val = (16 * val) * d;\n</code></pre>\n<p><strong>'val' is being redeclared to a new value by: val = (previous 'val' times 16) plus the value of 'd'.</strong></p>\n<p>This is done every iteration, three times in this case for length 3 of 'myhex', of each character from my hex and checking if it exist in the digit string.</p>\n<p>Here's a modification of your code with comments that can help you understand the execution of the code through each iteration.</p>\n<pre><code>public class JavaApplication {\n    public static void main(String[] args)  {\n        String digits = &quot;0123456789ABCDEF&quot;;\n        String myhex=&quot;ABC&quot;;\n        int val = 0;\n        \n        /* Iterate the length of the string myhex, in this case, 3 iterations */\n        for (int i = 0; i &lt; myhex.length(); i++)    {\n            /* c is equals to the character at index 'i' of myhex */\n            char c = myhex.charAt(i);\n            \n            /* let d equal the index of the first occurence of 'c' in digits */\n            int d = digits.indexOf(c);\n         \n            /* reassign val to (val * 16) + d */\n            val = 16 * val + d;\n            System.out.println(&quot;Value of 'val' at iteration &quot; + i + &quot;:\\t&quot; + val); // print out val for every iteration of 'i'\n       }\n        \n       System.out.println(&quot;final value of 'val': &quot; + val); // final value of val after all iterations\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26699000,"reputation":1,"user_id":20306365,"display_name":"Rado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666422385,"answer_count":2,"score":-1,"last_activity_date":1666419699,"creation_date":1666416896,"question_id":74161317,"body_markdown":"I am very new to coding and was presented with this java program that converts a hex number to decimal\r\nthe line of code I&#39;m having a really hard time grasping is this\r\n\r\n    val = 16*val + d;\r\n\r\nI hope someone can explain to me where does the value for val comes from on the right side of the equation, thank you in advance\r\n\r\n    /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\r\n     */\r\n    package javaapplication;\r\n    \r\n    /**\r\n     *\r\n     * @author Rado\r\n     */\r\n    public class JavaApplication {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args)\r\n    \r\n    {\r\n    \r\n        // TODO code application logic here\r\n    \r\n        String digits = &quot;0123456789ABCDEF&quot;;  \r\n    \r\n        String myhex=&quot;ABC&quot;;\r\n    \r\n           int val = 0;  \r\n    \r\n           for (int i = 0; i &lt; myhex.length(); i++)  \r\n    \r\n           {  \r\n    \r\n             char c = myhex.charAt(i);  \r\n    \r\n             int d = digits.indexOf(c);  \r\n             \r\n            \r\n    \r\n             val = 16*val + d;  \r\n    \r\n           }  \r\n    \r\n      System.out.println(val);\r\n    \r\n     }\r\n    }","title":"Please explain line of code for Hexadecimal to Decimal in java","body":"<p>I am very new to coding and was presented with this java program that converts a hex number to decimal\nthe line of code I'm having a really hard time grasping is this</p>\n<pre><code>val = 16*val + d;\n</code></pre>\n<p>I hope someone can explain to me where does the value for val comes from on the right side of the equation, thank you in advance</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\n */\npackage javaapplication;\n\n/**\n *\n * @author Rado\n */\npublic class JavaApplication {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args)\n\n{\n\n    // TODO code application logic here\n\n    String digits = &quot;0123456789ABCDEF&quot;;  \n\n    String myhex=&quot;ABC&quot;;\n\n       int val = 0;  \n\n       for (int i = 0; i &lt; myhex.length(); i++)  \n\n       {  \n\n         char c = myhex.charAt(i);  \n\n         int d = digits.indexOf(c);  \n         \n        \n\n         val = 16*val + d;  \n\n       }  \n\n  System.out.println(val);\n\n }\n}\n</code></pre>\n"},{"tags":["java","eclipse","user-interface","import","windowbuilder"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1579280904,"post_id":59789812,"comment_id":105726038,"body_markdown":"Right click on the file and look in the &#39;Open With...&#39; menu","body":"Right click on the file and look in the &#39;Open With...&#39; menu"}],"answers":[{"tags":[],"owner":{"account_id":17547010,"reputation":11,"user_id":12728079,"display_name":"juanSenna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579290032,"creation_date":1579290032,"answer_id":59793884,"question_id":59789812,"body_markdown":"Simply restarting Eclipse a couple times somehow made it work, everything good!","title":"Eclipse&#39;s Window Builder missing Design","body":"<p>Simply restarting Eclipse a couple times somehow made it work, everything good!</p>\n"},{"tags":[],"owner":{"account_id":19704886,"reputation":21,"user_id":14426798,"display_name":"Aleksandar Trifunovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419622,"creation_date":1666419622,"answer_id":74161498,"question_id":59789812,"body_markdown":"**Missing Source/Design tabs**\r\n\r\nWhen you open your Swing Project, follow these steps to show Source/Design tab:\r\n\r\n - Right click on your file `Swing.java` for example\r\n - Choose open with `Window Builder editor` \r\n\r\nThis will bring you back the `Source` and `Design` Panels","title":"Eclipse&#39;s Window Builder missing Design","body":"<p><strong>Missing Source/Design tabs</strong></p>\n<p>When you open your Swing Project, follow these steps to show Source/Design tab:</p>\n<ul>\n<li>Right click on your file <code>Swing.java</code> for example</li>\n<li>Choose open with <code>Window Builder editor</code></li>\n</ul>\n<p>This will bring you back the <code>Source</code> and <code>Design</code> Panels</p>\n"}],"owner":{"account_id":17547010,"reputation":11,"user_id":12728079,"display_name":"juanSenna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666419622,"creation_date":1579273071,"question_id":59789812,"body_markdown":"I have a simple Eclipse Java project that consists in only one Class made with Eclipse&#39;s Window Builder (Swing class). The coding was made on my notebook, and saved on cloud, so I could access It from my home&#39;s computer.\r\nWhen I opened this project in this home computer, I noticed I had not installed Window Builder on it yet, so I installed and restarted Eclipse.\r\n\r\nThe problem is that even tho I installed WB, Eclipse still doesn&#39;t show the *Design* tab on this class. Did I miss something?\r\n\r\n\r\n","title":"Eclipse&#39;s Window Builder missing Design","body":"<p>I have a simple Eclipse Java project that consists in only one Class made with Eclipse's Window Builder (Swing class). The coding was made on my notebook, and saved on cloud, so I could access It from my home's computer.\nWhen I opened this project in this home computer, I noticed I had not installed Window Builder on it yet, so I installed and restarted Eclipse.</p>\n\n<p>The problem is that even tho I installed WB, Eclipse still doesn't show the <em>Design</em> tab on this class. Did I miss something?</p>\n"},{"tags":["java","arrays","arraylist","boolean"],"answers":[{"tags":[],"owner":{"account_id":10298861,"reputation":111,"user_id":7598149,"display_name":"kesaven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666417252,"creation_date":1666417252,"answer_id":74161341,"question_id":74161293,"body_markdown":"    public static void main(String[] args) {\r\n\r\n        int array[] = {10, 20, 30, 10, 40, 50};\r\n        System.out.println(hasDuplicates(array));\r\n    }\r\n\r\n    public static boolean hasDuplicates(int[] array) {\r\n        var distinct = Arrays.stream(array).distinct().count();\r\n        return distinct != array.length;\r\n    }","title":"How do i find the duplicates in java array","body":"<pre><code>public static void main(String[] args) {\n\n    int array[] = {10, 20, 30, 10, 40, 50};\n    System.out.println(hasDuplicates(array));\n}\n\npublic static boolean hasDuplicates(int[] array) {\n    var distinct = Arrays.stream(array).distinct().count();\n    return distinct != array.length;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20730400,"reputation":11,"user_id":15222559,"display_name":"CatPawnD20"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666419100,"creation_date":1666417598,"answer_id":74161368,"question_id":74161293,"body_markdown":"your code return false because its stops when first cycle says its false \r\nand after that your for statement return false\r\ninstead of &quot;return false&quot; you can change a bit\r\n\r\n    public boolean hasDuplicates2() \r\n    {\r\n      bool hasDuclicates = false;\r\n      for (int i = 0; i &lt; array.length; i++) {\r\n       for (int i2 = i+1; i2 &lt; array.length - 1; i2++) {\r\n        if (array[i] == array[i2]) {\r\n         hasDuplicates = true;\r\n        }\r\n       }\r\n      }\r\n      return hasDuplicates;\r\n    }\r\n\r\nit may not be efficient by the way\r\n","title":"How do i find the duplicates in java array","body":"<p>your code return false because its stops when first cycle says its false\nand after that your for statement return false\ninstead of &quot;return false&quot; you can change a bit</p>\n<pre><code>public boolean hasDuplicates2() \n{\n  bool hasDuclicates = false;\n  for (int i = 0; i &lt; array.length; i++) {\n   for (int i2 = i+1; i2 &lt; array.length - 1; i2++) {\n    if (array[i] == array[i2]) {\n     hasDuplicates = true;\n    }\n   }\n  }\n  return hasDuplicates;\n}\n</code></pre>\n<p>it may not be efficient by the way</p>\n"},{"tags":[],"owner":{"account_id":26276087,"reputation":1,"user_id":20306396,"display_name":"Omkar G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666417814,"creation_date":1666417814,"answer_id":74161386,"question_id":74161293,"body_markdown":"So a couple of problems:\r\n\r\n1)You need to have array.length - 1 even in the first for loop, or you&#39;re going to go out of range at the last iteration.\r\n\r\n2)You&#39;re checking each and every element including the element itself - which means when i = i2, you&#39;re always going to satisfy the if condition, so you need to check for that as well.\r\n\r\nTry this:\r\n\r\n    public static boolean hasDuplicates2(int[] array) {\r\n        for (int i = 0; i &lt;= array.length - 1; i++) {\r\n            for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\r\n                if (i != i2 &amp;&amp; array[i] == array[i2]) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n","title":"How do i find the duplicates in java array","body":"<p>So a couple of problems:</p>\n<p>1)You need to have array.length - 1 even in the first for loop, or you're going to go out of range at the last iteration.</p>\n<p>2)You're checking each and every element including the element itself - which means when i = i2, you're always going to satisfy the if condition, so you need to check for that as well.</p>\n<p>Try this:</p>\n<pre><code>public static boolean hasDuplicates2(int[] array) {\n    for (int i = 0; i &lt;= array.length - 1; i++) {\n        for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\n            if (i != i2 &amp;&amp; array[i] == array[i2]) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":26453504,"reputation":11,"user_id":20096365,"display_name":"Clayton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666421224,"answer_count":3,"score":-1,"last_activity_date":1666419100,"creation_date":1666416443,"question_id":74161293,"body_markdown":"I am trying to make it so if there are any duplicates in the array, it turns true and if there is not it turns false. But, no matter what I do the if statement always turns in into false, even if there isn&#39;t a duplicate. This has to be done as a boolean.\r\n\r\n ```\r\n  int array[] = {10, 20, 30, 10, 40, 50};\r\n\r\n  public boolean hasDuplicates2() {\r\n    for (int i = 0; i &lt;= array.length; i++) {\r\n      for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\r\n        if (array[i] != array[i2]) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }","title":"How do i find the duplicates in java array","body":"<p>I am trying to make it so if there are any duplicates in the array, it turns true and if there is not it turns false. But, no matter what I do the if statement always turns in into false, even if there isn't a duplicate. This has to be done as a boolean.</p>\n<pre><code> int array[] = {10, 20, 30, 10, 40, 50};\n\n public boolean hasDuplicates2() {\n   for (int i = 0; i &lt;= array.length; i++) {\n     for (int i2 = 1; i2 &lt;= array.length - 1; i2++) {\n       if (array[i] != array[i2]) {\n         return false;\n       }\n     }\n   }\n   return true;\n }\n</code></pre>\n"},{"tags":["java","inner-classes"],"answers":[{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666418714,"creation_date":1666415658,"answer_id":74161243,"question_id":74161229,"body_markdown":"`Sibling1` and `Sibling2` aren&#39;t just siblings; they both **extend** the outer class (indirectly, via `AbstractNested`), and so they inherit the nested classes as members, just as they would  inherit methods or fields.\r\n\r\nSimplified example:\r\n\r\n\tclass Outer {\r\n\t\t\r\n\t    static class Inner extends Outer {}\r\n\r\n\t    void a() {\r\n\t    \tnew Inner.Inner.Inner.Inner.Inner.Inner.Inner();\r\n\t    }\r\n\t    \r\n\t}","title":"Why can sibling classes be referred to with dots from each other?","body":"<p><code>Sibling1</code> and <code>Sibling2</code> aren't just siblings; they both <strong>extend</strong> the outer class (indirectly, via <code>AbstractNested</code>), and so they inherit the nested classes as members, just as they would  inherit methods or fields.</p>\n<p>Simplified example:</p>\n<pre><code>class Outer {\n    \n    static class Inner extends Outer {}\n\n    void a() {\n        new Inner.Inner.Inner.Inner.Inner.Inner.Inner();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666415805,"creation_date":1666415805,"answer_id":74161252,"question_id":74161229,"body_markdown":"As Boann&#39;s answer,the reason is that both `Sibling1` and `Sibling2` are extends from `AbstractNested`,and `AbstractNested` are extends from `SomeClass`, so they are all subclass of `SomeClass`,which means `new Sibling1.Sibling2()` is similar to `new SomeClass.Sibling2()`\r\n\r\nIf you remove `extends` from `Someclass` or `Sibling1` it will not compile\r\n\r\n\r\nCase 1 (remove `extends` for `Sibling1`):\r\n\r\n    class SomeClass {\r\n    \r\n        abstract static class AbstractNested\r\n                extends SomeClass {\r\n    \r\n        }\r\n    \r\n        static class Sibling1 {\r\n    \r\n        }\r\n    \r\n        static class Sibling2\r\n                extends AbstractNested {\r\n    \r\n        }\r\n    \r\n        void a() {\r\n            new Sibling1.Sibling2(); // will not compile\r\n        }\r\n    }\r\n\r\nCase 2 (remove `extends` for `SomeClass`):\r\n\r\n    class SomeClass {\r\n    \r\n        abstract static class AbstractNested {\r\n    \r\n        }\r\n    \r\n        static class Sibling1\r\n                extends AbstractNested {\r\n    \r\n        }\r\n    \r\n        static class Sibling2\r\n                extends AbstractNested {\r\n    \r\n        }\r\n    \r\n        void a() {\r\n            new Sibling1.Sibling2(); // will not compile\r\n        }\r\n    }","title":"Why can sibling classes be referred to with dots from each other?","body":"<p>As Boann's answer,the reason is that both <code>Sibling1</code> and <code>Sibling2</code> are extends from <code>AbstractNested</code>,and <code>AbstractNested</code> are extends from <code>SomeClass</code>, so they are all subclass of <code>SomeClass</code>,which means <code>new Sibling1.Sibling2()</code> is similar to <code>new SomeClass.Sibling2()</code></p>\n<p>If you remove <code>extends</code> from <code>Someclass</code> or <code>Sibling1</code> it will not compile</p>\n<p>Case 1 (remove <code>extends</code> for <code>Sibling1</code>):</p>\n<pre><code>class SomeClass {\n\n    abstract static class AbstractNested\n            extends SomeClass {\n\n    }\n\n    static class Sibling1 {\n\n    }\n\n    static class Sibling2\n            extends AbstractNested {\n\n    }\n\n    void a() {\n        new Sibling1.Sibling2(); // will not compile\n    }\n}\n</code></pre>\n<p>Case 2 (remove <code>extends</code> for <code>SomeClass</code>):</p>\n<pre><code>class SomeClass {\n\n    abstract static class AbstractNested {\n\n    }\n\n    static class Sibling1\n            extends AbstractNested {\n\n    }\n\n    static class Sibling2\n            extends AbstractNested {\n\n    }\n\n    void a() {\n        new Sibling1.Sibling2(); // will not compile\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74161243,"answer_count":2,"score":1,"last_activity_date":1666418714,"creation_date":1666415381,"question_id":74161229,"body_markdown":"I just found a curious case.\r\n\r\n```java\r\nclass SomeClass {\r\n\r\n    abstract static class AbstractNested // for a templating purpose\r\n            extends SomeClass {\r\n\r\n    }\r\n\r\n    static class Sibling1\r\n            extends AbstractNested {\r\n\r\n    }\r\n\r\n    static class Sibling2\r\n            extends AbstractNested {\r\n\r\n    }\r\n\r\n    void a() {\r\n        new Sibling1.Sibling2(); // @@?\r\n    }\r\n}\r\n```\r\n\r\nWhy on earth does `new Sibling1.Sibling2();` work? How can I make it doesn&#39;t?","title":"Why can sibling classes be referred to with dots from each other?","body":"<p>I just found a curious case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeClass {\n\n    abstract static class AbstractNested // for a templating purpose\n            extends SomeClass {\n\n    }\n\n    static class Sibling1\n            extends AbstractNested {\n\n    }\n\n    static class Sibling2\n            extends AbstractNested {\n\n    }\n\n    void a() {\n        new Sibling1.Sibling2(); // @@?\n    }\n}\n</code></pre>\n<p>Why on earth does <code>new Sibling1.Sibling2();</code> work? How can I make it doesn't?</p>\n"},{"tags":["java","kotlin","ssh","jsch","private-key"],"answers":[{"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1656088135,"post_id":72745102,"comment_id":128494338,"body_markdown":"OP wrote that *&quot;Test connection in the terminal: `ssh -i /path/to/id_rsa username@example.host.com` - works fine&quot;*","body":"OP wrote that <i>&quot;Test connection in the terminal: <code>ssh -i &#47;path&#47;to&#47;id_rsa username@example.host.com</code> - works fine&quot;</i>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1656116207,"post_id":72745102,"comment_id":128500504,"body_markdown":"Even so.  I have seen far too many questions where someone says &quot;x worked fine&quot; ... and they go back and check ... and it doesn&#39;t anymore, or they were not doing &quot;x&quot; but &quot;y&quot;, or something.  My advice: **Check it again!**","body":"Even so.  I have seen far too many questions where someone says &quot;x worked fine&quot; ... and they go back and check ... and it doesn&#39;t anymore, or they were not doing &quot;x&quot; but &quot;y&quot;, or something.  My advice: <b>Check it again!</b>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656116792,"post_id":72745102,"comment_id":128500578,"body_markdown":"It is also possible that in &quot;sanitizing&quot; the problem for posting the problem on StackOverflow, the OP has accidentally obscured the real cause; e.g. typos in the user name, hostname, etc.  That also happens ...","body":"It is also possible that in &quot;sanitizing&quot; the problem for posting the problem on StackOverflow, the OP has accidentally obscured the real cause; e.g. typos in the user name, hostname, etc.  That also happens ..."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656116490,"creation_date":1656078693,"answer_id":72745102,"question_id":72743823,"body_markdown":"There are a few things that it could be.  For example:\r\n \r\n1.  Check that the ownership and permissions on `/home/username/.ssh` and `/home/username/.ssh/authorized_keys` are correct.  Both should be owned by `username` and should not group or world writeable.  The `sshd` on many systems will not allow login if the account is improperly secured.\r\n\r\n2.  Check that the `authorized_keys` file isn&#39;t mangled; e.g. newlines in the wrong place.\r\n\r\n3.  Check that you are starting the session with the correct host with the correct username.  \r\n\r\n4.  Check on the server that `/home/username` matches what `/etc/passwd` file says is the home directory for `username`.\r\n\r\n5.  Could you have triggered `fail2ban` or similar with repeated login attempts with incorrect credentials.\r\n\r\n----------------\r\n\r\nIf it is none of the above \r\n\r\n6. Look at the Jcsh log file.  Compare it with what happens when you connect by hand using `ssh -vvv`.\r\n\r\n7. Look in the server-side security log file to see if it tells you why `sshd` refused the login.\r\n\r\n8. Temporarily run `sshd` with full debugging enabled, and look for clues in the logs.\r\n\r\n","title":"Public key authentication fails with JSch but work with OpenSSH with the same key","body":"<p>There are a few things that it could be.  For example:</p>\n<ol>\n<li><p>Check that the ownership and permissions on <code>/home/username/.ssh</code> and <code>/home/username/.ssh/authorized_keys</code> are correct.  Both should be owned by <code>username</code> and should not group or world writeable.  The <code>sshd</code> on many systems will not allow login if the account is improperly secured.</p>\n</li>\n<li><p>Check that the <code>authorized_keys</code> file isn't mangled; e.g. newlines in the wrong place.</p>\n</li>\n<li><p>Check that you are starting the session with the correct host with the correct username.</p>\n</li>\n<li><p>Check on the server that <code>/home/username</code> matches what <code>/etc/passwd</code> file says is the home directory for <code>username</code>.</p>\n</li>\n<li><p>Could you have triggered <code>fail2ban</code> or similar with repeated login attempts with incorrect credentials.</p>\n</li>\n</ol>\n<hr />\n<p>If it is none of the above</p>\n<ol start=\"6\">\n<li><p>Look at the Jcsh log file.  Compare it with what happens when you connect by hand using <code>ssh -vvv</code>.</p>\n</li>\n<li><p>Look in the server-side security log file to see if it tells you why <code>sshd</code> refused the login.</p>\n</li>\n<li><p>Temporarily run <code>sshd</code> with full debugging enabled, and look for clues in the logs.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2761230,"reputation":484,"user_id":2378095,"accept_rate":50,"display_name":"Nicola Beghin"},"score":2,"creation_date":1677589963,"post_id":72771323,"comment_id":133364530,"body_markdown":"For everyone stumbling on this when using [Jenkins SSH plugin][1]:\n\n1. you can download the replacement library from https://repo1.maven.org/maven2/com/github/mwiede/jsch/0.2.7/jsch-0.2.7.jar \n2. replace the old library in the Docker container at `/var/jenkins_home/plugins/jsch/WEB-INF/lib/jsch-0.1.55.jar`\n\nas an example: `docker cp jsch-0.2.7.jar e6cd5d7516cd:/var/jenkins_home/plugins/jsch/WEB-INF/lib/jsch-0.1.55.jar`\n\nIt cannot be done at Docker build time since `/var/jenkins_home/` it&#39;s usually mounted as a persistent volume.\n\n  [1]: https://plugins.jenkins.io/ssh/","body":"For everyone stumbling on this when using [Jenkins SSH plugin][1]:  1. you can download the replacement library from <a href=\"https://repo1.maven.org/maven2/com/github/mwiede/jsch/0.2.7/jsch-0.2.7.jar\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/github/mwiede/jsch/0.2.7/&hellip;</a>  2. replace the old library in the Docker container at <code>&#47;var&#47;jenkins_home&#47;plugins&#47;jsch&#47;WEB-INF&#47;lib&#47;jsch-0.1.55.jar</code>  as an example: <code>docker cp jsch-0.2.7.jar e6cd5d7516cd:&#47;var&#47;jenkins_home&#47;plugins&#47;jsch&#47;WEB-INF&#47;lib&#47;jsch&zwnj;&#8203;-0.1.55.jar</code>  It cannot be done at Docker build time since <code>&#47;var&#47;jenkins_home&#47;</code> it&#39;s usually mounted as a persistent volume.    [1]: <a href=\"https://plugins.jenkins.io/ssh/\" rel=\"nofollow noreferrer\">plugins.jenkins.io/ssh</a>"}],"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1666416341,"creation_date":1656329192,"answer_id":72771323,"question_id":72743823,"body_markdown":"Your OpenSSH `ssh` connection is using `rsa-sha2-512` key signature. While that does not prove that your server requires it, it&#39;s quite probable that it does.\r\n\r\n---\r\n\r\nJSch does not support `rsa-sha2`. And as JSch seems not to be updated anymore, it quite likely never will.\r\n\r\nThere&#39;s a fork of JSch that does though:  \r\nhttps://github.com/mwiede/jsch  \r\nAt least test it, to verify that this is indeed the issue.\r\n\r\n---\r\n\r\nAnother (less secure obviously) option is to reconfigure the server not to require the `rsa-sha2` by adding *deprecated* `ssh-rsa` to [`PubkeyAcceptedAlgorithms`](https://man.openbsd.org/sshd_config#PubkeyAcceptedAlgorithms).\r\n\r\n---\r\n\r\nOthers might be getting the same error for different reasons. For example, when expecting the JSch to automatically pickup the default OpenSSH keys:  \r\nhttps://stackoverflow.com/q/65916546/850848","title":"Public key authentication fails with JSch but work with OpenSSH with the same key","body":"<p>Your OpenSSH <code>ssh</code> connection is using <code>rsa-sha2-512</code> key signature. While that does not prove that your server requires it, it's quite probable that it does.</p>\n<hr />\n<p>JSch does not support <code>rsa-sha2</code>. And as JSch seems not to be updated anymore, it quite likely never will.</p>\n<p>There's a fork of JSch that does though:<br />\n<a href=\"https://github.com/mwiede/jsch\" rel=\"noreferrer\">https://github.com/mwiede/jsch</a><br />\nAt least test it, to verify that this is indeed the issue.</p>\n<hr />\n<p>Another (less secure obviously) option is to reconfigure the server not to require the <code>rsa-sha2</code> by adding <em>deprecated</em> <code>ssh-rsa</code> to <a href=\"https://man.openbsd.org/sshd_config#PubkeyAcceptedAlgorithms\" rel=\"noreferrer\"><code>PubkeyAcceptedAlgorithms</code></a>.</p>\n<hr />\n<p>Others might be getting the same error for different reasons. For example, when expecting the JSch to automatically pickup the default OpenSSH keys:<br />\n<a href=\"https://stackoverflow.com/q/65916546/850848\">Getting &quot;com.jcraft.jsch.JSchException: Auth fail&quot; – but &quot;ssh&quot; can login using public key authentication</a></p>\n"}],"owner":{"account_id":16096215,"reputation":103,"user_id":11618307,"display_name":"koswag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15402,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72771323,"answer_count":2,"score":6,"last_activity_date":1666416341,"creation_date":1656072324,"question_id":72743823,"body_markdown":"I&#39;m trying to establish an SSH connection using Kotlin + JSch, but it fails with \r\n\r\n&gt; com.jcraft.jsch.jSchException: Auth fail\r\n\r\nSteps taken:\r\n\r\n1. Generate SSH key pair using `ssh-keygen -t rsa -m PEM` (OpenSSH version: `OpenSSH_8.2p1`)\r\n2. Append contents of generated `id_rsa.pub` to `/home/username/.ssh/authorized_keys` file on the server\r\n3. Test connection in the terminal: `ssh -i /path/to/id_rsa username@example.host.com` – works fine\r\n4. Execute the following Kotlin code:\r\n```\r\nimport com.jcraft.jsch.JSch\r\n\r\nconst val USER = &quot;username&quot;\r\nconst val HOST = &quot;example.host.com&quot;\r\nconst val IDENTITY = &quot;/path/to/id_rsa&quot;\r\n\r\n\r\nfun main() {\r\n    val jsch = JSch().apply {\r\n        addIdentity(IDENTITY)\r\n        setKnownHosts(&quot;/path/to/known_hosts&quot;)\r\n    }\r\n\r\n    jsch.getSession(USER, HOST)\r\n        .connect()\r\n}\r\n```\r\n\r\n...which fails with an exception:\r\n``` none\r\nException in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\r\n\tat com.jcraft.jsch.Session.connect(Session.java:519)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n\tat MainKt.main(Main.kt:18)\r\n\tat MainKt.main(Main.kt)\r\n```\r\n\r\nWhat can be the problem here?\r\n\r\nJSch log output:\r\n``` none\r\nINFO: Connecting to example.host.com port 22\r\nINFO: Connection established\r\nINFO: Remote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3\r\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\r\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: SSH_MSG_KEXINIT sent\r\nINFO: SSH_MSG_KEXINIT received\r\nINFO: kex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\nINFO: kex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: none,zlib@openssh.com\r\nINFO: kex: server: \r\nINFO: kex: server: \r\nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\nINFO: kex: client: none\r\nINFO: kex: client: none\r\nINFO: kex: client: \r\nINFO: kex: client: \r\nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\r\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\nINFO: SSH_MSG_KEX_ECDH_INIT sent\r\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\r\nINFO: Host &#39;example.host.com&#39; is known and matches the ECDSA host key\r\nINFO: SSH_MSG_NEWKEYS sent\r\nINFO: SSH_MSG_NEWKEYS received\r\nINFO: SSH_MSG_SERVICE_REQUEST sent\r\nINFO: SSH_MSG_SERVICE_ACCEPT received\r\nINFO: Authentications that can continue: publickey,keyboard-interactive,password\r\nINFO: Next authentication method: publickey\r\nINFO: Disconnecting from example.host.com port 22\r\nException in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\r\n\tat com.jcraft.jsch.Session.connect(Session.java:519)\r\n\tat com.jcraft.jsch.Session.connect(Session.java:183)\r\n\tat MainKt.main(Main.kt:37)\r\n\tat MainKt.main(Main.kt)\r\n```\r\n\r\n`ssh -vvv` output:\r\n``` none\r\nOpenSSH_8.2p1 Ubuntu-4, OpenSSL 1.1.1f  31 Mar 2020\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 19: include /etc/ssh/ssh_config.d/*.conf matched no files\r\ndebug1: /etc/ssh/ssh_config line 21: Applying options for *\r\ndebug2: resolving &quot;example.host.com&quot; port 22\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to example.host.com [51.83.250.141] port 22.\r\ndebug1: Connection established.\r\ndebug1: identity file /path/to/id_rsa type 0\r\ndebug1: identity file /path/to/id_rsa-cert type -1\r\ndebug1: Local version string SSH-2.0-OpenSSH_8.2p1 Ubuntu-4\r\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_8.9p1 Ubuntu-3\r\ndebug1: match: OpenSSH_8.9p1 Ubuntu-3 pat OpenSSH* compat 0x04000000\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: Authenticating to dev.sages.pl:22 as &#39;sages-devops&#39;\r\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\r\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\r\ndebug3: load_hostkeys: loaded 1 keys from example.host.com\r\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\ndebug3: send packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT sent\r\ndebug3: receive packet: type 20\r\ndebug1: SSH2_MSG_KEXINIT received\r\ndebug2: local client KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\r\ndebug2: host key algorithms: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,ssh-ed25519,sk-ssh-ed25519@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com,zlib\r\ndebug2: compression stoc: none,zlib@openssh.com,zlib\r\ndebug2: languages ctos:\r\ndebug2: languages stoc:\r\ndebug2: first_kex_follows 0\r\ndebug2: reserved 0\r\ndebug2: peer server KEXINIT proposal\r\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\ndebug2: host key algorithms: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\r\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\r\ndebug2: compression ctos: none,zlib@openssh.com\r\ndebug2: compression stoc: none,zlib@openssh.com\r\ndebug2: languages ctos:\r\ndebug2: languages stoc:\r\ndebug2: first_kex_follows 0\r\ndebug2: reserved 0\r\ndebug1: kex: algorithm: curve25519-sha256\r\ndebug1: kex: host key algorithm: ecdsa-sha2-nistp256\r\ndebug1: kex: server-&gt;client cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\r\ndebug1: kex: client-&gt;server cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\r\ndebug3: send packet: type 30\r\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\r\ndebug3: receive packet: type 31\r\ndebug1: Server host key: ecdsa-sha2-nistp256 SHA256:QcwhazMtZl/qgVMu6FLP+vLtUEmo6yDULBaK8+4SHnI\r\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\r\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\r\ndebug3: load_hostkeys: loaded 1 keys from dev.sages.pl\r\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\r\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:6\r\ndebug3: load_hostkeys: loaded 1 keys from 51.83.250.141\r\ndebug1: Host &#39;example.host.com&#39; is known and matches the ECDSA host key.\r\ndebug1: Found key in /path/to/known_hosts:5\r\ndebug3: send packet: type 21\r\ndebug2: set_newkeys: mode 1\r\ndebug1: rekey out after 134217728 blocks\r\ndebug1: SSH2_MSG_NEWKEYS sent\r\ndebug1: expecting SSH2_MSG_NEWKEYS\r\ndebug3: receive packet: type 21\r\ndebug1: SSH2_MSG_NEWKEYS received\r\ndebug2: set_newkeys: mode 0\r\ndebug1: rekey in after 134217728 blocks\r\ndebug1: Will attempt key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\r\ndebug2: pubkey_prepare: done\r\ndebug3: send packet: type 5\r\ndebug3: receive packet: type 7\r\ndebug1: SSH2_MSG_EXT_INFO received\r\ndebug1: kex_input_ext_info: server-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com&gt;\r\ndebug1: kex_input_ext_info: publickey-hostbound@openssh.com (unrecognised)\r\ndebug3: receive packet: type 6\r\ndebug2: service_accept: ssh-userauth\r\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 51\r\ndebug1: Authentications that can continue: publickey\r\ndebug3: start over, passed a different list publickey\r\ndebug3: preferred gssapi-with-mic,publickey,keyboard-interactive,password\r\ndebug3: authmethod_lookup publickey\r\ndebug3: remaining preferred: keyboard-interactive,password\r\ndebug3: authmethod_is_enabled publickey\r\ndebug1: Next authentication method: publickey\r\ndebug1: Offering public key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\r\ndebug3: send packet: type 50\r\ndebug2: we sent a publickey packet, wait for reply\r\ndebug3: receive packet: type 60\r\ndebug1: Server accepts key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\r\ndebug3: sign_and_send_pubkey: RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\r\ndebug3: sign_and_send_pubkey: signing using rsa-sha2-512 SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\r\ndebug3: send packet: type 50\r\ndebug3: receive packet: type 52\r\ndebug1: Authentication succeeded (publickey).\r\nAuthenticated to example.host.com ([51.83.250.141]:22).\r\ndebug1: channel 0: new [client-session]\r\ndebug3: ssh_session2_open: channel_new: 0\r\ndebug2: channel 0: send open\r\ndebug3: send packet: type 90\r\ndebug1: Requesting no-more-sessions@openssh.com\r\ndebug3: send packet: type 80\r\ndebug1: Entering interactive session.\r\ndebug1: pledge: network\r\ndebug3: receive packet: type 80\r\ndebug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0\r\ndebug3: receive packet: type 4\r\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\r\ndebug3: receive packet: type 4\r\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\r\ndebug3: receive packet: type 91\r\ndebug2: channel_input_open_confirmation: channel 0: callback start\r\ndebug2: fd 3 setting TCP_NODELAY\r\ndebug3: ssh_packet_set_tos: set IP_TOS 0x10\r\ndebug2: client_session2_setup: id 0\r\ndebug2: channel 0: request pty-req confirm 1\r\ndebug3: send packet: type 98\r\ndebug1: Sending environment.\r\ndebug3: Ignored env SHELL\r\ndebug3: Ignored env WSL_DISTRO_NAME\r\ndebug3: Ignored env JAVA_HOME\r\ndebug3: Ignored env SDKMAN_CANDIDATES_DIR\r\ndebug3: Ignored env NAME\r\ndebug3: Ignored env PWD\r\ndebug3: Ignored env LOGNAME\r\ndebug3: Ignored env HOME\r\ndebug1: Sending env LANG = C.UTF-8\r\ndebug2: channel 0: request env confirm 0\r\ndebug3: send packet: type 98\r\ndebug3: Ignored env WSL_INTEROP\r\ndebug3: Ignored env LS_COLORS\r\ndebug3: Ignored env WAYLAND_DISPLAY\r\ndebug3: Ignored env SDKMAN_VERSION\r\ndebug3: Ignored env LESSCLOSE\r\ndebug3: Ignored env TERM\r\ndebug3: Ignored env LESSOPEN\r\ndebug3: Ignored env USER\r\ndebug3: Ignored env SDKMAN_DIR\r\ndebug3: Ignored env DISPLAY\r\ndebug3: Ignored env SHLVL\r\ndebug3: Ignored env SDKMAN_CANDIDATES_API\r\ndebug3: Ignored env XDG_RUNTIME_DIR\r\ndebug3: Ignored env WSLENV\r\ndebug3: Ignored env XDG_DATA_DIRS\r\ndebug3: Ignored env PATH\r\ndebug3: Ignored env SDKMAN_PLATFORM\r\ndebug3: Ignored env HOSTTYPE\r\ndebug3: Ignored env PULSE_SERVER\r\ndebug3: Ignored env _\r\ndebug2: channel 0: request shell confirm 1\r\ndebug3: send packet: type 98\r\ndebug2: channel_input_open_confirmation: channel 0: callback done\r\ndebug2: channel 0: open confirm rwindow 0 rmax 32768\r\ndebug3: receive packet: type 99\r\ndebug2: channel_input_status_confirm: type 99 id 0\r\ndebug2: PTY allocation request accepted on channel 0\r\ndebug2: channel 0: rcvd adjust 2097152\r\ndebug3: receive packet: type 99\r\ndebug2: channel_input_status_confirm: type 99 id 0\r\ndebug2: shell request accepted on channel 0\r\n```","title":"Public key authentication fails with JSch but work with OpenSSH with the same key","body":"<p>I'm trying to establish an SSH connection using Kotlin + JSch, but it fails with</p>\n<blockquote>\n<p>com.jcraft.jsch.jSchException: Auth fail</p>\n</blockquote>\n<p>Steps taken:</p>\n<ol>\n<li>Generate SSH key pair using <code>ssh-keygen -t rsa -m PEM</code> (OpenSSH version: <code>OpenSSH_8.2p1</code>)</li>\n<li>Append contents of generated <code>id_rsa.pub</code> to <code>/home/username/.ssh/authorized_keys</code> file on the server</li>\n<li>Test connection in the terminal: <code>ssh -i /path/to/id_rsa username@example.host.com</code> – works fine</li>\n<li>Execute the following Kotlin code:</li>\n</ol>\n<pre><code>import com.jcraft.jsch.JSch\n\nconst val USER = &quot;username&quot;\nconst val HOST = &quot;example.host.com&quot;\nconst val IDENTITY = &quot;/path/to/id_rsa&quot;\n\n\nfun main() {\n    val jsch = JSch().apply {\n        addIdentity(IDENTITY)\n        setKnownHosts(&quot;/path/to/known_hosts&quot;)\n    }\n\n    jsch.getSession(USER, HOST)\n        .connect()\n}\n</code></pre>\n<p>...which fails with an exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\n    at com.jcraft.jsch.Session.connect(Session.java:519)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at MainKt.main(Main.kt:18)\n    at MainKt.main(Main.kt)\n</code></pre>\n<p>What can be the problem here?</p>\n<p>JSch log output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Connecting to example.host.com port 22\nINFO: Connection established\nINFO: Remote version string: SSH-2.0-OpenSSH_8.9p1 Ubuntu-3\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\nINFO: kex: server: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: kex: server: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: none,zlib@openssh.com\nINFO: kex: server: \nINFO: kex: server: \nINFO: kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: none\nINFO: kex: client: none\nINFO: kex: client: \nINFO: kex: client: \nINFO: kex: server-&gt;client aes128-ctr hmac-sha1 none\nINFO: kex: client-&gt;server aes128-ctr hmac-sha1 none\nINFO: SSH_MSG_KEX_ECDH_INIT sent\nINFO: expecting SSH_MSG_KEX_ECDH_REPLY\nINFO: Host 'example.host.com' is known and matches the ECDSA host key\nINFO: SSH_MSG_NEWKEYS sent\nINFO: SSH_MSG_NEWKEYS received\nINFO: SSH_MSG_SERVICE_REQUEST sent\nINFO: SSH_MSG_SERVICE_ACCEPT received\nINFO: Authentications that can continue: publickey,keyboard-interactive,password\nINFO: Next authentication method: publickey\nINFO: Disconnecting from example.host.com port 22\nException in thread &quot;main&quot; com.jcraft.jsch.JSchException: Auth fail\n    at com.jcraft.jsch.Session.connect(Session.java:519)\n    at com.jcraft.jsch.Session.connect(Session.java:183)\n    at MainKt.main(Main.kt:37)\n    at MainKt.main(Main.kt)\n</code></pre>\n<p><code>ssh -vvv</code> output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OpenSSH_8.2p1 Ubuntu-4, OpenSSL 1.1.1f  31 Mar 2020\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: /etc/ssh/ssh_config line 19: include /etc/ssh/ssh_config.d/*.conf matched no files\ndebug1: /etc/ssh/ssh_config line 21: Applying options for *\ndebug2: resolving &quot;example.host.com&quot; port 22\ndebug2: ssh_connect_direct\ndebug1: Connecting to example.host.com [51.83.250.141] port 22.\ndebug1: Connection established.\ndebug1: identity file /path/to/id_rsa type 0\ndebug1: identity file /path/to/id_rsa-cert type -1\ndebug1: Local version string SSH-2.0-OpenSSH_8.2p1 Ubuntu-4\ndebug1: Remote protocol version 2.0, remote software version OpenSSH_8.9p1 Ubuntu-3\ndebug1: match: OpenSSH_8.9p1 Ubuntu-3 pat OpenSSH* compat 0x04000000\ndebug2: fd 3 setting O_NONBLOCK\ndebug1: Authenticating to dev.sages.pl:22 as 'sages-devops'\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\ndebug3: load_hostkeys: loaded 1 keys from example.host.com\ndebug3: order_hostkeyalgs: prefer hostkeyalgs: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\ndebug3: send packet: type 20\ndebug1: SSH2_MSG_KEXINIT sent\ndebug3: receive packet: type 20\ndebug1: SSH2_MSG_KEXINIT received\ndebug2: local client KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256,ext-info-c\ndebug2: host key algorithms: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256-cert-v01@openssh.com,ssh-ed25519-cert-v01@openssh.com,sk-ssh-ed25519-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ssh-rsa-cert-v01@openssh.com,sk-ecdsa-sha2-nistp256@openssh.com,ssh-ed25519,sk-ssh-ed25519@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com,zlib\ndebug2: compression stoc: none,zlib@openssh.com,zlib\ndebug2: languages ctos:\ndebug2: languages stoc:\ndebug2: first_kex_follows 0\ndebug2: reserved 0\ndebug2: peer server KEXINIT proposal\ndebug2: KEX algorithms: curve25519-sha256,curve25519-sha256@libssh.org,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,sntrup761x25519-sha512@openssh.com,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\ndebug2: host key algorithms: rsa-sha2-512,rsa-sha2-256,ecdsa-sha2-nistp256,ssh-ed25519\ndebug2: ciphers ctos: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: ciphers stoc: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\ndebug2: MACs ctos: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: MACs stoc: umac-64-etm@openssh.com,umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha1-etm@openssh.com,umac-64@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512,hmac-sha1\ndebug2: compression ctos: none,zlib@openssh.com\ndebug2: compression stoc: none,zlib@openssh.com\ndebug2: languages ctos:\ndebug2: languages stoc:\ndebug2: first_kex_follows 0\ndebug2: reserved 0\ndebug1: kex: algorithm: curve25519-sha256\ndebug1: kex: host key algorithm: ecdsa-sha2-nistp256\ndebug1: kex: server-&gt;client cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\ndebug1: kex: client-&gt;server cipher: chacha20-poly1305@openssh.com MAC: &lt;implicit&gt; compression: none\ndebug3: send packet: type 30\ndebug1: expecting SSH2_MSG_KEX_ECDH_REPLY\ndebug3: receive packet: type 31\ndebug1: Server host key: ecdsa-sha2-nistp256 SHA256:QcwhazMtZl/qgVMu6FLP+vLtUEmo6yDULBaK8+4SHnI\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:5\ndebug3: load_hostkeys: loaded 1 keys from dev.sages.pl\ndebug3: hostkeys_foreach: reading file &quot;/path/to/known_hosts&quot;\ndebug3: record_hostkey: found key type ECDSA in file /path/to/known_hosts:6\ndebug3: load_hostkeys: loaded 1 keys from 51.83.250.141\ndebug1: Host 'example.host.com' is known and matches the ECDSA host key.\ndebug1: Found key in /path/to/known_hosts:5\ndebug3: send packet: type 21\ndebug2: set_newkeys: mode 1\ndebug1: rekey out after 134217728 blocks\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug3: receive packet: type 21\ndebug1: SSH2_MSG_NEWKEYS received\ndebug2: set_newkeys: mode 0\ndebug1: rekey in after 134217728 blocks\ndebug1: Will attempt key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\ndebug2: pubkey_prepare: done\ndebug3: send packet: type 5\ndebug3: receive packet: type 7\ndebug1: SSH2_MSG_EXT_INFO received\ndebug1: kex_input_ext_info: server-sig-algs=&lt;ssh-ed25519,sk-ssh-ed25519@openssh.com,ssh-rsa,rsa-sha2-256,rsa-sha2-512,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,webauthn-sk-ecdsa-sha2-nistp256@openssh.com&gt;\ndebug1: kex_input_ext_info: publickey-hostbound@openssh.com (unrecognised)\ndebug3: receive packet: type 6\ndebug2: service_accept: ssh-userauth\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug3: send packet: type 50\ndebug3: receive packet: type 51\ndebug1: Authentications that can continue: publickey\ndebug3: start over, passed a different list publickey\ndebug3: preferred gssapi-with-mic,publickey,keyboard-interactive,password\ndebug3: authmethod_lookup publickey\ndebug3: remaining preferred: keyboard-interactive,password\ndebug3: authmethod_is_enabled publickey\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\ndebug3: send packet: type 50\ndebug2: we sent a publickey packet, wait for reply\ndebug3: receive packet: type 60\ndebug1: Server accepts key: /path/to/id_rsa RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU explicit\ndebug3: sign_and_send_pubkey: RSA SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\ndebug3: sign_and_send_pubkey: signing using rsa-sha2-512 SHA256:FxKSoi+/DPu0D6JZczCPMdydLyWuuKFFPeMEzdsiFkU\ndebug3: send packet: type 50\ndebug3: receive packet: type 52\ndebug1: Authentication succeeded (publickey).\nAuthenticated to example.host.com ([51.83.250.141]:22).\ndebug1: channel 0: new [client-session]\ndebug3: ssh_session2_open: channel_new: 0\ndebug2: channel 0: send open\ndebug3: send packet: type 90\ndebug1: Requesting no-more-sessions@openssh.com\ndebug3: send packet: type 80\ndebug1: Entering interactive session.\ndebug1: pledge: network\ndebug3: receive packet: type 80\ndebug1: client_input_global_request: rtype hostkeys-00@openssh.com want_reply 0\ndebug3: receive packet: type 4\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\ndebug3: receive packet: type 4\ndebug1: Remote: /home/username/.ssh/authorized_keys:1: key options: agent-forwarding port-forwarding pty user-rc x11-forwarding\ndebug3: receive packet: type 91\ndebug2: channel_input_open_confirmation: channel 0: callback start\ndebug2: fd 3 setting TCP_NODELAY\ndebug3: ssh_packet_set_tos: set IP_TOS 0x10\ndebug2: client_session2_setup: id 0\ndebug2: channel 0: request pty-req confirm 1\ndebug3: send packet: type 98\ndebug1: Sending environment.\ndebug3: Ignored env SHELL\ndebug3: Ignored env WSL_DISTRO_NAME\ndebug3: Ignored env JAVA_HOME\ndebug3: Ignored env SDKMAN_CANDIDATES_DIR\ndebug3: Ignored env NAME\ndebug3: Ignored env PWD\ndebug3: Ignored env LOGNAME\ndebug3: Ignored env HOME\ndebug1: Sending env LANG = C.UTF-8\ndebug2: channel 0: request env confirm 0\ndebug3: send packet: type 98\ndebug3: Ignored env WSL_INTEROP\ndebug3: Ignored env LS_COLORS\ndebug3: Ignored env WAYLAND_DISPLAY\ndebug3: Ignored env SDKMAN_VERSION\ndebug3: Ignored env LESSCLOSE\ndebug3: Ignored env TERM\ndebug3: Ignored env LESSOPEN\ndebug3: Ignored env USER\ndebug3: Ignored env SDKMAN_DIR\ndebug3: Ignored env DISPLAY\ndebug3: Ignored env SHLVL\ndebug3: Ignored env SDKMAN_CANDIDATES_API\ndebug3: Ignored env XDG_RUNTIME_DIR\ndebug3: Ignored env WSLENV\ndebug3: Ignored env XDG_DATA_DIRS\ndebug3: Ignored env PATH\ndebug3: Ignored env SDKMAN_PLATFORM\ndebug3: Ignored env HOSTTYPE\ndebug3: Ignored env PULSE_SERVER\ndebug3: Ignored env _\ndebug2: channel 0: request shell confirm 1\ndebug3: send packet: type 98\ndebug2: channel_input_open_confirmation: channel 0: callback done\ndebug2: channel 0: open confirm rwindow 0 rmax 32768\ndebug3: receive packet: type 99\ndebug2: channel_input_status_confirm: type 99 id 0\ndebug2: PTY allocation request accepted on channel 0\ndebug2: channel 0: rcvd adjust 2097152\ndebug3: receive packet: type 99\ndebug2: channel_input_status_confirm: type 99 id 0\ndebug2: shell request accepted on channel 0\n</code></pre>\n"},{"tags":["java","cyclic-reference","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":1264677,"reputation":3196,"user_id":1222240,"accept_rate":91,"display_name":"valepu"},"score":0,"creation_date":1459414724,"post_id":36277942,"comment_id":60279641,"body_markdown":"I wish i did! One could either do a-la-Hibernate: use a wrapper class and when the getter is called convert it on the spot. Or, as stated by the creator of the issue, use a map to hold already converted items, and when you find an object already converted earlier during the conversion process use that one in the setter rather than convert a new one. But i&#39;m really not expert enough to make such suggestions with ease","body":"I wish i did! One could either do a-la-Hibernate: use a wrapper class and when the getter is called convert it on the spot. Or, as stated by the creator of the issue, use a map to hold already converted items, and when you find an object already converted earlier during the conversion process use that one in the setter rather than convert a new one. But i&#39;m really not expert enough to make such suggestions with ease"},{"owner":{"account_id":9336021,"reputation":134,"user_id":6930182,"accept_rate":100,"display_name":"inrandomwetrust"},"score":0,"creation_date":1684780684,"post_id":36277942,"comment_id":134563975,"body_markdown":"I think this answer is out-dated","body":"I think this answer is out-dated"}],"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1459236281,"creation_date":1459236281,"answer_id":36277942,"question_id":36223752,"body_markdown":"There is no detection or special handling of cases like this in MapStruct yet, but there is a feature request for it: [#469](https://github.com/mapstruct/mapstruct/issues/469). If you got any ideas how to deal with cycles, please drop a comment at that issue.","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>There is no detection or special handling of cases like this in MapStruct yet, but there is a feature request for it: <a href=\"https://github.com/mapstruct/mapstruct/issues/469\" rel=\"noreferrer\">#469</a>. If you got any ideas how to deal with cycles, please drop a comment at that issue.</p>\n"},{"comments":[{"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"score":6,"creation_date":1487716302,"post_id":42232940,"comment_id":71907743,"body_markdown":"An alternative possible as of MapStruct 1.2.0.Beta1 (released yesterday) would be to use a context parameter which keeps track of objects already mapped. You can find a complete example showing how to do this [here](https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example).","body":"An alternative possible as of MapStruct 1.2.0.Beta1 (released yesterday) would be to use a context parameter which keeps track of objects already mapped. You can find a complete example showing how to do this <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"score":1,"creation_date":1580894968,"post_id":42232940,"comment_id":106244509,"body_markdown":"And what do I do with that Context thing? How do I instantiate it, where do I pass it when invoking the mapper method?","body":"And what do I do with that Context thing? How do I instantiate it, where do I pass it when invoking the mapper method?"},{"owner":{"account_id":3121794,"reputation":1037,"user_id":2641426,"display_name":"DependencyHell"},"score":1,"creation_date":1608544684,"post_id":42232940,"comment_id":115606984,"body_markdown":"instead of using `expression=&quot;java(null)&quot;`, you can use `ignore = true`","body":"instead of using <code>expression=&quot;java(null)&quot;</code>, you can use <code>ignore = true</code>"},{"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"score":2,"creation_date":1631159050,"post_id":42232940,"comment_id":122149156,"body_markdown":"Shouldn&#39;t the `FatherDto` have a `List&lt;ChildDto&gt;` instead of a `List&lt;Child&gt;`?","body":"Shouldn&#39;t the <code>FatherDto</code> have a <code>List&lt;ChildDto&gt;</code> instead of a <code>List&lt;Child&gt;</code>?"},{"owner":{"account_id":1928385,"reputation":1014,"user_id":1738332,"accept_rate":89,"display_name":"Wesley De Keirsmaeker"},"score":0,"creation_date":1632226372,"post_id":42232940,"comment_id":122430351,"body_markdown":"childDto.setFather expects a FatherDto, NOT a Father","body":"childDto.setFather expects a FatherDto, NOT a Father"},{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":1,"creation_date":1653596786,"post_id":42232940,"comment_id":127896299,"body_markdown":"I think it is lacking the Mappings at FatherMapper at Update 2.","body":"I think it is lacking the Mappings at FatherMapper at Update 2."},{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":0,"creation_date":1653597071,"post_id":42232940,"comment_id":127896391,"body_markdown":"it solves the issue at data access level and at json level.\n\nUnfortunately, this strategy is some cumbersome, for example the use case of Father -&gt; Child -&gt; Pet.","body":"it solves the issue at data access level and at json level.  Unfortunately, this strategy is some cumbersome, for example the use case of Father -&gt; Child -&gt; Pet."}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":7,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1666415536,"creation_date":1487094641,"answer_id":42232940,"question_id":36223752,"body_markdown":"Notifica and Avvisinotifica are not helping me understand your models. Thus lets say you have the above Child and Father models,\r\n  \r\n    public class Child {\r\n        private int id;\r\n        private Father father;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }\r\n\r\n    public class Father {\r\n        private int x;\r\n        private List&lt;Child&gt; children;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }\r\n\r\n    public class ChildDto {\r\n        private int id;\r\n        private FatherDto father;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }\r\n\r\n    public class FatherDto {\r\n        private int id;\r\n        private List&lt;ChildDto&gt; children;\r\n        // Empty constructor and getter/setter methods omitted.\r\n    }  \r\n  \r\nYou should create a Mapper like this,\r\n  \r\n    @Mapper\r\n    public abstract class ChildMapper {\r\n\r\n        @AfterMapping\r\n        protected void ignoreFathersChildren(Child child, @MappingTarget ChildDto childDto) {\r\n            childDto.getFather().setChildren(null);\r\n        }\r\n\r\n        public abstract ChildDto myMethod(Child child);\r\n    }\r\n  \r\n\r\n\r\nInitial Version of Mapstuct\r\n===\r\n\r\nIt is better to follow the next ways. This solution assumes that the ChildDto::father property is of type Father, not FatherDto, which is not a correct data architecture.  \r\nThe [@AfterMapping](http://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after) annotation means that the method will be imported inside the generated source, after the mapping of the properties. Thus, the Mapper implementation will be like this,\r\n  \r\n    @Component\r\n    public class ChildMapperImpl extends ChildMapper {\r\n\r\n        @Override\r\n        public ChildDto myMethod(Child child) {\r\n            if ( child == null ) {\r\n                return null;\r\n            }\r\n\r\n            ChildDto childDto = new ChildDto();\r\n\r\n            childDto.setId( child.getId() );\r\n            childDto.setFather( child.getFather() );\r\n\r\n            ignoreFathersChildren( child, childDto );\r\n\r\n            return childDto;\r\n        }\r\n    }\r\n\r\nIn this implementation the child has the parent set. This means that a cycle reference exists, but using the `ignoreFathersChildren(child, childDto)` method we remove the reference (we set it as null).\r\n  \r\n\r\nUpdate 1\r\n===\r\nUsing the mapstruct version 1.2.0.Final you can do it better,\r\n  \r\n    @Mapper\r\n    public interface ChildMapper {\r\n\r\n        @Mappings({\r\n    //         @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;),\r\n             @Mapping(target = &quot;father&quot;, qualifiedByName = &quot;fatherToFatherDto&quot;)})\r\n        ChildDto childToChildDto(Child child);\r\n\r\n        @Named(&quot;fatherToFatherDto&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\r\n        FatherDto fatherToFatherDto(Father father);\r\n    }\r\n\r\n\r\nUpdate 2\r\n===\r\nUsing the mapstruct version 1.4.2.Final you can do it even better,\r\n  \r\n    @Named(&quot;FatherMapper&quot;)\r\n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    public interface FatherMapper {\r\n\r\n        @Named(&quot;toDto&quot;)\r\n        @Mappings\r\n        FatherDto toDto(Father father);\r\n\r\n        @Named(&quot;toDtoWithoutChildren&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\r\n        FatherDto toDtoWithoutChildren(Father father);\r\n    }\r\n  \r\n    @Named(&quot;ChildMapper&quot;)\r\n    @Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = {FatherMapper.class})\r\n    public interface ChildMapper {\r\n\r\n        @Named(&quot;toDto&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;father&quot;, qualifiedByName = {&quot;FatherMapper&quot;, &quot;toDtoWithoutChildren&quot;})})\r\n        ChildDto toDto(Child child);\r\n\r\n        @Named(&quot;toDtoWithoutFather&quot;)\r\n        @Mappings({\r\n             @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;)})\r\n        ChildDto toDtoWithoutFather(Child child);\r\n    }\r\n","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>Notifica and Avvisinotifica are not helping me understand your models. Thus lets say you have the above Child and Father models,</p>\n<pre><code>public class Child {\n    private int id;\n    private Father father;\n    // Empty constructor and getter/setter methods omitted.\n}\n\npublic class Father {\n    private int x;\n    private List&lt;Child&gt; children;\n    // Empty constructor and getter/setter methods omitted.\n}\n\npublic class ChildDto {\n    private int id;\n    private FatherDto father;\n    // Empty constructor and getter/setter methods omitted.\n}\n\npublic class FatherDto {\n    private int id;\n    private List&lt;ChildDto&gt; children;\n    // Empty constructor and getter/setter methods omitted.\n}  \n</code></pre>\n<p>You should create a Mapper like this,</p>\n<pre><code>@Mapper\npublic abstract class ChildMapper {\n\n    @AfterMapping\n    protected void ignoreFathersChildren(Child child, @MappingTarget ChildDto childDto) {\n        childDto.getFather().setChildren(null);\n    }\n\n    public abstract ChildDto myMethod(Child child);\n}\n</code></pre>\n<h1>Initial Version of Mapstuct</h1>\n<p>It is better to follow the next ways. This solution assumes that the ChildDto::father property is of type Father, not FatherDto, which is not a correct data architecture.<br />\nThe <a href=\"http://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\" rel=\"nofollow noreferrer\">@AfterMapping</a> annotation means that the method will be imported inside the generated source, after the mapping of the properties. Thus, the Mapper implementation will be like this,</p>\n<pre><code>@Component\npublic class ChildMapperImpl extends ChildMapper {\n\n    @Override\n    public ChildDto myMethod(Child child) {\n        if ( child == null ) {\n            return null;\n        }\n\n        ChildDto childDto = new ChildDto();\n\n        childDto.setId( child.getId() );\n        childDto.setFather( child.getFather() );\n\n        ignoreFathersChildren( child, childDto );\n\n        return childDto;\n    }\n}\n</code></pre>\n<p>In this implementation the child has the parent set. This means that a cycle reference exists, but using the <code>ignoreFathersChildren(child, childDto)</code> method we remove the reference (we set it as null).</p>\n<h1>Update 1</h1>\n<p>Using the mapstruct version 1.2.0.Final you can do it better,</p>\n<pre><code>@Mapper\npublic interface ChildMapper {\n\n    @Mappings({\n//         @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;),\n         @Mapping(target = &quot;father&quot;, qualifiedByName = &quot;fatherToFatherDto&quot;)})\n    ChildDto childToChildDto(Child child);\n\n    @Named(&quot;fatherToFatherDto&quot;)\n    @Mappings({\n         @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\n    FatherDto fatherToFatherDto(Father father);\n}\n</code></pre>\n<h1>Update 2</h1>\n<p>Using the mapstruct version 1.4.2.Final you can do it even better,</p>\n<pre><code>@Named(&quot;FatherMapper&quot;)\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface FatherMapper {\n\n    @Named(&quot;toDto&quot;)\n    @Mappings\n    FatherDto toDto(Father father);\n\n    @Named(&quot;toDtoWithoutChildren&quot;)\n    @Mappings({\n         @Mapping(target = &quot;children&quot;, expression = &quot;java(null)&quot;)})\n    FatherDto toDtoWithoutChildren(Father father);\n}\n\n@Named(&quot;ChildMapper&quot;)\n@Mapper(componentModel = &quot;spring&quot;, unmappedTargetPolicy = ReportingPolicy.IGNORE, uses = {FatherMapper.class})\npublic interface ChildMapper {\n\n    @Named(&quot;toDto&quot;)\n    @Mappings({\n         @Mapping(target = &quot;father&quot;, qualifiedByName = {&quot;FatherMapper&quot;, &quot;toDtoWithoutChildren&quot;})})\n    ChildDto toDto(Child child);\n\n    @Named(&quot;toDtoWithoutFather&quot;)\n    @Mappings({\n         @Mapping(target = &quot;father&quot;, expression = &quot;java(null)&quot;)})\n    ChildDto toDtoWithoutFather(Child child);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1691489,"reputation":800,"user_id":1553728,"display_name":"user1553728"},"score":1,"creation_date":1602311853,"post_id":57323603,"comment_id":113686034,"body_markdown":"great answer ，office site example link ：https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles","body":"great answer ，office site example link ：<a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct-examples/tree/master/&hellip;</a>"},{"owner":{"account_id":223472,"reputation":3596,"user_id":482702,"accept_rate":82,"display_name":"lrxw"},"score":0,"creation_date":1602838970,"post_id":57323603,"comment_id":113852526,"body_markdown":"how does the generator of mapstruct know when to call `getMappedInstance` and `storeMappedInstance` if both are annotated with the same annotation?","body":"how does the generator of mapstruct know when to call <code>getMappedInstance</code> and <code>storeMappedInstance</code> if both are annotated with the same annotation?"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1602846913,"post_id":57323603,"comment_id":113855952,"body_markdown":"The methods are called with different argument Annotations: `@TargetType` and `@MappingTarget`, both calls are made before the actual mapping is executed.","body":"The methods are called with different argument Annotations: <code>@TargetType</code> and <code>@MappingTarget</code>, both calls are made before the actual mapping is executed."},{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":1,"creation_date":1626351966,"post_id":57323603,"comment_id":120873309,"body_markdown":"These methods don&#39;t work if you work with an object builder for your Entity and DTO. I have reported this bug. https://github.com/mapstruct/mapstruct-examples/issues/119","body":"These methods don&#39;t work if you work with an object builder for your Entity and DTO. I have reported this bug. <a href=\"https://github.com/mapstruct/mapstruct-examples/issues/119\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct-examples/issues/119</a>"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":1,"creation_date":1631623873,"post_id":57323603,"comment_id":122268324,"body_markdown":"The answer is not clear. How I have to use it?... Assume I have service where I need mapper. I have to call mapper.toDto(entity, context.?(?, ?))","body":"The answer is not clear. How I have to use it?... Assume I have service where I need mapper. I have to call mapper.toDto(entity, context.?(?, ?))"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":2,"creation_date":1632225201,"post_id":57323603,"comment_id":122429858,"body_markdown":"Added usage at the end","body":"Added usage at the end"},{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":0,"creation_date":1653504266,"post_id":57323603,"comment_id":127871446,"body_markdown":"I used the approach of context, it solved the recursion/cycle at database layer but the recursion/cycle occcurs at json level because dto A calls dto B thats calls dto A and so on.","body":"I used the approach of context, it solved the recursion/cycle at database layer but the recursion/cycle occcurs at json level because dto A calls dto B thats calls dto A and so on."},{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":0,"creation_date":1653596924,"post_id":57323603,"comment_id":127896339,"body_markdown":"it solves the issue at data access level but not at json level.","body":"it solves the issue at data access level but not at json level."},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":1,"creation_date":1653629210,"post_id":57323603,"comment_id":127901573,"body_markdown":"@cviniciusm The mappers don’t care whether it is data access or JSON, it is not bound to technology or usage. If you have a problem with json this most likely doesn’t have to do with mapstruct. I don’t know how your problem looks like, but if you are trying to have data access and Json solved with a single data model you should have one dedicated model for data access and one for json","body":"@cviniciusm The mappers don’t care whether it is data access or JSON, it is not bound to technology or usage. If you have a problem with json this most likely doesn’t have to do with mapstruct. I don’t know how your problem looks like, but if you are trying to have data access and Json solved with a single data model you should have one dedicated model for data access and one for json"},{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":1,"creation_date":1658342185,"post_id":57323603,"comment_id":129030686,"body_markdown":"You&#39;re right, thanks.\n\nI think I found out the solution for the json issue: [Infinite Recursion with Jackson JSON and Hibernate JPA issue](https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue)","body":"You&#39;re right, thanks.  I think I found out the solution for the json issue: <a href=\"https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\">Infinite Recursion with Jackson JSON and Hibernate JPA issue</a>"}],"tags":[],"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"comment_count":10,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1653630704,"creation_date":1564738080,"answer_id":57323603,"question_id":36223752,"body_markdown":"At least in mapstruct 1.3 you can use the following:\r\n\r\nThe solution is widely inspired by https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper\r\n\r\nDefine a Context class (widely inspired by https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/CycleAvoidingMappingContext.java ):\r\n\r\n    /**\r\n     * An implementation to track cycles in graphs to be used as {@link Context} parameter.\r\n     *\r\n     */\r\n    public class CycleAvoidingMappingContext {\r\n        private Map&lt;Object, Object&gt; knownInstances = new IdentityHashMap&lt;Object, Object&gt;();\r\n    \r\n        /**\r\n         * Gets an instance out of this context if it is already mapped.\r\n         * \r\n         * @param source\r\n         *        given source\r\n         * @param targetType\r\n         *        given target type.\r\n         * @return Returns the resulting type.\r\n         */\r\n        @BeforeMapping\r\n        public &lt;T&gt; T getMappedInstance(Object source, @TargetType Class&lt;T&gt; targetType) {\r\n            return targetType.cast(knownInstances.get(source));\r\n        }\r\n    \r\n        /**\r\n         * Puts an instance into the cache, so that it can be remembered to avoid endless mapping.\r\n         * \r\n         * @param source\r\n         *        given source\r\n         * @param target\r\n         *        given target\r\n         */\r\n        @BeforeMapping\r\n        public void storeMappedInstance(Object source, @MappingTarget Object target) {\r\n            knownInstances.put( source, target );\r\n        }\r\n    }\r\n\r\nIn each mapper, which maps classes with cyclic references, add this `org.mapstruct.Context`:\r\n\r\n    /**\r\n     * Mapper. Automatically implemented by mapstruct.\r\n     * \r\n     */\r\n    @Mapper\r\n    public interface SomeObjWithCyclesMapper {\r\n   \r\n        /**\r\n         * instance.\r\n         */\r\n        SomeObjWithCyclesMapper INSTANCE = Mappers.getMapper(SomeObjWithCyclesMapper.class);\r\n    \r\n        /**\r\n         * Mapper method to map entity to domain. Automatically implemented by mapstruct.\r\n         * \r\n         * @param entity\r\n         *        given entity.\r\n         * @param context\r\n         *        context to avoid cycles.\r\n         * @return Returns the domain object.\r\n         */\r\n        SomeObjWithCycles entityToDomain(SomeObjWithCyclesEntity entity, @Context CycleAvoidingMappingContext context);\r\n    \r\n        /**\r\n         * Mapper method to map domain object to entity. Automatically implemented by mapstruct.\r\n         * \r\n         * @param domain\r\n         *        given domain object.\r\n         * @param context\r\n         *        context to avoid cycles.\r\n         * @return Returns the entity.\r\n         */\r\n        SomeObjWithCyclesEntity domainToEntity(SomeObjWithCycles domain, @Context CycleAvoidingMappingContext context);\r\n        \r\n    }\r\n\r\n**Usage (added 2021-09-21):**\r\n\r\nThen you can call the mapper method with:\r\n\r\n    SomeObjWithCyclesMapper.INSTANCE.domainToEntity(objWithCycles, new CycleAvoidingMappingContext());\r\n\r\nWhere `objWithCycles` is the object of class `SomeObjWithCycles` which you want to map.\r\n\r\n**HINT (added 2022-05-27)**\r\n\r\nStating the obvious: This solves recursion problems occurring while converting objects using mapstruct.\r\nIf you have recursion problems using other technologies, e.g. RestEasy, you have to refer to their manuals for solving problems specific to these technologies.","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>At least in mapstruct 1.3 you can use the following:</p>\n<p>The solution is widely inspired by <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper</a></p>\n<p>Define a Context class (widely inspired by <a href=\"https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/CycleAvoidingMappingContext.java\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-mapping-with-cycles/src/main/java/org/mapstruct/example/mapper/CycleAvoidingMappingContext.java</a> ):</p>\n<pre><code>/**\n * An implementation to track cycles in graphs to be used as {@link Context} parameter.\n *\n */\npublic class CycleAvoidingMappingContext {\n    private Map&lt;Object, Object&gt; knownInstances = new IdentityHashMap&lt;Object, Object&gt;();\n\n    /**\n     * Gets an instance out of this context if it is already mapped.\n     * \n     * @param source\n     *        given source\n     * @param targetType\n     *        given target type.\n     * @return Returns the resulting type.\n     */\n    @BeforeMapping\n    public &lt;T&gt; T getMappedInstance(Object source, @TargetType Class&lt;T&gt; targetType) {\n        return targetType.cast(knownInstances.get(source));\n    }\n\n    /**\n     * Puts an instance into the cache, so that it can be remembered to avoid endless mapping.\n     * \n     * @param source\n     *        given source\n     * @param target\n     *        given target\n     */\n    @BeforeMapping\n    public void storeMappedInstance(Object source, @MappingTarget Object target) {\n        knownInstances.put( source, target );\n    }\n}\n</code></pre>\n<p>In each mapper, which maps classes with cyclic references, add this <code>org.mapstruct.Context</code>:</p>\n<pre><code>/**\n * Mapper. Automatically implemented by mapstruct.\n * \n */\n@Mapper\npublic interface SomeObjWithCyclesMapper {\n\n    /**\n     * instance.\n     */\n    SomeObjWithCyclesMapper INSTANCE = Mappers.getMapper(SomeObjWithCyclesMapper.class);\n\n    /**\n     * Mapper method to map entity to domain. Automatically implemented by mapstruct.\n     * \n     * @param entity\n     *        given entity.\n     * @param context\n     *        context to avoid cycles.\n     * @return Returns the domain object.\n     */\n    SomeObjWithCycles entityToDomain(SomeObjWithCyclesEntity entity, @Context CycleAvoidingMappingContext context);\n\n    /**\n     * Mapper method to map domain object to entity. Automatically implemented by mapstruct.\n     * \n     * @param domain\n     *        given domain object.\n     * @param context\n     *        context to avoid cycles.\n     * @return Returns the entity.\n     */\n    SomeObjWithCyclesEntity domainToEntity(SomeObjWithCycles domain, @Context CycleAvoidingMappingContext context);\n    \n}\n</code></pre>\n<p><strong>Usage (added 2021-09-21):</strong></p>\n<p>Then you can call the mapper method with:</p>\n<pre><code>SomeObjWithCyclesMapper.INSTANCE.domainToEntity(objWithCycles, new CycleAvoidingMappingContext());\n</code></pre>\n<p>Where <code>objWithCycles</code> is the object of class <code>SomeObjWithCycles</code> which you want to map.</p>\n<p><strong>HINT (added 2022-05-27)</strong></p>\n<p>Stating the obvious: This solves recursion problems occurring while converting objects using mapstruct.\nIf you have recursion problems using other technologies, e.g. RestEasy, you have to refer to their manuals for solving problems specific to these technologies.</p>\n"},{"comments":[{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1632225845,"post_id":64161430,"comment_id":122430116,"body_markdown":"Ignoring something for the mapping is not the same… The approach using the context worked for others. what went wrong for you?","body":"Ignoring something for the mapping is not the same… The approach using the context worked for others. what went wrong for you?"},{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":0,"creation_date":1653504248,"post_id":64161430,"comment_id":127871442,"body_markdown":"I used the approach of context, it solved the recursion/cycle at database layer but the recursion/cycle occcurs at json level because dto A calls dto B thats calls dto A and so on.","body":"I used the approach of context, it solved the recursion/cycle at database layer but the recursion/cycle occcurs at json level because dto A calls dto B thats calls dto A and so on."}],"tags":[],"owner":{"account_id":19639151,"reputation":111,"user_id":14375714,"display_name":"Ivo Eersels"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601577680,"creation_date":1601577680,"answer_id":64161430,"question_id":36223752,"body_markdown":"Actually this approach with a CycleAvoidingMappingContext didn&#39;t work for me using MapStruct version 1.3.1. As I couldn&#39;t find much working examples I dediced to post my solution here for others to find.\r\n\r\nIn case of bi-directional relationships such mappings can trigger a StackOverflowError due to circular references.\r\n\r\n**Example: classes Recipe, Book and Ingredient which are related bidirectionally 1-to-many and many-to-many.**\r\n- **A recipe has lots of ingredients, but is mentioned in only 1 book.**\r\n- **One Book has lots of recipes in it.**\r\n- **An ingredient is only used in 1 recipe** (assuming that an Ingredient also has properties which fixes its amount, unit of measure and so on so that it is indeed specific to one recipe only).\r\n\r\n````\t\t\t\r\n\tpublic class Recipe {\r\n\t\tLong id;\r\n\t\t// ... Other recipe properties go here\r\n\t\tBook book;\r\n\t\tSet&lt;Ingredient&gt; ingredients;\r\n\t}\r\n\t\r\n\tpublic class Book {\r\n\t\tLong id;\r\n\t\t// ... Other book properties go here\r\n\t\tSet&lt;Recipe&gt; recipes;\r\n\t}\r\n\t\r\n\tpublic class Ingredient {\r\n\t\tLong id;\r\n\t\t// ... Other ingredient properties go here\r\n\t\tRecipe recipe;\r\n\t}\r\n````\r\n\t\t\t\t\r\nI am assuming you would also have DTO classes with identical properties but ofcourse referring to their corresponding DTO classes.\r\n\r\nThese would be the default Mapper setups (without depending on Spring in this case) for mapping from your entity classes to your DTO classes:\r\n\t\t\t\t\t\r\n````\r\n// MapStruct can handle primitive and standard classes like String and Integer just fine, but if you are using custom complex objects it needs some instructions on how it should map these\r\n\t@Mapper(uses = {BookMapper.class, IngredientMapper.class})\r\n\tpublic interface RecipeMapper {\r\n\t\tRecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\r\n\r\n\t\tRecipeDTO toDTO(Recipe recipe);\r\n\r\n\t\tRecipe toEntity(RecipeDTO recipeDTO);\r\n\t}\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\r\n\tpublic interface BookMapper {\r\n\t\tBookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\r\n\r\n\t\tBookDTO toDTO(Book book);\r\n\r\n\t\tBook toEntity(BookDTO book);\r\n\t}\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, BookMapper.class})\r\n\tpublic interface IngredientMapper {\r\n\t\tIngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\r\n\r\n\t\tIngredientDTO toDTO(Ingredient ingredient);\r\n\r\n\t\tIngredient toEntity(IngredientDTO ingredientDTO);\r\n\t}\r\n````\t\t\t\t\r\nIf you would stop there and try to map the classes this way, you will get hit by the StackOverflowError due to circular references you have now defined (Recipe contains ingredients which has a property recipe which has ingredients...).\r\nSuch default Mapper setups can only be used if there is no bidirectional relationship which would trigger the inverse mapping as well.\r\n\t\t\t\t\t\r\nYou could write this down like A -&gt; B -&gt; A -&gt; B -&gt; A ...\r\nConcerning the object mapping, my experience has shown that you should be able to map this out like: A -&gt; B -&gt; A (excluding the relations this time to break the cycle)\r\n\t\t\t\tfor both Entity to DTO and DTO to Entity mappings. This enables you to:\r\n- Drill down to associated objects in the frontend: ex. display a list of ingredients for a recipe\r\n- Persist the inverse relation when saving an object: ex. If you would only map A -&gt; B. The IngredientDTOs inside RecipeDTO would not have a recipe property and when saving an ingredient you would need to pass in the recipe id as a parameter and jump through some hoops to associate the ingredient entity object with a recipe entity object before saving the ingredient entity to the database.\r\n\r\n\r\nDefining the mappings like A -&gt; B -&gt; A (excluding the relations this time to break the cycle) will boil down to defining separate mappings for when you want to exclude the related complex objects from the mapping at the point where you want to break the cycle.\r\n\r\n**@IterableMapping(qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)**\r\nis used to map a collection of complex objects, which refers to a mapping for a single complex object.\r\n\r\n**@Mapping(target = &quot;PropertyName&quot;, qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)**\r\ncan be used to point to an alternative mapping which excludes the inverse relationships when mapping a collection of complex objects (when you want to break the cycle)\r\n\r\n**@Mapping(target = &quot;&lt;PropertyName&gt;[.&lt;childPropertyName&gt;]&quot;, ignore = true)**\r\ncan be used to indicate that a property of an object should not be mapped at all. So this can be used to completely leave out a (collection of) complex object(s) entirely or to ignore properties inside of a single (not a collection) related complex objects directly in case they are not needed.\r\n\r\nIf you don&#39;t use the **qualifiedByName** attribute and the matching **@Named()** annotations, your mappings will not compile with an error about *Ambiguous mappings* if you have multiple methods with the same return type and input parameter types in the Mapper interface.\r\n\r\n*It may be a good practice use method names matching the @Named annotation value in case you use named mappings.*\r\n\t\t\t\t\t\r\n**So, we will note down the wanted behavior first and then code it:**\r\n\r\n    1. When mapping a Recipe, we will need to map the book property in such a way that its inverse relation to recipes is mapped without the book property the second time\r\n\t\tRecipe A -&gt; Book X \t-&gt; Recipe A (without book property value as this would close the cycle)\r\n\t\t\t-&gt; Recipe B (without book property value, as same mapping is used for all these recipes unfortunately as we don&#39;t know up front which one will cause the cyclic reference)...\r\n\t\t\t\t-&gt; Ingredients I (without recipe property value as they would all point back to A)\r\n\t\t\t\t\t\t\t\t \r\n    2. When mapping a Book, we will need to map the recipes property in such a way that its inverse relation to book isn&#39;t mapped as it will point back to the same book.\r\n\t\t\tBook X -&gt; Recipe A (without book property as this would close the cycle)\r\n\t\t\t\t\t\t-&gt; Ingredients (without recipe property as all these will point back to Recipe A)\r\n\t\t\t\t\t\t\t-&gt; Recipe B (without book property, as same mapping is used for all these and all could potentially close the cycle)\r\n\t\t\t\t\t\t\t-&gt; Recipe C\r\n\t\t\t\t\t\r\n    3. When mapping an Ingredient, we will need to map the recipe property in such a way that its inverse relation to ingredient isn&#39;t mapped as one of those ingredients will point back to the same ingredient\r\nThe book property inside the recipe will need to be mapped without the recipes property as one of those will also loop back to the recipe.\r\n\r\n````\t\t\t\t\t\t\r\n\t@Mapper(uses = {BookMapper.class, IngredientMapper.class})\r\n\tpublic interface RecipeMapper {\r\n\t\tRecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\r\n\r\n\t\t@Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\tSet&lt;RecipeDTO&gt; toDTOSetIgnoreBookAndIngredientChildRecipes(Set&lt;Recipe&gt; recipes);\r\n\r\n\t\t@Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\tSet&lt;RecipeDTO&gt; toDTOSetIgnoreIngredientsAndBookChildRecipe(Set&lt;Recipe&gt; recipes);\r\n\t\t\t\t\t\t\t\t\r\n\t\t// In this mapping we will ignore the book property and the recipe property of the Ingredients to break the mapping cyclic references when we are mapping a book object\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipeDTO toDTOIgnoreBookAndIngredientChildRecipes(Recipe recipe);\r\n\r\n\t\t@Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, ignore = true),\r\n\t\t})\r\n\t\tRecipeDTO toDTOIgnoreIngredientsAndBookChildRecipe(Recipe recipe);\r\n\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipeDTO toDTO(Recipe recipe);\r\n\t\t\r\n\t\t@Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\tSet&lt;Recipe&gt; toEntitySetIgnoreBookAndIngredientChildRecipes(Set&lt;RecipeDTO&gt; recipeDTOs);\r\n\t\t\r\n\t\t@Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\tSet&lt;Recipe&gt; toEntitySetIgnoreIngredientsAndBookChildRecipe(Set&lt;RecipeDTO&gt; recipeDTOs);\r\n\t\t\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipe toEntity(RecipeDTO recipeDTO);\r\n\t\t\r\n\t\t@Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t\t\t// book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),\t\t// ingredients is a collection of complex objects, so we can&#39;t directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\r\n\t\t})\r\n\t\tRecipe toEntityIgnoreBookAndIngredientChildRecipes(RecipeDTO recipeDTO);\r\n\t\t\r\n\t\t\t\t\t\t\t\t@Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;book.recipes&quot;, ignore = true),\r\n\t\t\t@Mapping(target = &quot;ingredients&quot;, ignore = true),\r\n\t\t})\r\n\t\tRecipe toEntityIgnoreIngredientsAndBookChildRecipe(RecipeDTO recipeDTO);\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\r\n\tpublic interface BookMapper {\r\n\t\tBookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\r\n\t\t\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\r\n\t\t})\r\n\t\tBookDTO toDTO(Book book);\r\n\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\r\n\t\t})\r\n\t\tBook toEntity(BookDTO book);\r\n\t}\r\n\r\n\r\n\r\n\t@Mapper(uses = {RecipeMapper.class, BookMapper.class})\r\n\tpublic interface IngredientMapper {\r\n\t\tIngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\r\n\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Named(&quot;IngredientSetIgnoreRecipes&quot;)\r\n\t\tIterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)\t\t\t\t\t\t\t\t// Refer to the mapping for a single object in the collection\r\n\t\tSet&lt;IngredientDTO&gt; toDTOSetIgnoreRecipes(Set&lt;Ingredient&gt; ingredients);\r\n\r\n\t\t// Don&#39;t forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\r\n\t\t@Named(&quot;IngredientIgnoreRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, ignore = true),\t\t\t\t\t\t\t\t\t\t\t// ignore the recipes property entirely\r\n\t\t})\r\n\t\tIngredientDTO toDTOIgnoreRecipes(Ingredient ingredient);\r\n\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t})\r\n\t\tIngredientDTO toDTO(Ingredient ingredient);\r\n\r\n\t\t@Named(&quot;IngredientSetIgnoreRecipes&quot;)\r\n\t\tIterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)\t\t\t\t\t\t\t\t// Refer to the mapping for a single object in the collection\r\n\t\tSet&lt;Ingredient&gt; toEntitySetIgnoreRecipes(Set&lt;IngredientDTO&gt; ingredientDTOs);\r\n\r\n\t\t@Named(&quot;IngredientIgnoreRecipes&quot;)\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, ignore = true),\r\n\t\t})\r\n\t\tIngredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\r\n\r\n\t\t@Mappings({\r\n\t\t\t@Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\r\n\t\t})\r\n\t\tIngredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\r\n\t}\r\n````\t\r\n\t\t\r\n\r\n**Usage**\r\n\r\n````\t\t\r\n&lt;ENTITY_NAME&gt;DTO &lt;eNTITY_NAME&gt;DTO = &lt;ENTITY_NAME&gt;Mapper.INSTANCE.toDTO( &lt;eNTITY_NAME&gt; );`\r\n````","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>Actually this approach with a CycleAvoidingMappingContext didn't work for me using MapStruct version 1.3.1. As I couldn't find much working examples I dediced to post my solution here for others to find.</p>\n<p>In case of bi-directional relationships such mappings can trigger a StackOverflowError due to circular references.</p>\n<p><strong>Example: classes Recipe, Book and Ingredient which are related bidirectionally 1-to-many and many-to-many.</strong></p>\n<ul>\n<li><strong>A recipe has lots of ingredients, but is mentioned in only 1 book.</strong></li>\n<li><strong>One Book has lots of recipes in it.</strong></li>\n<li><strong>An ingredient is only used in 1 recipe</strong> (assuming that an Ingredient also has properties which fixes its amount, unit of measure and so on so that it is indeed specific to one recipe only).</li>\n</ul>\n<pre><code>    public class Recipe {\n        Long id;\n        // ... Other recipe properties go here\n        Book book;\n        Set&lt;Ingredient&gt; ingredients;\n    }\n    \n    public class Book {\n        Long id;\n        // ... Other book properties go here\n        Set&lt;Recipe&gt; recipes;\n    }\n    \n    public class Ingredient {\n        Long id;\n        // ... Other ingredient properties go here\n        Recipe recipe;\n    }\n</code></pre>\n<p>I am assuming you would also have DTO classes with identical properties but ofcourse referring to their corresponding DTO classes.</p>\n<p>These would be the default Mapper setups (without depending on Spring in this case) for mapping from your entity classes to your DTO classes:</p>\n<pre><code>// MapStruct can handle primitive and standard classes like String and Integer just fine, but if you are using custom complex objects it needs some instructions on how it should map these\n    @Mapper(uses = {BookMapper.class, IngredientMapper.class})\n    public interface RecipeMapper {\n        RecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\n\n        RecipeDTO toDTO(Recipe recipe);\n\n        Recipe toEntity(RecipeDTO recipeDTO);\n    }\n\n    @Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\n    public interface BookMapper {\n        BookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\n\n        BookDTO toDTO(Book book);\n\n        Book toEntity(BookDTO book);\n    }\n\n    @Mapper(uses = {RecipeMapper.class, BookMapper.class})\n    public interface IngredientMapper {\n        IngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\n\n        IngredientDTO toDTO(Ingredient ingredient);\n\n        Ingredient toEntity(IngredientDTO ingredientDTO);\n    }\n</code></pre>\n<p>If you would stop there and try to map the classes this way, you will get hit by the StackOverflowError due to circular references you have now defined (Recipe contains ingredients which has a property recipe which has ingredients...).\nSuch default Mapper setups can only be used if there is no bidirectional relationship which would trigger the inverse mapping as well.</p>\n<p>You could write this down like A -&gt; B -&gt; A -&gt; B -&gt; A ...\nConcerning the object mapping, my experience has shown that you should be able to map this out like: A -&gt; B -&gt; A (excluding the relations this time to break the cycle)\nfor both Entity to DTO and DTO to Entity mappings. This enables you to:</p>\n<ul>\n<li>Drill down to associated objects in the frontend: ex. display a list of ingredients for a recipe</li>\n<li>Persist the inverse relation when saving an object: ex. If you would only map A -&gt; B. The IngredientDTOs inside RecipeDTO would not have a recipe property and when saving an ingredient you would need to pass in the recipe id as a parameter and jump through some hoops to associate the ingredient entity object with a recipe entity object before saving the ingredient entity to the database.</li>\n</ul>\n<p>Defining the mappings like A -&gt; B -&gt; A (excluding the relations this time to break the cycle) will boil down to defining separate mappings for when you want to exclude the related complex objects from the mapping at the point where you want to break the cycle.</p>\n<p><strong>@IterableMapping(qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)</strong>\nis used to map a collection of complex objects, which refers to a mapping for a single complex object.</p>\n<p><strong>@Mapping(target = &quot;PropertyName&quot;, qualifiedByName = &quot;&lt;MAPPING_NAME&gt;&quot;)</strong>\ncan be used to point to an alternative mapping which excludes the inverse relationships when mapping a collection of complex objects (when you want to break the cycle)</p>\n<p><strong>@Mapping(target = &quot;[.]&quot;, ignore = true)</strong>\ncan be used to indicate that a property of an object should not be mapped at all. So this can be used to completely leave out a (collection of) complex object(s) entirely or to ignore properties inside of a single (not a collection) related complex objects directly in case they are not needed.</p>\n<p>If you don't use the <strong>qualifiedByName</strong> attribute and the matching <strong>@Named()</strong> annotations, your mappings will not compile with an error about <em>Ambiguous mappings</em> if you have multiple methods with the same return type and input parameter types in the Mapper interface.</p>\n<p><em>It may be a good practice use method names matching the @Named annotation value in case you use named mappings.</em></p>\n<p><strong>So, we will note down the wanted behavior first and then code it:</strong></p>\n<pre><code>1. When mapping a Recipe, we will need to map the book property in such a way that its inverse relation to recipes is mapped without the book property the second time\n    Recipe A -&gt; Book X  -&gt; Recipe A (without book property value as this would close the cycle)\n        -&gt; Recipe B (without book property value, as same mapping is used for all these recipes unfortunately as we don't know up front which one will cause the cyclic reference)...\n            -&gt; Ingredients I (without recipe property value as they would all point back to A)\n                             \n2. When mapping a Book, we will need to map the recipes property in such a way that its inverse relation to book isn't mapped as it will point back to the same book.\n        Book X -&gt; Recipe A (without book property as this would close the cycle)\n                    -&gt; Ingredients (without recipe property as all these will point back to Recipe A)\n                        -&gt; Recipe B (without book property, as same mapping is used for all these and all could potentially close the cycle)\n                        -&gt; Recipe C\n                \n3. When mapping an Ingredient, we will need to map the recipe property in such a way that its inverse relation to ingredient isn't mapped as one of those ingredients will point back to the same ingredient\n</code></pre>\n<p>The book property inside the recipe will need to be mapped without the recipes property as one of those will also loop back to the recipe.</p>\n<pre><code>    @Mapper(uses = {BookMapper.class, IngredientMapper.class})\n    public interface RecipeMapper {\n        RecipeMapper INSTANCE = Mappers.getMapper( RecipeMapper.class );\n\n        @Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        Set&lt;RecipeDTO&gt; toDTOSetIgnoreBookAndIngredientChildRecipes(Set&lt;Recipe&gt; recipes);\n\n        @Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        Set&lt;RecipeDTO&gt; toDTOSetIgnoreIngredientsAndBookChildRecipe(Set&lt;Recipe&gt; recipes);\n                                \n        // In this mapping we will ignore the book property and the recipe property of the Ingredients to break the mapping cyclic references when we are mapping a book object\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book&quot;, ignore = true),                                               // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        RecipeDTO toDTOIgnoreBookAndIngredientChildRecipes(Recipe recipe);\n\n        @Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),\n            @Mapping(target = &quot;ingredients&quot;, ignore = true),\n        })\n        RecipeDTO toDTOIgnoreIngredientsAndBookChildRecipe(Recipe recipe);\n\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),                                       // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        RecipeDTO toDTO(Recipe recipe);\n        \n        @Named(&quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        Set&lt;Recipe&gt; toEntitySetIgnoreBookAndIngredientChildRecipes(Set&lt;RecipeDTO&gt; recipeDTOs);\n        \n        @Named(&quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        @IterableMapping(qualifiedByName = &quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        Set&lt;Recipe&gt; toEntitySetIgnoreIngredientsAndBookChildRecipe(Set&lt;RecipeDTO&gt; recipeDTOs);\n        \n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),                                       // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        Recipe toEntity(RecipeDTO recipeDTO);\n        \n        @Named(&quot;RecipeIgnoreBookAndIngredientChildRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book&quot;, ignore = true),                                               // book is a single custom complex object (not a collection), so we can directly ignore its child properties from there\n            @Mapping(target = &quot;ingredients&quot;, qualifiedByName = &quot;IngredientSetIgnoreRecipes&quot;),       // ingredients is a collection of complex objects, so we can't directly ignore its child properties as in the end, a Mapper needs to be defined to Map a single POJO into another\n        })\n        Recipe toEntityIgnoreBookAndIngredientChildRecipes(RecipeDTO recipeDTO);\n        \n                                @Named(&quot;RecipeIgnoreIngredientsAndBookChildRecipe&quot;)\n        @Mappings({\n            @Mapping(target = &quot;book.recipes&quot;, ignore = true),\n            @Mapping(target = &quot;ingredients&quot;, ignore = true),\n        })\n        Recipe toEntityIgnoreIngredientsAndBookChildRecipe(RecipeDTO recipeDTO);\n        \n    }\n\n\n\n    @Mapper(uses = {RecipeMapper.class, IngredientMapper.class})\n    public interface BookMapper {\n        BookMapper INSTANCE = Mappers.getMapper( BookMapper.class );\n        \n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\n        })\n        BookDTO toDTO(Book book);\n\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreBookAndIngredientChildRecipes&quot;),\n        })\n        Book toEntity(BookDTO book);\n    }\n\n\n\n    @Mapper(uses = {RecipeMapper.class, BookMapper.class})\n    public interface IngredientMapper {\n        IngredientMapper INSTANCE = Mappers.getMapper( IngredientMapper.class );\n\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Named(&quot;IngredientSetIgnoreRecipes&quot;)\n        IterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)                                // Refer to the mapping for a single object in the collection\n        Set&lt;IngredientDTO&gt; toDTOSetIgnoreRecipes(Set&lt;Ingredient&gt; ingredients);\n\n        // Don't forget to add the matching inverse mapping from DTO to Entity, this is basically just a copy with switch input parameter and return types\n        @Named(&quot;IngredientIgnoreRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, ignore = true),                                            // ignore the recipes property entirely\n        })\n        IngredientDTO toDTOIgnoreRecipes(Ingredient ingredient);\n\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        })\n        IngredientDTO toDTO(Ingredient ingredient);\n\n        @Named(&quot;IngredientSetIgnoreRecipes&quot;)\n        IterableMapping(qualifiedByName = &quot;IngredientIgnoreRecipes&quot;)                                // Refer to the mapping for a single object in the collection\n        Set&lt;Ingredient&gt; toEntitySetIgnoreRecipes(Set&lt;IngredientDTO&gt; ingredientDTOs);\n\n        @Named(&quot;IngredientIgnoreRecipes&quot;)\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, ignore = true),\n        })\n        Ingredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\n\n        @Mappings({\n            @Mapping(target = &quot;recipes&quot;, qualifiedByName = &quot;RecipeSetIgnoreIngredientsAndBookChildRecipe&quot;)\n        })\n        Ingredient toEntityIgnoreRecipes(IngredientDTO ingredientDTO);\n    }\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>&lt;ENTITY_NAME&gt;DTO &lt;eNTITY_NAME&gt;DTO = &lt;ENTITY_NAME&gt;Mapper.INSTANCE.toDTO( &lt;eNTITY_NAME&gt; );`\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1632225431,"post_id":65390858,"comment_id":122429931,"body_markdown":"This is not mapping primaryObject.secondaries …","body":"This is not mapping primaryObject.secondaries …"}],"tags":[],"owner":{"account_id":3121794,"reputation":1037,"user_id":2641426,"display_name":"DependencyHell"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608545404,"creation_date":1608545404,"answer_id":65390858,"question_id":36223752,"body_markdown":"The answer was not quite easy to find on this page, so I will just post what is working in my case to prevent cyclic references.\r\n\r\nAnswer from *George Siggouroglou* was working fine using following :\r\n\r\n```java\r\n@Mapping(target = &quot;primaryObject.secondaries&quot;, expression = &quot;java(null)&quot;),\r\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\r\n```\r\n\r\nAnswer from *Ivo Eersel* was very complete, but I still managed to miss the solution on the first read.\r\n\r\n**So here is what I finally used :**\r\n\r\n```java\r\n@Mapping(target = &quot;primaryObject.secondaries&quot;, ignore = true)\r\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\r\n```\r\n\r\n","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>The answer was not quite easy to find on this page, so I will just post what is working in my case to prevent cyclic references.</p>\n<p>Answer from <em>George Siggouroglou</em> was working fine using following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;primaryObject.secondaries&quot;, expression = &quot;java(null)&quot;),\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\n</code></pre>\n<p>Answer from <em>Ivo Eersel</em> was very complete, but I still managed to miss the solution on the first read.</p>\n<p><strong>So here is what I finally used :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;primaryObject.secondaries&quot;, ignore = true)\nSecondaryObjectDto toSecondaryObjectDto(SecondaryObject source);\n</code></pre>\n"}],"owner":{"account_id":1264677,"reputation":3196,"user_id":1222240,"accept_rate":91,"display_name":"valepu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22384,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":42232940,"answer_count":5,"score":13,"last_activity_date":1666415536,"creation_date":1458922706,"question_id":36223752,"body_markdown":"Today I started using MapStruct to create my Model to DTO converters for my project and i was wondering if it handled cyclic references automatically but it turned out it doesn&#39;t.\r\n\r\nThis is the converter i made to test it:\r\n\r\n    package it.cdc.snp.services.rest.giudizio;\r\n    \r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n    import org.mapstruct.Mappings;\r\n    import org.mapstruct.factory.Mappers;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import it.cdc.snp.dto.entita.Avvisinotifica;\r\n    import it.cdc.snp.dto.entita.Corrispondenza;\r\n    import it.cdc.snp.model.notifica.AvvisoDiNotificaModel;\r\n    import it.cdc.snp.model.notifica.NotificaModel;\r\n    import it.cdc.snp.model.procedimento.ProcedimentoModel;\r\n    \r\n    @Component\r\n    @Mapper(componentModel=&quot;spring&quot;)\r\n    public interface NotificaMapper {\r\n    \t\r\n    \tNotificaMapper INSTANCE = Mappers.getMapper( NotificaMapper.class );\r\n    \t\r\n    \t@Mappings({\r\n            @Mapping(source = &quot;avvisinotificas&quot;, target = &quot;avvisinotificas&quot;),\r\n        })\r\n    \tNotificaModel&lt;ProcedimentoModel&gt; corrispondenzaToNotificaModel(Corrispondenza notifica);\r\n    \t\r\n    \t@Mappings({\r\n            @Mapping(source = &quot;corrispondenza&quot;, target = &quot;notifica&quot;),\r\n        })\r\n    \tAvvisoDiNotificaModel avvisinotificaToAvvisoDiNotificaModel(Avvisinotifica avvisinotifica);\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\nThis is the test:\r\n\r\n            Notifica sourceObject1 = new Notifica();\r\n    \t\tsourceObject1.setId(new Long(1));\r\n    \t\tAvvisinotifica sourceObject2 = new Avvisinotifica();\r\n    \t\tsourceObject2.setId(new Long(11));\r\n    \t\tList&lt;Avvisinotifica&gt; tests= new ArrayList&lt;&gt;();\r\n    \t\ttests.add(sourceObject2);\r\n    \t\tsourceObject1.setAvvisinotificas(tests);\r\n    \t\tsourceObject2.setCorrispondenza(sourceObject1);\r\n    \r\n    \t\tNotificaModel destObject1 = new NotificaModel&lt;&gt;();\r\n    \t\tAvvisinotifica destObject2 = new Avvisinotifica();\r\n    \t\t\r\n    \t\tNotificaModel converted = mapper.corrispondenzaToNotificaModel(sourceObject1);\r\n\r\n\r\nNotifica, Avvisinotifica and their respective models are simple POJOs with setters and getters so i don&#39;t think it&#39;s needed to post the code (Notifica extends Corrispondenza, if you were wondering)\r\n\r\nthis code gets into an infinite cycle, nothing very surprising here (though i hoped it&#39;d handle these situations).\r\nAnd while i think i can find an elegant way to manually handle it (i was thinking about using methods with `@MappingTarget` to insert the Referenced objects ) what i was wondering is if there&#39;s some way to tell MapStruct how to automatically handle cyclic references. ","title":"Prevent Cyclic references when converting with MapStruct","body":"<p>Today I started using MapStruct to create my Model to DTO converters for my project and i was wondering if it handled cyclic references automatically but it turned out it doesn't.</p>\n\n<p>This is the converter i made to test it:</p>\n\n<pre><code>package it.cdc.snp.services.rest.giudizio;\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Mappings;\nimport org.mapstruct.factory.Mappers;\nimport org.springframework.stereotype.Component;\n\nimport it.cdc.snp.dto.entita.Avvisinotifica;\nimport it.cdc.snp.dto.entita.Corrispondenza;\nimport it.cdc.snp.model.notifica.AvvisoDiNotificaModel;\nimport it.cdc.snp.model.notifica.NotificaModel;\nimport it.cdc.snp.model.procedimento.ProcedimentoModel;\n\n@Component\n@Mapper(componentModel=\"spring\")\npublic interface NotificaMapper {\n\n    NotificaMapper INSTANCE = Mappers.getMapper( NotificaMapper.class );\n\n    @Mappings({\n        @Mapping(source = \"avvisinotificas\", target = \"avvisinotificas\"),\n    })\n    NotificaModel&lt;ProcedimentoModel&gt; corrispondenzaToNotificaModel(Corrispondenza notifica);\n\n    @Mappings({\n        @Mapping(source = \"corrispondenza\", target = \"notifica\"),\n    })\n    AvvisoDiNotificaModel avvisinotificaToAvvisoDiNotificaModel(Avvisinotifica avvisinotifica);\n\n\n}\n</code></pre>\n\n<p>This is the test:</p>\n\n<pre><code>        Notifica sourceObject1 = new Notifica();\n        sourceObject1.setId(new Long(1));\n        Avvisinotifica sourceObject2 = new Avvisinotifica();\n        sourceObject2.setId(new Long(11));\n        List&lt;Avvisinotifica&gt; tests= new ArrayList&lt;&gt;();\n        tests.add(sourceObject2);\n        sourceObject1.setAvvisinotificas(tests);\n        sourceObject2.setCorrispondenza(sourceObject1);\n\n        NotificaModel destObject1 = new NotificaModel&lt;&gt;();\n        Avvisinotifica destObject2 = new Avvisinotifica();\n\n        NotificaModel converted = mapper.corrispondenzaToNotificaModel(sourceObject1);\n</code></pre>\n\n<p>Notifica, Avvisinotifica and their respective models are simple POJOs with setters and getters so i don't think it's needed to post the code (Notifica extends Corrispondenza, if you were wondering)</p>\n\n<p>this code gets into an infinite cycle, nothing very surprising here (though i hoped it'd handle these situations).\nAnd while i think i can find an elegant way to manually handle it (i was thinking about using methods with <code>@MappingTarget</code> to insert the Referenced objects ) what i was wondering is if there's some way to tell MapStruct how to automatically handle cyclic references. </p>\n"},{"tags":["java","junit","annotations","timeout","junit5"],"answers":[{"comments":[{"owner":{"account_id":26673178,"reputation":15,"user_id":20284324,"display_name":"AnotherApple"},"score":0,"creation_date":1666506189,"post_id":74161225,"comment_id":130950410,"body_markdown":"This makes more sense..are there any best practices so that I can accurately work with timeout tests? Also thank you for the answer!","body":"This makes more sense..are there any best practices so that I can accurately work with timeout tests? Also thank you for the answer!"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666571572,"post_id":74161225,"comment_id":130962347,"body_markdown":"Sure thing, @AnotherApple! To be honest, I&#39;ve never used this `@Timeout` annotation before, although I have sometimes done explicit time assertions like in my answer. I would say it&#39;s probably not intended for very short (&lt;10ms) timeouts, and I would probably only use it for timeouts measured in seconds (the default time unit). Timing on the JVM is not generally precise enough to measure things in single-digit milliseconds. One poorly-timed garbage collection could cause your test to fail even if there&#39;s nothing wrong with the algorithm.","body":"Sure thing, @AnotherApple! To be honest, I&#39;ve never used this <code>@Timeout</code> annotation before, although I have sometimes done explicit time assertions like in my answer. I would say it&#39;s probably not intended for very short (&lt;10ms) timeouts, and I would probably only use it for timeouts measured in seconds (the default time unit). Timing on the JVM is not generally precise enough to measure things in single-digit milliseconds. One poorly-timed garbage collection could cause your test to fail even if there&#39;s nothing wrong with the algorithm."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666571626,"post_id":74161225,"comment_id":130962357,"body_markdown":"It&#39;s probably more suitable for testing network timeouts, algorithms that involve variable sleep times or complex lock acquisition, just to ensure that a bug can&#39;t cause the entire test suite to hang indefinitely.","body":"It&#39;s probably more suitable for testing network timeouts, algorithms that involve variable sleep times or complex lock acquisition, just to ensure that a bug can&#39;t cause the entire test suite to hang indefinitely."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666572038,"post_id":74161225,"comment_id":130962407,"body_markdown":"If you&#39;re looking to benchmark an algorithm, [JMH](https://github.com/openjdk/jmh) is a more accurate way to do it.","body":"If you&#39;re looking to benchmark an algorithm, <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a> is a more accurate way to do it."}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666415325,"creation_date":1666415325,"answer_id":74161225,"question_id":74128429,"body_markdown":"The time reported by IntelliJ IDEA may not accurately reflect the execution time of the test method. In particular, the time reported for the first test executed includes time spent setting up the test suite. You can see by adding another test method earlier in the test class that the time &quot;moves&quot; to that test, and `hundredCities` itself may very well execute within the 2ms timeout duration.\r\n\r\nYou can verify this by logging and asserting the time taken explicitly:\r\n\r\n    @Test\r\n    public void hundredCities() {\r\n        long start = System.nanoTime();\r\n        assertEquals(740,\r\n                stringAlgorithm.findTotalLengthOfStringArray(\r\n                        new String[] {\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\r\n        );\r\n        long executionTime = System.nanoTime() - start;\r\n        System.out.println(Duration.ofNanos(executionTime).toMillis());\r\n        assertTrue(executionTime &lt; 2_000_000);\r\n    }\r\n\r\n\r\nOn my machine, I had to add around a thousand cities before it consistently took greater than 2ms. Of course, that threshold will vary on different hardware, operating systems, Java versions, etc.","title":"Why does my Java JUnit 5 Timeout Test PASS when the execution in milliseconds exceeds what was specified?","body":"<p>The time reported by IntelliJ IDEA may not accurately reflect the execution time of the test method. In particular, the time reported for the first test executed includes time spent setting up the test suite. You can see by adding another test method earlier in the test class that the time &quot;moves&quot; to that test, and <code>hundredCities</code> itself may very well execute within the 2ms timeout duration.</p>\n<p>You can verify this by logging and asserting the time taken explicitly:</p>\n<pre><code>@Test\npublic void hundredCities() {\n    long start = System.nanoTime();\n    assertEquals(740,\n            stringAlgorithm.findTotalLengthOfStringArray(\n                    new String[] {\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\n    );\n    long executionTime = System.nanoTime() - start;\n    System.out.println(Duration.ofNanos(executionTime).toMillis());\n    assertTrue(executionTime &lt; 2_000_000);\n}\n</code></pre>\n<p>On my machine, I had to add around a thousand cities before it consistently took greater than 2ms. Of course, that threshold will vary on different hardware, operating systems, Java versions, etc.</p>\n"}],"owner":{"account_id":26673178,"reputation":15,"user_id":20284324,"display_name":"AnotherApple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74161225,"answer_count":1,"score":0,"last_activity_date":1666415325,"creation_date":1666195146,"question_id":74128429,"body_markdown":"What i&#39;m trying to do: \r\n - \r\n*Fail the test after 2 milliseconds*\r\n\r\nHere&#39;s an example of my code. \r\nIt varies between 12-22 ms.\r\nI&#39;ve discovered that if i change the value to &#39;1&#39; it will sometimes even fail at seemingly random times.. \r\n\r\n    @Test\r\n    @Timeout(unit = TimeUnit.MILLISECONDS, value = 2)\r\n\r\n    public void hundredCities() {\r\n\r\n        assertEquals(740,\r\n                stringAlgorithm.findTotalLengthOfStringArray(\r\n                        new String[] {\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\r\n                                &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\r\n        );\r\n\r\n    }\r\n\r\n\r\nHowever... \r\n\r\n[Test passed][1]\r\n\r\nWhat am i doing wrong here?\r\n\r\nString algorithm code:\r\n\r\n\r\n    \r\n  public class StringAlgorithm {\r\n\r\n    public int findTotalLengthOfStringArray(String[] test) {\r\n        // String[] test = {&quot;Bananas&quot;, &quot;Apples&quot;};\r\n        String s = &quot;&quot;;\r\n\r\n        for (String i : test) {\r\n            s += i;\r\n        }\r\n\r\n        char [] c = s.toCharArray();\r\n        System.out.println(c.length);\r\n\r\n        return c.length;\r\n\r\n    }\r\n\r\n}\r\n\r\n  [1]: https://i.stack.imgur.com/PTZof.png","title":"Why does my Java JUnit 5 Timeout Test PASS when the execution in milliseconds exceeds what was specified?","body":"<h2>What i'm trying to do:</h2>\n<p><em>Fail the test after 2 milliseconds</em></p>\n<p>Here's an example of my code.\nIt varies between 12-22 ms.\nI've discovered that if i change the value to '1' it will sometimes even fail at seemingly random times..</p>\n<pre><code>@Test\n@Timeout(unit = TimeUnit.MILLISECONDS, value = 2)\n\npublic void hundredCities() {\n\n    assertEquals(740,\n            stringAlgorithm.findTotalLengthOfStringArray(\n                    new String[] {\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot;,\n                            &quot;Stockholm&quot;, &quot;Paris&quot;, &quot;London&quot;, &quot;New York&quot;, &quot;Amsterdam&quot; })\n    );\n\n}\n</code></pre>\n<p>However...</p>\n<p><a href=\"https://i.stack.imgur.com/PTZof.png\" rel=\"nofollow noreferrer\">Test passed</a></p>\n<p>What am i doing wrong here?</p>\n<p>String algorithm code:</p>\n<p>public class StringAlgorithm {</p>\n<pre><code>public int findTotalLengthOfStringArray(String[] test) {\n    // String[] test = {&quot;Bananas&quot;, &quot;Apples&quot;};\n    String s = &quot;&quot;;\n\n    for (String i : test) {\n        s += i;\n    }\n\n    char [] c = s.toCharArray();\n    System.out.println(c.length);\n\n    return c.length;\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","java-stream","primes","sieve","intstream"],"comments":[{"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"score":0,"creation_date":1666287039,"post_id":74143898,"comment_id":130906830,"body_markdown":"@AlexanderIvanchenko actually if I just put a true literal in the filter method or just delete the filter method at all, I get a different input, may be I should add the output result.","body":"@AlexanderIvanchenko actually if I just put a true literal in the filter method or just delete the filter method at all, I get a different input, may be I should add the output result."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666287761,"post_id":74143898,"comment_id":130907098,"body_markdown":"I didn&#39;t see that the predicate is being altered by `peek()` because of the formating.","body":"I didn&#39;t see that the predicate is being altered by <code>peek()</code> because of the formating."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":1,"creation_date":1666373710,"post_id":74143898,"comment_id":130929954,"body_markdown":"obligatory notice that this is *not* the sieve of Eratosthenes, but rather the non-optimal version of the sieve of trial division by primes.","body":"obligatory notice that this is <i>not</i> the sieve of Eratosthenes, but rather the non-optimal version of the sieve of trial division by primes."},{"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"score":0,"creation_date":1666413783,"post_id":74143898,"comment_id":130936625,"body_markdown":"@WillNess how would it be the optimal version of the sieve of Erastothenes? I couldn&#39;t find an implementation in Java.","body":"@WillNess how would it be the optimal version of the sieve of Erastothenes? I couldn&#39;t find an implementation in Java."},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1666429512,"post_id":74143898,"comment_id":130938402,"body_markdown":"optimal trial division test-divides each number by all the primes not exceeding the number&#39;s square root. your version test-divides each number by all the primes smaller than the number itself (which is, all the primes discovered thus far in the iteration). see more [here](https://stackoverflow.com/search?tab=votes&amp;q=postponed%20user%3a849891). and again, these are _not_ sieves of _Eratosthenes_, which does _not_ test-divide numbers at all but instead counts up from a discovered prime in steps of that prime and _thus_ discovers that prime&#39;s multiples: (contd.)","body":"optimal trial division test-divides each number by all the primes not exceeding the number&#39;s square root. your version test-divides each number by all the primes smaller than the number itself (which is, all the primes discovered thus far in the iteration). see more <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=postponed%20user%3a849891\">here</a>. and again, these are <i>not</i> sieves of <i>Eratosthenes</i>, which does <i>not</i> test-divide numbers at all but instead counts up from a discovered prime in steps of that prime and <i>thus</i> discovers that prime&#39;s multiples: (contd.)"},{"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"score":0,"creation_date":1666429523,"post_id":74143898,"comment_id":130938404,"body_markdown":"... ``primes = [2,3,...] `set-minus` [[2p,3p,...] FOR p IN primes]``.","body":"... <code>primes = [2,3,...] `set-minus` [[2p,3p,...] FOR p IN primes]</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666684795,"post_id":74143898,"comment_id":130989387,"body_markdown":"@Brando Jeanpier you can find a Java implementation of the Sieve of Eratosthenes in the middle of [this answer](https://stackoverflow.com/questions/48754107/making-a-parallel-intstream-more-efficient-faster/48764124#48764124:~:text=Sieve%20of%20Eratosthenes)","body":"@Brando Jeanpier you can find a Java implementation of the Sieve of Eratosthenes in the middle of <a href=\"https://stackoverflow.com/questions/48754107/making-a-parallel-intstream-more-efficient-faster/48764124#48764124:~:text=Sieve%20of%20Eratosthenes\">this answer</a>"},{"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"score":0,"creation_date":1666721201,"post_id":74143898,"comment_id":131002180,"body_markdown":"@Holger thank you so much, I need to try it.","body":"@Holger thank you so much, I need to try it."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666373389,"creation_date":1666287671,"answer_id":74144163,"question_id":74143898,"body_markdown":"This code produces an aggregate Predicate via [`IntPredicate.and()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntPredicate.html) method, which would work this way:\r\n\r\n```\r\np = x -&gt; true; // for first stream element `2` - \r\n               //   which passes the predicate p\r\n\r\n// Predicate p is being reassigned while\r\n// peek() sees the element `2`, to\r\np = x -&gt; true &amp;&amp; x % 2 != 0\r\n\r\n// The next stream element `3` passes the updated predicate\r\n// And the predicate is being reassigned again while\r\n// peek() sees the element `3` to\r\n\r\np = x -&gt; true &amp;&amp; x % 2 != 0 &amp;&amp; x % 3 != 0\r\n\r\n// And so on...\r\n```\r\nSo every element which successfully passes the `filter` results in a new condition being appended to the current predicate via &quot;logical AND&quot; `&amp;&amp;`.\r\n\r\nAt the end of the stream execution, the predicate would consist of conditions that check the given number against all the prime number from that would be present in the result.\r\n\r\n**Note** that this hacky implementation is broken:\r\n\r\n[`peek()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#peek(java.util.function.IntConsumer)) is an operation which was introduced exclusively to support debugging. It&#39;s not meant to be used for performing actions that could affect the result of the execution. `peek` gives no guaranty regarding the order in which it will be called while executing in parallel, and in certain cases can be optimized away.","title":"How is this Eratosthenes Sieve implementation is working internally?","body":"<p>This code produces an aggregate Predicate via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntPredicate.html\" rel=\"nofollow noreferrer\"><code>IntPredicate.and()</code></a> method, which would work this way:</p>\n<pre><code>p = x -&gt; true; // for first stream element `2` - \n               //   which passes the predicate p\n\n// Predicate p is being reassigned while\n// peek() sees the element `2`, to\np = x -&gt; true &amp;&amp; x % 2 != 0\n\n// The next stream element `3` passes the updated predicate\n// And the predicate is being reassigned again while\n// peek() sees the element `3` to\n\np = x -&gt; true &amp;&amp; x % 2 != 0 &amp;&amp; x % 3 != 0\n\n// And so on...\n</code></pre>\n<p>So every element which successfully passes the <code>filter</code> results in a new condition being appended to the current predicate via &quot;logical AND&quot; <code>&amp;&amp;</code>.</p>\n<p>At the end of the stream execution, the predicate would consist of conditions that check the given number against all the prime number from that would be present in the result.</p>\n<p><strong>Note</strong> that this hacky implementation is broken:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#peek(java.util.function.IntConsumer)\" rel=\"nofollow noreferrer\"><code>peek()</code></a> is an operation which was introduced exclusively to support debugging. It's not meant to be used for performing actions that could affect the result of the execution. <code>peek</code> gives no guaranty regarding the order in which it will be called while executing in parallel, and in certain cases can be optimized away.</p>\n"}],"owner":{"account_id":23167396,"reputation":21,"user_id":17267123,"display_name":"Brando Jeanpier"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1666414028,"creation_date":1666286334,"question_id":74143898,"body_markdown":"I found this code that seems to be the non-optimal version of the Sieve of Erastothenes, it gets the N first prime numbers into an array.\r\n\r\n    private IntPredicate p = x -&gt; true;\r\n    \r\n    private int[] primes(int n) {\r\n        \r\n        return IntStream.iterate(2, i -&gt; i + 1)\r\n            .filter(x -&gt; p.test(x))\r\n            .peek(i -&gt; p = p.and(k -&gt; k % i != 0))\r\n            .limit(n)\r\n            .toArray();\r\n    }\r\n\r\n\r\nWhat&#39;s happening internally with the `IntPredicate`? \r\n\r\n","title":"How is this Eratosthenes Sieve implementation is working internally?","body":"<p>I found this code that seems to be the non-optimal version of the Sieve of Erastothenes, it gets the N first prime numbers into an array.</p>\n<pre><code>private IntPredicate p = x -&gt; true;\n\nprivate int[] primes(int n) {\n    \n    return IntStream.iterate(2, i -&gt; i + 1)\n        .filter(x -&gt; p.test(x))\n        .peek(i -&gt; p = p.and(k -&gt; k % i != 0))\n        .limit(n)\n        .toArray();\n}\n</code></pre>\n<p>What's happening internally with the <code>IntPredicate</code>?</p>\n"},{"tags":["java","autoboxing"],"comments":[{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1666413872,"post_id":74161119,"comment_id":130936631,"body_markdown":"You should include a subsection of the code from the wrapper class, and also clarify which JDK we are referring to","body":"You should include a subsection of the code from the wrapper class, and also clarify which JDK we are referring to"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1666413894,"post_id":74161119,"comment_id":130936633,"body_markdown":"How many times in your program do you use small numbers, say 0, 1, 2, up to 10? My guess is: a lot. Now how many times do you store small numbers in collections, or use them as keys in a hashmap? Every single one of those uses would be an object allocation if not for caching.","body":"How many times in your program do you use small numbers, say 0, 1, 2, up to 10? My guess is: a lot. Now how many times do you store small numbers in collections, or use them as keys in a hashmap? Every single one of those uses would be an object allocation if not for caching."},{"owner":{"account_id":26239656,"reputation":3,"user_id":19914164,"display_name":"Grey may"},"score":0,"creation_date":1666414512,"post_id":74161119,"comment_id":130936691,"body_markdown":"So why java does not use 16 bytes? I often face with numbers more than 127.","body":"So why java does not use 16 bytes? I often face with numbers more than 127."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1666416245,"post_id":74161119,"comment_id":130936865,"body_markdown":"@ChrisMaggiulli It&#39;s actually in the Java Language Spec, not just specific JDK implementations. I&#39;m in a phone, so I can&#39;t easily look up the exact chapter/section.","body":"@ChrisMaggiulli It&#39;s actually in the Java Language Spec, not just specific JDK implementations. I&#39;m in a phone, so I can&#39;t easily look up the exact chapter/section."}],"owner":{"account_id":26239656,"reputation":3,"user_id":19914164,"display_name":"Grey may"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666416478,"answer_count":0,"score":0,"last_activity_date":1666413723,"creation_date":1666413723,"question_id":74161119,"body_markdown":"I can’t understand why in java there is a special array in the wrapper class, for Example **Integer**, where wrapper objects for primitives are stored: from -128 to 127. Why a new wrapper object not created for this range, like for other primitives? Does this array optimize the program so much? And why is the range 8 bytes, no more, no less? If someone is familiar with the history of the language, please explain this decision.","title":"Why autobox caching","body":"<p>I can’t understand why in java there is a special array in the wrapper class, for Example <strong>Integer</strong>, where wrapper objects for primitives are stored: from -128 to 127. Why a new wrapper object not created for this range, like for other primitives? Does this array optimize the program so much? And why is the range 8 bytes, no more, no less? If someone is familiar with the history of the language, please explain this decision.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1666317862,"post_id":74147998,"comment_id":130913937,"body_markdown":"Did you try to check, for example, what the value of `testCases` is after it&#39;s read? Whether the loop actually starts that many times? What the value of `stripCount` is each time through the loop? What values are put into `outlets`? Please read https://ericlippert.com/2014/03/05/how-to-debug-small-programs.","body":"Did you try to check, for example, what the value of <code>testCases</code> is after it&#39;s read? Whether the loop actually starts that many times? What the value of <code>stripCount</code> is each time through the loop? What values are put into <code>outlets</code>? Please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666325907,"post_id":74147998,"comment_id":130915030,"body_markdown":"Does your program *terminate* without printing the last line, or is it waiting for input?","body":"Does your program <i>terminate</i> without printing the last line, or is it waiting for input?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666325954,"post_id":74147998,"comment_id":130915035,"body_markdown":"Perhaps you don&#39;t have newline on the last line of your input, and aren&#39;t typing an end of file character?","body":"Perhaps you don&#39;t have newline on the last line of your input, and aren&#39;t typing an end of file character?"}],"answers":[{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666411600,"creation_date":1666368445,"answer_id":74156383,"question_id":74147998,"body_markdown":"Kattis validates your code by inspecting your program&#39;s standard output. If even a single character is different than the judge expects, your submission will fail, and Kattis will only report &quot;Wrong answer&quot; without any reason, actual/expected diff or other diagnostics.\r\n\r\nTherefore, it&#39;s critical to pay close attention to the expected output format in the problem description and sample test cases.\r\n\r\nFor the first sample input, we&#39;re given:\r\n\r\n```none\r\n3\r\n3 2 3 4\r\n10 4 4 4 4 4 4 4 4 4 4\r\n4 10 10 10 10\r\n```\r\n\r\nAnd the expected output is:\r\n\r\n```none\r\n7\r\n31\r\n37\r\n```\r\n\r\nBut your output is different:\r\n\r\n```none\r\nNumber of outlets: 7\r\n0\r\nNumber of outlets: 31\r\n1\r\nNumber of outlets: 37\r\n2\r\n```\r\n\r\nThis contains unnecessary `&quot;Number of outlets: &quot;` prefixes as well as an `i` for each test case. Sure, to a human, this is fine, but Kattis&#39; runner program isn&#39;t smart enough to understand that you basically got it right.\r\n\r\nRemoving the `i` print and changing your result print to match what Kattis is asking for passes the submission tests:\r\n\r\n```\r\nSystem.out.println(appliances - (outlets.size() - 1));\r\n```\r\n\r\nAs for the missing last line, you&#39;re probably not flushing that final buffer in the IDE. Either add a final newline or press &lt;kbd&gt;Enter&lt;/kbd&gt; manually if you have interactive capabilities. This appears to be an environment misunderstanding, not a code problem.","title":"For loop always runs one less time then it should, due to two lines of code that appear unrelated to the for loop","body":"<p>Kattis validates your code by inspecting your program's standard output. If even a single character is different than the judge expects, your submission will fail, and Kattis will only report &quot;Wrong answer&quot; without any reason, actual/expected diff or other diagnostics.</p>\n<p>Therefore, it's critical to pay close attention to the expected output format in the problem description and sample test cases.</p>\n<p>For the first sample input, we're given:</p>\n<pre class=\"lang-none prettyprint-override\"><code>3\n3 2 3 4\n10 4 4 4 4 4 4 4 4 4 4\n4 10 10 10 10\n</code></pre>\n<p>And the expected output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>7\n31\n37\n</code></pre>\n<p>But your output is different:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Number of outlets: 7\n0\nNumber of outlets: 31\n1\nNumber of outlets: 37\n2\n</code></pre>\n<p>This contains unnecessary <code>&quot;Number of outlets: &quot;</code> prefixes as well as an <code>i</code> for each test case. Sure, to a human, this is fine, but Kattis' runner program isn't smart enough to understand that you basically got it right.</p>\n<p>Removing the <code>i</code> print and changing your result print to match what Kattis is asking for passes the submission tests:</p>\n<pre><code>System.out.println(appliances - (outlets.size() - 1));\n</code></pre>\n<p>As for the missing last line, you're probably not flushing that final buffer in the IDE. Either add a final newline or press <kbd>Enter</kbd> manually if you have interactive capabilities. This appears to be an environment misunderstanding, not a code problem.</p>\n"}],"owner":{"account_id":5963655,"reputation":27,"user_id":4688009,"display_name":"Kellen Cole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666411600,"creation_date":1666317525,"question_id":74147998,"body_markdown":"Edit: For some reason my code works as intended in an online compiler. But in eclipse, the exact same code has the following problem.\r\n\r\nI am working on a Kattis Problem called Electrical Outlets.\r\nOn the first line of input will be the number of test cases (n). On the next n lines, each line will start with an integer k, which is the number of power strips that will follow on the line. The rest of the line will contain how many outlets each of these power strips contain. Here is my code:\r\n```\r\npublic static void main(String[] args) {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\tArrayList&lt;Integer&gt; outlets = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tint testCases = scnr.nextInt();\r\n\t\tint stripCount;\r\n\t\tint appliances = 0;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; testCases; i++) {\r\n\t\t\tstripCount = scnr.nextInt();\r\n\t\t\tfor (int j = 0; j &lt; stripCount; j++) {\r\n\t\t\t\toutlets.add(scnr.nextInt());\r\n\t\t\t\tappliances += outlets.get(j);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;\\nNumber of outlets: &quot; + (appliances - (outlets.size() - 1)));\r\n\t\t\tSystem.out.print(&quot;\\n&quot; + i);\r\n\t\t\toutlets.clear();\r\n\t\t\tappliances = 0;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nNow for some reason, the outer for loop always runs one less time then it should.\r\nHere is a sample input\r\n```\r\n3\r\n3 2 3 4\r\n10 4 4 4 4 4 4 4 4 4 4\r\n4 10 10 10 10\r\n```\r\nAnd expected output\r\n```\r\nNumber of outlets: 7\r\nNumber of outlets: 31\r\nNumber of outlets: 37\r\n```\r\nHowever, my output is \r\n```\r\nNumber of outlets: 7\r\nNumber of outlets: 31\r\n```\r\n\r\nSimilarly, for input\r\n```\r\n5\r\n5 4 3 2 5 6\r\n4 3 2 2 3\r\n7 4 4 4 4 4 4 4\r\n5 4 3 3 4 4\r\n8 9 9 9 9 9 9 9 9\r\n```\r\nI expect an output of \r\n```\r\nNumber of outlets: 16\r\nNumber of outlets: 7\r\nNumber of outlets: 22\r\nNumber of outlets: 14\r\nNumber of outlets: 65\r\n```\r\nBut receive an output of \r\n```\r\nNumber of outlets: 16\r\nNumber of outlets: 7\r\nNumber of outlets: 22\r\nNumber of outlets: 14\r\n```\r\n\r\nIf I comment out the following two lines contained within for loop(int j)\r\n```\r\n            for (int j = 0; j &lt; stripCount; j++) {\r\n                //outlets.add(scnr.nextInt());\r\n                //appliances += outlets.get(j);\r\n            }\r\n```\r\nAnd add print(i), the for loop iterates as many times as it should.","title":"For loop always runs one less time then it should, due to two lines of code that appear unrelated to the for loop","body":"<p>Edit: For some reason my code works as intended in an online compiler. But in eclipse, the exact same code has the following problem.</p>\n<p>I am working on a Kattis Problem called Electrical Outlets.\nOn the first line of input will be the number of test cases (n). On the next n lines, each line will start with an integer k, which is the number of power strips that will follow on the line. The rest of the line will contain how many outlets each of these power strips contain. Here is my code:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; outlets = new ArrayList&lt;&gt;();\n        \n        int testCases = scnr.nextInt();\n        int stripCount;\n        int appliances = 0;\n        \n        for (int i = 0; i &lt; testCases; i++) {\n            stripCount = scnr.nextInt();\n            for (int j = 0; j &lt; stripCount; j++) {\n                outlets.add(scnr.nextInt());\n                appliances += outlets.get(j);\n            }\n            System.out.print(&quot;\\nNumber of outlets: &quot; + (appliances - (outlets.size() - 1)));\n            System.out.print(&quot;\\n&quot; + i);\n            outlets.clear();\n            appliances = 0;\n        }\n    }\n</code></pre>\n<p>Now for some reason, the outer for loop always runs one less time then it should.\nHere is a sample input</p>\n<pre><code>3\n3 2 3 4\n10 4 4 4 4 4 4 4 4 4 4\n4 10 10 10 10\n</code></pre>\n<p>And expected output</p>\n<pre><code>Number of outlets: 7\nNumber of outlets: 31\nNumber of outlets: 37\n</code></pre>\n<p>However, my output is</p>\n<pre><code>Number of outlets: 7\nNumber of outlets: 31\n</code></pre>\n<p>Similarly, for input</p>\n<pre><code>5\n5 4 3 2 5 6\n4 3 2 2 3\n7 4 4 4 4 4 4 4\n5 4 3 3 4 4\n8 9 9 9 9 9 9 9 9\n</code></pre>\n<p>I expect an output of</p>\n<pre><code>Number of outlets: 16\nNumber of outlets: 7\nNumber of outlets: 22\nNumber of outlets: 14\nNumber of outlets: 65\n</code></pre>\n<p>But receive an output of</p>\n<pre><code>Number of outlets: 16\nNumber of outlets: 7\nNumber of outlets: 22\nNumber of outlets: 14\n</code></pre>\n<p>If I comment out the following two lines contained within for loop(int j)</p>\n<pre><code>            for (int j = 0; j &lt; stripCount; j++) {\n                //outlets.add(scnr.nextInt());\n                //appliances += outlets.get(j);\n            }\n</code></pre>\n<p>And add print(i), the for loop iterates as many times as it should.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666793130,"post_id":74160947,"comment_id":131020104,"body_markdown":"Have you tried to use `getApplicationContext()` instead?","body":"Have you tried to use <code>getApplicationContext()</code> instead?"},{"owner":{"account_id":7894864,"reputation":1,"user_id":5963901,"display_name":"Samuelkb"},"score":0,"creation_date":1666803235,"post_id":74160947,"comment_id":131024107,"body_markdown":"@AlexMamo I sent the activity as a method param from the UI package to the data package, and it worked well, the only remaining issue I have is when the task fails I can&#39;t send the error to inform the login wasn&#39;t completed.","body":"@AlexMamo I sent the activity as a method param from the UI package to the data package, and it worked well, the only remaining issue I have is when the task fails I can&#39;t send the error to inform the login wasn&#39;t completed."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666808225,"post_id":74160947,"comment_id":131025745,"body_markdown":"Maybe this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help.","body":"Maybe this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help."},{"owner":{"account_id":7894864,"reputation":1,"user_id":5963901,"display_name":"Samuelkb"},"score":0,"creation_date":1666811652,"post_id":74160947,"comment_id":131026879,"body_markdown":"@AlexMamo Thanks! It is really useful.\nEven though I have been able to run my app, I noticed that the on-complete call is async, and the Login Activity Template is not structured for that behaviour","body":"@AlexMamo Thanks! It is really useful. Even though I have been able to run my app, I noticed that the on-complete call is async, and the Login Activity Template is not structured for that behaviour"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666812298,"post_id":74160947,"comment_id":131027079,"body_markdown":"In that case, you should structure it that way.","body":"In that case, you should structure it that way."}],"owner":{"account_id":7894864,"reputation":1,"user_id":5963901,"display_name":"Samuelkb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666410741,"creation_date":1666410741,"question_id":74160947,"body_markdown":"I have an android app that I created using the Login Activity Template (New Project -&gt; Login Activity -&gt; Java, API 26), which created a scaffold with the data and ui.login packages. I&#39;m trying to implement Firebase auth with email &amp; password.\r\n\r\nFollowing the docs and also understanding the function of each class, I started touching the class LoginDataSource (from data package) and adding the following code:\r\n\r\n    public class LoginDataSource {\r\n\r\n    private static final String TAG = &quot;EmailPassword&quot;;\r\n\r\n    private FirebaseAuth mAuth;\r\n\r\n    public Result&lt;LoggedInUser&gt; login(String username, String password) {\r\n\r\n        // Initialize Firebase Auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        try {\r\n            mAuth.signInWithEmailAndPassword(username, password)\r\n                    .addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign in success, update UI with the signed-in user&#39;s information\r\n                                Log.d(TAG, &quot;signInWithEmail:success&quot;);\r\n                                //FirebaseUser user = mAuth.getCurrentUser();\r\n                                //updateUI(user);\r\n                            } else {\r\n                                // If sign in fails, display a message to the user.\r\n                                Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\r\n                                //Toast.makeText(LoginActivity.this, &quot;Authentication failed.&quot;, Toast.LENGTH_SHORT).show();\r\n                                //updateUI(null);\r\n                            }\r\n                        }\r\n                    });\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            Log.d(TAG,&quot;user display name: &quot; + user.getDisplayName());\r\n            LoggedInUser appUser = new LoggedInUser( user.getUid(), user.getDisplayName());\r\n            return new Result.Success&lt;&gt;(appUser);\r\n        } catch (Exception e) {\r\n            return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\r\n        }\r\n\r\nAs I understand, the addOnCompleteListener expects my activity, which lives in the ui.login package, so when I try to use it, I get the error:\r\n\r\n    &#39;com.example.appname.ui.login.LoginActivity&#39; is not an enclosing class\r\n\r\nWhen I use the ``` this ``` keyword, I get the error:\r\n\r\n    Cannot resolve method &#39;addOnCompleteListener(com.samuelkb.aipuzzles.data.LoginDataSource, anonymous com.google.android.gms.tasks.OnCompleteListener&lt;com.google.firebase.auth.AuthResult&gt;)&#39;\r\n\r\nIt makes sense to keep the logic in my data package and not in my UI package.\r\nI&#39;m unsure how I should implement Firebase in my app, so any guidance is welcome.","title":"Error &quot;is not an enclosing class&quot; while Implement Firebase Auth in a Login Activity Android Java","body":"<p>I have an android app that I created using the Login Activity Template (New Project -&gt; Login Activity -&gt; Java, API 26), which created a scaffold with the data and ui.login packages. I'm trying to implement Firebase auth with email &amp; password.</p>\n<p>Following the docs and also understanding the function of each class, I started touching the class LoginDataSource (from data package) and adding the following code:</p>\n<pre><code>public class LoginDataSource {\n\nprivate static final String TAG = &quot;EmailPassword&quot;;\n\nprivate FirebaseAuth mAuth;\n\npublic Result&lt;LoggedInUser&gt; login(String username, String password) {\n\n    // Initialize Firebase Auth\n    mAuth = FirebaseAuth.getInstance();\n\n    try {\n        mAuth.signInWithEmailAndPassword(username, password)\n                .addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n                            Log.d(TAG, &quot;signInWithEmail:success&quot;);\n                            //FirebaseUser user = mAuth.getCurrentUser();\n                            //updateUI(user);\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Log.w(TAG, &quot;signInWithEmail:failure&quot;, task.getException());\n                            //Toast.makeText(LoginActivity.this, &quot;Authentication failed.&quot;, Toast.LENGTH_SHORT).show();\n                            //updateUI(null);\n                        }\n                    }\n                });\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        Log.d(TAG,&quot;user display name: &quot; + user.getDisplayName());\n        LoggedInUser appUser = new LoggedInUser( user.getUid(), user.getDisplayName());\n        return new Result.Success&lt;&gt;(appUser);\n    } catch (Exception e) {\n        return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\n    }\n</code></pre>\n<p>As I understand, the addOnCompleteListener expects my activity, which lives in the ui.login package, so when I try to use it, I get the error:</p>\n<pre><code>'com.example.appname.ui.login.LoginActivity' is not an enclosing class\n</code></pre>\n<p>When I use the <code>this</code> keyword, I get the error:</p>\n<pre><code>Cannot resolve method 'addOnCompleteListener(com.samuelkb.aipuzzles.data.LoginDataSource, anonymous com.google.android.gms.tasks.OnCompleteListener&lt;com.google.firebase.auth.AuthResult&gt;)'\n</code></pre>\n<p>It makes sense to keep the logic in my data package and not in my UI package.\nI'm unsure how I should implement Firebase in my app, so any guidance is welcome.</p>\n"},{"tags":["java","generics","backwards-compatibility"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1666204023,"post_id":74130161,"comment_id":130882775,"body_markdown":"Because strongly enforcing generics would have meant you would have to use them.","body":"Because strongly enforcing generics would have meant you would have to use them."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1666204275,"post_id":74130161,"comment_id":130882845,"body_markdown":"If you retained generics at runtime for the new code, while still allowing to run old code without runtime generics, then you would have two slightly different implementations for everything everywhere, both in the compiler and in the JVM. That would, in the most optimistic case, roughly double the maintenance effort (in practice, it would probably make maintenance ~10x harder). There were probably million other reasons why it was done this way, I don&#39;t see how this question can be answered in the given format of SO, it&#39;s way too vague and way too broad, and invites opinion-based answers.","body":"If you retained generics at runtime for the new code, while still allowing to run old code without runtime generics, then you would have two slightly different implementations for everything everywhere, both in the compiler and in the JVM. That would, in the most optimistic case, roughly double the maintenance effort (in practice, it would probably make maintenance ~10x harder). There were probably million other reasons why it was done this way, I don&#39;t see how this question can be answered in the given format of SO, it&#39;s way too vague and way too broad, and invites opinion-based answers."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666204809,"post_id":74130161,"comment_id":130882998,"body_markdown":"Reified generics *can* be added without breaking old code - C# did it in its second version after all, IIRC. But when Java was doing it, it&#39;s already the fifth version, and there was probably a lot more &quot;old code&quot; that they need to prevent breaking.","body":"Reified generics <i>can</i> be added without breaking old code - C# did it in its second version after all, IIRC. But when Java was doing it, it&#39;s already the fifth version, and there was probably a lot more &quot;old code&quot; that they need to prevent breaking."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1666204894,"post_id":74130161,"comment_id":130883020,"body_markdown":"@Sweeper Did they merely &quot;not break old _code_&quot;, or did they actually manage to retain compatibility with the old compiled artifacts?","body":"@Sweeper Did they merely &quot;not break old <i>code</i>&quot;, or did they actually manage to retain compatibility with the old compiled artifacts?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666205428,"post_id":74130161,"comment_id":130883183,"body_markdown":"@AndreyTyukin That is a good question that I&#39;m not sure. Unfortunately I don&#39;t have any old binaries from that era to test. I could tell my compiler to use `-langversion:1` to compile some source, and I am able to run the binary successfully, but that doesn&#39;t really say anything, does it?","body":"@AndreyTyukin That is a good question that I&#39;m not sure. Unfortunately I don&#39;t have any old binaries from that era to test. I could tell my compiler to use <code>-langversion:1</code> to compile some source, and I am able to run the binary successfully, but that doesn&#39;t really say anything, does it?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666409234,"post_id":74130161,"comment_id":130936240,"body_markdown":"I don&#39;t think it&#39;s opinion based, because the question is about the justification actually used in fact by the designers of this feature, not a question about whether that justification is valid.","body":"I don&#39;t think it&#39;s opinion based, because the question is about the justification actually used in fact by the designers of this feature, not a question about whether that justification is valid."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666409493,"creation_date":1666409493,"answer_id":74160886,"question_id":74130161,"body_markdown":"This is discussed in the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se6/jls3.pdf), on page 57:\r\n\r\n&gt; The decision not to make all generic types reifiable is one of the most crucial, and controversial design decisions involving the language’s type system.\r\n&gt;\r\n&gt; Ultimately, the most important motivation for this decision is compatibility with existing code.\r\n&gt;\r\n&gt; Naively, the addition of new constructs such as genericity has no implications for preexisting code. The programming language per se, is compatible with earlier versions as long as every program written in the previous versions retains its meaning in the new version. However, this notion, which may be termed _language compatibility_, is of purely theoretical interest. Real programs (even trivial ones, such as &quot;Hello World&quot;) are composed of several compilation units, some of which are provided by the Java platform (such as elements of `java.lang` or `java.util`).\r\n&gt;\r\n&gt; In practice then, the minimum requirement is _platform compatibillity_ _[sic]_ - that any program written for the prior version of the platform continues to function unchanged in the new platform.\r\n&gt;\r\n&gt; One way to provide platform compatibillity is to leave existing platform functionality unchanged, only adding new functionality. For example, rather than modify the existing Collections hierarchy in `java.util`, one might introduce a new library utilizing genericity.\r\n&gt;\r\n&gt; The disadvantages of such a scheme is that it is extremely difficult for pre-existing clients of the Collection library to migrate to the new library. Collections are used to exchange data between independently developed modules; if a vendor decides to switch to the new, generic, library, that vendor must also distribute two versions of their code, to be compatible with their clients. Libraries that are dependent on other vendors code cannot be modified to use genericity until the supplier’s library is updated. If two modules are mutually dependent, the changes must be made simultaneously.\r\n&gt;\r\n&gt; Clearly, platform compatibility, as outlined above, does not provide a realistic path for adoption of a pervasive new feature such as genericity. Therefore, the design of the generic type system seeks to support _migration compatibility_. Migration compatibiliy allows the evolution of existing code to take advantage of generics without imposing dependencies between independently developed software modules.\r\n&gt;\r\n&gt; The price of migration compatibility is that a full and sound reification of the generic type system is not possible, at least while the migration is taking place.\r\n\r\nTo put it another way, _not_ erasing type parameters would require that a &quot;raw&quot; type and a parameterised type be treated as different types. This would render legacy code written with raw types non-interoperable with APIs written for generic types, and vice-versa.\r\n\r\nThere is a more detailed discussion in the paper [Making the future safe for the past:\r\nAdding Genericity to the JavaTM Programming Language\r\n](https://homepages.inf.ed.ac.uk/wadler/gj/Documents/gj-oopsla.pdf) by Gilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler. This describes the &quot;GJ&quot; project, which was the basis for the inclusion of generics in Java 5.","title":"How did type erasure in Java protect backward compatibility?","body":"<p>This is discussed in the <a href=\"https://docs.oracle.com/javase/specs/jls/se6/jls3.pdf\" rel=\"nofollow noreferrer\">Java Language Specification</a>, on page 57:</p>\n<blockquote>\n<p>The decision not to make all generic types reifiable is one of the most crucial, and controversial design decisions involving the language’s type system.</p>\n<p>Ultimately, the most important motivation for this decision is compatibility with existing code.</p>\n<p>Naively, the addition of new constructs such as genericity has no implications for preexisting code. The programming language per se, is compatible with earlier versions as long as every program written in the previous versions retains its meaning in the new version. However, this notion, which may be termed <em>language compatibility</em>, is of purely theoretical interest. Real programs (even trivial ones, such as &quot;Hello World&quot;) are composed of several compilation units, some of which are provided by the Java platform (such as elements of <code>java.lang</code> or <code>java.util</code>).</p>\n<p>In practice then, the minimum requirement is <em>platform compatibillity</em> <em>[sic]</em> - that any program written for the prior version of the platform continues to function unchanged in the new platform.</p>\n<p>One way to provide platform compatibillity is to leave existing platform functionality unchanged, only adding new functionality. For example, rather than modify the existing Collections hierarchy in <code>java.util</code>, one might introduce a new library utilizing genericity.</p>\n<p>The disadvantages of such a scheme is that it is extremely difficult for pre-existing clients of the Collection library to migrate to the new library. Collections are used to exchange data between independently developed modules; if a vendor decides to switch to the new, generic, library, that vendor must also distribute two versions of their code, to be compatible with their clients. Libraries that are dependent on other vendors code cannot be modified to use genericity until the supplier’s library is updated. If two modules are mutually dependent, the changes must be made simultaneously.</p>\n<p>Clearly, platform compatibility, as outlined above, does not provide a realistic path for adoption of a pervasive new feature such as genericity. Therefore, the design of the generic type system seeks to support <em>migration compatibility</em>. Migration compatibiliy allows the evolution of existing code to take advantage of generics without imposing dependencies between independently developed software modules.</p>\n<p>The price of migration compatibility is that a full and sound reification of the generic type system is not possible, at least while the migration is taking place.</p>\n</blockquote>\n<p>To put it another way, <em>not</em> erasing type parameters would require that a &quot;raw&quot; type and a parameterised type be treated as different types. This would render legacy code written with raw types non-interoperable with APIs written for generic types, and vice-versa.</p>\n<p>There is a more detailed discussion in the paper <a href=\"https://homepages.inf.ed.ac.uk/wadler/gj/Documents/gj-oopsla.pdf\" rel=\"nofollow noreferrer\">Making the future safe for the past:\nAdding Genericity to the JavaTM Programming Language\n</a> by Gilad Bracha, Martin Odersky, David Stoutamire, and Philip Wadler. This describes the &quot;GJ&quot; project, which was the basis for the inclusion of generics in Java 5.</p>\n"}],"owner":{"account_id":20657609,"reputation":33,"user_id":15166276,"display_name":"Perry_Y_Z"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74160886,"answer_count":1,"score":3,"last_activity_date":1666409493,"creation_date":1666203692,"question_id":74130161,"body_markdown":"I&#39;ve been learning Java generics recently, and I got to know that the reason Java adopted the type erasure approach to implementing generics is to ensure backward compatibility. \r\n\r\nBut I don&#39;t quite understand how this approach ensured backward compatibility. Since programs are not required to be generic, why having true generics will violate backward compatibility? ","title":"How did type erasure in Java protect backward compatibility?","body":"<p>I've been learning Java generics recently, and I got to know that the reason Java adopted the type erasure approach to implementing generics is to ensure backward compatibility.</p>\n<p>But I don't quite understand how this approach ensured backward compatibility. Since programs are not required to be generic, why having true generics will violate backward compatibility?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"score":0,"creation_date":1666446518,"post_id":74160880,"comment_id":130941432,"body_markdown":"Say Hibernate is now refusing to generate your database tables... Could this be because of this? @AndreyB.Panfilov","body":"Say Hibernate is now refusing to generate your database tables... Could this be because of this? @AndreyB.Panfilov"}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666409411,"creation_date":1666409411,"answer_id":74160880,"question_id":74160078,"body_markdown":"That could be tricky.\r\n\r\n1. you need to use specific [EntityManagerFactoryBuilderImpl constructor](https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/jpa/boot/internal/EntityManagerFactoryBuilderImpl.java#L192) to inject your own implementation of `ClassLoaderServiceImpl`\r\n2. `spring-orm` uses another constructor which does not fit your needs: [SpringHibernateJpaPersistenceProvider](https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/SpringHibernateJpaPersistenceProvider.java#L52) - thus, you need to override/inherit SpringHibernateJpaPersistenceProvider\r\n3. next you need to override [HibernateJpaVendorAdapter#getPersistenceProvider](https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/HibernateJpaVendorAdapter.java#L119)\r\n4. after that you will need to override boot auto-configurations.\r\n","title":"How do I inject Hibernate ClassLoaderService into Spring Boot?","body":"<p>That could be tricky.</p>\n<ol>\n<li>you need to use specific <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.6/hibernate-core/src/main/java/org/hibernate/jpa/boot/internal/EntityManagerFactoryBuilderImpl.java#L192\" rel=\"nofollow noreferrer\">EntityManagerFactoryBuilderImpl constructor</a> to inject your own implementation of <code>ClassLoaderServiceImpl</code></li>\n<li><code>spring-orm</code> uses another constructor which does not fit your needs: <a href=\"https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/SpringHibernateJpaPersistenceProvider.java#L52\" rel=\"nofollow noreferrer\">SpringHibernateJpaPersistenceProvider</a> - thus, you need to override/inherit SpringHibernateJpaPersistenceProvider</li>\n<li>next you need to override <a href=\"https://github.com/spring-projects/spring-framework/blob/5.3.x/spring-orm/src/main/java/org/springframework/orm/jpa/vendor/HibernateJpaVendorAdapter.java#L119\" rel=\"nofollow noreferrer\">HibernateJpaVendorAdapter#getPersistenceProvider</a></li>\n<li>after that you will need to override boot auto-configurations.</li>\n</ol>\n"}],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74160880,"answer_count":1,"score":0,"last_activity_date":1666409411,"creation_date":1666395485,"question_id":74160078,"body_markdown":"Hi I need to pass my own `ClassLoaderServiceImpl` into Hibernate. The issue is that I cannot figure out how to pass it into Hibernate over Spring Boot. How would I do it?\r\n\r\nHere is what I got:\r\n```\r\nClassLoaderServiceImpl serviceImpl = new ClassLoaderServiceImpl(customClassLoader);\r\n// Magical code that injects serviceImpl into Spring Boot, which will give it to Hibernate\r\n```\r\nAny help is much appreciated!","title":"How do I inject Hibernate ClassLoaderService into Spring Boot?","body":"<p>Hi I need to pass my own <code>ClassLoaderServiceImpl</code> into Hibernate. The issue is that I cannot figure out how to pass it into Hibernate over Spring Boot. How would I do it?</p>\n<p>Here is what I got:</p>\n<pre><code>ClassLoaderServiceImpl serviceImpl = new ClassLoaderServiceImpl(customClassLoader);\n// Magical code that injects serviceImpl into Spring Boot, which will give it to Hibernate\n</code></pre>\n<p>Any help is much appreciated!</p>\n"},{"tags":["java","jsp-tags"],"answers":[{"tags":[],"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"comment_count":0,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1315794726,"creation_date":1315794726,"answer_id":7382781,"question_id":7382607,"body_markdown":"css href link is incorrect. Use relative path instead:\r\n\r\n    &lt;link href=&quot;../css/loginstyle.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;","title":"how to load CSS file into jsp","body":"<p>css href link is incorrect. Use relative path instead:</p>\n\n<pre><code>&lt;link href=\"../css/loginstyle.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355213,"reputation":1093,"user_id":1293752,"accept_rate":59,"display_name":"kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1364985091,"creation_date":1364985091,"answer_id":15784968,"question_id":7382607,"body_markdown":"You can write like that. This is for whenever you change context path you don&#39;t need to modify your jsp file.\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;${pageContext.request.contextPath}/css/styles.css&quot; /&gt;","title":"how to load CSS file into jsp","body":"<p>You can write like that. This is for whenever you change context path you don't need to modify your jsp file.</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/css/styles.css\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4691046,"reputation":430,"user_id":3797176,"accept_rate":80,"display_name":"Axel Montini"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1432998635,"creation_date":1432978836,"answer_id":30544579,"question_id":7382607,"body_markdown":"I had the same problem too. Then i realized that **in the MainPageServlet the urlPatterns parameter in @WebServlet annotation contained &quot;/&quot;**, because i wanted to forward to the MainPage if the user entered the section *www.site.com/* . When i tried to open the css file from the browser, the url was www.site.com/css/desktop.css, but the page content was THE PAGE *MainPage.jsp*. So, i removed the &quot;/&quot; urlPattern and now i can use CSS files in my jsp file using one of the most common solutions (`${pageContext.request.contextPath}/css/desktop.css`).\r\nMake sure  your servlet doesn&#39;t contain the &quot;/&quot; urlPattern.\r\nI hope this worked for u too,\r\n- Axel Montini","title":"how to load CSS file into jsp","body":"<p>I had the same problem too. Then i realized that <strong>in the MainPageServlet the urlPatterns parameter in @WebServlet annotation contained \"/\"</strong>, because i wanted to forward to the MainPage if the user entered the section <em>www.site.com/</em> . When i tried to open the css file from the browser, the url was www.site.com/css/desktop.css, but the page content was THE PAGE <em>MainPage.jsp</em>. So, i removed the \"/\" urlPattern and now i can use CSS files in my jsp file using one of the most common solutions (<code>${pageContext.request.contextPath}/css/desktop.css</code>).\nMake sure  your servlet doesn't contain the \"/\" urlPattern.\nI hope this worked for u too,\n- Axel Montini</p>\n"},{"tags":[],"owner":{"account_id":11895790,"reputation":421,"user_id":8705294,"display_name":"Андрій Андрущенко"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1506886962,"creation_date":1506886962,"answer_id":46516208,"question_id":7382607,"body_markdown":"I use this version \r\n\r\n    &lt;style&gt;&lt;%@include file=&quot;/WEB-INF/css/style.css&quot;%&gt;&lt;/style&gt;","title":"how to load CSS file into jsp","body":"<p>I use this version </p>\n\n<pre><code>&lt;style&gt;&lt;%@include file=\"/WEB-INF/css/style.css\"%&gt;&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14272169,"reputation":362,"user_id":10309356,"display_name":"SAAD BELEFQIH"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624756731,"creation_date":1624756731,"answer_id":68147288,"question_id":7382607,"body_markdown":"if everything seems correct, and despite it still does not work I invite you to load the statics files in the web.xml like this \r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;default&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/includes/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nafter \r\n\r\n    &lt;!-- bootstrap css --&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/includes/asserts/css/bootstrap.min.css&quot;/&gt;","title":"how to load CSS file into jsp","body":"<p>if everything seems correct, and despite it still does not work I invite you to load the statics files in the web.xml like this</p>\n<pre><code>&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/includes/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>after</p>\n<pre><code>&lt;!-- bootstrap css --&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/includes/asserts/css/bootstrap.min.css&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25851868,"reputation":11,"user_id":19585747,"display_name":"Hans Mbua"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658307942,"creation_date":1658307888,"answer_id":73048766,"question_id":7382607,"body_markdown":"use this it worked for me \r\n\r\n       &lt;style&gt;&lt;%@include file=&quot;/WEB-INF/view/style/style.css&quot;%&gt;&lt;/style&gt;\r\n\r\n","title":"how to load CSS file into jsp","body":"<p>use this it worked for me</p>\n<pre><code>   &lt;style&gt;&lt;%@include file=&quot;/WEB-INF/view/style/style.css&quot;%&gt;&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20770313,"reputation":592,"user_id":15342125,"display_name":"Paul Bradbury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666407767,"creation_date":1666407767,"answer_id":74160786,"question_id":7382607,"body_markdown":"For CSS : \r\n\r\n```html\r\n&lt;link href=&quot;css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n```\r\n\r\nFor JS : \r\n\r\n```html\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;js/bootstrap.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nFiles location: \r\n```bash\r\n└───src\r\n    └───main\r\n        ├───java\r\n        └───webapp\r\n            ├───css/bootstrap.css\r\n            ├───js/bootstrap.js\r\n            ├───META-INF\r\n            └───WEB-INF/index.jsp\r\n                └───lib\r\n```\r\n\r\n[![css-js file location JSP][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X7Fa5.png","title":"how to load CSS file into jsp","body":"<p>For CSS :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;link href=&quot;css/bootstrap.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n</code></pre>\n<p>For JS :</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script type=&quot;text/javascript&quot; src=&quot;js/bootstrap.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Files location:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>└───src\n    └───main\n        ├───java\n        └───webapp\n            ├───css/bootstrap.css\n            ├───js/bootstrap.js\n            ├───META-INF\n            └───WEB-INF/index.jsp\n                └───lib\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/X7Fa5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X7Fa5.png\" alt=\"css-js file location JSP\" /></a></p>\n"}],"owner":{"account_id":904587,"reputation":524,"user_id":939747,"accept_rate":75,"display_name":"ylnsagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194660,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":7,"score":34,"last_activity_date":1666407767,"creation_date":1315792017,"question_id":7382607,"body_markdown":"I created a jsp page as follows: \r\n\r\n    &lt;%@ page contentType=&quot;text/css&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Login page&lt;/title&gt;\r\n    &lt;link href=&quot;/css/loginstyle.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt; India welfare&lt;/h1&gt;\r\n    &lt;p&gt; welcome &lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nand named it as **login.jsp**\r\n\r\nand i also created a css file called loginstyle.css and the code of the .css file is as follows:\r\n\r\n    body\r\n    {\r\n    background-color:#d0e4fe;\r\n    }\r\n    h1\r\n    {\r\n    color:orange;\r\n    text-align:center;\r\n    }\r\n    p\r\n    {\r\n    font-family:&quot;Times New Roman&quot;;\r\n    font-size:20px;\r\n    }\r\n\r\nthe directory structure for css and jsp&#39;s are as follows:\r\n**webcontent/welfare_web/css** for .css files  and\r\n**webcontent/welfare_web/login** for jsp files\r\n\r\nthe programming editor is **eclipse** and the server i am using is **tomcat 7.0**. when i am trying to run the login.jsp file using tomcat server. The css file is not showing any effect. i mean the output is normal text and is not as per the CSS file. \r\n\r\nplease help me how to make the .css file to effect the jsp file.\r\n\r\n","title":"how to load CSS file into jsp","body":"<p>I created a jsp page as follows: </p>\n\n<pre><code>&lt;%@ page contentType=\"text/css\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Login page&lt;/title&gt;\n&lt;link href=\"/css/loginstyle.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt; India welfare&lt;/h1&gt;\n&lt;p&gt; welcome &lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and named it as <strong>login.jsp</strong></p>\n\n<p>and i also created a css file called loginstyle.css and the code of the .css file is as follows:</p>\n\n<pre><code>body\n{\nbackground-color:#d0e4fe;\n}\nh1\n{\ncolor:orange;\ntext-align:center;\n}\np\n{\nfont-family:\"Times New Roman\";\nfont-size:20px;\n}\n</code></pre>\n\n<p>the directory structure for css and jsp's are as follows:\n<strong>webcontent/welfare_web/css</strong> for .css files  and\n<strong>webcontent/welfare_web/login</strong> for jsp files</p>\n\n<p>the programming editor is <strong>eclipse</strong> and the server i am using is <strong>tomcat 7.0</strong>. when i am trying to run the login.jsp file using tomcat server. The css file is not showing any effect. i mean the output is normal text and is not as per the CSS file. </p>\n\n<p>please help me how to make the .css file to effect the jsp file.</p>\n"},{"tags":["java","android","kotlin","android-layout","android-imageview"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666406952,"post_id":74154208,"comment_id":130936059,"body_markdown":"updated answer you can check!","body":"updated answer you can check!"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666406938,"creation_date":1666360113,"answer_id":74154636,"question_id":74154208,"body_markdown":"Your Image is hiding stroke border because your `drawable` or background shape of `constraint` layout have `corners` radius so if you notice in your image only corner parts are being hidden so you can fix by also adding corners to image. You can do by wrapping `ImageView` in `CardView` and giving corner radius to that cardview something like this - \r\n\r\n**UPDATED CODE :**\r\n\r\n```\r\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/constraint_rt&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;@dimen/_115sdp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        android:padding=&quot;1dp&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtpopularRT&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fontFamily=&quot;@font/worksans_semibold&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/klgreen&quot;\r\n            android:textSize=&quot;@dimen/_12ssp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n\r\n             &lt;ImageView\r\n              android:id=&quot;@+id/imageRt&quot;\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;\r\n              android:adjustViewBounds=&quot;true&quot;\r\n              android:scaleType=&quot;fitXY&quot;\r\n              android:visibility=&quot;gone&quot; /&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n``` \r\n\r\n**INFO :**\r\n\r\nI have added `10dp` of corner radius because your shape drawable have the same radius - `10dp`.\r\n\r\nP.S - Alternative You can also use [RoundedImageView][1]\r\n\r\n\r\n  [1]: https://github.com/vinc3m1/RoundedImageView#roundedimageview","title":"Android: corner border stroke getting hidden behind imageview","body":"<p>Your Image is hiding stroke border because your <code>drawable</code> or background shape of <code>constraint</code> layout have <code>corners</code> radius so if you notice in your image only corner parts are being hidden so you can fix by also adding corners to image. You can do by wrapping <code>ImageView</code> in <code>CardView</code> and giving corner radius to that cardview something like this -</p>\n<p><strong>UPDATED CODE :</strong></p>\n<pre><code>   &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraint_rt&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;@dimen/_115sdp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:padding=&quot;1dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtpopularRT&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/worksans_semibold&quot;\n            android:gravity=&quot;center&quot;\n            android:textColor=&quot;@color/klgreen&quot;\n            android:textSize=&quot;@dimen/_12ssp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:cardCornerRadius=&quot;10dp&quot;&gt;\n\n             &lt;ImageView\n              android:id=&quot;@+id/imageRt&quot;\n              android:layout_width=&quot;match_parent&quot;\n              android:layout_height=&quot;match_parent&quot;\n              android:adjustViewBounds=&quot;true&quot;\n              android:scaleType=&quot;fitXY&quot;\n              android:visibility=&quot;gone&quot; /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>INFO :</strong></p>\n<p>I have added <code>10dp</code> of corner radius because your shape drawable have the same radius - <code>10dp</code>.</p>\n<p>P.S - Alternative You can also use <a href=\"https://github.com/vinc3m1/RoundedImageView#roundedimageview\" rel=\"nofollow noreferrer\">RoundedImageView</a></p>\n"}],"owner":{"account_id":19223398,"reputation":200,"user_id":14046751,"display_name":"android dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74154636,"answer_count":1,"score":0,"last_activity_date":1666406938,"creation_date":1666358139,"question_id":74154208,"body_markdown":"hello I&#39;m trying to add a corner to my constraint layout so the logic is whenever from the response I&#39;m not getting the image I will show text else image but whenever the image comes corner stroke is getting hidden in the `imageview` \r\n\r\nproblem image:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere is my code:\r\n\r\n       &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/constraint_rt&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;@dimen/_115sdp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:padding=&quot;1dp&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txtpopularRT&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/worksans_semibold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/klgreen&quot;\r\n                android:textSize=&quot;@dimen/_12ssp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageRt&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:visibility=&quot;gone&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\ndrawable file:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n    &lt;gradient\r\n        android:startColor=&quot;@color/black&quot;\r\n        android:endColor=&quot;@color/new_black_1&quot;\r\n        android:angle=&quot;270&quot; /&gt;\r\n    &lt;stroke android:width=&quot;2dp&quot; android:color=&quot;@color/kred&quot; /&gt;\r\n    &lt;corners\r\n        android:radius=&quot;10dp&quot;&gt;\r\n    &lt;/corners&gt;\r\n&lt;/shape&gt;\r\n\r\n\r\nplease help me out with how can I show the stroke at the corner\r\n\r\nany help will be appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OukmH.png","title":"Android: corner border stroke getting hidden behind imageview","body":"<p>hello I'm trying to add a corner to my constraint layout so the logic is whenever from the response I'm not getting the image I will show text else image but whenever the image comes corner stroke is getting hidden in the <code>imageview</code></p>\n<p>problem image:-</p>\n<p><a href=\"https://i.stack.imgur.com/OukmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OukmH.png\" alt=\"enter image description here\" /></a></p>\n<p>here is my code:</p>\n<pre><code>   &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/constraint_rt&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;@dimen/_115sdp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintDimensionRatio=&quot;W,16:9&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:padding=&quot;1dp&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:background=&quot;@drawable/rt_list_img_gradient_bg_with_stroke&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtpopularRT&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/worksans_semibold&quot;\n            android:gravity=&quot;center&quot;\n            android:textColor=&quot;@color/klgreen&quot;\n            android:textSize=&quot;@dimen/_12ssp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageRt&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:adjustViewBounds=&quot;true&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:visibility=&quot;gone&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>drawable file:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:shape=&quot;rectangle&quot;&gt;\n&lt;gradient\n    android:startColor=&quot;@color/black&quot;\n    android:endColor=&quot;@color/new_black_1&quot;\n    android:angle=&quot;270&quot; /&gt;\n&lt;stroke android:width=&quot;2dp&quot; android:color=&quot;@color/kred&quot; /&gt;\n&lt;corners\n    android:radius=&quot;10dp&quot;&gt;\n&lt;/corners&gt;\n</code></pre>\n\n<p>please help me out with how can I show the stroke at the corner</p>\n<p>any help will be appreciated</p>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666172037,"post_id":74123010,"comment_id":130870572,"body_markdown":"*&quot;Exception e1 is never thrown in try block&quot;* - that means that you&#39;re trying to catch a **checked** exception which is not expected to be thrown. So why do you want to catch a checked exception which would never occur to begin with?","body":"<i>&quot;Exception e1 is never thrown in try block&quot;</i> - that means that you&#39;re trying to catch a <b>checked</b> exception which is not expected to be thrown. So why do you want to catch a checked exception which would never occur to begin with?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666172526,"post_id":74123010,"comment_id":130870773,"body_markdown":"And since method `Function.apply()` as well as all other methods of the functional interfaces doesn&#39;t declare checked exceptions, then all other exceptions you&#39;re dialing with are runtime exception. And in most cases you should not catch them because they are meant to signify that the code is malfunctioning in some way.","body":"And since method <code>Function.apply()</code> as well as all other methods of the functional interfaces doesn&#39;t declare checked exceptions, then all other exceptions you&#39;re dialing with are runtime exception. And in most cases you should not catch them because they are meant to signify that the code is malfunctioning in some way."},{"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"score":0,"creation_date":1666172527,"post_id":74123010,"comment_id":130870776,"body_markdown":"@AlexanderIvanchenko like you said it is a checked exception, but I need to catch it and do some actions according to it. It is never thrown because I am trying to call my functions with function.apply() method so It is not a good way to create a common wrapper for my functions I think.","body":"@AlexanderIvanchenko like you said it is a checked exception, but I need to catch it and do some actions according to it. It is never thrown because I am trying to call my functions with function.apply() method so It is not a good way to create a common wrapper for my functions I think."},{"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"score":2,"creation_date":1666172748,"post_id":74123010,"comment_id":130870859,"body_markdown":"You can define your own functional Interface with the `throws` declaration for the desired exception type: [See this post](https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception).","body":"You can define your own functional Interface with the <code>throws</code> declaration for the desired exception type: <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">See this post</a>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666172814,"post_id":74123010,"comment_id":130870887,"body_markdown":"You probably misunderstand, it&#39;s impossible to propagate checked exception outside the `java.util.function.Function`. Even if inside a function you&#39;re invoking a method that let&#39;s say can throw an `IOException` (which is checked), you would need to catch it right on the spot. Otherwise your code would not compile.","body":"You probably misunderstand, it&#39;s impossible to propagate checked exception outside the <code>java.util.function.Function</code>. Even if inside a function you&#39;re invoking a method that let&#39;s say can throw an <code>IOException</code> (which is checked), you would need to catch it right on the spot. Otherwise your code would not compile."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666172890,"post_id":74123010,"comment_id":130870914,"body_markdown":"@AlexanderIvanchenko Not to muddy the water, but it&#39;s not impossible. Lombok&#39;s `@SneakyThrows`, for example","body":"@AlexanderIvanchenko Not to muddy the water, but it&#39;s not impossible. Lombok&#39;s <code>@SneakyThrows</code>, for example"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666173314,"post_id":74123010,"comment_id":130871039,"body_markdown":"@Michael Yep, but we can&#39;t annotate a lambda with `@SneakyThrows`. In order to use it, the function has to be implemented as a class.","body":"@Michael Yep, but we can&#39;t annotate a lambda with <code>@SneakyThrows</code>. In order to use it, the function has to be implemented as a class."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666405964,"post_id":74123010,"comment_id":130935969,"body_markdown":"In the future, it&#39;s much more convenient to provide code in your question that can be compiled, rather than pseudocode. This will increase your chances of getting a timely and high quality answer.","body":"In the future, it&#39;s much more convenient to provide code in your question that can be compiled, rather than pseudocode. This will increase your chances of getting a timely and high quality answer."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666406390,"creation_date":1666406390,"answer_id":74160726,"question_id":74123010,"body_markdown":"The issue is that `Function.apply` is not declared to throw any exceptions, so it is not generally possible to throw checked exceptions from an implementation, or to catch a checked exception from it at a call site. (Ignoring unusual workarounds as mentioned in the comments.)\r\n\r\nHowever, Java does not restrict lambda expressions to only be used with standard functional interfaces, so the best approach when you need to handle specific exception types is to create your own.\r\n\r\n    @FunctionalInterface\r\n    interface MyFunction {\r\n        ResponseType apply(ParamType param) throws Exception1, Exception2, Exception3;\r\n    }\r\n\r\nThis can be used in a similar way to `java.util.function.Function`:\r\n\r\n    public ResponseType callFunction(MyFunction function, ParamType obj) {\r\n        try{\r\n            return function.apply(obj);\r\n        }\r\n        catch (Exception1 e) { throw new RuntimeException(&quot;Exception1&quot;); }\r\n        catch (Exception2 e) { throw new RuntimeException(&quot;Exception2&quot;); }\r\n        catch (Exception3 e) { throw new RuntimeException(&quot;Exception3&quot;); }\r\n    }\r\n\r\n(Modified to throw runtime exceptions in the catch blocks so that this will compile)\r\n\r\nThe calling code is identical to any standard functional interface:\r\n\r\n        callFunction(this::functionA, obj);\r\n\r\n        callFunction(this::functionB, obj);\r\n\r\nor, equivalently:\r\n\r\n        callFunction(param -&gt; functionA(param), obj);\r\n\r\n        callFunction(param -&gt; functionB(param), obj);\r\n","title":"How to wrap different methods with same try catch block?","body":"<p>The issue is that <code>Function.apply</code> is not declared to throw any exceptions, so it is not generally possible to throw checked exceptions from an implementation, or to catch a checked exception from it at a call site. (Ignoring unusual workarounds as mentioned in the comments.)</p>\n<p>However, Java does not restrict lambda expressions to only be used with standard functional interfaces, so the best approach when you need to handle specific exception types is to create your own.</p>\n<pre><code>@FunctionalInterface\ninterface MyFunction {\n    ResponseType apply(ParamType param) throws Exception1, Exception2, Exception3;\n}\n</code></pre>\n<p>This can be used in a similar way to <code>java.util.function.Function</code>:</p>\n<pre><code>public ResponseType callFunction(MyFunction function, ParamType obj) {\n    try{\n        return function.apply(obj);\n    }\n    catch (Exception1 e) { throw new RuntimeException(&quot;Exception1&quot;); }\n    catch (Exception2 e) { throw new RuntimeException(&quot;Exception2&quot;); }\n    catch (Exception3 e) { throw new RuntimeException(&quot;Exception3&quot;); }\n}\n</code></pre>\n<p>(Modified to throw runtime exceptions in the catch blocks so that this will compile)</p>\n<p>The calling code is identical to any standard functional interface:</p>\n<pre><code>    callFunction(this::functionA, obj);\n\n    callFunction(this::functionB, obj);\n</code></pre>\n<p>or, equivalently:</p>\n<pre><code>    callFunction(param -&gt; functionA(param), obj);\n\n    callFunction(param -&gt; functionB(param), obj);\n</code></pre>\n"}],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666406390,"creation_date":1666171721,"question_id":74123010,"body_markdown":"I have functions with the same param and response type like;\r\n\r\n    public ResponseType functionA(ParamType) throws Exception1\r\n\r\n    public ResponseType functionB(ParamType) throws Exception1\r\n\r\nand I call these functions from different places with the same repeating try/catch block. Is there any way to reduce the duplicate code?\r\n\r\n    try{\r\n        return functionA(obj);\r\n    } catch (Exception1 e) { .... }\r\n    catch (Exception2 e) { .... }\r\n    catch (Exception3 e) { .... }\r\n\r\n\r\n    try{\r\n        return functionB(obj);\r\n    } catch (Exception1 e) { .... }\r\n    catch (Exception2 e) { .... }\r\n    catch (Exception3 e) { .... }\r\nI have tried to create a function like below, but I am getting \r\n\r\n&gt; Exception e1 is never thrown in try block\r\n\r\n as expected. \r\n\r\n    public ResponseType callFunction(Function&lt;ParamType, ResponseType&gt; function, ParamType obj) {\r\n        try{\r\n            return function.apply(obj)\r\n        }catch (Exception1 e) { .... }\r\n        catch (Exception2 e) { .... }\r\n        catch (Exception3 e) { .... }\r\n    }","title":"How to wrap different methods with same try catch block?","body":"<p>I have functions with the same param and response type like;</p>\n<pre><code>public ResponseType functionA(ParamType) throws Exception1\n\npublic ResponseType functionB(ParamType) throws Exception1\n</code></pre>\n<p>and I call these functions from different places with the same repeating try/catch block. Is there any way to reduce the duplicate code?</p>\n<pre><code>try{\n    return functionA(obj);\n} catch (Exception1 e) { .... }\ncatch (Exception2 e) { .... }\ncatch (Exception3 e) { .... }\n\n\ntry{\n    return functionB(obj);\n} catch (Exception1 e) { .... }\ncatch (Exception2 e) { .... }\ncatch (Exception3 e) { .... }\n</code></pre>\n<p>I have tried to create a function like below, but I am getting</p>\n<blockquote>\n<p>Exception e1 is never thrown in try block</p>\n</blockquote>\n<p>as expected.</p>\n<pre><code>public ResponseType callFunction(Function&lt;ParamType, ResponseType&gt; function, ParamType obj) {\n    try{\n        return function.apply(obj)\n    }catch (Exception1 e) { .... }\n    catch (Exception2 e) { .... }\n    catch (Exception3 e) { .... }\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666402602,"post_id":74160388,"comment_id":130935658,"body_markdown":"What is SlideModel? Can you show its constructors?","body":"What is SlideModel? Can you show its constructors?"}],"answers":[{"tags":[],"owner":{"account_id":25740634,"reputation":1,"user_id":19494693,"display_name":"Tarun Bidaliya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666405942,"creation_date":1666405942,"answer_id":74160706,"question_id":74160388,"body_markdown":"I think the problem is with the line\r\n\r\n    imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\r\n\r\nThe scaling(CENTER_CROP) of the images that you have done in the above line **shouldn&#39;t be done there**.\r\n\r\nThe scaling should be done while adding the images in the ArrayList &quot;slideModels&quot;.\r\n\r\n    slideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\r\n\r\nNow the final code will look something like: - \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_home);\r\n\r\n    ImageSlider imageSlider = findViewById(R.id.slider);\r\n\r\n    List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\r\n\r\n    slideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\r\n\r\n    imageSlider.setImageList(slideModels);\r\n\r\n    }\r\n\r\nPlease let me know if it works.","title":"Constructor error when adding image slider","body":"<p>I think the problem is with the line</p>\n<pre><code>imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\n</code></pre>\n<p>The scaling(CENTER_CROP) of the images that you have done in the above line <strong>shouldn't be done there</strong>.</p>\n<p>The scaling should be done while adding the images in the ArrayList &quot;slideModels&quot;.</p>\n<pre><code>slideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\n</code></pre>\n<p>Now the final code will look something like: -</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_home);\n\nImageSlider imageSlider = findViewById(R.id.slider);\n\nList&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\n\nslideModels.add(new SlideModel(R.drawable.devonhouse, &quot;&quot;,ScaleTypes.CENTER_CROP ));\n\nimageSlider.setImageList(slideModels);\n\n}\n</code></pre>\n<p>Please let me know if it works.</p>\n"}],"owner":{"account_id":19580515,"reputation":1,"user_id":14329697,"display_name":"Shawn-Paul Philpotts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666405942,"creation_date":1666400002,"question_id":74160388,"body_markdown":"I&#39;m trying to add a image slider to my app but i&#39;m stuck at error &quot;Cannot resolve&quot;SlideMode(int)&quot;. I have no idea how to fix this  \r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.slider);\r\n\r\n        List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\r\n\r\n\r\n        slideModels.add(new SlideModel(R.drawable.devonhouse));\r\n\r\n        imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\r\n\r\n\r\n    }\r\n}","title":"Constructor error when adding image slider","body":"<p>I'm trying to add a image slider to my app but i'm stuck at error &quot;Cannot resolve&quot;SlideMode(int)&quot;. I have no idea how to fix this</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n\n    ImageSlider imageSlider = findViewById(R.id.slider);\n\n    List&lt;SlideModel&gt; slideModels = new ArrayList&lt;&gt;();\n\n\n    slideModels.add(new SlideModel(R.drawable.devonhouse));\n\n    imageSlider.setImageList(slideModels,ScaleTypes.CENTER_CROP);\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666357349,"post_id":74153861,"comment_id":130924130,"body_markdown":"No, there isn&#39;t.","body":"No, there isn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666359158,"creation_date":1666357952,"answer_id":74154164,"question_id":74153861,"body_markdown":"There&#39;s no way to implement this logic using functional features (at least in a way that could be considered to be well-readable and clean) due to the nature of the task. To join the names properly, we need to be aware of the index of the element (whether it&#39;s the last element, or if there&#39;s only one element).\r\n\r\nBut the code you&#39;ve written might be enhanced a bit:\r\n\r\n    public static String joinNames(List&lt;String&gt; names) {\r\n        \r\n        if (names.isEmpty()) throw new IllegalArgumentException(); // or return an empty string depending on your needs\r\n        \r\n        StringBuilder result = new StringBuilder();\r\n    \r\n        if (names.size() &gt; 1) {\r\n            result.append(String.join(&quot;, &quot;, names.subList(0, names.size() - 1)))\r\n                .append(&quot; and &quot;);\r\n        }\r\n    \r\n        return result.append(names.get(names.size() - 1))\r\n            .toString();\r\n    }","title":"How join strings in the list according to list size","body":"<p>There's no way to implement this logic using functional features (at least in a way that could be considered to be well-readable and clean) due to the nature of the task. To join the names properly, we need to be aware of the index of the element (whether it's the last element, or if there's only one element).</p>\n<p>But the code you've written might be enhanced a bit:</p>\n<pre><code>public static String joinNames(List&lt;String&gt; names) {\n    \n    if (names.isEmpty()) throw new IllegalArgumentException(); // or return an empty string depending on your needs\n    \n    StringBuilder result = new StringBuilder();\n\n    if (names.size() &gt; 1) {\n        result.append(String.join(&quot;, &quot;, names.subList(0, names.size() - 1)))\n            .append(&quot; and &quot;);\n    }\n\n    return result.append(names.get(names.size() - 1))\n        .toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":1,"creation_date":1666374150,"post_id":74154995,"comment_id":130930071,"body_markdown":"Unnecessary parsing to array for one-liner. Not a good solution.","body":"Unnecessary parsing to array for one-liner. Not a good solution."}],"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666361634,"creation_date":1666361634,"answer_id":74154995,"question_id":74153861,"body_markdown":"```\r\npublic static String joinNames(List&lt;String&gt; names) {\r\n    //...\r\n    return String.join(&quot;, &quot;, names.toArray(String[]::new)).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\r\n}\r\n```\r\nor even better\r\n```\r\npublic static String joinNames(String... names) {\r\n    //...\r\n    return String.join(&quot;, &quot;, names).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\r\n}\r\n```\r\n","title":"How join strings in the list according to list size","body":"<pre><code>public static String joinNames(List&lt;String&gt; names) {\n    //...\n    return String.join(&quot;, &quot;, names.toArray(String[]::new)).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\n}\n</code></pre>\n<p>or even better</p>\n<pre><code>public static String joinNames(String... names) {\n    //...\n    return String.join(&quot;, &quot;, names).replaceFirst(&quot;, (\\\\w+)$&quot;, &quot; and $1&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666405305,"creation_date":1666362479,"answer_id":74155190,"question_id":74153861,"body_markdown":"**You can try in this way using StringBuilder : lastIndexOf(&quot;,&quot;)**\r\n\r\n***Approach Here,***\r\n\r\nI have first converted the given list of names into `,` separated string and then replaced the last comma with `&quot; and &quot;` with the logic below:\r\n\r\n**```sb.lastIndexOf(&quot;,&quot;)``` :** It will give the index of last `,` comma in the string, which is used in replacing the last comma separated value. e.g here is *`,John` with ` and John`*\r\n\r\n\r\n\r\n        public class Test {\r\n           public static void main(String[] args) {\r\n    \r\n            List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;,&quot;John&quot;);\r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            if(names.size() &gt; 1) {\r\n                sb.append(String.join(&quot;,&quot;,names));\r\n                sb.replace(sb.lastIndexOf(&quot;,&quot;),sb.length(),&quot; and &quot; + sb.substring(sb.lastIndexOf(&quot;,&quot;)+1));\r\n            } else {\r\n                sb.append(names.get(0));\r\n            }\r\n            System.out.println(sb);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Alice,Bob,Kevin and John\r\n\r\n","title":"How join strings in the list according to list size","body":"<p><strong>You can try in this way using StringBuilder : lastIndexOf(&quot;,&quot;)</strong></p>\n<p><em><strong>Approach Here,</strong></em></p>\n<p>I have first converted the given list of names into <code>,</code> separated string and then replaced the last comma with <code>&quot; and &quot;</code> with the logic below:</p>\n<p><strong><code>sb.lastIndexOf(&quot;,&quot;)</code> :</strong> It will give the index of last <code>,</code> comma in the string, which is used in replacing the last comma separated value. e.g here is <em><code>,John</code> with <code> and John</code></em></p>\n<pre><code>    public class Test {\n       public static void main(String[] args) {\n\n        List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;,&quot;John&quot;);\n        StringBuilder sb = new StringBuilder();\n\n        if(names.size() &gt; 1) {\n            sb.append(String.join(&quot;,&quot;,names));\n            sb.replace(sb.lastIndexOf(&quot;,&quot;),sb.length(),&quot; and &quot; + sb.substring(sb.lastIndexOf(&quot;,&quot;)+1));\n        } else {\n            sb.append(names.get(0));\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Alice,Bob,Kevin and John\n</code></pre>\n"}],"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74154164,"answer_count":3,"score":1,"last_activity_date":1666405305,"creation_date":1666356493,"question_id":74153861,"body_markdown":"I want to concatenate strings in `List` using different delimiters according to list size and element&#39;s position.\r\n\r\nHere&#39;s my code with a sample-data: \r\n\r\n```\r\nfinal List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;);\r\n    \r\nif (names.size() &lt; 3) {\r\n    System.out.println(String.join(&quot; and &quot;, names));\r\n} else {\r\n    String joinedNames = String.join(&quot;, &quot;, names.subList(0, names.size() - 1));\r\n    joinedNames += &quot; and &quot; + names.get(names.size() - 1);\r\n    System.out.println(joinedNames);\r\n}\r\n```\r\n*Expected outputs:*\r\n```none\r\n// List of size 2\r\nAlice and Bob\r\n\r\n// List of size 3\r\nAlice, Bob and Kevin\r\n```\r\nIs there a better and more readable way to do it?","title":"How join strings in the list according to list size","body":"<p>I want to concatenate strings in <code>List</code> using different delimiters according to list size and element's position.</p>\n<p>Here's my code with a sample-data:</p>\n<pre><code>final List&lt;String&gt; names = Arrays.asList(&quot;Alice&quot;,&quot;Bob&quot;,&quot;Kevin&quot;);\n    \nif (names.size() &lt; 3) {\n    System.out.println(String.join(&quot; and &quot;, names));\n} else {\n    String joinedNames = String.join(&quot;, &quot;, names.subList(0, names.size() - 1));\n    joinedNames += &quot; and &quot; + names.get(names.size() - 1);\n    System.out.println(joinedNames);\n}\n</code></pre>\n<p><em>Expected outputs:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>// List of size 2\nAlice and Bob\n\n// List of size 3\nAlice, Bob and Kevin\n</code></pre>\n<p>Is there a better and more readable way to do it?</p>\n"},{"tags":["java","inputstream","reactive-programming"],"comments":[{"owner":{"account_id":6151821,"reputation":4968,"user_id":4796021,"display_name":"David P&#233;rez Cabrera"},"score":1,"creation_date":1549375752,"post_id":54536217,"comment_id":95873919,"body_markdown":"Possible duplicate of [RxJava. Read file to observable](https://stackoverflow.com/questions/43442480/rxjava-read-file-to-observable)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43442480/rxjava-read-file-to-observable\">RxJava. Read file to observable</a>"},{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1549378724,"post_id":54536217,"comment_id":95875771,"body_markdown":"I saw that question, but I could not implement Flowable.fromIterable(...) nor Observable.toIterable(...).","body":"I saw that question, but I could not implement Flowable.fromIterable(...) nor Observable.toIterable(...)."}],"answers":[{"comments":[{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1549378148,"post_id":54536282,"comment_id":95875377,"body_markdown":"I just found a similar solution, but I didn&#39;t use the charset: BufferedReader br = new BufferedReader(new InputStreamReader(is));\n        return br.lines()\n                .map(...)....;\n\nIs it the same? The file is in (ugly) ASCII.","body":"I just found a similar solution, but I didn&#39;t use the charset: BufferedReader br = new BufferedReader(new InputStreamReader(is));         return br.lines()                 .map(...)....;  Is it the same? The file is in (ugly) ASCII."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1549378315,"post_id":54536282,"comment_id":95875487,"body_markdown":"@fresko Yes if the file has been written using the default charset of your JVM, the constructor without a char set &quot;uses the default charset&quot;","body":"@fresko Yes if the file has been written using the default charset of your JVM, the constructor without a char set &quot;uses the default charset&quot;"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":1,"creation_date":1549802718,"post_id":54536282,"comment_id":96025968,"body_markdown":"the question author wants to use reactive programming. Your solution does not use reactive programming.","body":"the question author wants to use reactive programming. Your solution does not use reactive programming."}],"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1549376196,"creation_date":1549375823,"answer_id":54536282,"question_id":54536217,"body_markdown":"You can create a `stream` of `String` using the method [`lines`][1] of `BufferedReader`:\r\n\r\n&gt; Returns a `Stream`, the elements of which are lines read from this `BufferedReader`. \r\n\r\nwith a code similar to this one:\r\n\r\n    Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\r\n\r\nSo your code should be something like:\r\n\r\n    public List&lt;Person&gt; parse(final InputStream is) throws IOException {\r\n        CharSet cs = ... // Use the right charset for your file\r\n        Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\r\n        return  lines\r\n                .map(Person::new)   \r\n                .collect(toList());\r\n    }  \r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--","title":"How to create a line-based observable from InputStream?","body":"<p>You can create a <code>stream</code> of <code>String</code> using the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"nofollow noreferrer\"><code>lines</code></a> of <code>BufferedReader</code>:</p>\n\n<blockquote>\n  <p>Returns a <code>Stream</code>, the elements of which are lines read from this <code>BufferedReader</code>. </p>\n</blockquote>\n\n<p>with a code similar to this one:</p>\n\n<pre><code>Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\n</code></pre>\n\n<p>So your code should be something like:</p>\n\n<pre><code>public List&lt;Person&gt; parse(final InputStream is) throws IOException {\n    CharSet cs = ... // Use the right charset for your file\n    Stream&lt;String&gt; lines = new BufferedReader(new InputStreamReader(is, cs)).lines();\n    return  lines\n            .map(Person::new)   \n            .collect(toList());\n}  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"score":0,"creation_date":1609313007,"post_id":60263015,"comment_id":115807447,"body_markdown":"Minor correction here: this should be `Observable.fromIterable(`...`)`, not `Observable.from(`...`)`","body":"Minor correction here: this should be <code>Observable.fromIterable(</code>...<code>)</code>, not <code>Observable.from(</code>...<code>)</code>"},{"owner":{"account_id":4375565,"reputation":51,"user_id":3568707,"display_name":"Assa Lahav"},"score":0,"creation_date":1610008011,"post_id":60263015,"comment_id":115998568,"body_markdown":"I stand corrected. I was using the old rx.Observable, while you&#39;re talking about io.reactivex.Observable.","body":"I stand corrected. I was using the old rx.Observable, while you&#39;re talking about io.reactivex.Observable."}],"tags":[],"owner":{"account_id":4375565,"reputation":51,"user_id":3568707,"display_name":"Assa Lahav"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610008188,"creation_date":1581944385,"answer_id":60263015,"question_id":54536217,"body_markdown":"According to your code, you don&#39;t need to implement an Observable of lines, since you want afterwards to use Java&#39;s Streams. You can&#39;t move back from Rx to java streams.&lt;p&gt;\r\nBut if you want to base completely to Observables, you can start with this:\r\n```\r\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is))) {\r\n            Observable&lt;String&gt; linesObs = Observable.from(reader.lines()::iterator);\r\n            // In rxjava v2:\r\n            // Observable&lt;String&gt; linesObs = Observable.fromIterable(reader.lines()::iterator);\r\n            ...\r\n        }\r\n```","title":"How to create a line-based observable from InputStream?","body":"<p>According to your code, you don't need to implement an Observable of lines, since you want afterwards to use Java's Streams. You can't move back from Rx to java streams.<p>\nBut if you want to base completely to Observables, you can start with this:</p>\n<pre><code>        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is))) {\n            Observable&lt;String&gt; linesObs = Observable.from(reader.lines()::iterator);\n            // In rxjava v2:\n            // Observable&lt;String&gt; linesObs = Observable.fromIterable(reader.lines()::iterator);\n            ...\n        }\n</code></pre>\n"}],"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54536282,"answer_count":2,"score":2,"last_activity_date":1666404479,"creation_date":1549375574,"question_id":54536217,"body_markdown":"Sorry for the basic question...\r\nI have a function that takes an InputStream with the content of a file, and returns a list of objects, let&#39;s say Person.\r\n\r\nEvery line of the input file contains a person, so I want to parse it by line.\r\nNothing difficult but... this time I want to use reactive programming.\r\n\r\nSomething like: \r\n\r\n    public List&lt;Person&gt; parse(final InputStream is) throws IOException {\r\n        return\r\n        //create an observable which will split the input in many lines, &quot;\\n&quot;\r\n                .map(Person::new)\r\n                .collect(toList());\r\n    }\r\n\r\nI miss the commented step, that is: creating an observable that is not byte based, but line-based.","title":"How to create a line-based observable from InputStream?","body":"<p>Sorry for the basic question...\nI have a function that takes an InputStream with the content of a file, and returns a list of objects, let's say Person.</p>\n<p>Every line of the input file contains a person, so I want to parse it by line.\nNothing difficult but... this time I want to use reactive programming.</p>\n<p>Something like:</p>\n<pre><code>public List&lt;Person&gt; parse(final InputStream is) throws IOException {\n    return\n    //create an observable which will split the input in many lines, &quot;\\n&quot;\n            .map(Person::new)\n            .collect(toList());\n}\n</code></pre>\n<p>I miss the commented step, that is: creating an observable that is not byte based, but line-based.</p>\n"},{"tags":["java","runtime","runtime.exec"],"comments":[{"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"score":6,"creation_date":1356096424,"post_id":13991007,"comment_id":19309361,"body_markdown":"What&#39;s the problem exactly, do you have an error message you can add to the question? Thanks.","body":"What&#39;s the problem exactly, do you have an error message you can add to the question? Thanks."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1356096656,"post_id":13991007,"comment_id":19309466,"body_markdown":"you said, you want to pass two parameter, but here you are showing 3 parameters","body":"you said, you want to pass two parameter, but here you are showing 3 parameters"},{"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"score":0,"creation_date":1356096674,"post_id":13991007,"comment_id":19309479,"body_markdown":"if *it does not* execute, what is the error ? what does your program.exe do ?","body":"if <i>it does not</i> execute, what is the error ? what does your program.exe do ?"},{"owner":{"account_id":475630,"reputation":863,"user_id":886079,"accept_rate":55,"display_name":"user886079"},"score":11,"creation_date":1447084456,"post_id":13991007,"comment_id":55000190,"body_markdown":"Why is this question closed as &quot;too localized&quot;?","body":"Why is this question closed as &quot;too localized&quot;?"},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1618092307,"post_id":13991007,"comment_id":118498801,"body_markdown":"Does this answer your question? [Java Programming: call an exe from Java and passing parameters](https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters\">Java Programming: call an exe from Java and passing parameters</a>"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1618092197,"creation_date":1356096772,"answer_id":13991125,"question_id":13991007,"body_markdown":"You might also try its more modern cousin, [`ProcessBuilder`](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html):\r\n\r\nhttps://stackoverflow.com/questions/2876964/java-runtime-getruntime-exec-alternatives\r\n","title":"Execute external program","body":"<p>You might also try its more modern cousin, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a>:</p>\n<p><a href=\"https://stackoverflow.com/questions/2876964/java-runtime-getruntime-exec-alternatives\">Java Runtime.getRuntime().exec() alternatives</a></p>\n"},{"comments":[{"owner":{"account_id":1959330,"reputation":485,"user_id":1761437,"display_name":"sqtd"},"score":1,"creation_date":1356097781,"post_id":13991171,"comment_id":19309945,"body_markdown":"my problem is to pass parameters to program.exe","body":"my problem is to pass parameters to program.exe"},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1421157714,"post_id":13991171,"comment_id":44244612,"body_markdown":"Apart from getInputStream you can use getErrorStream to get the error messages (stderr)","body":"Apart from getInputStream you can use getErrorStream to get the error messages (stderr)"},{"owner":{"account_id":355150,"reputation":19342,"user_id":693927,"display_name":"Pimp Trizkit"},"score":0,"creation_date":1440461416,"post_id":13991171,"comment_id":52272409,"body_markdown":"For people looking for the one-liner with parameters:\n`(new ProcessBuilder(new String[]{ notePadPath, theFile.getPath()})).start();`\n... well... wrapped in a try/catch....  assuming `notePadPath` is something like `c:\\\\program files\\\\notepad++\\\\notepad++.exe` .. double slash for escape.. and your awesome because you use np++","body":"For people looking for the one-liner with parameters: <code>(new ProcessBuilder(new String[]{ notePadPath, theFile.getPath()})).start();</code> ... well... wrapped in a try/catch....  assuming <code>notePadPath</code> is something like <code>c:\\\\program files\\\\notepad++\\\\notepad++.exe</code> .. double slash for escape.. and your awesome because you use np++"},{"owner":{"account_id":470389,"reputation":5211,"user_id":877570,"accept_rate":40,"display_name":"user64141"},"score":1,"creation_date":1460749616,"post_id":13991171,"comment_id":60904494,"body_markdown":"What is the &quot;args&quot; variable?","body":"What is the &quot;args&quot; variable?"}],"tags":[],"owner":{"account_id":1991410,"reputation":1365,"user_id":1785339,"display_name":"Steven"},"comment_count":4,"down_vote_count":1,"up_vote_count":80,"is_accepted":true,"score":79,"last_activity_date":1520579766,"creation_date":1356097031,"answer_id":13991171,"question_id":13991007,"body_markdown":"borrowed this shamely from [here](https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters)\r\n\r\n    Process process = new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;,&quot;param1&quot;,&quot;param2&quot;).start();\r\n    InputStream is = process.getInputStream();\r\n    InputStreamReader isr = new InputStreamReader(is);\r\n    BufferedReader br = new BufferedReader(isr);\r\n    String line;\r\n    \r\n    System.out.printf(&quot;Output of running %s is:&quot;, Arrays.toString(args));\r\n    \r\n    while ((line = br.readLine()) != null) {\r\n      System.out.println(line);\r\n    }\r\n\r\nMore information [here](http://www.rgagnon.com/javadetails/java-0014.html)\r\n\r\nOther issues on how to pass commands [here](https://stackoverflow.com/questions/9958629/executing-external-program-in-java-and-passing-commands) and [here](https://stackoverflow.com/questions/2110415/how-to-bind-a-windows-console-application-with-java-application)","title":"Execute external program","body":"<p>borrowed this shamely from <a href=\"https://stackoverflow.com/questions/5604698/java-programming-call-an-exe-from-java-and-passing-parameters\">here</a></p>\n\n<pre><code>Process process = new ProcessBuilder(\"C:\\\\PathToExe\\\\MyExe.exe\",\"param1\",\"param2\").start();\nInputStream is = process.getInputStream();\nInputStreamReader isr = new InputStreamReader(is);\nBufferedReader br = new BufferedReader(isr);\nString line;\n\nSystem.out.printf(\"Output of running %s is:\", Arrays.toString(args));\n\nwhile ((line = br.readLine()) != null) {\n  System.out.println(line);\n}\n</code></pre>\n\n<p>More information <a href=\"http://www.rgagnon.com/javadetails/java-0014.html\" rel=\"noreferrer\">here</a></p>\n\n<p>Other issues on how to pass commands <a href=\"https://stackoverflow.com/questions/9958629/executing-external-program-in-java-and-passing-commands\">here</a> and <a href=\"https://stackoverflow.com/questions/2110415/how-to-bind-a-windows-console-application-with-java-application\">here</a></p>\n"},{"tags":[],"owner":{"account_id":67484,"reputation":20129,"user_id":197473,"accept_rate":61,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570115788,"creation_date":1570078076,"answer_id":58212481,"question_id":13991007,"body_markdown":"```java\r\nimport java.io.*;\r\n\r\npublic class Code {\r\n  public static void main(String[] args) throws Exception {\r\n    ProcessBuilder builder = new ProcessBuilder(&quot;ls&quot;, &quot;-ltr&quot;);\r\n    Process process = builder.start();\r\n    \r\n    StringBuilder out = new StringBuilder();\r\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\r\n    \tString line = null;\r\n      while ((line = reader.readLine()) != null) {\r\n      \tout.append(line);\r\n        out.append(&quot;\\n&quot;);\r\n      }\r\n      System.out.println(out);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**[Try online][1]**\r\n\r\n\r\n  [1]: https://code.labstack.com/S2KUEMHz","title":"Execute external program","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class Code {\n  public static void main(String[] args) throws Exception {\n    ProcessBuilder builder = new ProcessBuilder(\"ls\", \"-ltr\");\n    Process process = builder.start();\n\n    StringBuilder out = new StringBuilder();\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()))) {\n        String line = null;\n      while ((line = reader.readLine()) != null) {\n        out.append(line);\n        out.append(\"\\n\");\n      }\n      System.out.println(out);\n    }\n  }\n}\n</code></pre>\n\n<p><strong><a href=\"https://code.labstack.com/S2KUEMHz\" rel=\"nofollow noreferrer\">Try online</a></strong></p>\n"},{"comments":[{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":0,"creation_date":1684852862,"post_id":72361959,"comment_id":134576043,"body_markdown":"Note that this version blocks on `waitFor` if process produces some output. ([more info](https://stackoverflow.com/a/36740811/653539) - happened to me with `git status` launched this way)","body":"Note that this version blocks on <code>waitFor</code> if process produces some output. (<a href=\"https://stackoverflow.com/a/36740811/653539\">more info</a> - happened to me with <code>git status</code> launched this way)"}],"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653391182,"creation_date":1653391182,"answer_id":72361959,"question_id":13991007,"body_markdown":"This version is a Java 17 version using some built in convenience functions like the `xyzReader` methods and the streaming API consumption of the output. Take note that the example works for programs not running long and returning immediately when ready, so no daemons (otherwise the output processing should be done in a thread while waiting for the process to exit.).\r\n\r\nIf all the exception handling is ignored the code is really short: \r\n\r\n~~~java\r\n        Process process = new ProcessBuilder(&quot;program&quot;, &quot;param1&quot;, &quot;param2&quot;).start();\r\n        // check your program&#39;s used exit code in case or error\r\n        if (process.waitFor() != 0) {\r\n            throw new IOException(&quot;Program failed.&quot;);\r\n        }\r\n        String out;\r\n        try (BufferedReader reader = process.inputReader()) {\r\n            out = reader.lines().collect(Collectors.joining());\r\n        }\r\n~~~\r\n\r\nA more verbose version with proper error handling:\r\n\r\n~~~java\r\n        Process process;\r\n        try {\r\n            process = new ProcessBuilder(&quot;myprogram&quot;, &quot;param1&quot;,\r\n                    &quot;param2&quot;).start();\r\n            int errorCode = process.waitFor();\r\n// adjust the error code for your use case, different programs migth not use 0 as success\r\n            if (errorCode != 0) {\r\n                try (BufferedReader reader = process.errorReader(StandardCharsets.UTF_8)) {\r\n                    throw new RuntimeException(String.format(&quot;Program execution failed (code %d): %s&quot;, errorCode,\r\n                            reader.lines().collect(Collectors.joining())));\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Could not invoke program.&quot;, e);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(&quot;Could not wait for process exit.&quot;, e);\r\n        }\r\n        String output;\r\n        try (BufferedReader reader = process.inputReader()) {\r\n            output = reader.lines().collect(Collectors.joining());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Could not invoke external program.&quot;, e);\r\n        }\r\n~~~\r\n\r\nAlso take into account that maybe not the `inputReader` is used for all output, but also the `errorReader` holds some information of the program output. It can also be that programs are using the `inputReader` for the error messages instead of the `errorReader`","title":"Execute external program","body":"<p>This version is a Java 17 version using some built in convenience functions like the <code>xyzReader</code> methods and the streaming API consumption of the output. Take note that the example works for programs not running long and returning immediately when ready, so no daemons (otherwise the output processing should be done in a thread while waiting for the process to exit.).</p>\n<p>If all the exception handling is ignored the code is really short:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Process process = new ProcessBuilder(&quot;program&quot;, &quot;param1&quot;, &quot;param2&quot;).start();\n        // check your program's used exit code in case or error\n        if (process.waitFor() != 0) {\n            throw new IOException(&quot;Program failed.&quot;);\n        }\n        String out;\n        try (BufferedReader reader = process.inputReader()) {\n            out = reader.lines().collect(Collectors.joining());\n        }\n</code></pre>\n<p>A more verbose version with proper error handling:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Process process;\n        try {\n            process = new ProcessBuilder(&quot;myprogram&quot;, &quot;param1&quot;,\n                    &quot;param2&quot;).start();\n            int errorCode = process.waitFor();\n// adjust the error code for your use case, different programs migth not use 0 as success\n            if (errorCode != 0) {\n                try (BufferedReader reader = process.errorReader(StandardCharsets.UTF_8)) {\n                    throw new RuntimeException(String.format(&quot;Program execution failed (code %d): %s&quot;, errorCode,\n                            reader.lines().collect(Collectors.joining())));\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not invoke program.&quot;, e);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(&quot;Could not wait for process exit.&quot;, e);\n        }\n        String output;\n        try (BufferedReader reader = process.inputReader()) {\n            output = reader.lines().collect(Collectors.joining());\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Could not invoke external program.&quot;, e);\n        }\n</code></pre>\n<p>Also take into account that maybe not the <code>inputReader</code> is used for all output, but also the <code>errorReader</code> holds some information of the program output. It can also be that programs are using the <code>inputReader</code> for the error messages instead of the <code>errorReader</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1664042604,"post_id":73794874,"comment_id":130382965,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73794874/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16436099,"reputation":27,"user_id":12819006,"display_name":"Maj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666404365,"creation_date":1663728871,"answer_id":73794874,"question_id":13991007,"body_markdown":"new ProcessBuilder(&quot;command&quot;).inheritIO().start().waitFor();\r\n\r\nexplanation:\r\n\r\nProcessBuilder pb = new ProcessBuilder(&quot;command&quot;);\r\n\r\n&quot;command&quot;: like &quot;ls&quot;(ls command if platform supports) or &quot;javac&quot;(if java is installed)  or &quot;notepad&quot; or &quot;ping&quot; complete path to an specific program (&quot;path\\\\to\\\\autocad.exe&quot;)\r\n\r\nNow you have a process builder ready.\r\n\r\nNext you instruct that instead of dealing with all aspects relevant to input output programmatically, just you prefer to have the I/O in current terminal as usually you do in windows/linux terminal:\r\n\r\n.inheritIO();\r\n\r\nNow your process builder is even more ready.\r\n\r\nNow you have to practically make the process via: \r\n\r\n.start()\r\n\r\nNow, the process is in execution, in parallel to your java program. Opposite to an ordinary way of execution of every instruction of a program that are sequentially. \r\nThat means the computer won&#39;t finish that process and then go to the next instruction of your java program, and before finishing that process, further lines of code will be executed (concurrent programming, multithreading).\r\n\r\nIf you don&#39;t want that to happen, then you have to mention it via: \r\nwaitFor();","title":"Execute external program","body":"<p>new ProcessBuilder(&quot;command&quot;).inheritIO().start().waitFor();</p>\n<p>explanation:</p>\n<p>ProcessBuilder pb = new ProcessBuilder(&quot;command&quot;);</p>\n<p>&quot;command&quot;: like &quot;ls&quot;(ls command if platform supports) or &quot;javac&quot;(if java is installed)  or &quot;notepad&quot; or &quot;ping&quot; complete path to an specific program (&quot;path\\to\\autocad.exe&quot;)</p>\n<p>Now you have a process builder ready.</p>\n<p>Next you instruct that instead of dealing with all aspects relevant to input output programmatically, just you prefer to have the I/O in current terminal as usually you do in windows/linux terminal:</p>\n<p>.inheritIO();</p>\n<p>Now your process builder is even more ready.</p>\n<p>Now you have to practically make the process via:</p>\n<p>.start()</p>\n<p>Now, the process is in execution, in parallel to your java program. Opposite to an ordinary way of execution of every instruction of a program that are sequentially.\nThat means the computer won't finish that process and then go to the next instruction of your java program, and before finishing that process, further lines of code will be executed (concurrent programming, multithreading).</p>\n<p>If you don't want that to happen, then you have to mention it via:\nwaitFor();</p>\n"}],"owner":{"account_id":1959330,"reputation":485,"user_id":1761437,"display_name":"sqtd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166308,"favorite_count":0,"down_vote_count":4,"up_vote_count":45,"accepted_answer_id":13991171,"answer_count":5,"score":41,"last_activity_date":1666404365,"creation_date":1356096212,"question_id":13991007,"body_markdown":"I tried to make an application that calls an external program that I have to pass two parameters. It doesn&#39;t give any errors.\r\n\r\nThe `program.exe`, written in C++, takes a picture and modifies the content of a `.txt` file.\r\n\r\nThe Java program runs but it does nothing-\r\n\r\nHere is my sample code:\r\n\r\n        String[] params = new String [3];\r\n        params[0] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\program.exe&quot;;\r\n        params[1] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images.jpg&quot;;\r\n        params[2] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images2.txt&quot;;\r\n\t    Runtime.getRuntime().exec(params);\r\n","title":"Execute external program","body":"<p>I tried to make an application that calls an external program that I have to pass two parameters. It doesn't give any errors.</p>\n<p>The <code>program.exe</code>, written in C++, takes a picture and modifies the content of a <code>.txt</code> file.</p>\n<p>The Java program runs but it does nothing-</p>\n<p>Here is my sample code:</p>\n<pre><code>    String[] params = new String [3];\n    params[0] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\program.exe&quot;;\n    params[1] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images.jpg&quot;;\n    params[2] = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\images2.txt&quot;;\n    Runtime.getRuntime().exec(params);\n</code></pre>\n"},{"tags":["java","liferay","portlet"],"answers":[{"tags":[],"owner":{"account_id":26615249,"reputation":1,"user_id":20234769,"display_name":"alfilAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666296875,"creation_date":1666296875,"answer_id":74145833,"question_id":73732385,"body_markdown":"I had the same issue and solved it by creating a new mvc module only with the minimum amount of code (include only the files you are sharing in this post), and try to focus on making the render mapping work.\r\nAlso, if you can share your DocumentsPortlet.java to verify the &quot;javax.portlet.name&quot; property is correct.","title":"How to debug error &quot;No render mappings found for MVC render command name&quot;","body":"<p>I had the same issue and solved it by creating a new mvc module only with the minimum amount of code (include only the files you are sharing in this post), and try to focus on making the render mapping work.\nAlso, if you can share your DocumentsPortlet.java to verify the &quot;javax.portlet.name&quot; property is correct.</p>\n"},{"tags":[],"owner":{"account_id":5964690,"reputation":30,"user_id":4688739,"display_name":"bui vy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666403675,"creation_date":1666403675,"answer_id":74160583,"question_id":73732385,"body_markdown":"&gt; &quot;No render mappings found for MVC render command name&quot;\r\nindicates that there is no JSP file that **represents** the render command.\r\n\r\nWell to use MVC render commands, you need these things: \r\n\r\n - An implementation of the MVCRenderCommand interface.\r\n - A portlet render URL in your view layer.\r\n - a Component that publishes the MVCRenderCommand service, with two properties\r\n\r\nIn your case, you are missing a &quot;render&quot; jsp file.\r\nIn your `EditDocumentMVCRenderCommand`, it should be implemented something like this:\r\n\r\n    @Override\r\n    public String render(\r\n    \tRenderRequest renderRequest, RenderResponse renderResponse) {\r\n    \r\n    \treturn &quot;/edit/document.jsp&quot;;\r\n    }\r\n\r\nAnd you should have the &quot;/edit/document.jsp&quot; available to your path otherwise it will throw the error that you are experiencing. \r\n","title":"How to debug error &quot;No render mappings found for MVC render command name&quot;","body":"<blockquote>\n<p>&quot;No render mappings found for MVC render command name&quot;\nindicates that there is no JSP file that <strong>represents</strong> the render command.</p>\n</blockquote>\n<p>Well to use MVC render commands, you need these things:</p>\n<ul>\n<li>An implementation of the MVCRenderCommand interface.</li>\n<li>A portlet render URL in your view layer.</li>\n<li>a Component that publishes the MVCRenderCommand service, with two properties</li>\n</ul>\n<p>In your case, you are missing a &quot;render&quot; jsp file.\nIn your <code>EditDocumentMVCRenderCommand</code>, it should be implemented something like this:</p>\n<pre><code>@Override\npublic String render(\n    RenderRequest renderRequest, RenderResponse renderResponse) {\n\n    return &quot;/edit/document.jsp&quot;;\n}\n</code></pre>\n<p>And you should have the &quot;/edit/document.jsp&quot; available to your path otherwise it will throw the error that you are experiencing.</p>\n"}],"owner":{"account_id":26331843,"reputation":1,"user_id":19992230,"display_name":"FlyLikeAFly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666403675,"creation_date":1663249916,"question_id":73732385,"body_markdown":"I&#39;m develpoping a module for my Liferay DXP and I&#39;m struggeling with calling my renderCommands.\r\n\r\nFollowing error message occurs on the initial render and whenever I try to click a link to my RenderCommand:\r\n\r\n&gt; No render mappings found for MVC render command name\r\n&gt; &quot;/document-management/document/edit&quot; for portlet\r\n&gt; com_company_tools_manager_documents_web_portlet_DocumentsPortlet\r\n\r\nI have my &quot;view.jsp&quot; which contains the inclusion of my &quot;init.jsp&quot;, creation of renderURL and the link:\r\n\r\n    &lt;%@ include file=&quot;./init.jsp&quot; %&gt;\r\n        \r\n        &lt;portlet:renderURL var=&quot;editDocumentURL&quot;&gt;\r\n        \t&lt;portlet:param name=&quot;mvcRenderCommandName&quot; value=&quot;&lt;%=MVCCommandNames.EDIT_DOCUMENT %&gt;&quot; &gt;&lt;/portlet:param&gt;\r\n        &lt;/portlet:renderURL&gt;\r\n        \r\n    &lt;a href=&quot;${ editDocumentURL }&quot;&gt;edit documents&lt;/a&gt;\r\n\r\nThe &quot;MVCCommandNames.EDIT_DOCUMENT&quot; refers to MVCCommandNames.java:\r\n\r\n    package com.company.tools.manager.documents.web.constants;\r\n    \r\n    public class MVCCommandNames {\r\n    \tpublic static final String EDIT_DOCUMENT= &quot;/document-management/document/edit&quot;; }\r\n\r\nI&#39;m including the file in the &quot;init.jsp&quot; like so:\r\n\r\n    &lt;%@ page\r\n    \timport=&quot;com.company.tools.manager.documents.web.constants.MVCCommandNames&quot;%&gt;\r\n\r\nFinally, I have this &quot;EditDocumentMVCRenderCommand.java&quot; which should be seen as a component and be connected to the link:\r\n\r\n    package com.company.tools.manager.documents.web.portlet.action;\r\n    import com.company.tools.manager.documents.web.constants.DocumentsPortletKeys;\r\n    import com.company.tools.manager.documents.web.constants.MVCCommandNames;\r\n    import com.liferay.portal.kernel.portlet.bridges.mvc.MVCRenderCommand;\r\n    import org.osgi.service.component.annotations.Component;\r\n\r\n    @Component(immediate = true, property = { &quot;javax.portlet.name=&quot; + DocumentsPortletKeys.DOCUMENTS,\r\n    \t\t&quot;mvc.command.name=&quot; + MVCCommandNames.EDIT_DOCUMENT}, service = MVCRenderCommand.class)\r\n    public class EditDocumentMVCRenderCommand implements MVCRenderCommand { (...) }\r\n\r\nThe portlets name which is called by &quot;DocumentsPortletKeys.DOCUMENTS&quot; is defined by \r\n\r\n    package com.company.tools.manager.documents.web.constants;\r\n    \r\n    public class DocumentsPortletKeys {\r\n    \r\n    \tpublic static final String DOCUMENTS= &quot;com_company_tools_manager_documents_web_portlet_DocumentsPortlet&quot;;\r\n    }\r\n\r\nDid I forget to connect some things? How can I find out which URL the &quot;EditDocumentMVCRenderCommand.java&quot; listens to? \r\nAny other suggestions on how to approach this issue?\r\n\r\nGreetings","title":"How to debug error &quot;No render mappings found for MVC render command name&quot;","body":"<p>I'm develpoping a module for my Liferay DXP and I'm struggeling with calling my renderCommands.</p>\n<p>Following error message occurs on the initial render and whenever I try to click a link to my RenderCommand:</p>\n<blockquote>\n<p>No render mappings found for MVC render command name\n&quot;/document-management/document/edit&quot; for portlet\ncom_company_tools_manager_documents_web_portlet_DocumentsPortlet</p>\n</blockquote>\n<p>I have my &quot;view.jsp&quot; which contains the inclusion of my &quot;init.jsp&quot;, creation of renderURL and the link:</p>\n<pre><code>&lt;%@ include file=&quot;./init.jsp&quot; %&gt;\n    \n    &lt;portlet:renderURL var=&quot;editDocumentURL&quot;&gt;\n        &lt;portlet:param name=&quot;mvcRenderCommandName&quot; value=&quot;&lt;%=MVCCommandNames.EDIT_DOCUMENT %&gt;&quot; &gt;&lt;/portlet:param&gt;\n    &lt;/portlet:renderURL&gt;\n    \n&lt;a href=&quot;${ editDocumentURL }&quot;&gt;edit documents&lt;/a&gt;\n</code></pre>\n<p>The &quot;MVCCommandNames.EDIT_DOCUMENT&quot; refers to MVCCommandNames.java:</p>\n<pre><code>package com.company.tools.manager.documents.web.constants;\n\npublic class MVCCommandNames {\n    public static final String EDIT_DOCUMENT= &quot;/document-management/document/edit&quot;; }\n</code></pre>\n<p>I'm including the file in the &quot;init.jsp&quot; like so:</p>\n<pre><code>&lt;%@ page\n    import=&quot;com.company.tools.manager.documents.web.constants.MVCCommandNames&quot;%&gt;\n</code></pre>\n<p>Finally, I have this &quot;EditDocumentMVCRenderCommand.java&quot; which should be seen as a component and be connected to the link:</p>\n<pre><code>package com.company.tools.manager.documents.web.portlet.action;\nimport com.company.tools.manager.documents.web.constants.DocumentsPortletKeys;\nimport com.company.tools.manager.documents.web.constants.MVCCommandNames;\nimport com.liferay.portal.kernel.portlet.bridges.mvc.MVCRenderCommand;\nimport org.osgi.service.component.annotations.Component;\n\n@Component(immediate = true, property = { &quot;javax.portlet.name=&quot; + DocumentsPortletKeys.DOCUMENTS,\n        &quot;mvc.command.name=&quot; + MVCCommandNames.EDIT_DOCUMENT}, service = MVCRenderCommand.class)\npublic class EditDocumentMVCRenderCommand implements MVCRenderCommand { (...) }\n</code></pre>\n<p>The portlets name which is called by &quot;DocumentsPortletKeys.DOCUMENTS&quot; is defined by</p>\n<pre><code>package com.company.tools.manager.documents.web.constants;\n\npublic class DocumentsPortletKeys {\n\n    public static final String DOCUMENTS= &quot;com_company_tools_manager_documents_web_portlet_DocumentsPortlet&quot;;\n}\n</code></pre>\n<p>Did I forget to connect some things? How can I find out which URL the &quot;EditDocumentMVCRenderCommand.java&quot; listens to?\nAny other suggestions on how to approach this issue?</p>\n<p>Greetings</p>\n"},{"tags":["java","worldwind"],"answers":[{"comments":[{"owner":{"account_id":58693,"reputation":422,"user_id":175699,"accept_rate":86,"display_name":"MBraedley"},"score":0,"creation_date":1378315453,"post_id":18616911,"comment_id":27409647,"body_markdown":"I just checked the class type that&#39;s returned from `DocumentBuilderFactory.newInstance()`, and it&#39;s a `DocumentBuilderFactoryImpl`.  The `setFeature` method is apparently implemented, and according to [this](http://grepcode.com/file/repo1.maven.org/maven2/xerces/xercesImpl/2.11.0/org/apache/xerces/jaxp/DocumentBuilderFactoryImpl.java#DocumentBuilderFactoryImpl.setFeature%28java.lang.String%2Cboolean%29), there shouldn&#39;t be anything that throws an `AbstractMethodError` in there.","body":"I just checked the class type that&#39;s returned from <code>DocumentBuilderFactory.newInstance()</code>, and it&#39;s a <code>DocumentBuilderFactoryImpl</code>.  The <code>setFeature</code> method is apparently implemented, and according to <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/xerces/xercesImpl/2.11.0/org/apache/xerces/jaxp/DocumentBuilderFactoryImpl.java#DocumentBuilderFactoryImpl.setFeature%28java.lang.String%2Cboolean%29\" rel=\"nofollow noreferrer\">this</a>, there shouldn&#39;t be anything that throws an <code>AbstractMethodError</code> in there."},{"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"score":3,"creation_date":1378315809,"post_id":18616911,"comment_id":27409840,"body_markdown":"@MBraedley You should check what version of xerces is being loaded. You can do this by calling `MyClass.class.getClassLoader().getResource(&quot;org/apache/xerces/jaxp/DocumentBuilderFactoryImpl.class&quot;);` and printing the resulting URL. Substitute a relevant class for `MyClass.class`. `HelloWorldWind.class` would probably do. Hopefully you can examine the jar file indicated by the URL to determine how old it is.","body":"@MBraedley You should check what version of xerces is being loaded. You can do this by calling <code>MyClass.class.getClassLoader().getResource(&quot;org&#47;apache&#47;xerce&zwnj;&#8203;s&#47;jaxp&#47;DocumentBuild&zwnj;&#8203;erFactoryImpl.class&quot;&zwnj;&#8203;);</code> and printing the resulting URL. Substitute a relevant class for <code>MyClass.class</code>. <code>HelloWorldWind.class</code> would probably do. Hopefully you can examine the jar file indicated by the URL to determine how old it is."},{"owner":{"account_id":58693,"reputation":422,"user_id":175699,"accept_rate":86,"display_name":"MBraedley"},"score":0,"creation_date":1378316741,"post_id":18616911,"comment_id":27410306,"body_markdown":"The jar that&#39;s being used is the one that came with WorldWind, version 2.5.0, so presumably it should work.  I don&#39;t see any indication in the WorldWind forums that this is the problem.","body":"The jar that&#39;s being used is the one that came with WorldWind, version 2.5.0, so presumably it should work.  I don&#39;t see any indication in the WorldWind forums that this is the problem."},{"owner":{"account_id":58693,"reputation":422,"user_id":175699,"accept_rate":86,"display_name":"MBraedley"},"score":0,"creation_date":1378321105,"post_id":18616911,"comment_id":27412530,"body_markdown":"Yeah, you&#39;re on the right path.  While the latest version of xerces implements that method, some previous versions didn&#39;t, including the one I&#39;m using.  Don&#39;t know why WorldWind isn&#39;t using the latest version in their downloads.","body":"Yeah, you&#39;re on the right path.  While the latest version of xerces implements that method, some previous versions didn&#39;t, including the one I&#39;m using.  Don&#39;t know why WorldWind isn&#39;t using the latest version in their downloads."}],"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1378305806,"creation_date":1378305806,"answer_id":18616911,"question_id":18616079,"body_markdown":"This is a classpath issue of some sort. [`AbstractMethodError`][1] is thrown when the JVM tries to invoke an abstract method (which is not allowed). `DocumentBuilderFactory.setFeature(String, boolean)` is an abstract method that was added to DocumentBuilderFactory in JavaSE 5, so implementations compiled against the J2SE 1.4.2 version would not have that method and this error would occur when `setFeature(String, boolean)` was called on them. \r\n\r\nIt is possible you have a old XML library on your classpath that returned an instance for `DocumetnBuilderFactory.newInstance()`. The problem may not be with JOGL, per se, it may just be that JOGL brought in an old XML library as a dependency.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html%60","title":"Example WorldWind application encounters AbstractMethodError when started","body":"<p>This is a classpath issue of some sort. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AbstractMethodError.html%60\"><code>AbstractMethodError</code></a> is thrown when the JVM tries to invoke an abstract method (which is not allowed). <code>DocumentBuilderFactory.setFeature(String, boolean)</code> is an abstract method that was added to DocumentBuilderFactory in JavaSE 5, so implementations compiled against the J2SE 1.4.2 version would not have that method and this error would occur when <code>setFeature(String, boolean)</code> was called on them. </p>\n\n<p>It is possible you have a old XML library on your classpath that returned an instance for <code>DocumetnBuilderFactory.newInstance()</code>. The problem may not be with JOGL, per se, it may just be that JOGL brought in an old XML library as a dependency.</p>\n"},{"tags":[],"owner":{"account_id":5980748,"reputation":624,"user_id":4699904,"display_name":"Fran Raga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468515204,"creation_date":1468515204,"answer_id":38379975,"question_id":18616079,"body_markdown":"You need go to class WWXML and replace:\r\n\r\n    docBuilderFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;,\r\n                    false);\r\n\r\nwith:\r\n\r\n    docBuilderFactory.setNamespaceAware(true);\r\n\r\nthe complete method on java is:\r\n\r\n        public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\r\n    {\r\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n\r\n        docBuilderFactory.setNamespaceAware(isNamespaceAware);\r\n\r\n        if (Configuration.getJavaVersion() &gt;= 1.6)\r\n        {\r\n            docBuilderFactory.setNamespaceAware(true);\r\n        }\r\n\r\n        try\r\n        {\r\n            return docBuilderFactory.newDocumentBuilder();\r\n        }\r\n        catch (ParserConfigurationException e)\r\n        {\r\n            String message = Logging.getMessage(&quot;XML.ParserConfigurationException&quot;);\r\n            Logging.logger().finest(message);\r\n            throw new WWRuntimeException(e);\r\n        }\r\n    }\r\n\r\n","title":"Example WorldWind application encounters AbstractMethodError when started","body":"<p>You need go to class WWXML and replace:</p>\n\n<pre><code>docBuilderFactory.setFeature(\"http://apache.org/xml/features/nonvalidating/load-external-dtd\",\n                false);\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>docBuilderFactory.setNamespaceAware(true);\n</code></pre>\n\n<p>the complete method on java is:</p>\n\n<pre><code>    public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\n{\n    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n\n    docBuilderFactory.setNamespaceAware(isNamespaceAware);\n\n    if (Configuration.getJavaVersion() &gt;= 1.6)\n    {\n        docBuilderFactory.setNamespaceAware(true);\n    }\n\n    try\n    {\n        return docBuilderFactory.newDocumentBuilder();\n    }\n    catch (ParserConfigurationException e)\n    {\n        String message = Logging.getMessage(\"XML.ParserConfigurationException\");\n        Logging.logger().finest(message);\n        throw new WWRuntimeException(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":58693,"reputation":422,"user_id":175699,"accept_rate":86,"display_name":"MBraedley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18216,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":18616911,"answer_count":2,"score":8,"last_activity_date":1666403611,"creation_date":1378303598,"question_id":18616079,"body_markdown":"I&#39;ve been tasked with creating an application using the WorldWind API, and to familiarize myself with the API, I tried running the &quot;HelloWorldWind&quot; example app.  When I do, I get the following error stack:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n\t    at gov.nasa.worldwind.util.WWXML.createDocumentBuilder(WWXML.java:61)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:236)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:223)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocumentFile(WWXML.java:175)\r\n\t    at gov.nasa.worldwind.util.WWXML.openDocument(WWXML.java:148)\r\n\t    at gov.nasa.worldwind.Configuration.loadConfigDoc(Configuration.java:131)\r\n\t    at gov.nasa.worldwind.Configuration.&lt;init&gt;(Configuration.java:108)\r\n\t    at gov.nasa.worldwind.Configuration.&lt;clinit&gt;(Configuration.java:76)\r\n\t    at gov.nasa.worldwindx.examples.HelloWorldWind.main(HelloWorldWind.java:\r\n\r\n`WWXML.createDocumentBuilder` is as follows:\r\n\r\n    public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\r\n    {\r\n        DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\r\n        docBuilderFactory.setNamespaceAware(isNamespaceAware);\r\n        if (Configuration.getJavaVersion() &gt;= 1.6)\r\n        {\r\n            try\r\n            {\r\n                docBuilderFactory.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;,\r\n                    false);    // Not getting past here\r\n            }\r\n            catch (ParserConfigurationException e)\r\n            {   // Note it and continue on. Some Java5 parsers don&#39;t support the feature.\r\n                String message = Logging.getMessage(&quot;XML.NonvalidatingNotSupported&quot;);\r\n                Logging.logger().finest(message);\r\n            }\r\n        }\r\n        ...\r\n\r\n[Reading some stuff online](http://forum.worldwindcentral.com/showthread.php?33085-AbstractMethodError-using-Eclipse-IDE&amp;highlight=WWXML.java+apache+error), people are blaming `jogl`, since I&#39;m running on a 64-bit system, however, I already have the necessary jars in my build path.  &lt;strike&gt;Additionally, trying the URL shown above in a browser returns a 404 page, which makes me think that might be the cause&lt;/strike&gt;&lt;sup&gt;The URL is just a way to format some preferences&lt;/sup&gt;.  Since I don&#39;t have the source for `DocumentBuilderFactory.setFeature`, I can&#39;t see what&#39;s messing up in there.\r\n\r\nIs my problem actually with `jogl`, or something else?","title":"Example WorldWind application encounters AbstractMethodError when started","body":"<p>I've been tasked with creating an application using the WorldWind API, and to familiarize myself with the API, I tried running the \"HelloWorldWind\" example app.  When I do, I get the following error stack:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at gov.nasa.worldwind.util.WWXML.createDocumentBuilder(WWXML.java:61)\n    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:236)\n    at gov.nasa.worldwind.util.WWXML.openDocumentStream(WWXML.java:223)\n    at gov.nasa.worldwind.util.WWXML.openDocumentFile(WWXML.java:175)\n    at gov.nasa.worldwind.util.WWXML.openDocument(WWXML.java:148)\n    at gov.nasa.worldwind.Configuration.loadConfigDoc(Configuration.java:131)\n    at gov.nasa.worldwind.Configuration.&lt;init&gt;(Configuration.java:108)\n    at gov.nasa.worldwind.Configuration.&lt;clinit&gt;(Configuration.java:76)\n    at gov.nasa.worldwindx.examples.HelloWorldWind.main(HelloWorldWind.java:\n</code></pre>\n\n<p><code>WWXML.createDocumentBuilder</code> is as follows:</p>\n\n<pre><code>public static DocumentBuilder createDocumentBuilder(boolean isNamespaceAware)\n{\n    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory.newInstance();\n    docBuilderFactory.setNamespaceAware(isNamespaceAware);\n    if (Configuration.getJavaVersion() &gt;= 1.6)\n    {\n        try\n        {\n            docBuilderFactory.setFeature(\"http://apache.org/xml/features/nonvalidating/load-external-dtd\",\n                false);    // Not getting past here\n        }\n        catch (ParserConfigurationException e)\n        {   // Note it and continue on. Some Java5 parsers don't support the feature.\n            String message = Logging.getMessage(\"XML.NonvalidatingNotSupported\");\n            Logging.logger().finest(message);\n        }\n    }\n    ...\n</code></pre>\n\n<p><a href=\"http://forum.worldwindcentral.com/showthread.php?33085-AbstractMethodError-using-Eclipse-IDE&amp;highlight=WWXML.java+apache+error\" rel=\"noreferrer\">Reading some stuff online</a>, people are blaming <code>jogl</code>, since I'm running on a 64-bit system, however, I already have the necessary jars in my build path.  <strike>Additionally, trying the URL shown above in a browser returns a 404 page, which makes me think that might be the cause</strike><sup>The URL is just a way to format some preferences</sup>.  Since I don't have the source for <code>DocumentBuilderFactory.setFeature</code>, I can't see what's messing up in there.</p>\n\n<p>Is my problem actually with <code>jogl</code>, or something else?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"score":0,"creation_date":1634636743,"post_id":69628129,"comment_id":123072335,"body_markdown":"Good, but how will this work in case if I add NAME property in future &amp; apply condition on both properties &quot;IF AccountNumber AND Name is present&quot;","body":"Good, but how will this work in case if I add NAME property in future &amp; apply condition on both properties &quot;IF AccountNumber AND Name is present&quot;"},{"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"score":0,"creation_date":1634649715,"post_id":69628129,"comment_id":123077986,"body_markdown":"@Faramaz thanks, could you please elaborate bit more, how to call that method in services ?","body":"@Faramaz thanks, could you please elaborate bit more, how to call that method in services ?"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1634651621,"post_id":69628129,"comment_id":123078877,"body_markdown":"Answer updated.","body":"Answer updated."},{"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"score":0,"creation_date":1634653135,"post_id":69628129,"comment_id":123079613,"body_markdown":"Sorry, getting an error: java: method badRequest in class org.springframework.http.ResponseEntity&lt;T&gt; cannot be applied to given types;   reason: actual and formal argument lists differ in length. Are we missing constructor ?","body":"Sorry, getting an error: java: method badRequest in class org.springframework.http.ResponseEntity&lt;T&gt; cannot be applied to given types;   reason: actual and formal argument lists differ in length. Are we missing constructor ?"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1634664807,"post_id":69628129,"comment_id":123084701,"body_markdown":"Answer updated.","body":"Answer updated."},{"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"score":0,"creation_date":1634681014,"post_id":69628129,"comment_id":123089754,"body_markdown":"@Faramaz that brilliant!!","body":"@Faramaz that brilliant!!"}],"tags":[],"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634664923,"creation_date":1634634918,"answer_id":69628129,"question_id":69627767,"body_markdown":"Simply use `existsBy` method of JPA, Something like this.\r\nIt returns true, if the `CurrentAccount` exists with the given account number.\r\n\r\n``` java\r\n boolean existsCurrentAccountByAccountNumber(String accountNo);\r\n```\r\n\r\nIf you want to check with more than one parameter then do this.\r\n\r\n``` \r\nboolean existsCurrentAccountByAccountNumberAndName(String accountNo, String name);\r\n```\r\n\r\n**Service**\r\n\r\n``` java\r\n@Transactional\r\n  public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\r\n    if(accountRepository.existsCurrentAccountByAccountNumberAndName(currentAccount.getAccountNumber(), currentAccount.getName())){\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST); // or anything you want to do if record is already exists.\r\n    }else{\r\n      accountRepository.save(currentAccount);\r\n      return ResponseEntity.ok(&quot;Account Accepted&quot;);\r\n   }\r\n} \r\n```\r\n\r\n","title":"How to put check if record already exist - spring boot","body":"<p>Simply use <code>existsBy</code> method of JPA, Something like this.\nIt returns true, if the <code>CurrentAccount</code> exists with the given account number.</p>\n<pre class=\"lang-java prettyprint-override\"><code> boolean existsCurrentAccountByAccountNumber(String accountNo);\n</code></pre>\n<p>If you want to check with more than one parameter then do this.</p>\n<pre><code>boolean existsCurrentAccountByAccountNumberAndName(String accountNo, String name);\n</code></pre>\n<p><strong>Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n  public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\n    if(accountRepository.existsCurrentAccountByAccountNumberAndName(currentAccount.getAccountNumber(), currentAccount.getName())){\n    return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST); // or anything you want to do if record is already exists.\n    }else{\n      accountRepository.save(currentAccount);\n      return ResponseEntity.ok(&quot;Account Accepted&quot;);\n   }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25994123,"reputation":1,"user_id":19705805,"display_name":"Cao Van Viet FX12045"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666402876,"creation_date":1666095617,"answer_id":74110864,"question_id":69627767,"body_markdown":"This is my method (Spring):\r\n\r\n    public boolean checkAccount (String email) {\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tString SQL = &quot;select * from Account where email=?&quot;;\r\n\t\t\t\tAccount account = jdbcTemplateObject.queryForObject(SQL, new Object[]{email}, new AccountMapper());\t\t\t\t\r\n\t\t\t\tif (account != null) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t} catch (EmptyResultDataAccessException e) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn false;\t\t\t\r\n    }","title":"How to put check if record already exist - spring boot","body":"<p>This is my method (Spring):</p>\n<pre><code>public boolean checkAccount (String email) {            \n        try {\n            String SQL = &quot;select * from Account where email=?&quot;;\n            Account account = jdbcTemplateObject.queryForObject(SQL, new Object[]{email}, new AccountMapper());             \n            if (account != null) {\n                return true;\n            }               \n        } catch (EmptyResultDataAccessException e) {\n            return false;\n        }\n        return false;           \n}\n</code></pre>\n"}],"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69628129,"answer_count":2,"score":0,"last_activity_date":1666402876,"creation_date":1634633352,"question_id":69627767,"body_markdown":"I&#39;m new in spring &amp; try to enhance my skill by creating little projects. In my new app I&#39;d like to put uniqueness check on accountNumber, unfortunately I did not get success. I&#39;d like to apply isPresent() method but it doesn&#39;t exist when I call it. Grateful if I get help.\r\n\r\nFollowing is my Service class where I apply logics, I also mention Rep. &amp; Ent. classes for your reference. I apply unique condition in 3rd line where find ***if ..... ***.\r\n\r\nI&#39;ve found similar question but the solution in this stack doesn&#39;t match with the way I like to do, I&#39;d like to use JPA not JPQL.\r\n\r\nAccountService\r\n\r\n    @Autowired\r\n      private AccountRepository accountRepository;\r\n\r\n    @Transactional\r\n      public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\r\n        **if(currentAccount.getAccountNumber().is)**\r\n        accountRepository.save(currentAccount);\r\n        return ResponseEntity.ok(&quot;Account Accepted&quot;);\r\n    } \r\n\r\n\r\n\r\nCurrentAccount\r\n\r\n    public class CurrentAccount {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;account_number&quot;)\r\n    private String accountNumber;\r\n    @Column(name = &quot;account_balance&quot;)\r\n    private Integer accountBalance;\r\n\r\nAccountRepository\r\n\r\n    public interface AccountRepository extends JpaRepository&lt;CurrentAccount, Long&gt; {\r\n        Optional&lt;CurrentAccount&gt; findByAccountNumber(String accountNumber);\r\n    }\r\n\r\n","title":"How to put check if record already exist - spring boot","body":"<p>I'm new in spring &amp; try to enhance my skill by creating little projects. In my new app I'd like to put uniqueness check on accountNumber, unfortunately I did not get success. I'd like to apply isPresent() method but it doesn't exist when I call it. Grateful if I get help.</p>\n<p>Following is my Service class where I apply logics, I also mention Rep. &amp; Ent. classes for your reference. I apply unique condition in 3rd line where find ***if ..... ***.</p>\n<p>I've found similar question but the solution in this stack doesn't match with the way I like to do, I'd like to use JPA not JPQL.</p>\n<p>AccountService</p>\n<pre><code>@Autowired\n  private AccountRepository accountRepository;\n\n@Transactional\n  public ResponseEntity&lt;Object&gt; addAccount(CurrentAccount currentAccount){\n    **if(currentAccount.getAccountNumber().is)**\n    accountRepository.save(currentAccount);\n    return ResponseEntity.ok(&quot;Account Accepted&quot;);\n} \n</code></pre>\n<p>CurrentAccount</p>\n<pre><code>public class CurrentAccount {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n@Column(name = &quot;account_number&quot;)\nprivate String accountNumber;\n@Column(name = &quot;account_balance&quot;)\nprivate Integer accountBalance;\n</code></pre>\n<p>AccountRepository</p>\n<pre><code>public interface AccountRepository extends JpaRepository&lt;CurrentAccount, Long&gt; {\n    Optional&lt;CurrentAccount&gt; findByAccountNumber(String accountNumber);\n}\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"score":0,"creation_date":1510765518,"post_id":47312104,"comment_id":81577425,"body_markdown":"Why would you want to do so?","body":"Why would you want to do so?"},{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":0,"creation_date":1510766709,"post_id":47312104,"comment_id":81578107,"body_markdown":"What do you even mean by &quot;But in case if class B becomes object B it won&#39;t work.&quot;?","body":"What do you even mean by &quot;But in case if class B becomes object B it won&#39;t work.&quot;?"},{"owner":{"account_id":2172,"reputation":364900,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":0,"creation_date":1510814235,"post_id":47312104,"comment_id":81596946,"body_markdown":"&quot;it won&#39;t work&quot; is not a precise enough error description for us to help you. *What* doesn&#39;t work? *How* doesn&#39;t it work? What trouble do you have with your code? Do you get an error message? What is the error message? Is the result you are getting not the result you are expecting? What result do you expect and why, what is the result you are getting and how do the two differ? Is the behavior you are observing not the desired behavior? What is the desired behavior and why, what is the observed behavior, and in what way do they differ?","body":"&quot;it won&#39;t work&quot; is not a precise enough error description for us to help you. <i>What</i> doesn&#39;t work? <i>How</i> doesn&#39;t it work? What trouble do you have with your code? Do you get an error message? What is the error message? Is the result you are getting not the result you are expecting? What result do you expect and why, what is the result you are getting and how do the two differ? Is the behavior you are observing not the desired behavior? What is the desired behavior and why, what is the observed behavior, and in what way do they differ?"}],"answers":[{"comments":[{"owner":{"account_id":9430544,"reputation":59,"user_id":7014233,"display_name":"tcafrin22"},"score":1,"creation_date":1510828447,"post_id":47314452,"comment_id":81605368,"body_markdown":"Thanks for the answer","body":"Thanks for the answer"}],"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1666402342,"creation_date":1510769339,"answer_id":47314452,"question_id":47312104,"body_markdown":"If `B` is an object the following code works:\r\n\r\n    trait A\r\n    object B extends A\r\n\r\n    val `class` = Class.forName(&quot;B$&quot;)\r\n    val constructor = `class`.getDeclaredConstructors.apply(0)\r\n    constructor.setAccessible(true)\r\n    constructor.newInstance().asInstanceOf[A]\r\n\r\nBut this is literal translation of your code from class to object. Creating new instance of `B$` violates the contract that there is the only instance of an object in Scala (although some frameworks, especially Java frameworks, can break it too). So it&#39;s better to refer the instance cached in `MODULE$`\r\n\r\n    `class`.getField(&quot;MODULE$&quot;)\r\n      .get(null) // the field is static, so there&#39;s no need in instance\r\n      .asInstanceOf[A]","title":"Scala object import in runtime","body":"<p>If <code>B</code> is an object the following code works:</p>\n<pre><code>trait A\nobject B extends A\n\nval `class` = Class.forName(&quot;B$&quot;)\nval constructor = `class`.getDeclaredConstructors.apply(0)\nconstructor.setAccessible(true)\nconstructor.newInstance().asInstanceOf[A]\n</code></pre>\n<p>But this is literal translation of your code from class to object. Creating new instance of <code>B$</code> violates the contract that there is the only instance of an object in Scala (although some frameworks, especially Java frameworks, can break it too). So it's better to refer the instance cached in <code>MODULE$</code></p>\n<pre><code>`class`.getField(&quot;MODULE$&quot;)\n  .get(null) // the field is static, so there's no need in instance\n  .asInstanceOf[A]\n</code></pre>\n"}],"owner":{"account_id":9430544,"reputation":59,"user_id":7014233,"display_name":"tcafrin22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":47314452,"answer_count":1,"score":-1,"last_activity_date":1666402342,"creation_date":1510761970,"question_id":47312104,"body_markdown":"So the question is, is it possible to import Scala object object in runtime as a usual scala class e.g.:\r\n\r\n    trait A\r\n    class B extends A\r\n    Class.forName(&quot;B&quot;).newInstance().asInstanceOf[A]\r\n\r\nBut in case if `class B` becomes `object B` it won&#39;t work.\r\nAre there any other options for Scala Object?\r\n\r\n","title":"Scala object import in runtime","body":"<p>So the question is, is it possible to import Scala object object in runtime as a usual scala class e.g.:</p>\n\n<pre><code>trait A\nclass B extends A\nClass.forName(\"B\").newInstance().asInstanceOf[A]\n</code></pre>\n\n<p>But in case if <code>class B</code> becomes <code>object B</code> it won't work.\nAre there any other options for Scala Object?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666400581,"post_id":74160342,"comment_id":130935475,"body_markdown":"In your image, is that the output you have now, or is that the output you want?","body":"In your image, is that the output you have now, or is that the output you want?"}],"answers":[{"comments":[{"owner":{"account_id":24605901,"reputation":1,"user_id":18508099,"display_name":"rookie45"},"score":0,"creation_date":1666401672,"post_id":74160448,"comment_id":130935576,"body_markdown":"I feel like that part is correct I think my issue is with the loops","body":"I feel like that part is correct I think my issue is with the loops"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666401775,"post_id":74160448,"comment_id":130935589,"body_markdown":"Try working out what you need to print first, then work out how to put those into a loop.  Just asking for a solution isn&#39;t the right way to learn, you really do need to work out how those loops really work.","body":"Try working out what you need to print first, then work out how to put those into a loop.  Just asking for a solution isn&#39;t the right way to learn, you really do need to work out how those loops really work."},{"owner":{"account_id":24605901,"reputation":1,"user_id":18508099,"display_name":"rookie45"},"score":0,"creation_date":1666402895,"post_id":74160448,"comment_id":130935678,"body_markdown":"Im not just asking for a solution, When I go through the loops it seems to work to me and just wanted some other eyes to look at it.","body":"Im not just asking for a solution, When I go through the loops it seems to work to me and just wanted some other eyes to look at it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1666403938,"post_id":74160448,"comment_id":130935788,"body_markdown":"Honest answer: your solution looks wrong to me.  That isn&#39;t a table that you printed.  Ask your instructor before you turn it in, imo.","body":"Honest answer: your solution looks wrong to me.  That isn&#39;t a table that you printed.  Ask your instructor before you turn it in, imo."}],"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401595,"creation_date":1666401028,"answer_id":74160448,"question_id":74160342,"body_markdown":"Output display like this can be a bit of a dark art.  You have to be able to break it down into small bits and handle each part in turn.\r\n\r\nSo a table like this:\r\n\r\n    -------------\r\n    | 1 | 0 | 1 |\r\n    -------------\r\n\r\nHas 1 top line of dashes, three numbers surrounded by `|`, and then a final line at the bottom.  Not tested:\r\n\r\n    System.out.println( &quot;-------------&quot; );\r\n    System.out.print( &quot;|&quot; );\r\n    System.out.print( &quot; 1 &quot; );\r\n    System.out.print( &quot;|&quot; );\r\n    System.out.print( &quot; 0 &quot; );\r\n    System.out.print( &quot;|&quot; );\r\n    System.out.print( &quot; 1 &quot; );\r\n    System.out.println( &quot;|&quot; );\r\n    System.out.println( &quot;-------------&quot; );\r\n\r\nNotice I used `print` instead of `println` because otherwise I&#39;d get a blank line instead of a solid line across.  But trying to break down the problem into smaller bits like this can help you understand how to do each part.\r\n\r\nSo looking at the above, I did this (which does compile and run correctly):\r\n\r\n\r\n       public static void main( String[] args ) {\r\n          int[] binary = {1,0,1};\r\n          System.out.println( &quot;-------------&quot; );\r\n          for( int i = 0; i &lt; 3; i++ ) {\r\n             System.out.print( &quot;| &quot;+ binary[i] + &quot; &quot; );\r\n          }\r\n          System.out.println( &quot;|&quot; );\r\n          System.out.println( &quot;-------------&quot; );\r\n       }\r\n\r\nThis is obviously an assignment, so I&#39;ll let you finish the rest, but you should be able to see the pattern here.  Try working it out with some simple print statements first, then try putting those statements into a loop.\r\n","title":"how to I print a grid in java?","body":"<p>Output display like this can be a bit of a dark art.  You have to be able to break it down into small bits and handle each part in turn.</p>\n<p>So a table like this:</p>\n<pre><code>-------------\n| 1 | 0 | 1 |\n-------------\n</code></pre>\n<p>Has 1 top line of dashes, three numbers surrounded by <code>|</code>, and then a final line at the bottom.  Not tested:</p>\n<pre><code>System.out.println( &quot;-------------&quot; );\nSystem.out.print( &quot;|&quot; );\nSystem.out.print( &quot; 1 &quot; );\nSystem.out.print( &quot;|&quot; );\nSystem.out.print( &quot; 0 &quot; );\nSystem.out.print( &quot;|&quot; );\nSystem.out.print( &quot; 1 &quot; );\nSystem.out.println( &quot;|&quot; );\nSystem.out.println( &quot;-------------&quot; );\n</code></pre>\n<p>Notice I used <code>print</code> instead of <code>println</code> because otherwise I'd get a blank line instead of a solid line across.  But trying to break down the problem into smaller bits like this can help you understand how to do each part.</p>\n<p>So looking at the above, I did this (which does compile and run correctly):</p>\n<pre><code>   public static void main( String[] args ) {\n      int[] binary = {1,0,1};\n      System.out.println( &quot;-------------&quot; );\n      for( int i = 0; i &lt; 3; i++ ) {\n         System.out.print( &quot;| &quot;+ binary[i] + &quot; &quot; );\n      }\n      System.out.println( &quot;|&quot; );\n      System.out.println( &quot;-------------&quot; );\n   }\n</code></pre>\n<p>This is obviously an assignment, so I'll let you finish the rest, but you should be able to see the pattern here.  Try working it out with some simple print statements first, then try putting those statements into a loop.</p>\n"}],"owner":{"account_id":24605901,"reputation":1,"user_id":18508099,"display_name":"rookie45"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666401595,"creation_date":1666399365,"question_id":74160342,"body_markdown":"Im trying to print a 3 x 3 grid of zeros. right now im getting 9 rows of zeros in the first column\r\n\r\n    public void displayBoard() {\t\r\n    \t\r\n    \t\r\n    \t\tfor (int row = 0; row&lt;3; row++) {\r\n    \t\t\t\tfor (int column = 0; column&lt;3; column++) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;-------&quot;);\r\n    \t\t\t\t\t\tSystem.out.print(&quot;|&quot;+ board.getCell(row, column));\r\n    \t\t\t\r\n    \t\t\t\t\t\tSystem.out.println(&quot;|&quot;);\r\n    \t\t\t\t}\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t}\t\t\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;-------&quot;);\r\n    \t}\r\n\r\n[Sample Output][1]\r\n    \t\r\n[![Sample Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PoacM.png","title":"how to I print a grid in java?","body":"<p>Im trying to print a 3 x 3 grid of zeros. right now im getting 9 rows of zeros in the first column</p>\n<pre><code>public void displayBoard() {    \n    \n    \n        for (int row = 0; row&lt;3; row++) {\n                for (int column = 0; column&lt;3; column++) {\n                        System.out.println(&quot;-------&quot;);\n                        System.out.print(&quot;|&quot;+ board.getCell(row, column));\n            \n                        System.out.println(&quot;|&quot;);\n                }   \n            \n            \n            }       \n        \n        System.out.println(&quot;-------&quot;);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PoacM.png\" rel=\"nofollow noreferrer\">Sample Output</a></p>\n<p><a href=\"https://i.stack.imgur.com/PoacM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PoacM.png\" alt=\"Sample Output\" /></a></p>\n"},{"tags":["java","recursion","postfix-notation"],"comments":[{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":2,"creation_date":1320893692,"post_id":8074416,"comment_id":9894666,"body_markdown":"The algorithm wasn&#39;t given to you in class? Wikipedia to the rescue: http://en.wikipedia.org/wiki/Reverse_Polish_notation#Postfix_algorithm","body":"The algorithm wasn&#39;t given to you in class? Wikipedia to the rescue: <a href=\"http://en.wikipedia.org/wiki/Reverse_Polish_notation#Postfix_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Reverse_Polish_notation#Postfix_algori&zwnj;&#8203;thm</a>"},{"owner":{"account_id":920936,"reputation":4940,"user_id":952658,"accept_rate":82,"display_name":"darnir"},"score":1,"creation_date":1320894179,"post_id":8074416,"comment_id":9894729,"body_markdown":"These are simple algorithms that are easily available online. Also, if the algo wasn&#39;t given to you in class, it might be for a reason. Your teacher might be wanting you to figure it out for ourself. Honestly, try figuring it out yourself, write code, and debug it before venturing out and looking for one.","body":"These are simple algorithms that are easily available online. Also, if the algo wasn&#39;t given to you in class, it might be for a reason. Your teacher might be wanting you to figure it out for ourself. Honestly, try figuring it out yourself, write code, and debug it before venturing out and looking for one."},{"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"score":0,"creation_date":1320894202,"post_id":8074416,"comment_id":9894732,"body_markdown":"@RayToal Thanks for the help but I wanted to do it using recursion. The implementation given in the wiki is using stack.","body":"@RayToal Thanks for the help but I wanted to do it using recursion. The implementation given in the wiki is using stack."},{"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"score":0,"creation_date":1320894338,"post_id":8074416,"comment_id":9894750,"body_markdown":"@darnir I was able to write the prefix version of it. But I am not able to think about the base case for this algorithm.","body":"@darnir I was able to write the prefix version of it. But I am not able to think about the base case for this algorithm."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1320895683,"post_id":8074416,"comment_id":9894960,"body_markdown":"Oh! I see.  You were supposed to come up with the recursive algorithm.   My bad. That is a good homework problem, asking you to map the stack operation to recursive calls.  And I see what you mean: doing it recursively for a prefix version is easier.  Do you have only binary operators here?","body":"Oh! I see.  You were supposed to come up with the recursive algorithm.   My bad. That is a good homework problem, asking you to map the stack operation to recursive calls.  And I see what you mean: doing it recursively for a prefix version is easier.  Do you have only binary operators here?"},{"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"score":1,"creation_date":1320897926,"post_id":8074416,"comment_id":9895255,"body_markdown":"@RayToal Yes, only binary operator","body":"@RayToal Yes, only binary operator"},{"owner":{"account_id":920936,"reputation":4940,"user_id":952658,"accept_rate":82,"display_name":"darnir"},"score":0,"creation_date":1320914489,"post_id":8074416,"comment_id":9897738,"body_markdown":"Okay, as a recursive call it would really be a good exercise. The postfix is undoubtedly a little tricky in this case.","body":"Okay, as a recursive call it would really be a good exercise. The postfix is undoubtedly a little tricky in this case."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1488155832,"post_id":8074416,"comment_id":72092628,"body_markdown":"Why? Postfix is a linear notation. No recursion required.","body":"Why? Postfix is a linear notation. No recursion required."}],"answers":[{"tags":[],"owner":{"account_id":177939,"reputation":1004,"user_id":409611,"display_name":"Jeff Grigg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1320895430,"creation_date":1320895430,"answer_id":8074640,"question_id":8074416,"body_markdown":"Doesn&#39;t strike me as a recursive-friendly problem.  But I&#39;m sure it could be done that way.\r\n\r\nTwo approaches occur to me:\r\n\r\n**Option #1:  Make functional recursion calls and returns match the stack push and pop operations described on the Wiki.**\r\n\r\nDown side to this approach is that you&#39;ll quickly find that the returned data from the function can be fairly complex.  It&#39;ll probably be an operator.  Maybe with an optional operand (IE: number).  You&#39;ll be returning structures/objects that maybe should have operations (methods) on them.\r\n\r\n**Option #2:  Each recursive call processes the next character of the input stream.**\r\n\r\nI think this approach would pass in as parameters the stack and maybe an &quot;accumulator&quot; for the current number -- to accumulate digits into a number before pushing it on the stack.  There would be one massive tail recursion numeric result returned.\r\n\r\nThis approach is really just rewriting a loop as recursion.\r\n\r\n\r\n*Either way, figuring it out yourself should be challenging and educational!*","title":"Evaluating postfix expression using recursion","body":"<p>Doesn't strike me as a recursive-friendly problem.  But I'm sure it could be done that way.</p>\n\n<p>Two approaches occur to me:</p>\n\n<p><strong>Option #1:  Make functional recursion calls and returns match the stack push and pop operations described on the Wiki.</strong></p>\n\n<p>Down side to this approach is that you'll quickly find that the returned data from the function can be fairly complex.  It'll probably be an operator.  Maybe with an optional operand (IE: number).  You'll be returning structures/objects that maybe should have operations (methods) on them.</p>\n\n<p><strong>Option #2:  Each recursive call processes the next character of the input stream.</strong></p>\n\n<p>I think this approach would pass in as parameters the stack and maybe an \"accumulator\" for the current number -- to accumulate digits into a number before pushing it on the stack.  There would be one massive tail recursion numeric result returned.</p>\n\n<p>This approach is really just rewriting a loop as recursion.</p>\n\n<p><em>Either way, figuring it out yourself should be challenging and educational!</em></p>\n"},{"tags":[],"owner":{"account_id":325186,"reputation":1201,"user_id":646210,"accept_rate":29,"display_name":"paper.plane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392622039,"creation_date":1320920718,"answer_id":8078042,"question_id":8074416,"body_markdown":"Following is a sort of pseudo code which will work for postfix expressions with +/- . I think you can further extend the idea. If you still face difficulty then mail me to 2shanks.p@gmail.com as I am not regular on this site.\r\n\r\n   \r\n\r\n    \r\n    void recursivePostfix(char* expr)  \r\n    {  \r\n    if(!expr)   return;  \r\n\r\n    bool flag=true;\r\n    static double result=0;\r\n    double v1=result, v2=0, dec=0;\r\n    char oper=&#39;0&#39;;\r\n    int i=0, state=1;\r\n\r\n    do\r\n    {\r\n        if(&#39;0&#39; != oper)\r\n        {\r\n            switch(oper)\r\n            {\r\n                case &#39;+&#39;: result=v1+v2; break;\r\n                case &#39;-&#39;: result=v1-v2; break;\r\n                case &#39;*&#39;: result=v1*v2; break;\r\n                case &#39;/&#39;: result=v1/v2; break;\r\n            }\r\n            oper = &#39;0&#39;;\r\n            v1 = result;\r\n            v2 = 0;\r\n            recursivePostfix(expr+i);\r\n        }\r\n\r\n        if(SPACE_CHAR == *(expr+i) &amp;&amp; state++)\r\n            continue;\r\n\r\n        switch(state)\r\n        {\r\n            case 1:\r\n                v1 = v1*10 + (expr[i]-&#39;0&#39;); break;\r\n            case 2:\r\n                v2 = v2*10 + (expr[i]-&#39;0&#39;); break;\r\n            case 3:\r\n                oper = *(expr+i);\r\n        }  \r\n    }while(0 != *(expr+i++));\r\n    cout &lt;&lt; result;\r\n      \r\n    }\r\n","title":"Evaluating postfix expression using recursion","body":"<p>Following is a sort of pseudo code which will work for postfix expressions with +/- . I think you can further extend the idea. If you still face difficulty then mail me to 2shanks.p@gmail.com as I am not regular on this site.</p>\n\n<pre><code>void recursivePostfix(char* expr)  \n{  \nif(!expr)   return;  \n\nbool flag=true;\nstatic double result=0;\ndouble v1=result, v2=0, dec=0;\nchar oper='0';\nint i=0, state=1;\n\ndo\n{\n    if('0' != oper)\n    {\n        switch(oper)\n        {\n            case '+': result=v1+v2; break;\n            case '-': result=v1-v2; break;\n            case '*': result=v1*v2; break;\n            case '/': result=v1/v2; break;\n        }\n        oper = '0';\n        v1 = result;\n        v2 = 0;\n        recursivePostfix(expr+i);\n    }\n\n    if(SPACE_CHAR == *(expr+i) &amp;&amp; state++)\n        continue;\n\n    switch(state)\n    {\n        case 1:\n            v1 = v1*10 + (expr[i]-'0'); break;\n        case 2:\n            v2 = v2*10 + (expr[i]-'0'); break;\n        case 3:\n            oper = *(expr+i);\n    }  \n}while(0 != *(expr+i++));\ncout &lt;&lt; result;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4800492,"reputation":643,"user_id":3877259,"display_name":"juanifioren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401296,"creation_date":1666401296,"answer_id":74160461,"question_id":8074416,"body_markdown":"I just code this for an interview, so here is my solution using Python:\r\n\r\n    def recursive_postfix(s):\r\n        s = s.split(&#39; &#39;)\r\n        if len(s) == 1:\r\n            return s[0]\r\n        res = None\r\n        for i in range(len(s)):\r\n            if s[i] in [&#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;]:\r\n                res = eval(f&#39;{s[i-2]}{s[i]}{s[i-1]}&#39;)\r\n                break\r\n        s = s[0:i-2] + [str(res)] + s[i+1:]\r\n        return recursive_postfix(&#39; &#39;.join(s))\r\n\r\n    assert recursive_postfix(&#39;2 2 + 1 *&#39;) == &#39;4&#39; # (2 + 2) * 1\r\n    assert recursive_postfix(&#39;3 4 2 + * 5 *&#39;) == &#39;90&#39; # 3 * (4 + 2) * 5\r\n    assert recursive_postfix(&#39;7 2 2 * -&#39;) == &#39;3&#39; # 7 - (2 * 2)\r\n","title":"Evaluating postfix expression using recursion","body":"<p>I just code this for an interview, so here is my solution using Python:</p>\n<pre><code>def recursive_postfix(s):\n    s = s.split(' ')\n    if len(s) == 1:\n        return s[0]\n    res = None\n    for i in range(len(s)):\n        if s[i] in ['+', '-', '*', '/']:\n            res = eval(f'{s[i-2]}{s[i]}{s[i-1]}')\n            break\n    s = s[0:i-2] + [str(res)] + s[i+1:]\n    return recursive_postfix(' '.join(s))\n\nassert recursive_postfix('2 2 + 1 *') == '4' # (2 + 2) * 1\nassert recursive_postfix('3 4 2 + * 5 *') == '90' # 3 * (4 + 2) * 5\nassert recursive_postfix('7 2 2 * -') == '3' # 7 - (2 * 2)\n</code></pre>\n"}],"owner":{"account_id":417381,"reputation":1929,"user_id":793361,"accept_rate":52,"display_name":"Keen Sage"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5694,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8074640,"answer_count":3,"score":2,"last_activity_date":1666401296,"creation_date":1320893127,"question_id":8074416,"body_markdown":"I need an algorithm for evaluating postfix expression using recursion. In this postfix expression an operand can be of more than one digit. A space is used to distinguish between two operands. So an expression &#39;45 68 +&#39; is valid.\r\n\r\nI thought of evaluating it in reverse direction but I think that should not be correct.\r\n\r\nCan someone help me with just the algorithm.\r\n\r\nThanks in advance.","title":"Evaluating postfix expression using recursion","body":"<p>I need an algorithm for evaluating postfix expression using recursion. In this postfix expression an operand can be of more than one digit. A space is used to distinguish between two operands. So an expression '45 68 +' is valid.</p>\n\n<p>I thought of evaluating it in reverse direction but I think that should not be correct.</p>\n\n<p>Can someone help me with just the algorithm.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","caching","modelmapper"],"answers":[{"comments":[{"owner":{"account_id":10555708,"reputation":9,"user_id":7776967,"display_name":"R.I"},"score":0,"creation_date":1665671886,"post_id":74057213,"comment_id":130758361,"body_markdown":"I am new to Cache, after caching does the cache change it&#39;s class during runtime? So here during runtime cache.getClass() would return List&lt;MyObjectDTO&gt;?","body":"I am new to Cache, after caching does the cache change it&#39;s class during runtime? So here during runtime cache.getClass() would return List&lt;MyObjectDTO&gt;?"}],"tags":[],"owner":{"account_id":14982647,"reputation":46,"user_id":11378735,"display_name":"JRF"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665670319,"creation_date":1665670207,"answer_id":74057213,"question_id":74056684,"body_markdown":"I don&#39;t think the error is in the line you mention but in the one right after. Type returns `List`, but `List` is an interface and therefore impossible to instantiate, your mapper must be catching this exception and throwing the error.\r\n\r\nYou should try another way for getting the cache type, maybe `cache.getClass()` or something of the sort will do the trick.","title":"How to map cache to a list of DTO object?","body":"<p>I don't think the error is in the line you mention but in the one right after. Type returns <code>List</code>, but <code>List</code> is an interface and therefore impossible to instantiate, your mapper must be catching this exception and throwing the error.</p>\n<p>You should try another way for getting the cache type, maybe <code>cache.getClass()</code> or something of the sort will do the trick.</p>\n"},{"tags":[],"owner":{"account_id":10555708,"reputation":9,"user_id":7776967,"display_name":"R.I"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401150,"creation_date":1666401150,"answer_id":74160454,"question_id":74056684,"body_markdown":"I was able to resolve the issue by passing ``cache.get(SimpleKey.EMPTY).get()`` in the modelMapper instead of cache.","title":"How to map cache to a list of DTO object?","body":"<p>I was able to resolve the issue by passing <code>cache.get(SimpleKey.EMPTY).get()</code> in the modelMapper instead of cache.</p>\n"}],"owner":{"account_id":10555708,"reputation":9,"user_id":7776967,"display_name":"R.I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666401176,"creation_date":1665668047,"question_id":74056684,"body_markdown":"I have this cache that is basically a list of a DTO:\r\n\r\nClassA:\r\n\r\n    @Cacheable(&quot;MyList&quot;)\r\n    public List&lt;MyObjectDTO&gt; setCachedList(){\r\n    return api.getList(); //call to another api to fetch that list\r\n    }\r\n\r\nClassB:\r\n\r\n    public List&lt;MyObjectDTO&gt; getCachedList(){\r\n    if(!CacheManager.getCacheNames().contains(&quot;MyList&quot;){\r\n       ClassB.setCachedList();\r\n    }\r\n    Cache cache = CacheManager.getCache(&quot;MyList&quot;);\r\n    Type listType = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType(); //error occurs here\r\n    List&lt;MyObjectDTO&gt; returnList = modelMapper.map(cache, listType);\r\n    return returnList;\r\n\r\nI get the following error in above code:\r\n\r\n```Failed to instantiate instance of destination java.util.List. Ensure that java.util.List has a non-private no-argument constructor.```\r\n\r\nI saw a similar question but since I am using cache of a list, I cannot extend it to concrete class.","title":"How to map cache to a list of DTO object?","body":"<p>I have this cache that is basically a list of a DTO:</p>\n<p>ClassA:</p>\n<pre><code>@Cacheable(&quot;MyList&quot;)\npublic List&lt;MyObjectDTO&gt; setCachedList(){\nreturn api.getList(); //call to another api to fetch that list\n}\n</code></pre>\n<p>ClassB:</p>\n<pre><code>public List&lt;MyObjectDTO&gt; getCachedList(){\nif(!CacheManager.getCacheNames().contains(&quot;MyList&quot;){\n   ClassB.setCachedList();\n}\nCache cache = CacheManager.getCache(&quot;MyList&quot;);\nType listType = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType(); //error occurs here\nList&lt;MyObjectDTO&gt; returnList = modelMapper.map(cache, listType);\nreturn returnList;\n</code></pre>\n<p>I get the following error in above code:</p>\n<p><code>Failed to instantiate instance of destination java.util.List. Ensure that java.util.List has a non-private no-argument constructor.</code></p>\n<p>I saw a similar question but since I am using cache of a list, I cannot extend it to concrete class.</p>\n"},{"tags":["java","android","file"],"comments":[{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1513261158,"post_id":47815512,"comment_id":82592427,"body_markdown":"did you open permission in settings of application.","body":"did you open permission in settings of application."},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513261532,"post_id":47815512,"comment_id":82592660,"body_markdown":"You mean the little popup window that asks users to confirm permissions?  If so, no I didn&#39;t.  I tried: `int permissionCheck = ContextCompat.checkSelfPermission(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);` but WRITE_EXTERNAL_STORAGE doesn&#39;t resolve.","body":"You mean the little popup window that asks users to confirm permissions?  If so, no I didn&#39;t.  I tried: <code>int permissionCheck = ContextCompat.checkSelfPermission(this,                 Manifest.permission.WRITE_EXTERNAL_STORAGE);</code> but WRITE_EXTERNAL_STORAGE doesn&#39;t resolve."},{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1513261684,"post_id":47815512,"comment_id":82592763,"body_markdown":"no in setting of phone, in applications you need to find your application, and then you need to find permissions, if permission is not granted, you cannot save anything to storage of phone. If this is the case i will post an answer how you can ask user if user didn&#39;t grant permission.","body":"no in setting of phone, in applications you need to find your application, and then you need to find permissions, if permission is not granted, you cannot save anything to storage of phone. If this is the case i will post an answer how you can ask user if user didn&#39;t grant permission."},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513262067,"post_id":47815512,"comment_id":82593055,"body_markdown":"I added a quick/dirty permission check and allowed it.  Now I get the following exception in the onClick function: `android.os.FileUriExposedException: file:///storage/emulated/0/socks/JPEG_20171214_083623_ exposed beyond app through ClipData.Item.getUri()`","body":"I added a quick/dirty permission check and allowed it.  Now I get the following exception in the onClick function: <code>android.os.FileUriExposedException: file:&#47;&#47;&#47;storage&#47;emulated&#47;0&#47;socks&#47;JPEG_20171214_083623_ exposed beyond app through ClipData.Item.getUri()</code>"},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1513266571,"post_id":47815512,"comment_id":82596209,"body_markdown":"`image.mkdirs();\n      image.createNewFile();`. Impossible code. First you create a directory . And after that you try to create a file with the same name. Impossible. Take a file explorer app and remove the directory. Adapt your code.","body":"<code>image.mkdirs();       image.createNewFile();</code>. Impossible code. First you create a directory . And after that you try to create a file with the same name. Impossible. Take a file explorer app and remove the directory. Adapt your code."}],"answers":[{"comments":[{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1513262348,"post_id":47815909,"comment_id":82593260,"body_markdown":"for your `FileUriExposedException` you can check https://stackoverflow.com/questions/38200282/android-os-fileuriexposedexception-file-storage-emulated-0-test-txt-exposed","body":"for your <code>FileUriExposedException</code> you can check <a href=\"https://stackoverflow.com/questions/38200282/android-os-fileuriexposedexception-file-storage-emulated-0-test-txt-exposed\" title=\"android os fileuriexposedexception file storage emulated 0 test txt exposed\">stackoverflow.com/questions/38200282/&hellip;</a>"},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513262624,"post_id":47815909,"comment_id":82593466,"body_markdown":"I added the permission checker and handled the FileUriExposedException.  Now I get `D/DebugMySocks: create file: false` and `Error creating file Attempt to invoke virtual method &#39;android.content.res.XmlResourceParser android.content.pm.ProviderInfo.loadXmlMetaData(android.content.pm.PackageManager, java.lang.String)&#39; on a null object reference`.    I think that means my permission checking isn&#39;t right?  I will implement your checkPermission instead of my sloppy one and see what happens. Thanks.","body":"I added the permission checker and handled the FileUriExposedException.  Now I get <code>D&#47;DebugMySocks: create file: false</code> and <code>Error creating file Attempt to invoke virtual method &#39;android.content.res.XmlResourceParser android.content.pm.ProviderInfo.loadXmlMetaData(android.cont&zwnj;&#8203;ent.pm.PackageManage&zwnj;&#8203;r, java.lang.String)&#39; on a null object reference</code>.    I think that means my permission checking isn&#39;t right?  I will implement your checkPermission instead of my sloppy one and see what happens. Thanks."},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513263398,"post_id":47815909,"comment_id":82594026,"body_markdown":"I have added Edit 2.  It did not work for the PackageManager problem.","body":"I have added Edit 2.  It did not work for the PackageManager problem."},{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1513263611,"post_id":47815909,"comment_id":82594177,"body_markdown":"i think your getApplicationContext().getPackageName() returns null. You can check https://stackoverflow.com/questions/30896130/fileprovider-crash-npe-attempting-to-invoke-xmlresourceparser-on-a-null-string","body":"i think your getApplicationContext().getPackageName() returns null. You can check <a href=\"https://stackoverflow.com/questions/30896130/fileprovider-crash-npe-attempting-to-invoke-xmlresourceparser-on-a-null-string\" title=\"fileprovider crash npe attempting to invoke xmlresourceparser on a null string\">stackoverflow.com/questions/30896130/&hellip;</a>"},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513263698,"post_id":47815909,"comment_id":82594243,"body_markdown":"Changed FileProvider code to `mImageUri = FileProvider.getUriForFile(getApplicationContext(), &quot;com.example.kevin.moresocksplease.fileprovider&quot;, createImageFile());` and added `android:authorities=&quot;com.example.kevin.moresocksplease.fileprovider&quot;` in the manifest file inside the application tag.  Didn&#39;t help.","body":"Changed FileProvider code to <code>mImageUri = FileProvider.getUriForFile(getApplicationContext(), &quot;com.example.kevin.moresocksplease.fileprovider&quot;, createImageFile());</code> and added <code>android:authorities=&quot;com.example.kevin.moresocksplease.filep&zwnj;&#8203;rovider&quot;</code> in the manifest file inside the application tag.  Didn&#39;t help."},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513264006,"post_id":47815909,"comment_id":82594444,"body_markdown":"I think maybe my FileProvider needs a &lt;provider&gt; in the manifest file.  Trying that now.  https://developer.android.com/reference/android/support/v4/content/FileProvider.html","body":"I think maybe my FileProvider needs a &lt;provider&gt; in the manifest file.  Trying that now.  <a href=\"https://developer.android.com/reference/android/support/v4/content/FileProvider.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/v4/content/&hellip;</a>"},{"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"score":0,"creation_date":1513264495,"post_id":47815909,"comment_id":82594749,"body_markdown":"Well, this has turned into a different problem, but I am making progress.  The original IOException problem has been solved so I will mark your answer as accepted and try to continue.  Thanks for the help.","body":"Well, this has turned into a different problem, but I am making progress.  The original IOException problem has been solved so I will mark your answer as accepted and try to continue.  Thanks for the help."},{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1513264764,"post_id":47815909,"comment_id":82594924,"body_markdown":"I am glad to help.","body":"I am glad to help."}],"tags":[],"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1513262260,"creation_date":1513262260,"answer_id":47815909,"question_id":47815512,"body_markdown":"You need to check permission if is granted by user.\r\n    \r\n    private void checkPermission(){\r\n        if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {        \r\n            createFile();\r\n        } else {    \r\n            Log.v(TAG,&quot;Permission is revoked&quot;);\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);  \r\n        }\r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 0:\r\n                boolean permissionsGranted = true;\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\r\n                    for (int i = 0; i &lt; permissions.length; i++){\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\r\n                            permissionsGranted=false;\r\n                        }\r\n                    }\r\n    \r\n                } else {\r\n                    permissionsGranted=false;\r\n                }\r\n                if(permissionsGranted){\r\n                    createFile();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    \r\n    private void createFile(){\r\n       ContentResolver cr = this.getContentResolver();\r\n       Bitmap bitmap;\r\n       try{\r\n           bitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\r\n           mProfileImage.setImageBitmap(bitmap);\r\n           saveToFirebase(bitmap);\r\n       }catch (Exception e){\r\n         Toast.makeText(this, &quot;Failed to load&quot;, Toast.LENGTH_SHORT).show();\r\n         Log.d(&quot;DebugMySocks&quot;, &quot;Failed to load&quot;, e);\r\n       }\r\n    }\r\n    \r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        Log.d(&quot;DebugMySocks&quot;, &quot;onActivityResult in EditProfileActivity&quot;);\r\n        if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\r\n            this.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\r\n            checkPermission();\r\n        }\r\n    }\r\n\r\n","title":"Android No such file or directory exception","body":"<p>You need to check permission if is granted by user.</p>\n\n<pre><code>private void checkPermission(){\n    if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {        \n        createFile();\n    } else {    \n        Log.v(TAG,\"Permission is revoked\");\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);  \n    }\n}\n\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case 0:\n            boolean permissionsGranted = true;\n            if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\n                for (int i = 0; i &lt; permissions.length; i++){\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\n                        permissionsGranted=false;\n                    }\n                }\n\n            } else {\n                permissionsGranted=false;\n            }\n            if(permissionsGranted){\n                createFile();\n            }\n            break;\n    }\n}\n\nprivate void createFile(){\n   ContentResolver cr = this.getContentResolver();\n   Bitmap bitmap;\n   try{\n       bitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\n       mProfileImage.setImageBitmap(bitmap);\n       saveToFirebase(bitmap);\n   }catch (Exception e){\n     Toast.makeText(this, \"Failed to load\", Toast.LENGTH_SHORT).show();\n     Log.d(\"DebugMySocks\", \"Failed to load\", e);\n   }\n}\n\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    Log.d(\"DebugMySocks\", \"onActivityResult in EditProfileActivity\");\n    if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\n        this.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\n        checkPermission();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22441420,"reputation":21,"user_id":16645882,"display_name":"Intraterrestrial"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666401030,"creation_date":1666401030,"answer_id":74160449,"question_id":47815512,"body_markdown":"I managed to make it work after several attempts i used the following code:\r\n```\r\nIntent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        Date dat = Calendar.getInstance().getTime();\r\n        SimpleDateFormat simpleDate =  new SimpleDateFormat(&quot;yyyy-mm-dd-hh:mm:ss&quot;);\r\n        String nameFoto = simpleDate.format(dat) + &quot;.png&quot;;\r\n        String filename = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot;+ File.separator +nameFoto;\r\n        File ff = new File(filename);\r\n\r\n        try {\r\n            ff.createNewFile();\r\n            //imageUri = Uri.fromFile(ff);\r\n            imageUri = FileProvider.getUriForFile(IngresarFactura.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,ff);\r\n            //imageUri = new Uri(filename).\r\n            if (imageUri.getPath() == null){\r\n                mensaje.setText(filename+ &quot; Error path es nulo.&quot;);\r\n            }\r\n            cameraIntent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, imageUri);\r\n\r\n            //COMPATIBILITY\r\n            if (Build.VERSION.SDK_INT&gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                cameraIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\r\n            } else {\r\n                List&lt;ResolveInfo&gt; resInfoList = IngresarFactura.this.getPackageManager().queryIntentActivities(cameraIntent, PackageManager.MATCH_DEFAULT_ONLY);\r\n                for (ResolveInfo resolveInfo : resInfoList) {\r\n                    String packageName = resolveInfo.activityInfo.packageName;\r\n                    IngresarFactura.this.grantUriPermission(packageName, imageUri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                }\r\n            }\r\n            //COMPATIBILITY\r\n            activityResultLaunch.launch(cameraIntent);\r\n        }\r\n```\r\n\r\ni got the code from several places and combined it to make it work.\r\nyou have to add a policy as it says here\r\n\r\nhttps://stackoverflow.com/a/45751453/16645882\r\n","title":"Android No such file or directory exception","body":"<p>I managed to make it work after several attempts i used the following code:</p>\n<pre><code>Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        Date dat = Calendar.getInstance().getTime();\n        SimpleDateFormat simpleDate =  new SimpleDateFormat(&quot;yyyy-mm-dd-hh:mm:ss&quot;);\n        String nameFoto = simpleDate.format(dat) + &quot;.png&quot;;\n        String filename = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot;+ File.separator +nameFoto;\n        File ff = new File(filename);\n\n        try {\n            ff.createNewFile();\n            //imageUri = Uri.fromFile(ff);\n            imageUri = FileProvider.getUriForFile(IngresarFactura.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,ff);\n            //imageUri = new Uri(filename).\n            if (imageUri.getPath() == null){\n                mensaje.setText(filename+ &quot; Error path es nulo.&quot;);\n            }\n            cameraIntent.putExtra(android.provider.MediaStore.EXTRA_OUTPUT, imageUri);\n\n            //COMPATIBILITY\n            if (Build.VERSION.SDK_INT&gt;= Build.VERSION_CODES.LOLLIPOP) {\n                cameraIntent.addFlags(Intent.FLAG_GRANT_WRITE_URI_PERMISSION);\n            } else {\n                List&lt;ResolveInfo&gt; resInfoList = IngresarFactura.this.getPackageManager().queryIntentActivities(cameraIntent, PackageManager.MATCH_DEFAULT_ONLY);\n                for (ResolveInfo resolveInfo : resInfoList) {\n                    String packageName = resolveInfo.activityInfo.packageName;\n                    IngresarFactura.this.grantUriPermission(packageName, imageUri, Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                }\n            }\n            //COMPATIBILITY\n            activityResultLaunch.launch(cameraIntent);\n        }\n</code></pre>\n<p>i got the code from several places and combined it to make it work.\nyou have to add a policy as it says here</p>\n<p><a href=\"https://stackoverflow.com/a/45751453/16645882\">https://stackoverflow.com/a/45751453/16645882</a></p>\n"}],"owner":{"account_id":1966708,"reputation":29,"user_id":1766768,"accept_rate":100,"display_name":"user1766768"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7667,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47815909,"answer_count":2,"score":1,"last_activity_date":1666401030,"creation_date":1513261042,"question_id":47815512,"body_markdown":"I&#39;m trying to follow this tutorial https://developer.android.com/training/camera/photobasics.html#TaskPath for taking an image and saving the file.  It opens the camera, I take a picture, click the check mark, then it crashes.  I have found several articles on StackOverflow and have tried all of their solutions that I could understand (which were `file.mkdirs()`, `file.getParentFile().mkdirs()`).  \r\n\r\nIt seems that, even though it&#39;s a RuntimeException, the root problem is the IOException (which I catch and print the message).  I&#39;m using Genymotion, not sure if that&#39;s relevant or not.  What have I missed that is keeping me from being able to create the file?\r\n\r\nI have added permissions to my manifest:\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nMy button click:\r\n\r\n    public void onClick(View v) {\r\n        Log.d(&quot;DebugMySocks&quot;, &quot;Change photo button clicked&quot;);\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        try {\r\n            // CHANGED THIS\r\n        \tmImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + &quot;socks&quot;, createImageFile());\r\n        \ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\r\n        } catch (Exception e) {\r\n    \t    Log.d(&quot;DebugMySocks&quot;, &quot;Error creating file &quot; + e.getMessage());\r\n        }\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n    \t    startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n        }\r\n    }\r\n\r\nand the problem code (I think):\r\n \r\n\r\n      private File createImageFile() throws IOException {\r\n        //ADDED THIS\r\n          int permissionCheck = ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n          if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                        5);\r\n          }\r\n          // Create an image file name\r\n          String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n          String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n          File storageDir = Environment.getExternalStorageDirectory();\r\n          Log.d(&quot;DebugMySocks&quot;, &quot;Storage directory is: &quot; + storageDir);\r\n          File image = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;socks&quot;+ File.separator + imageFileName);\r\n          Log.d(&quot;DebugMySocks&quot;, &quot;getAbsoluteFile: &quot; + image.getAbsoluteFile());\r\n          image.getParentFile().mkdirs();\r\n          image.mkdirs();\r\n          image.createNewFile();\r\n          //File image = File.createTempFile(\r\n          //        imageFileName,  /* prefix */\r\n          //        &quot;.jpg&quot;,         /* suffix */\r\n          //        storageDir      /* directory */\r\n          //);\r\n    \r\n          // Save a file: path for use with ACTION_VIEW intents\r\n          mCurrentPhotoPath = image.getAbsolutePath();\r\n          return image;\r\n      }\r\n\r\nOutput from LogCat:\r\n\r\n    12-14 08:05:01.411 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Change photo button clicked\r\n    12-14 08:05:01.412 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Storage directory is: /storage/emulated/0\r\n    12-14 08:05:01.413 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: getAbsoluteFile: /storage/emulated/0/socks/JPEG_20171214_080501_\r\n    12-14 08:05:01.416 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Error creating file No such file or directory\r\n\r\nAnd the exception:\r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.example.kevin.moresocksplease, PID: 4967\r\n    java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=111, result=-1, data=Intent { act=inline-data (has extras) }} to activity {com.example.kevin.moresocksplease/com.example.kevin.moresocksplease.EditProfileActivity}: java.lang.NullPointerException: uri\r\n     at android.app.ActivityThread.deliverResults(ActivityThread.java:4089)\r\n     at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)\r\n     at android.app.ActivityThread.-wrap20(ActivityThread.java)\r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)\r\n     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n     at android.os.Looper.loop(Looper.java:154)\r\n     at android.app.ActivityThread.main(ActivityThread.java:6119)\r\n     at java.lang.reflect.Method.invoke(Native Method)\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n    Caused by: java.lang.NullPointerException: uri\r\n     at com.android.internal.util.Preconditions.checkNotNull(Preconditions.java:111)\r\n     at android.content.ContentResolver.notifyChange(ContentResolver.java:1714)\r\n     at android.content.ContentResolver.notifyChange(ContentResolver.java:1693)\r\n     at com.example.kevin.moresocksplease.EditProfileActivity.onActivityResult(EditProfileActivity.java:254)\r\n     at android.app.Activity.dispatchActivityResult(Activity.java:6932)\r\n     at android.app.ActivityThread.deliverResults(ActivityThread.java:4085)\r\n     at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)&#160;\r\n     at android.app.ActivityThread.-wrap20(ActivityThread.java)&#160;\r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)&#160;\r\n     at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n     at android.os.Looper.loop(Looper.java:154)&#160;\r\n     at android.app.ActivityThread.main(ActivityThread.java:6119)&#160;\r\n     at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)&#160;\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)&#160;\r\n\r\nLastly, including because it&#39;s in the exception stack:\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \tLog.d(&quot;DebugMySocks&quot;, &quot;onActivityResult in EditProfileActivity&quot;);\r\n    \tif (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\r\n    \t\tthis.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\r\n    \t\tContentResolver cr = this.getContentResolver();\r\n    \t\tBitmap bitmap;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tbitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\r\n    \t\t\tmProfileImage.setImageBitmap(bitmap);\r\n    \t\t\tsaveToFirebase(bitmap);\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\tToast.makeText(this, &quot;Failed to load&quot;, Toast.LENGTH_SHORT).show();\r\n    \t\t\tLog.d(&quot;DebugMySocks&quot;, &quot;Failed to load&quot;, e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAdditional links that I&#39;ve been drawing information from:\r\n\r\nhttps://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory\r\n\r\nhttps://stackoverflow.com/questions/6448856/android-camera-intent-how-to-get-full-sized-photo\r\n\r\nEdit 1:\r\n\r\nAfter viewing this, I added logs to the mkdir requests and they both return false.  According to this gentleman, that means the directories already exist, so it&#39;s just the creation of the file that is failing?\r\n  https://stackoverflow.com/questions/3853472/creating-a-directory-in-sdcard-fails\r\n\r\n    Log.d(&quot;DebugMySocks&quot;, &quot;parentfile mkdirs: &quot; + image.getParentFile().mkdirs());\r\n    Log.d(&quot;DebugMySocks&quot;, &quot;image.mkdirs: &quot; + image.mkdirs());\r\n    Log.d(&quot;DebugMySocks&quot;, &quot;create file: &quot; + image.createNewFile());\r\n\r\n    DebugMySocks: parentfile mkdirs: false\r\n    DebugMySocks: image.mkdirs: false\r\n    DebugMySocks: Error creating file No such file or directory\r\n\r\nEdit 2:\r\nI now have:\r\n\r\n    public void onClick(View v) {\r\n                            Log.d(&quot;DebugMySocks&quot;, &quot;Change photo button clicked&quot;);\r\n                            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            try {\r\n                                if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {\r\n                                    mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + &quot;socks&quot;, createImageFile());\r\n                                } else {\r\n                                    Log.v(&quot;DebugMySocks&quot;,&quot;Permission is revoked&quot;);\r\n                                    ActivityCompat.requestPermissions(getParent(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n                                }\r\n                                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\r\n                            } catch (Exception e) {\r\n                                Log.d(&quot;DebugMySocks&quot;, &quot;Error creating file &quot; + e.getMessage());\r\n                            }\r\n                            if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n                                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n                            }\r\n                        }\r\n    \r\n        public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n            switch (requestCode) {\r\n                case 0:\r\n                    boolean permissionsGranted = true;\r\n                    if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\r\n                        for (int i = 0; i &lt; permissions.length; i++){\r\n                            if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\r\n                                permissionsGranted=false;\r\n                            }\r\n                        }\r\n    \r\n                    } else {\r\n                        permissionsGranted=false;\r\n                    }\r\n                    if(permissionsGranted){\r\n                        try {\r\n                            mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + &quot;socks&quot;, createImageFile());\r\n                        } catch (Exception e) {\r\n                            Log.d(&quot;DebugMySocks&quot;, &quot;Permissions granted but exception happened &quot; + e.getMessage());\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\nBut I get `Error creating file Attempt to invoke virtual method &#39;android.content.res.XmlResourceParser android.content.pm.ProviderInfo.loadXmlMetaData(android.content.pm.PackageManager, java.lang.String)&#39; on a null object reference`","title":"Android No such file or directory exception","body":"<p>I'm trying to follow this tutorial <a href=\"https://developer.android.com/training/camera/photobasics.html#TaskPath\" rel=\"nofollow noreferrer\">https://developer.android.com/training/camera/photobasics.html#TaskPath</a> for taking an image and saving the file.  It opens the camera, I take a picture, click the check mark, then it crashes.  I have found several articles on StackOverflow and have tried all of their solutions that I could understand (which were <code>file.mkdirs()</code>, <code>file.getParentFile().mkdirs()</code>).  </p>\n\n<p>It seems that, even though it's a RuntimeException, the root problem is the IOException (which I catch and print the message).  I'm using Genymotion, not sure if that's relevant or not.  What have I missed that is keeping me from being able to create the file?</p>\n\n<p>I have added permissions to my manifest:</p>\n\n<pre><code>&lt;uses-feature android:name=\"android.hardware.camera\"\n    android:required=\"true\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>My button click:</p>\n\n<pre><code>public void onClick(View v) {\n    Log.d(\"DebugMySocks\", \"Change photo button clicked\");\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    try {\n        // CHANGED THIS\n        mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + \"socks\", createImageFile());\n        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\n    } catch (Exception e) {\n        Log.d(\"DebugMySocks\", \"Error creating file \" + e.getMessage());\n    }\n    if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n        startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n    }\n}\n</code></pre>\n\n<p>and the problem code (I think):</p>\n\n<pre><code>  private File createImageFile() throws IOException {\n    //ADDED THIS\n      int permissionCheck = ContextCompat.checkSelfPermission(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);\n      if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                    5);\n      }\n      // Create an image file name\n      String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n      String imageFileName = \"JPEG_\" + timeStamp + \"_\";\n      File storageDir = Environment.getExternalStorageDirectory();\n      Log.d(\"DebugMySocks\", \"Storage directory is: \" + storageDir);\n      File image = new File(Environment.getExternalStorageDirectory() + File.separator + \"socks\"+ File.separator + imageFileName);\n      Log.d(\"DebugMySocks\", \"getAbsoluteFile: \" + image.getAbsoluteFile());\n      image.getParentFile().mkdirs();\n      image.mkdirs();\n      image.createNewFile();\n      //File image = File.createTempFile(\n      //        imageFileName,  /* prefix */\n      //        \".jpg\",         /* suffix */\n      //        storageDir      /* directory */\n      //);\n\n      // Save a file: path for use with ACTION_VIEW intents\n      mCurrentPhotoPath = image.getAbsolutePath();\n      return image;\n  }\n</code></pre>\n\n<p>Output from LogCat:</p>\n\n<pre><code>12-14 08:05:01.411 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Change photo button clicked\n12-14 08:05:01.412 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Storage directory is: /storage/emulated/0\n12-14 08:05:01.413 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: getAbsoluteFile: /storage/emulated/0/socks/JPEG_20171214_080501_\n12-14 08:05:01.416 4967-4967/com.example.kevin.moresocksplease D/DebugMySocks: Error creating file No such file or directory\n</code></pre>\n\n<p>And the exception:</p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.kevin.moresocksplease, PID: 4967\njava.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=111, result=-1, data=Intent { act=inline-data (has extras) }} to activity {com.example.kevin.moresocksplease/com.example.kevin.moresocksplease.EditProfileActivity}: java.lang.NullPointerException: uri\n at android.app.ActivityThread.deliverResults(ActivityThread.java:4089)\n at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132)\n at android.app.ActivityThread.-wrap20(ActivityThread.java)\n at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533)\n at android.os.Handler.dispatchMessage(Handler.java:102)\n at android.os.Looper.loop(Looper.java:154)\n at android.app.ActivityThread.main(ActivityThread.java:6119)\n at java.lang.reflect.Method.invoke(Native Method)\n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\nCaused by: java.lang.NullPointerException: uri\n at com.android.internal.util.Preconditions.checkNotNull(Preconditions.java:111)\n at android.content.ContentResolver.notifyChange(ContentResolver.java:1714)\n at android.content.ContentResolver.notifyChange(ContentResolver.java:1693)\n at com.example.kevin.moresocksplease.EditProfileActivity.onActivityResult(EditProfileActivity.java:254)\n at android.app.Activity.dispatchActivityResult(Activity.java:6932)\n at android.app.ActivityThread.deliverResults(ActivityThread.java:4085)\n at android.app.ActivityThread.handleSendResult(ActivityThread.java:4132) \n at android.app.ActivityThread.-wrap20(ActivityThread.java) \n at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1533) \n at android.os.Handler.dispatchMessage(Handler.java:102) \n at android.os.Looper.loop(Looper.java:154) \n at android.app.ActivityThread.main(ActivityThread.java:6119) \n at java.lang.reflect.Method.invoke(Native Method) \n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886) \n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776) \n</code></pre>\n\n<p>Lastly, including because it's in the exception stack:</p>\n\n<pre><code>public void onActivityResult(int requestCode, int resultCode, Intent data) {\n    Log.d(\"DebugMySocks\", \"onActivityResult in EditProfileActivity\");\n    if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == this.RESULT_OK) {\n        this.getContentResolver().notifyChange(mImageUri, null); // &lt;-- THIS IS LINE 254!\n        ContentResolver cr = this.getContentResolver();\n        Bitmap bitmap;\n        try\n        {\n            bitmap = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\n            mProfileImage.setImageBitmap(bitmap);\n            saveToFirebase(bitmap);\n        }\n        catch (Exception e)\n        {\n            Toast.makeText(this, \"Failed to load\", Toast.LENGTH_SHORT).show();\n            Log.d(\"DebugMySocks\", \"Failed to load\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>Additional links that I've been drawing information from:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1525060/file-createnewfile-thowing-ioexception-no-such-file-or-directory\">File.createNewFile() thowing IOException No such file or directory</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/6448856/android-camera-intent-how-to-get-full-sized-photo\">Android Camera Intent: how to get full sized photo?</a></p>\n\n<p>Edit 1:</p>\n\n<p>After viewing this, I added logs to the mkdir requests and they both return false.  According to this gentleman, that means the directories already exist, so it's just the creation of the file that is failing?\n  <a href=\"https://stackoverflow.com/questions/3853472/creating-a-directory-in-sdcard-fails\">Creating a directory in /sdcard fails</a></p>\n\n<pre><code>Log.d(\"DebugMySocks\", \"parentfile mkdirs: \" + image.getParentFile().mkdirs());\nLog.d(\"DebugMySocks\", \"image.mkdirs: \" + image.mkdirs());\nLog.d(\"DebugMySocks\", \"create file: \" + image.createNewFile());\n\nDebugMySocks: parentfile mkdirs: false\nDebugMySocks: image.mkdirs: false\nDebugMySocks: Error creating file No such file or directory\n</code></pre>\n\n<p>Edit 2:\nI now have:</p>\n\n<pre><code>public void onClick(View v) {\n                        Log.d(\"DebugMySocks\", \"Change photo button clicked\");\n                        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                        try {\n                            if (checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED) {\n                                mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + \"socks\", createImageFile());\n                            } else {\n                                Log.v(\"DebugMySocks\",\"Permission is revoked\");\n                                ActivityCompat.requestPermissions(getParent(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n                            }\n                            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, mImageUri);\n                        } catch (Exception e) {\n                            Log.d(\"DebugMySocks\", \"Error creating file \" + e.getMessage());\n                        }\n                        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n                            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n                        }\n                    }\n\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n        switch (requestCode) {\n            case 0:\n                boolean permissionsGranted = true;\n                if (grantResults.length &gt; 0 &amp;&amp; permissions.length==grantResults.length) {\n                    for (int i = 0; i &lt; permissions.length; i++){\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED){\n                            permissionsGranted=false;\n                        }\n                    }\n\n                } else {\n                    permissionsGranted=false;\n                }\n                if(permissionsGranted){\n                    try {\n                        mImageUri = FileProvider.getUriForFile(getApplicationContext(), getApplicationContext().getPackageName() + \"socks\", createImageFile());\n                    } catch (Exception e) {\n                        Log.d(\"DebugMySocks\", \"Permissions granted but exception happened \" + e.getMessage());\n                    }\n                }\n                break;\n        }\n    }\n</code></pre>\n\n<p>But I get <code>Error creating file Attempt to invoke virtual method 'android.content.res.XmlResourceParser android.content.pm.ProviderInfo.loadXmlMetaData(android.content.pm.PackageManager, java.lang.String)' on a null object reference</code></p>\n"},{"tags":["java","playframework"],"answers":[{"tags":[],"owner":{"account_id":345434,"reputation":121,"user_id":678366,"display_name":"Felipe Bonezi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666400760,"creation_date":1666400760,"answer_id":74160430,"question_id":73476568,"body_markdown":"You can use an `Seq` approach.\r\n\r\n    play.http.filters += [ &quot;filters.HttpFilters&quot;, &quot;filters.EssentialLoggingFilter&quot; ]","title":"How to add multiple filters in PlayFramework","body":"<p>You can use an <code>Seq</code> approach.</p>\n<pre><code>play.http.filters += [ &quot;filters.HttpFilters&quot;, &quot;filters.EssentialLoggingFilter&quot; ]\n</code></pre>\n"}],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666400760,"creation_date":1661358121,"question_id":73476568,"body_markdown":"I would like to know if there is a way to define and add more the one Filter to the PlayFramework configuration.\r\nI have this: `play.http.filters = &quot;filters.HttpFilters&quot; in the application.config`\r\n\r\nbut that is pointing just to one Filter class. If I add a second filter class how can I configure that in the `application.config` ?\r\n\r\nFor example, I have defined two filters in my code:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KeU7H.png","title":"How to add multiple filters in PlayFramework","body":"<p>I would like to know if there is a way to define and add more the one Filter to the PlayFramework configuration.\nI have this: <code>play.http.filters = &quot;filters.HttpFilters&quot; in the application.config</code></p>\n<p>but that is pointing just to one Filter class. If I add a second filter class how can I configure that in the <code>application.config</code> ?</p>\n<p>For example, I have defined two filters in my code:\n<a href=\"https://i.stack.imgur.com/KeU7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KeU7H.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dictionary","groovy","stream"],"answers":[{"comments":[{"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"score":0,"creation_date":1648950572,"post_id":71698724,"comment_id":126751927,"body_markdown":"I am trying to use parallelstream() to do create a list of dups and nondups after this : like If arraylist is [&#39;A&#39;,&#39;a&#39;,&#39;B&#39;,&#39;C&#39;,&#39;C&#39;]   then dups:[&#39;A&#39;,&#39;a&#39;,&#39;C&#39;,&#39;C&#39;] nondups: [&#39;B&#39;]","body":"I am trying to use parallelstream() to do create a list of dups and nondups after this : like If arraylist is [&#39;A&#39;,&#39;a&#39;,&#39;B&#39;,&#39;C&#39;,&#39;C&#39;]   then dups:[&#39;A&#39;,&#39;a&#39;,&#39;C&#39;,&#39;C&#39;] nondups: [&#39;B&#39;]"},{"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"score":0,"creation_date":1648950624,"post_id":71698724,"comment_id":126751934,"body_markdown":"So far I did:  Map&lt;Boolean, List&lt;String&gt;&gt; hasDup =\n        counts.entrySet().parallelStream()\n          .collect(Collectors.partitioningBy(\n             entry -&gt; entry.getValue() &gt; 1,\n             Collectors.mapping(Map.Entry::getKey, Collectors.toList())));","body":"So far I did:  Map&lt;Boolean, List&lt;String&gt;&gt; hasDup =         counts.entrySet().parallelStream()           .collect(Collectors.partitioningBy(              entry -&gt; entry.getValue() &gt; 1,              Collectors.mapping(Map.Entry::getKey, Collectors.toList())));"},{"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"score":0,"creation_date":1648950703,"post_id":71698724,"comment_id":126751946,"body_markdown":"but this gives dup:[&#39;a&#39;,&#39;b&#39;] nondups:[&#39;b&#39;]. Is there any way to get the output same as 1st comment                                                                                                                        \n  Thanks a lot for help;)","body":"but this gives dup:[&#39;a&#39;,&#39;b&#39;] nondups:[&#39;b&#39;]. Is there any way to get the output same as 1st comment                                                                                                                           Thanks a lot for help;)"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1648974973,"post_id":71698724,"comment_id":126754877,"body_markdown":"to have output from first comment you must run through original list and compare it to corresponding partition...","body":"to have output from first comment you must run through original list and compare it to corresponding partition..."},{"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"score":0,"creation_date":1648975828,"post_id":71698724,"comment_id":126754995,"body_markdown":"So can this be done in parallel. What changes should I make the 2 comment code thanks:)","body":"So can this be done in parallel. What changes should I make the 2 comment code thanks:)"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1649003082,"post_id":71698724,"comment_id":126760526,"body_markdown":"You have to ask another question. I&#39;m a groovy fan (not java)","body":"You have to ask another question. I&#39;m a groovy fan (not java)"}],"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648758067,"creation_date":1648758067,"answer_id":71698724,"question_id":71698179,"body_markdown":"```\r\nimport java.util.stream.Collectors\r\n\r\nList &lt; String &gt; nums = [&#39;a&#39;,&#39;b&#39;]\r\n\r\nMap&lt;String, Long&gt; counts = nums.parallelStream()\r\n  .collect( Collectors.groupingBy( {k -&gt; k.toLowerCase()}, Collectors.counting()) )\r\n```\r\n","title":"How to use parallel stream in Groovy?","body":"<pre><code>import java.util.stream.Collectors\n\nList &lt; String &gt; nums = ['a','b']\n\nMap&lt;String, Long&gt; counts = nums.parallelStream()\n  .collect( Collectors.groupingBy( {k -&gt; k.toLowerCase()}, Collectors.counting()) )\n</code></pre>\n"}],"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71698724,"answer_count":1,"score":-1,"last_activity_date":1666400649,"creation_date":1648755086,"question_id":71698179,"body_markdown":" I want to ask how to write the below code in Groovy.\r\n\r\n```java\r\nList &lt; String &gt; nums = [&#39;a&#39;,&#39;b&#39;]\r\n\r\nMap&lt;String, Long&gt; counts = nums.parallelStream()\r\n.collect( Collectors.groupingBy(k -&gt; k.toLowerCase(), \r\nCollectors.counting()) );          \r\n```\r\n\r\n```\r\nOutput in java: {a:1,b:1}\r\n\r\nI tried using the same but it gives error below:\r\norg.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\n/home/cg/root/492337/main.groovy: 7: unexpected token: -&gt; @ line 7, column 43.\r\nlect( Collectors.groupingBy(k -\\&gt; k.toLow\r\n```","title":"How to use parallel stream in Groovy?","body":"<p>I want to ask how to write the below code in Groovy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; nums = ['a','b']\n\nMap&lt;String, Long&gt; counts = nums.parallelStream()\n.collect( Collectors.groupingBy(k -&gt; k.toLowerCase(), \nCollectors.counting()) );          \n</code></pre>\n<pre><code>Output in java: {a:1,b:1}\n\nI tried using the same but it gives error below:\norg.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\n/home/cg/root/492337/main.groovy: 7: unexpected token: -&gt; @ line 7, column 43.\nlect( Collectors.groupingBy(k -\\&gt; k.toLow\n</code></pre>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":3039084,"reputation":6351,"user_id":2576531,"accept_rate":88,"display_name":"Yannic B&#252;rgmann"},"score":0,"creation_date":1445873482,"post_id":33349456,"comment_id":54494469,"body_markdown":"which spring-boot version are you using? If i remember correctly the reload of java classes is possible since 1.3.0 (only RC1 available right now). But I&#39;m not sure about this. You may verify this","body":"which spring-boot version are you using? If i remember correctly the reload of java classes is possible since 1.3.0 (only RC1 available right now). But I&#39;m not sure about this. You may verify this"},{"owner":{"account_id":1698471,"reputation":1463,"user_id":1559249,"accept_rate":50,"display_name":"集成显卡"},"score":0,"creation_date":1445874105,"post_id":33349456,"comment_id":54494949,"body_markdown":"I use Spring-boot 1.3.0RC1","body":"I use Spring-boot 1.3.0RC1"},{"owner":{"account_id":3039084,"reputation":6351,"user_id":2576531,"accept_rate":88,"display_name":"Yannic B&#252;rgmann"},"score":0,"creation_date":1445874176,"post_id":33349456,"comment_id":54495017,"body_markdown":":( Sorry then i can&#39;t tell you more. Didn&#39;t try this, yet","body":":( Sorry then i can&#39;t tell you more. Didn&#39;t try this, yet"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1536917070,"post_id":33349456,"comment_id":91604553,"body_markdown":"Maybe somehow unrelated, but autoreloading works out of the box in netbeans.","body":"Maybe somehow unrelated, but autoreloading works out of the box in netbeans."}],"answers":[{"tags":[],"owner":{"account_id":8411249,"reputation":101,"user_id":6313086,"display_name":"wang.chun"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1481283937,"creation_date":1481279583,"answer_id":41058356,"question_id":33349456,"body_markdown":"`CTRL+F9` to make project with debugging.\r\nThe idea is to make the project automatically work while not running or debugging!\r\n\r\n&gt; Setting-&gt;Build-&gt;Compiler-&gt;check Make project automatically.","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p><code>CTRL+F9</code> to make project with debugging.\nThe idea is to make the project automatically work while not running or debugging!</p>\n\n<blockquote>\n  <p>Setting->Build->Compiler->check Make project automatically.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"score":3,"creation_date":1547911392,"post_id":43398567,"comment_id":95359931,"body_markdown":"Thanks it works, Do you know if its possible when running it with command line ?","body":"Thanks it works, Do you know if its possible when running it with command line ?"},{"owner":{"account_id":7853419,"reputation":120,"user_id":5936155,"display_name":"Jp Silver"},"score":0,"creation_date":1626849674,"post_id":43398567,"comment_id":120998659,"body_markdown":"Its still not working. had it working for 5 other projects but you know f me right???","body":"Its still not working. had it working for 5 other projects but you know f me right???"},{"owner":{"account_id":10252394,"reputation":148,"user_id":7566205,"display_name":"Sami"},"score":1,"creation_date":1644870939,"post_id":43398567,"comment_id":125715456,"body_markdown":"Do you know how to increase the speed?","body":"Do you know how to increase the speed?"},{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":1,"creation_date":1678134748,"post_id":43398567,"comment_id":133471492,"body_markdown":"Note that this has moved to the Advanced Settings: https://youtrack.jetbrains.com/issue/IDEA-274903/In-IntelliJ-2021.2-compiler.automake.allow.when.app.running-disappear.-Unable-to-enable-live-reload-under-Spring-boot#focus=Comments-27-5089338.0-0","body":"Note that this has moved to the Advanced Settings: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-274903/In-IntelliJ-2021.2-compiler.automake.allow.when.app.running-disappear.-Unable-to-enable-live-reload-under-Spring-boot#focus=Comments-27-5089338.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-274903/&hellip;</a>"}],"tags":[],"owner":{"account_id":2177963,"reputation":2109,"user_id":1928184,"accept_rate":60,"display_name":"Hocine Ben"},"comment_count":4,"down_vote_count":0,"up_vote_count":181,"is_accepted":false,"score":181,"last_activity_date":1605120881,"creation_date":1492105243,"answer_id":43398567,"question_id":33349456,"body_markdown":"First, be sure that you added `spring-boot-devtools` as dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\nSecond, verify that the option check-box `File-&gt;Setting –&gt; Build, Execution, Deployment –&gt; Compiler–&gt;`**Build project automatically** is selected.\r\n\r\nLast, press `SHIFT+CTRL+A` for Linux/Windows users or `Command+SHIFT+A` for Mac users, then type **registry** in the opened pop-up window. Scroll down to `Registry...` using the down arrow key and hit `ENTER` on `Registry...`. In the `Registry` window verify the option **compiler.automake.allow.when.app.running** is checked.\r\n\r\nIf the static files are not reloaded, press `CTRL+F9` to force a reload.\r\n\r\nThe instructions above are taken from [here][1]\r\n\r\n\r\n  [1]: https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>First, be sure that you added <code>spring-boot-devtools</code> as dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Second, verify that the option check-box <code>File-&gt;Setting –&gt; Build, Execution, Deployment –&gt; Compiler–&gt;</code><strong>Build project automatically</strong> is selected.</p>\n<p>Last, press <code>SHIFT+CTRL+A</code> for Linux/Windows users or <code>Command+SHIFT+A</code> for Mac users, then type <strong>registry</strong> in the opened pop-up window. Scroll down to <code>Registry...</code> using the down arrow key and hit <code>ENTER</code> on <code>Registry...</code>. In the <code>Registry</code> window verify the option <strong>compiler.automake.allow.when.app.running</strong> is checked.</p>\n<p>If the static files are not reloaded, press <code>CTRL+F9</code> to force a reload.</p>\n<p>The instructions above are taken from <a href=\"https://www.mkyong.com/spring-boot/intellij-idea-spring-boot-template-reload-is-not-working/\" rel=\"noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":0,"creation_date":1678134783,"post_id":55085204,"comment_id":133471507,"body_markdown":"The registry item has moved to a checkbox in Advanced Settings: https://youtrack.jetbrains.com/issue/IDEA-274903/In-IntelliJ-2021.2-compiler.automake.allow.when.app.running-disappear.-Unable-to-enable-live-reload-under-Spring-boot#focus=Comments-27-5089338.0-0","body":"The registry item has moved to a checkbox in Advanced Settings: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-274903/In-IntelliJ-2021.2-compiler.automake.allow.when.app.running-disappear.-Unable-to-enable-live-reload-under-Spring-boot#focus=Comments-27-5089338.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-274903/&hellip;</a>"}],"tags":[],"owner":{"account_id":10784730,"reputation":2516,"user_id":8252883,"accept_rate":38,"display_name":"Shuai Li"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1642599142,"creation_date":1552200555,"answer_id":55085204,"question_id":33349456,"body_markdown":"For macOS\r\n\r\n1. Preference -&gt; Compiler -&gt; check &quot;Build project automatically&quot;\r\n![asds][1]\r\n\r\n2. shift + command + A \r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\ncheck `compiler.automake.allow.when.app.running`\r\n\r\nIf the static files are not reloaded, press `CTRL+F9` to force a reload.\r\n\r\n  [1]: https://i.stack.imgur.com/3Npn9.png\r\n  [2]: https://i.stack.imgur.com/lVIgo.png\r\n  [3]: https://i.stack.imgur.com/rsbxG.png","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>For macOS</p>\n<ol>\n<li><p>Preference -&gt; Compiler -&gt; check &quot;Build project automatically&quot;\n<img src=\"https://i.stack.imgur.com/3Npn9.png\" alt=\"asds\" /></p>\n</li>\n<li><p>shift + command + A\n<a href=\"https://i.stack.imgur.com/lVIgo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lVIgo.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rsbxG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rsbxG.png\" alt=\"enter image description here\" /></a></p>\n<p>check <code>compiler.automake.allow.when.app.running</code></p>\n<p>If the static files are not reloaded, press <code>CTRL+F9</code> to force a reload.</p>\n"},{"tags":[],"owner":{"account_id":9221177,"reputation":2312,"user_id":6850561,"display_name":"Partho"},"comment_count":0,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1636276846,"creation_date":1629659861,"answer_id":68884460,"question_id":33349456,"body_markdown":"Note :: For who those not found that option in registry.The newer version of intellij idea for my case @Version:2021.2 the compiler.automake.allow.when.app.running option is moved to advanced settings:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ByXR8.png","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>Note :: For who those not found that option in registry.The newer version of intellij idea for my case @Version:2021.2 the compiler.automake.allow.when.app.running option is moved to advanced settings:</p>\n<p><a href=\"https://i.stack.imgur.com/ByXR8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ByXR8.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":4835080,"reputation":137,"user_id":5329403,"display_name":"user5329403"},"score":0,"creation_date":1636384068,"post_id":69885468,"comment_id":123535429,"body_markdown":"in addition with the answer above :  check compiler to make auto restart automatically.","body":"in addition with the answer above :  check compiler to make auto restart automatically."}],"tags":[],"owner":{"account_id":4835080,"reputation":137,"user_id":5329403,"display_name":"user5329403"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636383083,"creation_date":1636383083,"answer_id":69885468,"question_id":33349456,"body_markdown":"Possibly you could check if build is fired on any changes on **Build Tools** *settings*\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sN4iL.png","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>Possibly you could check if build is fired on any changes on <strong>Build Tools</strong> <em>settings</em>\n<a href=\"https://i.stack.imgur.com/sN4iL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sN4iL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16056405,"reputation":59,"user_id":11588592,"display_name":"Apoorv Vardhman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666398390,"creation_date":1666398390,"answer_id":74160282,"question_id":33349456,"body_markdown":"[![intelij reload][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uGMTA.png\r\nsetting&gt;&gt;Build,Execution,Deployment&gt;&gt;Build Tools\r\n\r\n**any changes should be checked**\r\n","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p><a href=\"https://i.stack.imgur.com/uGMTA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uGMTA.png\" alt=\"intelij reload\" /></a></p>\n<p>setting&gt;&gt;Build,Execution,Deployment&gt;&gt;Build Tools</p>\n<p><strong>any changes should be checked</strong></p>\n"}],"owner":{"account_id":1698471,"reputation":1463,"user_id":1559249,"accept_rate":50,"display_name":"集成显卡"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101455,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"answer_count":6,"score":84,"last_activity_date":1666398390,"creation_date":1445873136,"question_id":33349456,"body_markdown":"I had wrote a project base on Spring-boot,tomcat,freemarker, I run it successful, but whenever I modify some templates and java class, I must restart server or use &quot;reload changed classes&quot; menu on Intellij to make the changes become effective. It wastes lots time!\r\n\r\n\r\nThen I try to use springloaded  as [the official said](http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-reload-java-classes-without-restarting):\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;${project.basedir}/lib/springloaded-1.2.0.RELEASE.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n   \r\nthen I rerun server, but doesn&#39;t work as expected!\r\nI still need to restart server after any change on template or class.\r\n\r\nHow could I configure the springloaded to auto reload.\r\nThanks a lot!\r\n\r\n-------------------------\r\nThe version of Spring-boot is 1.3.0RC1\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0.RC1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\nmaven version:3.2\r\njdk:1.8\r\nintellij :14.1.5\r\nos:windows 8.1 64 bit","title":"how to make auto reload with Spring-boot on IDEA Intellij","body":"<p>I had wrote a project base on Spring-boot,tomcat,freemarker, I run it successful, but whenever I modify some templates and java class, I must restart server or use \"reload changed classes\" menu on Intellij to make the changes become effective. It wastes lots time!</p>\n\n<p>Then I try to use springloaded  as <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#howto-reload-java-classes-without-restarting\" rel=\"noreferrer\">the official said</a>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0.RELEASE&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/springloaded-1.2.0.RELEASE.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>then I rerun server, but doesn't work as expected!\nI still need to restart server after any change on template or class.</p>\n\n<p>How could I configure the springloaded to auto reload.\nThanks a lot!</p>\n\n<hr>\n\n<p>The version of Spring-boot is 1.3.0RC1</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0.RC1&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>maven version:3.2\njdk:1.8\nintellij :14.1.5\nos:windows 8.1 64 bit</p>\n"},{"tags":["java","spring","jpa","datasource","spring-transactions"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1666256248,"post_id":74136436,"comment_id":130894604,"body_markdown":"Hi!Have you tried to run the test removing `@Primary` for all beans from `LmtPersistenceConfiguration`?","body":"Hi!Have you tried to run the test removing <code>@Primary</code> for all beans from <code>LmtPersistenceConfiguration</code>?"},{"owner":{"account_id":19418836,"reputation":3,"user_id":14201726,"display_name":"Rick"},"score":0,"creation_date":1666266261,"post_id":74136436,"comment_id":130898218,"body_markdown":"Hi @artiomi,\nI tried this now, but this way the application doesn&#39;t even start:\n\n`***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method entityManagerFactory in com.delta.Monitoring.Configuration.LmtPersistenceConfiguration required a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder&#39; that could not be found.\n\n\nAction:\n\nConsider defining a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder&#39; in your configuration.\n\n\nProcess finished with exit code 0`","body":"Hi @artiomi, I tried this now, but this way the application doesn&#39;t even start:  <code>*************************** APPLICATION FAILED TO START ***************************  Description:  Parameter 0 of method entityManagerFactory in com.delta.Monitoring.Configuration.LmtPersistenceConfigurati&zwnj;&#8203;on required a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilde&zwnj;&#8203;r&#39; that could not be found.   Action:  Consider defining a bean of type &#39;org.springframework.boot.orm.jpa.EntityManagerFactoryBuilde&zwnj;&#8203;r&#39; in your configuration.   Process finished with exit code 0</code>"}],"answers":[{"comments":[{"owner":{"account_id":1445276,"reputation":8644,"user_id":1364007,"display_name":"Wai Ha Lee"},"score":0,"creation_date":1666397693,"post_id":74158065,"comment_id":130935169,"body_markdown":"Post answers as answers. Never edit an answer into the question.","body":"Post answers as answers. Never edit an answer into the question."}],"tags":[],"owner":{"account_id":19418836,"reputation":3,"user_id":14201726,"display_name":"Rick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666397659,"creation_date":1666378372,"answer_id":74158065,"question_id":74136436,"body_markdown":"It&#39;s quite simple and was in front of my eyes the whole time:\r\nIn the secondary data source configuration I named the entity manager factory bean &quot;entityManagerFactorySecondary&quot; but in the transaction manager method I only referred to &quot;entityManagerFactory&quot;.\r\n\r\nThis is how they must look like:\r\n\r\n```\r\nreturn builder\r\n            .dataSource(powerDataSource())\r\n            .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\r\n            .build();\r\n}\r\n\r\n@Bean( name = &quot;powerTransactionManager&quot;)\r\npublic PlatformTransactionManager powerTransactionManager(\r\n        final @Qualifier(&quot;entityManagerFactorySecondary&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\r\n    return new JpaTransactionManager(powerEntityManagerFactory.getObject());\r\n}\r\n```","title":"Spring saveAndFlush() not working with secondary data source","body":"<p>It's quite simple and was in front of my eyes the whole time:\nIn the secondary data source configuration I named the entity manager factory bean &quot;entityManagerFactorySecondary&quot; but in the transaction manager method I only referred to &quot;entityManagerFactory&quot;.</p>\n<p>This is how they must look like:</p>\n<pre><code>return builder\n            .dataSource(powerDataSource())\n            .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\n            .build();\n}\n\n@Bean( name = &quot;powerTransactionManager&quot;)\npublic PlatformTransactionManager powerTransactionManager(\n        final @Qualifier(&quot;entityManagerFactorySecondary&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\n    return new JpaTransactionManager(powerEntityManagerFactory.getObject());\n}\n</code></pre>\n"}],"owner":{"account_id":19418836,"reputation":3,"user_id":14201726,"display_name":"Rick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74158065,"answer_count":1,"score":0,"last_activity_date":1666397659,"creation_date":1666253378,"question_id":74136436,"body_markdown":"I set up a small Spring Boot project that I use for certain monitorings. It has various endpoints to receive data via webservice calls and is supposed to store them into two different databases.\r\n\r\nWhile everything works fine forthe primary data base, I cannot save data to the secondary database. Reading the existing data is working fine, but I cannot save anything. I&#39;m always getting an exception:\r\n\r\n&gt; javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\nThis is the coding:\r\n\r\nEverything related to Light, Motion and Temperature (**LMT**) is in one database. The information for Power (**P**) is stored in a second database (where I have the issues with).\r\n\r\nMy package set up is as follows:\r\n\r\n    - [Configuration]\r\n    - [Controller]\r\n    --- [Light]\r\n    --- [Motion]\r\n    --- [Temperature]\r\n    --- [Power]\r\n    - [Model]\r\n    --- [LMT-Models]\r\n    --- [P-Models]\r\n    - [Repository]\r\n    --- [lmt]\r\n    --- [PowerMonitoring]\r\n\r\nIn my Configuration package I have two persistence classes, one for LMT and one for Power, both handling the database connections for the respective repositories. The LMT one is the primary one, the Power one the secondary (*or rather the non-primary*):\r\n\r\nPrimary data source:\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;com.delta.Monitoring.Repository.lmt&quot;,\r\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;lmtTransactionManager&quot;\r\n)\r\npublic class LmtPersistenceConfiguration {\r\n    @Bean( name = &quot;lmtDataSourceProperties&quot;)\r\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\r\n    @Primary\r\n    public DataSourceProperties lmtDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean( name = &quot;lmtDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.datasource.configuration&quot;)\r\n    @Primary\r\n    public DataSource lmtDataSource() {\r\n        return lmtDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(BasicDataSource.class).build();\r\n    }\r\n\r\n    @Bean(name = &quot;entityManagerFactory&quot;)\r\n    @Primary\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(lmtDataSource())\r\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.lmt&quot;})\r\n                .build();\r\n    }\r\n\r\n    @Bean (name = &quot;lmtTransactionManager&quot;)\r\n    @Primary\r\n    public PlatformTransactionManager lmtTransactionManager(\r\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean lmtEntityManagerFactory) {\r\n        return new JpaTransactionManager(lmtEntityManagerFactory.getObject());\r\n    }\r\n\r\n}\r\n```\r\n\r\nSecondary data source:\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;com.delta.Monitoring.Repository.PowerMonitoring&quot;,\r\n        entityManagerFactoryRef = &quot;entityManagerFactorySecondary&quot;,\r\n        transactionManagerRef = &quot;powerTransactionManager&quot;\r\n)\r\npublic class PowerPersistenceConfiguration {\r\n\r\n    @Bean( name = &quot;powerDataSourceProperties&quot;)\r\n    @ConfigurationProperties(&quot;spring.powerdatasource&quot;)\r\n    public DataSourceProperties powerDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean( name = &quot;powerDataSource&quot;)\r\n    @ConfigurationProperties(&quot;spring.powerdatasource.configuration&quot;)\r\n    public DataSource powerDataSource() {\r\n        return powerDataSourceProperties().initializeDataSourceBuilder()\r\n                .type(BasicDataSource.class).build();\r\n    }\r\n\r\n    @Bean(name = &quot;entityManagerFactorySecondary&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) {\r\n        return builder\r\n                .dataSource(powerDataSource())\r\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\r\n                .build();\r\n    }\r\n\r\n    @Bean( name = &quot;powerTransactionManager&quot;)\r\n    public PlatformTransactionManager powerTransactionManager(\r\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\r\n        return new JpaTransactionManager(powerEntityManagerFactory.getObject());\r\n    }\r\n}\r\n```\r\n\r\nThis is what one of the Power-Repositories looks like. Since I&#39;m not doing anything fancy with it (yet), I just extended the JpaRepository:\r\n\r\n```\r\n@Transactional(&quot;powerTransactionManager&quot;)\r\npublic interface PowerDaysRepository extends JpaRepository&lt;PowerDay, PowerDayId&gt; {\r\n\r\n\r\n}\r\n```\r\n\r\nAnd finally, the controller, where I always get the exception:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;power&quot;)\r\npublic class PowerController {\r\n\r\n    private static final Logger myLog = LogManager.getLogger(PowerController.class);\r\n\r\n    @Autowired\r\n    PowerDayDetailsRepository powerDayDetailsRepository;\r\n\r\n    @PostMapping(&quot;/powerdaydetails&quot;)\r\n    public boolean insertPowerDayDetails(@RequestBody List&lt;PowerDayDetails&gt; powerDayDetails){\r\n        myLog.info(&quot;POST /power/powerdaydetails&quot;);\r\n        powerDayDetailsRepository.deleteAll();\r\n        //List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAllAndFlush(powerDayDetails);\r\n        List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAll(powerDayDetails);\r\n\r\n        myLog.info(&quot;Update size: &quot; + lines.size());\r\n        myLog.info(&quot;Received data: &quot; + powerDayDetails.size());\r\n\r\n        return lines.size() == powerDayDetails.size();\r\n    }\r\n}\r\n```\r\n\r\nWhen I call the /powerdaydetails-endpoint I wanted to save the respective data in the database. First delete all and then save the newly received data.\r\nWhen I use the **saveAll()** method, I am **not** getting the exception, however also **nothing** in stored in the database. This is the log:\r\n\r\n&gt; 2022-10-20 10:00:12.067  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : POST /power/powerdaydetails\r\n&gt; \r\n&gt; 2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Update size: 582\r\n&gt; \r\n&gt; 2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Received data: 582\r\n\r\n\r\nWhen I use the **saveAllAndFlush()** method, the above-mentioned exception occurs and - needless to say - also nothing gets stored in the database.\r\n\r\nI&#39;ve read a lot about the @Transactional and also the @Modifying topic, but that also never solved my problem. The primary data source and the respective repositories and controllers work perfectly and save all the data directly. It just seems that I have made a mistake with the second data source or haven&#39;t told Spring yet where/how to find a transaction for this.\r\n","title":"Spring saveAndFlush() not working with secondary data source","body":"<p>I set up a small Spring Boot project that I use for certain monitorings. It has various endpoints to receive data via webservice calls and is supposed to store them into two different databases.</p>\n<p>While everything works fine forthe primary data base, I cannot save data to the secondary database. Reading the existing data is working fine, but I cannot save anything. I'm always getting an exception:</p>\n<blockquote>\n<p>javax.persistence.TransactionRequiredException: no transaction is in progress</p>\n</blockquote>\n<p>This is the coding:</p>\n<p>Everything related to Light, Motion and Temperature (<strong>LMT</strong>) is in one database. The information for Power (<strong>P</strong>) is stored in a second database (where I have the issues with).</p>\n<p>My package set up is as follows:</p>\n<pre><code>- [Configuration]\n- [Controller]\n--- [Light]\n--- [Motion]\n--- [Temperature]\n--- [Power]\n- [Model]\n--- [LMT-Models]\n--- [P-Models]\n- [Repository]\n--- [lmt]\n--- [PowerMonitoring]\n</code></pre>\n<p>In my Configuration package I have two persistence classes, one for LMT and one for Power, both handling the database connections for the respective repositories. The LMT one is the primary one, the Power one the secondary (<em>or rather the non-primary</em>):</p>\n<p>Primary data source:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = &quot;com.delta.Monitoring.Repository.lmt&quot;,\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\n        transactionManagerRef = &quot;lmtTransactionManager&quot;\n)\npublic class LmtPersistenceConfiguration {\n    @Bean( name = &quot;lmtDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\n    @Primary\n    public DataSourceProperties lmtDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean( name = &quot;lmtDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.datasource.configuration&quot;)\n    @Primary\n    public DataSource lmtDataSource() {\n        return lmtDataSourceProperties().initializeDataSourceBuilder()\n                .type(BasicDataSource.class).build();\n    }\n\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    @Primary\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(lmtDataSource())\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.lmt&quot;})\n                .build();\n    }\n\n    @Bean (name = &quot;lmtTransactionManager&quot;)\n    @Primary\n    public PlatformTransactionManager lmtTransactionManager(\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean lmtEntityManagerFactory) {\n        return new JpaTransactionManager(lmtEntityManagerFactory.getObject());\n    }\n\n}\n</code></pre>\n<p>Secondary data source:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = &quot;com.delta.Monitoring.Repository.PowerMonitoring&quot;,\n        entityManagerFactoryRef = &quot;entityManagerFactorySecondary&quot;,\n        transactionManagerRef = &quot;powerTransactionManager&quot;\n)\npublic class PowerPersistenceConfiguration {\n\n    @Bean( name = &quot;powerDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.powerdatasource&quot;)\n    public DataSourceProperties powerDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean( name = &quot;powerDataSource&quot;)\n    @ConfigurationProperties(&quot;spring.powerdatasource.configuration&quot;)\n    public DataSource powerDataSource() {\n        return powerDataSourceProperties().initializeDataSourceBuilder()\n                .type(BasicDataSource.class).build();\n    }\n\n    @Bean(name = &quot;entityManagerFactorySecondary&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder) {\n        return builder\n                .dataSource(powerDataSource())\n                .packages(new String[]{&quot;com.delta.Monitoring.Model.PowerMonitoring&quot;})\n                .build();\n    }\n\n    @Bean( name = &quot;powerTransactionManager&quot;)\n    public PlatformTransactionManager powerTransactionManager(\n            final @Qualifier(&quot;entityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean powerEntityManagerFactory) {\n        return new JpaTransactionManager(powerEntityManagerFactory.getObject());\n    }\n}\n</code></pre>\n<p>This is what one of the Power-Repositories looks like. Since I'm not doing anything fancy with it (yet), I just extended the JpaRepository:</p>\n<pre><code>@Transactional(&quot;powerTransactionManager&quot;)\npublic interface PowerDaysRepository extends JpaRepository&lt;PowerDay, PowerDayId&gt; {\n\n\n}\n</code></pre>\n<p>And finally, the controller, where I always get the exception:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;power&quot;)\npublic class PowerController {\n\n    private static final Logger myLog = LogManager.getLogger(PowerController.class);\n\n    @Autowired\n    PowerDayDetailsRepository powerDayDetailsRepository;\n\n    @PostMapping(&quot;/powerdaydetails&quot;)\n    public boolean insertPowerDayDetails(@RequestBody List&lt;PowerDayDetails&gt; powerDayDetails){\n        myLog.info(&quot;POST /power/powerdaydetails&quot;);\n        powerDayDetailsRepository.deleteAll();\n        //List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAllAndFlush(powerDayDetails);\n        List&lt;PowerDayDetails&gt; lines = powerDayDetailsRepository.saveAll(powerDayDetails);\n\n        myLog.info(&quot;Update size: &quot; + lines.size());\n        myLog.info(&quot;Received data: &quot; + powerDayDetails.size());\n\n        return lines.size() == powerDayDetails.size();\n    }\n}\n</code></pre>\n<p>When I call the /powerdaydetails-endpoint I wanted to save the respective data in the database. First delete all and then save the newly received data.\nWhen I use the <strong>saveAll()</strong> method, I am <strong>not</strong> getting the exception, however also <strong>nothing</strong> in stored in the database. This is the log:</p>\n<blockquote>\n<p>2022-10-20 10:00:12.067  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : POST /power/powerdaydetails</p>\n<p>2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Update size: 582</p>\n<p>2022-10-20 10:00:12.639  INFO 22842 --- [http-nio-8321-exec-88] c.m.H.Controller.Power.PowerController   : Received data: 582</p>\n</blockquote>\n<p>When I use the <strong>saveAllAndFlush()</strong> method, the above-mentioned exception occurs and - needless to say - also nothing gets stored in the database.</p>\n<p>I've read a lot about the @Transactional and also the @Modifying topic, but that also never solved my problem. The primary data source and the respective repositories and controllers work perfectly and save all the data directly. It just seems that I have made a mistake with the second data source or haven't told Spring yet where/how to find a transaction for this.</p>\n"},{"tags":["java","jdbc","prepared-statement","sql-injection","jooq"],"comments":[{"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"score":0,"creation_date":1510609394,"post_id":47183032,"comment_id":81499277,"body_markdown":"This is not a duplicate because this is not a question about prepared statements, but a question about the JOOQ library.  The answer by \ndjkelly99 is correct.  Using JOOQ does eliminate the possibility of SQL injection as long as you do not use any of the methods annotated with `PlainSQL` which allow you to use arbitrary SQL strings.  The fact that JOOQ is safe is not because it (usually) uses prepared statements.","body":"This is not a duplicate because this is not a question about prepared statements, but a question about the JOOQ library.  The answer by  djkelly99 is correct.  Using JOOQ does eliminate the possibility of SQL injection as long as you do not use any of the methods annotated with <code>PlainSQL</code> which allow you to use arbitrary SQL strings.  The fact that JOOQ is safe is not because it (usually) uses prepared statements."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1629706576,"post_id":47183032,"comment_id":121747766,"body_markdown":"This question was closed as a duplicate, but it is asking *specifically* about jOOQ specific measures, in addition to JDBC&#39;s so I feel it&#39;s not a duplicate.","body":"This question was closed as a duplicate, but it is asking <i>specifically</i> about jOOQ specific measures, in addition to JDBC&#39;s so I feel it&#39;s not a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":8653896,"reputation":590,"user_id":6478781,"display_name":"djkelly99"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510158973,"creation_date":1510158973,"answer_id":47185017,"question_id":47183032,"body_markdown":"1) Yes, as long as you use the provided API&#39;s correctly. It is still possible to inject plain sql queries though so be careful.\r\n\r\n&gt; All methods in the jOOQ API that allow for plain (unescaped, untreated) SQL contain a warning message in their relevant Javadoc\r\n\r\n    // This query will use bind values, internally.\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = ? AND TITLE = ?&quot;, 5, &quot;Animal Farm&quot;);\r\n    // This query will not use bind values, internally.\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = &#39;Animal Farm&#39;&quot;);\r\n\r\nSee JOOQ docs here for a more in depth explanation: https://www.jooq.org/doc/3.9/manual/sql-building/bind-values/sql-injection/\r\n\r\n2) No, see above.\r\n\r\n3) Aside from that just beware of general DB security issues, such as user authentication/roles and storing sensitive data in an unecrypted format etc \r\n","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<p>1) Yes, as long as you use the provided API's correctly. It is still possible to inject plain sql queries though so be careful.</p>\n\n<blockquote>\n  <p>All methods in the jOOQ API that allow for plain (unescaped, untreated) SQL contain a warning message in their relevant Javadoc</p>\n</blockquote>\n\n<pre><code>// This query will use bind values, internally.\ncreate.fetch(\"SELECT * FROM BOOK WHERE ID = ? AND TITLE = ?\", 5, \"Animal Farm\");\n// This query will not use bind values, internally.\ncreate.fetch(\"SELECT * FROM BOOK WHERE ID = 5 AND TITLE = 'Animal Farm'\");\n</code></pre>\n\n<p>See JOOQ docs here for a more in depth explanation: <a href=\"https://www.jooq.org/doc/3.9/manual/sql-building/bind-values/sql-injection/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/3.9/manual/sql-building/bind-values/sql-injection/</a></p>\n\n<p>2) No, see above.</p>\n\n<p>3) Aside from that just beware of general DB security issues, such as user authentication/roles and storing sensitive data in an unecrypted format etc </p>\n"},{"comments":[{"owner":{"account_id":9768052,"reputation":176,"user_id":7240883,"accept_rate":83,"display_name":"rehas"},"score":0,"creation_date":1510218260,"post_id":47187051,"comment_id":81344078,"body_markdown":"When you say &quot;Merely using prepared queries does NOT make an unsafe query into a safe query. Use parameters to separate dynamic values from the SQL query&quot;. That&#39;s a little confusing for me. Aren&#39;t prepared statements using parameters by default? For me that are two different terms for the same functionality. Or am i missing something here?","body":"When you say &quot;Merely using prepared queries does NOT make an unsafe query into a safe query. Use parameters to separate dynamic values from the SQL query&quot;. That&#39;s a little confusing for me. Aren&#39;t prepared statements using parameters by default? For me that are two different terms for the same functionality. Or am i missing something here?"},{"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"score":0,"creation_date":1510609642,"post_id":47187051,"comment_id":81499406,"body_markdown":"It is not true that using prepared statements makes you safe from injection.  But it does seem to be true that using JOOQ makes you safe from injection, as long as you avoid any of the methods annotated with `PlainSQL`.  An answer below provides a link to the official statement on the JOOQ site.","body":"It is not true that using prepared statements makes you safe from injection.  But it does seem to be true that using JOOQ makes you safe from injection, as long as you avoid any of the methods annotated with <code>PlainSQL</code>.  An answer below provides a link to the official statement on the JOOQ site."}],"tags":[],"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666397566,"creation_date":1510165507,"answer_id":47187051,"question_id":47183032,"body_markdown":"It&#39;s always possible to write unsafe queries, no matter what language and framework you use.\r\n\r\nThe naive way of concatenating variables into SQL creates an opportunity for SQL injection:\r\n\r\n    String unsafeString = &quot;O&#39;Reilly&quot;;\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = &#39;&quot;+unsafeString+&quot;&#39;&quot;);\r\n    // results in SQL syntax error because of unmatched &#39; marks\r\n\r\nMerely using prepared queries does NOT make an unsafe query into a safe query.\r\n\r\nUse parameters to separate dynamic values from the SQL query. These are combined within the RDBMS at execution time. There is no way a parameter can cause an SQL injection vulnerability.\r\n\r\n    String unsafeString = &quot;O&#39;Reilly&quot;;\r\n    create.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = ?&quot;, unsafeString);\r\n    // still OK\r\n\r\nWhen you use parameters, you don&#39;t need to do any escaping of the variables. In fact, you *must not,* because you&#39;ll end up with escape symbols in your data.\r\n\r\nParameters are good for combining Java variables into an SQL query, but only in the place of an SQL scalar value. That is, where you would normally use a quoted string literal, quoted date literal, or numeric literal in your SQL, you can replace it with a parameter placeholder.\r\n\r\nBut you can&#39;t use parameters for anything else in SQL:\r\n\r\n* Table names\r\n* Column names\r\n* Lists of values, for example for an `IN ( ... )` predicate—you must use one `?` placeholder per individual value in the list.\r\n* SQL expressions\r\n* SQL keywords\r\n\r\nYou might like my presentation [SQL Injection Myths and Fallacies][1] ([video][2]), or my book, [SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming][3]\r\n\r\n---\r\n\r\nRe comment from @rehas:\r\n\r\nIndeed, using prepared statements does *not* mean you are using parameters implicitly. I showed an example above (my first example), of concatenating an unsafe variable into an SQL string before it is sent to prepare().\r\n\r\nOnce the SQL string arrives in the RDBMS server, it has no way of knowing which parts of the string were legitimate and which parts were concatenated from unsafe variables. All it sees is one string containing an SQL statement.\r\n\r\nThe point of using parameters is to keep the (potentially unsafe) variables separated from the SQL string. Within the RDBMS server, the SQL string—still with parameter placeholders like `?`—is parsed. Once it&#39;s parsed, it won&#39;t be parsed again, so it&#39;s safe for strings like &quot;O&#39;Reilly&quot; to be bound to the parameter placeholders without risk of causing mismatched quotes or anything. A parameters is guaranteed to be treated as a single value in the SQL execution, even if the value of the parameter contains characters that would have changed the way the query was parsed, if it had been included *before* prepare().\r\n\r\nIt&#39;s not true that using prepare() means you&#39;re always using parameters.\r\n\r\nIt&#39;s accurate to say that using parameters requires use of prepare() and execute() as separate steps. But some frameworks do both steps for you. I&#39;m sure if you were to read the jOOQ source code, you&#39;d see it.\r\n\r\n  [1]: https://www.slideshare.net/billkarwin/sql-injection-myths-and-fallacies\r\n  [2]: https://www.youtube.com/watch?v=VldxqTejybk\r\n  [3]: https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<p>It's always possible to write unsafe queries, no matter what language and framework you use.</p>\n<p>The naive way of concatenating variables into SQL creates an opportunity for SQL injection:</p>\n<pre><code>String unsafeString = &quot;O'Reilly&quot;;\ncreate.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = '&quot;+unsafeString+&quot;'&quot;);\n// results in SQL syntax error because of unmatched ' marks\n</code></pre>\n<p>Merely using prepared queries does NOT make an unsafe query into a safe query.</p>\n<p>Use parameters to separate dynamic values from the SQL query. These are combined within the RDBMS at execution time. There is no way a parameter can cause an SQL injection vulnerability.</p>\n<pre><code>String unsafeString = &quot;O'Reilly&quot;;\ncreate.fetch(&quot;SELECT * FROM BOOK WHERE ID = 5 AND TITLE = ?&quot;, unsafeString);\n// still OK\n</code></pre>\n<p>When you use parameters, you don't need to do any escaping of the variables. In fact, you <em>must not,</em> because you'll end up with escape symbols in your data.</p>\n<p>Parameters are good for combining Java variables into an SQL query, but only in the place of an SQL scalar value. That is, where you would normally use a quoted string literal, quoted date literal, or numeric literal in your SQL, you can replace it with a parameter placeholder.</p>\n<p>But you can't use parameters for anything else in SQL:</p>\n<ul>\n<li>Table names</li>\n<li>Column names</li>\n<li>Lists of values, for example for an <code>IN ( ... )</code> predicate—you must use one <code>?</code> placeholder per individual value in the list.</li>\n<li>SQL expressions</li>\n<li>SQL keywords</li>\n</ul>\n<p>You might like my presentation <a href=\"https://www.slideshare.net/billkarwin/sql-injection-myths-and-fallacies\" rel=\"nofollow noreferrer\">SQL Injection Myths and Fallacies</a> (<a href=\"https://www.youtube.com/watch?v=VldxqTejybk\" rel=\"nofollow noreferrer\">video</a>), or my book, <a href=\"https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/\" rel=\"nofollow noreferrer\">SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming</a></p>\n<hr />\n<p>Re comment from @rehas:</p>\n<p>Indeed, using prepared statements does <em>not</em> mean you are using parameters implicitly. I showed an example above (my first example), of concatenating an unsafe variable into an SQL string before it is sent to prepare().</p>\n<p>Once the SQL string arrives in the RDBMS server, it has no way of knowing which parts of the string were legitimate and which parts were concatenated from unsafe variables. All it sees is one string containing an SQL statement.</p>\n<p>The point of using parameters is to keep the (potentially unsafe) variables separated from the SQL string. Within the RDBMS server, the SQL string—still with parameter placeholders like <code>?</code>—is parsed. Once it's parsed, it won't be parsed again, so it's safe for strings like &quot;O'Reilly&quot; to be bound to the parameter placeholders without risk of causing mismatched quotes or anything. A parameters is guaranteed to be treated as a single value in the SQL execution, even if the value of the parameter contains characters that would have changed the way the query was parsed, if it had been included <em>before</em> prepare().</p>\n<p>It's not true that using prepare() means you're always using parameters.</p>\n<p>It's accurate to say that using parameters requires use of prepare() and execute() as separate steps. But some frameworks do both steps for you. I'm sure if you were to read the jOOQ source code, you'd see it.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629707005,"creation_date":1629707005,"answer_id":68889397,"question_id":47183032,"body_markdown":"### Little risk when using jOOQ as intended\r\n\r\nWhen you use jOOQ as intended, then you will run into little risk of SQL injection. The intended usage is:\r\n\r\n- Using [source code generation][1] to generate meta data for your tables / columns, etc.\r\n- Using the [DSL for type safe embedded SQL][2]\r\n\r\nAs others have mentioned, jOOQ will always use [bind variables][3], properly [escape all inlined values (constants, literals)][4]. But again, as others have mentioned, jOOQ still allows for using [plain SQL templating][5] for those cases where you need to work around a lack of functionality or vendor specific feature support. In those cases, you have to be as careful as with JDBC and make sure to explicitly use bind variables and avoid string concatenation, yourself.\r\n\r\n### Preventing accidents with the `PlainSQLChecker` annotation processor\r\n\r\nOne way to prevent *accidentally* using plain SQL templating, and to make sure no one on the team uses it without approval is to use [jOOQ&#39;s checker framework / error prone integration][6] and disallow all plain SQL usage by default. With Maven, you could configure this (leaving out the JDK version specific details):\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;annotationProcessors&gt;\r\n      &lt;annotationProcessor&gt;org.jooq.checker.PlainSQLChecker&lt;/annotationProcessor&gt;\r\n    &lt;/annotationProcessors&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAnd now your code using methods like [`DSL.query(String)`][7] won&#39;t compile anymore, until you explicitly allow it with the [`@Allow.PlainSQL`][8] annotation on the scope of your choice (method, class, package)\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-building/bind-values/inlined-parameters/\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [6]: https://www.jooq.org/doc/latest/manual/tools/checker-framework/\r\n  [7]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#query(java.lang.String)\r\n  [8]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Allow.PlainSQL.html","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<h3>Little risk when using jOOQ as intended</h3>\n<p>When you use jOOQ as intended, then you will run into little risk of SQL injection. The intended usage is:</p>\n<ul>\n<li>Using <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/\" rel=\"nofollow noreferrer\">source code generation</a> to generate meta data for your tables / columns, etc.</li>\n<li>Using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/\" rel=\"nofollow noreferrer\">DSL for type safe embedded SQL</a></li>\n</ul>\n<p>As others have mentioned, jOOQ will always use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/indexed-parameters/\" rel=\"nofollow noreferrer\">bind variables</a>, properly <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/bind-values/inlined-parameters/\" rel=\"nofollow noreferrer\">escape all inlined values (constants, literals)</a>. But again, as others have mentioned, jOOQ still allows for using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a> for those cases where you need to work around a lack of functionality or vendor specific feature support. In those cases, you have to be as careful as with JDBC and make sure to explicitly use bind variables and avoid string concatenation, yourself.</p>\n<h3>Preventing accidents with the <code>PlainSQLChecker</code> annotation processor</h3>\n<p>One way to prevent <em>accidentally</em> using plain SQL templating, and to make sure no one on the team uses it without approval is to use <a href=\"https://www.jooq.org/doc/latest/manual/tools/checker-framework/\" rel=\"nofollow noreferrer\">jOOQ's checker framework / error prone integration</a> and disallow all plain SQL usage by default. With Maven, you could configure this (leaving out the JDK version specific details):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;annotationProcessors&gt;\n      &lt;annotationProcessor&gt;org.jooq.checker.PlainSQLChecker&lt;/annotationProcessor&gt;\n    &lt;/annotationProcessors&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And now your code using methods like <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#query(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DSL.query(String)</code></a> won't compile anymore, until you explicitly allow it with the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Allow.PlainSQL.html\" rel=\"nofollow noreferrer\"><code>@Allow.PlainSQL</code></a> annotation on the scope of your choice (method, class, package)</p>\n"}],"owner":{"account_id":9768052,"reputation":176,"user_id":7240883,"accept_rate":83,"display_name":"rehas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47185017,"answer_count":3,"score":2,"last_activity_date":1666397566,"creation_date":1510153479,"question_id":47183032,"body_markdown":"How is this a duplicate as i am specifically asking about JOOQ here?\r\n\r\nI am using JOOQ in my JAVA project to handle all my PostgreSQL queries. I read in [this][1] article that JOOQ uses prepared statements to execute all queries. \r\n\r\n1. Is it than safe to assume that I don&#39;t need to worry about SQL injection or user input when executing my queries? \r\n\r\n2. I don&#39;t need to worry about escaping the user input before giving it over to JOOQ?\r\n\r\n3. On the side note, which other vulnerabilities are there to my DB in getting user input (apart from those that are solved by prepared statements), that I should be careful of?     \r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2015/09/work-with-the-jooq-dsl.html","title":"Using JOOQ, what more do I need to prevent sql injections","body":"<p>How is this a duplicate as i am specifically asking about JOOQ here?</p>\n\n<p>I am using JOOQ in my JAVA project to handle all my PostgreSQL queries. I read in <a href=\"https://www.javacodegeeks.com/2015/09/work-with-the-jooq-dsl.html\" rel=\"nofollow noreferrer\">this</a> article that JOOQ uses prepared statements to execute all queries. </p>\n\n<ol>\n<li><p>Is it than safe to assume that I don't need to worry about SQL injection or user input when executing my queries? </p></li>\n<li><p>I don't need to worry about escaping the user input before giving it over to JOOQ?</p></li>\n<li><p>On the side note, which other vulnerabilities are there to my DB in getting user input (apart from those that are solved by prepared statements), that I should be careful of?     </p></li>\n</ol>\n"},{"tags":["java","android","firebase","authentication"],"comments":[{"owner":{"account_id":21848852,"reputation":87,"user_id":16141229,"display_name":"Ayaka_Ago"},"score":0,"creation_date":1666409168,"post_id":74160166,"comment_id":130936235,"body_markdown":"check `assert actionBar != null;` in `Login#onCreate`. Are you using a `NoActionBar` theme?","body":"check <code>assert actionBar != null;</code> in <code>Login#onCreate</code>. Are you using a <code>NoActionBar</code> theme?"},{"owner":{"account_id":26693863,"reputation":11,"user_id":20302079,"display_name":"Juan "},"score":0,"creation_date":1666447722,"post_id":74160166,"comment_id":130941676,"body_markdown":"In a Manifest? Yes I using NoActionBar","body":"In a Manifest? Yes I using NoActionBar"},{"owner":{"account_id":21848852,"reputation":87,"user_id":16141229,"display_name":"Ayaka_Ago"},"score":0,"creation_date":1666460465,"post_id":74160166,"comment_id":130944468,"body_markdown":"You should use a theme with ActionBar to let `actionBar` not null.","body":"You should use a theme with ActionBar to let <code>actionBar</code> not null."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666792961,"post_id":74160166,"comment_id":131020024,"body_markdown":"So it&#39;s an Android issue rather than a Firebase one, right?","body":"So it&#39;s an Android issue rather than a Firebase one, right?"}],"owner":{"account_id":26693863,"reputation":11,"user_id":20302079,"display_name":"Juan "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666396871,"creation_date":1666396871,"question_id":74160166,"body_markdown":"Good morning, I am an engineering student and I am developing an application to view and download wallpapers, but I have a problem, when I click on the button that takes me to log in, the application closes, I have already seen the LogCat and I do not understand the error. FireBase is used to store the data.\r\nThe application starts in a user view, but the button gives you the option to access as an administrator through a login, and that is the button that is causing problems.\r\n\r\nThis is the MainActivity Login\r\n\r\n```\r\npublic class Login extends AppCompatActivity {\r\n    EditText Correo, Contrase&#241;a;\r\n    Button Acceder;\r\n\r\n\r\n    FirebaseAuth firebaseAuth;\r\n    ProgressDialog progressDialog;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n\r\n            ActionBar actionBar = getSupportActionBar();\r\n            assert actionBar != null;\r\n            actionBar.setTitle(&quot;Inicio Sesi&#243;n&quot;);\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n            actionBar.setDisplayShowHomeEnabled(true);\r\n\r\n            Correo = findViewById(R.id.Correo);\r\n            Contrase&#241;a = findViewById(R.id.Contrase&#241;a);\r\n            Acceder = findViewById(R.id.Acceder);\r\n\r\n            firebaseAuth = FirebaseAuth.getInstance();\r\n\r\n            progressDialog = new ProgressDialog(Login.this);\r\n            progressDialog.setMessage(&quot;Ingresando, espere por favor&quot;);\r\n            progressDialog.setCancelable(false);\r\n\r\n            Acceder.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String correo = Correo.getText().toString();\r\n                    String contrase&#241;a = Contrase&#241;a.getText().toString();\r\n\r\n\r\n                    if (!Patterns.EMAIL_ADDRESS.matcher(correo).matches()) {\r\n\r\n                        Correo.setError(&quot;Correo Invalido&quot;);\r\n                        Correo.setFocusable(true);\r\n\r\n                    } else if (contrase&#241;a.length() &lt; 6) {\r\n\r\n                        Contrase&#241;a.setError(&quot;Contrase&#241;a debe ser mayor o igual a 6 digitos&quot;);\r\n                        Contrase&#241;a.setFocusable(true);\r\n                    } else {\r\n                        LogeoAdministradores(correo, contrase&#241;a);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        private void LogeoAdministradores (String correo, String contrase&#241;a){\r\n            progressDialog.show();\r\n            progressDialog.setCancelable(false);\r\n            firebaseAuth.signInWithEmailAndPassword(correo,contrase&#241;a)\r\n                    .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                progressDialog.dismiss();\r\n                                FirebaseUser user = firebaseAuth.getCurrentUser();\r\n                                startActivity(new Intent(Login.this,MainActivityAdministrador.class));\r\n                                assert user != null;\r\n                                Toast.makeText(Login.this, &quot;Bienvenido (a)&quot; +user.getEmail(), Toast.LENGTH_SHORT).show();\r\n                                finish();\r\n                            }else{\r\n                                progressDialog.dismiss();\r\n                                UsuarioInvalido();\r\n                            }\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            progressDialog.dismiss();\r\n                            UsuarioInvalido();\r\n\r\n                        }\r\n                    });\r\n        }\r\n\r\n        private void UsuarioInvalido() {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\r\n            builder.setCancelable(false);\r\n            builder.setTitle(&quot;Ha ocurrido un error&quot;);\r\n            builder.setMessage(&quot;Verifique si el correo o contrase&#241;a son correctos&quot;)\r\n                    .setPositiveButton(&quot;Entendido&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            dialogInterface.dismiss();\r\n                        }\r\n                    }).show();\r\n        }\r\n\r\n        @Override\r\n        public boolean onSupportNavigateUp() {\r\n            onBackPressed();\r\n            return super.onSupportNavigateUp();\r\n        }\r\n\r\n}\r\n```\r\nAnd this is the error that appears in the LogCat\r\n\r\n```\r\n2022-10-21 08:56:52.718 29357-29357/com.example.wallpaper_community E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.wallpaper_community, PID: 29357\r\n    java.lang.AssertionError\r\n        at com.example.wallpaper_community.Login.onCreate(Login.java:39)\r\n        at android.app.Activity.performCreate(Activity.java:8214)\r\n        at android.app.Activity.performCreate(Activity.java:8202)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1320)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4033)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4247)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2613)\r\n        at android.os.Handler.dispatchMessage(Handler.java:110)\r\n        at android.os.Looper.loop(Looper.java:219)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\r\n2022-10-21 08:56:52.737 29357-29357/com.example.wallpaper_community I/Process: Sending signal. PID: 29357 SIG: 9\r\n```\r\nI hope you can help me, in advance thank you very much for your attention and have a great day.","title":"E/AndroidRuntime: FATAL EXCEPTION: main Process: com.example.wallpaper_community, PID: 29357","body":"<p>Good morning, I am an engineering student and I am developing an application to view and download wallpapers, but I have a problem, when I click on the button that takes me to log in, the application closes, I have already seen the LogCat and I do not understand the error. FireBase is used to store the data.\nThe application starts in a user view, but the button gives you the option to access as an administrator through a login, and that is the button that is causing problems.</p>\n<p>This is the MainActivity Login</p>\n<pre><code>public class Login extends AppCompatActivity {\n    EditText Correo, Contraseña;\n    Button Acceder;\n\n\n    FirebaseAuth firebaseAuth;\n    ProgressDialog progressDialog;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n\n            ActionBar actionBar = getSupportActionBar();\n            assert actionBar != null;\n            actionBar.setTitle(&quot;Inicio Sesión&quot;);\n            actionBar.setDisplayHomeAsUpEnabled(true);\n            actionBar.setDisplayShowHomeEnabled(true);\n\n            Correo = findViewById(R.id.Correo);\n            Contraseña = findViewById(R.id.Contraseña);\n            Acceder = findViewById(R.id.Acceder);\n\n            firebaseAuth = FirebaseAuth.getInstance();\n\n            progressDialog = new ProgressDialog(Login.this);\n            progressDialog.setMessage(&quot;Ingresando, espere por favor&quot;);\n            progressDialog.setCancelable(false);\n\n            Acceder.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    String correo = Correo.getText().toString();\n                    String contraseña = Contraseña.getText().toString();\n\n\n                    if (!Patterns.EMAIL_ADDRESS.matcher(correo).matches()) {\n\n                        Correo.setError(&quot;Correo Invalido&quot;);\n                        Correo.setFocusable(true);\n\n                    } else if (contraseña.length() &lt; 6) {\n\n                        Contraseña.setError(&quot;Contraseña debe ser mayor o igual a 6 digitos&quot;);\n                        Contraseña.setFocusable(true);\n                    } else {\n                        LogeoAdministradores(correo, contraseña);\n                    }\n                }\n            });\n        }\n\n        private void LogeoAdministradores (String correo, String contraseña){\n            progressDialog.show();\n            progressDialog.setCancelable(false);\n            firebaseAuth.signInWithEmailAndPassword(correo,contraseña)\n                    .addOnCompleteListener(Login.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                            if(task.isSuccessful()){\n                                progressDialog.dismiss();\n                                FirebaseUser user = firebaseAuth.getCurrentUser();\n                                startActivity(new Intent(Login.this,MainActivityAdministrador.class));\n                                assert user != null;\n                                Toast.makeText(Login.this, &quot;Bienvenido (a)&quot; +user.getEmail(), Toast.LENGTH_SHORT).show();\n                                finish();\n                            }else{\n                                progressDialog.dismiss();\n                                UsuarioInvalido();\n                            }\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            progressDialog.dismiss();\n                            UsuarioInvalido();\n\n                        }\n                    });\n        }\n\n        private void UsuarioInvalido() {\n            AlertDialog.Builder builder = new AlertDialog.Builder(Login.this);\n            builder.setCancelable(false);\n            builder.setTitle(&quot;Ha ocurrido un error&quot;);\n            builder.setMessage(&quot;Verifique si el correo o contraseña son correctos&quot;)\n                    .setPositiveButton(&quot;Entendido&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n                            dialogInterface.dismiss();\n                        }\n                    }).show();\n        }\n\n        @Override\n        public boolean onSupportNavigateUp() {\n            onBackPressed();\n            return super.onSupportNavigateUp();\n        }\n\n}\n</code></pre>\n<p>And this is the error that appears in the LogCat</p>\n<pre><code>2022-10-21 08:56:52.718 29357-29357/com.example.wallpaper_community E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.wallpaper_community, PID: 29357\n    java.lang.AssertionError\n        at com.example.wallpaper_community.Login.onCreate(Login.java:39)\n        at android.app.Activity.performCreate(Activity.java:8214)\n        at android.app.Activity.performCreate(Activity.java:8202)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1320)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4033)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4247)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:91)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:149)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:103)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2613)\n        at android.os.Handler.dispatchMessage(Handler.java:110)\n        at android.os.Looper.loop(Looper.java:219)\n        at android.app.ActivityThread.main(ActivityThread.java:8668)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1109)\n2022-10-21 08:56:52.737 29357-29357/com.example.wallpaper_community I/Process: Sending signal. PID: 29357 SIG: 9\n</code></pre>\n<p>I hope you can help me, in advance thank you very much for your attention and have a great day.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1327972223,"post_id":9073150,"comment_id":11389559,"body_markdown":"This is a classic homework question. If this is indeed homework, please tag your question as such.","body":"This is a classic homework question. If this is indeed homework, please tag your question as such."},{"owner":{"account_id":931674,"reputation":6985,"user_id":961455,"accept_rate":71,"display_name":"nachito"},"score":0,"creation_date":1327972236,"post_id":9073150,"comment_id":11389564,"body_markdown":"Yup, that&#39;s your code. What&#39;s your question?","body":"Yup, that&#39;s your code. What&#39;s your question?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":9,"creation_date":1327972309,"post_id":9073150,"comment_id":11389578,"body_markdown":"@nachito: I&#39;d bet that he wonders why for example `XCIX` returns `109` instead of `99`.","body":"@nachito: I&#39;d bet that he wonders why for example <code>XCIX</code> returns <code>109</code> instead of <code>99</code>."},{"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"score":0,"creation_date":1327972439,"post_id":9073150,"comment_id":11389594,"body_markdown":"I know why because it has both &#39;IX&#39; and &#39;XC&#39; in it... but I&#39;m not sure how to fix this..","body":"I know why because it has both &#39;IX&#39; and &#39;XC&#39; in it... but I&#39;m not sure how to fix this.."},{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":1,"creation_date":1352575997,"post_id":9073150,"comment_id":18178942,"body_markdown":"Homework tag has been deprecated","body":"Homework tag has been deprecated"}],"answers":[{"comments":[{"owner":{"account_id":137131,"reputation":9069,"user_id":341117,"accept_rate":85,"display_name":"Ravindra Gullapalli"},"score":0,"creation_date":1327973627,"post_id":9073237,"comment_id":11389815,"body_markdown":"That does not get the desired result.","body":"That does not get the desired result."}],"tags":[],"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1327972729,"creation_date":1327972729,"answer_id":9073237,"question_id":9073150,"body_markdown":"Following your logic of reducing 2 on IX you should reduce 20 on XC 200 on CM and so on.","title":"Converting Roman Numerals To Decimal","body":"<p>Following your logic of reducing 2 on IX you should reduce 20 on XC 200 on CM and so on.</p>\n"},{"comments":[{"owner":{"account_id":185755,"reputation":4460,"user_id":422674,"accept_rate":95,"display_name":"prelic"},"score":21,"creation_date":1327974194,"post_id":9073310,"comment_id":11389933,"body_markdown":"@DanielFarmer - note that it is not actually magic, and if homework, you should learn why it works","body":"@DanielFarmer - note that it is not actually magic, and if homework, you should learn why it works"},{"owner":{"account_id":5324263,"reputation":1078,"user_id":4493212,"accept_rate":26,"display_name":"John Constantine"},"score":2,"creation_date":1453781045,"post_id":9073310,"comment_id":57741365,"body_markdown":"if I give IIXX as input I get 20 as output, which is wrong. Shouldn&#39;t it throw an error .","body":"if I give IIXX as input I get 20 as output, which is wrong. Shouldn&#39;t it throw an error ."}],"tags":[],"owner":{"account_id":137131,"reputation":9069,"user_id":341117,"accept_rate":85,"display_name":"Ravindra Gullapalli"},"comment_count":2,"down_vote_count":2,"up_vote_count":60,"is_accepted":true,"score":58,"last_activity_date":1455917738,"creation_date":1327973477,"answer_id":9073310,"question_id":9073150,"body_markdown":"It will be good if you traverse in reverse.\r\n\r\n    public class RomanToDecimal {\r\n        public static void romanToDecimal(java.lang.String romanNumber) {\r\n            int decimal = 0;\r\n            int lastNumber = 0;\r\n            String romanNumeral = romanNumber.toUpperCase();\r\n            /* operation to be performed on upper cases even if user \r\n               enters roman values in lower case chars */\r\n            for (int x = romanNumeral.length() - 1; x &gt;= 0 ; x--) {\r\n                char convertToDecimal = romanNumeral.charAt(x);\r\n    \r\n                switch (convertToDecimal) {\r\n                    case &#39;M&#39;:\r\n                        decimal = processDecimal(1000, lastNumber, decimal);\r\n                        lastNumber = 1000;\r\n                        break;\r\n    \r\n                    case &#39;D&#39;:\r\n                        decimal = processDecimal(500, lastNumber, decimal);\r\n                        lastNumber = 500;\r\n                        break;\r\n    \r\n                    case &#39;C&#39;:\r\n                        decimal = processDecimal(100, lastNumber, decimal);\r\n                        lastNumber = 100;\r\n                        break;\r\n    \r\n                    case &#39;L&#39;:\r\n                        decimal = processDecimal(50, lastNumber, decimal);\r\n                        lastNumber = 50;\r\n                        break;\r\n    \r\n                    case &#39;X&#39;:\r\n                        decimal = processDecimal(10, lastNumber, decimal);\r\n                        lastNumber = 10;\r\n                        break;\r\n    \r\n                    case &#39;V&#39;:\r\n                        decimal = processDecimal(5, lastNumber, decimal);\r\n                        lastNumber = 5;\r\n                        break;\r\n    \r\n                    case &#39;I&#39;:\r\n                        decimal = processDecimal(1, lastNumber, decimal);\r\n                        lastNumber = 1;\r\n                        break;\r\n                }\r\n            }\r\n            System.out.println(decimal);\r\n        }\r\n    \r\n        public static int processDecimal(int decimal, int lastNumber, int lastDecimal) {\r\n            if (lastNumber &gt; decimal) {\r\n                return lastDecimal - decimal;\r\n            } else {\r\n                return lastDecimal + decimal;\r\n            }\r\n        }\r\n    \r\n        public static void main(java.lang.String args[]) {\r\n            romanToDecimal(&quot;XIV&quot;);\r\n        }\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>It will be good if you traverse in reverse.</p>\n\n<pre><code>public class RomanToDecimal {\n    public static void romanToDecimal(java.lang.String romanNumber) {\n        int decimal = 0;\n        int lastNumber = 0;\n        String romanNumeral = romanNumber.toUpperCase();\n        /* operation to be performed on upper cases even if user \n           enters roman values in lower case chars */\n        for (int x = romanNumeral.length() - 1; x &gt;= 0 ; x--) {\n            char convertToDecimal = romanNumeral.charAt(x);\n\n            switch (convertToDecimal) {\n                case 'M':\n                    decimal = processDecimal(1000, lastNumber, decimal);\n                    lastNumber = 1000;\n                    break;\n\n                case 'D':\n                    decimal = processDecimal(500, lastNumber, decimal);\n                    lastNumber = 500;\n                    break;\n\n                case 'C':\n                    decimal = processDecimal(100, lastNumber, decimal);\n                    lastNumber = 100;\n                    break;\n\n                case 'L':\n                    decimal = processDecimal(50, lastNumber, decimal);\n                    lastNumber = 50;\n                    break;\n\n                case 'X':\n                    decimal = processDecimal(10, lastNumber, decimal);\n                    lastNumber = 10;\n                    break;\n\n                case 'V':\n                    decimal = processDecimal(5, lastNumber, decimal);\n                    lastNumber = 5;\n                    break;\n\n                case 'I':\n                    decimal = processDecimal(1, lastNumber, decimal);\n                    lastNumber = 1;\n                    break;\n            }\n        }\n        System.out.println(decimal);\n    }\n\n    public static int processDecimal(int decimal, int lastNumber, int lastDecimal) {\n        if (lastNumber &gt; decimal) {\n            return lastDecimal - decimal;\n        } else {\n            return lastDecimal + decimal;\n        }\n    }\n\n    public static void main(java.lang.String args[]) {\n        romanToDecimal(\"XIV\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1073013,"reputation":3532,"user_id":1071840,"accept_rate":60,"display_name":"user1071840"},"score":0,"creation_date":1360959248,"post_id":13324826,"comment_id":20903227,"body_markdown":"I = 1\nII = 2\nIII = 3\nIV = 4\nV = 5\nVI = 6\nVII = 7\nVIII = 8\nIX = 9\nX = 10\nXI = 11\nXII = 12\nXIII = 13\nXIV = 14\nXV = 15\nXVI = 16\nXVII = 17\nXVIII = 18\nXIX = 19\nXX = 20\nXXI = 21\nXXII = 22\nXXIII = 23\nXXIV = 24\nXXV = 25\nXXVI = 26\nXXVII = 27\nXXVIII = 28\nXXIX = 29\nXXX = 30\nXXXI = 31\nXXXII = 32\nXXXIII = 33\nXXXIV = 34\nXXXV = 35\nXXXVI = 36\nXXXVII = 37\nXXXVIII = 38\nXXXIX = 39\nXL = 40\nMMMMCMXCIX = 4999\nCM = 900\nXC = 90","body":"I = 1 II = 2 III = 3 IV = 4 V = 5 VI = 6 VII = 7 VIII = 8 IX = 9 X = 10 XI = 11 XII = 12 XIII = 13 XIV = 14 XV = 15 XVI = 16 XVII = 17 XVIII = 18 XIX = 19 XX = 20 XXI = 21 XXII = 22 XXIII = 23 XXIV = 24 XXV = 25 XXVI = 26 XXVII = 27 XXVIII = 28 XXIX = 29 XXX = 30 XXXI = 31 XXXII = 32 XXXIII = 33 XXXIV = 34 XXXV = 35 XXXVI = 36 XXXVII = 37 XXXVIII = 38 XXXIX = 39 XL = 40 MMMMCMXCIX = 4999 CM = 900 XC = 90"},{"owner":{"account_id":1073013,"reputation":3532,"user_id":1071840,"accept_rate":60,"display_name":"user1071840"},"score":0,"creation_date":1361497224,"post_id":13324826,"comment_id":21096631,"body_markdown":"@EduardoMelo. I hope that&#39;s the reason. Thanks :)","body":"@EduardoMelo. I hope that&#39;s the reason. Thanks :)"}],"tags":[],"owner":{"account_id":1073013,"reputation":3532,"user_id":1071840,"accept_rate":60,"display_name":"user1071840"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1352571898,"creation_date":1352571898,"answer_id":13324826,"question_id":9073150,"body_markdown":"How about this?\r\n\r\n    int getdec(const string&amp; input)\r\n    {\r\n      int sum=0; char prev=&#39;%&#39;;\r\n      for(int i=(input.length()-1); i&gt;=0; i--)\r\n      {\r\n        if(value(input[i])&lt;sum &amp;&amp; (input[i]!=prev))\r\n        {       sum -= value(input[i]);\r\n                prev = input[i];\r\n        }\r\n        else\r\n        {\r\n                sum += value(input[i]);\r\n                prev = input[i];\r\n        }\r\n      }\r\n      return sum;\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>How about this?</p>\n\n<pre><code>int getdec(const string&amp; input)\n{\n  int sum=0; char prev='%';\n  for(int i=(input.length()-1); i&gt;=0; i--)\n  {\n    if(value(input[i])&lt;sum &amp;&amp; (input[i]!=prev))\n    {       sum -= value(input[i]);\n            prev = input[i];\n    }\n    else\n    {\n            sum += value(input[i]);\n            prev = input[i];\n    }\n  }\n  return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1189348,"reputation":107,"user_id":1162570,"display_name":"jl1990"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361465261,"creation_date":1361465261,"answer_id":15007775,"question_id":9073150,"body_markdown":"Supposing Well-formed Roman numbers:\r\n\r\n    private static int totalValue(String val)\r\n    {\r\n        String aux=val.toUpperCase();\r\n        int sum=0, max=aux.length(), i=0;\r\n        while(i&lt;max)\r\n        {\r\n            if ((i+1)&lt;max &amp;&amp; valueOf(aux.charAt(i+1))&gt;valueOf(aux.charAt(i)))\r\n            {\r\n                sum+=valueOf(aux.charAt(i+1)) - valueOf(aux.charAt(i));\r\n                i+=2;\r\n            }\r\n            else\r\n            {\r\n                sum+=valueOf(aux.charAt(i));\r\n                i+=1;\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n\t\r\n    private static int valueOf(Character c)\r\n    {\r\n        char aux = Character.toUpperCase(c);\r\n        switch(aux)\r\n        {\r\n            case &#39;I&#39;:\r\n                return 1;\r\n            case &#39;V&#39;:\r\n                return 5;\r\n            case &#39;X&#39;:\r\n                return 10;\r\n            case &#39;L&#39;:\r\n                return 50;\r\n            case &#39;C&#39;:\r\n                return 100;\r\n            case &#39;D&#39;:\r\n                return 500;\r\n            case &#39;M&#39;:\r\n                return 1000;\r\n            default:\r\n                return 0;\r\n         }\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>Supposing Well-formed Roman numbers:</p>\n\n<pre><code>private static int totalValue(String val)\n{\n    String aux=val.toUpperCase();\n    int sum=0, max=aux.length(), i=0;\n    while(i&lt;max)\n    {\n        if ((i+1)&lt;max &amp;&amp; valueOf(aux.charAt(i+1))&gt;valueOf(aux.charAt(i)))\n        {\n            sum+=valueOf(aux.charAt(i+1)) - valueOf(aux.charAt(i));\n            i+=2;\n        }\n        else\n        {\n            sum+=valueOf(aux.charAt(i));\n            i+=1;\n        }\n    }\n    return sum;\n}\n\nprivate static int valueOf(Character c)\n{\n    char aux = Character.toUpperCase(c);\n    switch(aux)\n    {\n        case 'I':\n            return 1;\n        case 'V':\n            return 5;\n        case 'X':\n            return 10;\n        case 'L':\n            return 50;\n        case 'C':\n            return 100;\n        case 'D':\n            return 500;\n        case 'M':\n            return 1000;\n        default:\n            return 0;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2197451,"reputation":463,"user_id":2181741,"display_name":"user2181741"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363613268,"creation_date":1363613268,"answer_id":15478012,"question_id":9073150,"body_markdown":"what about this  conversion. no switch, no case at all...\r\n\r\nP.S. : I use this script from a bash shell\r\n\r\n\r\n    import sys\r\n\r\n    def RomanToNum(r):\r\n    \r\n        return {\r\n        &#39;I&#39;: 1,\r\n        &#39;V&#39;: 5,\r\n    \t&#39;X&#39;: 10,\r\n    \t&#39;L&#39;: 50,\r\n    \t&#39;C&#39;: 100,\r\n    \t&#39;D&#39;: 500,\r\n    \t&#39;M&#39;: 1000,\r\n        }[r]\r\n\r\n    #\r\n    #\r\n    #\r\n    \r\n    EOF = &quot;&lt;&quot;\r\n    Roman = sys.argv[1].upper().strip()+EOF\r\n    \r\n    num = 0\r\n    i = 0\r\n    \r\n    while True:\r\n    \r\n    \tthis = Roman[i]\r\n    \r\n    \tif this == EOF:\r\n    \t\tbreak\r\n    \r\n    \tn1 = RomanToNum(this)\r\n    \r\n    \tnext = Roman[i+1]\r\n    \r\n    \tif next == EOF:\r\n    \t\tn2 = 0\r\n    \telse:\r\n    \t\tn2 = RomanToNum(next)\r\n    \r\n    \tif n1 &lt; n2:\r\n    \t\tn1 = -1 * n1\r\n    \r\n    \tnum = num + n1\r\n    \ti = i + 1\r\n    \t\r\n    print num\r\n\r\n\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>what about this  conversion. no switch, no case at all...</p>\n\n<p>P.S. : I use this script from a bash shell</p>\n\n<pre><code>import sys\n\ndef RomanToNum(r):\n\n    return {\n    'I': 1,\n    'V': 5,\n    'X': 10,\n    'L': 50,\n    'C': 100,\n    'D': 500,\n    'M': 1000,\n    }[r]\n\n#\n#\n#\n\nEOF = \"&lt;\"\nRoman = sys.argv[1].upper().strip()+EOF\n\nnum = 0\ni = 0\n\nwhile True:\n\n    this = Roman[i]\n\n    if this == EOF:\n        break\n\n    n1 = RomanToNum(this)\n\n    next = Roman[i+1]\n\n    if next == EOF:\n        n2 = 0\n    else:\n        n2 = RomanToNum(next)\n\n    if n1 &lt; n2:\n        n1 = -1 * n1\n\n    num = num + n1\n    i = i + 1\n\nprint num\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3692224,"reputation":46725,"user_id":3074564,"display_name":"Mofi"},"score":1,"creation_date":1416065199,"post_id":17534350,"comment_id":42436742,"body_markdown":"I used this very compact code converted to JavaScript in an UltraEdit script to [convert Roman numerals to Arabic decimal integers](https://www.ultraedit.com/forums/viewtopic.php?f=52&amp;t=15304).","body":"I used this very compact code converted to JavaScript in an UltraEdit script to <a href=\"https://www.ultraedit.com/forums/viewtopic.php?f=52&amp;t=15304\" rel=\"nofollow noreferrer\">convert Roman numerals to Arabic decimal integers</a>."},{"owner":{"account_id":2430641,"reputation":948,"user_id":2121630,"display_name":"Jethro"},"score":1,"creation_date":1416196671,"post_id":17534350,"comment_id":42468040,"body_markdown":"I also used this recursive method. So much easier than endless if statements","body":"I also used this recursive method. So much easier than endless if statements"},{"owner":{"account_id":4579321,"reputation":769,"user_id":3716873,"display_name":"LevinsonTechnologies"},"score":7,"creation_date":1438008499,"post_id":17534350,"comment_id":51257527,"body_markdown":"Great solution.  One tidbit though:  a letter cannot be repeated more than 3 times in succession, and only powers of 10 can be repeated. Your algo converts IIII to 4; but I assumed you assumed validation would be left to the user!","body":"Great solution.  One tidbit though:  a letter cannot be repeated more than 3 times in succession, and only powers of 10 can be repeated. Your algo converts IIII to 4; but I assumed you assumed validation would be left to the user!"},{"owner":{"account_id":188706,"reputation":12106,"user_id":427598,"accept_rate":65,"display_name":"Konstantin Milyutin"},"score":2,"creation_date":1462963547,"post_id":17534350,"comment_id":61856127,"body_markdown":"Validation step would be nice, otherwise you would print 14 for &quot;IVX&quot;, which is invalid input.","body":"Validation step would be nice, otherwise you would print 14 for &quot;IVX&quot;, which is invalid input."}],"tags":[],"owner":{"account_id":1855282,"reputation":670,"user_id":1681009,"display_name":"Shaltiel Shmidman"},"comment_count":4,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1373311319,"creation_date":1373311319,"answer_id":17534350,"question_id":9073150,"body_markdown":"Try this - It is simple and compact and works quite smoothly:\r\n\r\n        public static int ToArabic(string number) {\r\n            if (number == string.Empty) return 0;\r\n            if (number.StartsWith(&quot;M&quot;)) return 1000 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;CM&quot;)) return 900 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;D&quot;)) return 500 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;CD&quot;)) return 400 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;C&quot;)) return 100 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;XC&quot;)) return 90 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;L&quot;)) return 50 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;XL&quot;)) return 40 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;X&quot;)) return 10 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;IX&quot;)) return 9 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;V&quot;)) return 5 + ToArabic(number.Remove(0, 1));\r\n            if (number.StartsWith(&quot;IV&quot;)) return 4 + ToArabic(number.Remove(0, 2));\r\n            if (number.StartsWith(&quot;I&quot;)) return 1 + ToArabic(number.Remove(0, 1));\r\n            throw new ArgumentOutOfRangeException(&quot;something bad happened&quot;);\r\n        }","title":"Converting Roman Numerals To Decimal","body":"<p>Try this - It is simple and compact and works quite smoothly:</p>\n\n<pre><code>    public static int ToArabic(string number) {\n        if (number == string.Empty) return 0;\n        if (number.StartsWith(\"M\")) return 1000 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"CM\")) return 900 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"D\")) return 500 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"CD\")) return 400 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"C\")) return 100 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"XC\")) return 90 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"L\")) return 50 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"XL\")) return 40 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"X\")) return 10 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"IX\")) return 9 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"V\")) return 5 + ToArabic(number.Remove(0, 1));\n        if (number.StartsWith(\"IV\")) return 4 + ToArabic(number.Remove(0, 2));\n        if (number.StartsWith(\"I\")) return 1 + ToArabic(number.Remove(0, 1));\n        throw new ArgumentOutOfRangeException(\"something bad happened\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398676,"reputation":1,"user_id":2851541,"display_name":"Randal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381075554,"creation_date":1381056313,"answer_id":19207956,"question_id":9073150,"body_markdown":"            public class RomInt {\r\n        String roman;\r\n        int val;\r\n    \r\n        void assign(String k)\r\n        {\r\n          roman=k;\r\n        }\r\n    \r\n        private class Literal\r\n        {\r\n            public char literal;\r\n            public int value;\r\n    \r\n            public Literal(char literal, int value)\r\n            {\r\n                this.literal = literal;\r\n                this.value = value;\r\n            }\r\n        }\r\n    \r\n        private final Literal[] ROMAN_LITERALS = new Literal[]\r\n                {\r\n                        new Literal(&#39;I&#39;, 1),\r\n                        new Literal(&#39;V&#39;, 5),\r\n                        new Literal(&#39;X&#39;, 10),\r\n                        new Literal(&#39;L&#39;, 50),\r\n                        new Literal(&#39;C&#39;, 100),\r\n                        new Literal(&#39;D&#39;, 500),\r\n                        new Literal(&#39;M&#39;, 1000)\r\n                };\r\n    \r\n        public int getVal(String s) {\r\n    \r\n           int holdValue=0;\r\n    \r\n                for (int j = 0; j &lt; ROMAN_LITERALS.length; j++)\r\n                {\r\n                    if (s.charAt(0)==ROMAN_LITERALS[j].literal)\r\n                    {\r\n                               holdValue=ROMAN_LITERALS[j].value;\r\n                                   break;\r\n                    }  //if()\r\n                }//for()\r\n    \r\n          return holdValue;\r\n        }  //getVal()\r\n        public int count()\r\n        {\r\n           int count=0;\r\n           int countA=0;\r\n           int countB=0;\r\n           int lastPosition = 0;\r\n            for(int i = 0 ; i &lt; roman.length(); i++)\r\n            {\r\n              String s1 = roman.substring(i,i+1);\r\n                int a=getVal(s1);\r\n                countA+=a;\r\n            }\r\n            for(int j=1;j&lt;roman.length();j++)\r\n            {\r\n                String s2=  roman.substring(j,j+1);\r\n                String s3=  roman.substring(j-1,j);\r\n                int b=getVal(s2);\r\n                int c=getVal(s3);\r\n                if(b&gt;c)\r\n                {\r\n                    countB+=c;\r\n                }\r\n            }\r\n            count=countA-(2*countB);\r\n            return count;\r\n            }\r\n    \r\n    \r\n        void disp()\r\n        {\r\n    \r\n             int result=count();\r\n            System.out.println(&quot;Integer equivalent of &quot;+roman+&quot; = &quot; +result);\r\n        }\r\n    \r\n    }  //RomInt---BLC","title":"Converting Roman Numerals To Decimal","body":"<pre><code>        public class RomInt {\n    String roman;\n    int val;\n\n    void assign(String k)\n    {\n      roman=k;\n    }\n\n    private class Literal\n    {\n        public char literal;\n        public int value;\n\n        public Literal(char literal, int value)\n        {\n            this.literal = literal;\n            this.value = value;\n        }\n    }\n\n    private final Literal[] ROMAN_LITERALS = new Literal[]\n            {\n                    new Literal('I', 1),\n                    new Literal('V', 5),\n                    new Literal('X', 10),\n                    new Literal('L', 50),\n                    new Literal('C', 100),\n                    new Literal('D', 500),\n                    new Literal('M', 1000)\n            };\n\n    public int getVal(String s) {\n\n       int holdValue=0;\n\n            for (int j = 0; j &lt; ROMAN_LITERALS.length; j++)\n            {\n                if (s.charAt(0)==ROMAN_LITERALS[j].literal)\n                {\n                           holdValue=ROMAN_LITERALS[j].value;\n                               break;\n                }  //if()\n            }//for()\n\n      return holdValue;\n    }  //getVal()\n    public int count()\n    {\n       int count=0;\n       int countA=0;\n       int countB=0;\n       int lastPosition = 0;\n        for(int i = 0 ; i &lt; roman.length(); i++)\n        {\n          String s1 = roman.substring(i,i+1);\n            int a=getVal(s1);\n            countA+=a;\n        }\n        for(int j=1;j&lt;roman.length();j++)\n        {\n            String s2=  roman.substring(j,j+1);\n            String s3=  roman.substring(j-1,j);\n            int b=getVal(s2);\n            int c=getVal(s3);\n            if(b&gt;c)\n            {\n                countB+=c;\n            }\n        }\n        count=countA-(2*countB);\n        return count;\n        }\n\n\n    void disp()\n    {\n\n         int result=count();\n        System.out.println(\"Integer equivalent of \"+roman+\" = \" +result);\n    }\n\n}  //RomInt---BLC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177117,"reputation":2474,"user_id":1152843,"display_name":"Florent Roques"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493849279,"creation_date":1381879674,"answer_id":19392801,"question_id":9073150,"body_markdown":"### Imperative + recursive solutions with validation step and online testing\n\nTo avoid useless calculations and to make sure the roman numerals format is correct, we need to check the input with a regular expression.\n    \n    String regex = &quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;;\n\n- [Explanation of the regular expression in details](https://stackoverflow.com/a/267405/1152843)\n- [Explanation of the regular expression symbols used](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html)\n- [Differences between regex functions matches() and find()](https://stackoverflow.com/a/4450166/1152843)\n- [Why is MMMCMXCIX (= 3999) the maximum value with standard roman numerals notation](http://www.numere-romane.ro/reguli_scriere_cifre_numere_romane.php?lang=en)  \n  \n  \n**Imperative solution**  \n\n    public static int romanToDecimal(String s) {\n        if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n            return -1;\n\n        final Matcher matcher = Pattern.compile(&quot;M|CM|D|CD|C|XC|L|XL|X|IX|V|IV|I&quot;).matcher(s);\n        final int[] decimalValues = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\n        final String[] romanNumerals = {&quot;M&quot;,&quot;CM&quot;,&quot;D&quot;,&quot;CD&quot;,&quot;C&quot;,&quot;XC&quot;,&quot;L&quot;,&quot;XL&quot;,&quot;X&quot;,&quot;IX&quot;,&quot;V&quot;,&quot;IV&quot;,&quot;I&quot;};\n        int result = 0;\n\n        while (matcher.find())\n            for (int i = 0; i &lt; romanNumerals.length; i++)\n                if (romanNumerals[i].equals(matcher.group(0)))\n                    result += decimalValues[i];\n\n        return result;\n    }\n\n[try online](http://ideone.com/tDNzVu) | [try optimized version with comments/explanation online](http://ideone.com/8FfoZr)\n \n___\n\n**UPDATE**: here are two clever recursive proposals from this thread I solved adding validation step\n\n**Recursive solution 1** ([original answer](https://stackoverflow.com/a/29218799/1152843))\n\n    public class RomanToDecimalConverter {\n        private static double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\n            if (pos &lt; 0) return 0;\n            char ch = roman.charAt(pos);\n            double value = Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(ch)));\n            return value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\n        }\n\n        public static int evaluateRomanNumerals(String s) {\n            if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n                return -1;\n            return (int) evaluateNextRomanNumeral(s, s.length() - 1, 0);\n        }\n    }\n\n[try online](http://ideone.com/Gq6GhY)\n    \n**Recursive solution 2** ([original answer](https://stackoverflow.com/a/17534350/1152843))\n\n    public class RomanToDecimalConverter {\n        private static int convertRec(String s) {\n            if (s.isEmpty()) return 0;\n                 if (s.startsWith(&quot;M&quot;))  return 1000 + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;CM&quot;)) return 900  + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;D&quot;))  return 500  + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;CD&quot;)) return 400  + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;C&quot;))  return 100  + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;XC&quot;)) return 90   + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;L&quot;))  return 50   + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;XL&quot;)) return 40   + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;X&quot;))  return 10   + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;IX&quot;)) return 9    + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;V&quot;))  return 5    + convertRec(s.substring(1));\n            else if (s.startsWith(&quot;IV&quot;)) return 4    + convertRec(s.substring(2));\n            else if (s.startsWith(&quot;I&quot;))  return 1    + convertRec(s.substring(1));\n            throw new IllegalArgumentException(&quot;Unexpected roman numerals&quot;);\n        }\n\n        public static int convert(String s) {\n            if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n                return -1;\n            return convertRec(s);\n        }\n    }\n\n[try online](http://ideone.com/YLqqXF)","title":"Converting Roman Numerals To Decimal","body":"<h3>Imperative + recursive solutions with validation step and online testing</h3>\n<p>To avoid useless calculations and to make sure the roman numerals format is correct, we need to check the input with a regular expression.</p>\n<pre><code>String regex = &quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;;\n</code></pre>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/267405/1152843\">Explanation of the regular expression in details</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Explanation of the regular expression symbols used</a></li>\n<li><a href=\"https://stackoverflow.com/a/4450166/1152843\">Differences between regex functions matches() and find()</a></li>\n<li><a href=\"http://www.numere-romane.ro/reguli_scriere_cifre_numere_romane.php?lang=en\" rel=\"nofollow noreferrer\">Why is MMMCMXCIX (= 3999) the maximum value with standard roman numerals notation</a></li>\n</ul>\n<p><strong>Imperative solution</strong></p>\n<pre><code>public static int romanToDecimal(String s) {\n    if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n        return -1;\n\n    final Matcher matcher = Pattern.compile(&quot;M|CM|D|CD|C|XC|L|XL|X|IX|V|IV|I&quot;).matcher(s);\n    final int[] decimalValues = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\n    final String[] romanNumerals = {&quot;M&quot;,&quot;CM&quot;,&quot;D&quot;,&quot;CD&quot;,&quot;C&quot;,&quot;XC&quot;,&quot;L&quot;,&quot;XL&quot;,&quot;X&quot;,&quot;IX&quot;,&quot;V&quot;,&quot;IV&quot;,&quot;I&quot;};\n    int result = 0;\n\n    while (matcher.find())\n        for (int i = 0; i &lt; romanNumerals.length; i++)\n            if (romanNumerals[i].equals(matcher.group(0)))\n                result += decimalValues[i];\n\n    return result;\n}\n</code></pre>\n<p><a href=\"http://ideone.com/tDNzVu\" rel=\"nofollow noreferrer\">try online</a> | <a href=\"http://ideone.com/8FfoZr\" rel=\"nofollow noreferrer\">try optimized version with comments/explanation online</a></p>\n<hr />\n<p><strong>UPDATE</strong>: here are two clever recursive proposals from this thread I solved adding validation step</p>\n<p><strong>Recursive solution 1</strong> (<a href=\"https://stackoverflow.com/a/29218799/1152843\">original answer</a>)</p>\n<pre><code>public class RomanToDecimalConverter {\n    private static double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\n        if (pos &lt; 0) return 0;\n        char ch = roman.charAt(pos);\n        double value = Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(ch)));\n        return value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\n    }\n\n    public static int evaluateRomanNumerals(String s) {\n        if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n            return -1;\n        return (int) evaluateNextRomanNumeral(s, s.length() - 1, 0);\n    }\n}\n</code></pre>\n<p><a href=\"http://ideone.com/Gq6GhY\" rel=\"nofollow noreferrer\">try online</a></p>\n<p><strong>Recursive solution 2</strong> (<a href=\"https://stackoverflow.com/a/17534350/1152843\">original answer</a>)</p>\n<pre><code>public class RomanToDecimalConverter {\n    private static int convertRec(String s) {\n        if (s.isEmpty()) return 0;\n             if (s.startsWith(&quot;M&quot;))  return 1000 + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;CM&quot;)) return 900  + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;D&quot;))  return 500  + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;CD&quot;)) return 400  + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;C&quot;))  return 100  + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;XC&quot;)) return 90   + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;L&quot;))  return 50   + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;XL&quot;)) return 40   + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;X&quot;))  return 10   + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;IX&quot;)) return 9    + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;V&quot;))  return 5    + convertRec(s.substring(1));\n        else if (s.startsWith(&quot;IV&quot;)) return 4    + convertRec(s.substring(2));\n        else if (s.startsWith(&quot;I&quot;))  return 1    + convertRec(s.substring(1));\n        throw new IllegalArgumentException(&quot;Unexpected roman numerals&quot;);\n    }\n\n    public static int convert(String s) {\n        if (s == null || s.isEmpty() || !s.matches(&quot;^(M{0,3})(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$&quot;))\n            return -1;\n        return convertRec(s);\n    }\n}\n</code></pre>\n<p><a href=\"http://ideone.com/YLqqXF\" rel=\"nofollow noreferrer\">try online</a></p>\n"},{"tags":[],"owner":{"account_id":3193857,"reputation":597,"user_id":2697512,"accept_rate":60,"display_name":"Noam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389823604,"creation_date":1389739608,"answer_id":21125653,"question_id":9073150,"body_markdown":"I find the following approach a very intuitive one:\r\n\r\n    public void makeArray(String romanNumeral){\r\n        int[] numberArray = new int[romanNumeral.length()];\r\n\r\n        for(int i=0; i&lt;romanNumeral.length();i++){\r\n            char symbol = romanNumeral.charAt(i);\r\n            switch(symbol){\r\n                case &#39;I&#39;:\r\n                    numberArray[i] = 1;\r\n                    break;\r\n                case &#39;V&#39;:\r\n                    numberArray[i] = 5;\r\n                    break;\r\n                case &#39;X&#39;:\r\n                    numberArray[i] = 10;\r\n                    break;\r\n                case &#39;L&#39;:\r\n                    numberArray[i] = 50;\r\n                    break;\r\n                case &#39;C&#39;:\r\n                    numberArray[i] = 100;\r\n                    break;  \r\n                case &#39;D&#39;:\r\n                    numberArray[i] = 500;\r\n                    break;   \r\n                case &#39;M&#39;:\r\n                    numberArray[i] = 1000;\r\n                    break;       \r\n            }\r\n        }\r\n        calculate(numberArray);\r\n    }\r\n    public static void calculate(int[] numberArray){\r\n        int theNumber = 0;\r\n        for(int n=0;n&lt;numberArray.length;n++){         \r\n            if(n !=numberArray.length-1 &amp;&amp; numberArray[n] &lt; numberArray[n+1]){\r\n                numberArray[n+1] = numberArray[n+1] - numberArray[n];\r\n                numberArray[n] = 0;                        \r\n            }                 \r\n        }\r\n        for(int num:numberArray){\r\n            theNumber += num;\r\n        }\r\n        System.out.println(&quot;Converted number: &quot; + theNumber);\r\n        \r\n    }\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>I find the following approach a very intuitive one:</p>\n\n<pre><code>public void makeArray(String romanNumeral){\n    int[] numberArray = new int[romanNumeral.length()];\n\n    for(int i=0; i&lt;romanNumeral.length();i++){\n        char symbol = romanNumeral.charAt(i);\n        switch(symbol){\n            case 'I':\n                numberArray[i] = 1;\n                break;\n            case 'V':\n                numberArray[i] = 5;\n                break;\n            case 'X':\n                numberArray[i] = 10;\n                break;\n            case 'L':\n                numberArray[i] = 50;\n                break;\n            case 'C':\n                numberArray[i] = 100;\n                break;  \n            case 'D':\n                numberArray[i] = 500;\n                break;   \n            case 'M':\n                numberArray[i] = 1000;\n                break;       \n        }\n    }\n    calculate(numberArray);\n}\npublic static void calculate(int[] numberArray){\n    int theNumber = 0;\n    for(int n=0;n&lt;numberArray.length;n++){         \n        if(n !=numberArray.length-1 &amp;&amp; numberArray[n] &lt; numberArray[n+1]){\n            numberArray[n+1] = numberArray[n+1] - numberArray[n];\n            numberArray[n] = 0;                        \n        }                 \n    }\n    for(int num:numberArray){\n        theNumber += num;\n    }\n    System.out.println(\"Converted number: \" + theNumber);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093966,"reputation":1,"user_id":3361272,"display_name":"Yash TIbrewal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393604359,"creation_date":1393516465,"answer_id":22073623,"question_id":9073150,"body_markdown":"    \r\n    //Bet no one has a smaller and easier logic than this........Open CHALLENGE!!!!!!!\r\n    import java.io.*;\r\n    class Convertion_practical_q2\r\n    {\r\n    void Decimal()throws IOException //Smaller code for convertion from roman to decimal\r\n    {\r\n        DataInputStream in=new DataInputStream(System.in);\r\n        System.out.println(&quot;Enter the number&quot;);\r\n        String num=in.readLine();\r\n        char pos[]={&#39;0&#39;,&#39;I&#39;,&#39;V&#39;,&#39;X&#39;,&#39;L&#39;,&#39;C&#39;,&#39;D&#39;,&#39;M&#39;};   \r\n        int l1=7;                           //l1 is size of pos array\r\n        String v[]={&quot;&quot;,&quot;1&quot;,&quot;5&quot;,&quot;10&quot;,&quot;50&quot;,&quot;100&quot;,&quot;500&quot;,&quot;1000&quot;};\r\n        int l=num.length();\r\n        int p=0,p1=0,sum=0;\r\n        \r\n        for(int i=l-1;i&gt;=0;i--)\r\n        {\r\n            char ch=num.charAt(i);\r\n            for(int j=1;j&lt;=l1;j++)\r\n            {\r\n                if(ch==pos[j])\r\n                p=j;\r\n            }\r\n            if(p&gt;=p1)\r\n                sum+=Integer.parseInt(v[p]);\r\n            else\r\n                sum-=Integer.parseInt(v[p]);\r\n                //System.out.println(&quot;sum =&quot;+sum+&quot;\\np=&quot;+p+&quot;\\np1=&quot;+p1);\r\n                p1=p;\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<pre><code>//Bet no one has a smaller and easier logic than this........Open CHALLENGE!!!!!!!\nimport java.io.*;\nclass Convertion_practical_q2\n{\nvoid Decimal()throws IOException //Smaller code for convertion from roman to decimal\n{\n    DataInputStream in=new DataInputStream(System.in);\n    System.out.println(\"Enter the number\");\n    String num=in.readLine();\n    char pos[]={'0','I','V','X','L','C','D','M'};   \n    int l1=7;                           //l1 is size of pos array\n    String v[]={\"\",\"1\",\"5\",\"10\",\"50\",\"100\",\"500\",\"1000\"};\n    int l=num.length();\n    int p=0,p1=0,sum=0;\n\n    for(int i=l-1;i&gt;=0;i--)\n    {\n        char ch=num.charAt(i);\n        for(int j=1;j&lt;=l1;j++)\n        {\n            if(ch==pos[j])\n            p=j;\n        }\n        if(p&gt;=p1)\n            sum+=Integer.parseInt(v[p]);\n        else\n            sum-=Integer.parseInt(v[p]);\n            //System.out.println(\"sum =\"+sum+\"\\np=\"+p+\"\\np1=\"+p1);\n            p1=p;\n    }\n    System.out.println(sum);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1244316,"reputation":1355,"user_id":1206078,"accept_rate":91,"display_name":"Francisco Guti&#233;rrez"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1393920327,"creation_date":1393920327,"answer_id":22166191,"question_id":9073150,"body_markdown":"Just got it working in Java, nice job guys.\r\n\r\n        public int getDecimal (String roman) {\r\n    \t\tint decimal = 0;\r\n    \t\tint romanNumber = 0;\r\n    \t\tint prev = 0;\r\n    \t\tfor (int i = roman.length()-1; i &gt;= 0; i--){\r\n    \t\t\tromanNumber = hashRomans.get(roman.charAt(i));\r\n    \t\t\tif(romanNumber &lt; decimal &amp;&amp; romanNumber != prev ){\r\n    \t\t\t\tdecimal -= romanNumber;\r\n    \t\t\t\tprev = romanNumber;\r\n    \t\t\t} else {\r\n    \t\t\t\tdecimal += romanNumber;\r\n    \t\t\t\tprev = romanNumber;\r\n    \t\t\t}\r\n    \t\t} \r\n    \t\treturn decimal;\r\n    \t}","title":"Converting Roman Numerals To Decimal","body":"<p>Just got it working in Java, nice job guys.</p>\n\n<pre><code>    public int getDecimal (String roman) {\n        int decimal = 0;\n        int romanNumber = 0;\n        int prev = 0;\n        for (int i = roman.length()-1; i &gt;= 0; i--){\n            romanNumber = hashRomans.get(roman.charAt(i));\n            if(romanNumber &lt; decimal &amp;&amp; romanNumber != prev ){\n                decimal -= romanNumber;\n                prev = romanNumber;\n            } else {\n                decimal += romanNumber;\n                prev = romanNumber;\n            }\n        } \n        return decimal;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4502195,"reputation":1,"user_id":3660480,"display_name":"Narmadha Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401047781,"creation_date":1401045463,"answer_id":23859028,"question_id":9073150,"body_markdown":"This should work:\r\n\r\n     import java.io.*;\r\n     import java.util.Scanner;\r\n\r\n     enum RomanToNumber {\r\n     i(1), v(5), x(10), l(50), c(100); int value;\r\n     RomanToNumber (int p){value = p;}\r\n     int getValue(){return value;}\r\n     }\r\n\r\n     public class RomanToInteger {\r\n\r\n      public static void main(String[] args){\r\n         RomanToNumber n;\r\n         \r\n         System.out.println( &quot;Type a valid roman number in lower case&quot; );\r\n         \r\n         String Str = new String(new Scanner(System.in).nextLine());\r\n         int n1 = 0, theNo = 0, len = Str.length();\r\n         int[] str2No = new int [len];\r\n         \r\n         for(int i=0; i &lt; len; i++){       \r\n            n = RomanToNumber.valueOf(Str.substring(n1, ++n1));\r\n            str2No[i] = n.getValue();\r\n         }                  \r\n         \r\n         for(int j = 0; j &lt; (len-1); j++){\r\n\r\n            if( str2No[j] &gt;= str2No[j+1] ){ theNo += str2No[j]; }\r\n            else{ theNo -= str2No[j]; }\r\n         \r\n         }\r\n         System.out.println( theNo += str2No[len-1] );            \r\n         }\r\n      }","title":"Converting Roman Numerals To Decimal","body":"<p>This should work:</p>\n\n<pre><code> import java.io.*;\n import java.util.Scanner;\n\n enum RomanToNumber {\n i(1), v(5), x(10), l(50), c(100); int value;\n RomanToNumber (int p){value = p;}\n int getValue(){return value;}\n }\n\n public class RomanToInteger {\n\n  public static void main(String[] args){\n     RomanToNumber n;\n\n     System.out.println( \"Type a valid roman number in lower case\" );\n\n     String Str = new String(new Scanner(System.in).nextLine());\n     int n1 = 0, theNo = 0, len = Str.length();\n     int[] str2No = new int [len];\n\n     for(int i=0; i &lt; len; i++){       \n        n = RomanToNumber.valueOf(Str.substring(n1, ++n1));\n        str2No[i] = n.getValue();\n     }                  \n\n     for(int j = 0; j &lt; (len-1); j++){\n\n        if( str2No[j] &gt;= str2No[j+1] ){ theNo += str2No[j]; }\n        else{ theNo -= str2No[j]; }\n\n     }\n     System.out.println( theNo += str2No[len-1] );            \n     }\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":275541,"reputation":2161,"user_id":568471,"accept_rate":100,"display_name":"Viren"},"score":0,"creation_date":1405468175,"post_id":24769984,"comment_id":38436219,"body_markdown":"Complexity : runtime : O(n), space : O(m) (since we are using unordered_map). we can of course break this O(m) complexity to O(1) by using switch-case in a separate function","body":"Complexity : runtime : O(n), space : O(m) (since we are using unordered_map). we can of course break this O(m) complexity to O(1) by using switch-case in a separate function"}],"tags":[],"owner":{"account_id":275541,"reputation":2161,"user_id":568471,"accept_rate":100,"display_name":"Viren"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1405468337,"creation_date":1405468008,"answer_id":24769984,"question_id":9073150,"body_markdown":"Since most of the answers here are in Java, I&#39;m posting the answer in C++ (since I am bored right now and nothing more productive to do :) But please, no downvotes except if code is wrong. \r\nKnown-issues = will not handle overflow \r\n\r\nCode:\r\n\r\n    #include &lt;unordered_map&gt;\r\n    int convert_roman_2_int(string&amp; str)\r\n        {\r\n        int ans = 0;\r\n        if( str.length() == 0 )\r\n            {\r\n            return ans;\r\n            }\r\n\r\n        std::unordered_map&lt;char, int&gt; table;\r\n        table[&#39;I&#39;] = 1;\r\n        table[&#39;V&#39;] = 5;\r\n        table[&#39;X&#39;] = 10;\r\n        table[&#39;L&#39;] = 50;\r\n        table[&#39;C&#39;] = 100;\r\n        table[&#39;D&#39;] = 500;\r\n        table[&#39;M&#39;] = 1000;\r\n        \r\n        ans = table[ str[ str.length() - 1 ] ];\r\n        \r\n        for( int i = str.length() - 2; i &gt;= 0; i--)\r\n            {\r\n            if(table[ str[i] ] &lt; table[ str[i+1] ] )\r\n                {\r\n                ans -= table[ str[i] ];\r\n                }\r\n            else\r\n                {\r\n                ans += table[ str[i] ];\r\n                }\r\n            }\r\n            \r\n        return ans;\r\n        }\r\n\r\n// test code\r\n\r\n    void run_test_cases_convert_roman_to_int()\r\n        {\r\n        string roman = &quot;VIII&quot;;\r\n        int r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;XX&quot;;\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;CDX&quot;; //410\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;MCMXC&quot;; //1990\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;MMVIII&quot;; //2008\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        \r\n        roman = &quot;MDCLXVI&quot;; //1666\r\n        r = convert_roman_2_int(roman);\r\n        cout &lt;&lt; roman &lt;&lt; &quot; in int is &quot; &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\r\n        }","title":"Converting Roman Numerals To Decimal","body":"<p>Since most of the answers here are in Java, I'm posting the answer in C++ (since I am bored right now and nothing more productive to do :) But please, no downvotes except if code is wrong. \nKnown-issues = will not handle overflow </p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;unordered_map&gt;\nint convert_roman_2_int(string&amp; str)\n    {\n    int ans = 0;\n    if( str.length() == 0 )\n        {\n        return ans;\n        }\n\n    std::unordered_map&lt;char, int&gt; table;\n    table['I'] = 1;\n    table['V'] = 5;\n    table['X'] = 10;\n    table['L'] = 50;\n    table['C'] = 100;\n    table['D'] = 500;\n    table['M'] = 1000;\n\n    ans = table[ str[ str.length() - 1 ] ];\n\n    for( int i = str.length() - 2; i &gt;= 0; i--)\n        {\n        if(table[ str[i] ] &lt; table[ str[i+1] ] )\n            {\n            ans -= table[ str[i] ];\n            }\n        else\n            {\n            ans += table[ str[i] ];\n            }\n        }\n\n    return ans;\n    }\n</code></pre>\n\n<p>// test code</p>\n\n<pre><code>void run_test_cases_convert_roman_to_int()\n    {\n    string roman = \"VIII\";\n    int r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"XX\";\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"CDX\"; //410\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"MCMXC\"; //1990\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"MMVIII\"; //2008\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n\n    roman = \"MDCLXVI\"; //1666\n    r = convert_roman_2_int(roman);\n    cout &lt;&lt; roman &lt;&lt; \" in int is \" &lt;&lt; r &lt;&lt; endl &lt;&lt; flush;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2252483,"reputation":129,"user_id":1984437,"accept_rate":43,"display_name":"TheDareDevil"},"score":0,"creation_date":1413429808,"post_id":25411754,"comment_id":41443164,"body_markdown":"Very nice and concise implementation","body":"Very nice and concise implementation"},{"owner":{"account_id":3491286,"reputation":2056,"user_id":2920922,"accept_rate":18,"display_name":"Didac Montero"},"score":1,"creation_date":1483355710,"post_id":25411754,"comment_id":70056880,"body_markdown":"IIX is not a valid symbol -&gt; Only one small-value symbol may be subtracted from any large-value symbol.\n\n8 is represented as VIII","body":"IIX is not a valid symbol -&gt; Only one small-value symbol may be subtracted from any large-value symbol.  8 is represented as VIII"}],"tags":[],"owner":{"account_id":4918053,"reputation":321,"user_id":3961448,"display_name":"batman"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1408558559,"creation_date":1408558559,"answer_id":25411754,"question_id":9073150,"body_markdown":"assuming the hash looks something like this\r\n    \r\n    Hashtable&lt;Character, Integer&gt; ht = new Hashtable&lt;Character, Integer&gt;();\r\n\t\tht.put(&#39;i&#39;,1);\r\n\t\tht.put(&#39;x&#39;,10);\r\n\t\tht.put(&#39;c&#39;,100);\r\n\t\tht.put(&#39;m&#39;,1000);\r\n\t\tht.put(&#39;v&#39;,5);\r\n\t\tht.put(&#39;l&#39;,50);\r\n\t\tht.put(&#39;d&#39;,500);\r\nthen the logic gets pretty simple going by digit right to left\r\n\t\t\t\r\n\r\n    public static int rtoi(String num)\r\n\t{\t\t\r\n        int intNum=0;\r\n\t\tint prev = 0;\r\n\t\tfor(int i = num.length()-1; i&gt;=0 ; i--)\r\n\t\t{\r\n\t\t\t\tint temp = ht.get(num.charAt(i));\r\n\t\t\t\tif(temp &lt; prev)\r\n\t\t\t\t\tintNum-=temp;\r\n\t\t\t\telse\r\n\t\t\t\t\tintNum+=temp;\r\n\t\t\t\tprev = temp;\r\n\t\t}\r\n\t\treturn intNum;\r\n\t}\t","title":"Converting Roman Numerals To Decimal","body":"<p>assuming the hash looks something like this</p>\n\n<pre><code>Hashtable&lt;Character, Integer&gt; ht = new Hashtable&lt;Character, Integer&gt;();\n    ht.put('i',1);\n    ht.put('x',10);\n    ht.put('c',100);\n    ht.put('m',1000);\n    ht.put('v',5);\n    ht.put('l',50);\n    ht.put('d',500);\n</code></pre>\n\n<p>then the logic gets pretty simple going by digit right to left</p>\n\n<pre><code>public static int rtoi(String num)\n{       \n    int intNum=0;\n    int prev = 0;\n    for(int i = num.length()-1; i&gt;=0 ; i--)\n    {\n            int temp = ht.get(num.charAt(i));\n            if(temp &lt; prev)\n                intNum-=temp;\n            else\n                intNum+=temp;\n            prev = temp;\n    }\n    return intNum;\n}   \n</code></pre>\n"},{"comments":[{"owner":{"account_id":201195,"reputation":50952,"user_id":447489,"accept_rate":100,"display_name":"fancyPants"},"score":3,"creation_date":1427121081,"post_id":29212316,"comment_id":46635157,"body_markdown":"Please explain what this adds to the other 14 answers to this 3 year old question...","body":"Please explain what this adds to the other 14 answers to this 3 year old question..."},{"owner":{"account_id":4621849,"reputation":530,"user_id":3746704,"display_name":"Andr&#233; Schonrock"},"score":0,"creation_date":1427140195,"post_id":29212316,"comment_id":46647136,"body_markdown":"It is just another way to solve the problem, mathematically. It adds Intelligence. Why negativate the answer? Just because you don&#39;t like it? Or you just didn&#39;t understand?","body":"It is just another way to solve the problem, mathematically. It adds Intelligence. Why negativate the answer? Just because you don&#39;t like it? Or you just didn&#39;t understand?"},{"owner":{"account_id":201195,"reputation":50952,"user_id":447489,"accept_rate":100,"display_name":"fancyPants"},"score":0,"creation_date":1427141656,"post_id":29212316,"comment_id":46647921,"body_markdown":"Didn&#39;t downvote. Just left my comment cause just a code only answer after so many years...well, code only answers are generally not, er, upvote worthy.","body":"Didn&#39;t downvote. Just left my comment cause just a code only answer after so many years...well, code only answers are generally not, er, upvote worthy."},{"owner":{"account_id":167107,"reputation":3383,"user_id":391691,"display_name":"Simson"},"score":1,"creation_date":1579227226,"post_id":29212316,"comment_id":105704802,"body_markdown":"*Commenting on a three year old answer of a  decade old question*. If you are still around here, feel free to add some comments on how this works because it is very different from other answers in this thread.","body":"<i>Commenting on a three year old answer of a  decade old question</i>. If you are still around here, feel free to add some comments on how this works because it is very different from other answers in this thread."}],"tags":[],"owner":{"account_id":4621849,"reputation":530,"user_id":3746704,"display_name":"Andr&#233; Schonrock"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503167109,"creation_date":1427119532,"answer_id":29212316,"question_id":9073150,"body_markdown":"    // Author: Francisco Edmundo\r\n    private int translateNumber(String texto) {\r\n\t\tint n = 0;\r\n\t\tint numeralDaDireita = 0;\r\n\t\tfor (int i = texto.length() - 1; i &gt;= 0; i--) {\r\n\t\t\tint valor = (int) translateNumber(texto.charAt(i));\r\n\t\t\tn += valor * Math.signum(valor + 0.5 - numeralDaDireita);\r\n\t\t\tnumeralDaDireita = valor;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\tprivate double translateNumber(char caractere) {\r\n\t\treturn Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(caractere))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(caractere)));\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<pre><code>// Author: Francisco Edmundo\nprivate int translateNumber(String texto) {\n    int n = 0;\n    int numeralDaDireita = 0;\n    for (int i = texto.length() - 1; i &gt;= 0; i--) {\n        int valor = (int) translateNumber(texto.charAt(i));\n        n += valor * Math.signum(valor + 0.5 - numeralDaDireita);\n        numeralDaDireita = valor;\n    }\n    return n;\n}\nprivate double translateNumber(char caractere) {\n    return Math.floor(Math.pow(10, \"IXCM\".indexOf(caractere))) + 5 * Math.floor(Math.pow(10, \"VLD\".indexOf(caractere)));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5987370,"reputation":51,"user_id":4704524,"display_name":"Edworld"},"score":0,"creation_date":1427139371,"post_id":29218799,"comment_id":46646693,"body_markdown":"This is a mathematical version, with low McCabe complexity.","body":"This is a mathematical version, with low McCabe complexity."},{"owner":{"display_name":"user6929867"},"score":0,"creation_date":1479963927,"post_id":29218799,"comment_id":68780265,"body_markdown":"I know this is old but I was wondering if you could provide me an explanation of this piece of code? Or maybe a link to an article over it?","body":"I know this is old but I was wondering if you could provide me an explanation of this piece of code? Or maybe a link to an article over it?"},{"owner":{"account_id":5987370,"reputation":51,"user_id":4704524,"display_name":"Edworld"},"score":0,"creation_date":1539739549,"post_id":29218799,"comment_id":92608113,"body_markdown":"I=1, X=10, C=100, M=1000\nforms a sequence of powers of ten: 10^0, 10^1, 10^2, 10^3\nthis explains the following piece of code:\nMath.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch)))","body":"I=1, X=10, C=100, M=1000 forms a sequence of powers of ten: 10^0, 10^1, 10^2, 10^3 this explains the following piece of code: Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch)))"}],"tags":[],"owner":{"account_id":5987370,"reputation":51,"user_id":4704524,"display_name":"Edworld"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427142614,"creation_date":1427139115,"answer_id":29218799,"question_id":9073150,"body_markdown":"Less code, more efficient. Not so clearer, sorry!\r\n\r\n    public int evaluateRomanNumerals(String roman) {\r\n\t\treturn (int) evaluateNextRomanNumeral(roman, roman.length() - 1, 0);\r\n\t}\r\n\r\n\tprivate double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\r\n\t\tif (pos &lt; 0) return 0;\r\n\t\tchar ch = roman.charAt(pos);\r\n\t\tdouble value = Math.floor(Math.pow(10, &quot;IXCM&quot;.indexOf(ch))) + 5 * Math.floor(Math.pow(10, &quot;VLD&quot;.indexOf(ch)));\r\n\t\treturn value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<p>Less code, more efficient. Not so clearer, sorry!</p>\n\n<pre><code>public int evaluateRomanNumerals(String roman) {\n    return (int) evaluateNextRomanNumeral(roman, roman.length() - 1, 0);\n}\n\nprivate double evaluateNextRomanNumeral(String roman, int pos, double rightNumeral) {\n    if (pos &lt; 0) return 0;\n    char ch = roman.charAt(pos);\n    double value = Math.floor(Math.pow(10, \"IXCM\".indexOf(ch))) + 5 * Math.floor(Math.pow(10, \"VLD\".indexOf(ch)));\n    return value * Math.signum(value + 0.5 - rightNumeral) + evaluateNextRomanNumeral(roman, pos - 1, value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5691381,"reputation":261,"user_id":4499365,"accept_rate":0,"display_name":"Amarjit Datta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435567801,"creation_date":1432468947,"answer_id":30423274,"question_id":9073150,"body_markdown":"You can check following code. This code should work on all cases. Also it checks null or empty input and faulty input (Let&#39;s say you tried with ABXI)\r\n\r\n    import java.util.HashMap;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    public class RomanToDecimal {\r\n      private HashMap&lt;Character, Integer&gt; map;\r\n      \r\n      public RomanToDecimal() {\r\n        map = new HashMap&lt;&gt;();\r\n        map.put(&#39;I&#39;, 1);\r\n        map.put(&#39;V&#39;, 5);\r\n        map.put(&#39;X&#39;, 10);\r\n        map.put(&#39;L&#39;, 50);\r\n        map.put(&#39;C&#39;, 100);\r\n        map.put(&#39;D&#39;, 500);\r\n        map.put(&#39;M&#39;, 1000);\r\n      }\r\n      \r\n      private int getRomanNumeralValue(char ch) {\r\n        if (map.containsKey(ch)) {\r\n          return map.get(ch);\r\n        }\r\n        else {\r\n          throw new RuntimeException(&quot;Roman numeral string contains invalid characters &quot; + ch);\r\n        }\r\n      }\r\n      \r\n      public int convertRomanToDecimal(final String pRomanNumeral) {\r\n        if (StringUtils.isBlank(pRomanNumeral)) {\r\n          throw new RuntimeException(&quot;Roman numeral string is either null or empty&quot;);\r\n        }\r\n        else {\r\n          int index = pRomanNumeral.length() - 1;\r\n          int result = getRomanNumeralValue(pRomanNumeral.charAt(index));\r\n          \r\n          for (int i = index - 1; i &gt;= 0; i--) {\r\n            if (getRomanNumeralValue(pRomanNumeral.charAt(i)) &gt;= getRomanNumeralValue(pRomanNumeral.charAt(i + 1))) {\r\n              result = result + getRomanNumeralValue(pRomanNumeral.charAt(i));\r\n            }\r\n            else {\r\n              result = result - getRomanNumeralValue(pRomanNumeral.charAt(i));\r\n            }\r\n          }\r\n          return result;\r\n        }\r\n      }\r\n    public static void main(String... args){\r\n    \t  System.out.println(new RomanToDecimal().convertRomanToDecimal(&quot;XCIX&quot;));\r\n      }\r\n\r\n    }\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>You can check following code. This code should work on all cases. Also it checks null or empty input and faulty input (Let's say you tried with ABXI)</p>\n\n<pre><code>import java.util.HashMap;\nimport org.apache.commons.lang3.StringUtils;\n\npublic class RomanToDecimal {\n  private HashMap&lt;Character, Integer&gt; map;\n\n  public RomanToDecimal() {\n    map = new HashMap&lt;&gt;();\n    map.put('I', 1);\n    map.put('V', 5);\n    map.put('X', 10);\n    map.put('L', 50);\n    map.put('C', 100);\n    map.put('D', 500);\n    map.put('M', 1000);\n  }\n\n  private int getRomanNumeralValue(char ch) {\n    if (map.containsKey(ch)) {\n      return map.get(ch);\n    }\n    else {\n      throw new RuntimeException(\"Roman numeral string contains invalid characters \" + ch);\n    }\n  }\n\n  public int convertRomanToDecimal(final String pRomanNumeral) {\n    if (StringUtils.isBlank(pRomanNumeral)) {\n      throw new RuntimeException(\"Roman numeral string is either null or empty\");\n    }\n    else {\n      int index = pRomanNumeral.length() - 1;\n      int result = getRomanNumeralValue(pRomanNumeral.charAt(index));\n\n      for (int i = index - 1; i &gt;= 0; i--) {\n        if (getRomanNumeralValue(pRomanNumeral.charAt(i)) &gt;= getRomanNumeralValue(pRomanNumeral.charAt(i + 1))) {\n          result = result + getRomanNumeralValue(pRomanNumeral.charAt(i));\n        }\n        else {\n          result = result - getRomanNumeralValue(pRomanNumeral.charAt(i));\n        }\n      }\n      return result;\n    }\n  }\npublic static void main(String... args){\n      System.out.println(new RomanToDecimal().convertRomanToDecimal(\"XCIX\"));\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5604981,"reputation":52,"user_id":4439916,"display_name":"Jitendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439993510,"creation_date":1433791576,"answer_id":30717449,"question_id":9073150,"body_markdown":"this is very basic implementation of what you asked and working for all the test cases. If you find anything wrong in it than do mention it,i will try to make it correct also the code is in C++ .\r\n\r\n\r\n\r\n    int RomanToInt(string s){ \r\n        int len = s.length();\r\n        map&lt;char,int&gt;mp;\r\n        int decimal = 0;\r\n        mp[&#39;I&#39;] = 1;mp[&#39;V&#39;] = 5;mp[&#39;X&#39;] = 10;\r\n        mp[&#39;L&#39;] = 50;mp[&#39;C&#39;] = 100;mp[&#39;D&#39;] = 500;mp[&#39;M&#39;] = 1000;\r\n        for(int i = 0; i &lt; len ;i++){\r\n           char cur = s[i],fast = s[i+1];\r\n           int cur_val = mp[cur],fast_val = mp[fast];\r\n           if(cur_val &lt; fast_val){\r\n              decimal = decimal - cur_val;\r\n           }else{\r\n              decimal += cur_val;\r\n           }\r\n        }\r\n        return decimal;\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>this is very basic implementation of what you asked and working for all the test cases. If you find anything wrong in it than do mention it,i will try to make it correct also the code is in C++ .</p>\n\n<pre><code>int RomanToInt(string s){ \n    int len = s.length();\n    map&lt;char,int&gt;mp;\n    int decimal = 0;\n    mp['I'] = 1;mp['V'] = 5;mp['X'] = 10;\n    mp['L'] = 50;mp['C'] = 100;mp['D'] = 500;mp['M'] = 1000;\n    for(int i = 0; i &lt; len ;i++){\n       char cur = s[i],fast = s[i+1];\n       int cur_val = mp[cur],fast_val = mp[fast];\n       if(cur_val &lt; fast_val){\n          decimal = decimal - cur_val;\n       }else{\n          decimal += cur_val;\n       }\n    }\n    return decimal;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7130298,"reputation":169,"user_id":5719245,"display_name":"Dan Rothman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451206343,"creation_date":1451205404,"answer_id":34478845,"question_id":9073150,"body_markdown":"    public static int convertFromRoman(String romanNumeral)\r\n\t{\r\n\t\tCharacter[] rnChars = { &#39;M&#39;,  &#39;D&#39;, &#39;C&#39;,   &#39;L&#39;,  &#39;X&#39;,  &#39;V&#39;, &#39;I&#39; };\r\n\t\tint[] rnVals = {  1000,  500, 100,  50, 10, 5, 1 };\r\n\t\tHashMap&lt;Character, Integer&gt; valueLookup = new HashMap&lt;Character, Integer&gt;();\r\n\t\tfor (int i = 0; i &lt; rnChars.length;i++)\r\n\t\t\tvalueLookup.put(rnChars[i], rnVals[i]);\r\n\t\tint retVal = 0;\r\n\t\tfor (int i = 0; i &lt; romanNumeral.length();i++)\r\n\t\t{\r\n\t\t\tint addVal = valueLookup.get(romanNumeral.charAt(i));\r\n\t\t\tretVal += i &lt; romanNumeral.length()-1 &amp;&amp; \r\n\t\t\t\t\t  addVal &lt; valueLookup.get(romanNumeral.charAt(i+1))?\r\n\t\t\t\t\t  -addVal:addVal;\r\n\t\t}\r\n\t\treturn retVal;\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<pre><code>public static int convertFromRoman(String romanNumeral)\n{\n    Character[] rnChars = { 'M',  'D', 'C',   'L',  'X',  'V', 'I' };\n    int[] rnVals = {  1000,  500, 100,  50, 10, 5, 1 };\n    HashMap&lt;Character, Integer&gt; valueLookup = new HashMap&lt;Character, Integer&gt;();\n    for (int i = 0; i &lt; rnChars.length;i++)\n        valueLookup.put(rnChars[i], rnVals[i]);\n    int retVal = 0;\n    for (int i = 0; i &lt; romanNumeral.length();i++)\n    {\n        int addVal = valueLookup.get(romanNumeral.charAt(i));\n        retVal += i &lt; romanNumeral.length()-1 &amp;&amp; \n                  addVal &lt; valueLookup.get(romanNumeral.charAt(i+1))?\n                  -addVal:addVal;\n    }\n    return retVal;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4480570,"reputation":351,"user_id":3644744,"accept_rate":100,"display_name":"Goose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454470212,"creation_date":1454470212,"answer_id":35167974,"question_id":9073150,"body_markdown":"This is a modest variation of the recursive algorithm suggested by Sahtiel:\r\n\r\n    public static int toArabic(String number) throws Exception {\r\n    \tString[] letras = {&quot;M&quot;,&quot;CM&quot;,&quot;D&quot;,&quot;CD&quot;,&quot;C&quot;,&quot;XC&quot;,&quot;L&quot;,&quot;XL&quot;,&quot;X&quot;, &quot;IX&quot;,&quot;V&quot;,&quot;IV&quot;,&quot;I&quot;};\r\n    \tint[] valores = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\r\n        \r\n    \t// here we can do even more business validations like avoiding sequences like XXXXM\r\n    \tif (number==null || number.isEmpty()) {\r\n        \treturn 0;\r\n        }\r\n        for(int i=0; i&lt;letras.length; i++) {\r\n        \tif (number.startsWith(letras[i])) {\r\n        \t\treturn valores[i] + toArabic(number.substring(letras[i].length()));\r\n        \t}\r\n        }\r\n        throw new Exception(&quot;something bad happened&quot;);\r\n    }\r\n\r\nIt uses less than 10 effective lines of code.","title":"Converting Roman Numerals To Decimal","body":"<p>This is a modest variation of the recursive algorithm suggested by Sahtiel:</p>\n\n<pre><code>public static int toArabic(String number) throws Exception {\n    String[] letras = {\"M\",\"CM\",\"D\",\"CD\",\"C\",\"XC\",\"L\",\"XL\",\"X\", \"IX\",\"V\",\"IV\",\"I\"};\n    int[] valores = {1000,900,500,400,100,90,50,40,10,9,5,4,1};\n\n    // here we can do even more business validations like avoiding sequences like XXXXM\n    if (number==null || number.isEmpty()) {\n        return 0;\n    }\n    for(int i=0; i&lt;letras.length; i++) {\n        if (number.startsWith(letras[i])) {\n            return valores[i] + toArabic(number.substring(letras[i].length()));\n        }\n    }\n    throw new Exception(\"something bad happened\");\n}\n</code></pre>\n\n<p>It uses less than 10 effective lines of code.</p>\n"},{"comments":[{"owner":{"account_id":1810784,"reputation":1558,"user_id":1646896,"accept_rate":100,"display_name":"adinutzyc21"},"score":0,"creation_date":1484277440,"post_id":38307935,"comment_id":70454530,"body_markdown":"Scenario 1 is not a valid Roman Numeral though... You can have AT MOST 3 consecutive identical chars after a higher char and AT MOST 1 consecutive identical chars before a higher char..","body":"Scenario 1 is not a valid Roman Numeral though... You can have AT MOST 3 consecutive identical chars after a higher char and AT MOST 1 consecutive identical chars before a higher char.."}],"tags":[],"owner":{"account_id":222490,"reputation":417,"user_id":481125,"accept_rate":40,"display_name":"Big O"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468242818,"creation_date":1468242818,"answer_id":38307935,"question_id":9073150,"body_markdown":"Lets look at this problem with 3 different scenarios\r\n\r\n&gt; Scenario 1: \r\n\r\nWhen we see a pattern like the following \r\n\r\n    &#39;IIIIII&#39; or &#39;XXXXX&#39;  or &#39;CCCC&#39;\r\n\r\nwhere all characters as the same: We add the value of each characters in the pattern\r\n\r\n    &#39;IIIIII&#39; gives us &#39;6&#39;\r\n\r\n    &#39;XXXXX&#39; gives us &#39;50&#39;\r\n\r\n    &#39;CCCC&#39; gives us &#39;400&#39;\r\n\r\n&gt; Scenario 2: \r\n\r\nWhen we see any 2 consecutive characters different where first is smaller in value then the 2nd\r\n\r\n    &#39;IX&#39; or &#39;XC&#39;\r\n\r\nWe subtract the value of first from second e.g.\r\n\r\n    second:&#39;X&#39; gives us &#39;10&#39;\r\n\r\n    first: &#39;I&#39; gives us &#39;1&#39;\r\n\r\n    second  - first :  10 - 1 = 9\r\n\r\n\r\n&gt; Scenario 3: \r\n\r\nWhen we see a any 2 consecutive characters different where first is greater in value then the second\r\n\r\n    &#39;XI&#39; or &#39;CX&#39;\r\n\r\nWe add first and second e.g.\r\n\r\n    second:&#39;I&#39; gives us &#39;10&#39;\r\n    first: &#39;X&#39; gives us &#39;1&#39;\r\n    first  + second :  10 +  1 = 11\r\n\r\nNow we can find the result if we do this recursively.\r\nHere is the java implementation :\r\n\r\n\t//An array to be used for faster comparisons and reading the values\r\n\tprivate int[] letters26 = new int[26];\r\n\tprivate void init () {\r\n\t\tletters26[&#39;I&#39; - &#39;A&#39;] = 1;\r\n\t\tletters26[&#39;V&#39; - &#39;A&#39;] = 5;\r\n\t\tletters26[&#39;X&#39; - &#39;A&#39;] = 10;\r\n\t\tletters26[&#39;L&#39; - &#39;A&#39;] = 50;\r\n\t\tletters26[&#39;C&#39; - &#39;A&#39;] = 100;\r\n\t\tletters26[&#39;D&#39; - &#39;A&#39;] = 500;\r\n\t\tletters26[&#39;M&#39; - &#39;A&#39;] = 1000;\r\n\t}\r\n\t\r\n\tpublic int convertRomanToInteger(String s) {\r\n\t\t//Initialize the array\r\n\t\tinit();\r\n\t\treturn _convertRomanToInteger(s.toCharArray(), 0);\r\n\t}\r\n\r\n\t//Recursively  calls itself as long as 2 consecutive chars are different\r\n\tprivate int _convertRomanToInteger(char[] s, int index) {\r\n\t\tint ret = 0;\r\n\t\tchar pre = s[index];//Char from the given index\r\n\t\tret = _getValue(pre);\r\n\r\n\t\t//Iterate through the rest of the string \r\n\t\tfor (int i = index + 1; i &lt; s.length; i++) {\r\n\t\t\tif (compare(s[i], s[i - 1]) == 0) {\r\n                //Scenario 1:\r\n\t\t\t\t//If 2 consecutive chars are similar, just add them\t\t\t\t\r\n\t\t\t\tret += _getValue(s[i]);\r\n\t\t\t} else if (compare(s[i], s[i - 1]) &gt; 0) {\r\n                //Scenario 2:\r\n\t\t\t\t//If current char is greater than the previous e.g IX (&#39;I&#39; s[i - 1] and &#39;X&#39; s[i - 1])\r\n\t\t\t\t//We need to calculate starting from &#39;i&#39; and subtract the calculation (&#39;ret&#39;) \r\n\t\t\t\t//done so far in current call\r\n\t\t\t\treturn _convertRomanToInteger(s, i) - ret;\r\n\t\t\t} else {\r\n                //Scenario 3:\r\n\t\t\t\t//If current char is smaller than the previous e.g XI (&#39;X&#39; s[i - 1] and &#39;I&#39; s[i - 1])\r\n\t\t\t\t//We need to calculate starting from &#39;i&#39; and subtract the result \r\n\t\t\t\t//from the calculation done so far in current call\r\n\t\t\t\treturn ret + _convertRomanToInteger(s, i);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n\t//Helper function for comparison\r\n\tprivate int compare(char a, char b) {\r\n\t\treturn letters26[Character.toUpperCase(a) - &#39;A&#39;]\r\n\t\t\t\t- letters26[Character.toUpperCase(b) - &#39;A&#39;];\r\n\t}\r\n\r\n\tprivate int _getValue(char c) {\r\n\t\treturn letters26[Character.toUpperCase(c) - &#39;A&#39;]; \r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<p>Lets look at this problem with 3 different scenarios</p>\n\n<blockquote>\n  <p>Scenario 1: </p>\n</blockquote>\n\n<p>When we see a pattern like the following </p>\n\n<pre><code>'IIIIII' or 'XXXXX'  or 'CCCC'\n</code></pre>\n\n<p>where all characters as the same: We add the value of each characters in the pattern</p>\n\n<pre><code>'IIIIII' gives us '6'\n\n'XXXXX' gives us '50'\n\n'CCCC' gives us '400'\n</code></pre>\n\n<blockquote>\n  <p>Scenario 2: </p>\n</blockquote>\n\n<p>When we see any 2 consecutive characters different where first is smaller in value then the 2nd</p>\n\n<pre><code>'IX' or 'XC'\n</code></pre>\n\n<p>We subtract the value of first from second e.g.</p>\n\n<pre><code>second:'X' gives us '10'\n\nfirst: 'I' gives us '1'\n\nsecond  - first :  10 - 1 = 9\n</code></pre>\n\n<blockquote>\n  <p>Scenario 3: </p>\n</blockquote>\n\n<p>When we see a any 2 consecutive characters different where first is greater in value then the second</p>\n\n<pre><code>'XI' or 'CX'\n</code></pre>\n\n<p>We add first and second e.g.</p>\n\n<pre><code>second:'I' gives us '10'\nfirst: 'X' gives us '1'\nfirst  + second :  10 +  1 = 11\n</code></pre>\n\n<p>Now we can find the result if we do this recursively.\nHere is the java implementation :</p>\n\n<pre><code>//An array to be used for faster comparisons and reading the values\nprivate int[] letters26 = new int[26];\nprivate void init () {\n    letters26['I' - 'A'] = 1;\n    letters26['V' - 'A'] = 5;\n    letters26['X' - 'A'] = 10;\n    letters26['L' - 'A'] = 50;\n    letters26['C' - 'A'] = 100;\n    letters26['D' - 'A'] = 500;\n    letters26['M' - 'A'] = 1000;\n}\n\npublic int convertRomanToInteger(String s) {\n    //Initialize the array\n    init();\n    return _convertRomanToInteger(s.toCharArray(), 0);\n}\n\n//Recursively  calls itself as long as 2 consecutive chars are different\nprivate int _convertRomanToInteger(char[] s, int index) {\n    int ret = 0;\n    char pre = s[index];//Char from the given index\n    ret = _getValue(pre);\n\n    //Iterate through the rest of the string \n    for (int i = index + 1; i &lt; s.length; i++) {\n        if (compare(s[i], s[i - 1]) == 0) {\n            //Scenario 1:\n            //If 2 consecutive chars are similar, just add them             \n            ret += _getValue(s[i]);\n        } else if (compare(s[i], s[i - 1]) &gt; 0) {\n            //Scenario 2:\n            //If current char is greater than the previous e.g IX ('I' s[i - 1] and 'X' s[i - 1])\n            //We need to calculate starting from 'i' and subtract the calculation ('ret') \n            //done so far in current call\n            return _convertRomanToInteger(s, i) - ret;\n        } else {\n            //Scenario 3:\n            //If current char is smaller than the previous e.g XI ('X' s[i - 1] and 'I' s[i - 1])\n            //We need to calculate starting from 'i' and subtract the result \n            //from the calculation done so far in current call\n            return ret + _convertRomanToInteger(s, i);\n        }\n    }\n    return ret;\n}\n\n//Helper function for comparison\nprivate int compare(char a, char b) {\n    return letters26[Character.toUpperCase(a) - 'A']\n            - letters26[Character.toUpperCase(b) - 'A'];\n}\n\nprivate int _getValue(char c) {\n    return letters26[Character.toUpperCase(c) - 'A']; \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":451011,"reputation":1789,"user_id":846652,"display_name":"Sharlike"},"score":0,"creation_date":1471970151,"post_id":39106229,"comment_id":65560044,"body_markdown":"Could you add an explanation to your answer?","body":"Could you add an explanation to your answer?"},{"owner":{"account_id":2664475,"reputation":766,"user_id":2303325,"accept_rate":87,"display_name":"user2303325"},"score":0,"creation_date":1471984024,"post_id":39106229,"comment_id":65567619,"body_markdown":"For converting TO arabic, it works as follows: grab the rightmost unchecked character and convert it to its numeric value using the map. If this value is less than the &quot;top&quot; value we&#39;ve seen so far, then it needs to be subtracting (eg. IV needs to be 4, not 6), otherwise we add the value to the total and make it the new top value we&#39;ve seen so far. So, for instance, XIX works like follows: &#39;X&#39; is checked and comes out to be value of 10. That is higher than the &quot;top&quot; value seen so far, so it becomes &quot;top&quot; and we add 10 to the value. Then go to the next character and &quot;I&quot; is &lt; 10, so subtract","body":"For converting TO arabic, it works as follows: grab the rightmost unchecked character and convert it to its numeric value using the map. If this value is less than the &quot;top&quot; value we&#39;ve seen so far, then it needs to be subtracting (eg. IV needs to be 4, not 6), otherwise we add the value to the total and make it the new top value we&#39;ve seen so far. So, for instance, XIX works like follows: &#39;X&#39; is checked and comes out to be value of 10. That is higher than the &quot;top&quot; value seen so far, so it becomes &quot;top&quot; and we add 10 to the value. Then go to the next character and &quot;I&quot; is &lt; 10, so subtract"},{"owner":{"account_id":451011,"reputation":1789,"user_id":846652,"display_name":"Sharlike"},"score":0,"creation_date":1472055705,"post_id":39106229,"comment_id":65602377,"body_markdown":"You should put the explanation directly in your answer by using the editor. The comments aren&#39;t supposed to be used for answering.","body":"You should put the explanation directly in your answer by using the editor. The comments aren&#39;t supposed to be used for answering."}],"tags":[],"owner":{"account_id":2664475,"reputation":766,"user_id":2303325,"accept_rate":87,"display_name":"user2303325"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579227490,"creation_date":1471969080,"answer_id":39106229,"question_id":9073150,"body_markdown":"For converting TO arabic, it works as follows: \r\n\r\ngrab the rightmost unchecked character and convert it to its numeric value using the map. If this value is less than the &quot;top&quot; value we&#39;ve seen so far, then it needs to be subtracting (e.g. IV needs to be 4, not 6), otherwise we add the value to the total and make it the new top value we&#39;ve seen so far. So, for instance, XIX works like follows: &#39;X&#39; is checked and comes out to be value of 10. That is higher than the &quot;top&quot; value seen so far, so it becomes &quot;top&quot; and we add 10 to the value. Then go to the next character and &quot;I&quot; is &lt; 10, so subtract\r\n\r\n\r\n\r\n    public class RomanNumeral {\r\n\r\n\tprivate final Map&lt;Integer, String&gt; arabicToRoman = new LinkedHashMap&lt;Integer, String&gt;();\r\n\tprivate final Map&lt;String, Integer&gt; romanToArabic = new LinkedHashMap&lt;String, Integer&gt;();\r\n\t\r\n\tpublic RomanNumeral() {\r\n\t\tarabicToRoman.put(10, &quot;X&quot;);\r\n\t\tarabicToRoman.put(9, &quot;IX&quot;);\r\n\t\tarabicToRoman.put(5, &quot;V&quot;);\r\n\t\tarabicToRoman.put(4, &quot;IV&quot;);\r\n\t\tarabicToRoman.put(1, &quot;I&quot;);\r\n\t\tromanToArabic.put(&quot;X&quot;, 10);\r\n\t\tromanToArabic.put(&quot;V&quot;, 5);\r\n\t\tromanToArabic.put(&quot;I&quot;, 1);\r\n\t}\r\n\t\r\n\tpublic String convertToRomanNumeral(int number) {\r\n\t\tString result = &quot;&quot;;\r\n\r\n\t\tfor (Integer i : arabicToRoman.keySet()) {\r\n\t\t\twhile (number &gt;= i) {\r\n\t\t\t\tresult += arabicToRoman.get(i);\r\n\t\t\t\tnumber -= i;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic String convertToArabicNumber(String romanNumeral) {\r\n\t\tint result = 0;\r\n\t\t\r\n\t\tint top = 0;\r\n\t\tfor (int i = romanNumeral.length() - 1; i &gt;= 0; i--) {\r\n\t\t\tchar current = romanNumeral.charAt(i);\r\n\t\t\tint value = romanToArabic.get(&quot;&quot; + current);\r\n\t\t\tif (value &lt; top) {\r\n\t\t\t\tresult -= value;\r\n\t\t\t} else {\r\n\t\t\t\tresult += value;\r\n\t\t\t\ttop = value;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;&quot; + result;\r\n\t}\r\n\r\n    }\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>For converting TO arabic, it works as follows: </p>\n\n<p>grab the rightmost unchecked character and convert it to its numeric value using the map. If this value is less than the \"top\" value we've seen so far, then it needs to be subtracting (e.g. IV needs to be 4, not 6), otherwise we add the value to the total and make it the new top value we've seen so far. So, for instance, XIX works like follows: 'X' is checked and comes out to be value of 10. That is higher than the \"top\" value seen so far, so it becomes \"top\" and we add 10 to the value. Then go to the next character and \"I\" is &lt; 10, so subtract</p>\n\n<pre><code>public class RomanNumeral {\n\nprivate final Map&lt;Integer, String&gt; arabicToRoman = new LinkedHashMap&lt;Integer, String&gt;();\nprivate final Map&lt;String, Integer&gt; romanToArabic = new LinkedHashMap&lt;String, Integer&gt;();\n\npublic RomanNumeral() {\n    arabicToRoman.put(10, \"X\");\n    arabicToRoman.put(9, \"IX\");\n    arabicToRoman.put(5, \"V\");\n    arabicToRoman.put(4, \"IV\");\n    arabicToRoman.put(1, \"I\");\n    romanToArabic.put(\"X\", 10);\n    romanToArabic.put(\"V\", 5);\n    romanToArabic.put(\"I\", 1);\n}\n\npublic String convertToRomanNumeral(int number) {\n    String result = \"\";\n\n    for (Integer i : arabicToRoman.keySet()) {\n        while (number &gt;= i) {\n            result += arabicToRoman.get(i);\n            number -= i;\n        }\n    }\n\n    return result;\n}\n\npublic String convertToArabicNumber(String romanNumeral) {\n    int result = 0;\n\n    int top = 0;\n    for (int i = romanNumeral.length() - 1; i &gt;= 0; i--) {\n        char current = romanNumeral.charAt(i);\n        int value = romanToArabic.get(\"\" + current);\n        if (value &lt; top) {\n            result -= value;\n        } else {\n            result += value;\n            top = value;\n        }\n    }\n\n    return \"\" + result;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4937542,"reputation":1568,"user_id":3975247,"accept_rate":68,"display_name":"GA1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492001109,"creation_date":1492001109,"answer_id":43369934,"question_id":9073150,"body_markdown":"This `scala` solution might be useful:\r\n    \r\n    \r\n    class RomanNumberConverter {\r\n    \r\n      private val toArabic = Map(&#39;I&#39; -&gt; 1, &#39;V&#39; -&gt; 5, &#39;X&#39; -&gt; 10, &#39;L&#39; -&gt; 50, &#39;C&#39; -&gt; 100, &#39;D&#39; -&gt; 500, &#39;M&#39; -&gt; 1000)\r\n\r\n      // assume that correct roman number is provided\r\n      def convert(romanNumber: String): Int = {\r\n        def convert(rn: StringBuilder, lastDecimal: Int, acc: Int): Int = {\r\n          if (rn.isEmpty) acc\r\n          else {\r\n            val thisDecimal = toArabic(rn.head)\r\n            if (thisDecimal &gt; lastDecimal) convert(rn.tail, thisDecimal, acc + thisDecimal - lastDecimal - lastDecimal)\r\n            else convert(rn.tail, thisDecimal, acc + thisDecimal)\r\n          }\r\n        }\r\n    \r\n        val sb = new StringBuilder(romanNumber)\r\n        convert(sb.tail, toArabic(sb.head), toArabic(sb.head))\r\n      }\r\n    \r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>This <code>scala</code> solution might be useful:</p>\n\n<pre><code>class RomanNumberConverter {\n\n  private val toArabic = Map('I' -&gt; 1, 'V' -&gt; 5, 'X' -&gt; 10, 'L' -&gt; 50, 'C' -&gt; 100, 'D' -&gt; 500, 'M' -&gt; 1000)\n\n  // assume that correct roman number is provided\n  def convert(romanNumber: String): Int = {\n    def convert(rn: StringBuilder, lastDecimal: Int, acc: Int): Int = {\n      if (rn.isEmpty) acc\n      else {\n        val thisDecimal = toArabic(rn.head)\n        if (thisDecimal &gt; lastDecimal) convert(rn.tail, thisDecimal, acc + thisDecimal - lastDecimal - lastDecimal)\n        else convert(rn.tail, thisDecimal, acc + thisDecimal)\n      }\n    }\n\n    val sb = new StringBuilder(romanNumber)\n    convert(sb.tail, toArabic(sb.head), toArabic(sb.head))\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426075,"reputation":1013,"user_id":807077,"display_name":"Michelin Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521132814,"creation_date":1521132814,"answer_id":49305074,"question_id":9073150,"body_markdown":"Solution using tail recursion:\r\n\r\n    import java.util.LinkedHashMap;\r\n\r\n    public class RomanNumber {\r\n\r\n    private final static LinkedHashMap&lt;String, Integer&gt; roman2number = new LinkedHashMap&lt;&gt;(); // preserve key order\r\n\r\n    static {\r\n        roman2number.put(&quot;M&quot;, 1000);\r\n        roman2number.put(&quot;CM&quot;, 900);\r\n        roman2number.put(&quot;D&quot;, 500);\r\n        roman2number.put(&quot;CD&quot;, 400);\r\n        roman2number.put(&quot;C&quot;, 100);\r\n        roman2number.put(&quot;XC&quot;, 90);\r\n        roman2number.put(&quot;L&quot;, 50);\r\n        roman2number.put(&quot;XL&quot;, 40);\r\n        roman2number.put(&quot;X&quot;, 10);\r\n        roman2number.put(&quot;IX&quot;, 9);\r\n        roman2number.put(&quot;V&quot;, 5);\r\n        roman2number.put(&quot;IV&quot;, 4);\r\n        roman2number.put(&quot;I&quot;, 1);\r\n    }\r\n\r\n    public final static Integer toDecimal(String roman) {\r\n        for (String key : roman2number.keySet()) {\r\n            if (roman.startsWith(key)) {\r\n                if (roman.equals(key)) {\r\n                    return roman2number.get(key);\r\n                }\r\n                return roman2number.get(key) + toDecimal(roman.substring(key.length()));\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    }\r\n\r\nTesting:\r\n\r\n    import junitparams.JUnitParamsRunner;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import junitparams.Parameters;\r\n    import static org.junit.Assert.assertTrue;\r\n\r\n    @RunWith(JUnitParamsRunner.class)\r\n    public class RomanNumberTest {\r\n\r\n    @Test\r\n    @Parameters({ &quot;1|I&quot;, &quot;2|II&quot;, &quot;3|III&quot;, &quot;4|IV&quot;, &quot;5|V&quot;, &quot;6|VI&quot;, &quot;7|VII&quot;, &quot;8|VIII&quot;, &quot;9|IX&quot;, &quot;10|X&quot;,\r\n            &quot;11|XI&quot;, &quot;12|XII&quot;, &quot;13|XIII&quot;, &quot;14|XIV&quot;, &quot;15|XV&quot;, &quot;16|XVI&quot;, &quot;17|XVII&quot;, &quot;18|XVIII&quot;, &quot;19|XIX&quot;,\r\n            &quot;20|XX&quot;, &quot;50|L&quot;, &quot;53|LIII&quot;, &quot;57|LVII&quot;, &quot;40|XL&quot;, &quot;49|XLIX&quot;, &quot;59|LIX&quot;, &quot;79|LXXIX&quot;, &quot;100|C&quot;, &quot;90|XC&quot;, &quot;99|XCIX&quot;,\r\n            &quot;200|CC&quot;, &quot;500|D&quot;, &quot;499|CDXCIX&quot;, &quot;999|CMXCIX&quot;, &quot;2999|MMCMXCIX&quot;, &quot;3999|MMMCMXCIX&quot;\r\n    })\r\n    public void forRomanReturnsNumber(int number, String roman) {\r\n        assertTrue(roman + &quot;-&gt;&quot; + number, RomanNumber.toDecimal(roman) == (number));\r\n    }\r\n\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>Solution using tail recursion:</p>\n\n<pre><code>import java.util.LinkedHashMap;\n\npublic class RomanNumber {\n\nprivate final static LinkedHashMap&lt;String, Integer&gt; roman2number = new LinkedHashMap&lt;&gt;(); // preserve key order\n\nstatic {\n    roman2number.put(\"M\", 1000);\n    roman2number.put(\"CM\", 900);\n    roman2number.put(\"D\", 500);\n    roman2number.put(\"CD\", 400);\n    roman2number.put(\"C\", 100);\n    roman2number.put(\"XC\", 90);\n    roman2number.put(\"L\", 50);\n    roman2number.put(\"XL\", 40);\n    roman2number.put(\"X\", 10);\n    roman2number.put(\"IX\", 9);\n    roman2number.put(\"V\", 5);\n    roman2number.put(\"IV\", 4);\n    roman2number.put(\"I\", 1);\n}\n\npublic final static Integer toDecimal(String roman) {\n    for (String key : roman2number.keySet()) {\n        if (roman.startsWith(key)) {\n            if (roman.equals(key)) {\n                return roman2number.get(key);\n            }\n            return roman2number.get(key) + toDecimal(roman.substring(key.length()));\n        }\n    }\n    return 0;\n}\n}\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>import junitparams.JUnitParamsRunner;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport junitparams.Parameters;\nimport static org.junit.Assert.assertTrue;\n\n@RunWith(JUnitParamsRunner.class)\npublic class RomanNumberTest {\n\n@Test\n@Parameters({ \"1|I\", \"2|II\", \"3|III\", \"4|IV\", \"5|V\", \"6|VI\", \"7|VII\", \"8|VIII\", \"9|IX\", \"10|X\",\n        \"11|XI\", \"12|XII\", \"13|XIII\", \"14|XIV\", \"15|XV\", \"16|XVI\", \"17|XVII\", \"18|XVIII\", \"19|XIX\",\n        \"20|XX\", \"50|L\", \"53|LIII\", \"57|LVII\", \"40|XL\", \"49|XLIX\", \"59|LIX\", \"79|LXXIX\", \"100|C\", \"90|XC\", \"99|XCIX\",\n        \"200|CC\", \"500|D\", \"499|CDXCIX\", \"999|CMXCIX\", \"2999|MMCMXCIX\", \"3999|MMMCMXCIX\"\n})\npublic void forRomanReturnsNumber(int number, String roman) {\n    assertTrue(roman + \"-&gt;\" + number, RomanNumber.toDecimal(roman) == (number));\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11436891,"reputation":189,"user_id":8384017,"accept_rate":0,"display_name":"salma209"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527879905,"creation_date":1527879905,"answer_id":50649684,"question_id":9073150,"body_markdown":"Here is my one...\r\n\r\n\r\n    import java.util.Scanner;\r\n    class Solution {\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n         Scanner sc = new Scanner(System.in);\r\n\r\n        String num;\r\n\r\n       //  System.out.println(&quot;enter the number you want to convert from roman to integer.&quot;);\r\n\r\n         num = &quot;D&quot;;\r\n        System.out.println(&quot;length of string is &quot; + num.length());\r\n\r\n        System.out.println(&quot;the integer number is :&quot; + romanToInt(num) );\r\n    }\r\n   \r\n    public static int romanToInt(String s) {\r\n      \r\n        char I,V, X, L,C, D, M;\r\n        \r\n        char c1,c3, c2 = s.charAt(0);\r\n       // System.out.println(&quot;the c2 is : &quot; + (int)c2);\r\n        int num = 0, num1 = 0;\r\n        int j =0, k = 0, temp = 0;\r\n        \r\n         if (c2 == &#39;I&#39;) {\r\n                k = (int)c2 - 72;\r\n                System.out.println(&quot;k is I&quot; + k);\r\n            } else if(c2 == &#39;V&#39;) {\r\n                k = (int)c2 - 81;\r\n                System.out.println(&quot;K is V&quot; + k);\r\n               // return 86 - 81;\r\n            } else if (c2 == &#39;X&#39;) {\r\n                 k = (int)c2 - 78;\r\n                System.out.println(&quot;K is X&quot; + k);\r\n            } else if (c2 == &#39;L&#39;) {\r\n                k = (int)c2 - 26;\r\n                System.out.println(&quot;K is L&quot; + k);\r\n            } else if (c2 == &#39;C&#39;) {\r\n                k = (int)c2 + 33;\r\n                System.out.println(&quot;K is C&quot; + k);\r\n            } else if (c2 == &#39;D&#39;) {\r\n                 k = (int)c2 + 432;\r\n                System.out.println(&quot;K is D&quot; + k);\r\n            } else if ( c2 == &#39;M&#39;) {\r\n                 k = (int)c2 + 923;\r\n                System.out.println(&quot;K is M&quot; + k);\r\n            }\r\n         if (s.length() == 1){\r\n             num = k;\r\n           \r\n         } else {\r\n               for(int i = 1; i&lt;= s.length()-1  ; i++) {\r\n            System.out.println(&quot;i is : &quot; + i);\r\n             c1 = s.charAt(i);\r\n            if (i == s.length() - 1) {\r\n               temp = 0; \r\n            } else  {\r\n                 c3 = s.charAt(i+1);\r\n                 if (c3 == &#39;I&#39;) {\r\n               \r\n                temp = (int)c3 - 72;\r\n                System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if(c3 == &#39;V&#39;) {\r\n                temp = (int)c3 - 81;\r\n                System.out.println(&quot;temp is I &quot; + temp);\r\n               // return 86 - 81;\r\n            } else if (c3 == &#39;X&#39;) {\r\n                 temp = (int)c3 - 78;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if (c3 == &#39;L&#39;) {\r\n                temp = (int)c3 - 26;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if (c3 == &#39;C&#39;) {\r\n                temp = (int)c3 + 33;\r\n                System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if (c3 == &#39;D&#39;) {\r\n                 temp = (int)c3 + 432;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            } else if ( c3 == &#39;M&#39;) {\r\n                 temp = (int)c3 + 923;\r\n                 System.out.println(&quot;temp is I &quot; + temp);\r\n            }\r\n            }\r\n           \r\n             \r\n            if (c1 == &#39;I&#39;) {\r\n               \r\n                j = (int)c1 - 72;\r\n                System.out.println(&quot;j is I &quot; + j);\r\n            } else if(c1 == &#39;V&#39;) {\r\n                j = (int)c1 - 81;\r\n                System.out.println(&quot;j is V &quot; + j);\r\n               // return 86 - 81;\r\n            } else if (c1 == &#39;X&#39;) {\r\n                 j = (int)c1 - 78;\r\n                System.out.println(&quot;j is X &quot; + j);\r\n            } else if (c1 == &#39;L&#39;) {\r\n                j = (int)c1 - 26;\r\n                System.out.println(&quot;j is L &quot; + j);\r\n            } else if (c1 == &#39;C&#39;) {\r\n                j = (int)c1 + 33;\r\n                System.out.println(&quot;j is C &quot; + j);\r\n            } else if (c1 == &#39;D&#39;) {\r\n                 j = (int)c1 + 432;\r\n                System.out.println(&quot;j is D &quot; + j);\r\n            } else if ( c1 == &#39;M&#39;) {\r\n                 j = (int)c1 + 923;\r\n                System.out.println(&quot;j is M &quot; + j);\r\n            }\r\n    \r\n            if ( k &lt; j &amp;&amp; j&gt;temp ) {\r\n               k = j - k ;\r\n              num = num + k;\r\n          \r\n              \r\n            } else if (j==k || j&lt;k || j&lt;temp){\r\n             \r\n                   num = num + k ; \r\n               //   k = j;\r\n            }\r\n            \r\n            if (j&gt;k ) {\r\n                k = temp;\r\n                i += 1;\r\n              \r\n                if (i == s.length()-1) {\r\n                    num = num + k;\r\n                }\r\n            } else {\r\n                k = j;\r\n                if (i == s.length()-1) {\r\n                    num = num + k;\r\n                }\r\n            \r\n            }\r\n       \r\n            \r\n        \r\n         }\r\n           \r\n      }   \r\n        \r\n        return num;                         \r\n       }\r\n    \r\n    }\r\n\r\n","title":"Converting Roman Numerals To Decimal","body":"<p>Here is my one...</p>\n\n<pre><code>import java.util.Scanner;\nclass Solution {\n\npublic static void main(String args[]) {\n\n     Scanner sc = new Scanner(System.in);\n\n    String num;\n\n   //  System.out.println(\"enter the number you want to convert from roman to integer.\");\n\n     num = \"D\";\n    System.out.println(\"length of string is \" + num.length());\n\n    System.out.println(\"the integer number is :\" + romanToInt(num) );\n}\n\npublic static int romanToInt(String s) {\n\n    char I,V, X, L,C, D, M;\n\n    char c1,c3, c2 = s.charAt(0);\n   // System.out.println(\"the c2 is : \" + (int)c2);\n    int num = 0, num1 = 0;\n    int j =0, k = 0, temp = 0;\n\n     if (c2 == 'I') {\n            k = (int)c2 - 72;\n            System.out.println(\"k is I\" + k);\n        } else if(c2 == 'V') {\n            k = (int)c2 - 81;\n            System.out.println(\"K is V\" + k);\n           // return 86 - 81;\n        } else if (c2 == 'X') {\n             k = (int)c2 - 78;\n            System.out.println(\"K is X\" + k);\n        } else if (c2 == 'L') {\n            k = (int)c2 - 26;\n            System.out.println(\"K is L\" + k);\n        } else if (c2 == 'C') {\n            k = (int)c2 + 33;\n            System.out.println(\"K is C\" + k);\n        } else if (c2 == 'D') {\n             k = (int)c2 + 432;\n            System.out.println(\"K is D\" + k);\n        } else if ( c2 == 'M') {\n             k = (int)c2 + 923;\n            System.out.println(\"K is M\" + k);\n        }\n     if (s.length() == 1){\n         num = k;\n\n     } else {\n           for(int i = 1; i&lt;= s.length()-1  ; i++) {\n        System.out.println(\"i is : \" + i);\n         c1 = s.charAt(i);\n        if (i == s.length() - 1) {\n           temp = 0; \n        } else  {\n             c3 = s.charAt(i+1);\n             if (c3 == 'I') {\n\n            temp = (int)c3 - 72;\n            System.out.println(\"temp is I \" + temp);\n        } else if(c3 == 'V') {\n            temp = (int)c3 - 81;\n            System.out.println(\"temp is I \" + temp);\n           // return 86 - 81;\n        } else if (c3 == 'X') {\n             temp = (int)c3 - 78;\n             System.out.println(\"temp is I \" + temp);\n        } else if (c3 == 'L') {\n            temp = (int)c3 - 26;\n             System.out.println(\"temp is I \" + temp);\n        } else if (c3 == 'C') {\n            temp = (int)c3 + 33;\n            System.out.println(\"temp is I \" + temp);\n        } else if (c3 == 'D') {\n             temp = (int)c3 + 432;\n             System.out.println(\"temp is I \" + temp);\n        } else if ( c3 == 'M') {\n             temp = (int)c3 + 923;\n             System.out.println(\"temp is I \" + temp);\n        }\n        }\n\n\n        if (c1 == 'I') {\n\n            j = (int)c1 - 72;\n            System.out.println(\"j is I \" + j);\n        } else if(c1 == 'V') {\n            j = (int)c1 - 81;\n            System.out.println(\"j is V \" + j);\n           // return 86 - 81;\n        } else if (c1 == 'X') {\n             j = (int)c1 - 78;\n            System.out.println(\"j is X \" + j);\n        } else if (c1 == 'L') {\n            j = (int)c1 - 26;\n            System.out.println(\"j is L \" + j);\n        } else if (c1 == 'C') {\n            j = (int)c1 + 33;\n            System.out.println(\"j is C \" + j);\n        } else if (c1 == 'D') {\n             j = (int)c1 + 432;\n            System.out.println(\"j is D \" + j);\n        } else if ( c1 == 'M') {\n             j = (int)c1 + 923;\n            System.out.println(\"j is M \" + j);\n        }\n\n        if ( k &lt; j &amp;&amp; j&gt;temp ) {\n           k = j - k ;\n          num = num + k;\n\n\n        } else if (j==k || j&lt;k || j&lt;temp){\n\n               num = num + k ; \n           //   k = j;\n        }\n\n        if (j&gt;k ) {\n            k = temp;\n            i += 1;\n\n            if (i == s.length()-1) {\n                num = num + k;\n            }\n        } else {\n            k = j;\n            if (i == s.length()-1) {\n                num = num + k;\n            }\n\n        }\n\n\n\n     }\n\n  }   \n\n    return num;                         \n   }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11176081,"reputation":517,"user_id":8201635,"display_name":"B. Stackhouse"},"score":0,"creation_date":1587853679,"post_id":51317502,"comment_id":108674334,"body_markdown":"The convention for larger Roman numbers is to put a bar over the letter to denote 1,000X. Because this isn&#39;t convenient on a computer, you could put an underscore before the letter. EG. _X would be 10,000. With this code it is trivial to add mapRoman.add(new RomanDigit(&quot;_M&quot;, 1_000_000, 1, 1_000_000)); and mapArabic.put(1_000_000, &quot;_M&quot;); for values: _M, _D, _C, _L, _X, _V. The checks for value &gt; 3999 also need to be removed.","body":"The convention for larger Roman numbers is to put a bar over the letter to denote 1,000X. Because this isn&#39;t convenient on a computer, you could put an underscore before the letter. EG. _X would be 10,000. With this code it is trivial to add mapRoman.add(new RomanDigit(&quot;_M&quot;, 1_000_000, 1, 1_000_000)); and mapArabic.put(1_000_000, &quot;_M&quot;); for values: _M, _D, _C, _L, _X, _V. The checks for value &gt; 3999 also need to be removed."}],"tags":[],"owner":{"account_id":1289085,"reputation":474,"user_id":1241541,"accept_rate":46,"display_name":"redgiant"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531454866,"creation_date":1531454866,"answer_id":51317502,"question_id":9073150,"body_markdown":"Full version with error checking and test all valid values in both directions (and some invalid cases).\r\n\r\n**RomanNumeral.java**\r\n \r\n    import java.util.ArrayList;\r\n    import java.util.TreeMap;\r\n    \r\n    /**\r\n     * Convert to and from a roman numeral string\r\n     */\r\n    public class RomanNumeral {\r\n    \r\n        // used for converting from arabic number\r\n        final static TreeMap&lt;Integer, String&gt; mapArabic = new TreeMap&lt;Integer, String&gt;();\r\n        // used for converting from roman numeral\r\n        final static ArrayList&lt;RomanDigit&gt; mapRoman = new ArrayList&lt;RomanDigit&gt;();\r\n        final static int MAX_ARABIC = 3999;\r\n    \r\n        static {\r\n            mapArabic.put(1000, &quot;M&quot;);\r\n            mapArabic.put(900, &quot;CM&quot;);\r\n            mapArabic.put(500, &quot;D&quot;);\r\n            mapArabic.put(400, &quot;CD&quot;);\r\n            mapArabic.put(100, &quot;C&quot;);\r\n            mapArabic.put(90, &quot;XC&quot;);\r\n            mapArabic.put(50, &quot;L&quot;);\r\n            mapArabic.put(40, &quot;XL&quot;);\r\n            mapArabic.put(10, &quot;X&quot;);\r\n            mapArabic.put(9, &quot;IX&quot;);\r\n            mapArabic.put(5, &quot;V&quot;);\r\n            mapArabic.put(4, &quot;IV&quot;);\r\n            mapArabic.put(1, &quot;I&quot;);\r\n    \r\n            mapRoman.add(new RomanDigit(&quot;M&quot;, 1000, 3, 1000));\r\n            mapRoman.add(new RomanDigit(&quot;CM&quot;, 900, 1, 90));\r\n            mapRoman.add(new RomanDigit(&quot;D&quot;, 500, 1, 100));\r\n            mapRoman.add(new RomanDigit(&quot;CD&quot;, 400, 1, 90));\r\n            mapRoman.add(new RomanDigit(&quot;C&quot;, 100, 3, 100));\r\n            mapRoman.add(new RomanDigit(&quot;XC&quot;, 90, 1, 9));\r\n            mapRoman.add(new RomanDigit(&quot;L&quot;, 50, 1, 10));\r\n            mapRoman.add(new RomanDigit(&quot;XL&quot;, 40, 1, 9));\r\n            mapRoman.add(new RomanDigit(&quot;X&quot;, 10, 3, 10));\r\n            mapRoman.add(new RomanDigit(&quot;IX&quot;, 9, 1, 0));\r\n            mapRoman.add(new RomanDigit(&quot;V&quot;, 5, 1, 1));\r\n            mapRoman.add(new RomanDigit(&quot;IV&quot;, 4, 1, 0));\r\n            mapRoman.add(new RomanDigit(&quot;I&quot;, 1, 3, 1));\r\n        }\r\n    \r\n        static final class RomanDigit {\r\n            public final String numeral;\r\n            public final int value;\r\n            public final int maxConsecutive;\r\n            public final int maxNextValue;\r\n    \r\n            public RomanDigit(String numeral, int value, int maxConsecutive, int maxNextValue) {\r\n                this.numeral = numeral;\r\n                this.value = value;\r\n                this.maxConsecutive = maxConsecutive;\r\n                this.maxNextValue = maxNextValue;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Convert an arabic integer value into a roman numeral string\r\n         *\r\n         * @param n The arabic integer value\r\n         * @return The roman numeral string\r\n         */\r\n        public final static String toRoman(int n) {\r\n            if (n &lt; 1 || n &gt; MAX_ARABIC) {\r\n                throw new NumberFormatException(String.format(&quot;Invalid arabic value: %d, must be &gt; 0 and &lt; %d&quot;, n, MAX_ARABIC));\r\n            }\r\n    \r\n            int leDigit = mapArabic.floorKey(n);\r\n            //System.out.println(&quot;\\t*** floor of &quot; + n + &quot; is &quot; + leDigit);\r\n            if (n == leDigit) {\r\n                return mapArabic.get(leDigit);\r\n            }\r\n            return mapArabic.get(leDigit) + toRoman(n - leDigit);\r\n        }\r\n    \r\n        /**\r\n         * Convert a roman numeral string into an arabic integer value\r\n         * @param s The roman numeral string\r\n         * @return The arabic integer value\r\n         */\r\n        public final static int toInt(String s) throws NumberFormatException {\r\n            if (s == null || s.length() == 0) {\r\n                throw new NumberFormatException(&quot;Invalid roman numeral: a non-empty and non-null value must be given&quot;);\r\n            }\r\n    \r\n            int i = 0;\r\n            int iconsecutive = 0; // number of consecutive same digits\r\n            int pos = 0;\r\n            int sum = 0;\r\n            RomanDigit prevDigit = null;\r\n    \r\n            while (pos &lt; s.length()) {\r\n    \r\n                RomanDigit d = mapRoman.get(i);\r\n                if (!s.startsWith(mapRoman.get(i).numeral, pos)) {\r\n                    i++;\r\n                    // this is the only place we advance which digit we are checking,\r\n                    // so if it exhausts the digits, then there is clearly a digit sequencing error or invalid digit\r\n                    if (i == mapRoman.size()) {\r\n                        throw new NumberFormatException(\r\n                                String.format(&quot;Invalid roman numeral at pos %d: invalid sequence &#39;%s&#39; following digit &#39;%s&#39;&quot;,\r\n                                        pos, s.substring(pos), prevDigit != null ? prevDigit.numeral : &quot;&quot;));\r\n                    }\r\n                    iconsecutive = 0;\r\n                    continue;\r\n                }\r\n    \r\n                // we now have the match for the next roman numeral digit to check\r\n                iconsecutive++;\r\n                if (iconsecutive &gt; d.maxConsecutive) {\r\n                    throw new NumberFormatException(\r\n                            String.format(&quot;Invalid roman numeral at pos %d: more than %d consecutive occurences of digit &#39;%s&#39;&quot;,\r\n                                    pos, d.maxConsecutive, d.numeral));\r\n                }\r\n    \r\n                // invalid to encounter a higher digit sequence than the previous digit expects to have follow it\r\n                // (any digit is valid to start a roman numeral - i.e. when prevDigit == null)\r\n                if (prevDigit != null &amp;&amp; prevDigit.maxNextValue &lt; d.value) {\r\n                    throw new NumberFormatException(\r\n                            String.format(&quot;Invalid roman numeral at pos %d: &#39;%s&#39; cannot follow &#39;%s&#39;&quot;,\r\n                                    pos, d.numeral, prevDigit.numeral));\r\n                }\r\n    \r\n                // good to sum\r\n                sum += d.value;\r\n                if (sum &gt; MAX_ARABIC) {\r\n                    throw new NumberFormatException(\r\n                            String.format(&quot;Invalid roman numeral at pos %d: adding &#39;%s&#39; exceeds the max value of %d&quot;,\r\n                                    pos, d.numeral, MAX_ARABIC));\r\n                }\r\n                pos += d.numeral.length();\r\n                prevDigit = d;\r\n            }\r\n    \r\n            return sum;\r\n        }\r\n    }\r\n\r\n**Main.java**\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;TEST arabic integer =&gt; roman numeral string&quot;);\r\n            for (int i = 0; i&lt;= 4000; i++) {\r\n                String s;\r\n                try {\r\n                    s = RomanNumeral.toRoman(i);\r\n                }\r\n                catch(NumberFormatException ex) {\r\n                    s = ex.getMessage();\r\n                }\r\n                System.out.println(i + &quot;\\t =\\t &quot; + s);\r\n            }\r\n    \r\n            System.out.println(&quot;TEST roman numeral string =&gt; arabic integer&quot;);\r\n            for (int i = 0; i&lt;= 4000; i++) {\r\n                String s;\r\n                String msg;\r\n                try {\r\n                    s = RomanNumeral.toRoman(i);\r\n                    int n = testToInt(s);\r\n                    assert(i == n); // ensure it is reflexively converting\r\n                }\r\n                catch (NumberFormatException ex) {\r\n                    System.out.println(ex.getMessage() + &quot;\\t =\\t toInt() skipped&quot;);\r\n                }\r\n            }\r\n    \r\n            testToInt(&quot;MMMM&quot;);\r\n            testToInt(&quot;XCX&quot;);\r\n            testToInt(&quot;CDC&quot;);\r\n            testToInt(&quot;IVI&quot;);\r\n            testToInt(&quot;XXC&quot;);\r\n            testToInt(&quot;CCD&quot;);\r\n            testToInt(&quot;MDD&quot;);\r\n            testToInt(&quot;DD&quot;);\r\n            testToInt(&quot;CLL&quot;);\r\n            testToInt(&quot;LL&quot;);\r\n            testToInt(&quot;IIX&quot;);\r\n            testToInt(&quot;IVX&quot;);\r\n            testToInt(&quot;IIXX&quot;);\r\n            testToInt(&quot;XCIX&quot;);\r\n            testToInt(&quot;XIWE&quot;);\r\n    \r\n            // Check validity via a regexp for laughs\r\n            String s = &quot;IX&quot;;\r\n            System.out.println(s + &quot; validity is &quot; + s.matches(&quot;M{0,3}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})&quot;));\r\n        }\r\n    \r\n        private final static int testToInt(String s) {\r\n            String msg;\r\n            int n=0;\r\n            try {\r\n                n = RomanNumeral.toInt(s);\r\n                msg = Integer.toString(n);\r\n            }\r\n            catch(NullPointerException | NumberFormatException ex) {\r\n                msg = ex.getMessage();\r\n            }\r\n    \r\n            System.out.println(s + &quot;\\t =\\t &quot; + msg);\r\n            return n;\r\n        }\r\n    }\r\n\r\n**Output**\r\n\r\n    TEST arabic integer =&gt; roman numeral string\r\n    0\t =\t Invalid arabic value: 0, must be &gt; 0 and &lt; 3999\r\n    1\t =\t I\r\n    2\t =\t II\r\n    3\t =\t III\r\n    4\t =\t IV\r\n    5\t =\t V\r\n    6\t =\t VI\r\n    7\t =\t VII\r\n    8\t =\t VIII\r\n    9\t =\t IX\r\n    10\t =\t X\r\n    ... [snip] ...\r\n    3988\t =\t MMMCMLXXXVIII\r\n    3989\t =\t MMMCMLXXXIX\r\n    3990\t =\t MMMCMXC\r\n    3991\t =\t MMMCMXCI\r\n    3992\t =\t MMMCMXCII\r\n    3993\t =\t MMMCMXCIII\r\n    3994\t =\t MMMCMXCIV\r\n    3995\t =\t MMMCMXCV\r\n    3996\t =\t MMMCMXCVI\r\n    3997\t =\t MMMCMXCVII\r\n    3998\t =\t MMMCMXCVIII\r\n    3999\t =\t MMMCMXCIX\r\n    4000\t =\t Invalid arabic value: 4000, must be &gt; 0 and &lt; 3999\r\n    TEST roman numeral string =&gt; arabic integer\r\n    Invalid arabic value: 0, must be &gt; 0 and &lt; 3999\t =\t toInt() skipped\r\n    I\t =\t 1\r\n    II\t =\t 2\r\n    III\t =\t 3\r\n    IV\t =\t 4\r\n    V\t =\t 5\r\n    VI\t =\t 6\r\n    VII\t =\t 7\r\n    VIII\t =\t 8\r\n    IX\t =\t 9\r\n    X\t =\t 10\r\n    ... [snip] ...\r\n    MMMCMLXXXVIII\t =\t 3988\r\n    MMMCMLXXXIX\t =\t 3989\r\n    MMMCMXC\t =\t 3990\r\n    MMMCMXCI\t =\t 3991\r\n    MMMCMXCII\t =\t 3992\r\n    MMMCMXCIII\t =\t 3993\r\n    MMMCMXCIV\t =\t 3994\r\n    MMMCMXCV\t =\t 3995\r\n    MMMCMXCVI\t =\t 3996\r\n    MMMCMXCVII\t =\t 3997\r\n    MMMCMXCVIII\t =\t 3998\r\n    MMMCMXCIX\t =\t 3999\r\n    Invalid arabic value: 4000, must be &gt; 0 and &lt; 3999\t =\t toInt() skipped\r\n    MMMM\t =\t Invalid roman numeral at pos 3: more than 3 consecutive occurences of digit &#39;M&#39;\r\n    XCX\t =\t Invalid roman numeral at pos 2: &#39;X&#39; cannot follow &#39;XC&#39;\r\n    CDC\t =\t Invalid roman numeral at pos 2: &#39;C&#39; cannot follow &#39;CD&#39;\r\n    IVI\t =\t Invalid roman numeral at pos 2: &#39;I&#39; cannot follow &#39;IV&#39;\r\n    XXC\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;C&#39; following digit &#39;X&#39;\r\n    CCD\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;D&#39; following digit &#39;C&#39;\r\n    MDD\t =\t Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit &#39;D&#39;\r\n    DD\t =\t Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit &#39;D&#39;\r\n    CLL\t =\t Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit &#39;L&#39;\r\n    LL\t =\t Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit &#39;L&#39;\r\n    IIX\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;X&#39; following digit &#39;I&#39;\r\n    IVX\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;X&#39; following digit &#39;IV&#39;\r\n    IIXX\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;XX&#39; following digit &#39;I&#39;\r\n    XCIX\t =\t 99\r\n    XIWE\t =\t Invalid roman numeral at pos 2: invalid sequence &#39;WE&#39; following digit &#39;I&#39;\r\n    IX validity is true","title":"Converting Roman Numerals To Decimal","body":"<p>Full version with error checking and test all valid values in both directions (and some invalid cases).</p>\n\n<p><strong>RomanNumeral.java</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.TreeMap;\n\n/**\n * Convert to and from a roman numeral string\n */\npublic class RomanNumeral {\n\n    // used for converting from arabic number\n    final static TreeMap&lt;Integer, String&gt; mapArabic = new TreeMap&lt;Integer, String&gt;();\n    // used for converting from roman numeral\n    final static ArrayList&lt;RomanDigit&gt; mapRoman = new ArrayList&lt;RomanDigit&gt;();\n    final static int MAX_ARABIC = 3999;\n\n    static {\n        mapArabic.put(1000, \"M\");\n        mapArabic.put(900, \"CM\");\n        mapArabic.put(500, \"D\");\n        mapArabic.put(400, \"CD\");\n        mapArabic.put(100, \"C\");\n        mapArabic.put(90, \"XC\");\n        mapArabic.put(50, \"L\");\n        mapArabic.put(40, \"XL\");\n        mapArabic.put(10, \"X\");\n        mapArabic.put(9, \"IX\");\n        mapArabic.put(5, \"V\");\n        mapArabic.put(4, \"IV\");\n        mapArabic.put(1, \"I\");\n\n        mapRoman.add(new RomanDigit(\"M\", 1000, 3, 1000));\n        mapRoman.add(new RomanDigit(\"CM\", 900, 1, 90));\n        mapRoman.add(new RomanDigit(\"D\", 500, 1, 100));\n        mapRoman.add(new RomanDigit(\"CD\", 400, 1, 90));\n        mapRoman.add(new RomanDigit(\"C\", 100, 3, 100));\n        mapRoman.add(new RomanDigit(\"XC\", 90, 1, 9));\n        mapRoman.add(new RomanDigit(\"L\", 50, 1, 10));\n        mapRoman.add(new RomanDigit(\"XL\", 40, 1, 9));\n        mapRoman.add(new RomanDigit(\"X\", 10, 3, 10));\n        mapRoman.add(new RomanDigit(\"IX\", 9, 1, 0));\n        mapRoman.add(new RomanDigit(\"V\", 5, 1, 1));\n        mapRoman.add(new RomanDigit(\"IV\", 4, 1, 0));\n        mapRoman.add(new RomanDigit(\"I\", 1, 3, 1));\n    }\n\n    static final class RomanDigit {\n        public final String numeral;\n        public final int value;\n        public final int maxConsecutive;\n        public final int maxNextValue;\n\n        public RomanDigit(String numeral, int value, int maxConsecutive, int maxNextValue) {\n            this.numeral = numeral;\n            this.value = value;\n            this.maxConsecutive = maxConsecutive;\n            this.maxNextValue = maxNextValue;\n        }\n    }\n\n    /**\n     * Convert an arabic integer value into a roman numeral string\n     *\n     * @param n The arabic integer value\n     * @return The roman numeral string\n     */\n    public final static String toRoman(int n) {\n        if (n &lt; 1 || n &gt; MAX_ARABIC) {\n            throw new NumberFormatException(String.format(\"Invalid arabic value: %d, must be &gt; 0 and &lt; %d\", n, MAX_ARABIC));\n        }\n\n        int leDigit = mapArabic.floorKey(n);\n        //System.out.println(\"\\t*** floor of \" + n + \" is \" + leDigit);\n        if (n == leDigit) {\n            return mapArabic.get(leDigit);\n        }\n        return mapArabic.get(leDigit) + toRoman(n - leDigit);\n    }\n\n    /**\n     * Convert a roman numeral string into an arabic integer value\n     * @param s The roman numeral string\n     * @return The arabic integer value\n     */\n    public final static int toInt(String s) throws NumberFormatException {\n        if (s == null || s.length() == 0) {\n            throw new NumberFormatException(\"Invalid roman numeral: a non-empty and non-null value must be given\");\n        }\n\n        int i = 0;\n        int iconsecutive = 0; // number of consecutive same digits\n        int pos = 0;\n        int sum = 0;\n        RomanDigit prevDigit = null;\n\n        while (pos &lt; s.length()) {\n\n            RomanDigit d = mapRoman.get(i);\n            if (!s.startsWith(mapRoman.get(i).numeral, pos)) {\n                i++;\n                // this is the only place we advance which digit we are checking,\n                // so if it exhausts the digits, then there is clearly a digit sequencing error or invalid digit\n                if (i == mapRoman.size()) {\n                    throw new NumberFormatException(\n                            String.format(\"Invalid roman numeral at pos %d: invalid sequence '%s' following digit '%s'\",\n                                    pos, s.substring(pos), prevDigit != null ? prevDigit.numeral : \"\"));\n                }\n                iconsecutive = 0;\n                continue;\n            }\n\n            // we now have the match for the next roman numeral digit to check\n            iconsecutive++;\n            if (iconsecutive &gt; d.maxConsecutive) {\n                throw new NumberFormatException(\n                        String.format(\"Invalid roman numeral at pos %d: more than %d consecutive occurences of digit '%s'\",\n                                pos, d.maxConsecutive, d.numeral));\n            }\n\n            // invalid to encounter a higher digit sequence than the previous digit expects to have follow it\n            // (any digit is valid to start a roman numeral - i.e. when prevDigit == null)\n            if (prevDigit != null &amp;&amp; prevDigit.maxNextValue &lt; d.value) {\n                throw new NumberFormatException(\n                        String.format(\"Invalid roman numeral at pos %d: '%s' cannot follow '%s'\",\n                                pos, d.numeral, prevDigit.numeral));\n            }\n\n            // good to sum\n            sum += d.value;\n            if (sum &gt; MAX_ARABIC) {\n                throw new NumberFormatException(\n                        String.format(\"Invalid roman numeral at pos %d: adding '%s' exceeds the max value of %d\",\n                                pos, d.numeral, MAX_ARABIC));\n            }\n            pos += d.numeral.length();\n            prevDigit = d;\n        }\n\n        return sum;\n    }\n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        System.out.println(\"TEST arabic integer =&gt; roman numeral string\");\n        for (int i = 0; i&lt;= 4000; i++) {\n            String s;\n            try {\n                s = RomanNumeral.toRoman(i);\n            }\n            catch(NumberFormatException ex) {\n                s = ex.getMessage();\n            }\n            System.out.println(i + \"\\t =\\t \" + s);\n        }\n\n        System.out.println(\"TEST roman numeral string =&gt; arabic integer\");\n        for (int i = 0; i&lt;= 4000; i++) {\n            String s;\n            String msg;\n            try {\n                s = RomanNumeral.toRoman(i);\n                int n = testToInt(s);\n                assert(i == n); // ensure it is reflexively converting\n            }\n            catch (NumberFormatException ex) {\n                System.out.println(ex.getMessage() + \"\\t =\\t toInt() skipped\");\n            }\n        }\n\n        testToInt(\"MMMM\");\n        testToInt(\"XCX\");\n        testToInt(\"CDC\");\n        testToInt(\"IVI\");\n        testToInt(\"XXC\");\n        testToInt(\"CCD\");\n        testToInt(\"MDD\");\n        testToInt(\"DD\");\n        testToInt(\"CLL\");\n        testToInt(\"LL\");\n        testToInt(\"IIX\");\n        testToInt(\"IVX\");\n        testToInt(\"IIXX\");\n        testToInt(\"XCIX\");\n        testToInt(\"XIWE\");\n\n        // Check validity via a regexp for laughs\n        String s = \"IX\";\n        System.out.println(s + \" validity is \" + s.matches(\"M{0,3}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})\"));\n    }\n\n    private final static int testToInt(String s) {\n        String msg;\n        int n=0;\n        try {\n            n = RomanNumeral.toInt(s);\n            msg = Integer.toString(n);\n        }\n        catch(NullPointerException | NumberFormatException ex) {\n            msg = ex.getMessage();\n        }\n\n        System.out.println(s + \"\\t =\\t \" + msg);\n        return n;\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>TEST arabic integer =&gt; roman numeral string\n0    =   Invalid arabic value: 0, must be &gt; 0 and &lt; 3999\n1    =   I\n2    =   II\n3    =   III\n4    =   IV\n5    =   V\n6    =   VI\n7    =   VII\n8    =   VIII\n9    =   IX\n10   =   X\n... [snip] ...\n3988     =   MMMCMLXXXVIII\n3989     =   MMMCMLXXXIX\n3990     =   MMMCMXC\n3991     =   MMMCMXCI\n3992     =   MMMCMXCII\n3993     =   MMMCMXCIII\n3994     =   MMMCMXCIV\n3995     =   MMMCMXCV\n3996     =   MMMCMXCVI\n3997     =   MMMCMXCVII\n3998     =   MMMCMXCVIII\n3999     =   MMMCMXCIX\n4000     =   Invalid arabic value: 4000, must be &gt; 0 and &lt; 3999\nTEST roman numeral string =&gt; arabic integer\nInvalid arabic value: 0, must be &gt; 0 and &lt; 3999  =   toInt() skipped\nI    =   1\nII   =   2\nIII  =   3\nIV   =   4\nV    =   5\nVI   =   6\nVII  =   7\nVIII     =   8\nIX   =   9\nX    =   10\n... [snip] ...\nMMMCMLXXXVIII    =   3988\nMMMCMLXXXIX  =   3989\nMMMCMXC  =   3990\nMMMCMXCI     =   3991\nMMMCMXCII    =   3992\nMMMCMXCIII   =   3993\nMMMCMXCIV    =   3994\nMMMCMXCV     =   3995\nMMMCMXCVI    =   3996\nMMMCMXCVII   =   3997\nMMMCMXCVIII  =   3998\nMMMCMXCIX    =   3999\nInvalid arabic value: 4000, must be &gt; 0 and &lt; 3999   =   toInt() skipped\nMMMM     =   Invalid roman numeral at pos 3: more than 3 consecutive occurences of digit 'M'\nXCX  =   Invalid roman numeral at pos 2: 'X' cannot follow 'XC'\nCDC  =   Invalid roman numeral at pos 2: 'C' cannot follow 'CD'\nIVI  =   Invalid roman numeral at pos 2: 'I' cannot follow 'IV'\nXXC  =   Invalid roman numeral at pos 2: invalid sequence 'C' following digit 'X'\nCCD  =   Invalid roman numeral at pos 2: invalid sequence 'D' following digit 'C'\nMDD  =   Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit 'D'\nDD   =   Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit 'D'\nCLL  =   Invalid roman numeral at pos 2: more than 1 consecutive occurences of digit 'L'\nLL   =   Invalid roman numeral at pos 1: more than 1 consecutive occurences of digit 'L'\nIIX  =   Invalid roman numeral at pos 2: invalid sequence 'X' following digit 'I'\nIVX  =   Invalid roman numeral at pos 2: invalid sequence 'X' following digit 'IV'\nIIXX     =   Invalid roman numeral at pos 2: invalid sequence 'XX' following digit 'I'\nXCIX     =   99\nXIWE     =   Invalid roman numeral at pos 2: invalid sequence 'WE' following digit 'I'\nIX validity is true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580007,"reputation":13266,"user_id":1465553,"accept_rate":68,"display_name":"Saurav Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567657032,"creation_date":1567657032,"answer_id":57798358,"question_id":9073150,"body_markdown":"**With only two if-statements**:\r\n*Check the match of first character on priority and if not matching, match the single first character*.\r\n\r\n\r\n    public class Solution {\r\n        private static TreeMap&lt;String, Integer&gt; numeralsAndVal;\r\n        static{\r\n            numeralsAndVal = new TreeMap&lt;&gt;();\r\n            numeralsAndVal.put(&quot;M&quot;, 1000);\r\n            numeralsAndVal.put(&quot;CM&quot;, 900);\r\n            numeralsAndVal.put(&quot;D&quot;, 500);\r\n            numeralsAndVal.put(&quot;CD&quot;, 400);\r\n            numeralsAndVal.put(&quot;C&quot;, 100);\r\n            numeralsAndVal.put(&quot;XC&quot;, 90);\r\n            numeralsAndVal.put(&quot;L&quot;, 50);\r\n            numeralsAndVal.put(&quot;XL&quot;, 40);\r\n            numeralsAndVal.put(&quot;X&quot;, 10);\r\n            numeralsAndVal.put(&quot;IX&quot;, 9);\r\n            numeralsAndVal.put(&quot;V&quot;, 5);\r\n            numeralsAndVal.put(&quot;IV&quot;, 4);\r\n            numeralsAndVal.put(&quot;I&quot;, 1);\r\n        }\r\n        public int romanToInt(String A) {\r\n            if (A.length() == 0) return 0;\r\n            if (A.length() &gt;= 2 &amp;&amp; numeralsAndVal.containsKey(A.substring(0, 2))){\r\n                return numeralsAndVal.get(A.substring(0, 2)) + romanToInt(A.substring(2));\r\n            }\r\n            return numeralsAndVal.get(A.substring(0, 1)) + romanToInt(A.substring(1));\r\n        }\r\n    }\r\n\r\n","title":"Converting Roman Numerals To Decimal","body":"<p><strong>With only two if-statements</strong>:\n<em>Check the match of first character on priority and if not matching, match the single first character</em>.</p>\n\n<pre><code>public class Solution {\n    private static TreeMap&lt;String, Integer&gt; numeralsAndVal;\n    static{\n        numeralsAndVal = new TreeMap&lt;&gt;();\n        numeralsAndVal.put(\"M\", 1000);\n        numeralsAndVal.put(\"CM\", 900);\n        numeralsAndVal.put(\"D\", 500);\n        numeralsAndVal.put(\"CD\", 400);\n        numeralsAndVal.put(\"C\", 100);\n        numeralsAndVal.put(\"XC\", 90);\n        numeralsAndVal.put(\"L\", 50);\n        numeralsAndVal.put(\"XL\", 40);\n        numeralsAndVal.put(\"X\", 10);\n        numeralsAndVal.put(\"IX\", 9);\n        numeralsAndVal.put(\"V\", 5);\n        numeralsAndVal.put(\"IV\", 4);\n        numeralsAndVal.put(\"I\", 1);\n    }\n    public int romanToInt(String A) {\n        if (A.length() == 0) return 0;\n        if (A.length() &gt;= 2 &amp;&amp; numeralsAndVal.containsKey(A.substring(0, 2))){\n            return numeralsAndVal.get(A.substring(0, 2)) + romanToInt(A.substring(2));\n        }\n        return numeralsAndVal.get(A.substring(0, 1)) + romanToInt(A.substring(1));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580937501,"creation_date":1580937501,"answer_id":60084263,"question_id":9073150,"body_markdown":"Despite the fact that a lot of solutions have been already proposed.\r\n\r\nI guess that the following one will be short and clear:\r\n\r\n    public class RomanToInteger {\r\n        public static int romanToInt(String roman) {\r\n            final Map&lt;Character, Integer&gt; map = Map.of(&#39;I&#39;, 1,\r\n                    &#39;V&#39;, 5,\r\n                    &#39;X&#39;, 10,\r\n                    &#39;L&#39;, 50,\r\n                    &#39;C&#39;, 100,\r\n                    &#39;D&#39;, 500,\r\n                    &#39;M&#39;, 1000);\r\n    \r\n            int result = 0;\r\n            for (int index = 0; index &lt; roman.length(); index++) {\r\n                final int curNumber = map.get(roman.charAt(index));\r\n    \r\n                if (index &gt; 0 &amp;&amp; curNumber &gt; map.get(roman.charAt(index - 1))) {\r\n                    // add current number &amp; remove previous one twice:\r\n                    // first: we add it before (when it was current number) and removing it for this current number\r\n                    // second: for correct conversion to roman numbers\r\n                    result += curNumber - 2 * map.get(roman.charAt(index - 1));\r\n                } else {\r\n                    result += curNumber;\r\n                }\r\n            }\r\n            System.out.printf(&quot;%8s -&gt; %4d\\n&quot;, roman, result);\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String[] romans = {&quot;I&quot;, &quot;II&quot;, &quot;III&quot;, &quot;V&quot;, &quot;X&quot;, &quot;XIV&quot;, &quot;XVII&quot;, &quot;XX&quot;, &quot;XXV&quot;,\r\n                    &quot;XXX&quot;, &quot;XXXVIII&quot;, &quot;XLIX&quot;, &quot;LXIII&quot;, &quot;LXXXI&quot;, &quot;XCVII&quot;, &quot;XCVIII&quot;, &quot;XCIX&quot;,\r\n                    &quot;C&quot;, &quot;CI&quot;, &quot;CCXLVIII&quot;, &quot;CCLIII&quot;, &quot;DCCXCIX&quot;, &quot;MCCCXXV&quot;, &quot;MCM&quot;, &quot;MM&quot;,\r\n                    &quot;MMCDLVI&quot;, &quot;MDCCXV&quot;};\r\n    \r\n            final Instant startTimeIter = Instant.now();\r\n            for (String roman : romans) {\r\n                romanToInt(roman);\r\n            }\r\n            final Instant endTimeIter = Instant.now();\r\n    \r\n            System.out.printf(&quot;Elapsed time: %d ms\\n&quot;, Duration.between(startTimeIter, endTimeIter).toMillis());\r\n        }\r\n    }\r\n\r\n***Output:***\r\n\r\n           I -&gt;    1\r\n          II -&gt;    2\r\n         III -&gt;    3\r\n         ...\r\n     MMCDLVI -&gt; 2456\r\n      MDCCXV -&gt; 1715\r\n    Elapsed time: 101 ms\r\n\r\nLogic is quite simple we just go from left to right through roman literal:\r\n\r\n- if a literal isn&#39;t first and the previous one is lower -&gt; we have to add current number to total &amp; extract the previous number twice. First time what we added this at the previous step (when it was current number). Second because it is a rule of roman literals conversion (like `IX` literal).\r\n- otherwise, just add it to the total result.","title":"Converting Roman Numerals To Decimal","body":"<p>Despite the fact that a lot of solutions have been already proposed.</p>\n\n<p>I guess that the following one will be short and clear:</p>\n\n<pre><code>public class RomanToInteger {\n    public static int romanToInt(String roman) {\n        final Map&lt;Character, Integer&gt; map = Map.of('I', 1,\n                'V', 5,\n                'X', 10,\n                'L', 50,\n                'C', 100,\n                'D', 500,\n                'M', 1000);\n\n        int result = 0;\n        for (int index = 0; index &lt; roman.length(); index++) {\n            final int curNumber = map.get(roman.charAt(index));\n\n            if (index &gt; 0 &amp;&amp; curNumber &gt; map.get(roman.charAt(index - 1))) {\n                // add current number &amp; remove previous one twice:\n                // first: we add it before (when it was current number) and removing it for this current number\n                // second: for correct conversion to roman numbers\n                result += curNumber - 2 * map.get(roman.charAt(index - 1));\n            } else {\n                result += curNumber;\n            }\n        }\n        System.out.printf(\"%8s -&gt; %4d\\n\", roman, result);\n        return result;\n    }\n\n    public static void main(String[] args) {\n        String[] romans = {\"I\", \"II\", \"III\", \"V\", \"X\", \"XIV\", \"XVII\", \"XX\", \"XXV\",\n                \"XXX\", \"XXXVIII\", \"XLIX\", \"LXIII\", \"LXXXI\", \"XCVII\", \"XCVIII\", \"XCIX\",\n                \"C\", \"CI\", \"CCXLVIII\", \"CCLIII\", \"DCCXCIX\", \"MCCCXXV\", \"MCM\", \"MM\",\n                \"MMCDLVI\", \"MDCCXV\"};\n\n        final Instant startTimeIter = Instant.now();\n        for (String roman : romans) {\n            romanToInt(roman);\n        }\n        final Instant endTimeIter = Instant.now();\n\n        System.out.printf(\"Elapsed time: %d ms\\n\", Duration.between(startTimeIter, endTimeIter).toMillis());\n    }\n}\n</code></pre>\n\n<p><strong><em>Output:</em></strong></p>\n\n<pre><code>       I -&gt;    1\n      II -&gt;    2\n     III -&gt;    3\n     ...\n MMCDLVI -&gt; 2456\n  MDCCXV -&gt; 1715\nElapsed time: 101 ms\n</code></pre>\n\n<p>Logic is quite simple we just go from left to right through roman literal:</p>\n\n<ul>\n<li>if a literal isn't first and the previous one is lower -> we have to add current number to total &amp; extract the previous number twice. First time what we added this at the previous step (when it was current number). Second because it is a rule of roman literals conversion (like <code>IX</code> literal).</li>\n<li>otherwise, just add it to the total result.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6263639,"reputation":529,"user_id":4870045,"display_name":"Imar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596390533,"creation_date":1596389941,"answer_id":63219182,"question_id":9073150,"body_markdown":"An easy solution for input in the range from 1 to 3999.\r\n\r\n        private static final Map&lt;String, Integer&gt; MAPPING = new HashMap&lt;&gt;() {{\r\n        put(&quot;I&quot;, 1);\r\n        put(&quot;V&quot;, 5);\r\n        put(&quot;X&quot;, 10);\r\n        put(&quot;L&quot;, 50);\r\n        put(&quot;C&quot;, 100);\r\n        put(&quot;D&quot;, 500);\r\n        put(&quot;M&quot;, 1000);\r\n        put(&quot;IV&quot;, 4);\r\n        put(&quot;IX&quot;, 9);\r\n        put(&quot;XL&quot;, 40);\r\n        put(&quot;XC&quot;, 90);\r\n        put(&quot;CD&quot;, 400);\r\n        put(&quot;CM&quot;, 900);\r\n    }};\r\n\r\n    public static int romanToInt(String s) {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (i &lt; s.length() - 1 &amp;&amp; MAPPING.containsKey(String.valueOf(s.charAt(i)) + s.charAt(i + 1))) {\r\n                sum += MAPPING.get(String.valueOf(s.charAt(i)) + s.charAt(i + 1));\r\n                i++;\r\n            } else {\r\n                sum += MAPPING.get(String.valueOf(s.charAt(i)));\r\n            }\r\n        }\r\n        return sum;\r\n    }","title":"Converting Roman Numerals To Decimal","body":"<p>An easy solution for input in the range from 1 to 3999.</p>\n<pre><code>    private static final Map&lt;String, Integer&gt; MAPPING = new HashMap&lt;&gt;() {{\n    put(&quot;I&quot;, 1);\n    put(&quot;V&quot;, 5);\n    put(&quot;X&quot;, 10);\n    put(&quot;L&quot;, 50);\n    put(&quot;C&quot;, 100);\n    put(&quot;D&quot;, 500);\n    put(&quot;M&quot;, 1000);\n    put(&quot;IV&quot;, 4);\n    put(&quot;IX&quot;, 9);\n    put(&quot;XL&quot;, 40);\n    put(&quot;XC&quot;, 90);\n    put(&quot;CD&quot;, 400);\n    put(&quot;CM&quot;, 900);\n}};\n\npublic static int romanToInt(String s) {\n    int sum = 0;\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (i &lt; s.length() - 1 &amp;&amp; MAPPING.containsKey(String.valueOf(s.charAt(i)) + s.charAt(i + 1))) {\n            sum += MAPPING.get(String.valueOf(s.charAt(i)) + s.charAt(i + 1));\n            i++;\n        } else {\n            sum += MAPPING.get(String.valueOf(s.charAt(i)));\n        }\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666396359,"creation_date":1666396359,"answer_id":74160129,"question_id":9073150,"body_markdown":"The problem here is that numbers like 9 are presented in the following way\r\n\r\n```\r\nIX = 9\r\n```\r\n\r\nif we take the literal conversion by getting the sum for each number than our program would give us the following sum\r\n\r\n```\r\nI = 1\r\nX = 10\r\nX + I = 11 \r\n```\r\nwhich is not correct. \r\n\r\nWe can overcome this if we simply manipulate the Roman String.\r\n\r\nIn example:\r\n\r\n```\r\nIX = 9 would be VIIII which is 5 + 1 + 1 + 1 + 1\r\n```\r\n\r\nTherefore if we replace all the special cases in the given String, we can calculate the sum for each character.\r\n\r\nHence;\r\n\r\n````\r\nclass Solution {\r\n    \r\n    public int romanToInt(String s) {       \r\n        // Key Value pairs\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();   \r\n        map.put(&#39;I&#39;, 1);\r\n        map.put(&#39;V&#39;, 5);\r\n        map.put(&#39;X&#39;, 10);\r\n        map.put(&#39;L&#39;, 50);\r\n        map.put(&#39;C&#39;, 100);\r\n        map.put(&#39;D&#39;, 500);\r\n        map.put(&#39;M&#39;, 1000);\r\n        \r\n        // convert these to single characters\r\n        s = s.replace(&quot;IV&quot;,&quot;IIII&quot;);  \r\n        s = s.replace(&quot;IX&quot;,&quot;VIIII&quot;);  \r\n        s = s.replace(&quot;XL&quot;,&quot;XXXX&quot;);  \r\n        s = s.replace(&quot;XC&quot;,&quot;LXXXX&quot;);  \r\n        s = s.replace(&quot;CD&quot;,&quot;CCCC&quot;);  \r\n        s = s.replace(&quot;CM&quot;,&quot;DCCCC&quot;); \r\n\r\n        // total sum to be returned\r\n        int sum = 0;\r\n        \r\n        // convert s to c character array\r\n        char[] c = s.toCharArray();\r\n        \r\n        // iterate through c array and sum the numbers\r\n        for(Character ch : c){\r\n            sum = sum + map.get(ch);\r\n        }\r\n                \r\n        return sum;   \r\n    }\r\n}\r\n\r\n````","title":"Converting Roman Numerals To Decimal","body":"<p>The problem here is that numbers like 9 are presented in the following way</p>\n<pre><code>IX = 9\n</code></pre>\n<p>if we take the literal conversion by getting the sum for each number than our program would give us the following sum</p>\n<pre><code>I = 1\nX = 10\nX + I = 11 \n</code></pre>\n<p>which is not correct.</p>\n<p>We can overcome this if we simply manipulate the Roman String.</p>\n<p>In example:</p>\n<pre><code>IX = 9 would be VIIII which is 5 + 1 + 1 + 1 + 1\n</code></pre>\n<p>Therefore if we replace all the special cases in the given String, we can calculate the sum for each character.</p>\n<p>Hence;</p>\n<pre><code>class Solution {\n    \n    public int romanToInt(String s) {       \n        // Key Value pairs\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();   \n        map.put('I', 1);\n        map.put('V', 5);\n        map.put('X', 10);\n        map.put('L', 50);\n        map.put('C', 100);\n        map.put('D', 500);\n        map.put('M', 1000);\n        \n        // convert these to single characters\n        s = s.replace(&quot;IV&quot;,&quot;IIII&quot;);  \n        s = s.replace(&quot;IX&quot;,&quot;VIIII&quot;);  \n        s = s.replace(&quot;XL&quot;,&quot;XXXX&quot;);  \n        s = s.replace(&quot;XC&quot;,&quot;LXXXX&quot;);  \n        s = s.replace(&quot;CD&quot;,&quot;CCCC&quot;);  \n        s = s.replace(&quot;CM&quot;,&quot;DCCCC&quot;); \n\n        // total sum to be returned\n        int sum = 0;\n        \n        // convert s to c character array\n        char[] c = s.toCharArray();\n        \n        // iterate through c array and sum the numbers\n        for(Character ch : c){\n            sum = sum + map.get(ch);\n        }\n                \n        return sum;   \n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110850,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":9073310,"answer_count":30,"score":41,"last_activity_date":1666396359,"creation_date":1327972124,"question_id":9073150,"body_markdown":"I have managed to get my code to convert most Roman numerals to its appropriate decimal value. But it doesn&#39;t work for some exceptional cases. Example : `XCIX` = `99` but my code prints `109`.\r\n\r\nHere is my code.\r\n\r\n    public static int romanConvert(String roman)\r\n\t{\r\n\t\tint decimal = 0;\r\n\r\n\t\tString romanNumeral = roman.toUpperCase();\r\n\t\tfor(int x = 0;x&lt;romanNumeral.length();x++)\r\n\t\t{\r\n\t\t\tchar convertToDecimal = roman.charAt(x);\r\n\r\n\t\t\tswitch (convertToDecimal)\r\n\t\t\t{\r\n\t\t\tcase &#39;M&#39;:\r\n\t\t\t\tdecimal += 1000;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;D&#39;:\r\n\t\t\t\tdecimal += 500;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;C&#39;:\r\n\t\t\t\tdecimal += 100;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;L&#39;:\r\n\t\t\t\tdecimal += 50;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;X&#39;:\r\n\t\t\t\tdecimal += 10;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;V&#39;:\r\n\t\t\t\tdecimal += 5;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &#39;I&#39;:\r\n\t\t\t\tdecimal += 1;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;IV&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=2;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;IX&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=2;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;XL&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=10;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;XC&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=10;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;CD&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=100;\r\n\t\t}\r\n\t\tif (romanNumeral.contains(&quot;CM&quot;))\r\n\t\t{\r\n\t\t\tdecimal-=100;\r\n\t\t}\r\n\t\treturn decimal;\r\n\t}","title":"Converting Roman Numerals To Decimal","body":"<p>I have managed to get my code to convert most Roman numerals to its appropriate decimal value. But it doesn't work for some exceptional cases. Example : <code>XCIX</code> = <code>99</code> but my code prints <code>109</code>.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>public static int romanConvert(String roman)\n{\n    int decimal = 0;\n\n    String romanNumeral = roman.toUpperCase();\n    for(int x = 0;x&lt;romanNumeral.length();x++)\n    {\n        char convertToDecimal = roman.charAt(x);\n\n        switch (convertToDecimal)\n        {\n        case 'M':\n            decimal += 1000;\n            break;\n\n        case 'D':\n            decimal += 500;\n            break;\n\n        case 'C':\n            decimal += 100;\n            break;\n\n        case 'L':\n            decimal += 50;\n            break;\n\n        case 'X':\n            decimal += 10;\n            break;\n\n        case 'V':\n            decimal += 5;\n            break;\n\n        case 'I':\n            decimal += 1;\n            break;\n        }\n    }\n    if (romanNumeral.contains(\"IV\"))\n    {\n        decimal-=2;\n    }\n    if (romanNumeral.contains(\"IX\"))\n    {\n        decimal-=2;\n    }\n    if (romanNumeral.contains(\"XL\"))\n    {\n        decimal-=10;\n    }\n    if (romanNumeral.contains(\"XC\"))\n    {\n        decimal-=10;\n    }\n    if (romanNumeral.contains(\"CD\"))\n    {\n        decimal-=100;\n    }\n    if (romanNumeral.contains(\"CM\"))\n    {\n        decimal-=100;\n    }\n    return decimal;\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3911165,"reputation":1475,"user_id":3236455,"accept_rate":44,"display_name":"der_Fidelis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666395377,"creation_date":1666391421,"answer_id":74159715,"question_id":74158579,"body_markdown":"```java\r\ngroup.setOnCheckedChangeListener((a, b) -&gt; {\r\n       txtothers.setEnabled(!islam.isChecked() &amp;&amp; !christian.isChecked);\r\n       txtchristian.setEnabled(christian.isChecked());\r\n});\r\n```","title":"How to disable edit text after clicking radio button","body":"<pre class=\"lang-java prettyprint-override\"><code>group.setOnCheckedChangeListener((a, b) -&gt; {\n       txtothers.setEnabled(!islam.isChecked() &amp;&amp; !christian.isChecked);\n       txtchristian.setEnabled(christian.isChecked());\n});\n</code></pre>\n"}],"owner":{"account_id":26696236,"reputation":3,"user_id":20304040,"display_name":"kenneth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159715,"answer_count":1,"score":0,"last_activity_date":1666395377,"creation_date":1666381962,"question_id":74158579,"body_markdown":"here is my xml file grouped by radiogroup &lt;/RadioGroup&gt;\r\n\r\n        &lt;RadioGroup\r\n\r\n            &lt;TextView\r\n                android:text=&quot;Religion&quot;/&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/islam&quot;\r\n                android:text=&quot;Islam&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/christian&quot;\r\n                android:text=&quot;Christian&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/txtchristian&quot;\r\n                android:hint=&quot;pls specify&quot;\r\n                android:inputType=&quot;text&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/others&quot;\r\n                android:text=&quot;Others&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/txtothers&quot;\r\n                android:hint=&quot;pls specify&quot;\r\n                android:inputType=&quot;text&quot; /&gt;\r\n        &lt;/RadioGroup&gt;\r\n\r\n&gt;what I am trying to do is to disable the edit text if they are not selected. e.g. if Islam is selected, those two edit text must be disabled.\r\n\r\n      if(islam.isChecked()){\r\n            txtothers.setEnabled(false);\r\n            txtchristian.setEnabled(false);\r\n        }\r\n        else if(christian.isChecked()){\r\n            txtothers.setEnabled(false);\r\n            txtchristian.setEnabled(true);\r\n        }\r\n        else{\r\n            txtothers.setEnabled(true);\r\n            txtchristian.setEnabled(false);\r\n        }\r\n\r\n[choose religion using radio button][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/180Zu.png","title":"How to disable edit text after clicking radio button","body":"<p>here is my xml file grouped by radiogroup </p>\n<pre><code>    &lt;RadioGroup\n\n        &lt;TextView\n            android:text=&quot;Religion&quot;/&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/islam&quot;\n            android:text=&quot;Islam&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/christian&quot;\n            android:text=&quot;Christian&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/txtchristian&quot;\n            android:hint=&quot;pls specify&quot;\n            android:inputType=&quot;text&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/others&quot;\n            android:text=&quot;Others&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/txtothers&quot;\n            android:hint=&quot;pls specify&quot;\n            android:inputType=&quot;text&quot; /&gt;\n    &lt;/RadioGroup&gt;\n</code></pre>\n<blockquote>\n<p>what I am trying to do is to disable the edit text if they are not selected. e.g. if Islam is selected, those two edit text must be disabled.</p>\n</blockquote>\n<pre><code>  if(islam.isChecked()){\n        txtothers.setEnabled(false);\n        txtchristian.setEnabled(false);\n    }\n    else if(christian.isChecked()){\n        txtothers.setEnabled(false);\n        txtchristian.setEnabled(true);\n    }\n    else{\n        txtothers.setEnabled(true);\n        txtchristian.setEnabled(false);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/180Zu.png\" rel=\"nofollow noreferrer\">choose religion using radio button</a></p>\n"},{"tags":["java","intellij-idea","import","stddraw"],"comments":[{"owner":{"account_id":99760,"reputation":978,"user_id":269300,"display_name":"Patrick McLaren"},"score":0,"creation_date":1426735827,"post_id":29136723,"comment_id":46498221,"body_markdown":"You&#39;ll want to do a static import, see this [question](http://stackoverflow.com/q/162187/269300), and http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html.","body":"You&#39;ll want to do a static import, see this <a href=\"http://stackoverflow.com/q/162187/269300\">question</a>, and <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/static-import.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/guide/language/&hellip;</a>."},{"owner":{"account_id":5934485,"reputation":41,"user_id":4667962,"display_name":"Morgantuan"},"score":0,"creation_date":1426741983,"post_id":29136723,"comment_id":46499627,"body_markdown":"When I do &quot;import static StdDraw;&quot; IntelliJ tells me: &quot;java: &#39;.&#39; expected&quot; on the line that I import StdDraw","body":"When I do &quot;import static StdDraw;&quot; IntelliJ tells me: &quot;java: &#39;.&#39; expected&quot; on the line that I import StdDraw"},{"owner":{"account_id":99760,"reputation":978,"user_id":269300,"display_name":"Patrick McLaren"},"score":0,"creation_date":1426742136,"post_id":29136723,"comment_id":46499664,"body_markdown":"Move StdDraw to a different package, you can&#39;t do a static import from the default package, see this [bug report](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4989710).","body":"Move StdDraw to a different package, you can&#39;t do a static import from the default package, see this <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4989710\" rel=\"nofollow noreferrer\">bug report</a>."}],"answers":[{"tags":[],"owner":{"account_id":7329780,"reputation":11,"user_id":5583090,"display_name":"Ron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447967193,"creation_date":1447964066,"answer_id":33813523,"question_id":29136723,"body_markdown":"I use StdDraw all the time\r\n\r\nUnder your package declaration, type:\r\n\r\n    import stddraw.StdDraw;\r\n\r\nthen all the stuff you need to do should work, also make sure the actual class is inside of your file correctly","title":"How to import stddraw correctly?","body":"<p>I use StdDraw all the time</p>\n\n<p>Under your package declaration, type:</p>\n\n<pre><code>import stddraw.StdDraw;\n</code></pre>\n\n<p>then all the stuff you need to do should work, also make sure the actual class is inside of your file correctly</p>\n"},{"comments":[{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":0,"creation_date":1449080926,"post_id":34049126,"comment_id":55855036,"body_markdown":"This isn&#39;t enough information to fully answer the question. The OP needs to know: What is `&lt;package&gt;`?","body":"This isn&#39;t enough information to fully answer the question. The OP needs to know: What is <code>&lt;package&gt;</code>?"}],"tags":[],"owner":{"account_id":5342237,"reputation":11,"user_id":5606342,"display_name":"Amegar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449081175,"creation_date":1449077176,"answer_id":34049126,"question_id":29136723,"body_markdown":"Add this import to your class.\r\n\r\n    import static StdDraw.*;\r\n\r\nWhat it means is that all static methods of the `StdDraw` class can be used without prefixing them with `StdDraw.` It also assumes that `StdDraw` class is in the default package, which is generally frowned upon but appears to be what that library has done.","title":"How to import stddraw correctly?","body":"<p>Add this import to your class.</p>\n\n<pre><code>import static StdDraw.*;\n</code></pre>\n\n<p>What it means is that all static methods of the <code>StdDraw</code> class can be used without prefixing them with <code>StdDraw.</code> It also assumes that <code>StdDraw</code> class is in the default package, which is generally frowned upon but appears to be what that library has done.</p>\n"},{"tags":[],"owner":{"account_id":2336691,"reputation":61,"user_id":2048865,"display_name":"Phạm Dương"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461288231,"creation_date":1461288231,"answer_id":36783125,"question_id":29136723,"body_markdown":"You can download the library stdlib.jar here: http://introcs.cs.princeton.edu/java/stdlib/\r\n\r\nThen import it follow this tutorial:https://stackoverflow.com/a/32853178/2048865\r\n","title":"How to import stddraw correctly?","body":"<p>You can download the library stdlib.jar here: <a href=\"http://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">http://introcs.cs.princeton.edu/java/stdlib/</a></p>\n\n<p>Then import it follow this tutorial:<a href=\"https://stackoverflow.com/a/32853178/2048865\">https://stackoverflow.com/a/32853178/2048865</a></p>\n"},{"tags":[],"owner":{"account_id":10416636,"reputation":1367,"user_id":7680511,"display_name":"William Hou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514053640,"creation_date":1514052039,"answer_id":47954734,"question_id":29136723,"body_markdown":"You said: \r\n\r\n------------------\r\n     What I want: Be able to write\r\n\r\n         setCanvas(500,500);\r\n\r\n     Instead of\r\n\r\n         StdDraw.setcanvas(500,500);\r\n\r\n-------------------\r\n\r\nIsn&#39;t that against the basic rules of Java? \r\n\r\nYou cannot write\r\n\r\n        setCanvas(500,500);\r\n\r\nunless you are inside the &quot;StdDraw&quot; class where other methods of the &quot;StdDraw&quot; class call the &quot;setCanvas&quot; method.\r\n\r\nOtherwise, either you have to create an instance of the &quot;StdDraw&quot; class first:\r\n\r\n        e.g. StdDraw stdDraw = new StdDraw();\r\n\r\nand then use that instance to call the method:\r\n\r\n        e.g. stdDraw.setCanvas(500,500); \r\n\r\nor you call the method this way: \r\n\r\n        StdDraw.setcanvas(500,500);\r\n\r\nThis is the basic knowledge of Java, right? \r\n\r\nBy the way, if the &quot;StdDraw&quot; class is in the same directory as class &quot;Solver&quot;, you don&#39;t have to import it to use it. \r\n\r\nI use eclipse. I put class &quot;StdDraw&quot; in the same package with other classes. This way, I don&#39;t have to use the &quot;import&quot; key word to import &quot;StdDraw&quot;. I just use the methods of &quot;StdDraw&quot; the static way. You import it only when it is not in the same package.\r\n\r\nFYI: I&#39;m reading Robert Sedgewick&#39;s &quot;Algorithms&quot;, in which I&#39;ve never seen any direct calls to methods like the way you want:\r\n\r\n     uniform(N-i); or \r\n     printf(&quot;%.2f\\n&quot;, x); or\r\n     point(x0, y0); or\r\n     line(x0, y0, x1, y1); or\r\n     circle(x, y, r); or\r\n     square(x, y, r); or\r\n     polygon(x, y); etc. etc....\r\n\r\nInstead, it&#39;s always:\r\n\r\n     StdRandom.uniform(N-i); or \r\n     StdOut.printf(&quot;%.2f\\n&quot;, x); or\r\n     StdDraw.point(x0, y0); or\r\n     StdDraw.line(x0, y0, x1, y1); or\r\n     StdDraw.circle(x, y, r); or\r\n     StdDraw.square(x, y, r); or\r\n     StdDraw.polygon(x, y); etc. etc....\r\n\r\nI hope this helps. ","title":"How to import stddraw correctly?","body":"<p>You said: </p>\n\n<hr>\n\n<pre><code> What I want: Be able to write\n\n     setCanvas(500,500);\n\n Instead of\n\n     StdDraw.setcanvas(500,500);\n</code></pre>\n\n<hr>\n\n<p>Isn't that against the basic rules of Java? </p>\n\n<p>You cannot write</p>\n\n<pre><code>    setCanvas(500,500);\n</code></pre>\n\n<p>unless you are inside the \"StdDraw\" class where other methods of the \"StdDraw\" class call the \"setCanvas\" method.</p>\n\n<p>Otherwise, either you have to create an instance of the \"StdDraw\" class first:</p>\n\n<pre><code>    e.g. StdDraw stdDraw = new StdDraw();\n</code></pre>\n\n<p>and then use that instance to call the method:</p>\n\n<pre><code>    e.g. stdDraw.setCanvas(500,500); \n</code></pre>\n\n<p>or you call the method this way: </p>\n\n<pre><code>    StdDraw.setcanvas(500,500);\n</code></pre>\n\n<p>This is the basic knowledge of Java, right? </p>\n\n<p>By the way, if the \"StdDraw\" class is in the same directory as class \"Solver\", you don't have to import it to use it. </p>\n\n<p>I use eclipse. I put class \"StdDraw\" in the same package with other classes. This way, I don't have to use the \"import\" key word to import \"StdDraw\". I just use the methods of \"StdDraw\" the static way. You import it only when it is not in the same package.</p>\n\n<p>FYI: I'm reading Robert Sedgewick's \"Algorithms\", in which I've never seen any direct calls to methods like the way you want:</p>\n\n<pre><code> uniform(N-i); or \n printf(\"%.2f\\n\", x); or\n point(x0, y0); or\n line(x0, y0, x1, y1); or\n circle(x, y, r); or\n square(x, y, r); or\n polygon(x, y); etc. etc....\n</code></pre>\n\n<p>Instead, it's always:</p>\n\n<pre><code> StdRandom.uniform(N-i); or \n StdOut.printf(\"%.2f\\n\", x); or\n StdDraw.point(x0, y0); or\n StdDraw.line(x0, y0, x1, y1); or\n StdDraw.circle(x, y, r); or\n StdDraw.square(x, y, r); or\n StdDraw.polygon(x, y); etc. etc....\n</code></pre>\n\n<p>I hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":14021322,"reputation":2467,"user_id":10127472,"display_name":"Jozott"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666394976,"creation_date":1574158657,"answer_id":58931603,"question_id":29136723,"body_markdown":"You need to add Stdlib to your local libraries of your java project.\r\nStdDraw is part of this Stdlib library.\r\n\r\n 1. First you need to [download][1] the stdlib.jar file \r\n 2. Then you create a folder in your java project (name it &quot;lib&quot;)\r\n 3. Copy &amp; Paste the stdlib.jar inside the lib folder\r\n 4. Open your java project with IntelliJ. \r\n 5. Click File -&gt; Project Structure -&gt; Modules -&gt; Dependencies\r\n 6. Click on the + sign and choose Library -&gt; Java\r\n 7. Then you need to select your stdlib.jar inside your lib folder\r\n\r\nNow you can use the StdDraw class. You don&#39;t need to import the class at the top of the file.\r\n\r\n  [1]: https://introcs.cs.princeton.edu/java/stdlib/","title":"How to import stddraw correctly?","body":"<p>You need to add Stdlib to your local libraries of your java project.\nStdDraw is part of this Stdlib library.</p>\n<ol>\n<li>First you need to <a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">download</a> the stdlib.jar file</li>\n<li>Then you create a folder in your java project (name it &quot;lib&quot;)</li>\n<li>Copy &amp; Paste the stdlib.jar inside the lib folder</li>\n<li>Open your java project with IntelliJ.</li>\n<li>Click File -&gt; Project Structure -&gt; Modules -&gt; Dependencies</li>\n<li>Click on the + sign and choose Library -&gt; Java</li>\n<li>Then you need to select your stdlib.jar inside your lib folder</li>\n</ol>\n<p>Now you can use the StdDraw class. You don't need to import the class at the top of the file.</p>\n"}],"owner":{"account_id":5934485,"reputation":41,"user_id":4667962,"display_name":"Morgantuan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39804,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1666394976,"creation_date":1426735623,"question_id":29136723,"body_markdown":"Editor: IntelliJ CE\r\n\r\nWhat I want: Be able to write \r\n\r\n    setCanvas(500,500);\r\n\r\nInstead of\r\n\r\n    StdDraw.setcanvas(500,500);\r\n\r\nProblem: I can&#39;t figure out how to correctly import the Stddraw library. \r\nIf i simply do\r\n\r\n    import StdDraw;\r\n\r\nIntelliJ tells me &quot;StdDraw&quot; symbol cannot be resolved.\r\nIf I comment it out I can call methods from StdDraw but I have to write\r\n    StdDraw.setcanvas(500,500);\r\n\r\nStdDraw.java is in the same directory as Solver.java.\r\n\r\nCode:\r\n\r\n        import java.io.File;\r\n        import java.io.FileNotFoundException;\r\n        import java.util.ArrayList;\r\n        import java.util.Scanner;\r\n    //    import StdDraw;//StdDraw is in the same directory as Solver\r\n        \r\n    public class Solver {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Solver main is running.&quot;);\r\n\r\n            StdDraw.setCanvasSize(500, 500);\r\n            StdDraw.setPenColor(StdDraw.RED);\r\n            StdDraw.filledRectangle(0,0,10,10);\r\n         }\r\n    }\r\n\r\nI&#39;ve already tried:\r\n- Making sure Stddraw.java is in the same directory as the file I&#39;m compiling and running\r\n- Looking at http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\r\n- Searching for COMPLETE code examples, ie. code that shows how to import the library\r\n- Searching YouTube tutorials\r\n- Reading https://www.jetbrains.com/idea/help/library.html\r\n- Fiddling around with adding stuff in front of StdDraw, eg. stblib.StdDraw","title":"How to import stddraw correctly?","body":"<p>Editor: IntelliJ CE</p>\n\n<p>What I want: Be able to write </p>\n\n<pre><code>setCanvas(500,500);\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>StdDraw.setcanvas(500,500);\n</code></pre>\n\n<p>Problem: I can't figure out how to correctly import the Stddraw library. \nIf i simply do</p>\n\n<pre><code>import StdDraw;\n</code></pre>\n\n<p>IntelliJ tells me \"StdDraw\" symbol cannot be resolved.\nIf I comment it out I can call methods from StdDraw but I have to write\n    StdDraw.setcanvas(500,500);</p>\n\n<p>StdDraw.java is in the same directory as Solver.java.</p>\n\n<p>Code:</p>\n\n<pre><code>    import java.io.File;\n    import java.io.FileNotFoundException;\n    import java.util.ArrayList;\n    import java.util.Scanner;\n//    import StdDraw;//StdDraw is in the same directory as Solver\n\npublic class Solver {\n\n    public static void main(String[] args) {\n        System.out.println(\"Solver main is running.\");\n\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setPenColor(StdDraw.RED);\n        StdDraw.filledRectangle(0,0,10,10);\n     }\n}\n</code></pre>\n\n<p>I've already tried:\n- Making sure Stddraw.java is in the same directory as the file I'm compiling and running\n- Looking at <a href=\"http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow\">http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html</a>\n- Searching for COMPLETE code examples, ie. code that shows how to import the library\n- Searching YouTube tutorials\n- Reading <a href=\"https://www.jetbrains.com/idea/help/library.html\" rel=\"nofollow\">https://www.jetbrains.com/idea/help/library.html</a>\n- Fiddling around with adding stuff in front of StdDraw, eg. stblib.StdDraw</p>\n"},{"tags":["java","google-cloud-platform"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1666965466,"post_id":74160036,"comment_id":131065686,"body_markdown":"Hi @user2930137, Can you try this [code](https://cloud.google.com/pubsub/docs/samples/pubsub-publisher-with-compression#code-sample) to Publish messages with compression rate?","body":"Hi @user2930137, Can you try this <a href=\"https://cloud.google.com/pubsub/docs/samples/pubsub-publisher-with-compression#code-sample\" rel=\"nofollow noreferrer\">code</a> to Publish messages with compression rate?"},{"owner":{"account_id":3504217,"reputation":63,"user_id":2930137,"accept_rate":20,"display_name":"user2930137"},"score":0,"creation_date":1667535519,"post_id":74160036,"comment_id":131194232,"body_markdown":"@PrajnaRaiT I wanted to know how to know what is the message compressed size. I currently know how to compress by google but I need the compress size in order to other validations.","body":"@PrajnaRaiT I wanted to know how to know what is the message compressed size. I currently know how to compress by google but I need the compress size in order to other validations."}],"owner":{"account_id":3504217,"reputation":63,"user_id":2930137,"accept_rate":20,"display_name":"user2930137"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666394852,"creation_date":1666394852,"question_id":74160036,"body_markdown":"    Publisher publisher = Publisher.newBuilder(topicName)\r\n    \t\t\t\t\t.**setEnableCompression(true)\r\n    \t\t\t\t\t.setCompressionBytesThreshold(100000L)**\r\n    \t\t\t\t\t.build();\r\n    \r\n    ByteString data = ByteString.copyFromUtf8(aBigMessage);\r\n    \t        \t \t    PubsubMessage pubsubMessage = PubsubMessage.newBuilder()\r\n    \t        \t \t    \t\t.setData(data)\r\n    \t        \t \t    \t\t.build();\r\n    ApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\r\n\r\nHow can I get the pubsubMessage compressed size before send publish?","title":"How can I get the google pubsub compress data size?","body":"<pre><code>Publisher publisher = Publisher.newBuilder(topicName)\n                    .**setEnableCompression(true)\n                    .setCompressionBytesThreshold(100000L)**\n                    .build();\n\nByteString data = ByteString.copyFromUtf8(aBigMessage);\n                        PubsubMessage pubsubMessage = PubsubMessage.newBuilder()\n                                .setData(data)\n                                .build();\nApiFuture&lt;String&gt; messageIdFuture = publisher.publish(pubsubMessage);\n</code></pre>\n<p>How can I get the pubsubMessage compressed size before send publish?</p>\n"},{"tags":["java","database","dynamic"],"comments":[{"owner":{"account_id":960053,"reputation":838,"user_id":984618,"accept_rate":82,"display_name":"Stefan"},"score":1,"creation_date":1324407525,"post_id":8580017,"comment_id":10640683,"body_markdown":"I have used 1 and it is a pain even with materialized views. They become huge and prone to errors(DBA used =&#39;SIBLING&#39; instead of =&#39;Sibling&#39; in one of the conditions).","body":"I have used 1 and it is a pain even with materialized views. They become huge and prone to errors(DBA used =&#39;SIBLING&#39; instead of =&#39;Sibling&#39; in one of the conditions)."}],"answers":[{"comments":[{"owner":{"account_id":960053,"reputation":838,"user_id":984618,"accept_rate":82,"display_name":"Stefan"},"score":0,"creation_date":1324407702,"post_id":8580512,"comment_id":10640745,"body_markdown":"I wouldnt call it an antipattern. The Wikipedia article you linked lists use cases where EAV makes perfect sense.","body":"I wouldnt call it an antipattern. The Wikipedia article you linked lists use cases where EAV makes perfect sense."},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1324408668,"post_id":8580512,"comment_id":10641037,"body_markdown":"Except that you lose many features of SQL, such as datatypes, constraints, and a table heading.  You have to implement metadata yourself in application code, instead of relying on the RDBMS to enforce structure.","body":"Except that you lose many features of SQL, such as datatypes, constraints, and a table heading.  You have to implement metadata yourself in application code, instead of relying on the RDBMS to enforce structure."},{"owner":{"account_id":960053,"reputation":838,"user_id":984618,"accept_rate":82,"display_name":"Stefan"},"score":0,"creation_date":1324409284,"post_id":8580512,"comment_id":10641209,"body_markdown":"I agree on these. But you have similar problems with XML in columns which are even worse when it comes to reports. There are valid usecases for EAV and it does not qualify for antipattern in my opinion. Its like weakly and stronlgy typed languages. Both have their (different) uses.","body":"I agree on these. But you have similar problems with XML in columns which are even worse when it comes to reports. There are valid usecases for EAV and it does not qualify for antipattern in my opinion. Its like weakly and stronlgy typed languages. Both have their (different) uses."},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1324410680,"post_id":8580512,"comment_id":10641555,"body_markdown":"Agreed; the problem is storing non-relational data (variable number/type of fields) in a relational database, and trying to use SQL  to work with that data.  It&#39;s bound to be awkward no matter how you do it, which is why it&#39;s such a common question here on SO.","body":"Agreed; the problem is storing non-relational data (variable number/type of fields) in a relational database, and trying to use SQL  to work with that data.  It&#39;s bound to be awkward no matter how you do it, which is why it&#39;s such a common question here on SO."},{"owner":{"account_id":1116779,"reputation":104,"user_id":1105944,"accept_rate":67,"display_name":"Ema"},"score":0,"creation_date":1324466519,"post_id":8580512,"comment_id":10653034,"body_markdown":"thank you both for answers and insights. On one side you confirm what I was fearing (deadly consequences of EAV in handling data) but, on the other side, I understand it will be a mess any solution I choose. I don&#39;t want to have a schema-less db, anyway, as only a part of my data is dynamic.","body":"thank you both for answers and insights. On one side you confirm what I was fearing (deadly consequences of EAV in handling data) but, on the other side, I understand it will be a mess any solution I choose. I don&#39;t want to have a schema-less db, anyway, as only a part of my data is dynamic."}],"tags":[],"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666394796,"creation_date":1324407459,"answer_id":8580512,"question_id":8580017,"body_markdown":"Your option 1 is the [Entity-Attribute-Value][1] antipattern.  \r\n\r\nSee my answer to [Product table, many kinds of product, each product has many parameters][2] and my blog post [EAV FAIL][3] for alternatives and some reasons why EAV is wrong, at least for a relational database (I cover EAV in my book, [SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming][4]).\r\n\r\nAlso read this article about how a similar structure nearly doomed a company: [Bad CaRMa][5].\r\n\r\nYour options 2 &amp; 3 are similar to described in [How FriendFeed uses MySQL to store schema-less data][6].  I don&#39;t know of any automatic way for an ORM to maintain that structure for you.  You do have the chore of keeping your inverted index tables in sync with your LOB data.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model\r\n  [2]: https://stackoverflow.com/a/695860/20860\r\n  [3]: https://karwin.com/blog/index.php/2009/05/21/eav-fail/\r\n  [4]: https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/\r\n  [5]: http://www.simple-talk.com/opinion/opinion-pieces/bad-carma/\r\n  [6]: http://bret.appspot.com/entry/how-friendfeed-uses-mysql","title":"Variable structure in a DB table to be read in a Web form","body":"<p>Your option 1 is the <a href=\"http://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model\" rel=\"nofollow noreferrer\">Entity-Attribute-Value</a> antipattern.</p>\n<p>See my answer to <a href=\"https://stackoverflow.com/a/695860/20860\">Product table, many kinds of product, each product has many parameters</a> and my blog post <a href=\"https://karwin.com/blog/index.php/2009/05/21/eav-fail/\" rel=\"nofollow noreferrer\">EAV FAIL</a> for alternatives and some reasons why EAV is wrong, at least for a relational database (I cover EAV in my book, <a href=\"https://pragprog.com/titles/bksap1/sql-antipatterns-volume-1/\" rel=\"nofollow noreferrer\">SQL Antipatterns Volume 1: Avoiding the Pitfalls of Database Programming</a>).</p>\n<p>Also read this article about how a similar structure nearly doomed a company: <a href=\"http://www.simple-talk.com/opinion/opinion-pieces/bad-carma/\" rel=\"nofollow noreferrer\">Bad CaRMa</a>.</p>\n<p>Your options 2 &amp; 3 are similar to described in <a href=\"http://bret.appspot.com/entry/how-friendfeed-uses-mysql\" rel=\"nofollow noreferrer\">How FriendFeed uses MySQL to store schema-less data</a>.  I don't know of any automatic way for an ORM to maintain that structure for you.  You do have the chore of keeping your inverted index tables in sync with your LOB data.</p>\n"}],"owner":{"account_id":1116779,"reputation":104,"user_id":1105944,"accept_rate":67,"display_name":"Ema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666394796,"creation_date":1324404888,"question_id":8580017,"body_markdown":"I have a &quot;variable&quot; structure to be put in a table DB. By &quot;variable&quot; I mean a sequence of couples field/value in which the &quot;kind&quot; of field determines the value type, I don&#39;t know exactly field order and I don&#39;t know how many times fields can repeat. Sometimes group of fields will repeat several times (it is a fiscal model).\r\n\r\nAdditional requirement: I should map these variable data into web page forms, handling some CRUD work.\r\nJQuery-ui, Struts 2, Hibernate. Preferred DBMS: MySQL.\r\n\r\nThe solutions I thought of:\r\n\r\n 1. vertical table. I could have some performance issue, which I could resolve with materialized views that &quot;pivot&quot; the rows in columns when I need massive data process. Not gone so far in this direction as it seems to be very expensive for development.\r\n 2. LOB fields. Pack my columns into one of those, perhaps having a &quot;mapping&quot; table to decode each column. My idea is to pull-out searchable fields as &quot;real&quot; columns in order to leave in the LOB just the less interesting mob of data and not to generate performance problems.\r\n 3. or better 2a. Use an xml inside the LOB field. This could be useful to pack/unpack data more comfortably, specially having to map data to a web form.\r\n\r\nWhat do you think? And more, is there some way to create automatic views from xml fields? Or better to map such data to web form? I suspect Hibernate Tools won&#39;t work in any of the cases I described.\r\n\r\nI hope I have been clear, it&#39;s still a bit confusing even to me :)","title":"Variable structure in a DB table to be read in a Web form","body":"<p>I have a \"variable\" structure to be put in a table DB. By \"variable\" I mean a sequence of couples field/value in which the \"kind\" of field determines the value type, I don't know exactly field order and I don't know how many times fields can repeat. Sometimes group of fields will repeat several times (it is a fiscal model).</p>\n\n<p>Additional requirement: I should map these variable data into web page forms, handling some CRUD work.\nJQuery-ui, Struts 2, Hibernate. Preferred DBMS: MySQL.</p>\n\n<p>The solutions I thought of:</p>\n\n<ol>\n<li>vertical table. I could have some performance issue, which I could resolve with materialized views that \"pivot\" the rows in columns when I need massive data process. Not gone so far in this direction as it seems to be very expensive for development.</li>\n<li>LOB fields. Pack my columns into one of those, perhaps having a \"mapping\" table to decode each column. My idea is to pull-out searchable fields as \"real\" columns in order to leave in the LOB just the less interesting mob of data and not to generate performance problems.</li>\n<li>or better 2a. Use an xml inside the LOB field. This could be useful to pack/unpack data more comfortably, specially having to map data to a web form.</li>\n</ol>\n\n<p>What do you think? And more, is there some way to create automatic views from xml fields? Or better to map such data to web form? I suspect Hibernate Tools won't work in any of the cases I described.</p>\n\n<p>I hope I have been clear, it's still a bit confusing even to me :)</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":23674946,"reputation":304,"user_id":17701296,"display_name":"Nadia Tarashkevich"},"score":0,"creation_date":1666393081,"post_id":74159663,"comment_id":130934535,"body_markdown":"Try pressing Shift+Shift, then type &quot;Show usages&quot; command. The result will point you to all relevant commands and settings (including shortcuts).","body":"Try pressing Shift+Shift, then type &quot;Show usages&quot; command. The result will point you to all relevant commands and settings (including shortcuts)."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1666593908,"post_id":74159663,"comment_id":130965218,"body_markdown":"Please check Inlay Hints settings under `Settings/Preferences | Editor | Inlay Hints`","body":"Please check Inlay Hints settings under <code>Settings&#47;Preferences | Editor | Inlay Hints</code>"}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666391984,"creation_date":1666391984,"answer_id":74159776,"question_id":74159663,"body_markdown":"`ctrl + b` to show usages\r\n\r\n`ctrl + alt + b` to show implementations ","title":"How to show usages in UI within Intellij IDE","body":"<p><code>ctrl + b</code> to show usages</p>\n<p><code>ctrl + alt + b</code> to show implementations</p>\n"}],"owner":{"account_id":24230686,"reputation":3,"user_id":18184487,"display_name":"ddad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159776,"answer_count":1,"score":0,"last_activity_date":1666391984,"creation_date":1666390861,"question_id":74159663,"body_markdown":"I accidentally disabled the &quot;show usages&quot; UI feature in intellij and I cannot seem to figure out how to find it.\r\n\r\nFor example, it would sit above any fields, methods, or classes that were used within the project.\r\n\r\nSo, if I used the field in [this image][1], it would show &quot;usages&quot; which I could highlight and go to its use in the project.\r\n\r\nHow do I restore this feature?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2QBfG.png","title":"How to show usages in UI within Intellij IDE","body":"<p>I accidentally disabled the &quot;show usages&quot; UI feature in intellij and I cannot seem to figure out how to find it.</p>\n<p>For example, it would sit above any fields, methods, or classes that were used within the project.</p>\n<p>So, if I used the field in <a href=\"https://i.stack.imgur.com/2QBfG.png\" rel=\"nofollow noreferrer\">this image</a>, it would show &quot;usages&quot; which I could highlight and go to its use in the project.</p>\n<p>How do I restore this feature?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1666390662,"post_id":74159619,"comment_id":130934172,"body_markdown":"Why don&#39;t you return then?","body":"Why don&#39;t you return then?"}],"answers":[{"tags":[],"owner":{"account_id":20305274,"reputation":732,"user_id":14893722,"display_name":"timsmelik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666391185,"creation_date":1666391185,"answer_id":74159694,"question_id":74159619,"body_markdown":"Your array is of size `21` and initialized as all zeros. All numbers you don&#39;t overwrite with the user input will remain zeros, which means that in the case of your test input `5 9 2 2 1 4 5 5 -1`, you get another 12 zeros.\r\n\r\nTry placing a breakpoint after the part of the code that parses the user input and have a look at `b`.","title":"Why does my code output an extra &quot;0&quot; after finding the most frequent integer in an array?","body":"<p>Your array is of size <code>21</code> and initialized as all zeros. All numbers you don't overwrite with the user input will remain zeros, which means that in the case of your test input <code>5 9 2 2 1 4 5 5 -1</code>, you get another 12 zeros.</p>\n<p>Try placing a breakpoint after the part of the code that parses the user input and have a look at <code>b</code>.</p>\n"}],"owner":{"account_id":25490764,"reputation":21,"user_id":20304805,"display_name":"Kirito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666391185,"creation_date":1666390435,"question_id":74159619,"body_markdown":"An example of integers entered would be: 5 9 2 2 1 4 5 5 -1 and my code&#39;s output is &quot;5 0&quot;. In this example array, I only need it to display &quot;5  &quot;. Try it yourself with any combination of integer input, ending your input with a -1 and you&#39;ll get the most frequent integer with a zero. Any ideas why my code does this?\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scnr = new Scanner(System.in); \r\n\r\n        int[] b = new int[21];\r\n\r\n        for (int i = 0; i &lt; b.length; ++i) { //integer input from user\r\n            b[i] = scnr.nextInt();\r\n            if (b[i] == -1) {    //array input stops when input is -1\r\n                break;\r\n            }\r\n        }\r\n        int maxcount = 0;\r\n        int element_having_max_freq;\r\n        for (int i = 0; i &lt; b.length; ++i) {\r\n            int count = 0;\r\n            for (int j = 0; j &lt; b.length; ++j) {\r\n                if (b[i] == b[j]) {\r\n                    count = count + 1;\r\n                }\r\n            }\r\n\r\n            if (count &gt; maxcount) {\r\n                maxcount = count;\r\n                element_having_max_freq = b[i];\r\n                System.out.println(element_having_max_freq+ &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Why does my code output an extra &quot;0&quot; after finding the most frequent integer in an array?","body":"<p>An example of integers entered would be: 5 9 2 2 1 4 5 5 -1 and my code's output is &quot;5 0&quot;. In this example array, I only need it to display &quot;5  &quot;. Try it yourself with any combination of integer input, ending your input with a -1 and you'll get the most frequent integer with a zero. Any ideas why my code does this?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner scnr = new Scanner(System.in); \n\n        int[] b = new int[21];\n\n        for (int i = 0; i &lt; b.length; ++i) { //integer input from user\n            b[i] = scnr.nextInt();\n            if (b[i] == -1) {    //array input stops when input is -1\n                break;\n            }\n        }\n        int maxcount = 0;\n        int element_having_max_freq;\n        for (int i = 0; i &lt; b.length; ++i) {\n            int count = 0;\n            for (int j = 0; j &lt; b.length; ++j) {\n                if (b[i] == b[j]) {\n                    count = count + 1;\n                }\n            }\n\n            if (count &gt; maxcount) {\n                maxcount = count;\n                element_having_max_freq = b[i];\n                System.out.println(element_having_max_freq+ &quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":2317949,"reputation":79,"user_id":2034519,"accept_rate":83,"display_name":"user2034519"},"score":0,"creation_date":1666389053,"post_id":74159347,"comment_id":130933868,"body_markdown":"yeah, the problem how do I map the List ( with just one element) in source class to TargetPhone class..","body":"yeah, the problem how do I map the List ( with just one element) in source class to TargetPhone class.."}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666391036,"creation_date":1666389245,"answer_id":74159502,"question_id":74159347,"body_markdown":"Your mapper should be defined as shown below.\r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n    \r\n        @Mapping(source=&quot;name&quot;, target=&quot;myName&quot;)\r\n        @Mapping(source=&quot;age&quot;, target=&quot;myAge&quot;)\r\n        @Mapping(source=&quot;phones&quot;, target=&quot;targetPhone&quot;)\r\n        Target sourceToTarget(Source source);\r\n    \r\n    \r\n        @Mapping(source = &quot;id&quot;, target = &quot;myId&quot;)\r\n        @Mapping(source = &quot;phoneNumber&quot;, target = &quot;myPhoneNumber&quot;)\r\n        @Mapping(source=&quot;phoneColor&quot;, target=&quot;myPhoneColor&quot;)\r\n        TargetPhone phoneToTargetPhone(Phone phone);\r\n    \r\n        default TargetPhone listPhonesToTargetPhone(List&lt;Phone&gt; phones){\r\n            return phoneToTargetPhone(phones.get(0));\r\n        }\r\n    \r\n    }\r\n\r\nWhere the default method does the magic of mapping the first element of `Phone` list to `TargetPhone`. ","title":"Map collection to an object using mapstruct","body":"<p>Your mapper should be defined as shown below.</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n\n    @Mapping(source=&quot;name&quot;, target=&quot;myName&quot;)\n    @Mapping(source=&quot;age&quot;, target=&quot;myAge&quot;)\n    @Mapping(source=&quot;phones&quot;, target=&quot;targetPhone&quot;)\n    Target sourceToTarget(Source source);\n\n\n    @Mapping(source = &quot;id&quot;, target = &quot;myId&quot;)\n    @Mapping(source = &quot;phoneNumber&quot;, target = &quot;myPhoneNumber&quot;)\n    @Mapping(source=&quot;phoneColor&quot;, target=&quot;myPhoneColor&quot;)\n    TargetPhone phoneToTargetPhone(Phone phone);\n\n    default TargetPhone listPhonesToTargetPhone(List&lt;Phone&gt; phones){\n        return phoneToTargetPhone(phones.get(0));\n    }\n\n}\n</code></pre>\n<p>Where the default method does the magic of mapping the first element of <code>Phone</code> list to <code>TargetPhone</code>.</p>\n"}],"owner":{"account_id":2317949,"reputation":79,"user_id":2034519,"accept_rate":83,"display_name":"user2034519"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74159502,"answer_count":1,"score":0,"last_activity_date":1666391036,"creation_date":1666387994,"question_id":74159347,"body_markdown":"\r\nHow can I define following mapping using Mapstruct java bean mapping. The problem how do I map the List ( with just one element) in source class to TargetPhone class\r\n\r\nSource classes\r\n-----------------\r\n\r\n\tclass Source{\r\n    \tprivate String name;\r\n   \t \tprivate int age;\r\n        **This list always contain one element   \r\n        and I cannot change this behavior or structure of this class**\r\n    \tprivate List&lt;Phone&gt; phones;\r\n\t}\r\n\r\n\r\n\tclass Phone{\r\n        private Long id;\r\n        private String phoneNumber;\r\n        private String phoneColor;\r\n        // getters and setters\r\n    }\r\n\t\r\n\t\r\nTarget classes\r\n------------------\r\n\r\n\tclass Target{\r\n\t    private String myName; **--&gt;should map to Source.name**\r\n\t    private int myAge; **--&gt;should map to Source.age**\r\n\t    private TargetPhone targetPhone;\r\n\t    // getters and setters\r\n\t}\r\n\t\r\n\r\n    class TargetPhone{\r\n\t        private Long myId;  **--&gt;should map to Source.phones[0].id**\r\n\t        private String myPhoneNumber;  **--&gt;should map to Source.phones[0].phoneNumber**\r\n\t        private String myPhoneColor;  **--&gt;should map to Source.phones[0].phoneColor**\r\n\t        // getters and setters\r\n\t    }","title":"Map collection to an object using mapstruct","body":"<p>How can I define following mapping using Mapstruct java bean mapping. The problem how do I map the List ( with just one element) in source class to TargetPhone class</p>\n<h2>Source classes</h2>\n<pre><code>class Source{\n    private String name;\n    private int age;\n    **This list always contain one element   \n    and I cannot change this behavior or structure of this class**\n    private List&lt;Phone&gt; phones;\n}\n\n\nclass Phone{\n    private Long id;\n    private String phoneNumber;\n    private String phoneColor;\n    // getters and setters\n}\n</code></pre>\n<h2>Target classes</h2>\n<pre><code>class Target{\n    private String myName; **--&gt;should map to Source.name**\n    private int myAge; **--&gt;should map to Source.age**\n    private TargetPhone targetPhone;\n    // getters and setters\n}\n\n\nclass TargetPhone{\n        private Long myId;  **--&gt;should map to Source.phones[0].id**\n        private String myPhoneNumber;  **--&gt;should map to Source.phones[0].phoneNumber**\n        private String myPhoneColor;  **--&gt;should map to Source.phones[0].phoneColor**\n        // getters and setters\n    }\n</code></pre>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666390755,"post_id":74149436,"comment_id":130934191,"body_markdown":"If you cannot quickly fix-forward then perhaps the solution is to reverse your migration, and test the migration more fully in a nonprod environment.","body":"If you cannot quickly fix-forward then perhaps the solution is to reverse your migration, and test the migration more fully in a nonprod environment."},{"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"score":0,"creation_date":1666454866,"post_id":74149436,"comment_id":130943257,"body_markdown":"Reversing migration means coming back to V1.x from V2.x of h2db we have already released V2.x in our application and many of our customers have migrated to the newer version. Also, V1.x has listed vulnerabilities i.e. we have done this migration.","body":"Reversing migration means coming back to V1.x from V2.x of h2db we have already released V2.x in our application and many of our customers have migrated to the newer version. Also, V1.x has listed vulnerabilities i.e. we have done this migration."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666456979,"post_id":74149436,"comment_id":130943712,"body_markdown":"Well, I accept that you regard the migration as done, but this may be the consequences of undertaking a migration without fully testing it first. You can fix forward, but that may mean several days of downtime. The error appears to be arcane and, assuming you have already thoroughly researched the error, it may not be a trivially solveable problem.","body":"Well, I accept that you regard the migration as done, but this may be the consequences of undertaking a migration without fully testing it first. You can fix forward, but that may mean several days of downtime. The error appears to be arcane and, assuming you have already thoroughly researched the error, it may not be a trivially solveable problem."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666457075,"post_id":74149436,"comment_id":130943741,"body_markdown":"I have no specific expertise here, but there are some generally applicable fixes. Did you do a full database dump in the old version and a full database import in the new version? I wonder if there is a binary format incompatibility, and the migrate operation in your question is insufficient.","body":"I have no specific expertise here, but there are some generally applicable fixes. Did you do a full database dump in the old version and a full database import in the new version? I wonder if there is a binary format incompatibility, and the migrate operation in your question is insufficient."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666457176,"post_id":74149436,"comment_id":130943766,"body_markdown":"Do you have any commercial support for H2 that you can call upon?","body":"Do you have any commercial support for H2 that you can call upon?"},{"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"score":0,"creation_date":1666782385,"post_id":74149436,"comment_id":131016083,"body_markdown":"Yes the migration was done with great care. If there is any incompatibility then h2 would not have allowed the migration process to be successful. No i don&#39;t have any commercial support but i have raised this question on h2 github but still didn&#39;t find any solution.\n\nhttps://github.com/h2database/h2database/issues/3662\n\nApologise for the late response.","body":"Yes the migration was done with great care. If there is any incompatibility then h2 would not have allowed the migration process to be successful. No i don&#39;t have any commercial support but i have raised this question on h2 github but still didn&#39;t find any solution.  <a href=\"https://github.com/h2database/h2database/issues/3662\" rel=\"nofollow noreferrer\">github.com/h2database/h2database/issues/3662</a>  Apologise for the late response."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666798805,"post_id":74149436,"comment_id":131022476,"body_markdown":"Maybe you could get some consulting for H2 - either your account manager might be able to recommend someone, or you could find a consulting platform like AirPair, and pay on an hourly basis.","body":"Maybe you could get some consulting for H2 - either your account manager might be able to recommend someone, or you could find a consulting platform like AirPair, and pay on an hourly basis."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1666798872,"post_id":74149436,"comment_id":131022511,"body_markdown":"I also suggested a full dump and restore, that might be worth looking at.","body":"I also suggested a full dump and restore, that might be worth looking at."},{"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"score":0,"creation_date":1666857062,"post_id":74149436,"comment_id":131035625,"body_markdown":"Thanks for your suggestion, will ask the same.","body":"Thanks for your suggestion, will ask the same."}],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666390716,"creation_date":1666332817,"question_id":74149436,"body_markdown":"I have recently migrated h2db from version 1.X to version 2.X with the below steps\r\n\r\n    Step1) java -cp h2-1.4.192.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script migrate.sql\r\n\r\nSome alters in migrate.sql.\r\n\r\n    Step2) java -cp h2-1.4.192.jar org.h2.tools.Script -url jdbc:h2:./h2db -script h2db.zip -options compression zip\r\n\r\n    Step3) java -cp h2-2.1.212.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script h2db.zip -options compression zip FROM_1X\r\n\r\nAll works well and the application was started and running fine. My application uses the latest version of h2db 2.1.214 while the h2db.mv.db file was created with version 2.1.212. I restarted the application and suddenly I got the below error while it was creating the cached table. Also I tried to connect H2db with h2 console and got the same error. Screenshot attached. This issue occurs on customer production environment and now customer is not able to access the application.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nError which I am getting is when h2db file created with version 2.1.212 and also accessed by the same version\r\n\r\n    Exception in thread &quot;main&quot; **org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;Chunk 849734 not found [2.1.212/9]&quot;; SQL statement:**\r\n    CREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;ABC_XYZ&quot;(\r\n        &quot;ID&quot; BIGINT SELECTIVITY 100 NOT NULL,\r\n        &quot;MACHINE_ID&quot; BIGINT SELECTIVITY 1,\r\n        &quot;WHEN_CREATED&quot; BIGINT SELECTIVITY 100 NOT NULL,\r\n        &quot;STATE&quot; INTEGER SELECTIVITY 1,\r\n        &quot;WHEN_STATE_LAST_CHANGED&quot; BIGINT SELECTIVITY 1,\r\n        &quot;WHO_CHANGED_STATE_LAST&quot; BIGINT SELECTIVITY 1\r\n    ) [50000-212]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:554)\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n            at org.h2.message.DbException.get(DbException.java:212)\r\n            at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:170)\r\n            at org.h2.mvstore.db.Store.createTable(Store.java:220)\r\n            at org.h2.schema.Schema.createTable(Schema.java:781)\r\n            at org.h2.command.ddl.CreateTable.update(CreateTable.java:109)\r\n            at org.h2.engine.MetaRecord.prepareAndExecute(MetaRecord.java:77)\r\n            at org.h2.engine.Database.executeMeta(Database.java:660)\r\n            at org.h2.engine.Database.executeMeta(Database.java:634)\r\n            at org.h2.engine.Database.&lt;init&gt;(Database.java:357)\r\n            at org.h2.engine.Engine.openSession(Engine.java:92)\r\n            at org.h2.engine.Engine.openSession(Engine.java:222)\r\n            at org.h2.engine.Engine.createSession(Engine.java:201)\r\n            at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)\r\n            at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:122)\r\n            at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:288)\r\n            at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:270)\r\n            at org.h2.tools.Shell.runTool(Shell.java:146)\r\n            at org.h2.tools.Shell.main(Shell.java:80)\r\n    Caused by: org.h2.mvstore.MVStoreException: Chunk 849734 not found [2.1.212/9]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ohTWD.png","title":"H2db Error org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;Chunk not found&quot;","body":"<p>I have recently migrated h2db from version 1.X to version 2.X with the below steps</p>\n<pre><code>Step1) java -cp h2-1.4.192.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script migrate.sql\n</code></pre>\n<p>Some alters in migrate.sql.</p>\n<pre><code>Step2) java -cp h2-1.4.192.jar org.h2.tools.Script -url jdbc:h2:./h2db -script h2db.zip -options compression zip\n\nStep3) java -cp h2-2.1.212.jar org.h2.tools.RunScript -url jdbc:h2:./h2db -script h2db.zip -options compression zip FROM_1X\n</code></pre>\n<p>All works well and the application was started and running fine. My application uses the latest version of h2db 2.1.214 while the h2db.mv.db file was created with version 2.1.212. I restarted the application and suddenly I got the below error while it was creating the cached table. Also I tried to connect H2db with h2 console and got the same error. Screenshot attached. This issue occurs on customer production environment and now customer is not able to access the application.</p>\n<p><a href=\"https://i.stack.imgur.com/ohTWD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ohTWD.png\" alt=\"enter image description here\" /></a></p>\n<p>Error which I am getting is when h2db file created with version 2.1.212 and also accessed by the same version</p>\n<pre><code>Exception in thread &quot;main&quot; **org.h2.jdbc.JdbcSQLNonTransientException: General error: &quot;Chunk 849734 not found [2.1.212/9]&quot;; SQL statement:**\nCREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;ABC_XYZ&quot;(\n    &quot;ID&quot; BIGINT SELECTIVITY 100 NOT NULL,\n    &quot;MACHINE_ID&quot; BIGINT SELECTIVITY 1,\n    &quot;WHEN_CREATED&quot; BIGINT SELECTIVITY 100 NOT NULL,\n    &quot;STATE&quot; INTEGER SELECTIVITY 1,\n    &quot;WHEN_STATE_LAST_CHANGED&quot; BIGINT SELECTIVITY 1,\n    &quot;WHO_CHANGED_STATE_LAST&quot; BIGINT SELECTIVITY 1\n) [50000-212]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:554)\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n        at org.h2.message.DbException.get(DbException.java:212)\n        at org.h2.mvstore.db.Store.convertMVStoreException(Store.java:170)\n        at org.h2.mvstore.db.Store.createTable(Store.java:220)\n        at org.h2.schema.Schema.createTable(Schema.java:781)\n        at org.h2.command.ddl.CreateTable.update(CreateTable.java:109)\n        at org.h2.engine.MetaRecord.prepareAndExecute(MetaRecord.java:77)\n        at org.h2.engine.Database.executeMeta(Database.java:660)\n        at org.h2.engine.Database.executeMeta(Database.java:634)\n        at org.h2.engine.Database.&lt;init&gt;(Database.java:357)\n        at org.h2.engine.Engine.openSession(Engine.java:92)\n        at org.h2.engine.Engine.openSession(Engine.java:222)\n        at org.h2.engine.Engine.createSession(Engine.java:201)\n        at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)\n        at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:122)\n        at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:288)\n        at org.h2.util.JdbcUtils.getConnection(JdbcUtils.java:270)\n        at org.h2.tools.Shell.runTool(Shell.java:146)\n        at org.h2.tools.Shell.main(Shell.java:80)\nCaused by: org.h2.mvstore.MVStoreException: Chunk 849734 not found [2.1.212/9]\n</code></pre>\n"},{"tags":["java","calendar","output","user-input"],"comments":[{"owner":{"account_id":25952562,"reputation":1,"user_id":19670376,"display_name":"NEWCODE"},"score":0,"creation_date":1666378807,"post_id":74158123,"comment_id":130931410,"body_markdown":"I&#39;m sorry about the formatting issues.","body":"I&#39;m sorry about the formatting issues."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1666380363,"post_id":74158123,"comment_id":130931830,"body_markdown":"Since you mentioned already taking care of new year, it&#39;s relevant to read this if you&#39;re working with time and dates: https://gist.github.com/timvisee/fcda9bbdff88d45cc9061606b4b923ca  It&#39;s so complicated that the original Java utilities for working with time and dates had a lot of problems, and they eventually added the `java.time` package to the standard library to fix all the issues. This is not a trivial issue at all. Personally, I wouldn&#39;t attempt coding it myself from scratch as an exercise, because it sounds like torture. I&#39;d just use the `java.time` package.","body":"Since you mentioned already taking care of new year, it&#39;s relevant to read this if you&#39;re working with time and dates: <a href=\"https://gist.github.com/timvisee/fcda9bbdff88d45cc9061606b4b923ca\" rel=\"nofollow noreferrer\">gist.github.com/timvisee/fcda9bbdff88d45cc9061606b4b923ca</a>  It&#39;s so complicated that the original Java utilities for working with time and dates had a lot of problems, and they eventually added the <code>java.time</code> package to the standard library to fix all the issues. This is not a trivial issue at all. Personally, I wouldn&#39;t attempt coding it myself from scratch as an exercise, because it sounds like torture. I&#39;d just use the <code>java.time</code> package."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1666381180,"post_id":74158123,"comment_id":130932050,"body_markdown":"Also, your code is Java and has nothing to do with Javascript.","body":"Also, your code is Java and has nothing to do with Javascript."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666390598,"post_id":74158123,"comment_id":130934156,"body_markdown":"I fixed your formatting. But you can learn to do so yourself: Either indent all lines by four spaces OR wrap in a pair of triple back-ticks.","body":"I fixed your formatting. But you can learn to do so yourself: Either indent all lines by four spaces OR wrap in a pair of triple back-ticks."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666390664,"post_id":74158123,"comment_id":130934174,"body_markdown":"If doing schoolwork, **say so**. Our answers will vary accordingly. In this case, if you were doing real work we would replace all your code to use instead the built-in *java.time* classes.","body":"If doing schoolwork, <b>say so</b>. Our answers will vary accordingly. In this case, if you were doing real work we would replace all your code to use instead the built-in <i>java.time</i> classes."},{"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"score":1,"creation_date":1666635065,"post_id":74158123,"comment_id":130979191,"body_markdown":"You are sure that you want to solve the problem yourself and not rely on mature library methods of Java? Also which Java version are you using?","body":"You are sure that you want to solve the problem yourself and not rely on mature library methods of Java? Also which Java version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666387252,"creation_date":1666387252,"answer_id":74159255,"question_id":74158123,"body_markdown":"So you have a function that takes month and year and renders that month.\r\n\r\nHow about you create another function that has just the year as parameter, then loops over all months and calls the function that needs month and year as parameters. It also assembles the rendered months into a year calendar.","title":"I created a calendar that asks for a month and year. I wanted to modify it so that it asks the user for only a year and prints out all the months","body":"<p>So you have a function that takes month and year and renders that month.</p>\n<p>How about you create another function that has just the year as parameter, then loops over all months and calls the function that needs month and year as parameters. It also assembles the rendered months into a year calendar.</p>\n"}],"owner":{"account_id":25952562,"reputation":1,"user_id":19670376,"display_name":"NEWCODE"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666390561,"creation_date":1666378753,"question_id":74158123,"body_markdown":"I am a beginner coder and I have some experience with Java. \r\n\r\nI made this simple calendar program and kept changing it in the past week. I wanted to make it so that a perfect series of dates would appear when a user inputs a  month and a year. However, I wanted to change it so that the user only asks for a year and the entire sets of months are shown. \r\n\r\nFor example the code asks to enter a year: . The user must choose any year they want, (I already took care of the leap year issue), and all months from January to December must show up in order and in correct format. I tried to change my code but I keep messing up. How would I go the best way to change my code so that I can get the entire set of months in a year given by a user?\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Month\r\n{\r\n    private static final String[] MONTHS = {\r\n            &quot;&quot;, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,\r\n            &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;\r\n        };\r\n\r\n    private static final int[] NUMDAYS = {\r\n            0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\r\n        };\r\n\r\n    private int month;\r\n    private int year;\r\n\r\n    public Month(int month, int year) {\r\n        this.month = month;\r\n        this.year = year;\r\n    }\r\n\r\n    public int getMonth() {\r\n        return month;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    private boolean isLeapYear() {\r\n        if(year % 400 == 0) {\r\n            return true;\r\n        }\r\n        if(year % 100 == 0) {\r\n            return false;\r\n        }\r\n        return year % 4 == 0;\r\n    }\r\n\r\n    private int getNumDays() {\r\n        if(month == 2) {\r\n            if(isLeapYear()) {\r\n                return 29;\r\n            }\r\n            else {\r\n                return 28;\r\n            }\r\n        }\r\n        else {\r\n            return NUMDAYS[month];\r\n        }\r\n    }\r\n\r\n    private int getStartDOW() {\r\n        int m, y;\r\n        if(month &lt; 3) {\r\n            m = month + 12;\r\n            y = year - 1;\r\n        }\r\n        else {\r\n            m = month;\r\n            y = year;\r\n        }\r\n        return (13 * (m + 1) / 5 + y + y / 4 - y / 100 + y / 400) % 7;\r\n    }\r\n\r\n    public void printCalendar() {\r\n        //I changed this part so that the month and year could be centered, if you have an \r\n        //easier or cleaner way to do it, I would appreciate learning it.\r\n\r\n        if(month == 2||month == 11 || month == 12 || month == 9){\r\n            System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; + year);\r\n        }else if(month == 3||month == 4 || month == 6 || month == 7 || month == 5){\r\n            System.out.println(&quot;      &quot; + MONTHS[month] + &quot; &quot; + year);\r\n        }else if(month == 1||month == 10 || month == 8){\r\n\r\n            //This is what I originally had System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; \r\n            //+ year);\r\n        }\r\n        System.out.println(&quot; S  M  T  W  T  F  S&quot;);\r\n        int dow = getStartDOW();\r\n        for(int i = 0; i &lt; dow; i++) {\r\n            System.out.print(&quot;   &quot;);\r\n        }\r\n        int numdays = getNumDays();\r\n        for(int i = 1; i &lt;= numdays; i++) {\r\n            System.out.printf(&quot;%2d &quot;, i);\r\n            if(dow == 6) {\r\n                System.out.println();\r\n                dow = 0;\r\n            }\r\n            else {\r\n                dow++;\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;Enter month (1-12)&quot;);\r\n        int month = s.nextInt();\r\n        System.out.println(&quot;Enter year: &quot;);\r\n        int year = s.nextInt();\r\n        Month m = new Month(month, year);\r\n        m.printCalendar();\r\n    }\r\n}\r\n```\r\n\r\n","title":"I created a calendar that asks for a month and year. I wanted to modify it so that it asks the user for only a year and prints out all the months","body":"<p>I am a beginner coder and I have some experience with Java.</p>\n<p>I made this simple calendar program and kept changing it in the past week. I wanted to make it so that a perfect series of dates would appear when a user inputs a  month and a year. However, I wanted to change it so that the user only asks for a year and the entire sets of months are shown.</p>\n<p>For example the code asks to enter a year: . The user must choose any year they want, (I already took care of the leap year issue), and all months from January to December must show up in order and in correct format. I tried to change my code but I keep messing up. How would I go the best way to change my code so that I can get the entire set of months in a year given by a user?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Month\n{\n    private static final String[] MONTHS = {\n            &quot;&quot;, &quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;,\n            &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;\n        };\n\n    private static final int[] NUMDAYS = {\n            0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\n        };\n\n    private int month;\n    private int year;\n\n    public Month(int month, int year) {\n        this.month = month;\n        this.year = year;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    private boolean isLeapYear() {\n        if(year % 400 == 0) {\n            return true;\n        }\n        if(year % 100 == 0) {\n            return false;\n        }\n        return year % 4 == 0;\n    }\n\n    private int getNumDays() {\n        if(month == 2) {\n            if(isLeapYear()) {\n                return 29;\n            }\n            else {\n                return 28;\n            }\n        }\n        else {\n            return NUMDAYS[month];\n        }\n    }\n\n    private int getStartDOW() {\n        int m, y;\n        if(month &lt; 3) {\n            m = month + 12;\n            y = year - 1;\n        }\n        else {\n            m = month;\n            y = year;\n        }\n        return (13 * (m + 1) / 5 + y + y / 4 - y / 100 + y / 400) % 7;\n    }\n\n    public void printCalendar() {\n        //I changed this part so that the month and year could be centered, if you have an \n        //easier or cleaner way to do it, I would appreciate learning it.\n\n        if(month == 2||month == 11 || month == 12 || month == 9){\n            System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; + year);\n        }else if(month == 3||month == 4 || month == 6 || month == 7 || month == 5){\n            System.out.println(&quot;      &quot; + MONTHS[month] + &quot; &quot; + year);\n        }else if(month == 1||month == 10 || month == 8){\n\n            //This is what I originally had System.out.println(&quot;    &quot; + MONTHS[month] + &quot; &quot; \n            //+ year);\n        }\n        System.out.println(&quot; S  M  T  W  T  F  S&quot;);\n        int dow = getStartDOW();\n        for(int i = 0; i &lt; dow; i++) {\n            System.out.print(&quot;   &quot;);\n        }\n        int numdays = getNumDays();\n        for(int i = 1; i &lt;= numdays; i++) {\n            System.out.printf(&quot;%2d &quot;, i);\n            if(dow == 6) {\n                System.out.println();\n                dow = 0;\n            }\n            else {\n                dow++;\n            }\n        }\n        System.out.println();\n    }\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter month (1-12)&quot;);\n        int month = s.nextInt();\n        System.out.println(&quot;Enter year: &quot;);\n        int year = s.nextInt();\n        Month m = new Month(month, year);\n        m.printCalendar();\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9281,"page":942,"page_size":100}
