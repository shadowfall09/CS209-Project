{"items":[{"tags":["java","group-by","java-8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1663919512,"post_id":73824448,"comment_id":130356872,"body_markdown":"Where exactly are you stuck? You seem to have forgotton to sum marks in your current solution, and what is the first `stream` for?","body":"Where exactly are you stuck? You seem to have forgotton to sum marks in your current solution, and what is the first <code>stream</code> for?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1663923018,"post_id":73824448,"comment_id":130358059,"body_markdown":"Are you using [lombok](https://projectlombok.org/) ?","body":"Are you using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">lombok</a> ?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1663923066,"post_id":73824448,"comment_id":130358072,"body_markdown":"There is a modelling error here: `marks` shouldn&#39;t be a property of a `Student`, since you need multiple `Student`s to represent the marks of a single person.","body":"There is a modelling error here: <code>marks</code> shouldn&#39;t be a property of a <code>Student</code>, since you need multiple <code>Student</code>s to represent the marks of a single person."}],"answers":[{"tags":[],"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663920434,"creation_date":1663920434,"answer_id":73824737,"question_id":73824448,"body_markdown":"```java\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;Student&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Student(1, &quot;A&quot;, 10));\r\n        list.add(new Student(1, &quot;A&quot;, 20));\r\n        list.add(new Student(1, &quot;A&quot;, 10));\r\n        list.add(new Student(1, &quot;A&quot;, 30));\r\n        list.add(new Student(2, &quot;B&quot;, 40));\r\n        list.add(new Student(2, &quot;B&quot;, 50));\r\n\r\n        Map&lt;Integer, Student&gt; map = list.stream().collect(Collectors.toMap(Student::getId, Function.identity(),\r\n                (existing, replacement) -&gt; {\r\n                    existing.setMarks(existing.getMarks()+replacement.getMarks());\r\n                    return existing;\r\n                }));\r\n\r\n        System.out.println(map.values());\r\n    }\r\n}\r\n\r\nclass Student {\r\n    int id;\r\n    String name;\r\n    int marks;\r\n\r\n    public Student(int id, String name, int marks) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.marks = marks;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public int getMarks() {\r\n        return marks;\r\n    }\r\n\r\n    public void setMarks(int marks) {\r\n        this.marks = marks;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;{&quot;+id+&quot;, \\&quot;&quot;+name+&quot;\\&quot;, &quot;+marks+&quot;}&quot;;\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n[{1, &quot;A&quot;, 70}, {2, &quot;B&quot;, 90}]\r\n```","title":"In ArrayList, group by a key and perform summation over one of the values","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n        List&lt;Student&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Student(1, &quot;A&quot;, 10));\n        list.add(new Student(1, &quot;A&quot;, 20));\n        list.add(new Student(1, &quot;A&quot;, 10));\n        list.add(new Student(1, &quot;A&quot;, 30));\n        list.add(new Student(2, &quot;B&quot;, 40));\n        list.add(new Student(2, &quot;B&quot;, 50));\n\n        Map&lt;Integer, Student&gt; map = list.stream().collect(Collectors.toMap(Student::getId, Function.identity(),\n                (existing, replacement) -&gt; {\n                    existing.setMarks(existing.getMarks()+replacement.getMarks());\n                    return existing;\n                }));\n\n        System.out.println(map.values());\n    }\n}\n\nclass Student {\n    int id;\n    String name;\n    int marks;\n\n    public Student(int id, String name, int marks) {\n        this.id = id;\n        this.name = name;\n        this.marks = marks;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getMarks() {\n        return marks;\n    }\n\n    public void setMarks(int marks) {\n        this.marks = marks;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;{&quot;+id+&quot;, \\&quot;&quot;+name+&quot;\\&quot;, &quot;+marks+&quot;}&quot;;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[{1, &quot;A&quot;, 70}, {2, &quot;B&quot;, 90}]\n</code></pre>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73824737,"answer_count":1,"score":-1,"last_activity_date":1663921171,"creation_date":1663918766,"question_id":73824448,"body_markdown":"I have a list of Student objects.\r\n\r\nIt is required to get create a new list which should be having sum of their marks.\r\n\r\nPreferred if this can be done using `Java-8`\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;Student&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Student(1, &quot;A&quot;, 10));\r\n        list.add(new Student(1, &quot;A&quot;, 20));\r\n        list.add(new Student(1, &quot;A&quot;, 10));\r\n        list.add(new Student(1, &quot;A&quot;, 30));\r\n        list.add(new Student(2, &quot;B&quot;, 40));\r\n        list.add(new Student(2, &quot;B&quot;, 50));\r\n\r\n        Map&lt;String, List&lt;Student&gt;&gt; map = list\r\n                .stream()\r\n                .collect(Collectors.groupingBy(Student::getName));\r\n        System.out.println(map);  // not getting desired result\r\n        \r\n        // Expected Output\r\n        // list [{1, &quot;A&quot;, 70}, {2, &quot;B&quot;, 90}]\r\n\r\n    }\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\nclass Student {\r\n    int id;\r\n    String name;\r\n    int marks;\r\n}\r\n```\r\n\r\nI get below exception\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Duplicate key 1 (attempted merging values Student(id=1, name=A, marks=10) and Student(id=1, name=A, marks=20))\r\n\tat java.base/java.util.stream.Collectors.duplicateKeyException(Collectors.java:135)\r\n\tat java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Collectors.java:182)\r\n\tat java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n\tat com.tara.cas.service.Test.main(Test.java:22)\r\n\r\n```","title":"In ArrayList, group by a key and perform summation over one of the values","body":"<p>I have a list of Student objects.</p>\n<p>It is required to get create a new list which should be having sum of their marks.</p>\n<p>Preferred if this can be done using <code>Java-8</code></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        List&lt;Student&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Student(1, &quot;A&quot;, 10));\n        list.add(new Student(1, &quot;A&quot;, 20));\n        list.add(new Student(1, &quot;A&quot;, 10));\n        list.add(new Student(1, &quot;A&quot;, 30));\n        list.add(new Student(2, &quot;B&quot;, 40));\n        list.add(new Student(2, &quot;B&quot;, 50));\n\n        Map&lt;String, List&lt;Student&gt;&gt; map = list\n                .stream()\n                .collect(Collectors.groupingBy(Student::getName));\n        System.out.println(map);  // not getting desired result\n        \n        // Expected Output\n        // list [{1, &quot;A&quot;, 70}, {2, &quot;B&quot;, 90}]\n\n    }\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\nclass Student {\n    int id;\n    String name;\n    int marks;\n}\n</code></pre>\n<p>I get below exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Duplicate key 1 (attempted merging values Student(id=1, name=A, marks=10) and Student(id=1, name=A, marks=20))\n    at java.base/java.util.stream.Collectors.duplicateKeyException(Collectors.java:135)\n    at java.base/java.util.stream.Collectors.lambda$uniqKeysMapAccumulator$1(Collectors.java:182)\n    at java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at com.tara.cas.service.Test.main(Test.java:22)\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1663915173,"post_id":73823643,"comment_id":130355628,"body_markdown":"Well, is your file named `CustomString.java`? Because the error message is stating that it is not","body":"Well, is your file named <code>CustomString.java</code>? Because the error message is stating that it is not"},{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":0,"creation_date":1663915913,"post_id":73823643,"comment_id":130355831,"body_markdown":"Check your file name, if you are using public class then file name and class name should be same.","body":"Check your file name, if you are using public class then file name and class name should be same."}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663915069,"creation_date":1663915069,"answer_id":73823831,"question_id":73823643,"body_markdown":"1. rename your file to CustomString.java\r\n2. you are missing a ```}```at the end of your code","title":"class CustomString is public, should be declared in a file named CustomString.java public class CustomString { ^ 1 error","body":"<ol>\n<li>rename your file to CustomString.java</li>\n<li>you are missing a <code>}</code>at the end of your code</li>\n</ol>\n"}],"owner":{"account_id":26419679,"reputation":1,"user_id":20067504,"display_name":"Dhiksha Gopalakrishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663922698,"answer_count":1,"score":0,"last_activity_date":1663921152,"creation_date":1663913478,"question_id":73823643,"body_markdown":"I&#39;m getting this error.\r\n\r\nhere is my code:\r\n\r\n```\r\n\r\nimport java.util.HashMap;\r\n\r\nimport java.util.Map;\r\n\r\npublic class CustomString {\r\n\r\n\t// instance attributes\r\n\tString myString;\r\n\tboolean isSet;\r\n\r\n\t/**\r\n\t * initializing the instance attribute\r\n\t */\r\n\tpublic CustomString() {\r\n\t\tmyString = null;\r\n\t\tisSet = false;\r\n\r\n\t}\r\n```\r\n\r\n\t","title":"class CustomString is public, should be declared in a file named CustomString.java public class CustomString { ^ 1 error","body":"<p>I'm getting this error.</p>\n<p>here is my code:</p>\n<pre><code>\nimport java.util.HashMap;\n\nimport java.util.Map;\n\npublic class CustomString {\n\n    // instance attributes\n    String myString;\n    boolean isSet;\n\n    /**\n     * initializing the instance attribute\n     */\n    public CustomString() {\n        myString = null;\n        isSet = false;\n\n    }\n</code></pre>\n"},{"tags":["java","postgresql","benchmarking","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663920929,"creation_date":1663920929,"answer_id":73824830,"question_id":73796196,"body_markdown":"In JMH you should keep all initialization routine in a method annotated with `@Setup`, see example in JMH Samples: https://github.com/openjdk/jmh/blob/master/jmh-samples/src/main/java/org/openjdk/jmh/samples/JMHSample_05_StateFixtures.java","title":"JMH - Benchmarking SQL Queries In Java","body":"<p>In JMH you should keep all initialization routine in a method annotated with <code>@Setup</code>, see example in JMH Samples: <a href=\"https://github.com/openjdk/jmh/blob/master/jmh-samples/src/main/java/org/openjdk/jmh/samples/JMHSample_05_StateFixtures.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jmh/blob/master/jmh-samples/src/main/java/org/openjdk/jmh/samples/JMHSample_05_StateFixtures.java</a></p>\n"}],"owner":{"account_id":14952668,"reputation":1028,"user_id":10795139,"display_name":"MnkDude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663920929,"creation_date":1663741542,"question_id":73796196,"body_markdown":"I&#39;m checking some sql queries performance variation between raw query, PreparedStatement. As I&#39;m beginner using JMH couldn&#39;t get how internal flow calling our methods. Getting confused in below code :-\r\n\r\n    private static final String url = &quot;jdbc:postgresql://localhost:5432/postgres&quot;;\r\n    static Connection getConnection(){\r\n        try {\r\n            conn = DriverManager.getConnection(url, user, password);\r\n            System.out.println(&quot;Connected to the PostgresSQL server successfully. &quot;);\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return conn;\r\n    }\r\n    \r\n    @Benchmark\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @BenchmarkMode(Mode.SingleShotTime)\r\n    @Fork(value = 1, warmups = 5)\r\n    public static String executeSql() {\r\n        if(conn == null) {\r\n            conn = getConnection();\r\n        }\r\n        String query = &quot;select * from EmpDetails where EMP_ID=123 &quot;;\r\n        try (Statement stmt = conn.createStatement()) {\r\n            ResultSet rs = stmt.executeQuery(query);\r\n            while (rs.next()) {\r\n                return rs.getString(1);\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\nResults :-\r\n\r\n&gt; Benchmark mode: Single shot invocation time &lt;br&gt;\r\n&gt; Benchmark: com.mnk.BenchMarking.executeSql&lt;br&gt;\r\n&gt; Run progress: 0.00% complete, ETA 00:00:00&lt;br&gt;\r\n&gt; Warmup Fork: 1 of 5 &lt;br&gt;\r\n&gt; Iteration   1: Connected to the PostgresSQL server successfully.&lt;br&gt;\r\n&gt; 190.550 ms/op\r\n\r\n&gt; Run progress: 10.00% complete, ETA 00:00:11\r\n&gt; Warmup Fork: 2 of 5\r\n&gt; Iteration   1: Connected to the PostgresSQL server successfully.&lt;br&gt; \r\n&gt; 174.217 ms/op\r\n\r\n&gt; Run progress: 20.00% complete, ETA 00:00:09\r\n&gt; Warmup Fork: 3 of 5\r\n&gt; Iteration   1: Connected to the PostgresSQL server successfully.&lt;br&gt; \r\n&gt; 175.219 ms/op\r\n\r\n&gt; Run progress: 30.00% complete, ETA 00:00:08\r\n&gt; Warmup Fork: 4 of 5\r\n&gt; Iteration   1: Connected to the PostgresSQL server successfully.&lt;br&gt; \r\n&gt; 180.964 ms/op\r\n\r\n&gt; Run progress: 40.00% complete, ETA 00:00:07\r\n&gt; Warmup Fork: 5 of 5\r\n&gt; Iteration   1: Connected to the PostgresSQL server successfully.&lt;br&gt; \r\n&gt; 163.894 ms/op\r\n\r\nHere I&#39;m expecting getConnection() method to call only once and that connection object will be reused every iteration. But getConnection() method too called for every iteration which is causing invalid results. Also due to this I couldn&#39;t evaluate executeQuery() performance. \r\n\r\nKindly someone give insights about how I can approach this problem.","title":"JMH - Benchmarking SQL Queries In Java","body":"<p>I'm checking some sql queries performance variation between raw query, PreparedStatement. As I'm beginner using JMH couldn't get how internal flow calling our methods. Getting confused in below code :-</p>\n<pre><code>private static final String url = &quot;jdbc:postgresql://localhost:5432/postgres&quot;;\nstatic Connection getConnection(){\n    try {\n        conn = DriverManager.getConnection(url, user, password);\n        System.out.println(&quot;Connected to the PostgresSQL server successfully. &quot;);\n    } catch (SQLException e) {\n        System.out.println(e.getMessage());\n    }\n    return conn;\n}\n\n@Benchmark\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@BenchmarkMode(Mode.SingleShotTime)\n@Fork(value = 1, warmups = 5)\npublic static String executeSql() {\n    if(conn == null) {\n        conn = getConnection();\n    }\n    String query = &quot;select * from EmpDetails where EMP_ID=123 &quot;;\n    try (Statement stmt = conn.createStatement()) {\n        ResultSet rs = stmt.executeQuery(query);\n        while (rs.next()) {\n            return rs.getString(1);\n        }\n    } catch (SQLException e) {\n        System.out.println(e.getMessage());\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>Results :-</p>\n<blockquote>\n<p>Benchmark mode: Single shot invocation time <br>\nBenchmark: com.mnk.BenchMarking.executeSql<br>\nRun progress: 0.00% complete, ETA 00:00:00<br>\nWarmup Fork: 1 of 5 <br>\nIteration   1: Connected to the PostgresSQL server successfully.<br>\n190.550 ms/op</p>\n</blockquote>\n<blockquote>\n<p>Run progress: 10.00% complete, ETA 00:00:11\nWarmup Fork: 2 of 5\nIteration   1: Connected to the PostgresSQL server successfully.<br>\n174.217 ms/op</p>\n</blockquote>\n<blockquote>\n<p>Run progress: 20.00% complete, ETA 00:00:09\nWarmup Fork: 3 of 5\nIteration   1: Connected to the PostgresSQL server successfully.<br>\n175.219 ms/op</p>\n</blockquote>\n<blockquote>\n<p>Run progress: 30.00% complete, ETA 00:00:08\nWarmup Fork: 4 of 5\nIteration   1: Connected to the PostgresSQL server successfully.<br>\n180.964 ms/op</p>\n</blockquote>\n<blockquote>\n<p>Run progress: 40.00% complete, ETA 00:00:07\nWarmup Fork: 5 of 5\nIteration   1: Connected to the PostgresSQL server successfully.<br>\n163.894 ms/op</p>\n</blockquote>\n<p>Here I'm expecting getConnection() method to call only once and that connection object will be reused every iteration. But getConnection() method too called for every iteration which is causing invalid results. Also due to this I couldn't evaluate executeQuery() performance.</p>\n<p>Kindly someone give insights about how I can approach this problem.</p>\n"},{"tags":["java","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1276776799,"creation_date":1276775331,"answer_id":3061343,"question_id":3061328,"body_markdown":"Only two examples comes to mind:\r\n\r\n- [`java.lang.Runtime#getRuntime()`][1]\r\n- [`java.awt.Desktop#getDesktop()`][2]\r\n\r\n**See also**:\r\n\r\n- [Real world examples of GoF Design Patterns in Java API][3]\r\n\r\n---\r\n\r\n**Update**: to answer PeterMmm&#39;s (currently deleted?) comment (which asked how I knew that it was a singleton), check the javadoc and source code:\r\n\r\n    public class Runtime {\r\n        private static Runtime currentRuntime = new Runtime();\r\n    \r\n        /**\r\n         * Returns the runtime object associated with the current Java application.\r\n         * Most of the methods of class &lt;code&gt;Runtime&lt;/code&gt; are instance \r\n         * methods and must be invoked with respect to the current runtime object. \r\n         * \r\n         * @return  the &lt;code&gt;Runtime&lt;/code&gt; object associated with the current\r\n         *          Java application.\r\n         */\r\n        public static Runtime getRuntime() { \r\n            return currentRuntime;\r\n        }\r\n\r\n        /** Don&#39;t let anyone else instantiate this class */\r\n        private Runtime() {}\r\n\r\n\r\nIt returns the same instance everytime and it has a `private` constructor.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#getRuntime%28%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/awt/Desktop.html#getDesktop%28%29\r\n  [3]: https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns/2707195#2707195","title":"Examples of singleton classes in the Java APIs","body":"<p>Only two examples comes to mind:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#getRuntime%28%29\" rel=\"noreferrer\"><code>java.lang.Runtime#getRuntime()</code></a></li>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Desktop.html#getDesktop%28%29\" rel=\"noreferrer\"><code>java.awt.Desktop#getDesktop()</code></a></li>\n</ul>\n\n<p><strong>See also</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns/2707195#2707195\">Real world examples of GoF Design Patterns in Java API</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Update</strong>: to answer PeterMmm's (currently deleted?) comment (which asked how I knew that it was a singleton), check the javadoc and source code:</p>\n\n<pre><code>public class Runtime {\n    private static Runtime currentRuntime = new Runtime();\n\n    /**\n     * Returns the runtime object associated with the current Java application.\n     * Most of the methods of class &lt;code&gt;Runtime&lt;/code&gt; are instance \n     * methods and must be invoked with respect to the current runtime object. \n     * \n     * @return  the &lt;code&gt;Runtime&lt;/code&gt; object associated with the current\n     *          Java application.\n     */\n    public static Runtime getRuntime() { \n        return currentRuntime;\n    }\n\n    /** Don't let anyone else instantiate this class */\n    private Runtime() {}\n</code></pre>\n\n<p>It returns the same instance everytime and it has a <code>private</code> constructor.</p>\n"},{"tags":[],"owner":{"account_id":141504,"reputation":3931,"user_id":348576,"accept_rate":82,"display_name":"Khorkrak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663920591,"creation_date":1276776348,"answer_id":3061458,"question_id":3061328,"body_markdown":"Note singletons should be used with care and reflection. Consider the arguments against singletons and your situation before you implement one.  Overuse of singletons is an anti-pattern - similar to global variables.\r\n\r\n[Singleton Wiki Article][1]\r\n\r\n[Java Dev on Singletons][2]\r\n\r\n[Why Singletons are Evil][3]\r\n\r\nI&#39;ve used them in the past and see some benefit to them.  I&#39;ve also been highly annoyed when trying to do test driven development with them around that&#39;s one area where they are evil. Also inheriting from them results in some hard to understand behaviour - at least in Python - I don&#39;t know for sure in Java.  Generally you just don&#39;t do it because of that.  So like threading these seem like a great idea at first and then you run into the pitfalls and realize well maybe this isn&#39;t so good after all.\n\n [1]: https://en.wikipedia.org/wiki/Singleton_pattern\n [2]: https://epramono.blogspot.com/2004/09/singleton-anti-pattern.html\n [3]: https://learn.microsoft.com/en-us/archive/blogs/scottdensmore/why-singletons-are-evil","title":"Examples of singleton classes in the Java APIs","body":"<p>Note singletons should be used with care and reflection. Consider the arguments against singletons and your situation before you implement one.  Overuse of singletons is an anti-pattern - similar to global variables.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow noreferrer\">Singleton Wiki Article</a></p>\n<p><a href=\"https://epramono.blogspot.com/2004/09/singleton-anti-pattern.html\" rel=\"nofollow noreferrer\">Java Dev on Singletons</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/archive/blogs/scottdensmore/why-singletons-are-evil\" rel=\"nofollow noreferrer\">Why Singletons are Evil</a></p>\n<p>I've used them in the past and see some benefit to them.  I've also been highly annoyed when trying to do test driven development with them around that's one area where they are evil. Also inheriting from them results in some hard to understand behaviour - at least in Python - I don't know for sure in Java.  Generally you just don't do it because of that.  So like threading these seem like a great idea at first and then you run into the pitfalls and realize well maybe this isn't so good after all.</p>\n"},{"tags":[],"owner":{"account_id":121177,"reputation":18547,"user_id":314073,"accept_rate":88,"display_name":"Xorty"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1276776748,"creation_date":1276776748,"answer_id":3061486,"question_id":3061328,"body_markdown":"This is for Swing : [SingleFrameApplication][1]. Check out [this presentation][2] it wonderfully describes how does it work.\r\n\r\n\r\n  [1]: http://www.jarvana.com/jarvana/view/net/java/dev/appframework/appframework/1.03/appframework-1.03-javadoc.jar!/org/jdesktop/application/SingleFrameApplication.html\r\n  [2]: http://www.slideshare.net/oscon2007/os-haase","title":"Examples of singleton classes in the Java APIs","body":"<p>This is for Swing : <a href=\"http://www.jarvana.com/jarvana/view/net/java/dev/appframework/appframework/1.03/appframework-1.03-javadoc.jar!/org/jdesktop/application/SingleFrameApplication.html\" rel=\"nofollow noreferrer\">SingleFrameApplication</a>. Check out <a href=\"http://www.slideshare.net/oscon2007/os-haase\" rel=\"nofollow noreferrer\">this presentation</a> it wonderfully describes how does it work.</p>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12012,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":3061343,"answer_count":3,"score":11,"last_activity_date":1663920591,"creation_date":1276775191,"question_id":3061328,"body_markdown":"What are the best examples of the Singleton design pattern in the Java APIs? Is the `Runtime` class a singleton?","title":"Examples of singleton classes in the Java APIs","body":"<p>What are the best examples of the Singleton design pattern in the Java APIs? Is the <code>Runtime</code> class a singleton?</p>\n"},{"tags":["java","cloudinary","ofbiz"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":2,"creation_date":1663917455,"post_id":73824096,"comment_id":130356239,"body_markdown":"Cannot see the &quot;package&quot; declarations at the file tops. Take a careful look at your imports too that they match packaging levels properly.","body":"Cannot see the &quot;package&quot; declarations at the file tops. Take a careful look at your imports too that they match packaging levels properly."},{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":0,"creation_date":1663918106,"post_id":73824096,"comment_id":130356461,"body_markdown":"`private CloudinaryUpload cloudinaryUpload = CloudinaryUpload();` In this, are you creating the object of `CloudinaryUpload` class, then _CloudinaryUpload()_ function is return the instance of that class or you forgot it?","body":"<code>private CloudinaryUpload cloudinaryUpload = CloudinaryUpload();</code> In this, are you creating the object of <code>CloudinaryUpload</code> class, then <i>CloudinaryUpload()</i> function is return the instance of that class or you forgot it?"},{"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"score":0,"creation_date":1663918655,"post_id":73824096,"comment_id":130356644,"body_markdown":"yes I am creating the object  to access the cloudinary config","body":"yes I am creating the object  to access the cloudinary config"},{"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"score":0,"creation_date":1663919032,"post_id":73824096,"comment_id":130356737,"body_markdown":"https://stackoverflow.com/users/5354987/samuel-marchant They just import at the top","body":"<a href=\"https://stackoverflow.com/users/5354987/samuel-marchant\">stackoverflow.com/users/5354987/samuel-marchant</a> They just import at the top"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663919450,"post_id":73824096,"comment_id":130356855,"body_markdown":"You are not creating a class, you&#39;re calling a method `CloudinaryUpload()`, which does not exist. Did you mean to use `new CloudinaryUpload()`? As an aside the `main` method in `CloudinaryUpload` doesn&#39;t make sense to me, it doesn&#39;t really do anything. Do you maybe think that `CloudinaryUpload()` would somehow execute the `main` method (it does not, that is not how Java works).","body":"You are not creating a class, you&#39;re calling a method <code>CloudinaryUpload()</code>, which does not exist. Did you mean to use <code>new CloudinaryUpload()</code>? As an aside the <code>main</code> method in <code>CloudinaryUpload</code> doesn&#39;t make sense to me, it doesn&#39;t really do anything. Do you maybe think that <code>CloudinaryUpload()</code> would somehow execute the <code>main</code> method (it does not, that is not how Java works)."},{"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"score":0,"creation_date":1663919667,"post_id":73824096,"comment_id":130356914,"body_markdown":"Okay maybe I am not getting the gist of this java thing, How can I use the CloudinaryUpload inside ClientManagerServices class?","body":"Okay maybe I am not getting the gist of this java thing, How can I use the CloudinaryUpload inside ClientManagerServices class?"},{"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"score":0,"creation_date":1663919917,"post_id":73824096,"comment_id":130356978,"body_markdown":"I wanted A reusable class that I can use multiple times","body":"I wanted A reusable class that I can use multiple times"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1663920653,"post_id":73824096,"comment_id":130357200,"body_markdown":"Then you shouldn&#39;t put things in main. Read any introductory Java text that covers object oriented programming. The local variables you define in main should probably be fields. Then you also need accessors or other methods that do something with those fields.","body":"Then you shouldn&#39;t put things in main. Read any introductory Java text that covers object oriented programming. The local variables you define in main should probably be fields. Then you also need accessors or other methods that do something with those fields."}],"answers":[{"tags":[],"owner":{"account_id":8226177,"reputation":86,"user_id":6188429,"display_name":"Viet Hien Pham"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663920415,"creation_date":1663918177,"answer_id":73824341,"question_id":73824096,"body_markdown":"This line:\r\n\r\n    private CloudinaryUpload cloudinaryUpload = CloudinaryUpload();\r\n\r\nIf that is supposed to creating new instance it should be\r\n\r\n\r\n    private CloudinaryUpload cloudinaryUpload = new CloudinaryUpload();\r\n\r\nNote ... `new`.  If you leave out the `new`, then that is a call to a *method* named `CloudinaryUpload` ... and no such *method* exists in your code.","title":"Calling Java class in another class not working for me","body":"<p>This line:</p>\n<pre><code>private CloudinaryUpload cloudinaryUpload = CloudinaryUpload();\n</code></pre>\n<p>If that is supposed to creating new instance it should be</p>\n<pre><code>private CloudinaryUpload cloudinaryUpload = new CloudinaryUpload();\n</code></pre>\n<p>Note ... <code>new</code>.  If you leave out the <code>new</code>, then that is a call to a <em>method</em> named <code>CloudinaryUpload</code> ... and no such <em>method</em> exists in your code.</p>\n"}],"owner":{"account_id":21965926,"reputation":172,"user_id":16243176,"display_name":"MAXWEL OCHIENG"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663941366,"accepted_answer_id":73824341,"answer_count":1,"score":0,"last_activity_date":1663920415,"creation_date":1663916753,"question_id":73824096,"body_markdown":"I thought when Java classes are in the same directory, you don&#39;t need to import another class when you use it inside another.\r\nI have this class that will initiate Cloudinary uploading of files back to the cloud, but when I call it inside another class and run build I get this error &#39;cannot access CloudinaryUpload&#39;\r\n\r\nThe Cloudinary class\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport com.cloudinary.Cloudinary;\r\nimport com.cloudinary.utils.ObjectUtils;\r\n\r\npublic class CloudinaryUpload {\r\n\r\n    public static void main(String arg[])throws Exception{\r\n        Map config = ObjectUtils.asMap(\r\n            &quot;cloud_name&quot;, &quot;name&quot;,\r\n            &quot;api_key&quot;, &quot;api_key&quot;,\r\n            &quot;api_secret&quot;, &quot;api_secret&quot;,\r\n            &quot;secure&quot;, true\r\n        );\r\n        Cloudinary cloudinary = new Cloudinary(config);\r\n    }\r\n}\r\n```\r\n\r\nJust a snippet of code of  another class where I am calling it\r\n```java\r\npublic class ClientManagerServices {\r\n\r\n\tprivate static final int BYTES_DOWNLOAD = 1024;\r\n    \r\n    //The Cloudinary class\r\n    private CloudinaryUpload cloudinaryUpload = CloudinaryUpload();\r\n\tpublic static String getMessageBody(Delegator delegator, String requester, String subject, String registryFileId, String clientId) {\r\n\r\n\t\tGenericValue fileData = null;\r\n\t\tGenericValue userData = null;\r\n\t\tGenericValue clientData = null;\r\n\t\tString bodyToReturn = &quot;&quot;;\r\n\r\n\t\ttry {\r\n\t\t\tfileData = delegator.findOne(&quot;RegistryFile&quot;, UtilMisc.toMap(&quot;registryFileId&quot;, registryFileId), false);\r\n\t\t} catch (GenericEntityException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Calling Java class in another class not working for me","body":"<p>I thought when Java classes are in the same directory, you don't need to import another class when you use it inside another.\nI have this class that will initiate Cloudinary uploading of files back to the cloud, but when I call it inside another class and run build I get this error 'cannot access CloudinaryUpload'</p>\n<p>The Cloudinary class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.cloudinary.Cloudinary;\nimport com.cloudinary.utils.ObjectUtils;\n\npublic class CloudinaryUpload {\n\n    public static void main(String arg[])throws Exception{\n        Map config = ObjectUtils.asMap(\n            &quot;cloud_name&quot;, &quot;name&quot;,\n            &quot;api_key&quot;, &quot;api_key&quot;,\n            &quot;api_secret&quot;, &quot;api_secret&quot;,\n            &quot;secure&quot;, true\n        );\n        Cloudinary cloudinary = new Cloudinary(config);\n    }\n}\n</code></pre>\n<p>Just a snippet of code of  another class where I am calling it</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClientManagerServices {\n\n    private static final int BYTES_DOWNLOAD = 1024;\n    \n    //The Cloudinary class\n    private CloudinaryUpload cloudinaryUpload = CloudinaryUpload();\n    public static String getMessageBody(Delegator delegator, String requester, String subject, String registryFileId, String clientId) {\n\n        GenericValue fileData = null;\n        GenericValue userData = null;\n        GenericValue clientData = null;\n        String bodyToReturn = &quot;&quot;;\n\n        try {\n            fileData = delegator.findOne(&quot;RegistryFile&quot;, UtilMisc.toMap(&quot;registryFileId&quot;, registryFileId), false);\n        } catch (GenericEntityException e) {\n            e.printStackTrace();\n        }\n}\n</code></pre>\n"},{"tags":["java","keystore","truststore","cacerts"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653299542,"post_id":72345293,"comment_id":127809166,"body_markdown":"The short answer is: probably. I don&#39;t know of a ready-made solution so it probably needs to be customised. From which organisation are they getting their certs?","body":"The short answer is: probably. I don&#39;t know of a ready-made solution so it probably needs to be customised. From which organisation are they getting their certs?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1653307795,"post_id":72345293,"comment_id":127812128,"body_markdown":"As hinted by @g00se if they use(d) certs from a properly-run CA this shouldn&#39;t be necessary. If it is, you _can_ write code with a dummy TrustManager that writes the cert before/without validating, but you can get nearly there with `keytool -printcert -rfc -sslserver $host[:$port] &gt;file` -- this gets the cert _chain_, then you only need to pick out which cert you want and feed it back into `keytool -importcert` (or equivalent code). However, using keytool is out of scope for SO.","body":"As hinted by @g00se if they use(d) certs from a properly-run CA this shouldn&#39;t be necessary. If it is, you <i>can</i> write code with a dummy TrustManager that writes the cert before/without validating, but you can get nearly there with <code>keytool -printcert -rfc -sslserver $host[:$port] &gt;file</code> -- this gets the cert <i>chain</i>, then you only need to pick out which cert you want and feed it back into <code>keytool -importcert</code> (or equivalent code). However, using keytool is out of scope for SO."}],"answers":[{"tags":[],"owner":{"account_id":5237153,"reputation":557,"user_id":4185386,"display_name":"roadSurfer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663919437,"creation_date":1663919437,"answer_id":73824555,"question_id":72345293,"body_markdown":"Yes, although you should probably ask yourself questions on why you need to. Edge cases do abound and sometime it is simply necessary.\r\n\r\nThere is the Keystore API and you could write some code against that as detailed here: https://www.baeldung.com/java-keystore\r\n\r\nYou will, of course, need to ensure that correct checks and access control are in place, otherwise a bad actor could use this to modify your keystore and cause system to permit connect to/from things they shouldn&#39;t.","title":"Java: Alternative to Certificate updates to Cacerts file every year","body":"<p>Yes, although you should probably ask yourself questions on why you need to. Edge cases do abound and sometime it is simply necessary.</p>\n<p>There is the Keystore API and you could write some code against that as detailed here: <a href=\"https://www.baeldung.com/java-keystore\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-keystore</a></p>\n<p>You will, of course, need to ensure that correct checks and access control are in place, otherwise a bad actor could use this to modify your keystore and cause system to permit connect to/from things they shouldn't.</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73824555,"answer_count":1,"score":0,"last_activity_date":1663919437,"creation_date":1653293853,"question_id":72345293,"body_markdown":"Every year or thrice a month we have certificate updates for our various clients. \r\n\r\nWe need to open their website and in chrome view certificate and download as .der.\r\n\r\nEverytime we hit keytool command and update it to cacerts on local for development and on Production for connection. \r\n\r\nIs there way through &quot;Java code&quot; that we need to to download and update cacerts folder every time to prevent abrupt downtimes or any other way to do it?","title":"Java: Alternative to Certificate updates to Cacerts file every year","body":"<p>Every year or thrice a month we have certificate updates for our various clients.</p>\n<p>We need to open their website and in chrome view certificate and download as .der.</p>\n<p>Everytime we hit keytool command and update it to cacerts on local for development and on Production for connection.</p>\n<p>Is there way through &quot;Java code&quot; that we need to to download and update cacerts folder every time to prevent abrupt downtimes or any other way to do it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":2,"creation_date":1501027244,"post_id":45315299,"comment_id":77593043,"body_markdown":"You forgot to paste the code wherein you made a serious and concerted effort to solve this problem yourself.","body":"You forgot to paste the code wherein you made a serious and concerted effort to solve this problem yourself."},{"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"score":0,"creation_date":1501027356,"post_id":45315299,"comment_id":77593071,"body_markdown":"Added code you wanted","body":"Added code you wanted"},{"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"score":0,"creation_date":1501027441,"post_id":45315299,"comment_id":77593084,"body_markdown":"Map class is nothing special, just saving x and z.","body":"Map class is nothing special, just saving x and z."},{"owner":{"account_id":5138100,"reputation":3886,"user_id":4116239,"display_name":"Kevin J. Chase"},"score":1,"creation_date":1501030086,"post_id":45315299,"comment_id":77593643,"body_markdown":"Using sin(_θ_) and cos(_θ_) (along with radius _r_) works fine if you&#39;re trying to draw an _actual_ spiral, but it looks like you&#39;re trying to draw a grid &quot;in spiral order&quot;.\nIf you try to round your polar co-ordinates to Cartesian integers, you&#39;ll end up with all kinds of awful edge cases.\nYou&#39;re much better off thinking in terms of integer-valued (_x_, _y_) ordered pairs.","body":"Using sin(<i>θ</i>) and cos(<i>θ</i>) (along with radius <i>r</i>) works fine if you&#39;re trying to draw an <i>actual</i> spiral, but it looks like you&#39;re trying to draw a grid &quot;in spiral order&quot;. If you try to round your polar co-ordinates to Cartesian integers, you&#39;ll end up with all kinds of awful edge cases. You&#39;re much better off thinking in terms of integer-valued (<i>x</i>, <i>y</i>) ordered pairs."},{"owner":{"account_id":5138100,"reputation":3886,"user_id":4116239,"display_name":"Kevin J. Chase"},"score":0,"creation_date":1501272761,"post_id":45315299,"comment_id":77724935,"body_markdown":"Possible duplicate of [Algorithm for iterating over an outward spiral on a discrete 2D grid from the origin](https://stackoverflow.com/questions/3706219/algorithm-for-iterating-over-an-outward-spiral-on-a-discrete-2d-grid-from-the-or)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3706219/algorithm-for-iterating-over-an-outward-spiral-on-a-discrete-2d-grid-from-the-or\">Algorithm for iterating over an outward spiral on a discrete 2D grid from the origin</a>"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501029513,"creation_date":1501029513,"answer_id":45315585,"question_id":45315299,"body_markdown":"Think algorithmically. Identify the pattern.\r\n\r\nThe pattern is that you walk the circumference, one layer at a time.\r\n\r\n - In round 0, you are at the center point `(0,0)`.\r\n - In round 1, you walk the 8 cells around it.\r\n - In round 2, you walk the 16 cells around that.\r\n - In round 3, you walk the 24 cells around that.\r\n\r\nNow see the pattern:\r\n\r\n - In each round, the walk on each side is 2 more steps, totally 8 more steps per round.\r\n - Each round starts 1 cell to the right of the upper-left corner.\r\n - Walking on each side starts 1 cell from the corner.\r\n\r\nSo, now that you see the pattern, you can do it like this:\r\n\r\n - Calculate which round you are in.\r\n - For that round, calculate which side you are on.\r\n - Then calculate how many steps you&#39;ve taken on that side.\r\n - Finally, calculate the coordinate from that.","title":"Create endless grid spiral in java","body":"<p>Think algorithmically. Identify the pattern.</p>\n\n<p>The pattern is that you walk the circumference, one layer at a time.</p>\n\n<ul>\n<li>In round 0, you are at the center point <code>(0,0)</code>.</li>\n<li>In round 1, you walk the 8 cells around it.</li>\n<li>In round 2, you walk the 16 cells around that.</li>\n<li>In round 3, you walk the 24 cells around that.</li>\n</ul>\n\n<p>Now see the pattern:</p>\n\n<ul>\n<li>In each round, the walk on each side is 2 more steps, totally 8 more steps per round.</li>\n<li>Each round starts 1 cell to the right of the upper-left corner.</li>\n<li>Walking on each side starts 1 cell from the corner.</li>\n</ul>\n\n<p>So, now that you see the pattern, you can do it like this:</p>\n\n<ul>\n<li>Calculate which round you are in.</li>\n<li>For that round, calculate which side you are on.</li>\n<li>Then calculate how many steps you've taken on that side.</li>\n<li>Finally, calculate the coordinate from that.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1298599,"reputation":7759,"user_id":1248974,"display_name":"chickity china chinese chicken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501089329,"creation_date":1501089329,"answer_id":45333503,"question_id":45315299,"body_markdown":"    import java.util.Scanner;\r\n     \r\n    class spiral \r\n    {\r\n        private static String getXZForMap(int np)\r\n        {         \r\n            // (dx, dy) is a vector - direction in which we move right now\r\n            int dx = 0;\r\n            int dy = 1;\r\n            // length of current segment\r\n            int segment_length = 1;\r\n    \r\n            // current position (x, y) and how much of current segment we passed\r\n            int x = 0;\r\n            int y = 0;\r\n            int segment_passed = 0;\r\n            if (np == 0){\r\n                return (&quot;(&quot; + y + &quot;;&quot; + x + &quot;)&quot;);\r\n            }\r\n            for (int n = 0; n &lt; np; ++n) {\r\n                // make a step, add &#39;direction&#39; vector (dx, dy) to current position (x, y)\r\n                x += dx;\r\n                y += dy;\r\n                ++segment_passed;\r\n    \r\n                if (segment_passed == segment_length) {\r\n                    // done with current segment\r\n                    segment_passed = 0;\r\n    \r\n                    // &#39;rotate&#39; directions\r\n                    int buffer = dy;\r\n                    dy = -dx;\r\n                    dx = buffer;\r\n                    \r\n                    // increase segment length if necessary\r\n                    if (dx == 0) {\r\n                        ++segment_length;\r\n                    }\r\n                }\r\n            }\r\n            return(&quot;(&quot; + y + &quot;;&quot; + x + &quot;)&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n            int NUMBER_OF_POINTS = Integer.valueOf(args[0]);   // or delete this line  \r\n            String spiral_map = getXZForMap(NUMBER_OF_POINTS); // and put your int here\r\n            System.out.println(spiral_map);\r\n        } \r\n    }\r\n\r\nAdapted from this answer: [Algorithm for iterating over an outward spiral on a discrete 2D grid from the origin](https://stackoverflow.com/a/3706260/1248974)  \r\n\r\nDemo:\r\n\r\n    $ java spiral 0\r\n    (0;0)\r\n    $ java spiral 5\r\n    (-1;0)","title":"Create endless grid spiral in java","body":"<pre><code>import java.util.Scanner;\n\nclass spiral \n{\n    private static String getXZForMap(int np)\n    {         \n        // (dx, dy) is a vector - direction in which we move right now\n        int dx = 0;\n        int dy = 1;\n        // length of current segment\n        int segment_length = 1;\n\n        // current position (x, y) and how much of current segment we passed\n        int x = 0;\n        int y = 0;\n        int segment_passed = 0;\n        if (np == 0){\n            return (\"(\" + y + \";\" + x + \")\");\n        }\n        for (int n = 0; n &lt; np; ++n) {\n            // make a step, add 'direction' vector (dx, dy) to current position (x, y)\n            x += dx;\n            y += dy;\n            ++segment_passed;\n\n            if (segment_passed == segment_length) {\n                // done with current segment\n                segment_passed = 0;\n\n                // 'rotate' directions\n                int buffer = dy;\n                dy = -dx;\n                dx = buffer;\n\n                // increase segment length if necessary\n                if (dx == 0) {\n                    ++segment_length;\n                }\n            }\n        }\n        return(\"(\" + y + \";\" + x + \")\");\n    }\n\n    public static void main(String[] args){\n\n        Scanner sc = new Scanner(System.in);\n        int NUMBER_OF_POINTS = Integer.valueOf(args[0]);   // or delete this line  \n        String spiral_map = getXZForMap(NUMBER_OF_POINTS); // and put your int here\n        System.out.println(spiral_map);\n    } \n}\n</code></pre>\n\n<p>Adapted from this answer: <a href=\"https://stackoverflow.com/a/3706260/1248974\">Algorithm for iterating over an outward spiral on a discrete 2D grid from the origin</a>  </p>\n\n<p>Demo:</p>\n\n<pre><code>$ java spiral 0\n(0;0)\n$ java spiral 5\n(-1;0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663918322,"creation_date":1663918322,"answer_id":73824364,"question_id":45315299,"body_markdown":"```java\r\npublic int[] getPoints(int n){\r\n\tint[] k = new int[2];\r\n\tif(n == 0){\r\n\t\tk[0] = 0;\r\n\t\tk[1] = 0;\r\n\t\treturn k;\r\n\t}\r\n\tn--;\r\n\tint r = (int) (Math.floor((Math.sqrt(n + 1) -1) / 2) + 1);\r\n\tint p = (8 * r * (r - 1)) / 2;\r\n\tint a = (1 + n - p) % (r * 8);\r\n\t\r\n\tswitch ((int) Math.floor(a / (r * 2))) {\r\n\tcase 0:\r\n\t\tk[0] = a - r;\r\n\t\tk[1] = -r;\r\n\t\treturn k;\r\n\tcase 1:\r\n\t\tk[0] = r;\r\n\t\tk[1] = (a % (r * 2)) - r;\r\n\t\treturn k;\r\n\tcase 2:\r\n\t\tk[0] = r - (a % (r * 2));\r\n\t\tk[1] = r;\r\n\t\treturn k;\r\n\tcase 3:\r\n\t\tk[0] = -r;\r\n\t\tk[1] = r - (a % (r * 2));\r\n\t\treturn k;\r\n\t}\r\n\treturn null;\t   \r\n}\r\n```\r\n","title":"Create endless grid spiral in java","body":"<pre class=\"lang-java prettyprint-override\"><code>public int[] getPoints(int n){\n    int[] k = new int[2];\n    if(n == 0){\n        k[0] = 0;\n        k[1] = 0;\n        return k;\n    }\n    n--;\n    int r = (int) (Math.floor((Math.sqrt(n + 1) -1) / 2) + 1);\n    int p = (8 * r * (r - 1)) / 2;\n    int a = (1 + n - p) % (r * 8);\n    \n    switch ((int) Math.floor(a / (r * 2))) {\n    case 0:\n        k[0] = a - r;\n        k[1] = -r;\n        return k;\n    case 1:\n        k[0] = r;\n        k[1] = (a % (r * 2)) - r;\n        return k;\n    case 2:\n        k[0] = r - (a % (r * 2));\n        k[1] = r;\n        return k;\n    case 3:\n        k[0] = -r;\n        k[1] = r - (a % (r * 2));\n        return k;\n    }\n    return null;       \n}\n</code></pre>\n"}],"owner":{"account_id":9576179,"reputation":83,"user_id":7112195,"accept_rate":75,"display_name":"TerZer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":73824364,"answer_count":3,"score":-3,"last_activity_date":1663918607,"creation_date":1501027172,"question_id":45315299,"body_markdown":"I want to create endless spiral in java like this:\r\n\r\n![Endless spiral][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ef9UV.png\r\n\r\nI simply want to pass a number from 1-∞ and get it&#39;s spiral map. \r\n\r\nExample:\r\n\r\n`getPoints(0);` Would result in answer (0;0)\r\n\r\n`getPoints(5);` Would result in answer (-1;0)","title":"Create endless grid spiral in java","body":"<p>I want to create endless spiral in java like this:</p>\n<p><img src=\"https://i.stack.imgur.com/ef9UV.png\" alt=\"Endless spiral\" /></p>\n<p>I simply want to pass a number from 1-∞ and get it's spiral map.</p>\n<p>Example:</p>\n<p><code>getPoints(0);</code> Would result in answer (0;0)</p>\n<p><code>getPoints(5);</code> Would result in answer (-1;0)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1663921262,"post_id":73824383,"comment_id":130357392,"body_markdown":"Can  you  share screenshot of duplicate items? Only few items are duplicate or whole list ?","body":"Can  you  share screenshot of duplicate items? Only few items are duplicate or whole list ?"},{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":0,"creation_date":1663921324,"post_id":73824383,"comment_id":130357411,"body_markdown":"You should not call notifyDataSetChanged() in constructor","body":"You should not call notifyDataSetChanged() in constructor"},{"owner":{"account_id":6027993,"reputation":126,"user_id":19785805,"display_name":"Alexander Kashpirovsky"},"score":0,"creation_date":1663921343,"post_id":73824383,"comment_id":130357418,"body_markdown":"What does the Card Adapter call look like?","body":"What does the Card Adapter call look like?"},{"owner":{"account_id":24391342,"reputation":47,"user_id":18321269,"display_name":"Elfadil Sulieman"},"score":0,"creation_date":1663951113,"post_id":73824383,"comment_id":130368161,"body_markdown":"@Ashutosh Ojha the whole list is duplicated","body":"@Ashutosh Ojha the whole list is duplicated"},{"owner":{"account_id":24391342,"reputation":47,"user_id":18321269,"display_name":"Elfadil Sulieman"},"score":0,"creation_date":1663952042,"post_id":73824383,"comment_id":130368446,"body_markdown":"I remove notifyDataSetChanged() and this did&#39;t work @AshutoshOjha","body":"I remove notifyDataSetChanged() and this did&#39;t work @AshutoshOjha"}],"owner":{"account_id":24391342,"reputation":47,"user_id":18321269,"display_name":"Elfadil Sulieman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663918425,"creation_date":1663918425,"question_id":73824383,"body_markdown":"I am use recycle view to show a list of item from room database. the recycle view is reside in a fragment, when I navigate to fragment for the first time the items appear duplicated twice, but when I click in a button inside item, all items appear at once as desired.\r\nthis is my adapter\r\nthis is my adapter.\r\n\r\n        private Context context;\r\n    private List&lt;Product&gt; productList;\r\n    private BroojDB database;\r\n\r\n    public CartAdapter(Context context, List&lt;Product&gt; productList) {\r\n        this.context = context;\r\n        this.productList = productList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.cart_recycle_item,parent,false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n        Product product = productList.get(position);\r\n        int count = product.getCount();\r\n        float productPrice = product.getPrice();\r\n\r\n        float subTotal = count*productPrice;\r\n        database = BroojDB.getInstance(context);\r\n\r\n        holder.count.setText(product.getCount()+&quot;&quot;);\r\n        holder.title.setText(product.getTitle());\r\n        holder.price.setText(product.getPrice()+&quot; SD&quot;);\r\n        holder.subTotal.setText(subTotal+&quot; SD&quot;);\r\n        holder.deleteProductFromCart.setBackgroundResource(R.drawable.cancel);\r\n\r\n        holder.increaseOne.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Product p = productList.get(holder.getAdapterPosition());\r\n\r\n                int pId = p.getId();\r\n                String pTitle = p.getTitle();\r\n                float pPrice = p.getPrice();\r\n                int pCount = p.getCount();\r\n\r\n                pCount++;\r\n\r\n                database.productDao().updateProduct(pId,pTitle,pPrice,pCount);\r\n                productList.clear();\r\n                productList.addAll(database.productDao().getAllProduct());\r\n                notifyDataSetChanged();\r\n\r\n            }\r\n        });\r\n\r\n        holder.decreaseOne.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Product p = productList.get(holder.getAdapterPosition());\r\n\r\n                int pId = p.getId();\r\n                String pTitle = p.getTitle();\r\n                float pPrice = p.getPrice();\r\n                int pCount = p.getCount();\r\n\r\n                if (pCount &gt;=1)\r\n                pCount = pCount - 1;\r\n\r\n                database.productDao().updateProduct(pId,pTitle,pPrice,pCount);\r\n                productList.clear();\r\n                productList.addAll(database.productDao().getAllProduct());\r\n                notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n        holder.deleteProductFromCart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Product p = productList.get(holder.getAdapterPosition());\r\n                database.productDao().deleteProduct(p);\r\n\r\n                int position = holder.getAdapterPosition();\r\n                productList.remove(position);\r\n\r\n                notifyItemRemoved(position);\r\n\r\n                notifyItemRangeChanged(position,productList.size());\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return productList.size();\r\n    }\r\n\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        Button increaseOne,decreaseOne,deleteProductFromCart;\r\n        TextView title, price,subTotal,count;\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            increaseOne = itemView.findViewById(R.id.increase_product_one);\r\n            decreaseOne = itemView.findViewById(R.id.decrease_one);\r\n            deleteProductFromCart = itemView.findViewById(R.id.remove_item);\r\n            title = itemView.findViewById(R.id.item_title);\r\n            price = itemView.findViewById(R.id.item_price);\r\n            subTotal = itemView.findViewById(R.id.sub_total);\r\n            count = itemView.findViewById(R.id.count_off_product_in_cart);\r\n\r\n        }\r\n    }\r\n","title":"duplicate item in recycleview","body":"<p>I am use recycle view to show a list of item from room database. the recycle view is reside in a fragment, when I navigate to fragment for the first time the items appear duplicated twice, but when I click in a button inside item, all items appear at once as desired.\nthis is my adapter\nthis is my adapter.</p>\n<pre><code>    private Context context;\nprivate List&lt;Product&gt; productList;\nprivate BroojDB database;\n\npublic CartAdapter(Context context, List&lt;Product&gt; productList) {\n    this.context = context;\n    this.productList = productList;\n    notifyDataSetChanged();\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.cart_recycle_item,parent,false);\n    return new MyViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n\n    Product product = productList.get(position);\n    int count = product.getCount();\n    float productPrice = product.getPrice();\n\n    float subTotal = count*productPrice;\n    database = BroojDB.getInstance(context);\n\n    holder.count.setText(product.getCount()+&quot;&quot;);\n    holder.title.setText(product.getTitle());\n    holder.price.setText(product.getPrice()+&quot; SD&quot;);\n    holder.subTotal.setText(subTotal+&quot; SD&quot;);\n    holder.deleteProductFromCart.setBackgroundResource(R.drawable.cancel);\n\n    holder.increaseOne.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            Product p = productList.get(holder.getAdapterPosition());\n\n            int pId = p.getId();\n            String pTitle = p.getTitle();\n            float pPrice = p.getPrice();\n            int pCount = p.getCount();\n\n            pCount++;\n\n            database.productDao().updateProduct(pId,pTitle,pPrice,pCount);\n            productList.clear();\n            productList.addAll(database.productDao().getAllProduct());\n            notifyDataSetChanged();\n\n        }\n    });\n\n    holder.decreaseOne.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Product p = productList.get(holder.getAdapterPosition());\n\n            int pId = p.getId();\n            String pTitle = p.getTitle();\n            float pPrice = p.getPrice();\n            int pCount = p.getCount();\n\n            if (pCount &gt;=1)\n            pCount = pCount - 1;\n\n            database.productDao().updateProduct(pId,pTitle,pPrice,pCount);\n            productList.clear();\n            productList.addAll(database.productDao().getAllProduct());\n            notifyDataSetChanged();\n        }\n    });\n\n    holder.deleteProductFromCart.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            Product p = productList.get(holder.getAdapterPosition());\n            database.productDao().deleteProduct(p);\n\n            int position = holder.getAdapterPosition();\n            productList.remove(position);\n\n            notifyItemRemoved(position);\n\n            notifyItemRangeChanged(position,productList.size());\n\n        }\n    });\n\n\n}\n\n@Override\npublic int getItemCount() {\n    return productList.size();\n}\n\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n\n    Button increaseOne,decreaseOne,deleteProductFromCart;\n    TextView title, price,subTotal,count;\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        increaseOne = itemView.findViewById(R.id.increase_product_one);\n        decreaseOne = itemView.findViewById(R.id.decrease_one);\n        deleteProductFromCart = itemView.findViewById(R.id.remove_item);\n        title = itemView.findViewById(R.id.item_title);\n        price = itemView.findViewById(R.id.item_price);\n        subTotal = itemView.findViewById(R.id.sub_total);\n        count = itemView.findViewById(R.id.count_off_product_in_cart);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","dictionary","generics","java-stream"],"comments":[{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":3,"creation_date":1584527777,"post_id":60737626,"comment_id":107461480,"body_markdown":"Altough i might be wrong, but i would not recommend to create `n` queries for `getKey`, but rather collect all ids first, then fetch all keys in one query and create a new stream that operates on the result.","body":"Altough i might be wrong, but i would not recommend to create <code>n</code> queries for <code>getKey</code>, but rather collect all ids first, then fetch all keys in one query and create a new stream that operates on the result."},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1584614958,"post_id":60737626,"comment_id":107492798,"body_markdown":"@Naman why did you remove the [java-8] tag?","body":"@Naman why did you remove the [java-8] tag?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1584621471,"post_id":60737626,"comment_id":107496054,"body_markdown":"@Andronicus The version tags have been always debatable(wouldn&#39;t be able to debate much). So unless placed by the person asking or relevant from the code(specific API) in the question I think version-specific tags should not be required. For example, what if OP might be looking for a Java-14 solution here? So I would suggest adding version tags only if the asker puts that as a bound or the API in code are not relevant to any other version. It is still up to you to choose though.","body":"@Andronicus The version tags have been always debatable(wouldn&#39;t be able to debate much). So unless placed by the person asking or relevant from the code(specific API) in the question I think version-specific tags should not be required. For example, what if OP might be looking for a Java-14 solution here? So I would suggest adding version tags only if the asker puts that as a bound or the API in code are not relevant to any other version. It is still up to you to choose though."},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1584621973,"post_id":60737626,"comment_id":107496327,"body_markdown":"@Naman got it, thanks for the clarification, have a great day!","body":"@Naman got it, thanks for the clarification, have a great day!"}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1584622276,"creation_date":1584527491,"answer_id":60737654,"question_id":60737626,"body_markdown":"The method you&#39;re referring to is called in `forEach(this::pAccounts)`. \r\nIt&#39;s because `collect(Collectors.groupingBy(this::getKey))` returns a `Map`.\r\n\r\nThe `forEach` on `Map`, according to [javadoc][1], takes a `BiConsumer&lt;? super K,? super V&gt;`, where the first parameter is the key of type `K` and the second - a value of type `V`. \r\n\r\nSo this `forEach` is not a method on `Stream`, but on `Map`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-","title":"Code flow with the combination of stream, collect and forEach in java","body":"<p>The method you're referring to is called in <code>forEach(this::pAccounts)</code>. \nIt's because <code>collect(Collectors.groupingBy(this::getKey))</code> returns a <code>Map</code>.</p>\n\n<p>The <code>forEach</code> on <code>Map</code>, according to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">javadoc</a>, takes a <code>BiConsumer&lt;? super K,? super V&gt;</code>, where the first parameter is the key of type <code>K</code> and the second - a value of type <code>V</code>. </p>\n\n<p>So this <code>forEach</code> is not a method on <code>Stream</code>, but on <code>Map</code>.</p>\n"}],"owner":{"account_id":8361588,"reputation":1393,"user_id":6279687,"accept_rate":93,"display_name":"Abhishek Patil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60737654,"answer_count":1,"score":3,"last_activity_date":1663918363,"creation_date":1584527371,"question_id":60737626,"body_markdown":"I have come across code in my companies project, which goes like this\r\n\r\n    void pAccount(List&lt;Account&gt; accounts) {\r\n    \taccounts.stream()\r\n    \t\t.filter(o-&gt;getKey(o) != null)\r\n    \t\t.collect(Collectors.groupingBy(this::getKey))\r\n    \t\t.forEach(this::pAccounts);\r\n    }\r\n    \r\n    private Key getKey(Account account) {\r\n    \treturn keyRepository.getKeyById(account.getId());\r\n    }\r\n    \r\n    private void pAccounts(Key key , List&lt;Account&gt; accounts) {\r\n    \t//Some Code\r\n    }\r\n\r\nWhile debugging we came to the conclusion that `pAccount(List&lt;Account&gt; accounts)` calls `pAccounts(Key key , List&lt;Account&gt; accounts`.\r\n\r\nI have tried to find similar examples online but found nothing that matches this behavior.\r\n\r\nI want to know if this is some kind of functionality in streams that allows us to do that or it&#39;s something else.","title":"Code flow with the combination of stream, collect and forEach in java","body":"<p>I have come across code in my companies project, which goes like this</p>\n\n<pre><code>void pAccount(List&lt;Account&gt; accounts) {\n    accounts.stream()\n        .filter(o-&gt;getKey(o) != null)\n        .collect(Collectors.groupingBy(this::getKey))\n        .forEach(this::pAccounts);\n}\n\nprivate Key getKey(Account account) {\n    return keyRepository.getKeyById(account.getId());\n}\n\nprivate void pAccounts(Key key , List&lt;Account&gt; accounts) {\n    //Some Code\n}\n</code></pre>\n\n<p>While debugging we came to the conclusion that <code>pAccount(List&lt;Account&gt; accounts)</code> calls <code>pAccounts(Key key , List&lt;Account&gt; accounts</code>.</p>\n\n<p>I have tried to find similar examples online but found nothing that matches this behavior.</p>\n\n<p>I want to know if this is some kind of functionality in streams that allows us to do that or it's something else.</p>\n"},{"tags":["java","spring-data-mongodb","spring-mongodb","spring-mongo"],"answers":[{"tags":[],"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663849747,"creation_date":1663849747,"answer_id":73814659,"question_id":73814487,"body_markdown":"You can use @Query annotation in your repository interface and pass your query as it is (above the method signature).\r\nHere is an example :\r\n\r\n```java\r\n@Query(&quot;{$and:[&quot;\r\n\t\t\t+ &quot;\t\t{&#39;id&#39;: ?0},&quot;\r\n\t\t\t+ &quot;\t\t{$or:[&quot;\r\n\t\t\t+ &quot;\t\t\t{&#39;customerId&#39;: ?1},&quot;\r\n\t\t\t+ &quot;\t\t\t{&#39;specificCode&#39;: ?4}&quot;\r\n\t\t\t+ &quot;\t\t]},&quot;\r\n\t\t\t+ &quot;\t\t{&#39;beginDate&#39; : { $gte: ?2}},&quot;\r\n\t\t\t+ &quot;\t\t{$or:[&quot;\r\n\t\t\t+ &quot;\t\t\t\t{&#39;endDate&#39; : { $lte: ?2}},&quot;\r\n\t\t\t+ &quot;\t\t\t\t{&#39;endDate&#39; : {$exists: false}}&quot;\r\n\t\t\r\n\t\t\t+ &quot;\t\t]},&quot;\r\n\t\t\t+ &quot;\t\t{&#39;numberOfTimesUsed&#39;: { $lt: ?3}}&quot;\r\n\t\t\t+ &quot;]}&quot;)\r\n```","title":"How to convert custom Mongo DB update query to Java code","body":"<p>You can use @Query annotation in your repository interface and pass your query as it is (above the method signature).\nHere is an example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;{$and:[&quot;\n            + &quot;     {'id': ?0},&quot;\n            + &quot;     {$or:[&quot;\n            + &quot;         {'customerId': ?1},&quot;\n            + &quot;         {'specificCode': ?4}&quot;\n            + &quot;     ]},&quot;\n            + &quot;     {'beginDate' : { $gte: ?2}},&quot;\n            + &quot;     {$or:[&quot;\n            + &quot;             {'endDate' : { $lte: ?2}},&quot;\n            + &quot;             {'endDate' : {$exists: false}}&quot;\n        \n            + &quot;     ]},&quot;\n            + &quot;     {'numberOfTimesUsed': { $lt: ?3}}&quot;\n            + &quot;]}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663918216,"creation_date":1663865155,"answer_id":73818166,"question_id":73814487,"body_markdown":"You can try something like this:\r\n\r\n    Query query = new Query();\r\n    Update update = new Update();\r\n    update.set(&quot;recipientEmail&quot;, StringOperators.valueOf(&quot;recipientEmail&quot;).toUpper());\r\n    update.set(&quot;senderEmail&quot;, StringOperators.valueOf(&quot;senderEmail&quot;).toUpper());\r\n    mongoTemplate.updateMulti(query, update, Messages.class);\r\n\r\nSince you are aggregation pipeline form of update, you can try this:\r\n\r\n    Query query = new Query();\r\n    AggregationUpdate update = AggregationUpdate.update().set(&quot;recipientEmail&quot;).toValue(StringOperators.valueOf(&quot;recipientEmail&quot;).toUpper()).set(&quot;senderEmail&quot;).toValue(StringOperators.valueOf(&quot;senderEmail&quot;).toUpper());\r\n    mongoTemplate.updateMulti(query, update, Messages.class);\r\n\r\n ","title":"How to convert custom Mongo DB update query to Java code","body":"<p>You can try something like this:</p>\n<pre><code>Query query = new Query();\nUpdate update = new Update();\nupdate.set(&quot;recipientEmail&quot;, StringOperators.valueOf(&quot;recipientEmail&quot;).toUpper());\nupdate.set(&quot;senderEmail&quot;, StringOperators.valueOf(&quot;senderEmail&quot;).toUpper());\nmongoTemplate.updateMulti(query, update, Messages.class);\n</code></pre>\n<p>Since you are aggregation pipeline form of update, you can try this:</p>\n<pre><code>Query query = new Query();\nAggregationUpdate update = AggregationUpdate.update().set(&quot;recipientEmail&quot;).toValue(StringOperators.valueOf(&quot;recipientEmail&quot;).toUpper()).set(&quot;senderEmail&quot;).toValue(StringOperators.valueOf(&quot;senderEmail&quot;).toUpper());\nmongoTemplate.updateMulti(query, update, Messages.class);\n</code></pre>\n"}],"owner":{"account_id":22198122,"reputation":31,"user_id":16439217,"display_name":"Shrey Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663918216,"creation_date":1663849032,"question_id":73814487,"body_markdown":"I was finding on the internet how to update all the document field values with lowercase.\r\nI luckily found a query which I modified as per my requirement and it is working correctly.\r\n\r\n    db.messages.updateMany({},\r\n\t[\r\n\t  {\r\n\t\t$set: {\r\n\t\t  recipientEmail: {\r\n\t\t\t$toLower: &#39;$recipientEmail&#39;\r\n\t\t  },\r\n\t\t  senderEmail: {\r\n\t\t\t$toLower: &#39;$senderEmail&#39;\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\t],{ multi: true })\r\nBut now I am trying to convert this query into Java code, I am not able to convert it.\r\nI again started looking into the internet, but couldn’t find any code.\r\nSo, can anyone help me convert this query to Java code so that I can use it in my Spring Boot application?\r\nThanks in advance.","title":"How to convert custom Mongo DB update query to Java code","body":"<p>I was finding on the internet how to update all the document field values with lowercase.\nI luckily found a query which I modified as per my requirement and it is working correctly.</p>\n<pre><code>db.messages.updateMany({},\n[\n  {\n    $set: {\n      recipientEmail: {\n        $toLower: '$recipientEmail'\n      },\n      senderEmail: {\n        $toLower: '$senderEmail'\n      }\n    }\n  }\n],{ multi: true })\n</code></pre>\n<p>But now I am trying to convert this query into Java code, I am not able to convert it.\nI again started looking into the internet, but couldn’t find any code.\nSo, can anyone help me convert this query to Java code so that I can use it in my Spring Boot application?\nThanks in advance.</p>\n"},{"tags":["java","mysql","hibernate","group-by"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1485507665,"creation_date":1485507665,"answer_id":41890166,"question_id":41889899,"body_markdown":"I think you can set `sql_mode` in your JDBC connection string, e.g.\r\n\r\n    jdbc:mysql://localhost:3306/dbName?sessionVariables=sql_mode=&#39;&#39;","title":"Disable ONLY_FULL_GROUP_BY in hibernate","body":"<p>I think you can set <code>sql_mode</code> in your JDBC connection string, e.g.</p>\n\n<pre><code>jdbc:mysql://localhost:3306/dbName?sessionVariables=sql_mode=''\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1531173,"reputation":31,"user_id":1428334,"display_name":"Widodo Pangestu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549947098,"creation_date":1549947098,"answer_id":54643003,"question_id":41889899,"body_markdown":"for mysql 8.0\r\n\r\n    jdbc:mysql://localhost:3306/dbName?sessionVariables=&amp;&amp;sql-mode=&#39;&#39;","title":"Disable ONLY_FULL_GROUP_BY in hibernate","body":"<p>for mysql 8.0</p>\n\n<pre><code>jdbc:mysql://localhost:3306/dbName?sessionVariables=&amp;&amp;sql-mode=''\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10685549,"reputation":128,"user_id":7866200,"display_name":"irufano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663918187,"creation_date":1663918187,"answer_id":73824346,"question_id":41889899,"body_markdown":"in local use : `SET GLOBAL sql_mode=(SELECT REPLACE(@@sql_mode,&#39;ONLY_FULL_GROUP_BY&#39;,&#39;&#39;));`","title":"Disable ONLY_FULL_GROUP_BY in hibernate","body":"<p>in local use : <code>SET GLOBAL sql_mode=(SELECT REPLACE(@@sql_mode,'ONLY_FULL_GROUP_BY',''));</code></p>\n"}],"owner":{"account_id":1765530,"reputation":604,"user_id":1611492,"accept_rate":88,"display_name":"Napstablook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4496,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41890166,"answer_count":3,"score":7,"last_activity_date":1663918187,"creation_date":1485506707,"question_id":41889899,"body_markdown":"I need to disable ONLY_FULL_GROUP_BY in hibernate. \r\nThis is my current session factory.\r\nI am not sure how to specify the sql_mode=&#39;&#39; in this. \r\n\r\n    &lt;bean id=&quot;eAgilitySessionFactory&quot;\r\n          class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;eAgilitysDataSource&quot;/&gt;\r\n        &lt;property name=&quot;configLocation&quot;&gt;\r\n            &lt;value&gt;classpath:hibernate.cfg.xml&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;configurationClass&quot;&gt;\r\n            &lt;value&gt;org.hibernate.cfg.AnnotationConfiguration&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;${mysql.dialect}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.characterEncoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.charSet&quot;&gt;UTF-8&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.url&quot;&gt;${dwh.db.url}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/prop&gt;\r\n             &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n","title":"Disable ONLY_FULL_GROUP_BY in hibernate","body":"<p>I need to disable ONLY_FULL_GROUP_BY in hibernate. \nThis is my current session factory.\nI am not sure how to specify the sql_mode='' in this. </p>\n\n<pre><code>&lt;bean id=\"eAgilitySessionFactory\"\n      class=\"org.springframework.orm.hibernate3.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"eAgilitysDataSource\"/&gt;\n    &lt;property name=\"configLocation\"&gt;\n        &lt;value&gt;classpath:hibernate.cfg.xml&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"configurationClass\"&gt;\n        &lt;value&gt;org.hibernate.cfg.AnnotationConfiguration&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${mysql.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.useUnicode\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.characterEncoding\"&gt;UTF-8&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.charSet\"&gt;UTF-8&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.url\"&gt;${dwh.db.url}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/prop&gt;\n         &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","jvm-hotspot","memory-barriers","java-12"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1559054797,"creation_date":1559054797,"answer_id":56344792,"question_id":56342141,"body_markdown":"&gt; Well in my understanding if I have:\n&gt;\n&gt;     int xx = x; // read x\n&gt;     int yy = y; // read y\n&gt;\n&gt; These reads can be re-ordered.\n\nThese reads may not only happen to be reordered, they may not happen at all. The thread may use an old, previously read value for `x` and/or `y` or values it did previously write to these variables whereas, in fact, the write may not have been performed yet, so the “reading thread” may use values, no other thread may know of and are not in the heap memory at that time (and probably never will).\n\n&gt; On the other had if I have:\n&gt;\n&gt;     // simplified code, does not compile, but reads happen on the same &quot;this&quot; for example\n&gt;     int xx = VarHandle_X.getOpaque(x); \n&gt;     int yy = VarHandle_Y.getOpaque(y);\n&gt;\n&gt; This time re-orderings are not possible? And this is what it means &quot;program order&quot;?\n\nSimply said, the main feature of opaque reads and writes, is, that they will actually happen. This implies that they can not be reordered in respect to other memory access of at least the same strength, but that has no impact for ordinary reads and writes.\n\nThe term [program order] is defined by the JLS:\n\n&gt; … the *program order* of *t* is a total order that reflects the order in which these actions would be performed according to the intra-thread semantics of *t*.\n\nThat’s the [evaluation order] specified for expressions and statements. The order in which we perceive the effects, as long as only a single thread is involved.\n\n&gt; Are we talking about insertions of barriers here for this re-ordering to be prohibited?\n\nNo, there is no barrier involved, which might be the intention behind the phrase “*…but with no assurance of memory ordering effects with respect to other threads*”.\n\nPerhaps, we could say that opaque access works a bit like `volatile` was before Java&#160;5, enforcing read access to see the most recent heap memory value (which makes only sense if the writing end also uses opaque or an even stronger mode), but with no effect on other reads or writes.\n\n### So what can you do with it?\n\nA typical use case would be a cancellation or interruption flag that is not supposed to establish a *happens-before* relationship. Often, the stopped background task has no interest in perceiving actions made by the stopping task prior to signalling, but will just end its own activity. So writing and reading the flag with opaque mode would be sufficient to ensure that the signal is eventually noticed (unlike the normal access mode), but without any additional negative impact on the performance.\n\nLikewise, a background task could write progress updates, like a percentage number, which the reporting (UI) thread is supposed to notice timely, while no *happens-before* relationship is required before the publication of the final result.\n\nIt’s also useful if you just want atomic access for `long` and `double`, without any other impact.\n\nSince truly immutable objects using `final` fields are immune to data races, you can use opaque modes for timely publishing immutable objects, without the broader effect of release/acquire mode publishing.\n\nA special case would be periodically checking a status for an expected value update and once available, querying the value with a stronger mode (or executing the matching fence instruction explicitly). In principle, a *happens-before* relationship can only be established between the write and its subsequent read anyway, but since optimizers usually don’t have the horizon to identify such a inter-thread use case, performance critical code can use opaque access to optimize such scenario.\n\n[program order]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4.3\n[evaluation order]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.7","title":"VarHandle get/setOpaque","body":"<blockquote>\n<p>Well in my understanding if I have:</p>\n<pre><code>int xx = x; // read x\nint yy = y; // read y\n</code></pre>\n<p>These reads can be re-ordered.</p>\n</blockquote>\n<p>These reads may not only happen to be reordered, they may not happen at all. The thread may use an old, previously read value for <code>x</code> and/or <code>y</code> or values it did previously write to these variables whereas, in fact, the write may not have been performed yet, so the “reading thread” may use values, no other thread may know of and are not in the heap memory at that time (and probably never will).</p>\n<blockquote>\n<p>On the other had if I have:</p>\n<pre><code>// simplified code, does not compile, but reads happen on the same &quot;this&quot; for example\nint xx = VarHandle_X.getOpaque(x); \nint yy = VarHandle_Y.getOpaque(y);\n</code></pre>\n<p>This time re-orderings are not possible? And this is what it means &quot;program order&quot;?</p>\n</blockquote>\n<p>Simply said, the main feature of opaque reads and writes, is, that they will actually happen. This implies that they can not be reordered in respect to other memory access of at least the same strength, but that has no impact for ordinary reads and writes.</p>\n<p>The term <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4.3\" rel=\"noreferrer\">program order</a> is defined by the JLS:</p>\n<blockquote>\n<p>… the <em>program order</em> of <em>t</em> is a total order that reflects the order in which these actions would be performed according to the intra-thread semantics of <em>t</em>.</p>\n</blockquote>\n<p>That’s the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.7\" rel=\"noreferrer\">evaluation order</a> specified for expressions and statements. The order in which we perceive the effects, as long as only a single thread is involved.</p>\n<blockquote>\n<p>Are we talking about insertions of barriers here for this re-ordering to be prohibited?</p>\n</blockquote>\n<p>No, there is no barrier involved, which might be the intention behind the phrase “<em>…but with no assurance of memory ordering effects with respect to other threads</em>”.</p>\n<p>Perhaps, we could say that opaque access works a bit like <code>volatile</code> was before Java 5, enforcing read access to see the most recent heap memory value (which makes only sense if the writing end also uses opaque or an even stronger mode), but with no effect on other reads or writes.</p>\n<h3>So what can you do with it?</h3>\n<p>A typical use case would be a cancellation or interruption flag that is not supposed to establish a <em>happens-before</em> relationship. Often, the stopped background task has no interest in perceiving actions made by the stopping task prior to signalling, but will just end its own activity. So writing and reading the flag with opaque mode would be sufficient to ensure that the signal is eventually noticed (unlike the normal access mode), but without any additional negative impact on the performance.</p>\n<p>Likewise, a background task could write progress updates, like a percentage number, which the reporting (UI) thread is supposed to notice timely, while no <em>happens-before</em> relationship is required before the publication of the final result.</p>\n<p>It’s also useful if you just want atomic access for <code>long</code> and <code>double</code>, without any other impact.</p>\n<p>Since truly immutable objects using <code>final</code> fields are immune to data races, you can use opaque modes for timely publishing immutable objects, without the broader effect of release/acquire mode publishing.</p>\n<p>A special case would be periodically checking a status for an expected value update and once available, querying the value with a stronger mode (or executing the matching fence instruction explicitly). In principle, a <em>happens-before</em> relationship can only be established between the write and its subsequent read anyway, but since optimizers usually don’t have the horizon to identify such a inter-thread use case, performance critical code can use opaque access to optimize such scenario.</p>\n"},{"tags":[],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559702430,"creation_date":1559700640,"answer_id":56453454,"question_id":56342141,"body_markdown":"The opaque means that the thread executing opaque operation is guaranteed to observe its own actions in program order, but that&#39;s it. \r\n\r\nOther threads are free to observe the threads actions in any order. On x86 it is a common case since it has\r\n\r\n&gt; write ordered with store-buffer forwarding\r\n\r\nmemory model so even if the thread does store before load. The store can be cached in the store buffer and some thread being executed on any other core observes the thread action in reverse order load-store instead of store-load. So opaque operation is done on x86 for free (on x86 we actually also have acquire for free, see this extremely exhaustive answer for details on some other architectures and their memory models: https://stackoverflow.com/a/55741922/8990329)\r\n\r\n\r\nWhy is it useful? Well, I could speculate that if some thread observed a value stored with opaque memory semantic then subsequent read will observe &quot;at least this or later&quot; value (plain memory access does not provide such guarantees, does it?).\r\n\r\nAlso since Java 9 VarHandles are somewhat related to acquire/release/consume semantic in C I think it is worth noting that opaque access is similar to `memory_order_relaxed` which is defined in the Standard as follows:\r\n\r\n&gt; For `memory_order_relaxed`, no operation orders memory.\r\n\r\nwith some examples provided.\r\n\r\n\r\n","title":"VarHandle get/setOpaque","body":"<p>The opaque means that the thread executing opaque operation is guaranteed to observe its own actions in program order, but that's it. </p>\n\n<p>Other threads are free to observe the threads actions in any order. On x86 it is a common case since it has</p>\n\n<blockquote>\n  <p>write ordered with store-buffer forwarding</p>\n</blockquote>\n\n<p>memory model so even if the thread does store before load. The store can be cached in the store buffer and some thread being executed on any other core observes the thread action in reverse order load-store instead of store-load. So opaque operation is done on x86 for free (on x86 we actually also have acquire for free, see this extremely exhaustive answer for details on some other architectures and their memory models: <a href=\"https://stackoverflow.com/a/55741922/8990329\">https://stackoverflow.com/a/55741922/8990329</a>)</p>\n\n<p>Why is it useful? Well, I could speculate that if some thread observed a value stored with opaque memory semantic then subsequent read will observe \"at least this or later\" value (plain memory access does not provide such guarantees, does it?).</p>\n\n<p>Also since Java 9 VarHandles are somewhat related to acquire/release/consume semantic in C I think it is worth noting that opaque access is similar to <code>memory_order_relaxed</code> which is defined in the Standard as follows:</p>\n\n<blockquote>\n  <p>For <code>memory_order_relaxed</code>, no operation orders memory.</p>\n</blockquote>\n\n<p>with some examples provided.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663917880,"creation_date":1659919166,"answer_id":73271955,"question_id":56342141,"body_markdown":"I have been struggling with opaque myself and the [documentation][1] is certainly not easy to understand.\r\n\r\nFrom the above link:\r\n\r\n&gt; Opaque operations are bitwise atomic and coherently ordered.\r\n\r\nThe bitwise atomic part is obvious. Coherently ordered means that loads/stores to a single address have some total order, each reach sees the most recent address before it and the order is consistent with the program order. For some coherence examples, see the following [JCStress test.][2]\r\n\r\nCoherence doesn&#39;t provide any ordering guarantees between loads/stores to **different** addresses so it doesn&#39;t need to provide any fences so that loads/stores to different addresses are ordered. \r\n\r\nWith opaque, the compiler will emit the loads/stores as it sees them. But the underlying hardware is still allowed to reorder load/stores to different addresses.\r\n\r\nI upgraded your example to the message-passing litmus test:\r\n\r\n    thread1:\r\n    X.setOpaque(1);\r\n    Y.setOpaque(1);\r\n\r\n    thread2:\r\n    ry = Y.getOpaque();\r\n    rx = X.getOpaque();\r\n    if (ry == 1 &amp;&amp; rx == 0) println(&quot;Oh shit&quot;);\r\n\r\nThe above could fail on a platform that would allow for the 2 stores to be reordered or the 2 loads (again ARM or PowerPC). Opaque is not required to provide causality. JCStress has a good [example][3] for that as well.\r\n\r\nAlso, the following IRIW example can fail:\r\n\r\n    thread1:\r\n    X.setOpaque(1);\r\n\r\n    thread2:\r\n    Y.setOpaque(1);\r\n\r\n    thread3:\r\n    rx_thread3 = X.getOpaque();\r\n    [LoadLoad]\r\n    ry_thread3 = Y.getOpaque();\r\n\r\n    thread4:\r\n    ry_thread4 = Y.getOpaque();\r\n    [LoadLoad]\r\n    rx_thread4 = X.getOpaque();\r\n\r\nCan it be that we end up with rx_thread3=1,ry_thread3=0,ry_thread4=1 and rx_thread4 is 0? \r\n\r\nWith opaque this can happen. Even though the loads are prevented from being reordered, opaque accesses do not require multi-copy-atomicity (stores to different addresses issued by different CPUs can be seen in different orders).\r\n\r\nRelease/acquire is stronger than opaque, since with release/acquire it is allowed to fail, therefor with opaque, it is allowed to fail. So Opaque is not required to provide consensus. \r\n\r\n\r\n  [1]: https://gee.cs.oswego.edu/dl/html/j9mm.html\r\n  [2]: https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_05_Coherence.java\r\n  [3]: https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_06_Causality.java","title":"VarHandle get/setOpaque","body":"<p>I have been struggling with opaque myself and the <a href=\"https://gee.cs.oswego.edu/dl/html/j9mm.html\" rel=\"nofollow noreferrer\">documentation</a> is certainly not easy to understand.</p>\n<p>From the above link:</p>\n<blockquote>\n<p>Opaque operations are bitwise atomic and coherently ordered.</p>\n</blockquote>\n<p>The bitwise atomic part is obvious. Coherently ordered means that loads/stores to a single address have some total order, each reach sees the most recent address before it and the order is consistent with the program order. For some coherence examples, see the following <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_05_Coherence.java\" rel=\"nofollow noreferrer\">JCStress test.</a></p>\n<p>Coherence doesn't provide any ordering guarantees between loads/stores to <strong>different</strong> addresses so it doesn't need to provide any fences so that loads/stores to different addresses are ordered.</p>\n<p>With opaque, the compiler will emit the loads/stores as it sees them. But the underlying hardware is still allowed to reorder load/stores to different addresses.</p>\n<p>I upgraded your example to the message-passing litmus test:</p>\n<pre><code>thread1:\nX.setOpaque(1);\nY.setOpaque(1);\n\nthread2:\nry = Y.getOpaque();\nrx = X.getOpaque();\nif (ry == 1 &amp;&amp; rx == 0) println(&quot;Oh shit&quot;);\n</code></pre>\n<p>The above could fail on a platform that would allow for the 2 stores to be reordered or the 2 loads (again ARM or PowerPC). Opaque is not required to provide causality. JCStress has a good <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_06_Causality.java\" rel=\"nofollow noreferrer\">example</a> for that as well.</p>\n<p>Also, the following IRIW example can fail:</p>\n<pre><code>thread1:\nX.setOpaque(1);\n\nthread2:\nY.setOpaque(1);\n\nthread3:\nrx_thread3 = X.getOpaque();\n[LoadLoad]\nry_thread3 = Y.getOpaque();\n\nthread4:\nry_thread4 = Y.getOpaque();\n[LoadLoad]\nrx_thread4 = X.getOpaque();\n</code></pre>\n<p>Can it be that we end up with rx_thread3=1,ry_thread3=0,ry_thread4=1 and rx_thread4 is 0?</p>\n<p>With opaque this can happen. Even though the loads are prevented from being reordered, opaque accesses do not require multi-copy-atomicity (stores to different addresses issued by different CPUs can be seen in different orders).</p>\n<p>Release/acquire is stronger than opaque, since with release/acquire it is allowed to fail, therefor with opaque, it is allowed to fail. So Opaque is not required to provide consensus.</p>\n"}],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1830,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":56344792,"answer_count":3,"score":14,"last_activity_date":1663917880,"creation_date":1559045948,"question_id":56342141,"body_markdown":"I keep fighting to understand what `VarHandle::setOpaque` and `VarHandle::getOpaque` are _really_ doing. It has not been easy so far - there are some things I _think_ I get (but will not present them in the question itself, not to muddy the waters), but overall this is miss-leading at best for me.\r\n\r\nThe documentation:\r\n\r\n&gt; Returns the value of a variable, accessed in program order...\r\n\r\nWell in my understanding if I have:\r\n\r\n    int xx = x; // read x\r\n    int yy = y; // read y\r\n\r\nThese reads can be re-ordered. On the other had if I have:\r\n\r\n    // simplified code, does not compile, but reads happen on the same &quot;this&quot; for example\r\n    int xx = VarHandle_X.getOpaque(x); \r\n    int yy = VarHandle_Y.getOpaque(y);\r\n\r\nThis time re-orderings are not possible? And this is what it means &quot;program order&quot;? Are we talking about insertions of barriers here for this re-ordering to be prohibited? If so, since these are two loads, would the same be achieved? via:\r\n\r\n\r\n     int xx = x;\r\n     VarHandle.loadLoadFence()\r\n     int yy = y;\r\n\r\nBut it gets a lot trickier:\r\n\r\n&gt; ... but with no assurance of memory ordering effects with respect to other threads.\r\n\r\nI could not come up with an example to even pretend I understand this part.\r\n\r\nIt seems to me that this documentation is targeted at people who know exactly what they are doing (and I am _definitely_ not one)... So can someone shed some light here?","title":"VarHandle get/setOpaque","body":"<p>I keep fighting to understand what <code>VarHandle::setOpaque</code> and <code>VarHandle::getOpaque</code> are <em>really</em> doing. It has not been easy so far - there are some things I <em>think</em> I get (but will not present them in the question itself, not to muddy the waters), but overall this is miss-leading at best for me.</p>\n\n<p>The documentation:</p>\n\n<blockquote>\n  <p>Returns the value of a variable, accessed in program order...</p>\n</blockquote>\n\n<p>Well in my understanding if I have:</p>\n\n<pre><code>int xx = x; // read x\nint yy = y; // read y\n</code></pre>\n\n<p>These reads can be re-ordered. On the other had if I have:</p>\n\n<pre><code>// simplified code, does not compile, but reads happen on the same \"this\" for example\nint xx = VarHandle_X.getOpaque(x); \nint yy = VarHandle_Y.getOpaque(y);\n</code></pre>\n\n<p>This time re-orderings are not possible? And this is what it means \"program order\"? Are we talking about insertions of barriers here for this re-ordering to be prohibited? If so, since these are two loads, would the same be achieved? via:</p>\n\n<pre><code> int xx = x;\n VarHandle.loadLoadFence()\n int yy = y;\n</code></pre>\n\n<p>But it gets a lot trickier:</p>\n\n<blockquote>\n  <p>... but with no assurance of memory ordering effects with respect to other threads.</p>\n</blockquote>\n\n<p>I could not come up with an example to even pretend I understand this part.</p>\n\n<p>It seems to me that this documentation is targeted at people who know exactly what they are doing (and I am <em>definitely</em> not one)... So can someone shed some light here?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1663915112,"post_id":73823819,"comment_id":130355611,"body_markdown":"&quot;I have tried...&quot; please add your failed attempts, especially the ones with `Map` which is the most relevant here, since Java doesn&#39;t have associative arrays.","body":"&quot;I have tried...&quot; please add your failed attempts, especially the ones with <code>Map</code> which is the most relevant here, since Java doesn&#39;t have associative arrays."},{"owner":{"account_id":22755662,"reputation":85,"user_id":16915156,"display_name":"Garry S"},"score":0,"creation_date":1663915367,"post_id":73823819,"comment_id":130355664,"body_markdown":"Updated code in description.","body":"Updated code in description."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":1,"creation_date":1663915375,"post_id":73823819,"comment_id":130355666,"body_markdown":"it kind of looks like you are working with JSON, so you could consider a POJO. Then implement an arraylist storing those POJO","body":"it kind of looks like you are working with JSON, so you could consider a POJO. Then implement an arraylist storing those POJO"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1663915516,"post_id":73823819,"comment_id":130355712,"body_markdown":"Among other things you are trying to add a `List&lt;String&gt;` to a Map that has `String` as generic type for values. You could use a `Map&lt;String,List&lt;String&gt;&gt;` or a `Map&lt;String,Object&gt;`, but honestly I think @TanYuHauSean &#39;s suggestion is better","body":"Among other things you are trying to add a <code>List&lt;String&gt;</code> to a Map that has <code>String</code> as generic type for values. You could use a <code>Map&lt;String,List&lt;String&gt;&gt;</code> or a <code>Map&lt;String,Object&gt;</code>, but honestly I think @TanYuHauSean &#39;s suggestion is better"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1663915539,"post_id":73823819,"comment_id":130355721,"body_markdown":"actually, cant you just put the KEY as &quot;abc&quot; and for the value put your links? ie `map.put(&quot;abc&quot;, &quot;www.abc.com www.abc1.com www.abc2.com&quot;);` with whatever delimiter of choice or insert the arraylist into map","body":"actually, cant you just put the KEY as &quot;abc&quot; and for the value put your links? ie <code>map.put(&quot;abc&quot;, &quot;www.abc.com www.abc1.com www.abc2.com&quot;);</code> with whatever delimiter of choice or insert the arraylist into map"},{"owner":{"account_id":2038896,"reputation":134,"user_id":1820567,"display_name":"max de simone"},"score":0,"creation_date":1663916854,"post_id":73823819,"comment_id":130356082,"body_markdown":"you can use a multimap.","body":"you can use a multimap."}],"answers":[{"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663916332,"creation_date":1663916332,"answer_id":73824029,"question_id":73823819,"body_markdown":"You should create a class and then access the properties like you want.\r\n\r\n    class TrackData {\r\n            private String trackme;\r\n            private List&lt;String&gt; trackLink;\r\n            \r\n            public String getTrackme() {return trackme;}\r\n            public void setTrackme(String trackme) {this.trackme = trackme;}\r\n            public List&lt;String&gt; getTrackLink() {return trackLink;}\r\n            public void setTrackLink(List&lt;String&gt; trackLink) {this.trackLink = trackLink;}\r\n        }\r\n\r\nTo access it:\r\n\r\n    @Test\r\n        void arrayInArray_Test1() {\r\n            List&lt;TrackData&gt; trackData = new ArrayList&lt;&gt;();\r\n            trackData.add(new TrackData(){{\r\n                setTrackme(&quot;abc&quot;);\r\n                setTrackLink(new ArrayList&lt;String&gt;(){{\r\n                    add(&quot;www.abc.com&quot;);\r\n                    add(&quot;www.abc1.com&quot;);\r\n                    add(&quot;www.abc2.com&quot;);\r\n                }});\r\n            }});\r\n            trackData.add(new TrackData(){{\r\n                setTrackme(&quot;xyz&quot;);\r\n                setTrackLink(new ArrayList&lt;String&gt;(){{\r\n                    add(&quot;www.xyz.com&quot;);\r\n                    add(&quot;www.xyz1.com&quot;);\r\n                    add(&quot;www.xyz2.com&quot;);\r\n                }});\r\n            }});\r\n            System.out.println(trackData);\r\n        }\r\n\r\nIf you are using a newer Java version, you can create a record instead of a class.","title":"add array into array","body":"<p>You should create a class and then access the properties like you want.</p>\n<pre><code>class TrackData {\n        private String trackme;\n        private List&lt;String&gt; trackLink;\n        \n        public String getTrackme() {return trackme;}\n        public void setTrackme(String trackme) {this.trackme = trackme;}\n        public List&lt;String&gt; getTrackLink() {return trackLink;}\n        public void setTrackLink(List&lt;String&gt; trackLink) {this.trackLink = trackLink;}\n    }\n</code></pre>\n<p>To access it:</p>\n<pre><code>@Test\n    void arrayInArray_Test1() {\n        List&lt;TrackData&gt; trackData = new ArrayList&lt;&gt;();\n        trackData.add(new TrackData(){{\n            setTrackme(&quot;abc&quot;);\n            setTrackLink(new ArrayList&lt;String&gt;(){{\n                add(&quot;www.abc.com&quot;);\n                add(&quot;www.abc1.com&quot;);\n                add(&quot;www.abc2.com&quot;);\n            }});\n        }});\n        trackData.add(new TrackData(){{\n            setTrackme(&quot;xyz&quot;);\n            setTrackLink(new ArrayList&lt;String&gt;(){{\n                add(&quot;www.xyz.com&quot;);\n                add(&quot;www.xyz1.com&quot;);\n                add(&quot;www.xyz2.com&quot;);\n            }});\n        }});\n        System.out.println(trackData);\n    }\n</code></pre>\n<p>If you are using a newer Java version, you can create a record instead of a class.</p>\n"},{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663916617,"creation_date":1663916617,"answer_id":73824075,"question_id":73823819,"body_markdown":"You can achieve as follows\r\n\r\n    public class TrackTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Tracks&gt; trackList = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tTracks track1 = new Tracks(&quot;abc&quot;);\r\n    \t\ttrack1.getTrackLinks().add(&quot;www.abc.com&quot;);\r\n    \t\ttrack1.getTrackLinks().add(&quot;www.abc1.com&quot;);\r\n    \t\ttrack1.getTrackLinks().add(&quot;www.abc2.com&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tTracks track2 = new Tracks(&quot;xyz&quot;);\r\n    \t\ttrack2.getTrackLinks().add(&quot;www.xyz.com&quot;);\r\n    \t\ttrack2.getTrackLinks().add(&quot;www.xyz1.com&quot;);\r\n    \t\ttrack2.getTrackLinks().add(&quot;www.xyz2.com&quot;);\r\n    \t\r\n    \t\ttrackList.add(track1);\r\n    \t\ttrackList.add(track2);\r\n    \t\t\r\n    \t\tSystem.out.println(trackList);\r\n    \t}\r\n    \t\t\r\n    \tstatic class Tracks{\r\n    \t\tprivate String trackName;\r\n    \t\tprivate List&lt;String&gt; trackLinks;\r\n    \t\t\r\n    \t\tpublic Tracks(String trackName) {\r\n    \t\t\tthis.trackName = trackName;\r\n    \t\t\tthis.trackLinks = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic Tracks(String trackName, List&lt;String&gt; trackLinks) {\r\n    \t\t\tthis.trackName = trackName;\r\n    \t\t\tthis.trackLinks = trackLinks;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getTrackName() {\r\n    \t\t\treturn trackName;\r\n    \t\t}\r\n    \r\n    \t\tpublic List&lt;String&gt; getTrackLinks() {\r\n    \t\t\treturn trackLinks;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Tracks [trackName=&quot; + trackName + &quot;, trackLinks=&quot; + trackLinks + &quot;]&quot;;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nLet me know, if you want other approach.","title":"add array into array","body":"<p>You can achieve as follows</p>\n<pre><code>public class TrackTest {\n    public static void main(String[] args) {\n        List&lt;Tracks&gt; trackList = new ArrayList&lt;&gt;();\n        \n        Tracks track1 = new Tracks(&quot;abc&quot;);\n        track1.getTrackLinks().add(&quot;www.abc.com&quot;);\n        track1.getTrackLinks().add(&quot;www.abc1.com&quot;);\n        track1.getTrackLinks().add(&quot;www.abc2.com&quot;);\n        \n        \n        Tracks track2 = new Tracks(&quot;xyz&quot;);\n        track2.getTrackLinks().add(&quot;www.xyz.com&quot;);\n        track2.getTrackLinks().add(&quot;www.xyz1.com&quot;);\n        track2.getTrackLinks().add(&quot;www.xyz2.com&quot;);\n    \n        trackList.add(track1);\n        trackList.add(track2);\n        \n        System.out.println(trackList);\n    }\n        \n    static class Tracks{\n        private String trackName;\n        private List&lt;String&gt; trackLinks;\n        \n        public Tracks(String trackName) {\n            this.trackName = trackName;\n            this.trackLinks = new ArrayList&lt;&gt;();\n        }\n        \n        public Tracks(String trackName, List&lt;String&gt; trackLinks) {\n            this.trackName = trackName;\n            this.trackLinks = trackLinks;\n        }\n\n        public String getTrackName() {\n            return trackName;\n        }\n\n        public List&lt;String&gt; getTrackLinks() {\n            return trackLinks;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Tracks [trackName=&quot; + trackName + &quot;, trackLinks=&quot; + trackLinks + &quot;]&quot;;\n        }\n    }\n}\n</code></pre>\n<p>Let me know, if you want other approach.</p>\n"},{"tags":[],"owner":{"account_id":26403751,"reputation":29,"user_id":20053848,"display_name":"Yer&#243;n Barreiro Mart&#237;nez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663917461,"creation_date":1663917461,"answer_id":73824207,"question_id":73823819,"body_markdown":"how are u?\r\n\r\nWhy u dont do this.\r\n\r\nCreate class named URL, for example.\r\n\r\n        public class Url(){\r\n    //atributes\r\n    String domain;\r\n    String url;\r\n    \r\n    \r\n    \r\n    //Contructor\r\n    public class URL(String domain, String url){\r\n    this.domain = domain;\r\n    this.url = url;\r\n    }\r\n    }\r\n\r\nIn ur main.class, u can create one Arraylist&lt;URL&gt; to saves ur instaces of URL.\r\n\r\n    public static void newURL(){\r\n    String domain, url;\r\n    Scanner keyboard = new Scanner(System.in);\r\n    //ask domain, i will use an example.\r\n    System.out.println(&quot;What is domain of URL?&quot;);\r\n    domain = keyboard.nextLine();\r\n    System.out.println(&quot;What is url?&quot;);\r\n    url = keyboard.nextLine;\r\n    \r\n    //now, u have atributes of new url\r\n    URL url = new URL(domain,url);\r\n    \r\n    }\r\n\r\nWhat its ur objective? It&#39;s important question.\r\nIf is for simple control in a little program, u can do this","title":"add array into array","body":"<p>how are u?</p>\n<p>Why u dont do this.</p>\n<p>Create class named URL, for example.</p>\n<pre><code>    public class Url(){\n//atributes\nString domain;\nString url;\n\n\n\n//Contructor\npublic class URL(String domain, String url){\nthis.domain = domain;\nthis.url = url;\n}\n}\n</code></pre>\n<p>In ur main.class, u can create one Arraylist to saves ur instaces of URL.</p>\n<pre><code>public static void newURL(){\nString domain, url;\nScanner keyboard = new Scanner(System.in);\n//ask domain, i will use an example.\nSystem.out.println(&quot;What is domain of URL?&quot;);\ndomain = keyboard.nextLine();\nSystem.out.println(&quot;What is url?&quot;);\nurl = keyboard.nextLine;\n\n//now, u have atributes of new url\nURL url = new URL(domain,url);\n\n}\n</code></pre>\n<p>What its ur objective? It's important question.\nIf is for simple control in a little program, u can do this</p>\n"},{"tags":[],"owner":{"account_id":2038896,"reputation":134,"user_id":1820567,"display_name":"max de simone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663917502,"creation_date":1663917502,"answer_id":73824218,"question_id":73823819,"body_markdown":"Consider using a multimap, a map whose values are list objects:\r\n\r\n\r\n\timport java.util.ArrayList;\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\t\r\n\tpublic class Starter {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t\tMap&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n\t\t\t        \t\t\r\n\t\t\tArrayList&lt;String&gt; myLinks= new ArrayList&lt;&gt;();\r\n\t\t\t        \r\n\t\t\t        myLinks.add(&quot;www.abc.com&quot;);\r\n\t\t\t        myLinks.add(&quot;www.abc1.com&quot;);\r\n\t\t\t        myLinks.add(&quot;www.abc2.com&quot;);\r\n\t\t\t\r\n\t\t\tmap.put(&quot;abc&quot;, myLinks);\r\n\t\t\t\r\n\t\t\tSystem.out.println(map); // {abc=[www.abc.com, www.abc1.com, www.abc2.com]}\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"add array into array","body":"<p>Consider using a multimap, a map whose values are list objects:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Starter {\n\n    public static void main(String[] args) {\n        \n        Map&lt;String, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n                        \n        ArrayList&lt;String&gt; myLinks= new ArrayList&lt;&gt;();\n                \n                myLinks.add(&quot;www.abc.com&quot;);\n                myLinks.add(&quot;www.abc1.com&quot;);\n                myLinks.add(&quot;www.abc2.com&quot;);\n        \n        map.put(&quot;abc&quot;, myLinks);\n        \n        System.out.println(map); // {abc=[www.abc.com, www.abc1.com, www.abc2.com]}\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22755662,"reputation":85,"user_id":16915156,"display_name":"Garry S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":73824218,"answer_count":4,"score":0,"last_activity_date":1663917502,"creation_date":1663915002,"question_id":73823819,"body_markdown":"I have data of tracks &amp; tracklinks like folowing:\r\n\r\n    trackname - abc\r\n    links - www.abc.com\r\n            www.abc1.com\r\n            www.abc2.com\r\n    \r\n    trackname - xyz\r\n    links - www.xyz.com\r\n            www.xyz1.com\r\n            www.xyz2.com\r\n\r\nI want to make array with in array in Java. so final array would be:\r\n\r\n    trackdata = {    \r\n    [0] {\r\n       [trackname] = &#39;abc&#39;,\r\n       [tracklinks] = {\r\n        [0] = &quot;www.abc.com&quot;;\r\n        [1] = &quot;www.abc1.com&quot;;\r\n        [2] = &quot;www.abc2.com&quot;;\r\n       }\r\n    },\r\n    [1] {\r\n       [trackname] = &#39;xyz&#39;,\r\n       [tracklinks] = {\r\n        [0] = &quot;www.xyz.com&quot;;\r\n        [1] = &quot;www.xyz1.com&quot;;\r\n        [2] = &quot;www.xyz2.com&quot;;\r\n       }\r\n    }\r\n\r\nI have tried to make this using ArrayList, Map but not succeed. \r\n\r\n    Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tmap.put(&quot;trackname&quot;, &quot;abc&quot;);\r\n    \r\n    ArrayList&lt;String&gt; myLinks= new ArrayList&lt;&gt;();\r\n            \r\n            myLinks.add(&quot;www.abc.com&quot;);\r\n            myLinks.add(&quot;www.abc1.com&quot;);\r\n            myLinks.add(&quot;www.abc2.com&quot;);\r\n    \r\n    map.put(&quot;tracklinks&quot;, myLinks);\r\n\r\nplease help me here.\r\n","title":"add array into array","body":"<p>I have data of tracks &amp; tracklinks like folowing:</p>\n<pre><code>trackname - abc\nlinks - www.abc.com\n        www.abc1.com\n        www.abc2.com\n\ntrackname - xyz\nlinks - www.xyz.com\n        www.xyz1.com\n        www.xyz2.com\n</code></pre>\n<p>I want to make array with in array in Java. so final array would be:</p>\n<pre><code>trackdata = {    \n[0] {\n   [trackname] = 'abc',\n   [tracklinks] = {\n    [0] = &quot;www.abc.com&quot;;\n    [1] = &quot;www.abc1.com&quot;;\n    [2] = &quot;www.abc2.com&quot;;\n   }\n},\n[1] {\n   [trackname] = 'xyz',\n   [tracklinks] = {\n    [0] = &quot;www.xyz.com&quot;;\n    [1] = &quot;www.xyz1.com&quot;;\n    [2] = &quot;www.xyz2.com&quot;;\n   }\n}\n</code></pre>\n<p>I have tried to make this using ArrayList, Map but not succeed.</p>\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n        \n        map.put(&quot;trackname&quot;, &quot;abc&quot;);\n\nArrayList&lt;String&gt; myLinks= new ArrayList&lt;&gt;();\n        \n        myLinks.add(&quot;www.abc.com&quot;);\n        myLinks.add(&quot;www.abc1.com&quot;);\n        myLinks.add(&quot;www.abc2.com&quot;);\n\nmap.put(&quot;tracklinks&quot;, myLinks);\n</code></pre>\n<p>please help me here.</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663917185,"creation_date":1663917185,"answer_id":73824169,"question_id":73819881,"body_markdown":"[Write a ConstraintProviderTest][1] (just like in the quickstarts) to verify if your constraints behave the way you expect them to behave. Don&#39;t do that through calling solve().\r\n\r\nWhy? It allows you to test your constraints **quickly** and **in isolation**.\r\n\r\n&gt; In this case employee with id 6 should not have shift at 9:00~12:00, 2021-12-25 because he took the shift at 20:00~23:00, 2021-12-24 (just 10 hours between those 2 shift assignments).\r\n\r\nI suspect if you write such a unit test for the hard constraint that prevents this and you feed this data to the constraint verifier of that constraint, you&#39;ll get 0 hard constrains broken (because your ending score is 0hard already). From there, it will be a lot easier to debug what&#39;s going and fix it, or when that fails, post a much *shorter* StackOverflow question focused only on the constraint that is problematic.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#constraintStreamsTesting","title":"Employee rostering with Optaplanner. Hard constraint is broken but hard score is not deducted","body":"<p><a href=\"https://www.optaplanner.org/docs/optaplanner/latest/constraint-streams/constraint-streams.html#constraintStreamsTesting\" rel=\"nofollow noreferrer\">Write a ConstraintProviderTest</a> (just like in the quickstarts) to verify if your constraints behave the way you expect them to behave. Don't do that through calling solve().</p>\n<p>Why? It allows you to test your constraints <strong>quickly</strong> and <strong>in isolation</strong>.</p>\n<blockquote>\n<p>In this case employee with id 6 should not have shift at 9:00~12:00, 2021-12-25 because he took the shift at 20:00~23:00, 2021-12-24 (just 10 hours between those 2 shift assignments).</p>\n</blockquote>\n<p>I suspect if you write such a unit test for the hard constraint that prevents this and you feed this data to the constraint verifier of that constraint, you'll get 0 hard constrains broken (because your ending score is 0hard already). From there, it will be a lot easier to debug what's going and fix it, or when that fails, post a much <em>shorter</em> StackOverflow question focused only on the constraint that is problematic.</p>\n"}],"owner":{"account_id":20905597,"reputation":25,"user_id":15357636,"display_name":"Jingyu Xiang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73824169,"answer_count":1,"score":0,"last_activity_date":1663917185,"creation_date":1663875554,"question_id":73819881,"body_markdown":"I am using Optaplanner for shift rostering. I have an &quot;atLeast12HoursBetweenTwoShifts&quot; constraint that prevent the same employee having 2 shift assignments within 12 hours. This constraint should penalize any invalid pairs of shift assignments with a hard score of (12 - the hourly duration between the 2 shift assignments). However, after I run the solver, I can see shift assignments that violates this rule appear in the solution without any hard score deduction such as the following: \r\n```\r\n15:24:02.832 [main        ] INFO  Solving started: time spent (43), best score (-25init/0hard/0soft), environment mode (REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).\r\n15:24:02.881 [main        ] INFO  Construction Heuristic phase (0) ended: time spent (92), best score (0hard/-109soft), score calculation speed (3682/sec), step total (25).\r\n15:24:07.789 [main        ] INFO  Local Search phase (1) ended: time spent (5000), best score (0hard/-105soft), score calculation speed (136883/sec), step total (33460).\r\n15:24:07.790 [main        ] INFO  Solving ended: time spent (5000), best score (0hard/-105soft), score calculation speed (134313/sec), phase total (2), environment mode (REPRODUCIBLE), move thread count (NONE).\r\n\r\n...\r\n\r\nShiftAssignment{shiftId=&#39;1&#39;, employeeId=4, employeeRoles=[Design], roleRequired=&#39;Design&#39;, time=2022-11-24,09:00~12:00}\r\nShiftAssignment{shiftId=&#39;1&#39;, employeeId=5, employeeRoles=[Design], roleRequired=&#39;Design&#39;, time=2022-11-24,09:00~12:00}\r\nShiftAssignment{shiftId=&#39;2&#39;, employeeId=3, employeeRoles=[Clean], roleRequired=&#39;Clean&#39;, time=2022-11-24,15:00~17:00}\r\nShiftAssignment{shiftId=&#39;3&#39;, employeeId=2, employeeRoles=[Dev], roleRequired=&#39;Dev&#39;, time=2022-11-24,20:00~23:00}\r\nShiftAssignment{shiftId=&#39;3&#39;, employeeId=6, employeeRoles=[Design, Dev], roleRequired=&#39;Dev&#39;, time=2022-11-24,20:00~23:00}\r\n\r\nShiftAssignment{shiftId=&#39;1&#39;, employeeId=5, employeeRoles=[Design], roleRequired=&#39;Design&#39;, time=2022-11-25,09:00~12:00}\r\nShiftAssignment{shiftId=&#39;1&#39;, employeeId=6, employeeRoles=[Design, Dev], roleRequired=&#39;Design&#39;, time=2022-11-25,09:00~12:00}\r\nShiftAssignment{shiftId=&#39;2&#39;, employeeId=3, employeeRoles=[Clean], roleRequired=&#39;Clean&#39;, time=2022-11-25,15:00~17:00}\r\nShiftAssignment{shiftId=&#39;3&#39;, employeeId=1, employeeRoles=[Dev], roleRequired=&#39;Dev&#39;, time=2022-11-25,20:00~23:00}\r\nShiftAssignment{shiftId=&#39;3&#39;, employeeId=2, employeeRoles=[Dev], roleRequired=&#39;Dev&#39;, time=2022-11-25,20:00~23:00}\r\n```\r\nIn this case employee with id 6 should not have shift at 9:00~12:00, 2021-12-25 because he took the shift at 20:00~23:00, 2021-12-24 (just 10 hours between those 2 shift assignments). Those 2 shift assignments are scheduled without hard score deduction to indicate the break of rule. It&#39;s like Optaplanner forgot applying &quot;atLeast12HoursBetweenTwoShifts&quot; constraint on those 2 shift assignments. Why this situation happened and what should I do to prevent such situation?\r\n\r\nMy models that are related to this problem: \r\n```\r\n@Data\r\n@PlanningEntity\r\npublic class ShiftAssignment {\r\n\r\n    @PlanningId\r\n    private String id;\r\n\r\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n    private Employee employee;\r\n\r\n    private String role;\r\n\r\n    private Shift shift;\r\n\r\n    private Map&lt;String, Boolean&gt; conflicts = new HashMap&lt;&gt;() {{\r\n        put(&quot;hourlyGap&quot;, false);\r\n        put(&quot;dailyGap&quot;, false);\r\n    }};\r\n\r\n    public ShiftAssignment(String id, String role, Shift shift) {\r\n        this.id = id;\r\n        this.role = role;\r\n        this.shift = shift;\r\n    }\r\n\r\n    public ShiftAssignment(String id, String role, Shift shift, Employee employee) {\r\n        this.id = id;\r\n        this.role = role;\r\n        this.shift = shift;\r\n        this.employee = employee;\r\n    }\r\n\r\n    public ShiftAssignment() {\r\n    }\r\n\r\n    public LocalDate getDate() {\r\n        return shift.getEndAt().toLocalDate();\r\n    }\r\n}\r\n```\r\n```\r\n@Data\r\npublic class Employee {\r\n\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private Set&lt;String&gt; roleSet;\r\n\r\n    public Employee(Long id, String name, Set&lt;String&gt; roleSet) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.roleSet = roleSet;\r\n    }\r\n\r\n    public Employee() {\r\n    }\r\n}\r\n```\r\n```\r\n@Data\r\n@PlanningSolution\r\npublic class Schedule {\r\n\r\n    @PlanningScore\r\n    private HardSoftScore score;\r\n\r\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n    @ProblemFactCollectionProperty\r\n    private List&lt;Employee&gt; employeeList;\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;ShiftAssignment&gt; shiftAssignmentList;\r\n\r\n    public Schedule(List&lt;Employee&gt; employeeList, List&lt;ShiftAssignment&gt; shiftAssignmentList) {\r\n        this.employeeList = employeeList;\r\n        this.shiftAssignmentList = shiftAssignmentList;\r\n    }\r\n\r\n    public Schedule() {\r\n    }\r\n}\r\n```\r\n\r\nMy constraint provider class:\r\n```\r\npublic class ScheduleConstraintProvider implements ConstraintProvider {\r\n\r\n    @Override\r\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n        return new Constraint[]{\r\n            atLeast12HoursBetweenTwoShifts(constraintFactory),\r\n            atMostOneShiftPerDay(constraintFactory),\r\n            evenlyShiftsDistribution(constraintFactory),\r\n            onlyRequiredRole(constraintFactory)\r\n        };\r\n    }\r\n\r\n    public Constraint atLeast12HoursBetweenTwoShifts(ConstraintFactory constraintFactory) {\r\n        // any employee can only work 1 shift in 12 hours\r\n\r\n        return constraintFactory\r\n            .forEachUniquePair(\r\n                ShiftAssignment.class,\r\n                Joiners.equal(ShiftAssignment::getEmployee),\r\n                Joiners.lessThanOrEqual(\r\n                    (shiftAssignment1) -&gt; shiftAssignment1.getShift().getEndAt(),\r\n                    (shiftAssignment2) -&gt; shiftAssignment2.getShift().getStartAt()\r\n                )\r\n            )\r\n            .filter((firstShift, secondShift) -&gt; Duration.between(\r\n                firstShift.getShift().getEndAt(),\r\n                secondShift.getShift().getStartAt()\r\n            ).toHours() &lt; 12)\r\n            .penalize(\r\n                &quot;atLeast12HoursBetweenTwoShifts&quot;,\r\n                HardSoftScore.ONE_HARD,\r\n                (first, second) -&gt; {\r\n                    int breakLength = (int) Duration.between(\r\n                        first.getShift().getEndAt(),\r\n                        second.getShift().getStartAt()\r\n                    ).toHours();\r\n                    return 12 - breakLength;\r\n                });\r\n    }\r\n\r\n    public Constraint atMostOneShiftPerDay(ConstraintFactory constraintFactory) {\r\n        // an employee can only work 1 shift per day\r\n\r\n        return constraintFactory\r\n            .forEachUniquePair(\r\n                ShiftAssignment.class,\r\n                Joiners.equal(ShiftAssignment::getEmployee),\r\n                Joiners.equal(ShiftAssignment::getDate)\r\n            )\r\n            .penalize(\r\n                &quot;atMostOneShiftPerDay&quot;,\r\n                HardSoftScore.ONE_HARD\r\n            );\r\n    }\r\n\r\n    public Constraint evenlyShiftsDistribution(ConstraintFactory constraintFactory) {\r\n        // try to distribute the shifts evenly to employees\r\n\r\n        return constraintFactory.forEach(ShiftAssignment.class)\r\n            .groupBy(ShiftAssignment::getEmployee, ConstraintCollectors.count())\r\n            .penalize(\r\n                &quot;evenlyShiftsDistribution&quot;,\r\n                HardSoftScore.ONE_SOFT,\r\n                (employee, shifts) -&gt; shifts * shifts);\r\n    }\r\n\r\n    public Constraint onlyRequiredRole(ConstraintFactory constraintFactory) {\r\n        // a shift can only be assigned to employees with roles it needs\r\n\r\n        return constraintFactory\r\n            .forEach(ShiftAssignment.class)\r\n            .filter(\r\n                shiftEmployee -&gt; {\r\n                    String requiredRole = shiftEmployee.getRole();\r\n                    Set&lt;String&gt; providedRoles = shiftEmployee.getEmployee().getRoleSet();\r\n\r\n                    return !providedRoles.contains(requiredRole);\r\n                }\r\n            )\r\n            .penalize(\r\n                &quot;onlyRequiredRole&quot;,\r\n                HardSoftScore.ONE_HARD,\r\n                (shiftEmployee) -&gt; 12\r\n            );\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy main app:\r\n```\r\n        SolverConfig solverConfig = new SolverConfig();\r\n\r\n        solverConfig\r\n            .withSolutionClass(Schedule.class)\r\n            .withEntityClasses(ShiftAssignment.class)\r\n            .withConstraintProviderClass(ScheduleConstraintProvider.class)\r\n            .withTerminationSpentLimit(Duration.ofSeconds(5));\r\n\r\n        SolverFactory&lt;Schedule&gt; scheduleSolverFactory = SolverFactory.create(solverConfig);\r\n\r\n        Schedule dataset = Data.generateData();\r\n\r\n        Solver&lt;Schedule&gt; solver = scheduleSolverFactory.buildSolver();\r\n        Schedule schedule = solver.solve(dataset);\r\n        \r\n        SolutionPrinter.printResult(schedule);\r\n```","title":"Employee rostering with Optaplanner. Hard constraint is broken but hard score is not deducted","body":"<p>I am using Optaplanner for shift rostering. I have an &quot;atLeast12HoursBetweenTwoShifts&quot; constraint that prevent the same employee having 2 shift assignments within 12 hours. This constraint should penalize any invalid pairs of shift assignments with a hard score of (12 - the hourly duration between the 2 shift assignments). However, after I run the solver, I can see shift assignments that violates this rule appear in the solution without any hard score deduction such as the following:</p>\n<pre><code>15:24:02.832 [main        ] INFO  Solving started: time spent (43), best score (-25init/0hard/0soft), environment mode (REPRODUCIBLE), move thread count (NONE), random (JDK with seed 0).\n15:24:02.881 [main        ] INFO  Construction Heuristic phase (0) ended: time spent (92), best score (0hard/-109soft), score calculation speed (3682/sec), step total (25).\n15:24:07.789 [main        ] INFO  Local Search phase (1) ended: time spent (5000), best score (0hard/-105soft), score calculation speed (136883/sec), step total (33460).\n15:24:07.790 [main        ] INFO  Solving ended: time spent (5000), best score (0hard/-105soft), score calculation speed (134313/sec), phase total (2), environment mode (REPRODUCIBLE), move thread count (NONE).\n\n...\n\nShiftAssignment{shiftId='1', employeeId=4, employeeRoles=[Design], roleRequired='Design', time=2022-11-24,09:00~12:00}\nShiftAssignment{shiftId='1', employeeId=5, employeeRoles=[Design], roleRequired='Design', time=2022-11-24,09:00~12:00}\nShiftAssignment{shiftId='2', employeeId=3, employeeRoles=[Clean], roleRequired='Clean', time=2022-11-24,15:00~17:00}\nShiftAssignment{shiftId='3', employeeId=2, employeeRoles=[Dev], roleRequired='Dev', time=2022-11-24,20:00~23:00}\nShiftAssignment{shiftId='3', employeeId=6, employeeRoles=[Design, Dev], roleRequired='Dev', time=2022-11-24,20:00~23:00}\n\nShiftAssignment{shiftId='1', employeeId=5, employeeRoles=[Design], roleRequired='Design', time=2022-11-25,09:00~12:00}\nShiftAssignment{shiftId='1', employeeId=6, employeeRoles=[Design, Dev], roleRequired='Design', time=2022-11-25,09:00~12:00}\nShiftAssignment{shiftId='2', employeeId=3, employeeRoles=[Clean], roleRequired='Clean', time=2022-11-25,15:00~17:00}\nShiftAssignment{shiftId='3', employeeId=1, employeeRoles=[Dev], roleRequired='Dev', time=2022-11-25,20:00~23:00}\nShiftAssignment{shiftId='3', employeeId=2, employeeRoles=[Dev], roleRequired='Dev', time=2022-11-25,20:00~23:00}\n</code></pre>\n<p>In this case employee with id 6 should not have shift at 9:00~12:00, 2021-12-25 because he took the shift at 20:00~23:00, 2021-12-24 (just 10 hours between those 2 shift assignments). Those 2 shift assignments are scheduled without hard score deduction to indicate the break of rule. It's like Optaplanner forgot applying &quot;atLeast12HoursBetweenTwoShifts&quot; constraint on those 2 shift assignments. Why this situation happened and what should I do to prevent such situation?</p>\n<p>My models that are related to this problem:</p>\n<pre><code>@Data\n@PlanningEntity\npublic class ShiftAssignment {\n\n    @PlanningId\n    private String id;\n\n    @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n    private Employee employee;\n\n    private String role;\n\n    private Shift shift;\n\n    private Map&lt;String, Boolean&gt; conflicts = new HashMap&lt;&gt;() {{\n        put(&quot;hourlyGap&quot;, false);\n        put(&quot;dailyGap&quot;, false);\n    }};\n\n    public ShiftAssignment(String id, String role, Shift shift) {\n        this.id = id;\n        this.role = role;\n        this.shift = shift;\n    }\n\n    public ShiftAssignment(String id, String role, Shift shift, Employee employee) {\n        this.id = id;\n        this.role = role;\n        this.shift = shift;\n        this.employee = employee;\n    }\n\n    public ShiftAssignment() {\n    }\n\n    public LocalDate getDate() {\n        return shift.getEndAt().toLocalDate();\n    }\n}\n</code></pre>\n<pre><code>@Data\npublic class Employee {\n\n    private Long id;\n\n    private String name;\n\n    private Set&lt;String&gt; roleSet;\n\n    public Employee(Long id, String name, Set&lt;String&gt; roleSet) {\n        this.id = id;\n        this.name = name;\n        this.roleSet = roleSet;\n    }\n\n    public Employee() {\n    }\n}\n</code></pre>\n<pre><code>@Data\n@PlanningSolution\npublic class Schedule {\n\n    @PlanningScore\n    private HardSoftScore score;\n\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\n    @ProblemFactCollectionProperty\n    private List&lt;Employee&gt; employeeList;\n\n    @PlanningEntityCollectionProperty\n    private List&lt;ShiftAssignment&gt; shiftAssignmentList;\n\n    public Schedule(List&lt;Employee&gt; employeeList, List&lt;ShiftAssignment&gt; shiftAssignmentList) {\n        this.employeeList = employeeList;\n        this.shiftAssignmentList = shiftAssignmentList;\n    }\n\n    public Schedule() {\n    }\n}\n</code></pre>\n<p>My constraint provider class:</p>\n<pre><code>public class ScheduleConstraintProvider implements ConstraintProvider {\n\n    @Override\n    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n        return new Constraint[]{\n            atLeast12HoursBetweenTwoShifts(constraintFactory),\n            atMostOneShiftPerDay(constraintFactory),\n            evenlyShiftsDistribution(constraintFactory),\n            onlyRequiredRole(constraintFactory)\n        };\n    }\n\n    public Constraint atLeast12HoursBetweenTwoShifts(ConstraintFactory constraintFactory) {\n        // any employee can only work 1 shift in 12 hours\n\n        return constraintFactory\n            .forEachUniquePair(\n                ShiftAssignment.class,\n                Joiners.equal(ShiftAssignment::getEmployee),\n                Joiners.lessThanOrEqual(\n                    (shiftAssignment1) -&gt; shiftAssignment1.getShift().getEndAt(),\n                    (shiftAssignment2) -&gt; shiftAssignment2.getShift().getStartAt()\n                )\n            )\n            .filter((firstShift, secondShift) -&gt; Duration.between(\n                firstShift.getShift().getEndAt(),\n                secondShift.getShift().getStartAt()\n            ).toHours() &lt; 12)\n            .penalize(\n                &quot;atLeast12HoursBetweenTwoShifts&quot;,\n                HardSoftScore.ONE_HARD,\n                (first, second) -&gt; {\n                    int breakLength = (int) Duration.between(\n                        first.getShift().getEndAt(),\n                        second.getShift().getStartAt()\n                    ).toHours();\n                    return 12 - breakLength;\n                });\n    }\n\n    public Constraint atMostOneShiftPerDay(ConstraintFactory constraintFactory) {\n        // an employee can only work 1 shift per day\n\n        return constraintFactory\n            .forEachUniquePair(\n                ShiftAssignment.class,\n                Joiners.equal(ShiftAssignment::getEmployee),\n                Joiners.equal(ShiftAssignment::getDate)\n            )\n            .penalize(\n                &quot;atMostOneShiftPerDay&quot;,\n                HardSoftScore.ONE_HARD\n            );\n    }\n\n    public Constraint evenlyShiftsDistribution(ConstraintFactory constraintFactory) {\n        // try to distribute the shifts evenly to employees\n\n        return constraintFactory.forEach(ShiftAssignment.class)\n            .groupBy(ShiftAssignment::getEmployee, ConstraintCollectors.count())\n            .penalize(\n                &quot;evenlyShiftsDistribution&quot;,\n                HardSoftScore.ONE_SOFT,\n                (employee, shifts) -&gt; shifts * shifts);\n    }\n\n    public Constraint onlyRequiredRole(ConstraintFactory constraintFactory) {\n        // a shift can only be assigned to employees with roles it needs\n\n        return constraintFactory\n            .forEach(ShiftAssignment.class)\n            .filter(\n                shiftEmployee -&gt; {\n                    String requiredRole = shiftEmployee.getRole();\n                    Set&lt;String&gt; providedRoles = shiftEmployee.getEmployee().getRoleSet();\n\n                    return !providedRoles.contains(requiredRole);\n                }\n            )\n            .penalize(\n                &quot;onlyRequiredRole&quot;,\n                HardSoftScore.ONE_HARD,\n                (shiftEmployee) -&gt; 12\n            );\n    }\n\n}\n</code></pre>\n<p>My main app:</p>\n<pre><code>        SolverConfig solverConfig = new SolverConfig();\n\n        solverConfig\n            .withSolutionClass(Schedule.class)\n            .withEntityClasses(ShiftAssignment.class)\n            .withConstraintProviderClass(ScheduleConstraintProvider.class)\n            .withTerminationSpentLimit(Duration.ofSeconds(5));\n\n        SolverFactory&lt;Schedule&gt; scheduleSolverFactory = SolverFactory.create(solverConfig);\n\n        Schedule dataset = Data.generateData();\n\n        Solver&lt;Schedule&gt; solver = scheduleSolverFactory.buildSolver();\n        Schedule schedule = solver.solve(dataset);\n        \n        SolutionPrinter.printResult(schedule);\n</code></pre>\n"},{"tags":["java","multi-user","microstream"],"answers":[{"tags":[],"owner":{"account_id":17515210,"reputation":294,"user_id":12702336,"display_name":"MSHG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663916767,"creation_date":1663916767,"answer_id":73824101,"question_id":73803998,"body_markdown":"You don’t need an application server, but you can use one to realize multiple users access. Microstream itself is designed to provide object graph persistence for a single java process. That process owns the storage and its data exclusively. So you don’t give multiple users direct access to the data. It’s the applications responsibility to realize the multiuser access.","title":"is it possible to use the same Microstream database by multiple users at the same time?","body":"<p>You don’t need an application server, but you can use one to realize multiple users access. Microstream itself is designed to provide object graph persistence for a single java process. That process owns the storage and its data exclusively. So you don’t give multiple users direct access to the data. It’s the applications responsibility to realize the multiuser access.</p>\n"}],"owner":{"account_id":26404064,"reputation":21,"user_id":20054116,"display_name":"Hans Roose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1663916767,"creation_date":1663776839,"question_id":73803998,"body_markdown":"I would like to know if an application server is needed to give multiple users access to the same Microstream database at the same time ? ","title":"is it possible to use the same Microstream database by multiple users at the same time?","body":"<p>I would like to know if an application server is needed to give multiple users access to the same Microstream database at the same time ?</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1663911427,"post_id":73823135,"comment_id":130354806,"body_markdown":"check the stacktrace, it tells you exactly where it happens. debug your code and see if what you pass for indices are actually valid indices","body":"check the stacktrace, it tells you exactly where it happens. debug your code and see if what you pass for indices are actually valid indices"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663916544,"creation_date":1663916235,"answer_id":73824012,"question_id":73823135,"body_markdown":"There are these issues:\r\n\r\n* `swap` doesn&#39;t swap. It just swaps the values of two local variables, but has no knowledge about an array. When `swap` exits, those two local variables are discarded and nothing really changed. You need to pass the array reference to `swap` and the two indices that are involved, and then `swap` should change the values in that array at those two given indices.\r\n\r\n* `left` gets `j` values, but then a recursive call is made with `h` equal to `j`, which is an index that is out of range. The `left` array has `j` elements, so its last index is `j-1`, not `j`.\r\n\r\n* `right` gets the remaining values, but then the recursive call is made with `l` equal to `j+1`, but that has no relation to `right`, whose relevant values start at index 0, not at index `j+1`.\r\n\r\n* The whole idea to copy values into new arrays `left` and `right` is wrong. This is not how quicksort is supposed to work. Even if `left` and `right` would be successfully sorted, this does not have any impact on `arr`, which remains unsorted. So you&#39;d have done work for nothing. Quicksort is an *inplace* sorting algorithm, so you should always be working with `arr`, not with copies of partitions of it.\r\n\r\nHere is the correction of the relevant functions:\r\n\r\n```\r\n    public static void quickSort(int[] arr, int l, int h) {\r\n        if(l&lt;h) {\r\n            int j=partition(arr,l,h);\r\n            // Don&#39;t create new arrays here, but sort the partition in-place:\r\n            quickSort(arr,l,j-1);\r\n            quickSort(arr,j+1,h);\r\n        }\r\n    }\r\n\r\n    public static int partition(int[] arr, int l, int h) {\r\n        if (arr[l]&gt;arr[h]) {\r\n            swap(arr, l, h); // swap needs the array reference, and two indices\r\n        }\r\n        int pivot = arr[l];\r\n        int i=l;\r\n        int j=h;\r\n        while(i&lt;j) {\r\n            do {\r\n                i++;\r\n            }while(arr[i]&lt;=pivot);\r\n            do {\r\n                j--;\r\n            }while(arr[j]&gt;pivot);\r\n            if(i&lt;j) {\r\n                swap(arr, i, j); // see above\r\n            }\r\n        }\r\n        swap(arr, l, j); // see above\r\n        return j;\r\n    }\r\n    \r\n    // swap needs the array reference and the indices to perform the swap in the array\r\n    public static void swap(int[] arr, int i, int j){\r\n        int temp=arr[i];\r\n        arr[i]=arr[j];\r\n        arr[j]=temp;\r\n    }\r\n```\r\n\r\n&gt;  I&#39;ve been clueless about IndexOutOfBoundsException and I&#39;m not able to find out where or how it occurs.\r\n\r\nDebugging means you read the stack trace that includes this error message. It will give you the line number where it occurs (it was on the first line in `partition`). Then when you have identified that line, you can start to really use a debugger, setting breakpoints and inspecting variables. One of the first things you would notice, is that `arr` never changes: nothing gets moved in it. And so you would continue to debug and resolve one thing after the other. It is what I did with your code. ","title":"Java quickSort algorithm indexoutofbounds","body":"<p>There are these issues:</p>\n<ul>\n<li><p><code>swap</code> doesn't swap. It just swaps the values of two local variables, but has no knowledge about an array. When <code>swap</code> exits, those two local variables are discarded and nothing really changed. You need to pass the array reference to <code>swap</code> and the two indices that are involved, and then <code>swap</code> should change the values in that array at those two given indices.</p>\n</li>\n<li><p><code>left</code> gets <code>j</code> values, but then a recursive call is made with <code>h</code> equal to <code>j</code>, which is an index that is out of range. The <code>left</code> array has <code>j</code> elements, so its last index is <code>j-1</code>, not <code>j</code>.</p>\n</li>\n<li><p><code>right</code> gets the remaining values, but then the recursive call is made with <code>l</code> equal to <code>j+1</code>, but that has no relation to <code>right</code>, whose relevant values start at index 0, not at index <code>j+1</code>.</p>\n</li>\n<li><p>The whole idea to copy values into new arrays <code>left</code> and <code>right</code> is wrong. This is not how quicksort is supposed to work. Even if <code>left</code> and <code>right</code> would be successfully sorted, this does not have any impact on <code>arr</code>, which remains unsorted. So you'd have done work for nothing. Quicksort is an <em>inplace</em> sorting algorithm, so you should always be working with <code>arr</code>, not with copies of partitions of it.</p>\n</li>\n</ul>\n<p>Here is the correction of the relevant functions:</p>\n<pre><code>    public static void quickSort(int[] arr, int l, int h) {\n        if(l&lt;h) {\n            int j=partition(arr,l,h);\n            // Don't create new arrays here, but sort the partition in-place:\n            quickSort(arr,l,j-1);\n            quickSort(arr,j+1,h);\n        }\n    }\n\n    public static int partition(int[] arr, int l, int h) {\n        if (arr[l]&gt;arr[h]) {\n            swap(arr, l, h); // swap needs the array reference, and two indices\n        }\n        int pivot = arr[l];\n        int i=l;\n        int j=h;\n        while(i&lt;j) {\n            do {\n                i++;\n            }while(arr[i]&lt;=pivot);\n            do {\n                j--;\n            }while(arr[j]&gt;pivot);\n            if(i&lt;j) {\n                swap(arr, i, j); // see above\n            }\n        }\n        swap(arr, l, j); // see above\n        return j;\n    }\n    \n    // swap needs the array reference and the indices to perform the swap in the array\n    public static void swap(int[] arr, int i, int j){\n        int temp=arr[i];\n        arr[i]=arr[j];\n        arr[j]=temp;\n    }\n</code></pre>\n<blockquote>\n<p>I've been clueless about IndexOutOfBoundsException and I'm not able to find out where or how it occurs.</p>\n</blockquote>\n<p>Debugging means you read the stack trace that includes this error message. It will give you the line number where it occurs (it was on the first line in <code>partition</code>). Then when you have identified that line, you can start to really use a debugger, setting breakpoints and inspecting variables. One of the first things you would notice, is that <code>arr</code> never changes: nothing gets moved in it. And so you would continue to debug and resolve one thing after the other. It is what I did with your code.</p>\n"}],"owner":{"account_id":26419192,"reputation":1,"user_id":20067079,"display_name":"JavaJerome"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1663916544,"creation_date":1663908838,"question_id":73823135,"body_markdown":"I&#39;m trying to implement a quickSort algorithm after learning about it.  \r\n~~~\r\npackage qsort;\r\n\r\npublic class QuickSort {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint arr[] = {10,16,8,12,15,6,3,9,5,100};\r\n\t\tquickSort(arr,0,(arr.length-1));\r\n\t\tfor(int number:arr) {\r\n\t\t\tSystem.out.println(number);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\tpublic static void quickSort(int[] arr, int l, int h) {\r\n\t\tif(l&lt;h) {\r\n            \r\n\t\t\tint j=partition(arr,l,h); //pivot position as j retrieved as the one sorted element\r\n            int[] left = new int[j];\r\n\t\t\tint[] right = new int[(arr.length-j)];\r\n\t\t\tfor(int index=0;index&lt;j;index++) {\r\n\t\t\t\tleft[index]=arr[index];\r\n\t\t\t\t}\r\n\t\t\tfor(int index=j;index&lt;arr.length;index++) {\r\n\t\t\t\tright[index-(j)]=arr[index];\r\n\t\t\t}\r\n\t\t    \r\n\t\t\tquickSort(left,0,j);             //Sorts the first half of the array (i.e the elements before pivot\r\n\t\t\tquickSort(right,j+1,arr.length-1);            //SOrts the second half after pivot\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static int partition(int[] arr, int l, int h) {\r\n\t\t\r\n\t\tif(arr[l]&gt;arr[h]) {\r\n\t\t\tswap(arr[l],arr[h]);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tint pivot = arr[l];\r\n\t\tint i=l;\r\n\t\tint j=h;     //i starts from the first and increments;  j starts from last and decrements\r\n\t\twhile(i&lt;j) {\r\n\t\t\t\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t}while(arr[i]&lt;=pivot);          //i keeps incrementing until i points to a value greater than pivot\r\n\t\t\r\n\t\t\tdo {\r\n\t\t\t    j--;\r\n\t\t    }while(arr[j]&gt;pivot);               //j keeps decrementing until it finds a value less than pivot\r\n\t\t\r\n\t\t    if(i&lt;j) {\r\n\t\t\t    swap(arr[i],arr[j]);\r\n\t\t    }\r\n\t    }\r\n\t\tswap(arr[l],arr[j]);            // swapping the first element l with the element in j so that the pivotal element can be ordered\r\n\t\treturn j;                      //finally j points to the one sorted index where pivot should be placed\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void swap(int a, int b){\r\n\t\tint temp=a;\r\n\t\ta=b;\r\n\t\tb=temp;\r\n\t}\r\n}\r\n~~~\r\nAnd I&#39;ve been clueless about IndexOutOfBoundsException and I&#39;m not able to find out where or how it occurs. Any help would be much appreciated.\r\n","title":"Java quickSort algorithm indexoutofbounds","body":"<p>I'm trying to implement a quickSort algorithm after learning about it.</p>\n<pre><code>package qsort;\n\npublic class QuickSort {\n    \n    public static void main(String[] args) {\n        int arr[] = {10,16,8,12,15,6,3,9,5,100};\n        quickSort(arr,0,(arr.length-1));\n        for(int number:arr) {\n            System.out.println(number);\n        }\n    }\n\n    \n    public static void quickSort(int[] arr, int l, int h) {\n        if(l&lt;h) {\n            \n            int j=partition(arr,l,h); //pivot position as j retrieved as the one sorted element\n            int[] left = new int[j];\n            int[] right = new int[(arr.length-j)];\n            for(int index=0;index&lt;j;index++) {\n                left[index]=arr[index];\n                }\n            for(int index=j;index&lt;arr.length;index++) {\n                right[index-(j)]=arr[index];\n            }\n            \n            quickSort(left,0,j);             //Sorts the first half of the array (i.e the elements before pivot\n            quickSort(right,j+1,arr.length-1);            //SOrts the second half after pivot\n        }\n    }\n    \n    public static int partition(int[] arr, int l, int h) {\n        \n        if(arr[l]&gt;arr[h]) {\n            swap(arr[l],arr[h]);\n        }\n        \n        \n        int pivot = arr[l];\n        int i=l;\n        int j=h;     //i starts from the first and increments;  j starts from last and decrements\n        while(i&lt;j) {\n            \n            do {\n                i++;\n            }while(arr[i]&lt;=pivot);          //i keeps incrementing until i points to a value greater than pivot\n        \n            do {\n                j--;\n            }while(arr[j]&gt;pivot);               //j keeps decrementing until it finds a value less than pivot\n        \n            if(i&lt;j) {\n                swap(arr[i],arr[j]);\n            }\n        }\n        swap(arr[l],arr[j]);            // swapping the first element l with the element in j so that the pivotal element can be ordered\n        return j;                      //finally j points to the one sorted index where pivot should be placed\n        \n    }\n    \n    public static void swap(int a, int b){\n        int temp=a;\n        a=b;\n        b=temp;\n    }\n}\n</code></pre>\n<p>And I've been clueless about IndexOutOfBoundsException and I'm not able to find out where or how it occurs. Any help would be much appreciated.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":10,"creation_date":1453157168,"post_id":34865383,"comment_id":57470213,"body_markdown":"You can&#39;t modify `calTz` from the lambda.","body":"You can&#39;t modify <code>calTz</code> from the lambda."},{"owner":{"account_id":515883,"reputation":4966,"user_id":1128668,"accept_rate":54,"display_name":"GlenPeterson"},"score":7,"creation_date":1537480827,"post_id":34865383,"comment_id":91811480,"body_markdown":"I assumed this was one of those things that just didn&#39;t get done in time for Java 8.  But Java 8 was 2014.  Scala and Kotlin have allowed this for years, so it&#39;s obviously possible.  Is Java ever planning to eliminate this weird restriction?","body":"I assumed this was one of those things that just didn&#39;t get done in time for Java 8.  But Java 8 was 2014.  Scala and Kotlin have allowed this for years, so it&#39;s obviously possible.  Is Java ever planning to eliminate this weird restriction?"},{"owner":{"account_id":8998609,"reputation":5400,"user_id":6707985,"accept_rate":100,"display_name":"geisterfurz007"},"score":6,"creation_date":1541021511,"post_id":34865383,"comment_id":93081249,"body_markdown":"[Here](https://www.bruceeckel.com/2015/10/17/are-java-8-lambdas-closures/) is the updated link to @M.S.Dousti &#39;s comment.","body":"<a href=\"https://www.bruceeckel.com/2015/10/17/are-java-8-lambdas-closures/\" rel=\"nofollow noreferrer\">Here</a> is the updated link to @M.S.Dousti &#39;s comment."},{"owner":{"account_id":10124700,"reputation":421,"user_id":7480486,"display_name":"λraulain"},"score":0,"creation_date":1550238483,"post_id":34865383,"comment_id":96206750,"body_markdown":"I think you could use Completable Futures as a workaround.","body":"I think you could use Completable Futures as a workaround."},{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":1,"creation_date":1585460840,"post_id":34865383,"comment_id":107763590,"body_markdown":"One important thing I observed - You can use static variables instead of normal variables (This makes it effectively final I guess)","body":"One important thing I observed - You can use static variables instead of normal variables (This makes it effectively final I guess)"},{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":0,"creation_date":1590886658,"post_id":34865383,"comment_id":109850918,"body_markdown":"Here&#39;s an example when a variable used in lambda expression **shouldn&#39;t** be final: https://stackoverflow.com/q/30360824/9772691","body":"Here&#39;s an example when a variable used in lambda expression <b>shouldn&#39;t</b> be final: <a href=\"https://stackoverflow.com/q/30360824/9772691\">stackoverflow.com/q/30360824/9772691</a>"}],"answers":[{"tags":[],"owner":{"account_id":7605299,"reputation":1199,"user_id":5768319,"display_name":"DMozzy"},"down_vote_count":1,"up_vote_count":104,"is_accepted":false,"score":103,"last_activity_date":1453160471,"creation_date":1453160471,"answer_id":34866143,"question_id":34865383,"body_markdown":"From a lambda, you can&#39;t get a reference to anything that isn&#39;t final. You need to declare a final wrapper from outside the lamda to hold your variable.\r\n\r\nI&#39;ve added the final &#39;reference&#39; object as this wrapper.\r\n\r\n\tprivate TimeZone extractCalendarTimeZoneComponent(Calendar cal,TimeZone calTz) {\r\n\t    final AtomicReference&lt;TimeZone&gt; reference = new AtomicReference&lt;&gt;();\r\n\r\n\t    try {\r\n\t       cal.getComponents().getComponents(&quot;VTIMEZONE&quot;).forEach(component-&gt;{\r\n\t        VTimeZone v = (VTimeZone) component;\r\n\t           v.getTimeZoneId();\r\n\t           if(reference.get()==null) {\r\n\t        \t   reference.set(TimeZone.getTimeZone(v.getTimeZoneId().getValue()));\r\n\t           }\r\n\t           });\r\n\t    } catch (Exception e) {\r\n\t        //log.warn(&quot;Unable to determine ical timezone&quot;, e);\r\n\t    }\r\n\t    return reference.get();\r\n\t}\t","title":"Variable used in lambda expression should be final or effectively final","body":"<p>From a lambda, you can't get a reference to anything that isn't final. You need to declare a final wrapper from outside the lamda to hold your variable.</p>\n\n<p>I've added the final 'reference' object as this wrapper.</p>\n\n<pre><code>private TimeZone extractCalendarTimeZoneComponent(Calendar cal,TimeZone calTz) {\n    final AtomicReference&lt;TimeZone&gt; reference = new AtomicReference&lt;&gt;();\n\n    try {\n       cal.getComponents().getComponents(\"VTIMEZONE\").forEach(component-&gt;{\n        VTimeZone v = (VTimeZone) component;\n           v.getTimeZoneId();\n           if(reference.get()==null) {\n               reference.set(TimeZone.getTimeZone(v.getTimeZoneId().getValue()));\n           }\n           });\n    } catch (Exception e) {\n        //log.warn(\"Unable to determine ical timezone\", e);\n    }\n    return reference.get();\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":108728,"reputation":31809,"user_id":288456,"display_name":"Alexander Udalov"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1453160514,"creation_date":1453160514,"answer_id":34866150,"question_id":34865383,"body_markdown":"In your example, you can replace the `forEach` with lamdba with a simple `for` loop and modify any variable freely. Or, probably, refactor your code so that you don&#39;t need to modify any variables. However, I&#39;ll explain for completeness what does the error mean and how to work around it.\r\n\r\nJava 8 Language Specification, [&#167;15.27.2](http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2):\r\n\r\n&gt; Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be declared final or be effectively final ([&#167;4.12.4](http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4)), or a compile-time error occurs where the use is attempted.\r\n\r\nBasically you cannot modify a local variable (`calTz` in this case) from within a lambda (or a local/anonymous class). To achieve that in Java, you have to use a mutable object and modify it (via a final variable) from the lambda. One example of a mutable object here would be an array of one element:\r\n\r\n    private TimeZone extractCalendarTimeZoneComponent(Calendar cal, TimeZone calTz) {\r\n        TimeZone[] result = { null };\r\n        try {\r\n            cal.getComponents().getComponents(&quot;VTIMEZONE&quot;).forEach(component -&gt; {\r\n                ...\r\n                result[0] = ...;\r\n                ...\r\n            }\r\n        } catch (Exception e) {\r\n            log.warn(&quot;Unable to determine ical timezone&quot;, e);\r\n        }\r\n        return result[0];\r\n    }\r\n","title":"Variable used in lambda expression should be final or effectively final","body":"<p>In your example, you can replace the <code>forEach</code> with lamdba with a simple <code>for</code> loop and modify any variable freely. Or, probably, refactor your code so that you don't need to modify any variables. However, I'll explain for completeness what does the error mean and how to work around it.</p>\n\n<p>Java 8 Language Specification, <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\" rel=\"noreferrer\">§15.27.2</a>:</p>\n\n<blockquote>\n  <p>Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be declared final or be effectively final (<a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"noreferrer\">§4.12.4</a>), or a compile-time error occurs where the use is attempted.</p>\n</blockquote>\n\n<p>Basically you cannot modify a local variable (<code>calTz</code> in this case) from within a lambda (or a local/anonymous class). To achieve that in Java, you have to use a mutable object and modify it (via a final variable) from the lambda. One example of a mutable object here would be an array of one element:</p>\n\n<pre><code>private TimeZone extractCalendarTimeZoneComponent(Calendar cal, TimeZone calTz) {\n    TimeZone[] result = { null };\n    try {\n        cal.getComponents().getComponents(\"VTIMEZONE\").forEach(component -&gt; {\n            ...\n            result[0] = ...;\n            ...\n        }\n    } catch (Exception e) {\n        log.warn(\"Unable to determine ical timezone\", e);\n    }\n    return result[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3200848,"reputation":2052,"user_id":2702917,"accept_rate":50,"display_name":"Francesco Pitzalis"},"down_vote_count":1,"up_vote_count":106,"is_accepted":true,"score":105,"last_activity_date":1619459601,"creation_date":1453160629,"answer_id":34866174,"question_id":34865383,"body_markdown":"A `final` variable means that it can be instantiated only one time.\r\nin Java you can&#39;t reassign non-final local variables in lambda as well as in anonymous inner classes.\r\n\r\nYou can refactor your code with the old for-each loop:\r\n\r\n    private TimeZone extractCalendarTimeZoneComponent(Calendar cal,TimeZone calTz) {\r\n        try {\r\n            for(Component component : cal.getComponents().getComponents(&quot;VTIMEZONE&quot;)) {\r\n            VTimeZone v = (VTimeZone) component;\r\n               v.getTimeZoneId();\r\n               if(calTz==null) {\r\n                   calTz = TimeZone.getTimeZone(v.getTimeZoneId().getValue());\r\n               }\r\n            }\r\n        } catch (Exception e) {\r\n            log.warn(&quot;Unable to determine ical timezone&quot;, e);\r\n        }\r\n        return null;\r\n    }\r\nEven if I don&#39;t get the sense of some pieces of this code:\r\n\r\n - you call a `v.getTimeZoneId();` without using its return value\r\n - with the assignment `calTz = TimeZone.getTimeZone(v.getTimeZoneId().getValue());` you don&#39;t modify the originally passed `calTz` and you don&#39;t use it in this method\r\n - You always return `null`, why don&#39;t you set `void` as return type?\r\n\r\nHope also these tips helps you to improve.","title":"Variable used in lambda expression should be final or effectively final","body":"<p>A <code>final</code> variable means that it can be instantiated only one time.\nin Java you can't reassign non-final local variables in lambda as well as in anonymous inner classes.</p>\n<p>You can refactor your code with the old for-each loop:</p>\n<pre><code>private TimeZone extractCalendarTimeZoneComponent(Calendar cal,TimeZone calTz) {\n    try {\n        for(Component component : cal.getComponents().getComponents(&quot;VTIMEZONE&quot;)) {\n        VTimeZone v = (VTimeZone) component;\n           v.getTimeZoneId();\n           if(calTz==null) {\n               calTz = TimeZone.getTimeZone(v.getTimeZoneId().getValue());\n           }\n        }\n    } catch (Exception e) {\n        log.warn(&quot;Unable to determine ical timezone&quot;, e);\n    }\n    return null;\n}\n</code></pre>\n<p>Even if I don't get the sense of some pieces of this code:</p>\n<ul>\n<li>you call a <code>v.getTimeZoneId();</code> without using its return value</li>\n<li>with the assignment <code>calTz = TimeZone.getTimeZone(v.getTimeZoneId().getValue());</code> you don't modify the originally passed <code>calTz</code> and you don't use it in this method</li>\n<li>You always return <code>null</code>, why don't you set <code>void</code> as return type?</li>\n</ul>\n<p>Hope also these tips helps you to improve.</p>\n"},{"tags":[],"owner":{"account_id":1201633,"reputation":2153,"user_id":1172194,"accept_rate":92,"display_name":"Dinesh Arora"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1570809140,"creation_date":1468983117,"answer_id":38471540,"question_id":34865383,"body_markdown":"*Java 8* has a new concept called “Effectively final” variable. It means that a non-final local variable whose value never changes after initialization is called “Effectively Final”. \r\n\r\nThis concept was introduced because prior to *Java 8*,  we could not use a non-final local variable in an *anonymous class*. If you wanna have access to a local variable in *anonymous class*, you have to make it final.\r\n\r\nWhen lambda was introduced, this restriction was eased. Hence to the need to make local variable final if it’s not changed once it is initialized as lambda in itself is nothing but an anonymous class. \r\n\r\n*Java 8* realized the pain of declaring local variable final every time a developer used lambda, introduced this concept, and made it unnecessary to make local variables final. So if you see the rule for anonymous classes has not changed, it’s just you don’t have to write the `final` keyword every time when using lambdas.\r\n\r\nI found a good explanation [here][1]\r\n\r\n\r\n  [1]: http://www.javahabit.com/2016/06/16/understanding-java-8-lambda-final-finally-variable/","title":"Variable used in lambda expression should be final or effectively final","body":"<p><em>Java 8</em> has a new concept called “Effectively final” variable. It means that a non-final local variable whose value never changes after initialization is called “Effectively Final”. </p>\n\n<p>This concept was introduced because prior to <em>Java 8</em>,  we could not use a non-final local variable in an <em>anonymous class</em>. If you wanna have access to a local variable in <em>anonymous class</em>, you have to make it final.</p>\n\n<p>When lambda was introduced, this restriction was eased. Hence to the need to make local variable final if it’s not changed once it is initialized as lambda in itself is nothing but an anonymous class. </p>\n\n<p><em>Java 8</em> realized the pain of declaring local variable final every time a developer used lambda, introduced this concept, and made it unnecessary to make local variables final. So if you see the rule for anonymous classes has not changed, it’s just you don’t have to write the <code>final</code> keyword every time when using lambdas.</p>\n\n<p>I found a good explanation <a href=\"http://www.javahabit.com/2016/06/16/understanding-java-8-lambda-final-finally-variable/\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2594416,"reputation":3728,"user_id":2248405,"accept_rate":57,"display_name":"robie2011"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513283577,"creation_date":1513283577,"answer_id":47821572,"question_id":34865383,"body_markdown":"*if it is not necessary to modify the variable than a general workaround for this kind of problem would be to*\r\nextract the part of code which use lambda and use final keyword on method-parameter.","title":"Variable used in lambda expression should be final or effectively final","body":"<p><em>if it is not necessary to modify the variable than a general workaround for this kind of problem would be to</em>\nextract the part of code which use lambda and use final keyword on method-parameter.</p>\n"},{"tags":[],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"down_vote_count":0,"up_vote_count":230,"is_accepted":false,"score":230,"last_activity_date":1659294913,"creation_date":1526350591,"answer_id":50341404,"question_id":34865383,"body_markdown":"Although other answers prove the requirement, they don&#39;t explain *why* the requirement exists.\r\n\r\nThe JLS mentions why in [&#167;15.27.2](https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.27.2):\r\n\r\n&gt;The restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems.\r\n\r\nTo lower risk of bugs, they decided to ensure captured variables are never mutated.\r\n\r\n___\r\n\r\nThis also applies for anonymous inner classes","title":"Variable used in lambda expression should be final or effectively final","body":"<p>Although other answers prove the requirement, they don't explain <em>why</em> the requirement exists.</p>\n<p>The JLS mentions why in <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.27.2\" rel=\"noreferrer\">§15.27.2</a>:</p>\n<blockquote>\n<p>The restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems.</p>\n</blockquote>\n<p>To lower risk of bugs, they decided to ensure captured variables are never mutated.</p>\n<hr />\n<p>This also applies for anonymous inner classes</p>\n"},{"tags":[],"owner":{"account_id":10805818,"reputation":422,"user_id":7948137,"display_name":"Andreas Foteas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586356882,"creation_date":1586356882,"answer_id":61103402,"question_id":34865383,"body_markdown":"A variable used in lambda expression should be a final or effectively final, but you can assign a value to a final one element array.\r\n\r\n\r\n    private TimeZone extractCalendarTimeZoneComponent(Calendar cal, TimeZone calTz) {\r\n        try {\r\n            TimeZone calTzLocal[] = new TimeZone[1];\r\n            calTzLocal[0] = calTz;\r\n            cal.getComponents().get(&quot;VTIMEZONE&quot;).forEach(component -&gt; {\r\n                TimeZone v = component;\r\n                v.getTimeZoneId();\r\n                if (calTzLocal[0] == null) {\r\n                    calTzLocal[0] = TimeZone.getTimeZone(v.getTimeZoneId().getValue());\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            log.warn(&quot;Unable to determine ical timezone&quot;, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n","title":"Variable used in lambda expression should be final or effectively final","body":"<p>A variable used in lambda expression should be a final or effectively final, but you can assign a value to a final one element array.</p>\n\n<pre><code>private TimeZone extractCalendarTimeZoneComponent(Calendar cal, TimeZone calTz) {\n    try {\n        TimeZone calTzLocal[] = new TimeZone[1];\n        calTzLocal[0] = calTz;\n        cal.getComponents().get(\"VTIMEZONE\").forEach(component -&gt; {\n            TimeZone v = component;\n            v.getTimeZoneId();\n            if (calTzLocal[0] == null) {\n                calTzLocal[0] = TimeZone.getTimeZone(v.getTimeZoneId().getValue());\n            }\n        });\n    } catch (Exception e) {\n        log.warn(\"Unable to determine ical timezone\", e);\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20309059,"reputation":31,"user_id":17516528,"display_name":"dixseptcent"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642614662,"creation_date":1642590240,"answer_id":70769460,"question_id":34865383,"body_markdown":"to answer to  &gt; https://stackoverflow.com/questions/70733310/variable-used-in-lambda-expression-should-be-final-or-effectively-final-java\r\n\r\nto workaround that in not an elegant way , 2 issues : \r\nthe side effect and the threading issue  \r\n\r\n    final AtomicInteger e = new AtomicInteger(0);\r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t    e.addAndGet(1);\r\n    \t\t});\r\nto be more precise, i agree is kind of the same but the idea behind using Lambda function is to avoid side affect, and when we are accessing this final reference in the lambda function to populate the value to get the result from outside, we are breaking this concept. \r\n\r\nin the oldest post you might want to rewrite like that \r\n\r\ncal.getComponents().getComponents(&quot;VTIMEZONE&quot;).streams().map(v-&gt;v.getTimeZoneId().getValue()).collect(Collectors.toList());\r\n\r\n\r\nand for the threading aspect , we have the same issue with the side effect and additionally you will never know when to access to the Atomic variable  to collect the result , you could put a CountDownLatch ... Better to work with CompletableFuture to handle the result and the synchronization aspect  \r\n\r\n \r\n","title":"Variable used in lambda expression should be final or effectively final","body":"<p>to answer to  &gt; <a href=\"https://stackoverflow.com/questions/70733310/variable-used-in-lambda-expression-should-be-final-or-effectively-final-java\">Variable used in lambda expression should be final or effectively final JAVA</a></p>\n<p>to workaround that in not an elegant way , 2 issues :\nthe side effect and the threading issue</p>\n<pre><code>final AtomicInteger e = new AtomicInteger(0);\n        new Thread(() -&gt; {\n            e.addAndGet(1);\n        });\n</code></pre>\n<p>to be more precise, i agree is kind of the same but the idea behind using Lambda function is to avoid side affect, and when we are accessing this final reference in the lambda function to populate the value to get the result from outside, we are breaking this concept.</p>\n<p>in the oldest post you might want to rewrite like that</p>\n<p>cal.getComponents().getComponents(&quot;VTIMEZONE&quot;).streams().map(v-&gt;v.getTimeZoneId().getValue()).collect(Collectors.toList());</p>\n<p>and for the threading aspect , we have the same issue with the side effect and additionally you will never know when to access to the Atomic variable  to collect the result , you could put a CountDownLatch ... Better to work with CompletableFuture to handle the result and the synchronization aspect</p>\n"},{"tags":[],"owner":{"account_id":10976280,"reputation":125,"user_id":8064868,"display_name":"Kumar Shanoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663916542,"creation_date":1663915132,"answer_id":73823836,"question_id":34865383,"body_markdown":"You can&#39;t re-assign the variable with new reference inside a lambda expression  which is coming from outside scope of lambda.But you can certainly modify existing state of the object.So instead re-assigning &#39;calTz&#39; to new reference.You can call setter methods on it to change its internal state.So this will work(if your VtimeZone is mutatble only):\r\n\r\n\r\n        calTz=new TimeZone();    \r\n    cal.getComponents().getComponents(&quot;VTIMEZONE&quot;).forEach(component -&gt; {\r\n                             VTimeZone v = (VTimeZone) component;\r\n                        v.getTimeZoneId();\r\n                        \r\n                            calTz.setTimeZoneId(&quot;some value&quot;);\r\n                        \r\n                    })\r\n\r\n.But this is not a good practice.\r\nAbove code can also be replaced by.\r\n\r\n            if(calTz == null){\r\n        calTz=new TimeZone();\r\n    cal.getComponents().getComponents(&quot;VTIMEZONE&quot;).get(0).setTimeZoneId(&quot;some value&quot;);}","title":"Variable used in lambda expression should be final or effectively final","body":"<p>You can't re-assign the variable with new reference inside a lambda expression  which is coming from outside scope of lambda.But you can certainly modify existing state of the object.So instead re-assigning 'calTz' to new reference.You can call setter methods on it to change its internal state.So this will work(if your VtimeZone is mutatble only):</p>\n<pre><code>    calTz=new TimeZone();    \ncal.getComponents().getComponents(&quot;VTIMEZONE&quot;).forEach(component -&gt; {\n                         VTimeZone v = (VTimeZone) component;\n                    v.getTimeZoneId();\n                    \n                        calTz.setTimeZoneId(&quot;some value&quot;);\n                    \n                })\n</code></pre>\n<p>.But this is not a good practice.\nAbove code can also be replaced by.</p>\n<pre><code>        if(calTz == null){\n    calTz=new TimeZone();\ncal.getComponents().getComponents(&quot;VTIMEZONE&quot;).get(0).setTimeZoneId(&quot;some value&quot;);}\n</code></pre>\n"}],"owner":{"account_id":4434166,"reputation":2341,"user_id":3610470,"display_name":"user3610470"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401383,"favorite_count":0,"down_vote_count":0,"up_vote_count":234,"accepted_answer_id":34866174,"answer_count":9,"score":234,"last_activity_date":1663916542,"creation_date":1453156707,"question_id":34865383,"body_markdown":"&gt;Variable used in lambda expression should be final or effectively final\r\n\r\nWhen I try to use `calTz` it is showing this error.\r\n\r\n    private TimeZone extractCalendarTimeZoneComponent(Calendar cal, TimeZone calTz) {\r\n        try {\r\n            cal.getComponents().getComponents(&quot;VTIMEZONE&quot;).forEach(component -&gt; {\r\n                VTimeZone v = (VTimeZone) component;\r\n                v.getTimeZoneId();\r\n                if (calTz == null) {\r\n                    calTz = TimeZone.getTimeZone(v.getTimeZoneId().getValue());\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            log.warn(&quot;Unable to determine ical timezone&quot;, e);\r\n        }\r\n        return null;\r\n    }","title":"Variable used in lambda expression should be final or effectively final","body":"<blockquote>\n  <p>Variable used in lambda expression should be final or effectively final</p>\n</blockquote>\n\n<p>When I try to use <code>calTz</code> it is showing this error.</p>\n\n<pre><code>private TimeZone extractCalendarTimeZoneComponent(Calendar cal, TimeZone calTz) {\n    try {\n        cal.getComponents().getComponents(\"VTIMEZONE\").forEach(component -&gt; {\n            VTimeZone v = (VTimeZone) component;\n            v.getTimeZoneId();\n            if (calTz == null) {\n                calTz = TimeZone.getTimeZone(v.getTimeZoneId().getValue());\n            }\n        });\n    } catch (Exception e) {\n        log.warn(\"Unable to determine ical timezone\", e);\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547058594,"creation_date":1526560328,"answer_id":50391571,"question_id":50391119,"body_markdown":"Try to use &#39;native&#39; Spring Data JPA [projections][1].\r\n\r\nThis should work well:\r\n\r\n    public interface MyProjection {\r\n        String getProperty1();\r\n        //...\r\n    }\r\n    \r\n    Page&lt;MyProjection&gt; getDistinctAllBy(Pageable pageable);\r\n\r\n\r\nBut, if your query joins many tables you cannot use the pagination without some pain (for example: [1][2], [2][3])\r\n\r\n**UPDATED**\r\n\r\nTry to add parameter [countQuery][4] to `@Query` annotation:\r\n\r\n    @Query(value = &quot;select ...&quot;, countQuery = &quot;select count(me) from MyEntiry me&quot;)\r\n    Page&lt;MyDto&gt; findEntities(Pageable pageable);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\r\n  [2]: https://vladmihalcea.com/fix-hibernate-hhh000104-entity-fetch-pagination-warning-message/\r\n  [3]: https://github.com/spring-projects/spring-data-jpa/blob/c1906431c62179eb0a41c86d687cd7149ea5280e/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java#L427\r\n  [4]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html#countQuery--","title":"Spring Data JPA: Projection gets broken after adding pagination","body":"<p>Try to use 'native' Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">projections</a>.</p>\n\n<p>This should work well:</p>\n\n<pre><code>public interface MyProjection {\n    String getProperty1();\n    //...\n}\n\nPage&lt;MyProjection&gt; getDistinctAllBy(Pageable pageable);\n</code></pre>\n\n<p>But, if your query joins many tables you cannot use the pagination without some pain (for example: <a href=\"https://vladmihalcea.com/fix-hibernate-hhh000104-entity-fetch-pagination-warning-message/\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/c1906431c62179eb0a41c86d687cd7149ea5280e/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java#L427\" rel=\"nofollow noreferrer\">2</a>)</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>Try to add parameter <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html#countQuery--\" rel=\"nofollow noreferrer\">countQuery</a> to <code>@Query</code> annotation:</p>\n\n<pre><code>@Query(value = \"select ...\", countQuery = \"select count(me) from MyEntiry me\")\nPage&lt;MyDto&gt; findEntities(Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663916330,"creation_date":1526558920,"question_id":50391119,"body_markdown":"I have a query that uses projections, it works well as long as the return type is `List`, but it stops working after adding pagination.\r\n\r\nHere is the the working code:\r\n\r\n    @Query(&quot;SELECT DISTINCT \\n&quot; +\r\n            &quot;  new com.mycompany.dto.MyDto(me.property1, me.property2, ...) \\n&quot; +\r\n            &quot;FROM MyEntiry me...&quot;)\r\n    List&lt;MyDto&gt; findEntities();\r\n\r\nI need to extend it adding pagination, so I change it to:\r\n\r\n    @Query(&quot;SELECT DISTINCT \\n&quot; +\r\n            &quot;  new com.mycompany.dto.MyDto(me.property1, me.property2, ...) \\n&quot; +\r\n            &quot;FROM MyEntiry me...&quot;)\r\n    Page&lt;MyDto&gt; findEntities(Pageable pageable);\r\n\r\nOnce I do that the context starts failing because while parsing it inserts `select count(me)` between `SELECT` and `FROM` statements so that **the query become invalid**:\r\n\r\n    SELECT DISTINCT \r\n      new com.mycompany.dto.MyDto(me.property1, me.property2, ...)  \r\n    select count(me) FROM com.mycompany.MyEntiry me ...\r\n\r\n\r\nThe context fails with the following exception:\r\n\r\n&gt; Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException:\r\n&gt; unexpected token: select near line 3, column 1 [SELECT DISTINCT    new\r\n&gt; com.mycompany.dto.MyDto(me.property1, me.property2, ...) **select\r\n&gt; count(me)** FROM com.mycompany.MyEntiry me ...]\r\n&gt;     at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)\r\n&gt;     at org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:91)\r\n&gt;     at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:291)\r\n&gt;     at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\r\n&gt;     at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\r\n&gt;     at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\r\n&gt;     at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:77)\r\n&gt;     at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\r\n&gt;     at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\r\n&gt;     at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\r\n&gt;     ... 88 more\r\n\r\n**Question:** How to make it work? Is it Spring Data bug?\r\n\r\n**Note:** \r\n\r\n- The query I added is oversimplified, my real query in fact gathers  different values from different tables and I can&#39;t implement it without projections\r\n- I&#39;m using Spring Boot 1.5.8.RELEASE","title":"Spring Data JPA: Projection gets broken after adding pagination","body":"<p>I have a query that uses projections, it works well as long as the return type is <code>List</code>, but it stops working after adding pagination.</p>\n\n<p>Here is the the working code:</p>\n\n<pre><code>@Query(\"SELECT DISTINCT \\n\" +\n        \"  new com.mycompany.dto.MyDto(me.property1, me.property2, ...) \\n\" +\n        \"FROM MyEntiry me...\")\nList&lt;MyDto&gt; findEntities();\n</code></pre>\n\n<p>I need to extend it adding pagination, so I change it to:</p>\n\n<pre><code>@Query(\"SELECT DISTINCT \\n\" +\n        \"  new com.mycompany.dto.MyDto(me.property1, me.property2, ...) \\n\" +\n        \"FROM MyEntiry me...\")\nPage&lt;MyDto&gt; findEntities(Pageable pageable);\n</code></pre>\n\n<p>Once I do that the context starts failing because while parsing it inserts <code>select count(me)</code> between <code>SELECT</code> and <code>FROM</code> statements so that <strong>the query become invalid</strong>:</p>\n\n<pre><code>SELECT DISTINCT \n  new com.mycompany.dto.MyDto(me.property1, me.property2, ...)  \nselect count(me) FROM com.mycompany.MyEntiry me ...\n</code></pre>\n\n<p>The context fails with the following exception:</p>\n\n<blockquote>\n  <p>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException:\n  unexpected token: select near line 3, column 1 [SELECT DISTINCT    new\n  com.mycompany.dto.MyDto(me.property1, me.property2, ...) <strong>select\n  count(me)</strong> FROM com.mycompany.MyEntiry me ...]\n      at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74)\n      at org.hibernate.hql.internal.ast.ErrorCounter.throwQueryException(ErrorCounter.java:91)\n      at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:291)\n      at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:186)\n      at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:141)\n      at org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:115)\n      at org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:77)\n      at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:153)\n      at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:553)\n      at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\n      ... 88 more</p>\n</blockquote>\n\n<p><strong>Question:</strong> How to make it work? Is it Spring Data bug?</p>\n\n<p><strong>Note:</strong> </p>\n\n<ul>\n<li>The query I added is oversimplified, my real query in fact gathers  different values from different tables and I can't implement it without projections</li>\n<li>I'm using Spring Boot 1.5.8.RELEASE</li>\n</ul>\n"},{"tags":["java","json","parsing","jsonparser"],"comments":[{"owner":{"account_id":7559040,"reputation":2250,"user_id":5737375,"display_name":"vindev"},"score":1,"creation_date":1663912994,"post_id":73823531,"comment_id":130355128,"body_markdown":"Shouldn&#39;t it be `List&lt;Map&lt;String, String&gt;&gt;`? Map value is always String in the response.","body":"Shouldn&#39;t it be <code>List&lt;Map&lt;String, String&gt;&gt;</code>? Map value is always String in the response."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1663915868,"post_id":73823531,"comment_id":130355814,"body_markdown":"It is not a valid JSON. It missed the outer `{ }`. The correct version is like `{ &quot;tags&quot; : [...] }`.","body":"It is not a valid JSON. It missed the outer <code>{ }</code>. The correct version is like <code>{ &quot;tags&quot; : [...] }</code>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663913068,"creation_date":1663913068,"answer_id":73823593,"question_id":73823531,"body_markdown":"If you use Genson, there is an example of parsing JSON into plain Java Collections, which is quite close to what you mention:\r\n\r\nhttp://genson.io/GettingStarted/#java-collections\r\n\r\nIn essence, your code would look like:\r\n\r\n    Genson genson = new Genson();\r\n    List&lt;Object&gt; persons = genson.deserialize(&quot;[{\\&quot;age\\&quot;:28,\\&quot;name\\&quot;:\\&quot;Foo\\&quot;}]&quot;, List.class);","title":"Parsing json with list&lt;Map&lt;String, Integer&gt;&gt;","body":"<p>If you use Genson, there is an example of parsing JSON into plain Java Collections, which is quite close to what you mention:</p>\n<p><a href=\"http://genson.io/GettingStarted/#java-collections\" rel=\"nofollow noreferrer\">http://genson.io/GettingStarted/#java-collections</a></p>\n<p>In essence, your code would look like:</p>\n<pre><code>Genson genson = new Genson();\nList&lt;Object&gt; persons = genson.deserialize(&quot;[{\\&quot;age\\&quot;:28,\\&quot;name\\&quot;:\\&quot;Foo\\&quot;}]&quot;, List.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663914712,"creation_date":1663914712,"answer_id":73823779,"question_id":73823531,"body_markdown":"You can used simple JSON library and you can achieve something as follows\r\n\r\n    private Map&lt;String, String&gt; getTagsMap(String json){\r\n    \tJSONArray tagsArray  = new JSONObject(json).getJSONArray(&quot;tags&quot;);\r\n    \tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \t\r\n    \tfor(int i = 0; i &lt; tagsArray.length(); i++) {\r\n    \t\tmap.put(tagsArray.getJSONObject(i).getString(&quot;key&quot;), tagsArray.getJSONObject(i).getString(&quot;value&quot;));\r\n    \t}\r\n    \treturn map;\r\n    }\r\n    \r\n    Map&lt;String, String&gt; map = getTagsMap(json);\r\n    \r\n    System.out.println(map.get(&quot;cvss_score&quot;)); //4","title":"Parsing json with list&lt;Map&lt;String, Integer&gt;&gt;","body":"<p>You can used simple JSON library and you can achieve something as follows</p>\n<pre><code>private Map&lt;String, String&gt; getTagsMap(String json){\n    JSONArray tagsArray  = new JSONObject(json).getJSONArray(&quot;tags&quot;);\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    \n    for(int i = 0; i &lt; tagsArray.length(); i++) {\n        map.put(tagsArray.getJSONObject(i).getString(&quot;key&quot;), tagsArray.getJSONObject(i).getString(&quot;value&quot;));\n    }\n    return map;\n}\n\nMap&lt;String, String&gt; map = getTagsMap(json);\n\nSystem.out.println(map.get(&quot;cvss_score&quot;)); //4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16143882,"reputation":31,"user_id":11654174,"display_name":"SPG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663915289,"creation_date":1663915289,"answer_id":73823860,"question_id":73823531,"body_markdown":"If you are using Jackson library, then below snippet might help you to achieve required output. \r\n\r\nNote: Format the JSON string as per your input, I just took a sample array as example.\r\n\r\n    \tString json = &quot;{ \\&quot;MyStringArray\\&quot; : [\\&quot;somestring1\\&quot;, \\&quot;somestring2\\&quot;] }\\n&quot;;\r\n\t\tJsonNode parent= new ObjectMapper().readTree(json);\r\n\t\tString content = parent.get(&quot;MyStringArray&quot;).get(0).asText();\r\n\t\tSystem.out.println(content);","title":"Parsing json with list&lt;Map&lt;String, Integer&gt;&gt;","body":"<p>If you are using Jackson library, then below snippet might help you to achieve required output.</p>\n<p>Note: Format the JSON string as per your input, I just took a sample array as example.</p>\n<pre><code>    String json = &quot;{ \\&quot;MyStringArray\\&quot; : [\\&quot;somestring1\\&quot;, \\&quot;somestring2\\&quot;] }\\n&quot;;\n    JsonNode parent= new ObjectMapper().readTree(json);\n    String content = parent.get(&quot;MyStringArray&quot;).get(0).asText();\n    System.out.println(content);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663916109,"creation_date":1663916109,"answer_id":73823990,"question_id":73823531,"body_markdown":"The problem is that the data structure is not as you are thinking it is to be. It is not a Map but a POJO/Bean of key/value. I have demonstrated in code using ObjectMapper:\r\n\r\n    \tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n\t\tmap.put(&quot;source_method&quot;, &quot;^axios^.post&quot;);\r\n\t\tmap.put(&quot;sink_method&quot;, &quot;Object.assign&quot;);\r\n\r\n\t\tList&lt;Map&lt;String, String&gt;&gt; list = Arrays.asList(map);\r\n\r\n\t\tString jsonArrayOfMap = new ObjectMapper().writeValueAsString(list);:\r\n\r\nWhich produces this json(beautified):\r\n \r\n       [\r\n          {\r\n            &quot;source_method&quot;: &quot;^axios^.post&quot;,\r\n            &quot;sink_method&quot;: &quot;Object.assign&quot;\r\n          }\r\n        ]\r\n\r\n\r\nWhile the code you want is something like:\r\n\r\n    List&lt;Bean&gt; beanList = Arrays.asList(new Bean(&quot;source_method&quot;, &quot;^axios^.post&quot;), new Bean(&quot;sink_method&quot;, &quot;Object.assign&quot;));\r\n\r\n\t\tString jsonListOfBeans = new ObjectMapper().writeValueAsString(beanList);\r\n\r\n\t\tSystem.out.println(jsonListOfBeans)\r\n\r\nWhich produces output:\r\n\r\n    [\r\n      {\r\n        &quot;value&quot;: &quot;^axios^.post&quot;,\r\n        &quot;key&quot;: &quot;source_method&quot;\r\n      },\r\n      {\r\n        &quot;value&quot;: &quot;Object.assign&quot;,\r\n        &quot;key&quot;: &quot;sink_method&quot;\r\n      }\r\n    ]\r\n\r\nBean Class:\r\n\r\n    public class Bean\r\n    {\r\n    \tString key;\r\n    \tString value;\r\n    \r\n    \tpublic Bean()\r\n    \t{\r\n    \t}\r\n    \r\n    \tpublic Bean(String key, String value)\r\n    \t{\r\n    \t\tthis.key = key;\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n    \tpublic String getKey()\r\n    \t{\r\n    \t\treturn key;\r\n    \t}\r\n    \r\n    \tpublic void setKey(String key)\r\n    \t{\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic String getValue()\r\n    \t{\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \tpublic void setValue(String value)\r\n    \t{\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Parsing json with list&lt;Map&lt;String, Integer&gt;&gt;","body":"<p>The problem is that the data structure is not as you are thinking it is to be. It is not a Map but a POJO/Bean of key/value. I have demonstrated in code using ObjectMapper:</p>\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n    map.put(&quot;source_method&quot;, &quot;^axios^.post&quot;);\n    map.put(&quot;sink_method&quot;, &quot;Object.assign&quot;);\n\n    List&lt;Map&lt;String, String&gt;&gt; list = Arrays.asList(map);\n\n    String jsonArrayOfMap = new ObjectMapper().writeValueAsString(list);:\n</code></pre>\n<p>Which produces this json(beautified):</p>\n<pre><code>   [\n      {\n        &quot;source_method&quot;: &quot;^axios^.post&quot;,\n        &quot;sink_method&quot;: &quot;Object.assign&quot;\n      }\n    ]\n</code></pre>\n<p>While the code you want is something like:</p>\n<pre><code>List&lt;Bean&gt; beanList = Arrays.asList(new Bean(&quot;source_method&quot;, &quot;^axios^.post&quot;), new Bean(&quot;sink_method&quot;, &quot;Object.assign&quot;));\n\n    String jsonListOfBeans = new ObjectMapper().writeValueAsString(beanList);\n\n    System.out.println(jsonListOfBeans)\n</code></pre>\n<p>Which produces output:</p>\n<pre><code>[\n  {\n    &quot;value&quot;: &quot;^axios^.post&quot;,\n    &quot;key&quot;: &quot;source_method&quot;\n  },\n  {\n    &quot;value&quot;: &quot;Object.assign&quot;,\n    &quot;key&quot;: &quot;sink_method&quot;\n  }\n]\n</code></pre>\n<p>Bean Class:</p>\n<pre><code>public class Bean\n{\n    String key;\n    String value;\n\n    public Bean()\n    {\n    }\n\n    public Bean(String key, String value)\n    {\n        this.key = key;\n        this.value = value;\n    }\n\n    public String getKey()\n    {\n        return key;\n    }\n\n    public void setKey(String key)\n    {\n        this.key = key;\n    }\n\n    public String getValue()\n    {\n        return value;\n    }\n\n    public void setValue(String value)\n    {\n        this.value = value;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25568451,"reputation":11,"user_id":19349239,"display_name":"Manan Girdhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1663916109,"creation_date":1663912505,"question_id":73823531,"body_markdown":"I have a JSON like this\r\n\r\n    &quot;tags&quot;: [\r\n                        {\r\n                            &quot;key&quot;: &quot;category&quot;,\r\n                            &quot;value&quot;: &quot;Prototype Pollution&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;cvss_31_severity_rating&quot;,\r\n                            &quot;value&quot;: &quot;medium&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;cvss_score&quot;,\r\n                            &quot;value&quot;: &quot;4&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;cwe_category&quot;,\r\n                            &quot;value&quot;: &quot;1321&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;language&quot;,\r\n                            &quot;value&quot;: &quot;javascript&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;owasp_2021_category&quot;,\r\n                            &quot;value&quot;: &quot;a03-injection&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;owasp_category&quot;,\r\n                            &quot;value&quot;: &quot;a03-2021-injection&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;owasp_category&quot;,\r\n                            &quot;value&quot;: &quot;a1-injection&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;severity&quot;,\r\n                            &quot;value&quot;: &quot;moderate&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;sink_method&quot;,\r\n                            &quot;value&quot;: &quot;Object.assign&quot;\r\n                        },\r\n                        {\r\n                            &quot;key&quot;: &quot;source_method&quot;,\r\n                            &quot;value&quot;: &quot;^axios^.post&quot;\r\n                        }\r\n                    ],\r\nI want to pick up the value that corresponds to &quot;key&quot;: cvss_score.  I tried picking up as a \r\n\r\nlist&lt;Map&lt;String, String&gt;&gt; map =`response.getBody.jsonPath.getList(&quot;tags&quot;);` \r\n\r\nbut not able to parse it correctly can someone please tell me how to do it correctly","title":"Parsing json with list&lt;Map&lt;String, Integer&gt;&gt;","body":"<p>I have a JSON like this</p>\n<pre><code>&quot;tags&quot;: [\n                    {\n                        &quot;key&quot;: &quot;category&quot;,\n                        &quot;value&quot;: &quot;Prototype Pollution&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;cvss_31_severity_rating&quot;,\n                        &quot;value&quot;: &quot;medium&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;cvss_score&quot;,\n                        &quot;value&quot;: &quot;4&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;cwe_category&quot;,\n                        &quot;value&quot;: &quot;1321&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;language&quot;,\n                        &quot;value&quot;: &quot;javascript&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;owasp_2021_category&quot;,\n                        &quot;value&quot;: &quot;a03-injection&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;owasp_category&quot;,\n                        &quot;value&quot;: &quot;a03-2021-injection&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;owasp_category&quot;,\n                        &quot;value&quot;: &quot;a1-injection&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;severity&quot;,\n                        &quot;value&quot;: &quot;moderate&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;sink_method&quot;,\n                        &quot;value&quot;: &quot;Object.assign&quot;\n                    },\n                    {\n                        &quot;key&quot;: &quot;source_method&quot;,\n                        &quot;value&quot;: &quot;^axios^.post&quot;\n                    }\n                ],\n</code></pre>\n<p>I want to pick up the value that corresponds to &quot;key&quot;: cvss_score.  I tried picking up as a</p>\n<p>list&lt;Map&lt;String, String&gt;&gt; map =<code>response.getBody.jsonPath.getList(&quot;tags&quot;);</code></p>\n<p>but not able to parse it correctly can someone please tell me how to do it correctly</p>\n"},{"tags":["java","spring","static","sonarqube"],"comments":[{"owner":{"account_id":6308465,"reputation":1849,"user_id":4900829,"accept_rate":67,"display_name":"Philipp Lengauer"},"score":0,"creation_date":1511865293,"post_id":47529300,"comment_id":82015098,"body_markdown":"Im not a Sonar specialist, but what I can imagine is that it might be dangerous to write to a static field in parallel. Just try add a synchronize block on SemaMonitorProxy.class and see if the warning goes away.","body":"Im not a Sonar specialist, but what I can imagine is that it might be dangerous to write to a static field in parallel. Just try add a synchronize block on SemaMonitorProxy.class and see if the warning goes away."},{"owner":{"account_id":11000564,"reputation":1469,"user_id":8081281,"accept_rate":100,"display_name":"utkarsh31"},"score":0,"creation_date":1511865764,"post_id":47529300,"comment_id":82015435,"body_markdown":"The problem is you are setting the value of static field through a non-static field. Can you make the `setApplicationContext` method as `synchrozied`? I believe that should be enough to fix this.","body":"The problem is you are setting the value of static field through a non-static field. Can you make the <code>setApplicationContext</code> method as <code>synchrozied</code>? I believe that should be enough to fix this."},{"owner":{"account_id":3803727,"reputation":323,"user_id":3156671,"display_name":"Mick Belker - Pseudonym"},"score":0,"creation_date":1535699545,"post_id":47529300,"comment_id":91171004,"body_markdown":"There is a proper solution in\n[another question](https://stackoverflow.com/questions/21136302/findbugs-error-write-to-static-field-from-instance-method/21136731).","body":"There is a proper solution in <a href=\"https://stackoverflow.com/questions/21136302/findbugs-error-write-to-static-field-from-instance-method/21136731\">another question</a>."}],"answers":[{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1511873181,"creation_date":1511868417,"answer_id":47530414,"question_id":47529300,"body_markdown":"In fact this method:\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        SemaMonitorProxy.applicationContext = applicationContext;\r\n    }\r\n\r\nis an instance method writing to a static field:\r\n\r\n    private static ApplicationContext applicationContext\r\n\r\nYou cannot make the above method static. So the only solution would be to remove the static keyword from the `applicationContext` declaration.\r\n\r\n    private ApplicationContext applicationContext","title":"Sonar: Instance methods should not write to &quot;static&quot; fields","body":"<p>In fact this method:</p>\n\n<pre><code>@Override\npublic void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n    SemaMonitorProxy.applicationContext = applicationContext;\n}\n</code></pre>\n\n<p>is an instance method writing to a static field:</p>\n\n<pre><code>private static ApplicationContext applicationContext\n</code></pre>\n\n<p>You cannot make the above method static. So the only solution would be to remove the static keyword from the <code>applicationContext</code> declaration.</p>\n\n<pre><code>private ApplicationContext applicationContext\n</code></pre>\n"},{"tags":[],"owner":{"account_id":947502,"reputation":4565,"user_id":974442,"accept_rate":61,"display_name":"Panos Bariamis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663915651,"creation_date":1663915651,"answer_id":73823916,"question_id":47529300,"body_markdown":"Rule `java:S2696`\r\n\r\n\r\n&gt; Correctly updating a `static` field from a non-static method is tricky to get right and could easily lead to bugs if there are multiple class instances and/or multiple threads in play. Ideally, `static` fields are only updated from `synchronized static` methods.\r\n\r\n\r\nCheck [this][1] answer from @G. Ann - SonarSource Team\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39407962/974442","title":"Sonar: Instance methods should not write to &quot;static&quot; fields","body":"<p>Rule <code>java:S2696</code></p>\n<blockquote>\n<p>Correctly updating a <code>static</code> field from a non-static method is tricky to get right and could easily lead to bugs if there are multiple class instances and/or multiple threads in play. Ideally, <code>static</code> fields are only updated from <code>synchronized static</code> methods.</p>\n</blockquote>\n<p>Check <a href=\"https://stackoverflow.com/a/39407962/974442\">this</a> answer from @G. Ann - SonarSource Team</p>\n"}],"owner":{"account_id":9832595,"reputation":25,"user_id":8750960,"display_name":"Kevin M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47530414,"answer_count":2,"score":2,"last_activity_date":1663915651,"creation_date":1511865067,"question_id":47529300,"body_markdown":"I am getting this prompt from Sonar: **Instance methods should not write to &quot;static&quot; fields**\r\n\r\nI&#39;m not quite sure what I need to change to fix this issue.\r\n\r\nDoes &quot;SemaMonitorProxy.applicationContext&quot; have to equal a static method?\r\n\r\n    public class SemaMonitorProxy implements ApplicationContextAware {\r\n\r\n\t    private static ApplicationContext applicationContext = null;\r\n\r\n\t    public void registerFailedLoginAttempt(HttpServletRequest request, HttpServletResponse response) {\r\n\t\t    final SemaMonitor semaMonitor = applicationContext.getBean(SemaMonitor.class);\r\n\t\t    semaMonitor.registerFailedLoginAttempt(request, response);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n\t\t    SemaMonitorProxy.applicationContext = applicationContext;\r\n\t    }\r\n    }","title":"Sonar: Instance methods should not write to &quot;static&quot; fields","body":"<p>I am getting this prompt from Sonar: <strong>Instance methods should not write to \"static\" fields</strong></p>\n\n<p>I'm not quite sure what I need to change to fix this issue.</p>\n\n<p>Does \"SemaMonitorProxy.applicationContext\" have to equal a static method?</p>\n\n<pre><code>public class SemaMonitorProxy implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext = null;\n\n    public void registerFailedLoginAttempt(HttpServletRequest request, HttpServletResponse response) {\n        final SemaMonitor semaMonitor = applicationContext.getBean(SemaMonitor.class);\n        semaMonitor.registerFailedLoginAttempt(request, response);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        SemaMonitorProxy.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621240455,"creation_date":1621240455,"answer_id":67566370,"question_id":67565473,"body_markdown":"You will need to force RESTEasy Reactive all JAX-RS methods on a worker thread instead of the event loop.\r\n\r\nTo do that, just change your code to:\r\n\r\n    @io.smallrye.common.annotation.Blocking\r\n    public class MyApplication extends javax.ws.rs.core.Application {\r\n\r\n    }","title":"Logging Entity Body with Quarkus Resteasy Reactive","body":"<p>You will need to force RESTEasy Reactive all JAX-RS methods on a worker thread instead of the event loop.</p>\n<p>To do that, just change your code to:</p>\n<pre><code>@io.smallrye.common.annotation.Blocking\npublic class MyApplication extends javax.ws.rs.core.Application {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1174380,"reputation":1876,"user_id":1150744,"accept_rate":67,"display_name":"Chexpir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663915641,"creation_date":1663915641,"answer_id":73823914,"question_id":67565473,"body_markdown":"I am using something like this, and it works. \r\n\r\n```\r\npublic class RequestInterceptor {     \r\n  ...LOGGER...\r\n  @ServerRequestFilter      \r\n  public void asyncLog(HttpServerRequest request) {         \r\n    request.body().onComplete(event -&gt; LOGGER.info(event.result().toString()));     \r\n  }\r\n}\r\n```\r\n\r\nNote: I am having problems/inconsistencies when running it in native mode, as it can stop running after a server restart, and I am looking for a solution to that.","title":"Logging Entity Body with Quarkus Resteasy Reactive","body":"<p>I am using something like this, and it works.</p>\n<pre><code>public class RequestInterceptor {     \n  ...LOGGER...\n  @ServerRequestFilter      \n  public void asyncLog(HttpServerRequest request) {         \n    request.body().onComplete(event -&gt; LOGGER.info(event.result().toString()));     \n  }\n}\n</code></pre>\n<p>Note: I am having problems/inconsistencies when running it in native mode, as it can stop running after a server restart, and I am looking for a solution to that.</p>\n"}],"owner":{"account_id":21623375,"reputation":31,"user_id":15948036,"display_name":"KyriacosP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1436,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67566370,"answer_count":2,"score":3,"last_activity_date":1663915641,"creation_date":1621236106,"question_id":67565473,"body_markdown":"I&#39;m trying to implement a logging filter to log the request and response to the API endpoints of my Quarkus application. I&#39;m using Quarkus 1.13.3.Final and quarkus-resteasy-reactive. I have a problem trying to log the request body when calling a non blocking end point. This is the code I&#39;m using to log the request:\r\n\r\n```\r\n    @ServerRequestFilter(priority = 0)\r\n\tpublic void getFilter(UriInfo info,HttpServerRequest request,ContainerRequestContext ctx) {\r\n\t\tString uuid = UUID.randomUUID().toString();\r\n\t\tctx.setProperty(&quot;log_id&quot;, uuid);\r\n\t\tString body = new BufferedReader(new InputStreamReader(ctx.getEntityStream())).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\tctx.setEntityStream(new ByteArrayInputStream(body.getBytes()));\r\n\t\tlogger.info(&quot;Request: &quot; + uuid + &quot; Method: &quot;+ ctx.getMethod() + &quot; Path: &quot; + info.getPath() + &quot; Remote Address: &quot; +  request.remoteAddress().toString() + &quot; Body: &quot; + body);\r\n\t}\r\n\r\n```\r\n\r\nThis works fine when I&#39;m calling an API endpoint that has the @Blocking annotations but when I call a non blocking API I get the following error:\r\n\r\n```\r\n2021-05-17 10:15:29,159 ERROR [org.jbo.res.rea.ser.cor.ExceptionMapping] (vert.x-eventloop-thread-10) Request failed : java.io.UncheckedIOException: java.io.IOException: Attempting a blocking read on io thread\r\n        at java.base/java.io.BufferedReader$1.hasNext(BufferedReader.java:577)\r\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:132)\r\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n        at com.filters.LogginFilter.getFilter(LogginFilter.java:45)\r\n        at com.filters.LogginFilter$GeneratedServerRequestFilter$getFilter.filter(LogginFilter$GeneratedServerRequestFilter$getFilter.zig:73)\r\n        at com.filters.LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass.filter$$superaccessor1(LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass.zig:201)\r\n        at com.filters.LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass$$function$$3.apply(LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass$$function$$3.zig:33)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:63)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\r\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\r\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n```\r\n\r\nIs there a way to get around this and read the body of the request in a non blocking way? or another way to log the request body?","title":"Logging Entity Body with Quarkus Resteasy Reactive","body":"<p>I'm trying to implement a logging filter to log the request and response to the API endpoints of my Quarkus application. I'm using Quarkus 1.13.3.Final and quarkus-resteasy-reactive. I have a problem trying to log the request body when calling a non blocking end point. This is the code I'm using to log the request:</p>\n<pre><code>    @ServerRequestFilter(priority = 0)\n    public void getFilter(UriInfo info,HttpServerRequest request,ContainerRequestContext ctx) {\n        String uuid = UUID.randomUUID().toString();\n        ctx.setProperty(&quot;log_id&quot;, uuid);\n        String body = new BufferedReader(new InputStreamReader(ctx.getEntityStream())).lines().collect(Collectors.joining(&quot;\\n&quot;));\n        ctx.setEntityStream(new ByteArrayInputStream(body.getBytes()));\n        logger.info(&quot;Request: &quot; + uuid + &quot; Method: &quot;+ ctx.getMethod() + &quot; Path: &quot; + info.getPath() + &quot; Remote Address: &quot; +  request.remoteAddress().toString() + &quot; Body: &quot; + body);\n    }\n\n</code></pre>\n<p>This works fine when I'm calling an API endpoint that has the @Blocking annotations but when I call a non blocking API I get the following error:</p>\n<pre><code>2021-05-17 10:15:29,159 ERROR [org.jbo.res.rea.ser.cor.ExceptionMapping] (vert.x-eventloop-thread-10) Request failed : java.io.UncheckedIOException: java.io.IOException: Attempting a blocking read on io thread\n        at java.base/java.io.BufferedReader$1.hasNext(BufferedReader.java:577)\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:132)\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\n        at com.filters.LogginFilter.getFilter(LogginFilter.java:45)\n        at com.filters.LogginFilter$GeneratedServerRequestFilter$getFilter.filter(LogginFilter$GeneratedServerRequestFilter$getFilter.zig:73)\n        at com.filters.LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass.filter$$superaccessor1(LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass.zig:201)\n        at com.filters.LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass$$function$$3.apply(LogginFilter$GeneratedServerRequestFilter$getFilter_Subclass$$function$$3.zig:33)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:63)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n</code></pre>\n<p>Is there a way to get around this and read the body of the request in a non blocking way? or another way to log the request body?</p>\n"},{"tags":["java","spring","authentication","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663915588,"creation_date":1663915588,"answer_id":73823906,"question_id":73823170,"body_markdown":"The purpose of JWT is to store some user details in the token itself so that multiple calls to server could be avoided to get user information like logged in username, permissions etc.\r\n\r\nJWT should be used primarily for Access Token as it will be sent back to caller in almost every request.\r\n\r\nRefresh Token on the other hand is just a token used to Refresh the access token and doesn&#39;t require to be send on every request.\r\n\r\nIt is better to use a GUID/UUID for Refresh token.","title":"Refresh tokens stored as UUID or JWT?","body":"<p>The purpose of JWT is to store some user details in the token itself so that multiple calls to server could be avoided to get user information like logged in username, permissions etc.</p>\n<p>JWT should be used primarily for Access Token as it will be sent back to caller in almost every request.</p>\n<p>Refresh Token on the other hand is just a token used to Refresh the access token and doesn't require to be send on every request.</p>\n<p>It is better to use a GUID/UUID for Refresh token.</p>\n"}],"owner":{"account_id":15178561,"reputation":163,"user_id":16235371,"display_name":"Johnny boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2018,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1663915588,"creation_date":1663909223,"question_id":73823170,"body_markdown":"I&#39;m creating a refresh token endpoint in my backend using spring boot, and I have a few questions. What&#39;s better when creating refresh tokens, should they be a JWT or a simple UUID will suffice? \r\n\r\nFor example, if I use UUID to generate a refresh token, in my refresh_token table, I would have expiry date, the user who generated that refresh token and of course the random UUID.\r\n\r\n    public RefreshToken createRefreshToken(Long userId) {\r\n        RefreshToken refreshToken = new RefreshToken();\r\n    \r\n        refreshToken.setUser(userRepository.findById(userId).get());\r\n        refreshToken.setExpiryDate(Instant.now().plusMillis(refreshTokenDurationMs));\r\n        refreshToken.setToken(UUID.randomUUID().toString());\r\n    \r\n        refreshToken = refreshTokenRepository.save(refreshToken);\r\n        return refreshToken;\r\n      }\r\n\r\nThat was my initial implementation, but now I&#39;m thinking isn&#39;t it better to create a refresh token as a JWT and have the payload contain the expiry date which mean one less read to the database when validating if a refresh token is not expired? And in the case I store my refresh token jwt, should it be hashed in the database when storing? \r\n\r\nHere&#39;s a quick method I came up with\r\n\r\n    private String createRefreshToken(String subject) {\r\n        Instant now = Instant.now();\r\n        JwtClaimsSet claimsSet = JwtClaimsSet.builder()\r\n                .issuer(JWT_ISSUER)\r\n                .issuedAt(now)\r\n                .expiresAt(now.plusSeconds(JWT_REFRESH_TOKEN_EXPIRY))\r\n                .subject(subject)\r\n                .build();\r\n\r\n        return jwtEncoder.encode(JwtEncoderParameters.from(claimsSet)).getTokenValue();\r\n    }\r\n\r\n\r\nWhich method is better / more secure? Also, maybe a mini question, how can I retrieve the claims expiration when using JWT? I&#39;m using `org.springframework.security.oauth2.jwt` in my controller?\r\n\r\nThank you!","title":"Refresh tokens stored as UUID or JWT?","body":"<p>I'm creating a refresh token endpoint in my backend using spring boot, and I have a few questions. What's better when creating refresh tokens, should they be a JWT or a simple UUID will suffice?</p>\n<p>For example, if I use UUID to generate a refresh token, in my refresh_token table, I would have expiry date, the user who generated that refresh token and of course the random UUID.</p>\n<pre><code>public RefreshToken createRefreshToken(Long userId) {\n    RefreshToken refreshToken = new RefreshToken();\n\n    refreshToken.setUser(userRepository.findById(userId).get());\n    refreshToken.setExpiryDate(Instant.now().plusMillis(refreshTokenDurationMs));\n    refreshToken.setToken(UUID.randomUUID().toString());\n\n    refreshToken = refreshTokenRepository.save(refreshToken);\n    return refreshToken;\n  }\n</code></pre>\n<p>That was my initial implementation, but now I'm thinking isn't it better to create a refresh token as a JWT and have the payload contain the expiry date which mean one less read to the database when validating if a refresh token is not expired? And in the case I store my refresh token jwt, should it be hashed in the database when storing?</p>\n<p>Here's a quick method I came up with</p>\n<pre><code>private String createRefreshToken(String subject) {\n    Instant now = Instant.now();\n    JwtClaimsSet claimsSet = JwtClaimsSet.builder()\n            .issuer(JWT_ISSUER)\n            .issuedAt(now)\n            .expiresAt(now.plusSeconds(JWT_REFRESH_TOKEN_EXPIRY))\n            .subject(subject)\n            .build();\n\n    return jwtEncoder.encode(JwtEncoderParameters.from(claimsSet)).getTokenValue();\n}\n</code></pre>\n<p>Which method is better / more secure? Also, maybe a mini question, how can I retrieve the claims expiration when using JWT? I'm using <code>org.springframework.security.oauth2.jwt</code> in my controller?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663915550,"post_id":73823714,"comment_id":130355726,"body_markdown":"Ditch the properties and let Spring Boot configure it out-of-the-box using the `spring.rabbitmq.*` properties. The fact that you have those properties indicate you are working around the autoconfiguration of Spring Boot.","body":"Ditch the properties and let Spring Boot configure it out-of-the-box using the <code>spring.rabbitmq.*</code> properties. The fact that you have those properties indicate you are working around the autoconfiguration of Spring Boot."},{"owner":{"account_id":3488485,"reputation":531,"user_id":2918731,"accept_rate":50,"display_name":"TheLebDev"},"score":0,"creation_date":1663923946,"post_id":73823714,"comment_id":130358386,"body_markdown":"Could you elaborate please? @M.Deinum","body":"Could you elaborate please? @M.Deinum"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1663924613,"post_id":73823714,"comment_id":130358588,"body_markdown":"How do you read properties form this class RabbitMQConfigProps? P.S. Don&#39;t use @ConfigurationProperties() without prefix, it&#39;s not good pratice. BTW, usually when you have custom configuration class you need to add @EnableRabbit to enable support for Rabbit Listener.  I don&#39;t see you have that annotation. And yes, Spring Boot can autocofigure this things for you as mentioned in above comment, but you can also do it by yourself, as you tried. See : https://spring.io/guides/gs/messaging-rabbitmq/","body":"How do you read properties form this class RabbitMQConfigProps? P.S. Don&#39;t use @ConfigurationProperties() without prefix, it&#39;s not good pratice. BTW, usually when you have custom configuration class you need to add @EnableRabbit to enable support for Rabbit Listener.  I don&#39;t see you have that annotation. And yes, Spring Boot can autocofigure this things for you as mentioned in above comment, but you can also do it by yourself, as you tried. See : <a href=\"https://spring.io/guides/gs/messaging-rabbitmq/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/messaging-rabbitmq</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664174383,"post_id":73823714,"comment_id":130402188,"body_markdown":"I mean exactly as I say. Spring Boot provides auto configuration for RabbitMQ, you only need to provide the `spring.rabbitmq.url`, username, password and Spring Boot will auto matically configure RabbitMQ for you. No need to do that yourself.","body":"I mean exactly as I say. Spring Boot provides auto configuration for RabbitMQ, you only need to provide the <code>spring.rabbitmq.url</code>, username, password and Spring Boot will auto matically configure RabbitMQ for you. No need to do that yourself."}],"answers":[{"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663915394,"creation_date":1663915394,"answer_id":73823878,"question_id":73823714,"body_markdown":"Try to write:\r\n\r\n    @ConfigurationProperties(prefix = &quot;rabbitmq&quot;)\r\n    public class RabbitMQConfigProps {\r\n    \r\n        private String host;\r\n        private String username;\r\n      }\r\n    }\r\n\r\nAnd add: \r\n\r\n    @EnableConfigurationProperties(RabbitMQConfigProps.class)\r\n    @SpringBootApplication\r\n    public class MainClass{\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainClass.class, args);\r\n        }\r\n\r\n}\r\n\r\n","title":"Java Spring: Could not resolve placeholder &#39; &#39; in value &quot;${}&quot; for new application properties","body":"<p>Try to write:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;rabbitmq&quot;)\npublic class RabbitMQConfigProps {\n\n    private String host;\n    private String username;\n  }\n}\n</code></pre>\n<p>And add:</p>\n<pre><code>@EnableConfigurationProperties(RabbitMQConfigProps.class)\n@SpringBootApplication\npublic class MainClass{\n    public static void main(String[] args) {\n        SpringApplication.run(MainClass.class, args);\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3488485,"reputation":531,"user_id":2918731,"accept_rate":50,"display_name":"TheLebDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73823878,"answer_count":1,"score":0,"last_activity_date":1663915394,"creation_date":1663914162,"question_id":73823714,"body_markdown":"I have acquired a Java Springboot project and am performing some modifications on it. Mind you, this is my first Spring boot interaction so please take that into account if you choose to answer.\r\n\r\nIn my code, I need to connect to RabbitMQ. To do that, I&#39;d have to add some application properties inside `application.properties` and `application-dev.properties`.\r\n\r\nHere&#39;s what those files contain\r\n\r\n```\r\n#RabbitMQ\r\nrabbitmq.host=localhost\r\nrabbitmq.password=guest\r\nrabbitmq.username=guest\r\nrabbitmq.port=15672\r\nrabbitmq.queue=resonance\r\n\r\n#DataSource\r\nspring.datasource.url=jdbc:mysql://localhost:3306/other_options\r\n```\r\n\r\nThe `spring.datasource.url` property was there before I received the code. The `rabbitmq.*` properties are what I added to my code.\r\n\r\nAfter building the project, I could access the `target/classes/` directory and would see the above props correctly placed in the target props file.\r\n\r\nTo read these props, I have created a file called `RabbitMQConfigProps.java` which contains the following:\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties()\r\npublic class RabbitMQConfigProps {\r\n\r\n    @Value(&quot;${rabbitmq.host}&quot;)\r\n    private String host;\r\n//            = &quot;localhost&quot;;\r\n    @Value(&quot;${rabbitmq.username}&quot;)\r\n    private String username;\r\n  }\r\n}\r\n```\r\n\r\nRunning the code, I receive the following error: `Error creating bean with name &#39;rabbitMQConfigProps&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;rabbitmq.host&#39; in value &quot;${rabbitmq.host}&quot;`\r\n\r\nI figured that might be an issue with the props I added, so I replaced `@Value(&quot;${rabbitmq.host}&quot;)` with `@Value(&quot;${spring.datasource.url}&quot;)` to test it out, and the error for that value disappeared, and a new error appeared for the following field `Error creating bean with name &#39;rabbitMQConfigProps&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;rabbitmq.username&#39; in value &quot;${rabbitmq.username}&quot;`\r\n\r\nTo conclude:\r\n1. Props files are found correctly in `target/` directory\r\n2. Old props work just fine in my piece of code\r\n3. New props I&#39;m adding are not being picked up for some reason\r\n4. I&#39;ve:\r\n4.1. Cleaned cache and restarted\r\n4.2. Ran &quot;Fix IDE&quot; for IntelliJ\r\n4.3. Turned the planet off and on again\r\n\r\nNothing seems to work, any help would be amazing.","title":"Java Spring: Could not resolve placeholder &#39; &#39; in value &quot;${}&quot; for new application properties","body":"<p>I have acquired a Java Springboot project and am performing some modifications on it. Mind you, this is my first Spring boot interaction so please take that into account if you choose to answer.</p>\n<p>In my code, I need to connect to RabbitMQ. To do that, I'd have to add some application properties inside <code>application.properties</code> and <code>application-dev.properties</code>.</p>\n<p>Here's what those files contain</p>\n<pre><code>#RabbitMQ\nrabbitmq.host=localhost\nrabbitmq.password=guest\nrabbitmq.username=guest\nrabbitmq.port=15672\nrabbitmq.queue=resonance\n\n#DataSource\nspring.datasource.url=jdbc:mysql://localhost:3306/other_options\n</code></pre>\n<p>The <code>spring.datasource.url</code> property was there before I received the code. The <code>rabbitmq.*</code> properties are what I added to my code.</p>\n<p>After building the project, I could access the <code>target/classes/</code> directory and would see the above props correctly placed in the target props file.</p>\n<p>To read these props, I have created a file called <code>RabbitMQConfigProps.java</code> which contains the following:</p>\n<pre><code>@Configuration\n@ConfigurationProperties()\npublic class RabbitMQConfigProps {\n\n    @Value(&quot;${rabbitmq.host}&quot;)\n    private String host;\n//            = &quot;localhost&quot;;\n    @Value(&quot;${rabbitmq.username}&quot;)\n    private String username;\n  }\n}\n</code></pre>\n<p>Running the code, I receive the following error: <code>Error creating bean with name 'rabbitMQConfigProps': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.host' in value &quot;${rabbitmq.host}&quot;</code></p>\n<p>I figured that might be an issue with the props I added, so I replaced <code>@Value(&quot;${rabbitmq.host}&quot;)</code> with <code>@Value(&quot;${spring.datasource.url}&quot;)</code> to test it out, and the error for that value disappeared, and a new error appeared for the following field <code>Error creating bean with name 'rabbitMQConfigProps': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'rabbitmq.username' in value &quot;${rabbitmq.username}&quot;</code></p>\n<p>To conclude:</p>\n<ol>\n<li>Props files are found correctly in <code>target/</code> directory</li>\n<li>Old props work just fine in my piece of code</li>\n<li>New props I'm adding are not being picked up for some reason</li>\n<li>I've:\n4.1. Cleaned cache and restarted\n4.2. Ran &quot;Fix IDE&quot; for IntelliJ\n4.3. Turned the planet off and on again</li>\n</ol>\n<p>Nothing seems to work, any help would be amazing.</p>\n"},{"tags":["java","generics","raw-types"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1663914218,"post_id":73823689,"comment_id":130355395,"body_markdown":"What are you trying to do with `c`? Depending on that, it is safe to leave it as `Class&lt;Map&gt; c = Map.class;`.","body":"What are you trying to do with <code>c</code>? Depending on that, it is safe to leave it as <code>Class&lt;Map&gt; c = Map.class;</code>."},{"owner":{"account_id":1960544,"reputation":2576,"user_id":1762276,"accept_rate":73,"display_name":"Zhro"},"score":0,"creation_date":1663914549,"post_id":73823689,"comment_id":130355487,"body_markdown":"I&#39;ve added some further clarification to my use case. It should be safe as it is, but I would like to know if there is a way to satisfy the compiler without having to suppress the warning.","body":"I&#39;ve added some further clarification to my use case. It should be safe as it is, but I would like to know if there is a way to satisfy the compiler without having to suppress the warning."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663914687,"creation_date":1663914687,"answer_id":73823777,"question_id":73823689,"body_markdown":"`Map.class` is of `Class&lt;Map&gt;`, which is not `Class&lt;Map&lt;Object, Object&gt;`. You could use `Class&lt;? super Map&lt;Object, Object&gt;&gt; c = Map.class;`, because every `Map&lt;Object, Object&gt;` is also a `Map` (but not the other way round)","title":"Map is a raw type when assigning Map.class. But assigning a type results in a mismatch. How do I parameterize Map.class?","body":"<p><code>Map.class</code> is of <code>Class&lt;Map&gt;</code>, which is not <code>Class&lt;Map&lt;Object, Object&gt;</code>. You could use <code>Class&lt;? super Map&lt;Object, Object&gt;&gt; c = Map.class;</code>, because every <code>Map&lt;Object, Object&gt;</code> is also a <code>Map</code> (but not the other way round)</p>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663915386,"creation_date":1663915386,"answer_id":73823877,"question_id":73823689,"body_markdown":"This suppresses the warning at the call site:\r\n\r\n    public static &lt;T&gt; T method(Class&lt;? super T&gt; type) {\r\n        return (T) otherMethod(type);\r\n    }\r\n\r\nThere is still an unchecked cast warning on the expression `(T) otherMethod(type)`, but I believe that is unavoidable.","title":"Map is a raw type when assigning Map.class. But assigning a type results in a mismatch. How do I parameterize Map.class?","body":"<p>This suppresses the warning at the call site:</p>\n<pre><code>public static &lt;T&gt; T method(Class&lt;? super T&gt; type) {\n    return (T) otherMethod(type);\n}\n</code></pre>\n<p>There is still an unchecked cast warning on the expression <code>(T) otherMethod(type)</code>, but I believe that is unavoidable.</p>\n"}],"owner":{"account_id":1960544,"reputation":2576,"user_id":1762276,"accept_rate":73,"display_name":"Zhro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73823877,"answer_count":2,"score":0,"last_activity_date":1663915386,"creation_date":1663913952,"question_id":73823689,"body_markdown":"I receive a warning here that Map is a raw type.\r\n\r\n    // Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized\r\n    Class&lt;Map&gt; c = Map.class;\r\n\r\nBut if I parameterize the type, then I get a mismatch:\r\n\r\n    // Type mismatch: cannot convert from Class&lt;Map&gt; to Class&lt;Map&lt;Object,Object&gt;&gt;\r\n    Class&lt;Map&lt;Object, Object&gt;&gt; c = Map.class;\r\n\r\nI have tried a few variations, but I can&#39;t find any way to parameterize the right side of the expression (`Map.class`) to satisfy the left side, which is parameterized.\r\n\r\nHow do I parameterize `Map.class` in this instance?\r\n\r\nIn this case I am passing it to a method with a signature:\r\n\r\n    public &lt;T&gt; T method(Class&lt;T&gt; type) {\r\n       return (T) otherMethod(type);\r\n    }\r\n\r\nI only want to provide the `Map` type, as I don&#39;t know what kind of map is used internally, and this detail is not important. I am trying to resolve the warning I get when calling the method:\r\n\r\n    // Type safety: The expression of type Map needs unchecked conversion to conform to Map&lt;String,Object&gt;\r\n    Map&lt;String, Object&gt; a = method(Map.class);","title":"Map is a raw type when assigning Map.class. But assigning a type results in a mismatch. How do I parameterize Map.class?","body":"<p>I receive a warning here that Map is a raw type.</p>\n<pre><code>// Map is a raw type. References to generic type Map&lt;K,V&gt; should be parameterized\nClass&lt;Map&gt; c = Map.class;\n</code></pre>\n<p>But if I parameterize the type, then I get a mismatch:</p>\n<pre><code>// Type mismatch: cannot convert from Class&lt;Map&gt; to Class&lt;Map&lt;Object,Object&gt;&gt;\nClass&lt;Map&lt;Object, Object&gt;&gt; c = Map.class;\n</code></pre>\n<p>I have tried a few variations, but I can't find any way to parameterize the right side of the expression (<code>Map.class</code>) to satisfy the left side, which is parameterized.</p>\n<p>How do I parameterize <code>Map.class</code> in this instance?</p>\n<p>In this case I am passing it to a method with a signature:</p>\n<pre><code>public &lt;T&gt; T method(Class&lt;T&gt; type) {\n   return (T) otherMethod(type);\n}\n</code></pre>\n<p>I only want to provide the <code>Map</code> type, as I don't know what kind of map is used internally, and this detail is not important. I am trying to resolve the warning I get when calling the method:</p>\n<pre><code>// Type safety: The expression of type Map needs unchecked conversion to conform to Map&lt;String,Object&gt;\nMap&lt;String, Object&gt; a = method(Map.class);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":5024231,"reputation":2017,"user_id":4036754,"display_name":"Violeta Georgieva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663915324,"creation_date":1663915324,"answer_id":73823869,"question_id":73806400,"body_markdown":"By default, the connection pool **timeouts** (**maxIdleTime**, **maxLifeTime** etc.) are checked on connection **release** or **acquire** operations and, if some timeout is reached, the connection is closed and removed from the connection pool. However, you can also configure the connection pool, by setting **evictInBackground**, to perform periodic checks on connections.\r\nThe configuration **evictInBackground** is often combined with **disposeInactivePoolsInBackground** to remove from the structures all inactive connection pools.","title":"Project Reactor - ConnectionProvider.evictInBackground()","body":"<p>By default, the connection pool <strong>timeouts</strong> (<strong>maxIdleTime</strong>, <strong>maxLifeTime</strong> etc.) are checked on connection <strong>release</strong> or <strong>acquire</strong> operations and, if some timeout is reached, the connection is closed and removed from the connection pool. However, you can also configure the connection pool, by setting <strong>evictInBackground</strong>, to perform periodic checks on connections.\nThe configuration <strong>evictInBackground</strong> is often combined with <strong>disposeInactivePoolsInBackground</strong> to remove from the structures all inactive connection pools.</p>\n"}],"owner":{"account_id":26406001,"reputation":1,"user_id":20055777,"display_name":"Choff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663915324,"creation_date":1663790991,"question_id":73806400,"body_markdown":"What is the benefit of using **evictInBackground** operation on **ConnectionProvider** which is used with **HttpClient.create(connectionProvider)**  in springboot webflux ?","title":"Project Reactor - ConnectionProvider.evictInBackground()","body":"<p>What is the benefit of using <strong>evictInBackground</strong> operation on <strong>ConnectionProvider</strong> which is used with <strong>HttpClient.create(connectionProvider)</strong>  in springboot webflux ?</p>\n"},{"tags":["java","arrays","file","line-breaks"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1663876578,"post_id":73819889,"comment_id":130348910,"body_markdown":"This seems like the hard way of doing it.  Call `readLine()` twice then concatenate. Loops are better.","body":"This seems like the hard way of doing it.  Call <code>readLine()</code> twice then concatenate. Loops are better."}],"answers":[{"tags":[],"owner":{"account_id":20544579,"reputation":59,"user_id":16201706,"display_name":"Robert McKay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663908682,"creation_date":1663878535,"answer_id":73820335,"question_id":73819889,"body_markdown":"There are several ways to do this. Here is one using the Scanner class to read the file line by line. The strategy used in this example is to discard the first line and then use a while loop to iterate over the rest of the file.\r\n\r\nThis example assumes the file exists in the resources since the OP appears to be loading a resource file.\r\n\r\n    public List&lt;String&gt; extractPeople(String fileName) throws IOException, URISyntaxException {\r\n\r\n        List&lt;String&gt; people = new ArrayList&lt;&gt;();\r\n        \r\n        URL url = getClass().getClassLoader().getResource(fileName);\r\n        if (Objects.isNull(url)) throw new IOException(&quot;Unable to load URL for file: &quot; + fileName);\r\n        \r\n        // try with resources and use scanner to read file one line a time\r\n        try (Scanner scanner = new Scanner(new FileReader(new File(url.toURI())))) {\r\n            \r\n            // move cursor to the second line\r\n            if(scanner.hasNextLine()) scanner.nextLine();\r\n            \r\n            // loop through the file\r\n            while(scanner.hasNextLine()) {\r\n                \r\n                // extract the line with name\r\n                String name = scanner.nextLine();\r\n                \r\n                // extract the line with the age\r\n                String age = scanner.nextLine();\r\n                \r\n                // concatenate name and age and add to list of results.\r\n                people.add(name.concat(age));\r\n            }\r\n        }\r\n        \r\n        return people;\r\n    }\r\n\r\nAnd a simple test using a text file named &quot;people.txt&quot; based of the question.\r\n\r\n    @Test\r\n    void shouldLoadPeople() throws IOException, URISyntaxException {\r\n        List&lt;String&gt; people = extractPeople(&quot;people.txt&quot;);\r\n        assertEquals(5, people.size());\r\n    }","title":"Want to seperate string every 2 new lines and add it to array","body":"<p>There are several ways to do this. Here is one using the Scanner class to read the file line by line. The strategy used in this example is to discard the first line and then use a while loop to iterate over the rest of the file.</p>\n<p>This example assumes the file exists in the resources since the OP appears to be loading a resource file.</p>\n<pre><code>public List&lt;String&gt; extractPeople(String fileName) throws IOException, URISyntaxException {\n\n    List&lt;String&gt; people = new ArrayList&lt;&gt;();\n    \n    URL url = getClass().getClassLoader().getResource(fileName);\n    if (Objects.isNull(url)) throw new IOException(&quot;Unable to load URL for file: &quot; + fileName);\n    \n    // try with resources and use scanner to read file one line a time\n    try (Scanner scanner = new Scanner(new FileReader(new File(url.toURI())))) {\n        \n        // move cursor to the second line\n        if(scanner.hasNextLine()) scanner.nextLine();\n        \n        // loop through the file\n        while(scanner.hasNextLine()) {\n            \n            // extract the line with name\n            String name = scanner.nextLine();\n            \n            // extract the line with the age\n            String age = scanner.nextLine();\n            \n            // concatenate name and age and add to list of results.\n            people.add(name.concat(age));\n        }\n    }\n    \n    return people;\n}\n</code></pre>\n<p>And a simple test using a text file named &quot;people.txt&quot; based of the question.</p>\n<pre><code>@Test\nvoid shouldLoadPeople() throws IOException, URISyntaxException {\n    List&lt;String&gt; people = extractPeople(&quot;people.txt&quot;);\n    assertEquals(5, people.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663915290,"creation_date":1663890073,"answer_id":73821641,"question_id":73819889,"body_markdown":"Just another way. As it does indeed appear that the file to read is located within a **resources** directory, the following runnable code will read the file in both the IDE or the distributive JAR file. The resources directory is assumed to be located within the following hierarchy:\r\n\r\n    ProjectFolder\r\n       src\r\n           resources\r\n               Users.txt\r\n\r\nRead the comments in code:\r\n\r\n```\r\npublic class ExtractDataDemo {\r\n    \r\n    private final String LS = System.lineSeparator();\r\n    \r\n    // Class global List to hold read in Users.\r\n    private final java.util.List&lt;String&gt; usersList = new java.util.ArrayList&lt;&gt;();\r\n    private final String resourceFile = &quot;/resources/Users.txt&quot;;\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        // Started this way to avoid the need for statics.\r\n        new ExtractDataDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        try {\r\n            // Read the Users.txt file\r\n            readUsers(resourceFile);\r\n        }\r\n        catch (java.io.IOException ex) {\r\n            // Display IO exceptions (if any) in Console.\r\n            System.err.println(ex);\r\n            return;\r\n        }\r\n        \r\n        // Make sure the Users List contains something.\r\n        if (usersList.isEmpty()) {\r\n            System.out.println(&quot;No Users To List!&quot;);\r\n            return\r\n        }\r\n\r\n        // Display the people List contents in Console Window:\r\n        System.out.println(LS + &quot;Users List (as List):&quot;);\r\n        System.out.println(&quot;=====================&quot;);\r\n        for (String elements : usersList) {\r\n            System.out.println(elements);\r\n        }        \r\n        System.out.println();\r\n                \r\n        // Display a table style formated people List in Console:\r\n        // Header...\r\n        System.out.println(&quot;Users List (as Table):&quot;);\r\n        System.out.println(&quot;======================&quot;);\r\n        System.out.printf(&quot;%-8s %-11s %-3s%n&quot;, &quot;Import&quot;, &quot;Name&quot;, &quot;Age&quot;);\r\n        System.out.println(&quot;------------------------&quot;);\r\n        \r\n        // Iterate through the people List so to format contents...\r\n        for (String peeps : usersList) {\r\n            // Split list element into parts for formatting.\r\n            String[] peepParts = peeps.split(&quot;/&quot;);\r\n            System.out.printf(&quot;  %-6s %-11s %-3s%n&quot;, \r\n                              peepParts[0],                        // Import Number\r\n                              peepParts[1].split(&quot;\\\\s*=\\\\s*&quot;)[1],  // Name \r\n                              peepParts[2].split(&quot;\\\\s*=\\\\s*&quot;)[1]); // Age\r\n        }\r\n        System.out.println(&quot;------------------------&quot;);\r\n        System.out.println(LS + &quot;&lt; DONE &gt;&quot; + LS);\r\n        // DONE\r\n    }\r\n\r\n    public void readUsers(String fileName) throws IOException {\r\n        /* Clear the usersList in case it has something \r\n           already in it from a previous operation:  */\r\n        usersList.clear();\r\n        \r\n        /* Read from resources directory. This will work in\r\n        both the IDE and a distributive JAR file. &#39;Try With\r\n        Resources&#39; is used here to auto-close file and free\r\n        resources.                                       */\r\n        try (java.io.InputStream in = getClass().getResourceAsStream(fileName)) {\r\n            if (in == null) {\r\n                throw new IOException(&quot;Unable To Locate Resource! (&quot; + fileName + &quot;)&quot;);\r\n            }\r\n            try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.InputStreamReader(in))) {\r\n                String line;\r\n                //Skip header line in file (don&#39;t want it this time).\r\n                line = reader.readLine();\r\n\r\n                while ((line = reader.readLine()) != null) {\r\n                    // Get Import # from line (ex: &quot;1&quot;/name=Arwin)\r\n                    String imprt = line.split(&quot;/&quot;)[0];\r\n\r\n                    // Get Name from line (ex: 1/&quot;name=Arwin&quot;)\r\n                    String name = line.split(&quot;/&quot;)[1];\r\n\r\n                    /* Read in the line with the age (omit the line number)\r\n                    [Ex: &quot;2/Age=22&quot;]         */\r\n                    line = reader.readLine();\r\n\r\n                    // Get the age from line (ex: 2/&quot;Age=22&quot;)\r\n                    String age = line.split(&quot;/&quot;)[1];\r\n\r\n                    // Concatenate import number, name, and age then add to usersList.\r\n                    usersList.add(imprt.concat(&quot;/&quot;).concat(name).concat(&quot;/&quot;).concat(age));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen the code above is run, the following is what should be displayed within the Console Window providing the `Users.txt` file can be found:\r\n\r\n```\r\nUsers List (as List):\r\n=====================\r\n1/name=Arwin/Age=22\r\n3/name=AJ/Age = 27\r\n5/name=Anna/Age = 21\r\n7/name=Avon/Age = 25\r\n9/name=Atman/Age = 19\r\n\r\nUsers List (as Table):\r\n======================\r\nImport   Name        Age\r\n------------------------\r\n  1      Arwin       22 \r\n  3      AJ          27 \r\n  5      Anna        21 \r\n  7      Avon        25 \r\n  9      Atman       19 \r\n------------------------\r\n\r\n&lt; DONE &gt;\r\n```","title":"Want to seperate string every 2 new lines and add it to array","body":"<p>Just another way. As it does indeed appear that the file to read is located within a <strong>resources</strong> directory, the following runnable code will read the file in both the IDE or the distributive JAR file. The resources directory is assumed to be located within the following hierarchy:</p>\n<pre><code>ProjectFolder\n   src\n       resources\n           Users.txt\n</code></pre>\n<p>Read the comments in code:</p>\n<pre><code>public class ExtractDataDemo {\n    \n    private final String LS = System.lineSeparator();\n    \n    // Class global List to hold read in Users.\n    private final java.util.List&lt;String&gt; usersList = new java.util.ArrayList&lt;&gt;();\n    private final String resourceFile = &quot;/resources/Users.txt&quot;;\n    \n    \n    public static void main(String[] args) {\n        // Started this way to avoid the need for statics.\n        new ExtractDataDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        try {\n            // Read the Users.txt file\n            readUsers(resourceFile);\n        }\n        catch (java.io.IOException ex) {\n            // Display IO exceptions (if any) in Console.\n            System.err.println(ex);\n            return;\n        }\n        \n        // Make sure the Users List contains something.\n        if (usersList.isEmpty()) {\n            System.out.println(&quot;No Users To List!&quot;);\n            return\n        }\n\n        // Display the people List contents in Console Window:\n        System.out.println(LS + &quot;Users List (as List):&quot;);\n        System.out.println(&quot;=====================&quot;);\n        for (String elements : usersList) {\n            System.out.println(elements);\n        }        \n        System.out.println();\n                \n        // Display a table style formated people List in Console:\n        // Header...\n        System.out.println(&quot;Users List (as Table):&quot;);\n        System.out.println(&quot;======================&quot;);\n        System.out.printf(&quot;%-8s %-11s %-3s%n&quot;, &quot;Import&quot;, &quot;Name&quot;, &quot;Age&quot;);\n        System.out.println(&quot;------------------------&quot;);\n        \n        // Iterate through the people List so to format contents...\n        for (String peeps : usersList) {\n            // Split list element into parts for formatting.\n            String[] peepParts = peeps.split(&quot;/&quot;);\n            System.out.printf(&quot;  %-6s %-11s %-3s%n&quot;, \n                              peepParts[0],                        // Import Number\n                              peepParts[1].split(&quot;\\\\s*=\\\\s*&quot;)[1],  // Name \n                              peepParts[2].split(&quot;\\\\s*=\\\\s*&quot;)[1]); // Age\n        }\n        System.out.println(&quot;------------------------&quot;);\n        System.out.println(LS + &quot;&lt; DONE &gt;&quot; + LS);\n        // DONE\n    }\n\n    public void readUsers(String fileName) throws IOException {\n        /* Clear the usersList in case it has something \n           already in it from a previous operation:  */\n        usersList.clear();\n        \n        /* Read from resources directory. This will work in\n        both the IDE and a distributive JAR file. 'Try With\n        Resources' is used here to auto-close file and free\n        resources.                                       */\n        try (java.io.InputStream in = getClass().getResourceAsStream(fileName)) {\n            if (in == null) {\n                throw new IOException(&quot;Unable To Locate Resource! (&quot; + fileName + &quot;)&quot;);\n            }\n            try (java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.InputStreamReader(in))) {\n                String line;\n                //Skip header line in file (don't want it this time).\n                line = reader.readLine();\n\n                while ((line = reader.readLine()) != null) {\n                    // Get Import # from line (ex: &quot;1&quot;/name=Arwin)\n                    String imprt = line.split(&quot;/&quot;)[0];\n\n                    // Get Name from line (ex: 1/&quot;name=Arwin&quot;)\n                    String name = line.split(&quot;/&quot;)[1];\n\n                    /* Read in the line with the age (omit the line number)\n                    [Ex: &quot;2/Age=22&quot;]         */\n                    line = reader.readLine();\n\n                    // Get the age from line (ex: 2/&quot;Age=22&quot;)\n                    String age = line.split(&quot;/&quot;)[1];\n\n                    // Concatenate import number, name, and age then add to usersList.\n                    usersList.add(imprt.concat(&quot;/&quot;).concat(name).concat(&quot;/&quot;).concat(age));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>When the code above is run, the following is what should be displayed within the Console Window providing the <code>Users.txt</code> file can be found:</p>\n<pre><code>Users List (as List):\n=====================\n1/name=Arwin/Age=22\n3/name=AJ/Age = 27\n5/name=Anna/Age = 21\n7/name=Avon/Age = 25\n9/name=Atman/Age = 19\n\nUsers List (as Table):\n======================\nImport   Name        Age\n------------------------\n  1      Arwin       22 \n  3      AJ          27 \n  5      Anna        21 \n  7      Avon        25 \n  9      Atman       19 \n------------------------\n\n&lt; DONE &gt;\n</code></pre>\n"}],"owner":{"account_id":25329442,"reputation":11,"user_id":19149473,"display_name":"KKir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1663915290,"creation_date":1663875621,"question_id":73819889,"body_markdown":"I have .txt file which I convert to string. I want to store every 2 new lines starting from the 1 all the way to the last number.\r\n\r\nname.txt file:\r\n\r\n    imported/names/A\r\n    1/name=Arwin\r\n    2/Age=22\r\n    3/name=AJ\r\n    4/Age = 27\r\n    5/name=Anna\r\n    6/Age = 21\r\n    7/name=Avon\r\n    8/Age = 25\r\n    9/name=Atman\r\n    10/Age = 19\r\n\r\n\r\nI want to store these contents in a array list seperating every 2 new lines:\r\n\r\n    ArrayList = [&quot;1/name=Arwin2/Age=22&quot;,&quot;3/name=AJ4/Age = 27&quot;,&quot;5/name=Anna\r\n    6/Age = 21&quot;,&quot;7/name=Avon8/Age = 25&quot;9/name=Atman10/Age = 19&quot;]\r\n\r\nSo fair I have this code but the last line splitting doesnt really work because for this file I have to skip the very first line and then split the rest 2 lines at a time which makes it not work:\r\n\r\n    File file = new File(classLoader.getResource(&quot;name.txt&quot;).getFile());\r\n    String data = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\r\n    List&lt;String&gt; items = Arrays.asList(data.split(&quot;\\\\n\\\\n));\r\n\r\n\r\n","title":"Want to seperate string every 2 new lines and add it to array","body":"<p>I have .txt file which I convert to string. I want to store every 2 new lines starting from the 1 all the way to the last number.</p>\n<p>name.txt file:</p>\n<pre><code>imported/names/A\n1/name=Arwin\n2/Age=22\n3/name=AJ\n4/Age = 27\n5/name=Anna\n6/Age = 21\n7/name=Avon\n8/Age = 25\n9/name=Atman\n10/Age = 19\n</code></pre>\n<p>I want to store these contents in a array list seperating every 2 new lines:</p>\n<pre><code>ArrayList = [&quot;1/name=Arwin2/Age=22&quot;,&quot;3/name=AJ4/Age = 27&quot;,&quot;5/name=Anna\n6/Age = 21&quot;,&quot;7/name=Avon8/Age = 25&quot;9/name=Atman10/Age = 19&quot;]\n</code></pre>\n<p>So fair I have this code but the last line splitting doesnt really work because for this file I have to skip the very first line and then split the rest 2 lines at a time which makes it not work:</p>\n<pre><code>File file = new File(classLoader.getResource(&quot;name.txt&quot;).getFile());\nString data = FileUtils.readFileToString(file, &quot;UTF-8&quot;);\nList&lt;String&gt; items = Arrays.asList(data.split(&quot;\\\\n\\\\n));\n</code></pre>\n"},{"tags":["java","android","android-studio","android-12","android-13"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654183725,"post_id":72476603,"comment_id":128035485,"body_markdown":"It is unclear what you have in mind if you talk about saving from gallery. Please rephrase. Tell better what you do and want. Questions about saving to memory are common.","body":"It is unclear what you have in mind if you talk about saving from gallery. Please rephrase. Tell better what you do and want. Questions about saving to memory are common."}],"owner":{"account_id":25455850,"reputation":11,"user_id":19256505,"display_name":"FriendlyGamer007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663914999,"creation_date":1654174358,"question_id":72476603,"body_markdown":"Why i dont need permissions for saving a image from gallery? I dont acccept &quot;READ_EXTERNAL_STORAGE&quot;, but nevertheless i can store the image to my private app folder. I want to use permissions for comparing the &quot;old&quot; api with the new photopicker api.\r\n\r\n```\r\nif(ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED){\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},Read_Permissions);\r\n        }\r\n\r\nsingle.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent();\r\n                intent.setType(&quot;image/*&quot;);\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                startActivityForResult(Intent.createChooser(intent,&quot;Select Picture&quot;), SINGLE_PICTURE);\r\n            }\r\n        });\r\n\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode != Activity.RESULT_OK) {\r\n            Snackbar failsnackbar = Snackbar.make(findViewById(android.R.id.content), &quot;failure&quot;, Snackbar.LENGTH_LONG);\r\n            failsnackbar.show();\r\n            return;\r\n        }\r\n        String[] filePathColumn = {MediaStore.Images.Media.DATA};\r\n        imagesEncodedList = new ArrayList&lt;String&gt;();\r\n        switch (requestCode) {\r\n\r\n            case SINGLE_PICTURE:\r\n                if (data.getData() != null) {\r\n\r\n                    Uri mImageUri = data.getData();\r\n\r\n                    Bitmap bitmap = null;\r\n                    try {\r\n                        bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), mImageUri);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    saveToInternalStorage(bitmap);\r\n///other stuff\r\n\r\nprivate String saveToInternalStorage(Bitmap bitmapImage){\r\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\r\n        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        File mypath=new File(directory,timeStamp+&quot;.jpg&quot;);\r\n\r\n        FileOutputStream fos = null;\r\n        try {\r\n            fos = new FileOutputStream(mypath);\r\n image to the OutputStream\r\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return directory.getAbsolutePath();\r\n\r\n","title":"Android 12 save image from gallery","body":"<p>Why i dont need permissions for saving a image from gallery? I dont acccept &quot;READ_EXTERNAL_STORAGE&quot;, but nevertheless i can store the image to my private app folder. I want to use permissions for comparing the &quot;old&quot; api with the new photopicker api.</p>\n<pre><code>if(ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED){\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},Read_Permissions);\n        }\n\nsingle.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent();\n                intent.setType(&quot;image/*&quot;);\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(Intent.createChooser(intent,&quot;Select Picture&quot;), SINGLE_PICTURE);\n            }\n        });\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode != Activity.RESULT_OK) {\n            Snackbar failsnackbar = Snackbar.make(findViewById(android.R.id.content), &quot;failure&quot;, Snackbar.LENGTH_LONG);\n            failsnackbar.show();\n            return;\n        }\n        String[] filePathColumn = {MediaStore.Images.Media.DATA};\n        imagesEncodedList = new ArrayList&lt;String&gt;();\n        switch (requestCode) {\n\n            case SINGLE_PICTURE:\n                if (data.getData() != null) {\n\n                    Uri mImageUri = data.getData();\n\n                    Bitmap bitmap = null;\n                    try {\n                        bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), mImageUri);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    saveToInternalStorage(bitmap);\n///other stuff\n\nprivate String saveToInternalStorage(Bitmap bitmapImage){\n        ContextWrapper cw = new ContextWrapper(getApplicationContext());\n        File directory = cw.getDir(&quot;imageDir&quot;, Context.MODE_PRIVATE);\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        File mypath=new File(directory,timeStamp+&quot;.jpg&quot;);\n\n        FileOutputStream fos = null;\n        try {\n            fos = new FileOutputStream(mypath);\n image to the OutputStream\n            bitmapImage.compress(Bitmap.CompressFormat.PNG, 100, fos);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                fos.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return directory.getAbsolutePath();\n\n</code></pre>\n"},{"tags":["java","jasper-reports","subreport"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1510577125,"post_id":47264514,"comment_id":81479952,"body_markdown":"Looks like you forgot to pass parameters to subreport (from master report)","body":"Looks like you forgot to pass parameters to subreport (from master report)"},{"owner":{"account_id":9705626,"reputation":61,"user_id":7199142,"display_name":"aysegul"},"score":0,"creation_date":1510577361,"post_id":47264514,"comment_id":81480105,"body_markdown":"Thanks for your reply, but I defined the parameter in subreport and subreport shows the image (header) with only one record. The problem is that something prevents to show all records in the subreport.","body":"Thanks for your reply, but I defined the parameter in subreport and subreport shows the image (header) with only one record. The problem is that something prevents to show all records in the subreport."},{"owner":{"account_id":7774424,"reputation":2461,"user_id":5882963,"display_name":"Narcis"},"score":1,"creation_date":1510583327,"post_id":47264514,"comment_id":81483847,"body_markdown":"We could use some sample JRXML files illustrating the issue.","body":"We could use some sample JRXML files illustrating the issue."},{"owner":{"account_id":9705626,"reputation":61,"user_id":7199142,"display_name":"aysegul"},"score":0,"creation_date":1510641857,"post_id":47264514,"comment_id":81508956,"body_markdown":"I provided some code","body":"I provided some code"},{"owner":{"account_id":9705626,"reputation":61,"user_id":7199142,"display_name":"aysegul"},"score":0,"creation_date":1510642474,"post_id":47264514,"comment_id":81509256,"body_markdown":"I read an explanation of this situation, it says that image parameter prevents the subreport to run for the second time for some cases. So it shows only the first record. How can I get rid of this situation?","body":"I read an explanation of this situation, it says that image parameter prevents the subreport to run for the second time for some cases. So it shows only the first record. How can I get rid of this situation?"}],"answers":[{"tags":[],"owner":{"account_id":9705626,"reputation":61,"user_id":7199142,"display_name":"aysegul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510648553,"creation_date":1510648553,"answer_id":47281057,"question_id":47264514,"body_markdown":"I found the solution. I remove the image from the subreport and put the image in the page header of the main report. It solved my problem but I am still wondering the previous problem why it shows only one record. Thanks for your comments and valuable time.","title":"Jasper Subreport InputStream Header does not show the image","body":"<p>I found the solution. I remove the image from the subreport and put the image in the page header of the main report. It solved my problem but I am still wondering the previous problem why it shows only one record. Thanks for your comments and valuable time.</p>\n"},{"tags":[],"owner":{"account_id":958762,"reputation":4773,"user_id":983559,"display_name":"dada67"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510669044,"creation_date":1510669044,"answer_id":47288035,"question_id":47264514,"body_markdown":"Your original report showed the image only for the first record because an InputStream can only be read once.  If you use a single InputStream instance for an image element that prints several times, it will work fine the first time but then it won&#39;t be able to read any data from the stream.\r\n\r\nThere are two things that you can do.  One is to pass the image data as a byte array instead of a stream.\r\n\r\nThe second is to set `isUsingCache=&quot;true&quot;` for the image element.  This would cache the image object when first rendering the element and then use the cached image when the image element is printed again.\r\n\r\nThe second approach would be better from a performance point of view since the image data would not be read several times.  You can also combine the solutions by passing the image data as a byte array and setting the isUsingCache flag as well.","title":"Jasper Subreport InputStream Header does not show the image","body":"<p>Your original report showed the image only for the first record because an InputStream can only be read once.  If you use a single InputStream instance for an image element that prints several times, it will work fine the first time but then it won't be able to read any data from the stream.</p>\n\n<p>There are two things that you can do.  One is to pass the image data as a byte array instead of a stream.</p>\n\n<p>The second is to set <code>isUsingCache=\"true\"</code> for the image element.  This would cache the image object when first rendering the element and then use the cached image when the image element is printed again.</p>\n\n<p>The second approach would be better from a performance point of view since the image data would not be read several times.  You can also combine the solutions by passing the image data as a byte array and setting the isUsingCache flag as well.</p>\n"},{"tags":[],"owner":{"account_id":4321389,"reputation":27,"user_id":3529481,"display_name":"reza mirzaie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663914621,"creation_date":1663574175,"answer_id":73770142,"question_id":47264514,"body_markdown":"`isUsingCache=&quot;true&quot;` works for me.","title":"Jasper Subreport InputStream Header does not show the image","body":"<p><code>isUsingCache=&quot;true&quot;</code> works for me.</p>\n"}],"owner":{"account_id":9705626,"reputation":61,"user_id":7199142,"display_name":"aysegul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1663914621,"creation_date":1510576533,"question_id":47264514,"body_markdown":"I have a main report and subreport, and I pass a parameter to subreport as inputstream. I will use this parameter as a logo(image) in my subreport header. If I add the image to subreport and use this parameter, subreport shows only first record of my datasource and the image. If I do not use this image, my subreport lists all records of my datasource. I tried to put the image in detail, header, and title, but it did not work. If I use an image directly from subreport, it works well, but I need to send this parameter(filepath) from Java. \r\n\r\nWhat can be the problem? \r\n\r\nEdit: I provide some code.    \r\n\r\n\r\nMain report:\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot;         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;e-BordroIsciToplu&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;a3c2690b-2af8-4210-8775-cb69cd6557f7&quot;&gt;\r\n    \t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.5394743546921228&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.background.image.properties&quot; value=&quot;true,true,0.25,138,273,0,0,386,161&quot;/&gt;\r\n    \t&lt;parameter name=&quot;SUBREPORT_DIR&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;W:\\\\Projects\\\\modules\\\\common\\\\src\\\\resources\\\\report\\\\templates\\\\&quot;]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;parameter name=&quot;ANTET&quot; class=&quot;java.io.InputStream&quot;/&gt;\r\n    \t&lt;parameter name=&quot;AY&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;topluInfo&quot; class=&quot;java.util.List&quot;/&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;109&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;subreport runToBottom=&quot;false&quot;&gt;\r\n    \t\t\t\t&lt;reportElement positionType=&quot;Float&quot; stretchType=&quot;RelativeToTallestObject&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;533&quot; height=&quot;100&quot; uuid=&quot;cd6571c7-c8da-4120-868f-82999376c3d3&quot;/&gt;\r\n    \t\t\t\t&lt;parametersMapExpression&gt;&lt;![CDATA[]]&gt;&lt;/parametersMapExpression&gt;\r\n    \t\t\t\t&lt;subreportParameter name=&quot;SUBREPORT_DIR&quot;&gt;\r\n    \t\t\t\t\t&lt;subreportParameterExpression&gt;&lt;![CDATA[]]&gt;  &lt;/subreportParameterExpression&gt;\r\n    \t\t\t\t&lt;/subreportParameter&gt;\r\n    \t\t\t\t&lt;subreportParameter name=&quot;AY&quot;&gt;\r\n    \t\t\t\t\t&lt;subreportParameterExpression&gt;&lt;![CDATA[$P{AY}]]&gt;&lt;/subreportParameterExpression&gt;\r\n    \t\t\t\t&lt;/subreportParameter&gt;\r\n    \t\t\t\t&lt;subreportParameter name=&quot;ANTET&quot;&gt;\r\n    \t\t\t\t\t&lt;subreportParameterExpression&gt;&lt;![CDATA[$P{ANTET}]]&gt;&lt;/subreportParameterExpression&gt;\r\n    \t\t\t\t&lt;/subreportParameter&gt;\r\n    \t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{topluInfo})]]&gt;&lt;/dataSourceExpression&gt;\r\n    \t\t\t\t&lt;subreportExpression&gt;&lt;![CDATA[$P{SUBREPORT_DIR} + &quot;e-topluSubreportTest.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n    \t\t\t&lt;/subreport&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/detail&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\nSubreport:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;e-topluSubreport&quot; language=&quot;groovy&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;545&quot; leftMargin=&quot;20&quot; rightMargin=&quot;30&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;a3c2690b-2af8-4210-8775-cb69cd6557f7&quot;&gt;\r\n    \t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.5394743546921228&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.background.image.properties&quot; value=&quot;true,true,0.25,138,273,0,0,386,161&quot;/&gt;\r\n    \t&lt;parameter name=&quot;SUBREPORT_DIR&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;W:\\\\Projects\\\\modules\\\\common\\\\src\\\\resources\\\\report\\\\templates\\\\&quot;]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;parameter name=&quot;ANTET&quot; class=&quot;java.io.InputStream&quot;/&gt;\r\n    \t&lt;parameter name=&quot;AY&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;139&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;5&quot; y=&quot;105&quot; width=&quot;185&quot; height=&quot;15&quot; uuid=&quot;023f69c4-13a4-419e-b64b-d41da9f937fa&quot;/&gt;\r\n    \t\t\t\t&lt;box&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;8&quot; isBold=&quot;true&quot; pdfEncoding=&quot;Cp1254&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[  BORDRO T&#220;R&#220;  ]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;5&quot; y=&quot;120&quot; width=&quot;185&quot; height=&quot;15&quot; uuid=&quot;e7aac3af-4436-4488-9b00-e93ed875119f&quot;/&gt;\r\n    \t\t\t\t&lt;box&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;0.25&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;8&quot; isBold=&quot;true&quot; pdfEncoding=&quot;Cp1254&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[  PARA BİRİMİ]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;5&quot; y=&quot;79&quot; width=&quot;500&quot; height=&quot;15&quot; uuid=&quot;55328d4d-8ce4-44aa-9217-405be02338b6&quot;/&gt;\r\n    \t\t\t\t&lt;box&gt;\r\n    \t\t\t\t\t&lt;pen lineWidth=&quot;0.0&quot;/&gt;\r\n    \t\t\t\t\t&lt;topPen lineWidth=&quot;0.0&quot;/&gt;\r\n    \t\t\t\t\t&lt;leftPen lineWidth=&quot;0.0&quot;/&gt;\r\n    \t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.0&quot;/&gt;\r\n    \t\t\t\t\t&lt;rightPen lineWidth=&quot;0.0&quot;/&gt;\r\n    \t\t\t\t&lt;/box&gt;\r\n    \t\t\t\t&lt;textElement verticalAlignment=&quot;Middle&quot;&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;8&quot; isBold=&quot;true&quot; pdfEncoding=&quot;Cp1254&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[* test]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;image&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;5&quot; y=&quot;23&quot; width=&quot;101&quot; height=&quot;35&quot; uuid=&quot;057a515d-61a7-4f54-9c5e-234acaede0e5&quot;/&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[$P{ANTET}]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t\t&lt;band height=&quot;50&quot;/&gt;\r\n    \t&lt;/detail&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n\r\n","title":"Jasper Subreport InputStream Header does not show the image","body":"<p>I have a main report and subreport, and I pass a parameter to subreport as inputstream. I will use this parameter as a logo(image) in my subreport header. If I add the image to subreport and use this parameter, subreport shows only first record of my datasource and the image. If I do not use this image, my subreport lists all records of my datasource. I tried to put the image in detail, header, and title, but it did not work. If I use an image directly from subreport, it works well, but I need to send this parameter(filepath) from Java. </p>\n\n<p>What can be the problem? </p>\n\n<p>Edit: I provide some code.    </p>\n\n<p>Main report:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\"         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"e-BordroIsciToplu\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"a3c2690b-2af8-4210-8775-cb69cd6557f7\"&gt;\n    &lt;property name=\"ireport.zoom\" value=\"1.5394743546921228\"/&gt;\n    &lt;property name=\"ireport.x\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.y\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.background.image.properties\" value=\"true,true,0.25,138,273,0,0,386,161\"/&gt;\n    &lt;parameter name=\"SUBREPORT_DIR\" class=\"java.lang.String\" isForPrompting=\"false\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[\"W:\\\\Projects\\\\modules\\\\common\\\\src\\\\resources\\\\report\\\\templates\\\\\"]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;parameter name=\"ANTET\" class=\"java.io.InputStream\"/&gt;\n    &lt;parameter name=\"AY\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"topluInfo\" class=\"java.util.List\"/&gt;\n    &lt;detail&gt;\n        &lt;band height=\"109\" splitType=\"Stretch\"&gt;\n            &lt;subreport runToBottom=\"false\"&gt;\n                &lt;reportElement positionType=\"Float\" stretchType=\"RelativeToTallestObject\" x=\"0\" y=\"0\" width=\"533\" height=\"100\" uuid=\"cd6571c7-c8da-4120-868f-82999376c3d3\"/&gt;\n                &lt;parametersMapExpression&gt;&lt;![CDATA[]]&gt;&lt;/parametersMapExpression&gt;\n                &lt;subreportParameter name=\"SUBREPORT_DIR\"&gt;\n                    &lt;subreportParameterExpression&gt;&lt;![CDATA[]]&gt;  &lt;/subreportParameterExpression&gt;\n                &lt;/subreportParameter&gt;\n                &lt;subreportParameter name=\"AY\"&gt;\n                    &lt;subreportParameterExpression&gt;&lt;![CDATA[$P{AY}]]&gt;&lt;/subreportParameterExpression&gt;\n                &lt;/subreportParameter&gt;\n                &lt;subreportParameter name=\"ANTET\"&gt;\n                    &lt;subreportParameterExpression&gt;&lt;![CDATA[$P{ANTET}]]&gt;&lt;/subreportParameterExpression&gt;\n                &lt;/subreportParameter&gt;\n                &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{topluInfo})]]&gt;&lt;/dataSourceExpression&gt;\n                &lt;subreportExpression&gt;&lt;![CDATA[$P{SUBREPORT_DIR} + \"e-topluSubreportTest.jasper\"]]&gt;&lt;/subreportExpression&gt;\n            &lt;/subreport&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p>Subreport:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"e-topluSubreport\" language=\"groovy\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"545\" leftMargin=\"20\" rightMargin=\"30\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"a3c2690b-2af8-4210-8775-cb69cd6557f7\"&gt;\n    &lt;property name=\"ireport.zoom\" value=\"1.5394743546921228\"/&gt;\n    &lt;property name=\"ireport.x\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.y\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.background.image.properties\" value=\"true,true,0.25,138,273,0,0,386,161\"/&gt;\n    &lt;parameter name=\"SUBREPORT_DIR\" class=\"java.lang.String\" isForPrompting=\"false\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[\"W:\\\\Projects\\\\modules\\\\common\\\\src\\\\resources\\\\report\\\\templates\\\\\"]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;parameter name=\"ANTET\" class=\"java.io.InputStream\"/&gt;\n    &lt;parameter name=\"AY\" class=\"java.lang.String\"/&gt;\n    &lt;detail&gt;\n        &lt;band height=\"139\" splitType=\"Stretch\"&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"5\" y=\"105\" width=\"185\" height=\"15\" uuid=\"023f69c4-13a4-419e-b64b-d41da9f937fa\"/&gt;\n                &lt;box&gt;\n                    &lt;pen lineWidth=\"0.25\"/&gt;\n                    &lt;topPen lineWidth=\"0.25\"/&gt;\n                    &lt;leftPen lineWidth=\"0.25\"/&gt;\n                    &lt;bottomPen lineWidth=\"0.25\"/&gt;\n                    &lt;rightPen lineWidth=\"0.25\"/&gt;\n                &lt;/box&gt;\n                &lt;textElement verticalAlignment=\"Middle\"&gt;\n                    &lt;font size=\"8\" isBold=\"true\" pdfEncoding=\"Cp1254\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[  BORDRO TÜRÜ  ]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"5\" y=\"120\" width=\"185\" height=\"15\" uuid=\"e7aac3af-4436-4488-9b00-e93ed875119f\"/&gt;\n                &lt;box&gt;\n                    &lt;pen lineWidth=\"0.25\"/&gt;\n                    &lt;topPen lineWidth=\"0.25\"/&gt;\n                    &lt;leftPen lineWidth=\"0.25\"/&gt;\n                    &lt;bottomPen lineWidth=\"0.25\"/&gt;\n                    &lt;rightPen lineWidth=\"0.25\"/&gt;\n                &lt;/box&gt;\n                &lt;textElement verticalAlignment=\"Middle\"&gt;\n                    &lt;font size=\"8\" isBold=\"true\" pdfEncoding=\"Cp1254\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[  PARA BİRİMİ]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"5\" y=\"79\" width=\"500\" height=\"15\" uuid=\"55328d4d-8ce4-44aa-9217-405be02338b6\"/&gt;\n                &lt;box&gt;\n                    &lt;pen lineWidth=\"0.0\"/&gt;\n                    &lt;topPen lineWidth=\"0.0\"/&gt;\n                    &lt;leftPen lineWidth=\"0.0\"/&gt;\n                    &lt;bottomPen lineWidth=\"0.0\"/&gt;\n                    &lt;rightPen lineWidth=\"0.0\"/&gt;\n                &lt;/box&gt;\n                &lt;textElement verticalAlignment=\"Middle\"&gt;\n                    &lt;font size=\"8\" isBold=\"true\" pdfEncoding=\"Cp1254\"/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[* test]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;image&gt;\n                &lt;reportElement x=\"5\" y=\"23\" width=\"101\" height=\"35\" uuid=\"057a515d-61a7-4f54-9c5e-234acaede0e5\"/&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[$P{ANTET}]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n        &lt;/band&gt;\n        &lt;band height=\"50\"/&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n"},{"tags":["java","xpages","recycle","domino-designer-eclipse"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1663836840,"post_id":73811708,"comment_id":130334482,"body_markdown":"what do you mean &quot;recycled&quot;?","body":"what do you mean &quot;recycled&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663914543,"creation_date":1663836983,"answer_id":73811867,"question_id":73811708,"body_markdown":"Return the entry as soon as you find it:\r\n\r\n    public ViewEntry getStdTime(DateTime input,String key){\r\n        \r\n        ViewEntryCollection checkColl  = v.getAllEntriesByKey(key, true);\r\n        ViewEntry checkEntry;\r\n        ViewEntry checkTmpEntry = null;\r\n                \r\n        checkEntry = checkColl.getFirstEntry();\r\n        while (checkEntry != null) {\r\n            String xStartDate = checkEntry.getColumnValues().get(2);\r\n            DateTime dtx = session.createDateTime(xStartDate); \r\n            if (dtx.toJavaDate().compareTo(input.toJavaDate()) &lt;= 0) {\r\n                return checkEntry;\r\n            }\r\n            checkTmpEntry = checkColl.getNextEntry(checkEntry);\r\n            checkEntry.recycle();\r\n            checkEntry = checkTmpEntry;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nAlternatively you can change your method to return the universal id of the document (using `checkEntry.getUniversalID()`) and then use that to get the document and the needed fields.","title":"How to return a new object when the current object is recycled in Java","body":"<p>Return the entry as soon as you find it:</p>\n<pre><code>public ViewEntry getStdTime(DateTime input,String key){\n    \n    ViewEntryCollection checkColl  = v.getAllEntriesByKey(key, true);\n    ViewEntry checkEntry;\n    ViewEntry checkTmpEntry = null;\n            \n    checkEntry = checkColl.getFirstEntry();\n    while (checkEntry != null) {\n        String xStartDate = checkEntry.getColumnValues().get(2);\n        DateTime dtx = session.createDateTime(xStartDate); \n        if (dtx.toJavaDate().compareTo(input.toJavaDate()) &lt;= 0) {\n            return checkEntry;\n        }\n        checkTmpEntry = checkColl.getNextEntry(checkEntry);\n        checkEntry.recycle();\n        checkEntry = checkTmpEntry;\n    }\n\n    return null;\n}\n</code></pre>\n<p>Alternatively you can change your method to return the universal id of the document (using <code>checkEntry.getUniversalID()</code>) and then use that to get the document and the needed fields.</p>\n"},{"tags":[],"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663837795,"creation_date":1663837795,"answer_id":73812042,"question_id":73811708,"body_markdown":"Maybe there&#39;s a more elegant solution but this should do the job if I got it correctly:\r\n\r\n\r\n    public ViewEntry getStdTime(DateTime input,String key){\r\n    \t\t\r\n    \t\tViewEntryCollection checkColl  = v.getAllEntriesByKey(key, true);\r\n    \t\tViewEntry checkEntry;\r\n    \t\tViewEntry checkTmpEntry = null;\r\n    \t\tViewEntry matchEntry = null;\r\n    \t\t\t\t\r\n    \t\tcheckEntry = checkColl.getFirstEntry();\r\n    \t\twhile (checkEntry != null) {\r\n    \t\t\tString xStartDate = checkEntry.getColumnValues().get(2);\r\n    \t\t\tDateTime dtx = session.createDateTime(xStartDate); \r\n    \t\t\tif (dtx.toJavaDate().compareTo(input.toJavaDate()) &lt;= 0) {\r\n                    if (matchEntry != null)\r\n                      matchEntry.recycle();\r\n    \t\t\t\tmatchEntry = checkEntry;\r\n    \t\t\t}\r\n    \t\t\tcheckTmpEntry = checkColl.getNextEntry(checkEntry);\r\n\r\n                if (!checkEntry.equals(matchEntry))\r\n    \t\t\t  checkEntry.recycle();\r\n\r\n    \t\t\tcheckEntry = checkTmpEntry;\r\n    \t\t}\r\n    \t\treturn matchEntry;\r\n    \t}\r\n\r\nThe only non-recycled entry shoud be the last matched one","title":"How to return a new object when the current object is recycled in Java","body":"<p>Maybe there's a more elegant solution but this should do the job if I got it correctly:</p>\n<pre><code>public ViewEntry getStdTime(DateTime input,String key){\n        \n        ViewEntryCollection checkColl  = v.getAllEntriesByKey(key, true);\n        ViewEntry checkEntry;\n        ViewEntry checkTmpEntry = null;\n        ViewEntry matchEntry = null;\n                \n        checkEntry = checkColl.getFirstEntry();\n        while (checkEntry != null) {\n            String xStartDate = checkEntry.getColumnValues().get(2);\n            DateTime dtx = session.createDateTime(xStartDate); \n            if (dtx.toJavaDate().compareTo(input.toJavaDate()) &lt;= 0) {\n                if (matchEntry != null)\n                  matchEntry.recycle();\n                matchEntry = checkEntry;\n            }\n            checkTmpEntry = checkColl.getNextEntry(checkEntry);\n\n            if (!checkEntry.equals(matchEntry))\n              checkEntry.recycle();\n\n            checkEntry = checkTmpEntry;\n        }\n        return matchEntry;\n    }\n</code></pre>\n<p>The only non-recycled entry shoud be the last matched one</p>\n"}],"owner":{"account_id":1195952,"reputation":3553,"user_id":1167687,"accept_rate":60,"display_name":"Thomas Adrian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73811867,"answer_count":2,"score":0,"last_activity_date":1663914543,"creation_date":1663836114,"question_id":73811708,"body_markdown":"In the following code the returned matchEntry is recycled, how can I fix that so that the returned matchEntry is not recycled.\r\n\r\nI want the last matched entry in the loop to be returned\r\n\r\nThe object.clone() method does not seem to be available, and object.getClass().newInstance() doesn&#39;t seem to work.\r\n\r\n\r\n    public ViewEntry getStdTime(DateTime input,String key){\r\n    \t\t\r\n    \t\tViewEntryCollection checkColl  = v.getAllEntriesByKey(key, true);\r\n    \t\tViewEntry checkEntry;\r\n    \t\tViewEntry checkTmpEntry = null;\r\n    \t\tViewEntry matchEntry = null;\r\n    \t\t\t\t\r\n    \t\tcheckEntry = checkColl.getFirstEntry();\r\n    \t\twhile (checkEntry != null) {\r\n    \t\t\tString xStartDate = checkEntry.getColumnValues().get(2);\r\n    \t\t\tDateTime dtx = session.createDateTime(xStartDate); \r\n    \t\t\tif (dtx.toJavaDate().compareTo(input.toJavaDate()) &lt;= 0) {\r\n    \t\t\t\tmatchEntry = checkEntry;\r\n    \t\t\t}\r\n    \t\t\tcheckTmpEntry = checkColl.getNextEntry(checkEntry);\r\n    \t\t\tcheckEntry.recycle();\r\n    \t\t\tcheckEntry = checkTmpEntry;\r\n    \t\t}\r\n    \t\treturn matchEntry;\r\n    \t}\r\n    \t\t\t","title":"How to return a new object when the current object is recycled in Java","body":"<p>In the following code the returned matchEntry is recycled, how can I fix that so that the returned matchEntry is not recycled.</p>\n<p>I want the last matched entry in the loop to be returned</p>\n<p>The object.clone() method does not seem to be available, and object.getClass().newInstance() doesn't seem to work.</p>\n<pre><code>public ViewEntry getStdTime(DateTime input,String key){\n        \n        ViewEntryCollection checkColl  = v.getAllEntriesByKey(key, true);\n        ViewEntry checkEntry;\n        ViewEntry checkTmpEntry = null;\n        ViewEntry matchEntry = null;\n                \n        checkEntry = checkColl.getFirstEntry();\n        while (checkEntry != null) {\n            String xStartDate = checkEntry.getColumnValues().get(2);\n            DateTime dtx = session.createDateTime(xStartDate); \n            if (dtx.toJavaDate().compareTo(input.toJavaDate()) &lt;= 0) {\n                matchEntry = checkEntry;\n            }\n            checkTmpEntry = checkColl.getNextEntry(checkEntry);\n            checkEntry.recycle();\n            checkEntry = checkTmpEntry;\n        }\n        return matchEntry;\n    }\n            \n</code></pre>\n"},{"tags":["java","selenium","jenkins","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":2272389,"reputation":1347,"user_id":1999453,"accept_rate":67,"display_name":"user1999453"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663914517,"creation_date":1663914053,"answer_id":73823701,"question_id":73814310,"body_markdown":"I manage to fix the issue by installing chrome on my Centos. Please find link below for installation:\r\n\r\n[link][1]\r\n\r\n\r\n  [1]: https://www.cyberciti.biz/faq/howto-install-google-chrome-on-redhat-rhel-fedora-centos-linux/\r\n\r\nPosted it just in case someone else come across this issue.","title":"Jenkins : pipeline error - cannot find Chrome binary","body":"<p>I manage to fix the issue by installing chrome on my Centos. Please find link below for installation:</p>\n<p><a href=\"https://www.cyberciti.biz/faq/howto-install-google-chrome-on-redhat-rhel-fedora-centos-linux/\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Posted it just in case someone else come across this issue.</p>\n"}],"owner":{"account_id":2272389,"reputation":1347,"user_id":1999453,"accept_rate":67,"display_name":"user1999453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663914517,"creation_date":1663848165,"question_id":73814310,"body_markdown":"I have created a pipeline on jenkins (Centos server) and trying a run selenium test (command: mvn clean install) but during the build phase on jenkin the following error is displayed:\r\n\r\n    Running mu.automate.TestCaseService\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Starting ChromeDriver 106.0.5249.21 (71f4e2c9a6f38f5550a8ea29a984a08304554956-refs/branch-heads/5249@{#228}) on port 40216\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Tests run: 3, Failures: 2, Errors: 0, Skipped: 1, Time elapsed: 1.243 sec &lt;&lt;&lt; FAILURE!\r\n    \r\n    Results :\r\n    \r\n    Failed tests:   setUp(dummy.automate.TestCaseService): Could not start a new session. Response code 500. Message: unknown error: cannot find Chrome binary\r\n      tearDown(dummy.automate.TestCaseService)\r\n    \r\n    Tests run: 3, Failures: 2, Errors: 0, Skipped: 1\r\n\r\nI have downloaded the latest driver from the link below:\r\n\r\n[https://chromedriver.chromium.org/downloads][1]\r\n\r\n\r\n  [1]: https://chromedriver.chromium.org/downloads\r\n\r\nI have added the driver on the path as follows on  my centos server where jenkins is installed:\r\n\r\n    /opt/chromedriver\r\n\r\nThen in the code for the driver to load in the test is as follows:\r\n\r\n       System.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n                    &quot;/opt/chromedriver&quot;);\r\nBased on the online resource it looks like an incompatibility issue between the driver and the  browser but I don&#39;t how how to check it. \r\n\r\nCan anyone point me out what I am doing wrong please?","title":"Jenkins : pipeline error - cannot find Chrome binary","body":"<p>I have created a pipeline on jenkins (Centos server) and trying a run selenium test (command: mvn clean install) but during the build phase on jenkin the following error is displayed:</p>\n<pre><code>Running mu.automate.TestCaseService\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 106.0.5249.21 (71f4e2c9a6f38f5550a8ea29a984a08304554956-refs/branch-heads/5249@{#228}) on port 40216\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nTests run: 3, Failures: 2, Errors: 0, Skipped: 1, Time elapsed: 1.243 sec &lt;&lt;&lt; FAILURE!\n\nResults :\n\nFailed tests:   setUp(dummy.automate.TestCaseService): Could not start a new session. Response code 500. Message: unknown error: cannot find Chrome binary\n  tearDown(dummy.automate.TestCaseService)\n\nTests run: 3, Failures: 2, Errors: 0, Skipped: 1\n</code></pre>\n<p>I have downloaded the latest driver from the link below:</p>\n<p><a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a></p>\n<p>I have added the driver on the path as follows on  my centos server where jenkins is installed:</p>\n<pre><code>/opt/chromedriver\n</code></pre>\n<p>Then in the code for the driver to load in the test is as follows:</p>\n<pre><code>   System.setProperty(&quot;webdriver.chrome.driver&quot;,\n                &quot;/opt/chromedriver&quot;);\n</code></pre>\n<p>Based on the online resource it looks like an incompatibility issue between the driver and the  browser but I don't how how to check it.</p>\n<p>Can anyone point me out what I am doing wrong please?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":2,"creation_date":1663763424,"post_id":73800514,"comment_id":130315222,"body_markdown":"can you please share error msg?","body":"can you please share error msg?"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":1,"creation_date":1663767833,"post_id":73800514,"comment_id":130316974,"body_markdown":"remove this --&gt;  wishlist_models = new ArrayList&lt;&gt;(); from your code","body":"remove this --&gt;  wishlist_models = new ArrayList&lt;&gt;(); from your code"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663773790,"post_id":73800514,"comment_id":130319438,"body_markdown":"@AdityaNandardhane brother now it is throwing     java.lang.NullPointerException: Attempt to invoke interface method &#39;java.lang.Object java.util.List.get(int)&#39; on a null object reference","body":"@AdityaNandardhane brother now it is throwing     java.lang.NullPointerException: Attempt to invoke interface method &#39;java.lang.Object java.util.List.get(int)&#39; on a null object reference"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663829286,"post_id":73800514,"comment_id":130331930,"body_markdown":"Have you solved the issue?","body":"Have you solved the issue?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663829416,"post_id":73800514,"comment_id":130331979,"body_markdown":"@AlexMamo no sir","body":"@AlexMamo no sir"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663829598,"post_id":73800514,"comment_id":130332031,"body_markdown":"Then what exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"Then what exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663829648,"post_id":73800514,"comment_id":130332046,"body_markdown":"yes sir it is giving me null pointer exception","body":"yes sir it is giving me null pointer exception"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663829760,"post_id":73800514,"comment_id":130332082,"body_markdown":"so as shown in the code above sir i am trying to add data to wishlist fragment through home fragment if someone clicks on the wishlist icon in home frag. and when someone uncheck it i want it to delete","body":"so as shown in the code above sir i am trying to add data to wishlist fragment through home fragment if someone clicks on the wishlist icon in home frag. and when someone uncheck it i want it to delete"},{"owner":{"display_name":"user19337332"},"score":0,"creation_date":1663844986,"post_id":73800514,"comment_id":130337426,"body_markdown":"Can you upload your wishlist _model. And Firestore collections details.","body":"Can you upload your wishlist _model. And Firestore collections details."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663845697,"post_id":73800514,"comment_id":130337701,"body_markdown":"@Younus please check","body":"@Younus please check"},{"owner":{"display_name":"user19337332"},"score":0,"creation_date":1663845948,"post_id":73800514,"comment_id":130337779,"body_markdown":"I suggest this error is because the position: 2 is in int(number). Try to change into string.","body":"I suggest this error is because the position: 2 is in int(number). Try to change into string."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663846556,"post_id":73800514,"comment_id":130338014,"body_markdown":"but sir this same deleting method is working fine in wishlist fragment","body":"but sir this same deleting method is working fine in wishlist fragment"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663846585,"post_id":73800514,"comment_id":130338029,"body_markdown":"@Younus but when i am trying to delete it through home fragment then it is giving me error","body":"@Younus but when i am trying to delete it through home fragment then it is giving me error"},{"owner":{"display_name":"user19337332"},"score":0,"creation_date":1663850224,"post_id":73800514,"comment_id":130339351,"body_markdown":"Try to delete it from whishlist fragment.","body":"Try to delete it from whishlist fragment."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663850544,"post_id":73800514,"comment_id":130339466,"body_markdown":"@Younus yes it is working fine through wishlist fragment.","body":"@Younus yes it is working fine through wishlist fragment."},{"owner":{"display_name":"user19337332"},"score":0,"creation_date":1663850792,"post_id":73800514,"comment_id":130339585,"body_markdown":"Now I am answering. It will help another person.","body":"Now I am answering. It will help another person."},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663866587,"post_id":73800514,"comment_id":130345914,"body_markdown":"@AlexMamo sir can you help me with that?","body":"@AlexMamo sir can you help me with that?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663869168,"post_id":73800514,"comment_id":130346762,"body_markdown":"@AdityaNandardhane hey brothr can you please help me with this??","body":"@AdityaNandardhane hey brothr can you please help me with this??"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663916535,"post_id":73800514,"comment_id":130355994,"body_markdown":"Did Younus&#39;s answer solve your problem?","body":"Did Younus&#39;s answer solve your problem?"},{"owner":{"display_name":"user20008723"},"score":0,"creation_date":1663950298,"post_id":73800514,"comment_id":130367918,"body_markdown":"@AlexMamo no sir it did not solve the problem","body":"@AlexMamo no sir it did not solve the problem"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1663962611,"post_id":73800514,"comment_id":130371166,"body_markdown":"As I see, it has three upvotes. Why isn&#39;t solving your problem?","body":"As I see, it has three upvotes. Why isn&#39;t solving your problem?"}],"owner":{"display_name":"user20008723"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663914301,"creation_date":1663762319,"question_id":73800514,"body_markdown":"I am working on an application where I have a wishlist checkbox(heart icon) on my recyclerview items at Home Fragment, So when the user clicks on the heart icon it adds that particular item to the Wishlist Fragment, and when the user again clicks it, I want it to delete the item from the wishlist fragment. While adding the item it is working properly but when I try to delete it, it is not working and gives me a null pointer error.\r\n\r\nCODE IS HERE\r\n\r\n      holder.wishlist.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n\r\n                Boolean isCheck = compoundButton.isChecked();\r\n\r\n                //CODE TO ADD THE ITEM TO THE WISHLIST THROUGH HOME FRAGMENT\r\n                if(isCheck)\r\n                {\r\n\r\n                    firebaseFirestore.collection(&quot;wishlistDetails&quot;).document(uid).set(wishMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                            if (task.isSuccessful())\r\n                            {\r\n                                holder.wishlist.setButtonDrawable(R.drawable.ic_favorite_filled);\r\n                                Toast.makeText(context, &quot;item added to wishlist&quot; + pos , Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                            }\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n\r\n\r\n                        }\r\n                    });\r\n\r\n                  //CODE TO DELETE THE ITEM FROM WISHLIST THROUGH HOME FRAGMENT  \r\n                }else {\r\n\r\n                    firebaseFirestore.collection(&quot;wishlistDetails&quot;).document(wishlist_models.get(position).getUid())\r\n                            .delete()\r\n                            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n\r\n                                    Toast.makeText(context, &quot;item removed from wishlist&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n\r\n                            Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                }\r\n\r\n**WISHLIST MODEL CODE**\r\n\r\n    public class Wishlist_Model {\r\n\r\n    private List&lt;String&gt; images;\r\n    private String name;\r\n    private String email;\r\n    private String delete;\r\n    private String uid;\r\n\r\n    public Wishlist_Model()  {\r\n    }\r\n\r\n    public Wishlist_Model(List&lt;String&gt; images, String name, String email, String delete, String uid) {\r\n        this.images = images;\r\n        this.name = name;\r\n        this.email = email;\r\n        this.delete = delete;\r\n        this.uid = uid;\r\n\r\n    }\r\n\r\n    \r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getDelete() {\r\n        return delete;\r\n    }\r\n\r\n    public void setDelete(String delete) {\r\n        this.delete = delete;\r\n    }\r\n\r\n    public List&lt;String&gt; getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(List&lt;String&gt; images) {\r\n        this.images = images;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n\r\n    \r\n}\r\n\r\n**FIRESTORE COLLECTION**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nERROR IT IS THROWING\r\n\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;java.lang.Object java.util.List.get(int)&#39; on a null object reference\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/waMmi.png","title":"Deleting Firestore data from another fragment android","body":"<p>I am working on an application where I have a wishlist checkbox(heart icon) on my recyclerview items at Home Fragment, So when the user clicks on the heart icon it adds that particular item to the Wishlist Fragment, and when the user again clicks it, I want it to delete the item from the wishlist fragment. While adding the item it is working properly but when I try to delete it, it is not working and gives me a null pointer error.</p>\n<p>CODE IS HERE</p>\n<pre><code>  holder.wishlist.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n\n            Boolean isCheck = compoundButton.isChecked();\n\n            //CODE TO ADD THE ITEM TO THE WISHLIST THROUGH HOME FRAGMENT\n            if(isCheck)\n            {\n\n                firebaseFirestore.collection(&quot;wishlistDetails&quot;).document(uid).set(wishMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                        if (task.isSuccessful())\n                        {\n                            holder.wishlist.setButtonDrawable(R.drawable.ic_favorite_filled);\n                            Toast.makeText(context, &quot;item added to wishlist&quot; + pos , Toast.LENGTH_SHORT).show();\n\n\n                        }\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n\n\n                    }\n                });\n\n              //CODE TO DELETE THE ITEM FROM WISHLIST THROUGH HOME FRAGMENT  \n            }else {\n\n                firebaseFirestore.collection(&quot;wishlistDetails&quot;).document(wishlist_models.get(position).getUid())\n                        .delete()\n                        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                                Toast.makeText(context, &quot;item removed from wishlist&quot;, Toast.LENGTH_SHORT).show();\n\n                            }\n                        }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n\n                        Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n</code></pre>\n<p><strong>WISHLIST MODEL CODE</strong></p>\n<pre><code>public class Wishlist_Model {\n\nprivate List&lt;String&gt; images;\nprivate String name;\nprivate String email;\nprivate String delete;\nprivate String uid;\n\npublic Wishlist_Model()  {\n}\n\npublic Wishlist_Model(List&lt;String&gt; images, String name, String email, String delete, String uid) {\n    this.images = images;\n    this.name = name;\n    this.email = email;\n    this.delete = delete;\n    this.uid = uid;\n\n}\n\n\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getDelete() {\n    return delete;\n}\n\npublic void setDelete(String delete) {\n    this.delete = delete;\n}\n\npublic List&lt;String&gt; getImages() {\n    return images;\n}\n\npublic void setImages(List&lt;String&gt; images) {\n    this.images = images;\n}\n\npublic String getUid() {\n    return uid;\n}\n\npublic void setUid(String uid) {\n    this.uid = uid;\n}\n</code></pre>\n<p>}</p>\n<p><strong>FIRESTORE COLLECTION</strong></p>\n<p><a href=\"https://i.stack.imgur.com/waMmi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/waMmi.png\" alt=\"enter image description here\" /></a></p>\n<p>ERROR IT IS THROWING</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'java.lang.Object java.util.List.get(int)' on a null object reference\n</code></pre>\n"},{"tags":["java","maven","spring-boot"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1521376508,"post_id":49347914,"comment_id":85695494,"body_markdown":"You are trying to use unix/mac command in Windows which doesn&#39;t work. You need to directly run `mvnw.cmd` for example.","body":"You are trying to use unix/mac command in Windows which doesn&#39;t work. You need to directly run <code>mvnw.cmd</code> for example."},{"owner":{"account_id":5003803,"reputation":2949,"user_id":5882375,"accept_rate":67,"display_name":"Alessandro Argentieri"},"score":0,"creation_date":1521376723,"post_id":49347914,"comment_id":85695557,"body_markdown":"I get this: C:\\Users\\DeboraPC\\Downloads\\demoRossini&gt;mvnw.cmd\n&#39;mvnw.cmd&#39; is not recognized as an internal or external command,\noperable program or batch file.","body":"I get this: C:\\Users\\DeboraPC\\Downloads\\demoRossini&gt;mvnw.cmd &#39;mvnw.cmd&#39; is not recognized as an internal or external command, operable program or batch file."}],"answers":[{"tags":[],"owner":{"account_id":2807609,"reputation":103,"user_id":7102108,"display_name":"coopernetes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521389098,"creation_date":1521389098,"answer_id":49349997,"question_id":49347914,"body_markdown":"You need to descend one more directory level down from what I can tell in your screenshot.\r\n\r\n    cd C:\\Users\\DeboraPC\\Downloads\\demoRossini\\demoRossini\r\n    mvnw clean install","title":"Maven Wrapper not working on Windows OS","body":"<p>You need to descend one more directory level down from what I can tell in your screenshot.</p>\n\n<pre><code>cd C:\\Users\\DeboraPC\\Downloads\\demoRossini\\demoRossini\nmvnw clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6093111,"reputation":1,"user_id":4754794,"display_name":"Yossi Yaari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663914195,"creation_date":1663496910,"answer_id":73761947,"question_id":49347914,"body_markdown":"In windows cmd `&quot;mvnw clean test&quot;` worked\r\nIn Intellij terminal `&quot;.\\mvnw clean test&quot;` worked\r\n\r\nI hope that helps.","title":"Maven Wrapper not working on Windows OS","body":"<p>In windows cmd <code>&quot;mvnw clean test&quot;</code> worked\nIn Intellij terminal <code>&quot;.\\mvnw clean test&quot;</code> worked</p>\n<p>I hope that helps.</p>\n"}],"owner":{"account_id":5003803,"reputation":2949,"user_id":5882375,"accept_rate":67,"display_name":"Alessandro Argentieri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8042,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":49349997,"answer_count":2,"score":0,"last_activity_date":1663914195,"creation_date":1521376394,"question_id":49347914,"body_markdown":"I always use a Mac at work and build my Spring and Spring Boot apps using command line and using maven installed. So normally I write:\r\n\r\n    mvn clean install\r\n\r\nNow I was using my girlfriend Windows PC and I don&#39;t want to install maven on it. My idea was to use the maven wrapper provided by Spring initializer when you open a new project from IntelliJ IDEA CE.\r\n\r\nI&#39;ve tried many combinations by the command line windows within IntelliJ but the command is always not recognized. \r\nWhat am I getting wrong?\r\n\r\nI&#39;ve tried:\r\n\r\n    ./mvnw clean\r\n    ./mvn clean\r\n    mvnw.cmd clean\r\n    ./mvnw.cmd clean\r\n    \r\nbut with no results at all. I attach the image of the project with the maven wrapper folder opened to show its contents.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sxtF8.png","title":"Maven Wrapper not working on Windows OS","body":"<p>I always use a Mac at work and build my Spring and Spring Boot apps using command line and using maven installed. So normally I write:</p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>Now I was using my girlfriend Windows PC and I don't want to install maven on it. My idea was to use the maven wrapper provided by Spring initializer when you open a new project from IntelliJ IDEA CE.</p>\n\n<p>I've tried many combinations by the command line windows within IntelliJ but the command is always not recognized. \nWhat am I getting wrong?</p>\n\n<p>I've tried:</p>\n\n<pre><code>./mvnw clean\n./mvn clean\nmvnw.cmd clean\n./mvnw.cmd clean\n</code></pre>\n\n<p>but with no results at all. I attach the image of the project with the maven wrapper folder opened to show its contents.\n<a href=\"https://i.stack.imgur.com/sxtF8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sxtF8.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361450719,"creation_date":1361450719,"answer_id":15002599,"question_id":15002481,"body_markdown":"Here is the answer of you question\r\n\r\n\r\n\r\n&gt; What diference between classical hibernate approach using   \r\n&gt; org.hibernate.SessionFactory and JPA javax.persistence.EntityManager  \r\n&gt; implementation?\r\n\r\n    org.hibernate.SessionFactory \r\n\r\nif you change the undeline ORM to IBatis(for e.g) you need to change the code as well.\r\n\r\n    javax.persistence.EntityManager \r\n\r\nif you change the undeline ORM to IBatis(for e.g) you dont need to change the code.\r\n\r\n\r\n","title":"Difference between Hibernate and Hibernate JPA","body":"<p>Here is the answer of you question</p>\n\n<blockquote>\n  <p>What diference between classical hibernate approach using<br>\n  org.hibernate.SessionFactory and JPA javax.persistence.EntityManager<br>\n  implementation?</p>\n</blockquote>\n\n<pre><code>org.hibernate.SessionFactory \n</code></pre>\n\n<p>if you change the undeline ORM to IBatis(for e.g) you need to change the code as well.</p>\n\n<pre><code>javax.persistence.EntityManager \n</code></pre>\n\n<p>if you change the undeline ORM to IBatis(for e.g) you dont need to change the code.</p>\n"},{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1361451204,"creation_date":1361451204,"answer_id":15002754,"question_id":15002481,"body_markdown":"Indeed.&lt;br/&gt;\r\n\r\nJPA is simply an API that allows you to abstract from the used persistence layer. Hibernate provides an implementation of the `EntityManager` interface that acts as an `adapter` - it uses the same underlying methods as a hibernate `SessionManager`.&lt;br/&gt;\r\n\r\nThe idea is that you could, for example, switch your implementation to Eclipse Link and not have to change any of your source code.","title":"Difference between Hibernate and Hibernate JPA","body":"<p>Indeed.<br/></p>\n\n<p>JPA is simply an API that allows you to abstract from the used persistence layer. Hibernate provides an implementation of the <code>EntityManager</code> interface that acts as an <code>adapter</code> - it uses the same underlying methods as a hibernate <code>SessionManager</code>.<br/></p>\n\n<p>The idea is that you could, for example, switch your implementation to Eclipse Link and not have to change any of your source code.</p>\n"},{"tags":[],"owner":{"account_id":157982,"reputation":4128,"user_id":376287,"accept_rate":83,"display_name":"Badal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392197308,"creation_date":1392197308,"answer_id":21723698,"question_id":15002481,"body_markdown":"To your First question,\r\n\r\nJPA is a Java API specification which describes the management of relational data in applications using Java Platform. where as Hibernate is a ORM (Object Relational Mapping) library which follows JPA specification.\r\n\r\nYou can think JPA as a set of Rules which is implemented by Hibernate.\r\n\r\nAnd answer for your second question,\r\n\r\nAs JPA is just an abstracted persistence layer it requires implementation. and Hibernate implements EntityManager interface that uses hibernate SessionManager.\r\n\r\nIn this way, you are completely detached from the implementation way, means you can switch to any of Hibernate or OenJPA or any other whenever you want, no additional code changes required.","title":"Difference between Hibernate and Hibernate JPA","body":"<p>To your First question,</p>\n\n<p>JPA is a Java API specification which describes the management of relational data in applications using Java Platform. where as Hibernate is a ORM (Object Relational Mapping) library which follows JPA specification.</p>\n\n<p>You can think JPA as a set of Rules which is implemented by Hibernate.</p>\n\n<p>And answer for your second question,</p>\n\n<p>As JPA is just an abstracted persistence layer it requires implementation. and Hibernate implements EntityManager interface that uses hibernate SessionManager.</p>\n\n<p>In this way, you are completely detached from the implementation way, means you can switch to any of Hibernate or OenJPA or any other whenever you want, no additional code changes required.</p>\n"},{"tags":[],"owner":{"account_id":5318291,"reputation":51,"user_id":4242422,"display_name":"Vipin Singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1415770003,"creation_date":1415770003,"answer_id":26879876,"question_id":15002481,"body_markdown":"JPA is just a specification, meaning there is no implementation. You can annotate your classes as much as you would like with JPA annotations, however without an implementation nothing will happen. Think of JPA as the guidelines that must be followed or an interface, while Hibernate&#39;s JPA implementation is code that meets the API as defined by the JPA specification and provides the under the hood functionality.\r\n\r\nWhen you use Hibernate with JPA you are actually using the **Hibernate JPA implementation**. The benefit of this is that you can swap out Hibernate&#39;s implementation of JPA for another implementation of the JPA specification. When you use straight **Hibernate you are locking into the implementation** because other ORMs may use different methods/configurations and annotations, therefore you cannot just switch over to another ORM.","title":"Difference between Hibernate and Hibernate JPA","body":"<p>JPA is just a specification, meaning there is no implementation. You can annotate your classes as much as you would like with JPA annotations, however without an implementation nothing will happen. Think of JPA as the guidelines that must be followed or an interface, while Hibernate's JPA implementation is code that meets the API as defined by the JPA specification and provides the under the hood functionality.</p>\n\n<p>When you use Hibernate with JPA you are actually using the <strong>Hibernate JPA implementation</strong>. The benefit of this is that you can swap out Hibernate's implementation of JPA for another implementation of the JPA specification. When you use straight <strong>Hibernate you are locking into the implementation</strong> because other ORMs may use different methods/configurations and annotations, therefore you cannot just switch over to another ORM.</p>\n"},{"tags":[],"owner":{"account_id":20506220,"reputation":1455,"user_id":15048947,"display_name":"Md. Shahariar Hossen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663913273,"creation_date":1663913273,"answer_id":73823616,"question_id":15002481,"body_markdown":"| Keyword       | JPA                                                                                                                                           | Hibernate                                                                                                                         |\r\n| ------------- | --------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |\r\n| Location      | Described in `javax.persistence` package                                                                                                      | Described in `org.hibernate`                                                                                                      |\r\n| Intent        | It&#39;s only Java speicification                                                                                                                 | It&#39;s is an implementation of JPA.                                                                                                 |\r\n| Functionality | It describes the handling of relational data in Java applications                                                                             | Hibernate is an Obejct relational mapping (ORM) tool that is used to save the Java objects in the relational database system      |\r\n| Standard API  | It&#39;s a standard API that permits to perform database operations                                                                               | It is used in mapping Java data types with SQL data types and database tables                                                     |\r\n| CRUD action   | To perform CRUD actions for instances of mapped entity classes, it uses `EntityManager` interface which is supplied by `EntityManagerFactory` | To perform CRUD actions for instances of mapped entity classes, it uses `Session` interface which is supplied by `SessionFactory` |","title":"Difference between Hibernate and Hibernate JPA","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Keyword</th>\n<th>JPA</th>\n<th>Hibernate</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Location</td>\n<td>Described in <code>javax.persistence</code> package</td>\n<td>Described in <code>org.hibernate</code></td>\n</tr>\n<tr>\n<td>Intent</td>\n<td>It's only Java speicification</td>\n<td>It's is an implementation of JPA.</td>\n</tr>\n<tr>\n<td>Functionality</td>\n<td>It describes the handling of relational data in Java applications</td>\n<td>Hibernate is an Obejct relational mapping (ORM) tool that is used to save the Java objects in the relational database system</td>\n</tr>\n<tr>\n<td>Standard API</td>\n<td>It's a standard API that permits to perform database operations</td>\n<td>It is used in mapping Java data types with SQL data types and database tables</td>\n</tr>\n<tr>\n<td>CRUD action</td>\n<td>To perform CRUD actions for instances of mapped entity classes, it uses <code>EntityManager</code> interface which is supplied by <code>EntityManagerFactory</code></td>\n<td>To perform CRUD actions for instances of mapped entity classes, it uses <code>Session</code> interface which is supplied by <code>SessionFactory</code></td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":2321359,"reputation":303,"user_id":2067511,"accept_rate":100,"display_name":"Lies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9629,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":15002754,"answer_count":5,"score":13,"last_activity_date":1663913273,"creation_date":1361450359,"question_id":15002481,"body_markdown":"I found a lot of similar questions\r\n\r\n - https://stackoverflow.com/questions/7426743/difference-between-hibernate-library-and-hibernate-jpa-library\r\n - https://stackoverflow.com/questions/9881611/whats-the-difference-between-jpa-and-hibernate\r\n - https://stackoverflow.com/questions/1770211/similarity-and-difference-between-jpa-and-hibernate\r\n\r\nbut no one answers my next question. What diference between classical hibernate approach using `org.hibernate.SessionFactory` and JPA `javax.persistence.EntityManager` implementation? I heard, that this JPA implementation uses `org.hibernate.SessionFactory` and works like wrapper, is it real?","title":"Difference between Hibernate and Hibernate JPA","body":"<p>I found a lot of similar questions</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7426743/difference-between-hibernate-library-and-hibernate-jpa-library\">Difference between Hibernate library and Hibernate JPA library</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9881611/whats-the-difference-between-jpa-and-hibernate\">What&#39;s the difference between JPA and Hibernate?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1770211/similarity-and-difference-between-jpa-and-hibernate\">similarity and difference between jpa and hibernate</a></li>\n</ul>\n\n<p>but no one answers my next question. What diference between classical hibernate approach using <code>org.hibernate.SessionFactory</code> and JPA <code>javax.persistence.EntityManager</code> implementation? I heard, that this JPA implementation uses <code>org.hibernate.SessionFactory</code> and works like wrapper, is it real?</p>\n"},{"tags":["java","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663912170,"creation_date":1663912170,"answer_id":73823496,"question_id":73818612,"body_markdown":"You can use [DocumentBuilder.insertChart][1] method to create chart using Aspose.Words. Also see Aspose.Words documentation to learn more about [creating charts][2].\r\nIn your case you should use ChartType.BAR.\r\n\r\n```java\r\nDocument doc = new Document();\r\nDocumentBuilder builder = new DocumentBuilder(doc);\r\n\r\nShape chartShape = builder.insertChart(ChartType.BAR, 200, 300);\r\n\r\n// Chart is created with default data\r\n// here you can modify the chart data\r\n// .....\r\n\r\ndoc.save(&quot;C:\\\\Temp\\\\out.docx&quot;);\r\n```\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/documentbuilder#insertChart(int,double,double)\r\n  [2]: https://docs.aspose.com/words/java/working-with-charts/","title":"Creating clustered bar chart using Aspose.Words","body":"<p>You can use <a href=\"https://reference.aspose.com/words/java/com.aspose.words/documentbuilder#insertChart(int,double,double)\" rel=\"nofollow noreferrer\">DocumentBuilder.insertChart</a> method to create chart using Aspose.Words. Also see Aspose.Words documentation to learn more about <a href=\"https://docs.aspose.com/words/java/working-with-charts/\" rel=\"nofollow noreferrer\">creating charts</a>.\nIn your case you should use ChartType.BAR.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document doc = new Document();\nDocumentBuilder builder = new DocumentBuilder(doc);\n\nShape chartShape = builder.insertChart(ChartType.BAR, 200, 300);\n\n// Chart is created with default data\n// here you can modify the chart data\n// .....\n\ndoc.save(&quot;C:\\\\Temp\\\\out.docx&quot;);\n</code></pre>\n"}],"owner":{"account_id":7428046,"reputation":27,"user_id":5685436,"display_name":"Madhukar Devale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73823496,"answer_count":1,"score":0,"last_activity_date":1663912170,"creation_date":1663867639,"question_id":73818612,"body_markdown":"Is there any way to draw clustered bar chart in word document using Aspose.Words in java?\r\nPlease find the below image for clustered bar chart.\r\n\r\n[![Clustered bar chart][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DBm7a.png","title":"Creating clustered bar chart using Aspose.Words","body":"<p>Is there any way to draw clustered bar chart in word document using Aspose.Words in java?\nPlease find the below image for clustered bar chart.</p>\n<p><a href=\"https://i.stack.imgur.com/DBm7a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DBm7a.png\" alt=\"Clustered bar chart\" /></a></p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663911575,"creation_date":1663911575,"answer_id":73823432,"question_id":73819085,"body_markdown":"MapStruct is an annotation processor. This means that it generates a mapping during compilation time. Therefore, it doesn&#39;t support mapping from generic types, since the types are unknown during compilation time.\r\n\r\ne.g. in the provided example MapStruct has no way of knowing which exact type `A` is and thus cannot create a mapping for it.","title":"Mapping generic type - MapStruct","body":"<p>MapStruct is an annotation processor. This means that it generates a mapping during compilation time. Therefore, it doesn't support mapping from generic types, since the types are unknown during compilation time.</p>\n<p>e.g. in the provided example MapStruct has no way of knowing which exact type <code>A</code> is and thus cannot create a mapping for it.</p>\n"}],"owner":{"account_id":8937203,"reputation":111,"user_id":9456878,"display_name":"Willian T&#225;rtaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1072,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663911575,"creation_date":1663870511,"question_id":73819085,"body_markdown":"I&#39;m trying to make a mapping to a generic type, but I&#39;m having this problem:\r\n\r\n`error: Can&#39;t generate mapping method for a generic type variable source.\r\n\tA map(M baseAccountMongo);`\r\n\r\ncode:\r\n\r\n    public interface AccountMapper&lt;A extends BaseAccount, M extends BaseAccountMongo&gt; {\r\n\r\n    \tAccountMapper INSTANCE = Mappers.getMapper( AccountMapper.class );\r\n\r\n    \tA map(M baseAccountMongo);\r\n    }\r\n\r\ndo you have any solution for this?","title":"Mapping generic type - MapStruct","body":"<p>I'm trying to make a mapping to a generic type, but I'm having this problem:</p>\n<p><code>error: Can't generate mapping method for a generic type variable source. A map(M baseAccountMongo);</code></p>\n<p>code:</p>\n<pre><code>public interface AccountMapper&lt;A extends BaseAccount, M extends BaseAccountMongo&gt; {\n\n    AccountMapper INSTANCE = Mappers.getMapper( AccountMapper.class );\n\n    A map(M baseAccountMongo);\n}\n</code></pre>\n<p>do you have any solution for this?</p>\n"},{"tags":["java","spring-boot","maven","spring-security"],"answers":[{"tags":[],"owner":{"account_id":20544579,"reputation":59,"user_id":16201706,"display_name":"Robert McKay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663910679,"creation_date":1663910679,"answer_id":73823335,"question_id":73819027,"body_markdown":"Here is the section of the pom with jjwt libraries from a project using the library. hope this helps.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Cannot resolve symbol &#39;Claims&#39;and &#39;Jwts&#39; while importing?","body":"<p>Here is the section of the pom with jjwt libraries from a project using the library. hope this helps.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":25361201,"reputation":91,"user_id":19176426,"display_name":"Djamel Eddine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1558,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":73823335,"answer_count":1,"score":-5,"last_activity_date":1663910679,"creation_date":1663870068,"question_id":73819027,"body_markdown":"I was trying to build a project about API authentication using JWT and I Cannot resolve symbol &#39;Claims&#39;and &#39;Jwts&#39; while importing   io.jsonwebtoken.Claims;  and io.jsonwebtoken.Jwts; \r\n  ? \r\n\r\n\r\nI was trying to build a project about API authentication using JWT and I Cannot resolve symbol &#39;Claims&#39;and &#39;Jwts&#39; while importing   io.jsonwebtoken.Claims;  and io.jsonwebtoken.Jwts; \r\n  ?\r\n\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.JWT&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;JWT&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;JWT&lt;/name&gt;\r\n    \t&lt;description&gt;JWT&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Cannot resolve symbol &#39;Claims&#39;and &#39;Jwts&#39; while importing?","body":"<p>I was trying to build a project about API authentication using JWT and I Cannot resolve symbol 'Claims'and 'Jwts' while importing   io.jsonwebtoken.Claims;  and io.jsonwebtoken.Jwts;\n?</p>\n<p>I was trying to build a project about API authentication using JWT and I Cannot resolve symbol 'Claims'and 'Jwts' while importing   io.jsonwebtoken.Claims;  and io.jsonwebtoken.Jwts;\n?</p>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.JWT&lt;/groupId&gt;\n    &lt;artifactId&gt;JWT&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JWT&lt;/name&gt;\n    &lt;description&gt;JWT&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","inputstream"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1657312418,"post_id":72916530,"comment_id":128789194,"body_markdown":"Can you show the directory structure of your project? The `credentials.json` needs to be in the same package (but in a resource folder) as your `SheetsAndJava` class.","body":"Can you show the directory structure of your project? The <code>credentials.json</code> needs to be in the same package (but in a resource folder) as your <code>SheetsAndJava</code> class."},{"owner":{"account_id":25762196,"reputation":11,"user_id":19512932,"display_name":"Khushin Patel"},"score":0,"creation_date":1657316034,"post_id":72916530,"comment_id":128790032,"body_markdown":"@dan1st i just added both android view and project view of my project","body":"@dan1st i just added both android view and project view of my project"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663909435,"creation_date":1657317719,"answer_id":72917404,"question_id":72916530,"body_markdown":"`Class#getResource` and `Class#getResourceAsStream` looks for the resource relative to the class/in the same package. This leaves you with multiple options:\r\n\r\n## Move `credentials.json`\r\n\r\nSince it is looking for the `credentials.json` file in `com/example/excelintro`, the problem should be solved by just moving it to `res/com/example/excelintro`.\r\n\r\n## Use `ClassLoader#getResource`/`ClassLoader#getResourceAsStream`\r\n\r\nInstead of calling `SheetsAndJava.class.getResourceAsStream(...)` (or `SheetsAndJava.class.getResource(...)`) (which resolves the resource relative to the class), you can use `SheetsAndJava.class.getClassLoader().getResourceAsStream(...)` (or `SheetsAndJava.class.getClassLoader().getResource(...)`). This resolves the resource relative to the classpath root (the `res` folder).\r\n\r\n### Append a leading `/` to the resource name\r\n\r\nIf you use `/credentials.json` instead of just `credentials.json`, it should also resolve the resource from the classpath root.\r\n\r\n\r\n","title":"class.getResourceAsStream gives back null in Android Studio","body":"<p><code>Class#getResource</code> and <code>Class#getResourceAsStream</code> looks for the resource relative to the class/in the same package. This leaves you with multiple options:</p>\n<h2>Move <code>credentials.json</code></h2>\n<p>Since it is looking for the <code>credentials.json</code> file in <code>com/example/excelintro</code>, the problem should be solved by just moving it to <code>res/com/example/excelintro</code>.</p>\n<h2>Use <code>ClassLoader#getResource</code>/<code>ClassLoader#getResourceAsStream</code></h2>\n<p>Instead of calling <code>SheetsAndJava.class.getResourceAsStream(...)</code> (or <code>SheetsAndJava.class.getResource(...)</code>) (which resolves the resource relative to the class), you can use <code>SheetsAndJava.class.getClassLoader().getResourceAsStream(...)</code> (or <code>SheetsAndJava.class.getClassLoader().getResource(...)</code>). This resolves the resource relative to the classpath root (the <code>res</code> folder).</p>\n<h3>Append a leading <code>/</code> to the resource name</h3>\n<p>If you use <code>/credentials.json</code> instead of just <code>credentials.json</code>, it should also resolve the resource from the classpath root.</p>\n"}],"owner":{"account_id":25762196,"reputation":11,"user_id":19512932,"display_name":"Khushin Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663910201,"creation_date":1657311048,"question_id":72916530,"body_markdown":"I&#39;m trying to create an app in Android Studio that can access a [Google Sheets][1] sheet. My *credentials.json* file is like this:\r\n\r\n    {&quot;client_id&quot;:[My ID], &quot;project_id&quot;:&quot;androidandsheets&quot;, &quot;auth_uri&quot;:[My auth URI], &quot;token_uri&quot;:[My token URI], &quot;auth_provider_x509_cert_url&quot;:[URL]}\r\n\r\nBut when I use this Java code,\r\n\r\n    private Credential authorize() throws IOException, GeneralSecurityException{\r\n        InputStream in = SheetsAndJava.class.getResourceAsStream(&quot;credentials.json&quot;);\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(\r\n                GsonFactory.getDefaultInstance(),new InputStreamReader(in)\r\n        );\r\n        List&lt;String&gt; scopes = Arrays.asList(SheetsScopes.SPREADSHEETS);\r\n\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                GoogleNetHttpTransport.newTrustedTransport(),\r\n                GsonFactory.getDefaultInstance(),\r\n                clientSecrets,scopes\r\n                ).setDataStoreFactory(new FileDataStoreFactory(new File(&quot;tokens&quot;)))\r\n                .setAccessType(&quot;offline&quot;).build();\r\n\r\n        Credential credential = new AuthorizationCodeInstalledApp(\r\n                flow,new LocalServerReceiver()\r\n        ).authorize(&quot;user&quot;);\r\n\r\n        return credential;\r\n    }\r\n\r\nthe input stream returned by *InputStream in = SheetsAndJava.class.getResourceAsStream(&quot;credentials.json&quot;)* is null.\r\n\r\nHow can I fix this issue?\r\n\r\nHere&#39;s my layout for this project. For some reason, the *credentials.json* file is visible in the project view, but not in the Android view.\r\n\r\n[![Android View][2]][2]\r\n\r\n[![Project View][3]][3]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Sheets\r\n  [2]: https://i.stack.imgur.com/oo6zM.jpg\r\n  [3]: https://i.stack.imgur.com/vdlaC.jpg\r\n\r\n\r\n","title":"class.getResourceAsStream gives back null in Android Studio","body":"<p>I'm trying to create an app in Android Studio that can access a <a href=\"https://en.wikipedia.org/wiki/Google_Sheets\" rel=\"nofollow noreferrer\">Google Sheets</a> sheet. My <em>credentials.json</em> file is like this:</p>\n<pre><code>{&quot;client_id&quot;:[My ID], &quot;project_id&quot;:&quot;androidandsheets&quot;, &quot;auth_uri&quot;:[My auth URI], &quot;token_uri&quot;:[My token URI], &quot;auth_provider_x509_cert_url&quot;:[URL]}\n</code></pre>\n<p>But when I use this Java code,</p>\n<pre><code>private Credential authorize() throws IOException, GeneralSecurityException{\n    InputStream in = SheetsAndJava.class.getResourceAsStream(&quot;credentials.json&quot;);\n    GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(\n            GsonFactory.getDefaultInstance(),new InputStreamReader(in)\n    );\n    List&lt;String&gt; scopes = Arrays.asList(SheetsScopes.SPREADSHEETS);\n\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n            GoogleNetHttpTransport.newTrustedTransport(),\n            GsonFactory.getDefaultInstance(),\n            clientSecrets,scopes\n            ).setDataStoreFactory(new FileDataStoreFactory(new File(&quot;tokens&quot;)))\n            .setAccessType(&quot;offline&quot;).build();\n\n    Credential credential = new AuthorizationCodeInstalledApp(\n            flow,new LocalServerReceiver()\n    ).authorize(&quot;user&quot;);\n\n    return credential;\n}\n</code></pre>\n<p>the input stream returned by <em>InputStream in = SheetsAndJava.class.getResourceAsStream(&quot;credentials.json&quot;)</em> is null.</p>\n<p>How can I fix this issue?</p>\n<p>Here's my layout for this project. For some reason, the <em>credentials.json</em> file is visible in the project view, but not in the Android view.</p>\n<p><a href=\"https://i.stack.imgur.com/oo6zM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oo6zM.jpg\" alt=\"Android View\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/vdlaC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdlaC.jpg\" alt=\"Project View\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8685059,"reputation":1412,"user_id":6499760,"display_name":"Alexey  Usharovski"},"score":0,"creation_date":1577455947,"post_id":59501807,"comment_id":105176149,"body_markdown":"Maybe this issue about the same problem https://github.com/hbb20/CountryCodePickerProject/issues/362\n\nI can recommend you also to raise another one. That really looks like a bug in this library.","body":"Maybe this issue about the same problem <a href=\"https://github.com/hbb20/CountryCodePickerProject/issues/362\" rel=\"nofollow noreferrer\">github.com/hbb20/CountryCodePickerProject/issues/362</a>  I can recommend you also to raise another one. That really looks like a bug in this library."},{"owner":{"account_id":17035993,"reputation":33,"user_id":12325031,"display_name":"TheName"},"score":1,"creation_date":1577456259,"post_id":59501807,"comment_id":105176268,"body_markdown":"Shame, I guess I&#39;ll try to found another for countries as this one crashes on 8, 9, and 10 for me. Thank You.","body":"Shame, I guess I&#39;ll try to found another for countries as this one crashes on 8, 9, and 10 for me. Thank You."}],"answers":[{"tags":[],"owner":{"account_id":13929048,"reputation":19,"user_id":10057635,"display_name":"Priyanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663910186,"creation_date":1663909571,"answer_id":73823200,"question_id":59501807,"body_markdown":"Add below 2 lines in `gradle.properties` file.\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true","title":"Implementing countries to spinner in activity","body":"<p>Add below 2 lines in <code>gradle.properties</code> file.</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n"}],"owner":{"account_id":17035993,"reputation":33,"user_id":12325031,"display_name":"TheName"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663910186,"creation_date":1577454943,"question_id":59501807,"body_markdown":"I am trying to implement: https://github.com/hbb20/CountryCodePickerProject to my project to show a list of all countries in a spinner.\r\n\r\nI added code to my build.gradle (app):\r\n\r\n    implementation &#39;com.hbb20:ccp:2.3.4&#39;\r\nAfter that I added it to XML file (layout) as it state on https://github.com/hbb20/CountryCodePickerProject/wiki/Use-as-a-Country-Selector:\r\n\r\n    &lt;com.hbb20.CountryCodePicker\r\n            android:id=&quot;@+id/country&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;28dp&quot;\r\n            app:ccp_showFullName=&quot;true&quot;\r\n            app:ccp_showNameCode=&quot;false&quot;\r\n            app:ccp_showPhoneCode=&quot;false&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot; /&gt;\r\n\r\nWhen I run my application it looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ONT2G.png\r\n\r\nBut when I click on the spinner to select country application crash and in Logcat I get an error:\r\n\r\n    2019-12-27 14:47:00.619 13536-13536/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.cryptowallet, PID: 13536\r\n        android.view.InflateException: Binary XML file line #78: Binary XML file line #78: Error inflating class com.futuremind.recyclerviewfastscroll.FastScroller\r\n        Caused by: android.view.InflateException: Binary XML file line #78: Error inflating class com.futuremind.recyclerviewfastscroll.FastScroller\r\n        Caused by: java.lang.reflect.InvocationTargetException","title":"Implementing countries to spinner in activity","body":"<p>I am trying to implement: <a href=\"https://github.com/hbb20/CountryCodePickerProject\" rel=\"nofollow noreferrer\">https://github.com/hbb20/CountryCodePickerProject</a> to my project to show a list of all countries in a spinner.</p>\n\n<p>I added code to my build.gradle (app):</p>\n\n<pre><code>implementation 'com.hbb20:ccp:2.3.4'\n</code></pre>\n\n<p>After that I added it to XML file (layout) as it state on <a href=\"https://github.com/hbb20/CountryCodePickerProject/wiki/Use-as-a-Country-Selector\" rel=\"nofollow noreferrer\">https://github.com/hbb20/CountryCodePickerProject/wiki/Use-as-a-Country-Selector</a>:</p>\n\n<pre><code>&lt;com.hbb20.CountryCodePicker\n        android:id=\"@+id/country\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"28dp\"\n        app:ccp_showFullName=\"true\"\n        app:ccp_showNameCode=\"false\"\n        app:ccp_showPhoneCode=\"false\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        tools:layout_editor_absoluteX=\"0dp\" /&gt;\n</code></pre>\n\n<p>When I run my application it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ONT2G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ONT2G.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I click on the spinner to select country application crash and in Logcat I get an error:</p>\n\n<pre><code>2019-12-27 14:47:00.619 13536-13536/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.cryptowallet, PID: 13536\n    android.view.InflateException: Binary XML file line #78: Binary XML file line #78: Error inflating class com.futuremind.recyclerviewfastscroll.FastScroller\n    Caused by: android.view.InflateException: Binary XML file line #78: Error inflating class com.futuremind.recyclerviewfastscroll.FastScroller\n    Caused by: java.lang.reflect.InvocationTargetException\n</code></pre>\n"},{"tags":["java","java-ee-5"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657001564,"post_id":72864473,"comment_id":128699155,"body_markdown":"I&#39;m not quite sure I understand the problem. You seem to delete some object in step 2 and then try to retrieve and cast it in step 3 which results in that exception. Shouldn&#39;t that be normal since the object was already removed? Note that if you execute the query only once in step 1 the results will likely be cached somewhere, i.e. just iterating over the collection won&#39;t make the query run again and update the collection (at least that&#39;s how it works in EJB 3+ but I assume it&#39;s similar in earlier EJB versions like yours).","body":"I&#39;m not quite sure I understand the problem. You seem to delete some object in step 2 and then try to retrieve and cast it in step 3 which results in that exception. Shouldn&#39;t that be normal since the object was already removed? Note that if you execute the query only once in step 1 the results will likely be cached somewhere, i.e. just iterating over the collection won&#39;t make the query run again and update the collection (at least that&#39;s how it works in EJB 3+ but I assume it&#39;s similar in earlier EJB versions like yours)."},{"owner":{"account_id":9043972,"reputation":139,"user_id":6737118,"accept_rate":50,"display_name":"Tel lui"},"score":0,"creation_date":1657083202,"post_id":72864473,"comment_id":128722005,"body_markdown":"Thanks, Thomas. That is exactly the point I am no clear about. After deleting some object of the Collection, I assumed that the object should not exist within it anymore. So, the second loop of the collection, should loop only the remaining object that are not deleted... I am pretty sure the assumption is wrong, but I could hardly find the material for reference.","body":"Thanks, Thomas. That is exactly the point I am no clear about. After deleting some object of the Collection, I assumed that the object should not exist within it anymore. So, the second loop of the collection, should loop only the remaining object that are not deleted... I am pretty sure the assumption is wrong, but I could hardly find the material for reference."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657173856,"post_id":72864473,"comment_id":128748269,"body_markdown":"Well, just think about how the collection would get to know one of its elements got deleted by some other call - it can&#39;t. So if you delete the element but don&#39;t tell the collection you did so (e.g. by removing it via an appropriate method) the reference will still be there but in the second run it cannot be resolved anymore, hence the exception.","body":"Well, just think about how the collection would get to know one of its elements got deleted by some other call - it can&#39;t. So if you delete the element but don&#39;t tell the collection you did so (e.g. by removing it via an appropriate method) the reference will still be there but in the second run it cannot be resolved anymore, hence the exception."}],"answers":[{"tags":[],"owner":{"account_id":9043972,"reputation":139,"user_id":6737118,"accept_rate":50,"display_name":"Tel lui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663910183,"creation_date":1663910183,"answer_id":73823279,"question_id":72864473,"body_markdown":"As suggested by Thomas. The Collection storing the addresses of the Object, but the remove function is deleting the actual memory of the remote object. As a result, the address points to no Object.","title":"Why EJBObject&#39;s remove function no removing the object of the Collection get from bmp-query?","body":"<p>As suggested by Thomas. The Collection storing the addresses of the Object, but the remove function is deleting the actual memory of the remote object. As a result, the address points to no Object.</p>\n"}],"owner":{"account_id":9043972,"reputation":139,"user_id":6737118,"accept_rate":50,"display_name":"Tel lui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73823279,"answer_count":1,"score":0,"last_activity_date":1663910183,"creation_date":1656999765,"question_id":72864473,"body_markdown":"BG: My company is using some old java technology. We have weblogic server. We have interface which extends the EJBHome, used to run query in database to retrieve Collection of/Simply the EJBObject.\r\n\r\nI get a problem, for which all happen within one method. Basically it is described as follow:\r\n\r\n1) I run bmp-query to get a Collection of Object\r\n2) I loop through the Collection and decide to run the remove method in the EJBObject for some of it.\r\n3) I loop through the Collection again, and cast each of it to be some extended type of EJBObject\r\n\r\nThen, I get a NoSuchObjectException.\r\n\r\nThe tricky thing is the problem happen in weblogic server, but is not happening in local environment.\r\n\r\nBy removing the .remove() line of code. This problem will not be happened. I am pretty sure that it related to the RMI kind of concept. However, I am difficult to find any explanation on the web.\r\n\r\nCould anyone explain/give the reference for me to explore the answer?\r\n\r\n","title":"Why EJBObject&#39;s remove function no removing the object of the Collection get from bmp-query?","body":"<p>BG: My company is using some old java technology. We have weblogic server. We have interface which extends the EJBHome, used to run query in database to retrieve Collection of/Simply the EJBObject.</p>\n<p>I get a problem, for which all happen within one method. Basically it is described as follow:</p>\n<ol>\n<li>I run bmp-query to get a Collection of Object</li>\n<li>I loop through the Collection and decide to run the remove method in the EJBObject for some of it.</li>\n<li>I loop through the Collection again, and cast each of it to be some extended type of EJBObject</li>\n</ol>\n<p>Then, I get a NoSuchObjectException.</p>\n<p>The tricky thing is the problem happen in weblogic server, but is not happening in local environment.</p>\n<p>By removing the .remove() line of code. This problem will not be happened. I am pretty sure that it related to the RMI kind of concept. However, I am difficult to find any explanation on the web.</p>\n<p>Could anyone explain/give the reference for me to explore the answer?</p>\n"},{"tags":["java","junit","powermock"],"comments":[{"owner":{"account_id":3651932,"reputation":471,"user_id":3043870,"display_name":"Fran&#231;ois POYER"},"score":0,"creation_date":1679305457,"post_id":73459572,"comment_id":133691286,"body_markdown":"Any chance you finally found a solution for this?","body":"Any chance you finally found a solution for this?"},{"owner":{"account_id":322228,"reputation":401,"user_id":1826336,"accept_rate":67,"display_name":"Pramod"},"score":0,"creation_date":1679318247,"post_id":73459572,"comment_id":133694835,"body_markdown":"nope, still no lick with java 11. Have to give it a try with java 17 as we upgraded java. I switched to `Arrays.asList`","body":"nope, still no lick with java 11. Have to give it a try with java 17 as we upgraded java. I switched to <code>Arrays.asList</code>"}],"answers":[{"tags":[],"owner":{"account_id":3581167,"reputation":1,"user_id":2989358,"display_name":"tennotees"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663910174,"creation_date":1663910174,"answer_id":73823277,"question_id":73459572,"body_markdown":"Running JDK11 by any coincidence ?\r\n\r\nPowermock issue with JDK11","title":"Using List.of() in unit tests fails with IncompatibleClassChangeError when run with PowerMockRunner","body":"<p>Running JDK11 by any coincidence ?</p>\n<p>Powermock issue with JDK11</p>\n"}],"owner":{"account_id":322228,"reputation":401,"user_id":1826336,"accept_rate":67,"display_name":"Pramod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663910174,"creation_date":1661261046,"question_id":73459572,"body_markdown":"Using `List.of()` in Junit tests fails when run with `PowerMockRunner`. This works perfectly when run with `MockitoJUnitRunner`. When we execute the below code\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    public class ListOfTest {\r\n    \r\n      @Test\r\n      public void test() {\r\n        assertTrue(List.of(1, 2).size() == 2);\r\n      }\r\n    }\r\n\r\n a `IncompatibleClassChangeError` with error message\r\n\r\n `java.lang.IncompatibleClassChangeError: Method &#39;java.util.List java.util.List.of(java.lang.Object, java.lang.Object)&#39; must be InterfaceMethodref constant`","title":"Using List.of() in unit tests fails with IncompatibleClassChangeError when run with PowerMockRunner","body":"<p>Using <code>List.of()</code> in Junit tests fails when run with <code>PowerMockRunner</code>. This works perfectly when run with <code>MockitoJUnitRunner</code>. When we execute the below code</p>\n<pre><code>@RunWith(PowerMockRunner.class)\npublic class ListOfTest {\n\n  @Test\n  public void test() {\n    assertTrue(List.of(1, 2).size() == 2);\n  }\n}\n</code></pre>\n<p>a <code>IncompatibleClassChangeError</code> with error message</p>\n<p><code>java.lang.IncompatibleClassChangeError: Method 'java.util.List java.util.List.of(java.lang.Object, java.lang.Object)' must be InterfaceMethodref constant</code></p>\n"},{"tags":["java","servlets","page-lifecycle","java-ee-8"],"comments":[{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1663958085,"post_id":73213473,"comment_id":130370011,"body_markdown":"@PeterMortensen You are correct about how most people should generally use i when referring to themselves; but i do it for specific reasons (which aren&#39;t important here). See: my profile.","body":"@PeterMortensen You are correct about how most people should generally use i when referring to themselves; but i do it for specific reasons (which aren&#39;t important here). See: my profile."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659479975,"creation_date":1659473537,"answer_id":73213666,"question_id":73213473,"body_markdown":"You can create a [Filter](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html) instead of a listener.\r\nFilters allow you to create wrappers around request processing. See [the documentation on that topic](https://docs.oracle.com/javaee/7/tutorial/servlets006.htm). \r\n\r\nFor HTTP, you can use [HTTPFilter](https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpFilter.html). This could look like the following:\r\n\r\n```java\r\n@WebFilter(&quot;/*&quot;)//or via deployment descriptor\r\npublic class YourFilter extends HttpFilter{ //or just Filter for general (non-HTTP) processing\r\n    @Override\r\n    public void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) {//for generic filters, use ServletRequest/ServletResponse instead\r\n        //before request processing \r\n        chain.doFilter(req, res);//calls other filters and processes request\r\n        //after request processing\r\n        //you can use res here\r\n    }\r\n}\r\n```\r\n\r\nIf you do not call `chain.doFilter`, other filters and the servlet will not be executed.\r\n\r\nIf you prefer declaring the filter in your deployment descriptor (web.xml), you can [do that as well](https://docs.oracle.com/en/middleware/fusion-middleware/weblogic-server/12.2.1.4/wbapp/filters.html#GUID-A6CE4473-8966-42DF-9320-2993CB43CE4C):\r\n\r\n```xml\r\n&lt;filter&gt;\r\n  &lt;filter-name&gt;yourFilter&lt;/filter-name&gt;\r\n  &lt;filter-class&gt;your.FilterClass&lt;/filter-class&gt;\r\n&lt;/filter&gt;\r\n&lt;filter-mapping&gt;\r\n  &lt;filter-name&gt;yourFilter&lt;/filter-name&gt;\r\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n&lt;/filter-mapping&gt;\r\n```","title":"How to hook begin and end of HTTP requests in JavaEE?","body":"<p>You can create a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/Filter.html\" rel=\"nofollow noreferrer\">Filter</a> instead of a listener.\nFilters allow you to create wrappers around request processing. See <a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets006.htm\" rel=\"nofollow noreferrer\">the documentation on that topic</a>.</p>\n<p>For HTTP, you can use <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpFilter.html\" rel=\"nofollow noreferrer\">HTTPFilter</a>. This could look like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebFilter(&quot;/*&quot;)//or via deployment descriptor\npublic class YourFilter extends HttpFilter{ //or just Filter for general (non-HTTP) processing\n    @Override\n    public void doFilter(HttpServletRequest req, HttpServletResponse res, FilterChain chain) {//for generic filters, use ServletRequest/ServletResponse instead\n        //before request processing \n        chain.doFilter(req, res);//calls other filters and processes request\n        //after request processing\n        //you can use res here\n    }\n}\n</code></pre>\n<p>If you do not call <code>chain.doFilter</code>, other filters and the servlet will not be executed.</p>\n<p>If you prefer declaring the filter in your deployment descriptor (web.xml), you can <a href=\"https://docs.oracle.com/en/middleware/fusion-middleware/weblogic-server/12.2.1.4/wbapp/filters.html#GUID-A6CE4473-8966-42DF-9320-2993CB43CE4C\" rel=\"nofollow noreferrer\">do that as well</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n  &lt;filter-name&gt;yourFilter&lt;/filter-name&gt;\n  &lt;filter-class&gt;your.FilterClass&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;yourFilter&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73213666,"answer_count":1,"score":3,"last_activity_date":1663910037,"creation_date":1659472399,"question_id":73213473,"body_markdown":"tl;dr:\r\n-------\r\n\r\nHow do I get the [**ServletResponse**][1] during [**ServletRequestListener.requestDestroyed**][2]?\r\n\r\n### Short Version\r\n\r\nIn JavaEE, I want to know when:\r\n\r\n- when a request starts\r\n- and when a request ends\r\n\r\nand be able to inspect the [request][3] and [response][1] objects.\r\n\r\n### Long Version\r\n\r\nIn the ASP.NET world, if you want to know when a request starts and ends, you write an **`IHttpModule`**:\r\n\r\n```\r\npublic class ExampleModuleForThisQuestion : IHttpModule\r\n{\r\n}\r\n```\r\n\r\nAnd then register your *&quot;module&quot;* in the web XML configuration file:\r\n\r\n**web.config**:\r\n\r\n```\r\n    &lt;system.webServer&gt;\r\n        &lt;modules&gt;\r\n            &lt;add name=&quot;DoesntMatter&quot; type=&quot;ExampleModuleForThisQuestion &quot;/&gt;\r\n        &lt;/modules&gt;\r\n    &lt;/system.webServer&gt;\r\n```\r\n\r\nInside your module, you can register callback handlers for:\r\n\r\n- **BeginRequest** event\r\n- **EndRequest** event\r\n\r\nThe web server infrastructure then calls you **`Init`** method. That is your opportunity to register that you want to receive notifications when a request starts, and when a request ends:\r\n\r\n```\r\npublic class ExampleModuleForThisQuestion : IHttpModule\r\n{\r\n   public void Init(HttpApplication application)\r\n   {\r\n      application.BeginRequest += new EventHandler(beginRequest); //register the &quot;BeginRequet&quot; event\r\n      application.EndRequest += new EventHandler(endRequest); //register the &quot;EndRequest&quot; event\r\n   }\r\n}\r\n```\r\n\r\nAnd now we have our callbacks when a *request starts*:\r\n\r\n```\r\nprivate void beginRequest(object sender, EventArgs e)\r\n{\r\n   HttpApplication application = (HttpApplication)sender;\r\n\r\n   //Record the time the request started\r\n   application.Context.Items[&quot;RequestStartTime&quot;] = DateTime.Now;\r\n\r\n   //We can even access the Request and Response objects\r\n   application.ContenxtLog(application.Context.Request.Headers[&quot;User-Agent&quot;]);\r\n}\r\n```\r\n\r\nAnd we have our callback when a *request ends*:\r\n\r\n```\r\nprivate void endRequest(object sender, EventArgs e)\r\n{\r\n   HttpApplication application = (HttpApplication)sender;\r\n\r\n   //We can even access the Request and Response objects\r\n\r\n   //Get the response status code (e.g. 418 I&#39;m a teapot)\r\n   int statusCode = application.Context.Response.StatusCode;\r\n\r\n   //Get the request method (e.g. GET, POST, BREW)\r\n   String method = application.context.Request.RequestType;\r\n\r\n   //Get the path from the request (e.g. /ViewCustomer)\r\n   String path = application.context.Request.AppRelativeCurrentExecutionFilePath&#39;\r\n\r\n   //Get when the request started - that we recorded during &quot;Begin Request&quot;\r\n   DateTime requestStartTime = (DateTime)application.Context.Items[&quot;RequestStartTime&quot;];\r\n\r\n   //And we can modify the response\r\n   if ((DateTime.Now - requestStartTime).TotalSeconds = 17)\r\n       application.Context.Response.StatusCode = 451;\r\n}\r\n```\r\n\r\n### The Java Almost-Equivalent is ServletRequestListener\r\n\r\nIn Java, [apparently](https://stackoverflow.com/a/72999618/12597) the corresponding technique is to create and object that implements the **[ServletRequestListener][4]** interface:\r\n\r\n```\r\n@WebListener\r\npublic class ExampleListenerForThisQuestion\r\n      implements javax.servlet.ServletRequestListener {\r\n\r\n}\r\n```\r\n\r\nand register our **listener** with the application server by including it in our web XML configuration file:\r\n\r\n**web.xml**\r\n\r\n```\r\n&lt;listener&gt;\r\n    &lt;listener-class&gt;ExampleListenerForThisQuestion&lt;/listener-class&gt;\r\n&lt;/listener&gt;\r\n```\r\n\r\nNow we can implement the [**requestInitialized**][5] and [**requestDestroyed**][2] methods to get when a request starts and ends:\r\n\r\n```\r\npublic class ExampleListenerForThisQuestion\r\n      implements javax.servlet.ServletRequestListener {\r\n\r\n   @Override\r\n   public void requestInitialized(ServletRequestEvent sre) {\r\n      ServletRequest sr = sre.getServletRequest();\r\n      sr.setAttribute(&quot;requestStartTicks&quot;, getCurrentTickCount());\r\n\r\n      HttpServletRequest request = (HttpServletRequest) sr;\r\n\r\n      // e.g. &quot;PUT /Customers/1234&quot;\r\n      System.out.printf(&quot;%s %s\\r\\n&quot;, request.getMethod());\r\n   }\r\n\r\n   @Override\r\n   public void requestDestroyed(ServletRequestEvent sre) {\r\n      ServletRequest sr = sre.getServletRequest();\r\n      long requestStartTicks = (long)sr.getAttribute(&quot;requestStartTicks&quot;);\r\n\r\n      HttpServletResponse response = (HttpServletRequest)...nothing, because i don&#39;t know how...\r\n\r\n      // e.g. &quot;226 IM Used&quot;\r\n      System.out.printf(&quot;%d %s\\r\\n&quot;, response.getStatus(), response.getStatusDescription());\r\n   }\r\n}\r\n```\r\n\r\n### But how do we get the response?\r\n\r\nNow that I&#39;m notified when the response ends, I need the result of that request:\r\n\r\n- I need the HTTP status code (e.g., *424*)\r\n- I need the HTTP status description (e.g., *Failed Dependency*)\r\n- I need to inspect response headers\r\n- I need to modify response headers\r\n\r\nYou notice the line in my code above:\r\n\r\n    HttpServletResponse response = (HttpServletRequest)...nothing, because i don&#39;t know how...\r\n\r\nHow can I get hold of the *response*?\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html\r\n  [2]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html#requestDestroyed(javax.servlet.ServletRequestEvent)\r\n  [3]: https://HttpServletRequest\r\n  [4]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html\r\n  [5]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html#requestInitialized(javax.servlet.ServletRequestEvent)\r\n\r\n\r\n\r\n\r\n","title":"How to hook begin and end of HTTP requests in JavaEE?","body":"<h2>tl;dr:</h2>\n<p>How do I get the <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html\" rel=\"nofollow noreferrer\"><strong>ServletResponse</strong></a> during <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html#requestDestroyed(javax.servlet.ServletRequestEvent)\" rel=\"nofollow noreferrer\"><strong>ServletRequestListener.requestDestroyed</strong></a>?</p>\n<h3>Short Version</h3>\n<p>In JavaEE, I want to know when:</p>\n<ul>\n<li>when a request starts</li>\n<li>and when a request ends</li>\n</ul>\n<p>and be able to inspect the <a href=\"https://HttpServletRequest\" rel=\"nofollow noreferrer\">request</a> and <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html\" rel=\"nofollow noreferrer\">response</a> objects.</p>\n<h3>Long Version</h3>\n<p>In the ASP.NET world, if you want to know when a request starts and ends, you write an <strong><code>IHttpModule</code></strong>:</p>\n<pre><code>public class ExampleModuleForThisQuestion : IHttpModule\n{\n}\n</code></pre>\n<p>And then register your <em>&quot;module&quot;</em> in the web XML configuration file:</p>\n<p><strong>web.config</strong>:</p>\n<pre><code>    &lt;system.webServer&gt;\n        &lt;modules&gt;\n            &lt;add name=&quot;DoesntMatter&quot; type=&quot;ExampleModuleForThisQuestion &quot;/&gt;\n        &lt;/modules&gt;\n    &lt;/system.webServer&gt;\n</code></pre>\n<p>Inside your module, you can register callback handlers for:</p>\n<ul>\n<li><strong>BeginRequest</strong> event</li>\n<li><strong>EndRequest</strong> event</li>\n</ul>\n<p>The web server infrastructure then calls you <strong><code>Init</code></strong> method. That is your opportunity to register that you want to receive notifications when a request starts, and when a request ends:</p>\n<pre><code>public class ExampleModuleForThisQuestion : IHttpModule\n{\n   public void Init(HttpApplication application)\n   {\n      application.BeginRequest += new EventHandler(beginRequest); //register the &quot;BeginRequet&quot; event\n      application.EndRequest += new EventHandler(endRequest); //register the &quot;EndRequest&quot; event\n   }\n}\n</code></pre>\n<p>And now we have our callbacks when a <em>request starts</em>:</p>\n<pre><code>private void beginRequest(object sender, EventArgs e)\n{\n   HttpApplication application = (HttpApplication)sender;\n\n   //Record the time the request started\n   application.Context.Items[&quot;RequestStartTime&quot;] = DateTime.Now;\n\n   //We can even access the Request and Response objects\n   application.ContenxtLog(application.Context.Request.Headers[&quot;User-Agent&quot;]);\n}\n</code></pre>\n<p>And we have our callback when a <em>request ends</em>:</p>\n<pre><code>private void endRequest(object sender, EventArgs e)\n{\n   HttpApplication application = (HttpApplication)sender;\n\n   //We can even access the Request and Response objects\n\n   //Get the response status code (e.g. 418 I'm a teapot)\n   int statusCode = application.Context.Response.StatusCode;\n\n   //Get the request method (e.g. GET, POST, BREW)\n   String method = application.context.Request.RequestType;\n\n   //Get the path from the request (e.g. /ViewCustomer)\n   String path = application.context.Request.AppRelativeCurrentExecutionFilePath'\n\n   //Get when the request started - that we recorded during &quot;Begin Request&quot;\n   DateTime requestStartTime = (DateTime)application.Context.Items[&quot;RequestStartTime&quot;];\n\n   //And we can modify the response\n   if ((DateTime.Now - requestStartTime).TotalSeconds = 17)\n       application.Context.Response.StatusCode = 451;\n}\n</code></pre>\n<h3>The Java Almost-Equivalent is ServletRequestListener</h3>\n<p>In Java, <a href=\"https://stackoverflow.com/a/72999618/12597\">apparently</a> the corresponding technique is to create and object that implements the <strong><a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html\" rel=\"nofollow noreferrer\">ServletRequestListener</a></strong> interface:</p>\n<pre><code>@WebListener\npublic class ExampleListenerForThisQuestion\n      implements javax.servlet.ServletRequestListener {\n\n}\n</code></pre>\n<p>and register our <strong>listener</strong> with the application server by including it in our web XML configuration file:</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;ExampleListenerForThisQuestion&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>Now we can implement the <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html#requestInitialized(javax.servlet.ServletRequestEvent)\" rel=\"nofollow noreferrer\"><strong>requestInitialized</strong></a> and <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequestListener.html#requestDestroyed(javax.servlet.ServletRequestEvent)\" rel=\"nofollow noreferrer\"><strong>requestDestroyed</strong></a> methods to get when a request starts and ends:</p>\n<pre><code>public class ExampleListenerForThisQuestion\n      implements javax.servlet.ServletRequestListener {\n\n   @Override\n   public void requestInitialized(ServletRequestEvent sre) {\n      ServletRequest sr = sre.getServletRequest();\n      sr.setAttribute(&quot;requestStartTicks&quot;, getCurrentTickCount());\n\n      HttpServletRequest request = (HttpServletRequest) sr;\n\n      // e.g. &quot;PUT /Customers/1234&quot;\n      System.out.printf(&quot;%s %s\\r\\n&quot;, request.getMethod());\n   }\n\n   @Override\n   public void requestDestroyed(ServletRequestEvent sre) {\n      ServletRequest sr = sre.getServletRequest();\n      long requestStartTicks = (long)sr.getAttribute(&quot;requestStartTicks&quot;);\n\n      HttpServletResponse response = (HttpServletRequest)...nothing, because i don't know how...\n\n      // e.g. &quot;226 IM Used&quot;\n      System.out.printf(&quot;%d %s\\r\\n&quot;, response.getStatus(), response.getStatusDescription());\n   }\n}\n</code></pre>\n<h3>But how do we get the response?</h3>\n<p>Now that I'm notified when the response ends, I need the result of that request:</p>\n<ul>\n<li>I need the HTTP status code (e.g., <em>424</em>)</li>\n<li>I need the HTTP status description (e.g., <em>Failed Dependency</em>)</li>\n<li>I need to inspect response headers</li>\n<li>I need to modify response headers</li>\n</ul>\n<p>You notice the line in my code above:</p>\n<pre><code>HttpServletResponse response = (HttpServletRequest)...nothing, because i don't know how...\n</code></pre>\n<p>How can I get hold of the <em>response</em>?</p>\n"},{"tags":["java","multithreading","locking"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663909672,"creation_date":1663909672,"answer_id":73823211,"question_id":73662768,"body_markdown":"There&#39;s no guarantee that the `Function` passed to `thenApply` and the `Consumer` passed to `thenAccept` will execute on the same thread.\r\n\r\nIn this case, there is no need to separate them into separate steps:\r\n\r\n```java\r\nCompletableFuture.supplyAsync(() -&gt; l, executor)\r\n        .thenAcceptAsync(resultPerRun -&gt; {\r\n            lock.lock();\r\n            try {\r\n                var resultPerBatch = resultOfBatch.addResultPerBatch(resultPerRun);\r\n                if (resultPerBatch.getRuns() % 10_000 == 0) {\r\n                    System.out.println(resultPerBatch.getRuns());\r\n                    resultOfBatch.reset();\r\n                }\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }, executor);\r\n```\r\n\r\nHowever, it is probably a better idea to process this data in batches rather than trying to create so many threads. This will ultimately either run out of memory, out of available native threads, or reject work because the queue is full.","title":"Locking execution within CompletableFuture","body":"<p>There's no guarantee that the <code>Function</code> passed to <code>thenApply</code> and the <code>Consumer</code> passed to <code>thenAccept</code> will execute on the same thread.</p>\n<p>In this case, there is no need to separate them into separate steps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture.supplyAsync(() -&gt; l, executor)\n        .thenAcceptAsync(resultPerRun -&gt; {\n            lock.lock();\n            try {\n                var resultPerBatch = resultOfBatch.addResultPerBatch(resultPerRun);\n                if (resultPerBatch.getRuns() % 10_000 == 0) {\n                    System.out.println(resultPerBatch.getRuns());\n                    resultOfBatch.reset();\n                }\n            } finally {\n                lock.unlock();\n            }\n        }, executor);\n</code></pre>\n<p>However, it is probably a better idea to process this data in batches rather than trying to create so many threads. This will ultimately either run out of memory, out of available native threads, or reject work because the queue is full.</p>\n"}],"owner":{"account_id":10456224,"reputation":35,"user_id":7708354,"display_name":"Cyril Dragomyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73823211,"answer_count":1,"score":0,"last_activity_date":1663909672,"creation_date":1662729381,"question_id":73662768,"body_markdown":"I need to post-process result of `CompletableFuture.supplyAsync` execution to get intermediate result. \r\nMy code looks following\r\n```\r\nvar executor = new ThreadPoolExecutor(\r\n                       Runtime.getRuntime().availableProcessors(),\r\n                       Integer.MAX_VALUE,\r\n                       2L,\r\n                       TimeUnit.SECONDS,\r\n                       // size of queue has to be restricted since Java Heap Space could  appear; \r\n                       // default size of queue is Integer.MAX_VALUE\r\n                       new LinkedBlockingQueue&lt;&gt;(10_000_000));\r\nvar resultOfBatch = new ResultOfBatch();\r\nvar lock = new ReentrantLock();\r\n// usually `settings.getRuns()` could be up to 1_000_000_000 runs\r\nLongStream.range(0, settings.getRuns())\r\n    .forEach(l -&gt; {\r\n            CompletableFuture.supplyAsync(task, executor)\r\n\r\n                // collecting result per run to resultOfBatch (mainly simple operations like adding values to primitives)\r\n                .thenApply(resultPerRun -&gt; {\r\n                    lock.lock();\r\n                    return resultOfBatch.addResultPerBatch(resultPerRun);\r\n                })\r\n\r\n                // the idea in logging partial result - ex.,every 10K passes\r\n                .thenAccept(resultPerBatch -&gt; {\r\n                    if (resultPerBatch.getRuns() % 10_000 == 0) {\r\n                        // log intermediate result of execution\r\n                        resultOfBatch.reset();\r\n                    }\r\n                    lock.unlock();\r\n                });\r\n    });\r\n``` \r\n\r\nIn a result I&#39;m facing with `java.util.concurrent.CompletionException: java.lang.IllegalMonitorStateException` on `.thenAccept(resultPerBatch -&gt; {` line\r\n\r\nSeems like I&#39;m using `lock` in wrong way but I cannot figure out how to avoid this kind of exception.","title":"Locking execution within CompletableFuture","body":"<p>I need to post-process result of <code>CompletableFuture.supplyAsync</code> execution to get intermediate result.\nMy code looks following</p>\n<pre><code>var executor = new ThreadPoolExecutor(\n                       Runtime.getRuntime().availableProcessors(),\n                       Integer.MAX_VALUE,\n                       2L,\n                       TimeUnit.SECONDS,\n                       // size of queue has to be restricted since Java Heap Space could  appear; \n                       // default size of queue is Integer.MAX_VALUE\n                       new LinkedBlockingQueue&lt;&gt;(10_000_000));\nvar resultOfBatch = new ResultOfBatch();\nvar lock = new ReentrantLock();\n// usually `settings.getRuns()` could be up to 1_000_000_000 runs\nLongStream.range(0, settings.getRuns())\n    .forEach(l -&gt; {\n            CompletableFuture.supplyAsync(task, executor)\n\n                // collecting result per run to resultOfBatch (mainly simple operations like adding values to primitives)\n                .thenApply(resultPerRun -&gt; {\n                    lock.lock();\n                    return resultOfBatch.addResultPerBatch(resultPerRun);\n                })\n\n                // the idea in logging partial result - ex.,every 10K passes\n                .thenAccept(resultPerBatch -&gt; {\n                    if (resultPerBatch.getRuns() % 10_000 == 0) {\n                        // log intermediate result of execution\n                        resultOfBatch.reset();\n                    }\n                    lock.unlock();\n                });\n    });\n</code></pre>\n<p>In a result I'm facing with <code>java.util.concurrent.CompletionException: java.lang.IllegalMonitorStateException</code> on <code>.thenAccept(resultPerBatch -&gt; {</code> line</p>\n<p>Seems like I'm using <code>lock</code> in wrong way but I cannot figure out how to avoid this kind of exception.</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621095869,"creation_date":1621093372,"answer_id":67548515,"question_id":67546112,"body_markdown":"This is referred to as &quot;code mining&quot;.  I came to the same conclusion as you. They were intriguing at first, but they became more of an annoyance over time.\r\n\r\nIf you search for &quot;mining&quot; in Eclipse Preferences, you&#39;ll see the two places where code mining can be controlled, but I believe just unchecking &quot;Enable code minings ...&quot; in &quot;Java-&gt;Editor-&gt;CodeMinings&quot; will do it.\r\n\r\n[![Disable Code Mining in Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6rC0L.png","title":"How to disable the Error Hovers/Code Mining in Eclipse","body":"<p>This is referred to as &quot;code mining&quot;.  I came to the same conclusion as you. They were intriguing at first, but they became more of an annoyance over time.</p>\n<p>If you search for &quot;mining&quot; in Eclipse Preferences, you'll see the two places where code mining can be controlled, but I believe just unchecking &quot;Enable code minings ...&quot; in &quot;Java-&gt;Editor-&gt;CodeMinings&quot; will do it.</p>\n<p><a href=\"https://i.stack.imgur.com/6rC0L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rC0L.png\" alt=\"Disable Code Mining in Eclipse\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4690554,"reputation":1470,"user_id":3796784,"accept_rate":67,"display_name":"Umesh Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663909345,"creation_date":1663909345,"answer_id":73823180,"question_id":67546112,"body_markdown":"While searching the web for the same issue, I landed on this [discussion][1] and the following steps worked for me. Please note that I do not want to completely disable it. Just wanted to disable the annoying code jumping when I am typing the code.\r\n\r\nYou can actually do that, although the UI does not support it.\r\n\r\n1. Close your Eclipse\r\n\r\n2. Open file in a text editor:\r\n&lt;workspace&gt;/.metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.ui.editors.prefs\r\n\r\n3. Find the line (it&#39;s only added once you changed your code mining settings)\r\nshowAnnotationAsCodeMiningLevel=\r\n\r\n4. After the equals sign, you&#39;ll find a number.\r\nThe number encodes in binary:\r\n\r\n&gt;     1110b\r\n&gt;        | no code minings\r\n&gt;       | code minings for infos\r\n&gt;      | code minings for warnings\r\n&gt;     | code minings for errors\r\n\r\nHowever, it&#39;s stored in decimal, so you have to convert it.\r\nIf you want no errors, but warnings and infos as code minings:\r\n0110b = 6d\r\n\r\n5. Change the line to\r\n**showAnnotationAsCodeMiningLevel=6**\r\n\r\n6. Save the file\r\n\r\n7. Start Eclipse\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=553849","title":"How to disable the Error Hovers/Code Mining in Eclipse","body":"<p>While searching the web for the same issue, I landed on this <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=553849\" rel=\"nofollow noreferrer\">discussion</a> and the following steps worked for me. Please note that I do not want to completely disable it. Just wanted to disable the annoying code jumping when I am typing the code.</p>\n<p>You can actually do that, although the UI does not support it.</p>\n<ol>\n<li><p>Close your Eclipse</p>\n</li>\n<li><p>Open file in a text editor:\n/.metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.ui.editors.prefs</p>\n</li>\n<li><p>Find the line (it's only added once you changed your code mining settings)\nshowAnnotationAsCodeMiningLevel=</p>\n</li>\n<li><p>After the equals sign, you'll find a number.\nThe number encodes in binary:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>1110b\n   | no code minings\n  | code minings for infos\n | code minings for warnings\n| code minings for errors\n</code></pre>\n</blockquote>\n<p>However, it's stored in decimal, so you have to convert it.\nIf you want no errors, but warnings and infos as code minings:\n0110b = 6d</p>\n<ol start=\"5\">\n<li><p>Change the line to\n<strong>showAnnotationAsCodeMiningLevel=6</strong></p>\n</li>\n<li><p>Save the file</p>\n</li>\n<li><p>Start Eclipse</p>\n</li>\n</ol>\n"}],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67548515,"answer_count":2,"score":1,"last_activity_date":1663909345,"creation_date":1621077290,"question_id":67546112,"body_markdown":"I think this is something that is released lately in Eclipse 2021. These error hovers/code minings are really annoying. Sometimes, they overlap the code also, and the code moves a lot.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDoes anybody know how to disable this in Eclipse?\r\n\r\n  [1]: https://i.stack.imgur.com/6DoAD.png","title":"How to disable the Error Hovers/Code Mining in Eclipse","body":"<p>I think this is something that is released lately in Eclipse 2021. These error hovers/code minings are really annoying. Sometimes, they overlap the code also, and the code moves a lot.</p>\n<p><a href=\"https://i.stack.imgur.com/6DoAD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6DoAD.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anybody know how to disable this in Eclipse?</p>\n"},{"tags":["java","collision-detection","breakout"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1663284954,"post_id":73738344,"comment_id":130209594,"body_markdown":"The code contains `getCollidingObject(o) != brick`. Should this be `getCollidingObject(o) == brick`?","body":"The code contains <code>getCollidingObject(o) != brick</code>. Should this be <code>getCollidingObject(o) == brick</code>?"},{"owner":{"account_id":26328492,"reputation":1,"user_id":20007858,"display_name":"Matata Leon"},"score":0,"creation_date":1663285244,"post_id":73738344,"comment_id":130209637,"body_markdown":"I put it this way, but after that the program does not work at all and gives an error.","body":"I put it this way, but after that the program does not work at all and gives an error."}],"owner":{"account_id":26328492,"reputation":1,"user_id":20007858,"display_name":"Matata Leon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663909305,"creation_date":1663284543,"question_id":73738344,"body_markdown":"I&#39;m working on a [Breakout][1] game, and I&#39;m having a brick collision problem. The ball bounces off the wall, oar and brick. However, when the ball touches the oar, the oar disappears, although I seem to have prescribed that the ball in this case should rebound. I&#39;m really stuck on this one. How can I fix it?\r\n\r\n```java\r\npublic class Breakout extends WindowProgram {\r\n    /**\r\n     * Width and height of application window in pixels\r\n     */\r\n    public static final int APPLICATION_WIDTH = 400;\r\n    public static final int APPLICATION_HEIGHT = 600;\r\n\r\n    /**\r\n     * Dimensions of game board (usually the same)\r\n     */\r\n    private static final int WIDTH = APPLICATION_WIDTH;\r\n    private static final int HEIGHT = APPLICATION_HEIGHT;\r\n\r\n    /**\r\n     * Dimensions of the paddle\r\n     */\r\n    private static final int PADDLE_WIDTH = 60;\r\n    private static final int PADDLE_HEIGHT = 10;\r\n\r\n    /**\r\n     * Offset of the paddle up from the bottom\r\n     */\r\n    private static final int PADDLE_Y_OFFSET = 30;\r\n\r\n    /**\r\n     * Number of bricks per row\r\n     */\r\n    private static final int NBRICKS_PER_ROW = 10;\r\n\r\n    /**\r\n     * Number of rows of bricks\r\n     */\r\n    private static final int NBRICK_ROWS = 10;\r\n\r\n    /**\r\n     * Separation between bricks\r\n     */\r\n    private static final int BRICK_SEP = 4;\r\n\r\n    /**\r\n     * Width of a brick\r\n     */\r\n    private static final int BRICK_WIDTH =\r\n            (WIDTH - (NBRICKS_PER_ROW - 1) * BRICK_SEP) / NBRICKS_PER_ROW;\r\n\r\n    /**\r\n     * Height of a brick\r\n     */\r\n    private static final int BRICK_HEIGHT = 8;\r\n\r\n    /**\r\n     * Radius of the ball in pixels\r\n     */\r\n    private static final int BALL_RADIUS = 10;\r\n    private static final int DIAMETER = 2 * BALL_RADIUS;\r\n\r\n    /**\r\n     * Offset of the top brick row from the top\r\n     */\r\n    private static final int BRICK_Y_OFFSET = 70;\r\n\r\n    /**\r\n     * Number of turns\r\n     */\r\n    private static final int NTURNS = 3;\r\n    private static final double DX = 1;\r\n\r\n    RandomGenerator rgen = RandomGenerator.getInstance();\r\n\r\n    private void moveBall(GOval o) {\r\n        double vx;\r\n        double vy = 1;\r\n        vx = rgen.nextDouble(1.0, 3.0);\r\n        if (rgen.nextBoolean(0.5))\r\n            vx = -vx;\r\n        while (o.getY() &lt; HEIGHT) {\r\n            if (ballAboveRoof(o) &amp;&amp; vy &lt; 0) {\r\n                vy = -vy;\r\n            }\r\n            if (ballBehindWallR(o) &amp;&amp; vx &gt; 0) {\r\n                vx = -vx;\r\n            }\r\n            if (ballBehindWallL(o) &amp;&amp; vx &lt; 0) {\r\n                vx = -vx;\r\n            }\r\n            if (ballBelowFloor(o)) {\r\n                GLabel l = new GLabel(&quot;GAME OVER&quot;);\r\n                l.setColor(Color.RED);\r\n                l.setFont(&quot;Verdana-30&quot;);\r\n                l.setLocation(((getWidth() - l.getWidth()) / 2), ((getHeight() + l.getAscent()) / 2));\r\n                add(l);\r\n                break;\r\n            }\r\n            if (getCollidingObject(o) == paddle) {\r\n                println(&quot;Paddle&quot;);\r\n                vy = -vy;\r\n            }\r\n\r\n            if (getCollidingObject(o) != brick) {\r\n                println(&quot;Brick&quot;);\r\n                remove(getCollidingObject(o));\r\n\r\n            }\r\n\r\n            o.move(vx, vy);\r\n            pause(10);\r\n        }\r\n    }\r\n\r\n    GRect bricks;\r\n    GRect brick;\r\n    private GRect paddle;\r\n    GOval o;\r\n\r\n    //    GObject collider = getCollidingObject(o);\r\n    private GObject getCollidingObject(GObject o) {\r\n        double x = o.getX(), y = o.getY();\r\n        if (getElementAt(x, y) != null) {\r\n            return getElementAt(x, y);\r\n        } else if (getElementAt(x, y + BALL_RADIUS * 2) != null) {\r\n            return getElementAt(x, y + BALL_RADIUS * 2);\r\n        } else if (getElementAt(x + BALL_RADIUS * 2, y + BALL_RADIUS * 2) != null) {\r\n            return getElementAt(x + BALL_RADIUS * 2, y + BALL_RADIUS * 2);\r\n        } else if (getElementAt(x + BALL_RADIUS * 2, y) != null) {\r\n            return getElementAt(x + BALL_RADIUS * 2, y);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private boolean ballAboveRoof(GOval o) {\r\n        return o.getY() &lt;= 0;\r\n    }\r\n\r\n    private boolean ballBelowFloor(GOval o) {\r\n        return o.getY() + o.getHeight() &gt;= getHeight();\r\n    }\r\n\r\n    private boolean ballBehindWallL(GOval o) {\r\n        return o.getX() &lt;= 0;\r\n    }\r\n\r\n    private boolean ballBehindWallR(GOval o) {\r\n        return o.getX() + o.getWidth() &gt;= getWidth();\r\n    }\r\n\r\n    private GOval addBall() {\r\n        int x = (getWidth() - DIAMETER) / 2;\r\n        int y = (getHeight() - DIAMETER) / 2;\r\n        GOval o = new GOval(x, y, DIAMETER, DIAMETER);\r\n        o.setFilled(true);\r\n        o.setFillColor(Color.BLACK);\r\n        o.setColor(Color.BLACK);\r\n        add(o);\r\n        return o;\r\n    }\r\n\r\n    private void addPaddle() {\r\n        paddle = new GRect((WIDTH - PADDLE_WIDTH) / 2.0, HEIGHT - PADDLE_Y_OFFSET, PADDLE_WIDTH, PADDLE_HEIGHT);\r\n        paddle.setColor(Color.BLACK);\r\n        paddle.setFilled(true);\r\n        paddle.setFillColor(Color.BLACK);\r\n        add(paddle);\r\n    }\r\n\r\n    public void mouseMoved(MouseEvent mouseEvent) {\r\n        int newX = mouseEvent.getX();\r\n        if (newX - (double) PADDLE_WIDTH / 2 &gt;= 0 &amp;&amp; newX + (double) PADDLE_WIDTH / 2 &lt;= getWidth()) {\r\n            paddle.setLocation(newX - (double) PADDLE_WIDTH / 2, HEIGHT - PADDLE_Y_OFFSET);\r\n        }\r\n    }\r\n\r\n    private void addBricks() {\r\n        for (int i = 0; i &lt; NBRICK_ROWS; i++) {\r\n            for (int j = 0; j &lt; NBRICKS_PER_ROW; j++) {\r\n                addBrick(i, j);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void addBrick(int i, int j) {\r\n        int x = BRICK_SEP / 2;\r\n        int n1 = i &lt; NBRICKS_PER_ROW ? 1 : 0;\r\n        int n2 = j &lt; NBRICK_ROWS ? 1 : 0;\r\n        GRect brick = new GRect(x + i * (BRICK_WIDTH + (BRICK_SEP) * n1), BRICK_Y_OFFSET + j * (BRICK_HEIGHT + BRICK_SEP * n2), BRICK_WIDTH, BRICK_HEIGHT);\r\n        brick.setFillColor(Color.BLACK);\r\n        brick.setFilled(true);\r\n        brick.setColor(Color.BLACK);\r\n        add(brick);\r\n    }\r\n\r\n    // @Override\r\n    public void run() {\r\n        getMenuBar().setVisible(false);\r\n        addMouseListeners();\r\n        addPaddle();\r\n        addBricks();\r\n        o = addBall();\r\n        moveBall(o);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Breakout_(video_game)\r\n\r\n\r\n\r\n","title":"Breakout brick and paddle collision in Java","body":"<p>I'm working on a <a href=\"https://en.wikipedia.org/wiki/Breakout_(video_game)\" rel=\"nofollow noreferrer\">Breakout</a> game, and I'm having a brick collision problem. The ball bounces off the wall, oar and brick. However, when the ball touches the oar, the oar disappears, although I seem to have prescribed that the ball in this case should rebound. I'm really stuck on this one. How can I fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Breakout extends WindowProgram {\n    /**\n     * Width and height of application window in pixels\n     */\n    public static final int APPLICATION_WIDTH = 400;\n    public static final int APPLICATION_HEIGHT = 600;\n\n    /**\n     * Dimensions of game board (usually the same)\n     */\n    private static final int WIDTH = APPLICATION_WIDTH;\n    private static final int HEIGHT = APPLICATION_HEIGHT;\n\n    /**\n     * Dimensions of the paddle\n     */\n    private static final int PADDLE_WIDTH = 60;\n    private static final int PADDLE_HEIGHT = 10;\n\n    /**\n     * Offset of the paddle up from the bottom\n     */\n    private static final int PADDLE_Y_OFFSET = 30;\n\n    /**\n     * Number of bricks per row\n     */\n    private static final int NBRICKS_PER_ROW = 10;\n\n    /**\n     * Number of rows of bricks\n     */\n    private static final int NBRICK_ROWS = 10;\n\n    /**\n     * Separation between bricks\n     */\n    private static final int BRICK_SEP = 4;\n\n    /**\n     * Width of a brick\n     */\n    private static final int BRICK_WIDTH =\n            (WIDTH - (NBRICKS_PER_ROW - 1) * BRICK_SEP) / NBRICKS_PER_ROW;\n\n    /**\n     * Height of a brick\n     */\n    private static final int BRICK_HEIGHT = 8;\n\n    /**\n     * Radius of the ball in pixels\n     */\n    private static final int BALL_RADIUS = 10;\n    private static final int DIAMETER = 2 * BALL_RADIUS;\n\n    /**\n     * Offset of the top brick row from the top\n     */\n    private static final int BRICK_Y_OFFSET = 70;\n\n    /**\n     * Number of turns\n     */\n    private static final int NTURNS = 3;\n    private static final double DX = 1;\n\n    RandomGenerator rgen = RandomGenerator.getInstance();\n\n    private void moveBall(GOval o) {\n        double vx;\n        double vy = 1;\n        vx = rgen.nextDouble(1.0, 3.0);\n        if (rgen.nextBoolean(0.5))\n            vx = -vx;\n        while (o.getY() &lt; HEIGHT) {\n            if (ballAboveRoof(o) &amp;&amp; vy &lt; 0) {\n                vy = -vy;\n            }\n            if (ballBehindWallR(o) &amp;&amp; vx &gt; 0) {\n                vx = -vx;\n            }\n            if (ballBehindWallL(o) &amp;&amp; vx &lt; 0) {\n                vx = -vx;\n            }\n            if (ballBelowFloor(o)) {\n                GLabel l = new GLabel(&quot;GAME OVER&quot;);\n                l.setColor(Color.RED);\n                l.setFont(&quot;Verdana-30&quot;);\n                l.setLocation(((getWidth() - l.getWidth()) / 2), ((getHeight() + l.getAscent()) / 2));\n                add(l);\n                break;\n            }\n            if (getCollidingObject(o) == paddle) {\n                println(&quot;Paddle&quot;);\n                vy = -vy;\n            }\n\n            if (getCollidingObject(o) != brick) {\n                println(&quot;Brick&quot;);\n                remove(getCollidingObject(o));\n\n            }\n\n            o.move(vx, vy);\n            pause(10);\n        }\n    }\n\n    GRect bricks;\n    GRect brick;\n    private GRect paddle;\n    GOval o;\n\n    //    GObject collider = getCollidingObject(o);\n    private GObject getCollidingObject(GObject o) {\n        double x = o.getX(), y = o.getY();\n        if (getElementAt(x, y) != null) {\n            return getElementAt(x, y);\n        } else if (getElementAt(x, y + BALL_RADIUS * 2) != null) {\n            return getElementAt(x, y + BALL_RADIUS * 2);\n        } else if (getElementAt(x + BALL_RADIUS * 2, y + BALL_RADIUS * 2) != null) {\n            return getElementAt(x + BALL_RADIUS * 2, y + BALL_RADIUS * 2);\n        } else if (getElementAt(x + BALL_RADIUS * 2, y) != null) {\n            return getElementAt(x + BALL_RADIUS * 2, y);\n        } else {\n            return null;\n        }\n    }\n\n    private boolean ballAboveRoof(GOval o) {\n        return o.getY() &lt;= 0;\n    }\n\n    private boolean ballBelowFloor(GOval o) {\n        return o.getY() + o.getHeight() &gt;= getHeight();\n    }\n\n    private boolean ballBehindWallL(GOval o) {\n        return o.getX() &lt;= 0;\n    }\n\n    private boolean ballBehindWallR(GOval o) {\n        return o.getX() + o.getWidth() &gt;= getWidth();\n    }\n\n    private GOval addBall() {\n        int x = (getWidth() - DIAMETER) / 2;\n        int y = (getHeight() - DIAMETER) / 2;\n        GOval o = new GOval(x, y, DIAMETER, DIAMETER);\n        o.setFilled(true);\n        o.setFillColor(Color.BLACK);\n        o.setColor(Color.BLACK);\n        add(o);\n        return o;\n    }\n\n    private void addPaddle() {\n        paddle = new GRect((WIDTH - PADDLE_WIDTH) / 2.0, HEIGHT - PADDLE_Y_OFFSET, PADDLE_WIDTH, PADDLE_HEIGHT);\n        paddle.setColor(Color.BLACK);\n        paddle.setFilled(true);\n        paddle.setFillColor(Color.BLACK);\n        add(paddle);\n    }\n\n    public void mouseMoved(MouseEvent mouseEvent) {\n        int newX = mouseEvent.getX();\n        if (newX - (double) PADDLE_WIDTH / 2 &gt;= 0 &amp;&amp; newX + (double) PADDLE_WIDTH / 2 &lt;= getWidth()) {\n            paddle.setLocation(newX - (double) PADDLE_WIDTH / 2, HEIGHT - PADDLE_Y_OFFSET);\n        }\n    }\n\n    private void addBricks() {\n        for (int i = 0; i &lt; NBRICK_ROWS; i++) {\n            for (int j = 0; j &lt; NBRICKS_PER_ROW; j++) {\n                addBrick(i, j);\n            }\n        }\n    }\n\n    private void addBrick(int i, int j) {\n        int x = BRICK_SEP / 2;\n        int n1 = i &lt; NBRICKS_PER_ROW ? 1 : 0;\n        int n2 = j &lt; NBRICK_ROWS ? 1 : 0;\n        GRect brick = new GRect(x + i * (BRICK_WIDTH + (BRICK_SEP) * n1), BRICK_Y_OFFSET + j * (BRICK_HEIGHT + BRICK_SEP * n2), BRICK_WIDTH, BRICK_HEIGHT);\n        brick.setFillColor(Color.BLACK);\n        brick.setFilled(true);\n        brick.setColor(Color.BLACK);\n        add(brick);\n    }\n\n    // @Override\n    public void run() {\n        getMenuBar().setVisible(false);\n        addMouseListeners();\n        addPaddle();\n        addBricks();\n        o = addBall();\n        moveBall(o);\n    }\n}\n</code></pre>\n"},{"tags":["java","random"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1663850969,"post_id":73814914,"comment_id":130339674,"body_markdown":"The random number is generated with the `rand1.nextInt(1,100);` method call. Simply call that method again to get another random number instead of just saving the result of that call in a variable and always using that variable.","body":"The random number is generated with the <code>rand1.nextInt(1,100);</code> method call. Simply call that method again to get another random number instead of just saving the result of that call in a variable and always using that variable."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1663851040,"post_id":73814914,"comment_id":130339706,"body_markdown":"If you assign the result of a method call to a variable, the using that variable will not automatically call the method again. It will only get called one time for the initial assignment to the variable.","body":"If you assign the result of a method call to a variable, the using that variable will not automatically call the method again. It will only get called one time for the initial assignment to the variable."},{"owner":{"account_id":26390396,"reputation":1,"user_id":20042335,"display_name":"Milkman784"},"score":0,"creation_date":1663851692,"post_id":73814914,"comment_id":130339985,"body_markdown":"How would I go about doing this?","body":"How would I go about doing this?"}],"answers":[{"tags":[],"owner":{"account_id":22049479,"reputation":41,"user_id":16313975,"display_name":"Drl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663853326,"creation_date":1663853021,"answer_id":73815454,"question_id":73814914,"body_markdown":"Your question is not clear, but if I understand right, you want to print random number from 1 to 100, just modify ActionPerformed method.\r\n\r\n    //The actionlistener\r\n        btn.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n            System.out.println(rand1.nextInt(100));\r\n\r\n            }\r\n        });\r\n\r\nYou get the same random number because you are calling method nextInt only one time in main method.","title":"How to get my random number generator to not give the same result every time? (So I dont have to restart the program)","body":"<p>Your question is not clear, but if I understand right, you want to print random number from 1 to 100, just modify ActionPerformed method.</p>\n<pre><code>//The actionlistener\n    btn.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n        System.out.println(rand1.nextInt(100));\n\n        }\n    });\n</code></pre>\n<p>You get the same random number because you are calling method nextInt only one time in main method.</p>\n"},{"tags":[],"owner":{"account_id":25846168,"reputation":133,"user_id":19580991,"display_name":"eliasciur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663895296,"creation_date":1663895296,"answer_id":73822049,"question_id":73814914,"body_markdown":"I think what your trying to do is print a new random number every time that the button is clicked. If that is the case consider the code below.\r\n\r\n```\r\n//The actionlistener\r\nbtn.addActionListener(new ActionListener() {\r\n   public void actionPerformed(ActionEvent e) {\r\n     System.out.println((int) (Math.random() * 100));\r\n\r\n   }\r\n});\r\n```","title":"How to get my random number generator to not give the same result every time? (So I dont have to restart the program)","body":"<p>I think what your trying to do is print a new random number every time that the button is clicked. If that is the case consider the code below.</p>\n<pre><code>//The actionlistener\nbtn.addActionListener(new ActionListener() {\n   public void actionPerformed(ActionEvent e) {\n     System.out.println((int) (Math.random() * 100));\n\n   }\n});\n</code></pre>\n"}],"owner":{"account_id":26390396,"reputation":1,"user_id":20042335,"display_name":"Milkman784"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1663909039,"creation_date":1663850856,"question_id":73814914,"body_markdown":"How to get my random number generator (Java) to not give the same result every time? (So I dont have to restart the program)\r\nI have even tried to add in 2 different generators to see if that would change the outcome, but it dousnt. If anyone knows a meathod please let me know.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Random;\r\n\r\n\r\npublic class RNG {\r\n\r\n    public static void main(String args[]) {\r\n\r\n        //The frame\r\n        JFrame frm = new JFrame();\r\n        frm.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frm.setSize(500, 300);\r\n        frm.setResizable(true);\r\n        frm.setTitle(&quot;Random Number Generator&quot;);\r\n        frm.setLocationRelativeTo(null);\r\n        frm.setVisible(true);\r\n        frm.setLayout(null);\r\n\r\n        //The button\r\n        JButton btn = new JButton(&quot;Refresh Number!&quot;);\r\n        btn.setBounds(120, 100, 200, 50);\r\n        frm.add(btn);\r\n\r\n        //The generator\r\n        int rand3;\r\n        int min = 1;\r\n        int max = 100;\r\n        int rand2 = (int)(Math.random()*(max-min+1)+min);\r\n\r\n        Random rand1 = new Random();\r\n        rand3 = rand1.nextInt(1,100);\r\n\r\n\r\n        //The actionlistener\r\n        btn.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n            System.out.println(rand3*rand2/100);\r\n\r\n            }\r\n        });\r\n    }\r\n    }\r\n```\r\n","title":"How to get my random number generator to not give the same result every time? (So I dont have to restart the program)","body":"<p>How to get my random number generator (Java) to not give the same result every time? (So I dont have to restart the program)\nI have even tried to add in 2 different generators to see if that would change the outcome, but it dousnt. If anyone knows a meathod please let me know.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\n\npublic class RNG {\n\n    public static void main(String args[]) {\n\n        //The frame\n        JFrame frm = new JFrame();\n        frm.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frm.setSize(500, 300);\n        frm.setResizable(true);\n        frm.setTitle(&quot;Random Number Generator&quot;);\n        frm.setLocationRelativeTo(null);\n        frm.setVisible(true);\n        frm.setLayout(null);\n\n        //The button\n        JButton btn = new JButton(&quot;Refresh Number!&quot;);\n        btn.setBounds(120, 100, 200, 50);\n        frm.add(btn);\n\n        //The generator\n        int rand3;\n        int min = 1;\n        int max = 100;\n        int rand2 = (int)(Math.random()*(max-min+1)+min);\n\n        Random rand1 = new Random();\n        rand3 = rand1.nextInt(1,100);\n\n\n        //The actionlistener\n        btn.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n            System.out.println(rand3*rand2/100);\n\n            }\n        });\n    }\n    }\n</code></pre>\n"},{"tags":["java","android","memory"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1663913301,"post_id":73823098,"comment_id":130355188,"body_markdown":"Maybe the error refers to RAM, not FLASH ROM (storage). This may be caused by too many apps running in parallel, or few apps taking too much memory in total.","body":"Maybe the error refers to RAM, not FLASH ROM (storage). This may be caused by too many apps running in parallel, or few apps taking too much memory in total."},{"owner":{"account_id":7665070,"reputation":1,"user_id":5809013,"display_name":"Amal Karunakaran"},"score":0,"creation_date":1663925103,"post_id":73823098,"comment_id":130358771,"body_markdown":"@HiranChaudhuri checked that also RAM ia about 2GB available as free.","body":"@HiranChaudhuri checked that also RAM ia about 2GB available as free."}],"owner":{"account_id":7665070,"reputation":1,"user_id":5809013,"display_name":"Amal Karunakaran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663908625,"creation_date":1663908514,"question_id":73823098,"body_markdown":"[Your phone&#39;s memory is low - error message on my android application using camera][2]\r\n\r\n&quot;**Your phone&#39;s memory is low**&quot; notice appears on my Android application (java), which uses a custom camera, at random.\r\nIs there a way for Android to catch this issue.I &#160;need to handle this without user interaction within my programme.\r\nAny Java method to find this? I experimented with deleting the cache after an action(on destoy,cleared cache). But that doesn&#39;t resolve the problem.\r\n\r\n  [2]: https://i.stack.imgur.com/9Jlk1.jpg","title":"I still have a lot of space left in my phone memory &amp; storage But on some application its showing error &quot;Your phone memory is Low&quot;","body":"<p><a href=\"https://i.stack.imgur.com/9Jlk1.jpg\" rel=\"nofollow noreferrer\">Your phone's memory is low - error message on my android application using camera</a></p>\n<p>&quot;<strong>Your phone's memory is low</strong>&quot; notice appears on my Android application (java), which uses a custom camera, at random.\nIs there a way for Android to catch this issue.I  need to handle this without user interaction within my programme.\nAny Java method to find this? I experimented with deleting the cache after an action(on destoy,cleared cache). But that doesn't resolve the problem.</p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":47622,"reputation":148548,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"score":3,"creation_date":1660697272,"post_id":73381694,"comment_id":129591997,"body_markdown":"https://learn.microsoft.com/en-us/dotnet/api/system.gc?view=net-6.0","body":"<a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.gc?view=net-6.0\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/api/system.gc?view=net-6.0</a>"},{"owner":{"account_id":15567203,"reputation":1060,"user_id":11230588,"display_name":"Francis G"},"score":1,"creation_date":1660697670,"post_id":73381694,"comment_id":129592071,"body_markdown":"Try reading this docs on GC Class https://learn.microsoft.com/en-us/dotnet/api/system.gc?view=net-6.0","body":"Try reading this docs on GC Class <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.gc?view=net-6.0\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/api/system.gc?view=net-6.0</a>"}],"answers":[{"tags":[],"owner":{"account_id":26081963,"reputation":11,"user_id":19779937,"display_name":"SeongSikChae"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663908296,"creation_date":1663908296,"answer_id":73823082,"question_id":73381694,"body_markdown":"```\r\n// Java\r\nRuntime rt = Runtime.getRuntime();\r\nSystem.out.printf(&quot;MEM: %,d/%,d/%,d\\n&quot;, rt.freeMemory(), rt.totalMemory(), rt.maxMemory());\r\n```\r\n\r\n```\r\n// C#\r\nGCMemoryInfo memoryInfo = GC.GetGCMemoryInfo(GCKind.Any);\r\nlong maxMemory = memoryInfo.TotalAvailableMemoryBytes;\r\nlong totalMemory = GC.GetTotalMemory(false);\r\nlong freeMemory = maxMemory - totalMemory;\r\nConsole.WriteLine($&quot;MEM: {freeMemory:#,##0}/{totalMemory:#,##0}/{maxMemory:#,##0}&quot;);\r\n```\r\n\r\nAny problems with this method?","title":"C# equivalent to Java&#39;s Runtime.freeMemory(), Runtime.totalMemory(), Runtime.maxMemory()","body":"<pre><code>// Java\nRuntime rt = Runtime.getRuntime();\nSystem.out.printf(&quot;MEM: %,d/%,d/%,d\\n&quot;, rt.freeMemory(), rt.totalMemory(), rt.maxMemory());\n</code></pre>\n<pre><code>// C#\nGCMemoryInfo memoryInfo = GC.GetGCMemoryInfo(GCKind.Any);\nlong maxMemory = memoryInfo.TotalAvailableMemoryBytes;\nlong totalMemory = GC.GetTotalMemory(false);\nlong freeMemory = maxMemory - totalMemory;\nConsole.WriteLine($&quot;MEM: {freeMemory:#,##0}/{totalMemory:#,##0}/{maxMemory:#,##0}&quot;);\n</code></pre>\n<p>Any problems with this method?</p>\n"}],"owner":{"account_id":26081963,"reputation":11,"user_id":19779937,"display_name":"SeongSikChae"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663908296,"creation_date":1660696359,"question_id":73381694,"body_markdown":"I would like to know how the following methods in Java are used in C#.\r\n\r\n    Runtime.freeMemory()\r\n\r\n    Runtime.totalMemory()\r\n\r\n    Runtime.maxMemory()","title":"C# equivalent to Java&#39;s Runtime.freeMemory(), Runtime.totalMemory(), Runtime.maxMemory()","body":"<p>I would like to know how the following methods in Java are used in C#.</p>\n<pre><code>Runtime.freeMemory()\n\nRuntime.totalMemory()\n\nRuntime.maxMemory()\n</code></pre>\n"},{"tags":["java","android","brightness","screen-brightness"],"comments":[{"owner":{"account_id":989003,"reputation":1281,"user_id":1006780,"accept_rate":62,"display_name":"Dhairya Vora"},"score":0,"creation_date":1376912021,"post_id":18312609,"comment_id":26872480,"body_markdown":"similar question : http://stackoverflow.com/questions/3737579/changing-screen-brightness-programmatically-in-android","body":"similar question : <a href=\"http://stackoverflow.com/questions/3737579/changing-screen-brightness-programmatically-in-android\" title=\"changing screen brightness programmatically in android\">stackoverflow.com/questions/3737579/&hellip;</a>"},{"owner":{"account_id":1878548,"reputation":27164,"user_id":1699210,"display_name":"bummi"},"score":0,"creation_date":1411392187,"post_id":18312609,"comment_id":40672281,"body_markdown":"possible duplicate of [Can&#39;t apply system screen brightness programmatically in Android](http://stackoverflow.com/questions/5032588/cant-apply-system-screen-brightness-programmatically-in-android)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5032588/cant-apply-system-screen-brightness-programmatically-in-android\">Can&#39;t apply system screen brightness programmatically in Android</a>"},{"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"score":0,"creation_date":1603829187,"post_id":18312609,"comment_id":114159690,"body_markdown":"This is an old question. I have put complete answer at the bottom of this page. Hope it will save everyone&#39;s time.","body":"This is an old question. I have put complete answer at the bottom of this page. Hope it will save everyone&#39;s time."},{"owner":{"account_id":4330183,"reputation":8318,"user_id":3535925,"accept_rate":50,"display_name":"Pragnesh Ghoda  シ"},"score":0,"creation_date":1674479679,"post_id":18312609,"comment_id":132715996,"body_markdown":"Check this blog. https://medium.com/p/18be3eecd6b7","body":"Check this blog. <a href=\"https://medium.com/p/18be3eecd6b7\" rel=\"nofollow noreferrer\">medium.com/p/18be3eecd6b7</a>"},{"owner":{"account_id":4330183,"reputation":8318,"user_id":3535925,"accept_rate":50,"display_name":"Pragnesh Ghoda  シ"},"score":0,"creation_date":1678032283,"post_id":18312609,"comment_id":133450439,"body_markdown":"https://androidacademic.blogspot.com/2023/03/change-android-screen-brightness.html","body":"<a href=\"https://androidacademic.blogspot.com/2023/03/change-android-screen-brightness.html\" rel=\"nofollow noreferrer\">androidacademic.blogspot.com/2023/03/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1750961,"reputation":13745,"user_id":1600058,"accept_rate":47,"display_name":"Amit Prajapati"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1663907945,"creation_date":1376911828,"answer_id":18312722,"question_id":18312609,"body_markdown":"You can set the `screenBrightness` attribute of the window, like so:\r\n    \r\n    WindowManager.LayoutParams layout = getWindow().getAttributes();\r\n    layout.screenBrightness = 1F;\r\n    getWindow().setAttributes(layout);     \r\n\r\nThis code/technique is adapted from a blog entry by Almond Joseph Mendoza on January 5, 2009, entitled &quot;Changing the Screen Brightness Programatically&quot; ([archived on the Wayback Machine](https://web.archive.org/web/20130531011219/http://www.tutorialforandroid.com/2009/01/changing-screen-brightness.html)).\r\n\r\nThe [`screenBrightness` attribute](https://developer.android.com/reference/android/view/WindowManager.LayoutParams#screenBrightness) is a floating-point value ranging from 0 to 1, where 0.0 is 0% brightness, 0.5 is 50% brightness, and 1.0 is 100% brightness.\r\n\r\nNote that this doesn&#39;t affect the brightness for the entire system, only for that particular window. However, in most cases, for most applications, this is probably all you need. In particular, it has the advantage of not requiring elevated permissions, which would be required to change a global system setting.","title":"Change the System Brightness Programmatically","body":"<p>You can set the <code>screenBrightness</code> attribute of the window, like so:</p>\n<pre><code>WindowManager.LayoutParams layout = getWindow().getAttributes();\nlayout.screenBrightness = 1F;\ngetWindow().setAttributes(layout);     \n</code></pre>\n<p>This code/technique is adapted from a blog entry by Almond Joseph Mendoza on January 5, 2009, entitled &quot;Changing the Screen Brightness Programatically&quot; (<a href=\"https://web.archive.org/web/20130531011219/http://www.tutorialforandroid.com/2009/01/changing-screen-brightness.html\" rel=\"noreferrer\">archived on the Wayback Machine</a>).</p>\n<p>The <a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams#screenBrightness\" rel=\"noreferrer\"><code>screenBrightness</code> attribute</a> is a floating-point value ranging from 0 to 1, where 0.0 is 0% brightness, 0.5 is 50% brightness, and 1.0 is 100% brightness.</p>\n<p>Note that this doesn't affect the brightness for the entire system, only for that particular window. However, in most cases, for most applications, this is probably all you need. In particular, it has the advantage of not requiring elevated permissions, which would be required to change a global system setting.</p>\n"},{"tags":[],"owner":{"account_id":2739192,"reputation":7424,"user_id":2361098,"accept_rate":24,"display_name":"Bhoomika Brahmbhatt"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1376913733,"creation_date":1376911962,"answer_id":18312757,"question_id":18312609,"body_markdown":"I had the same problem.\r\n\r\n\r\n\r\nTwo solutions:\r\n\r\nhere, brightness =`(int) 0 to 100 range` as i am using progressbar\r\n\r\n**1 SOLUTION**\r\n\r\n    float brightness = brightness / (float)255;\r\n    WindowManager.LayoutParams lp = getWindow().getAttributes();\r\n    \t\tlp.screenBrightness = brightness;\r\n    \t\tgetWindow().setAttributes(lp);\r\n\r\n**2 SOLUTION**\r\n   \r\nI just used dummy activity to call when my progress bar `stop` seeking.\r\n\r\n     Intent intent = new Intent(getBaseContext(), DummyBrightnessActivity.class);\r\n        \t\t\t\tLog.d(&quot;brightend&quot;, String.valueOf(brightness / (float)255));\r\n        \t\t\t\tintent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); //this is important\r\n        \t\t\t\t//in the next line &#39;brightness&#39; should be a float number between 0.0 and 1.0\r\n        \t\t\t\tintent.putExtra(&quot;brightness value&quot;, brightness / (float)255); \r\n        \t\t\t\tgetApplication().startActivity(intent);\r\n\r\nNow coming to the DummyBrightnessActivity.class\r\n\r\n     public class DummyBrightnessActivity extends Activity{\r\n\r\n\tprivate static final int DELAYED_MESSAGE = 1;\r\n\r\n\tprivate Handler handler;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);            \r\n\t\thandler = new Handler() {\r\n\t\t\t@Override\r\n\t\t\tpublic void handleMessage(Message msg) {\r\n\t\t\t\tif(msg.what == DELAYED_MESSAGE) {\r\n\t\t\t\t\tDummyBrightnessActivity.this.finish();\r\n\t\t\t\t}\r\n\t\t\t\tsuper.handleMessage(msg);\r\n\t\t\t}\r\n\t\t};\r\n\t\tIntent brightnessIntent = this.getIntent();\r\n\t\tfloat brightness = brightnessIntent.getFloatExtra(&quot;brightness value&quot;, 0);\r\n\t\tWindowManager.LayoutParams lp = getWindow().getAttributes();\r\n\t\tlp.screenBrightness = brightness;\r\n\t\tgetWindow().setAttributes(lp);\r\n\r\n\t\tMessage message = handler.obtainMessage(DELAYED_MESSAGE);\r\n\t\t//this next line is very important, you need to finish your activity with slight delay\r\n\t\thandler.sendMessageDelayed(message,200); \r\n\t}\r\n\r\n    }\r\n\r\ndon&#39;t forget to register DummyBrightnessActivity to manifest.\r\n\r\nhope it helps!!","title":"Change the System Brightness Programmatically","body":"<p>I had the same problem.</p>\n\n<p>Two solutions:</p>\n\n<p>here, brightness =<code>(int) 0 to 100 range</code> as i am using progressbar</p>\n\n<p><strong>1 SOLUTION</strong></p>\n\n<pre><code>float brightness = brightness / (float)255;\nWindowManager.LayoutParams lp = getWindow().getAttributes();\n        lp.screenBrightness = brightness;\n        getWindow().setAttributes(lp);\n</code></pre>\n\n<p><strong>2 SOLUTION</strong></p>\n\n<p>I just used dummy activity to call when my progress bar <code>stop</code> seeking.</p>\n\n<pre><code> Intent intent = new Intent(getBaseContext(), DummyBrightnessActivity.class);\n                    Log.d(\"brightend\", String.valueOf(brightness / (float)255));\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); //this is important\n                    //in the next line 'brightness' should be a float number between 0.0 and 1.0\n                    intent.putExtra(\"brightness value\", brightness / (float)255); \n                    getApplication().startActivity(intent);\n</code></pre>\n\n<p>Now coming to the DummyBrightnessActivity.class</p>\n\n<pre><code> public class DummyBrightnessActivity extends Activity{\n\nprivate static final int DELAYED_MESSAGE = 1;\n\nprivate Handler handler;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);            \n    handler = new Handler() {\n        @Override\n        public void handleMessage(Message msg) {\n            if(msg.what == DELAYED_MESSAGE) {\n                DummyBrightnessActivity.this.finish();\n            }\n            super.handleMessage(msg);\n        }\n    };\n    Intent brightnessIntent = this.getIntent();\n    float brightness = brightnessIntent.getFloatExtra(\"brightness value\", 0);\n    WindowManager.LayoutParams lp = getWindow().getAttributes();\n    lp.screenBrightness = brightness;\n    getWindow().setAttributes(lp);\n\n    Message message = handler.obtainMessage(DELAYED_MESSAGE);\n    //this next line is very important, you need to finish your activity with slight delay\n    handler.sendMessageDelayed(message,200); \n}\n\n}\n</code></pre>\n\n<p>don't forget to register DummyBrightnessActivity to manifest.</p>\n\n<p>hope it helps!!</p>\n"},{"tags":[],"owner":{"account_id":1692900,"reputation":16669,"user_id":1554935,"accept_rate":78,"display_name":"Ritesh Gune"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1638272212,"creation_date":1376912171,"answer_id":18312812,"question_id":18312609,"body_markdown":"You can use following:\r\n\r\n    // Variable to store brightness value\r\n    private int brightness;\r\n    // Content resolver used as a handle to the system&#39;s settings\r\n    private ContentResolver cResolver;\r\n    // Window object, that will store a reference to the current window\r\n    private Window window;\r\n\r\nIn your onCreate write:\r\n\r\n    // Get the content resolver\r\n    cResolver = getContentResolver();\r\n     \r\n    // Get the current window\r\n    window = getWindow();\r\n        \r\n    try {\r\n        // To handle the auto\r\n        Settings.System.putInt(\r\n            cResolver,\r\n            Settings.System.SCREEN_BRIGHTNESS_MODE,\r\n            Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL\r\n        );\r\n        // Get the current system brightness\r\n        brightness = Settings.System.getInt(\r\n            cResolver, Settings.System.SCREEN_BRIGHTNESS\r\n        );\r\n    } catch (SettingNotFoundException e) {\r\n        // Throw an error case it couldn&#39;t be retrieved\r\n        Log.e(&quot;Error&quot;, &quot;Cannot access system brightness&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\nWrite the code to monitor the change in brightness.\r\n\r\nthen you can set the updated brightness as follows:\r\n\r\n    // Set the system brightness using the brightness variable value\r\n    Settings.System.putInt(\r\n        cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness\r\n    );\r\n    // Get the current window attributes\r\n    LayoutParams layoutpars = window.getAttributes();\r\n    // Set the brightness of this window\r\n    layoutpars.screenBrightness = brightness / 255f;\r\n    // Apply attribute changes to this window\r\n    window.setAttributes(layoutpars);\r\n\r\nPermission in manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\r\n\r\nFor API &gt;= 23, you need to request the permission through Settings Activity, described here:\r\nhttps://stackoverflow.com/questions/32083410/cant-get-write-settings-permission","title":"Change the System Brightness Programmatically","body":"<p>You can use following:</p>\n<pre><code>// Variable to store brightness value\nprivate int brightness;\n// Content resolver used as a handle to the system's settings\nprivate ContentResolver cResolver;\n// Window object, that will store a reference to the current window\nprivate Window window;\n</code></pre>\n<p>In your onCreate write:</p>\n<pre><code>// Get the content resolver\ncResolver = getContentResolver();\n \n// Get the current window\nwindow = getWindow();\n    \ntry {\n    // To handle the auto\n    Settings.System.putInt(\n        cResolver,\n        Settings.System.SCREEN_BRIGHTNESS_MODE,\n        Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL\n    );\n    // Get the current system brightness\n    brightness = Settings.System.getInt(\n        cResolver, Settings.System.SCREEN_BRIGHTNESS\n    );\n} catch (SettingNotFoundException e) {\n    // Throw an error case it couldn't be retrieved\n    Log.e(&quot;Error&quot;, &quot;Cannot access system brightness&quot;);\n    e.printStackTrace();\n}\n</code></pre>\n<p>Write the code to monitor the change in brightness.</p>\n<p>then you can set the updated brightness as follows:</p>\n<pre><code>// Set the system brightness using the brightness variable value\nSettings.System.putInt(\n    cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness\n);\n// Get the current window attributes\nLayoutParams layoutpars = window.getAttributes();\n// Set the brightness of this window\nlayoutpars.screenBrightness = brightness / 255f;\n// Apply attribute changes to this window\nwindow.setAttributes(layoutpars);\n</code></pre>\n<p>Permission in manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;\n</code></pre>\n<p>For API &gt;= 23, you need to request the permission through Settings Activity, described here:\n<a href=\"https://stackoverflow.com/questions/32083410/cant-get-write-settings-permission\">Can&#39;t get WRITE_SETTINGS permission</a></p>\n"},{"tags":[],"owner":{"account_id":1447219,"reputation":727,"user_id":1365279,"accept_rate":88,"display_name":"Ann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384497458,"creation_date":1384497458,"answer_id":19994976,"question_id":18312609,"body_markdown":"Please Try this , it&#39;s May help you. Worked fine for me\r\n\r\n\r\nAccording to my experience\r\n\r\n   \r\n\r\n\r\n     1st method.\r\n                         WindowManager.LayoutParams lp = getWindow().getAttributes();  \r\n                     lp.screenBrightness = 75 / 100.0f;  \r\n                     getWindow().setAttributes(lp);\r\n\r\nwhere the brightness value very according to 1.0f.100f is maximum brightness.\r\n\r\nThe above mentioned code will increase the brightness of the current window. If we want to increase the brightness of the entire android device this code is not enough, for that we need to use\r\n\r\n       2nd method.\r\n \r\n\r\n\r\n           android.provider.Settings.System.putInt(getContentResolver(),\r\n                             android.provider.Settings.System.SCREEN_BRIGHTNESS, 192); \r\n\r\nWhere 192 is the brightness value which very from 1 to 255. The main problem of using 2nd method is it will show the brightness in increased form in android device but actually it will fail to increase android device brightness.This is because it need some refreshing.\r\n\r\nThat is why I find out the solution by using both codes together.\r\n\r\n                if(arg2==1)\r\n                    {\r\n\r\n             WindowManager.LayoutParams lp = getWindow().getAttributes();  \r\n                     lp.screenBrightness = 75 / 100.0f;  \r\n                     getWindow().setAttributes(lp);  \r\n                     android.provider.Settings.System.putInt(getContentResolver(),\r\n                             android.provider.Settings.System.SCREEN_BRIGHTNESS, 192);\r\n\r\n\r\n                        }\r\n\r\nIt worked properly for me\r\n","title":"Change the System Brightness Programmatically","body":"<p>Please Try this , it's May help you. Worked fine for me</p>\n\n<p>According to my experience</p>\n\n<pre><code> 1st method.\n                     WindowManager.LayoutParams lp = getWindow().getAttributes();  \n                 lp.screenBrightness = 75 / 100.0f;  \n                 getWindow().setAttributes(lp);\n</code></pre>\n\n<p>where the brightness value very according to 1.0f.100f is maximum brightness.</p>\n\n<p>The above mentioned code will increase the brightness of the current window. If we want to increase the brightness of the entire android device this code is not enough, for that we need to use</p>\n\n<pre><code>   2nd method.\n\n\n\n       android.provider.Settings.System.putInt(getContentResolver(),\n                         android.provider.Settings.System.SCREEN_BRIGHTNESS, 192); \n</code></pre>\n\n<p>Where 192 is the brightness value which very from 1 to 255. The main problem of using 2nd method is it will show the brightness in increased form in android device but actually it will fail to increase android device brightness.This is because it need some refreshing.</p>\n\n<p>That is why I find out the solution by using both codes together.</p>\n\n<pre><code>            if(arg2==1)\n                {\n\n         WindowManager.LayoutParams lp = getWindow().getAttributes();  \n                 lp.screenBrightness = 75 / 100.0f;  \n                 getWindow().setAttributes(lp);  \n                 android.provider.Settings.System.putInt(getContentResolver(),\n                         android.provider.Settings.System.SCREEN_BRIGHTNESS, 192);\n\n\n                    }\n</code></pre>\n\n<p>It worked properly for me</p>\n"},{"tags":[],"owner":{"account_id":3716064,"reputation":101,"user_id":3092247,"display_name":"user3092247"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1394634302,"creation_date":1394634302,"answer_id":22354553,"question_id":18312609,"body_markdown":"I tried several solutions that others posted and none of them worked exactly right. The answer from geet is basically correct but has some syntactic errors. I created and used the following function in my application and it worked great. Note this specifically changes the system brightness as asked in the original question.\r\n\r\n    public void setBrightness(int brightness){\r\n\t\t\r\n\t\t//constrain the value of brightness\r\n\t\tif(brightness &lt; 0)\r\n\t\t\tbrightness = 0;\r\n\t\telse if(brightness &gt; 255)\r\n\t\t\tbrightness = 255;\r\n\t\t\r\n\t\t\r\n\t\tContentResolver cResolver = this.getApplicationContext().getContentResolver();\r\n\t\tSettings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness);\r\n\t\t\r\n\t}","title":"Change the System Brightness Programmatically","body":"<p>I tried several solutions that others posted and none of them worked exactly right. The answer from geet is basically correct but has some syntactic errors. I created and used the following function in my application and it worked great. Note this specifically changes the system brightness as asked in the original question.</p>\n\n<pre><code>public void setBrightness(int brightness){\n\n    //constrain the value of brightness\n    if(brightness &lt; 0)\n        brightness = 0;\n    else if(brightness &gt; 255)\n        brightness = 255;\n\n\n    ContentResolver cResolver = this.getApplicationContext().getContentResolver();\n    Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4246566,"reputation":304,"user_id":3475052,"accept_rate":0,"display_name":"Ankita Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428658774,"creation_date":1428657706,"answer_id":29557765,"question_id":18312609,"body_markdown":"this worked for me till kitkat 4.4 but not in android L \r\n\r\n    private void stopBrightness() {\r\n        Settings.System.putInt(this.getContentResolver(),\r\n                Settings.System.SCREEN_BRIGHTNESS, 0);\r\n    }","title":"Change the System Brightness Programmatically","body":"<p>this worked for me till kitkat 4.4 but not in android L </p>\n\n<pre><code>private void stopBrightness() {\n    Settings.System.putInt(this.getContentResolver(),\n            Settings.System.SCREEN_BRIGHTNESS, 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6444436,"reputation":891,"user_id":5006373,"display_name":"dondondon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500012129,"creation_date":1441462344,"answer_id":32414040,"question_id":18312609,"body_markdown":"This is the complete code on how to change system brightness\r\n\r\n\r\n        private SeekBar brightbar;\r\n\r\n        //Variable to store brightness value\r\n        private int brightness;\r\n        //Content resolver used as a handle to the system&#39;s settings\r\n        private ContentResolver Conresolver;\r\n        //Window object, that will store a reference to the current window\r\n        private Window window;\r\n\r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        public void onCreate (Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n\r\n            //Instantiate seekbar object\r\n            brightbar = (SeekBar) findViewById(R.id.ChangeBright);\r\n            \r\n            //Get the content resolver\r\n            Conresolver = getContentResolver();\r\n\r\n            //Get the current window\r\n            window = getWindow();\r\n            \r\n            brightbar.setMax(255);\r\n\r\n            brightbar.setKeyProgressIncrement(1);\r\n\r\n            try {\r\n                brightness = System.getInt(Conresolver, System.SCREEN_BRIGHTNESS);\r\n            } catch (SettingNotFoundException e) {\r\n                Log.e(&quot;Error&quot;, &quot;Cannot access system brightness&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            brightbar.setProgress(brightness);\r\n            \r\n            brightbar.setOnSeekBarChangeListener(new OnSeekBarChangeListener() {\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n                    System.putInt(Conresolver, System.SCREEN_BRIGHTNESS, brightness);\r\n\r\n                    LayoutParams layoutpars = window.getAttributes();\r\n\r\n                    layoutpars.screenBrightness = brightness / (float) 255;\r\n\r\n                    window.setAttributes(layoutpars);\r\n                }\r\n\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n                }\r\n\r\n                public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n\r\n                    if (progress &lt;= 20) {\r\n\r\n                        brightness = 20;\r\n                    } else {\r\n\r\n                        brightness = progress;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\nOr you may check this [tutorial][1] for complete code&lt;br&gt;\r\nhappy coding:)\r\n\r\n\r\n  [1]: http://programondaspot.blogspot.com/2015/09/change-screen-brightness.html","title":"Change the System Brightness Programmatically","body":"<p>This is the complete code on how to change system brightness</p>\n\n<pre><code>    private SeekBar brightbar;\n\n    //Variable to store brightness value\n    private int brightness;\n    //Content resolver used as a handle to the system's settings\n    private ContentResolver Conresolver;\n    //Window object, that will store a reference to the current window\n    private Window window;\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate (Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        //Instantiate seekbar object\n        brightbar = (SeekBar) findViewById(R.id.ChangeBright);\n\n        //Get the content resolver\n        Conresolver = getContentResolver();\n\n        //Get the current window\n        window = getWindow();\n\n        brightbar.setMax(255);\n\n        brightbar.setKeyProgressIncrement(1);\n\n        try {\n            brightness = System.getInt(Conresolver, System.SCREEN_BRIGHTNESS);\n        } catch (SettingNotFoundException e) {\n            Log.e(\"Error\", \"Cannot access system brightness\");\n            e.printStackTrace();\n        }\n\n        brightbar.setProgress(brightness);\n\n        brightbar.setOnSeekBarChangeListener(new OnSeekBarChangeListener() {\n            public void onStopTrackingTouch(SeekBar seekBar) {\n                System.putInt(Conresolver, System.SCREEN_BRIGHTNESS, brightness);\n\n                LayoutParams layoutpars = window.getAttributes();\n\n                layoutpars.screenBrightness = brightness / (float) 255;\n\n                window.setAttributes(layoutpars);\n            }\n\n            public void onStartTrackingTouch(SeekBar seekBar) {\n            }\n\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n\n                if (progress &lt;= 20) {\n\n                    brightness = 20;\n                } else {\n\n                    brightness = progress;\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>Or you may check this <a href=\"http://programondaspot.blogspot.com/2015/09/change-screen-brightness.html\" rel=\"nofollow noreferrer\">tutorial</a> for complete code<br>\nhappy coding:)</p>\n"},{"tags":[],"owner":{"account_id":6995192,"reputation":673,"user_id":5363082,"display_name":"arshad shaikh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562169487,"creation_date":1453379315,"answer_id":34923863,"question_id":18312609,"body_markdown":"    private SeekBar Brighness = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n\t     super.onCreate(savedInstanceState);\r\n             setContentView(R.layout.activity_lcd_screen_setting);\r\n\t     initUI();\r\n\t     setBrightness();\r\n    }\r\n\r\n    private void setBrightness() {\r\n\r\n        Brighness.setMax(255);\r\n        float curBrightnessValue = 0;\r\n\r\n        try {\r\n            curBrightnessValue = android.provider.Settings.System.getInt(\r\n                    getContentResolver(),\r\n                    android.provider.Settings.System.SCREEN_BRIGHTNESS);\r\n        } catch (Settings.SettingNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        int screen_brightness = (int) curBrightnessValue;\r\n        Brighness.setProgress(screen_brightness);\r\n\r\n        Brighness.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            int progress = 0;\r\n\r\n\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progresValue,\r\n                                          boolean fromUser) {\r\n                progress = progresValue;\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n                // Do something here,\r\n                // if you want to do anything at the start of\r\n                // touching the seekbar\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n                android.provider.Settings.System.putInt(getContentResolver(),\r\n                        android.provider.Settings.System.SCREEN_BRIGHTNESS,\r\n                        progress);\r\n            }\r\n        });\r\n    }\r\n\r\n    initUI(){\r\n       Brighness = (SeekBar) findViewById(R.id.brightnessbar);\r\n    }\r\n\r\nAdd this in manifest \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;\r\n     tools:ignore=&quot;ProtectedPermissions&quot;/&gt;","title":"Change the System Brightness Programmatically","body":"<pre><code>private SeekBar Brighness = null;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n     super.onCreate(savedInstanceState);\n         setContentView(R.layout.activity_lcd_screen_setting);\n     initUI();\n     setBrightness();\n}\n\nprivate void setBrightness() {\n\n    Brighness.setMax(255);\n    float curBrightnessValue = 0;\n\n    try {\n        curBrightnessValue = android.provider.Settings.System.getInt(\n                getContentResolver(),\n                android.provider.Settings.System.SCREEN_BRIGHTNESS);\n    } catch (Settings.SettingNotFoundException e) {\n        e.printStackTrace();\n    }\n    int screen_brightness = (int) curBrightnessValue;\n    Brighness.setProgress(screen_brightness);\n\n    Brighness.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        int progress = 0;\n\n\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progresValue,\n                                      boolean fromUser) {\n            progress = progresValue;\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n            // Do something here,\n            // if you want to do anything at the start of\n            // touching the seekbar\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n            android.provider.Settings.System.putInt(getContentResolver(),\n                    android.provider.Settings.System.SCREEN_BRIGHTNESS,\n                    progress);\n        }\n    });\n}\n\ninitUI(){\n   Brighness = (SeekBar) findViewById(R.id.brightnessbar);\n}\n</code></pre>\n\n<p>Add this in manifest </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_SETTINGS\"\n tools:ignore=\"ProtectedPermissions\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177601,"reputation":5275,"user_id":1153209,"accept_rate":36,"display_name":"prago"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474479660,"creation_date":1474479660,"answer_id":39623184,"question_id":18312609,"body_markdown":"    WindowManager.LayoutParams params = getWindow().getAttributes();\r\n        params.screenBrightness = 10; // range from 0 - 255 as per docs\r\n        getWindow().setAttributes(params);\r\n        getWindow().addFlags(WindowManager.LayoutParams.FLAGS_CHANGED);\r\n\r\n\r\nThis worked for me. No need of a dummy activity. This works only for your current activity.","title":"Change the System Brightness Programmatically","body":"<pre><code>WindowManager.LayoutParams params = getWindow().getAttributes();\n    params.screenBrightness = 10; // range from 0 - 255 as per docs\n    getWindow().setAttributes(params);\n    getWindow().addFlags(WindowManager.LayoutParams.FLAGS_CHANGED);\n</code></pre>\n\n<p>This worked for me. No need of a dummy activity. This works only for your current activity.</p>\n"},{"tags":[],"owner":{"account_id":5784105,"reputation":430,"user_id":4563919,"display_name":"Taimoor Tahir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536140006,"creation_date":1536140006,"answer_id":52181808,"question_id":18312609,"body_markdown":"    &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    \r\n    android.provider.Settings.System.putInt(getContentResolver(),\r\n                        android.provider.Settings.System.SCREEN_BRIGHTNESS,\r\n                        progress);","title":"Change the System Brightness Programmatically","body":"<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_SETTINGS\"\n        tools:ignore=\"ProtectedPermissions\" /&gt;\n\nandroid.provider.Settings.System.putInt(getContentResolver(),\n                    android.provider.Settings.System.SCREEN_BRIGHTNESS,\n                    progress);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10735936,"reputation":131,"user_id":7900568,"display_name":"Tal Fiskus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559857038,"creation_date":1559857038,"answer_id":56485406,"question_id":18312609,"body_markdown":"You need to create the variable:\r\n\r\nprivate WindowManager.LayoutParams mParams;\r\n\r\nthen override this method (to save your previous params):\r\n\r\n    @Override\r\n    public void onWindowAttributesChanged(WindowManager.LayoutParams params) {\r\n        mParams = params;\r\n        super.onWindowAttributesChanged(params);\r\n    }\r\n\r\n\r\nthan where you wish to change the screen brightness (on the app) just use:\r\n\r\n        mParams.screenBrightness = 0.01f; //use a value between 0.01f for low brightness and 1f for high brightness\r\n        getWindow().setAttributes(mParams);\r\n\r\ntested on api version 28.\r\n\r\n","title":"Change the System Brightness Programmatically","body":"<p>You need to create the variable:</p>\n\n<p>private WindowManager.LayoutParams mParams;</p>\n\n<p>then override this method (to save your previous params):</p>\n\n<pre><code>@Override\npublic void onWindowAttributesChanged(WindowManager.LayoutParams params) {\n    mParams = params;\n    super.onWindowAttributesChanged(params);\n}\n</code></pre>\n\n<p>than where you wish to change the screen brightness (on the app) just use:</p>\n\n<pre><code>    mParams.screenBrightness = 0.01f; //use a value between 0.01f for low brightness and 1f for high brightness\n    getWindow().setAttributes(mParams);\n</code></pre>\n\n<p>tested on api version 28.</p>\n"},{"tags":[],"owner":{"account_id":1305425,"reputation":5670,"user_id":1254514,"accept_rate":75,"display_name":"Paul Spiesberger"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1569507527,"creation_date":1569507527,"answer_id":58118853,"question_id":18312609,"body_markdown":"In my case, I only want to light up the screen when I display a `Fragment` and **not** change the system wide settings. There is a way to only change the brightness for your Application/Activity/Fragment. I use a [LifecycleObserver][1] to adjust the screen brightness for one `Fragment`:\r\n\r\n    class ScreenBrightnessLifecycleObserver(private val activity: WeakReference&lt;Activity?&gt;) :\r\n        LifecycleObserver {\r\n    \r\n        private var defaultScreenBrightness = 0.5f\r\n    \r\n        init {\r\n            activity.get()?.let {\r\n                defaultScreenBrightness = it.window.attributes.screenBrightness\r\n            }\r\n        }\r\n    \r\n        @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\r\n        fun lightUp() {\r\n            adjustScreenBrightness(1f)\r\n        }\r\n    \r\n        @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\r\n        fun lightDown() {\r\n            adjustScreenBrightness(defaultScreenBrightness)\r\n        }\r\n    \r\n        private fun adjustScreenBrightness(brightness: Float) {\r\n            activity.get()?.let {\r\n                val attr = it.window.attributes\r\n                attr.screenBrightness = brightness\r\n                it.window.attributes = attr\r\n            }\r\n        }\r\n    }\r\n\r\nAnd add the `LifecycleObserver` such as this in your `Fragment`:\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n    \r\n            // ...\r\n\r\n            lifecycle.addObserver(ScreenBrightnessLifecycleObserver(WeakReference(activity)))\r\n        \r\n            // ...\r\n\r\n            return binding.root\r\n    }\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/lifecycle","title":"Change the System Brightness Programmatically","body":"<p>In my case, I only want to light up the screen when I display a <code>Fragment</code> and <strong>not</strong> change the system wide settings. There is a way to only change the brightness for your Application/Activity/Fragment. I use a <a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle\" rel=\"noreferrer\">LifecycleObserver</a> to adjust the screen brightness for one <code>Fragment</code>:</p>\n\n<pre><code>class ScreenBrightnessLifecycleObserver(private val activity: WeakReference&lt;Activity?&gt;) :\n    LifecycleObserver {\n\n    private var defaultScreenBrightness = 0.5f\n\n    init {\n        activity.get()?.let {\n            defaultScreenBrightness = it.window.attributes.screenBrightness\n        }\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    fun lightUp() {\n        adjustScreenBrightness(1f)\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\n    fun lightDown() {\n        adjustScreenBrightness(defaultScreenBrightness)\n    }\n\n    private fun adjustScreenBrightness(brightness: Float) {\n        activity.get()?.let {\n            val attr = it.window.attributes\n            attr.screenBrightness = brightness\n            it.window.attributes = attr\n        }\n    }\n}\n</code></pre>\n\n<p>And add the <code>LifecycleObserver</code> such as this in your <code>Fragment</code>:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        // ...\n\n        lifecycle.addObserver(ScreenBrightnessLifecycleObserver(WeakReference(activity)))\n\n        // ...\n\n        return binding.root\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277796,"reputation":151,"user_id":4879944,"display_name":"draekko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583415257,"creation_date":1583415257,"answer_id":60546570,"question_id":18312609,"body_markdown":"Was just looking into this for Android 10 and this still works for me on there. But requires getting the calling Activity instance inside the fragment which is less than optimal since we only get the context from onAttach now. Setting it to -1.0f sets it to the system value (the one from brightness settings slider), 0.0f to 1.0f sets brightness values from min to max at your leisure.\r\n\r\n        WindowManager.LayoutParams lp = myactivity.getWindow().getAttributes();\r\n        lp.screenBrightness = brightness;\r\n        myactivity.getWindow().setAttributes(lp);\r\n        myactivity.getWindow().addFlags(WindowManager.LayoutParams.FLAGS_CHANGED);\r\n","title":"Change the System Brightness Programmatically","body":"<p>Was just looking into this for Android 10 and this still works for me on there. But requires getting the calling Activity instance inside the fragment which is less than optimal since we only get the context from onAttach now. Setting it to -1.0f sets it to the system value (the one from brightness settings slider), 0.0f to 1.0f sets brightness values from min to max at your leisure.</p>\n\n<pre><code>    WindowManager.LayoutParams lp = myactivity.getWindow().getAttributes();\n    lp.screenBrightness = brightness;\n    myactivity.getWindow().setAttributes(lp);\n    myactivity.getWindow().addFlags(WindowManager.LayoutParams.FLAGS_CHANGED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13458928,"reputation":382,"user_id":9711680,"display_name":"Cube"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588771247,"creation_date":1588771247,"answer_id":61636289,"question_id":18312609,"body_markdown":"**I&#39;m using this utils class** *works for Android 9*\r\n\r\n    public class BrightnessUtil {\r\n\r\n    public static final int BRIGHTNESS_DEFAULT = 190;\r\n    public static final int BRIGHTNESS_MAX = 225;\r\n    public static final int BRIGHTNESS_MIN = 0;\r\n\r\n    public static boolean checkForSettingsPermission(Activity activity) {\r\n        if (isNotAllowedWriteSettings(activity)) {\r\n            startActivityToAllowWriteSettings(activity);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void stopAutoBrightness(Activity activity) {\r\n\r\n        if (!isNotAllowedWriteSettings(activity)) {\r\n            Settings.System.putInt(activity.getContentResolver(),\r\n                    Settings.System.SCREEN_BRIGHTNESS_MODE,\r\n                    Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);\r\n        }\r\n\r\n    }\r\n\r\n    public static void setBrightness(Activity activity, int brightness) {\r\n\r\n        if (!isNotAllowedWriteSettings(activity)) {\r\n            //constrain the value of brightness\r\n            if (brightness &lt; BRIGHTNESS_MIN)\r\n                brightness = BRIGHTNESS_MIN;\r\n            else if (brightness &gt; BRIGHTNESS_MAX)\r\n                brightness = BRIGHTNESS_MAX;\r\n\r\n\r\n            ContentResolver cResolver = activity.getContentResolver();\r\n            Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness);\r\n        }\r\n    }\r\n\r\n    private static void startActivityToAllowWriteSettings(Activity activity) {\r\n        Intent intent = new Intent(Settings.ACTION_MANAGE_WRITE_SETTINGS);\r\n        intent.setData(Uri.parse(&quot;package:&quot; + activity.getPackageName()));\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        activity.startActivity(intent);\r\n    }\r\n\r\n    @SuppressLint(&quot;ObsoleteSdkInt&quot;)\r\n    private static boolean isNotAllowedWriteSettings(Activity activity) {\r\n        return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !Settings.System.canWrite(activity);\r\n    }\r\n}","title":"Change the System Brightness Programmatically","body":"<p><strong>I'm using this utils class</strong> <em>works for Android 9</em></p>\n\n<pre><code>public class BrightnessUtil {\n\npublic static final int BRIGHTNESS_DEFAULT = 190;\npublic static final int BRIGHTNESS_MAX = 225;\npublic static final int BRIGHTNESS_MIN = 0;\n\npublic static boolean checkForSettingsPermission(Activity activity) {\n    if (isNotAllowedWriteSettings(activity)) {\n        startActivityToAllowWriteSettings(activity);\n        return false;\n    }\n    return true;\n}\n\npublic static void stopAutoBrightness(Activity activity) {\n\n    if (!isNotAllowedWriteSettings(activity)) {\n        Settings.System.putInt(activity.getContentResolver(),\n                Settings.System.SCREEN_BRIGHTNESS_MODE,\n                Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);\n    }\n\n}\n\npublic static void setBrightness(Activity activity, int brightness) {\n\n    if (!isNotAllowedWriteSettings(activity)) {\n        //constrain the value of brightness\n        if (brightness &lt; BRIGHTNESS_MIN)\n            brightness = BRIGHTNESS_MIN;\n        else if (brightness &gt; BRIGHTNESS_MAX)\n            brightness = BRIGHTNESS_MAX;\n\n\n        ContentResolver cResolver = activity.getContentResolver();\n        Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness);\n    }\n}\n\nprivate static void startActivityToAllowWriteSettings(Activity activity) {\n    Intent intent = new Intent(Settings.ACTION_MANAGE_WRITE_SETTINGS);\n    intent.setData(Uri.parse(\"package:\" + activity.getPackageName()));\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    activity.startActivity(intent);\n}\n\n@SuppressLint(\"ObsoleteSdkInt\")\nprivate static boolean isNotAllowedWriteSettings(Activity activity) {\n    return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !Settings.System.canWrite(activity);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2599209,"reputation":42707,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1623402370,"creation_date":1603829119,"answer_id":64562097,"question_id":18312609,"body_markdown":"Complete Answer\r\n---------------\r\n\r\nI did not wanted to use Window Manager to set brightness. I wanted the brighness to reflect on System level as well as on UI. None of the above answer worked for me. Finally this approach worked for me. \r\n\r\n\r\n**Add Write setting permission in Android Manifest**\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot;/&gt;\r\n\r\n**Write Settings is a Protected settings so request user to allow Writing System settings:**\r\n\r\n \r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if (Settings.System.canWrite(this)) {\r\n                    Intent intent = new Intent(Settings.ACTION_MANAGE_WRITE_SETTINGS);\r\n                    intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n\r\n\r\n**Now you can set Brightness easily**\r\n\r\n                ContentResolver cResolver = getContentResolver();\r\n                Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness);\r\n\r\n`brighness` value should be in range of 0-255 so if you have  aslider with range (0-max) than you can normalize the value in range of (0-255)\r\n\r\n\r\n    private float normalize(float x, float inMin, float inMax, float outMin, float outMax) {\r\n        float outRange = outMax - outMin;\r\n        float inRange  = inMax - inMin;\r\n      return (x - inMin) *outRange / inRange + outMin;\r\n    }\r\n\r\n\r\nFinally you can now change Brightness in of 0-100% from 0-255 range like this:\r\n\r\n     float brightness = normalize(progress, 0, 100, 0.0f, 255.0f);\r\n\r\n\r\nHope it will save your time.","title":"Change the System Brightness Programmatically","body":"<h2>Complete Answer</h2>\n<p>I did not wanted to use Window Manager to set brightness. I wanted the brighness to reflect on System level as well as on UI. None of the above answer worked for me. Finally this approach worked for me.</p>\n<p><strong>Add Write setting permission in Android Manifest</strong></p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot;/&gt;\n</code></pre>\n<p><strong>Write Settings is a Protected settings so request user to allow Writing System settings:</strong></p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (Settings.System.canWrite(this)) {\n                Intent intent = new Intent(Settings.ACTION_MANAGE_WRITE_SETTINGS);\n                intent.setData(Uri.parse(&quot;package:&quot; + getPackageName()));\n                startActivity(intent);\n            }\n        }\n</code></pre>\n<p><strong>Now you can set Brightness easily</strong></p>\n<pre><code>            ContentResolver cResolver = getContentResolver();\n            Settings.System.putInt(cResolver, Settings.System.SCREEN_BRIGHTNESS, brightness);\n</code></pre>\n<p><code>brighness</code> value should be in range of 0-255 so if you have  aslider with range (0-max) than you can normalize the value in range of (0-255)</p>\n<pre><code>private float normalize(float x, float inMin, float inMax, float outMin, float outMax) {\n    float outRange = outMax - outMin;\n    float inRange  = inMax - inMin;\n  return (x - inMin) *outRange / inRange + outMin;\n}\n</code></pre>\n<p>Finally you can now change Brightness in of 0-100% from 0-255 range like this:</p>\n<pre><code> float brightness = normalize(progress, 0, 100, 0.0f, 255.0f);\n</code></pre>\n<p>Hope it will save your time.</p>\n"},{"tags":[],"owner":{"account_id":2422778,"reputation":1188,"user_id":2115403,"display_name":"rtsketo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658469755,"creation_date":1658469755,"answer_id":73075740,"question_id":18312609,"body_markdown":"There you go, short and sweet; Kotlin version.\r\n```kotlin\r\n/**\r\n * This can be used to override the user&#39;s preferred brightness of the screen.\r\n * A value of less than 0, the default, means to use the preferred screen brightness.\r\n * 0 to 1 adjusts the brightness from dark to full bright!\r\n */\r\n\r\nfun Fragment.screenBrightness(x: Float) = activity?.screenBrightness(x)\r\nfun Activity.screenBrightness(x: Float) = window?.apply {\r\n        attributes = attributes?.apply { screenBrightness = x.coerceIn(-1f..1f) } }\r\n```\r\nKdoc&#39;d also!","title":"Change the System Brightness Programmatically","body":"<p>There you go, short and sweet; Kotlin version.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * This can be used to override the user's preferred brightness of the screen.\n * A value of less than 0, the default, means to use the preferred screen brightness.\n * 0 to 1 adjusts the brightness from dark to full bright!\n */\n\nfun Fragment.screenBrightness(x: Float) = activity?.screenBrightness(x)\nfun Activity.screenBrightness(x: Float) = window?.apply {\n        attributes = attributes?.apply { screenBrightness = x.coerceIn(-1f..1f) } }\n</code></pre>\n<p>Kdoc'd also!</p>\n"}],"owner":{"account_id":2309422,"reputation":2930,"user_id":2027906,"accept_rate":46,"display_name":"Usman Riaz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111934,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":18312812,"answer_count":16,"score":56,"last_activity_date":1663907945,"creation_date":1376911434,"question_id":18312609,"body_markdown":"I want to change the system brightness programmatically. For that purpose I am using this code:\r\n\r\n    WindowManager.LayoutParams lp = window.getAttributes();\r\n    lp.screenBrightness = (255);\r\n    window.setAttributes(lp);\r\n\r\nbecause I heard that max value is 255.\r\n\r\nbut it does nothing. Please suggest any thing that can change the brightness.\r\nThanks","title":"Change the System Brightness Programmatically","body":"<p>I want to change the system brightness programmatically. For that purpose I am using this code:</p>\n\n<pre><code>WindowManager.LayoutParams lp = window.getAttributes();\nlp.screenBrightness = (255);\nwindow.setAttributes(lp);\n</code></pre>\n\n<p>because I heard that max value is 255.</p>\n\n<p>but it does nothing. Please suggest any thing that can change the brightness.\nThanks</p>\n"},{"tags":["java","out-of-memory","heap-memory","javadoc","java-11"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663922052,"post_id":73822975,"comment_id":130357678,"body_markdown":"Did you try the syntax suggested in the error message, i.e. `-J-Xmx2048M`?","body":"Did you try the syntax suggested in the error message, i.e. <code>-J-Xmx2048M</code>?"},{"owner":{"account_id":26418876,"reputation":11,"user_id":20066815,"display_name":"sachin shukla"},"score":0,"creation_date":1664007982,"post_id":73822975,"comment_id":130376751,"body_markdown":"&lt;property name=&quot;javadoc.maxmemory&quot; value=&quot;256m&quot;/&gt;\nthis i have added in my  javadoc.xml file and it worked.","body":"&lt;property name=&quot;javadoc.maxmemory&quot; value=&quot;256m&quot;/&gt; this i have added in my  javadoc.xml file and it worked."}],"owner":{"account_id":26418876,"reputation":11,"user_id":20066815,"display_name":"sachin shukla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663907200,"creation_date":1663907200,"question_id":73822975,"body_markdown":"I have been working on JDK11 Migration, when i build my package , javadoc throwing the following error.\r\n\r\n    &gt; -standard-javadoc:\r\n    [ht:javadoc] Generating Javadoc\r\n    [ht:javadoc] Javadoc execution\r\n    [ht:javadoc] Picked up JAVA_TOOL_OPTIONS: -Xmx2048M\r\n    [ht:javadoc] 1 error\r\n    [ht:javadoc] javadoc: error - java.lang.OutOfMemoryError: Please increase memory.\r\n    [ht:javadoc] For example, on the JDK Classic or HotSpot VMs, add the option -J-Xmx\r\n    [ht:javadoc] such as -J-Xmx32m.\r\n    \r\n\r\nI have tried following solutions\r\nexport JAVA_TOOL_OPTIONS = -Xmx2048M -&gt; does not work\r\nadded jvmarg in build.xml   \r\n\r\n     &lt;property name=&quot;default-jvm-args&quot; value=&quot;\r\n        -Xmx8G\r\n        -Xms8G\r\n        /&gt;\r\n\r\nI guess i am facing similar issue mentioned in this post , but i am not sure how to root cause the problem\r\nhttps://stackoverflow.com/questions/4618450/out-of-memory-error-in-ant","title":"java.lang.OutOfMemoryError: Please increase memory","body":"<p>I have been working on JDK11 Migration, when i build my package , javadoc throwing the following error.</p>\n<pre><code>&gt; -standard-javadoc:\n[ht:javadoc] Generating Javadoc\n[ht:javadoc] Javadoc execution\n[ht:javadoc] Picked up JAVA_TOOL_OPTIONS: -Xmx2048M\n[ht:javadoc] 1 error\n[ht:javadoc] javadoc: error - java.lang.OutOfMemoryError: Please increase memory.\n[ht:javadoc] For example, on the JDK Classic or HotSpot VMs, add the option -J-Xmx\n[ht:javadoc] such as -J-Xmx32m.\n</code></pre>\n<p>I have tried following solutions\nexport JAVA_TOOL_OPTIONS = -Xmx2048M -&gt; does not work\nadded jvmarg in build.xml</p>\n<pre><code> &lt;property name=&quot;default-jvm-args&quot; value=&quot;\n    -Xmx8G\n    -Xms8G\n    /&gt;\n</code></pre>\n<p>I guess i am facing similar issue mentioned in this post , but i am not sure how to root cause the problem\n<a href=\"https://stackoverflow.com/questions/4618450/out-of-memory-error-in-ant\">Out of memory error in ant</a></p>\n"},{"tags":["java","arrays","algorithm","treemap","union-find"],"comments":[{"owner":{"account_id":11708738,"reputation":505,"user_id":8571403,"display_name":"jwils"},"score":0,"creation_date":1506449940,"post_id":46433025,"comment_id":79823886,"body_markdown":"Use a performance debugger like this one to find out where most of the time is being taken up in: https://www.eclipse.org/mat/ . Or you could just try running it in debug and randomly hitting pause.  Most likely it will pause on the line that is taking up most of the time","body":"Use a performance debugger like this one to find out where most of the time is being taken up in: <a href=\"https://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">eclipse.org/mat</a> . Or you could just try running it in debug and randomly hitting pause.  Most likely it will pause on the line that is taking up most of the time"}],"owner":{"account_id":11859020,"reputation":97,"user_id":8678265,"accept_rate":29,"display_name":"mcgillian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1663906794,"creation_date":1506448826,"question_id":46433025,"body_markdown":"I am solving this challenge: https://open.kattis.com/problems/virtualfriends\r\n\r\nMy solution seems to be working but kattis&#39;s test cases are running too slowly so I was wondering how I can improve code efficiency. I am using a custom made union-find structure to do this, storing &quot;friends&quot; into a treemap to reference.\r\n\r\n    import java.util.*;\r\n    public class virtualfriends {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\tint testcases = scan.nextInt();\r\n    \r\n    \t\tscan.nextLine();\r\n    \r\n    \t\tfor (int i= 0; i &lt; testcases; i++) {\r\n    \t\t\tint numFriendships = scan.nextInt();\r\n    \t\t\tscan.nextLine();\r\n    \t\t\tTreeMap&lt;String , Integer&gt; map = new TreeMap&lt;String , Integer&gt;(); \r\n    \t\t\tint cnt = 0;\r\n    \t\t\tUF unionFind = new UF(50000);\r\n    \t\t\tfor (int j = 0; j &lt; numFriendships; j++)\r\n    \t\t\t{\r\n    \r\n    \t\t\t\tString p1 = scan.next();\r\n    \t\t\t\tString p2 = scan.next();\r\n    \t\t\t\tif (!map.containsKey(p1)) map.put(p1, cnt++);\r\n    \t\t\t\tif (!map.containsKey(p2)) map.put(p2, cnt++);\r\n    \t\t\t\tunionFind.unify(map.get(p1), map.get(p2));\r\n    \t\t\t\tSystem.out.printf(&quot;%d\\n&quot;, unionFind.getSetSize(map.get(p2)));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class UF{\r\n    \t\tprivate int[] id, setSize;\r\n    \t\tprivate int numSets;\r\n    \r\n    \t\tpublic UF(int size) {\r\n    \t\t\tid = new int[size] ;\r\n    \t\t\tsetSize = new int[size];\r\n    \t\t\tnumSets = size;\r\n    \t\t\tfor(int i = 0 ; i &lt; size ; ++i) {\r\n    \t\t\t\tid[i] = i;\r\n    \t\t\t\tsetSize[i] = 1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tint find(int i ) \r\n    \t\t{\r\n    \t\t\tint root = i;\r\n    \t\t\twhile (root != id[root]) {\r\n    \t\t\t\troot = id[root];\r\n    \t\t\t}\r\n    \t\t\twhile (i != root) {\r\n    \t            int newp = id[i];\r\n    \t            id[i] = root;\r\n    \t            i = newp;\r\n    \t        }\r\n    \t\t\treturn root;\r\n    \t\t}\r\n    \t\t\r\n    \t\tboolean isConnected(int i , int j) {\r\n    \t\t\treturn find(i) == find(j);\r\n    \t\t}\r\n    \t\t\r\n    \t\tint getNumSets() {\r\n    \t\t\treturn numSets;\r\n    \t\t}\r\n    \t\t\r\n    \t\tint getSetSize(int i) {\r\n    \t\t\treturn setSize[find(i)];\r\n    \t\t}\r\n    \t\t\r\n    \t\tboolean isSameSet(int i, int j) {\r\n    \t\t\treturn find(i) == find(j);\r\n    \t\t}\r\n    \t\t\r\n    \t\tvoid unify(int i, int j)\r\n    \t\t{\r\n    \t\t\tint root1 = find(i);\r\n    \t\t\tint root2 = find(j);\r\n    \t\t\tif (root1 == root2) return;\r\n    \t\t\t\r\n    \t\t\tif (setSize[root1] &lt; setSize[root2]) \r\n    \t\t\t{\r\n    \t\t\t\tsetSize[root2] += setSize[root1];\r\n    \t\t\t\tid[root1] = root2;\r\n    \t\t\t} else {\r\n    \t\t\t\tsetSize[root1] += setSize[root2];\r\n    \t\t\t\tid[root2] = root1;\r\n    \t\t\t}\r\n    \t\t\tnumSets--;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java program using union-find + treemap too slow","body":"<p>I am solving this challenge: <a href=\"https://open.kattis.com/problems/virtualfriends\" rel=\"nofollow noreferrer\">https://open.kattis.com/problems/virtualfriends</a></p>\n\n<p>My solution seems to be working but kattis's test cases are running too slowly so I was wondering how I can improve code efficiency. I am using a custom made union-find structure to do this, storing \"friends\" into a treemap to reference.</p>\n\n<pre><code>import java.util.*;\npublic class virtualfriends {\n\n    public static void main(String[] args) {\n\n\n        Scanner scan = new Scanner(System.in);\n        int testcases = scan.nextInt();\n\n        scan.nextLine();\n\n        for (int i= 0; i &lt; testcases; i++) {\n            int numFriendships = scan.nextInt();\n            scan.nextLine();\n            TreeMap&lt;String , Integer&gt; map = new TreeMap&lt;String , Integer&gt;(); \n            int cnt = 0;\n            UF unionFind = new UF(50000);\n            for (int j = 0; j &lt; numFriendships; j++)\n            {\n\n                String p1 = scan.next();\n                String p2 = scan.next();\n                if (!map.containsKey(p1)) map.put(p1, cnt++);\n                if (!map.containsKey(p2)) map.put(p2, cnt++);\n                unionFind.unify(map.get(p1), map.get(p2));\n                System.out.printf(\"%d\\n\", unionFind.getSetSize(map.get(p2)));\n            }\n        }\n    }\n\n    static class UF{\n        private int[] id, setSize;\n        private int numSets;\n\n        public UF(int size) {\n            id = new int[size] ;\n            setSize = new int[size];\n            numSets = size;\n            for(int i = 0 ; i &lt; size ; ++i) {\n                id[i] = i;\n                setSize[i] = 1;\n            }\n        }\n\n        int find(int i ) \n        {\n            int root = i;\n            while (root != id[root]) {\n                root = id[root];\n            }\n            while (i != root) {\n                int newp = id[i];\n                id[i] = root;\n                i = newp;\n            }\n            return root;\n        }\n\n        boolean isConnected(int i , int j) {\n            return find(i) == find(j);\n        }\n\n        int getNumSets() {\n            return numSets;\n        }\n\n        int getSetSize(int i) {\n            return setSize[find(i)];\n        }\n\n        boolean isSameSet(int i, int j) {\n            return find(i) == find(j);\n        }\n\n        void unify(int i, int j)\n        {\n            int root1 = find(i);\n            int root2 = find(j);\n            if (root1 == root2) return;\n\n            if (setSize[root1] &lt; setSize[root2]) \n            {\n                setSize[root2] += setSize[root1];\n                id[root1] = root2;\n            } else {\n                setSize[root1] += setSize[root2];\n                id[root2] = root1;\n            }\n            numSets--;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","xml","jaxb"],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663906447,"creation_date":1663542042,"question_id":73766920,"body_markdown":"I have a servlet which accepts a rectangle xml and adds it to existing xml database. It works fine except it accepts such an xml with any amount of extra parameters as well:\r\n\r\n```\r\n&lt;rectangle&gt;\r\n    &lt;width&gt;100&lt;/width&gt;\r\n    &lt;height&gt;100&lt;/height&gt;\r\n    &lt;someparam&gt;param&lt;/someparam&gt;\r\n&lt;/rectangle&gt;\r\n```\r\n\r\ndespite the xml being the wrong format servlet returns 200 OK and adds a new rectangle to database but only taking the width and height parameters and omitting extra ones. How can I make sure that only rectangles with two parameters: width and height are accepted?\r\n\r\nRectangle class:\r\n```\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\n\r\n@XmlRootElement\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(propOrder = {&quot;width&quot;, &quot;height&quot;})\r\npublic class Rectangle{\r\n    private int width, height;\r\n    \r\n    public Rectangle(){}\r\n\r\n    public Rectangle(int width, int height) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    public int getWidth() {\r\n        return width;\r\n    }\r\n\r\n    public int getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n    }\r\n\r\n    public void setHeight(int height) {\r\n        this.height = height;\r\n    }    \r\n\r\n    public int getDiagonal(){\r\n        return (int)Math.sqrt(width * width + height * height);\r\n    }\r\n\r\n    public int getPerimeter(){\r\n        return 2 * (width + height);\r\n    }\r\n\r\n    public int getArea(){\r\n        return width * height;\r\n    }\r\n\r\n    public boolean validate(){\r\n        return width &gt; 0 &amp;&amp; height &gt; 0;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Rectangle [&quot; + width + &quot;, &quot; + height + &quot;]&quot;;\r\n    }\r\n}\r\n```\r\n\r\nUnmarshalling code:\r\n```\r\n//Servlet passes request.getInputStream() as input argument\r\npublic static Rectangle streamToRectangle(InputStream input) throws UnmarshalException, JAXBException{\r\n    JAXBContext context = JAXBContext.newInstance(Rectangle.class);\r\n\r\n    Rectangle rectangle = (Rectangle) context.createUnmarshaller().unmarshal(input);\r\n\r\n    return rectangle;\r\n}\r\n```\r\n","title":"Jaxb accepts xml with extra parameters for unmarshalling","body":"<p>I have a servlet which accepts a rectangle xml and adds it to existing xml database. It works fine except it accepts such an xml with any amount of extra parameters as well:</p>\n<pre><code>&lt;rectangle&gt;\n    &lt;width&gt;100&lt;/width&gt;\n    &lt;height&gt;100&lt;/height&gt;\n    &lt;someparam&gt;param&lt;/someparam&gt;\n&lt;/rectangle&gt;\n</code></pre>\n<p>despite the xml being the wrong format servlet returns 200 OK and adds a new rectangle to database but only taking the width and height parameters and omitting extra ones. How can I make sure that only rectangles with two parameters: width and height are accepted?</p>\n<p>Rectangle class:</p>\n<pre><code>import jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = {&quot;width&quot;, &quot;height&quot;})\npublic class Rectangle{\n    private int width, height;\n    \n    public Rectangle(){}\n\n    public Rectangle(int width, int height) {\n        this.width = width;\n        this.height = height;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    public void setWidth(int width) {\n        this.width = width;\n    }\n\n    public void setHeight(int height) {\n        this.height = height;\n    }    \n\n    public int getDiagonal(){\n        return (int)Math.sqrt(width * width + height * height);\n    }\n\n    public int getPerimeter(){\n        return 2 * (width + height);\n    }\n\n    public int getArea(){\n        return width * height;\n    }\n\n    public boolean validate(){\n        return width &gt; 0 &amp;&amp; height &gt; 0;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Rectangle [&quot; + width + &quot;, &quot; + height + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>Unmarshalling code:</p>\n<pre><code>//Servlet passes request.getInputStream() as input argument\npublic static Rectangle streamToRectangle(InputStream input) throws UnmarshalException, JAXBException{\n    JAXBContext context = JAXBContext.newInstance(Rectangle.class);\n\n    Rectangle rectangle = (Rectangle) context.createUnmarshaller().unmarshal(input);\n\n    return rectangle;\n}\n</code></pre>\n"},{"tags":["java","java-17","jshell","postfix-operator"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":5,"creation_date":1663904802,"post_id":73822770,"comment_id":130353729,"body_markdown":"No, `++` does NOT mean `+1`.  It means &quot;use the _current_ value of this variable, but increase it so that _next_ time you use the variable, it stores something different&quot;.","body":"No, <code>++</code> does NOT mean <code>+1</code>.  It means &quot;use the <i>current</i> value of this variable, but increase it so that <i>next</i> time you use the variable, it stores something different&quot;."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663905359,"creation_date":1663905359,"answer_id":73822828,"question_id":73822770,"body_markdown":"Effectively, the expression `i=i++ + i++;` is equal to `i=i++ + i;`. Why? The latter `i++` result value is never used and is not propagated. The result of the postfix addition `i++` is used as long as the value `i` is added later in the expression and the result takes the effect. However, after the latter `i++` the result value of `i` is not used.\r\n\r\nIf you want to achieve the result of `42`, you need to perform the postfix assignment (`i++`) after the whole result is assigned back to the `i` variable:\r\n\r\n```java\r\nint i = 20;\r\ni = i++ + i;\r\ni++;\r\nSystem.out.println(i);\r\n```\r\n","title":"Why does jshell show this number?","body":"<p>Effectively, the expression <code>i=i++ + i++;</code> is equal to <code>i=i++ + i;</code>. Why? The latter <code>i++</code> result value is never used and is not propagated. The result of the postfix addition <code>i++</code> is used as long as the value <code>i</code> is added later in the expression and the result takes the effect. However, after the latter <code>i++</code> the result value of <code>i</code> is not used.</p>\n<p>If you want to achieve the result of <code>42</code>, you need to perform the postfix assignment (<code>i++</code>) after the whole result is assigned back to the <code>i</code> variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 20;\ni = i++ + i;\ni++;\nSystem.out.println(i);\n</code></pre>\n"}],"owner":{"account_id":24377670,"reputation":23,"user_id":20066679,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73822828,"answer_count":1,"score":2,"last_activity_date":1663905876,"creation_date":1663904644,"question_id":73822770,"body_markdown":"I am learning java and this logic makes me feel confused.\r\n\r\nIsn&#39;t here `i=20(+1)+20(+1)`? \r\n\r\nWhy `41` instead of `42`?\r\n\r\n```bash\r\njshell&gt; int i = 20\r\ni ==&gt; 20\r\njshell&gt; i=i++ + i++\r\ni ==&gt; 41\r\n```\r\n\r\nSee this code run at [Ideone.com][1].\r\n\r\n\r\n  [1]: https://ideone.com/KwKdZP","title":"Why does jshell show this number?","body":"<p>I am learning java and this logic makes me feel confused.</p>\n<p>Isn't here <code>i=20(+1)+20(+1)</code>?</p>\n<p>Why <code>41</code> instead of <code>42</code>?</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jshell&gt; int i = 20\ni ==&gt; 20\njshell&gt; i=i++ + i++\ni ==&gt; 41\n</code></pre>\n<p>See this code run at <a href=\"https://ideone.com/KwKdZP\" rel=\"nofollow noreferrer\">Ideone.com</a>.</p>\n"},{"tags":["java","api","rest","streaming"],"owner":{"account_id":26340264,"reputation":31,"user_id":19999435,"display_name":"ADS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1663905711,"creation_date":1663905711,"question_id":73822855,"body_markdown":"I have a ***consume*** function which get streaming response from a Restful API. How could I write JUnit testing on it?\r\n\r\nI tried to create a test for the ***consume*** function but it looks like skipping the restTemplate execute call completely. Is there a way I could create a mock stream for the response so that I could process the data batches?\r\n\r\n    @Override\r\n    public void consume(\r\n            final String url, final String jwt,\r\n            final Consumer&lt;StreamingDataBatch&gt; dataBatchConsumer) {\r\n\r\n        final StreamingQueryRequest request = StreamingParameterizedQueryRequest.builder().responseBatchSize(batchSize).build();\r\n\r\n        restTemplate.execute(url, HttpMethod.POST,\r\n                req -&gt; {\r\n                    req.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n                    req.getHeaders().set(&quot;Authorization&quot;, jwt);\r\n                    restTemplate.httpEntityCallback(request)\r\n                            .doWithRequest(req);\r\n                },\r\n                resp -&gt; {\r\n                    processStream(resp.getBody(), dataBatchConsumer);\r\n                    return null;\r\n                });\r\n    }\r\n\r\n    private void processStream(\r\n            final InputStream inputStream,\r\n            final Consumer&lt;StreamingDataBatch&gt; dataBatchConsumer) throws IOException {\r\n\r\n        final JsonFactory jsonFactory = objectMapper.getFactory();\r\n        try (final JsonParser jsonParser = jsonFactory.createParser(inputStream)) {\r\n            final JsonToken arrayToken = jsonParser.nextToken();\r\n            if (!JsonToken.START_ARRAY.equals(arrayToken)) {\r\n                throw new IllegalStateException(&quot;The response is not a JSON array.&quot;);\r\n            }\r\n            // Iterate through the objects of the array.\r\n            while (JsonToken.START_OBJECT.equals(jsonParser.nextToken())) {\r\n                final StreamingDataBatch batchData = jsonParser.readValueAs(\r\n                        StreamingDataBatch.class);\r\n                dataBatchConsumer.accept(batchData);\r\n            }\r\n        }\r\n    }","title":"How to write unit testing for streaming API","body":"<p>I have a <em><strong>consume</strong></em> function which get streaming response from a Restful API. How could I write JUnit testing on it?</p>\n<p>I tried to create a test for the <em><strong>consume</strong></em> function but it looks like skipping the restTemplate execute call completely. Is there a way I could create a mock stream for the response so that I could process the data batches?</p>\n<pre><code>@Override\npublic void consume(\n        final String url, final String jwt,\n        final Consumer&lt;StreamingDataBatch&gt; dataBatchConsumer) {\n\n    final StreamingQueryRequest request = StreamingParameterizedQueryRequest.builder().responseBatchSize(batchSize).build();\n\n    restTemplate.execute(url, HttpMethod.POST,\n            req -&gt; {\n                req.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n                req.getHeaders().set(&quot;Authorization&quot;, jwt);\n                restTemplate.httpEntityCallback(request)\n                        .doWithRequest(req);\n            },\n            resp -&gt; {\n                processStream(resp.getBody(), dataBatchConsumer);\n                return null;\n            });\n}\n\nprivate void processStream(\n        final InputStream inputStream,\n        final Consumer&lt;StreamingDataBatch&gt; dataBatchConsumer) throws IOException {\n\n    final JsonFactory jsonFactory = objectMapper.getFactory();\n    try (final JsonParser jsonParser = jsonFactory.createParser(inputStream)) {\n        final JsonToken arrayToken = jsonParser.nextToken();\n        if (!JsonToken.START_ARRAY.equals(arrayToken)) {\n            throw new IllegalStateException(&quot;The response is not a JSON array.&quot;);\n        }\n        // Iterate through the objects of the array.\n        while (JsonToken.START_OBJECT.equals(jsonParser.nextToken())) {\n            final StreamingDataBatch batchData = jsonParser.readValueAs(\n                    StreamingDataBatch.class);\n            dataBatchConsumer.accept(batchData);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","protocol-buffers","proto"],"answers":[{"tags":[],"owner":{"account_id":2513977,"reputation":1330,"user_id":2185783,"display_name":"maximus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663905177,"creation_date":1663905177,"answer_id":73822814,"question_id":73062951,"body_markdown":"In case anyone still need it: you need to use [Protobuf Plugin for Gradle][1], check out my answer here for more details: https://stackoverflow.com/a/73822802/2185783.\r\n\r\n\r\n  [1]: https://github.com/google/protobuf-gradle-plugin","title":"Import proto files from classpath (JAR) to build another proto file","body":"<p>In case anyone still need it: you need to use <a href=\"https://github.com/google/protobuf-gradle-plugin\" rel=\"nofollow noreferrer\">Protobuf Plugin for Gradle</a>, check out my answer here for more details: <a href=\"https://stackoverflow.com/a/73822802/2185783\">https://stackoverflow.com/a/73822802/2185783</a>.</p>\n"}],"owner":{"account_id":25860193,"reputation":63,"user_id":19592786,"display_name":"Aleksandr T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1663905177,"creation_date":1658392013,"question_id":73062951,"body_markdown":"I want to import a proto file from a **gradle dependencies** and have next structure (simplified for redability):\r\n\r\n    dependency-project:\r\n         - models:\r\n               catalog.proto\r\n       \r\n    my-project:\r\n         - source:\r\n               client.proto\r\n\r\nIn a `client.proto` I want to reuse some models, which defined in a `catalog.proto`.\r\n```\r\nsyntax = &quot;proto3&quot;;\r\npackage client;\r\n\r\nimport &quot;google/protobuf/descriptor.proto&quot;;\r\nimport &quot;classpath/catalog.proto&quot;; // ???\r\n...\r\n```\r\n\r\nMy `build.gradle.kts`:\r\n```\r\ndependencies {\r\n   ...\r\n    implementation(&quot;com.google.protobuf:protobuf-java:$protoBufCoreVersion&quot;)\r\n    implementation(&quot;com.thesamet.scalapb.common-protos:proto-google-common-protos-scalapb_0.9_2.13:2.5.0-3&quot;) // trying to reuse\r\n}\r\n\r\napply(plugin = &quot;com.google.protobuf&quot;)\r\n\r\nprotobuf {\r\n    protoc {\r\n        artifact = &quot;com.google.protobuf:protoc:$protoBufCoreVersion&quot;\r\n        /// probably here I need to use new lib\r\n    }\r\n}\r\n...\r\n\r\n```\r\n\r\nBut have next problems:\r\n 1. I can see `catalog.proto` in a classpath, but cannot import it from scratch\r\n 2. `catalog.proto` don&#39;t have any `package` declaration\r\n\r\nAs far as I know, there are some [available solutions for scala][1], but I&#39;m using gradle in Java/Kotlin project with gradle and don&#39;t understand how to reuse such approach. Also, I found that such usage of proto files (for building new models using `.proto` files) is [not convinient][2]. Is it possible at all?\r\n\r\n\r\n  [1]: https://scalapb.github.io/docs/third-party-protos/\r\n  [2]: https://groups.google.com/g/protobuf/c/6-ZI709ruFc/m/insW598rXlIJ","title":"Import proto files from classpath (JAR) to build another proto file","body":"<p>I want to import a proto file from a <strong>gradle dependencies</strong> and have next structure (simplified for redability):</p>\n<pre><code>dependency-project:\n     - models:\n           catalog.proto\n   \nmy-project:\n     - source:\n           client.proto\n</code></pre>\n<p>In a <code>client.proto</code> I want to reuse some models, which defined in a <code>catalog.proto</code>.</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage client;\n\nimport &quot;google/protobuf/descriptor.proto&quot;;\nimport &quot;classpath/catalog.proto&quot;; // ???\n...\n</code></pre>\n<p>My <code>build.gradle.kts</code>:</p>\n<pre><code>dependencies {\n   ...\n    implementation(&quot;com.google.protobuf:protobuf-java:$protoBufCoreVersion&quot;)\n    implementation(&quot;com.thesamet.scalapb.common-protos:proto-google-common-protos-scalapb_0.9_2.13:2.5.0-3&quot;) // trying to reuse\n}\n\napply(plugin = &quot;com.google.protobuf&quot;)\n\nprotobuf {\n    protoc {\n        artifact = &quot;com.google.protobuf:protoc:$protoBufCoreVersion&quot;\n        /// probably here I need to use new lib\n    }\n}\n...\n\n</code></pre>\n<p>But have next problems:</p>\n<ol>\n<li>I can see <code>catalog.proto</code> in a classpath, but cannot import it from scratch</li>\n<li><code>catalog.proto</code> don't have any <code>package</code> declaration</li>\n</ol>\n<p>As far as I know, there are some <a href=\"https://scalapb.github.io/docs/third-party-protos/\" rel=\"nofollow noreferrer\">available solutions for scala</a>, but I'm using gradle in Java/Kotlin project with gradle and don't understand how to reuse such approach. Also, I found that such usage of proto files (for building new models using <code>.proto</code> files) is <a href=\"https://groups.google.com/g/protobuf/c/6-ZI709ruFc/m/insW598rXlIJ\" rel=\"nofollow noreferrer\">not convinient</a>. Is it possible at all?</p>\n"},{"tags":["java","oop","design-patterns","software-design","strategy-pattern"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1663555202,"post_id":73767800,"comment_id":130259842,"body_markdown":"Right place based on what? How dependent are they on each other (e.g., validations and strategies)? Are things set up to allow picking a validation component whenever and and either the strategy asks which one to use or is told?","body":"Right place based on what? How dependent are they on each other (e.g., validations and strategies)? Are things set up to allow picking a validation component whenever and and either the strategy asks which one to use or is told?"},{"owner":{"account_id":1455702,"reputation":15672,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1663615005,"post_id":73767800,"comment_id":130277241,"body_markdown":"You may be interested in an [answer](https://stackoverflow.com/a/71134663/1371329) to a different question, which quotes the GoF book concerning potential design decisions around the relationship between Strategy and Context.","body":"You may be interested in an <a href=\"https://stackoverflow.com/a/71134663/1371329\">answer</a> to a different question, which quotes the GoF book concerning potential design decisions around the relationship between Strategy and Context."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663904133,"creation_date":1663559657,"answer_id":73768328,"question_id":73767800,"body_markdown":"If you have common behaviour, then abstract class or class is what we can use. So basic idea is to put common logic into some base common strategy class. Then we should create abstract method in abstract class. Why? By doing this, subclasses will have particular logic for concrete strategy.\r\n\r\nI am sorry, I am not Java guy, but I&#39;ve provided comments how it can be implemented in Java. Let me show an example via C#.\r\n\r\nThis is our abstract class which has common strategy:\r\n\r\n    public abstract class BaseStrategy\r\n    {\r\n        // I am not Java guy, but if I am not mistaken, in Java,\r\n        // if you do not want method to be overriden, you shoud use `final` keyword\r\n        public void CommonBehaviourHere() \r\n        {  }\r\n    \r\n        public abstract void \r\n            UnCommonBehaviourHereShouldBeImplementedBySubclass();\r\n    \r\n    }\r\n\r\nAnd its concrete implementations:\r\n\r\n    public class StrategyOneSubclass : BaseStrategy // extends in Java\r\n    {\r\n        public override void \r\n            UnCommonBehaviourHereShouldBeImplementedBySubclass()\r\n        {\r\n            throw new NotImplementedException();\r\n        }\r\n    }\r\n    \r\n    public class StrategyTwoSubclass : BaseStrategy // extends in Java\r\n    {\r\n        public override void \r\n            UnCommonBehaviourHereShouldBeImplementedBySubclass()\r\n        {\r\n            throw new NotImplementedException();\r\n        }\r\n    }\r\n\r\n## UPDATE:\r\n\r\nThis is your abstract class:\r\n\r\n    public abstract class BaseFileParser\r\n    {\r\n        // I am not Java guy, but if I am not mistaken, in Java,\r\n        // if you do not want method to be overriden, you shoud use `final` keyword\r\n        public bool IsValid()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        public abstract void ParseFile();\r\n    }\r\n\r\nand its concrete implementations:\r\n\r\n    public class StrategyOneSubclass : BaseStrategy // extends in Java\r\n    {\r\n        public override void ParseFile()\r\n        {\r\n            if (!IsValid())\r\n                return;\r\n    \r\n            throw new NotImplementedException();\r\n        }\r\n    }\r\n    \r\n    public class StrategyTwoSubclass : BaseStrategy // extends in Java\r\n    {\r\n        public override void ParseFile()\r\n        {\r\n            if (!IsValid())\r\n                return;\r\n    \r\n            throw new NotImplementedException();\r\n        }\r\n    }\r\n\r\n","title":"Where to write the common logic in Java Strategy design pattern?","body":"<p>If you have common behaviour, then abstract class or class is what we can use. So basic idea is to put common logic into some base common strategy class. Then we should create abstract method in abstract class. Why? By doing this, subclasses will have particular logic for concrete strategy.</p>\n<p>I am sorry, I am not Java guy, but I've provided comments how it can be implemented in Java. Let me show an example via C#.</p>\n<p>This is our abstract class which has common strategy:</p>\n<pre><code>public abstract class BaseStrategy\n{\n    // I am not Java guy, but if I am not mistaken, in Java,\n    // if you do not want method to be overriden, you shoud use `final` keyword\n    public void CommonBehaviourHere() \n    {  }\n\n    public abstract void \n        UnCommonBehaviourHereShouldBeImplementedBySubclass();\n\n}\n</code></pre>\n<p>And its concrete implementations:</p>\n<pre><code>public class StrategyOneSubclass : BaseStrategy // extends in Java\n{\n    public override void \n        UnCommonBehaviourHereShouldBeImplementedBySubclass()\n    {\n        throw new NotImplementedException();\n    }\n}\n\npublic class StrategyTwoSubclass : BaseStrategy // extends in Java\n{\n    public override void \n        UnCommonBehaviourHereShouldBeImplementedBySubclass()\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n<h2>UPDATE:</h2>\n<p>This is your abstract class:</p>\n<pre><code>public abstract class BaseFileParser\n{\n    // I am not Java guy, but if I am not mistaken, in Java,\n    // if you do not want method to be overriden, you shoud use `final` keyword\n    public bool IsValid()\n    {\n        return true;\n    }\n\n    public abstract void ParseFile();\n}\n</code></pre>\n<p>and its concrete implementations:</p>\n<pre><code>public class StrategyOneSubclass : BaseStrategy // extends in Java\n{\n    public override void ParseFile()\n    {\n        if (!IsValid())\n            return;\n\n        throw new NotImplementedException();\n    }\n}\n\npublic class StrategyTwoSubclass : BaseStrategy // extends in Java\n{\n    public override void ParseFile()\n    {\n        if (!IsValid())\n            return;\n\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":112682,"reputation":25724,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1663561524,"accepted_answer_id":73768328,"answer_count":1,"score":1,"last_activity_date":1663904133,"creation_date":1663554471,"question_id":73767800,"body_markdown":"This is related to Java Strategy design pattern.\r\n\r\nIn Strategy pattern, we create objects which represent various strategies and a context object whose behavior varies as per its strategy object.\r\n\r\nI have common code logic to be executed for all the strategies which is have implemented using Java Strategy design pattern. Which is the right place to write this common logics(something like validations and other stuffs).\r\n\r\nConsider the below code. Here I want to do file validation which is common across any file type . Something like , the file should exist and its size should be greater than zero and file name validation. All these file related common stuff I want to keep in some place. Which could be a right design for this? \r\n\r\n    //BaseFileParser.java\r\n    public abstract class BaseFileParser{\r\n      public abstract void parseFile();\r\n    }\r\n    \r\n    //XMLFileParser.java\r\n    public class XMLFileParser extends BaseFileParser{\r\n      public void parseFile(){\r\n        //Logic for parsing an XML file goes here\r\n      } \r\n    }\r\n    \r\n    //CSVFileParser.java\r\n    public class CSVFileParser extends BaseFileParser{\r\n      public void parseFile(){\r\n        //Logic for parsing a CSV file goes here\r\n      } \r\n    }\r\n    \r\n    //Client.java\r\n    public class Client{\r\n      private BaseFileParser baseFileParser;\r\n      public Client(BaseFileParser baseFileParser){\r\n        this.baseFileParser=baseFileParser;\r\n      }  \r\n      public void parseFile(){\r\n        baseFileParser.parseFile();\r\n      } \r\n      public static void main(String args[]){\r\n        //Lets say the client needs to parse an XML file\r\n        //The file type(XML/CSV) can also be taken as \r\n        //input from command line args[]\r\n        Client client=new Client(new XMLFileParser());\r\n        client.parseFile();\r\n      }\r\n    }","title":"Where to write the common logic in Java Strategy design pattern?","body":"<p>This is related to Java Strategy design pattern.</p>\n<p>In Strategy pattern, we create objects which represent various strategies and a context object whose behavior varies as per its strategy object.</p>\n<p>I have common code logic to be executed for all the strategies which is have implemented using Java Strategy design pattern. Which is the right place to write this common logics(something like validations and other stuffs).</p>\n<p>Consider the below code. Here I want to do file validation which is common across any file type . Something like , the file should exist and its size should be greater than zero and file name validation. All these file related common stuff I want to keep in some place. Which could be a right design for this?</p>\n<pre><code>//BaseFileParser.java\npublic abstract class BaseFileParser{\n  public abstract void parseFile();\n}\n\n//XMLFileParser.java\npublic class XMLFileParser extends BaseFileParser{\n  public void parseFile(){\n    //Logic for parsing an XML file goes here\n  } \n}\n\n//CSVFileParser.java\npublic class CSVFileParser extends BaseFileParser{\n  public void parseFile(){\n    //Logic for parsing a CSV file goes here\n  } \n}\n\n//Client.java\npublic class Client{\n  private BaseFileParser baseFileParser;\n  public Client(BaseFileParser baseFileParser){\n    this.baseFileParser=baseFileParser;\n  }  \n  public void parseFile(){\n    baseFileParser.parseFile();\n  } \n  public static void main(String args[]){\n    //Lets say the client needs to parse an XML file\n    //The file type(XML/CSV) can also be taken as \n    //input from command line args[]\n    Client client=new Client(new XMLFileParser());\n    client.parseFile();\n  }\n}\n</code></pre>\n"},{"tags":["java","forms","swing","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1621461622,"post_id":67611378,"comment_id":119506572,"body_markdown":"Your code produces a different exception, not the one you specified. The problem is that you don&#39;t need to add the elements to the form manually and you are not specifying the layout constraints, essentially using the `add` method incorrectly: `Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.intellij.uiDesigner.core.GridConstraints.getRow()&quot; because &quot;c&quot; is null`. `panel` is initialized by the UI designer code automatically.","body":"Your code produces a different exception, not the one you specified. The problem is that you don&#39;t need to add the elements to the form manually and you are not specifying the layout constraints, essentially using the <code>add</code> method incorrectly: <code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.intellij.uiDesigner.core.GridConstraints.getRow()&quot; because &quot;c&quot; is null</code>. <code>panel</code> is initialized by the UI designer code automatically."}],"owner":{"account_id":21610296,"reputation":31,"user_id":15937027,"display_name":"SimPilotAdamT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2956,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1663901710,"creation_date":1621461099,"question_id":67611378,"body_markdown":"So I&#39;m trying out IntelliJ IDEA&#39;s content designer for a simple GUI, and I followed all guides on using it, but it when run from IDEA (not compiled into a JAR yet) it comes back with the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.awt.IllegalComponentStateException: contentPane cannot be set to null.\r\n\tat java.desktop/javax.swing.JRootPane.setContentPane(JRootPane.java:594)\r\n\tat java.desktop/javax.swing.JFrame.setContentPane(JFrame.java:679)\r\n\tat com.AdamT.MergeSortGui.&lt;init&gt;(MergeSortGui.java:18)\r\n\tat com.AdamT.MergeSortGui.main(MergeSortGui.java:13)\r\n```\r\n\r\nMy code:\r\n```Java\r\npackage com.AdamT;\r\n\r\nimport javax.swing.*;\r\n\r\nclass MergeSortGui extends JFrame {\r\n    private JPanel panel;\r\n    private JTextField inputList;\r\n    private JButton submitButton;\r\n    private JLabel inputLabel;\r\n    private JLabel outputLabel;\r\n\r\n    public static void main(String[] args) {\r\n        new MergeSortGui();\r\n    }\r\n\r\n    MergeSortGui() {\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setContentPane(panel);\r\n        this.setTitle(&quot;MergeSort GUI&quot;);\r\n\r\n        this.add(inputList);\r\n        this.add(submitButton);\r\n        this.add(inputLabel);\r\n        this.add(outputLabel);\r\n\r\n        this.pack();\r\n        this.setVisible(true);\r\n    }\r\n}\r\n```\r\nI would add my form, too, but I can&#39;t because then this woudld be mostly code... I uploaded all of my project [here][1]. From what I have seen from the error, it is because it&#39;s assuming that the content of each variable is null, even though it&#39;s taken care of by my `.form` file. Any ideas?\r\n\r\n(I know this is a dupe of [this][2], but that has no working answer so I really am at completely lost)\r\n\r\n  [1]: https://github.com/SimPilotAdamT/MergeSortGUI\r\n  [2]: https://stackoverflow.com/questions/48736420/intellij-contentpane-cannot-be-set-to-null-using-swing-designer","title":"contentPane cannot be null when using IDEA&#39;s content designer","body":"<p>So I'm trying out IntelliJ IDEA's content designer for a simple GUI, and I followed all guides on using it, but it when run from IDEA (not compiled into a JAR yet) it comes back with the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.IllegalComponentStateException: contentPane cannot be set to null.\n    at java.desktop/javax.swing.JRootPane.setContentPane(JRootPane.java:594)\n    at java.desktop/javax.swing.JFrame.setContentPane(JFrame.java:679)\n    at com.AdamT.MergeSortGui.&lt;init&gt;(MergeSortGui.java:18)\n    at com.AdamT.MergeSortGui.main(MergeSortGui.java:13)\n</code></pre>\n<p>My code:</p>\n<pre><code>package com.AdamT;\n\nimport javax.swing.*;\n\nclass MergeSortGui extends JFrame {\n    private JPanel panel;\n    private JTextField inputList;\n    private JButton submitButton;\n    private JLabel inputLabel;\n    private JLabel outputLabel;\n\n    public static void main(String[] args) {\n        new MergeSortGui();\n    }\n\n    MergeSortGui() {\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setContentPane(panel);\n        this.setTitle(&quot;MergeSort GUI&quot;);\n\n        this.add(inputList);\n        this.add(submitButton);\n        this.add(inputLabel);\n        this.add(outputLabel);\n\n        this.pack();\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>I would add my form, too, but I can't because then this woudld be mostly code... I uploaded all of my project <a href=\"https://github.com/SimPilotAdamT/MergeSortGUI\" rel=\"nofollow noreferrer\">here</a>. From what I have seen from the error, it is because it's assuming that the content of each variable is null, even though it's taken care of by my <code>.form</code> file. Any ideas?</p>\n<p>(I know this is a dupe of <a href=\"https://stackoverflow.com/questions/48736420/intellij-contentpane-cannot-be-set-to-null-using-swing-designer\">this</a>, but that has no working answer so I really am at completely lost)</p>\n"},{"tags":["java","automation","appium","xcuitest"],"answers":[{"tags":[],"owner":{"account_id":5118808,"reputation":3538,"user_id":4103101,"display_name":"dmle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606596553,"creation_date":1606596553,"answer_id":65054316,"question_id":65004881,"body_markdown":"Check Appium [Settings API][1]: for iOS it has `acceptAlertButtonSelector` parameter you need to set via API call and then you can try to find the button with required label:\r\n\r\nAllows to customize accept alert button selector.\r\nIt helps you to handle an arbitrary element as accept button in accept alert\r\ncommand. The selector should be a valid class chain expression, where the\r\nsearch root is the alert element itself.\r\n\r\nThe default button location algorithm is used if the provided selector is wrong\r\nor does not match any element. e.g.,\r\n\r\n```\r\n**/XCUIElementTypeButton[`label CONTAINS[c] &#39;accept&#39;`]\r\n```\r\n\r\n  [1]: http://appium.io/docs/en/advanced-concepts/settings/","title":"Appium: autoAcceptAlert doesn&#39;t work to allow access to all photos on IOS 14","body":"<p>Check Appium <a href=\"http://appium.io/docs/en/advanced-concepts/settings/\" rel=\"nofollow noreferrer\">Settings API</a>: for iOS it has <code>acceptAlertButtonSelector</code> parameter you need to set via API call and then you can try to find the button with required label:</p>\n<p>Allows to customize accept alert button selector.\nIt helps you to handle an arbitrary element as accept button in accept alert\ncommand. The selector should be a valid class chain expression, where the\nsearch root is the alert element itself.</p>\n<p>The default button location algorithm is used if the provided selector is wrong\nor does not match any element. e.g.,</p>\n<pre><code>**/XCUIElementTypeButton[`label CONTAINS[c] 'accept'`]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26418217,"reputation":46,"user_id":20066258,"display_name":"Xiang Li"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663898062,"creation_date":1663898062,"answer_id":73822256,"question_id":65004881,"body_markdown":"Resolved with adding **acceptAlertButtonSelector** to the desired caps:  \r\n**Java**\r\n\r\n    driver.setSetting(&quot;acceptAlertButtonSelector&quot;, &quot;**/XCUIElementTypeButton[label == &#39;Allow While Using App&#39;]&quot;);\r\n\r\n**Python**\r\n\r\n    &quot;acceptAlertButtonSelector&quot;: &quot;**/XCUIElementTypeButton[label == &#39;Allow While Using App&#39;]&quot;","title":"Appium: autoAcceptAlert doesn&#39;t work to allow access to all photos on IOS 14","body":"<p>Resolved with adding <strong>acceptAlertButtonSelector</strong> to the desired caps:<br />\n<strong>Java</strong></p>\n<pre><code>driver.setSetting(&quot;acceptAlertButtonSelector&quot;, &quot;**/XCUIElementTypeButton[label == 'Allow While Using App']&quot;);\n</code></pre>\n<p><strong>Python</strong></p>\n<pre><code>&quot;acceptAlertButtonSelector&quot;: &quot;**/XCUIElementTypeButton[label == 'Allow While Using App']&quot;\n</code></pre>\n"}],"owner":{"account_id":12888464,"reputation":155,"user_id":9321181,"display_name":"Karen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73822256,"answer_count":2,"score":1,"last_activity_date":1663898062,"creation_date":1606307887,"question_id":65004881,"body_markdown":"The problem is that in IOS 14 there is a third option of permission of photos and autoAcceptAlerts is clicking &#39;don&#39;t allow&#39; in case of any passed argument.","title":"Appium: autoAcceptAlert doesn&#39;t work to allow access to all photos on IOS 14","body":"<p>The problem is that in IOS 14 there is a third option of permission of photos and autoAcceptAlerts is clicking 'don't allow' in case of any passed argument.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":0,"creation_date":1663793537,"post_id":73806582,"comment_id":130325918,"body_markdown":"You don&#39;t need to use Streams to avoid this. Is your primary concern to use Streams, or to avoid coding to each `Category`?","body":"You don&#39;t need to use Streams to avoid this. Is your primary concern to use Streams, or to avoid coding to each <code>Category</code>?"},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1663855484,"post_id":73806582,"comment_id":130341615,"body_markdown":"The categories are typically streamed so the main concern is duplication","body":"The categories are typically streamed so the main concern is duplication"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663793259,"creation_date":1663793259,"answer_id":73806781,"question_id":73806582,"body_markdown":"&gt; The problem is that I need to edit the code every time I add a new `Category`. Is there a way to do this via the Streams API, regardless of what `Category` values exist?\r\n\r\nYou can obtain all declared *enum-constants* using either `values()` or [`EnumSet.allOf(Class&lt;E&gt;)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)).\r\n\r\nIf you need the resulting map to contain the entry for every existing `Category`-member, you can provide a *prepopulated map* through the *supplier* of `collect()` operation.\r\n\r\nHere&#39;s how it might be implemented:\r\n\r\n```\r\nMap&lt;Category, PieSlice&gt; sliceMap = lineItems.stream()\r\n    .collect(\r\n        () -&gt; EnumSet.allOf(Category.class).stream()\r\n            .collect(Collectors.toMap(Function.identity(), c -&gt; new PieSlice())),\r\n        (Map&lt;Category, PieSlice&gt; map, LineItem item) -&gt; \r\n            map.get(item.getCategory()).addAmount(item.getAmount()),\r\n        (left, right) -&gt; \r\n            right.forEach((category, slice) -&gt; left.get(category).addAmount(slice.getValue()))\r\n    );\r\n```","title":"Using Java Streams API to dynamically convert a list into a group map with enum key","body":"<blockquote>\n<p>The problem is that I need to edit the code every time I add a new <code>Category</code>. Is there a way to do this via the Streams API, regardless of what <code>Category</code> values exist?</p>\n</blockquote>\n<p>You can obtain all declared <em>enum-constants</em> using either <code>values()</code> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>EnumSet.allOf(Class&lt;E&gt;)</code></a>.</p>\n<p>If you need the resulting map to contain the entry for every existing <code>Category</code>-member, you can provide a <em>prepopulated map</em> through the <em>supplier</em> of <code>collect()</code> operation.</p>\n<p>Here's how it might be implemented:</p>\n<pre><code>Map&lt;Category, PieSlice&gt; sliceMap = lineItems.stream()\n    .collect(\n        () -&gt; EnumSet.allOf(Category.class).stream()\n            .collect(Collectors.toMap(Function.identity(), c -&gt; new PieSlice())),\n        (Map&lt;Category, PieSlice&gt; map, LineItem item) -&gt; \n            map.get(item.getCategory()).addAmount(item.getAmount()),\n        (left, right) -&gt; \n            right.forEach((category, slice) -&gt; left.get(category).addAmount(slice.getValue()))\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20681699,"reputation":148,"user_id":15185138,"display_name":"Vrezh Arakelyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663797217,"creation_date":1663797217,"answer_id":73807325,"question_id":73806582,"body_markdown":"You can use the `collect` operation to achieve this\r\n\r\n```\r\n        Map&lt;Category, PieSlice&gt; sliceMap = lineItems\r\n                .stream()\r\n                .collect(\r\n                        Collectors.groupingBy(\r\n                                LineItem::getCategory,\r\n                                Collectors.reducing(\r\n                                        new PieSlice(),\r\n                                        item -&gt; {\r\n                                            PieSlice slice = new PieSlice();\r\n                                            slice.addAmount(item.getAmount());\r\n                                            return slice;\r\n                                        },\r\n                                        (slice, anotherSlice) -&gt; {\r\n                                            slice.addAmount(anotherSlice.getValue());\r\n                                            return slice;\r\n                                        }\r\n                                )\r\n                        )\r\n                );\r\n```\r\n\r\nWhat this piece of code does is a 2-step [reduction](https://en.wikipedia.org/wiki/Reduction_operator). First, we take lineItems and group them by their category - reducing the initial list to a map, we achieve this by using `Collectors.groupingBy`. If we were to use this collector without the second argument, the result would be of type `Map&lt;Category, List&lt;LineItem&gt;&gt;`. Here is where the `Collectors.reducing` reducer comes to play - it takes the list of `LineItems` which are already grouped by their category and turns them into a singular `PieSlice`, where the original values are accumulated.\r\n\r\nYou can read more on reduction operations and the standard reducers provided by the JDK [here](https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html).\r\n\r\n","title":"Using Java Streams API to dynamically convert a list into a group map with enum key","body":"<p>You can use the <code>collect</code> operation to achieve this</p>\n<pre><code>        Map&lt;Category, PieSlice&gt; sliceMap = lineItems\n                .stream()\n                .collect(\n                        Collectors.groupingBy(\n                                LineItem::getCategory,\n                                Collectors.reducing(\n                                        new PieSlice(),\n                                        item -&gt; {\n                                            PieSlice slice = new PieSlice();\n                                            slice.addAmount(item.getAmount());\n                                            return slice;\n                                        },\n                                        (slice, anotherSlice) -&gt; {\n                                            slice.addAmount(anotherSlice.getValue());\n                                            return slice;\n                                        }\n                                )\n                        )\n                );\n</code></pre>\n<p>What this piece of code does is a 2-step <a href=\"https://en.wikipedia.org/wiki/Reduction_operator\" rel=\"nofollow noreferrer\">reduction</a>. First, we take lineItems and group them by their category - reducing the initial list to a map, we achieve this by using <code>Collectors.groupingBy</code>. If we were to use this collector without the second argument, the result would be of type <code>Map&lt;Category, List&lt;LineItem&gt;&gt;</code>. Here is where the <code>Collectors.reducing</code> reducer comes to play - it takes the list of <code>LineItems</code> which are already grouped by their category and turns them into a singular <code>PieSlice</code>, where the original values are accumulated.</p>\n<p>You can read more on reduction operations and the standard reducers provided by the JDK <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663897119,"creation_date":1663797929,"answer_id":73807396,"question_id":73806582,"body_markdown":"Try this.\r\n\r\n    List&lt;LineItem&gt; lineItems = List.of(\r\n        new LineItem(1L, &quot;&quot;, Category.Thing, BigDecimal.valueOf(100)),\r\n        new LineItem(2L, &quot;&quot;, Category.Thang, BigDecimal.valueOf(200)),\r\n        new LineItem(3L, &quot;&quot;, Category.Fizz, BigDecimal.valueOf(300)),\r\n        new LineItem(4L, &quot;&quot;, Category.Thing, BigDecimal.valueOf(400))\r\n    );\r\n    Map&lt;Category, PieSlice&gt; sliceMap = lineItems.stream()\r\n        .collect(\r\n            groupingBy(LineItem::getCategory,\r\n                mapping(LineItem::getAmount,\r\n                    collectingAndThen(\r\n                        reducing(BigDecimal.ZERO, BigDecimal::add),\r\n                        amount -&gt; {\r\n                            PieSlice pieSlice = new PieSlice();\r\n                            pieSlice.addAmount(amount);\r\n                            return pieSlice;\r\n                        }))));\r\n    sliceMap.entrySet().stream()\r\n        .forEach(System.out::println);\r\n\r\noutput:\r\n\r\n    Fizz=PieSlice [label=null, value=300]\r\n    Thang=PieSlice [label=null, value=200]\r\n    Thing=PieSlice [label=null, value=500]\r\n\r\n","title":"Using Java Streams API to dynamically convert a list into a group map with enum key","body":"<p>Try this.</p>\n<pre><code>List&lt;LineItem&gt; lineItems = List.of(\n    new LineItem(1L, &quot;&quot;, Category.Thing, BigDecimal.valueOf(100)),\n    new LineItem(2L, &quot;&quot;, Category.Thang, BigDecimal.valueOf(200)),\n    new LineItem(3L, &quot;&quot;, Category.Fizz, BigDecimal.valueOf(300)),\n    new LineItem(4L, &quot;&quot;, Category.Thing, BigDecimal.valueOf(400))\n);\nMap&lt;Category, PieSlice&gt; sliceMap = lineItems.stream()\n    .collect(\n        groupingBy(LineItem::getCategory,\n            mapping(LineItem::getAmount,\n                collectingAndThen(\n                    reducing(BigDecimal.ZERO, BigDecimal::add),\n                    amount -&gt; {\n                        PieSlice pieSlice = new PieSlice();\n                        pieSlice.addAmount(amount);\n                        return pieSlice;\n                    }))));\nsliceMap.entrySet().stream()\n    .forEach(System.out::println);\n</code></pre>\n<p>output:</p>\n<pre><code>Fizz=PieSlice [label=null, value=300]\nThang=PieSlice [label=null, value=200]\nThing=PieSlice [label=null, value=500]\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73807396,"answer_count":3,"score":0,"last_activity_date":1663897119,"creation_date":1663792048,"question_id":73806582,"body_markdown":"Java 8 Streams here. I have the following classes:\r\n```\r\npublic enum Category {\r\n    Thing,\r\n    Thang,\r\n    Fizz\r\n}\r\n\r\n@Data // using lombok to generate ctors/getters/setters/etc.\r\npublic class LineItem {\r\n\r\n    private Long id;\r\n    private String name;\r\n    private Category category;\r\n    private BigDecimal amount;\r\n\r\n}\r\n\r\n@Data\r\npublic class PieSlice {\r\n\r\n    private String label;\r\n    private BigDecimal value = BigDecimal.ZERO;\r\n\r\n    public void addAmount(BigDecimal amount) {\r\n        value = value.add(amount);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn my code I am given a `List&lt;LineItem&gt;` and I want to convert it to a `Map&lt;Category,PieSlice&gt;` using the Streams API, if at all possible.\r\n\r\nUsing the non-Stream way, the conversion would look like:\r\n```\r\nList&lt;LineItem&gt; lineItems = getSomehow();\r\nMap&lt;Category,PieSlice&gt; sliceMap = new HashMap&lt;&gt;();\r\n\r\nPieSlice thingSlice = new PieSlice();\r\nPieSlice thangSlice = new PieSlice();\r\nPieSlice fizzSlice = new PieSlice();\r\n\r\nfor (LineItem lineItem : lineItems) {\r\n    \r\n    if (lineItem.getCategory().equals(Category.Thing)) {\r\n        thingSlice.addAmount(lineItem.getAmount());\r\n    } else if (lineItem.getCategory().equals(Category.Thang)) {\r\n        thangSlice.addAmount(lineItem.getAmount());\r\n    } else if (lineItem.getCategory().equals(Category.Fizz)) {\r\n        fizz.addAmount(lineItem.getAmount());\r\n    } else {\r\n        throw new RuntimeException(&quot;uncategorized line item&quot;);\r\n    }\r\n\r\n}\r\n\r\nsliceMap.put(Category.Thing, thingSlice);\r\nsliceMap.put(Category.Thang, thangSlice);\r\nsliceMap.put(Category.Fizz, fizzSlice);\r\n```\r\n\r\nThe problem is that I need to edit the code every time I add a new `Category`. Is there a  way to do this via the Streams API, regardless of what `Category` values exist?","title":"Using Java Streams API to dynamically convert a list into a group map with enum key","body":"<p>Java 8 Streams here. I have the following classes:</p>\n<pre><code>public enum Category {\n    Thing,\n    Thang,\n    Fizz\n}\n\n@Data // using lombok to generate ctors/getters/setters/etc.\npublic class LineItem {\n\n    private Long id;\n    private String name;\n    private Category category;\n    private BigDecimal amount;\n\n}\n\n@Data\npublic class PieSlice {\n\n    private String label;\n    private BigDecimal value = BigDecimal.ZERO;\n\n    public void addAmount(BigDecimal amount) {\n        value = value.add(amount);\n    }\n\n}\n</code></pre>\n<p>In my code I am given a <code>List&lt;LineItem&gt;</code> and I want to convert it to a <code>Map&lt;Category,PieSlice&gt;</code> using the Streams API, if at all possible.</p>\n<p>Using the non-Stream way, the conversion would look like:</p>\n<pre><code>List&lt;LineItem&gt; lineItems = getSomehow();\nMap&lt;Category,PieSlice&gt; sliceMap = new HashMap&lt;&gt;();\n\nPieSlice thingSlice = new PieSlice();\nPieSlice thangSlice = new PieSlice();\nPieSlice fizzSlice = new PieSlice();\n\nfor (LineItem lineItem : lineItems) {\n    \n    if (lineItem.getCategory().equals(Category.Thing)) {\n        thingSlice.addAmount(lineItem.getAmount());\n    } else if (lineItem.getCategory().equals(Category.Thang)) {\n        thangSlice.addAmount(lineItem.getAmount());\n    } else if (lineItem.getCategory().equals(Category.Fizz)) {\n        fizz.addAmount(lineItem.getAmount());\n    } else {\n        throw new RuntimeException(&quot;uncategorized line item&quot;);\n    }\n\n}\n\nsliceMap.put(Category.Thing, thingSlice);\nsliceMap.put(Category.Thang, thangSlice);\nsliceMap.put(Category.Fizz, fizzSlice);\n</code></pre>\n<p>The problem is that I need to edit the code every time I add a new <code>Category</code>. Is there a  way to do this via the Streams API, regardless of what <code>Category</code> values exist?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1663900084,"post_id":73822082,"comment_id":130353118,"body_markdown":"btw, `&lt;uses-feature &quot;x&quot;` means for the playstore &quot;requires feature X&quot; which will make it unavailable to devices that don&#39;t have that. Make them optional if you don&#39;t actually require all of them. There&#39;s a `&quot;required&quot;`  flag you can put in there.","body":"btw, <code>&lt;uses-feature &quot;x&quot;</code> means for the playstore &quot;requires feature X&quot; which will make it unavailable to devices that don&#39;t have that. Make them optional if you don&#39;t actually require all of them. There&#39;s a <code>&quot;required&quot;</code>  flag you can put in there."}],"answers":[{"tags":[],"owner":{"account_id":24332935,"reputation":482,"user_id":21183551,"display_name":"Ars_Codicis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663896957,"creation_date":1663896515,"answer_id":73822137,"question_id":73822082,"body_markdown":"**Answer 1**\r\n------------\r\n\r\nHave you waited 24 hours? It can take some time for the app to get uploaded to ALL Google&#39;s servers.\r\n\r\nAnswer 2\r\n----------\r\n\r\nHave you added devices? You navigate to &#39;YOUR_APP&#39; &gt; Reach And Devices &gt; Device Catalog. Then you click the Manage Devices &gt; Include Devices. Then you select the devices you support.\r\n\r\n[![Example][1]][1]\r\n\r\nThen:\r\n\r\n[![Then Do This][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/04TuE.png\r\n  [2]: https://i.stack.imgur.com/NAvec.png","title":"App status on Play Console is Available but Supported Devices 0","body":"<h2><strong>Answer 1</strong></h2>\n<p>Have you waited 24 hours? It can take some time for the app to get uploaded to ALL Google's servers.</p>\n<h2>Answer 2</h2>\n<p>Have you added devices? You navigate to 'YOUR_APP' &gt; Reach And Devices &gt; Device Catalog. Then you click the Manage Devices &gt; Include Devices. Then you select the devices you support.</p>\n<p><a href=\"https://i.stack.imgur.com/04TuE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/04TuE.png\" alt=\"Example\" /></a></p>\n<p>Then:</p>\n<p><a href=\"https://i.stack.imgur.com/NAvec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NAvec.png\" alt=\"Then Do This\" /></a></p>\n"}],"owner":{"account_id":26417888,"reputation":11,"user_id":20065981,"display_name":"Webinar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663896957,"creation_date":1663895833,"question_id":73822082,"body_markdown":"I just trying to publish my android app, now my app status is Available on Play Store, but when I search in play store my app is not found.\r\nWhen I check the release details in the Google Play console, I see devices supported by my app are zero. Any reason why this happened??\r\n\r\nThis is our manifest :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.ourteam.ourapp&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;!--&lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot; /&gt;\r\n    &lt;!--    &lt;uses-permission\r\n            android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n            tools:ignore=&quot;ScopedStorage&quot; /&gt;--&gt;\r\n    &lt;!--&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.location.gps&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.location.network&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera2.legacy&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\r\n    &lt;!--custom permission device--&gt;\r\n    &lt;uses-permission android:name=&quot;com.vivo.permissionmanager&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;oppo.permission.OPPO_COMPONENT_SAFE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.huawei.permission.external_app_settings.USE_COMPONENT&quot; /&gt;\r\n    &lt;!--custom permission device end--&gt;\r\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.google.zxing.client.android&quot; /&gt;\r\n    &lt;queries&gt;\r\n        &lt;!-- Browser --&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;data android:scheme=&quot;http&quot; /&gt;\r\n        &lt;/intent&gt;\r\n\r\n        &lt;!-- Camera --&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n        &lt;/intent&gt;\r\n        &lt;!-- Gallery --&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n    &lt;application\r\n        android:name=&quot;.modul.GlobalClass&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:replace=&quot;android:allowBackup&quot;\r\n        tools:targetApi=&quot;n&quot;&gt;\r\n        &lt;uses-library\r\n            android:name=&quot;org.apache.http.legacy&quot;\r\n            android:required=&quot;false&quot; /&gt;\r\n        &lt;!--        &lt;meta-data\r\n                    android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n                    android:value=&quot;@string/google_api_key&quot; /&gt;--&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;blabla&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n            android:value=&quot;@string/notification_channel_id&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n            android:resource=&quot;@drawable/ic_launcher&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n            android:resource=&quot;@color/orangePrimaryLightest&quot; /&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.ourteam.ourapp.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;\r\n            tools:replace=&quot;android:authorities&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_path&quot; /&gt;\r\n        &lt;/provider&gt;\r\n        &lt;service\r\n            android:name=&quot;.firebase.MyFirebaseMessagingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:stopWithTask=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n        &lt;!--add firebase activity API require 32--&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.google.android.gms.auth.api.signin.internal.SignInHubActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;sensorPortrait&quot;\r\n            android:windowSoftInputMode=&quot;stateAlwaysHidden|adjustPan&quot;\r\n            tools:node=&quot;merge&quot; /&gt;\r\n        \r\n        &lt;service\r\n            android:name=&quot;.ourTask.TaskServices&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\r\n            android:stopWithTask=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;ACTION_CALL&quot; /&gt;\r\n                &lt;action android:name=&quot;ACTION_SETTING&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.ourTask.TaskReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\r\n            tools:node=&quot;merge&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n                &lt;action android:name=&quot;ALARMSETTING&quot; /&gt;\r\n                &lt;action android:name=&quot;ALARMCALL&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        \r\n\r\n        &lt;activity\r\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:screenOrientation=&quot;sensorPortrait&quot;\r\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashScreen&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;sensorPortrait&quot;\r\n            android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        \r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\nI tried looking this problem up online but I couldn&#39;t find a problem similar to mine. Most apps have no supported devices because they use features that are only available in some or in no devices. I just can&#39;t figure out what&#39;s wrong in mine. I&#39;ve actually tested this app on my device and it worked fine","title":"App status on Play Console is Available but Supported Devices 0","body":"<p>I just trying to publish my android app, now my app status is Available on Play Store, but when I search in play store my app is not found.\nWhen I check the release details in the Google Play console, I see devices supported by my app are zero. Any reason why this happened??</p>\n<p>This is our manifest :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\npackage=&quot;com.ourteam.ourapp&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;!--&lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;--&gt;\n&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BOOT_COMPLETED&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    android:maxSdkVersion=&quot;29&quot; /&gt;\n&lt;!--    &lt;uses-permission\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;--&gt;\n&lt;!--&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;--&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.location.gps&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.location.network&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera.any&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera2.legacy&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\n&lt;!--custom permission device--&gt;\n&lt;uses-permission android:name=&quot;com.vivo.permissionmanager&quot; /&gt;\n&lt;uses-permission android:name=&quot;oppo.permission.OPPO_COMPONENT_SAFE&quot; /&gt;\n&lt;uses-permission android:name=&quot;com.huawei.permission.external_app_settings.USE_COMPONENT&quot; /&gt;\n&lt;!--custom permission device end--&gt;\n&lt;uses-sdk tools:overrideLibrary=&quot;com.google.zxing.client.android&quot; /&gt;\n&lt;queries&gt;\n    &lt;!-- Browser --&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;data android:scheme=&quot;http&quot; /&gt;\n    &lt;/intent&gt;\n\n    &lt;!-- Camera --&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n    &lt;/intent&gt;\n    &lt;!-- Gallery --&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n&lt;application\n    android:name=&quot;.modul.GlobalClass&quot;\n    android:allowBackup=&quot;false&quot;\n    android:hardwareAccelerated=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:largeHeap=&quot;true&quot;\n    android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;\n    android:usesCleartextTraffic=&quot;true&quot;\n    tools:replace=&quot;android:allowBackup&quot;\n    tools:targetApi=&quot;n&quot;&gt;\n    &lt;uses-library\n        android:name=&quot;org.apache.http.legacy&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;!--        &lt;meta-data\n                android:name=&quot;com.google.android.geo.API_KEY&quot;\n                android:value=&quot;@string/google_api_key&quot; /&gt;--&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.android.geo.API_KEY&quot;\n        android:value=&quot;blabla&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\n        android:value=&quot;@string/notification_channel_id&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\n        android:resource=&quot;@drawable/ic_launcher&quot; /&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\n        android:resource=&quot;@color/orangePrimaryLightest&quot; /&gt;\n\n    &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;com.ourteam.ourapp.fileprovider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;\n        tools:replace=&quot;android:authorities&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_path&quot; /&gt;\n    &lt;/provider&gt;\n    &lt;service\n        android:name=&quot;.firebase.MyFirebaseMessagingService&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;false&quot;\n        android:stopWithTask=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n    &lt;!--add firebase activity API require 32--&gt;\n    &lt;activity\n        android:name=&quot;com.google.android.gms.auth.api.signin.internal.SignInHubActivity&quot;\n        android:exported=&quot;false&quot;\n        android:screenOrientation=&quot;sensorPortrait&quot;\n        android:windowSoftInputMode=&quot;stateAlwaysHidden|adjustPan&quot;\n        tools:node=&quot;merge&quot; /&gt;\n    \n    &lt;service\n        android:name=&quot;.ourTask.TaskServices&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\n        android:stopWithTask=&quot;false&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;ACTION_CALL&quot; /&gt;\n            &lt;action android:name=&quot;ACTION_SETTING&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n    &lt;receiver\n        android:name=&quot;.ourTask.TaskReceiver&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\n        tools:node=&quot;merge&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n            &lt;action android:name=&quot;ALARMSETTING&quot; /&gt;\n            &lt;action android:name=&quot;ALARMCALL&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    \n\n    &lt;activity\n        android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;\n        android:exported=&quot;false&quot;\n        android:screenOrientation=&quot;sensorPortrait&quot;\n        android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.SplashScreen&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;sensorPortrait&quot;\n        android:theme=&quot;@style/SplashTheme&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    \n&lt;/application&gt;\n</code></pre>\n\n<p>I tried looking this problem up online but I couldn't find a problem similar to mine. Most apps have no supported devices because they use features that are only available in some or in no devices. I just can't figure out what's wrong in mine. I've actually tested this app on my device and it worked fine</p>\n"},{"tags":["java","csv","bufferedreader"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1663833341,"post_id":73811082,"comment_id":130333223,"body_markdown":"Just read until the last non-null (and non-empty) line","body":"Just read until the last non-null (and non-empty) line"},{"owner":{"account_id":26410032,"reputation":3,"user_id":20059230,"display_name":"bf-codes"},"score":0,"creation_date":1663833572,"post_id":73811082,"comment_id":130333307,"body_markdown":"@MarkRotteveel So just make the while loop stop before it hits null? line = br.readLine() ?","body":"@MarkRotteveel So just make the while loop stop before it hits null? line = br.readLine() ?"}],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663834150,"creation_date":1663834150,"answer_id":73811274,"question_id":73811082,"body_markdown":"Why not stored all lines into List and get last line details such as follows\r\n\r\n\r\n    private List&lt;String[]&gt; readLines = new ArrayList&lt;&gt;();\r\n    \t\r\n    public void readPreviousEntryID(){\r\n    \tString path = &quot;csvs/cartEntries.csv&quot;;\r\n    \ttry {\r\n    \t\tString line;\r\n    \t\tBufferedReader br = new BufferedReader(new FileReader(path));\r\n    \t\twhile ((line = br.readLine()) != null) {\r\n    \t\t    String[] values = line.split(&quot;,&quot;);\r\n    \t\t    readLines.add(values);\r\n    \t\t}\r\n    \t\tbr.close();\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\n    public String[] getLastLine() {\r\n    \treturn readLines.get(readLines.size()-1);\r\n    }\r\n\r\nThis above function will gives the last row of csv file.\r\n","title":"How do I read only the last line of a csv file in Java?","body":"<p>Why not stored all lines into List and get last line details such as follows</p>\n<pre><code>private List&lt;String[]&gt; readLines = new ArrayList&lt;&gt;();\n    \npublic void readPreviousEntryID(){\n    String path = &quot;csvs/cartEntries.csv&quot;;\n    try {\n        String line;\n        BufferedReader br = new BufferedReader(new FileReader(path));\n        while ((line = br.readLine()) != null) {\n            String[] values = line.split(&quot;,&quot;);\n            readLines.add(values);\n        }\n        br.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic String[] getLastLine() {\n    return readLines.get(readLines.size()-1);\n}\n</code></pre>\n<p>This above function will gives the last row of csv file.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663837057,"creation_date":1663835556,"answer_id":73811582,"question_id":73811082,"body_markdown":"Simply read the lines of the file in a loop and save the `values` of the last line read. After the loop terminates, `values` contains the contents of the last line in the file.\r\n```java\r\npublic void readPreviousEntryID() throws IOException {\r\n    String path = &quot;csvs/cartEntries.csv&quot;;\r\n    try (FileReader fr = new FileReader(path);\r\n         BufferedReader br = new BufferedReader(fr)) {\r\n        String[] values = null;\r\n        String line = br.readLine();\r\n        while (line != null) {\r\n            values = line.split(&quot;,&quot;);\r\n            line = br.readLine();\r\n        }\r\n        if (values == null) {\r\n            throw new IOException(&quot;File is empty.&quot;);\r\n        }\r\n        // Handle &#39;values[0]&#39;\r\n    }\r\n}\r\n```\r\nThe advantage of the above code is that you don&#39;t need to store the entire file contents in the computer memory. If the CSV file is very large, you may get [OutOfMemoryError](https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html).\r\n\r\nNote that is important to close a file after you have finished reading it. Since Java 7 you can use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).\r\n\r\nRather than catch the `IOException` and wrap it in a `RuntimeException`, I suggest that you simply declare that method `readPreviousEntryID` may throw an `IOException`. Refer to [Unchecked Exceptions — The Controversy](https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html).\r\n\r\nIt is probably also a good idea to check, after the loop terminates, that `values` contains the expected number of elements, e.g.\r\n```java\r\nif (values.length == 5) {\r\n    // Handle &#39;values[0]&#39;\r\n}\r\nelse {\r\n    throw new IOException(&quot;Invalid last line.&quot;);\r\n}\r\n```\r\n\r\nEdit\r\n----\r\nAlternatively, no need to split every line. Just save the last line read and split that last line after the loop terminates.\r\n```java\r\npublic void readPreviousEntryID() throws IOException {\r\n    String path = &quot;csvs/cartEntries.csv&quot;;\r\n    try (FileReader fr = new FileReader(path);\r\n         BufferedReader br = new BufferedReader(fr)) {\r\n        String lastLine = null;\r\n        String line = br.readLine();\r\n        while (line != null) {\r\n            lastLine = line;\r\n            line = br.readLine();\r\n        }\r\n        if (lastLine == null) {\r\n            throw new IOException(&quot;File is empty.&quot;);\r\n        }\r\n        String[] values = lastLine.split(&quot;,&quot;);\r\n        // Handle &#39;values[0]&#39;\r\n    }\r\n}\r\n```\r\n","title":"How do I read only the last line of a csv file in Java?","body":"<p>Simply read the lines of the file in a loop and save the <code>values</code> of the last line read. After the loop terminates, <code>values</code> contains the contents of the last line in the file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void readPreviousEntryID() throws IOException {\n    String path = &quot;csvs/cartEntries.csv&quot;;\n    try (FileReader fr = new FileReader(path);\n         BufferedReader br = new BufferedReader(fr)) {\n        String[] values = null;\n        String line = br.readLine();\n        while (line != null) {\n            values = line.split(&quot;,&quot;);\n            line = br.readLine();\n        }\n        if (values == null) {\n            throw new IOException(&quot;File is empty.&quot;);\n        }\n        // Handle 'values[0]'\n    }\n}\n</code></pre>\n<p>The advantage of the above code is that you don't need to store the entire file contents in the computer memory. If the CSV file is very large, you may get <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">OutOfMemoryError</a>.</p>\n<p>Note that is important to close a file after you have finished reading it. Since Java 7 you can use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</p>\n<p>Rather than catch the <code>IOException</code> and wrap it in a <code>RuntimeException</code>, I suggest that you simply declare that method <code>readPreviousEntryID</code> may throw an <code>IOException</code>. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Unchecked Exceptions — The Controversy</a>.</p>\n<p>It is probably also a good idea to check, after the loop terminates, that <code>values</code> contains the expected number of elements, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (values.length == 5) {\n    // Handle 'values[0]'\n}\nelse {\n    throw new IOException(&quot;Invalid last line.&quot;);\n}\n</code></pre>\n<h2>Edit</h2>\n<p>Alternatively, no need to split every line. Just save the last line read and split that last line after the loop terminates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void readPreviousEntryID() throws IOException {\n    String path = &quot;csvs/cartEntries.csv&quot;;\n    try (FileReader fr = new FileReader(path);\n         BufferedReader br = new BufferedReader(fr)) {\n        String lastLine = null;\n        String line = br.readLine();\n        while (line != null) {\n            lastLine = line;\n            line = br.readLine();\n        }\n        if (lastLine == null) {\n            throw new IOException(&quot;File is empty.&quot;);\n        }\n        String[] values = lastLine.split(&quot;,&quot;);\n        // Handle 'values[0]'\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663835754,"creation_date":1663835754,"answer_id":73811631,"question_id":73811082,"body_markdown":"In Linux one would use the `tail` command to print the _n_ last lines. Search `java tail` will get you some implementations.\r\n\r\nA good fast implementation for large files would use a RandomAccessFile, maybe a MemoryMappedByteBuffer, and search back from the end for a `\\n`.\r\n\r\nIn your case you can keep it simple.\r\n\r\n    public String readPreviousEntryID(){\r\n        Path path = Paths.get(&quot;csvs/cartEntries.csv&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path, Charset.defaultCharset())) {\r\n            return lines\r\n                       .filter(line -&gt; !line.isEmpty())\r\n                       .reduce(&quot;&quot;, (acc, line) -&gt; line);\r\n        } catch (FileNotFoundException e) {\r\n            // You gave a relative path, show the actual full path:\r\n            System.out.println(&quot;File not found: &quot; + Files.toAbsolutePath());\r\n            throw new RuntimeException(e);\r\n        } // Automatically closes the Stream lines, even on exception or return.\r\n    }\r\n\r\n- **Try-with-resources** `try (... declarations of AutoCloseables ...) { ... }` ensuring the call to `.close()`.\r\n- **Stream**, the newest walk through items. Here skipping empty lines and &quot;accumulating&quot; just the last line. You need not keep all lines in memory.\r\n- **Lambdas**, `x -&gt; ...` or `(x, y) -&gt; ...` declare an anonymous function with 1 resp. 2 parameter declarations.\r\n- **Path** is a generalisation of disk file only `File`. Path can also be from an URL, inside a zip file etcetera.\r\n- **Files** is a worthwile utility class providing many `Path` related goodies. [`Files`](https://docs.oracle.com/javase/10/docs/api/java/nio/file/Path.html).\r\n\r\n","title":"How do I read only the last line of a csv file in Java?","body":"<p>In Linux one would use the <code>tail</code> command to print the <em>n</em> last lines. Search <code>java tail</code> will get you some implementations.</p>\n<p>A good fast implementation for large files would use a RandomAccessFile, maybe a MemoryMappedByteBuffer, and search back from the end for a <code>\\n</code>.</p>\n<p>In your case you can keep it simple.</p>\n<pre><code>public String readPreviousEntryID(){\n    Path path = Paths.get(&quot;csvs/cartEntries.csv&quot;);\n    try (Stream&lt;String&gt; lines = Files.lines(path, Charset.defaultCharset())) {\n        return lines\n                   .filter(line -&gt; !line.isEmpty())\n                   .reduce(&quot;&quot;, (acc, line) -&gt; line);\n    } catch (FileNotFoundException e) {\n        // You gave a relative path, show the actual full path:\n        System.out.println(&quot;File not found: &quot; + Files.toAbsolutePath());\n        throw new RuntimeException(e);\n    } // Automatically closes the Stream lines, even on exception or return.\n}\n</code></pre>\n<ul>\n<li><strong>Try-with-resources</strong> <code>try (... declarations of AutoCloseables ...) { ... }</code> ensuring the call to <code>.close()</code>.</li>\n<li><strong>Stream</strong>, the newest walk through items. Here skipping empty lines and &quot;accumulating&quot; just the last line. You need not keep all lines in memory.</li>\n<li><strong>Lambdas</strong>, <code>x -&gt; ...</code> or <code>(x, y) -&gt; ...</code> declare an anonymous function with 1 resp. 2 parameter declarations.</li>\n<li><strong>Path</strong> is a generalisation of disk file only <code>File</code>. Path can also be from an URL, inside a zip file etcetera.</li>\n<li><strong>Files</strong> is a worthwile utility class providing many <code>Path</code> related goodies. <a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\"><code>Files</code></a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663896781,"creation_date":1663837323,"answer_id":73811935,"question_id":73811082,"body_markdown":"Some good Answers have been posted. Here is a variation using streams. \r\n\r\nAlso, learn about [NIO.2][1] as the modern way to work with files in Java.\r\n\r\nSome untested code to try:\r\n\r\n    Path path = Paths.get( &quot;/csvs&quot; , &quot;cartEntries.csv&quot; ) ;\r\n    Optional &lt; String &gt; lastLine = \r\n        Files\r\n            .lines( path )\r\n            .reduce( ( previousLine , currentLine ) -&gt; currentLine ) ;\r\n    if( lastLine.isPresent() ) {\r\n        String[] parts = lastLine.get().split( &quot;,&quot; ) ;\r\n        …\r\n    }\r\n\r\nOr, re-organized into a one-liner:\r\n\r\n    String[] parts =\r\n        Files\r\n            .lines( \r\n                Paths.get( &quot;/csvs&quot; , &quot;cartEntries.csv&quot; )\r\n            )\r\n            .reduce( \r\n                ( previousLine , currentLine ) -&gt; currentLine \r\n            ) \r\n            .map(\r\n                line -&gt; line.split.( &quot;,&quot; )\r\n            )\r\n            .orElse(\r\n                String[] :: new\r\n            )\r\n    ;\r\n    \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Non-blocking_I/O_(Java)#JDK_7_and_NIO.2","title":"How do I read only the last line of a csv file in Java?","body":"<p>Some good Answers have been posted. Here is a variation using streams.</p>\n<p>Also, learn about <a href=\"https://en.m.wikipedia.org/wiki/Non-blocking_I/O_(Java)#JDK_7_and_NIO.2\" rel=\"nofollow noreferrer\">NIO.2</a> as the modern way to work with files in Java.</p>\n<p>Some untested code to try:</p>\n<pre><code>Path path = Paths.get( &quot;/csvs&quot; , &quot;cartEntries.csv&quot; ) ;\nOptional &lt; String &gt; lastLine = \n    Files\n        .lines( path )\n        .reduce( ( previousLine , currentLine ) -&gt; currentLine ) ;\nif( lastLine.isPresent() ) {\n    String[] parts = lastLine.get().split( &quot;,&quot; ) ;\n    …\n}\n</code></pre>\n<p>Or, re-organized into a one-liner:</p>\n<pre><code>String[] parts =\n    Files\n        .lines( \n            Paths.get( &quot;/csvs&quot; , &quot;cartEntries.csv&quot; )\n        )\n        .reduce( \n            ( previousLine , currentLine ) -&gt; currentLine \n        ) \n        .map(\n            line -&gt; line.split.( &quot;,&quot; )\n        )\n        .orElse(\n            String[] :: new\n        )\n;\n</code></pre>\n"}],"owner":{"account_id":26410032,"reputation":3,"user_id":20059230,"display_name":"bf-codes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73811582,"answer_count":4,"score":0,"last_activity_date":1663896781,"creation_date":1663833175,"question_id":73811082,"body_markdown":"I have a csv file that doesn&#39;t always have the same number of lines. However, I want a method to only read me the last line, so I can access the first column of that last line. So far I haven&#39;t found a solution, that does exactly that. \r\n\r\nRight now I&#39;m just at the point were I would read every single line with BufferedReader and save it into an Array.\r\n\r\n```java\r\npublic void readPreviousEntryID(){\r\n    String path = &quot;csvs/cartEntries.csv&quot;;\r\n    try {\r\n        BufferedReader br = new BufferedReader((new FileReader(path)));\r\n        String line;\r\n        while ((line = br.readLine() != null)) {\r\n            String[] values = line.split(&quot;,&quot;);\r\n        }\r\n    } catch (FileNotFoundException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nNormally I would then access the first entry of every line by using values[0]. But I just want the first value of the last line. \r\n\r\nI thought about counting the number of lines in the while loop by incrementing an integer and then using the final value of that integer to access the corresponding line, but I&#39;m not sure if this would work or how I would implement that.\r\n\r\nI hope I included enough information to make the problem understandable. This is my first question here and I&#39;m quite new to Java.","title":"How do I read only the last line of a csv file in Java?","body":"<p>I have a csv file that doesn't always have the same number of lines. However, I want a method to only read me the last line, so I can access the first column of that last line. So far I haven't found a solution, that does exactly that.</p>\n<p>Right now I'm just at the point were I would read every single line with BufferedReader and save it into an Array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void readPreviousEntryID(){\n    String path = &quot;csvs/cartEntries.csv&quot;;\n    try {\n        BufferedReader br = new BufferedReader((new FileReader(path)));\n        String line;\n        while ((line = br.readLine() != null)) {\n            String[] values = line.split(&quot;,&quot;);\n        }\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Normally I would then access the first entry of every line by using values[0]. But I just want the first value of the last line.</p>\n<p>I thought about counting the number of lines in the while loop by incrementing an integer and then using the final value of that integer to access the corresponding line, but I'm not sure if this would work or how I would implement that.</p>\n<p>I hope I included enough information to make the problem understandable. This is my first question here and I'm quite new to Java.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1663894143,"post_id":73821911,"comment_id":130352352,"body_markdown":"Why use an array instead of unix epoch or a string, that Jackson can already handle?","body":"Why use an array instead of unix epoch or a string, that Jackson can already handle?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663894223,"post_id":73821911,"comment_id":130352358,"body_markdown":"Here&#39;s how you customize it https://docs.spring.io/spring-kafka/docs/current/reference/html/#tip-json","body":"Here&#39;s how you customize it <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#tip-json\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":1,"creation_date":1663894274,"post_id":73821911,"comment_id":130352365,"body_markdown":"@OneCricketeer good question. But I don&#39;t have access to the code that produces the Kafka object serialization, I just consume it.","body":"@OneCricketeer good question. But I don&#39;t have access to the code that produces the Kafka object serialization, I just consume it."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663894559,"post_id":73821911,"comment_id":130352399,"body_markdown":"@OneCricketeer what would be the effect in serialization/deserializarion of other objects that also use Jackson such as objects sent with RestTemplate or the ones received by my rest endpoints? Other thing, an array of Integers is also a timestamp? I thought timestamps were `long`s such as the one returned by `System.currentTimeInMillis()` method.","body":"@OneCricketeer what would be the effect in serialization/deserializarion of other objects that also use Jackson such as objects sent with RestTemplate or the ones received by my rest endpoints? Other thing, an array of Integers is also a timestamp? I thought timestamps were <code>long</code>s such as the one returned by <code>System.currentTimeInMillis()</code> method."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663894642,"post_id":73821911,"comment_id":130352407,"body_markdown":"I am not well versed in Spring, that link there explicitly extends the Kafka (de)serializer classes, not modifies Spring MVC functions","body":"I am not well versed in Spring, that link there explicitly extends the Kafka (de)serializer classes, not modifies Spring MVC functions"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663894718,"post_id":73821911,"comment_id":130352423,"body_markdown":"Timestamps can be anything, as long as a parser is defined. You simply have `[yyyy, dd, MM, HH, mm, ss, SSS]`","body":"Timestamps can be anything, as long as a parser is defined. You simply have <code>[yyyy, dd, MM, HH, mm, ss, SSS]</code>"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663894888,"post_id":73821911,"comment_id":130352443,"body_markdown":"@OneCricketeer considering your comment, a `LocalDateTime` is also a timestamp since it has its parser, right?","body":"@OneCricketeer considering your comment, a <code>LocalDateTime</code> is also a timestamp since it has its parser, right?"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663894920,"post_id":73821911,"comment_id":130352446,"body_markdown":"@OneCricketeer I will try your link solution and get back to you.","body":"@OneCricketeer I will try your link solution and get back to you."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663894998,"post_id":73821911,"comment_id":130352459,"body_markdown":"`DateTimeFormatter` has a parse method. But it accepts a string, so you will need a different solution for handling arrays","body":"<code>DateTimeFormatter</code> has a parse method. But it accepts a string, so you will need a different solution for handling arrays"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1663895197,"post_id":73821911,"comment_id":130352485,"body_markdown":"You might be interested in this section of the Jackson source https://github.com/FasterXML/jackson-modules-java8/blob/2.14/datetime/src/main/java/com/fasterxml/jackson/datatype/jsr310/deser/LocalDateTimeDeserializer.java#L88-L127","body":"You might be interested in this section of the Jackson source <a href=\"https://github.com/FasterXML/jackson-modules-java8/blob/2.14/datetime/src/main/java/com/fasterxml/jackson/datatype/jsr310/deser/LocalDateTimeDeserializer.java#L88-L127\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-modules-java8/blob/2.14/datetim&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663895275,"post_id":73821911,"comment_id":130352497,"body_markdown":"I didn&#39;t explain myself well, I know how to parse this date format into `LocalDateTime`, you don&#39;t even need a `DateTimeFormatter`, you can use `LocalDateTime.now(int, int, int, int, int, int, int)` method. I just want to know if giving the concept that you described as a timestamp if `LocalDateTime` can be described also as timestamp.","body":"I didn&#39;t explain myself well, I know how to parse this date format into <code>LocalDateTime</code>, you don&#39;t even need a <code>DateTimeFormatter</code>, you can use <code>LocalDateTime.now(int, int, int, int, int, int, int)</code> method. I just want to know if giving the concept that you described as a timestamp if <code>LocalDateTime</code> can be described also as timestamp."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663895683,"post_id":73821911,"comment_id":130352553,"body_markdown":"I&#39;ll check this section of the code out. But I don&#39;t think it is being used, otherwise it would return me the date as `LocalDateTime`.","body":"I&#39;ll check this section of the code out. But I don&#39;t think it is being used, otherwise it would return me the date as <code>LocalDateTime</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1663895884,"post_id":73821911,"comment_id":130352578,"body_markdown":"_if LocalDateTime can be described also as timestamp_ - Yes, but you need to parse the array into that class first. I&#39;m not sure what default deserializers/parsers that Spring/Jackson uses","body":"<i>if LocalDateTime can be described also as timestamp</i> - Yes, but you need to parse the array into that class first. I&#39;m not sure what default deserializers/parsers that Spring/Jackson uses"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663896080,"post_id":73821911,"comment_id":130352594,"body_markdown":"It uses the method I previously mentioned in my comments per the sample code you highlighted.","body":"It uses the method I previously mentioned in my comments per the sample code you highlighted."}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663894051,"creation_date":1663893293,"question_id":73821911,"body_markdown":"I&#39;m using Java 17, spring-boot 2.7.4 and it&#39;s related Spring dependencies.\r\n\r\nI have a Kafka consumer that consumes an object representing a date as an Integer array as below:\r\n\r\n    {\r\n        &quot;date&quot;: [2022, 9, 21, 21, 28, 37, 9999999]\r\n    }\r\n\r\nI understand that using spring boot I already have `jackson-datatype-jsr310` in my classpath. When I use my `ObjectMapper` to deserialize the object it does not give me as a `LocalDateTime`. How can I achieve this? Do I have to write a custom `LocalDateTime` deserializer?\r\n\r\nPlus, how can I use the embedded Kafka json deserializer in order to delegate the mapping that I&#39;m doing manually?","title":"Jackson deserialize a date as Integer array in Local datetime/LocalDate","body":"<p>I'm using Java 17, spring-boot 2.7.4 and it's related Spring dependencies.</p>\n<p>I have a Kafka consumer that consumes an object representing a date as an Integer array as below:</p>\n<pre><code>{\n    &quot;date&quot;: [2022, 9, 21, 21, 28, 37, 9999999]\n}\n</code></pre>\n<p>I understand that using spring boot I already have <code>jackson-datatype-jsr310</code> in my classpath. When I use my <code>ObjectMapper</code> to deserialize the object it does not give me as a <code>LocalDateTime</code>. How can I achieve this? Do I have to write a custom <code>LocalDateTime</code> deserializer?</p>\n<p>Plus, how can I use the embedded Kafka json deserializer in order to delegate the mapping that I'm doing manually?</p>\n"},{"tags":["python","java","pyspark","apache-spark-sql"],"comments":[{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1664032593,"post_id":73821909,"comment_id":130380967,"body_markdown":"`Cannot run program &quot;python3&quot;: CreateProcess error=2, The system cannot find the file specified` -- looks like either python3 itself, or something it calls, is not in the executor&#39;s PATH.","body":"<code>Cannot run program &quot;python3&quot;: CreateProcess error=2, The system cannot find the file specified</code> -- looks like either python3 itself, or something it calls, is not in the executor&#39;s PATH."},{"owner":{"account_id":6804520,"reputation":164,"user_id":5236758,"display_name":"TechNewbie"},"score":0,"creation_date":1664046405,"post_id":73821909,"comment_id":130383675,"body_markdown":"Yes, I fixed this issue by copying the existing python.exe and renamed it as python3.exe. I guess something requires python 3 instead of python executor?","body":"Yes, I fixed this issue by copying the existing python.exe and renamed it as python3.exe. I guess something requires python 3 instead of python executor?"},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1664055407,"post_id":73821909,"comment_id":130385134,"body_markdown":"Maybe you can check your `spark.pyspark.python` config?","body":"Maybe you can check your <code>spark.pyspark.python</code> config?"},{"owner":{"account_id":6804520,"reputation":164,"user_id":5236758,"display_name":"TechNewbie"},"score":0,"creation_date":1664155562,"post_id":73821909,"comment_id":130399524,"body_markdown":"@mazaneicha How do I do that? Thank you.","body":"@mazaneicha How do I do that? Thank you."}],"owner":{"account_id":6804520,"reputation":164,"user_id":5236758,"display_name":"TechNewbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663893271,"creation_date":1663893271,"question_id":73821909,"body_markdown":"hello everyone I am working on PySpark Python and I have the following code to mock for testing. When I run pytest, I return an error and I think it&#39;s failing on **show()**. The error points to \r\n*AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\py4j\\protocol.py:326: Py4JJavaError*. Is there an issue with that protocol.py file?\r\n\r\n    import pytest\r\n    \r\n    from src.components.code import code\r\n    from src.shared import *\r\n    from tests.helper import *\r\n    \r\n    \r\n    @pytest.mark.usefixtures(&quot;spark_session&quot;)\r\n    def test_company_code(spark_session: SparkSession):\r\n            # Generate mock data\r\n        list_df = spark_session.createDataFrame(\r\n            [\r\n                (&quot;a83905a&quot;,),\r\n                (&quot;ghk3945&quot;,),\r\n                (&quot;gdss049&quot;,),\r\n                (&quot;iuoe043&quot;,),\r\n                (&quot;20j48da&quot;,),\r\n            ],\r\n            [&quot;id&quot;],\r\n        )\r\n    \r\n        table_df = spark_session.createDataFrame(\r\n            [\r\n                (&quot;a83905a&quot;, &quot;10&quot;),\r\n                (&quot;ghk3945&quot;, &quot;15&quot;),\r\n                (&quot;gdss049&quot;, &quot;100&quot;),\r\n                (&quot;20j48da&quot;, &quot;&quot;),\r\n            ],\r\n            [&quot;id&quot;, &quot;code&quot;],\r\n        )\r\n    \r\n        # Pass mock data to component function\r\n        output = code(table_df, list_df)\r\n        output.show()\r\n\r\n\r\nThis is the error after running pytest:\r\n\r\n    answer = &#39;xro81&#39;, gateway_client = &lt;py4j.clientserver.JavaClient object at 0x000002A67F530310&gt;, target_id = &#39;o80&#39;\r\n    name = &#39;showString&#39;\r\n    \r\n        def get_return_value(answer, gateway_client, target_id=None, name=None):\r\n            &quot;&quot;&quot;Converts an answer received from the Java gateway into a Python object.\r\n    \r\n            For example, string representation of integers are converted to Python\r\n            integer, string representation of objects are converted to JavaObject\r\n            instances, etc.\r\n    \r\n            :param answer: the string returned by the Java gateway\r\n            :param gateway_client: the gateway client used to communicate with the Java\r\n                Gateway. Only necessary if the answer is a reference (e.g., object,\r\n                list, map)\r\n            :param target_id: the name of the object from which the answer comes from\r\n                (e.g., *object1* in `object1.hello()`). Optional.\r\n            :param name: the name of the member from which the answer comes from\r\n                (e.g., *hello* in `object1.hello()`). Optional.\r\n            &quot;&quot;&quot;\r\n            if is_error(answer)[0]:\r\n                if len(answer) &gt; 1:\r\n                    type = answer[1]\r\n                    value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\r\n                    if answer[1] == REFERENCE_TYPE:\r\n    &gt;                   raise Py4JJavaError(\r\n                            &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\r\n                            format(target_id, &quot;.&quot;, name), value)\r\n    E                   py4j.protocol.Py4JJavaError: An error occurred while calling o80.showString.\r\n    E                   : org.apache.spark.SparkException: Job aborted due to stage failure: Task 6 in stage 0.0 failed 1 times, most recent failure: Lost task 6.0 in stage 0.0 (TID 6) (LTWX5CG1263K36.principalusa.corp.principal.com executor driver): java.io.IOException: Cannot run program &quot;python3&quot;: CreateProcess error=2, The system cannot find the file specified\r\n    E                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n    E                       at org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:167)     \r\n    E                       at org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:109)\r\n    E                       at org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:124)\r\n    E                       at org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:164)\r\n    E                       at org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n    E                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n    E                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n    E                       at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n    E                       at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n    E                       at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n    E                       at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n    E                       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    E                       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    E                       at java.lang.Thread.run(Thread.java:750)\r\n    E                   Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n    E                       at java.lang.ProcessImpl.create(Native Method)\r\n    E                       at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:453)\r\n    E                       at java.lang.ProcessImpl.start(ProcessImpl.java:139)\r\n    E                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n    E                       ... 32 more\r\n    E\r\n    E                   Driver stacktrace:\r\n    E                       at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2672)\r\n    E                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2608)\r\n    E                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2607)        \r\n    E                       at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n    E                       at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n    E                       at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n    E                       at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2607)\r\n    E                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1182)       \r\n    E                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1182)\r\n    E                       at scala.Option.foreach(Option.scala:407)\r\n    E                       at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1182)\r\n    E                       at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2860)\r\n    E                       at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2802)\r\n    E                       at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2791)\r\n    E                       at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n    E                   Caused by: java.io.IOException: Cannot run program &quot;python3&quot;: CreateProcess error=2, The system cannot find the file specified\r\n    E                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n    E                       at org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:167)     \r\n    E                       at org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:109)\r\n    E                       at org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:124)\r\n    E                       at org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:164)\r\n    E                       at org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n    E                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n    E                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n    E                       at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n    E                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n    E                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n    E                       at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n    E                       at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n    E                       at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n    E                       at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n    E                       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    E                       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    E                       at java.lang.Thread.run(Thread.java:750)\r\n    E                   Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n    E                       at java.lang.ProcessImpl.create(Native Method)\r\n    E                       at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:453)\r\n    E                       at java.lang.ProcessImpl.start(ProcessImpl.java:139)\r\n    E                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n    E                       ... 32 more\r\n    \r\n    ..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\py4j\\protocol.py:326: Py4JJavaError","title":"PySpark python issue: py4j.protocol.Py4JJavaError: An error occurred while calling o80.showString","body":"<p>hello everyone I am working on PySpark Python and I have the following code to mock for testing. When I run pytest, I return an error and I think it's failing on <strong>show()</strong>. The error points to\n<em>AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\py4j\\protocol.py:326: Py4JJavaError</em>. Is there an issue with that protocol.py file?</p>\n<pre><code>import pytest\n\nfrom src.components.code import code\nfrom src.shared import *\nfrom tests.helper import *\n\n\n@pytest.mark.usefixtures(&quot;spark_session&quot;)\ndef test_company_code(spark_session: SparkSession):\n        # Generate mock data\n    list_df = spark_session.createDataFrame(\n        [\n            (&quot;a83905a&quot;,),\n            (&quot;ghk3945&quot;,),\n            (&quot;gdss049&quot;,),\n            (&quot;iuoe043&quot;,),\n            (&quot;20j48da&quot;,),\n        ],\n        [&quot;id&quot;],\n    )\n\n    table_df = spark_session.createDataFrame(\n        [\n            (&quot;a83905a&quot;, &quot;10&quot;),\n            (&quot;ghk3945&quot;, &quot;15&quot;),\n            (&quot;gdss049&quot;, &quot;100&quot;),\n            (&quot;20j48da&quot;, &quot;&quot;),\n        ],\n        [&quot;id&quot;, &quot;code&quot;],\n    )\n\n    # Pass mock data to component function\n    output = code(table_df, list_df)\n    output.show()\n</code></pre>\n<p>This is the error after running pytest:</p>\n<pre><code>answer = 'xro81', gateway_client = &lt;py4j.clientserver.JavaClient object at 0x000002A67F530310&gt;, target_id = 'o80'\nname = 'showString'\n\n    def get_return_value(answer, gateway_client, target_id=None, name=None):\n        &quot;&quot;&quot;Converts an answer received from the Java gateway into a Python object.\n\n        For example, string representation of integers are converted to Python\n        integer, string representation of objects are converted to JavaObject\n        instances, etc.\n\n        :param answer: the string returned by the Java gateway\n        :param gateway_client: the gateway client used to communicate with the Java\n            Gateway. Only necessary if the answer is a reference (e.g., object,\n            list, map)\n        :param target_id: the name of the object from which the answer comes from\n            (e.g., *object1* in `object1.hello()`). Optional.\n        :param name: the name of the member from which the answer comes from\n            (e.g., *hello* in `object1.hello()`). Optional.\n        &quot;&quot;&quot;\n        if is_error(answer)[0]:\n            if len(answer) &gt; 1:\n                type = answer[1]\n                value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\n                if answer[1] == REFERENCE_TYPE:\n&gt;                   raise Py4JJavaError(\n                        &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\n                        format(target_id, &quot;.&quot;, name), value)\nE                   py4j.protocol.Py4JJavaError: An error occurred while calling o80.showString.\nE                   : org.apache.spark.SparkException: Job aborted due to stage failure: Task 6 in stage 0.0 failed 1 times, most recent failure: Lost task 6.0 in stage 0.0 (TID 6) (LTWX5CG1263K36.principalusa.corp.principal.com executor driver): java.io.IOException: Cannot run program &quot;python3&quot;: CreateProcess error=2, The system cannot find the file specified\nE                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nE                       at org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:167)     \nE                       at org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:109)\nE                       at org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:124)\nE                       at org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:164)\nE                       at org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\nE                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\nE                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\nE                       at org.apache.spark.scheduler.Task.run(Task.scala:136)\nE                       at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\nE                       at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\nE                       at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\nE                       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nE                       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nE                       at java.lang.Thread.run(Thread.java:750)\nE                   Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\nE                       at java.lang.ProcessImpl.create(Native Method)\nE                       at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:453)\nE                       at java.lang.ProcessImpl.start(ProcessImpl.java:139)\nE                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\nE                       ... 32 more\nE\nE                   Driver stacktrace:\nE                       at org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:2672)\nE                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2608)\nE                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2607)        \nE                       at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\nE                       at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\nE                       at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\nE                       at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2607)\nE                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1182)       \nE                       at org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1182)\nE                       at scala.Option.foreach(Option.scala:407)\nE                       at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1182)\nE                       at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2860)\nE                       at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2802)\nE                       at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2791)\nE                       at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\nE                   Caused by: java.io.IOException: Cannot run program &quot;python3&quot;: CreateProcess error=2, The system cannot find the file specified\nE                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nE                       at org.apache.spark.api.python.PythonWorkerFactory.createSimpleWorker(PythonWorkerFactory.scala:167)     \nE                       at org.apache.spark.api.python.PythonWorkerFactory.create(PythonWorkerFactory.scala:109)\nE                       at org.apache.spark.SparkEnv.createPythonWorker(SparkEnv.scala:124)\nE                       at org.apache.spark.api.python.BasePythonRunner.compute(PythonRunner.scala:164)\nE                       at org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:65)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nE                       at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nE                       at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nE                       at org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\nE                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\nE                       at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\nE                       at org.apache.spark.scheduler.Task.run(Task.scala:136)\nE                       at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\nE                       at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\nE                       at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\nE                       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nE                       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nE                       at java.lang.Thread.run(Thread.java:750)\nE                   Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\nE                       at java.lang.ProcessImpl.create(Native Method)\nE                       at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:453)\nE                       at java.lang.ProcessImpl.start(ProcessImpl.java:139)\nE                       at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\nE                       ... 32 more\n\n..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\py4j\\protocol.py:326: Py4JJavaError\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1554215605,"post_id":55477306,"comment_id":97664912,"body_markdown":"What line is is `PSHandler.java:48`? And don&#39;t use empty catch blocks.","body":"What line is is <code>PSHandler.java:48</code>? And don&#39;t use empty catch blocks."},{"owner":{"account_id":1800470,"reputation":875,"user_id":1638960,"display_name":"Andr&#233; Kugland"},"score":0,"creation_date":1554215788,"post_id":55477306,"comment_id":97665055,"body_markdown":"The exception is being thrown in another thread, you must catch it there.","body":"The exception is being thrown in another thread, you must catch it there."}],"answers":[{"tags":[],"owner":{"account_id":4820143,"reputation":2041,"user_id":3891038,"display_name":"Julio E. Rodr&#237;guez Caba&#241;as"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1554216140,"creation_date":1554216140,"answer_id":55477511,"question_id":55477306,"body_markdown":"The reason why you cannot catch the exception is because you are trying to catch it outside the method where it actually happens:\r\n\r\n```java\r\ntry {\r\n    psHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\r\n        @Override\r\n        public void execute(Void input) {\r\n            throw new IllegalStateException();\r\n        }\r\n    });\r\n} catch (IllegalStateException e) {\r\n    // This line will never be reached because the exception \r\n    // is not thrown here, but inside the callback method\r\n}\r\n```\r\n\r\nInstead, you should add the `try/catch` inside the callback method:\r\n\r\n```java\r\npsHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\r\n    @Override\r\n    public void execute(Void input) {\r\n        try {\r\n            throw new IllegalStateException();\r\n        } catch (IllegalStateException e) {\r\n            // This line will be reached\r\n        }\r\n    }\r\n});\r\n\r\n```","title":"Catch exception in Android","body":"<p>The reason why you cannot catch the exception is because you are trying to catch it outside the method where it actually happens:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    psHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\n        @Override\n        public void execute(Void input) {\n            throw new IllegalStateException();\n        }\n    });\n} catch (IllegalStateException e) {\n    // This line will never be reached because the exception \n    // is not thrown here, but inside the callback method\n}\n</code></pre>\n\n<p>Instead, you should add the <code>try/catch</code> inside the callback method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>psHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\n    @Override\n    public void execute(Void input) {\n        try {\n            throw new IllegalStateException();\n        } catch (IllegalStateException e) {\n            // This line will be reached\n        }\n    }\n});\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8281663,"reputation":79,"user_id":6226152,"display_name":"Jason Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554216219,"creation_date":1554216219,"answer_id":55477541,"question_id":55477306,"body_markdown":"First your try catch does nothing, you need to do something with the exception such as this below.   \r\n\r\n     try {\r\n        } catch (Exception e) {\r\n       Exception\r\n         System.out.println(&quot;Error &quot; + e.getMessage());\r\n         return null;\r\n    }\r\n\r\nSecond as already pointed out it looks like your error is being thrown at another point and should investigate that point.","title":"Catch exception in Android","body":"<p>First your try catch does nothing, you need to do something with the exception such as this below.   </p>\n\n<pre><code> try {\n    } catch (Exception e) {\n   Exception\n     System.out.println(\"Error \" + e.getMessage());\n     return null;\n}\n</code></pre>\n\n<p>Second as already pointed out it looks like your error is being thrown at another point and should investigate that point.</p>\n"},{"tags":[],"owner":{"account_id":6807110,"reputation":4072,"user_id":5238522,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554216490,"creation_date":1554216490,"answer_id":55477617,"question_id":55477306,"body_markdown":"Catch Exception as well after catch of IllegalStateException and log the details which should give you more information on the exception.","title":"Catch exception in Android","body":"<p>Catch Exception as well after catch of IllegalStateException and log the details which should give you more information on the exception.</p>\n"},{"tags":[],"owner":{"account_id":14295944,"reputation":502,"user_id":10326629,"display_name":"Oleg Golomoz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554216809,"creation_date":1554216809,"answer_id":55477738,"question_id":55477306,"body_markdown":"Try to catch exception inside `execute()`\r\n    \r\n    psHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\r\n                    @Override\r\n                    public void execute(Void input) {\r\n                       try {\r\n                           Intent intent;\r\n                           intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                           Toast.makeText(LoginActivity.this, &quot;New account created&quot;, Toast.LENGTH_SHORT).show();\r\n                           startActivity(intent);\r\n                           finish();\r\n                       } catch (IllegalStateException e) {\r\n                           Log.i(&quot;CatchExceptions&quot;, e.getMessage());\r\n                       }\r\n                    }\r\n    });\r\n                        ","title":"Catch exception in Android","body":"<p>Try to catch exception inside <code>execute()</code></p>\n\n<pre><code>psHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\n                @Override\n                public void execute(Void input) {\n                   try {\n                       Intent intent;\n                       intent = new Intent(LoginActivity.this, MainActivity.class);\n                       Toast.makeText(LoginActivity.this, \"New account created\", Toast.LENGTH_SHORT).show();\n                       startActivity(intent);\n                       finish();\n                   } catch (IllegalStateException e) {\n                       Log.i(\"CatchExceptions\", e.getMessage());\n                   }\n                }\n});\n</code></pre>\n"}],"owner":{"account_id":14907504,"reputation":35,"user_id":10764214,"display_name":"ILiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55477511,"answer_count":4,"score":2,"last_activity_date":1663893088,"creation_date":1554215478,"question_id":55477306,"body_markdown":"I receive an error in my Android Studio after calling a method. I&#39;m more curious if the error is what I think it is or not.\r\nThe error first tells about an unexpected response code 500 after which it shuts down and gives a fatal exception.\r\n\r\nI&#39;ve been trying to get the exception that comes from the fatal exception but no luck. To my understanding, I cannot catch the unexpected response code 500.\r\n\r\nThe error\r\n```java\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nE/Volley: [1668] BasicNetwork.performRequest: Unexpected response code 500 for (website)\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.geotask, PID: 14594\r\n    java.lang.IllegalStateException\r\n        at com.example.geotask.PSHandler$1.onErrorResponse(PSHandler.java:48)\r\n        at com.android.volley.Request.deliverError(Request.java:617)\r\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:104)\r\n        at android.os.Handler.handleCallback(Handler.java:873)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\nApplication terminated.\r\n```\r\n\r\nThe code that gives the error\r\n\r\n    try {\r\n        psHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\r\n            @Override\r\n            public void execute(Void input) {\r\n                Intent intent;\r\n                intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                Toast.makeText(LoginActivity.this, &quot;New account created&quot;, Toast.LENGTH_SHORT).show();\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n    } catch (IllegalStateException e) {\r\n    }\r\n\r\nI removed the website it refers to. As you can see I&#39;m trying to catch the possible error that is given in the logcat, but I&#39;m not sure if I&#39;m capable.\r\nI would like to know if I&#39;m capable of preventing the error from the logcat.","title":"Catch exception in Android","body":"<p>I receive an error in my Android Studio after calling a method. I'm more curious if the error is what I think it is or not.\nThe error first tells about an unexpected response code 500 after which it shuts down and gives a fatal exception.</p>\n<p>I've been trying to get the exception that comes from the fatal exception but no luck. To my understanding, I cannot catch the unexpected response code 500.</p>\n<p>The error</p>\n<pre class=\"lang-java prettyprint-override\"><code>D/NetworkSecurityConfig: No Network Security Config specified, using platform default\nE/Volley: [1668] BasicNetwork.performRequest: Unexpected response code 500 for (website)\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.geotask, PID: 14594\n    java.lang.IllegalStateException\n        at com.example.geotask.PSHandler$1.onErrorResponse(PSHandler.java:48)\n        at com.android.volley.Request.deliverError(Request.java:617)\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:104)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\nApplication terminated.\n</code></pre>\n<p>The code that gives the error</p>\n<pre><code>try {\n    psHandler.addNewUser(name, LoginActivity.this, new RetrievedCallback&lt;Void&gt;() {\n        @Override\n        public void execute(Void input) {\n            Intent intent;\n            intent = new Intent(LoginActivity.this, MainActivity.class);\n            Toast.makeText(LoginActivity.this, &quot;New account created&quot;, Toast.LENGTH_SHORT).show();\n            startActivity(intent);\n            finish();\n        }\n    });\n} catch (IllegalStateException e) {\n}\n</code></pre>\n<p>I removed the website it refers to. As you can see I'm trying to catch the possible error that is given in the logcat, but I'm not sure if I'm capable.\nI would like to know if I'm capable of preventing the error from the logcat.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1663589863,"post_id":73773176,"comment_id":130268216,"body_markdown":"Please tell us the details of your code and your problem in your question not in the code comments","body":"Please tell us the details of your code and your problem in your question not in the code comments"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1663590518,"post_id":73773176,"comment_id":130268442,"body_markdown":"Also you&#39;re asking about a button click but showing a mouse listener added to a jlist not an action listener added to a button.","body":"Also you&#39;re asking about a button click but showing a mouse listener added to a jlist not an action listener added to a button."},{"owner":{"account_id":2835543,"reputation":58,"user_id":2436233,"display_name":"vishal"},"score":0,"creation_date":1663591512,"post_id":73773176,"comment_id":130268807,"body_markdown":"Button click is not working as Jlist not passing the click to Jbutton. And inside mouseClicked it gives me Jpanel is clicked , but i need to know which button on JPanel is clicked.","body":"Button click is not working as Jlist not passing the click to Jbutton. And inside mouseClicked it gives me Jpanel is clicked , but i need to know which button on JPanel is clicked."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1663591901,"post_id":73773176,"comment_id":130268953,"body_markdown":"To respond to changes in a JList’s selection, do not use a MouseListener.  Use [addListSelectionListener](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JList.html#addListSelectionListener(javax.swing.event.ListSelectionListener)) for that.","body":"To respond to changes in a JList’s selection, do not use a MouseListener.  Use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JList.html#addListSelectionListener(javax.swing.event.ListSelectionListener)\" rel=\"nofollow noreferrer\">addListSelectionListener</a> for that."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1663595408,"post_id":73773176,"comment_id":130270307,"body_markdown":"A JList doesn&#39;t display real components so there are no events generated for the buttons on the panel. Not sure if it will work buy you can try: 1) getting the JPanel using the `getSelectedValue()` method of the JList. Then you would need to covert the mouse point to be relative to the panel using the `SwingUtilities.convertPoint(...)` method. Then you would need to use the `findComponentAt(....)` method.","body":"A JList doesn&#39;t display real components so there are no events generated for the buttons on the panel. Not sure if it will work buy you can try: 1) getting the JPanel using the <code>getSelectedValue()</code> method of the JList. Then you would need to covert the mouse point to be relative to the panel using the <code>SwingUtilities.convertPoint(...)</code> method. Then you would need to use the <code>findComponentAt(....)</code> method."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1663596364,"post_id":73773176,"comment_id":130270727,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":2835543,"reputation":58,"user_id":2436233,"display_name":"vishal"},"score":0,"creation_date":1663741289,"post_id":73773176,"comment_id":130307727,"body_markdown":"@camickr thanks for the help, i can get the selected item by getSelectedValue() but still not able to convertPoint to child element. There is JPanel with two buttons on jlist item.  i know jpanel is clicked but do not know which button is clicked.","body":"@camickr thanks for the help, i can get the selected item by getSelectedValue() but still not able to convertPoint to child element. There is JPanel with two buttons on jlist item.  i know jpanel is clicked but do not know which button is clicked."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1663765427,"post_id":73773176,"comment_id":130316009,"body_markdown":"*still not able to convertPoint to child element.* - still waiting for an [mre] showing what you have tried. Did you verify that you can get the location of components on the selected panel.","body":"<i>still not able to convertPoint to child element.</i> - still waiting for an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing what you have tried. Did you verify that you can get the location of components on the selected panel."},{"owner":{"account_id":2835543,"reputation":58,"user_id":2436233,"display_name":"vishal"},"score":0,"creation_date":1663846193,"post_id":73773176,"comment_id":130337886,"body_markdown":"@camickr Adding minimal reproducible example","body":"@camickr Adding minimal reproducible example"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1663889858,"post_id":73773176,"comment_id":130351801,"body_markdown":"+1, for posting a reasonable MRE. -1, for not doing any debugging of the code. Take the time to understand the suggestions given and figure out why they might not be working. For example, did you display the value of the converted point? Did the x/y values make sense? They didn&#39;t make sense for me, so you need to figure out why they do not make sense.","body":"+1, for posting a reasonable MRE. -1, for not doing any debugging of the code. Take the time to understand the suggestions given and figure out why they might not be working. For example, did you display the value of the converted point? Did the x/y values make sense? They didn&#39;t make sense for me, so you need to figure out why they do not make sense."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663891676,"creation_date":1663891676,"answer_id":73821793,"question_id":73773176,"body_markdown":"    item.getComponentAt(p);\r\n\r\nWhat is the point of that statement? How can you tell if the code worked or not since you never assign the result of the method to a variable?\r\n\r\nTurns out that because the panel is not really a component displayed on the frame you can&#39;t just do as I originally suggested.\r\n\r\nIf you add code like:\r\n\r\n    JPanel item = (JPanel) target.getModel().getElementAt(index);\r\n    System.out.println( item.getBounds() );\r\n\r\nYou get output like:\r\n\r\n&gt; java.awt.Rectangle[x=-487,y=-36,width=0,height=0]\r\n\r\nWhich doesn&#39;t make any sense. \r\n\r\nSo, I changed the logic to assign the bounds to the panel as if it was displayed on the JList:\r\n\r\n    item.setBounds(target.getCellBounds(index, index));\r\n\r\nNow, I get output like:\r\n\r\n&gt; java.awt.Rectangle[x=0,y=54,width=487,height=36]\r\n\r\nWhich does make more sense. However, that still doesn&#39;t help because if you add:\r\n\r\n    Point p = SwingUtilities.convertPoint(target,me.getPoint(),item);\r\n    System.out.println( p );\r\n\r\nYou get something like:\r\n\r\n&gt; java.awt.Point[x=834,y=166]\r\n\r\nThe conversion of the point does do what I expected.\r\n\r\nSo, I decided to convert the point manually:\r\n\r\n\tint y = me.getY() - item.getBounds().y;\r\n\tPoint p = new Point(me.getX(), y);\r\n\r\nPutting it all together you get something like:\r\n\r\n    JList target = (JList) me.getSource();\r\n    int index = target.locationToIndex(me.getPoint());\r\n    JPanel item = (JPanel) target.getModel().getElementAt(index);\r\n    item.setBounds(target.getCellBounds(index, index));\r\n    int y = me.getY() - item.getBounds().y;\r\n    Point p = new Point(me.getX(), y);\r\n    JButton button = (JButton)item.getComponentAt(p);\r\n    System.out.println(button.getText());\r\n\r\nAnd you get the text of the button when you click on it.\r\n\r\nOf course, you get Exceptions if you click anywhere else. I&#39;ll leave it up to you do handle the Exception logic.\r\n\r\nNote, I see your latest question is about adding labels and a panel to a frame. It is a much better approach to use real components as you can add ActionListeners to your buttons. \r\n\r\n\r\n\r\n\r\n","title":"I am Using Jbuttons on Jpanel and addding this jpanel on Jlist. I am using addMouseListener on list. Not able to get click on Button on Jpanel","body":"<pre><code>item.getComponentAt(p);\n</code></pre>\n<p>What is the point of that statement? How can you tell if the code worked or not since you never assign the result of the method to a variable?</p>\n<p>Turns out that because the panel is not really a component displayed on the frame you can't just do as I originally suggested.</p>\n<p>If you add code like:</p>\n<pre><code>JPanel item = (JPanel) target.getModel().getElementAt(index);\nSystem.out.println( item.getBounds() );\n</code></pre>\n<p>You get output like:</p>\n<blockquote>\n<p>java.awt.Rectangle[x=-487,y=-36,width=0,height=0]</p>\n</blockquote>\n<p>Which doesn't make any sense.</p>\n<p>So, I changed the logic to assign the bounds to the panel as if it was displayed on the JList:</p>\n<pre><code>item.setBounds(target.getCellBounds(index, index));\n</code></pre>\n<p>Now, I get output like:</p>\n<blockquote>\n<p>java.awt.Rectangle[x=0,y=54,width=487,height=36]</p>\n</blockquote>\n<p>Which does make more sense. However, that still doesn't help because if you add:</p>\n<pre><code>Point p = SwingUtilities.convertPoint(target,me.getPoint(),item);\nSystem.out.println( p );\n</code></pre>\n<p>You get something like:</p>\n<blockquote>\n<p>java.awt.Point[x=834,y=166]</p>\n</blockquote>\n<p>The conversion of the point does do what I expected.</p>\n<p>So, I decided to convert the point manually:</p>\n<pre><code>int y = me.getY() - item.getBounds().y;\nPoint p = new Point(me.getX(), y);\n</code></pre>\n<p>Putting it all together you get something like:</p>\n<pre><code>JList target = (JList) me.getSource();\nint index = target.locationToIndex(me.getPoint());\nJPanel item = (JPanel) target.getModel().getElementAt(index);\nitem.setBounds(target.getCellBounds(index, index));\nint y = me.getY() - item.getBounds().y;\nPoint p = new Point(me.getX(), y);\nJButton button = (JButton)item.getComponentAt(p);\nSystem.out.println(button.getText());\n</code></pre>\n<p>And you get the text of the button when you click on it.</p>\n<p>Of course, you get Exceptions if you click anywhere else. I'll leave it up to you do handle the Exception logic.</p>\n<p>Note, I see your latest question is about adding labels and a panel to a frame. It is a much better approach to use real components as you can add ActionListeners to your buttons.</p>\n"}],"owner":{"account_id":2835543,"reputation":58,"user_id":2436233,"display_name":"vishal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73821793,"answer_count":1,"score":-2,"last_activity_date":1663891676,"creation_date":1663589583,"question_id":73773176,"body_markdown":"Below is the minimum reproducible code. In MouseClicked method with mouseevent i got that Jpanel is clicked by using getelementat() method. \r\nBut which button on JPanel is clicked can not figure. Tried with convert point but making some mistake. Need to check which button on Jpanel is clicked. Need some help.\r\n\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    public class JListTest {\r\n        private JList list;\r\n        private DefaultListModel dataModel ;\r\n        private JTableTest tableTest;\r\n        private JPanel panel = new JPanel();\r\n        public JListTest() {\r\n            dataModel = new DefaultListModel();\r\n            list = new JList&lt;&gt;(dataModel);\r\n    \r\n            list.addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent me) {\r\n                    super.mouseClicked(me);\r\n                    SwingUtilities.invokeLater(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            JList target = (JList) me.getSource();\r\n                            int index = target.locationToIndex(me.getPoint());\r\n                            JPanel item = (JPanel) target.getModel().getElementAt(index);\r\n                            Point p=SwingUtilities.convertPoint(target,me.getPoint(),item);\r\n                            item.getComponentAt(p);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            list.setCellRenderer(new PanelRenderer());\r\n\r\n        }\r\n        public static void main(String []args){\r\n            JListTest test=new JListTest();\r\n            test.dataModel.addElement(&quot;Lable 1&quot;);\r\n            test.dataModel.addElement(&quot;Lable 2&quot;);\r\n            test.dataModel.addElement(&quot;Lable 3&quot;);\r\n    \r\n            JButton button1 = new JButton(&quot;Button 1&quot;);\r\n            JButton button2 = new JButton(&quot;Button 2&quot;);\r\n            \r\n            test.panel.add(button1);\r\n            test.panel.add(button2);\r\n            test.dataModel.addElement(test.panel);\r\n            test.showUi();\r\n        }\r\n        public void showUi(){\r\n            JFrame.setDefaultLookAndFeelDecorated(true);\r\n            JFrame frame = new JFrame(&quot;Demo list&quot;);\r\n            frame.setAlwaysOnTop(true);\r\n            frame.setType(Window.Type.UTILITY);\r\n            frame.setResizable(true);\r\n            frame.getContentPane().setLayout(new BorderLayout());\r\n            JScrollPane scrollPane = new JScrollPane(list);\r\n            scrollPane.setPreferredSize(new Dimension(400, 250));\r\n            frame.getContentPane().add(scrollPane, BorderLayout.NORTH);\r\n            frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n            frame.setSize(500, 300);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n        class PanelRenderer implements ListCellRenderer {\r\n    \r\n            public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n    \r\n                if(value instanceof String){\r\n                    return new DefaultListCellRenderer().getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);\r\n                }\r\n    \r\n                return (Component) value;\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; Blockquote","title":"I am Using Jbuttons on Jpanel and addding this jpanel on Jlist. I am using addMouseListener on list. Not able to get click on Button on Jpanel","body":"<p>Below is the minimum reproducible code. In MouseClicked method with mouseevent i got that Jpanel is clicked by using getelementat() method.\nBut which button on JPanel is clicked can not figure. Tried with convert point but making some mistake. Need to check which button on Jpanel is clicked. Need some help.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class JListTest {\n    private JList list;\n    private DefaultListModel dataModel ;\n    private JTableTest tableTest;\n    private JPanel panel = new JPanel();\n    public JListTest() {\n        dataModel = new DefaultListModel();\n        list = new JList&lt;&gt;(dataModel);\n\n        list.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent me) {\n                super.mouseClicked(me);\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        JList target = (JList) me.getSource();\n                        int index = target.locationToIndex(me.getPoint());\n                        JPanel item = (JPanel) target.getModel().getElementAt(index);\n                        Point p=SwingUtilities.convertPoint(target,me.getPoint(),item);\n                        item.getComponentAt(p);\n                    }\n                });\n            }\n        });\n        list.setCellRenderer(new PanelRenderer());\n\n    }\n    public static void main(String []args){\n        JListTest test=new JListTest();\n        test.dataModel.addElement(&quot;Lable 1&quot;);\n        test.dataModel.addElement(&quot;Lable 2&quot;);\n        test.dataModel.addElement(&quot;Lable 3&quot;);\n\n        JButton button1 = new JButton(&quot;Button 1&quot;);\n        JButton button2 = new JButton(&quot;Button 2&quot;);\n        \n        test.panel.add(button1);\n        test.panel.add(button2);\n        test.dataModel.addElement(test.panel);\n        test.showUi();\n    }\n    public void showUi(){\n        JFrame.setDefaultLookAndFeelDecorated(true);\n        JFrame frame = new JFrame(&quot;Demo list&quot;);\n        frame.setAlwaysOnTop(true);\n        frame.setType(Window.Type.UTILITY);\n        frame.setResizable(true);\n        frame.getContentPane().setLayout(new BorderLayout());\n        JScrollPane scrollPane = new JScrollPane(list);\n        scrollPane.setPreferredSize(new Dimension(400, 250));\n        frame.getContentPane().add(scrollPane, BorderLayout.NORTH);\n        frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        frame.setSize(500, 300);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    class PanelRenderer implements ListCellRenderer {\n\n        public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n\n            if(value instanceof String){\n                return new DefaultListCellRenderer().getListCellRendererComponent(list,value,index,isSelected,cellHasFocus);\n            }\n\n            return (Component) value;\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1663891058,"post_id":73821499,"comment_id":130351947,"body_markdown":"Does this answer your question? [What&#39;s &#239;&#187;&#191; sign at the beginning of my source file?](https://stackoverflow.com/questions/18845976/whats-%c3%af-sign-at-the-beginning-of-my-source-file). In other words, that is a BOM (a byte order mark).","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18845976/whats-%c3%af-sign-at-the-beginning-of-my-source-file\">What&#39;s &#239;&#187;&#191; sign at the beginning of my source file?</a>. In other words, that is a BOM (a byte order mark)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1663891169,"post_id":73821499,"comment_id":130351963,"body_markdown":"Also related: [Byte order mark screws up file reading in Java](https://stackoverflow.com/q/1835430/12567365). The best approach is probably to try to prevent that from being added to the source file in the first place (for example, by avoiding use of Notepad). But we cannot be sure without knowing how it got there in the first place.","body":"Also related: <a href=\"https://stackoverflow.com/q/1835430/12567365\">Byte order mark screws up file reading in Java</a>. The best approach is probably to try to prevent that from being added to the source file in the first place (for example, by avoiding use of Notepad). But we cannot be sure without knowing how it got there in the first place."}],"owner":{"account_id":24639358,"reputation":1,"user_id":20065642,"display_name":"Bobmandude"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663891005,"creation_date":1663888316,"question_id":73821499,"body_markdown":"After importing a CSV file and sorting it in to a 2-Dimensional array I get a couple of weird characters in only the first and possibly the last cell.\r\n\r\nExpected output: `S1358_R1`\r\n\r\nActual output: `&#239;&#187;&#191;S1358_R1`\r\n\r\nDoes anyone know why these extra characters show up? The code used to do this is included below:\r\n\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\npublic class open2 {\r\n    public static void main(String[] args) {\r\n        String line = &quot;&quot;;\r\n        String splitBy = &quot;,&quot;;\r\n        try {\r\n            //parsing a CSV file into BufferedReader class constructor\r\n            int i = 0;\r\n            String[][] ss = new String[10000][10000];\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\micha\\\\Documents\\\\spreadsheet.csv&quot;));\r\n            while ((line = br.readLine()) != null) //returns a Boolean value  \r\n            {\r\n\r\n                String[] cells = line.split(splitBy);\r\n                for (int j = 0; j &lt; cells.length; j++) {\r\n                    ss[i][j] = cells[j];\r\n\r\n                } // use comma as separator  \r\n                i = i + 1;\r\n            }\r\n\r\n            System.out.println(ss[0][0]);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Extra charcters in .csv output","body":"<p>After importing a CSV file and sorting it in to a 2-Dimensional array I get a couple of weird characters in only the first and possibly the last cell.</p>\n<p>Expected output: <code>S1358_R1</code></p>\n<p>Actual output: <code>ï»¿S1358_R1</code></p>\n<p>Does anyone know why these extra characters show up? The code used to do this is included below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\npublic class open2 {\n    public static void main(String[] args) {\n        String line = &quot;&quot;;\n        String splitBy = &quot;,&quot;;\n        try {\n            //parsing a CSV file into BufferedReader class constructor\n            int i = 0;\n            String[][] ss = new String[10000][10000];\n            BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\micha\\\\Documents\\\\spreadsheet.csv&quot;));\n            while ((line = br.readLine()) != null) //returns a Boolean value  \n            {\n\n                String[] cells = line.split(splitBy);\n                for (int j = 0; j &lt; cells.length; j++) {\n                    ss[i][j] = cells[j];\n\n                } // use comma as separator  \n                i = i + 1;\n            }\n\n            System.out.println(ss[0][0]);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1663881250,"post_id":73820720,"comment_id":130350197,"body_markdown":"The `filter` operation itself is very fast. What is your `Task` class? In particular, is it a JPA entity that&#39;s being lazy-loaded from a database on read?","body":"The <code>filter</code> operation itself is very fast. What is your <code>Task</code> class? In particular, is it a JPA entity that&#39;s being lazy-loaded from a database on read?"},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":3,"creation_date":1663881253,"post_id":73820720,"comment_id":130350201,"body_markdown":"Seems very odd as 700 objects is really not much. What exactly is a Tasks obejct? What does `getTaskId()` do? Is that a long running operation (network access etc.)? You can however use a Map which stores ID and the associated task if you want to speed things up.","body":"Seems very odd as 700 objects is really not much. What exactly is a Tasks obejct? What does <code>getTaskId()</code> do? Is that a long running operation (network access etc.)? You can however use a Map which stores ID and the associated task if you want to speed things up."},{"owner":{"account_id":8730799,"reputation":81,"user_id":6530915,"accept_rate":75,"display_name":"Amir Elsaeed"},"score":0,"creation_date":1663881679,"post_id":73820720,"comment_id":130350304,"body_markdown":"@chrylis-cautiouslyoptimistic-\nit&#39;s just wrapper class no thing more","body":"@chrylis-cautiouslyoptimistic- it&#39;s just wrapper class no thing more"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1663941045,"post_id":73820720,"comment_id":130364313,"body_markdown":"Your `task.getTaskId()` seems to have some complex logic and `Stream` API can not do anything with it.","body":"Your <code>task.getTaskId()</code> seems to have some complex logic and <code>Stream</code> API can not do anything with it."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663890270,"creation_date":1663890270,"answer_id":73821656,"question_id":73820720,"body_markdown":"On my system, the following example prints:\r\n```Filtering 700 records took 10210465ns and found 69 matches.```\r\nSo that&#39;s 10ms compared to your 1 minute. (And the JIT compiler wouldn&#39;t have a chance to fully kick in.)\r\n\r\nUse a profiler to find out where the time is spent in your application. I suspect your ```getTaskID``` method is doing more than you think.\r\n\r\n```\r\npublic class Filter {\r\n    static Random rng = new Random();\r\n\r\n    static record Task(String id){};\r\n    \r\n    public static void main(String[] args) {\r\n        int howMany = 700;\r\n        List&lt;Task&gt; tasks = makeTasks(howMany, 0.1f);\r\n        long before = System.nanoTime();\r\n        tasks = tasks\r\n                .stream()\r\n                .filter(task -&gt; task.id().equals(&quot;1000&quot;))\r\n                .collect(Collectors.toList());\r\n        long after = System.nanoTime();\r\n        System.out.println(&quot;Filtering &quot;+howMany+&quot; records took &quot;+(after-before)+&quot;ns and found &quot;+tasks.size()+&quot; matches.&quot;);\r\n    }\r\n    \r\n    static List&lt;Task&gt; makeTasks(int howMany, float probabilityOfMatch) {\r\n        var list = new ArrayList&lt;Task&gt;(howMany);\r\n        for (int i = 0; i &lt; howMany; i++) {\r\n            var id = Integer.toString((rng.nextFloat() &lt; probabilityOfMatch ? 1000 : i));\r\n            list.add(new Task(id));\r\n        }\r\n        Collections.shuffle(list);\r\n        return list;\r\n    }\r\n}\r\n```","title":"Filtering list using stream take long time","body":"<p>On my system, the following example prints:\n<code>Filtering 700 records took 10210465ns and found 69 matches.</code>\nSo that's 10ms compared to your 1 minute. (And the JIT compiler wouldn't have a chance to fully kick in.)</p>\n<p>Use a profiler to find out where the time is spent in your application. I suspect your <code>getTaskID</code> method is doing more than you think.</p>\n<pre><code>public class Filter {\n    static Random rng = new Random();\n\n    static record Task(String id){};\n    \n    public static void main(String[] args) {\n        int howMany = 700;\n        List&lt;Task&gt; tasks = makeTasks(howMany, 0.1f);\n        long before = System.nanoTime();\n        tasks = tasks\n                .stream()\n                .filter(task -&gt; task.id().equals(&quot;1000&quot;))\n                .collect(Collectors.toList());\n        long after = System.nanoTime();\n        System.out.println(&quot;Filtering &quot;+howMany+&quot; records took &quot;+(after-before)+&quot;ns and found &quot;+tasks.size()+&quot; matches.&quot;);\n    }\n    \n    static List&lt;Task&gt; makeTasks(int howMany, float probabilityOfMatch) {\n        var list = new ArrayList&lt;Task&gt;(howMany);\n        for (int i = 0; i &lt; howMany; i++) {\n            var id = Integer.toString((rng.nextFloat() &lt; probabilityOfMatch ? 1000 : i));\n            list.add(new Task(id));\n        }\n        Collections.shuffle(list);\n        return list;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8730799,"reputation":81,"user_id":6530915,"accept_rate":75,"display_name":"Amir Elsaeed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663890270,"creation_date":1663881109,"question_id":73820720,"body_markdown":"I have list of tasks about 700 task or more\r\ni am trying to search by taskId using below code.\r\nit works but it takes a lot of time about 1 minute.\r\nlist is not sorted\r\n\r\n    List&lt;Tasks&gt; tasks = ....;\r\n    tasks = tasks\r\n            .stream()\r\n            .filter(task -&gt; task.getTaskId().equals(&quot;1000&quot;))\r\n            .collect(Collectors.toList());\r\n\r\n\r\nlooping tasks take the same time almost\r\n\r\nHow to enhance my code?\r\n\r\n\r\nRegards","title":"Filtering list using stream take long time","body":"<p>I have list of tasks about 700 task or more\ni am trying to search by taskId using below code.\nit works but it takes a lot of time about 1 minute.\nlist is not sorted</p>\n<pre><code>List&lt;Tasks&gt; tasks = ....;\ntasks = tasks\n        .stream()\n        .filter(task -&gt; task.getTaskId().equals(&quot;1000&quot;))\n        .collect(Collectors.toList());\n</code></pre>\n<p>looping tasks take the same time almost</p>\n<p>How to enhance my code?</p>\n<p>Regards</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1663814230,"post_id":73808354,"comment_id":130329268,"body_markdown":"You question doesn&#39;t have enough specificity as any library with a documented API could be considered an SDK. At best it falls under opinion as to when to call something an SDK.","body":"You question doesn&#39;t have enough specificity as any library with a documented API could be considered an SDK. At best it falls under opinion as to when to call something an SDK."},{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1663877345,"post_id":73808354,"comment_id":130349151,"body_markdown":"I was doing research on SDK and they said that they are a collection of Libraries and Documentations, etc... compared to a Library with only functions.","body":"I was doing research on SDK and they said that they are a collection of Libraries and Documentations, etc... compared to a Library with only functions."},{"owner":{"account_id":1237500,"reputation":309,"user_id":1200796,"display_name":"Ph&#246;nixGeist"},"score":0,"creation_date":1663878585,"post_id":73808354,"comment_id":130349478,"body_markdown":"I don&#39;t understand the question. &#191;You want to build an SDK on an IDE?","body":"I don&#39;t understand the question. &#191;You want to build an SDK on an IDE?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1663882925,"post_id":73808354,"comment_id":130350620,"body_markdown":"While the definition you found is acceptable, note that I have seen/used a &quot;Mobile Ad SDK&quot; which consisted of a single library with documentation. Any company with one or more software libraries directed at programmers may call a piece or the whole &quot;an SDK&quot; at which point it becomes a marketing term not a technical one.","body":"While the definition you found is acceptable, note that I have seen/used a &quot;Mobile Ad SDK&quot; which consisted of a single library with documentation. Any company with one or more software libraries directed at programmers may call a piece or the whole &quot;an SDK&quot; at which point it becomes a marketing term not a technical one."},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1663890737,"post_id":73808354,"comment_id":130351914,"body_markdown":"This is not a serious question.  It&#39;s like asking how to write a book, how to build a house, how to cook a dinner.","body":"This is not a serious question.  It&#39;s like asking how to write a book, how to build a house, how to cook a dinner."}],"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663889423,"creation_date":1663809206,"question_id":73808354,"body_markdown":"Recently I have been seeing a lot about SDK&#39;s in Android and how others have created ones from scratch. There&#39;s not a lot of material online on how to go about creating an SDK in Android, so I am asking anyone here who can clarify or give an overview into achieving it. This would be a great help to me, thank you.\r\n\r\nP.S. When I say SDK, I mean something like a pre-built kitchen. A foundational piece so to speak.  ","title":"What are the steps in building an SDK in Android Studio?","body":"<p>Recently I have been seeing a lot about SDK's in Android and how others have created ones from scratch. There's not a lot of material online on how to go about creating an SDK in Android, so I am asking anyone here who can clarify or give an overview into achieving it. This would be a great help to me, thank you.</p>\n<p>P.S. When I say SDK, I mean something like a pre-built kitchen. A foundational piece so to speak.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":26301533,"reputation":1119,"user_id":19966820,"display_name":"YJR"},"score":1,"creation_date":1663825067,"post_id":73809566,"comment_id":130330913,"body_markdown":"Can you add the pageRepository and application class as well?","body":"Can you add the pageRepository and application class as well?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1663826206,"post_id":73809566,"comment_id":130331131,"body_markdown":"Please add your repository interface (with the package name!) and the class that bootstraps the things (the one with `@SpringBootApplication`) on it.","body":"Please add your repository interface (with the package name!) and the class that bootstraps the things (the one with <code>@SpringBootApplication</code>) on it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663833863,"post_id":73809566,"comment_id":130333417,"body_markdown":"You do have a datasource configured?","body":"You do have a datasource configured?"}],"answers":[{"tags":[],"owner":{"account_id":11064606,"reputation":1240,"user_id":8124788,"display_name":"MartinByers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663829996,"creation_date":1663829996,"answer_id":73810536,"question_id":73809566,"body_markdown":"Without looking at your project, this is going to be hard to give a definitive solution.\r\n\r\nWhat is happening is when spring tries to create the bean `AdminController` it can not find a unique bean as the dependency `PageRepository`.\r\n\r\nA few things to look at to try to solve this\r\n\r\nIs the bean `JpaRepository&lt;Page, Integer&gt;` annotated correctly for spring to pick it up and create an instance?\r\n\r\nIs the bean `JpaRepository&lt;Page, Integer&gt;` being scanned by spring?\r\n\r\nWhat is your package structure? this can be very important for the default scanning of spring beans.\r\n\r\nTo investigate you could add a default constructor to allow it to ignore the dependency, then debug out all beans on startup of your app using the answers \r\n[Here][1]\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33348937/print-all-the-spring-beans-that-are-loaded-spring-boot","title":"spring boot constructor parameter could not be found","body":"<p>Without looking at your project, this is going to be hard to give a definitive solution.</p>\n<p>What is happening is when spring tries to create the bean <code>AdminController</code> it can not find a unique bean as the dependency <code>PageRepository</code>.</p>\n<p>A few things to look at to try to solve this</p>\n<p>Is the bean <code>JpaRepository&lt;Page, Integer&gt;</code> annotated correctly for spring to pick it up and create an instance?</p>\n<p>Is the bean <code>JpaRepository&lt;Page, Integer&gt;</code> being scanned by spring?</p>\n<p>What is your package structure? this can be very important for the default scanning of spring beans.</p>\n<p>To investigate you could add a default constructor to allow it to ignore the dependency, then debug out all beans on startup of your app using the answers\n<a href=\"https://stackoverflow.com/questions/33348937/print-all-the-spring-beans-that-are-loaded-spring-boot\">Here</a></p>\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":24671522,"reputation":26,"user_id":18566488,"display_name":"Julien BEAUDOUX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663888912,"creation_date":1663835830,"answer_id":73811648,"question_id":73809566,"body_markdown":"First : \r\n\r\n**@Repository** is missing \r\n\r\n````\r\n@Repository\r\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\r\n}\r\n````\r\nDoc : https://www.baeldung.com/spring-data-repositories\r\n\r\nYou dont have to create an constructor in controller :\r\nIt should be something like this :\r\n\r\n```\r\n    public class AdminController{\r\n\r\n    @Autowired\r\n    private PageRepository pageRepository;\r\n\r\n\r\n    --- Code ---\r\n    }\r\n```\r\n\r\n**@Autowired** instanciate a service, you dont have to build it \r\n\r\nBUT you have to put **@Repository** or **@Service** to use **@Autowired**\r\n\r\nI take this example from my school project : \r\n\r\n[Controller][1]\r\n\r\nIn my LoanService i call another server but u can replace it by u&#39;r repository \r\n\r\n[Service][2]\r\n\r\nAnd last tips i promise :D, a complete NoSQL school project i did \r\nhttps://github.com/juju630/ClientServeurNoSQL \r\n\r\n( sry not native )\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j6ZEH.png\r\n  [2]: https://i.stack.imgur.com/zelhS.png","title":"spring boot constructor parameter could not be found","body":"<p>First :</p>\n<p><strong>@Repository</strong> is missing</p>\n<pre><code>@Repository\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\n}\n</code></pre>\n<p>Doc : <a href=\"https://www.baeldung.com/spring-data-repositories\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-repositories</a></p>\n<p>You dont have to create an constructor in controller :\nIt should be something like this :</p>\n<pre><code>    public class AdminController{\n\n    @Autowired\n    private PageRepository pageRepository;\n\n\n    --- Code ---\n    }\n</code></pre>\n<p><strong>@Autowired</strong> instanciate a service, you dont have to build it</p>\n<p>BUT you have to put <strong>@Repository</strong> or <strong>@Service</strong> to use <strong>@Autowired</strong></p>\n<p>I take this example from my school project :</p>\n<p><a href=\"https://i.stack.imgur.com/j6ZEH.png\" rel=\"nofollow noreferrer\">Controller</a></p>\n<p>In my LoanService i call another server but u can replace it by u'r repository</p>\n<p><a href=\"https://i.stack.imgur.com/zelhS.png\" rel=\"nofollow noreferrer\">Service</a></p>\n<p>And last tips i promise :D, a complete NoSQL school project i did\n<a href=\"https://github.com/juju630/ClientServeurNoSQL\" rel=\"nofollow noreferrer\">https://github.com/juju630/ClientServeurNoSQL</a></p>\n<p>( sry not native )</p>\n"}],"owner":{"account_id":26408574,"reputation":1,"user_id":20057949,"display_name":"micha123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1663888912,"creation_date":1663822958,"question_id":73809566,"body_markdown":"I am working on spring boot app with tutorial. I did everything like guy from tutorial but still have problem with some constructor:(\r\n\r\nThe error is: \r\nParameter 0 of constructor in com.wewtorek.shop.controllers.AdminController required a bean of type &#39;com.wewtorek.shop.models.data.PageRepository&#39; that could not be found.\r\n\r\nCode is:\r\n``` \r\npackage com.wewtorek.shop.controllers;\r\nimport com.wewtorek.shop.models.data.Page;\r\nimport com.wewtorek.shop.models.data.PageRepository;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/admin&quot;)\r\npublic class AdminController {\r\n\r\n    private PageRepository pageRepository;\r\n\r\n\r\n    public AdminController(PageRepository pageRepository) {\r\n        this.pageRepository = pageRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    public String admin(Model model) {\r\n\r\n        List&lt;Page&gt; pages = pageRepository.findAll();\r\n\r\n        model.addAttribute(&quot;pages&quot;, pages);\r\n\r\n        return &quot;admin&quot;;\r\n    }\r\n}\r\n ```\r\n\r\nPageRepository: \r\n```\r\npackage com.wewtorek.shop.models.data;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\r\n}\r\n```\r\n\r\nApplication:\r\n```\r\npackage com.wewtorek.shop;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class ShopApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ShopApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"spring boot constructor parameter could not be found","body":"<p>I am working on spring boot app with tutorial. I did everything like guy from tutorial but still have problem with some constructor:(</p>\n<p>The error is:\nParameter 0 of constructor in com.wewtorek.shop.controllers.AdminController required a bean of type 'com.wewtorek.shop.models.data.PageRepository' that could not be found.</p>\n<p>Code is:</p>\n<pre><code>package com.wewtorek.shop.controllers;\nimport com.wewtorek.shop.models.data.Page;\nimport com.wewtorek.shop.models.data.PageRepository;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport java.util.List;\n\n@Controller\n@RequestMapping(&quot;/admin&quot;)\npublic class AdminController {\n\n    private PageRepository pageRepository;\n\n\n    public AdminController(PageRepository pageRepository) {\n        this.pageRepository = pageRepository;\n    }\n\n    @GetMapping\n    public String admin(Model model) {\n\n        List&lt;Page&gt; pages = pageRepository.findAll();\n\n        model.addAttribute(&quot;pages&quot;, pages);\n\n        return &quot;admin&quot;;\n    }\n}\n</code></pre>\n<p>PageRepository:</p>\n<pre><code>package com.wewtorek.shop.models.data;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\n}\n</code></pre>\n<p>Application:</p>\n<pre><code>package com.wewtorek.shop;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ShopApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ShopApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","grpc","threadpool"],"comments":[{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1664379110,"post_id":73821493,"comment_id":130459537,"body_markdown":"May be this helps https://stackoverflow.com/questions/4687757/tools-to-monitor-java-thread-execution","body":"May be this helps <a href=\"https://stackoverflow.com/questions/4687757/tools-to-monitor-java-thread-execution\" title=\"tools to monitor java thread execution\">stackoverflow.com/questions/4687757/&hellip;</a>"}],"owner":{"account_id":26417461,"reputation":11,"user_id":20065645,"display_name":"Kanaiyalal Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1663888211,"creation_date":1663888211,"question_id":73821493,"body_markdown":"I have java grpc server and many user complain that thread pool is exhausted. I need to make something to monitor threads, how many thereads, how many in use, idle etc. Is there any way to do that.","title":"How Monitor threadpool in grpc in JAVA?","body":"<p>I have java grpc server and many user complain that thread pool is exhausted. I need to make something to monitor threads, how many thereads, how many in use, idle etc. Is there any way to do that.</p>\n"},{"tags":["java","kotlin","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663884636,"creation_date":1663884327,"answer_id":73821118,"question_id":73820881,"body_markdown":"&gt; Is there a default implementation of this that I could leverage?\r\n\r\nTo the best of my knowledge, there is no queue implementation in the standard library that discards enqueued objects without them having been explicitly removed.  I would be inclined to interpret that as contrary to the general contract of the `java.util.Queue` interface, in fact.  An object enqueued on a `Queue` should remain there until dequeued.\r\n\r\nThat does not mean you can&#39;t roll your own, even as an implementation of `Queue`.  But I doubt that you could do it in a manner that is both thread safe and lock-free.\r\n\r\n&gt; Or would it involve a custom implementation of a doubly linked list for example?\r\n\r\nYour implementation options are pretty wide open.  Among them are variations on wrapping or extending existing `Queue` or `List` implementations.  I do not see what would be gained by implementing a linked list from scratch.","title":"Java/Kotlin - Concurrent Linked Queue of a specific size","body":"<blockquote>\n<p>Is there a default implementation of this that I could leverage?</p>\n</blockquote>\n<p>To the best of my knowledge, there is no queue implementation in the standard library that discards enqueued objects without them having been explicitly removed.  I would be inclined to interpret that as contrary to the general contract of the <code>java.util.Queue</code> interface, in fact.  An object enqueued on a <code>Queue</code> should remain there until dequeued.</p>\n<p>That does not mean you can't roll your own, even as an implementation of <code>Queue</code>.  But I doubt that you could do it in a manner that is both thread safe and lock-free.</p>\n<blockquote>\n<p>Or would it involve a custom implementation of a doubly linked list for example?</p>\n</blockquote>\n<p>Your implementation options are pretty wide open.  Among them are variations on wrapping or extending existing <code>Queue</code> or <code>List</code> implementations.  I do not see what would be gained by implementing a linked list from scratch.</p>\n"},{"tags":[],"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663887191,"creation_date":1663887191,"answer_id":73821403,"question_id":73820881,"body_markdown":"If you&#39;re willing to venture into the world of Reactive Programming, Project Reactor&#39;s [Flux](https://projectreactor.io/docs/core/release/reference/#flux) has an [onBackpressureBuffer](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#onBackpressureBuffer-int-reactor.core.publisher.BufferOverflowStrategy-) method that takes a size limit and an overflow strategy. [`BufferOverflowStrategy.DROP_OLDEST`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/BufferOverflowStrategy.html#DROP_OLDEST) has the behavior you&#39;re asking for.","title":"Java/Kotlin - Concurrent Linked Queue of a specific size","body":"<p>If you're willing to venture into the world of Reactive Programming, Project Reactor's <a href=\"https://projectreactor.io/docs/core/release/reference/#flux\" rel=\"nofollow noreferrer\">Flux</a> has an <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#onBackpressureBuffer-int-reactor.core.publisher.BufferOverflowStrategy-\" rel=\"nofollow noreferrer\">onBackpressureBuffer</a> method that takes a size limit and an overflow strategy. <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/BufferOverflowStrategy.html#DROP_OLDEST\" rel=\"nofollow noreferrer\"><code>BufferOverflowStrategy.DROP_OLDEST</code></a> has the behavior you're asking for.</p>\n"}],"owner":{"account_id":8209857,"reputation":867,"user_id":6301651,"accept_rate":29,"display_name":"Citut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1663887191,"creation_date":1663882219,"question_id":73820881,"body_markdown":"I have a use-case where I am processing locations to use for event validation. This is a multi-threaded environment, so I&#39;d like to use a thread safe queue data structure of some sort. \r\n\r\n`ConcurrentLinkedQueue` does almost exactly what I want, but there is no way to specific the max size of the queue. I&#39;d like to only be able to fit N elements in the queue, and then throw the &quot;oldest&quot; one away (FIFO for example) if adding an element would exceed the size of the queue. \r\n\r\n`LinkedBlockingQueue` seems similar to what I want, but I DO NOT want the blocking behavior when the queue is full - I just want the oldest value to be evicted and the new value inserted. \r\n\r\nIs there a default implementation of this that I could leverage? Or would it involve a custom implementation of a doubly linked list for example? \r\n\r\n","title":"Java/Kotlin - Concurrent Linked Queue of a specific size","body":"<p>I have a use-case where I am processing locations to use for event validation. This is a multi-threaded environment, so I'd like to use a thread safe queue data structure of some sort.</p>\n<p><code>ConcurrentLinkedQueue</code> does almost exactly what I want, but there is no way to specific the max size of the queue. I'd like to only be able to fit N elements in the queue, and then throw the &quot;oldest&quot; one away (FIFO for example) if adding an element would exceed the size of the queue.</p>\n<p><code>LinkedBlockingQueue</code> seems similar to what I want, but I DO NOT want the blocking behavior when the queue is full - I just want the oldest value to be evicted and the new value inserted.</p>\n<p>Is there a default implementation of this that I could leverage? Or would it involve a custom implementation of a doubly linked list for example?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","autowired"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1663885898,"post_id":73821218,"comment_id":130351168,"body_markdown":"Try to avoid such phrasing as &quot;*will not*&quot; unless you have documentation to that effect. What you mean is &quot;*does not*&quot; (for you). Probably because something in your project is not configured properly. I&#39;ve tested this and it works fine. Is SimpleCommand actually a Command?","body":"Try to avoid such phrasing as &quot;<i>will not</i>&quot; unless you have documentation to that effect. What you mean is &quot;<i>does not</i>&quot; (for you). Probably because something in your project is not configured properly. I&#39;ve tested this and it works fine. Is SimpleCommand actually a Command?"},{"owner":{"account_id":24472778,"reputation":1,"user_id":20065424,"display_name":"Reneux"},"score":0,"creation_date":1663886219,"post_id":73821218,"comment_id":130351215,"body_markdown":"@Michael Ok, sorry. For me, it does not work. Could you share your example with me? I don&#39;t understand what could be causing this, my code looks exactly like my question.","body":"@Michael Ok, sorry. For me, it does not work. Could you share your example with me? I don&#39;t understand what could be causing this, my code looks exactly like my question."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1663886660,"post_id":73821218,"comment_id":130351280,"body_markdown":"Does `SimpleCommand` extend or implement `Command`? This normally works without any problem.","body":"Does <code>SimpleCommand</code> extend or implement <code>Command</code>? This normally works without any problem."},{"owner":{"account_id":24472778,"reputation":1,"user_id":20065424,"display_name":"Reneux"},"score":0,"creation_date":1663886844,"post_id":73821218,"comment_id":130351307,"body_markdown":"@chrylis -cautiouslyoptimistic- It does, yes. It extends the abstract class Command. Neither Command nor SimpleCommand have a Component annotation. \nAll other sub-classes which are not declared as Bean methods have a Component annotation and are correctly added to the list at runtime.","body":"@chrylis -cautiouslyoptimistic- It does, yes. It extends the abstract class Command. Neither Command nor SimpleCommand have a Component annotation.  All other sub-classes which are not declared as Bean methods have a Component annotation and are correctly added to the list at runtime."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1663886921,"post_id":73821218,"comment_id":130351315,"body_markdown":"Here https://github.com/michaelboyles/spring-example Output: &quot;Got 3 commands: [...]&quot; In future rather than ask someone to provide an example that prove that something works, why don&#39;t you provide an example that proves that it doesn&#39;t? Usually when I&#39;m in the process of making such an example myself, that&#39;s when I realise what the mistake is.","body":"Here <a href=\"https://github.com/michaelboyles/spring-example\" rel=\"nofollow noreferrer\">github.com/michaelboyles/spring-example</a> Output: &quot;Got 3 commands: [...]&quot; In future rather than ask someone to provide an example that prove that something works, why don&#39;t you provide an example that proves that it doesn&#39;t? Usually when I&#39;m in the process of making such an example myself, that&#39;s when I realise what the mistake is."},{"owner":{"account_id":24472778,"reputation":1,"user_id":20065424,"display_name":"Reneux"},"score":0,"creation_date":1663887579,"post_id":73821218,"comment_id":130351415,"body_markdown":"@Michael thank you, although the issue is that your example solves a different problem. It creates a separate list component, it doesn&#39;t just autowire the list into a field. I cloned your example, removed the ListTarget class and added an autowired List&lt;Command&gt; field in the MyConfig class. Output: Got 1 commands. (Output printed in PostConstruct on MyConfig).","body":"@Michael thank you, although the issue is that your example solves a different problem. It creates a separate list component, it doesn&#39;t just autowire the list into a field. I cloned your example, removed the ListTarget class and added an autowired List&lt;Command&gt; field in the MyConfig class. Output: Got 1 commands. (Output printed in PostConstruct on MyConfig)."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1663888074,"post_id":73821218,"comment_id":130351500,"body_markdown":"@Reneux You cannot have it both ways. You are trying to have MyConfig both consume commands AND produce more commands. If you add a field to MyConfig like what you&#39;re describing, that needs to be populated when MyConfig is instantiated. The extra beans that it produces can&#39;t be produced until after that&#39;s already done. Move that field to anywhere else and it will work fine.","body":"@Reneux You cannot have it both ways. You are trying to have MyConfig both consume commands AND produce more commands. If you add a field to MyConfig like what you&#39;re describing, that needs to be populated when MyConfig is instantiated. The extra beans that it produces can&#39;t be produced until after that&#39;s already done. Move that field to anywhere else and it will work fine."},{"owner":{"account_id":24472778,"reputation":1,"user_id":20065424,"display_name":"Reneux"},"score":0,"creation_date":1663894300,"post_id":73821218,"comment_id":130352371,"body_markdown":"@Michael thank you. If you post your comment as an answer I&#39;ll mark it as accepted. I don&#39;t feel it&#39;s necessarily intuitive that it should work this way for some who first comes across Spring. My own conclusion was that the injection order would&#39;ve been figured out automatically.","body":"@Michael thank you. If you post your comment as an answer I&#39;ll mark it as accepted. I don&#39;t feel it&#39;s necessarily intuitive that it should work this way for some who first comes across Spring. My own conclusion was that the injection order would&#39;ve been figured out automatically."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1663943084,"post_id":73821218,"comment_id":130365181,"body_markdown":"@Reneux The question doesn&#39;t really accurately reflect your problem, so I don&#39;t think it&#39;s answerable in its current state. In any case, happy your problem is solved.","body":"@Reneux The question doesn&#39;t really accurately reflect your problem, so I don&#39;t think it&#39;s answerable in its current state. In any case, happy your problem is solved."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1663949223,"post_id":73821218,"comment_id":130367571,"body_markdown":"Note also that it&#39;s generally preferable to make your `commandList` a constructor parameter instead of a field; this avoids quite a few possible sequencing bugs and makes it more likely that errors will be reported immediately instead of later in the application&#39;s execution.","body":"Note also that it&#39;s generally preferable to make your <code>commandList</code> a constructor parameter instead of a field; this avoids quite a few possible sequencing bugs and makes it more likely that errors will be reported immediately instead of later in the application&#39;s execution."}],"owner":{"account_id":24472778,"reputation":1,"user_id":20065424,"display_name":"Reneux"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663886374,"creation_date":1663885290,"question_id":73821218,"body_markdown":"Imagine I have `@Component` classes `RefreshCmd` and `StartCmd` which extend an abstract class `Command`.\r\n\r\n    @Autowire\r\n    List&lt;Command&gt; commandList; \r\n\r\nThe list above is succesfully filled by Spring at runtime with `RefreshCmd` and `StartCmd`.\r\n\r\nMy issue is with beans which don&#39;t have their own exclusive class, let&#39;s assume:\r\n\r\n    @Configuration\r\n    //some class\r\n    \r\n    @Bean\r\n    public SimpleCommand startCommand(){\r\n        return new SimpleCommand(&quot;some arg&quot;, () -&gt; some lambda);\r\n    }\r\n    \r\n    @Bean\r\n    public SimpleCommand helpCommand(){\r\n        return new SimpleCommand(&quot;some arg&quot;, () -&gt; some lambda);\r\n    }\r\n\r\nThese beans are not included in the list. I want them to be included.\r\n\r\n**How can method-defined beans (so without the possibility of annotating with `@Component`) be included in the list?**\r\n\r\nOne solution I found is to use `@Resource()` to autowire them to individual fields in another class and then add them to the list with `@PostConstruct` - this looks horrible and I&#39;m looking for the correct way of doing things.","title":"How can an autowired list of beans include classes not explicitly marked as Components?","body":"<p>Imagine I have <code>@Component</code> classes <code>RefreshCmd</code> and <code>StartCmd</code> which extend an abstract class <code>Command</code>.</p>\n<pre><code>@Autowire\nList&lt;Command&gt; commandList; \n</code></pre>\n<p>The list above is succesfully filled by Spring at runtime with <code>RefreshCmd</code> and <code>StartCmd</code>.</p>\n<p>My issue is with beans which don't have their own exclusive class, let's assume:</p>\n<pre><code>@Configuration\n//some class\n\n@Bean\npublic SimpleCommand startCommand(){\n    return new SimpleCommand(&quot;some arg&quot;, () -&gt; some lambda);\n}\n\n@Bean\npublic SimpleCommand helpCommand(){\n    return new SimpleCommand(&quot;some arg&quot;, () -&gt; some lambda);\n}\n</code></pre>\n<p>These beans are not included in the list. I want them to be included.</p>\n<p><strong>How can method-defined beans (so without the possibility of annotating with <code>@Component</code>) be included in the list?</strong></p>\n<p>One solution I found is to use <code>@Resource()</code> to autowire them to individual fields in another class and then add them to the list with <code>@PostConstruct</code> - this looks horrible and I'm looking for the correct way of doing things.</p>\n"},{"tags":["java","mongodb","spring-data-mongodb","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":41926,"reputation":101722,"user_id":122005,"accept_rate":100,"display_name":"chridam"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1446733161,"creation_date":1446732843,"answer_id":33546797,"question_id":33546581,"body_markdown":"Since you can’t use [**`Criteria.and()`**][1] to add multiple criteria into the same field, use [**`Criteria.andOperator()`**][2] as follows:\r\n\r\n    Query query = new Query();\r\n    query.addCriteria(\r\n    \tnew Criteria().andOperator(\r\n    \t\tCriteria.where(&quot;field1&quot;).exists(true),\r\n    \t\tCriteria.where(&quot;field1&quot;).ne(false)\r\n    \t)\r\n    );\r\n    \r\n    List&lt;Foo&gt; result = mongoTemplate.find(query, Foo.class);\r\n    System.out.println(&quot;query - &quot; + query.toString());\r\n    \r\n    for (Foo foo : result) {\r\n    \tSystem.out.println(&quot;result - &quot; + foo);\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html#and-java.lang.String-\r\n  [2]: http://docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html#andOperator-org.springframework.data.mongodb.core.query.Criteria...-","title":"MongoTemplate Criteria Query","body":"<p>Since you can’t use <a href=\"http://docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html#and-java.lang.String-\" rel=\"noreferrer\"><strong><code>Criteria.and()</code></strong></a> to add multiple criteria into the same field, use <a href=\"http://docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html#andOperator-org.springframework.data.mongodb.core.query.Criteria...-\" rel=\"noreferrer\"><strong><code>Criteria.andOperator()</code></strong></a> as follows:</p>\n\n<pre><code>Query query = new Query();\nquery.addCriteria(\n    new Criteria().andOperator(\n        Criteria.where(\"field1\").exists(true),\n        Criteria.where(\"field1\").ne(false)\n    )\n);\n\nList&lt;Foo&gt; result = mongoTemplate.find(query, Foo.class);\nSystem.out.println(\"query - \" + query.toString());\n\nfor (Foo foo : result) {\n    System.out.println(\"result - \" + foo);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434696,"reputation":334,"user_id":820838,"display_name":"Claus Nielsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535092508,"creation_date":1535092508,"answer_id":51998748,"question_id":33546581,"body_markdown":"    Query query = new Query(Criteria.where(&quot;field1&quot;).exists(true).ne(false));\r\n\r\nOr, if field1 is always a boolean value when present:\r\n\r\n    Query query = new Query(Criteria.where(&quot;field1&quot;).is(true));\r\n","title":"MongoTemplate Criteria Query","body":"<pre><code>Query query = new Query(Criteria.where(\"field1\").exists(true).ne(false));\n</code></pre>\n\n<p>Or, if field1 is always a boolean value when present:</p>\n\n<pre><code>Query query = new Query(Criteria.where(\"field1\").is(true));\n</code></pre>\n"}],"owner":{"account_id":1334811,"reputation":653,"user_id":1277815,"accept_rate":76,"display_name":"Aeteros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70374,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":33546797,"answer_count":2,"score":14,"last_activity_date":1663886030,"creation_date":1446732202,"question_id":33546581,"body_markdown":"I&#39;m generating a complicated `Mongo` query depending on multiple parameters. One of criterion that I want to make with `Criteria` helper class is:\r\n\r\n    {&quot;field1&quot;: {$exists: true, $ne: false}}\r\n\r\nI tried to make it with:\r\n\r\n    Criteria.where(&quot;field1&quot;).is(Criteria.where(&quot;$ne&quot;).is(false).and(&quot;$exists&quot;).is(true))\r\n\r\nBut it generates:\r\n\r\n    { &quot;field1&quot; : { $java : org.springframework.data.mongodb.core.query.Criteria@23864e60 } \r\n\r\nSo, **how to achieve the exact query that i need?**\r\nI can&#39;t hardcode that query string, because these type criterions are generated dynamically for field1,...fieldN and then combined with `$or`:\r\n\r\n    statusCriteria = statusCriteria.orOperator(criterias.toArray(new Criteria[criterias.size()]));","title":"MongoTemplate Criteria Query","body":"<p>I'm generating a complicated <code>Mongo</code> query depending on multiple parameters. One of criterion that I want to make with <code>Criteria</code> helper class is:</p>\n\n<pre><code>{\"field1\": {$exists: true, $ne: false}}\n</code></pre>\n\n<p>I tried to make it with:</p>\n\n<pre><code>Criteria.where(\"field1\").is(Criteria.where(\"$ne\").is(false).and(\"$exists\").is(true))\n</code></pre>\n\n<p>But it generates:</p>\n\n<pre><code>{ \"field1\" : { $java : org.springframework.data.mongodb.core.query.Criteria@23864e60 } \n</code></pre>\n\n<p>So, <strong>how to achieve the exact query that i need?</strong>\nI can't hardcode that query string, because these type criterions are generated dynamically for field1,...fieldN and then combined with <code>$or</code>:</p>\n\n<pre><code>statusCriteria = statusCriteria.orOperator(criterias.toArray(new Criteria[criterias.size()]));\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14750196,"reputation":507,"user_id":10652509,"display_name":"cwbusacker"},"score":1,"creation_date":1663886782,"post_id":73821080,"comment_id":130351297,"body_markdown":"One question I would have is comparison of uppercase vs lowercase. For example, should ```Aa``` return ```1``` or ```0```?","body":"One question I would have is comparison of uppercase vs lowercase. For example, should <code>Aa</code> return <code>1</code> or <code>0</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26417319,"reputation":30,"user_id":20065532,"display_name":"Miguel"},"down_vote_count":3,"up_vote_count":2,"is_accepted":true,"score":-1,"last_activity_date":1663885901,"creation_date":1663885901,"answer_id":73821276,"question_id":73821080,"body_markdown":"You can try next code\r\n\r\n      public static int count(String text)\r\n    {\r\n        int amount = 0;\r\n        for(int i = 1; i &lt; text.length(); i++)\r\n        {\r\n            if(text.charAt(i) == text.charAt(i-1))\r\n                amount++;\r\n        }\r\n        return amount;\r\n    }","title":"How to count consecutive times a character appears in a String","body":"<p>You can try next code</p>\n<pre><code>  public static int count(String text)\n{\n    int amount = 0;\n    for(int i = 1; i &lt; text.length(); i++)\n    {\n        if(text.charAt(i) == text.charAt(i-1))\n            amount++;\n    }\n    return amount;\n}\n</code></pre>\n"}],"owner":{"account_id":23424365,"reputation":37,"user_id":17484040,"display_name":"shook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":73821276,"answer_count":1,"score":-3,"last_activity_date":1663885901,"creation_date":1663883995,"question_id":73821080,"body_markdown":"I have the code\r\n\r\n    public static int count(String text, char letter)\r\n    {\r\n        int amount = 0;\r\n        for(int i = 0; i &lt; text.length(); i++)\r\n        {\r\n            if(text.charAt(i) == letter)\r\n                amount++;\r\n        }\r\n        return amount;\r\n    }\r\n\r\nto count how many times a certain letter appears in a String (ex: `eeeeee` has 6 `e`&#39;s).\r\n\r\nBut how would I go about returning the number of times a character appears consecutively with only one String parameter?\r\n\r\nFor example:\r\n\r\n - `AAbcde` would return `1` (one `a` after the first `a`)\r\n - `abcde` would return `0` (no consecutive count)\r\n - `abccd` would return `1` (one `c` after the first `c`)\r\n - `aabccc` would return `3` (one `a` after the first `a` + two `c`&#39;s after the\r\n   first `c`)\r\n\r\nIs there any simple way to achieve this similar to the code I already have?","title":"How to count consecutive times a character appears in a String","body":"<p>I have the code</p>\n<pre><code>public static int count(String text, char letter)\n{\n    int amount = 0;\n    for(int i = 0; i &lt; text.length(); i++)\n    {\n        if(text.charAt(i) == letter)\n            amount++;\n    }\n    return amount;\n}\n</code></pre>\n<p>to count how many times a certain letter appears in a String (ex: <code>eeeeee</code> has 6 <code>e</code>'s).</p>\n<p>But how would I go about returning the number of times a character appears consecutively with only one String parameter?</p>\n<p>For example:</p>\n<ul>\n<li><code>AAbcde</code> would return <code>1</code> (one <code>a</code> after the first <code>a</code>)</li>\n<li><code>abcde</code> would return <code>0</code> (no consecutive count)</li>\n<li><code>abccd</code> would return <code>1</code> (one <code>c</code> after the first <code>c</code>)</li>\n<li><code>aabccc</code> would return <code>3</code> (one <code>a</code> after the first <code>a</code> + two <code>c</code>'s after the\nfirst <code>c</code>)</li>\n</ul>\n<p>Is there any simple way to achieve this similar to the code I already have?</p>\n"},{"tags":["java","oop","inheritance","overriding","subclass"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1612256482,"post_id":66006431,"comment_id":116703093,"body_markdown":"Because you are not calling a method on a _class_ but on an _instance_. And the instance you are using is always of type `Child`, regardless to what you cast it.","body":"Because you are not calling a method on a <i>class</i> but on an <i>instance</i>. And the instance you are using is always of type <code>Child</code>, regardless to what you cast it."},{"owner":{"account_id":3762261,"reputation":1126,"user_id":3126835,"accept_rate":57,"display_name":"kks21199"},"score":0,"creation_date":1612256536,"post_id":66006431,"comment_id":116703119,"body_markdown":"You will need to have another method that calls super.","body":"You will need to have another method that calls super."},{"owner":{"display_name":"user13602601"},"score":0,"creation_date":1612256611,"post_id":66006431,"comment_id":116703157,"body_markdown":"Once I cast the `Child` object to a `Parent` object, will it not be a parent object? If not, why?","body":"Once I cast the <code>Child</code> object to a <code>Parent</code> object, will it not be a parent object? If not, why?"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1612256668,"post_id":66006431,"comment_id":116703185,"body_markdown":"&quot;Once I cast the Child object to a Parent object, will it not be a parent object?&quot; No, it will not. How should it become another object? It is still the same object!","body":"&quot;Once I cast the Child object to a Parent object, will it not be a parent object?&quot; No, it will not. How should it become another object? It is still the same object!"},{"owner":{"account_id":3762261,"reputation":1126,"user_id":3126835,"accept_rate":57,"display_name":"kks21199"},"score":0,"creation_date":1612256690,"post_id":66006431,"comment_id":116703196,"body_markdown":"@S.Tiss Because the `Child` object will always be a `Child` object. You can cast it to `parent` object only because it extends from it.","body":"@S.Tiss Because the <code>Child</code> object will always be a <code>Child</code> object. You can cast it to <code>parent</code> object only because it extends from it."}],"answers":[{"tags":[],"owner":{"account_id":3762261,"reputation":1126,"user_id":3126835,"accept_rate":57,"display_name":"kks21199"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612256645,"creation_date":1612256645,"answer_id":66006526,"question_id":66006431,"body_markdown":"You can&#39;t access a overriden method directly from a child class. The best you can do is add another function to your child that calls the parent `print` function.\r\n\r\n    public class Child extends Parent{\r\n        public void print() {\r\n            System.out.println(&quot;In child&quot;);\r\n        }\r\n        \r\n        public void printParent() {\r\n        \tsuper.print()\r\n        }\r\n    }\r\n\r\nThen you can access it like this,\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Child child = new Child();\r\n            child.printParent();\r\n        }\r\n    }","title":"How to access overridden method of parent class without using super()?","body":"<p>You can't access a overriden method directly from a child class. The best you can do is add another function to your child that calls the parent <code>print</code> function.</p>\n<pre><code>public class Child extends Parent{\n    public void print() {\n        System.out.println(&quot;In child&quot;);\n    }\n    \n    public void printParent() {\n        super.print()\n    }\n}\n</code></pre>\n<p>Then you can access it like this,</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Child child = new Child();\n        child.printParent();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1308572,"reputation":2389,"user_id":1257062,"display_name":"Rizwan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612256934,"creation_date":1612256934,"answer_id":66006601,"question_id":66006431,"body_markdown":"Overriding is a principle which gives weightage on inheritance.\r\n\r\nIf you have a specific requirement to behave as per the casting then the method must be class level &quot;static&quot; instead of instance level.\r\n\r\nYou would loose the beauty of true inheritance and enter in hiding it more. However, the same can be achieved in casting way \r\n\r\n    package com.company.language;\r\n    \r\n    public class InheritanceTrial {\r\n        public static void main(String[] args) {\r\n            Child child = new Child();\r\n            child.print();\r\n            ((Parent)child).print();\r\n        }\r\n    }\r\n    class Parent {\r\n        public static void print() {\r\n            System.out.println(&quot;In parent&quot;);\r\n        }\r\n    }\r\n    \r\n    class Child extends Parent{\r\n        public static void print() {\r\n            System.out.println(&quot;In child&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to access overridden method of parent class without using super()?","body":"<p>Overriding is a principle which gives weightage on inheritance.</p>\n<p>If you have a specific requirement to behave as per the casting then the method must be class level &quot;static&quot; instead of instance level.</p>\n<p>You would loose the beauty of true inheritance and enter in hiding it more. However, the same can be achieved in casting way</p>\n<pre><code>package com.company.language;\n\npublic class InheritanceTrial {\n    public static void main(String[] args) {\n        Child child = new Child();\n        child.print();\n        ((Parent)child).print();\n    }\n}\nclass Parent {\n    public static void print() {\n        System.out.println(&quot;In parent&quot;);\n    }\n}\n\nclass Child extends Parent{\n    public static void print() {\n        System.out.println(&quot;In child&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20511313,"reputation":2360,"user_id":15102459,"display_name":"Thiyanesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612258058,"creation_date":1612258058,"answer_id":66006878,"question_id":66006431,"body_markdown":"## Clarification\r\nIn your example, the object is always `Child`. Casting is applied only to the reference variable. This casting never impacts the actual object.\r\n\r\n## Options\r\n1. As mentioned by others, add a separate method that will call `super.()` or use hiding. Hiding is not actually overriding.\r\n\r\n## Beware of the side effects of hiding\r\n```java\r\npublic class AccessParent {\r\n    public static void main(String[] args) {\r\n        Parent p = new Child();\r\n        p.methodC();\r\n        System.out.println(new String(new char[20]).replace(&quot;\\0&quot;, &quot;-&quot;));\r\n        p.methodD();\r\n    }\r\n}\r\n\r\nclass Parent {\r\n    void methodA() {\r\n        System.out.println(&quot;Parent.methodA&quot;);\r\n    }\r\n\r\n    private void methodB() {\r\n        System.out.println(&quot;Parent.methodB&quot;);\r\n        // this will still call Child.methodA\r\n        // a hidden method can not control the scope of overridden method\r\n        methodA();\r\n    }\r\n\r\n    void methodC() {\r\n        System.out.println(&quot;Parent.methodC&quot;);\r\n        methodB();\r\n    }\r\n\r\n    void methodD() {\r\n        System.out.println(&quot;Parent.methodD&quot;);\r\n        // hidden method will be called\r\n        // technically Child.methodB() is not overridden\r\n        methodB();\r\n    }\r\n}\r\n\r\nclass Child extends Parent {\r\n    @Override\r\n    void methodA() {\r\n        System.out.println(&quot;Child.methodA&quot;);\r\n    }\r\n\r\n    // this not overridden\r\n    void methodB() {\r\n        System.out.println(&quot;Child.methodB&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis will output\r\n```\r\nParent.methodC\r\nParent.methodB\r\nChild.methodA\r\n--------------------\r\nParent.methodD\r\nParent.methodB\r\nChild.methodA```","title":"How to access overridden method of parent class without using super()?","body":"<h2>Clarification</h2>\n<p>In your example, the object is always <code>Child</code>. Casting is applied only to the reference variable. This casting never impacts the actual object.</p>\n<h2>Options</h2>\n<ol>\n<li>As mentioned by others, add a separate method that will call <code>super.()</code> or use hiding. Hiding is not actually overriding.</li>\n</ol>\n<h2>Beware of the side effects of hiding</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class AccessParent {\n    public static void main(String[] args) {\n        Parent p = new Child();\n        p.methodC();\n        System.out.println(new String(new char[20]).replace(&quot;\\0&quot;, &quot;-&quot;));\n        p.methodD();\n    }\n}\n\nclass Parent {\n    void methodA() {\n        System.out.println(&quot;Parent.methodA&quot;);\n    }\n\n    private void methodB() {\n        System.out.println(&quot;Parent.methodB&quot;);\n        // this will still call Child.methodA\n        // a hidden method can not control the scope of overridden method\n        methodA();\n    }\n\n    void methodC() {\n        System.out.println(&quot;Parent.methodC&quot;);\n        methodB();\n    }\n\n    void methodD() {\n        System.out.println(&quot;Parent.methodD&quot;);\n        // hidden method will be called\n        // technically Child.methodB() is not overridden\n        methodB();\n    }\n}\n\nclass Child extends Parent {\n    @Override\n    void methodA() {\n        System.out.println(&quot;Child.methodA&quot;);\n    }\n\n    // this not overridden\n    void methodB() {\n        System.out.println(&quot;Child.methodB&quot;);\n    }\n}\n\n</code></pre>\n<p>This will output</p>\n<pre><code>Parent.methodC\nParent.methodB\nChild.methodA\n--------------------\nParent.methodD\nParent.methodB\nChild.methodA```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663885838,"creation_date":1663885838,"answer_id":73821271,"question_id":66006431,"body_markdown":"With the help of java.lang.invoke.MethodHandles, java.lang.invoke.MethodHandle and java.lang.invoke.MethodType we can only access the immediate parent&#39;s method. So this might help your question.\r\n\r\nWorking solution\r\n\r\n    public class Child extends Parent {\r\n      public static void main(String[] args) throws Throwable {\r\n          MethodHandle MH_Parent = MethodHandles.lookup().findSpecial(Parent.class, &quot;print&quot; , MethodType.methodType(void.class), Child.class);\r\n          MH_Parent.invokeExact(new Child());\r\n      }\r\n        public void print() {\r\n            System.out.println(&quot;In child&quot;);\r\n        }\r\n    }\r\n    \r\n    class Parent {\r\n        void print() {\r\n            System.out.println(&quot;In parent&quot;);\r\n        }\r\n    }\r\n\r\n\r\nFailing Solution\r\n\r\n    class Parent {\r\n        public void print() {\r\n            System.out.println(&quot;In parent&quot;);\r\n        }\r\n    }\r\n    \r\n    class Child extends Parent{\r\n        public void print() {\r\n            System.out.println(&quot;In child&quot;);\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Throwable {\r\n          MethodHandle MH_Parent = MethodHandles.lookup().findSpecial(Parent.class, &quot;print&quot; , MethodType.methodType(void.class), Child.class);\r\n          MH_Parent.invokeExact(new Child());\r\n        }\r\n    }","title":"How to access overridden method of parent class without using super()?","body":"<p>With the help of java.lang.invoke.MethodHandles, java.lang.invoke.MethodHandle and java.lang.invoke.MethodType we can only access the immediate parent's method. So this might help your question.</p>\n<p>Working solution</p>\n<pre><code>public class Child extends Parent {\n  public static void main(String[] args) throws Throwable {\n      MethodHandle MH_Parent = MethodHandles.lookup().findSpecial(Parent.class, &quot;print&quot; , MethodType.methodType(void.class), Child.class);\n      MH_Parent.invokeExact(new Child());\n  }\n    public void print() {\n        System.out.println(&quot;In child&quot;);\n    }\n}\n\nclass Parent {\n    void print() {\n        System.out.println(&quot;In parent&quot;);\n    }\n}\n</code></pre>\n<p>Failing Solution</p>\n<pre><code>class Parent {\n    public void print() {\n        System.out.println(&quot;In parent&quot;);\n    }\n}\n\nclass Child extends Parent{\n    public void print() {\n        System.out.println(&quot;In child&quot;);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) throws Throwable {\n      MethodHandle MH_Parent = MethodHandles.lookup().findSpecial(Parent.class, &quot;print&quot; , MethodType.methodType(void.class), Child.class);\n      MH_Parent.invokeExact(new Child());\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user13602601"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1663885838,"creation_date":1612256298,"question_id":66006431,"body_markdown":"As shown below, I tried to cast the object of the sub-class to that of its parent class. That went well. But, when I try to access the overridden method of the parent class, it doesn&#39;t happen. Instead the overriding method in the child class is called. I know I can do this using the super keyword, but I just want to know why this can&#39;t be done by casting?\r\n\r\nThis is the parent class:\r\n```\r\npublic class Parent {\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;In parent&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThis is the child class which has its properties inherited from the parent class:\r\n```\r\npublic class Child extends Parent{\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;In child&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThis is the class which contains the main method:\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tChild child = new Child();\r\n\t\t((Parent)child).print();\r\n\t}\r\n\r\n}\r\n```","title":"How to access overridden method of parent class without using super()?","body":"<p>As shown below, I tried to cast the object of the sub-class to that of its parent class. That went well. But, when I try to access the overridden method of the parent class, it doesn't happen. Instead the overriding method in the child class is called. I know I can do this using the super keyword, but I just want to know why this can't be done by casting?</p>\n<p>This is the parent class:</p>\n<pre><code>public class Parent {\n    public void print() {\n        System.out.println(&quot;In parent&quot;);\n    }\n}\n</code></pre>\n<p>This is the child class which has its properties inherited from the parent class:</p>\n<pre><code>public class Child extends Parent{\n    public void print() {\n        System.out.println(&quot;In child&quot;);\n    }\n}\n</code></pre>\n<p>This is the class which contains the main method:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Child child = new Child();\n        ((Parent)child).print();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","blob","inputstream","javax.imageio"],"comments":[{"owner":{"account_id":31679,"reputation":209508,"user_id":87189,"accept_rate":100,"display_name":"tadman"},"score":0,"creation_date":1663878282,"post_id":73820206,"comment_id":130349381,"body_markdown":"Use **placeholder values** in your SQL queries or you end up with awful [SQL injection bugs](https://bobby-tables.com). That in this particular case it&#39;s an `int` is irrelevant. You&#39;re using a dangerous pattern here.","body":"Use <b>placeholder values</b> in your SQL queries or you end up with awful <a href=\"https://bobby-tables.com\" rel=\"nofollow noreferrer\">SQL injection bugs</a>. That in this particular case it&#39;s an <code>int</code> is irrelevant. You&#39;re using a dangerous pattern here."},{"owner":{"account_id":31679,"reputation":209508,"user_id":87189,"accept_rate":100,"display_name":"tadman"},"score":0,"creation_date":1663878338,"post_id":73820206,"comment_id":130349399,"body_markdown":"First step: Are you getting the right image data? Look at the first few bytes. A PNG, for example, has a [very specific start sequence](http://www.libpng.org/pub/png/spec/1.2/PNG-Structure.html).","body":"First step: Are you getting the right image data? Look at the first few bytes. A PNG, for example, has a <a href=\"http://www.libpng.org/pub/png/spec/1.2/PNG-Structure.html\" rel=\"nofollow noreferrer\">very specific start sequence</a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663880676,"post_id":73820206,"comment_id":130350051,"body_markdown":"Try getting the image directly out of the `ResultSet` without going via a `Blob`","body":"Try getting the image directly out of the <code>ResultSet</code> without going via a <code>Blob</code>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1663920995,"post_id":73820206,"comment_id":130357311,"body_markdown":"`ImageIO.read(stream)` returns `null` for file formats it does not support. What file format is your blob? The easiest way to find out is to inspect the blob directly in a database tool, or dump the blob to disk and use a tool like `file` or a hex viewer to inspect the file header. Of course, if you also have access to the code that wrote the blob, that is good place to look... &#128521;","body":"<code>ImageIO.read(stream)</code> returns <code>null</code> for file formats it does not support. What file format is your blob? The easiest way to find out is to inspect the blob directly in a database tool, or dump the blob to disk and use a tool like <code>file</code> or a hex viewer to inspect the file header. Of course, if you also have access to the code that wrote the blob, that is good place to look... 😉"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1663884927,"creation_date":1663884927,"answer_id":73821178,"question_id":73820206,"body_markdown":"Only one &quot;return&quot; statement ever allowed in a method!.\r\n\r\n\r\n    public Image getImageByBlob(Blob blob)throws IOException,SQLException {\r\n            InputStream stream = blob.getBinaryStream();\r\n            BufferedImage image = ImageIO.read(stream);\r\n    return image;\r\n    }\r\n\r\n","title":"Image object from BLOB?","body":"<p>Only one &quot;return&quot; statement ever allowed in a method!.</p>\n<pre><code>public Image getImageByBlob(Blob blob)throws IOException,SQLException {\n        InputStream stream = blob.getBinaryStream();\n        BufferedImage image = ImageIO.read(stream);\nreturn image;\n}\n</code></pre>\n"}],"owner":{"account_id":25782211,"reputation":1,"user_id":19527667,"display_name":"Andrea Barone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663884927,"creation_date":1663877667,"question_id":73820206,"body_markdown":"I&#39;m having trouble getting an image object from a BLOB stored in a mySQL table.\r\n\r\nTable &quot;images&quot; has values: &quot;idImage&quot; (int), &quot;idArticle&quot; (int), &quot;image&quot; (BLOB).\r\n\r\nThis is a method from the database access object:\r\n\r\n    public MyImage findImageById(int idImage) {\r\n        executor = new DbOperationExecutor();\r\n        sql = &quot;SELECT * FROM images WHERE idImage = &#39;&quot; + idImage + &quot;&#39;;&quot;;\r\n        dbOperation = new ReadOperation(sql);\r\n        ResultSet rs = executor.executeOperation(dbOperation).getResultSet();\r\n        MyImage i = new MyImage();\r\n        try {\r\n            rs.next();\r\n            if (rs.getRow() == 1) {\r\n                i.setIdImage(rs.getInt(&quot;idImage&quot;));\r\n                i.setIdArticle(rs.getInt(&quot;idArticle&quot;));\r\n                i.setImage(ImageBusiness.getInstance().getImageByBlob(rs.getBlob(&quot;image&quot;)));\r\n            }\r\n            return immagine;\r\n        } catch (SQLException e) {...} catch (NullPointerException e) {...}\r\n        finally {\r\n            executor.close(dbOperation);\r\n        }\r\n        return null;\r\n    }\r\nMethod &quot;getImageByBlob&quot; in ImageBusiness class is: \r\n\r\n    public Image getImageByBlob(Blob blob){\r\n        try {\r\n            InputStream stream = blob.getBinaryStream();\r\n            BufferedImage image = ImageIO.read(stream);\r\n            return image;\r\n        } catch (IOException | SQLException e) {\r\n            System.out.println(&quot;Blob-Image conversion Error: &quot; + e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n\r\nWhen I debug this code I notice that Image.read(stream) return null, why?? Help me please.\r\n\r\n \r\n","title":"Image object from BLOB?","body":"<p>I'm having trouble getting an image object from a BLOB stored in a mySQL table.</p>\n<p>Table &quot;images&quot; has values: &quot;idImage&quot; (int), &quot;idArticle&quot; (int), &quot;image&quot; (BLOB).</p>\n<p>This is a method from the database access object:</p>\n<pre><code>public MyImage findImageById(int idImage) {\n    executor = new DbOperationExecutor();\n    sql = &quot;SELECT * FROM images WHERE idImage = '&quot; + idImage + &quot;';&quot;;\n    dbOperation = new ReadOperation(sql);\n    ResultSet rs = executor.executeOperation(dbOperation).getResultSet();\n    MyImage i = new MyImage();\n    try {\n        rs.next();\n        if (rs.getRow() == 1) {\n            i.setIdImage(rs.getInt(&quot;idImage&quot;));\n            i.setIdArticle(rs.getInt(&quot;idArticle&quot;));\n            i.setImage(ImageBusiness.getInstance().getImageByBlob(rs.getBlob(&quot;image&quot;)));\n        }\n        return immagine;\n    } catch (SQLException e) {...} catch (NullPointerException e) {...}\n    finally {\n        executor.close(dbOperation);\n    }\n    return null;\n}\n</code></pre>\n<p>Method &quot;getImageByBlob&quot; in ImageBusiness class is:</p>\n<pre><code>public Image getImageByBlob(Blob blob){\n    try {\n        InputStream stream = blob.getBinaryStream();\n        BufferedImage image = ImageIO.read(stream);\n        return image;\n    } catch (IOException | SQLException e) {\n        System.out.println(&quot;Blob-Image conversion Error: &quot; + e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>When I debug this code I notice that Image.read(stream) return null, why?? Help me please.</p>\n"},{"tags":["java","java-stream","java-11","distinct-values"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1663884924,"post_id":73821124,"comment_id":130351000,"body_markdown":"This question is similar enough that you should easily be able to adapt the streams solution: https://stackoverflow.com/a/54793580/421195.  Or (same thread): https://stackoverflow.com/a/35001661/421195","body":"This question is similar enough that you should easily be able to adapt the streams solution: <a href=\"https://stackoverflow.com/a/54793580/421195\">stackoverflow.com/a/54793580/421195</a>.  Or (same thread): <a href=\"https://stackoverflow.com/a/35001661/421195\">stackoverflow.com/a/35001661/421195</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1663885731,"post_id":73821124,"comment_id":130351140,"body_markdown":"This doesn&#39;t look complicated. Since you asked for stream solution you will need *something* (since I don&#39;t know which JSON library you are using, nor API of corresponding POJOs) like `rootJSON.getTasks().stream().flatMap(task-&gt;task.getUsers().stream()).map(user-&gt;user.getUserName())`. With this you should get stream containing all users. Now you just want to check if there are duplicates in it. This was already answered in [How to check if exists any duplicate in Java 8 Streams?](https://stackoverflow.com/q/30053487).","body":"This doesn&#39;t look complicated. Since you asked for stream solution you will need <i>something</i> (since I don&#39;t know which JSON library you are using, nor API of corresponding POJOs) like <code>rootJSON.getTasks().stream().flatMap(task-&gt;task.getUsers().s&zwnj;&#8203;tream()).map(user-&gt;u&zwnj;&#8203;ser.getUserName())</code>. With this you should get stream containing all users. Now you just want to check if there are duplicates in it. This was already answered in <a href=\"https://stackoverflow.com/q/30053487\">How to check if exists any duplicate in Java 8 Streams?</a>."}],"owner":{"account_id":2396896,"reputation":173,"user_id":2095535,"accept_rate":67,"display_name":"Luiz Ricardo Cardoso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1663884852,"answer_count":0,"score":0,"last_activity_date":1663884911,"creation_date":1663884399,"question_id":73821124,"body_markdown":"I have a task list, where each task has a user list, and I need to validate if there is a duplicate user in any of the tasks in the user list.\r\n\r\n**Below is my object that I would like to validate:**\r\n\r\n\r\n    {\r\n      &quot;tasks&quot;: [\r\n        {\r\n          &quot;id&quot;: 1,\r\n          &quot;users&quot;: [\r\n            {\r\n              &quot;username&quot;: &quot;username1&quot; \r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;id&quot;: 2,\r\n          &quot;users&quot;: [\r\n            {\r\n              &quot;username&quot;: &quot;username1&quot;\r\n            },\r\n            {\r\n              &quot;username&quot;: &quot;username2&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\nI don&#39;t have a code that meets this solution, I need a boolean value of true or false if there is a duplicate user in my task list.\r\n\r\n**How can I do this using Java 11?**","title":"validate if there is a duplicate user using the stream distinct function in java 11","body":"<p>I have a task list, where each task has a user list, and I need to validate if there is a duplicate user in any of the tasks in the user list.</p>\n<p><strong>Below is my object that I would like to validate:</strong></p>\n<pre><code>{\n  &quot;tasks&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;users&quot;: [\n        {\n          &quot;username&quot;: &quot;username1&quot; \n        }\n      ]\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;users&quot;: [\n        {\n          &quot;username&quot;: &quot;username1&quot;\n        },\n        {\n          &quot;username&quot;: &quot;username2&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I don't have a code that meets this solution, I need a boolean value of true or false if there is a duplicate user in my task list.</p>\n<p><strong>How can I do this using Java 11?</strong></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":7898769,"reputation":473,"user_id":5966499,"accept_rate":100,"display_name":"Ann"},"score":0,"creation_date":1521093033,"post_id":49291765,"comment_id":85587263,"body_markdown":"mention the failing sceanario","body":"mention the failing sceanario"}],"answers":[{"tags":[],"owner":{"account_id":5128734,"reputation":161,"user_id":4109758,"accept_rate":75,"display_name":"nanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523269299,"creation_date":1523269299,"answer_id":49730688,"question_id":49291765,"body_markdown":"Your understanding for the problem is worng. You need to read again this part in the problem.\n\n&gt; **Two words match if they have the same length and if each letter of the first word can be turned into the corresponding letter of the\n&gt; second word by using the available translations zero or more times.**\n\nThis input can make your output goes worng.\n\n**Input**\n \n\n2 1&lt;br&gt;\na c&lt;br&gt;\nd b&lt;br&gt;\naaa abc\n\n**Expected output**\n\nno\n\n**Your output**\n\nyes\n\nBelow is solution sketch for this problem.\nI got it from icpc website.\n[![enter image description here][1]][1]\n\n  [1]: https://i.stack.imgur.com/2alN3.png","title":"Kattis - Secret Chamber","body":"<p>Your understanding for the problem is worng. You need to read again this part in the problem.</p>\n<blockquote>\n<p><strong>Two words match if they have the same length and if each letter of the first word can be turned into the corresponding letter of the\nsecond word by using the available translations zero or more times.</strong></p>\n</blockquote>\n<p>This input can make your output goes worng.</p>\n<p><strong>Input</strong></p>\n<p>2 1<br>\na c<br>\nd b<br>\naaa abc</p>\n<p><strong>Expected output</strong></p>\n<p>no</p>\n<p><strong>Your output</strong></p>\n<p>yes</p>\n<p>Below is solution sketch for this problem.\nI got it from icpc website.\n<a href=\"https://i.stack.imgur.com/2alN3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2alN3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663882561,"creation_date":1663882561,"answer_id":73820922,"question_id":49291765,"body_markdown":"It&#39;s happenstance that your code works on the sample cases. Check the `it -&gt; of` translation in the provided example carefully. `i` doesn&#39;t directly translate to `o`, but it does directy translate to `r`, and `r` translates to `o`. You need to follow all translation paths step by step for each character and build a graph that lets you efficiently test whether a translation is possible.\r\n\r\nConsider buiding a structure like `HashMap&lt;Character, Set&lt;Character&gt;&gt;` that maps each of the 26 letters to all of the possible characters it can translate to. For the provided example, `o` would map to `{&#39;r&#39;, &#39;o&#39;, &#39;t&#39;, &#39;c&#39;, &#39;f&#39;, &#39;e&#39;}`. Repeat the same procedure for each of the provided translations.\r\n\r\nOnce you&#39;ve built this data structure, it&#39;s a straightforward task of iterating over characters and performing lookups. `a` should have the same length as `b` and `b[i]` should be in the translation set for `a[i]`, for all `i`.","title":"Kattis - Secret Chamber","body":"<p>It's happenstance that your code works on the sample cases. Check the <code>it -&gt; of</code> translation in the provided example carefully. <code>i</code> doesn't directly translate to <code>o</code>, but it does directy translate to <code>r</code>, and <code>r</code> translates to <code>o</code>. You need to follow all translation paths step by step for each character and build a graph that lets you efficiently test whether a translation is possible.</p>\n<p>Consider buiding a structure like <code>HashMap&lt;Character, Set&lt;Character&gt;&gt;</code> that maps each of the 26 letters to all of the possible characters it can translate to. For the provided example, <code>o</code> would map to <code>{'r', 'o', 't', 'c', 'f', 'e'}</code>. Repeat the same procedure for each of the provided translations.</p>\n<p>Once you've built this data structure, it's a straightforward task of iterating over characters and performing lookups. <code>a</code> should have the same length as <code>b</code> and <code>b[i]</code> should be in the translation set for <code>a[i]</code>, for all <code>i</code>.</p>\n"}],"owner":{"account_id":10243011,"reputation":21,"user_id":7559801,"display_name":"Michael Hollinger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1663884783,"creation_date":1521089115,"question_id":49291765,"body_markdown":"I&#39;m required to solve the following problem for one of my classes: https://open.kattis.com/problems/secretchamber\r\n\r\nMy solution seems to work, but it&#39;s failing the third test case. I implemented every rule given by the problem description, and it solves the two sample test cases no problem. I&#39;m at my wit&#39;s end, and I don&#39;t know what I&#39;m doing wrong.\r\n\r\nI&#39;m not asking for anyone to do my homework by any means whatsoever, but any pointers on what I&#39;m missing would be greatly appreciated.\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    class secretchamber\r\n    {\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tScanner stdin = new Scanner(System.in);\r\n\t\tint numTranslations = stdin.nextInt();\r\n\t\tint numPairs = stdin.nextInt();\r\n\t\tstdin.nextLine();\r\n\r\n\t\tArrayList&lt;Character&gt; trans1 = new ArrayList&lt;Character&gt;(numTranslations);\r\n\t\tArrayList&lt;Character&gt; trans2 = new ArrayList&lt;Character&gt;(numTranslations);\r\n\r\n\t\tfor(int i = 0; i &lt; numTranslations; i++)\r\n\t\t{\r\n\t\t\tString temp = stdin.nextLine();\r\n\t\t\ttrans1.add(temp.charAt(0));\r\n\t\t\ttrans2.add(temp.charAt(2));\r\n\t\t}\r\n\r\n\t\tfor(int i = 0; i &lt; numPairs; i++)\r\n\t\t{\r\n\t\t\tString temp = stdin.nextLine();\r\n\t\t\tString[] pair = temp.split(&quot;\\\\s+&quot;);\r\n\t\t\tchar[] a = pair[0].toCharArray();\r\n\t\t\tchar[] b = pair[1].toCharArray();\r\n\r\n\t\t\tif(translates(a, b, numTranslations, trans1, trans2))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;yes&quot;);\r\n\t\t\t}\r\n\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;no&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static boolean translates(char[] a, char[] b, int numTranslations, ArrayList trans1, ArrayList trans2)\r\n\t{\r\n\t\t//false if strings are unequal in length\r\n\t\tif(a.length != b.length)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t//true if strings are the same\r\n\t\telse if(a == b)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor(int i = 0; i &lt; a.length; i++)\r\n\t\t\t{\r\n\t\t\t\t//if current characters are the same, continue\r\n\t\t\t\tif(a[i] == b[i])\r\n\t\t\t\t{\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if current index of a directly translates to index of b\r\n\t\t\t\telse if(trans1.indexOf(a[i]) == trans2.indexOf(b[i]))\r\n\t\t\t\t{\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//if one or both of the characters do not exist within the list of translations\r\n\t\t\t\telse if(!(trans1.contains(a[i]) &amp;&amp; trans2.contains(b[i])))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n    }","title":"Kattis - Secret Chamber","body":"<p>I'm required to solve the following problem for one of my classes: <a href=\"https://open.kattis.com/problems/secretchamber\" rel=\"nofollow noreferrer\">https://open.kattis.com/problems/secretchamber</a></p>\n\n<p>My solution seems to work, but it's failing the third test case. I implemented every rule given by the problem description, and it solves the two sample test cases no problem. I'm at my wit's end, and I don't know what I'm doing wrong.</p>\n\n<p>I'm not asking for anyone to do my homework by any means whatsoever, but any pointers on what I'm missing would be greatly appreciated.</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\nclass secretchamber\n{\n\npublic static void main(String[] args)\n{\n    Scanner stdin = new Scanner(System.in);\n    int numTranslations = stdin.nextInt();\n    int numPairs = stdin.nextInt();\n    stdin.nextLine();\n\n    ArrayList&lt;Character&gt; trans1 = new ArrayList&lt;Character&gt;(numTranslations);\n    ArrayList&lt;Character&gt; trans2 = new ArrayList&lt;Character&gt;(numTranslations);\n\n    for(int i = 0; i &lt; numTranslations; i++)\n    {\n        String temp = stdin.nextLine();\n        trans1.add(temp.charAt(0));\n        trans2.add(temp.charAt(2));\n    }\n\n    for(int i = 0; i &lt; numPairs; i++)\n    {\n        String temp = stdin.nextLine();\n        String[] pair = temp.split(\"\\\\s+\");\n        char[] a = pair[0].toCharArray();\n        char[] b = pair[1].toCharArray();\n\n        if(translates(a, b, numTranslations, trans1, trans2))\n        {\n            System.out.println(\"yes\");\n        }\n\n        else\n        {\n            System.out.println(\"no\");\n        }\n    }\n}\n\npublic static boolean translates(char[] a, char[] b, int numTranslations, ArrayList trans1, ArrayList trans2)\n{\n    //false if strings are unequal in length\n    if(a.length != b.length)\n    {\n        return false;\n    }\n\n    //true if strings are the same\n    else if(a == b)\n    {\n        return true;\n    }\n\n    else\n    {\n        for(int i = 0; i &lt; a.length; i++)\n        {\n            //if current characters are the same, continue\n            if(a[i] == b[i])\n            {\n                continue;\n            }\n\n            //if current index of a directly translates to index of b\n            else if(trans1.indexOf(a[i]) == trans2.indexOf(b[i]))\n            {\n                continue;\n            }\n\n            //if one or both of the characters do not exist within the list of translations\n            else if(!(trans1.contains(a[i]) &amp;&amp; trans2.contains(b[i])))\n            {\n                return false;\n            }\n\n            else\n            {\n                continue;\n            }\n        }\n    }\n\n    return true;\n}\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream","java-9","java-16"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1663859909,"post_id":73816623,"comment_id":130343584,"body_markdown":"While self-answered questions are very welcome on SO, the question on its own should also match the quality guidelines of SO and yours doesn&#39;t (basically it&#39;s just a title and a &quot;hook&quot;). Can you [edit] it to turn it into an example of the kinds of questions you&#39;d want this to answer instead?","body":"While self-answered questions are very welcome on SO, the question on its own should also match the quality guidelines of SO and yours doesn&#39;t (basically it&#39;s just a title and a &quot;hook&quot;). Can you <a href=\"https://stackoverflow.com/posts/73816623/edit\">edit</a> it to turn it into an example of the kinds of questions you&#39;d want this to answer instead?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1663915549,"post_id":73816623,"comment_id":130355725,"body_markdown":"Starting with Java 10 there is `Collectors.toUnmodifiableList()`","body":"Starting with Java 10 there is <code>Collectors.toUnmodifiableList()</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663915772,"post_id":73816623,"comment_id":130355786,"body_markdown":"@greg-449 that’s a waste of time; this question is an artificial problem constructed around the already existing answer. See [the first version of this question](https://stackoverflow.com/revisions/73816623/1).","body":"@greg-449 that’s a waste of time; this question is an artificial problem constructed around the already existing answer. See <a href=\"https://stackoverflow.com/revisions/73816623/1\">the first version of this question</a>."}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663883446,"creation_date":1663857802,"answer_id":73816624,"question_id":73816623,"body_markdown":"**I have ended up with one of the approach below in order to convert a given string into an immutable list of characters.**\r\n\r\nHere, I have used some utility methods as follows: \r\n\r\n - **chars()** method available from **java 9** onwards which will convert the given string to int stream.    \r\n - **mapToObj()** is an **intermediate operation** which will convert the int stream to char stream.\r\n - **toList()** is a utility method available from **java    16** onwards it will collect the stream to a list which is    **immutable\r\n   in nature.**\r\n\r\n   *The code snippet shown as below:* \r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n                String str = &quot;helloworld&quot;;\r\n                List&lt;Character&gt; list = str.chars().mapToObj(x -&gt; (char)x).toList();\r\n                System.out.println(list);\r\n            }\r\n    }\r\n\r\n**Output:**  `[h, e, l, l, o, w, o, r, l, d]`\r\n\r\n**Note :** \r\n*As the list is immutable in nature*, if we try to **modify the list(add/remove operation)**, will get an **exception** as below:\r\n  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n    \tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n    \tat java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)     \r\n\r\n**Bonus Points:** \r\n\r\n 1. During this problem, I have found the difference between\r\n    Stream.collect(Collectors.toList()) and Stream.toList() i.e.\r\n    \r\n    **Stream.collect(Collectors.toList()) :** It will collect the data \r\n    in a mutable list.\r\n \r\n    **Stream.toList() :** It will collect the data in an\r\n    immutable list.\r\n\r\n 2. The Sonarlint in IDE will also check if there is no operation \r\n         related with the modification of the list, it will prompt with a \r\n         suggestion to\r\n\r\n     *Replace the usage of &#39;Stream.collect(Collectors.toList())&#39; \r\n         with &#39;Stream.toList()&#39;*","title":"How to convert a given string to an immutable list of characters in java? [Updated]","body":"<p><strong>I have ended up with one of the approach below in order to convert a given string into an immutable list of characters.</strong></p>\n<p>Here, I have used some utility methods as follows: </p>\n<ul>\n<li><strong>chars()</strong> method available from <strong>java 9</strong> onwards which will convert the given string to int stream.</li>\n<li><strong>mapToObj()</strong> is an <strong>intermediate operation</strong> which will convert the int stream to char stream.</li>\n<li><strong>toList()</strong> is a utility method available from <strong>java    16</strong> onwards it will collect the stream to a list which is    <strong>immutable\nin nature.</strong></li>\n</ul>\n<p>   <em>The code snippet shown as below:</em> </p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n            String str = &quot;helloworld&quot;;\n            List&lt;Character&gt; list = str.chars().mapToObj(x -&gt; (char)x).toList();\n            System.out.println(list);\n        }\n}\n</code></pre>\n<p><strong>Output:</strong>  <code>[h, e, l, l, o, w, o, r, l, d]</code></p>\n<p><strong>Note :</strong>\n<em>As the list is immutable in nature</em>, if we try to <strong>modify the list(add/remove operation)</strong>, will get an <strong>exception</strong> as below:\n  </p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.add(ImmutableCollections.java:147)     \n</code></pre>\n<p><strong>Bonus Points:</strong></p>\n<ol>\n<li><p>During this problem, I have found the difference between\nStream.collect(Collectors.toList()) and Stream.toList() i.e.</p>\n<p><strong>Stream.collect(Collectors.toList()) :</strong> It will collect the data\nin a mutable list.</p>\n<p><strong>Stream.toList() :</strong> It will collect the data in an\nimmutable list.</p>\n</li>\n<li><p>The Sonarlint in IDE will also check if there is no operation\nrelated with the modification of the list, it will prompt with a\nsuggestion to</p>\n<p><em>Replace the usage of 'Stream.collect(Collectors.toList())'\nwith 'Stream.toList()'</em></p>\n</li>\n</ol>\n"}],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"closed_date":1663915490,"accepted_answer_id":73816624,"answer_count":1,"score":-5,"last_activity_date":1663884758,"creation_date":1663857802,"question_id":73816623,"body_markdown":"I am looking for a solution to convert a given string *for example: “helloworld”* to a list of characters which should be immutable in nature.\r\n\r\nWhat I already tried is using **StreamApi**\r\n`&#39;Stream.collect(Collectors.toList())&#39;`\r\nhowever this results in a ***mutable*** list (not immutable one)\r\n\r\n*Any help appreciated!*","title":"How to convert a given string to an immutable list of characters in java? [Updated]","body":"<p>I am looking for a solution to convert a given string <em>for example: “helloworld”</em> to a list of characters which should be immutable in nature.</p>\n<p>What I already tried is using <strong>StreamApi</strong>\n<code>'Stream.collect(Collectors.toList())'</code>\nhowever this results in a <em><strong>mutable</strong></em> list (not immutable one)</p>\n<p><em>Any help appreciated!</em></p>\n"},{"tags":["java","object-object-mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1492093253,"creation_date":1492093253,"answer_id":43394792,"question_id":43391995,"body_markdown":"This currently is not supported from MapStruct directly. However, you can achieve what you want the help of [`Decorators`](http://mapstruct.org/documentation/stable/reference/html/#customizing-mappers-using-decorators) and you will have to manually check if all the fields are empty and return `null` instead of the object.\r\n\r\n    @Mapper\r\n    @DecoratedWith(TagMapperDecorator.class)\r\n    public interface TagMapper {\r\n        @Mappings({\r\n            @Mapping(target = &quot;id&quot;, source = &quot;tagId&quot;),\r\n            @Mapping(target = &quot;label&quot;, source = &quot;tagLabel&quot;)\r\n        })\r\n        Tag mapToBean(TagRecord tagRecord);\r\n    }\r\n\r\n\r\n    public abstract class TagMapperDecorator implements TagMapper {\r\n\r\n        private final TagMapper delegate;\r\n\r\n        public TagMapperDecorator(TagMapper delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n\r\n        @Override\r\n        public Tag mapToBean(TagRecord tagRecord) {\r\n            Tag tag = delegate.mapToBean( tagRecord);\r\n\r\n            if (tag != null &amp;&amp; tag.getId() == null &amp;&amp; tag.getLabel() == null) {\r\n                return null;\r\n            } else {\r\n                return tag;\r\n            }\r\n        }\r\n    }\r\n\r\nThe example that I have written (the constructor) is for mappers that are with the `default` component model. If you need to use Spring or a different DI framework have a look at:\r\n\r\n* [Decorators with Spring](http://mapstruct.org/documentation/stable/reference/html/#decorators-with-spring)\r\n* [Decorators with JSR 330](http://mapstruct.org/documentation/stable/reference/html/#decorators-with-jsr-330)\r\n* If you use CDI, then you should not use `@DecoratedWith`, but you should use [CDI Decorators](https://docs.jboss.org/cdi/spec/1.0/html/decorators.html) instead","title":"Mapstruct Mapping : Return null object if all source parameters properties are null","body":"<p>This currently is not supported from MapStruct directly. However, you can achieve what you want the help of <a href=\"http://mapstruct.org/documentation/stable/reference/html/#customizing-mappers-using-decorators\" rel=\"noreferrer\"><code>Decorators</code></a> and you will have to manually check if all the fields are empty and return <code>null</code> instead of the object.</p>\n\n<pre><code>@Mapper\n@DecoratedWith(TagMapperDecorator.class)\npublic interface TagMapper {\n    @Mappings({\n        @Mapping(target = \"id\", source = \"tagId\"),\n        @Mapping(target = \"label\", source = \"tagLabel\")\n    })\n    Tag mapToBean(TagRecord tagRecord);\n}\n\n\npublic abstract class TagMapperDecorator implements TagMapper {\n\n    private final TagMapper delegate;\n\n    public TagMapperDecorator(TagMapper delegate) {\n        this.delegate = delegate;\n    }\n\n    @Override\n    public Tag mapToBean(TagRecord tagRecord) {\n        Tag tag = delegate.mapToBean( tagRecord);\n\n        if (tag != null &amp;&amp; tag.getId() == null &amp;&amp; tag.getLabel() == null) {\n            return null;\n        } else {\n            return tag;\n        }\n    }\n}\n</code></pre>\n\n<p>The example that I have written (the constructor) is for mappers that are with the <code>default</code> component model. If you need to use Spring or a different DI framework have a look at:</p>\n\n<ul>\n<li><a href=\"http://mapstruct.org/documentation/stable/reference/html/#decorators-with-spring\" rel=\"noreferrer\">Decorators with Spring</a></li>\n<li><a href=\"http://mapstruct.org/documentation/stable/reference/html/#decorators-with-jsr-330\" rel=\"noreferrer\">Decorators with JSR 330</a></li>\n<li>If you use CDI, then you should not use <code>@DecoratedWith</code>, but you should use <a href=\"https://docs.jboss.org/cdi/spec/1.0/html/decorators.html\" rel=\"noreferrer\">CDI Decorators</a> instead</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11807070,"reputation":11,"user_id":20065272,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663883803,"creation_date":1663882725,"answer_id":73820942,"question_id":43391995,"body_markdown":"Now it is possible with, for example:\r\n\r\n    @BeanMapping(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\r\n\r\nThat affects a method, to affect a whole class use with @Mapper","title":"Mapstruct Mapping : Return null object if all source parameters properties are null","body":"<p>Now it is possible with, for example:</p>\n<pre><code>@BeanMapping(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\n</code></pre>\n<p>That affects a method, to affect a whole class use with @Mapper</p>\n"}],"owner":{"account_id":479235,"reputation":125,"user_id":891792,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11326,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":43394792,"answer_count":2,"score":7,"last_activity_date":1663883803,"creation_date":1492085475,"question_id":43391995,"body_markdown":"I want the generated mapstruct mapping method to return null if all the properties referenced in @Mapping/source are null.\r\nFor exemple, I have the following mapping : \r\n\r\n    @Mappings({\r\n          @Mapping(target = &quot;id&quot;, source = &quot;tagRecord.tagId&quot;),\r\n          @Mapping(target = &quot;label&quot;, source = &quot;tagRecord.tagLabel&quot;)\r\n    })\r\n    Tag mapToBean(TagRecord tagRecord);\r\n\r\nThe generated method is then : \r\n\r\n    public Tag mapToBean(TagRecord tagRecord) {\r\n        if ( tagRecord == null ) {\r\n            return null;\r\n        }\r\n    \r\n        Tag tag_ = new Tag();\r\n    \r\n        if ( tagRecord.getTagId() != null ) {\r\n            tag_.setId( tagRecord.getTagId() );\r\n        }\r\n        if ( tagRecord.getTagLabel() != null ) {\r\n            tag_.setLabel( tagRecord.getTagLabel() );\r\n        }\r\n    \r\n        return tag_;\r\n    }\r\n\r\nTest case : TagRecord object is not null but has tagId==null and tagLibelle==null.\r\n\r\nCurrent behaviour : the returned Tag object is not null, but has tagId==null and tagLibelle==null\r\n\r\nWhat I actually want the generated method to do is return a null Tag object if (tagRecord.getTagId() == null &amp;&amp; tagRecord.getTagLabel() == null).\r\nIs it possible and how can I achieve this?","title":"Mapstruct Mapping : Return null object if all source parameters properties are null","body":"<p>I want the generated mapstruct mapping method to return null if all the properties referenced in @Mapping/source are null.\nFor exemple, I have the following mapping : </p>\n\n<pre><code>@Mappings({\n      @Mapping(target = \"id\", source = \"tagRecord.tagId\"),\n      @Mapping(target = \"label\", source = \"tagRecord.tagLabel\")\n})\nTag mapToBean(TagRecord tagRecord);\n</code></pre>\n\n<p>The generated method is then : </p>\n\n<pre><code>public Tag mapToBean(TagRecord tagRecord) {\n    if ( tagRecord == null ) {\n        return null;\n    }\n\n    Tag tag_ = new Tag();\n\n    if ( tagRecord.getTagId() != null ) {\n        tag_.setId( tagRecord.getTagId() );\n    }\n    if ( tagRecord.getTagLabel() != null ) {\n        tag_.setLabel( tagRecord.getTagLabel() );\n    }\n\n    return tag_;\n}\n</code></pre>\n\n<p>Test case : TagRecord object is not null but has tagId==null and tagLibelle==null.</p>\n\n<p>Current behaviour : the returned Tag object is not null, but has tagId==null and tagLibelle==null</p>\n\n<p>What I actually want the generated method to do is return a null Tag object if (tagRecord.getTagId() == null &amp;&amp; tagRecord.getTagLabel() == null).\nIs it possible and how can I achieve this?</p>\n"},{"tags":["java","windows","power-saving"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1663886896,"post_id":73821048,"comment_id":130351312,"body_markdown":"Firstly I would suspect something other than power saving could be the cause of the dropped connection. But if you&#39;re right, then there&#39;s nothing practicable you can do about it","body":"Firstly I would suspect something other than power saving could be the cause of the dropped connection. But if you&#39;re right, then there&#39;s nothing practicable you can do about it"},{"owner":{"account_id":303463,"reputation":2165,"user_id":612418,"accept_rate":41,"display_name":"Kai"},"score":0,"creation_date":1664000165,"post_id":73821048,"comment_id":130375758,"body_markdown":"It is the only pattern. It is also verified with Wireshark, that at the time when the computer goes into a lower state the whole communication drops. I kept my computer running during a work day and there was no hiccup for half a day. I have a break at dinner time and come back later, enter my password and its gone.","body":"It is the only pattern. It is also verified with Wireshark, that at the time when the computer goes into a lower state the whole communication drops. I kept my computer running during a work day and there was no hiccup for half a day. I have a break at dinner time and come back later, enter my password and its gone."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664006679,"post_id":73821048,"comment_id":130376569,"body_markdown":"Some NIC drivers *do* have a power-saving mode. But my point remains that you can&#39;t affect that with Java. Could be doable with settings if you&#39;re lucky.","body":"Some NIC drivers <i>do</i> have a power-saving mode. But my point remains that you can&#39;t affect that with Java. Could be doable with settings if you&#39;re lucky."},{"owner":{"account_id":303463,"reputation":2165,"user_id":612418,"accept_rate":41,"display_name":"Kai"},"score":0,"creation_date":1664149754,"post_id":73821048,"comment_id":130398858,"body_markdown":"But it can be done. Apps like VLC, Chrome can stop screensaver, power state drop when videos are running. If they can do it, there must be a system call that we could do using JNI.","body":"But it can be done. Apps like VLC, Chrome can stop screensaver, power state drop when videos are running. If they can do it, there must be a system call that we could do using JNI."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664163775,"post_id":73821048,"comment_id":130400461,"body_markdown":"Yes if you resort to native code it could be possible","body":"Yes if you resort to native code it could be possible"}],"owner":{"account_id":303463,"reputation":2165,"user_id":612418,"accept_rate":41,"display_name":"Kai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1663883704,"creation_date":1663883704,"question_id":73821048,"body_markdown":"I wrote a small application that is mostly listening to a message feed on a TCP connection. This application suffers from a connection drop (and so missing important messages) whenever the PC goes into energy saving mode - not sure what level, but the somewhere between screen turn off and before standby. Anyway, my question is, how would I programmatically prevent a windows host from entering a lower level while the application runs - or how can I protect the TCP connection from being dropped?\r\n","title":"How can I prevent Windows OS from entering any energy saving mode while my Java application runs?","body":"<p>I wrote a small application that is mostly listening to a message feed on a TCP connection. This application suffers from a connection drop (and so missing important messages) whenever the PC goes into energy saving mode - not sure what level, but the somewhere between screen turn off and before standby. Anyway, my question is, how would I programmatically prevent a windows host from entering a lower level while the application runs - or how can I protect the TCP connection from being dropped?</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1663883686,"post_id":73820908,"comment_id":130350776,"body_markdown":"You ignored the Javadoc on [`ExecutorService`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html) interface which includes a complete boilerplate method `shutdownAndAwaitTermination` for gracefully shutting down your executor service.","body":"You ignored the Javadoc on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> interface which includes a complete boilerplate method <code>shutdownAndAwaitTermination</code> for gracefully shutting down your executor service."}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663882959,"creation_date":1663882959,"answer_id":73820964,"question_id":73820908,"body_markdown":"You need to shutdown the ExecutorService\r\n```\r\nexecutorService.shutdown();\r\n```","title":"java.util.concurrent.Future.get() method gets stuck and program doesn&#39;t terminate","body":"<p>You need to shutdown the ExecutorService</p>\n<pre><code>executorService.shutdown();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663883003,"creation_date":1663883003,"answer_id":73820967,"question_id":73820908,"body_markdown":"It&#39;s &quot;stuck&quot; because you never shut down the executor.  By design, the executor is going to be alive and wait for new work to come in. Because no work is going to come in, [the executor will persist until...well...indefinitely](https://www.baeldung.com/java-executor-service-tutorial#shutting).\r\n\r\n&gt; In general, the `ExecutorService` will not be automatically destroyed when there is no task to process. It will stay alive and wait for new work to do.\r\n&gt;\r\n&gt; ...[O]n the other hand, an app could reach its end but not be stopped because a waiting `ExecutorService` will cause the JVM to keep running.\r\n\r\nSo, let&#39;s shut it down, shall we?\r\n\r\n```\r\n// At the tail end of your try-catch\r\n} finally {\r\n    executorService.shutdown();\r\n}","title":"java.util.concurrent.Future.get() method gets stuck and program doesn&#39;t terminate","body":"<p>It's &quot;stuck&quot; because you never shut down the executor.  By design, the executor is going to be alive and wait for new work to come in. Because no work is going to come in, <a href=\"https://www.baeldung.com/java-executor-service-tutorial#shutting\" rel=\"nofollow noreferrer\">the executor will persist until...well...indefinitely</a>.</p>\n<blockquote>\n<p>In general, the <code>ExecutorService</code> will not be automatically destroyed when there is no task to process. It will stay alive and wait for new work to do.</p>\n<p>...[O]n the other hand, an app could reach its end but not be stopped because a waiting <code>ExecutorService</code> will cause the JVM to keep running.</p>\n</blockquote>\n<p>So, let's shut it down, shall we?</p>\n<pre><code>// At the tail end of your try-catch\n} finally {\n    executorService.shutdown();\n}\n</code></pre>\n"}],"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664041554,"answer_count":2,"score":0,"last_activity_date":1663883003,"creation_date":1663882424,"question_id":73820908,"body_markdown":"I was trying to follow a Java Concurrency tutorial. When I run this program, it gets stuck. Can someone help me understand why?\r\n\r\n```\r\npublic class App \r\n{\r\n    public static void main( String[] args ) {\r\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n        // Submit a task and accept the placeholder object for return value\r\n        Future&lt;Integer&gt; future = executorService.submit(new Task());\r\n\r\n        try {\r\n            Integer result = future.get();\r\n            System.out.println(&quot;Result from the task is: &quot; + result);\r\n        } catch (InterruptedException | ExecutionException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    static class Task implements Callable&lt;Integer&gt; {\r\n        @Override\r\n        public Integer call() {\r\n            return new Random().nextInt();\r\n        }\r\n    }\r\n}\r\n```","title":"java.util.concurrent.Future.get() method gets stuck and program doesn&#39;t terminate","body":"<p>I was trying to follow a Java Concurrency tutorial. When I run this program, it gets stuck. Can someone help me understand why?</p>\n<pre><code>public class App \n{\n    public static void main( String[] args ) {\n        ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n        // Submit a task and accept the placeholder object for return value\n        Future&lt;Integer&gt; future = executorService.submit(new Task());\n\n        try {\n            Integer result = future.get();\n            System.out.println(&quot;Result from the task is: &quot; + result);\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n\n    static class Task implements Callable&lt;Integer&gt; {\n        @Override\n        public Integer call() {\n            return new Random().nextInt();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1663881663,"post_id":73820792,"comment_id":130350300,"body_markdown":"`existsHigher([3,2], 5);`? Where did you take that syntax from?","body":"<code>existsHigher([3,2], 5);</code>? Where did you take that syntax from?"},{"owner":{"account_id":26416899,"reputation":15,"user_id":20065173,"display_name":"Noname"},"score":0,"creation_date":1663881710,"post_id":73820792,"comment_id":130350314,"body_markdown":"Inputed it myself trying to test it.","body":"Inputed it myself trying to test it."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":2,"creation_date":1663881717,"post_id":73820792,"comment_id":130350318,"body_markdown":"try `existsHigher(new int[]{3, 2}, 5)`. `[3,2]` is not how you instantiate an array in java.There are however more issues in your code.","body":"try <code>existsHigher(new int[]{3, 2}, 5)</code>. <code>[3,2]</code> is not how you instantiate an array in java.There are however more issues in your code."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663882711,"creation_date":1663882711,"answer_id":73820940,"question_id":73820792,"body_markdown":"You should go back and start with basic Java syntax. You&#39;ll need to use correct syntax otherwise your programs won&#39;t run. It&#39;s as simple as that. And there&#39;s no guessing, only strict rules. So if you&#39;re uncertain google, or read a book.\r\n\r\n```java\r\n// instantiate array\r\nvar array = new int[]{3, 2};\r\n```\r\n\r\nAlso please adhere to Java conventions: Class names should start with an uppercase letter, so `Test`, not `test`. Also here: go back to the basics this will be explained in every Java related beginner article.\r\n\r\nAnother thing: This creates a new array `b` of length `i`, but you want to get the `i`th value of the array `a`.\r\n```java\r\nint[] b = new int[i];\r\n```\r\nTherefore use the following:\r\n```java\r\nint b = a[i]\r\n```\r\n&gt; Try to give your variable meaningful names that describe their purpose, `a` and `b` are bad variable names.\r\n\r\nYour logic also seems to be off given the method name `existsHigher()`. Here a working example for you to have a comparison:\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        System.out.println(existsHigher(new int[]{3, 2}, 5));\r\n        System.out.println(existsHigher(new int[]{3, 7}, 5));\r\n    }\r\n\r\n    public static boolean existsHigher(int[] a, int n) {\r\n        for(int i = 0; i &lt; a.length; i++) {\r\n            int b = a[i];\r\n            if(b &gt; n) return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\nExpected output:\r\n```\r\nfalse\r\ntrue\r\n```\r\nHappy Coding :)\r\n\r\n&gt; Please note: An advanced Java programmer would write this logic probably completely different, but you should not worry about that right now, focus on the basic language constructs and on writing syntactically correct programs. ","title":"Method that checks if an array value is greater than a user-inputed value","body":"<p>You should go back and start with basic Java syntax. You'll need to use correct syntax otherwise your programs won't run. It's as simple as that. And there's no guessing, only strict rules. So if you're uncertain google, or read a book.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// instantiate array\nvar array = new int[]{3, 2};\n</code></pre>\n<p>Also please adhere to Java conventions: Class names should start with an uppercase letter, so <code>Test</code>, not <code>test</code>. Also here: go back to the basics this will be explained in every Java related beginner article.</p>\n<p>Another thing: This creates a new array <code>b</code> of length <code>i</code>, but you want to get the <code>i</code>th value of the array <code>a</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] b = new int[i];\n</code></pre>\n<p>Therefore use the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int b = a[i]\n</code></pre>\n<blockquote>\n<p>Try to give your variable meaningful names that describe their purpose, <code>a</code> and <code>b</code> are bad variable names.</p>\n</blockquote>\n<p>Your logic also seems to be off given the method name <code>existsHigher()</code>. Here a working example for you to have a comparison:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) {\n        System.out.println(existsHigher(new int[]{3, 2}, 5));\n        System.out.println(existsHigher(new int[]{3, 7}, 5));\n    }\n\n    public static boolean existsHigher(int[] a, int n) {\n        for(int i = 0; i &lt; a.length; i++) {\n            int b = a[i];\n            if(b &gt; n) return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>false\ntrue\n</code></pre>\n<p>Happy Coding :)</p>\n<blockquote>\n<p>Please note: An advanced Java programmer would write this logic probably completely different, but you should not worry about that right now, focus on the basic language constructs and on writing syntactically correct programs.</p>\n</blockquote>\n"}],"owner":{"account_id":26416899,"reputation":15,"user_id":20065173,"display_name":"Noname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73820940,"answer_count":1,"score":-2,"last_activity_date":1663882711,"creation_date":1663881614,"question_id":73820792,"body_markdown":"\r\nWhen i try to check if the method i coded is correct or wrong,this error outputs:\r\n\t\r\n&quot;The method existsHigher(int[], int) in the type TBA is not applicable for the arguments (int, int, int)&quot;\r\n\r\nI&#39;m having a hard time figuring what is wrong here.\r\n\r\n\r\n\r\n------------------------------------------------------------------------------------------------\r\npublic class test{\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\texistsHigher([3,2], 5);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static boolean existsHigher (int[]a, int n) {\r\n\t\tboolean isHigher = false;\r\n\t\r\n\t\tfor(int i = 0; i &lt; a.length; i++) {\r\n\t\t\t int[] b = new int[i];\r\n\t\t\r\n\t\t\t if(b[i] &lt; n) {\r\n\t\t\t\r\n\t\t\treturn isHigher;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\t\r\n","title":"Method that checks if an array value is greater than a user-inputed value","body":"<p>When i try to check if the method i coded is correct or wrong,this error outputs:</p>\n<p>&quot;The method existsHigher(int[], int) in the type TBA is not applicable for the arguments (int, int, int)&quot;</p>\n<p>I'm having a hard time figuring what is wrong here.</p>\n<hr />\n<p>public class test{</p>\n<pre><code>public static void main(String[] args) {\n    existsHigher([3,2], 5);\n    \n    \n}\n\npublic static boolean existsHigher (int[]a, int n) {\n    boolean isHigher = false;\n\n    for(int i = 0; i &lt; a.length; i++) {\n         int[] b = new int[i];\n    \n         if(b[i] &lt; n) {\n        \n        return isHigher;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","http","request","http-post","httpsurlconnection"],"comments":[{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":1,"creation_date":1550055361,"post_id":54594316,"comment_id":96127004,"body_markdown":"I believe this question was answered here:\nhttps://stackoverflow.com/questions/4205980/java-sending-http-parameters-via-post-method-easily","body":"I believe this question was answered here: <a href=\"https://stackoverflow.com/questions/4205980/java-sending-http-parameters-via-post-method-easily\" title=\"java sending http parameters via post method easily\">stackoverflow.com/questions/4205980/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1550056930,"creation_date":1550056930,"answer_id":54669003,"question_id":54594316,"body_markdown":"I order to solve the issue I have created a Map reference to a HashMap object on which I have stored in the keys the parameters and in the values the values for those parameters. \r\n\r\nAfter that I have created a method that will return a String object containing the encoded paramters to be used for a POST request.\r\n\r\n    private String getOutput(Map&lt;String, String&gt; hm) throws UnsupportedEncodingException {\r\n    \t\r\n    \t   String out = &quot;&quot;;\r\n    \t   boolean start = true;\r\n    \t   \r\n    \t   for(Map.Entry&lt;String, String&gt; h : hm.entrySet()){\r\n    \t\t   if(start){\r\n    \t\t\t  \r\n    \t\t\t   start=false;\r\n    \t\t\t   out+=URLEncoder.encode(h.getKey(),  &quot;UTF-8&quot;);\r\n    \t\t   \t   out+=&quot;=&quot;;\r\n    \t\t   \t   out+=URLEncoder.encode(h.getValue(), &quot;UTF-8&quot;);\r\n    \t\t   }\r\n    \t\t\t  \r\n    \t\t   \r\n    \t\t   else{\r\n    \t\t\t   out += &quot;&amp;&quot;;\r\n    \t\t\t   out+=URLEncoder.encode(h.getKey(),  &quot;UTF-8&quot;);\r\n    \t\t   \t   out+=&quot;=&quot;;\r\n    \t\t   \t   out+=URLEncoder.encode(h.getValue(), &quot;UTF-8&quot;);\r\n    \t\t   }\r\n    \t\t\t  \r\n    \t   }\r\n\r\nAll of the above were used in an output stream in order to send them to the server.\r\n\r\n      out = new BufferedWriter(\r\n\t\t    \t\t  new OutputStreamWriter(connection.getOutputStream())\r\n\t\t    \t\t  );\r\n\t\t\t  out.write(getOutput(hm));\r\n\t\t\t\r\n\t\t\t  out.close();\r\n\r\n  ","title":"Https authentification with parameters","body":"<p>I order to solve the issue I have created a Map reference to a HashMap object on which I have stored in the keys the parameters and in the values the values for those parameters. </p>\n\n<p>After that I have created a method that will return a String object containing the encoded paramters to be used for a POST request.</p>\n\n<pre><code>private String getOutput(Map&lt;String, String&gt; hm) throws UnsupportedEncodingException {\n\n       String out = \"\";\n       boolean start = true;\n\n       for(Map.Entry&lt;String, String&gt; h : hm.entrySet()){\n           if(start){\n\n               start=false;\n               out+=URLEncoder.encode(h.getKey(),  \"UTF-8\");\n               out+=\"=\";\n               out+=URLEncoder.encode(h.getValue(), \"UTF-8\");\n           }\n\n\n           else{\n               out += \"&amp;\";\n               out+=URLEncoder.encode(h.getKey(),  \"UTF-8\");\n               out+=\"=\";\n               out+=URLEncoder.encode(h.getValue(), \"UTF-8\");\n           }\n\n       }\n</code></pre>\n\n<p>All of the above were used in an output stream in order to send them to the server.</p>\n\n<pre><code>  out = new BufferedWriter(\n                  new OutputStreamWriter(connection.getOutputStream())\n                  );\n          out.write(getOutput(hm));\n\n          out.close();\n</code></pre>\n"}],"owner":{"account_id":4421843,"reputation":564,"user_id":3601527,"accept_rate":84,"display_name":"SocketM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54669003,"answer_count":1,"score":0,"last_activity_date":1663881544,"creation_date":1549635409,"question_id":54594316,"body_markdown":"I&#39;m using an HttpsURLConnection to connect to an application. Everything is fine until I&#39;m trying to use parameters (like username and password) in the request due to the fact that on server side null values are mapped to parameters.\r\n\r\n \r\n\r\n         HttpsURLConnection connection = (HttpsURLConnection)url.openConnection();\r\n    \t   \r\n    \t     connection.addRequestProperty(&quot;password&quot;, &quot;xxxx&quot;);\r\n    \t     connection.addRequestProperty(&quot;username&quot;, &quot;aaaaaa&quot;);\r\n    \t     connection.addRequestProperty(&quot;eventId&quot;,&quot;btnLogin&quot;);\r\n    \t     \r\n    \t     connection.setRequestMethod(&quot;POST&quot;); //$NON-NLS-1$\r\n    \t     connection.setDoOutput(true);\r\n    \t     connection.setDoInput(true);\r\n    \t     connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \t     connection.setRequestProperty( &quot;Accept&quot;, &quot;*/*&quot; );\r\n    \t\t\r\n    \t\r\n    \t     \r\n    \t     BufferedReader in = new BufferedReader(\r\n                     new InputStreamReader(\r\n                     connection.getInputStream()));\r\n    String decodedString;\r\n    while ((decodedString = in.readLine()) != null) {\r\n    System.out.println(decodedString);\r\n    }\r\n\r\nI mention that HttpsURLConnection works and the initial login page is retrieved via HttpsUrlConnection. \r\n\r\nHow can I send successfully the parameters on the server side via a POST request?\r\n\r\n ","title":"Https authentification with parameters","body":"<p>I'm using an HttpsURLConnection to connect to an application. Everything is fine until I'm trying to use parameters (like username and password) in the request due to the fact that on server side null values are mapped to parameters.</p>\n<pre><code>     HttpsURLConnection connection = (HttpsURLConnection)url.openConnection();\n       \n         connection.addRequestProperty(&quot;password&quot;, &quot;xxxx&quot;);\n         connection.addRequestProperty(&quot;username&quot;, &quot;aaaaaa&quot;);\n         connection.addRequestProperty(&quot;eventId&quot;,&quot;btnLogin&quot;);\n         \n         connection.setRequestMethod(&quot;POST&quot;); //$NON-NLS-1$\n         connection.setDoOutput(true);\n         connection.setDoInput(true);\n         connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n         connection.setRequestProperty( &quot;Accept&quot;, &quot;*/*&quot; );\n        \n    \n         \n         BufferedReader in = new BufferedReader(\n                 new InputStreamReader(\n                 connection.getInputStream()));\nString decodedString;\nwhile ((decodedString = in.readLine()) != null) {\nSystem.out.println(decodedString);\n}\n</code></pre>\n<p>I mention that HttpsURLConnection works and the initial login page is retrieved via HttpsUrlConnection.</p>\n<p>How can I send successfully the parameters on the server side via a POST request?</p>\n"},{"tags":["java","lstm","dl4j"],"comments":[{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1480464196,"post_id":40877938,"comment_id":68971044,"body_markdown":"I don&#39;t want to provide this as the answer, but will respond with this as a comment:\nFor an indepth question like this we have our support chat channel:\nhttps://gitter.im/deeplearning4j/deeplearning4j\n\n\nIt is hard for us to support every possible use case people have.\nWe also have our oreilly book if you are new to deep learning:\nhttp://shop.oreilly.com/product/0636920035343.do","body":"I don&#39;t want to provide this as the answer, but will respond with this as a comment: For an indepth question like this we have our support chat channel: <a href=\"https://gitter.im/deeplearning4j/deeplearning4j\" rel=\"nofollow noreferrer\">gitter.im/deeplearning4j/deeplearning4j</a>   It is hard for us to support every possible use case people have. We also have our oreilly book if you are new to deep learning: <a href=\"http://shop.oreilly.com/product/0636920035343.do\" rel=\"nofollow noreferrer\">shop.oreilly.com/product/0636920035343.do</a>"}],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480464364,"creation_date":1480464364,"answer_id":40878040,"question_id":40877938,"body_markdown":"We have plenty of documentation this actually. This gives you a layout of what an RNN looks like:\r\nhttp://deeplearning4j.org/usingrnns\r\n\r\n\r\nThe model you would be looking at is character level, in general what you want is question answering though. You may want to look at an architecture like this: https://cs.umd.edu/~miyyer/pubs/2014_qb_rnn.pdf\r\n\r\nIf you are completely new to NLP, I would look at this class:\r\nhttps://www.youtube.com/playlist?list=PLhVhwi0Pz282aSA2uZX4jR3SkF3BKyMOK\r\n\r\nIt covers question answering as well.","title":"deeplearning4j generate response to input","body":"<p>We have plenty of documentation this actually. This gives you a layout of what an RNN looks like:\n<a href=\"http://deeplearning4j.org/usingrnns\" rel=\"nofollow noreferrer\">http://deeplearning4j.org/usingrnns</a></p>\n\n<p>The model you would be looking at is character level, in general what you want is question answering though. You may want to look at an architecture like this: <a href=\"https://cs.umd.edu/~miyyer/pubs/2014_qb_rnn.pdf\" rel=\"nofollow noreferrer\">https://cs.umd.edu/~miyyer/pubs/2014_qb_rnn.pdf</a></p>\n\n<p>If you are completely new to NLP, I would look at this class:\n<a href=\"https://www.youtube.com/playlist?list=PLhVhwi0Pz282aSA2uZX4jR3SkF3BKyMOK\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PLhVhwi0Pz282aSA2uZX4jR3SkF3BKyMOK</a></p>\n\n<p>It covers question answering as well.</p>\n"}],"owner":{"account_id":8673175,"reputation":149,"user_id":6491399,"accept_rate":100,"display_name":"Drok_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40878040,"answer_count":1,"score":0,"last_activity_date":1663881271,"creation_date":1480463718,"question_id":40877938,"body_markdown":"I have recently been trying to learn DL4J but have run into some issues. They have an example of a neural network generating Shakespeare-like text based off and input character but I can&#39;t seem to find anything that wold indicate a possible way of creating a response to an input statement.\r\n\r\nI would like to use an input string such as &quot;Hello&quot;  and have it be able to generate a response of varying length depended on the input.  I would like to know if this is possible using LSTM and have a point in the right direction as I have no idea where to even start.","title":"deeplearning4j generate response to input","body":"<p>I have recently been trying to learn DL4J but have run into some issues. They have an example of a neural network generating Shakespeare-like text based off and input character but I can't seem to find anything that wold indicate a possible way of creating a response to an input statement.</p>\n<p>I would like to use an input string such as &quot;Hello&quot;  and have it be able to generate a response of varying length depended on the input.  I would like to know if this is possible using LSTM and have a point in the right direction as I have no idea where to even start.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1663880525,"post_id":73820618,"comment_id":130350015,"body_markdown":"Your code is broken: a getter method should do just that, get a property result ***and return it***. So your `getAge()` method should simply return the age value and do nothing more. Then the calling code can print the result. Human&#39;s `getAge()` could be, `return age;` and Aman&#39;s `getAge()` could simply be: `return super.getAge() - 1;`","body":"Your code is broken: a getter method should do just that, get a property result <b><i>and return it</i></b>. So your <code>getAge()</code> method should simply return the age value and do nothing more. Then the calling code can print the result. Human&#39;s <code>getAge()</code> could be, <code>return age;</code> and Aman&#39;s <code>getAge()</code> could simply be: <code>return super.getAge() - 1;</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1663881035,"post_id":73820618,"comment_id":130350142,"body_markdown":"BTW you mostly never need to use `new String(String)` - for example, `return &quot;Human&#39;s age is &quot;+(this.age);` will already create the string","body":"BTW you mostly never need to use <code>new String(String)</code> - for example, <code>return &quot;Human&#39;s age is &quot;+(this.age);</code> will already create the string"},{"owner":{"account_id":9928590,"reputation":3,"user_id":7349335,"display_name":"Aman Malakar"},"score":0,"creation_date":1663881209,"post_id":73820618,"comment_id":130350188,"body_markdown":"@HovercraftFullOfEels thanks for your suggestion. I made the changes as suggested by you, but sorry to say, my code still prints the same age values for both Human and Aman. Am stuck here.","body":"@HovercraftFullOfEels thanks for your suggestion. I made the changes as suggested by you, but sorry to say, my code still prints the same age values for both Human and Aman. Am stuck here."},{"owner":{"account_id":9928590,"reputation":3,"user_id":7349335,"display_name":"Aman Malakar"},"score":0,"creation_date":1663881440,"post_id":73820618,"comment_id":130350239,"body_markdown":"@user16320675 sure. Will try to avoid `new String(String)` . Just another question, doesn&#39;t the Java Compiler internally convert all `String s = &quot;abcd&quot;` to `String s = &quot;abcd&quot;.intern()` ? If yes, isn&#39;t there any performance loss with using the above syntax?","body":"@user16320675 sure. Will try to avoid <code>new String(String)</code> . Just another question, doesn&#39;t the Java Compiler internally convert all <code>String s = &quot;abcd&quot;</code> to <code>String s = &quot;abcd&quot;.intern()</code> ? If yes, isn&#39;t there any performance loss with using the above syntax?"},{"owner":{"account_id":9928590,"reputation":3,"user_id":7349335,"display_name":"Aman Malakar"},"score":0,"creation_date":1663881715,"post_id":73820618,"comment_id":130350317,"body_markdown":"@user16320675 thanks for clarifying my doubts. I really appreciate your help. Closing this thread now.","body":"@user16320675 thanks for clarifying my doubts. I really appreciate your help. Closing this thread now."}],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663880917,"creation_date":1663880917,"answer_id":73820686,"question_id":73820618,"body_markdown":"The `super.getAge()` syntax is only available within subclasses. So you could do the following:\r\n\r\n```\r\nclass Aman extends Human {\r\n    public Aman(int age) {\r\n        super(age);\r\n    }\r\n    \r\n    public String getAge() {\r\n        return new String(&quot;Aman&#39;s age is &quot;+(this.age-1));\r\n    }\r\n    \r\n    public String getHumanAge() {\r\n        return super.getAge();\r\n    }\r\n}\r\n```\r\n\r\nThe reason for this is that it would break encapsulation if you could just overgo the implementation of the child class by using something like `obj.super.getAge()` from outside the class of the `obj` instance.","title":"Is it possible to invoke Parent class method from Child class object in Java?","body":"<p>The <code>super.getAge()</code> syntax is only available within subclasses. So you could do the following:</p>\n<pre><code>class Aman extends Human {\n    public Aman(int age) {\n        super(age);\n    }\n    \n    public String getAge() {\n        return new String(&quot;Aman's age is &quot;+(this.age-1));\n    }\n    \n    public String getHumanAge() {\n        return super.getAge();\n    }\n}\n</code></pre>\n<p>The reason for this is that it would break encapsulation if you could just overgo the implementation of the child class by using something like <code>obj.super.getAge()</code> from outside the class of the <code>obj</code> instance.</p>\n"}],"owner":{"account_id":9928590,"reputation":3,"user_id":7349335,"display_name":"Aman Malakar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663881393,"accepted_answer_id":73820686,"answer_count":1,"score":0,"last_activity_date":1663880917,"creation_date":1663880431,"question_id":73820618,"body_markdown":"How do I invoke a Parent class method from Child class object in Java?\r\n\r\nFrom what I know, Child class object should invoke it&#39;s own implementation of any Parent class method that it has overridden, but what if I need to call the Parent&#39;s method implementation using the Child object reference? Does Java even support this?\r\n\r\n**Sample code for explanation:**\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tHuman obj = new Aman(21);\r\n    \t\tAman obj2 = new Aman(21);\r\n    \t\tSystem.out.println(obj.getAge()); //prints 20\r\n    \t\tSystem.out.println(obj2.getAge()); //also prints 20\r\n    \t\tSystem.out.println(obj.super.getAge()); //error here\r\n    \t\t//how to invoke Human&#39;s getAge() method?\r\n    \t}\r\n    }\r\n    \r\n    class Human {\r\n        int age;\r\n        public Human(int age) {\r\n            this.age = age;\r\n        }\r\n        \r\n        public String getAge() {\r\n            return new String(&quot;Human&#39;s age is &quot;+(this.age));\r\n        }\r\n    }\r\n    \r\n    class Aman extends Human {\r\n        public Aman(int age) {\r\n            super(age);\r\n        }\r\n        \r\n        public String getAge() {\r\n            return new String(&quot;Aman&#39;s age is &quot;+(this.age-1));\r\n        }\r\n    }\r\n\r\nHow do I get my code to print: &quot;Human&#39;s age is 21&quot;?","title":"Is it possible to invoke Parent class method from Child class object in Java?","body":"<p>How do I invoke a Parent class method from Child class object in Java?</p>\n<p>From what I know, Child class object should invoke it's own implementation of any Parent class method that it has overridden, but what if I need to call the Parent's method implementation using the Child object reference? Does Java even support this?</p>\n<p><strong>Sample code for explanation:</strong></p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        Human obj = new Aman(21);\n        Aman obj2 = new Aman(21);\n        System.out.println(obj.getAge()); //prints 20\n        System.out.println(obj2.getAge()); //also prints 20\n        System.out.println(obj.super.getAge()); //error here\n        //how to invoke Human's getAge() method?\n    }\n}\n\nclass Human {\n    int age;\n    public Human(int age) {\n        this.age = age;\n    }\n    \n    public String getAge() {\n        return new String(&quot;Human's age is &quot;+(this.age));\n    }\n}\n\nclass Aman extends Human {\n    public Aman(int age) {\n        super(age);\n    }\n    \n    public String getAge() {\n        return new String(&quot;Aman's age is &quot;+(this.age-1));\n    }\n}\n</code></pre>\n<p>How do I get my code to print: &quot;Human's age is 21&quot;?</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":23244272,"reputation":64,"user_id":17333065,"display_name":"StartsMercury"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1641615932,"creation_date":1640852428,"answer_id":70529066,"question_id":70525532,"body_markdown":"[net.dv8tion.jda.api.entities.MessageChannel.getHistory()](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageChannel.html#getHistory())  \r\n[net.dv8tion.jda.api.entities.MessageHistory.getRetrievedHistory()](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageHistory.html#getRetrievedHistory())\r\n\r\n```java\r\nMessageChannel channel;\r\n\r\n// ...\r\n// Initialize &#39;channel&#39;\r\n// ...\r\n\r\nMessageHistory history = channel.getHistory();\r\nfinal List&lt;Message&gt; retrievedHistory = new ArrayList&lt;&gt;(history.getRetrievedHistory());\r\n\r\nCollections.reverse(retrievedHistory);\r\n\r\n// oldest to newest\r\nfor (Message message : retrievedHistory) {\r\n  // TODO use &#39;message&#39;\r\n}\r\n```","title":"Trying to iterate through all messages in a discord channel with JDA","body":"<p><a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageChannel.html#getHistory()\" rel=\"nofollow noreferrer\">net.dv8tion.jda.api.entities.MessageChannel.getHistory()</a><br />\n<a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageHistory.html#getRetrievedHistory()\" rel=\"nofollow noreferrer\">net.dv8tion.jda.api.entities.MessageHistory.getRetrievedHistory()</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>MessageChannel channel;\n\n// ...\n// Initialize 'channel'\n// ...\n\nMessageHistory history = channel.getHistory();\nfinal List&lt;Message&gt; retrievedHistory = new ArrayList&lt;&gt;(history.getRetrievedHistory());\n\nCollections.reverse(retrievedHistory);\n\n// oldest to newest\nfor (Message message : retrievedHistory) {\n  // TODO use 'message'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20656721,"reputation":29,"user_id":15165636,"display_name":"Ukraine1449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641523857,"creation_date":1641523857,"answer_id":70616051,"question_id":70525532,"body_markdown":"    List&lt;Message&gt; messageListRaw = (currentChannel.getHistoryFromBeginning(100).complete().getRetrievedHistory());\r\n                ArrayList&lt;Message&gt; messageList = new ArrayList&lt;Message&gt;(messageListRaw);\r\n                Collections.reverse(messageList);\r\n                for (Message message :  messageList){\r\n                    //Use for &#39;message&#39;\r\n                }","title":"Trying to iterate through all messages in a discord channel with JDA","body":"<pre><code>List&lt;Message&gt; messageListRaw = (currentChannel.getHistoryFromBeginning(100).complete().getRetrievedHistory());\n            ArrayList&lt;Message&gt; messageList = new ArrayList&lt;Message&gt;(messageListRaw);\n            Collections.reverse(messageList);\n            for (Message message :  messageList){\n                //Use for 'message'\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8403225,"reputation":311,"user_id":6307611,"display_name":"doej1367"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663880844,"creation_date":1663880844,"answer_id":73820674,"question_id":70525532,"body_markdown":"As the two other ways shown here only go through a maximum of 100 messages, here is another way to really go through &quot;all messages&quot; - in this example a maximum of 1000 - using the [`getIterableHistory()`](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageChannel.html#getIterableHistory()) function.\r\n\r\n``` lang-java\r\nList&lt;Message&gt; messageList = new ArrayList&lt;&gt;();\r\ntry {\r\n    messageList = channel.getIterableHistory().takeAsync(1000) // Collect 1000 messages\r\n            .thenApply(list -&gt; list.stream()\r\n                // use .filter() here to cut down on the amount of messages\r\n                .collect(Collectors.toList()))\r\n            .get();\r\n} catch (InterruptedException e) {\r\n    e.printStackTrace();\r\n} catch (ExecutionException e) {\r\n\te.printStackTrace();\r\n}\r\n\r\nCollections.reverse(messageList);\r\n\r\nfor (Message message : messageList) {\r\n\t// TODO use &#39;message&#39;\r\n}\r\n```","title":"Trying to iterate through all messages in a discord channel with JDA","body":"<p>As the two other ways shown here only go through a maximum of 100 messages, here is another way to really go through &quot;all messages&quot; - in this example a maximum of 1000 - using the <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/MessageChannel.html#getIterableHistory()\" rel=\"nofollow noreferrer\"><code>getIterableHistory()</code></a> function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Message&gt; messageList = new ArrayList&lt;&gt;();\ntry {\n    messageList = channel.getIterableHistory().takeAsync(1000) // Collect 1000 messages\n            .thenApply(list -&gt; list.stream()\n                // use .filter() here to cut down on the amount of messages\n                .collect(Collectors.toList()))\n            .get();\n} catch (InterruptedException e) {\n    e.printStackTrace();\n} catch (ExecutionException e) {\n    e.printStackTrace();\n}\n\nCollections.reverse(messageList);\n\nfor (Message message : messageList) {\n    // TODO use 'message'\n}\n</code></pre>\n"}],"owner":{"account_id":20656721,"reputation":29,"user_id":15165636,"display_name":"Ukraine1449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70616051,"answer_count":3,"score":0,"last_activity_date":1663880844,"creation_date":1640815777,"question_id":70525532,"body_markdown":"I want to iterate through all messages in a channel in JDA, but im not sure how to do it. I have tried to get iterableHistory but it doesnt give me anything useful I think. Ive tried going through the docs but I cant find anything useful. Im trying to get a list or an array list if possible so that each message could be added to a file.\r\n\r\n","title":"Trying to iterate through all messages in a discord channel with JDA","body":"<p>I want to iterate through all messages in a channel in JDA, but im not sure how to do it. I have tried to get iterableHistory but it doesnt give me anything useful I think. Ive tried going through the docs but I cant find anything useful. Im trying to get a list or an array list if possible so that each message could be added to a file.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":26415704,"reputation":1,"user_id":20064142,"display_name":"r17"},"score":0,"creation_date":1663871728,"post_id":73819185,"comment_id":130347500,"body_markdown":"It&#39;s because other method in completely another class returns Optional&lt;SomeClass&gt;, but in this method I need to use actual object","body":"It&#39;s because other method in completely another class returns Optional&lt;SomeClass&gt;, but in this method I need to use actual object"},{"owner":{"account_id":26415704,"reputation":1,"user_id":20064142,"display_name":"r17"},"score":0,"creation_date":1663873237,"post_id":73819185,"comment_id":130347950,"body_markdown":"I understand, but still - how can I mock behavior of `Optional.of(someclass).get()`","body":"I understand, but still - how can I mock behavior of <code>Optional.of(someclass).get()</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1663875486,"post_id":73819185,"comment_id":130348615,"body_markdown":"Why on earth would you want to mock an Optional? It&#39;s only a simple data holder. Use a real optional instance: `Optional.of(something)` and you&#39;re good. No mocking necessary and it saves a lot of headaches. Besides `Optional.of(someclass).get() == something` breaks the contract of Optional: if you wrap something in an Optional, you must get it back, not something different (someclass != something)","body":"Why on earth would you want to mock an Optional? It&#39;s only a simple data holder. Use a real optional instance: <code>Optional.of(something)</code> and you&#39;re good. No mocking necessary and it saves a lot of headaches. Besides <code>Optional.of(someclass).get() == something</code> breaks the contract of Optional: if you wrap something in an Optional, you must get it back, not something different (someclass != something)"},{"owner":{"account_id":26415704,"reputation":1,"user_id":20064142,"display_name":"r17"},"score":0,"creation_date":1663876283,"post_id":73819185,"comment_id":130348832,"body_markdown":"The issue with test is caused because of Optional - when the method was receiving normal class, there were no issues with the test, but after changing method parameter to Optional, the test fails when calling `verify()` - I&#39;m getting `Wanted but not invoked` and `Actually, there were zero interactions with this mock`. When you test program manually, everything works fine","body":"The issue with test is caused because of Optional - when the method was receiving normal class, there were no issues with the test, but after changing method parameter to Optional, the test fails when calling <code>verify()</code> - I&#39;m getting <code>Wanted but not invoked</code> and <code>Actually, there were zero interactions with this mock</code>. When you test program manually, everything works fine"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1663876421,"post_id":73819185,"comment_id":130348869,"body_markdown":"What are you verifying? That `.get()` was called? How is that going to help your test assert correct behavior of your program? Why don&#39;t you `assertEquals(&quot;expected&quot;, yourOptional.get());` at the end of your test? Can you show more of your code, with the little context you provide, it&#39;s difficult to give a useful answer. But my general recommendation is: don&#39;t mock data objects, it causes more harm than good. (and I&#39;ve seen really bad code mocking `List`s, `Map`s, or `CompletableFuture`s, basically reimplementing them)","body":"What are you verifying? That <code>.get()</code> was called? How is that going to help your test assert correct behavior of your program? Why don&#39;t you <code>assertEquals(&quot;expected&quot;, yourOptional.get());</code> at the end of your test? Can you show more of your code, with the little context you provide, it&#39;s difficult to give a useful answer. But my general recommendation is: don&#39;t mock data objects, it causes more harm than good. (and I&#39;ve seen really bad code mocking <code>List</code>s, <code>Map</code>s, or <code>CompletableFuture</code>s, basically reimplementing them)"},{"owner":{"account_id":26415704,"reputation":1,"user_id":20064142,"display_name":"r17"},"score":0,"creation_date":1663878159,"post_id":73819185,"comment_id":130349343,"body_markdown":"This is test code - it fails last verification\n`@Test\n\tpublic void shouldAlwaysCreteModelTest()\n\t{\n\n\t\twhen(objectsService.findExistingModel(importDto.getCode(), importDto.getName()))\n\t\t\t\t.thenReturn(\n\t\t\t\tOptional.of(model));\n\t\twhen(modelService.create(ToCreateModel.class)).thenReturn(model);\n\n\t\tfinal ToCreateModel result = createObjects.retrieveOrCreateModel(importDto);\n\n\t\tassertNotNull(&quot;result should not be null&quot;, result);\n\t\tassertEquals(&quot;Should create ToCreateModel&quot;, model, result);\n\t\tverify(modelService).create(eq(ToCreateModel.class));\n\t}\n}`","body":"This is test code - it fails last verification <code>@Test \tpublic void shouldAlwaysCreteModelTest() \t{  \t\twhen(objectsService.findExistingModel(importDto.getCode(), importDto.getName())) \t\t\t\t.thenReturn( \t\t\t\tOptional.of(model)); \t\twhen(modelService.create(ToCreateModel.class)).thenReturn(&zwnj;&#8203;model);  \t\tfinal ToCreateModel result = createObjects.retrieveOrCreateModel(importDto);  \t\tassertNotNull(&quot;result should not be null&quot;, result); \t\tassertEquals(&quot;Should create ToCreateModel&quot;, model, result); \t\tverify(modelService).create(eq(ToCreateModel.class)); \t} }</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1663878495,"post_id":73819185,"comment_id":130349453,"body_markdown":"Please edit your question to include all the necessary details. Comments are impossible to read and can get deleted. But my guess would be `eq(Optional.of(ToCreateModel.class))` (but I can only guess. You have yet to show the error message)","body":"Please edit your question to include all the necessary details. Comments are impossible to read and can get deleted. But my guess would be <code>eq(Optional.of(ToCreateModel.class))</code> (but I can only guess. You have yet to show the error message)"}],"owner":{"account_id":26415704,"reputation":1,"user_id":20064142,"display_name":"r17"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1663879214,"answer_count":0,"score":0,"last_activity_date":1663880536,"creation_date":1663871131,"question_id":73819185,"body_markdown":"I have a problem with Mockito - I have following code example\r\n\r\n         @Mock\r\n     private SomeClass someclass\r\n    \r\n    ........\r\n    \r\n    when(Optional.of(someclass).get()).thenReturn(something) \r\n\r\n\r\nIt doesn&#39;t work, as i&#39;m getting MissingMethodinvocationException. When i tried to mock the Optional\r\n`@Mock\r\nprivate Optional&lt;SomeClass&gt; optional;\r\n`\r\nI&#39;m getting an error that Mockito cannot Mock or spy Optional class. How can I mock Optional.get() behavior?\r\n\r\nEDIT: test method:\r\n\r\n    @Test \r\n    public void shouldAlwaysCreteModelTest() \t\r\n    {  \t\t\r\n    when(objectsService.findExistingModel(importDto.getCode(), importDto.getName())).thenReturn(Optional.of(model));\r\n     \r\n    when(modelService.create(ToCreateModel.class)).thenReturn(model);  \r\n    \t\t\r\n    final ToCreateModel result = createObjects.retrieveOrCreateModel(importDto); \r\n     \t\r\n    assertNotNull(&quot;result should not be null&quot;, result); \r\n    assertEquals(&quot;Should create ToCreateModel&quot;, model, result);\r\n    verify(modelService).create(eq(ToCreateModel.class)); \r\n    }\r\n    }","title":"Mockito - how to mock Optional().get?","body":"<p>I have a problem with Mockito - I have following code example</p>\n<pre><code>     @Mock\n private SomeClass someclass\n\n........\n\nwhen(Optional.of(someclass).get()).thenReturn(something) \n</code></pre>\n<p>It doesn't work, as i'm getting MissingMethodinvocationException. When i tried to mock the Optional\n<code>@Mock private Optional&lt;SomeClass&gt; optional; </code>\nI'm getting an error that Mockito cannot Mock or spy Optional class. How can I mock Optional.get() behavior?</p>\n<p>EDIT: test method:</p>\n<pre><code>@Test \npublic void shouldAlwaysCreteModelTest()    \n{       \nwhen(objectsService.findExistingModel(importDto.getCode(), importDto.getName())).thenReturn(Optional.of(model));\n \nwhen(modelService.create(ToCreateModel.class)).thenReturn(model);  \n        \nfinal ToCreateModel result = createObjects.retrieveOrCreateModel(importDto); \n    \nassertNotNull(&quot;result should not be null&quot;, result); \nassertEquals(&quot;Should create ToCreateModel&quot;, model, result);\nverify(modelService).create(eq(ToCreateModel.class)); \n}\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":11748654,"reputation":132,"user_id":8778049,"display_name":"Shoumik Hoque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663855750,"creation_date":1663855750,"answer_id":73816106,"question_id":73465897,"body_markdown":"Let me understand your scenario first.Then maybe I or someone else can help you. Do you have a set of users and user roles in an existing system that is built using Django application and Postgres DB ? And you want to use the same database as your keycloak database in a Spring Boot + Keycloak authentication system ? \r\n\r\nKeycloak generally as it&#39;s own structure for database management. You can&#39;t just use any existing database used on another authentication system that doesn&#39;t follow the exact same ways like keycloak. IMO, what you can do is  migrate your existing users and user role data in keycloak database using any migration script or api. Keycloak has a hell lot of apis for almost all sorts of needs. [This link][1] has a lot of api examples. You can also follow their api documentation. \r\n\r\n\r\n  [1]: https://documenter.getpostman.com/view/7294517/SzmfZHnd","title":"Keycloak user authentication fr existing databse","body":"<p>Let me understand your scenario first.Then maybe I or someone else can help you. Do you have a set of users and user roles in an existing system that is built using Django application and Postgres DB ? And you want to use the same database as your keycloak database in a Spring Boot + Keycloak authentication system ?</p>\n<p>Keycloak generally as it's own structure for database management. You can't just use any existing database used on another authentication system that doesn't follow the exact same ways like keycloak. IMO, what you can do is  migrate your existing users and user role data in keycloak database using any migration script or api. Keycloak has a hell lot of apis for almost all sorts of needs. <a href=\"https://documenter.getpostman.com/view/7294517/SzmfZHnd\" rel=\"nofollow noreferrer\">This link</a> has a lot of api examples. You can also follow their api documentation.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663879821,"creation_date":1663879821,"answer_id":73820538,"question_id":73465897,"body_markdown":" 1. configure Keycloak to use your existing database (plenty of answers / articles / doc on the subject)\r\n 2. configure Spring API applications as [resource-servers][1]\r\n 3. configure UI applications as OpenID clients (with a help of an OpenID client lib)\r\n\r\n\r\n  [1]: https://dzone.com/articles/spring-oauth2-resource-servers","title":"Keycloak user authentication fr existing databse","body":"<ol>\n<li>configure Keycloak to use your existing database (plenty of answers / articles / doc on the subject)</li>\n<li>configure Spring API applications as <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">resource-servers</a></li>\n<li>configure UI applications as OpenID clients (with a help of an OpenID client lib)</li>\n</ol>\n"}],"owner":{"account_id":22115548,"reputation":39,"user_id":16369705,"display_name":"Whiteox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1663879821,"creation_date":1661296798,"question_id":73465897,"body_markdown":"How would I achieve Spring Boot + Keycloak authentication with PostgreSQL database having users and user role tables already built from the Django application?","title":"Keycloak user authentication fr existing databse","body":"<p>How would I achieve Spring Boot + Keycloak authentication with PostgreSQL database having users and user role tables already built from the Django application?</p>\n"},{"tags":["java","spring","request","resttemplate","put"],"comments":[{"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"score":0,"creation_date":1583504729,"post_id":60553863,"comment_id":107150565,"body_markdown":"When you call the path segment, URI does not insert these variables. It uses literal values of `consent-id`. Just put them in manually","body":"When you call the path segment, URI does not insert these variables. It uses literal values of <code>consent-id</code>. Just put them in manually"},{"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"score":0,"creation_date":1583505345,"post_id":60553863,"comment_id":107150932,"body_markdown":"Better to copy/paste text to code bocks rather than screenshots where doable. Screenshots are not easily searchable and thus makes the question less valuable to the community.","body":"Better to copy/paste text to code bocks rather than screenshots where doable. Screenshots are not easily searchable and thus makes the question less valuable to the community."}],"answers":[{"tags":[],"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583505131,"creation_date":1583448369,"answer_id":60555087,"question_id":60553863,"body_markdown":"Looks like you are simply passing invalid authorization header, or maybe not passing it at all. \r\n\r\nWhat happens is that you make a RestTemplate exchange call, then you get 401 from that request, and Spring propagates it and returns `500 - Internal Server Error`, because there is no error handling in place. \r\n\r\n**EDIT**: According to your screenshots, you are not replacing your path variables. Update the way you build your URL as listed below.\r\n\r\n```java\r\nMap&lt;String, String&gt; pathVars = new HashMap&lt;&gt;(2);\r\npathVars.put(&quot;consent-id&quot;, consentId);\r\npathVars.put(&quot;authorisation-id&quot;, authorisationId);\r\n\r\nUriComponents uri = UriComponentsBuilder.fromUri(mainLink)\r\n    .path(&quot;consents/{consent-id}/authorizations/{authorisation-id}&quot;)\r\n    .buildAndExpand(pathVars);\r\n```","title":"Put-Request throws 401 [no body] error and cannot be stored in the response entity","body":"<p>Looks like you are simply passing invalid authorization header, or maybe not passing it at all. </p>\n\n<p>What happens is that you make a RestTemplate exchange call, then you get 401 from that request, and Spring propagates it and returns <code>500 - Internal Server Error</code>, because there is no error handling in place. </p>\n\n<p><strong>EDIT</strong>: According to your screenshots, you are not replacing your path variables. Update the way you build your URL as listed below.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; pathVars = new HashMap&lt;&gt;(2);\npathVars.put(\"consent-id\", consentId);\npathVars.put(\"authorisation-id\", authorisationId);\n\nUriComponents uri = UriComponentsBuilder.fromUri(mainLink)\n    .path(\"consents/{consent-id}/authorizations/{authorisation-id}\")\n    .buildAndExpand(pathVars);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645146963,"creation_date":1645146153,"answer_id":71167262,"question_id":60553863,"body_markdown":"Verify if your authorization-id is correct\r\n\r\nif the token has a type for example Bearer you must write so:\r\n\r\n    &quot;Authorization&quot;: &quot;Bearer rrdedzfdgf.........&quot;\r\n\r\nand make sure that there is only one space between Bearer and the token","title":"Put-Request throws 401 [no body] error and cannot be stored in the response entity","body":"<p>Verify if your authorization-id is correct</p>\n<p>if the token has a type for example Bearer you must write so:</p>\n<pre><code>&quot;Authorization&quot;: &quot;Bearer rrdedzfdgf.........&quot;\n</code></pre>\n<p>and make sure that there is only one space between Bearer and the token</p>\n"},{"tags":[],"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645322419,"creation_date":1645322419,"answer_id":71190807,"question_id":60553863,"body_markdown":"Often the problem comes from the browser locally;\r\nif your site is online, save the part and deploy the last modifications of the site and make the test\r\n\r\notherwise if it is a mobile application test it on a smartphone and not a browser;\r\n\r\nin case none of this works, do it with your backend, it works with this","title":"Put-Request throws 401 [no body] error and cannot be stored in the response entity","body":"<p>Often the problem comes from the browser locally;\nif your site is online, save the part and deploy the last modifications of the site and make the test</p>\n<p>otherwise if it is a mobile application test it on a smartphone and not a browser;</p>\n<p>in case none of this works, do it with your backend, it works with this</p>\n"},{"tags":[],"owner":{"account_id":26416691,"reputation":1,"user_id":20064998,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663879114,"creation_date":1663879114,"answer_id":73820435,"question_id":60553863,"body_markdown":"I had a problem where the I would add an extra character to a password. And Insomnia(Or Postman) would return a JSON response from the server along with a 401 HTTP status code. But when I did the same thing inside a springboot app, when using `catch(HttpServerErrorException e){System.out.prinln(e.getMessage());}` the e.getMessage would have [no body]. I think that is a feature built in the HttpServerErrorException class where it doesn&#39;t provide the body for security purposes. Since whoever is requesting is not authorized they should not have access to it. \r\n","title":"Put-Request throws 401 [no body] error and cannot be stored in the response entity","body":"<p>I had a problem where the I would add an extra character to a password. And Insomnia(Or Postman) would return a JSON response from the server along with a 401 HTTP status code. But when I did the same thing inside a springboot app, when using <code>catch(HttpServerErrorException e){System.out.prinln(e.getMessage());}</code> the e.getMessage would have [no body]. I think that is a feature built in the HttpServerErrorException class where it doesn't provide the body for security purposes. Since whoever is requesting is not authorized they should not have access to it.</p>\n"}],"owner":{"account_id":7596459,"reputation":359,"user_id":5762515,"accept_rate":0,"display_name":"TryHard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20376,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1663879114,"creation_date":1583442032,"question_id":60553863,"body_markdown":"I want to change data on a server via a put request, but I always get a 401 [no body] error. The response looks like the following: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI do not really understand why I get this error, because my body is not empty. My code looks like this and the values seem to be okay too. Does anyone have any idea what I&#39;m doing wrong?\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\nPostman Update:\r\n\r\nThe values are different right now (consent and authorisation) since its basically a new request but the values were correct before too so this change should not make a difference.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iZJ59.png\r\n  [2]: https://i.stack.imgur.com/4G8dl.png\r\n  [3]: https://i.stack.imgur.com/o6N2p.png\r\n  [4]: https://i.stack.imgur.com/jUfxV.png\r\n  [5]: https://i.stack.imgur.com/sGXqf.png","title":"Put-Request throws 401 [no body] error and cannot be stored in the response entity","body":"<p>I want to change data on a server via a put request, but I always get a 401 [no body] error. The response looks like the following: </p>\n\n<p><a href=\"https://i.stack.imgur.com/iZJ59.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iZJ59.png\" alt=\"enter image description here\"></a></p>\n\n<p>I do not really understand why I get this error, because my body is not empty. My code looks like this and the values seem to be okay too. Does anyone have any idea what I'm doing wrong?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4G8dl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4G8dl.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/o6N2p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o6N2p.png\" alt=\"enter image description here\"></a></p>\n\n<p>Postman Update:</p>\n\n<p>The values are different right now (consent and authorisation) since its basically a new request but the values were correct before too so this change should not make a difference.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jUfxV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jUfxV.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sGXqf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sGXqf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","json","xml","xss","fortify"],"answers":[{"tags":[],"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643330584,"creation_date":1643330584,"answer_id":70887612,"question_id":70859452,"body_markdown":"Fortify may be too eager to detect XSS as it assumes any data you produce could end up directly interpreted as HTML. Content sent back to the browser with XML or JSON content types aren&#39;t vulnerable to XSS by themselves though. Check that the content-type header being sent back isn&#39;t `text/html`.\r\n\r\nThe issue may be that a client would read part of the response and output it as is onto the page. The encoding here would be the client&#39;s responsibility though as what encoding to use depends on the output context.\r\n\r\nMany client-side frameworks will HTML encode data as necessary by default. If you control the client, you should check whether it&#39;s doing its own encoding here.\r\n\r\nInput validation can help in general too. Either here or in related requests that are writing to the database. Input can be validated depending on what its content should be.","title":"Fortify Cross-Site Scripting Persistent on Java Rest API response (JSON string &amp; XML string)","body":"<p>Fortify may be too eager to detect XSS as it assumes any data you produce could end up directly interpreted as HTML. Content sent back to the browser with XML or JSON content types aren't vulnerable to XSS by themselves though. Check that the content-type header being sent back isn't <code>text/html</code>.</p>\n<p>The issue may be that a client would read part of the response and output it as is onto the page. The encoding here would be the client's responsibility though as what encoding to use depends on the output context.</p>\n<p>Many client-side frameworks will HTML encode data as necessary by default. If you control the client, you should check whether it's doing its own encoding here.</p>\n<p>Input validation can help in general too. Either here or in related requests that are writing to the database. Input can be validated depending on what its content should be.</p>\n"},{"tags":[],"owner":{"account_id":25855988,"reputation":1,"user_id":19589227,"display_name":"Raj Developers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658340008,"creation_date":1658339824,"answer_id":73056208,"question_id":70859452,"body_markdown":"How the above Fortify cross site scripting persistent issue is solved for the database call and sending output as responsentity&lt;Class&gt;.\r\n","title":"Fortify Cross-Site Scripting Persistent on Java Rest API response (JSON string &amp; XML string)","body":"<p>How the above Fortify cross site scripting persistent issue is solved for the database call and sending output as responsentity.</p>\n"},{"tags":[],"owner":{"account_id":14676735,"reputation":139,"user_id":10599548,"display_name":"GioPoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663878874,"creation_date":1663878874,"answer_id":73820382,"question_id":70859452,"body_markdown":"Leaving my solution in case this helps peeps in the future. \r\nMy app security team needed fortify to completely resolve the issue. \r\n\r\nWhat worked for me was grabbing all the keys+values in the json and running them through the html encoder function from import org.apache.commons.lang3.StringUtils library. \r\nAs the user above mentioned, fortify tries to make sure that the user input it html encoded. ","title":"Fortify Cross-Site Scripting Persistent on Java Rest API response (JSON string &amp; XML string)","body":"<p>Leaving my solution in case this helps peeps in the future.\nMy app security team needed fortify to completely resolve the issue.</p>\n<p>What worked for me was grabbing all the keys+values in the json and running them through the html encoder function from import org.apache.commons.lang3.StringUtils library.\nAs the user above mentioned, fortify tries to make sure that the user input it html encoded.</p>\n"}],"owner":{"account_id":1030703,"reputation":155,"user_id":1039047,"accept_rate":9,"display_name":"Tony_Ynot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4887,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70887612,"answer_count":3,"score":0,"last_activity_date":1663878874,"creation_date":1643179401,"question_id":70859452,"body_markdown":"I understand that to fix the cross-site scripting, I need to validate the user input and encode the output to avoid browser execute malicious data. \r\n\r\nHowever my application is just a pure Rest API which return JSON string and XML string, fortify reported cross-site scripting persistent (stored) because the code will query data from db and return to the response\r\n\r\n    #Java Code\r\n    @PostMapping(path = &quot;${api.abc.endpoint}&quot;)\r\n    public ResponseEntity processRequest(@RequestBody String requestStr,\r\n      HttpServletRequest servletRequest) {\r\n\r\n        ResponseEntity&lt;String&gt; response = null;\r\n        String responseStr = &quot;&quot;;\r\n        responseStr = processRequest(requestString, servletRequest);\r\n\r\n        response = ResponseEntity.ok().body(responseStr);\r\n\r\n        return response; //response can be JSON or XML\r\n    }\r\n\r\n    #Original JSON Response\r\n    {\r\n      &quot;type&quot;:&quot;order&quot;,\r\n      &quot;responseCode&quot;:&quot;001&quot;,\r\n      &quot;responseText&quot;:&quot;Success&quot;,\r\n      &quot;transDesc&quot;:&quot;Value from DB&quot;\r\n    }\r\n\r\n    #Original XML Response\r\n    &lt;abc:res xmlns:abc=&quot;http://sample.com/abc/&quot;&gt;\r\n       &lt;type&gt;order&lt;/type&gt;\r\n       &lt;responseCode&gt;001&lt;/responseCode&gt;\r\n       &lt;responseText&gt;Success&lt;/responseText&gt;\r\n       &lt;transDesc&gt;Value from DB&lt;/transDesc&gt;\r\n    &lt;/abc:res&gt;\r\n\r\nI try to encode the output string using the OWASP Java Encoder and I got the below encoded string which changed the response format.\r\n\r\n    #Encoded JSON Response\r\n    {\\&quot;type\\&quot;:\\&quot;order\\&quot;,\\&quot;responseCode\\&quot;:\\&quot;001\\&quot;,\\&quot;responseText\\&quot;:\\&quot;Success\\&quot;,\\&quot;transDesc\\&quot;:\\&quot;Value from DB\\&quot;}\r\n\r\n\r\n    #Encoded XML Response\r\n\r\n    &lt;data contentType=&quot;application/xml;charset=UTF-8&quot; contentLength=&quot;241&quot;&gt;\r\n    &lt;![CDATA[&amp;lt;abc:res xmlns:abc=&quot;http://sample.com/abc/&quot;&amp;gt;&amp;lt;type&amp;gt;order&amp;lt;/type&amp;gt;&amp;lt;responseCode&amp;gt;001&amp;lt;/responseCode&amp;gt;&amp;lt;responseText&amp;gt;Success&amp;lt;/responseText&amp;gt;&amp;lt;transDesc&amp;gt;Value from DB&amp;lt;/type&amp;gt;&amp;lt;/abc:res&amp;gt;]]&gt;&lt;/data&gt;\r\n\r\nHow can I actually fix the cross-site scripting persistent in fortify for JSON string and XML string?\r\n\r\nThanks.\r\n","title":"Fortify Cross-Site Scripting Persistent on Java Rest API response (JSON string &amp; XML string)","body":"<p>I understand that to fix the cross-site scripting, I need to validate the user input and encode the output to avoid browser execute malicious data.</p>\n<p>However my application is just a pure Rest API which return JSON string and XML string, fortify reported cross-site scripting persistent (stored) because the code will query data from db and return to the response</p>\n<pre><code>#Java Code\n@PostMapping(path = &quot;${api.abc.endpoint}&quot;)\npublic ResponseEntity processRequest(@RequestBody String requestStr,\n  HttpServletRequest servletRequest) {\n\n    ResponseEntity&lt;String&gt; response = null;\n    String responseStr = &quot;&quot;;\n    responseStr = processRequest(requestString, servletRequest);\n\n    response = ResponseEntity.ok().body(responseStr);\n\n    return response; //response can be JSON or XML\n}\n\n#Original JSON Response\n{\n  &quot;type&quot;:&quot;order&quot;,\n  &quot;responseCode&quot;:&quot;001&quot;,\n  &quot;responseText&quot;:&quot;Success&quot;,\n  &quot;transDesc&quot;:&quot;Value from DB&quot;\n}\n\n#Original XML Response\n&lt;abc:res xmlns:abc=&quot;http://sample.com/abc/&quot;&gt;\n   &lt;type&gt;order&lt;/type&gt;\n   &lt;responseCode&gt;001&lt;/responseCode&gt;\n   &lt;responseText&gt;Success&lt;/responseText&gt;\n   &lt;transDesc&gt;Value from DB&lt;/transDesc&gt;\n&lt;/abc:res&gt;\n</code></pre>\n<p>I try to encode the output string using the OWASP Java Encoder and I got the below encoded string which changed the response format.</p>\n<pre><code>#Encoded JSON Response\n{\\&quot;type\\&quot;:\\&quot;order\\&quot;,\\&quot;responseCode\\&quot;:\\&quot;001\\&quot;,\\&quot;responseText\\&quot;:\\&quot;Success\\&quot;,\\&quot;transDesc\\&quot;:\\&quot;Value from DB\\&quot;}\n\n\n#Encoded XML Response\n\n&lt;data contentType=&quot;application/xml;charset=UTF-8&quot; contentLength=&quot;241&quot;&gt;\n&lt;![CDATA[&amp;lt;abc:res xmlns:abc=&quot;http://sample.com/abc/&quot;&amp;gt;&amp;lt;type&amp;gt;order&amp;lt;/type&amp;gt;&amp;lt;responseCode&amp;gt;001&amp;lt;/responseCode&amp;gt;&amp;lt;responseText&amp;gt;Success&amp;lt;/responseText&amp;gt;&amp;lt;transDesc&amp;gt;Value from DB&amp;lt;/type&amp;gt;&amp;lt;/abc:res&amp;gt;]]&gt;&lt;/data&gt;\n</code></pre>\n<p>How can I actually fix the cross-site scripting persistent in fortify for JSON string and XML string?</p>\n<p>Thanks.</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663878770,"creation_date":1663878770,"answer_id":73820368,"question_id":73815800,"body_markdown":"I discovered what was apparently causing this. I have a UDF that returns several columns using:\r\n\r\n```java\r\nStructType schema = createStructType(List.of(… createStructField(&quot;bar&quot;, StringType, false)));\r\nUserDefinedFunction foobarUdf = udf((String foo) -&gt; {\r\n  …\r\n}, schema).asNondeterministic();\r\n```\r\n\r\nNote that I specify `false` for `bar`&#39;s nullability. It turns out that `foobarUdf` actually returns `null` for `bar` sometimes. In the relational database world, I would expect that if my integrity constraint wasn&#39;t met, the database would say, &quot;you put `null` in `bar`, but `bar` is not nullable&quot;. Spark, however, hits a {{NullPointerException}} and has a nervous breakdown.\r\n\r\nI&#39;ve filed bug report [SPARK-40541](https://issues.apache.org/jira/browse/SPARK-40541).","title":"Spark dies with NullPointerException UTF8String.getBaseObject() &quot;input&quot; is null","body":"<p>I discovered what was apparently causing this. I have a UDF that returns several columns using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StructType schema = createStructType(List.of(… createStructField(&quot;bar&quot;, StringType, false)));\nUserDefinedFunction foobarUdf = udf((String foo) -&gt; {\n  …\n}, schema).asNondeterministic();\n</code></pre>\n<p>Note that I specify <code>false</code> for <code>bar</code>'s nullability. It turns out that <code>foobarUdf</code> actually returns <code>null</code> for <code>bar</code> sometimes. In the relational database world, I would expect that if my integrity constraint wasn't met, the database would say, &quot;you put <code>null</code> in <code>bar</code>, but <code>bar</code> is not nullable&quot;. Spark, however, hits a {{NullPointerException}} and has a nervous breakdown.</p>\n<p>I've filed bug report <a href=\"https://issues.apache.org/jira/browse/SPARK-40541\" rel=\"nofollow noreferrer\">SPARK-40541</a>.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73820368,"answer_count":1,"score":0,"last_activity_date":1663878770,"creation_date":1663854433,"question_id":73815800,"body_markdown":"Spark 3.3.0 is breaking all over the place with a simple pipeline on Windows 10 using Java 17. Now it&#39;s giving me this:\r\n\r\n```\r\n[ERROR] Job aborted due to stage failure: Task 0 in stage 8.0 failed 1 times, most recent failure: Lost task 0.0 in stage 8.0 (TID 5) (xps-13-9310 executor driver): java.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.unsafe.types.UTF8String.getBaseObject()&quot; because &quot;input&quot; is null\r\n        at org.apache.spark.sql.catalyst.expressions.codegen.UnsafeWriter.write(UnsafeWriter.java:110)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\r\n        at scala.collection.Iterator$$anon$9.next(Iterator.scala:577)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_1$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_0$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nHere&#39;s the full previous stack trace:\r\n\r\n```\r\n[ERROR] Exception in task 0.0 in stage 8.0 (TID 5)\r\njava.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.unsafe.types.UTF8String.getBaseObject()&quot; because &quot;input&quot; is null\r\n        at org.apache.spark.sql.catalyst.expressions.codegen.UnsafeWriter.write(UnsafeWriter.java:110)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\r\n        at scala.collection.Iterator$$anon$9.next(Iterator.scala:577)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_1$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_0$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n[WARN] Lost task 0.0 in stage 8.0 (TID 5) (xps-13-9310 executor driver): java.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.unsafe.types.UTF8String.getBaseObject()&quot; because &quot;input&quot; is null\r\n        at org.apache.spark.sql.catalyst.expressions.codegen.UnsafeWriter.write(UnsafeWriter.java:110)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\r\n        at scala.collection.Iterator$$anon$9.next(Iterator.scala:577)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_1$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_0$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\r\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\r\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI have no idea where to start looking for a workaround, as this appears to be deep in the bowels of Spark. (I can&#39;t help but say that this along with https://stackoverflow.com/q/73732970 is not giving me much confidence in Spark. Nobody seems to have answers.)","title":"Spark dies with NullPointerException UTF8String.getBaseObject() &quot;input&quot; is null","body":"<p>Spark 3.3.0 is breaking all over the place with a simple pipeline on Windows 10 using Java 17. Now it's giving me this:</p>\n<pre><code>[ERROR] Job aborted due to stage failure: Task 0 in stage 8.0 failed 1 times, most recent failure: Lost task 0.0 in stage 8.0 (TID 5) (xps-13-9310 executor driver): java.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.unsafe.types.UTF8String.getBaseObject()&quot; because &quot;input&quot; is null\n        at org.apache.spark.sql.catalyst.expressions.codegen.UnsafeWriter.write(UnsafeWriter.java:110)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\n        at scala.collection.Iterator$$anon$9.next(Iterator.scala:577)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_1$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_0$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Here's the full previous stack trace:</p>\n<pre><code>[ERROR] Exception in task 0.0 in stage 8.0 (TID 5)\njava.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.unsafe.types.UTF8String.getBaseObject()&quot; because &quot;input&quot; is null\n        at org.apache.spark.sql.catalyst.expressions.codegen.UnsafeWriter.write(UnsafeWriter.java:110)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\n        at scala.collection.Iterator$$anon$9.next(Iterator.scala:577)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_1$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_0$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n[WARN] Lost task 0.0 in stage 8.0 (TID 5) (xps-13-9310 executor driver): java.lang.NullPointerException: Cannot invoke &quot;org.apache.spark.unsafe.types.UTF8String.getBaseObject()&quot; because &quot;input&quot; is null\n        at org.apache.spark.sql.catalyst.expressions.codegen.UnsafeWriter.write(UnsafeWriter.java:110)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(Unknown Source)\n        at scala.collection.Iterator$$anon$9.next(Iterator.scala:577)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_1$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.hashAgg_doAggregateWithoutKey_0$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage2.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\n        at org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\n        at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\n        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n        at org.apache.spark.scheduler.Task.run(Task.scala:136)\n        at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I have no idea where to start looking for a workaround, as this appears to be deep in the bowels of Spark. (I can't help but say that this along with <a href=\"https://stackoverflow.com/q/73732970\">Spark NullPointerException: Cannot invoke invalidateSerializedMapOutputStatusCache() because &quot;shuffleStatus&quot; is null</a> is not giving me much confidence in Spark. Nobody seems to have answers.)</p>\n"},{"tags":["java","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":6759653,"reputation":5203,"user_id":5207023,"accept_rate":100,"display_name":"Mykola Yashchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1498122668,"creation_date":1498122668,"answer_id":44695070,"question_id":44694955,"body_markdown":"Thymeleaf has conditional operator\r\n\r\n    condition ? first_expression : second_expression;\r\n\r\nYou can use this operator for your purpose:\r\n\r\n    &lt;form  th:action=&quot;@{~/firms/save}&quot; th:method=&quot;${firm.firmId} != null ? PUT : POST&quot; modelAttribute=&quot;firm&quot; th:object=&quot;${firm}&quot;&gt;","title":"Thymeleaf: POST or PUT in the &lt;form&gt; th:action depending upon condition","body":"<p>Thymeleaf has conditional operator</p>\n\n<pre><code>condition ? first_expression : second_expression;\n</code></pre>\n\n<p>You can use this operator for your purpose:</p>\n\n<pre><code>&lt;form  th:action=\"@{~/firms/save}\" th:method=\"${firm.firmId} != null ? PUT : POST\" modelAttribute=\"firm\" th:object=\"${firm}\"&gt;\n</code></pre>\n"}],"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44695070,"answer_count":1,"score":0,"last_activity_date":1663878459,"creation_date":1498122365,"question_id":44694955,"body_markdown":"Is it possible to assign either a `POST` or `PUT` method in `from th:action` depending upon `th:if`?\r\n\r\nSomething like:\r\n\r\n`&lt;form th:if=&quot;${firm.firmId} == null&quot; th:action=&quot;@{~/firms/save}&quot; method=&quot;POST&quot; modelAttribute=&quot;firm&quot; th:object=&quot;${firm}&quot;&gt;`\r\n\r\n`&lt;form th:if=&quot;${firm.firmId} != null&quot; th:action=&quot;@{~/firms/save}&quot; method=&quot;PUT&quot; modelAttribute=&quot;firm&quot; th:object=&quot;${firm}&quot;&gt;`","title":"Thymeleaf: POST or PUT in the &lt;form&gt; th:action depending upon condition","body":"<p>Is it possible to assign either a <code>POST</code> or <code>PUT</code> method in <code>from th:action</code> depending upon <code>th:if</code>?</p>\n\n<p>Something like:</p>\n\n<p><code>&lt;form th:if=\"${firm.firmId} == null\" th:action=\"@{~/firms/save}\" method=\"POST\" modelAttribute=\"firm\" th:object=\"${firm}\"&gt;</code></p>\n\n<p><code>&lt;form th:if=\"${firm.firmId} != null\" th:action=\"@{~/firms/save}\" method=\"PUT\" modelAttribute=\"firm\" th:object=\"${firm}\"&gt;</code></p>\n"},{"tags":["java","sockets"],"answers":[{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663878044,"creation_date":1663878044,"answer_id":73820254,"question_id":73820154,"body_markdown":"The streams are named from *your* perspective. An input stream is a place where data is input to your program, and an output stream is a place where your program outputs data to.\r\n\r\nNo different from `FileIn-`/`OutputStream`, or `System.in`/`out`.\r\n\r\nEven `java.lang.Process` is named this way (confusingly) - the `getOutputStream` method returns the other process&#39;s *input* stream, which you can write data to.\r\n","title":"Conceptual question on Java Socket Input/Output streams","body":"<p>The streams are named from <em>your</em> perspective. An input stream is a place where data is input to your program, and an output stream is a place where your program outputs data to.</p>\n<p>No different from <code>FileIn-</code>/<code>OutputStream</code>, or <code>System.in</code>/<code>out</code>.</p>\n<p>Even <code>java.lang.Process</code> is named this way (confusingly) - the <code>getOutputStream</code> method returns the other process's <em>input</em> stream, which you can write data to.</p>\n"}],"owner":{"account_id":26416479,"reputation":23,"user_id":20064814,"display_name":"Joey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73820254,"answer_count":1,"score":0,"last_activity_date":1663878044,"creation_date":1663877329,"question_id":73820154,"body_markdown":"Does anyone know why in the Java `Socket` class, `getInputStream` reads bytes from the socket, while `getOutputStream` writes bytes to the socket? Intuitively I feel like reading should be an output stream, while writing should be an input stream.","title":"Conceptual question on Java Socket Input/Output streams","body":"<p>Does anyone know why in the Java <code>Socket</code> class, <code>getInputStream</code> reads bytes from the socket, while <code>getOutputStream</code> writes bytes to the socket? Intuitively I feel like reading should be an output stream, while writing should be an input stream.</p>\n"},{"tags":["java","android","kotlin","retrofit"],"answers":[{"tags":[],"owner":{"account_id":6806134,"reputation":28,"user_id":8307698,"display_name":"Alexander Knapp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663877382,"creation_date":1663877382,"answer_id":73820169,"question_id":73819947,"body_markdown":"Did you sync your project with the gradle files? If not, the IDE (I suppose you use Android Studio?) will not be able to recognize/import the required library.\r\n\r\nCheck out the [Android Studio documentation][1] to learn how to do this.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/build#sync-files","title":"Retrofit Library is Not importing After Create new project in Android","body":"<p>Did you sync your project with the gradle files? If not, the IDE (I suppose you use Android Studio?) will not be able to recognize/import the required library.</p>\n<p>Check out the <a href=\"https://developer.android.com/studio/build#sync-files\" rel=\"nofollow noreferrer\">Android Studio documentation</a> to learn how to do this.</p>\n"},{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663877940,"creation_date":1663877940,"answer_id":73820240,"question_id":73819947,"body_markdown":"Here there is something to check weather it&#39;s all set or not.\r\n\r\n1 - First implement the library in `builde.gradle` like below.\r\n\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.8&#39;\r\n    \r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.7.2&#39;\r\n\r\n\r\n2 - Add this properties to your `gradle.properties`\r\n\r\n    android.useAndroidX=true\r\n    android.nonTransitiveRClass=true\r\n\r\n3 - Then Add Google() and mavenCentral in your `settings.gradle` like Below \r\n\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n\r\n4 - check compileOptions in your build-gradle file\r\n\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\n**After all this steps you can import your retrofit and gson library.**\r\n    \r\n   \r\n","title":"Retrofit Library is Not importing After Create new project in Android","body":"<p>Here there is something to check weather it's all set or not.</p>\n<p>1 - First implement the library in <code>builde.gradle</code> like below.</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.9.0'\nimplementation 'com.squareup.picasso:picasso:2.8'\n\nimplementation 'com.squareup.retrofit2:retrofit:2.9.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.7.2'\n</code></pre>\n<p>2 - Add this properties to your <code>gradle.properties</code></p>\n<pre><code>android.useAndroidX=true\nandroid.nonTransitiveRClass=true\n</code></pre>\n<p>3 - Then Add Google() and mavenCentral in your <code>settings.gradle</code> like Below</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n<p>4 - check compileOptions in your build-gradle file</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p><strong>After all this steps you can import your retrofit and gson library.</strong></p>\n"}],"owner":{"account_id":26416117,"reputation":3,"user_id":20064502,"display_name":"jack roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73820240,"answer_count":2,"score":0,"last_activity_date":1663877940,"creation_date":1663875978,"question_id":73819947,"body_markdown":"I create new project and Wants to Use `Retrofit` library in my Project. \r\n\r\nI implemented this library for `Gson` and `Retrofit` but still I can&#39;t import it to my Project.\r\n\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.8&#39;\r\n    \r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.7.2&#39;\r\n\r\n[Error to add Retrofit Library][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qC7uc.png","title":"Retrofit Library is Not importing After Create new project in Android","body":"<p>I create new project and Wants to Use <code>Retrofit</code> library in my Project.</p>\n<p>I implemented this library for <code>Gson</code> and <code>Retrofit</code> but still I can't import it to my Project.</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.9.0'\nimplementation 'com.squareup.picasso:picasso:2.8'\n\nimplementation 'com.squareup.retrofit2:retrofit:2.9.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.7.2'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qC7uc.png\" rel=\"nofollow noreferrer\">Error to add Retrofit Library</a></p>\n"},{"tags":["java","java-stream","option-type"],"comments":[{"owner":{"account_id":1709031,"reputation":6388,"user_id":1567452,"accept_rate":50,"display_name":"jwilner"},"score":0,"creation_date":1438131101,"post_id":31689408,"comment_id":51320642,"body_markdown":"I guess what annoys me this is that Optional already has Optional::flatMap and a whole lot of the construct is about avoiding explicit testing. Moreover, I could write this code with a for loop in just as many lines!","body":"I guess what annoys me this is that Optional already has Optional::flatMap and a whole lot of the construct is about avoiding explicit testing. Moreover, I could write this code with a for loop in just as many lines!"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1438131284,"post_id":31689408,"comment_id":51320698,"body_markdown":"Then why not simply use a for loop?","body":"Then why not simply use a for loop?"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1663877868,"creation_date":1438136312,"answer_id":31690181,"question_id":31689408,"body_markdown":"I agree that it&#39;s cumbersome but it&#39;s probably about the most straightforward solution without getting even more hacky.\r\n\r\nOne thing I&#39;ve done in a similar situation is to create a method to turn an `Optional` into a `Stream`:\r\n\r\n    private Stream&lt;T&gt; optionalStream(Optional&lt;T&gt; optional) {\r\n        if (optional.isPresent())\r\n            return Stream.of(optional.get());\r\n        else\r\n            return Stream.empty());\r\n    }\r\n\r\nSo you can then use `flatMap`:\r\n\r\n    Stream.of(a, b, c, d)\r\n        .flatMap(this::optionalStream).findFirst()...\r\n\r\nFrom Java 9 the `Stream` method has been added to `Optional` to do exactly this so you can use:\r\n\r\n    Stream.of(a, b, c, d)\r\n        .flatMap(Optional::stream)\r\n        .findFirst()...\r\n\r\n\r\nBut to be honest I&#39;m not sure this is all that much simpler than your `filter` then `map` solution.\r\n","title":"findFirst on a Stream&lt;Optional&lt;T&gt;&gt;","body":"<p>I agree that it's cumbersome but it's probably about the most straightforward solution without getting even more hacky.</p>\n<p>One thing I've done in a similar situation is to create a method to turn an <code>Optional</code> into a <code>Stream</code>:</p>\n<pre><code>private Stream&lt;T&gt; optionalStream(Optional&lt;T&gt; optional) {\n    if (optional.isPresent())\n        return Stream.of(optional.get());\n    else\n        return Stream.empty());\n}\n</code></pre>\n<p>So you can then use <code>flatMap</code>:</p>\n<pre><code>Stream.of(a, b, c, d)\n    .flatMap(this::optionalStream).findFirst()...\n</code></pre>\n<p>From Java 9 the <code>Stream</code> method has been added to <code>Optional</code> to do exactly this so you can use:</p>\n<pre><code>Stream.of(a, b, c, d)\n    .flatMap(Optional::stream)\n    .findFirst()...\n</code></pre>\n<p>But to be honest I'm not sure this is all that much simpler than your <code>filter</code> then <code>map</code> solution.</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438146653,"creation_date":1438146653,"answer_id":31691637,"question_id":31689408,"body_markdown":"I&#39;m not sure if either approach below is better than yours...\r\n\r\nFirst, you could try with `reduce()`:\r\n\r\n    Stream.of(a, b, c, d).reduce(Optional.empty(), (o1, o2) -&gt; o1.isPresent() ? o1 : o2)\r\n        .ifPresent(s -&gt; System.out.println(&quot;This seems cumbersome as well: &quot; + s));\r\n\r\nYou&#39;d still be querying the `Optional`, though this would happen while reducing the stream.\r\n\r\nA more elegant approach (though not less verbose) would be to use a specialized `Consumer` that would accept the `Optional`&#39;s value only when non-empty. For this, you&#39;d need to define your `OptionalConsumer` as follows:\r\n\r\n    @FunctionalInterface\r\n    interface OptionalConsumer&lt;T&gt;\r\n        extends Consumer&lt;Optional&lt;T&gt;&gt; {\r\n\r\n        @Override\r\n        default void accept(Optional&lt;T&gt; o) {\r\n            if (o.isPresent()) {\r\n                this.acceptIfPresent(o.get());\r\n            }\r\n        }\r\n\r\n        void acceptIfPresent(T o);\r\n\r\n        static &lt;U&gt; OptionalConsumer&lt;U&gt; of(Consumer&lt;U&gt; c) {\r\n            return c::accept;\r\n        }\r\n    }\r\n\r\nAnd you could use it this way:\r\n\r\n    Stream.of(a, b, c, d).forEach(OptionalConsumer.of(s -&gt; System.out.println(&quot;Better? &quot; + s)));\r\n\r\nNotes:\r\n\r\n 1. Maybe this approach is better when you need to perform this same logic in many different streams.\r\n 2. I wouldn&#39;t bet it works well on parallel streams.\r\n 3. As `OptionalConsumer` is actually a `Consumer`, I don&#39;t see how you could use it along with `findFirst()`.\r\n","title":"findFirst on a Stream&lt;Optional&lt;T&gt;&gt;","body":"<p>I'm not sure if either approach below is better than yours...</p>\n\n<p>First, you could try with <code>reduce()</code>:</p>\n\n<pre><code>Stream.of(a, b, c, d).reduce(Optional.empty(), (o1, o2) -&gt; o1.isPresent() ? o1 : o2)\n    .ifPresent(s -&gt; System.out.println(\"This seems cumbersome as well: \" + s));\n</code></pre>\n\n<p>You'd still be querying the <code>Optional</code>, though this would happen while reducing the stream.</p>\n\n<p>A more elegant approach (though not less verbose) would be to use a specialized <code>Consumer</code> that would accept the <code>Optional</code>'s value only when non-empty. For this, you'd need to define your <code>OptionalConsumer</code> as follows:</p>\n\n<pre><code>@FunctionalInterface\ninterface OptionalConsumer&lt;T&gt;\n    extends Consumer&lt;Optional&lt;T&gt;&gt; {\n\n    @Override\n    default void accept(Optional&lt;T&gt; o) {\n        if (o.isPresent()) {\n            this.acceptIfPresent(o.get());\n        }\n    }\n\n    void acceptIfPresent(T o);\n\n    static &lt;U&gt; OptionalConsumer&lt;U&gt; of(Consumer&lt;U&gt; c) {\n        return c::accept;\n    }\n}\n</code></pre>\n\n<p>And you could use it this way:</p>\n\n<pre><code>Stream.of(a, b, c, d).forEach(OptionalConsumer.of(s -&gt; System.out.println(\"Better? \" + s)));\n</code></pre>\n\n<p>Notes:</p>\n\n<ol>\n<li>Maybe this approach is better when you need to perform this same logic in many different streams.</li>\n<li>I wouldn't bet it works well on parallel streams.</li>\n<li>As <code>OptionalConsumer</code> is actually a <code>Consumer</code>, I don't see how you could use it along with <code>findFirst()</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17748142,"reputation":63,"user_id":12886977,"display_name":"Yury Vasyutinskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581524330,"creation_date":1581524330,"answer_id":60192751,"question_id":31689408,"body_markdown":"I think flatMap can be really handy here\r\n\r\n     Stream.of(a, b, c, d)\r\n       .flatMap(opt -&gt; opt.map(Stream::of).orElse(Stream.empty()))\r\n       .findFirst()\r\n       .ifPresent(s -&gt; System.out.println(&quot;This was cumbersome: &quot; + s));\r\n\r\nNot ideal, but at least concise.","title":"findFirst on a Stream&lt;Optional&lt;T&gt;&gt;","body":"<p>I think flatMap can be really handy here</p>\n\n<pre><code> Stream.of(a, b, c, d)\n   .flatMap(opt -&gt; opt.map(Stream::of).orElse(Stream.empty()))\n   .findFirst()\n   .ifPresent(s -&gt; System.out.println(\"This was cumbersome: \" + s));\n</code></pre>\n\n<p>Not ideal, but at least concise.</p>\n"}],"owner":{"account_id":1709031,"reputation":6388,"user_id":1567452,"accept_rate":50,"display_name":"jwilner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3464,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31690181,"answer_count":3,"score":6,"last_activity_date":1663877868,"creation_date":1438130273,"question_id":31689408,"body_markdown":"Say you&#39;ve got a stream of `Optional&lt;T&gt;`, that you want to fire a `Consumer&lt;T&gt;` on (if present).\r\n\r\nWhat&#39;s the most elegant way of handling this?\r\n\r\nI can manage by filtering by `Optional::isPresent` and mapping by `Optional::isGet`, but that seems &quot;hacky&quot; and not in the spirit of `Optional`:\r\n\r\n    Stream.of(a, b, c, d)\r\n       .filter(Optional::isPresent)\r\n       .map(Optional::get)\r\n       .findFirst()\r\n       .ifPresent(s -&gt; System.out.println(&quot;This was cumbersome: &quot; + s));","title":"findFirst on a Stream&lt;Optional&lt;T&gt;&gt;","body":"<p>Say you've got a stream of <code>Optional&lt;T&gt;</code>, that you want to fire a <code>Consumer&lt;T&gt;</code> on (if present).</p>\n\n<p>What's the most elegant way of handling this?</p>\n\n<p>I can manage by filtering by <code>Optional::isPresent</code> and mapping by <code>Optional::isGet</code>, but that seems \"hacky\" and not in the spirit of <code>Optional</code>:</p>\n\n<pre><code>Stream.of(a, b, c, d)\n   .filter(Optional::isPresent)\n   .map(Optional::get)\n   .findFirst()\n   .ifPresent(s -&gt; System.out.println(\"This was cumbersome: \" + s));\n</code></pre>\n"},{"tags":["java","for-loop","nested-for-loop"],"answers":[{"tags":[],"owner":{"account_id":19585505,"reputation":71,"user_id":14333706,"display_name":"nejlasahin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663873005,"creation_date":1663873005,"answer_id":73819488,"question_id":73818834,"body_markdown":"I have a solution for this problem. I hope It can help you.\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        Scanner input = new Scanner(System.in);\r\n    \r\n        System.out.println(&quot;Please select your max number:&quot;);\r\n        int userChoice = input.nextInt();\r\n        int end = userChoice * 2 - 1;\r\n        int decrement = 0;\r\n        int increment = 0;\r\n    \r\n        for (int i = 0; i &lt; end; i++) {\r\n            for (int j = 0; j &lt; end; j++) {\r\n                if(end - i - 1 &lt; j) {\r\n                    increment++;\r\n                }\r\n                System.out.print(userChoice - decrement + increment);\r\n                if(decrement &lt; i) {\r\n                    decrement++;\r\n                }\r\n    \r\n            }\r\n            decrement = 0;\r\n            increment = 0;\r\n            System.out.println();\r\n        }\r\n        input.close();\r\n    \r\n    }","title":"Creating a number rectangle in Java using a nested for loop with one number input","body":"<p>I have a solution for this problem. I hope It can help you.</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n\n    System.out.println(&quot;Please select your max number:&quot;);\n    int userChoice = input.nextInt();\n    int end = userChoice * 2 - 1;\n    int decrement = 0;\n    int increment = 0;\n\n    for (int i = 0; i &lt; end; i++) {\n        for (int j = 0; j &lt; end; j++) {\n            if(end - i - 1 &lt; j) {\n                increment++;\n            }\n            System.out.print(userChoice - decrement + increment);\n            if(decrement &lt; i) {\n                decrement++;\n            }\n\n        }\n        decrement = 0;\n        increment = 0;\n        System.out.println();\n    }\n    input.close();\n\n}\n</code></pre>\n"}],"owner":{"account_id":26415408,"reputation":23,"user_id":20063895,"display_name":"JavaNewb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73819488,"answer_count":1,"score":0,"last_activity_date":1663877369,"creation_date":1663868890,"question_id":73818834,"body_markdown":"I&#39;m new to Java and have an assignment that requires me to create a rectangle of numbers where the numbers start from the &#39;user input&#39; number and reduce to 1 in the middle ([See example][1]). \r\nI&#39;ve created a very simplified code that can do it, but I would have to create an &#39;else if&#39; for each number up to the &#39;user input&#39; number. \r\nObviously, there is a way to repeat the code using some variable, but I can&#39;t seem to figure out how to do it. Can I get some help? Here is the code I am at right now:\r\n\r\n    import java.util.Scanner;\r\n\r\npublic class Assign {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Select rectangle size:&quot;);\r\n\t\tint user = scan.nextInt();\r\n\t\t\r\n\t\tfor (int row = 1; row &lt;= ((user*2)-1); row++) {\r\n\t\t\tfor (int col = 1; col &lt;= ((user*2)-1); col ++) {\r\n\t\t\t\tif ((row == 1) || (col == 1) || (row == (user*2)-1) || (col == (user*2)-1)) {\r\n\t\t\t\t\tSystem.out.printf(&quot;%2d&quot;,user);\r\n\t\t\t\t}else if ((col == (2)) || col == (user*2)-(2) || row == 2 || row == (user*2)-(2)) {\r\n\t\t\t\t\tSystem.out.printf(&quot;%2d&quot;,user - (1));\r\n\t\t\t\t}else if ((col == (3)) || col == (user*2)-(3) || row == 3 || row == (user*2)-(3)) {\r\n\t\t\t\t\tSystem.out.printf(&quot;%2d&quot;,user - (2));\r\n\t\t\t\t}else if ((col == (4)) || col == (user*2)-(4) || row == 4 || row == (user*2)-(4)) {\r\n\t\t\t\t\tSystem.out.printf(&quot;%2d&quot;,user - (3));\r\n\t\t\t\t}else if ((col == (5)) || col == (user*2)-(5) || row == 5 || row == (user*2)-(5)) {\r\n\t\t\t\t\tSystem.out.printf(&quot;%2d&quot;,user - (4));\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\tinput.close();\r\n\r\n\t}\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2rlml.jpg","title":"Creating a number rectangle in Java using a nested for loop with one number input","body":"<p>I'm new to Java and have an assignment that requires me to create a rectangle of numbers where the numbers start from the 'user input' number and reduce to 1 in the middle (<a href=\"https://i.stack.imgur.com/2rlml.jpg\" rel=\"nofollow noreferrer\">See example</a>).\nI've created a very simplified code that can do it, but I would have to create an 'else if' for each number up to the 'user input' number.\nObviously, there is a way to repeat the code using some variable, but I can't seem to figure out how to do it. Can I get some help? Here is the code I am at right now:</p>\n<pre><code>import java.util.Scanner;\n</code></pre>\n<p>public class Assign {</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner scan = new Scanner(System.in);\n    \n    System.out.println(&quot;Select rectangle size:&quot;);\n    int user = scan.nextInt();\n    \n    for (int row = 1; row &lt;= ((user*2)-1); row++) {\n        for (int col = 1; col &lt;= ((user*2)-1); col ++) {\n            if ((row == 1) || (col == 1) || (row == (user*2)-1) || (col == (user*2)-1)) {\n                System.out.printf(&quot;%2d&quot;,user);\n            }else if ((col == (2)) || col == (user*2)-(2) || row == 2 || row == (user*2)-(2)) {\n                System.out.printf(&quot;%2d&quot;,user - (1));\n            }else if ((col == (3)) || col == (user*2)-(3) || row == 3 || row == (user*2)-(3)) {\n                System.out.printf(&quot;%2d&quot;,user - (2));\n            }else if ((col == (4)) || col == (user*2)-(4) || row == 4 || row == (user*2)-(4)) {\n                System.out.printf(&quot;%2d&quot;,user - (3));\n            }else if ((col == (5)) || col == (user*2)-(5) || row == 5 || row == (user*2)-(5)) {\n                System.out.printf(&quot;%2d&quot;,user - (4));\n            }\n        } \n        System.out.println();\n    }\n    input.close();\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","jsf-2.2","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":16387580,"reputation":11,"user_id":11837169,"display_name":"Tamale Collins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663877061,"creation_date":1663877061,"answer_id":73820110,"question_id":72881907,"body_markdown":"Make sure that all your files are in the same folder. If there are sub folders, you need to make sure that the files are in the same sub folder too. ","title":"JSF 2.3 - Cannot invoke &quot;javax.faces.context.FacesContext.getAttributes()&quot; because &quot;this.context&quot; is null","body":"<p>Make sure that all your files are in the same folder. If there are sub folders, you need to make sure that the files are in the same sub folder too.</p>\n"}],"owner":{"account_id":25730753,"reputation":11,"user_id":19486380,"display_name":"Samuel Garc&#237;a Fern&#225;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1663877061,"creation_date":1657103279,"question_id":72881907,"body_markdown":"The problem is when execute the lines with jsf tags in the jsp file. I execute a normal jsp file and works.\r\nBefore the error was &quot;Cannot find the Faces Context&quot;, but I update the jar of jsf-impl and jsf-api to  the last version, and then give me this error.\r\nI look for error and the problem should be with the URL pattern matches request URL but matches.\r\nThis is the error:\r\n\r\n    6: --&gt;\r\n    7: &lt;jsp:root version=&quot;2.1&quot; xmlns:f=&quot;http://java.sun.com/jsf/core&quot; xmlns:h=&quot;http://java.sun.com/jsf/html&quot; xmlns:jsp=&quot;http://java.sun.com/JSP/Page&quot; xmlns:webuijsf=&quot;http://www.sun.com/webui/webuijsf&quot;&gt;\r\n    8:     &lt;jsp:directive.page contentType=&quot;text/html;charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;/&gt;\r\n    9:     &lt;f:view&gt;\r\n    10:         &lt;webuijsf:page id=&quot;page1&quot;&gt;\r\n    11:             &lt;webuijsf:html id=&quot;html1&quot;&gt;\r\n    12:                 &lt;webuijsf:head id=&quot;head1&quot;&gt;\r\n    \r\n    \r\n    Stacktrace:] con causa ra&#237;z\r\n    java.lang.NullPointerException: Cannot invoke &quot;javax.faces.context.FacesContext.getAttributes()&quot; because &quot;this.context&quot; is null\r\n    \tat javax.faces.webapp.UIComponentClassicTagBase.setJspId(UIComponentClassicTagBase.java:1856)\r\n    \tat org.apache.jsp.Login.Usuarios_005fLogin_jsp._jspx_meth_f_005fview_005f0(Usuarios_005fLogin_jsp.java:210)\r\n    \tat org.apache.jsp.Login.Usuarios_005fLogin_jsp._jspService(Usuarios_005fLogin_jsp.java:177)\r\n    \tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\r\n    \tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n**Web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\r\n      &lt;display-name&gt;Faccil2.0&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;/faces/Login/Usuarios_Login.jsp&lt;/welcome-file&gt;\r\n            &lt;welcome-file&gt;/faces/Home.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;context-param&gt;\r\n        &lt;description&gt;State saving method: &#39;client&#39; or &#39;server&#39; (=default). See JSF Specification 2.5.2&lt;/description&gt;\r\n        &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;\r\n        &lt;param-value&gt;client&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      &lt;context-param&gt;\r\n        &lt;param-name&gt;javax.servlet.jsp.jstl.fmt.localizationContext&lt;/param-name&gt;\r\n        &lt;param-value&gt;resources.application&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;com.sun.faces.config.ConfigureListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n    &lt;/web-app&gt;\r\n\r\n**faces-config.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;faces-config\r\n        xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_3.xsd&quot;\r\n        version=&quot;2.3&quot;&gt;\r\n    \t&lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;SessionBean1&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.SessionBean1&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;ApplicationBean1&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.ApplicationBean1&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;application&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;RequestBean1&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.RequestBean1&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Login$Usuarios_Login&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Login.Usuarios_Login&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$Categorias$Categorias_Agregar_tabla&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Categorias.Categorias_Agregar_tabla&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Global$Footer&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Global.Footer&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$Categorias$Categorias&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Categorias.Categorias&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$Categorias$Agregar_Modificar_Categoria&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Categorias.Agregar_Modificar_Categoria&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Configuracion/Categorias/Categorias.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Configuracion/Categorias/Agregar_Modificar_Categoria.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Configuracion/Categorias/Agregar_Modificar_Categoria.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Configuracion/Categorias/Categorias.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$Series$Series&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Series.Series&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$Series$Series_Agregar_Tabla&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Series.Series_Agregar_Tabla&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$Series$Agregar_Modificar_Serie&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Series.Agregar_Modificar_Serie&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Configuracion/Series/Agregar_Modificar_Serie.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Configuracion/Series/Series.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Configuracion/Series/Series.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Configuracion/Series/Agregar_Modificar_Serie.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$MisDatos$DatosUsuario&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.MisDatos.DatosUsuario&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Configuracion$MisDatos$DatosUsuario_Formulario&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.MisDatos.DatosUsuario_Formulario&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Login/Usuarios_Login.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Facturas/Facturas.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Productos$Productos&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Productos.Productos&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Clientes$Clientes&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Clientes&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Clientes$Clientes_Agregar_Tabla&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Clientes_Agregar_Tabla&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Productos$Productos_Agregar_Tabla&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Productos.Productos_Agregar_Tabla&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Clientes$Agregar_Cliente&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Agregar_Cliente&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Productos$Agregar_Producto&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Productos.Agregar_Producto&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Clientes/Clientes.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Clientes/Agregar_Cliente.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case3&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Clientes/Modificar_Cliente.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Productos/Productos.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Productos/Agregar_Producto.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case3&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Productos/Modificar_Producto.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Clientes/Agregar_Cliente.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Clientes/Clientes.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Productos/Agregar_Producto.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Productos/Productos.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Productos$Modificar_Producto&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Productos.Modificar_Producto&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Productos/Modificar_Producto.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Productos/Productos.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Clientes$Modificar_Cliente&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Modificar_Cliente&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Clientes/Modificar_Cliente.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Clientes/Clientes.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;application&gt;\r\n            &lt;message-bundle&gt;faccilvisualweb.Faccil&lt;/message-bundle&gt;\r\n        &lt;/application&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Registro$Registro&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Registro.Registro&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Registro$Registro_Formulario&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Registro.Registro_Formulario&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Facturas$Facturas&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Facturas.Facturas&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Facturas$FacturasListados&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Facturas.FacturasListados&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Login$Login&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Login.Login&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Login/Login.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Recordatorio.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Facturas/Facturas.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case3&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Login$Recordatorio&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Login.Recordatorio&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Facturas/Facturas.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Facturas/AgregarFactura.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Global$FooterFaces&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Global.FooterFaces&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Global$FooterFaces2Niveles&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Global.FooterFaces2Niveles&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Login$Logout&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Login.Logout&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Login/Logout.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Facturas/Facturas.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;RegistroGratuito$Registro_Formulario&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.RegistroGratuito.Registro_Formulario&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;RegistroGratuito$Registro&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.RegistroGratuito.Registro&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;Registro$InformacionEnvio&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.Registro.InformacionEnvio&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Registro/InformacionEnvio.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/Registro/Registro.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Registro/InformacionEnvio.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;managed-bean&gt;\r\n            &lt;managed-bean-name&gt;RegistroGratuito$RegistroCompletado&lt;/managed-bean-name&gt;\r\n            &lt;managed-bean-class&gt;faccilvisualweb.RegistroGratuito.RegistroCompletado&lt;/managed-bean-class&gt;\r\n            &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\r\n        &lt;/managed-bean&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/RegistroGratuito/Registro.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/RegistroGratuito/RegistroCompletado.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n        &lt;navigation-rule&gt;\r\n            &lt;from-view-id&gt;/RegistroGratuito/RegistroCompletado.jsp&lt;/from-view-id&gt;\r\n            &lt;navigation-case&gt;\r\n                &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\r\n                &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\r\n            &lt;/navigation-case&gt;\r\n        &lt;/navigation-rule&gt;\r\n    &lt;/faces-config&gt;\r\n","title":"JSF 2.3 - Cannot invoke &quot;javax.faces.context.FacesContext.getAttributes()&quot; because &quot;this.context&quot; is null","body":"<p>The problem is when execute the lines with jsf tags in the jsp file. I execute a normal jsp file and works.\nBefore the error was &quot;Cannot find the Faces Context&quot;, but I update the jar of jsf-impl and jsf-api to  the last version, and then give me this error.\nI look for error and the problem should be with the URL pattern matches request URL but matches.\nThis is the error:</p>\n<pre><code>6: --&gt;\n7: &lt;jsp:root version=&quot;2.1&quot; xmlns:f=&quot;http://java.sun.com/jsf/core&quot; xmlns:h=&quot;http://java.sun.com/jsf/html&quot; xmlns:jsp=&quot;http://java.sun.com/JSP/Page&quot; xmlns:webuijsf=&quot;http://www.sun.com/webui/webuijsf&quot;&gt;\n8:     &lt;jsp:directive.page contentType=&quot;text/html;charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;/&gt;\n9:     &lt;f:view&gt;\n10:         &lt;webuijsf:page id=&quot;page1&quot;&gt;\n11:             &lt;webuijsf:html id=&quot;html1&quot;&gt;\n12:                 &lt;webuijsf:head id=&quot;head1&quot;&gt;\n\n\nStacktrace:] con causa raíz\njava.lang.NullPointerException: Cannot invoke &quot;javax.faces.context.FacesContext.getAttributes()&quot; because &quot;this.context&quot; is null\n    at javax.faces.webapp.UIComponentClassicTagBase.setJspId(UIComponentClassicTagBase.java:1856)\n    at org.apache.jsp.Login.Usuarios_005fLogin_jsp._jspx_meth_f_005fview_005f0(Usuarios_005fLogin_jsp.java:210)\n    at org.apache.jsp.Login.Usuarios_005fLogin_jsp._jspService(Usuarios_005fLogin_jsp.java:177)\n    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:466)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:379)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:327)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1787)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p><strong>Web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;Faccil2.0&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/faces/Login/Usuarios_Login.jsp&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;/faces/Home.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;context-param&gt;\n    &lt;description&gt;State saving method: 'client' or 'server' (=default). See JSF Specification 2.5.2&lt;/description&gt;\n    &lt;param-name&gt;javax.faces.STATE_SAVING_METHOD&lt;/param-name&gt;\n    &lt;param-value&gt;client&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  &lt;context-param&gt;\n    &lt;param-name&gt;javax.servlet.jsp.jstl.fmt.localizationContext&lt;/param-name&gt;\n    &lt;param-value&gt;resources.application&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  &lt;listener&gt;\n    &lt;listener-class&gt;com.sun.faces.config.ConfigureListener&lt;/listener-class&gt;\n  &lt;/listener&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>faces-config.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;faces-config\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_3.xsd&quot;\n    version=&quot;2.3&quot;&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;SessionBean1&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.SessionBean1&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;ApplicationBean1&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.ApplicationBean1&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;application&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;RequestBean1&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.RequestBean1&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Login$Usuarios_Login&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Login.Usuarios_Login&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$Categorias$Categorias_Agregar_tabla&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Categorias.Categorias_Agregar_tabla&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Global$Footer&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Global.Footer&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$Categorias$Categorias&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Categorias.Categorias&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$Categorias$Agregar_Modificar_Categoria&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Categorias.Agregar_Modificar_Categoria&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Configuracion/Categorias/Categorias.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Configuracion/Categorias/Agregar_Modificar_Categoria.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Configuracion/Categorias/Agregar_Modificar_Categoria.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Configuracion/Categorias/Categorias.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$Series$Series&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Series.Series&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$Series$Series_Agregar_Tabla&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Series.Series_Agregar_Tabla&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$Series$Agregar_Modificar_Serie&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.Series.Agregar_Modificar_Serie&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Configuracion/Series/Agregar_Modificar_Serie.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Configuracion/Series/Series.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Configuracion/Series/Series.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Configuracion/Series/Agregar_Modificar_Serie.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$MisDatos$DatosUsuario&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.MisDatos.DatosUsuario&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Configuracion$MisDatos$DatosUsuario_Formulario&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Configuracion.MisDatos.DatosUsuario_Formulario&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Login/Usuarios_Login.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Facturas/Facturas.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Productos$Productos&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Productos.Productos&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Clientes$Clientes&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Clientes&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Clientes$Clientes_Agregar_Tabla&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Clientes_Agregar_Tabla&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Productos$Productos_Agregar_Tabla&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Productos.Productos_Agregar_Tabla&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Clientes$Agregar_Cliente&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Agregar_Cliente&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Productos$Agregar_Producto&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Productos.Agregar_Producto&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Clientes/Clientes.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Clientes/Agregar_Cliente.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case3&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Clientes/Modificar_Cliente.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Productos/Productos.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Usuarios_Login.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Productos/Agregar_Producto.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case3&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Productos/Modificar_Producto.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Clientes/Agregar_Cliente.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Clientes/Clientes.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Productos/Agregar_Producto.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Productos/Productos.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Productos$Modificar_Producto&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Productos.Modificar_Producto&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Productos/Modificar_Producto.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Productos/Productos.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Clientes$Modificar_Cliente&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Clientes.Modificar_Cliente&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Clientes/Modificar_Cliente.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Clientes/Clientes.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;application&gt;\n        &lt;message-bundle&gt;faccilvisualweb.Faccil&lt;/message-bundle&gt;\n    &lt;/application&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Registro$Registro&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Registro.Registro&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Registro$Registro_Formulario&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Registro.Registro_Formulario&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Facturas$Facturas&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Facturas.Facturas&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Facturas$FacturasListados&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Facturas.FacturasListados&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Login$Login&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Login.Login&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Login/Login.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Recordatorio.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Facturas/Facturas.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case3&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Login$Recordatorio&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Login.Recordatorio&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Facturas/Facturas.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case2&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Facturas/AgregarFactura.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Global$FooterFaces&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Global.FooterFaces&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Global$FooterFaces2Niveles&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Global.FooterFaces2Niveles&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Login$Logout&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Login.Logout&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Login/Logout.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Facturas/Facturas.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;RegistroGratuito$Registro_Formulario&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.RegistroGratuito.Registro_Formulario&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;RegistroGratuito$Registro&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.RegistroGratuito.Registro&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;Registro$InformacionEnvio&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.Registro.InformacionEnvio&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Registro/InformacionEnvio.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/Registro/Registro.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Registro/InformacionEnvio.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;managed-bean&gt;\n        &lt;managed-bean-name&gt;RegistroGratuito$RegistroCompletado&lt;/managed-bean-name&gt;\n        &lt;managed-bean-class&gt;faccilvisualweb.RegistroGratuito.RegistroCompletado&lt;/managed-bean-class&gt;\n        &lt;managed-bean-scope&gt;request&lt;/managed-bean-scope&gt;\n    &lt;/managed-bean&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/RegistroGratuito/Registro.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/RegistroGratuito/RegistroCompletado.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n    &lt;navigation-rule&gt;\n        &lt;from-view-id&gt;/RegistroGratuito/RegistroCompletado.jsp&lt;/from-view-id&gt;\n        &lt;navigation-case&gt;\n            &lt;from-outcome&gt;case1&lt;/from-outcome&gt;\n            &lt;to-view-id&gt;/Login/Logout.jsp&lt;/to-view-id&gt;\n        &lt;/navigation-case&gt;\n    &lt;/navigation-rule&gt;\n&lt;/faces-config&gt;\n</code></pre>\n"},{"tags":["java","scala","logback","slf4j"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1663878369,"post_id":73820048,"comment_id":130349407,"body_markdown":"Do you see anything on stdout? As your logs are sent both to stdout and the file according to the config.","body":"Do you see anything on stdout? As your logs are sent both to stdout and the file according to the config."},{"owner":{"account_id":26416204,"reputation":21,"user_id":20064581,"display_name":"Roohein Malhotra"},"score":0,"creation_date":1663924162,"post_id":73820048,"comment_id":130358452,"body_markdown":"Yes stdout has logs , but the log format is not the same as the on in the logback.xml @Ga&#235;lJ","body":"Yes stdout has logs , but the log format is not the same as the on in the logback.xml @Ga&#235;lJ"}],"owner":{"account_id":26416204,"reputation":21,"user_id":20064581,"display_name":"Roohein Malhotra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1663876631,"creation_date":1663876631,"question_id":73820048,"body_markdown":"**logback.xml** \r\n\r\ndirectory path of logback.xml is ***src/main/resources/logback.xml***\r\n```\r\n\r\n&lt;configuration&gt;\r\n\r\n  &lt;conversionRule conversionWord=&quot;coloredLevel&quot; converterClass=&quot;play.api.libs.logback.ColoredLevel&quot; /&gt;\r\n\r\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n    &lt;file&gt;${application.home:-.}/logs/apploger.log&lt;/file&gt;\r\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n      &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n        &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&lt;/timestampFormat&gt;\r\n        &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\r\n        &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n          &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n        &lt;/jsonFormatter&gt;\r\n        &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n      &lt;/layout&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n      &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n        &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&lt;/timestampFormat&gt;\r\n        &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\r\n        &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n          &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n        &lt;/jsonFormatter&gt;\r\n        &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n\r\n      &lt;/layout&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;ASYNCFILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;ASYNCSTDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;logger name=&quot;play&quot; level=&quot;INFO&quot; /&gt;\r\n  &lt;logger name=&quot;application&quot; level=&quot;DEBUG&quot; /&gt;\r\n\r\n  &lt;!-- Off these ones as they are annoying, and anyway we manage configuration ourselves --&gt;\r\n  &lt;logger name=&quot;com.avaje.ebean.config.PropertyMapLoader&quot; level=&quot;OFF&quot; /&gt;\r\n  &lt;logger name=&quot;com.avaje.ebeaninternal.server.core.XmlConfigLoader&quot; level=&quot;OFF&quot; /&gt;\r\n  &lt;logger name=&quot;com.avaje.ebeaninternal.server.lib.BackgroundThread&quot; level=&quot;OFF&quot; /&gt;\r\n  &lt;logger name=&quot;com.gargoylesoftware.htmlunit.javascript&quot; level=&quot;OFF&quot; /&gt;\r\n\r\n  &lt;root level=&quot;INFO&quot;&gt;\r\n    &lt;appender-ref ref=&quot;ASYNCFILE&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;ASYNCSTDOUT&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n**built.sbt**\r\n\r\n```\r\njavacOptions ++= Seq(&quot;-source&quot;, &quot;1.8&quot;, &quot;-target&quot;, &quot;1.8&quot;, &quot;-Xlint&quot;)\r\n\r\nlazy val root = (project in file(&quot;.&quot;)).\r\n  settings(\r\n    name := &quot;apploggerrr&quot;,\r\n    version := &quot;test&quot;,\r\n//    version := &quot;poly_quote&quot;,\r\n    organization := &quot;com.abc&quot;,\r\n    scalaVersion := &quot;2.12.12&quot;,\r\n    trapExit := false,\r\n    retrieveManaged := true,\r\n    libraryDependencies +=&quot;com.typesafe.play&quot; %% &quot;play-ws&quot; % &quot;2.8.7&quot;,\r\n    libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;requests&quot; % &quot;0.6.8&quot;,\r\n    libraryDependencies +=\r\n      (&quot;org.json4s&quot; %% &quot;json4s-jackson&quot; % &quot;3.6.7&quot; ).excludeAll(\r\n        ExclusionRule(organization = &quot;com.fasterxml.jackson.core&quot;)\r\n      ),\r\n    libraryDependencies += &quot;software.amazon.awssdk&quot; % &quot;dynamodb&quot; % &quot;2.16.64&quot;,\r\n    libraryDependencies += &quot;org.scanamo&quot; %% &quot;scanamo&quot; % &quot;1.0.0-M15&quot;,\r\n    libraryDependencies += &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot; % &quot;2.12.2&quot;,\r\n    libraryDependencies += &quot;org.scala-lang&quot; % &quot;scala-reflect&quot; % scalaVersion.value,\r\n    libraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.1.2&quot;,\r\n    libraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.1.2&quot;,\r\n    libraryDependencies += &quot;com.audienceproject&quot; %% &quot;spark-dynamodb&quot; % &quot;1.1.2&quot;,\r\n    libraryDependencies += &quot;org.elasticsearch&quot; %% &quot;elasticsearch-spark-30&quot; % &quot;7.13.2&quot;,\r\n    libraryDependencies += &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;9.4-1206-jdbc42&quot;,\r\n    libraryDependencies += &quot;org.apache.httpcomponents&quot; % &quot;httpclient&quot; % &quot;4.5.11&quot;,\r\n    libraryDependencies += &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.2.18&quot;,\r\n    libraryDependencies += &quot;com.typesafe&quot; % &quot;config&quot; % &quot;1.4.0&quot;,\r\n    libraryDependencies += &quot;com.amazonaws&quot; % &quot;aws-java-sdk-dynamodb&quot; % &quot;1.12.22&quot; ,\r\n    libraryDependencies += &quot;com.github.mjakubowski84&quot; %% &quot;parquet4s-core&quot; % &quot;1.9.2&quot; ,\r\n    libraryDependencies += &quot;com.google.auth&quot; % &quot;google-auth-library-oauth2-http&quot; % &quot;0.26.0&quot;,\r\n    libraryDependencies += &quot;com.google.firebase&quot; % &quot;firebase-admin&quot; % &quot;6.8.1&quot;,\r\n    libraryDependencies += &quot;com.typesafe.slick&quot; %% &quot;slick&quot; % &quot;3.3.3&quot;,\r\n    libraryDependencies += &quot;com.typesafe.slick&quot; %% &quot;slick-codegen&quot; % &quot;3.3.3&quot;,\r\n    libraryDependencies += &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;2.0.0&quot;,\r\n    libraryDependencies += &quot;redis.clients&quot; % &quot;jedis&quot; % &quot;3.6.3&quot;,\r\n    libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;ujson&quot; % &quot;1.3.8&quot;,\r\n    libraryDependencies += &quot;org.java-websocket&quot; % &quot;Java-WebSocket&quot; % &quot;1.5.2&quot;,\r\n    libraryDependencies += &quot;com.sksamuel.elastic4s&quot; % &quot;elastic4s-client-esjava_2.12&quot; % &quot;8.4.1&quot;,\r\n    libraryDependencies += &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-core&quot; % &quot;8.4.1&quot;,\r\n    libraryDependencies += &quot;com.amazonaws&quot; % &quot;amazon-sqs-java-messaging-lib&quot; % &quot;1.0.8&quot;,\r\n    libraryDependencies += &quot;org.scalaj&quot; % &quot;scalaj-http_2.11&quot; % &quot;2.3.0&quot;,\r\n    libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;upickle&quot; % &quot;1.4.3&quot;,\r\n    libraryDependencies += &quot;com.google.code.gson&quot; % &quot;gson&quot; % &quot;1.7.1&quot; ,\r\n    libraryDependencies +=&quot;com.newrelic.agent.java&quot; % &quot;newrelic-api&quot; % &quot;7.7.0&quot;,\r\n    libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.1&quot;,\r\n    libraryDependencies +=&quot;ch.qos.logback&quot; % &quot;logback-classic&quot; % &quot;1.2.3&quot;,\r\n    libraryDependencies +=&quot;ch.qos.logback.contrib&quot; % &quot;logback-jackson&quot; % &quot;0.1.5&quot;,\r\n    libraryDependencies +=&quot;ch.qos.logback.contrib&quot; % &quot;logback-json-classic&quot; % &quot;0.1.5&quot;,\r\n    libraryDependencies += &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-jackson&quot; % &quot;6.7.8&quot;,\r\n    libraryDependencies += &quot;ch.qos.logback&quot; % &quot;logback-core&quot; % &quot;1.2.3&quot;,\r\n    libraryDependencies += &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.30&quot;,\r\n\r\n\r\n  )\r\n\r\n```\r\nIts able to create a applogger.log file using this configuration, but its not writing any logs to it. The configuration is producing an empty file, indicating that logback.xml is being picked up, but I can&#39;t figure out why logs aren&#39;t being written to that log file.\r\n\r\nWith one of my other projects, this exact configuration is operational, but I am unable to identify the problem in this one.\r\n\r\nI&#39;ve tried practically all of the answers to this question&#39;s variations that are listed on stackoverflow but none of them worked.","title":"Logback empty file created and no logs being written to it","body":"<p><strong>logback.xml</strong></p>\n<p>directory path of logback.xml is <em><strong>src/main/resources/logback.xml</strong></em></p>\n<pre><code>\n&lt;configuration&gt;\n\n  &lt;conversionRule conversionWord=&quot;coloredLevel&quot; converterClass=&quot;play.api.libs.logback.ColoredLevel&quot; /&gt;\n\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${application.home:-.}/logs/apploger.log&lt;/file&gt;\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n      &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n        &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSX&lt;/timestampFormat&gt;\n        &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\n        &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n          &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n        &lt;/jsonFormatter&gt;\n        &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n      &lt;/layout&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n      &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n        &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSX&lt;/timestampFormat&gt;\n        &lt;timestampFormatTimezoneId&gt;Etc/UTC&lt;/timestampFormatTimezoneId&gt;\n        &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n          &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n        &lt;/jsonFormatter&gt;\n        &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n\n      &lt;/layout&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;ASYNCFILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;ASYNCSTDOUT&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/appender&gt;\n\n  &lt;logger name=&quot;play&quot; level=&quot;INFO&quot; /&gt;\n  &lt;logger name=&quot;application&quot; level=&quot;DEBUG&quot; /&gt;\n\n  &lt;!-- Off these ones as they are annoying, and anyway we manage configuration ourselves --&gt;\n  &lt;logger name=&quot;com.avaje.ebean.config.PropertyMapLoader&quot; level=&quot;OFF&quot; /&gt;\n  &lt;logger name=&quot;com.avaje.ebeaninternal.server.core.XmlConfigLoader&quot; level=&quot;OFF&quot; /&gt;\n  &lt;logger name=&quot;com.avaje.ebeaninternal.server.lib.BackgroundThread&quot; level=&quot;OFF&quot; /&gt;\n  &lt;logger name=&quot;com.gargoylesoftware.htmlunit.javascript&quot; level=&quot;OFF&quot; /&gt;\n\n  &lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;ASYNCFILE&quot; /&gt;\n    &lt;appender-ref ref=&quot;ASYNCSTDOUT&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>built.sbt</strong></p>\n<pre><code>javacOptions ++= Seq(&quot;-source&quot;, &quot;1.8&quot;, &quot;-target&quot;, &quot;1.8&quot;, &quot;-Xlint&quot;)\n\nlazy val root = (project in file(&quot;.&quot;)).\n  settings(\n    name := &quot;apploggerrr&quot;,\n    version := &quot;test&quot;,\n//    version := &quot;poly_quote&quot;,\n    organization := &quot;com.abc&quot;,\n    scalaVersion := &quot;2.12.12&quot;,\n    trapExit := false,\n    retrieveManaged := true,\n    libraryDependencies +=&quot;com.typesafe.play&quot; %% &quot;play-ws&quot; % &quot;2.8.7&quot;,\n    libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;requests&quot; % &quot;0.6.8&quot;,\n    libraryDependencies +=\n      (&quot;org.json4s&quot; %% &quot;json4s-jackson&quot; % &quot;3.6.7&quot; ).excludeAll(\n        ExclusionRule(organization = &quot;com.fasterxml.jackson.core&quot;)\n      ),\n    libraryDependencies += &quot;software.amazon.awssdk&quot; % &quot;dynamodb&quot; % &quot;2.16.64&quot;,\n    libraryDependencies += &quot;org.scanamo&quot; %% &quot;scanamo&quot; % &quot;1.0.0-M15&quot;,\n    libraryDependencies += &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot; % &quot;2.12.2&quot;,\n    libraryDependencies += &quot;org.scala-lang&quot; % &quot;scala-reflect&quot; % scalaVersion.value,\n    libraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.1.2&quot;,\n    libraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.1.2&quot;,\n    libraryDependencies += &quot;com.audienceproject&quot; %% &quot;spark-dynamodb&quot; % &quot;1.1.2&quot;,\n    libraryDependencies += &quot;org.elasticsearch&quot; %% &quot;elasticsearch-spark-30&quot; % &quot;7.13.2&quot;,\n    libraryDependencies += &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;9.4-1206-jdbc42&quot;,\n    libraryDependencies += &quot;org.apache.httpcomponents&quot; % &quot;httpclient&quot; % &quot;4.5.11&quot;,\n    libraryDependencies += &quot;org.postgresql&quot; % &quot;postgresql&quot; % &quot;42.2.18&quot;,\n    libraryDependencies += &quot;com.typesafe&quot; % &quot;config&quot; % &quot;1.4.0&quot;,\n    libraryDependencies += &quot;com.amazonaws&quot; % &quot;aws-java-sdk-dynamodb&quot; % &quot;1.12.22&quot; ,\n    libraryDependencies += &quot;com.github.mjakubowski84&quot; %% &quot;parquet4s-core&quot; % &quot;1.9.2&quot; ,\n    libraryDependencies += &quot;com.google.auth&quot; % &quot;google-auth-library-oauth2-http&quot; % &quot;0.26.0&quot;,\n    libraryDependencies += &quot;com.google.firebase&quot; % &quot;firebase-admin&quot; % &quot;6.8.1&quot;,\n    libraryDependencies += &quot;com.typesafe.slick&quot; %% &quot;slick&quot; % &quot;3.3.3&quot;,\n    libraryDependencies += &quot;com.typesafe.slick&quot; %% &quot;slick-codegen&quot; % &quot;3.3.3&quot;,\n    libraryDependencies += &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;2.0.0&quot;,\n    libraryDependencies += &quot;redis.clients&quot; % &quot;jedis&quot; % &quot;3.6.3&quot;,\n    libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;ujson&quot; % &quot;1.3.8&quot;,\n    libraryDependencies += &quot;org.java-websocket&quot; % &quot;Java-WebSocket&quot; % &quot;1.5.2&quot;,\n    libraryDependencies += &quot;com.sksamuel.elastic4s&quot; % &quot;elastic4s-client-esjava_2.12&quot; % &quot;8.4.1&quot;,\n    libraryDependencies += &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-core&quot; % &quot;8.4.1&quot;,\n    libraryDependencies += &quot;com.amazonaws&quot; % &quot;amazon-sqs-java-messaging-lib&quot; % &quot;1.0.8&quot;,\n    libraryDependencies += &quot;org.scalaj&quot; % &quot;scalaj-http_2.11&quot; % &quot;2.3.0&quot;,\n    libraryDependencies += &quot;com.lihaoyi&quot; %% &quot;upickle&quot; % &quot;1.4.3&quot;,\n    libraryDependencies += &quot;com.google.code.gson&quot; % &quot;gson&quot; % &quot;1.7.1&quot; ,\n    libraryDependencies +=&quot;com.newrelic.agent.java&quot; % &quot;newrelic-api&quot; % &quot;7.7.0&quot;,\n    libraryDependencies += &quot;org.apache.hadoop&quot; % &quot;hadoop-aws&quot; % &quot;3.2.1&quot;,\n    libraryDependencies +=&quot;ch.qos.logback&quot; % &quot;logback-classic&quot; % &quot;1.2.3&quot;,\n    libraryDependencies +=&quot;ch.qos.logback.contrib&quot; % &quot;logback-jackson&quot; % &quot;0.1.5&quot;,\n    libraryDependencies +=&quot;ch.qos.logback.contrib&quot; % &quot;logback-json-classic&quot; % &quot;0.1.5&quot;,\n    libraryDependencies += &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-jackson&quot; % &quot;6.7.8&quot;,\n    libraryDependencies += &quot;ch.qos.logback&quot; % &quot;logback-core&quot; % &quot;1.2.3&quot;,\n    libraryDependencies += &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.30&quot;,\n\n\n  )\n\n</code></pre>\n<p>Its able to create a applogger.log file using this configuration, but its not writing any logs to it. The configuration is producing an empty file, indicating that logback.xml is being picked up, but I can't figure out why logs aren't being written to that log file.</p>\n<p>With one of my other projects, this exact configuration is operational, but I am unable to identify the problem in this one.</p>\n<p>I've tried practically all of the answers to this question's variations that are listed on stackoverflow but none of them worked.</p>\n"},{"tags":["java","loops","for-loop","recursion","alphabet"],"comments":[{"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"score":0,"creation_date":1382597127,"post_id":19558792,"comment_id":29023625,"body_markdown":"In your code dnt see any recursion being used? What have you tried?","body":"In your code dnt see any recursion being used? What have you tried?"}],"answers":[{"tags":[],"owner":{"account_id":162592,"reputation":4205,"user_id":384155,"accept_rate":75,"display_name":"Osiris"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1382597619,"creation_date":1382597119,"answer_id":19558837,"question_id":19558792,"body_markdown":"    public static void printCharRecur(char ch) {\r\n     if(ch==&#39;z&#39;) System.out.print(&quot;z z&quot;);\r\n     else {\r\n      System.out.print(ch);\r\n      printCharRecur((char) (ch+1));\r\n      System.out.print(ch);\r\n     }\r\n    }\r\n\r\n  Call `printCharRecur(&#39;a&#39;)` from main","title":"How to print a through z using a recursive method","body":"<pre><code>public static void printCharRecur(char ch) {\n if(ch=='z') System.out.print(\"z z\");\n else {\n  System.out.print(ch);\n  printCharRecur((char) (ch+1));\n  System.out.print(ch);\n }\n}\n</code></pre>\n\n<p>Call <code>printCharRecur('a')</code> from main</p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382597235,"creation_date":1382597235,"answer_id":19558877,"question_id":19558792,"body_markdown":"To print an alphabet in forward direction: print the first character of the alphabet, then print an alphabet without the first character.\r\n\r\nTo print it in reverse, just reverse the order of those two: print an alphabet without the first character, then print the first character.\r\n","title":"How to print a through z using a recursive method","body":"<p>To print an alphabet in forward direction: print the first character of the alphabet, then print an alphabet without the first character.</p>\n\n<p>To print it in reverse, just reverse the order of those two: print an alphabet without the first character, then print the first character.</p>\n"},{"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382597369,"creation_date":1382597369,"answer_id":19558914,"question_id":19558792,"body_markdown":"This is how to do it :\r\n\r\n\r\n    public static void main(String[] args) {\r\n        recursiveAlphabet(&#39;a&#39;);\r\n        recursiveAlphabetReverse(&#39;z&#39;);\r\n    }\r\n\r\n    public static void recursiveAlphabet(char current) {\r\n        System.out.println(current);\r\n        if (current != &#39;z&#39;) {\r\n            recursiveAlphabet((char) (current + 1));\r\n        }\r\n    }\r\n\r\n    public static void recursiveAlphabetReverse(char current) {\r\n        System.out.println(current);\r\n        if (current != &#39;a&#39;) {\r\n            recursiveAlphabetReverse((char) (current - 1));\r\n        }\r\n    }\r\n\r\nIf you need, you can have both in one method, which looks like this :\r\n\r\n    public static void main(String[] args) {\r\n        resursiveBothSide(&#39;a&#39;, true);\r\n    }\r\n\r\n    public static void resursiveBothSide(char current, boolean forward) {\r\n        System.out.println(current);\r\n        if ((current == &#39;z&#39;) &amp;&amp; (forward)) {\r\n            forward = false;\r\n        }\r\n        if (forward) {\r\n            resursiveBothSide((char) (current + 1), forward);\r\n        } else {\r\n            if (current != &#39;a&#39;) {\r\n                resursiveBothSide((char) (current - 1), forward);\r\n            }\r\n        }\r\n    }","title":"How to print a through z using a recursive method","body":"<p>This is how to do it :</p>\n\n<pre><code>public static void main(String[] args) {\n    recursiveAlphabet('a');\n    recursiveAlphabetReverse('z');\n}\n\npublic static void recursiveAlphabet(char current) {\n    System.out.println(current);\n    if (current != 'z') {\n        recursiveAlphabet((char) (current + 1));\n    }\n}\n\npublic static void recursiveAlphabetReverse(char current) {\n    System.out.println(current);\n    if (current != 'a') {\n        recursiveAlphabetReverse((char) (current - 1));\n    }\n}\n</code></pre>\n\n<p>If you need, you can have both in one method, which looks like this :</p>\n\n<pre><code>public static void main(String[] args) {\n    resursiveBothSide('a', true);\n}\n\npublic static void resursiveBothSide(char current, boolean forward) {\n    System.out.println(current);\n    if ((current == 'z') &amp;&amp; (forward)) {\n        forward = false;\n    }\n    if (forward) {\n        resursiveBothSide((char) (current + 1), forward);\n    } else {\n        if (current != 'a') {\n            resursiveBothSide((char) (current - 1), forward);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3140769,"reputation":14861,"user_id":2656275,"accept_rate":87,"display_name":"Hussain Shabbir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382597566,"creation_date":1382597566,"answer_id":19558970,"question_id":19558792,"body_markdown":"Do below as simple just remove your if condition:-\r\n\r\n    char ch;\r\n    \t\t  for( ch = &#39;a&#39; ; ch &lt;= &#39;z&#39; ; ch++ )\r\n    \t\t    System.out.print(ch);\r\n    \t\t  System.out.println();\r\n    \t\t  for( ch = &#39;z&#39; ; ch &gt;= &#39;a&#39; ; ch--)\r\n    \t\t     System.out.print(ch);","title":"How to print a through z using a recursive method","body":"<p>Do below as simple just remove your if condition:-</p>\n\n<pre><code>char ch;\n          for( ch = 'a' ; ch &lt;= 'z' ; ch++ )\n            System.out.print(ch);\n          System.out.println();\n          for( ch = 'z' ; ch &gt;= 'a' ; ch--)\n             System.out.print(ch);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382598430,"creation_date":1382598430,"answer_id":19559198,"question_id":19558792,"body_markdown":"Here with simple, single method and without `-` :\r\n\r\n    void printrec(char c) {\r\n        if (c &gt; &#39;z&#39;) return;\r\n        System.out.print(c);\r\n        printrec((char) (c+1));\r\n        System.out.print(c);\r\n    }","title":"How to print a through z using a recursive method","body":"<p>Here with simple, single method and without <code>-</code> :</p>\n\n<pre><code>void printrec(char c) {\n    if (c &gt; 'z') return;\n    System.out.print(c);\n    printrec((char) (c+1));\n    System.out.print(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26175251,"reputation":23,"user_id":19859529,"display_name":"Deepak Gauttam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663876290,"creation_date":1663875908,"answer_id":73819933,"question_id":19558792,"body_markdown":"        import java.util.*;\r\n        import java.io.*;\r\n        \r\n        public class Main\r\n        {\r\n            static void print(char n){\r\n                if(n==&#39;z&#39;){\r\n                   System.out.print(n);\r\n                    return;\r\n                }\r\n            \r\n                System.out.print(n+&quot; &quot;);\r\n                print((char)(n+1)) ;\r\n            }\r\n            public static void main(String [] arg){\r\n                print(&#39;a&#39;);\r\n            }\r\n        }\r\n\r\n    /*\r\n    Output:  a b c d e f g h i j k l m n o p q r s t u v w x y z\r\n    */","title":"How to print a through z using a recursive method","body":"<pre><code>    import java.util.*;\n    import java.io.*;\n    \n    public class Main\n    {\n        static void print(char n){\n            if(n=='z'){\n               System.out.print(n);\n                return;\n            }\n        \n            System.out.print(n+&quot; &quot;);\n            print((char)(n+1)) ;\n        }\n        public static void main(String [] arg){\n            print('a');\n        }\n    }\n\n/*\nOutput:  a b c d e f g h i j k l m n o p q r s t u v w x y z\n*/\n</code></pre>\n"}],"owner":{"account_id":3482820,"reputation":41,"user_id":2914418,"display_name":"user2914418"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19558837,"answer_count":6,"score":0,"last_activity_date":1663876290,"creation_date":1382596952,"question_id":19558792,"body_markdown":"Hi new to java here and I need to print the alphabet from a to z and in reverse from z to a. I need to do this using a recursive method.\r\n\r\n    class Alphabets{\r\n  \r\n  \r\n    public static void main(String args[]){\r\n      char ch;\r\n      for( ch = &#39;a&#39; ; ch &lt;= &#39;z&#39; ; ch++ )\r\n        System.out.print(ch);\r\n      System.out.println();\r\n      for( ch = &#39;z&#39; ; ch &gt;= &#39;a&#39; ; ch--)\r\n         System.out.print(ch);\r\n      \r\n      if (ch &lt;= &#39;a&#39;) ch = ch--;\r\n        else if(ch &gt;=&#39;a&#39;) ch = ch++;\r\n        System.out.print(ch);\r\n \r\n     }\r\n    }\r\nMy output for the two for loops seems to work just fine but I am completely lost on the recursive method. ","title":"How to print a through z using a recursive method","body":"<p>Hi new to java here and I need to print the alphabet from a to z and in reverse from z to a. I need to do this using a recursive method.</p>\n\n<pre><code>class Alphabets{\n\n\npublic static void main(String args[]){\n  char ch;\n  for( ch = 'a' ; ch &lt;= 'z' ; ch++ )\n    System.out.print(ch);\n  System.out.println();\n  for( ch = 'z' ; ch &gt;= 'a' ; ch--)\n     System.out.print(ch);\n\n  if (ch &lt;= 'a') ch = ch--;\n    else if(ch &gt;='a') ch = ch++;\n    System.out.print(ch);\n\n }\n}\n</code></pre>\n\n<p>My output for the two for loops seems to work just fine but I am completely lost on the recursive method. </p>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663863965,"creation_date":1663860928,"answer_id":73817313,"question_id":73816827,"body_markdown":"We probably need to see your flows topology and more details about your solution, but there is indeed no problem to transfer big objects in the message headers. \r\n\r\nYou perhaps may also look into a publish-subscribe or recipient-list solution to send the same message to different sub-flows. This way you can do in those sub-flows whatever you need with request without looking into headers.\r\n\r\n**UPDATE**\r\n\r\nSo, according your comment about scatter-gather, it sounds like you want to distribute a message to the recipients, gather their results and then continue together with an original, request message. \r\n\r\nSince you say that you&#39;d like do not send an extra header to those recipients, but still preserve a request message for post-gather processing, then you may look into a `enrich()` EI pattern, where your scatter-gather would be a request sub-flow. There you can decide to add a gather result into a header or property of the request payload (if that is possible).\r\n\r\nSee more info about Content Enricher in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/message-transformation.html#payload-enricher","title":"How do I pass an object to the next flow from a flow in spring integration?","body":"<p>We probably need to see your flows topology and more details about your solution, but there is indeed no problem to transfer big objects in the message headers.</p>\n<p>You perhaps may also look into a publish-subscribe or recipient-list solution to send the same message to different sub-flows. This way you can do in those sub-flows whatever you need with request without looking into headers.</p>\n<p><strong>UPDATE</strong></p>\n<p>So, according your comment about scatter-gather, it sounds like you want to distribute a message to the recipients, gather their results and then continue together with an original, request message.</p>\n<p>Since you say that you'd like do not send an extra header to those recipients, but still preserve a request message for post-gather processing, then you may look into a <code>enrich()</code> EI pattern, where your scatter-gather would be a request sub-flow. There you can decide to add a gather result into a header or property of the request payload (if that is possible).</p>\n<p>See more info about Content Enricher in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-transformation.html#payload-enricher\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-transformation.html#payload-enricher</a></p>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1663876287,"creation_date":1663858673,"question_id":73816827,"body_markdown":"Here I have 3 different flows and I&#39;m using spring integration dsl. Let&#39;s assume we have prepared an object in flow 1 and I want to pass that object to other flows without disturbing the actual payload that&#39;s coming from the gateway. So I just want to add the object somehow in somewhere but not changing the actual payload so that I can use that object in subsequent flows. I can pass that in header but will that be correct to send a big object in header?\r\n\r\nHere I&#39;m using scatter gather pattern with three parallel flows.\r\n\r\n \r\n\r\n         @Bean\r\n          public IntegrationFlow flow() {\r\n                    return flow -&gt;\r\n                        flow.handle(validatorService, &quot;validateRequest&quot;)\r\n                            .split()\r\n                            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                            .scatterGather(\r\n                                scatterer -&gt;\r\n                                    scatterer\r\n                                        .applySequence(true)\r\n                                        .recipientFlow(flow1())\r\n                                        .recipientFlow(flow2())\r\n                                        .recipientFlow(flow3()),\r\n                                gatherer -&gt;\r\n                                    gatherer\r\n                                        .releaseLockBeforeSend(true)\r\n                                        .releaseStrategy(group -&gt; group.size() == 2))\r\n                            .aggregate(lionService.someMethod())\r\n            // here I want to call other Integration flows\r\n                            .gateway(someFlow())\r\n                            .to(someFlow2());\r\n      \r\n                }\r\n    \r\n    //Here in this flow I&#39;m calling prepareCDRequestFromLionRequest method in the handle(). This method returns an object1 which is one of the payload(among 3) that will be used after aggregation but I want to prepare another object2 in this method and somehow want to send that object2 to the someFlow() or someFlow2() but I want object1 as a payload. \r\n        \r\n         @Bean\r\n          public IntegrationFlow flow1() {\r\n            return flow -&gt;\r\n                flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                    .enrichHeaders(h -&gt; h.errorChannel(&quot;flow1ErrorChannel&quot;, true))\r\n                    .handle(cdRequestService, &quot;prepareCDRequestFromLionRequest&quot;);\r\n          }\r\n        //same way I have flow2 and flow3\r\n\r\n\r\n    //validateRequest method\r\n      public Object1 validateRequest(LionRequest lionRequest) {\r\n        lionValidationHelper.validateRequestAttributes(lionRequest);\r\n    \r\n       // validation code goes here after creating a new request object which will go to the parallel flows\r\n    Object1 obj1 = someLogicTocreateTheObject1\r\n    Object2 obj2 = someLogicTocreateTheObject2\r\n        return object1;\r\n      }\r\n\r\n*UPDATE - Now as u see above I&#39;m sending object1 as a payload but I need object2 to be sent from here somehow so that I can make use of this object2 in other subsequent flows. This Object2 is a POJO and having different fields so in other flows I&#39;ll be getting relevant information which I&#39;ll be setting to it&#39;s fields. And finally I&#39;ll be getting an object which then I&#39;ll be using in someFlow(). So I want object to be passed and enhancing that object in different flows that I have. \r\n\r\nOr let&#39;s suppose after validateRequest I want to create an object and want to pass that to the parallel flows/someFlow somehow but I don&#39;t want to hamper the payload that will be coming to the flows. By using header it&#39;s achievable but is there a different way to achieve this? ","title":"How do I pass an object to the next flow from a flow in spring integration?","body":"<p>Here I have 3 different flows and I'm using spring integration dsl. Let's assume we have prepared an object in flow 1 and I want to pass that object to other flows without disturbing the actual payload that's coming from the gateway. So I just want to add the object somehow in somewhere but not changing the actual payload so that I can use that object in subsequent flows. I can pass that in header but will that be correct to send a big object in header?</p>\n<p>Here I'm using scatter gather pattern with three parallel flows.</p>\n<pre><code>     @Bean\n      public IntegrationFlow flow() {\n                return flow -&gt;\n                    flow.handle(validatorService, &quot;validateRequest&quot;)\n                        .split()\n                        .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n                        .scatterGather(\n                            scatterer -&gt;\n                                scatterer\n                                    .applySequence(true)\n                                    .recipientFlow(flow1())\n                                    .recipientFlow(flow2())\n                                    .recipientFlow(flow3()),\n                            gatherer -&gt;\n                                gatherer\n                                    .releaseLockBeforeSend(true)\n                                    .releaseStrategy(group -&gt; group.size() == 2))\n                        .aggregate(lionService.someMethod())\n        // here I want to call other Integration flows\n                        .gateway(someFlow())\n                        .to(someFlow2());\n  \n            }\n\n//Here in this flow I'm calling prepareCDRequestFromLionRequest method in the handle(). This method returns an object1 which is one of the payload(among 3) that will be used after aggregation but I want to prepare another object2 in this method and somehow want to send that object2 to the someFlow() or someFlow2() but I want object1 as a payload. \n    \n     @Bean\n      public IntegrationFlow flow1() {\n        return flow -&gt;\n            flow.channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n                .enrichHeaders(h -&gt; h.errorChannel(&quot;flow1ErrorChannel&quot;, true))\n                .handle(cdRequestService, &quot;prepareCDRequestFromLionRequest&quot;);\n      }\n    //same way I have flow2 and flow3\n\n\n//validateRequest method\n  public Object1 validateRequest(LionRequest lionRequest) {\n    lionValidationHelper.validateRequestAttributes(lionRequest);\n\n   // validation code goes here after creating a new request object which will go to the parallel flows\nObject1 obj1 = someLogicTocreateTheObject1\nObject2 obj2 = someLogicTocreateTheObject2\n    return object1;\n  }\n</code></pre>\n<p>*UPDATE - Now as u see above I'm sending object1 as a payload but I need object2 to be sent from here somehow so that I can make use of this object2 in other subsequent flows. This Object2 is a POJO and having different fields so in other flows I'll be getting relevant information which I'll be setting to it's fields. And finally I'll be getting an object which then I'll be using in someFlow(). So I want object to be passed and enhancing that object in different flows that I have.</p>\n<p>Or let's suppose after validateRequest I want to create an object and want to pass that to the parallel flows/someFlow somehow but I don't want to hamper the payload that will be coming to the flows. By using header it's achievable but is there a different way to achieve this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8977,"page":1015,"page_size":100}
