{"items":[{"tags":["java","arrays","filter","discord","discord-jda"],"comments":[{"owner":{"account_id":12843211,"reputation":822,"user_id":9290563,"display_name":"Danny"},"score":0,"creation_date":1654072675,"post_id":72394191,"comment_id":128002445,"body_markdown":"Would you mind adding the actual code you tried to your question? Right now, one can only assume what went wrong.","body":"Would you mind adding the actual code you tried to your question? Right now, one can only assume what went wrong."},{"owner":{"account_id":25394098,"reputation":1,"user_id":19204613,"display_name":"novice151"},"score":0,"creation_date":1656054561,"post_id":72394191,"comment_id":128482419,"body_markdown":"I solved this problem by using ButtonEvent. Sorry for the late reply, and I felt it was difficult to solve it because I couldn&#39;t use getMessageId method in the addreaction.","body":"I solved this problem by using ButtonEvent. Sorry for the late reply, and I felt it was difficult to solve it because I couldn&#39;t use getMessageId method in the addreaction."}],"owner":{"account_id":25394098,"reputation":1,"user_id":19204613,"display_name":"novice151"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653635955,"creation_date":1653578529,"question_id":72394191,"body_markdown":"\r\nWhen the user reacts, I want to edit the embed to insert the user&#39;s nickname into a field.\r\nSo I tried to use the onGuildMessageReactionAdd method but it failed. Is there a way?\r\n```\r\n  @Override\r\n    public void onGuildMessageReceived(GuildMessageReceivedEvent event) {\r\n        String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\r\n        String UserName = Objects.requireNonNull(event.getMember()).getNickname();\r\n        TextChannel textChannel = event.getGuild().getTextChannelById(SendChannelId); \r\n        if (args[0].equalsIgnoreCase(prefix + &quot;test&quot;)) {\r\n            EmbedBuilder embed = new EmbedBuilder();\r\n            try {\r\n                embed.setTitle(args[1], &quot;&quot;);\r\n            } catch (ArrayIndexOutOfBoundsException e) {\r\n                embed.addField(&quot;testField&quot;, &quot;testField&quot;, false);\r\n                embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\r\n                event.getChannel().sendMessage(embed.build()).queue();\r\n                embed.clear();\r\n                return;\r\n            }\r\n            embed.addField(&quot;...&quot;, UserName, false);\r\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); //I want to edit this field!\r\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); \r\n             try {\r\n                embed.addField(&quot;...&quot;, args[2], false);\r\n            } catch (ArrayIndexOutOfBoundsException e) {\r\n                embed.addField(&quot;...&quot;, &quot;...&quot;, false);\r\n            }\r\n\r\n            embed.setColor(Color.CYAN);\r\n            embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\r\n            Objects.requireNonNull(textChannel).sendMessage(embed.build()).override(true).queue(message -&gt; {\r\n                message.addReaction(&quot;minn:&quot; + emoji1).queue(); //When User react to this emoji\r\n                message.addReaction(&quot;minn:&quot; + emoji2).queue();\r\n                temp.push(message.getId());\r\n                target.put(event.getMember().getUser().getId().hashCode(), temp);\r\n                keySet = target.keySet();\r\n\r\n            });\r\n            embed.clear();\r\n        }\r\n&#39;&#39;&#39;","title":"How can I edit the embed when the user reacts? JDA","body":"<p>When the user reacts, I want to edit the embed to insert the user's nickname into a field.\nSo I tried to use the onGuildMessageReactionAdd method but it failed. Is there a way?</p>\n<pre><code>  @Override\n    public void onGuildMessageReceived(GuildMessageReceivedEvent event) {\n        String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\n        String UserName = Objects.requireNonNull(event.getMember()).getNickname();\n        TextChannel textChannel = event.getGuild().getTextChannelById(SendChannelId); \n        if (args[0].equalsIgnoreCase(prefix + &quot;test&quot;)) {\n            EmbedBuilder embed = new EmbedBuilder();\n            try {\n                embed.setTitle(args[1], &quot;&quot;);\n            } catch (ArrayIndexOutOfBoundsException e) {\n                embed.addField(&quot;testField&quot;, &quot;testField&quot;, false);\n                embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\n                event.getChannel().sendMessage(embed.build()).queue();\n                embed.clear();\n                return;\n            }\n            embed.addField(&quot;...&quot;, UserName, false);\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); //I want to edit this field!\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); \n             try {\n                embed.addField(&quot;...&quot;, args[2], false);\n            } catch (ArrayIndexOutOfBoundsException e) {\n                embed.addField(&quot;...&quot;, &quot;...&quot;, false);\n            }\n\n            embed.setColor(Color.CYAN);\n            embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\n            Objects.requireNonNull(textChannel).sendMessage(embed.build()).override(true).queue(message -&gt; {\n                message.addReaction(&quot;minn:&quot; + emoji1).queue(); //When User react to this emoji\n                message.addReaction(&quot;minn:&quot; + emoji2).queue();\n                temp.push(message.getId());\n                target.put(event.getMember().getUser().getId().hashCode(), temp);\n                keySet = target.keySet();\n\n            });\n            embed.clear();\n        }\n'''\n</code></pre>\n"},{"tags":["java","spring-boot","drools","rules"],"comments":[{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1653574385,"post_id":72390675,"comment_id":127888534,"body_markdown":"do you get any logs?","body":"do you get any logs?"},{"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"score":0,"creation_date":1653575246,"post_id":72390675,"comment_id":127888857,"body_markdown":"no I don&#39;t get any logs @JonathanS.Fisher","body":"no I don&#39;t get any logs @JonathanS.Fisher"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1653580615,"post_id":72390675,"comment_id":127890966,"body_markdown":"Does Transaction class have a `getTest()` method or a public variable `test`? You only show your modification, not the original.","body":"Does Transaction class have a <code>getTest()</code> method or a public variable <code>test</code>? You only show your modification, not the original."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1653597513,"post_id":72390675,"comment_id":127896515,"body_markdown":"@HasanCanSaral you fundamentally changed the code in the question, what gives?","body":"@HasanCanSaral you fundamentally changed the code in the question, what gives?"},{"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"score":0,"creation_date":1653630278,"post_id":72390675,"comment_id":127901786,"body_markdown":"Original Transaction class does not have a test method I created new one @RoddyoftheFrozenPeas , we are in the same company with HasanCanSaral","body":"Original Transaction class does not have a test method I created new one @RoddyoftheFrozenPeas , we are in the same company with HasanCanSaral"}],"answers":[{"tags":[],"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653635875,"creation_date":1653635875,"answer_id":72401792,"question_id":72390675,"body_markdown":"I have load Transaction class from containers classloader and it worked.\r\n\r\n    final KieSession kSession = container\r\n                    .getKieContainer()\r\n                    .newKieBase(configuration)\r\n                    .newKieSession();\r\n\r\n    Class&lt;?&gt; classA = container.getKieContainer().getClassLoader().loadClass(&quot;com.example.Transaction&quot;);\r\n    \r\n    Object transaction = classA.getDeclaredConstructor().newInstance();\r\n    \r\n    kSession.insert(transaction);\r\n    kSession.fireAllRules();\r\n\r\n","title":"Drools KieContainer does not fire rules with custom classloader","body":"<p>I have load Transaction class from containers classloader and it worked.</p>\n<pre><code>final KieSession kSession = container\n                .getKieContainer()\n                .newKieBase(configuration)\n                .newKieSession();\n\nClass&lt;?&gt; classA = container.getKieContainer().getClassLoader().loadClass(&quot;com.example.Transaction&quot;);\n\nObject transaction = classA.getDeclaredConstructor().newInstance();\n\nkSession.insert(transaction);\nkSession.fireAllRules();\n</code></pre>\n"}],"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72401792,"answer_count":1,"score":1,"last_activity_date":1653635875,"creation_date":1653562496,"question_id":72390675,"body_markdown":"I am trying to add a non-existing method to a Java bean, compile it and use the newly added method in Drools rules. Via a custom class loader.\r\n\r\nI am using [CompilerUtils](https://github.com/OpenHFT/Java-Runtime-Compiler) to bind newly modified class to the custom `ClassLoader` as follows:\r\n\r\n\r\n```java\r\n        ClassLoader loader = new ClassLoader(){};\r\n\r\n        String className = &quot;com.example.Transaction&quot;;\r\n\r\n        String path = &quot;file:D:/workspace/Transaction.class.tmp&quot;; // a tmp file that contains source for Java bean\r\n\r\n        try {\r\n\r\n            URL transactionUrl = new URL(path);\r\n\r\n            URLConnection connection = transactionUrl.openConnection();\r\n\r\n            InputStream input = connection.getInputStream();\r\n\r\n            String transactionClass = new String(StreamUtils.copyToByteArray(input), StandardCharsets.UTF_8);\r\n\r\n            System.out.println(transactionClass);\r\n\r\n            String javaCode = &quot;\\npublic int test() {\\n&quot; +\r\n                    &quot;        return 3;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;}&quot;;\r\n\r\n            String updatedClassString = transactionClass.substring(0, transactionClass.length() - 1).concat(javaCode);\r\n\r\n            Class&lt;?&gt; classB = CompilerUtils.CACHED_COMPILER.loadFromJava(loader, className, updatedClassString); // This is where the loader is made aware of the newly compiled class\r\n            \r\n            return loader;\r\n\r\n\r\n        } catch (IOException | ClassNotFoundException exception) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n\r\n```\r\nAnd this is where I give access to drools my classloader\r\n\r\n```java\r\n   \r\n        final KieServices kServices = KieServices.Factory.get();\r\n        final KieFileSystem kFileSystem = kServices.newKieFileSystem();\r\n\r\n        final KieModuleModel kModuleModel = KieRulePopulator.kieModuleModel();\r\n        if (kModuleModel != null) kFileSystem.writeKModuleXML(kModuleModel.toXML());\r\n\r\n        kServices\r\n                .newKieBuilder(kFileSystem, classLoader)\r\n                .buildAll();\r\n        }\r\n\r\n        KieContainer container = kServices.newKieContainer(kServices\r\n                .getRepository()\r\n                .getDefaultReleaseId(), classLoader);\r\n\r\n```\r\nThis is how I fire rules\r\n\r\n```java\r\n\r\n       final KieBaseConfiguration configuration = KieServices.Factory.get().newKieBaseConfiguration();\r\n\r\n       final KieSession kSession = container\r\n                .getKieContainer()\r\n                .newKieBase(configuration)\r\n                .newKieSession();\r\n\r\nTransaction someTransaction = new Transaction();\r\n\r\nkSession.insert(transaction);\r\nkSession.fireAllRules();\r\n    \r\n```\r\n\r\nAnd this is my rule\r\n\r\n```java\r\n    rule &quot;Rule_31F6DE769554404B89D4E3B7B5979CA1&quot;\r\n\tdialect &quot;java&quot;\r\n    no-loop true\r\n    \r\n\twhen\r\n\t\ttr : Transaction( test == 3 )\r\n\r\n\tthen\r\n        System.out.println(&quot;deneme&quot;);\r\n    end\r\n```","title":"Drools KieContainer does not fire rules with custom classloader","body":"<p>I am trying to add a non-existing method to a Java bean, compile it and use the newly added method in Drools rules. Via a custom class loader.</p>\n<p>I am using <a href=\"https://github.com/OpenHFT/Java-Runtime-Compiler\" rel=\"nofollow noreferrer\">CompilerUtils</a> to bind newly modified class to the custom <code>ClassLoader</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ClassLoader loader = new ClassLoader(){};\n\n        String className = &quot;com.example.Transaction&quot;;\n\n        String path = &quot;file:D:/workspace/Transaction.class.tmp&quot;; // a tmp file that contains source for Java bean\n\n        try {\n\n            URL transactionUrl = new URL(path);\n\n            URLConnection connection = transactionUrl.openConnection();\n\n            InputStream input = connection.getInputStream();\n\n            String transactionClass = new String(StreamUtils.copyToByteArray(input), StandardCharsets.UTF_8);\n\n            System.out.println(transactionClass);\n\n            String javaCode = &quot;\\npublic int test() {\\n&quot; +\n                    &quot;        return 3;\\n&quot; +\n                    &quot;    }\\n&quot; +\n                    &quot;}&quot;;\n\n            String updatedClassString = transactionClass.substring(0, transactionClass.length() - 1).concat(javaCode);\n\n            Class&lt;?&gt; classB = CompilerUtils.CACHED_COMPILER.loadFromJava(loader, className, updatedClassString); // This is where the loader is made aware of the newly compiled class\n            \n            return loader;\n\n\n        } catch (IOException | ClassNotFoundException exception) {\n            e.printStackTrace();\n        }\n\n        return null;\n\n</code></pre>\n<p>And this is where I give access to drools my classloader</p>\n<pre class=\"lang-java prettyprint-override\"><code>   \n        final KieServices kServices = KieServices.Factory.get();\n        final KieFileSystem kFileSystem = kServices.newKieFileSystem();\n\n        final KieModuleModel kModuleModel = KieRulePopulator.kieModuleModel();\n        if (kModuleModel != null) kFileSystem.writeKModuleXML(kModuleModel.toXML());\n\n        kServices\n                .newKieBuilder(kFileSystem, classLoader)\n                .buildAll();\n        }\n\n        KieContainer container = kServices.newKieContainer(kServices\n                .getRepository()\n                .getDefaultReleaseId(), classLoader);\n\n</code></pre>\n<p>This is how I fire rules</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n       final KieBaseConfiguration configuration = KieServices.Factory.get().newKieBaseConfiguration();\n\n       final KieSession kSession = container\n                .getKieContainer()\n                .newKieBase(configuration)\n                .newKieSession();\n\nTransaction someTransaction = new Transaction();\n\nkSession.insert(transaction);\nkSession.fireAllRules();\n    \n</code></pre>\n<p>And this is my rule</p>\n<pre class=\"lang-java prettyprint-override\"><code>    rule &quot;Rule_31F6DE769554404B89D4E3B7B5979CA1&quot;\n    dialect &quot;java&quot;\n    no-loop true\n    \n    when\n        tr : Transaction( test == 3 )\n\n    then\n        System.out.println(&quot;deneme&quot;);\n    end\n</code></pre>\n"},{"tags":["java","avro","confluent-platform","kafka-producer-api","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1653690610,"post_id":72400180,"comment_id":127920562,"body_markdown":"Is the registry actually running and healthy? Can you make a request to `http://localhost:8081/subjects`? Do you see any logs from the registry server when your producer runs?","body":"Is the registry actually running and healthy? Can you make a request to <code>http:&#47;&#47;localhost:8081&#47;subjects</code>? Do you see any logs from the registry server when your producer runs?"}],"owner":{"account_id":17006542,"reputation":79,"user_id":12302627,"display_name":"Vishist Bhoopalam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653635768,"creation_date":1653622406,"question_id":72400180,"body_markdown":"I am trying to create a topic and produce an avro record to a kafka topic, but I am facing an issue while send the record to the producer. I am getting an error.\r\n\r\n```\r\norg.apache.kafka.common.errors.SerializationException: Error registering Avro schema: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;MyClass&quot;,&quot;namespace&quot;:&quot;com.test.avro&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;event_type&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;time_stamp&quot;,&quot;type&quot;:&quot;long&quot;},{&quot;name&quot;:&quot;context&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;context&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;device&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;type&quot;,&quot;type&quot;:&quot;string&quot;}]}}]}\r\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\r\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\r\n\r\n```\r\nI am not able to fix the issue.\r\n\r\nI tried changing the version of kafka avro seriaizer from 5.3.0 version to 7.1.1\r\n\r\n```\r\nimplementation group: &#39;io.confluent&#39;, name: &#39;kafka-avro-serializer&#39;, version: &#39;5.3.0&#39;\r\n\r\n```\r\nFacing the same issue in all the version.\r\n\r\nMy code was able to create the topic was throwing an error when I was sending/submitting a record to the topic\r\n\r\n\r\n```\r\n producer.send(record);\r\n\r\n```\r\n\r\nSharing my code as well.\r\n\r\n```\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.generic.GenericData;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\nimport java.util.Properties;\r\n\r\n\r\npublic class AvroSerialization {\r\n    public static void main(String[] args) {\r\n        Properties props = new Properties();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                org.apache.kafka.common.serialization.StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n                io.confluent.kafka.serializers.KafkaAvroSerializer.class);\r\n        props.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n        KafkaProducer&lt;Object, Object&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n\r\n\r\n        String key = &quot;key1&quot;;\r\n        String userSchema =  &quot;{\\n&quot; +\r\n                &quot;  \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;name\\&quot; : \\&quot;MyClass\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;namespace\\&quot; : \\&quot;com.test.avro\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;fields\\&quot; : [ {\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot; : \\&quot;event_type\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\r\n                &quot;  }, {\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot; : \\&quot;time_stamp\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;type\\&quot; : \\&quot;long\\&quot;\\n&quot; +\r\n                &quot;  }, {\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;type\\&quot; : {\\n&quot; +\r\n                &quot;      \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;fields\\&quot; : [ {\\n&quot; +\r\n                &quot;        \\&quot;name\\&quot; : \\&quot;device\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\r\n                &quot;      }, {\\n&quot; +\r\n                &quot;        \\&quot;name\\&quot; : \\&quot;type\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\r\n                &quot;      }]\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  } ]\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n\r\n        Schema.Parser parser = new Schema.Parser();\r\n        Schema schema = parser.parse(userSchema);\r\n        GenericRecord avroRecord = new GenericData.Record(schema);\r\n        GenericRecord context = new GenericData.Record(schema.getField(&quot;context&quot;).schema());\r\n        avroRecord.put(&quot;event_type&quot;, &quot;visit&quot;);\r\n        avroRecord.put(&quot;time_stamp&quot;, System.currentTimeMillis());\r\n        context.put(&quot;device&quot;, &quot;ios&quot;);\r\n        context.put(&quot;type&quot;,&quot;iphone12max&quot;);\r\n        avroRecord.put(&quot;context&quot;, context);\r\n\r\n        ProducerRecord&lt;Object, Object&gt; record = new ProducerRecord&lt;&gt;(&quot;avrotopic&quot;, avroRecord);\r\n        try {\r\n            producer.send(record);\r\n        } catch (Throwable e) {\r\n            e.printStackTrace();\r\n            // may need to do something with it\r\n        }\r\n// When you&#39;re finished producing records, you can flush the producer to ensure it has all been written to Kafka and\r\n// then close the producer to free its resources.\r\n        finally {\r\n            producer.flush();\r\n            producer.close();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```","title":"kafka producer throwing error when sending an Avro record to topic:io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null","body":"<p>I am trying to create a topic and produce an avro record to a kafka topic, but I am facing an issue while send the record to the producer. I am getting an error.</p>\n<pre><code>org.apache.kafka.common.errors.SerializationException: Error registering Avro schema: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;MyClass&quot;,&quot;namespace&quot;:&quot;com.test.avro&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;event_type&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;time_stamp&quot;,&quot;type&quot;:&quot;long&quot;},{&quot;name&quot;:&quot;context&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;context&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;device&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;type&quot;,&quot;type&quot;:&quot;string&quot;}]}}]}\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\n\n</code></pre>\n<p>I am not able to fix the issue.</p>\n<p>I tried changing the version of kafka avro seriaizer from 5.3.0 version to 7.1.1</p>\n<pre><code>implementation group: 'io.confluent', name: 'kafka-avro-serializer', version: '5.3.0'\n\n</code></pre>\n<p>Facing the same issue in all the version.</p>\n<p>My code was able to create the topic was throwing an error when I was sending/submitting a record to the topic</p>\n<pre><code> producer.send(record);\n\n</code></pre>\n<p>Sharing my code as well.</p>\n<pre><code>import org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\nimport java.util.Properties;\n\n\npublic class AvroSerialization {\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n                org.apache.kafka.common.serialization.StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n                io.confluent.kafka.serializers.KafkaAvroSerializer.class);\n        props.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        KafkaProducer&lt;Object, Object&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n\n        String key = &quot;key1&quot;;\n        String userSchema =  &quot;{\\n&quot; +\n                &quot;  \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot; : \\&quot;MyClass\\&quot;,\\n&quot; +\n                &quot;  \\&quot;namespace\\&quot; : \\&quot;com.test.avro\\&quot;,\\n&quot; +\n                &quot;  \\&quot;fields\\&quot; : [ {\\n&quot; +\n                &quot;    \\&quot;name\\&quot; : \\&quot;event_type\\&quot;,\\n&quot; +\n                &quot;    \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\n                &quot;  }, {\\n&quot; +\n                &quot;    \\&quot;name\\&quot; : \\&quot;time_stamp\\&quot;,\\n&quot; +\n                &quot;    \\&quot;type\\&quot; : \\&quot;long\\&quot;\\n&quot; +\n                &quot;  }, {\\n&quot; +\n                &quot;    \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\n                &quot;    \\&quot;type\\&quot; : {\\n&quot; +\n                &quot;      \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\n                &quot;      \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\n                &quot;      \\&quot;fields\\&quot; : [ {\\n&quot; +\n                &quot;        \\&quot;name\\&quot; : \\&quot;device\\&quot;,\\n&quot; +\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\n                &quot;      }, {\\n&quot; +\n                &quot;        \\&quot;name\\&quot; : \\&quot;type\\&quot;,\\n&quot; +\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\n                &quot;      }]\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;  } ]\\n&quot; +\n                &quot;}&quot;;\n\n\n        Schema.Parser parser = new Schema.Parser();\n        Schema schema = parser.parse(userSchema);\n        GenericRecord avroRecord = new GenericData.Record(schema);\n        GenericRecord context = new GenericData.Record(schema.getField(&quot;context&quot;).schema());\n        avroRecord.put(&quot;event_type&quot;, &quot;visit&quot;);\n        avroRecord.put(&quot;time_stamp&quot;, System.currentTimeMillis());\n        context.put(&quot;device&quot;, &quot;ios&quot;);\n        context.put(&quot;type&quot;,&quot;iphone12max&quot;);\n        avroRecord.put(&quot;context&quot;, context);\n\n        ProducerRecord&lt;Object, Object&gt; record = new ProducerRecord&lt;&gt;(&quot;avrotopic&quot;, avroRecord);\n        try {\n            producer.send(record);\n        } catch (Throwable e) {\n            e.printStackTrace();\n            // may need to do something with it\n        }\n// When you're finished producing records, you can flush the producer to ensure it has all been written to Kafka and\n// then close the producer to free its resources.\n        finally {\n            producer.flush();\n            producer.close();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","security","encryption","amazon-kms"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1653623846,"post_id":72400291,"comment_id":127900881,"body_markdown":"Question is very unclear. It seems like you want to use a symmetric key to generate (?) an asymmetric keypair? (Btw, the inverse of &quot;encrypt&quot; is &quot;decrypt&quot;.)","body":"Question is very unclear. It seems like you want to use a symmetric key to generate (?) an asymmetric keypair? (Btw, the inverse of &quot;encrypt&quot; is &quot;decrypt&quot;.)"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1653624434,"post_id":72400291,"comment_id":127900949,"body_markdown":"I have add some explain but I still did not know what is the right words to explain the two key name generate by custom master key. I called it plaintext data key and encrypt data key. the plaintext data key to encrypt password and encrypt data key to decrypt the password in the future.@RobbyCornelissen","body":"I have add some explain but I still did not know what is the right words to explain the two key name generate by custom master key. I called it plaintext data key and encrypt data key. the plaintext data key to encrypt password and encrypt data key to decrypt the password in the future.@RobbyCornelissen"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1653649915,"post_id":72400291,"comment_id":127907612,"body_markdown":"That diagram shows something fundamentally different from the text of your question. The `plaintext data key` is the symmetric key that you will actually use to encrypt and decrypt the data. The `encrypted data key` is that original key &#39;wrapped&#39; under the KMS key. You can (and typically will) safely store this encrypted data key with the ciphertext. To decrypt a ciphertext you take the EDK, unwrap it using the KMS key to obtain the original data key - and use that to decrypt the data.","body":"That diagram shows something fundamentally different from the text of your question. The <code>plaintext data key</code> is the symmetric key that you will actually use to encrypt and decrypt the data. The <code>encrypted data key</code> is that original key &#39;wrapped&#39; under the KMS key. You can (and typically will) safely store this encrypted data key with the ciphertext. To decrypt a ciphertext you take the EDK, unwrap it using the KMS key to obtain the original data key - and use that to decrypt the data."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1653650226,"post_id":72400291,"comment_id":127907713,"body_markdown":"There are two KMS primitives that let you &quot;generate the encrypt key&quot;: either you (cryptographically securely, of course) generate it yourself and then `encrypt` it with the master key and the context to obtain the EDK; or you have KMS do the work for you - the other primitive generates a PDK for you, encrypts it and returns to you this random PDK and the PDK encrypted (with the context) as the EDK.","body":"There are two KMS primitives that let you &quot;generate the encrypt key&quot;: either you (cryptographically securely, of course) generate it yourself and then <code>encrypt</code> it with the master key and the context to obtain the EDK; or you have KMS do the work for you - the other primitive generates a PDK for you, encrypts it and returns to you this random PDK and the PDK encrypted (with the context) as the EDK."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1653651355,"post_id":72400291,"comment_id":127908098,"body_markdown":"If what you are looking to do is encrypt and decrypt data using key(s) stored in KMS, don&#39;t roll your own. Use the AWS Encryption SDK: https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java.html This does the work for you and provides additional best-practice features you&#39;d be unlikely to add on your own, like key derivation and commitment and (optional) signing.","body":"If what you are looking to do is encrypt and decrypt data using key(s) stored in KMS, don&#39;t roll your own. Use the AWS Encryption SDK: <a href=\"https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/encryption-sdk/latest/developer-guide/&hellip;</a> This does the work for you and provides additional best-practice features you&#39;d be unlikely to add on your own, like key derivation and commitment and (optional) signing."}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653635688,"creation_date":1653623594,"question_id":72400291,"body_markdown":"I am reading the amazon key management system [docs][1]. I have tried to implement the encrypt and decrypt workflow by myself. I am using this java code to generate a custom master key like this:\r\n\r\n      private static SecretKey generateMasterKey() throws NoSuchAlgorithmException {\r\n      \tKeyGenerator keyGen = null;\r\n    \r\n      \tkeyGen = KeyGenerator.getInstance(&quot;AES&quot;); \r\n      \t\r\n      \tkeyGen.init(256); // 256 bit key\r\n      \tSecretKey masterKey = keyGen.generateKey();\r\n      \treturn masterKey;\r\n      }\r\n\r\n\r\n\r\nThe next step is to use the [custom master key][2] to generate 2 types of key, the encrypt key and unencrypt key (I do not know how to explain the key name the right way, the key could encrypt the password for the next step). I want to use the unencrypt key to encrypt the password and store the password encrypt content and encrypt text in database. How to generate the encrypt key and unencrypt key from the custom master key? The two keys like the image:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html\r\n  [2]: https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk\r\n  [3]: https://i.stack.imgur.com/UY7AL.png","title":"how to using Custom Master Key to generate plain key and encrypt key with java","body":"<p>I am reading the amazon key management system <a href=\"https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html\" rel=\"nofollow noreferrer\">docs</a>. I have tried to implement the encrypt and decrypt workflow by myself. I am using this java code to generate a custom master key like this:</p>\n<pre><code>  private static SecretKey generateMasterKey() throws NoSuchAlgorithmException {\n    KeyGenerator keyGen = null;\n\n    keyGen = KeyGenerator.getInstance(&quot;AES&quot;); \n    \n    keyGen.init(256); // 256 bit key\n    SecretKey masterKey = keyGen.generateKey();\n    return masterKey;\n  }\n</code></pre>\n<p>The next step is to use the <a href=\"https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk\" rel=\"nofollow noreferrer\">custom master key</a> to generate 2 types of key, the encrypt key and unencrypt key (I do not know how to explain the key name the right way, the key could encrypt the password for the next step). I want to use the unencrypt key to encrypt the password and store the password encrypt content and encrypt text in database. How to generate the encrypt key and unencrypt key from the custom master key? The two keys like the image:</p>\n<p><a href=\"https://i.stack.imgur.com/UY7AL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UY7AL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":2,"creation_date":1610110191,"post_id":65629255,"comment_id":116034902,"body_markdown":"With binary search you can find the index to the value 80, and then the index is the number of the elements less than 80 (assuming ascending order).","body":"With binary search you can find the index to the value 80, and then the index is the number of the elements less than 80 (assuming ascending order)."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1610110244,"post_id":65629255,"comment_id":116034929,"body_markdown":"or, stream, filter, ...","body":"or, stream, filter, ..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1610110699,"post_id":65629255,"comment_id":116035166,"body_markdown":"&quot;I was thinking Binary Search but then again i&#39;m not searching for any key&quot; - well you are, in that you&#39;re trying to find *where that key lives in the array* (or where it would be if it did exist).","body":"&quot;I was thinking Binary Search but then again i&#39;m not searching for any key&quot; - well you are, in that you&#39;re trying to find <i>where that key lives in the array</i> (or where it would be if it did exist)."}],"answers":[{"tags":[],"owner":{"account_id":943859,"reputation":169,"user_id":4481812,"display_name":"Anderson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653635579,"creation_date":1610111125,"answer_id":65629533,"question_id":65629255,"body_markdown":"You can use [`Arrays.binarySearch`][1]. According to the documentation it returns the *index of the search key, if it is contained in the array; otherwise, `(-(insertion point) - 1)`*. Using your example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n    public static void main(String args[]) {\r\n        int[] arr = {21, 32, 58, 70, 100, 4342};\r\n\r\n        int res70 = Arrays.binarySearch(arr, 70);// returns 3\r\n        int res80 = Arrays.binarySearch(arr, 80);// returns -5\r\n    }\r\n}\r\n```\r\n\r\nWith that in mind, you can use that information to get an efficient count: if the result is positive, the count is `result`, if the result is negative, the count is `(-result)-1` or `-(result+1)` (depending on your preference):\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n    public static void main(String args[]) {\r\n        int[] arr = {21, 32, 58, 70, 100, 4342};\r\n\r\n        System.out.println(&quot;Count is:&quot; + count(arr, 70));// returns 3\r\n        System.out.println(&quot;Count is:&quot; + count(arr, 80));// returns 4\r\n    }\r\n\r\n    private static int count(int[] sortedArray, int n) {\r\n        int result = Arrays.binarySearch(sortedArray, n);\r\n        if (result &gt; -1) {\r\n            return result;\r\n        }\r\n        return (-result) - 1;\r\n    }\r\n}\r\n```\r\n\r\nFor the case where duplicates are possible, and multiple 80s exist in the array, there are two possible solutions:\r\n\r\n1. Do a linear search from the result of the binary search. This would make the worst-case `O(n)` though, while still being `O(lg n)` on average.\r\n\r\n2. Manually implement (or find a library that has) a binary search to find the last element equal to a value (while preserving the consideration for the element not found as the Java library does). An example of finding the last element exists in this answer: [Last index of multiple keys using binary-search?][2] That would keep worst-case at `O(lg n)`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(int[],%20int)\r\n  [2]: https://stackoverflow.com/questions/14415408/last-index-of-multiple-keys-using-binary-search/14415588#14415588","title":"How do I efficiently count elements less than a certain value in a sorted array?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(int%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>Arrays.binarySearch</code></a>. According to the documentation it returns the <em>index of the search key, if it is contained in the array; otherwise, <code>(-(insertion point) - 1)</code></em>. Using your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass Main {\n    public static void main(String args[]) {\n        int[] arr = {21, 32, 58, 70, 100, 4342};\n\n        int res70 = Arrays.binarySearch(arr, 70);// returns 3\n        int res80 = Arrays.binarySearch(arr, 80);// returns -5\n    }\n}\n</code></pre>\n<p>With that in mind, you can use that information to get an efficient count: if the result is positive, the count is <code>result</code>, if the result is negative, the count is <code>(-result)-1</code> or <code>-(result+1)</code> (depending on your preference):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass Main {\n    public static void main(String args[]) {\n        int[] arr = {21, 32, 58, 70, 100, 4342};\n\n        System.out.println(&quot;Count is:&quot; + count(arr, 70));// returns 3\n        System.out.println(&quot;Count is:&quot; + count(arr, 80));// returns 4\n    }\n\n    private static int count(int[] sortedArray, int n) {\n        int result = Arrays.binarySearch(sortedArray, n);\n        if (result &gt; -1) {\n            return result;\n        }\n        return (-result) - 1;\n    }\n}\n</code></pre>\n<p>For the case where duplicates are possible, and multiple 80s exist in the array, there are two possible solutions:</p>\n<ol>\n<li><p>Do a linear search from the result of the binary search. This would make the worst-case <code>O(n)</code> though, while still being <code>O(lg n)</code> on average.</p>\n</li>\n<li><p>Manually implement (or find a library that has) a binary search to find the last element equal to a value (while preserving the consideration for the element not found as the Java library does). An example of finding the last element exists in this answer: <a href=\"https://stackoverflow.com/questions/14415408/last-index-of-multiple-keys-using-binary-search/14415588#14415588\">Last index of multiple keys using binary-search?</a> That would keep worst-case at <code>O(lg n)</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user15309136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615062379,"creation_date":1615062379,"answer_id":66510331,"question_id":65629255,"body_markdown":"Since *Java 9* you can use [`takeWhile`][1] and [`dropWhile`][2] methods if the source array is *ordered*:\r\n```java\r\nint key = 80, arr[] = {21, 32, 58, 70, 100, 4342};\r\n\r\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\r\n        .takeWhile(i -&gt; i &lt; key)\r\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\r\n        .count()); // 21 32 58 70 Count: 4\r\n\r\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\r\n        .dropWhile(i -&gt; i &lt; key)\r\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\r\n        .count()); // 100 4342 Count: 2\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#takeWhile-java.util.function.IntPredicate-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#dropWhile-java.util.function.IntPredicate-","title":"How do I efficiently count elements less than a certain value in a sorted array?","body":"<p>Since <em>Java 9</em> you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#takeWhile-java.util.function.IntPredicate-\" rel=\"nofollow noreferrer\"><code>takeWhile</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#dropWhile-java.util.function.IntPredicate-\" rel=\"nofollow noreferrer\"><code>dropWhile</code></a> methods if the source array is <em>ordered</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int key = 80, arr[] = {21, 32, 58, 70, 100, 4342};\n\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\n        .takeWhile(i -&gt; i &lt; key)\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\n        .count()); // 21 32 58 70 Count: 4\n\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\n        .dropWhile(i -&gt; i &lt; key)\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\n        .count()); // 100 4342 Count: 2\n</code></pre>\n"}],"owner":{"account_id":19442405,"reputation":21,"user_id":14220570,"display_name":"tootiefairy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65629533,"answer_count":2,"score":0,"last_activity_date":1653635579,"creation_date":1610110069,"question_id":65629255,"body_markdown":"Say for example I have a sorted array:\r\n\r\n```\r\n[21, 32, 58, 70, 100, 4342]\r\n```\r\n\r\nAnd a key value `80`\r\n\r\nHow do I efficiently count all values from 80 below without iterating through the whole array with an if condition? I was thinking Binary Search but then again i&#39;m not searching for any key, I just need the fastest way return the count of values less than or equal to key value.","title":"How do I efficiently count elements less than a certain value in a sorted array?","body":"<p>Say for example I have a sorted array:</p>\n<pre><code>[21, 32, 58, 70, 100, 4342]\n</code></pre>\n<p>And a key value <code>80</code></p>\n<p>How do I efficiently count all values from 80 below without iterating through the whole array with an if condition? I was thinking Binary Search but then again i'm not searching for any key, I just need the fastest way return the count of values less than or equal to key value.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","security"],"comments":[{"owner":{"account_id":9539852,"reputation":31,"user_id":7088531,"display_name":"Việt Ph&#250;"},"score":0,"creation_date":1653632527,"post_id":72401154,"comment_id":127902241,"body_markdown":"I think this should be your answer\nhttps://stackoverflow.com/questions/59666903/how-can-test-a-spring-boot-controller-method-annoted-with-preauthorizedhasanya","body":"I think this should be your answer <a href=\"https://stackoverflow.com/questions/59666903/how-can-test-a-spring-boot-controller-method-annoted-with-preauthorizedhasanya\" title=\"how can test a spring boot controller method annoted with preauthorizedhasanya\">stackoverflow.com/questions/59666903/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25374072,"reputation":60,"user_id":19187445,"display_name":"Gannebal Barka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653635545,"creation_date":1653635545,"answer_id":72401738,"question_id":72401154,"body_markdown":"Usually you can use mock system for authorization with spring-test  \r\n```lang-xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**For web FLUX**\r\n```lang-java\r\nimport org.springframework.security.test.context.support.WithMockUser;\r\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n@WithMockUser\r\n@SpringBootTest\r\n@AutoConfigureWebTestClient\r\nclass MyTest {\r\n    @Autowired\r\n    WebTestClient rest;\r\n\r\n    @Test\r\n    void fooTest() {\r\n      StatusAssertions.isOk(rest.get().uri(path).exchange().expectStatus())\r\n    }\r\n}\r\n```\r\n**For web MVC**\r\n```lang-java\r\nimport org.springframework.security.test.context.support.WithMockUser;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@WithMockUser\r\n@AutoConfigureMockMvc\r\n@SpringBootTest\r\nclass MyTest {\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @Test\r\n    void fooTest() {\r\n      mvc.perform(get(&quot;path&quot;)).andExpect(status().isOk())\r\n    }\r\n}\r\n```","title":"how to disable @PreAuthorize for tests?","body":"<p>Usually you can use mock system for authorization with spring-test</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>For web FLUX</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@WithMockUser\n@SpringBootTest\n@AutoConfigureWebTestClient\nclass MyTest {\n    @Autowired\n    WebTestClient rest;\n\n    @Test\n    void fooTest() {\n      StatusAssertions.isOk(rest.get().uri(path).exchange().expectStatus())\n    }\n}\n</code></pre>\n<p><strong>For web MVC</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@WithMockUser\n@AutoConfigureMockMvc\n@SpringBootTest\nclass MyTest {\n    @Autowired\n    private MockMvc mvc;\n\n    @Test\n    void fooTest() {\n      mvc.perform(get(&quot;path&quot;)).andExpect(status().isOk())\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653635545,"creation_date":1653631862,"question_id":72401154,"body_markdown":"I use Spring Boot with Spring Security. I want to disable security so that @PreAuthorize. I partially managed to do it, but there is still an error.\r\n\r\nsecurity is partially disabled. but some part is included. finally, I would like to disable security for certain tests\r\n\r\n\r\n    org.springframework.security.access.AccessDeniedException: Access denied\r\n    \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238) ~[spring-security-core-5.5.3.jar:5.5.3]\r\n\r\n\r\nThis is my controller\r\n\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;ADMIN&#39;)&quot;)\r\n    @GetMapping(&quot;/hello&quot;)\r\n    fun hello(): String {\r\n        return &quot;Hello&quot;\r\n    }\r\n\r\nThis my Spring Configutarion for tests.\r\n\r\n    @TestConfiguration\r\n    @Order(1)\r\n    class TestSecurityConfig : WebSecurityConfigurerAdapter()  {\r\n    \r\n        @Override\r\n        override fun configure(httpSecurity: HttpSecurity) {\r\n            http.authorizeRequests()\r\n                .anyRequest().permitAll();\r\n    \r\n            http.csrf().disable()\r\n                .httpBasic().disable()\r\n                .formLogin().disable()\r\n                .logout().disable();\r\n        }\r\n    \r\n    }\r\n\r\nAnd finally my test class:\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n        classes = [TestSecurityConfig::class])\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @ExtendWith(SpringExtension::class)\r\n    class HelloControllerTest {\r\n    \r\n        @LocalServerPort\r\n        private var port: Int = 8281\r\n    \r\n        @Value(&quot;#{servletContext.contextPath}&quot;)\r\n        private lateinit var contextPath: String\r\n    \r\n        private lateinit var url: String\r\n    \r\n        @Autowired\r\n        private lateinit var testRestTemplate: TestRestTemplate\r\n    \r\n    \r\n        @BeforeAll\r\n        fun setUp() {\r\n            url = UriComponentsBuilder\r\n                .fromUriString(&quot;http://localhost&quot;)\r\n                .port(port)\r\n                .path(contextPath)\r\n                .pathSegment(&quot;hello&quot;)\r\n                .toUriString()\r\n        }\r\n    \r\n        @Test\r\n        fun hello() {\r\n    \r\n            val responseEntity = testRestTemplate.getForEntity(url, String::class.java)\r\n            assertNotNull(responseEntity)\r\n            assertEquals(HttpStatus.OK, responseEntity.statusCode)\r\n            val response = responseEntity.body\r\n        }","title":"how to disable @PreAuthorize for tests?","body":"<p>I use Spring Boot with Spring Security. I want to disable security so that @PreAuthorize. I partially managed to do it, but there is still an error.</p>\n<p>security is partially disabled. but some part is included. finally, I would like to disable security for certain tests</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.5.3.jar:5.5.3]\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238) ~[spring-security-core-5.5.3.jar:5.5.3]\n</code></pre>\n<p>This is my controller</p>\n<pre><code>@PreAuthorize(&quot;hasAnyAuthority('ADMIN')&quot;)\n@GetMapping(&quot;/hello&quot;)\nfun hello(): String {\n    return &quot;Hello&quot;\n}\n</code></pre>\n<p>This my Spring Configutarion for tests.</p>\n<pre><code>@TestConfiguration\n@Order(1)\nclass TestSecurityConfig : WebSecurityConfigurerAdapter()  {\n\n    @Override\n    override fun configure(httpSecurity: HttpSecurity) {\n        http.authorizeRequests()\n            .anyRequest().permitAll();\n\n        http.csrf().disable()\n            .httpBasic().disable()\n            .formLogin().disable()\n            .logout().disable();\n    }\n\n}\n</code></pre>\n<p>And finally my test class:</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n    classes = [TestSecurityConfig::class])\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension::class)\nclass HelloControllerTest {\n\n    @LocalServerPort\n    private var port: Int = 8281\n\n    @Value(&quot;#{servletContext.contextPath}&quot;)\n    private lateinit var contextPath: String\n\n    private lateinit var url: String\n\n    @Autowired\n    private lateinit var testRestTemplate: TestRestTemplate\n\n\n    @BeforeAll\n    fun setUp() {\n        url = UriComponentsBuilder\n            .fromUriString(&quot;http://localhost&quot;)\n            .port(port)\n            .path(contextPath)\n            .pathSegment(&quot;hello&quot;)\n            .toUriString()\n    }\n\n    @Test\n    fun hello() {\n\n        val responseEntity = testRestTemplate.getForEntity(url, String::class.java)\n        assertNotNull(responseEntity)\n        assertEquals(HttpStatus.OK, responseEntity.statusCode)\n        val response = responseEntity.body\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","pre-signed-url"],"comments":[{"owner":{"account_id":14805334,"reputation":11146,"user_id":10692493,"display_name":"jellycsc"},"score":0,"creation_date":1653657033,"post_id":72400432,"comment_id":127910153,"body_markdown":"Is your system clock correct?","body":"Is your system clock correct?"},{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1653661915,"post_id":72400432,"comment_id":127912152,"body_markdown":"You appear to be using different code from what you&#39;ve shown, the expired time is 7 days.  If you&#39;re signing in a Lambda or other environment with an instance profile, then [your signed URL won&#39;t function for the full 7 days](https://aws.amazon.com/premiumsupport/knowledge-center/presigned-url-s3-bucket-expiration/).","body":"You appear to be using different code from what you&#39;ve shown, the expired time is 7 days.  If you&#39;re signing in a Lambda or other environment with an instance profile, then <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/presigned-url-s3-bucket-expiration/\" rel=\"nofollow noreferrer\">your signed URL won&#39;t function for the full 7 days</a>."}],"owner":{"account_id":22515372,"reputation":21,"user_id":16709664,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653635486,"creation_date":1653625190,"question_id":72400432,"body_markdown":"I have working Java code to get pre-sign URL for uploading files to s3:\r\n\r\n        String objectKey = &quot;folder/fileName.pdf&quot;;\r\n        Date expiration = new Date();\r\n        long expTimeMillis = expiration.getTime();\r\n        expTimeMillis += 1000 * 60 * 15;//15 minutes\r\n        expiration.setTime(expTimeMillis);\r\n\r\n        GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(S3_BUCKET_NAME, objectKey)\r\n                .withMethod(HttpMethod.PUT)\r\n                .withExpiration(expiration);\r\n        URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\n        return url.toString()\r\n\r\nthis code works, it produces url that I can put in Postman, run Put request and get response, also it works on our prod servers. Now I need code to download the same file. I tried to use same code, the only difference - I used GET method instead of PUT:\r\n\r\n    .withMethod(HttpMethod.GET)\r\n\r\nit produces URL:\r\n\r\n    https://bucketName.s3.us-west-2.amazonaws.com/folder/fileName.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASDFABASDF%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20220527T034939Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Security-Token=FwoAdFASDFAOBASDsdfSF%2F%2F%2F%2F%2F%2F%2F%2FwEaDM69O7O54EA7PUeu0yLSARm%2Bduy8vQQtmA7yyvWutiSNLuosByvxyN%2BGZUxmI12r0HdqqRbrwAr1k9bj%2FJEDeEGD3MDpt6%2Bwh9XjoLwyUsUCk7Iah1zPakr%2BDe6%2BNMntjPIS%2BbxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4A9Oq4KrIUWiYhEM4lEVbGCHKoS3nxNnYh1eqSmx2rMHE%2FPFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9IyIBjIrGDHqlsb2p7wvYKtlQPd%2FsEeB%2BAwACfCZhAJ4X45IOTVlowo7AdsnWtogsg%3D%3D&amp;X-Amz-Signature=5ab6e616sdfsaf0a6412a68a40f776f26d9ea8f8c136a78874baa7c\r\n \r\nBut when I paste it in browser I have an error:\r\n\r\n    &lt;Error&gt;\r\n         &lt;Code&gt;ExpiredToken&lt;/Code&gt;\r\n         &lt;Message&gt;The provided token has expired.&lt;/Message&gt;\r\n         &lt;Token-0&gt;aVDSAFVdzEKH//////////wEaDM69O7O54EASDF ASDF;LJ ;AS DFGZUxmI12r0HdqqRbrwAr1k9bj/JEDeEGD3MDpt6+wh9XjoLwyUsUCk7Iah1zPakr+De6+NMntjPIS+bxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4ADF32E/PFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9adsf#2SDFsEeB+AwACfCZhAJ4X45IOTVlowo7AdsnWtogsg==&lt;/Token-0&gt;\r\n         &lt;RequestId&gt;EX3Q0KY8BT4HDFASDF234&lt;/RequestId&gt;\r\n         &lt;HostId&gt;SiSQsVjDiGpTmWqECybt0nob#xdASDFRIXVJNUG+cmmkI7bHBy6lUejXL5HvchpSCbj0U= \r\n         &lt;/HostId&gt;\r\n    &lt;/Error&gt;\r\n\r\nI added expiration time and had same result.\r\nNext I tried to out put data:\r\n\r\n        System.out.println(generatePresignedUrlRequest.getBucketName());\r\n        System.out.println(generatePresignedUrlRequest.getMethod());\r\n        System.out.println(generatePresignedUrlRequest.getExpiration());\r\n        System.out.println(generatePresignedUrlRequest.getContentType());\r\n        System.out.println(generatePresignedUrlRequest.getKey());\r\n\r\nAnd I got result:\r\n\r\n        bucketName\r\n        GET\r\n        Thu Jun 02 23:25:21 GMT 2022\r\n        null\r\n        folder/fileName.pdf\r\n\r\nToday is May 26, so it should not be expired.\r\nI tried to run console command:\r\n\r\n    aws s3 presign s3://bucketName/folder/fileName.pdf --expires-in 604800 --region us-west-2\r\n\r\nit produces same URL as above. When I paste this url in browser I have same error as above.\r\nWhat am I doing wrong? how to fix it? how to generate Pre-Sign URL to download file from S3?\r\n","title":"AWS Get Pre-Sign URL always show ExpiredToken when download file","body":"<p>I have working Java code to get pre-sign URL for uploading files to s3:</p>\n<pre><code>    String objectKey = &quot;folder/fileName.pdf&quot;;\n    Date expiration = new Date();\n    long expTimeMillis = expiration.getTime();\n    expTimeMillis += 1000 * 60 * 15;//15 minutes\n    expiration.setTime(expTimeMillis);\n\n    GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(S3_BUCKET_NAME, objectKey)\n            .withMethod(HttpMethod.PUT)\n            .withExpiration(expiration);\n    URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n\n    return url.toString()\n</code></pre>\n<p>this code works, it produces url that I can put in Postman, run Put request and get response, also it works on our prod servers. Now I need code to download the same file. I tried to use same code, the only difference - I used GET method instead of PUT:</p>\n<pre><code>.withMethod(HttpMethod.GET)\n</code></pre>\n<p>it produces URL:</p>\n<pre><code>https://bucketName.s3.us-west-2.amazonaws.com/folder/fileName.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASDFABASDF%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20220527T034939Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Security-Token=FwoAdFASDFAOBASDsdfSF%2F%2F%2F%2F%2F%2F%2F%2FwEaDM69O7O54EA7PUeu0yLSARm%2Bduy8vQQtmA7yyvWutiSNLuosByvxyN%2BGZUxmI12r0HdqqRbrwAr1k9bj%2FJEDeEGD3MDpt6%2Bwh9XjoLwyUsUCk7Iah1zPakr%2BDe6%2BNMntjPIS%2BbxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4A9Oq4KrIUWiYhEM4lEVbGCHKoS3nxNnYh1eqSmx2rMHE%2FPFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9IyIBjIrGDHqlsb2p7wvYKtlQPd%2FsEeB%2BAwACfCZhAJ4X45IOTVlowo7AdsnWtogsg%3D%3D&amp;X-Amz-Signature=5ab6e616sdfsaf0a6412a68a40f776f26d9ea8f8c136a78874baa7c\n</code></pre>\n<p>But when I paste it in browser I have an error:</p>\n<pre><code>&lt;Error&gt;\n     &lt;Code&gt;ExpiredToken&lt;/Code&gt;\n     &lt;Message&gt;The provided token has expired.&lt;/Message&gt;\n     &lt;Token-0&gt;aVDSAFVdzEKH//////////wEaDM69O7O54EASDF ASDF;LJ ;AS DFGZUxmI12r0HdqqRbrwAr1k9bj/JEDeEGD3MDpt6+wh9XjoLwyUsUCk7Iah1zPakr+De6+NMntjPIS+bxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4ADF32E/PFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9adsf#2SDFsEeB+AwACfCZhAJ4X45IOTVlowo7AdsnWtogsg==&lt;/Token-0&gt;\n     &lt;RequestId&gt;EX3Q0KY8BT4HDFASDF234&lt;/RequestId&gt;\n     &lt;HostId&gt;SiSQsVjDiGpTmWqECybt0nob#xdASDFRIXVJNUG+cmmkI7bHBy6lUejXL5HvchpSCbj0U= \n     &lt;/HostId&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>I added expiration time and had same result.\nNext I tried to out put data:</p>\n<pre><code>    System.out.println(generatePresignedUrlRequest.getBucketName());\n    System.out.println(generatePresignedUrlRequest.getMethod());\n    System.out.println(generatePresignedUrlRequest.getExpiration());\n    System.out.println(generatePresignedUrlRequest.getContentType());\n    System.out.println(generatePresignedUrlRequest.getKey());\n</code></pre>\n<p>And I got result:</p>\n<pre><code>    bucketName\n    GET\n    Thu Jun 02 23:25:21 GMT 2022\n    null\n    folder/fileName.pdf\n</code></pre>\n<p>Today is May 26, so it should not be expired.\nI tried to run console command:</p>\n<pre><code>aws s3 presign s3://bucketName/folder/fileName.pdf --expires-in 604800 --region us-west-2\n</code></pre>\n<p>it produces same URL as above. When I paste this url in browser I have same error as above.\nWhat am I doing wrong? how to fix it? how to generate Pre-Sign URL to download file from S3?</p>\n"},{"tags":["javascript","java","json","google-distancematrix-api"],"answers":[{"tags":[],"owner":{"account_id":201482,"reputation":1906,"user_id":447952,"accept_rate":68,"display_name":"AHOYAHOY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452049122,"creation_date":1452049122,"answer_id":34624884,"question_id":34624598,"body_markdown":"If you use Javascript in Browser, you need use Google Maps Api.\r\n\r\nCheck this example:\r\n\r\n    &lt;script src=&quot;https://maps.google.com/maps/api/js?sensor=false&quot;&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n    function init() {\r\n      var service = new google.maps.DistanceMatrixService;\r\n      service.getDistanceMatrix({\r\n        origins: [&#39;Los Angeles&#39;],\r\n        destinations: [&#39;New York&#39;],\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n        unitSystem: google.maps.UnitSystem.METRIC,\r\n        avoidHighways: false,\r\n        avoidTolls: false\r\n      }, function(response, status) {\r\n        if (status !== google.maps.DistanceMatrixStatus.OK) {\r\n          alert(&#39;Error was: &#39; + status);\r\n        } else {\r\n          alert(response.originAddresses[0] + &#39; --&gt; &#39; + response.destinationAddresses[0] + &#39; ==&gt; &#39; + response.rows[0].elements[0].distance.text);\r\n        }\r\n      });\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;body onload=&quot;init()&quot;&gt;\r\n    &lt;/body&gt;\r\n\r\nRunning example https://jsfiddle.net/3b03m5mt/","title":"get distance using google maps distance matrix api JSON output","body":"<p>If you use Javascript in Browser, you need use Google Maps Api.</p>\n\n<p>Check this example:</p>\n\n<pre><code>&lt;script src=\"https://maps.google.com/maps/api/js?sensor=false\"&gt;&lt;/script&gt;\n&lt;script&gt;\nfunction init() {\n  var service = new google.maps.DistanceMatrixService;\n  service.getDistanceMatrix({\n    origins: ['Los Angeles'],\n    destinations: ['New York'],\n    travelMode: google.maps.TravelMode.DRIVING,\n    unitSystem: google.maps.UnitSystem.METRIC,\n    avoidHighways: false,\n    avoidTolls: false\n  }, function(response, status) {\n    if (status !== google.maps.DistanceMatrixStatus.OK) {\n      alert('Error was: ' + status);\n    } else {\n      alert(response.originAddresses[0] + ' --&gt; ' + response.destinationAddresses[0] + ' ==&gt; ' + response.rows[0].elements[0].distance.text);\n    }\n  });\n}\n&lt;/script&gt;\n&lt;body onload=\"init()\"&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Running example <a href=\"https://jsfiddle.net/3b03m5mt/\" rel=\"nofollow\">https://jsfiddle.net/3b03m5mt/</a></p>\n"},{"tags":[],"owner":{"account_id":18231680,"reputation":1,"user_id":19212220,"display_name":"Unni Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653635408,"creation_date":1653635408,"answer_id":72401713,"question_id":34624598,"body_markdown":"You can check out this code \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?php\r\n     $addressFrom=&quot;Your from address&quot;;\r\n     $addressTo=&quot;your to address&quot;;\r\n      // Change address format\r\n      $formattedAddrFrom    = str_replace(&#39; &#39;, &#39;+&#39;, $addressFrom);\r\n      $formattedAddrTo     = str_replace(&#39; &#39;, &#39;+&#39;, $addressTo);\r\n      \r\n      // Geocoding API request with start address\r\n      $distance_data = file_get_contents(&#39;https://maps.googleapis.com/maps/api/distancematrix/json?origins=&#39;.$formattedAddrFrom.&#39;&amp;destinations=&#39;.$formattedAddrTo.&#39;&amp;sensor=false&amp;key=YOUR-API-KEY&#39;);\r\n      $output_data = json_decode($distance_data);\r\n      if(!empty($output_data-&gt;error_message)){\r\n          return $output_data-&gt;error_message;\r\n      }\r\n     //echo &quot;&lt;pre&gt;&quot;;\r\n    //print_r($output_data) ;\r\n\r\n    $output_status = $output_data-&gt;status;\r\n    $output_km =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;text;\r\n    $output_meter =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;value;\r\n    ?&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"get distance using google maps distance matrix api JSON output","body":"<p>You can check out this code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?php\n $addressFrom=\"Your from address\";\n $addressTo=\"your to address\";\n  // Change address format\n  $formattedAddrFrom    = str_replace(' ', '+', $addressFrom);\n  $formattedAddrTo     = str_replace(' ', '+', $addressTo);\n  \n  // Geocoding API request with start address\n  $distance_data = file_get_contents('https://maps.googleapis.com/maps/api/distancematrix/json?origins='.$formattedAddrFrom.'&amp;destinations='.$formattedAddrTo.'&amp;sensor=false&amp;key=YOUR-API-KEY');\n  $output_data = json_decode($distance_data);\n  if(!empty($output_data-&gt;error_message)){\n      return $output_data-&gt;error_message;\n  }\n //echo \"&lt;pre&gt;\";\n//print_r($output_data) ;\n\n$output_status = $output_data-&gt;status;\n$output_km =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;text;\n$output_meter =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;value;\n?&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":7574740,"reputation":13,"user_id":5747475,"display_name":"sheslv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34624884,"answer_count":2,"score":1,"last_activity_date":1653635408,"creation_date":1452046839,"question_id":34624598,"body_markdown":"I developed the following code to get the distance of the given 2 cities through 2 textfields and i want to send them to google maps distance matrix api using the following URl. I send those cities and got the JSON output file. but my problem is how can i get the specific attribute(distance) from that JSON file and display on a another textfield. \r\n\r\n    function m() {\r\n\r\n                var x = document.getElementById(&quot;autocomplete&quot;).value;\r\n                var y = document.getElementById(&quot;autocomplete1&quot;).value;\r\n\r\n                var url = &quot;https://maps.googleapis.com/maps/api/distancematrix/json?origins=&quot; + x + &quot;&amp;destinations=&quot; + y + &quot;&amp;key=AIzaSyD5KX6VRon6yQ0vu4s6GSnAVzazRWg8wrc&quot;;\r\n\r\n    window.location=url; // this will go to the above url and display the JSON output file on the browser. I dont want that to be shown. just some processing and should display only the distance form that file on a textfield!\r\n\r\n    }\r\n\r\nthe JSON output file &lt;http://pastebin.ca/3318529&gt;\r\n\r\nPlease help to solve this. i am new to JSON. So if you have any other ideas tell me. Many thanks :)","title":"get distance using google maps distance matrix api JSON output","body":"<p>I developed the following code to get the distance of the given 2 cities through 2 textfields and i want to send them to google maps distance matrix api using the following URl. I send those cities and got the JSON output file. but my problem is how can i get the specific attribute(distance) from that JSON file and display on a another textfield. </p>\n\n<pre><code>function m() {\n\n            var x = document.getElementById(\"autocomplete\").value;\n            var y = document.getElementById(\"autocomplete1\").value;\n\n            var url = \"https://maps.googleapis.com/maps/api/distancematrix/json?origins=\" + x + \"&amp;destinations=\" + y + \"&amp;key=AIzaSyD5KX6VRon6yQ0vu4s6GSnAVzazRWg8wrc\";\n\nwindow.location=url; // this will go to the above url and display the JSON output file on the browser. I dont want that to be shown. just some processing and should display only the distance form that file on a textfield!\n\n}\n</code></pre>\n\n<p>the JSON output file <a href=\"http://pastebin.ca/3318529\" rel=\"nofollow\">http://pastebin.ca/3318529</a></p>\n\n<p>Please help to solve this. i am new to JSON. So if you have any other ideas tell me. Many thanks :)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1653553299,"post_id":72388755,"comment_id":127881344,"body_markdown":"`@Configurable` has always been fragile and unreliable. It&#39;s much better to use constructor parameters instead.","body":"<code>@Configurable</code> has always been fragile and unreliable. It&#39;s much better to use constructor parameters instead."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1653553356,"post_id":72388755,"comment_id":127881365,"body_markdown":"Have you enabled AspectJ (e.g. as described at https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects)?","body":"Have you enabled AspectJ (e.g. as described at <a href=\"https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects\" rel=\"nofollow noreferrer\">baeldung.com/spring-inject-bean-into-unmanaged-objects</a>)?"},{"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"score":0,"creation_date":1653574853,"post_id":72388755,"comment_id":127888714,"body_markdown":"@dunni Thanks, I tried setting that but have the same issue...","body":"@dunni Thanks, I tried setting that but have the same issue..."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1653576247,"post_id":72388755,"comment_id":127889274,"body_markdown":"@Daigo what is the reason that you have `@Configurable` ? Do you need AOP AspectJ ?","body":"@Daigo what is the reason that you have <code>@Configurable</code> ? Do you need AOP AspectJ ?"},{"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"score":0,"creation_date":1653605727,"post_id":72388755,"comment_id":127898390,"body_markdown":"@PanagiotisBougioukos Not really, I just thought it is needed to read the application.yml from an instantiated object. `TestClass` needs to be instantiated since it has parameterized constructor. I’m new to using this so my thought could be completely wrong.","body":"@PanagiotisBougioukos Not really, I just thought it is needed to read the application.yml from an instantiated object. <code>TestClass</code> needs to be instantiated since it has parameterized constructor. I’m new to using this so my thought could be completely wrong."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1653635307,"post_id":72388755,"comment_id":127902935,"body_markdown":"@Daigo check updated answer","body":"@Daigo check updated answer"},{"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"score":0,"creation_date":1653702385,"post_id":72388755,"comment_id":127922075,"body_markdown":"Thank you for your kind support, I got to understand the meaning of each annotation! I still have the problem but will try to solve it.","body":"Thank you for your kind support, I got to understand the meaning of each annotation! I still have the problem but will try to solve it."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653635299,"creation_date":1653556227,"answer_id":72389404,"question_id":72388755,"body_markdown":"**Short Answer:**\r\n\r\nFind the class that is annotated with `@SpringBootApplication` and add there also the annotation `@EnableConfigurationProperties(Properties.class)`\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties(Properties.class)\r\n    public class ServiceLauncher {\r\n\r\n\r\n**Explanation:**\r\n\r\n`@ConfigurationProperties` does not register the class that brings this annotation as a spring bean. It is only used so that Spring can read the properties with some meta configured information (ex `prefix = &quot;some.prop.prefix&quot;`).\r\n\r\nIf you wish to use this class as a spring bean (ex via `@Autowired`) you need to combine the above annotation with `@EnableConfigurationProperties` which then says to spring that this class must become a spring bean.\r\n\r\n**Another workaround:**\r\n\r\nYou could also instead just use the `@Component` on the Properties class and that would be enough without the need of `@EnableConfigurationProperties` but the later is better practice to be used.\r\n\r\n    @Component\r\n    @ConfigurationProperties\r\n    @Getter\r\n    @Setter\r\n    public class Properties {\r\n    \r\n\r\n**Edit:** After clarrified in the comments there is also another mistake in this  code. You should replace `@Configurable` with `@Configuration`. The first one does not create a spring bean on the class that is placed!","title":"Spring Boot - Cannot read application.yml values from instantiated object","body":"<p><strong>Short Answer:</strong></p>\n<p>Find the class that is annotated with <code>@SpringBootApplication</code> and add there also the annotation <code>@EnableConfigurationProperties(Properties.class)</code></p>\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties(Properties.class)\npublic class ServiceLauncher {\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<p><code>@ConfigurationProperties</code> does not register the class that brings this annotation as a spring bean. It is only used so that Spring can read the properties with some meta configured information (ex <code>prefix = &quot;some.prop.prefix&quot;</code>).</p>\n<p>If you wish to use this class as a spring bean (ex via <code>@Autowired</code>) you need to combine the above annotation with <code>@EnableConfigurationProperties</code> which then says to spring that this class must become a spring bean.</p>\n<p><strong>Another workaround:</strong></p>\n<p>You could also instead just use the <code>@Component</code> on the Properties class and that would be enough without the need of <code>@EnableConfigurationProperties</code> but the later is better practice to be used.</p>\n<pre><code>@Component\n@ConfigurationProperties\n@Getter\n@Setter\npublic class Properties {\n</code></pre>\n<p><strong>Edit:</strong> After clarrified in the comments there is also another mistake in this  code. You should replace <code>@Configurable</code> with <code>@Configuration</code>. The first one does not create a spring bean on the class that is placed!</p>\n"}],"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653635299,"creation_date":1653552786,"question_id":72388755,"body_markdown":"I&#39;m trying to read some setting values from application.yml using the @ConfigurationProperties annotation.\r\n\r\nAn instantiated object of the class `TestClass` uses the properties class, so I added the `@Configurable` annotation, but the `properties` always be `null` and it causes NullpointerException.\r\n\r\nThe properties class:\r\n\r\n```java\r\n@ConfigurationProperties\r\n@Getter\r\n@Setter\r\npublic class Properties {\r\n    \r\n    private String setting;\r\n\r\n}\r\n```\r\n\r\nAnd the object which uses the properties:\r\n\r\n```java\r\n\r\n@Configurable\r\npublic class TestClass{\r\n\r\n    @Autowired\r\n    private Properties properties;\r\n\r\n    void print(){\r\n        System.out.println(properties.getSetting());\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf I call the print method, `NullPointerException` will be occurred:\r\n\r\n```java\r\nTestClass testClass = new TestClass();\r\ntestClass.print();\r\n```\r\n\r\nAm I missing something?","title":"Spring Boot - Cannot read application.yml values from instantiated object","body":"<p>I'm trying to read some setting values from application.yml using the @ConfigurationProperties annotation.</p>\n<p>An instantiated object of the class <code>TestClass</code> uses the properties class, so I added the <code>@Configurable</code> annotation, but the <code>properties</code> always be <code>null</code> and it causes NullpointerException.</p>\n<p>The properties class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties\n@Getter\n@Setter\npublic class Properties {\n    \n    private String setting;\n\n}\n</code></pre>\n<p>And the object which uses the properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configurable\npublic class TestClass{\n\n    @Autowired\n    private Properties properties;\n\n    void print(){\n        System.out.println(properties.getSetting());\n    }\n}\n\n</code></pre>\n<p>If I call the print method, <code>NullPointerException</code> will be occurred:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestClass testClass = new TestClass();\ntestClass.print();\n</code></pre>\n<p>Am I missing something?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":1,"creation_date":1665648907,"post_id":72401413,"comment_id":130750541,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653635111,"creation_date":1653635111,"answer_id":72401651,"question_id":72401413,"body_markdown":"You have to return `Page&lt;FooBar&gt;` instead of `List&lt;FooBar&gt;`.\r\n```java\r\n@Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\r\nPage&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\r\n```\r\n\r\nThen you can call the method in this way:\r\n```java\r\nPageable pageable = PageRequest.of(0, 5, Sort.by(Sort.Direction.DESC, &quot;id&quot;));\r\nPage&lt;FooBar&gt; page = foosRepository.findFoosByBarId(barId, pageable);\r\n```\r\n\r\nOn the `page` variable, uou can call several useful methods:\r\n - `page.getContent()` to retrieve the list of elements of the page\r\n - `page.getTotalElements()` to get the number of all elements\r\n - `page.getTotalPages()` to get the number of pages\r\n\r\n[Here][1] the other methods of `Page` class.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html","title":"How to return Page instead of List on a JPA query","body":"<p>You have to return <code>Page&lt;FooBar&gt;</code> instead of <code>List&lt;FooBar&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\nPage&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\n</code></pre>\n<p>Then you can call the method in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pageable pageable = PageRequest.of(0, 5, Sort.by(Sort.Direction.DESC, &quot;id&quot;));\nPage&lt;FooBar&gt; page = foosRepository.findFoosByBarId(barId, pageable);\n</code></pre>\n<p>On the <code>page</code> variable, uou can call several useful methods:</p>\n<ul>\n<li><code>page.getContent()</code> to retrieve the list of elements of the page</li>\n<li><code>page.getTotalElements()</code> to get the number of all elements</li>\n<li><code>page.getTotalPages()</code> to get the number of pages</li>\n</ul>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html\" rel=\"nofollow noreferrer\">Here</a> the other methods of <code>Page</code> class.</p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1089,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72401651,"answer_count":1,"score":0,"last_activity_date":1653635111,"creation_date":1653633597,"question_id":72401413,"body_markdown":"How to return Page instead of List on the following native JPA query\r\nHow to handle Pageable as an argument to return a paginated list\r\n\r\n    @Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\r\n    List&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\r\n\r\n    @Entity\r\n    @Table(name = &quot;foo_bars&quot;)\r\n    public class FooBar {\r\n    \r\n        @ManyToOne\r\n        Foo foo;\r\n     \r\n        @ManyToOne\r\n        Bar bar;\r\n    }\r\n\r\n","title":"How to return Page instead of List on a JPA query","body":"<p>How to return Page instead of List on the following native JPA query\nHow to handle Pageable as an argument to return a paginated list</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\nList&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\n\n@Entity\n@Table(name = &quot;foo_bars&quot;)\npublic class FooBar {\n\n    @ManyToOne\n    Foo foo;\n \n    @ManyToOne\n    Bar bar;\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653563989,"post_id":72388957,"comment_id":127884732,"body_markdown":"If you call via `formatter:format` you are calling a goal of a plugin and not executing the life cycle ...that means using `-T 1C` or alike does not make sense...because all execution is done with single thread. But I would like to know why do you need that to run in parallel .. and why the speed is here a problem or how often do you call that formatting? Don&#39;t you use configurations in your IDE ?","body":"If you call via <code>formatter:format</code> you are calling a goal of a plugin and not executing the life cycle ...that means using <code>-T 1C</code> or alike does not make sense...because all execution is done with single thread. But I would like to know why do you need that to run in parallel .. and why the speed is here a problem or how often do you call that formatting? Don&#39;t you use configurations in your IDE ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653564024,"post_id":72388957,"comment_id":127884745,"body_markdown":"Technically in such cases the plugin could handle that but I don&#39;t know any plugin which does that...","body":"Technically in such cases the plugin could handle that but I don&#39;t know any plugin which does that..."},{"owner":{"account_id":3936130,"reputation":723,"user_id":3252477,"display_name":"Kineolyan"},"score":0,"creation_date":1653592192,"post_id":72388957,"comment_id":127894790,"body_markdown":"Well, I empirically see that `-T 1C` speed things up, for checkstyle for example. And yes, speed matters. IDEs can be configured, but eventually, I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges, etc. My understanding is that maven works module per module. `-T` being a general maven option, I assumed that it triggered a parallel processing of modules. That maven would follow the order of dependencies seemed logical. It is interesting that you mention this can be controlled per plugin. Do you have any link to that I can read, please?","body":"Well, I empirically see that <code>-T 1C</code> speed things up, for checkstyle for example. And yes, speed matters. IDEs can be configured, but eventually, I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges, etc. My understanding is that maven works module per module. <code>-T</code> being a general maven option, I assumed that it triggered a parallel processing of modules. That maven would follow the order of dependencies seemed logical. It is interesting that you mention this can be controlled per plugin. Do you have any link to that I can read, please?"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653634917,"creation_date":1653598845,"answer_id":72397963,"question_id":72388957,"body_markdown":"Yes you are right about the assumption to speed up things via `-T1C` if the plugin it does it correctly. As you can see that the `formatter-maven-plugin` does it correctly. As you can see the results which shows it improves the speed.\r\n\r\n\r\n    $ hyperfine -L threads 2,4,6,8,1C -p &#39;git co -- .&#39; &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T {threads}&#39;\r\n    Benchmark 1: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2\r\n      Time (mean &#177; σ):     10.111 s &#177;  0.623 s    [User: 17.796 s, System: 0.918 s]\r\n      Range (min … max):    9.349 s … 11.446 s    10 runs\r\n     \r\n    Benchmark 2: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4\r\n      Time (mean &#177; σ):      8.693 s &#177;  0.629 s    [User: 17.247 s, System: 0.862 s]\r\n      Range (min … max):    7.827 s …  9.628 s    10 runs\r\n     \r\n    Benchmark 3: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6\r\n      Time (mean &#177; σ):      8.829 s &#177;  0.567 s    [User: 18.438 s, System: 0.965 s]\r\n      Range (min … max):    8.098 s …  9.803 s    10 runs\r\n     \r\n    Benchmark 4: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8\r\n      Time (mean &#177; σ):      9.257 s &#177;  0.956 s    [User: 18.195 s, System: 0.996 s]\r\n      Range (min … max):    8.053 s … 10.938 s    10 runs\r\n     \r\n    Benchmark 5: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C\r\n      Time (mean &#177; σ):      8.568 s &#177;  0.515 s    [User: 17.955 s, System: 0.942 s]\r\n      Range (min … max):    7.682 s …  9.537 s    10 runs\r\n     \r\n    Summary\r\n      &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C&#39; ran\r\n        1.01 &#177; 0.10 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4&#39;\r\n        1.03 &#177; 0.09 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6&#39;\r\n        1.08 &#177; 0.13 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8&#39;\r\n        1.18 &#177; 0.10 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2&#39;\r\n\r\n\r\nJust as a comparison for example with versions-maven-plugin:\r\n\r\n    $ hyperfine -L threads 2,4,6,8,1C -p &#39;git co -- .&#39; &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T {threads}&#39;\r\n    Benchmark 1: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2\r\n      Time (mean &#177; σ):      1.581 s &#177;  0.104 s    [User: 4.641 s, System: 0.198 s]\r\n      Range (min … max):    1.513 s …  1.863 s    10 runs\r\n     \r\n    Benchmark 2: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4\r\n      Time (mean &#177; σ):      1.575 s &#177;  0.031 s    [User: 4.627 s, System: 0.190 s]\r\n      Range (min … max):    1.527 s …  1.623 s    10 runs\r\n     \r\n    Benchmark 3: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6\r\n      Time (mean &#177; σ):      1.572 s &#177;  0.034 s    [User: 4.608 s, System: 0.195 s]\r\n      Range (min … max):    1.530 s …  1.623 s    10 runs\r\n     \r\n    Benchmark 4: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8\r\n      Time (mean &#177; σ):      1.558 s &#177;  0.031 s    [User: 4.589 s, System: 0.192 s]\r\n      Range (min … max):    1.481 s …  1.586 s    10 runs\r\n     \r\n    Benchmark 5: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C\r\n      Time (mean &#177; σ):      1.565 s &#177;  0.024 s    [User: 4.597 s, System: 0.196 s]\r\n      Range (min … max):    1.533 s …  1.600 s    10 runs\r\n     \r\n    Summary\r\n      &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8&#39; ran\r\n        1.00 &#177; 0.03 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C&#39;\r\n        1.01 &#177; 0.03 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6&#39;\r\n        1.01 &#177; 0.03 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4&#39;\r\n        1.01 &#177; 0.07 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2&#39;\r\n\r\nHere you can see there is no difference by different `-T ..` \r\n\r\n\r\n&gt; I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges,\r\n\r\nYou can call some of the goals on command line via goal only. (Always the plugins must do it correctly.).\r\n\r\n&gt;  to clean the codebase after git merges, \r\n\r\nIf you have two states of code which are correctly formatted a merge will not change the formatting (assumed automatic merge will work). Except there are conflicts which could not being done automatically (This is job for IDE).\r\n\r\nYou could break the build if the formatting is not correct.\r\n\r\n\r\n&gt;  I assumed that it triggered a parallel processing of modules. \r\n\r\nThe parallelizations is based on levels of modules\r\n\r\n&gt; That maven would follow the order of dependencies seemed logical.\r\n\r\nYes the order of the reactor is analyzed by Maven. \r\n\r\n&gt; It is interesting that you mention this can be controlled per plugin. \r\n&gt; Do you have any link to that I can read, please?\r\n\r\nA plugin can simply read the pom files on its which circumvents the information of reactor... some plugins do that (versions-maven-plugin) which means the plugin can do everything on it&#39;s own, but repeats the logic which is already implemented in Maven itself.\r\n\r\nUpdate: The versions-maven-plugin does not override the reactor it does not take into account that this information exists. It&#39;s just working on it&#39;s own\r\n","title":"Run maven plugin on all modules in parallel without dependency order","body":"<p>Yes you are right about the assumption to speed up things via <code>-T1C</code> if the plugin it does it correctly. As you can see that the <code>formatter-maven-plugin</code> does it correctly. As you can see the results which shows it improves the speed.</p>\n<pre><code>$ hyperfine -L threads 2,4,6,8,1C -p 'git co -- .' 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T {threads}'\nBenchmark 1: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2\n  Time (mean ± σ):     10.111 s ±  0.623 s    [User: 17.796 s, System: 0.918 s]\n  Range (min … max):    9.349 s … 11.446 s    10 runs\n \nBenchmark 2: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4\n  Time (mean ± σ):      8.693 s ±  0.629 s    [User: 17.247 s, System: 0.862 s]\n  Range (min … max):    7.827 s …  9.628 s    10 runs\n \nBenchmark 3: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6\n  Time (mean ± σ):      8.829 s ±  0.567 s    [User: 18.438 s, System: 0.965 s]\n  Range (min … max):    8.098 s …  9.803 s    10 runs\n \nBenchmark 4: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8\n  Time (mean ± σ):      9.257 s ±  0.956 s    [User: 18.195 s, System: 0.996 s]\n  Range (min … max):    8.053 s … 10.938 s    10 runs\n \nBenchmark 5: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C\n  Time (mean ± σ):      8.568 s ±  0.515 s    [User: 17.955 s, System: 0.942 s]\n  Range (min … max):    7.682 s …  9.537 s    10 runs\n \nSummary\n  'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C' ran\n    1.01 ± 0.10 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4'\n    1.03 ± 0.09 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6'\n    1.08 ± 0.13 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8'\n    1.18 ± 0.10 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2'\n</code></pre>\n<p>Just as a comparison for example with versions-maven-plugin:</p>\n<pre><code>$ hyperfine -L threads 2,4,6,8,1C -p 'git co -- .' 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T {threads}'\nBenchmark 1: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2\n  Time (mean ± σ):      1.581 s ±  0.104 s    [User: 4.641 s, System: 0.198 s]\n  Range (min … max):    1.513 s …  1.863 s    10 runs\n \nBenchmark 2: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4\n  Time (mean ± σ):      1.575 s ±  0.031 s    [User: 4.627 s, System: 0.190 s]\n  Range (min … max):    1.527 s …  1.623 s    10 runs\n \nBenchmark 3: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6\n  Time (mean ± σ):      1.572 s ±  0.034 s    [User: 4.608 s, System: 0.195 s]\n  Range (min … max):    1.530 s …  1.623 s    10 runs\n \nBenchmark 4: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8\n  Time (mean ± σ):      1.558 s ±  0.031 s    [User: 4.589 s, System: 0.192 s]\n  Range (min … max):    1.481 s …  1.586 s    10 runs\n \nBenchmark 5: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C\n  Time (mean ± σ):      1.565 s ±  0.024 s    [User: 4.597 s, System: 0.196 s]\n  Range (min … max):    1.533 s …  1.600 s    10 runs\n \nSummary\n  'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8' ran\n    1.00 ± 0.03 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C'\n    1.01 ± 0.03 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6'\n    1.01 ± 0.03 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4'\n    1.01 ± 0.07 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2'\n</code></pre>\n<p>Here you can see there is no difference by different <code>-T ..</code></p>\n<blockquote>\n<p>I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges,</p>\n</blockquote>\n<p>You can call some of the goals on command line via goal only. (Always the plugins must do it correctly.).</p>\n<blockquote>\n<p>to clean the codebase after git merges,</p>\n</blockquote>\n<p>If you have two states of code which are correctly formatted a merge will not change the formatting (assumed automatic merge will work). Except there are conflicts which could not being done automatically (This is job for IDE).</p>\n<p>You could break the build if the formatting is not correct.</p>\n<blockquote>\n<p>I assumed that it triggered a parallel processing of modules.</p>\n</blockquote>\n<p>The parallelizations is based on levels of modules</p>\n<blockquote>\n<p>That maven would follow the order of dependencies seemed logical.</p>\n</blockquote>\n<p>Yes the order of the reactor is analyzed by Maven.</p>\n<blockquote>\n<p>It is interesting that you mention this can be controlled per plugin.\nDo you have any link to that I can read, please?</p>\n</blockquote>\n<p>A plugin can simply read the pom files on its which circumvents the information of reactor... some plugins do that (versions-maven-plugin) which means the plugin can do everything on it's own, but repeats the logic which is already implemented in Maven itself.</p>\n<p>Update: The versions-maven-plugin does not override the reactor it does not take into account that this information exists. It's just working on it's own</p>\n"}],"owner":{"account_id":3936130,"reputation":723,"user_id":3252477,"display_name":"Kineolyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72397963,"answer_count":1,"score":2,"last_activity_date":1653634917,"creation_date":1653553929,"question_id":72388957,"body_markdown":"I am looking for a way to run a maven plugin, like [the formatter plugin][1] or [checkstyle][2], on all sub-modules in parallel. It would look like `mvn -T 1C formatter:format` with an additional magic option.  \r\nThis is a bit different from running standard maven actions because each module are independent from each other regardless formatting.  \r\n\r\nFor example, let&#39;s consider a project with two sub-modules _lib_ and _app_. _app_ depends on _lib_, implementing its underlying logic.  \r\nWhen compiling code, it is not possible to compile _app_ without first compiling _lib_. However, when formatting code, we can safely do both in parallel. \r\n\r\nI suspect that this is not possible because this does not follow maven architecture, oriented towards predefined life-cycles on which we hook some plugins. But I may have missed something &#129310;\r\n\r\n\r\n  [1]: https://code.revelc.net/formatter-maven-plugin/format-mojo.html\r\n  [2]: https://maven.apache.org/plugins/maven-checkstyle-plugin/checkstyle-mojo.html","title":"Run maven plugin on all modules in parallel without dependency order","body":"<p>I am looking for a way to run a maven plugin, like <a href=\"https://code.revelc.net/formatter-maven-plugin/format-mojo.html\" rel=\"nofollow noreferrer\">the formatter plugin</a> or <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/checkstyle-mojo.html\" rel=\"nofollow noreferrer\">checkstyle</a>, on all sub-modules in parallel. It would look like <code>mvn -T 1C formatter:format</code> with an additional magic option.<br />\nThis is a bit different from running standard maven actions because each module are independent from each other regardless formatting.</p>\n<p>For example, let's consider a project with two sub-modules <em>lib</em> and <em>app</em>. <em>app</em> depends on <em>lib</em>, implementing its underlying logic.<br />\nWhen compiling code, it is not possible to compile <em>app</em> without first compiling <em>lib</em>. However, when formatting code, we can safely do both in parallel.</p>\n<p>I suspect that this is not possible because this does not follow maven architecture, oriented towards predefined life-cycles on which we hook some plugins. But I may have missed something 🤞</p>\n"},{"tags":["java","maven","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653615912,"creation_date":1653615912,"answer_id":72399644,"question_id":72398328,"body_markdown":"You can install the [Project Manager for Java][1] extension,The effect is as follows\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-dependency\r\n  [2]: https://i.stack.imgur.com/vhK9A.png","title":"Why is my Java project not found in my workspace (Visual Studio Code)?","body":"<p>You can install the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-dependency\" rel=\"nofollow noreferrer\">Project Manager for Java</a> extension,The effect is as follows</p>\n<p><a href=\"https://i.stack.imgur.com/vhK9A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vhK9A.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10612246,"reputation":388,"user_id":9808476,"display_name":"FOR_SCIENCE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653634495,"creation_date":1653634495,"answer_id":72401560,"question_id":72398328,"body_markdown":"It turns out that a folder named &#39;postgres-data&#39; (generated from my PostgreSQL database) has strict permissions that disallowed my project manager extension to scan my project. A workaround is to run `chmod 777 -R postgres-data`.","title":"Why is my Java project not found in my workspace (Visual Studio Code)?","body":"<p>It turns out that a folder named 'postgres-data' (generated from my PostgreSQL database) has strict permissions that disallowed my project manager extension to scan my project. A workaround is to run <code>chmod 777 -R postgres-data</code>.</p>\n"}],"owner":{"account_id":10612246,"reputation":388,"user_id":9808476,"display_name":"FOR_SCIENCE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72401560,"answer_count":2,"score":1,"last_activity_date":1653634495,"creation_date":1653601385,"question_id":72398328,"body_markdown":"My Java extensions do not seem to be able to actually recognize my project as a Java project. As a result, my project management, linter and formatter extensions do not work.. I use the Java extension pack from Microsoft along with the Java language support extension by Red Hat.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt might have something to do with the fact that I renamed my package from &#39;productestservice&#39; to &#39;producttestservice&#39;. I tried an answer from a related thread, which is to &#39;clean the Java language server workspace&#39;. Unfortunately, this did not solve the issue.\r\n\r\n[Here][3] is a repository that I prepared for the reproduction of this issue.\r\n\r\n**EDIT: I found out that my language server extension fails to scan my project.**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MUUGi.png\r\n  [2]: https://i.stack.imgur.com/ajc6x.png\r\n  [3]: https://github.com/cassis163/workspace-issue/tree/main\r\n  [4]: https://i.stack.imgur.com/tDg6u.png","title":"Why is my Java project not found in my workspace (Visual Studio Code)?","body":"<p>My Java extensions do not seem to be able to actually recognize my project as a Java project. As a result, my project management, linter and formatter extensions do not work.. I use the Java extension pack from Microsoft along with the Java language support extension by Red Hat.</p>\n<p><a href=\"https://i.stack.imgur.com/MUUGi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MUUGi.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ajc6x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajc6x.png\" alt=\"enter image description here\" /></a></p>\n<p>It might have something to do with the fact that I renamed my package from 'productestservice' to 'producttestservice'. I tried an answer from a related thread, which is to 'clean the Java language server workspace'. Unfortunately, this did not solve the issue.</p>\n<p><a href=\"https://github.com/cassis163/workspace-issue/tree/main\" rel=\"nofollow noreferrer\">Here</a> is a repository that I prepared for the reproduction of this issue.</p>\n<p><strong>EDIT: I found out that my language server extension fails to scan my project.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/tDg6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDg6u.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","exception","dependencies","multi-module"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1404987158,"post_id":24673671,"comment_id":38253723,"body_markdown":"The groupId in your parent does not match the groupId referenced?","body":"The groupId in your parent does not match the groupId referenced?"},{"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"score":0,"creation_date":1404987448,"post_id":24673671,"comment_id":38253919,"body_markdown":"@GyroGearless thanks, the parent group id is incorrect in post, other wise in project its same.","body":"@GyroGearless thanks, the parent group id is incorrect in post, other wise in project its same."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1404987753,"post_id":24673671,"comment_id":38254089,"body_markdown":"The things you marked in Eclipse output is the workspace resolution in Eclipse. How does your folder strucuture on your hard disk look like?","body":"The things you marked in Eclipse output is the workspace resolution in Eclipse. How does your folder strucuture on your hard disk look like?"},{"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"score":0,"creation_date":1404987860,"post_id":24673671,"comment_id":38254162,"body_markdown":"the folder structure is `D:\\luna_workspace\\empire_club\\empirecl`.","body":"the folder structure is <code>D:\\luna_workspace\\empire_club\\empirecl</code>."},{"owner":{"account_id":18263692,"reputation":563,"user_id":13295921,"display_name":"UN..D"},"score":0,"creation_date":1672085329,"post_id":24673671,"comment_id":132219206,"body_markdown":"it&#39;s cause of your root com.netsol:empirecl:pom:0.0.1-SNAPSHOT not installed inside .m2 file. it happen with me when tried to install only sub package needed so I tried to install all the packages and compile worked fine so notice that root package wasn&#39;t installed was the difference.","body":"it&#39;s cause of your root com.netsol:empirecl:pom:0.0.1-SNAPSHOT not installed inside .m2 file. it happen with me when tried to install only sub package needed so I tried to install all the packages and compile worked fine so notice that root package wasn&#39;t installed was the difference."}],"answers":[{"tags":[],"owner":{"account_id":298380,"reputation":4120,"user_id":604382,"display_name":"declension"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1421081449,"creation_date":1421081449,"answer_id":27906888,"question_id":24673671,"body_markdown":"In case anybody comes back to this, I think the problem here was failing to install the parent pom first, which all these submodules depend on, so the [Maven Reactor](http://books.sonatype.com/mvnex-book/reference/multimodule-sect-building-multimodule.html) can&#39;t collect the necessary dependencies to build the submodule.\r\n\r\nSo from the root directory (here `D:\\luna_workspace\\empire_club\\empirecl`) it probably just needs a: \r\n\r\n    mvn clean install\r\n\r\n(Aside: `&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;` is not really necessary as [it&#39;s the default value](http://maven.apache.org/ref/3.0.3/maven-model/maven.html#class_parent)).\r\n\r\n","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>In case anybody comes back to this, I think the problem here was failing to install the parent pom first, which all these submodules depend on, so the <a href=\"http://books.sonatype.com/mvnex-book/reference/multimodule-sect-building-multimodule.html\" rel=\"noreferrer\">Maven Reactor</a> can't collect the necessary dependencies to build the submodule.</p>\n\n<p>So from the root directory (here <code>D:\\luna_workspace\\empire_club\\empirecl</code>) it probably just needs a: </p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>(Aside: <code>&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;</code> is not really necessary as <a href=\"http://maven.apache.org/ref/3.0.3/maven-model/maven.html#class_parent\" rel=\"noreferrer\">it's the default value</a>).</p>\n"},{"tags":[],"owner":{"account_id":5588048,"reputation":101,"user_id":4428092,"display_name":"Sultan1991"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537723491,"creation_date":1537723491,"answer_id":52468547,"question_id":24673671,"body_markdown":"In my case I forgot it was packaging conflict jar vs pom. I forgot to write \r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\nIn every child pom.xml file","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>In my case I forgot it was packaging conflict jar vs pom. I forgot to write </p>\n\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<p>In every child pom.xml file</p>\n"},{"tags":[],"owner":{"account_id":16371628,"reputation":31,"user_id":11824796,"display_name":"WounderGrifft"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580884445,"creation_date":1563886295,"answer_id":57164600,"question_id":24673671,"body_markdown":"My solution was to insert `&lt;packaging&gt;pom&lt;/packaging&gt;` between `artifactId` and `version`\r\n\r\n    &lt;groupId&gt;com.onlinechat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;chat-online&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;server&lt;/module&gt;\r\n        &lt;module&gt;client&lt;/module&gt;\r\n        &lt;module&gt;network&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>My solution was to insert <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> between <code>artifactId</code> and <code>version</code></p>\n\n<pre><code>&lt;groupId&gt;com.onlinechat&lt;/groupId&gt;\n&lt;artifactId&gt;chat-online&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;modules&gt;\n    &lt;module&gt;server&lt;/module&gt;\n    &lt;module&gt;client&lt;/module&gt;\n    &lt;module&gt;network&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17824706,"reputation":137,"user_id":12946201,"display_name":"WhiteCherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585579455,"creation_date":1585579455,"answer_id":60933080,"question_id":24673671,"body_markdown":"My solution:\r\n\r\n 1. remove all projects in current workspace\r\n 2. import all again\r\n 3. maven update project (Alt + F5) -&gt; *Select All* and check *Force Update of Snapshots/Releases*\r\n 4. maven build (Ctrl + B) until there is nothing to build\r\n\r\nIt worked for me after the second try.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>My solution:</p>\n\n<ol>\n<li>remove all projects in current workspace</li>\n<li>import all again</li>\n<li>maven update project (Alt + F5) -> <em>Select All</em> and check <em>Force Update of Snapshots/Releases</em></li>\n<li>maven build (Ctrl + B) until there is nothing to build</li>\n</ol>\n\n<p>It worked for me after the second try.</p>\n"},{"tags":[],"owner":{"account_id":13954604,"reputation":2357,"user_id":10077354,"display_name":"Suraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612804445,"creation_date":1612804445,"answer_id":66106200,"question_id":24673671,"body_markdown":"For me, adding the following block of code under `&lt;dependency management&gt;&lt;dependencies&gt;` solved the problem.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.1-b06&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>For me, adding the following block of code under <code>&lt;dependency management&gt;&lt;dependencies&gt;</code> solved the problem.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1-b06&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20833834,"reputation":1,"user_id":15795723,"display_name":"Blas Albir"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1622706339,"creation_date":1622675133,"answer_id":67813549,"question_id":24673671,"body_markdown":"Delete or close all other projects, and restart netbeans IDE, and try again.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>Delete or close all other projects, and restart netbeans IDE, and try again.</p>\n"},{"tags":[],"owner":{"account_id":9057807,"reputation":319,"user_id":6745434,"display_name":"Gitesh kumar Jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627750714,"creation_date":1627750714,"answer_id":68604145,"question_id":24673671,"body_markdown":"This what worked for me -\r\nGo to Java build path --&gt; Order and Export(check JRE system libraries and maven dependencies) in my case these 2 were unchecked.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>This what worked for me -\nGo to Java build path --&gt; Order and Export(check JRE system libraries and maven dependencies) in my case these 2 were unchecked.</p>\n"},{"tags":[],"owner":{"account_id":25402994,"reputation":1,"user_id":19212151,"display_name":"Sanjay hs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653634260,"creation_date":1653634260,"answer_id":72401515,"question_id":24673671,"body_markdown":"Check with your VPN connection, if you are working in home.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>Check with your VPN connection, if you are working in home.</p>\n"}],"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239778,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":8,"score":42,"last_activity_date":1653634260,"creation_date":1404986524,"question_id":24673671,"body_markdown":"I am trying to create a maven multi-module project. the project is created successfully but when I am trying to use one module as a dependency of another module, it throws an exception. When I create a module using eclipse, I was selecting packaging as a jar, but when the module is created, the packaging tag was not mention in child pom.xml and I manually insert the packaging tag as a jar. \r\nfollowing is my parent `pom.xml`: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    -------------------------\r\n    &lt;modules&gt;\r\n\t\t&lt;module&gt;empirecl-web&lt;/module&gt;\r\n\t\t&lt;module&gt;empirecl-dao&lt;/module&gt;\r\n\t\t&lt;module&gt;empirecl-service&lt;/module&gt;\r\n\t\t&lt;module&gt;empirecl-api&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\nDao Child Module: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;empirecl-dao&lt;/name&gt;\r\n    ------------------------\r\n\r\nService Child Module: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;empirecl-service&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;empirecl-service&lt;/name&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n    ------------------------------------------\r\n\r\nThe Dao module maven clean and install successfully, but when i trying to use service module, it will generate an following exception: \r\n\r\n    [ERROR] Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Could not find artifact com.netsol:empirecl:pom:0.0.1-SNAPSHOT -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT\r\n\r\nI am trying the find to solution from web, but still the solution is not found. In eclipse when i open the `Dependency Hierarchy` of service module, it shown the DAO module as a folder not jar. below is the screen shot of `Dependency Hierarchy` of service module. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hd7mD.png","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>I am trying to create a maven multi-module project. the project is created successfully but when I am trying to use one module as a dependency of another module, it throws an exception. When I create a module using eclipse, I was selecting packaging as a jar, but when the module is created, the packaging tag was not mention in child pom.xml and I manually insert the packaging tag as a jar. \nfollowing is my parent <code>pom.xml</code>: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.netsol&lt;/groupId&gt;\n&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n-------------------------\n&lt;modules&gt;\n    &lt;module&gt;empirecl-web&lt;/module&gt;\n    &lt;module&gt;empirecl-dao&lt;/module&gt;\n    &lt;module&gt;empirecl-service&lt;/module&gt;\n    &lt;module&gt;empirecl-api&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>Dao Child Module: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.netsol&lt;/groupId&gt;\n    &lt;artifactId&gt;empirecl&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;empirecl-dao&lt;/name&gt;\n------------------------\n</code></pre>\n\n<p>Service Child Module: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.netsol&lt;/groupId&gt;\n    &lt;artifactId&gt;empirecl&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;empirecl-service&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;empirecl-service&lt;/name&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.netsol&lt;/groupId&gt;\n        &lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n------------------------------------------\n</code></pre>\n\n<p>The Dao module maven clean and install successfully, but when i trying to use service module, it will generate an following exception: </p>\n\n<pre><code>[ERROR] Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Could not find artifact com.netsol:empirecl:pom:0.0.1-SNAPSHOT -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT\n</code></pre>\n\n<p>I am trying the find to solution from web, but still the solution is not found. In eclipse when i open the <code>Dependency Hierarchy</code> of service module, it shown the DAO module as a folder not jar. below is the screen shot of <code>Dependency Hierarchy</code> of service module. </p>\n\n<p><img src=\"https://i.stack.imgur.com/hd7mD.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":22555461,"reputation":31,"user_id":16743927,"display_name":"Adarsh Roop"},"score":0,"creation_date":1653632978,"post_id":72396787,"comment_id":127902345,"body_markdown":"@GaryRussell - Can you please help me to find some docs or websites on this ?","body":"@GaryRussell - Can you please help me to find some docs or websites on this ?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1654005112,"post_id":72396787,"comment_id":127985450,"body_markdown":"This makes no sense to me; please provide an [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) so I can see what&#39;s wrong.","body":"This makes no sense to me; please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> so I can see what&#39;s wrong."}],"owner":{"account_id":22555461,"reputation":31,"user_id":16743927,"display_name":"Adarsh Roop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653634005,"creation_date":1653591821,"question_id":72396787,"body_markdown":"After a lot of effort and research on Kafka exception handling in Spring Boot application I am here for help.\r\nI am using Spring boot version 2.5.9. Requirement is to handle the exceptions in spring kafka i.e., Retry the message for certain times and then commit the offset. \r\n\r\nFirstly, I have tried with `seekToCurrentErrorHandler` with the Acknowledgment mode **Auto** as the below:\r\n\r\n    @Bean\r\n    ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((r, e) -&gt;  {\r\n        \tlog.info(&quot;in Error Handler record : {} and exception is : {}&quot;, r, e);\r\n        }, new FixedBackOff(0L, 3L)); \r\n        factory.setErrorHandler(errorHandler);\r\n        return factory;\r\n    }\r\n\r\nAnd tested with an integrated test case, the Listener invoked 4 times and worked as expected.\r\n\r\n    verify(kafkaConsumer, times(4)).onMessage(isA(ConsumerRecord.class));\r\n\r\nThe same is invoking **only once** when provided Acknowledgment as **MANUAL or MANUAL_IMMEDIATE**\r\n\r\nSecondly, have tried the below approach with RetryTemplate and Acknowledgment mode as **AUTO**\r\n\r\n    @Bean\r\n    ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        factory.setErrorHandler(((thrownException, data) -&gt; {\r\n            log.info(&quot;Exception in consumerConfig is {} and the record is {}&quot;, thrownException.getMessage(), data);\r\n            //persist\r\n        }));\r\n        factory.setRetryTemplate(retryTemplate());\r\n        return factory;\r\n    }\r\n\r\n    private RetryTemplate retryTemplate() {\r\n    \r\n\t\tFixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\r\n\t\tfixedBackOffPolicy.setBackOffPeriod(1000);\r\n\t\tRetryTemplate retryTemplate = new RetryTemplate();\r\n\t\tretryTemplate.setRetryPolicy(simpleRetryPolicy());\r\n\t\tretryTemplate.setBackOffPolicy(fixedBackOffPolicy);\r\n\t\treturn retryTemplate;\r\n\t}\r\n    \r\n\r\n    private RetryPolicy simpleRetryPolicy() {\r\n\r\n    \tSimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\r\n    \tsimpleRetryPolicy.setMaxAttempts(3);\r\n    \treturn simpleRetryPolicy;\r\n    }\r\n\r\nthis worked as expected, where the message retried processing with 3 attempts.\r\n\r\nThe same is invoking **only once** when provided Acknowledgment as **MANUAL or MANUAL_IMMEDIATE**\r\n\r\nI unable to find any articles/docs/code repos on Kafka Exception Handling with **MANUAL** Ack Mode.\r\nKindly, Please suggest me some websites if any to handle the Spring kafka exceptions(Listener and Container level) with **MANUAL** Ack mode.\r\n\r\n","title":"Spring-kafka exception handling with Manual Acknowledgment Mode","body":"<p>After a lot of effort and research on Kafka exception handling in Spring Boot application I am here for help.\nI am using Spring boot version 2.5.9. Requirement is to handle the exceptions in spring kafka i.e., Retry the message for certain times and then commit the offset.</p>\n<p>Firstly, I have tried with <code>seekToCurrentErrorHandler</code> with the Acknowledgment mode <strong>Auto</strong> as the below:</p>\n<pre><code>@Bean\nConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((r, e) -&gt;  {\n        log.info(&quot;in Error Handler record : {} and exception is : {}&quot;, r, e);\n    }, new FixedBackOff(0L, 3L)); \n    factory.setErrorHandler(errorHandler);\n    return factory;\n}\n</code></pre>\n<p>And tested with an integrated test case, the Listener invoked 4 times and worked as expected.</p>\n<pre><code>verify(kafkaConsumer, times(4)).onMessage(isA(ConsumerRecord.class));\n</code></pre>\n<p>The same is invoking <strong>only once</strong> when provided Acknowledgment as <strong>MANUAL or MANUAL_IMMEDIATE</strong></p>\n<p>Secondly, have tried the below approach with RetryTemplate and Acknowledgment mode as <strong>AUTO</strong></p>\n<pre><code>@Bean\nConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    factory.setErrorHandler(((thrownException, data) -&gt; {\n        log.info(&quot;Exception in consumerConfig is {} and the record is {}&quot;, thrownException.getMessage(), data);\n        //persist\n    }));\n    factory.setRetryTemplate(retryTemplate());\n    return factory;\n}\n\nprivate RetryTemplate retryTemplate() {\n\n    FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\n    fixedBackOffPolicy.setBackOffPeriod(1000);\n    RetryTemplate retryTemplate = new RetryTemplate();\n    retryTemplate.setRetryPolicy(simpleRetryPolicy());\n    retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\n    return retryTemplate;\n}\n\n\nprivate RetryPolicy simpleRetryPolicy() {\n\n    SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\n    simpleRetryPolicy.setMaxAttempts(3);\n    return simpleRetryPolicy;\n}\n</code></pre>\n<p>this worked as expected, where the message retried processing with 3 attempts.</p>\n<p>The same is invoking <strong>only once</strong> when provided Acknowledgment as <strong>MANUAL or MANUAL_IMMEDIATE</strong></p>\n<p>I unable to find any articles/docs/code repos on Kafka Exception Handling with <strong>MANUAL</strong> Ack Mode.\nKindly, Please suggest me some websites if any to handle the Spring kafka exceptions(Listener and Container level) with <strong>MANUAL</strong> Ack mode.</p>\n"},{"tags":["java","spring","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653632639,"post_id":72401043,"comment_id":127902270,"body_markdown":"May be because you aren&#39;t scanning `kr.or.connect.finalproject.service.impl`","body":"May be because you aren&#39;t scanning <code>kr.or.connect.finalproject.service.impl</code>"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653632952,"post_id":72401043,"comment_id":127902339,"body_markdown":"@tgdavies Can you explain in detail?","body":"@tgdavies Can you explain in detail?"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653633959,"post_id":72401043,"comment_id":127902571,"body_markdown":"I thought ```kr.or.connect.finalproject.service package includes``` ```kr.or.connect.finalproject.service.impl.```","body":"I thought <code>kr.or.connect.finalproject.service package includes</code> <code>kr.or.connect.finalproject.service.impl.</code>"},{"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"score":0,"creation_date":1653634223,"post_id":72401043,"comment_id":127902638,"body_markdown":"Maybe you have 2 classes that implement PromotionService?","body":"Maybe you have 2 classes that implement PromotionService?"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653635648,"post_id":72401043,"comment_id":127903041,"body_markdown":"@yuri777 It looks like 2 implement classes. i tried to remove one PromotionService impement, but eclpise deteles both. i think elipse just show us mirrored package.","body":"@yuri777 It looks like 2 implement classes. i tried to remove one PromotionService impement, but eclpise deteles both. i think elipse just show us mirrored package."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653635940,"post_id":72401043,"comment_id":127903121,"body_markdown":"Yes, you&#39;re right, it should","body":"Yes, you&#39;re right, it should"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653637198,"post_id":72401043,"comment_id":127903491,"body_markdown":"@tgdavies OK. then at least it&#39;s not a package problem","body":"@tgdavies OK. then at least it&#39;s not a package problem"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653893866,"post_id":72401043,"comment_id":127953506,"body_markdown":"Problem solved\nMain reason was lack of adding web.xml settings.","body":"Problem solved Main reason was lack of adding web.xml settings."},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653893982,"post_id":72401043,"comment_id":127953532,"body_markdown":"`&lt;context-param&gt;\n\t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\n\t\t&lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext\n\t\t&lt;/param-value&gt;\n\t&lt;/context-param&gt;\n\t&lt;context-param&gt;\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n\t\t&lt;param-value&gt;kr.or.connect.finalproject.config.ApplicationConfig\n\t\t&lt;/param-value&gt;\n\t&lt;/context-param&gt;\n\t&lt;listener&gt;\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\n\t\t&lt;/listener-class&gt;\n\t&lt;/listener&gt; `","body":"<code>&lt;context-param&gt; \t\t&lt;param-name&gt;contextClass&lt;&#47;param-name&gt; \t\t&lt;param-value&gt;org.springframework.web.context.support.Annot&zwnj;&#8203;ationConfigWebApplic&zwnj;&#8203;ationContext \t\t&lt;&#47;param-value&gt; \t&lt;&#47;context-param&gt; \t&lt;context-param&gt; \t\t&lt;param-name&gt;contextConfigLocation&lt;&#47;param-name&gt; \t\t&lt;param-value&gt;kr.or.connect.finalproject.config.Application&zwnj;&#8203;Config \t\t&lt;&#47;param-value&gt; \t&lt;&#47;context-param&gt; \t&lt;listener&gt; \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoa&zwnj;&#8203;derListener \t\t&lt;&#47;listener-class&gt; \t&lt;&#47;listener&gt; </code>"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653894155,"post_id":72401043,"comment_id":127953583,"body_markdown":"`&lt;filter&gt;\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n\t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter\n\t\t&lt;/filter-class&gt;\n\t\t&lt;init-param&gt;\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\n\t\t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\n\t\t&lt;/init-param&gt;\n\t&lt;/filter&gt;\n\t&lt;filter-mapping&gt;\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n\t&lt;/filter-mapping&gt;`","body":"<code>&lt;filter&gt; \t\t&lt;filter-name&gt;encodingFilter&lt;&#47;filter-name&gt; \t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEnco&zwnj;&#8203;dingFilter \t\t&lt;&#47;filter-class&gt; \t\t&lt;init-param&gt; \t\t\t&lt;param-name&gt;encoding&lt;&#47;param-name&gt; \t\t\t&lt;param-value&gt;UTF-8&lt;&#47;param-value&gt; \t\t&lt;&#47;init-param&gt; \t&lt;&#47;filter&gt; \t&lt;filter-mapping&gt; \t\t&lt;filter-name&gt;encodingFilter&lt;&#47;filter-name&gt; \t\t&lt;url-pattern&gt;&#47;*&lt;&#47;url-pattern&gt; \t&lt;&#47;filter-mapping&gt;</code>"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653894221,"post_id":72401043,"comment_id":127953611,"body_markdown":"when i added those code in web.xml, it immidiately worked!!","body":"when i added those code in web.xml, it immidiately worked!!"}],"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653633267,"creation_date":1653631014,"question_id":72401043,"body_markdown":"[enter image description here][1]**I checeked JDBC and checked it works.**\r\n\r\n**but i&#39;m trying to make Rest api (a.k.a RESTful api) but i got 500 error.**\r\n\r\n**Guys, Can u find which part is wrong?**\r\n\r\n**ERROR : 500 Interal Server problem**\r\n\r\n**javax.servlet.ServletException:**\r\n\r\nerror details : org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;promotionApiController&#39; defined in file [C:\\Users\\ICT\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\finalproject\\WEB-INF\\classes\\kr\\or\\connect\\finalproject\\controller\\PromotionApiController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;kr.or.connect.finalproject.service.PromotionService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n ---PromotionApiController.java-------\r\n\r\n    package kr.or.connect.finalproject.controller;\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport kr.or.connect.finalproject.dto.Promotion;\r\nimport kr.or.connect.finalproject.service.PromotionService;\r\n\r\n\r\n@RestController\r\n@RequestMapping(path=&quot;/api/promotions&quot;)  \r\npublic class PromotionApiController {\r\n\t@Autowired \r\n\tPromotionService promotionService;\r\n\t\r\n\t\r\n\tpublic PromotionApiController(PromotionService promotionService) {\r\n\t\tthis.promotionService = promotionService;\r\n\t}\r\n\t@GetMapping\r\n\t \r\n\tpublic List&lt;Promotion&gt; getPromotion() { \r\n\t\treturn promotionService.getPromotion();//promotionService\r\n\t};\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nApplicationConfing.java\r\n```\r\npackage kr.or.connect.finalproject.config;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Import;\r\n\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = { &quot;kr.or.connect.finalproject.dao&quot;,  &quot;kr.or.connect.finalproject.service&quot;}) \r\n\r\n@Import({ DBConfig.class })\r\npublic class ApplicationConfig {\r\n}\r\n```\r\n\r\nPromotionDao.java\r\n```\r\npackage kr.or.connect.finalproject.dao;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\r\nimport org.springframework.jdbc.core.RowMapper;\r\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport kr.or.connect.finalproject.dto.Promotion;\r\nimport static kr.or.connect.finalproject.dao.PromotionDaoSqls.*;\r\n\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic class PromotionDao {\r\n\tprivate NamedParameterJdbcTemplate jdbc;\r\n\tprivate RowMapper&lt;Promotion&gt; promotionRowMapper = BeanPropertyRowMapper.newInstance(Promotion.class);\r\n\t\r\n\tpublic PromotionDao(DataSource datasource) {\r\n\t\tthis.jdbc = new NamedParameterJdbcTemplate(datasource);\r\n\t}\r\n\t\r\n\tpublic List&lt;Promotion&gt; selectPromotion() {\r\n\t\treturn jdbc.query(SELECT_PROMOTION, Collections.emptyMap(), promotionRowMapper);\r\n\t}\r\n}\r\n```\r\n\r\nPromotionDaoSqls\r\n```\r\npackage kr.or.connect.finalproject.dao;\r\n\r\npublic class PromotionDaoSqls {\r\n\tpublic static final String SELECT_PROMOTION = &quot;select promotion.id as id, promotion.product_id as product_id, save_file_name as productImageUrl \\r\\n&quot;\r\n\t\t\t+ &quot;from promotion, product_image, file_info \\r\\n&quot;\r\n\t\t\t+ &quot;where promotion.product_id = product_image.product_id and type=&#39;th&#39; and file_info.id=product_image.file_id&quot;;\r\n}\r\n```\r\n\r\n\r\nPromotion.java   (DTO)\r\n\r\n```\r\npackage kr.or.connect.finalproject.dto;\r\n\r\npublic class Promotion {\r\n\tprivate int id;\r\n\tprivate int product_id;\r\n\tprivate String productImageUrl;\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic int getProduct_id() {\r\n\t\treturn product_id;\r\n\t}\r\n\tpublic void setProduct_id(int product_id) {\r\n\t\tthis.product_id = product_id;\r\n\t}\r\n\tpublic String getProductImageUrl() {\r\n\t\treturn productImageUrl;\r\n\t}\r\n\tpublic void setProductImageUrl(String productImageUrl) {\r\n\t\tthis.productImageUrl = productImageUrl;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Promotion [id=&quot; + id + &quot;, product_id=&quot; + product_id + &quot;, productImageUrl=&quot; + productImageUrl + &quot;]&quot;;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nPromotionService.java \r\n```\r\npackage kr.or.connect.finalproject.service;\r\n\r\nimport java.util.List;\r\n\r\nimport kr.or.connect.finalproject.dto.Promotion;\r\n\r\npublic interface PromotionService {\r\n\tpublic List&lt;Promotion&gt; getPromotion();\r\n\t\r\n}\r\n```\r\n\r\nPromotionServficeImpl.java\r\n```\r\npackage kr.or.connect.finalproject.service.impl;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport kr.or.connect.finalproject.dao.PromotionDao;\r\nimport kr.or.connect.finalproject.dto.Promotion;//promotion의 dto\r\nimport kr.or.connect.finalproject.service.PromotionService;\r\n\r\n@Service\r\npublic class PromotionServiceImpl implements PromotionService{\r\n\t@Autowired\r\n\t PromotionDao promotionDao;\r\n\t\r\n\tpublic PromotionServiceImpl(PromotionDao promotionDao) {\r\n\t\tthis.promotionDao = promotionDao;\r\n\t}\r\n\t\r\n\t@Override\r\n\t@Transactional(readOnly = true)\r\n\tpublic List&lt;Promotion&gt; getPromotion() {\r\n\t\treturn promotionDao.selectPromotion();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rc0Ti.png\r\n  [2]: https://i.stack.imgur.com/7ODTM.png","title":"I am trying Spring MVC and got problem about API works(Server)","body":"<p><a href=\"https://i.stack.imgur.com/Rc0Ti.png\" rel=\"nofollow noreferrer\">enter image description here</a><strong>I checeked JDBC and checked it works.</strong></p>\n<p><strong>but i'm trying to make Rest api (a.k.a RESTful api) but i got 500 error.</strong></p>\n<p><strong>Guys, Can u find which part is wrong?</strong></p>\n<p><strong>ERROR : 500 Interal Server problem</strong></p>\n<p><strong>javax.servlet.ServletException:</strong></p>\n<p>error details : org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'promotionApiController' defined in file [C:\\Users\\ICT\\eclipse-workspace.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\finalproject\\WEB-INF\\classes\\kr\\or\\connect\\finalproject\\controller\\PromotionApiController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'kr.or.connect.finalproject.service.PromotionService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n<p>---PromotionApiController.java-------</p>\n<pre><code>package kr.or.connect.finalproject.controller;\n</code></pre>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport kr.or.connect.finalproject.dto.Promotion;\nimport kr.or.connect.finalproject.service.PromotionService;\n\n\n@RestController\n@RequestMapping(path=&quot;/api/promotions&quot;)  \npublic class PromotionApiController {\n    @Autowired \n    PromotionService promotionService;\n    \n    \n    public PromotionApiController(PromotionService promotionService) {\n        this.promotionService = promotionService;\n    }\n    @GetMapping\n     \n    public List&lt;Promotion&gt; getPromotion() { \n        return promotionService.getPromotion();//promotionService\n    };\n    \n    \n}\n</code></pre>\n<p>ApplicationConfing.java</p>\n<pre><code>package kr.or.connect.finalproject.config;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\n\n\n@Configuration\n@ComponentScan(basePackages = { &quot;kr.or.connect.finalproject.dao&quot;,  &quot;kr.or.connect.finalproject.service&quot;}) \n\n@Import({ DBConfig.class })\npublic class ApplicationConfig {\n}\n</code></pre>\n<p>PromotionDao.java</p>\n<pre><code>package kr.or.connect.finalproject.dao;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\nimport org.springframework.jdbc.core.RowMapper;\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nimport org.springframework.stereotype.Repository;\n\nimport kr.or.connect.finalproject.dto.Promotion;\nimport static kr.or.connect.finalproject.dao.PromotionDaoSqls.*;\n\nimport java.util.Collections;\nimport java.util.List;\n\n@Repository\npublic class PromotionDao {\n    private NamedParameterJdbcTemplate jdbc;\n    private RowMapper&lt;Promotion&gt; promotionRowMapper = BeanPropertyRowMapper.newInstance(Promotion.class);\n    \n    public PromotionDao(DataSource datasource) {\n        this.jdbc = new NamedParameterJdbcTemplate(datasource);\n    }\n    \n    public List&lt;Promotion&gt; selectPromotion() {\n        return jdbc.query(SELECT_PROMOTION, Collections.emptyMap(), promotionRowMapper);\n    }\n}\n</code></pre>\n<p>PromotionDaoSqls</p>\n<pre><code>package kr.or.connect.finalproject.dao;\n\npublic class PromotionDaoSqls {\n    public static final String SELECT_PROMOTION = &quot;select promotion.id as id, promotion.product_id as product_id, save_file_name as productImageUrl \\r\\n&quot;\n            + &quot;from promotion, product_image, file_info \\r\\n&quot;\n            + &quot;where promotion.product_id = product_image.product_id and type='th' and file_info.id=product_image.file_id&quot;;\n}\n</code></pre>\n<p>Promotion.java   (DTO)</p>\n<pre><code>package kr.or.connect.finalproject.dto;\n\npublic class Promotion {\n    private int id;\n    private int product_id;\n    private String productImageUrl;\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public int getProduct_id() {\n        return product_id;\n    }\n    public void setProduct_id(int product_id) {\n        this.product_id = product_id;\n    }\n    public String getProductImageUrl() {\n        return productImageUrl;\n    }\n    public void setProductImageUrl(String productImageUrl) {\n        this.productImageUrl = productImageUrl;\n    }\n    @Override\n    public String toString() {\n        return &quot;Promotion [id=&quot; + id + &quot;, product_id=&quot; + product_id + &quot;, productImageUrl=&quot; + productImageUrl + &quot;]&quot;;\n    }\n    \n}\n\n</code></pre>\n<p>PromotionService.java</p>\n<pre><code>package kr.or.connect.finalproject.service;\n\nimport java.util.List;\n\nimport kr.or.connect.finalproject.dto.Promotion;\n\npublic interface PromotionService {\n    public List&lt;Promotion&gt; getPromotion();\n    \n}\n</code></pre>\n<p>PromotionServficeImpl.java</p>\n<pre><code>package kr.or.connect.finalproject.service.impl;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport kr.or.connect.finalproject.dao.PromotionDao;\nimport kr.or.connect.finalproject.dto.Promotion;//promotion의 dto\nimport kr.or.connect.finalproject.service.PromotionService;\n\n@Service\npublic class PromotionServiceImpl implements PromotionService{\n    @Autowired\n     PromotionDao promotionDao;\n    \n    public PromotionServiceImpl(PromotionDao promotionDao) {\n        this.promotionDao = promotionDao;\n    }\n    \n    @Override\n    @Transactional(readOnly = true)\n    public List&lt;Promotion&gt; getPromotion() {\n        return promotionDao.selectPromotion();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7ODTM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1317728028,"post_id":7646572,"comment_id":9289259,"body_markdown":"I think that the answer is &quot;No, you can&#39;t&quot;.","body":"I think that the answer is &quot;No, you can&#39;t&quot;."},{"owner":{"account_id":11040,"reputation":6760,"user_id":21132,"accept_rate":89,"display_name":"Fabien"},"score":0,"creation_date":1318584898,"post_id":7646572,"comment_id":9454021,"body_markdown":"Nobody seems to be sure enough to say it as an answer.","body":"Nobody seems to be sure enough to say it as an answer."},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":2,"creation_date":1360922105,"post_id":7646572,"comment_id":20884153,"body_markdown":"As an extreme solution, you can consider using an AOP framework (e.g. AspectJ) for intercepting the calls to the setters. This is really tricky so I&#39;m not suggesting it as a solution.","body":"As an extreme solution, you can consider using an AOP framework (e.g. AspectJ) for intercepting the calls to the setters. This is really tricky so I&#39;m not suggesting it as a solution."},{"owner":{"account_id":42441,"reputation":2772,"user_id":123642,"accept_rate":40,"display_name":"kolen"},"score":2,"creation_date":1361527058,"post_id":7646572,"comment_id":21106149,"body_markdown":"If EclipseLink can be configured to generate `INSERT IGNORE` and `UPDATE IGNORE` statements, then MySQL will truncate on these operations. But be careful, `ignore` modifiers should be only set where truncation is really needed and controlled. Truncation is dangerous and can lead to vulnerabilities.","body":"If EclipseLink can be configured to generate <code>INSERT IGNORE</code> and <code>UPDATE IGNORE</code> statements, then MySQL will truncate on these operations. But be careful, <code>ignore</code> modifiers should be only set where truncation is really needed and controlled. Truncation is dangerous and can lead to vulnerabilities."}],"answers":[{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317732405,"creation_date":1317732405,"answer_id":7648104,"question_id":7646572,"body_markdown":"I don&#39;t know anything about the EclipseLink, but in the Hibernate it&#39;s doable - you could make an org.hibernate.Interceptor and in onFlushDirty method modify the object&#39;s currentState using entity meta data.\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>I don't know anything about the EclipseLink, but in the Hibernate it's doable - you could make an org.hibernate.Interceptor and in onFlushDirty method modify the object's currentState using entity meta data.</p>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317733020,"creation_date":1317733020,"answer_id":7648243,"question_id":7646572,"body_markdown":"You can use a Descriptor PreInsert/PreUpdate event for this, or possibly just use JPA PreInsert and PreUpdate events.\r\n\r\nJust check the size of the fields and truncate them in the event code.\r\n\r\nIf required, you could get the field size from the descriptor&#39;s mapping&#39;s DatabaseField, or use Java reflection to get it from the annotation.\r\n\r\nIt would probably be even better to just do the truncation in your set methods.  Then you do not need to worry about events.\r\n\r\nYou may also be able to truncate it on the database, check your MySQL settings, or possible use a trigger.\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>You can use a Descriptor PreInsert/PreUpdate event for this, or possibly just use JPA PreInsert and PreUpdate events.</p>\n\n<p>Just check the size of the fields and truncate them in the event code.</p>\n\n<p>If required, you could get the field size from the descriptor's mapping's DatabaseField, or use Java reflection to get it from the annotation.</p>\n\n<p>It would probably be even better to just do the truncation in your set methods.  Then you do not need to worry about events.</p>\n\n<p>You may also be able to truncate it on the database, check your MySQL settings, or possible use a trigger.</p>\n"},{"tags":[],"owner":{"account_id":1087429,"reputation":460,"user_id":1082811,"display_name":"Choufler"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1328031926,"creation_date":1328031926,"answer_id":9084340,"question_id":7646572,"body_markdown":"There is another way to do it, may be even faster (at least it works on 5th version of MySql):\r\n\r\nFirst, check your sql_mode setting: [there is a detailed description how to do it][1]. This setting should have value of &quot;&quot; for windows, and &quot;modes&quot; for Unix.\r\n\r\nThat didn&#39;t help me, so I found another setting, this time in jdbc: \r\n\r\n    jdbcCompliantTruncation=false. \r\n\r\nIn my case (I used persistence) it is defined in persistence.xml:\r\n\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/dbname?jdbcCompliantTruncation=false&quot;/&gt;\r\n\r\n\r\nThese 2 settings work only together, I tried to use them separately and had no effect.\r\n\r\n**Notice**: remember that by setting sql_mode as described above you switch off important database checks, so please do it carefully.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>There is another way to do it, may be even faster (at least it works on 5th version of MySql):</p>\n\n<p>First, check your sql_mode setting: <a href=\"http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html\" rel=\"noreferrer\">there is a detailed description how to do it</a>. This setting should have value of \"\" for windows, and \"modes\" for Unix.</p>\n\n<p>That didn't help me, so I found another setting, this time in jdbc: </p>\n\n<pre><code>jdbcCompliantTruncation=false. \n</code></pre>\n\n<p>In my case (I used persistence) it is defined in persistence.xml:</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://127.0.0.1:3306/dbname?jdbcCompliantTruncation=false\"/&gt;\n</code></pre>\n\n<p>These 2 settings work only together, I tried to use them separately and had no effect.</p>\n\n<p><strong>Notice</strong>: remember that by setting sql_mode as described above you switch off important database checks, so please do it carefully.</p>\n"},{"tags":[],"owner":{"account_id":2390155,"reputation":586,"user_id":2090146,"display_name":"Doron Manor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361367712,"creation_date":1361367712,"answer_id":14981315,"question_id":7646572,"body_markdown":"You can set your database to work in a non strict mode as explained here:\r\nhttps://stackoverflow.com/questions/3186343/automatically-trimming-length-of-string-submitted-to-mysql\r\n\r\nNote that it might cancel other validations too so be careful in what you wish for","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>You can set your database to work in a non strict mode as explained here:\n<a href=\"https://stackoverflow.com/questions/3186343/automatically-trimming-length-of-string-submitted-to-mysql\">Automatically trimming length of string submitted to MySQL</a></p>\n\n<p>Note that it might cancel other validations too so be careful in what you wish for</p>\n"},{"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361487540,"creation_date":1361487540,"answer_id":15013861,"question_id":7646572,"body_markdown":"Since the Exception seems to be raised at the database level during the commit() process, a before-insert Trigger on the target table/s could truncate the new values before they are committed, bypassing the error.\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Since the Exception seems to be raised at the database level during the commit() process, a before-insert Trigger on the target table/s could truncate the new values before they are committed, bypassing the error.</p>\n"},{"tags":[],"owner":{"account_id":1141397,"reputation":4287,"user_id":1125197,"accept_rate":80,"display_name":"lichengwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361495315,"creation_date":1361495315,"answer_id":15015193,"question_id":7646572,"body_markdown":"Maybe AOP will help:\r\n\r\nIntercept all set method in you JavaBean/POJO, and then get the filed to be set. Check if the field is annotate with `@Column` and field type is `String`. Then truncate the field if it&#39;s too long than `length`.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Maybe AOP will help:</p>\n\n<p>Intercept all set method in you JavaBean/POJO, and then get the filed to be set. Check if the field is annotate with <code>@Column</code> and field type is <code>String</code>. Then truncate the field if it's too long than <code>length</code>.</p>\n"},{"tags":[],"owner":{"account_id":147528,"reputation":3201,"user_id":358696,"display_name":"Eric Galluzzo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361509353,"creation_date":1361509353,"answer_id":15017201,"question_id":7646572,"body_markdown":"If you want to do this on a field-by-field basis rather than globally, then you might be able to make a custom type mapping that truncates the value to the given length before inserting it into the table.  Then you can attach the converter to the entity by an annotation like:\r\n\r\n    @Converter(name=&quot;myConverter&quot;, class=&quot;com.example.MyConverter&quot;)\r\n\r\nand to the relevant fields via:\r\n\r\n    @Convert(&quot;myConverter&quot;)\r\n\r\nThis is really meant for supporting custom SQL types, but it might work for normal varchar type fields as well.  [Here](https://github.com/ancoron/pg-inet-maven/wiki/Support-custom-data-types-in-EclipseLink) is a tutorial on making one of these converters.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>If you want to do this on a field-by-field basis rather than globally, then you might be able to make a custom type mapping that truncates the value to the given length before inserting it into the table.  Then you can attach the converter to the entity by an annotation like:</p>\n\n<pre><code>@Converter(name=\"myConverter\", class=\"com.example.MyConverter\")\n</code></pre>\n\n<p>and to the relevant fields via:</p>\n\n<pre><code>@Convert(\"myConverter\")\n</code></pre>\n\n<p>This is really meant for supporting custom SQL types, but it might work for normal varchar type fields as well.  <a href=\"https://github.com/ancoron/pg-inet-maven/wiki/Support-custom-data-types-in-EclipseLink\" rel=\"nofollow\">Here</a> is a tutorial on making one of these converters.</p>\n"},{"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1361518847,"creation_date":1361518847,"answer_id":15019178,"question_id":7646572,"body_markdown":"Two very important features of UI design:\r\n\r\n1.  You should never silently alter user data - the user should be aware, in control and consent to such changes.\r\n2.  You should never allow data to be entered that cannot be handled - use UI/HTML attributes and validation to restrict data to legal values\r\n\r\n\r\nThe answer to your problem is very simple.  Simply limit your UI input fields to 256 characters, to match the database field length:\r\n\r\n    &lt;input type=&quot;text&quot; name=&quot;widgetDescription&quot; maxlength=&quot;256&quot;&gt;\r\n\r\nThis is a system limitation - the user should not be able to enter more data than this.  If this is insufficient, change the database.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Two very important features of UI design:</p>\n\n<ol>\n<li>You should never silently alter user data - the user should be aware, in control and consent to such changes.</li>\n<li>You should never allow data to be entered that cannot be handled - use UI/HTML attributes and validation to restrict data to legal values</li>\n</ol>\n\n<p>The answer to your problem is very simple.  Simply limit your UI input fields to 256 characters, to match the database field length:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"widgetDescription\" maxlength=\"256\"&gt;\n</code></pre>\n\n<p>This is a system limitation - the user should not be able to enter more data than this.  If this is insufficient, change the database.</p>\n"},{"tags":[],"owner":{"account_id":9104,"reputation":33430,"user_id":16673,"accept_rate":89,"display_name":"Suma"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1427824269,"creation_date":1361524622,"answer_id":15020587,"question_id":7646572,"body_markdown":"One can truncate a string according to the JPA annotations in the setter for the corresponding field:\r\n\r\n    public void setX(String x) {\r\n        try {\r\n            int size = getClass().getDeclaredField(&quot;x&quot;).getAnnotation(Column.class).length();\r\n            int inLength = x.length();\r\n            if (inLength&gt;size)\r\n            {\r\n                x = x.substring(0, size);\r\n            }\r\n        } catch (NoSuchFieldException ex) {\r\n        } catch (SecurityException ex) {\r\n        }\r\n        this.x = x;\r\n    }\r\n\r\nThe annotation itself should look like:\r\n\r\n    @Column(name = &quot;x&quot;, length=100)\r\n    private String x;\r\n\r\n(Based on https://stackoverflow.com/a/1946901/16673)\r\n\r\nThe annotations can be recreated from the database if the database changes, as hinted in the comment to https://stackoverflow.com/a/7648243/16673\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>One can truncate a string according to the JPA annotations in the setter for the corresponding field:</p>\n\n<pre><code>public void setX(String x) {\n    try {\n        int size = getClass().getDeclaredField(\"x\").getAnnotation(Column.class).length();\n        int inLength = x.length();\n        if (inLength&gt;size)\n        {\n            x = x.substring(0, size);\n        }\n    } catch (NoSuchFieldException ex) {\n    } catch (SecurityException ex) {\n    }\n    this.x = x;\n}\n</code></pre>\n\n<p>The annotation itself should look like:</p>\n\n<pre><code>@Column(name = \"x\", length=100)\nprivate String x;\n</code></pre>\n\n<p>(Based on <a href=\"https://stackoverflow.com/a/1946901/16673\">https://stackoverflow.com/a/1946901/16673</a>)</p>\n\n<p>The annotations can be recreated from the database if the database changes, as hinted in the comment to <a href=\"https://stackoverflow.com/a/7648243/16673\">https://stackoverflow.com/a/7648243/16673</a></p>\n"},{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1361526469,"creation_date":1361526469,"answer_id":15021214,"question_id":7646572,"body_markdown":"You have different solutions and false solutions.\r\n\r\n**Using trigger or any database level trick**\r\n\r\nThis will create inconsistency between the objects in the ORM and their serialized form in the DB. If you use second level caching: it can leads to lots of troubles. In my opinion this is not a real solution for a general use case.\r\n\r\n**Using pre-insert, pre-update hooks**\r\n\r\nYou will silently modify the user data just before persisting it. So your code may behave differently depending on the fact that the object is already persisted or not. It may cause trouble too. Additionally, you must be careful with the order of hooks invocation: be sure that your &quot;field-truncator-hook&quot; is the very first one called by the persistence provider.\r\n\r\n**Using aop to intercept call to setters**\r\n\r\nThis solution will more or less silently modify user/automatic input, but your objects won&#39;t be modified after you use them to do some business logic. So this is more acceptable than the 2 previous solutions, but the setters won&#39;t follow the contract of usual setters. Additionally, if you use field injection: it will bypass the aspect (depending on your configuration, jpa provider may use field injection. Most of the time: Spring use setters. I guess some other frameworks may use field injection, so even if you don&#39;t use it explicitelly be aware of the underlying implementation of frameworks you are using).\r\n\r\n**Using aop to intercept field modification**\r\n\r\nSimilar to the previous solution except that field injection will also be intercepted by the aspect. (note that I never wrote an aspect doing this kind of things, but I think it&#39;s feasible)\r\n\r\n**Adding a controller layer to check field length before calling the setter**\r\n\r\nProbably the best solution in terms of data integrity. But it may requires a lot of refactoring. For a general use case, this is (in my opinion) the only acceptable solution.\r\n\r\nDepending on your use case, you may choose any of those solutions. Be aware of the drawbacks.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>You have different solutions and false solutions.</p>\n\n<p><strong>Using trigger or any database level trick</strong></p>\n\n<p>This will create inconsistency between the objects in the ORM and their serialized form in the DB. If you use second level caching: it can leads to lots of troubles. In my opinion this is not a real solution for a general use case.</p>\n\n<p><strong>Using pre-insert, pre-update hooks</strong></p>\n\n<p>You will silently modify the user data just before persisting it. So your code may behave differently depending on the fact that the object is already persisted or not. It may cause trouble too. Additionally, you must be careful with the order of hooks invocation: be sure that your \"field-truncator-hook\" is the very first one called by the persistence provider.</p>\n\n<p><strong>Using aop to intercept call to setters</strong></p>\n\n<p>This solution will more or less silently modify user/automatic input, but your objects won't be modified after you use them to do some business logic. So this is more acceptable than the 2 previous solutions, but the setters won't follow the contract of usual setters. Additionally, if you use field injection: it will bypass the aspect (depending on your configuration, jpa provider may use field injection. Most of the time: Spring use setters. I guess some other frameworks may use field injection, so even if you don't use it explicitelly be aware of the underlying implementation of frameworks you are using).</p>\n\n<p><strong>Using aop to intercept field modification</strong></p>\n\n<p>Similar to the previous solution except that field injection will also be intercepted by the aspect. (note that I never wrote an aspect doing this kind of things, but I think it's feasible)</p>\n\n<p><strong>Adding a controller layer to check field length before calling the setter</strong></p>\n\n<p>Probably the best solution in terms of data integrity. But it may requires a lot of refactoring. For a general use case, this is (in my opinion) the only acceptable solution.</p>\n\n<p>Depending on your use case, you may choose any of those solutions. Be aware of the drawbacks.</p>\n"},{"tags":[],"owner":{"account_id":3418297,"reputation":41,"user_id":2866596,"display_name":"P. C&#233;dric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518569641,"creation_date":1518569641,"answer_id":48778075,"question_id":7646572,"body_markdown":"Another option is to declare a constant and reference it everywhere you need that length starting with the @Column annotation itself.\r\n\r\nThis constant can be then forwarded to a truncate function or a validation function that throw a preventive exception if the passed string is too long.\r\nThis constant can also be re-used on some other layers such as a UI.\r\n\r\nFor example:\r\n\r\n    @Entity\r\n    public class MyEntity {\r\n\t    public static final int NAME_LENGTH=32;\r\n\r\n\t    private Long id;\r\n        private String name;\r\n\r\n        @Id @GeneratedValue\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        protected void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        @Column(length=NAME_LENGTH)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = JpaUtil.truncate(name, NAME_LENGTH);\r\n        }\r\n    }\r\n\r\n    public class JpaUtil {\r\n        public static String truncate(String value, int length) {\r\n            return value != null &amp;&amp; value.length() &gt; length ? value.substring(0, length) : value;\r\n        }\r\n    }\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Another option is to declare a constant and reference it everywhere you need that length starting with the @Column annotation itself.</p>\n\n<p>This constant can be then forwarded to a truncate function or a validation function that throw a preventive exception if the passed string is too long.\nThis constant can also be re-used on some other layers such as a UI.</p>\n\n<p>For example:</p>\n\n<pre><code>@Entity\npublic class MyEntity {\n    public static final int NAME_LENGTH=32;\n\n    private Long id;\n    private String name;\n\n    @Id @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n    protected void setId(Long id) {\n        this.id = id;\n    }\n\n    @Column(length=NAME_LENGTH)\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = JpaUtil.truncate(name, NAME_LENGTH);\n    }\n}\n\npublic class JpaUtil {\n    public static String truncate(String value, int length) {\n        return value != null &amp;&amp; value.length() &gt; length ? value.substring(0, length) : value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":900361,"reputation":801,"user_id":936670,"display_name":"Aleksei Egorov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524089127,"creation_date":1524088436,"answer_id":49909584,"question_id":7646572,"body_markdown":"There was already [answer mentioned Converters][1], but I want to add more details. My answer also assumes Converters from JPA, not EclipseLink specific.\r\n\r\nAt first create this class - special type converter which responsibility will be to truncate value at the persistence moment:\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Convert;\r\n    \r\n    @Convert\r\n    public class TruncatedStringConverter implements AttributeConverter&lt;String, String&gt; {\r\n      private static final int LIMIT = 999;\r\n    \r\n      @Override\r\n      public String convertToDatabaseColumn(String attribute) {\r\n        if (attribute == null) {\r\n          return null;\r\n        } else if (attribute.length() &gt; LIMIT) {\r\n          return attribute.substring(0, LIMIT);\r\n        } else {\r\n          return attribute;\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public String convertToEntityAttribute(String dbData) {\r\n        return dbData;\r\n      }\r\n    }\r\n\r\nThen you can use it in your entities like this:\r\n\r\n    @Entity(name = &quot;PersonTable&quot;)\r\n    public class MyEntity {\r\n    &#160;&#160;&#160;&#160;\r\n        @Convert(converter = TruncatedStringConverter.class)\r\n    &#160;&#160;&#160;&#160;private String veryLongValueThatNeedToBeTruncated;\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;//...\r\n    }\r\n\r\nRelated article about JPA Converters: http://www.baeldung.com/jpa-attribute-converters\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15017201/936670","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>There was already <a href=\"https://stackoverflow.com/a/15017201/936670\">answer mentioned Converters</a>, but I want to add more details. My answer also assumes Converters from JPA, not EclipseLink specific.</p>\n\n<p>At first create this class - special type converter which responsibility will be to truncate value at the persistence moment:</p>\n\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Convert;\n\n@Convert\npublic class TruncatedStringConverter implements AttributeConverter&lt;String, String&gt; {\n  private static final int LIMIT = 999;\n\n  @Override\n  public String convertToDatabaseColumn(String attribute) {\n    if (attribute == null) {\n      return null;\n    } else if (attribute.length() &gt; LIMIT) {\n      return attribute.substring(0, LIMIT);\n    } else {\n      return attribute;\n    }\n  }\n\n  @Override\n  public String convertToEntityAttribute(String dbData) {\n    return dbData;\n  }\n}\n</code></pre>\n\n<p>Then you can use it in your entities like this:</p>\n\n<pre><code>@Entity(name = \"PersonTable\")\npublic class MyEntity {\n    \n    @Convert(converter = TruncatedStringConverter.class)\n    private String veryLongValueThatNeedToBeTruncated;\n \n    //...\n}\n</code></pre>\n\n<p>Related article about JPA Converters: <a href=\"http://www.baeldung.com/jpa-attribute-converters\" rel=\"noreferrer\">http://www.baeldung.com/jpa-attribute-converters</a></p>\n"},{"tags":[],"owner":{"account_id":25399504,"reputation":11,"user_id":19209246,"display_name":"Ichigo.NV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653633257,"creation_date":1653591916,"answer_id":72396808,"question_id":7646572,"body_markdown":"A simple solution that works for me is to modify the set method of the attributes you want to truncate. For your case:\r\n\r\n    public void setModel(String model) {\r\n        model= model!= null &amp;&amp; model.length() &gt; 256? girObsTxt.substring(0, 255) : model;\r\n        this.model= model;\r\n    }","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>A simple solution that works for me is to modify the set method of the attributes you want to truncate. For your case:</p>\n<pre><code>public void setModel(String model) {\n    model= model!= null &amp;&amp; model.length() &gt; 256? girObsTxt.substring(0, 255) : model;\n    this.model= model;\n}\n</code></pre>\n"}],"owner":{"account_id":11040,"reputation":6760,"user_id":21132,"accept_rate":89,"display_name":"Fabien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37013,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":13,"score":38,"last_activity_date":1653633257,"creation_date":1317724539,"question_id":7646572,"body_markdown":"I have  a web app, using EclipseLink and MySQL for storing data.\r\nSome of these data are strings, ie varchars in the DB.\r\nIn the code of entities, the strings have attributes like this:\r\n\r\n    @Column(name = &quot;MODEL&quot;, nullable = true, length = 256)\r\n    private String model;\r\n\r\nThe database is not created by eclipseLink from the code, but the length matches the varchar length in the DB.\r\nWhen the length of such a string data is greater than the length attribute, an exception is raised during the call to javax.persistence.EntityTransaction.commit():\r\n\r\n    javax.persistence.RollbackException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.1.0.v20100614-r7608): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column &#39;MODEL&#39; at row 1\r\n\r\nThen the transaction is rolled back.\r\nWhile I understand that it is the default behaviour, this is not the one I want.\r\nI would like the data to be silently truncated, and the transaction to be committed.\r\n\r\nCan I do this without adding a call to substring to each and every set method of string data for the concerned entities?\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>I have  a web app, using EclipseLink and MySQL for storing data.\nSome of these data are strings, ie varchars in the DB.\nIn the code of entities, the strings have attributes like this:</p>\n\n<pre><code>@Column(name = \"MODEL\", nullable = true, length = 256)\nprivate String model;\n</code></pre>\n\n<p>The database is not created by eclipseLink from the code, but the length matches the varchar length in the DB.\nWhen the length of such a string data is greater than the length attribute, an exception is raised during the call to javax.persistence.EntityTransaction.commit():</p>\n\n<pre><code>javax.persistence.RollbackException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.1.0.v20100614-r7608): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'MODEL' at row 1\n</code></pre>\n\n<p>Then the transaction is rolled back.\nWhile I understand that it is the default behaviour, this is not the one I want.\nI would like the data to be silently truncated, and the transaction to be committed.</p>\n\n<p>Can I do this without adding a call to substring to each and every set method of string data for the concerned entities?</p>\n"},{"tags":["java","overloading"],"comments":[{"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"score":1,"creation_date":1416997833,"post_id":2439782,"comment_id":42788973,"body_markdown":"possible duplicate of [Function overloading by return type?](http://stackoverflow.com/questions/442026/function-overloading-by-return-type)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/442026/function-overloading-by-return-type\">Function overloading by return type?</a>"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":2,"creation_date":1474353681,"post_id":2439782,"comment_id":66483967,"body_markdown":"KNU, the other answer differs in that it asks the question in general, non-language specific terms. Also interesting is that other question&#39;s accepted answer goes further by specifying that the Java JVM does allow it to be done with manipulation of internals.","body":"KNU, the other answer differs in that it asks the question in general, non-language specific terms. Also interesting is that other question&#39;s accepted answer goes further by specifying that the Java JVM does allow it to be done with manipulation of internals."}],"answers":[{"tags":[],"owner":{"account_id":83491,"reputation":45831,"user_id":234053,"display_name":"Alexander Gessler"},"down_vote_count":2,"up_vote_count":187,"is_accepted":true,"score":185,"last_activity_date":1268509909,"creation_date":1268509909,"answer_id":2439788,"question_id":2439782,"body_markdown":"You can&#39;t do it in Java, and you can&#39;t do it in C++. The rationale is that the return value alone is not sufficient for the compiler to figure out which function to call:\r\n\r\n    public int foo() {...}\r\n    public float foo() {..}\r\n\r\n    ...\r\n    foo(); // which one?\r\n\r\n\r\n\r\n","title":"Overload with different return type in Java?","body":"<p>You can't do it in Java, and you can't do it in C++. The rationale is that the return value alone is not sufficient for the compiler to figure out which function to call:</p>\n\n<pre><code>public int foo() {...}\npublic float foo() {..}\n\n...\nfoo(); // which one?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"down_vote_count":3,"up_vote_count":58,"is_accepted":false,"score":55,"last_activity_date":1268510003,"creation_date":1268510003,"answer_id":2439798,"question_id":2439782,"body_markdown":"The reason is that overloads in Java are only allowed for methods with different _signatures_.\r\n\r\nThe return type is not part of the method signature, hence cannot be used to distinguish overloads.\r\n\r\nSee [Defining Methods][1] from the Java tutorials.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/javaOO/methods.html","title":"Overload with different return type in Java?","body":"<p>The reason is that overloads in Java are only allowed for methods with different <em>signatures</em>.</p>\n\n<p>The return type is not part of the method signature, hence cannot be used to distinguish overloads.</p>\n\n<p>See <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/methods.html\" rel=\"noreferrer\">Defining Methods</a> from the Java tutorials.</p>\n"},{"tags":[],"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"down_vote_count":5,"up_vote_count":28,"is_accepted":false,"score":23,"last_activity_date":1358614453,"creation_date":1358614453,"answer_id":14416570,"question_id":2439782,"body_markdown":"Before Java 5.0, when you override a method, both parameters and return type must match exactly. In Java 5.0, it introduces a new facility called covariant return type. You can override a method with the same signature but returns a subclass of the object returned. In another words, a method in a subclass can return an object whose type is a subclass of the type returned by the method with the same signature in the superclass.","title":"Overload with different return type in Java?","body":"<p>Before Java 5.0, when you override a method, both parameters and return type must match exactly. In Java 5.0, it introduces a new facility called covariant return type. You can override a method with the same signature but returns a subclass of the object returned. In another words, a method in a subclass can return an object whose type is a subclass of the type returned by the method with the same signature in the superclass.</p>\n"},{"tags":[],"owner":{"account_id":3022348,"reputation":51,"user_id":2563065,"accept_rate":57,"display_name":"Ganesh Kumar Palaniappan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374561496,"creation_date":1374561496,"answer_id":17803080,"question_id":2439782,"body_markdown":"The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.","title":"Overload with different return type in Java?","body":"<p>The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.</p>\n"},{"tags":[],"owner":{"account_id":8840190,"reputation":19,"user_id":6602890,"display_name":"Vinayak"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1468855655,"creation_date":1468834766,"answer_id":38433361,"question_id":2439782,"body_markdown":"Return type does not matter while overloading a method. We just need to ensure there is no ambiguity!\r\n\r\nThe only way Java can know which method to call is by differentiating the types of the argument list. If the compiler allowed two methods with the same name and same argument types, there would be no way to determine which one it should call.","title":"Overload with different return type in Java?","body":"<p>Return type does not matter while overloading a method. We just need to ensure there is no ambiguity!</p>\n\n<p>The only way Java can know which method to call is by differentiating the types of the argument list. If the compiler allowed two methods with the same name and same argument types, there would be no way to determine which one it should call.</p>\n"},{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1653016884,"creation_date":1476516961,"answer_id":40056404,"question_id":2439782,"body_markdown":"`Overloaded` methods in java may have different return types given that the argument is also different.\r\n\r\nCheck out the sample code.\r\n\r\n    public class B {\r\n    \t\r\n        // Method to be overloaded\r\n        public String greet() {\r\n    \t\treturn &quot;Hello&quot;;\r\n    \t}\r\n\r\n        //This will work\r\n        public StringBuilder greet(String name) {\r\n    \t\treturn new StringBuilder(&quot;Hello &quot; + name);\r\n    \t}\r\n\r\n        //This will not work\r\n        //Error: Duplicate method greet() in type B\r\n        public StringBuilder greet() {\r\n            return new StringBuilder(&quot;Hello Tarzan&quot;);\r\n        }\r\n      \t\r\n    }","title":"Overload with different return type in Java?","body":"<p><code>Overloaded</code> methods in java may have different return types given that the argument is also different.</p>\n<p>Check out the sample code.</p>\n<pre><code>public class B {\n    \n    // Method to be overloaded\n    public String greet() {\n        return &quot;Hello&quot;;\n    }\n\n    //This will work\n    public StringBuilder greet(String name) {\n        return new StringBuilder(&quot;Hello &quot; + name);\n    }\n\n    //This will not work\n    //Error: Duplicate method greet() in type B\n    public StringBuilder greet() {\n        return new StringBuilder(&quot;Hello Tarzan&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10345408,"reputation":1,"user_id":7630526,"display_name":"MAYANK AMRIT"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1488208093,"creation_date":1488208093,"answer_id":42489095,"question_id":2439782,"body_markdown":"no not really possible that way you can only overload by no of arguments or data type of the arguments \r\n\r\n","title":"Overload with different return type in Java?","body":"<p>no not really possible that way you can only overload by no of arguments or data type of the arguments </p>\n"},{"tags":[],"owner":{"account_id":3917255,"reputation":693,"user_id":3240787,"display_name":"Bhanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500277554,"creation_date":1500277554,"answer_id":45138610,"question_id":2439782,"body_markdown":"The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.\r\n\r\nIf you are aware of function execution then you will be aware that when we call a function the definition part executes and at last we require the return statement, hence we can say return comes after the function&#39;s whole defintion, thats why if there are two or more functions with same name and with same type and no. of arguments then at the time of calling how compiler will know about which one to be called, because function name and parameters are the same. At the time of calling firstly all the focus will be on arguments and function name and after the completion of function definition at last we deal with return statement.\r\n\r\nCompile Time Error is better than Run Time Error. So, java compiler renders compiler time error if you declare the same method having same parameters.","title":"Overload with different return type in Java?","body":"<p>The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.</p>\n\n<p>If you are aware of function execution then you will be aware that when we call a function the definition part executes and at last we require the return statement, hence we can say return comes after the function's whole defintion, thats why if there are two or more functions with same name and with same type and no. of arguments then at the time of calling how compiler will know about which one to be called, because function name and parameters are the same. At the time of calling firstly all the focus will be on arguments and function name and after the completion of function definition at last we deal with return statement.</p>\n\n<p>Compile Time Error is better than Run Time Error. So, java compiler renders compiler time error if you declare the same method having same parameters.</p>\n"},{"tags":[],"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600863927,"creation_date":1600863927,"answer_id":64027929,"question_id":2439782,"body_markdown":"The overloaded method is a completely different method from any other method of the same name. Overloading is not much more than name reuse.","title":"Overload with different return type in Java?","body":"<p>The overloaded method is a completely different method from any other method of the same name. Overloading is not much more than name reuse.</p>\n"},{"tags":[],"owner":{"account_id":14276174,"reputation":33,"user_id":10312214,"display_name":"陳寧寬"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653633102,"creation_date":1653633102,"answer_id":72401345,"question_id":2439782,"body_markdown":"   ```\r\n public int division(int a, int b){\r\n      int result = a/b;\r\n      return result;\r\n   }\r\n   public double division (float a, float b){\r\n      double result = a/b;\r\n      return result;\r\n   }\r\n```\r\n\r\ni am pretty sure that in java 8\r\n\r\nit is ok\r\n\r\n","title":"Overload with different return type in Java?","body":"<pre><code>public int division(int a, int b){\n   int result = a/b;\n   return result;\n}\npublic double division (float a, float b){\n   double result = a/b;\n   return result;\n}\n</code></pre>\n<p>i am pretty sure that in java 8</p>\n<p>it is ok</p>\n"}],"owner":{"account_id":54074,"reputation":20649,"user_id":161746,"accept_rate":91,"display_name":"nunos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112709,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":2439788,"answer_count":10,"score":137,"last_activity_date":1653633102,"creation_date":1268509793,"question_id":2439782,"body_markdown":"Why is it not possible to overload a function just by changing the return type?  Will that change in a future version of Java?\r\n\r\nBy the way, just for reference, is this possible in C++?","title":"Overload with different return type in Java?","body":"<p>Why is it not possible to overload a function just by changing the return type?  Will that change in a future version of Java?</p>\n\n<p>By the way, just for reference, is this possible in C++?</p>\n"},{"tags":["java","excel","postgresql","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1653640650,"post_id":72401307,"comment_id":127904659,"body_markdown":"Please go through the [Help center](https://stackoverflow.com/help). Especially read [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) and [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask).","body":"Please go through the <a href=\"https://stackoverflow.com/help\">Help center</a>. Especially read <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1653640654,"post_id":72401307,"comment_id":127904662,"body_markdown":"Problems with your current question are: 1. You say, you can solve what you need using &quot;a small simple excel with no merged cells&quot;. But you do not tell us where exactly you are stuck when using &quot;a huge excel with merged cells&quot;. (Btw.: 2 MB is not that huge.) 2. You say, you need &quot;not all, but selected field values&quot;. But you do not tell us what &quot;selected field values&quot; means. Do you mean only the cells which were selected before last saving?","body":"Problems with your current question are: 1. You say, you can solve what you need using &quot;a small simple excel with no merged cells&quot;. But you do not tell us where exactly you are stuck when using &quot;a huge excel with merged cells&quot;. (Btw.: 2 MB is not that huge.) 2. You say, you need &quot;not all, but selected field values&quot;. But you do not tell us what &quot;selected field values&quot; means. Do you mean only the cells which were selected before last saving?"}],"owner":{"account_id":25402793,"reputation":1,"user_id":19211969,"display_name":"user19211969"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653633093,"creation_date":1653632857,"question_id":72401307,"body_markdown":"\r\nI have got an excel which I need to upload to an API using java, spring boot. The excel has many merged cells in it. It is a huge file of more than 2 MB. While uploading, I need to save some (not all, but selected field values) to PostgreSQL DB. Using apache poi and a small simple excel with no merged cells, I can upload the entire content to a table. But what I need is to save only few values from a huge excel with merged cells to DB while it gets uploaded to the api server. How to do that? ","title":"How to upload a big excel with merged cells to springboot api and save only a selected data from it to database","body":"<p>I have got an excel which I need to upload to an API using java, spring boot. The excel has many merged cells in it. It is a huge file of more than 2 MB. While uploading, I need to save some (not all, but selected field values) to PostgreSQL DB. Using apache poi and a small simple excel with no merged cells, I can upload the entire content to a table. But what I need is to save only few values from a huge excel with merged cells to DB while it gets uploaded to the api server. How to do that?</p>\n"},{"tags":["java","apache-poi","docx"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653632801,"creation_date":1653632175,"answer_id":72401198,"question_id":72399443,"body_markdown":"The `setColor` is a method of `XWPFRun`. So it only affects the text in that `XWPFRun`.\r\n\r\nThe method `XWPFParagraph paragraph ...; ... paragraph.getCTP().addNewFldSimple()` ist the simplest method to add a field into a Office Open XML Word document. But as this adds a field into the paragraph outside all text runs, no text formatting is possible. This is because text formatting in Word is only possible for text runs.\r\n\r\nIf special text formatting is needed, then the field would must be within a text run. But there is no simple field possible within a text run. To store fields in text runs, there must be a special text run having field char type BEGIN, followed by a special text run having the field content as in-string text, followed by a special text run having field char type END.\r\n\r\nFollowing code shows that. All used `XWPFRun`s provide text fromatting. \r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\r\n    import org.apache.poi.wp.usermodel.HeaderFooterType;\r\n    \r\n    public class CreateWordHeaderFooter3 {\r\n    \t\r\n     static XWPFRun createRunFldCharTypeBegin(XWPFParagraph paragraph) {\r\n      XWPFRun run = paragraph.createRun();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\r\n      cTFldChar.setFldCharType​(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.BEGIN);\r\n      cTR.setFldCharArray​(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\r\n      return run;\r\n     }\r\n    \r\n     static XWPFRun createRunInstrText(XWPFParagraph paragraph, String instrText) {\r\n      XWPFRun run = paragraph.createRun();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText cTText = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText.Factory.newInstance();\r\n      cTText.setStringValue(instrText);\r\n      cTR.setInstrTextArray​(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText[]{cTText});\r\n      return run;\r\n     }\r\n     \r\n     static XWPFRun createRunFldCharTypeEnd(XWPFParagraph paragraph) {\r\n      XWPFRun run = paragraph.createRun();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\r\n      cTFldChar.setFldCharType​(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.END);\r\n      cTR.setFldCharArray​(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\r\n      return run;\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument doc = new XWPFDocument();\r\n      XWPFParagraph paragraph;\r\n      XWPFRun run;\r\n      \r\n      // the body content\r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;The Body:&quot;);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Lorem ipsum.... page 1&quot;);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum.... page 2&quot;);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum.... page 3&quot;);\r\n    \r\n      // create header-footer\r\n      // create header start\r\n      XWPFHeader header = doc.createHeader(HeaderFooterType.DEFAULT);\r\n    \r\n      paragraph = header.getParagraphArray(0);\r\n      if (paragraph == null) paragraph = header.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.LEFT);\r\n    \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot;The Header:&quot;);\r\n      // create header end\r\n    \r\n      // create footer start\r\n      XWPFFooter footer = doc.createFooter(HeaderFooterType.DEFAULT);\r\n    \r\n      paragraph = footer.getParagraphArray(0);\r\n      if (paragraph == null) paragraph = footer.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.CENTER);\r\n      \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot;Page &quot;);\r\n      \r\n      //paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeBegin(paragraph);\r\n      run.setFontSize(16);\r\n      run.setColor(&quot;FF0000&quot;);\r\n      run = createRunInstrText(paragraph, &quot;PAGE \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeEnd(paragraph);\r\n      \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot; of &quot;);\r\n      \r\n      //paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeBegin(paragraph);\r\n      run.setFontSize(16);\r\n      run.setColor(&quot;0000FF&quot;);\r\n      run = createRunInstrText(paragraph, &quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeEnd(paragraph);\r\n      \r\n      // create footer end\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreateWordHeaderFooter.docx&quot;);\r\n      doc.write(out);\r\n      out.close();\r\n      doc.close();\r\n    \r\n     }\r\n    }\r\n\r\n","title":"Apache Poi - XWPF: How to change font color, size, style of the footer Page Number in docx","body":"<p>The <code>setColor</code> is a method of <code>XWPFRun</code>. So it only affects the text in that <code>XWPFRun</code>.</p>\n<p>The method <code>XWPFParagraph paragraph ...; ... paragraph.getCTP().addNewFldSimple()</code> ist the simplest method to add a field into a Office Open XML Word document. But as this adds a field into the paragraph outside all text runs, no text formatting is possible. This is because text formatting in Word is only possible for text runs.</p>\n<p>If special text formatting is needed, then the field would must be within a text run. But there is no simple field possible within a text run. To store fields in text runs, there must be a special text run having field char type BEGIN, followed by a special text run having the field content as in-string text, followed by a special text run having field char type END.</p>\n<p>Following code shows that. All used <code>XWPFRun</code>s provide text fromatting.</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\n\npublic class CreateWordHeaderFooter3 {\n    \n static XWPFRun createRunFldCharTypeBegin(XWPFParagraph paragraph) {\n  XWPFRun run = paragraph.createRun();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\n  cTFldChar.setFldCharType​(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.BEGIN);\n  cTR.setFldCharArray​(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\n  return run;\n }\n\n static XWPFRun createRunInstrText(XWPFParagraph paragraph, String instrText) {\n  XWPFRun run = paragraph.createRun();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText cTText = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText.Factory.newInstance();\n  cTText.setStringValue(instrText);\n  cTR.setInstrTextArray​(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText[]{cTText});\n  return run;\n }\n \n static XWPFRun createRunFldCharTypeEnd(XWPFParagraph paragraph) {\n  XWPFRun run = paragraph.createRun();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\n  cTFldChar.setFldCharType​(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.END);\n  cTR.setFldCharArray​(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\n  return run;\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument doc = new XWPFDocument();\n  XWPFParagraph paragraph;\n  XWPFRun run;\n  \n  // the body content\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;The Body:&quot;);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;Lorem ipsum.... page 1&quot;);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(&quot;Lorem ipsum.... page 2&quot;);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(&quot;Lorem ipsum.... page 3&quot;);\n\n  // create header-footer\n  // create header start\n  XWPFHeader header = doc.createHeader(HeaderFooterType.DEFAULT);\n\n  paragraph = header.getParagraphArray(0);\n  if (paragraph == null) paragraph = header.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.LEFT);\n\n  run = paragraph.createRun();  \n  run.setText(&quot;The Header:&quot;);\n  // create header end\n\n  // create footer start\n  XWPFFooter footer = doc.createFooter(HeaderFooterType.DEFAULT);\n\n  paragraph = footer.getParagraphArray(0);\n  if (paragraph == null) paragraph = footer.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.CENTER);\n  \n  run = paragraph.createRun();  \n  run.setText(&quot;Page &quot;);\n  \n  //paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeBegin(paragraph);\n  run.setFontSize(16);\n  run.setColor(&quot;FF0000&quot;);\n  run = createRunInstrText(paragraph, &quot;PAGE \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeEnd(paragraph);\n  \n  run = paragraph.createRun();  \n  run.setText(&quot; of &quot;);\n  \n  //paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeBegin(paragraph);\n  run.setFontSize(16);\n  run.setColor(&quot;0000FF&quot;);\n  run = createRunInstrText(paragraph, &quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeEnd(paragraph);\n  \n  // create footer end\n\n  FileOutputStream out = new FileOutputStream(&quot;CreateWordHeaderFooter.docx&quot;);\n  doc.write(out);\n  out.close();\n  doc.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":25384097,"reputation":25,"user_id":19196103,"display_name":"fidilen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72401198,"answer_count":1,"score":2,"last_activity_date":1653632801,"creation_date":1653613317,"question_id":72399443,"body_markdown":"I have tried the code below, but it seems that `setColor()` only updates the text in the paragraph -- it does not affect the color of `CTSimpleField` Page Number.\r\n\r\n```\r\nCTSectPr sectPr = getSectionProperty(0);\r\nCTHdrFtrRef footerRef = sectPr.addNewFooterReference();\r\nXWPFFooter footer = headerFooterPolicy.createFooter(XWPFHeaderFooterPolicy.DEFAULT);\r\nfooterRef.setId(footer.getPackageRelationship().getId());\r\n\r\nXWPFParagraph paragraph = footer.createParagraph();\r\n\r\nCTSimpleField simpleField =  paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE  \\\\* Arabic  \\\\* MERGEFORMAT&quot;);\r\n\r\nXWPFRun run = paragraph.createRun();\r\nrun.setText(&quot;Page &quot;);\r\nrun.setColor(&quot;ffffff&quot;);\r\n```\r\nIs there a way to update the `CTSimpleField` font color, style, and size? or is there a different way to generate Page Numbers where we can update their font color?","title":"Apache Poi - XWPF: How to change font color, size, style of the footer Page Number in docx","body":"<p>I have tried the code below, but it seems that <code>setColor()</code> only updates the text in the paragraph -- it does not affect the color of <code>CTSimpleField</code> Page Number.</p>\n<pre><code>CTSectPr sectPr = getSectionProperty(0);\nCTHdrFtrRef footerRef = sectPr.addNewFooterReference();\nXWPFFooter footer = headerFooterPolicy.createFooter(XWPFHeaderFooterPolicy.DEFAULT);\nfooterRef.setId(footer.getPackageRelationship().getId());\n\nXWPFParagraph paragraph = footer.createParagraph();\n\nCTSimpleField simpleField =  paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE  \\\\* Arabic  \\\\* MERGEFORMAT&quot;);\n\nXWPFRun run = paragraph.createRun();\nrun.setText(&quot;Page &quot;);\nrun.setColor(&quot;ffffff&quot;);\n</code></pre>\n<p>Is there a way to update the <code>CTSimpleField</code> font color, style, and size? or is there a different way to generate Page Numbers where we can update their font color?</p>\n"},{"tags":["java","algorithm","optimization","biginteger","lcm"],"comments":[{"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"score":0,"creation_date":1345066100,"post_id":11977582,"comment_id":15967856,"body_markdown":"It&#39;s notable that I can probably use prime numbers to speed this up somehow.  It&#39;s also notable that I can use this range of numbers to calculate prime numbers: if gcd(LCM, n) is prime and n is less than the square of the top of the range, n must be prime).  This will let me check primality of numbers less than max^2 in approximately linear time (to the size of LCM)","body":"It&#39;s notable that I can probably use prime numbers to speed this up somehow.  It&#39;s also notable that I can use this range of numbers to calculate prime numbers: if gcd(LCM, n) is prime and n is less than the square of the top of the range, n must be prime).  This will let me check primality of numbers less than max^2 in approximately linear time (to the size of LCM)"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1345068078,"post_id":11977582,"comment_id":15968626,"body_markdown":"For the logarithm sub-question: loga(b) = logx(b)/logx(a), where x could be any constant, so simply dividing the binary (or decimal) length of the two numbers should give you an approximation. Or is that not accurate enough?","body":"For the logarithm sub-question: loga(b) = logx(b)/logx(a), where x could be any constant, so simply dividing the binary (or decimal) length of the two numbers should give you an approximation. Or is that not accurate enough?"},{"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"score":0,"creation_date":1345128071,"post_id":11977582,"comment_id":15987527,"body_markdown":"@biziclop I need the exact value of floor(a log b base c), where a, b, and c are presumably all bigintegers.  Though in practice, I may not run this algorithm with large enough inputs to require that c be a biginteger.","body":"@biziclop I need the exact value of floor(a log b base c), where a, b, and c are presumably all bigintegers.  Though in practice, I may not run this algorithm with large enough inputs to require that c be a biginteger."}],"answers":[{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1345069072,"creation_date":1345068278,"answer_id":11978005,"question_id":11977582,"body_markdown":"This is the layout of the algorithm. I assume that you always start from 1:\r\n\r\n1. Find prime numbers in the range. You can use Eratosthenes sieve for 350000. For bigger range of number, you&#39;d need [segmented sieve](https://stackoverflow.com/questions/10249378/segmented-sieve-of-eratosthenes).\r\n\r\n2. For each prime number p, use logarithmic function to find the largest exponent e that p&lt;sup&gt;e&lt;/sup&gt; is within the range. Multiply p&lt;sup&gt;e&lt;/sup&gt; to the LCM. (The optimization details is up to your implementation)\r\n\r\nWhy is it correct?\r\n\r\n- For numbers in the form p&lt;sup&gt;e&lt;/sup&gt; where p is prime, and e &gt;= 1, due to step 2, has been include in the LCM, so p&lt;sup&gt;e&lt;/sup&gt; | LCM.\r\n- Other numbers will have the form N = p&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;1&lt;/sub&gt;&lt;/sup&gt;p&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;2&lt;/sub&gt;&lt;/sup&gt;...p&lt;sub&gt;n&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;n&lt;/sub&gt;&lt;/sup&gt; (where p&lt;sub&gt;i&lt;/sub&gt; are pairwise distinct primes numbers and e&lt;sub&gt;i&lt;/sub&gt; &gt;= 1), which is larger or equal to p&lt;sub&gt;i&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;i&lt;/sub&gt;&lt;/sup&gt; (for all i from 1 to n). Since p&lt;sub&gt;i&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;i&lt;/sub&gt;&lt;/sup&gt; | LCM, due to previous argument, N | LCM.","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>This is the layout of the algorithm. I assume that you always start from 1:</p>\n\n<ol>\n<li><p>Find prime numbers in the range. You can use Eratosthenes sieve for 350000. For bigger range of number, you'd need <a href=\"https://stackoverflow.com/questions/10249378/segmented-sieve-of-eratosthenes\">segmented sieve</a>.</p></li>\n<li><p>For each prime number p, use logarithmic function to find the largest exponent e that p<sup>e</sup> is within the range. Multiply p<sup>e</sup> to the LCM. (The optimization details is up to your implementation)</p></li>\n</ol>\n\n<p>Why is it correct?</p>\n\n<ul>\n<li>For numbers in the form p<sup>e</sup> where p is prime, and e >= 1, due to step 2, has been include in the LCM, so p<sup>e</sup> | LCM.</li>\n<li>Other numbers will have the form N = p<sub>1</sub><sup>e<sub>1</sub></sup>p<sub>2</sub><sup>e<sub>2</sub></sup>...p<sub>n</sub><sup>e<sub>n</sub></sup> (where p<sub>i</sub> are pairwise distinct primes numbers and e<sub>i</sub> >= 1), which is larger or equal to p<sub>i</sub><sup>e<sub>i</sub></sup> (for all i from 1 to n). Since p<sub>i</sub><sup>e<sub>i</sub></sup> | LCM, due to previous argument, N | LCM.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345072458,"creation_date":1345071807,"answer_id":11978533,"question_id":11977582,"body_markdown":"This is a generalisation of the answer of @nhahtdh\r\n\r\nFirst step, find all the primes that are less than or equal to the upper bound.\r\n\r\nThen take each prime p and write down both the lower and upper bound in a base p notation. The highest digit that is different in the two numbers is the exponent of p that you need to include in your LCM. If lower bound is 1, this is trivially the same as the other answer.\r\n\r\nNote that the complexity of this algorithm doesn&#39;t depend on the length of the range, only the magnitude of the upper bound.","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>This is a generalisation of the answer of @nhahtdh</p>\n\n<p>First step, find all the primes that are less than or equal to the upper bound.</p>\n\n<p>Then take each prime p and write down both the lower and upper bound in a base p notation. The highest digit that is different in the two numbers is the exponent of p that you need to include in your LCM. If lower bound is 1, this is trivially the same as the other answer.</p>\n\n<p>Note that the complexity of this algorithm doesn't depend on the length of the range, only the magnitude of the upper bound.</p>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653632701,"creation_date":1653632701,"answer_id":72401277,"question_id":11977582,"body_markdown":"Instead of a prime generator and some explicit means to determine largest powers under the limit *n* (350000),  \r\nTry a modified SoE:  \r\n\r\nUse &quot;all ones&quot; (`~0`) or -1 for MULTIPRIME: has more than one distinct prime factor,  \r\n0 or 1 for CANDIDATE.  \r\nFor each natural number up to *l* = sqrt(*n*), keep in *sieve* an integer large enough to hold *l*, initialised to 0 for *prime candidate*.  \r\nSet sieve at multiples of a prime *p* to *p* if zero, else to MULTIPRIME if not equal to *p*.  \r\n\r\nThe Least Common Multiple is the product of all elements of sieve &gt; CANDIDATE and not MULTIPRIME (&gt; CANDIDATE if CANDIDATE &gt; MULTIPRIME).\r\n___\r\n(Depending on memory system and CPU, re-assigning values or avoiding it \r\n~~~\r\n    sieve[p] = sieve[p] | p == p ? p : MULTIPRIME;\r\n// or\r\n    if (sieve[p] != MULTIPRIME)\r\n        if (sieve[p] == CANDIDATE)\r\n            sieve[p] = p;\r\n        else if (sieve[p] != p)\r\n            sieve[p] = MULTIPRIME;\r\n~~~\r\nmay be slower.)","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>Instead of a prime generator and some explicit means to determine largest powers under the limit <em>n</em> (350000),<br />\nTry a modified SoE:</p>\n<p>Use &quot;all ones&quot; (<code>~0</code>) or -1 for MULTIPRIME: has more than one distinct prime factor,<br />\n0 or 1 for CANDIDATE.<br />\nFor each natural number up to <em>l</em> = sqrt(<em>n</em>), keep in <em>sieve</em> an integer large enough to hold <em>l</em>, initialised to 0 for <em>prime candidate</em>.<br />\nSet sieve at multiples of a prime <em>p</em> to <em>p</em> if zero, else to MULTIPRIME if not equal to <em>p</em>.</p>\n<p>The Least Common Multiple is the product of all elements of sieve &gt; CANDIDATE and not MULTIPRIME (&gt; CANDIDATE if CANDIDATE &gt; MULTIPRIME).</p>\n<hr />\n<p>(Depending on memory system and CPU, re-assigning values or avoiding it</p>\n<pre><code>    sieve[p] = sieve[p] | p == p ? p : MULTIPRIME;\n// or\n    if (sieve[p] != MULTIPRIME)\n        if (sieve[p] == CANDIDATE)\n            sieve[p] = p;\n        else if (sieve[p] != p)\n            sieve[p] = MULTIPRIME;\n</code></pre>\n<p>may be slower.)</p>\n"}],"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4229,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11978005,"answer_count":3,"score":9,"last_activity_date":1653632701,"creation_date":1345065966,"question_id":11977582,"body_markdown":"I looked around and found other questions that had answers but none of them address the scope of this particular question., including [this question](https://stackoverflow.com/questions/185781/finding-the-lcm-of-a-range-of-numbers), and also [this one](https://stackoverflow.com/questions/8806520/how-to-get-gcd-and-lcm-of-a-range-of-numbers-efficiently).\n\nI have to compute the LCM of large ranges of numbers in an efficient way.  I didn&#39;t look too in-depth at those other questions because they don&#39;t deal with ranges of numbers that are as large as the ones this algorithm must process.\n\nThe code I&#39;ve got right now can calculate the LCM of every number between 1 and 350000 in about 90 seconds. (The resulting number is some 76000 decimal digits long).  I hope to eventually be able to scale it over ranges that are millions or maybe even billions of elements long.\n\nIt will probably be paralellized eventually.  With some algorithms this won&#39;t be hard at all, for others it will be trickier (if, for example, the algorithm uses the currently generated LCM to compute primality for other parts of its computation)\n\nHere it is:\n\n&lt;!-- language: java --&gt;\n\n    public static BigInteger getLCMOfRange(BigInteger lower, BigInteger upper)\n    {\n        BigInteger M = BigInteger.ONE;\n        BigInteger t;\n        \n        // long l = System.currentTimeMillis();\n        // System.out.println(&quot;Calculating LCM of numbers up to &quot; + upper + &quot;...&quot;);\n        for (; lower.compareTo(upper) != 1; lower = lower.add(BigInteger.ONE))\n        {\n            t = M.gcd(lower);\n            if (t.compareTo(lower) == 0)\n                continue;\n            M = M.multiply(lower).divide(t);\n        }\n        // System.out.println(&quot;Done.  Took &quot; + (System.currentTimeMillis() - l) + &quot; milliseconds.  LCM is &quot; + M.bitCount()+ &quot; bits long.&quot;);\n        return M;\n    }\n\nNote that unlike a typical for loop, this function operates over [lower, upper] instead of [lower, upper).  This behavior is intentional.\n\nA bit of supporting math is that the LCM of some set of numbers product of the set of prime factors from which any one of the numbers can be produced without requiring any outside of the pool.  If my range is [1,20], I can represent that in the following way:\n\n    1: 1         6:  3*2      11: 11       16: 2^4\n    2: 2         7:  7        12: 3*2^2    17: 17\n    3: 3         8:  2^3      13: 13       18: 3^2*2\n    4: 2^2       9:  3^2      14: 7*2      19: 19\n    5: 5         10: 5*2      15: 5*3      20: 5*2^2\n    \n    LCM{[1,20]}: 2^4*3^2*5*7*11*13*17*19 = 232792560\n\nAre there any more efficient ways to compute an LCM over such a large range?\n\nI don&#39;t care if the algorithm someone suggests is very memory-heavy, time performance is much more important (and also more expensive) than memory performance in this case.\n\nThis is not a homework question.\n\n# Question\n\nWhat is the most efficient way to calculate the LCM of a very large range of numbers?  This algorithm needs to operate on prohibitively wide ranges of numbers and must thus be carefully optimized.\n\n# Addendum 1\n\nA closely related question is: What&#39;s the most efficient way to calculate the logarithm of one BigInteger (base another BigInteger)?  The resulting value can be truncated to the nearest integer.","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>I looked around and found other questions that had answers but none of them address the scope of this particular question., including <a href=\"https://stackoverflow.com/questions/185781/finding-the-lcm-of-a-range-of-numbers\">this question</a>, and also <a href=\"https://stackoverflow.com/questions/8806520/how-to-get-gcd-and-lcm-of-a-range-of-numbers-efficiently\">this one</a>.</p>\n<p>I have to compute the LCM of large ranges of numbers in an efficient way.  I didn't look too in-depth at those other questions because they don't deal with ranges of numbers that are as large as the ones this algorithm must process.</p>\n<p>The code I've got right now can calculate the LCM of every number between 1 and 350000 in about 90 seconds. (The resulting number is some 76000 decimal digits long).  I hope to eventually be able to scale it over ranges that are millions or maybe even billions of elements long.</p>\n<p>It will probably be paralellized eventually.  With some algorithms this won't be hard at all, for others it will be trickier (if, for example, the algorithm uses the currently generated LCM to compute primality for other parts of its computation)</p>\n<p>Here it is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static BigInteger getLCMOfRange(BigInteger lower, BigInteger upper)\n{\n    BigInteger M = BigInteger.ONE;\n    BigInteger t;\n    \n    // long l = System.currentTimeMillis();\n    // System.out.println(&quot;Calculating LCM of numbers up to &quot; + upper + &quot;...&quot;);\n    for (; lower.compareTo(upper) != 1; lower = lower.add(BigInteger.ONE))\n    {\n        t = M.gcd(lower);\n        if (t.compareTo(lower) == 0)\n            continue;\n        M = M.multiply(lower).divide(t);\n    }\n    // System.out.println(&quot;Done.  Took &quot; + (System.currentTimeMillis() - l) + &quot; milliseconds.  LCM is &quot; + M.bitCount()+ &quot; bits long.&quot;);\n    return M;\n}\n</code></pre>\n<p>Note that unlike a typical for loop, this function operates over [lower, upper] instead of [lower, upper).  This behavior is intentional.</p>\n<p>A bit of supporting math is that the LCM of some set of numbers product of the set of prime factors from which any one of the numbers can be produced without requiring any outside of the pool.  If my range is [1,20], I can represent that in the following way:</p>\n<pre><code>1: 1         6:  3*2      11: 11       16: 2^4\n2: 2         7:  7        12: 3*2^2    17: 17\n3: 3         8:  2^3      13: 13       18: 3^2*2\n4: 2^2       9:  3^2      14: 7*2      19: 19\n5: 5         10: 5*2      15: 5*3      20: 5*2^2\n\nLCM{[1,20]}: 2^4*3^2*5*7*11*13*17*19 = 232792560\n</code></pre>\n<p>Are there any more efficient ways to compute an LCM over such a large range?</p>\n<p>I don't care if the algorithm someone suggests is very memory-heavy, time performance is much more important (and also more expensive) than memory performance in this case.</p>\n<p>This is not a homework question.</p>\n<h1>Question</h1>\n<p>What is the most efficient way to calculate the LCM of a very large range of numbers?  This algorithm needs to operate on prohibitively wide ranges of numbers and must thus be carefully optimized.</p>\n<h1>Addendum 1</h1>\n<p>A closely related question is: What's the most efficient way to calculate the logarithm of one BigInteger (base another BigInteger)?  The resulting value can be truncated to the nearest integer.</p>\n"},{"tags":["java","c"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653628470,"post_id":72400704,"comment_id":127901450,"body_markdown":"The answer is **no**","body":"The answer is <b>no</b>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653628607,"post_id":72400704,"comment_id":127901463,"body_markdown":"Also, works without an error for me `5 5 4 3 2 1\n[1, 2, 3, 4, 5]`","body":"Also, works without an error for me <code>5 5 4 3 2 1 [1, 2, 3, 4, 5]</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1653628613,"post_id":72400704,"comment_id":127901465,"body_markdown":"C doesn&#39;t do index bounds checks. It happily accesses a nonsensical index -1 of an array even though the array has only allowed indexes 0 to some value.","body":"C doesn&#39;t do index bounds checks. It happily accesses a nonsensical index -1 of an array even though the array has only allowed indexes 0 to some value."},{"owner":{"account_id":3568716,"reputation":28786,"user_id":2979617,"display_name":"M Oehm"},"score":0,"creation_date":1653628656,"post_id":72400704,"comment_id":127901474,"body_markdown":"The difference is not in how `&amp;&amp;` works, but in how programming errors are treated. Java checks for invalid array accesses and raises an exception. C lets you stomp happily into invalid terrain and calls it &quot;undefined behaviour&quot;, something the programmer has to avoid.","body":"The difference is not in how <code>&amp;&amp;</code> works, but in how programming errors are treated. Java checks for invalid array accesses and raises an exception. C lets you stomp happily into invalid terrain and calls it &quot;undefined behaviour&quot;, something the programmer has to avoid."},{"owner":{"account_id":20736130,"reputation":11,"user_id":19211585,"display_name":"Md Asad Ali"},"score":0,"creation_date":1653629051,"post_id":72400704,"comment_id":127901550,"body_markdown":"@ThomasKl&#228;ger But how does placing the same condition before or after another condition result in error. &amp;&amp; operator should check both the conditions if the first one is true.","body":"@ThomasKl&#228;ger But how does placing the same condition before or after another condition result in error. &amp;&amp; operator should check both the conditions if the first one is true."},{"owner":{"account_id":3568716,"reputation":28786,"user_id":2979617,"display_name":"M Oehm"},"score":0,"creation_date":1653630144,"post_id":72400704,"comment_id":127901754,"body_markdown":"If you put the access first, you cannot be sure that you have a valid index. It is the other way round: You must rely on the fact that the second condition isn&#39;t checked when the first one is false. That way, you will never make an invalid access if your index is invalid. The pattern goes `(precondition_for_test &amp;&amp; actual_test)`.","body":"If you put the access first, you cannot be sure that you have a valid index. It is the other way round: You must rely on the fact that the second condition isn&#39;t checked when the first one is false. That way, you will never make an invalid access if your index is invalid. The pattern goes <code>(precondition_for_test &amp;&amp; actual_test)</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1653630677,"post_id":72400704,"comment_id":127901872,"body_markdown":"&quot;&amp;&amp; operator should check both the conditions if the first one is true&quot; - correct, but if j is -1 then the condition `j &gt;= 0` is false. If the complete condition is `(j &gt;= 0) &amp;&amp; (temp &lt; arr[j])` then its `false &amp;&amp; something` and that something is never evaluated. If the complete condition is `((temp &lt; arr[j]) &amp;&amp; (j &gt;= 0))` then the array access is evaluated first and trying to access an array at index -1 throws the exception.","body":"&quot;&amp;&amp; operator should check both the conditions if the first one is true&quot; - correct, but if j is -1 then the condition <code>j &gt;= 0</code> is false. If the complete condition is <code>(j &gt;= 0) &amp;&amp; (temp &lt; arr[j])</code> then its <code>false &amp;&amp; something</code> and that something is never evaluated. If the complete condition is <code>((temp &lt; arr[j]) &amp;&amp; (j &gt;= 0))</code> then the array access is evaluated first and trying to access an array at index -1 throws the exception."},{"owner":{"account_id":20736130,"reputation":11,"user_id":19211585,"display_name":"Md Asad Ali"},"score":0,"creation_date":1653632173,"post_id":72400704,"comment_id":127902168,"body_markdown":"@ThomasKl&#228;ger @M Oehm thankyou for clearing the doubt.","body":"@ThomasKl&#228;ger @M Oehm thankyou for clearing the doubt."}],"answers":[{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653632453,"creation_date":1653628641,"answer_id":72400756,"question_id":72400704,"body_markdown":"No. Its called shortcircuit.\r\n\r\nThe order can affect your condition because if any of the conditions from left to right fails, it will mark the complete condition as false and doesn&#39;t evaluate any more conditions.\r\n\r\n \r\n    while ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j]))\r\n\r\nSo if `j &gt;= 0` is false, it will not evaluate `temp &lt; arr[j]`\r\n\r\nbut if you interchange first it will evaluate `temp &lt; arr[j]` where `arr[j]` can produce an ArrayIndexOutOfBoundsException in Java.\r\n\r\nYou can read more about [shortCircuit][1].\r\n\r\nIn C, it may not give an exception; rather it may give you a garbage value.\r\n\r\n  [1]: https://www.geeksforgeeks.org/short-circuit-logical-operators-in-java-with-examples/","title":"Is there a difference in the working of AND operator in JAVA and C?","body":"<p>No. Its called shortcircuit.</p>\n<p>The order can affect your condition because if any of the conditions from left to right fails, it will mark the complete condition as false and doesn't evaluate any more conditions.</p>\n<pre><code>while ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j]))\n</code></pre>\n<p>So if <code>j &gt;= 0</code> is false, it will not evaluate <code>temp &lt; arr[j]</code></p>\n<p>but if you interchange first it will evaluate <code>temp &lt; arr[j]</code> where <code>arr[j]</code> can produce an ArrayIndexOutOfBoundsException in Java.</p>\n<p>You can read more about <a href=\"https://www.geeksforgeeks.org/short-circuit-logical-operators-in-java-with-examples/\" rel=\"nofollow noreferrer\">shortCircuit</a>.</p>\n<p>In C, it may not give an exception; rather it may give you a garbage value.</p>\n"}],"owner":{"account_id":20736130,"reputation":11,"user_id":19211585,"display_name":"Md Asad Ali"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653641012,"accepted_answer_id":72400756,"answer_count":1,"score":0,"last_activity_date":1653632453,"creation_date":1653628166,"question_id":72400704,"body_markdown":"       \r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n        \r\n    public class InsertionSort {\r\n        public static void main(String[] args) {\r\n        \tScanner s = new Scanner(System.in);\r\n        \tint[] arr = new int[s.nextInt()];\r\n        \tfor (int i = 0; i &lt; arr.length; i++) {\r\n        \t\tarr[i] = s.nextInt();\r\n        \t}\r\n        \ts.close();\r\n        \tnew RunInsertionSort().insertionSort(arr);\r\n        \tSystem.out.println(Arrays.toString(arr));\r\n        }\r\n    }\r\n\r\n    class RunInsertionSort {\r\n       \tpublic void insertionSort(int[] arr) {\r\n       \t\tint i, j, temp;\r\n       \t\tfor (i = 1; i &lt; arr.length; i++) {\r\n       \t\t\ttemp = arr[i];\r\n       \t\t\tj = i - 1;\r\n       \t\t\twhile ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j])) {\r\n       \t\t\t\tarr[j + 1] = arr[j];\r\n       \t\t\t\tj--;\r\n       \t\t\t}\r\n       \t\t\tarr[j + 1] = temp;\r\n       \t\t}\r\n       \t}\r\n    }\r\nIf `j&gt;=0` is placed after the condition `temp&lt; arr[j]`, I&#39;m getting the error as\r\n\r\n```\r\n5\r\n\r\n5 4 3 2 1\r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 5\r\n\r\n\tat RunInsertionSort.insertionSort(InsertionSort.java:22)\r\n\r\n\tat InsertionSort.main(InsertionSort.java:12)\r\n\r\n```\r\nBut in C language this doesn&#39;t happen either I write `j&gt;=0 &amp;&amp; temp &lt; arr[i]` or `temp&lt;arr[i] &amp;&amp; j&gt;=0`.\r\n\r\n1st Image\r\n[Image of Error when j&gt;=0 is placed after temp&lt;arr[j]][1]\r\n\r\n\r\n2nd Image [Image when j&gt;=0 is placed before temp&lt;arr[j]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JY7q8.png\r\n  [2]: https://i.stack.imgur.com/5AcFb.png","title":"Is there a difference in the working of AND operator in JAVA and C?","body":"<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n    \npublic class InsertionSort {\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        int[] arr = new int[s.nextInt()];\n        for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = s.nextInt();\n        }\n        s.close();\n        new RunInsertionSort().insertionSort(arr);\n        System.out.println(Arrays.toString(arr));\n    }\n}\n\nclass RunInsertionSort {\n    public void insertionSort(int[] arr) {\n        int i, j, temp;\n        for (i = 1; i &lt; arr.length; i++) {\n            temp = arr[i];\n            j = i - 1;\n            while ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j])) {\n                arr[j + 1] = arr[j];\n                j--;\n            }\n            arr[j + 1] = temp;\n        }\n    }\n}\n</code></pre>\n<p>If <code>j&gt;=0</code> is placed after the condition <code>temp&lt; arr[j]</code>, I'm getting the error as</p>\n<pre><code>5\n\n5 4 3 2 1\n\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 5\n\n    at RunInsertionSort.insertionSort(InsertionSort.java:22)\n\n    at InsertionSort.main(InsertionSort.java:12)\n\n</code></pre>\n<p>But in C language this doesn't happen either I write <code>j&gt;=0 &amp;&amp; temp &lt; arr[i]</code> or <code>temp&lt;arr[i] &amp;&amp; j&gt;=0</code>.</p>\n<p>1st Image\n<a href=\"https://i.stack.imgur.com/JY7q8.png\" rel=\"nofollow noreferrer\">Image of Error when j&gt;=0 is placed after temp&lt;arr[j]</a></p>\n<p>2nd Image <a href=\"https://i.stack.imgur.com/5AcFb.png\" rel=\"nofollow noreferrer\">Image when j&gt;=0 is placed before temp&lt;arr[j]</a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653631703,"creation_date":1653631703,"answer_id":72401134,"question_id":72391408,"body_markdown":"Finally i could solve the issue. In the parent pom had elastic search version was given explicitly. Once i remove the given version error has gone and application works fine.","title":"Spring upgrade issue - ClassNotFoundException","body":"<p>Finally i could solve the issue. In the parent pom had elastic search version was given explicitly. Once i remove the given version error has gone and application works fine.</p>\n"}],"owner":{"account_id":22896902,"reputation":1,"user_id":17036298,"display_name":"jobi07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72401134,"answer_count":1,"score":0,"last_activity_date":1653631703,"creation_date":1653566091,"question_id":72391408,"body_markdown":"I have upgraded my spring boot from 2.2.6.RELEASE to 2.7.0. \r\nAfter the upgrade , i am getting ClassNotFoundException when i start the application.\r\nI tried with 2.6.6 but result is same.\r\n\r\nMy pom file looks like \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n            &lt;/dependency&gt; \r\n\r\nException :\r\n\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reactiveElasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ReactiveElasticsearchRestClientAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n    org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n        Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n        org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.20.jar:5.3.20]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 15 common frames omitted\r\n        Caused by: java.lang.NoClassDefFoundError: org/elasticsearch/xcontent/XContentParser\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.....\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.20.jar:5.3.20]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 22 common frames omitted\r\n        Caused by: java.lang.ClassNotFoundException: org.elasticsearch.xcontent.XContentParser\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;... 26 common frames omitted\r\n\r\nCan anyone please help on this?","title":"Spring upgrade issue - ClassNotFoundException","body":"<p>I have upgraded my spring boot from 2.2.6.RELEASE to 2.7.0.\nAfter the upgrade , i am getting ClassNotFoundException when i start the application.\nI tried with 2.6.6 but result is same.</p>\n<p>My pom file looks like</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n</code></pre>\n<p>Exception :</p>\n<pre><code>    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reactiveElasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ReactiveElasticsearchRestClientAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n                   \norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\n                  \n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n                 \n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.20.jar:5.3.20]\n                    ... 15 common frames omitted\n    Caused by: java.lang.NoClassDefFoundError: org/elasticsearch/xcontent/XContentParser\n                .....\n                    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.20.jar:5.3.20]\n                    ... 22 common frames omitted\n    Caused by: java.lang.ClassNotFoundException: org.elasticsearch.xcontent.XContentParser\n                    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\n                    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n                    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n                    ... 26 common frames omitted\n</code></pre>\n<p>Can anyone please help on this?</p>\n"},{"tags":["java","gradle","build.gradle","micronaut","micronaut-rest"],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653631571,"creation_date":1653631571,"answer_id":72401121,"question_id":72400907,"body_markdown":"The documentation has a section about retaining parameter names https://docs.micronaut.io/latest/guide/#retainparameternames","title":"Methods signature got changed while compiling the gradle java application and referencing to other project","body":"<p>The documentation has a section about retaining parameter names <a href=\"https://docs.micronaut.io/latest/guide/#retainparameternames\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/#retainparameternames</a></p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72401121,"answer_count":1,"score":-2,"last_activity_date":1653631571,"creation_date":1653629873,"question_id":72400907,"body_markdown":"I have two projects known as (`Common` and `ApiGateway`).The common is a Gradle java project and ApiGateway is a Micronaut java application. In the common project, I am keeping all the common things and referencing the jar to the Apigateway project.\r\n\r\n**Common project**\r\n\r\nThe below code is compiled with `./gradlew build`\r\n\r\n    @Validated\r\n    public interface IProductOperation {\r\n        @Get(value = &quot;/search/{text}&quot;)\r\n        @Secured(SecurityRule.IS_ANONYMOUS)\r\n        Flux&lt;?&gt; freeTextSearch(@NotBlank String text);\r\n    \r\n    \r\n        @Get(value = &quot;/{?searchCriteria*}&quot;)\r\n        @Secured(SecurityRule.IS_ANONYMOUS)\r\n        Mono&lt;?&gt; find(FilterProductModel searchCriteria);\r\n    }\r\n\r\nThe **API gateway** implements the `IProductOperation` interface which is in the **common project**. When I navigate to the **code base**, I can see the below code is generated\r\n\r\n    @Validated\r\n    public interface IProductOperation {\r\n    \r\n        @Get(&quot;/search/{text}&quot;)\r\n        @Secured({&quot;isAnonymous()&quot;})\r\n        Flux&lt;?&gt; freeTextSearch(@NotBlank String var1);\r\n    \r\n    \r\n        @Get(&quot;/{?searchCriteria*}&quot;)\r\n        @Secured({&quot;isAnonymous()&quot;})\r\n        Mono&lt;?&gt; find(FilterProductModel var1);\r\n    \r\n    }\r\n\r\nNow when I compile the second application the **Apigateway** project, I get an exception as `The route declares a uri variable named [text], but no corresponding method argument is present` which is valid because the parameter in `freeTextSearch()` and `find()` methods got changed to `var1`.\r\n\r\nI have below dependency in the common project\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java:3.5.0&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation:3.5.0&quot;\r\n    \r\n        implementation(&#39;io.swagger.core.v3:swagger-annotations:2.2.0&#39;)\r\n        implementation &#39;io.micronaut:micronaut-core:3.5.0&#39;\r\n    \r\n        implementation &quot;io.micronaut:micronaut-inject:3.5.0&quot;\r\n        implementation &#39;io.micronaut:micronaut-validation:3.5.0&#39;\r\n        implementation (&#39;io.micronaut.reactor:micronaut-reactor:2.2.2&#39;)\r\n        implementation(&quot;io.micronaut.security:micronaut-security-jwt:3.6.0&quot;)\r\n    }\r\nI have build the application and publish to local mavel.","title":"Methods signature got changed while compiling the gradle java application and referencing to other project","body":"<p>I have two projects known as (<code>Common</code> and <code>ApiGateway</code>).The common is a Gradle java project and ApiGateway is a Micronaut java application. In the common project, I am keeping all the common things and referencing the jar to the Apigateway project.</p>\n<p><strong>Common project</strong></p>\n<p>The below code is compiled with <code>./gradlew build</code></p>\n<pre><code>@Validated\npublic interface IProductOperation {\n    @Get(value = &quot;/search/{text}&quot;)\n    @Secured(SecurityRule.IS_ANONYMOUS)\n    Flux&lt;?&gt; freeTextSearch(@NotBlank String text);\n\n\n    @Get(value = &quot;/{?searchCriteria*}&quot;)\n    @Secured(SecurityRule.IS_ANONYMOUS)\n    Mono&lt;?&gt; find(FilterProductModel searchCriteria);\n}\n</code></pre>\n<p>The <strong>API gateway</strong> implements the <code>IProductOperation</code> interface which is in the <strong>common project</strong>. When I navigate to the <strong>code base</strong>, I can see the below code is generated</p>\n<pre><code>@Validated\npublic interface IProductOperation {\n\n    @Get(&quot;/search/{text}&quot;)\n    @Secured({&quot;isAnonymous()&quot;})\n    Flux&lt;?&gt; freeTextSearch(@NotBlank String var1);\n\n\n    @Get(&quot;/{?searchCriteria*}&quot;)\n    @Secured({&quot;isAnonymous()&quot;})\n    Mono&lt;?&gt; find(FilterProductModel var1);\n\n}\n</code></pre>\n<p>Now when I compile the second application the <strong>Apigateway</strong> project, I get an exception as <code>The route declares a uri variable named [text], but no corresponding method argument is present</code> which is valid because the parameter in <code>freeTextSearch()</code> and <code>find()</code> methods got changed to <code>var1</code>.</p>\n<p>I have below dependency in the common project</p>\n<pre><code>dependencies {\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java:3.5.0&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-validation:3.5.0&quot;\n\n    implementation('io.swagger.core.v3:swagger-annotations:2.2.0')\n    implementation 'io.micronaut:micronaut-core:3.5.0'\n\n    implementation &quot;io.micronaut:micronaut-inject:3.5.0&quot;\n    implementation 'io.micronaut:micronaut-validation:3.5.0'\n    implementation ('io.micronaut.reactor:micronaut-reactor:2.2.2')\n    implementation(&quot;io.micronaut.security:micronaut-security-jwt:3.6.0&quot;)\n}\n</code></pre>\n<p>I have build the application and publish to local mavel.</p>\n"},{"tags":["java","dagger-2"],"comments":[{"owner":{"account_id":17032947,"reputation":115,"user_id":12322701,"display_name":"Anders"},"score":2,"creation_date":1653631388,"post_id":72401067,"comment_id":127901995,"body_markdown":"I think it would still be interesting to hear thoughts on this but, just to say, this has resolved itself now, it&#39;s injecting the right constructor and I&#39;ve been able to completely remove the no-parameter constructor without issue. I did try rebuilding the project in IntelliJ, which might have worked (but didn&#39;t look like it had at the time I did it), or maybe it was just a case of leaving it a while, which isn&#39;t very useful!","body":"I think it would still be interesting to hear thoughts on this but, just to say, this has resolved itself now, it&#39;s injecting the right constructor and I&#39;ve been able to completely remove the no-parameter constructor without issue. I did try rebuilding the project in IntelliJ, which might have worked (but didn&#39;t look like it had at the time I did it), or maybe it was just a case of leaving it a while, which isn&#39;t very useful!"},{"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"score":1,"creation_date":1653636393,"post_id":72401067,"comment_id":127903238,"body_markdown":"Yes, this is really annoying. You need to click &quot;Clean Project&quot; from time to time. That is the only way for now. If you see something broken that does not make sense to be broken or you can&#39;t understand it - first &quot;Clean&quot; - investigate second :)","body":"Yes, this is really annoying. You need to click &quot;Clean Project&quot; from time to time. That is the only way for now. If you see something broken that does not make sense to be broken or you can&#39;t understand it - first &quot;Clean&quot; - investigate second :)"}],"owner":{"account_id":17032947,"reputation":115,"user_id":12322701,"display_name":"Anders"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653631146,"creation_date":1653631146,"question_id":72401067,"body_markdown":"I&#39;m following along with the Dagger ATM tutorial online and have hit issues at the end of the page: https://dagger.dev/tutorial/03-first-command\r\n\r\nI&#39;ve dumped all of the code below for ease of reference but essentially what I understand to be happening is the Command and CommandRouter instances are being injected into the DaggerCommandRouterFactory but no matter what I do the no-parameter constructor for CommandRouter is being used - the compiler isn&#39;t happy if I leave it out, so I had two constructors and only injected the one I needed, but it was STILL calling the no-parameter constructor!\r\n\r\nI came across the following article online (https://youtrack.jetbrains.com/issue/IDEA-190622), which suggests that IntelliJ is caching aspects of the previous builds and I guess within that is the annotation injecting the no-parameter constructor but I&#39;m a bit stuck on how to rectify it.\r\n\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic interface Command {\r\n    String key();\r\n    Status handleInput(List&lt;String&gt; input);\r\n\r\n    enum Status {\r\n        INVALID,\r\n        HANDLED\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport javax.inject.Inject;\r\nimport java.util.List;\r\n\r\npublic final class HelloWorldCommand implements Command {\r\n    @Inject\r\n    HelloWorldCommand(){};\r\n\r\n    @Override\r\n    public String key() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Status handleInput(List&lt;String&gt; input) {\r\n        System.out.println(input.size());\r\n        if (!input.isEmpty())\r\n            return Status.INVALID;\r\n        System.out.println(&quot;world!&quot;);\r\n        return Status.HANDLED;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport ATM.Command.Status;\r\nimport javax.inject.Inject;\r\n\r\npublic class CommandRouter {\r\n    private final Map&lt;String, Command&gt; commands = new HashMap&lt;&gt;();\r\n\r\n    @Inject\r\n    CommandRouter(HelloWorldCommand helloWorldCommand){\r\n        System.out.println(&quot;HelloWorldCommand Constructor&quot;);\r\n        commands.put(helloWorldCommand.key(), helloWorldCommand);\r\n    }\r\n\r\n    CommandRouter(){\r\n        System.out.println(&quot;No Parameter Constructor&quot;);\r\n    }\r\n\r\n    Status route(String input) {\r\n        List&lt;String&gt; splitInput = split(input);\r\n        if (splitInput.isEmpty()) {\r\n            return invalidCommand(input);\r\n        }\r\n\r\n        String commandKey = splitInput.get(0);\r\n        Command command = commands.get(commandKey);\r\n\r\n        if (command == null) {\r\n            return invalidCommand(input);\r\n        }\r\n\r\n        Status status = command.handleInput(splitInput.subList(1, splitInput.size()));\r\n\r\n        if (status == Status.INVALID){\r\n            System.out.println(commandKey + &quot;: invalid arguments&quot;);\r\n        }\r\n\r\n        return status;\r\n    }\r\n\r\n    private Status invalidCommand(String input) {\r\n        System.out.println(String.format(&quot;couldn&#39;t understand \\&quot;%s\\&quot;. please try again.&quot;, input));\r\n        return Status.INVALID;\r\n    }\r\n\r\n    private List&lt;String&gt; split(String input) {\r\n        List&lt;String&gt; tokens = List.of(input.split(&quot; &quot;));\r\n        return tokens;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport dagger.Component;\r\n\r\n@Component\r\npublic interface CommandRouterFactory {\r\n    CommandRouter router();\r\n}\r\n```\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CommandLineATM {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        CommandRouterFactory commandRouterFactory = DaggerCommandRouterFactory.create();\r\n        CommandRouter commandRouter = commandRouterFactory.router();\r\n\r\n        while(scanner.hasNextLine()){\r\n            commandRouter.route(scanner.nextLine());\r\n        }\r\n    }\r\n}\r\n```","title":"Dagger choosing the no-argument constructor, despite a different constructor being annotated @Inject","body":"<p>I'm following along with the Dagger ATM tutorial online and have hit issues at the end of the page: <a href=\"https://dagger.dev/tutorial/03-first-command\" rel=\"nofollow noreferrer\">https://dagger.dev/tutorial/03-first-command</a></p>\n<p>I've dumped all of the code below for ease of reference but essentially what I understand to be happening is the Command and CommandRouter instances are being injected into the DaggerCommandRouterFactory but no matter what I do the no-parameter constructor for CommandRouter is being used - the compiler isn't happy if I leave it out, so I had two constructors and only injected the one I needed, but it was STILL calling the no-parameter constructor!</p>\n<p>I came across the following article online (<a href=\"https://youtrack.jetbrains.com/issue/IDEA-190622\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-190622</a>), which suggests that IntelliJ is caching aspects of the previous builds and I guess within that is the annotation injecting the no-parameter constructor but I'm a bit stuck on how to rectify it.</p>\n<pre><code>import java.util.List;\n\npublic interface Command {\n    String key();\n    Status handleInput(List&lt;String&gt; input);\n\n    enum Status {\n        INVALID,\n        HANDLED\n    }\n}\n</code></pre>\n<pre><code>import javax.inject.Inject;\nimport java.util.List;\n\npublic final class HelloWorldCommand implements Command {\n    @Inject\n    HelloWorldCommand(){};\n\n    @Override\n    public String key() {\n        return &quot;hello&quot;;\n    }\n\n    @Override\n    public Status handleInput(List&lt;String&gt; input) {\n        System.out.println(input.size());\n        if (!input.isEmpty())\n            return Status.INVALID;\n        System.out.println(&quot;world!&quot;);\n        return Status.HANDLED;\n    }\n}\n</code></pre>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport ATM.Command.Status;\nimport javax.inject.Inject;\n\npublic class CommandRouter {\n    private final Map&lt;String, Command&gt; commands = new HashMap&lt;&gt;();\n\n    @Inject\n    CommandRouter(HelloWorldCommand helloWorldCommand){\n        System.out.println(&quot;HelloWorldCommand Constructor&quot;);\n        commands.put(helloWorldCommand.key(), helloWorldCommand);\n    }\n\n    CommandRouter(){\n        System.out.println(&quot;No Parameter Constructor&quot;);\n    }\n\n    Status route(String input) {\n        List&lt;String&gt; splitInput = split(input);\n        if (splitInput.isEmpty()) {\n            return invalidCommand(input);\n        }\n\n        String commandKey = splitInput.get(0);\n        Command command = commands.get(commandKey);\n\n        if (command == null) {\n            return invalidCommand(input);\n        }\n\n        Status status = command.handleInput(splitInput.subList(1, splitInput.size()));\n\n        if (status == Status.INVALID){\n            System.out.println(commandKey + &quot;: invalid arguments&quot;);\n        }\n\n        return status;\n    }\n\n    private Status invalidCommand(String input) {\n        System.out.println(String.format(&quot;couldn't understand \\&quot;%s\\&quot;. please try again.&quot;, input));\n        return Status.INVALID;\n    }\n\n    private List&lt;String&gt; split(String input) {\n        List&lt;String&gt; tokens = List.of(input.split(&quot; &quot;));\n        return tokens;\n    }\n}\n</code></pre>\n<pre><code>import dagger.Component;\n\n@Component\npublic interface CommandRouterFactory {\n    CommandRouter router();\n}\n</code></pre>\n<pre><code>import java.util.Scanner;\n\npublic class CommandLineATM {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        CommandRouterFactory commandRouterFactory = DaggerCommandRouterFactory.create();\n        CommandRouter commandRouter = commandRouterFactory.router();\n\n        while(scanner.hasNextLine()){\n            commandRouter.route(scanner.nextLine());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":48946,"reputation":14899,"user_id":145567,"accept_rate":78,"display_name":"Dominic Bou-Samra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433546519,"creation_date":1343368676,"answer_id":11682231,"question_id":11682212,"body_markdown":"You need to instantiate the class it is contained within, or make the method static.\r\n\r\nSo if it is contained within class Foo:\r\n\r\n    Foo x = new Foo();\r\n    List&lt;Integer&gt; stuff = x.myNumbers();\r\n\r\nor alternatively shorthand:\r\n\r\n    List&lt;Integer&gt; stuff = new Foo().myNumbers();\r\n\r\nor if you make it static like so: \r\n\r\n    public static List&lt;Integer&gt; myNumbers()    {\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n    }\r\n\r\nyou can call it like so: \r\n\r\n    List&lt;Integer&gt; stuff = Foo.myNumbers();","title":"Java Returning method which returns arraylist?","body":"<p>You need to instantiate the class it is contained within, or make the method static.</p>\n\n<p>So if it is contained within class Foo:</p>\n\n<pre><code>Foo x = new Foo();\nList&lt;Integer&gt; stuff = x.myNumbers();\n</code></pre>\n\n<p>or alternatively shorthand:</p>\n\n<pre><code>List&lt;Integer&gt; stuff = new Foo().myNumbers();\n</code></pre>\n\n<p>or if you make it static like so: </p>\n\n<pre><code>public static List&lt;Integer&gt; myNumbers()    {\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n}\n</code></pre>\n\n<p>you can call it like so: </p>\n\n<pre><code>List&lt;Integer&gt; stuff = Foo.myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343368694,"creation_date":1343368694,"answer_id":11682235,"question_id":11682212,"body_markdown":"If Foo is the class enclose this method\r\n\r\n    class Foo{\r\n      public ArrayList&lt;Integer&gt; myNumbers()    {\r\n         //code code code\r\n      }\r\n    }\r\n\r\nthen\r\n\r\n    new Foo().myNumbers();\r\n","title":"Java Returning method which returns arraylist?","body":"<p>If Foo is the class enclose this method</p>\n\n<pre><code>class Foo{\n  public ArrayList&lt;Integer&gt; myNumbers()    {\n     //code code code\n  }\n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>new Foo().myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":2,"up_vote_count":26,"is_accepted":true,"score":24,"last_activity_date":1499340178,"creation_date":1343368707,"answer_id":11682238,"question_id":11682212,"body_markdown":"**1.** If that class from which you want to call this method, is in the same package, then create an instance of this class and call the method.\r\n\r\n**2.** Use `Composition`\r\n\r\n**3.** It would be better to have a `Generic ArrayList` like `ArrayList&lt;Integer&gt;` etc...\r\n\r\n**eg:**\r\n\r\n\r\n    public class Test{\r\n    \r\n    public ArrayList&lt;Integer&gt; myNumbers()    {\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n     }\r\n    }\r\n    \r\n    \r\n    public class T{\r\n    \r\n    \r\n    public static void main(String[] args){\r\n    \r\n       Test t = new Test();\r\n       ArrayList&lt;Integer&gt; arr = t.myNumbers();        // You can catch the returned integer arraylist into an arraylist.\r\n     }\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n      ","title":"Java Returning method which returns arraylist?","body":"<p><strong>1.</strong> If that class from which you want to call this method, is in the same package, then create an instance of this class and call the method.</p>\n\n<p><strong>2.</strong> Use <code>Composition</code></p>\n\n<p><strong>3.</strong> It would be better to have a <code>Generic ArrayList</code> like <code>ArrayList&lt;Integer&gt;</code> etc...</p>\n\n<p><strong>eg:</strong></p>\n\n<pre><code>public class Test{\n\npublic ArrayList&lt;Integer&gt; myNumbers()    {\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n }\n}\n\n\npublic class T{\n\n\npublic static void main(String[] args){\n\n   Test t = new Test();\n   ArrayList&lt;Integer&gt; arr = t.myNumbers();        // You can catch the returned integer arraylist into an arraylist.\n }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343368710,"creation_date":1343368710,"answer_id":11682239,"question_id":11682212,"body_markdown":"    MyClass obj = new MyClass();\r\n    ArrayList&lt;Integer&gt; numbers = obj.myNumbers();","title":"Java Returning method which returns arraylist?","body":"<pre><code>MyClass obj = new MyClass();\nArrayList&lt;Integer&gt; numbers = obj.myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343368741,"creation_date":1343368741,"answer_id":11682243,"question_id":11682212,"body_markdown":"You can use on another class\r\n\r\n    public ArrayList&lt;Integer&gt; myNumbers = new Foo().myNumbers();\r\n\r\nor \r\n\r\n    Foo myClass = new Foo();\r\n     public ArrayList&lt;Integer&gt; myNumbers = myclass.myNumbers();","title":"Java Returning method which returns arraylist?","body":"<p>You can use on another class</p>\n\n<pre><code>public ArrayList&lt;Integer&gt; myNumbers = new Foo().myNumbers();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>Foo myClass = new Foo();\n public ArrayList&lt;Integer&gt; myNumbers = myclass.myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1343368755,"creation_date":1343368755,"answer_id":11682248,"question_id":11682212,"body_markdown":"Assuming you have something like so:\r\n\r\n    public class MyFirstClass {\r\n       ...\r\n       public ArrayList&lt;Integer&gt; myNumbers()    {\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n       }\r\n       ...\r\n    }\r\n\r\nYou can call that method like so:\r\n\r\n    public class MySecondClass {\r\n        ...\r\n        MyFirstClass m1 = new MyFirstClass();\r\n        List&lt;Integer&gt; myList = m1.myNumbers();\r\n        ...\r\n    }\r\n\r\nSince the method you are trying to call is not *static*, you will have to create an instance of the class which provides this method. Once you create the instance, you will then have access to the method.\r\n\r\nNote, that in the code example above, I used this line: `List&lt;Integer&gt; myList = m1.myNumbers();`. This can be changed by the following: `ArrayList&lt;Integer&gt; myList = m1.myNumbers();`. However, it is usually recommended to program to an interface, and not to a concrete implementation, so my suggestion for the method you are using would be to do something like so:\r\n\r\n    public List&lt;Integer&gt; myNumbers()    {\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n       }\r\n\r\nThis will allow you to assign the contents of that list to whatever implements the `List` interface.","title":"Java Returning method which returns arraylist?","body":"<p>Assuming you have something like so:</p>\n\n<pre><code>public class MyFirstClass {\n   ...\n   public ArrayList&lt;Integer&gt; myNumbers()    {\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n   }\n   ...\n}\n</code></pre>\n\n<p>You can call that method like so:</p>\n\n<pre><code>public class MySecondClass {\n    ...\n    MyFirstClass m1 = new MyFirstClass();\n    List&lt;Integer&gt; myList = m1.myNumbers();\n    ...\n}\n</code></pre>\n\n<p>Since the method you are trying to call is not <em>static</em>, you will have to create an instance of the class which provides this method. Once you create the instance, you will then have access to the method.</p>\n\n<p>Note, that in the code example above, I used this line: <code>List&lt;Integer&gt; myList = m1.myNumbers();</code>. This can be changed by the following: <code>ArrayList&lt;Integer&gt; myList = m1.myNumbers();</code>. However, it is usually recommended to program to an interface, and not to a concrete implementation, so my suggestion for the method you are using would be to do something like so:</p>\n\n<pre><code>public List&lt;Integer&gt; myNumbers()    {\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n   }\n</code></pre>\n\n<p>This will allow you to assign the contents of that list to whatever implements the <code>List</code> interface.</p>\n"},{"tags":[],"owner":{"display_name":"user1464472"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343368787,"creation_date":1343368787,"answer_id":11682255,"question_id":11682212,"body_markdown":"    List&lt;Integer&gt; numbers = new TheClassName().myNumbers();\r\n\r\n","title":"Java Returning method which returns arraylist?","body":"<pre><code>List&lt;Integer&gt; numbers = new TheClassName().myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10327472,"reputation":3,"user_id":7618480,"display_name":"kyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492306753,"creation_date":1492306753,"answer_id":43432877,"question_id":11682212,"body_markdown":" Your method can be called and the arraylist can be stored like this\n\n    YourClassName class = new YourClassName();\n    Arraylist&lt;Integer&gt; numbers = class.numbers(); \nThis also allows the arraylist to be manipulated further in this class","title":"Java Returning method which returns arraylist?","body":"<p>Your method can be called and the arraylist can be stored like this</p>\n\n<pre><code>YourClassName class = new YourClassName();\nArraylist&lt;Integer&gt; numbers = class.numbers(); \n</code></pre>\n\n<p>This also allows the arraylist to be manipulated further in this class</p>\n"},{"tags":[],"owner":{"account_id":24033285,"reputation":1,"user_id":18013851,"display_name":"Aritn faghanzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653631037,"creation_date":1653122543,"answer_id":72327965,"question_id":11682212,"body_markdown":"you can also create method like prime_f and then call ArrayList like:\r\n\r\n       public static ArrayList&lt;Integer&gt; prime_f(int number) {\r\n\t   ArrayList&lt;Integer&gt; counter = new ArrayList&lt;Integer&gt;();\r\n\t   for (int i = 2;i &lt; number;i++) {\r\n\t\t   while(number%i == 0) {\r\n\t\t\t   counter.add(i);\r\n\t\t\t   number = number/i;\r\n\t\t   }\r\n\t   }\r\n\t   if (number &gt; 2) {\r\n\t\t   counter.add(number);\r\n\t   }\r\n\t   return counter;\r\n    }","title":"Java Returning method which returns arraylist?","body":"<p>you can also create method like prime_f and then call ArrayList like:</p>\n<pre><code>   public static ArrayList&lt;Integer&gt; prime_f(int number) {\n   ArrayList&lt;Integer&gt; counter = new ArrayList&lt;Integer&gt;();\n   for (int i = 2;i &lt; number;i++) {\n       while(number%i == 0) {\n           counter.add(i);\n           number = number/i;\n       }\n   }\n   if (number &gt; 2) {\n       counter.add(number);\n   }\n   return counter;\n}\n</code></pre>\n"}],"owner":{"account_id":1685240,"reputation":2857,"user_id":1548689,"accept_rate":67,"display_name":"Nikhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358713,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":11682238,"answer_count":9,"score":19,"last_activity_date":1653631037,"creation_date":1343368538,"question_id":11682212,"body_markdown":"I have one class with a method like this:\r\n\r\n    public ArrayList&lt;Integer&gt; myNumbers()    {\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n    }\r\n\r\nhow can i call this method inside another class?","title":"Java Returning method which returns arraylist?","body":"<p>I have one class with a method like this:</p>\n\n<pre><code>public ArrayList&lt;Integer&gt; myNumbers()    {\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n}\n</code></pre>\n\n<p>how can i call this method inside another class?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653630663,"post_id":72400924,"comment_id":127901866,"body_markdown":"what is the actual problem you are facing?","body":"what is the actual problem you are facing?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653630877,"post_id":72400924,"comment_id":127901901,"body_markdown":"When I hit the endpoint (/placeinDB), I do not have the resources to playwith. I need the entryList , dates to write to DB","body":"When I hit the endpoint (/placeinDB), I do not have the resources to playwith. I need the entryList , dates to write to DB"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653631785,"post_id":72400924,"comment_id":127902087,"body_markdown":"do you understand how scopes work in Java? Either you call that method from your placeInDB method, or you add that data in your model, or you don&#39;t have that data.","body":"do you understand how scopes work in Java? Either you call that method from your placeInDB method, or you add that data in your model, or you don&#39;t have that data."},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653633863,"post_id":72400924,"comment_id":127902541,"body_markdown":"yeah, so point is, is there any way to add to the model in the global scope? Currently I am adding within another method","body":"yeah, so point is, is there any way to add to the model in the global scope? Currently I am adding within another method"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653634002,"post_id":72400924,"comment_id":127902582,"body_markdown":"this is your code we are talking about. You should know all of that. Also, what do you mean: &quot;global scope&quot;?","body":"this is your code we are talking about. You should know all of that. Also, what do you mean: &quot;global scope&quot;?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653634344,"post_id":72400924,"comment_id":127902676,"body_markdown":"I mean in a way, where it is accessible for all functions","body":"I mean in a way, where it is accessible for all functions"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653634398,"post_id":72400924,"comment_id":127902691,"body_markdown":"a separate function,which would have all the details which I need while going hitting the endpoint(/placeinDB)","body":"a separate function,which would have all the details which I need while going hitting the endpoint(/placeinDB)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653634726,"post_id":72400924,"comment_id":127902771,"body_markdown":"you already have a &quot;separate method that has all the information&quot;, you need to call it, though. no, there isn&#39;t immediately a way to set this so it is available for all methods, since then you would create a statefull controller, which you shouldn&#39;t do. But, again: why don&#39;t you call that method from where you want that information?","body":"you already have a &quot;separate method that has all the information&quot;, you need to call it, though. no, there isn&#39;t immediately a way to set this so it is available for all methods, since then you would create a statefull controller, which you shouldn&#39;t do. But, again: why don&#39;t you call that method from where you want that information?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653634956,"post_id":72400924,"comment_id":127902827,"body_markdown":"That separate method you are referring to does a lot of validation already, and in the placeinDB, I do not want to repeat the whole procedure again. if I do it again, its just repeating the same functionalities and not optimal","body":"That separate method you are referring to does a lot of validation already, and in the placeinDB, I do not want to repeat the whole procedure again. if I do it again, its just repeating the same functionalities and not optimal"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653635003,"post_id":72400924,"comment_id":127902842,"body_markdown":"You are referring to the method inside (/showForm) i beliebve","body":"You are referring to the method inside (/showForm) i beliebve"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653635175,"post_id":72400924,"comment_id":127902902,"body_markdown":"no I am not. and I don&#39;t see any validation in your placeinDB method, or in the method I am referring to. You stated that the information you need is in the method above placeinDB, which is not showForm, but prepareConfiguration","body":"no I am not. and I don&#39;t see any validation in your placeinDB method, or in the method I am referring to. You stated that the information you need is in the method above placeinDB, which is not showForm, but prepareConfiguration"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653635440,"post_id":72400924,"comment_id":127902981,"body_markdown":"Alright, sorry for the gap. I mean  the showForm","body":"Alright, sorry for the gap. I mean  the showForm"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653635954,"post_id":72400924,"comment_id":127903128,"body_markdown":"in showForm you call prepareConfiguration. What is stopping you from doing the same from placeinDB? just make sure you have the right parameters to call it.","body":"in showForm you call prepareConfiguration. What is stopping you from doing the same from placeinDB? just make sure you have the right parameters to call it."},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653636237,"post_id":72400924,"comment_id":127903195,"body_markdown":"The workflow:  1) I enter the dates 2) Click on a button ( which hits the showForm endpoint). There is a lot of validation going on within. (Ofcourse not all are shown here). 3) If there are any errors, the errors are shown in the text area and the &quot;import&quot; button is disabled. 4) if there are no errors, then the &quot;import&quot; is active and onclick the entryList can be imported to DB","body":"The workflow:  1) I enter the dates 2) Click on a button ( which hits the showForm endpoint). There is a lot of validation going on within. (Ofcourse not all are shown here). 3) If there are any errors, the errors are shown in the text area and the &quot;import&quot; button is disabled. 4) if there are no errors, then the &quot;import&quot; is active and onclick the entryList can be imported to DB"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653636267,"post_id":72400924,"comment_id":127903202,"body_markdown":"currently, If I create the same code again, repeating the validation again would occur.","body":"currently, If I create the same code again, repeating the validation again would occur."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653636672,"post_id":72400924,"comment_id":127903332,"body_markdown":"... no, it would not, unless you put it in there. Do you understand the concept of reusing common code?","body":"... no, it would not, unless you put it in there. Do you understand the concept of reusing common code?"},{"owner":{"account_id":19332677,"reputation":302,"user_id":14133911,"display_name":"Rafael da Silva"},"score":0,"creation_date":1653658089,"post_id":72400924,"comment_id":127910579,"body_markdown":"why not just put a button to store in the database?\nexample, a &#39;save&#39; button, which when clicked, the data will be validated, if everything is ok, the save is effective, else, it returns the errors to the page.","body":"why not just put a button to store in the database? example, a &#39;save&#39; button, which when clicked, the data will be validated, if everything is ok, the save is effective, else, it returns the errors to the page."}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653631033,"creation_date":1653630051,"question_id":72400924,"body_markdown":"I am working on a springboot+thymeleaf project. I have a page(form) which accepts user data (startdate and enddate),and a button(Check). On click of the button, backend does some validation. If there are errors, I print the errors on the textarea within the same page (below the check button). If there are no errors, then I activate another button below the textarea, to signify that the entries between the mentioned dates are ready to be stored in the database.\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;\r\n\txmlns:sec=&quot;https://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;div th:fragment=&quot;contentinput&quot;&gt;\r\n\t\t&lt;div class=&quot;container-md&quot;&gt;\r\n\t\t\t&lt;a&gt;Import Worklogs&lt;/a&gt;\r\n\t\t\t&lt;div class=&quot;row justify-content-md-end&quot;&gt;\r\n\t\t\t\t&lt;form modelAttribute = &quot;userData&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtFrom&quot;\r\n\t\t\t\t\t\t\t\tplaceholder=&quot;start date(yyyy-mm-dd)&quot; name=&quot;dateFrom&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtTo&quot;\r\n\t\t\t\t\t\t\t\tplaceholder=&quot;end date(yyyy-mm-dd)&quot; name=&quot;dateTo&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;div&gt;\r\n\t\t\t\t\t\t&lt;br&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;row-2&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;submit&quot; class=&quot;btn btn-primary btn-sml&quot;\r\n\t\t\t\t\t\t\t\tvalue=&quot;check&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/form&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;div th:fragment=&quot;contentresult&quot;&gt;\r\n\t\t&lt;div class=&quot;container-md&quot;&gt;\r\n\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\r\n\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t&lt;label style=&quot;color: black; font-weight: bold;&quot;&gt;Issues: &lt;/label&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;br&gt;\r\n\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t&lt;label for=&quot;Feedback&quot;\r\n\t\t\t\t\t\tth:text=&quot;&#39;checking entries between &#39;+ ${dateFrom}+&#39; and &#39;+ ${dateTo}&quot;&gt;&lt;/label&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div&gt;\r\n\t\t\t\t\t&lt;textarea id=&quot;feedbackSection&quot; name=&quot;story&quot; cols=&quot;100&quot; rows=&quot;10&quot;\r\n\t\t\t\t\t\tth:text=&quot;${styledErrors}&quot;&gt;\t\r\n\t\t\t\t\t\t&lt;/textarea&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;div&gt;\r\n\t\t\t\t&lt;label th:if=&quot;${containsErrors}&quot; style=&quot;color: green;&quot;&gt; There are\r\n\t\t\t\t\tno issues. The entries can be imported&lt;/label&gt; \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t&lt;label\r\n\t\t\t\t\tth:unless=&quot;${containsErrors}&quot; style=&quot;color: red;&quot;&gt; There are\r\n\t\t\t\t\tissues! Read the above for details&lt;/label&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;br&gt;\r\n\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;row-2&quot;&gt;\r\n\t\t\t\t\t&lt;a th:if=&quot;${containsErrors}&quot; type=&quot;button&quot; th:attr=&quot;href=&#39;/importToDb&#39;&quot; \r\n\t\t\t\t\t\tclass=&quot;btn btn-primary btn-sml&quot;&gt;Import&lt;/a&gt; \r\n\t\t\t\t\t&lt;input th:unless=&quot;${containsErrors}&quot; type=&quot;button&quot; disabled=&quot;disabled&quot;\r\n\t\t\t\t\t\tvalue=&quot;Import&quot;&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\n\t&lt;div th:fragment=&quot;contentmessage&quot;&gt;\r\n\t\t&lt;div class=&quot;container-md&quot;&gt;\r\n\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t&lt;label style=&quot;color: green; font-weight: bold;&quot;\r\n\t\t\t\t\tth:text=&quot;&#39;Entries between &#39;+ ${dateFrom}+&#39; and &#39;+ ${dateTo}+&#39; are stored on the database&#39;&quot;&gt;&lt;/label&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nI have run into a problem in my controller application for the import button. When I click on the import, I want to utilise the features that were used while clicking the button (check)\r\n\r\n```\r\n @GetMapping(&quot;/showform&quot;)\r\n  public String showForm(@RequestParam(value = &quot;dateFrom&quot;, required = false) String dateFrom,\r\n      @RequestParam(value = &quot;dateTo&quot;, required = false) String dateTo, Model model)\r\n      throws IOException, JSONException, InterruptedException, ExecutionException,\r\n      NumberFormatException, SQLException {\r\n    if (dateFrom != null &amp;&amp; dateTo != null &amp;&amp; !dateFrom.isBlank() &amp;&amp; !dateTo.isBlank()) {\r\n      logger.info(&quot;inside the datefrom dateto&quot;);  \r\n      CheckManager wm = prepareConfiguration(dateFrom, dateTo);\r\n      model.addAttribute(&quot;containsErrors&quot;, wm.getErrors().isEmpty());\r\n      model.addAttribute(&quot;styledErros&quot;, wm.getFormattedErrors(wm.getErrors()));\r\n      model.addAttribute(&quot;dateFrom&quot;, dateFrom);\r\n      model.addAttribute(&quot;dateTo&quot;, dateTo);\r\n      return &quot;showform-errors&quot;; //shows the fragment with contentinput and contentResult\r\n    } else {\r\n      logger.info(&quot;inside the validationform&quot;);\r\n      return &quot;showform&quot;; //only contentinput( having 2 textboxes for dates and a button)\r\n    }\r\n  }\r\n\r\n  private CheckManager prepareConfiguration(String dateFrom, String dateTo)\r\n      throws IOException, JSONException, InterruptedException, ExecutionException,\r\n      NumberFormatException, SQLException {\r\n    LocalDate from = LocalDate.parse(dateFrom, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\r\n    LocalDate to = LocalDate.parse(dateTo, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\r\n\r\n\r\n    Request req = new Request(&quot;username&quot;, &quot;password&quot;);\r\n    List&lt;Entry&gt; entrylist = req.getEntryList(from,to); \r\n    // I want this info entrylist to be used  globally\r\n\r\n    return new CheckManager(entryList,from,to);\r\n  }\r\n  \r\n  @GetMapping(&quot;/placeinDB&quot;)\r\n  public String placeInDb(Model model) {\r\n    logger.info(&quot;Inside the db import&quot;);\r\n   //HERE I WOULD LIKE TO USE THE DATES AND THE LIST I HAD IN THE ABOVE RETURN STATEMENT\r\n   }\r\n```\r\nProblem: When I hit the endpoint(/placeinDB) I do not have the resources like entryList, datefrom, dateTo to perform some modifications. \r\nI am hoping there is some spring annotation that could help me here. Please let me know. ","title":"Spring annotation for a global scope of function variables?","body":"<p>I am working on a springboot+thymeleaf project. I have a page(form) which accepts user data (startdate and enddate),and a button(Check). On click of the button, backend does some validation. If there are errors, I print the errors on the textarea within the same page (below the check button). If there are no errors, then I activate another button below the textarea, to signify that the entries between the mentioned dates are ready to be stored in the database.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;\n    xmlns:sec=&quot;https://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\n\n&lt;body&gt;\n    &lt;div th:fragment=&quot;contentinput&quot;&gt;\n        &lt;div class=&quot;container-md&quot;&gt;\n            &lt;a&gt;Import Worklogs&lt;/a&gt;\n            &lt;div class=&quot;row justify-content-md-end&quot;&gt;\n                &lt;form modelAttribute = &quot;userData&quot;&gt;\n                    &lt;div class=&quot;row&quot;&gt;\n                        &lt;div class=&quot;col-2&quot;&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtFrom&quot;\n                                placeholder=&quot;start date(yyyy-mm-dd)&quot; name=&quot;dateFrom&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;col-2&quot;&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtTo&quot;\n                                placeholder=&quot;end date(yyyy-mm-dd)&quot; name=&quot;dateTo&quot;&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div&gt;\n                        &lt;br&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;row&quot;&gt;\n                        &lt;div class=&quot;row-2&quot;&gt;\n                            &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary btn-sml&quot;\n                                value=&quot;check&quot;&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div th:fragment=&quot;contentresult&quot;&gt;\n        &lt;div class=&quot;container-md&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;label style=&quot;color: black; font-weight: bold;&quot;&gt;Issues: &lt;/label&gt;\n                &lt;/div&gt;\n                &lt;br&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;label for=&quot;Feedback&quot;\n                        th:text=&quot;'checking entries between '+ ${dateFrom}+' and '+ ${dateTo}&quot;&gt;&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div&gt;\n                    &lt;textarea id=&quot;feedbackSection&quot; name=&quot;story&quot; cols=&quot;100&quot; rows=&quot;10&quot;\n                        th:text=&quot;${styledErrors}&quot;&gt;  \n                        &lt;/textarea&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;label th:if=&quot;${containsErrors}&quot; style=&quot;color: green;&quot;&gt; There are\n                    no issues. The entries can be imported&lt;/label&gt; \n                                \n                &lt;label\n                    th:unless=&quot;${containsErrors}&quot; style=&quot;color: red;&quot;&gt; There are\n                    issues! Read the above for details&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;br&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;row-2&quot;&gt;\n                    &lt;a th:if=&quot;${containsErrors}&quot; type=&quot;button&quot; th:attr=&quot;href='/importToDb'&quot; \n                        class=&quot;btn btn-primary btn-sml&quot;&gt;Import&lt;/a&gt; \n                    &lt;input th:unless=&quot;${containsErrors}&quot; type=&quot;button&quot; disabled=&quot;disabled&quot;\n                        value=&quot;Import&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div th:fragment=&quot;contentmessage&quot;&gt;\n        &lt;div class=&quot;container-md&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;label style=&quot;color: green; font-weight: bold;&quot;\n                    th:text=&quot;'Entries between '+ ${dateFrom}+' and '+ ${dateTo}+' are stored on the database'&quot;&gt;&lt;/label&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I have run into a problem in my controller application for the import button. When I click on the import, I want to utilise the features that were used while clicking the button (check)</p>\n<pre><code> @GetMapping(&quot;/showform&quot;)\n  public String showForm(@RequestParam(value = &quot;dateFrom&quot;, required = false) String dateFrom,\n      @RequestParam(value = &quot;dateTo&quot;, required = false) String dateTo, Model model)\n      throws IOException, JSONException, InterruptedException, ExecutionException,\n      NumberFormatException, SQLException {\n    if (dateFrom != null &amp;&amp; dateTo != null &amp;&amp; !dateFrom.isBlank() &amp;&amp; !dateTo.isBlank()) {\n      logger.info(&quot;inside the datefrom dateto&quot;);  \n      CheckManager wm = prepareConfiguration(dateFrom, dateTo);\n      model.addAttribute(&quot;containsErrors&quot;, wm.getErrors().isEmpty());\n      model.addAttribute(&quot;styledErros&quot;, wm.getFormattedErrors(wm.getErrors()));\n      model.addAttribute(&quot;dateFrom&quot;, dateFrom);\n      model.addAttribute(&quot;dateTo&quot;, dateTo);\n      return &quot;showform-errors&quot;; //shows the fragment with contentinput and contentResult\n    } else {\n      logger.info(&quot;inside the validationform&quot;);\n      return &quot;showform&quot;; //only contentinput( having 2 textboxes for dates and a button)\n    }\n  }\n\n  private CheckManager prepareConfiguration(String dateFrom, String dateTo)\n      throws IOException, JSONException, InterruptedException, ExecutionException,\n      NumberFormatException, SQLException {\n    LocalDate from = LocalDate.parse(dateFrom, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\n    LocalDate to = LocalDate.parse(dateTo, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\n\n\n    Request req = new Request(&quot;username&quot;, &quot;password&quot;);\n    List&lt;Entry&gt; entrylist = req.getEntryList(from,to); \n    // I want this info entrylist to be used  globally\n\n    return new CheckManager(entryList,from,to);\n  }\n  \n  @GetMapping(&quot;/placeinDB&quot;)\n  public String placeInDb(Model model) {\n    logger.info(&quot;Inside the db import&quot;);\n   //HERE I WOULD LIKE TO USE THE DATES AND THE LIST I HAD IN THE ABOVE RETURN STATEMENT\n   }\n</code></pre>\n<p>Problem: When I hit the endpoint(/placeinDB) I do not have the resources like entryList, datefrom, dateTo to perform some modifications.\nI am hoping there is some spring annotation that could help me here. Please let me know.</p>\n"},{"tags":["java","html","mysql","jsp","consolidation"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653631730,"post_id":72400956,"comment_id":127902076,"body_markdown":"Why wouldn&#39;t you just calculate those on the fly? You need two queries, one to return the overview results and one for the &quot;click me&quot; logic.","body":"Why wouldn&#39;t you just calculate those on the fly? You need two queries, one to return the overview results and one for the &quot;click me&quot; logic."},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":1,"creation_date":1653632681,"post_id":72400956,"comment_id":127902282,"body_markdown":"It&#39;s usually best to do data aggregation like this on the database rather than in Java whenever possible.","body":"It&#39;s usually best to do data aggregation like this on the database rather than in Java whenever possible."},{"owner":{"account_id":21851008,"reputation":1,"user_id":16143084,"display_name":"Khai Zhan YUONG"},"score":0,"creation_date":1653644163,"post_id":72400956,"comment_id":127905784,"body_markdown":"Hi @Kayaman, thanks for your reply, currently I&#39;m using two queries for the overview and the breakdowns. Should I pass the breakdowns result together when retrieving the overview result? Or I should wait user click on the &quot;Click Me&quot; and then we only execute the second query to retrieve the breakdowns?","body":"Hi @Kayaman, thanks for your reply, currently I&#39;m using two queries for the overview and the breakdowns. Should I pass the breakdowns result together when retrieving the overview result? Or I should wait user click on the &quot;Click Me&quot; and then we only execute the second query to retrieve the breakdowns?"},{"owner":{"account_id":21851008,"reputation":1,"user_id":16143084,"display_name":"Khai Zhan YUONG"},"score":0,"creation_date":1653644301,"post_id":72400956,"comment_id":127905835,"body_markdown":"Hi @QuentinC, Thanks for your reply. Now I&#39;m doing the data aggregation on the database level. I think it is quite efficient to aggregate on database if there is a lot of records included. :D","body":"Hi @QuentinC, Thanks for your reply. Now I&#39;m doing the data aggregation on the database level. I think it is quite efficient to aggregate on database if there is a lot of records included. :D"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653648271,"post_id":72400956,"comment_id":127907112,"body_markdown":"Why wouldn&#39;t you wait for the user to click on &quot;click me&quot;? What if the data changes? Are you going to return stale data?","body":"Why wouldn&#39;t you wait for the user to click on &quot;click me&quot;? What if the data changes? Are you going to return stale data?"},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1653654222,"post_id":72400956,"comment_id":127909037,"body_markdown":"I think it is quite efficient to aggregate on database if\nthere is a lot of records included. ==&gt; If you find it slow, you can store the total for the whole order when you create/update it. Caching data can be interesting as soon as you read a lot more frequently than you update it.","body":"I think it is quite efficient to aggregate on database if there is a lot of records included. ==&gt; If you find it slow, you can store the total for the whole order when you create/update it. Caching data can be interesting as soon as you read a lot more frequently than you update it."}],"owner":{"account_id":21851008,"reputation":1,"user_id":16143084,"display_name":"Khai Zhan YUONG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653630559,"creation_date":1653630341,"question_id":72400956,"body_markdown":"\r\nI have a following scenario and would like to seek for advices/recommendation about the best solution to implement it.\r\n\r\nAssuming I have following data in the DB:\r\n\r\n| OrderID | CustomerID | OrderDate | Prices |\r\n| --------| --------| ---------- | ------|\r\n| 1| CustomerA | 15-Jan-2022 | 30 |\r\n| 2| CustomerA | 15-Jan-2022 | 20 |\r\n| 3| CustomerB | 15-Jan-2022 | 13 |\r\n| 1| CustomerB | 16-Jan-2022 | 15 |\r\n\r\nAnd would like to display following table on webpage:\r\n\r\n| CustomerID | OrderDate | TotalPrices | Breakdown |\r\n| --------| ------ | -----------|----------------|\r\n| CustomerA | 15-Jan-2022 | 50 | Click me |\r\n| CustomerB | 15-Jan-2022 | 13 | Click me |\r\n| CustomerB | 16-Jan-2022 | 15 | Click me |\r\n\r\nWhen user click on the &quot;Click me&quot; for customerA on 15-Jan-2022, it will shows following:\r\n\r\n| OrderID | CustomerID | OrderDate | Prices |\r\n| --------| -------- | ----------- | ------ |\r\n| 1| CustomerA | 15-Jan-2022 | 30 |\r\n| 2| CustomerA | 15-Jan-2022 | 20 |\r\n\r\nThe current possible solutions in my mind are following:\r\n\r\n1) User SQL consolidate to DB -&gt; Return the summary table to Java API -&gt; Send the summary table to Frontend -&gt; When user click on the &quot;Click Me&quot; button, will have another SQL call to retrieve the breakdown records.\r\n\r\n2) Retrieve the DB records -&gt; Consolidate in Java API -&gt; Send the summary table and breakdowns to frontend.\r\n\r\nFeel free to suggest for more ideas on this, thanks!","title":"What is the best practices for consolidating the DB record and send to frontend?","body":"<p>I have a following scenario and would like to seek for advices/recommendation about the best solution to implement it.</p>\n<p>Assuming I have following data in the DB:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>OrderID</th>\n<th>CustomerID</th>\n<th>OrderDate</th>\n<th>Prices</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>30</td>\n</tr>\n<tr>\n<td>2</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>20</td>\n</tr>\n<tr>\n<td>3</td>\n<td>CustomerB</td>\n<td>15-Jan-2022</td>\n<td>13</td>\n</tr>\n<tr>\n<td>1</td>\n<td>CustomerB</td>\n<td>16-Jan-2022</td>\n<td>15</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And would like to display following table on webpage:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>CustomerID</th>\n<th>OrderDate</th>\n<th>TotalPrices</th>\n<th>Breakdown</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>50</td>\n<td>Click me</td>\n</tr>\n<tr>\n<td>CustomerB</td>\n<td>15-Jan-2022</td>\n<td>13</td>\n<td>Click me</td>\n</tr>\n<tr>\n<td>CustomerB</td>\n<td>16-Jan-2022</td>\n<td>15</td>\n<td>Click me</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>When user click on the &quot;Click me&quot; for customerA on 15-Jan-2022, it will shows following:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>OrderID</th>\n<th>CustomerID</th>\n<th>OrderDate</th>\n<th>Prices</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>30</td>\n</tr>\n<tr>\n<td>2</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>20</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The current possible solutions in my mind are following:</p>\n<ol>\n<li><p>User SQL consolidate to DB -&gt; Return the summary table to Java API -&gt; Send the summary table to Frontend -&gt; When user click on the &quot;Click Me&quot; button, will have another SQL call to retrieve the breakdown records.</p>\n</li>\n<li><p>Retrieve the DB records -&gt; Consolidate in Java API -&gt; Send the summary table and breakdowns to frontend.</p>\n</li>\n</ol>\n<p>Feel free to suggest for more ideas on this, thanks!</p>\n"},{"tags":["java","swing","jtextarea","jtextpane"],"answers":[{"tags":[],"owner":{"account_id":3135078,"reputation":1516,"user_id":2754695,"accept_rate":62,"display_name":"Constantin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439238682,"creation_date":1439237975,"answer_id":31928409,"question_id":31928306,"body_markdown":"    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.Style;\r\n    import javax.swing.text.StyleConstants;\r\n    import javax.swing.text.StyledDocument;\r\n    \r\n    public class Example {\r\n    \r\n    \tpublic Example() {\r\n    \r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tJTextPane pane = new JTextPane();;\r\n    \t\tJButton button = new JButton(&quot;Button&quot;);\r\n     \t\t\r\n    \t\taddColoredText(pane, &quot;Red Text\\n&quot;, Color.RED);\r\n    \t\taddColoredText(pane, &quot;Blue Text\\n&quot;, Color.BLUE);\r\n    \t\t\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tpane.setPreferredSize(new Dimension(200, 200));\r\n    \t\tframe.getContentPane().add(pane, BorderLayout.CENTER);\r\n    \t\tframe.getContentPane().add(button, BorderLayout.WEST);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Example();\r\n    \t}\r\n    \t\r\n    \tpublic void addColoredText(JTextPane pane, String text, Color color) {\r\n            StyledDocument doc = pane.getStyledDocument();\r\n    \r\n            Style style = pane.addStyle(&quot;Color Style&quot;, null);\r\n            StyleConstants.setForeground(style, color);\r\n            try {\r\n    \t\t\tdoc.insertString(doc.getLength(), text, style);\r\n    \t\t} \r\n            catch (BadLocationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \t\t\t\r\n    \t}\r\n    }\r\n\r\nTry this example\r\n\r\n","title":"How to create and use a JTextPane","body":"<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JTextPane;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Style;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyledDocument;\n\npublic class Example {\n\n    public Example() {\n\n        JFrame frame = new JFrame();\n        JTextPane pane = new JTextPane();;\n        JButton button = new JButton(\"Button\");\n\n        addColoredText(pane, \"Red Text\\n\", Color.RED);\n        addColoredText(pane, \"Blue Text\\n\", Color.BLUE);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pane.setPreferredSize(new Dimension(200, 200));\n        frame.getContentPane().add(pane, BorderLayout.CENTER);\n        frame.getContentPane().add(button, BorderLayout.WEST);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Example();\n    }\n\n    public void addColoredText(JTextPane pane, String text, Color color) {\n        StyledDocument doc = pane.getStyledDocument();\n\n        Style style = pane.addStyle(\"Color Style\", null);\n        StyleConstants.setForeground(style, color);\n        try {\n            doc.insertString(doc.getLength(), text, style);\n        } \n        catch (BadLocationException e) {\n            e.printStackTrace();\n        }           \n    }\n}\n</code></pre>\n\n<p>Try this example</p>\n"},{"tags":[],"owner":{"account_id":6516652,"reputation":29,"user_id":5042256,"display_name":"Pilotito_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439249269,"creation_date":1439238105,"answer_id":31928435,"question_id":31928306,"body_markdown":"I would recommend you to check out JavaFX, it has a much nicer UI. \r\nHowever, you are already using JPanel and JButton. You could use a JLabel to display the desired text, and use `JLabel.setTextFill(Color.WHITESMOKE)` to set the color of the text. ","title":"How to create and use a JTextPane","body":"<p>I would recommend you to check out JavaFX, it has a much nicer UI. \nHowever, you are already using JPanel and JButton. You could use a JLabel to display the desired text, and use <code>JLabel.setTextFill(Color.WHITESMOKE)</code> to set the color of the text. </p>\n"},{"tags":[],"owner":{"account_id":5730202,"reputation":1185,"user_id":4525976,"display_name":"Theo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439240118,"creation_date":1439240118,"answer_id":31928986,"question_id":31928306,"body_markdown":"This is a better start:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    import java.awt.*;\r\n \r\n    public class test  {\r\n    \r\n        public test() throws BadLocationException {\r\n    \r\n            JFrame frame = new JFrame();\r\n            DefaultStyledDocument document = new DefaultStyledDocument();\r\n            JTextPane pane = new JTextPane(document);\r\n            JPanel mainPanel = new JPanel();\r\n            JButton button = new JButton(&quot;Button&quot;);\r\n            button.setPreferredSize(new Dimension(100, 40));\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            pane.setPreferredSize(new Dimension(200, 200));\r\n            mainPanel.add(button);\r\n            frame.getContentPane().add(pane, BorderLayout.CENTER);\r\n            frame.getContentPane().add(mainPanel, BorderLayout.WEST);\r\n            StyleContext context = new StyleContext();\r\n            // build a style\r\n            Style style = context.addStyle(&quot;test&quot;, null);\r\n            // set some style properties\r\n            StyleConstants.setForeground(style, Color.BLACK);\r\n            document.insertString(0, &quot;Four: success \\n&quot;, style);\r\n            StyleConstants.setForeground(style, Color.RED);\r\n            document.insertString(0, &quot;Three: error \\n&quot;, style);\r\n            document.insertString(0, &quot;Two: error \\n&quot;, style);\r\n        \r\n            StyleConstants.setForeground(style, Color.BLACK);\r\n            // add some data to the document\r\n            document.insertString(0, &quot;One: success \\n&quot;, style);\r\n    \r\n    \r\n            //  StyleConstants.setForeground(style, Color.blue);\r\n    \r\n            frame.pack();\r\n            frame.setVisible(true);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws BadLocationException {\r\n            new test();\r\n        }\r\n    }\r\n\r\nIt is quite basic, but should get you started. You can create different methods when you have to add text and cascade through the colours.","title":"How to create and use a JTextPane","body":"<p>This is a better start:</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.text.*;\nimport java.awt.*;\n\npublic class test  {\n\n    public test() throws BadLocationException {\n\n        JFrame frame = new JFrame();\n        DefaultStyledDocument document = new DefaultStyledDocument();\n        JTextPane pane = new JTextPane(document);\n        JPanel mainPanel = new JPanel();\n        JButton button = new JButton(\"Button\");\n        button.setPreferredSize(new Dimension(100, 40));\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pane.setPreferredSize(new Dimension(200, 200));\n        mainPanel.add(button);\n        frame.getContentPane().add(pane, BorderLayout.CENTER);\n        frame.getContentPane().add(mainPanel, BorderLayout.WEST);\n        StyleContext context = new StyleContext();\n        // build a style\n        Style style = context.addStyle(\"test\", null);\n        // set some style properties\n        StyleConstants.setForeground(style, Color.BLACK);\n        document.insertString(0, \"Four: success \\n\", style);\n        StyleConstants.setForeground(style, Color.RED);\n        document.insertString(0, \"Three: error \\n\", style);\n        document.insertString(0, \"Two: error \\n\", style);\n\n        StyleConstants.setForeground(style, Color.BLACK);\n        // add some data to the document\n        document.insertString(0, \"One: success \\n\", style);\n\n\n        //  StyleConstants.setForeground(style, Color.blue);\n\n        frame.pack();\n        frame.setVisible(true);\n\n    }\n\n    public static void main(String[] args) throws BadLocationException {\n        new test();\n    }\n}\n</code></pre>\n\n<p>It is quite basic, but should get you started. You can create different methods when you have to add text and cascade through the colours.</p>\n"},{"tags":[],"owner":{"account_id":25402561,"reputation":1,"user_id":19211773,"display_name":"Jing Qing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653630271,"creation_date":1653630271,"answer_id":72400946,"question_id":31928306,"body_markdown":"JTextPane disappears because adding multiple components to the same area will overwrite the new ones added later. So you need to add them to different areas.\r\n```java\r\nframe.add(pane);\r\nframe.add(button,BorderLayout.SOUTH);\r\n```\r\nLike this. I would recommend you to check out layout.","title":"How to create and use a JTextPane","body":"<p>JTextPane disappears because adding multiple components to the same area will overwrite the new ones added later. So you need to add them to different areas.</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.add(pane);\nframe.add(button,BorderLayout.SOUTH);\n</code></pre>\n<p>Like this. I would recommend you to check out layout.</p>\n"}],"owner":{"display_name":"user3808470"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16038,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31928409,"answer_count":4,"score":1,"last_activity_date":1653630271,"creation_date":1439237564,"question_id":31928306,"body_markdown":"I would like to create a program in Java that it is done this way:\n[![What I want][1]][1]\n\nA window containing a button and a component (JTextArea, JTextPane, etc.) that can&#39;t be modified in which appear some strings based on the execution of some work.\nAs seen from the drawing, if the job is successful the text will be black, if there were errors will be marked red.\n\nI managed to do everything correctly using a JTextArea and a JButton but I found that you can&#39;t change the color of the strings line by line.\n\nI read that should use a JTextPane but I haven&#39;t been able to use it.\nHere&#39;s the code I wrote:\n\n    public class Example {\n    \n       public Example() {\n            JFrame frame = new JFrame();\n            JTextPane pane = new JTextPane();\n            JButton button = new JButton(&quot;Button&quot;);\n        \n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            pane.setPreferredSize(new Dimension(200, 200));\n            frame.add(pane);\n            frame.add(button);\n            frame.pack();\n            frame.setVisible(true);\n        }\n\n        public static void main(String[] args) {\n            new Example();\n        }\n    }\n\nWhen I run the program, this is what is created:\n\n[![enter image description here][2]][2]\n\nWhere the TextPane?\n\nAlso, before I added the text in JTextArea using append(), I haven&#39;t found a similar method to the JTextPane there? How do you use it?\nHow do I change the color of a single line?\n\nI have read and seen and tried various examples found on the internet but I could not finish anything...\nThere are worked examples similar to this?\n\nI apologize for the &quot;generic&quot; request...\n\nThanks\n\n  [1]: http://i.stack.imgur.com/qRpY5.png\n  [2]: http://i.stack.imgur.com/6IBzx.png","title":"How to create and use a JTextPane","body":"<p>I would like to create a program in Java that it is done this way:\n<a href=\"https://i.stack.imgur.com/qRpY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qRpY5.png\" alt=\"What I want\" /></a></p>\n<p>A window containing a button and a component (JTextArea, JTextPane, etc.) that can't be modified in which appear some strings based on the execution of some work.\nAs seen from the drawing, if the job is successful the text will be black, if there were errors will be marked red.</p>\n<p>I managed to do everything correctly using a JTextArea and a JButton but I found that you can't change the color of the strings line by line.</p>\n<p>I read that should use a JTextPane but I haven't been able to use it.\nHere's the code I wrote:</p>\n<pre><code>public class Example {\n\n   public Example() {\n        JFrame frame = new JFrame();\n        JTextPane pane = new JTextPane();\n        JButton button = new JButton(&quot;Button&quot;);\n    \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pane.setPreferredSize(new Dimension(200, 200));\n        frame.add(pane);\n        frame.add(button);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Example();\n    }\n}\n</code></pre>\n<p>When I run the program, this is what is created:</p>\n<p><a href=\"https://i.stack.imgur.com/6IBzx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6IBzx.png\" alt=\"enter image description here\" /></a></p>\n<p>Where the TextPane?</p>\n<p>Also, before I added the text in JTextArea using append(), I haven't found a similar method to the JTextPane there? How do you use it?\nHow do I change the color of a single line?</p>\n<p>I have read and seen and tried various examples found on the internet but I could not finish anything...\nThere are worked examples similar to this?</p>\n<p>I apologize for the &quot;generic&quot; request...</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":1,"creation_date":1653630211,"post_id":72400882,"comment_id":127901771,"body_markdown":"Why you can not use Java HLC or Spring data ? you are calling API using Elastic URL and authentication details right then that is suffeciant for Java HLC and spring data.","body":"Why you can not use Java HLC or Spring data ? you are calling API using Elastic URL and authentication details right then that is suffeciant for Java HLC and spring data."},{"owner":{"account_id":10401081,"reputation":371,"user_id":7669315,"display_name":"JCB"},"score":0,"creation_date":1653654639,"post_id":72400882,"comment_id":127909194,"body_markdown":"@SagarPatel - I cannot call using Spring Data or Java HLC because the ES Clusters are not available for me to call. I only have access through a separate REST layer that accepts Query DSL as the body of the request. I have tried to use them both, and they complain that my REST endpoint is NOT the ES cluster instance.","body":"@SagarPatel - I cannot call using Spring Data or Java HLC because the ES Clusters are not available for me to call. I only have access through a separate REST layer that accepts Query DSL as the body of the request. I have tried to use them both, and they complain that my REST endpoint is NOT the ES cluster instance."},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":1,"creation_date":1653656222,"post_id":72400882,"comment_id":127909789,"body_markdown":"ok got it.. You have intermiddiate layer or proxy layer and request is going through it. If this is the case then you can not use `SearchResponse` object as well. You need to conver response to `JsonObject` then you can peform other task like getting document or hit etc.","body":"ok got it.. You have intermiddiate layer or proxy layer and request is going through it. If this is the case then you can not use <code>SearchResponse</code> object as well. You need to conver response to <code>JsonObject</code> then you can peform other task like getting document or hit etc."}],"owner":{"account_id":10401081,"reputation":371,"user_id":7669315,"display_name":"JCB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653629610,"creation_date":1653629610,"question_id":72400882,"body_markdown":"I am using the Spring Rest Template to call a REST endpoint that houses the ElasticSearch (ES) cluster instance. I have NO access to the ES cluster instance. This is why I cannot use Spring Data ES, nor could I use the Java Rest Highlevel Client. I only have access through the REST endpoint which accepts Query DSL in the post request, and provides the raw JSON response that the ES Instance uses. \r\n\r\nI would like to know, in this situation, what is the best approach to get an unmarshalled version of the JSON search response from the REST endpoint? I tried to use the SearchResponse object that Elastic Search provides, but the Rest Template barfed with the following exception.\r\n\r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.elasticsearch.action.search.SearchResponse]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.elasticsearch.action.search.SearchResponse` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n     at [Source: (PushbackInputStream); line: 1, column: 2]\r\n\r\nHere is a snippet of the response\r\n\r\n    {\r\n        &quot;took&quot;: 1034,\r\n        &quot;timed_out&quot;: false,\r\n        &quot;_shards&quot;: {\r\n            &quot;total&quot;: 608,\r\n            &quot;successful&quot;: 608,\r\n            &quot;skipped&quot;: 542,\r\n            &quot;failed&quot;: 0\r\n        },\r\n        &quot;hits&quot;: {\r\n            &quot;total&quot;: {\r\n                &quot;value&quot;: 17,\r\n                &quot;relation&quot;: &quot;eq&quot;\r\n            },\r\n            &quot;max_score&quot;: null,\r\n            &quot;hits&quot;: [\r\n                {\r\n                    &quot;_index&quot;: &quot;some-index&quot;,\r\n                    &quot;_type&quot;: &quot;_doc&quot;,\r\n                    &quot;_id&quot;: &quot;some-id&quot;,\r\n                    &quot;_score&quot;: null,\r\n                    &quot;_source&quot;: {\r\n    ...","title":"How do I Unmarshal an Elasticsearch JSON Response?","body":"<p>I am using the Spring Rest Template to call a REST endpoint that houses the ElasticSearch (ES) cluster instance. I have NO access to the ES cluster instance. This is why I cannot use Spring Data ES, nor could I use the Java Rest Highlevel Client. I only have access through the REST endpoint which accepts Query DSL in the post request, and provides the raw JSON response that the ES Instance uses.</p>\n<p>I would like to know, in this situation, what is the best approach to get an unmarshalled version of the JSON search response from the REST endpoint? I tried to use the SearchResponse object that Elastic Search provides, but the Rest Template barfed with the following exception.</p>\n<pre><code>org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.elasticsearch.action.search.SearchResponse]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.elasticsearch.action.search.SearchResponse` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (PushbackInputStream); line: 1, column: 2]\n</code></pre>\n<p>Here is a snippet of the response</p>\n<pre><code>{\n    &quot;took&quot;: 1034,\n    &quot;timed_out&quot;: false,\n    &quot;_shards&quot;: {\n        &quot;total&quot;: 608,\n        &quot;successful&quot;: 608,\n        &quot;skipped&quot;: 542,\n        &quot;failed&quot;: 0\n    },\n    &quot;hits&quot;: {\n        &quot;total&quot;: {\n            &quot;value&quot;: 17,\n            &quot;relation&quot;: &quot;eq&quot;\n        },\n        &quot;max_score&quot;: null,\n        &quot;hits&quot;: [\n            {\n                &quot;_index&quot;: &quot;some-index&quot;,\n                &quot;_type&quot;: &quot;_doc&quot;,\n                &quot;_id&quot;: &quot;some-id&quot;,\n                &quot;_score&quot;: null,\n                &quot;_source&quot;: {\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653628657,"post_id":72400698,"comment_id":127901475,"body_markdown":"`jpg` doesn&#39;t support alpha based colors - ie `BufferedImage.TYPE_INT_ARGB`","body":"<code>jpg</code> doesn&#39;t support alpha based colors - ie <code>BufferedImage.TYPE_INT_ARGB</code>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653629207,"creation_date":1653629207,"answer_id":72400831,"question_id":72400698,"body_markdown":"So, beware, not all image formats will support transparency (ie `BufferedImage.TYPE_INT_ARGB`), so, make sure you actually know where the file is been written, it might &quot;appear&quot; as it&#39;s not getting written, but it might be getting written to some place you&#39;re not expecting.\r\n\r\nSo, the following example works just fine, pay attention to the output at the end of the file, it&#39;s telling the directory the images were written to.\r\n\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            try {\r\n                new Main();\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n        public Main() throws MalformedURLException, IOException {\r\n            BufferedImage original = ImageIO.read(new URL(&quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;));\r\n            BufferedImage mirrored = new BufferedImage(original.getWidth(), original.getHeight(), original.getTransparency());\r\n            Graphics2D g2d = mirrored.createGraphics();\r\n            g2d.setTransform(AffineTransform.getScaleInstance(-1, 1));\r\n            g2d.drawImage(original, -original.getWidth(), 0, null);\r\n            g2d.dispose();\r\n\r\n            JPanel panel = new JPanel();\r\n            panel.add(new JLabel(new ImageIcon(original)));\r\n            panel.add(new JLabel(new ImageIcon(mirrored)));\r\n\r\n            JOptionPane.showMessageDialog(null, panel);\r\n\r\n            System.out.println(&quot;Writing to &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\r\n            ImageIO.write(mirrored, &quot;png&quot;, new File(&quot;Test.png&quot;));\r\n            ImageIO.write(mirrored, &quot;jpg&quot;, new File(&quot;Test.jpg&quot;));\r\n        }\r\n\r\n\r\n    }\r\n","title":"ImageIO.write a mirrored image only functional in png in Java","body":"<p>So, beware, not all image formats will support transparency (ie <code>BufferedImage.TYPE_INT_ARGB</code>), so, make sure you actually know where the file is been written, it might &quot;appear&quot; as it's not getting written, but it might be getting written to some place you're not expecting.</p>\n<p>So, the following example works just fine, pay attention to the output at the end of the file, it's telling the directory the images were written to.</p>\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            new Main();\n        } catch (IOException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public Main() throws MalformedURLException, IOException {\n        BufferedImage original = ImageIO.read(new URL(&quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;));\n        BufferedImage mirrored = new BufferedImage(original.getWidth(), original.getHeight(), original.getTransparency());\n        Graphics2D g2d = mirrored.createGraphics();\n        g2d.setTransform(AffineTransform.getScaleInstance(-1, 1));\n        g2d.drawImage(original, -original.getWidth(), 0, null);\n        g2d.dispose();\n\n        JPanel panel = new JPanel();\n        panel.add(new JLabel(new ImageIcon(original)));\n        panel.add(new JLabel(new ImageIcon(mirrored)));\n\n        JOptionPane.showMessageDialog(null, panel);\n\n        System.out.println(&quot;Writing to &quot; + System.getProperty(&quot;user.dir&quot;));\n\n        ImageIO.write(mirrored, &quot;png&quot;, new File(&quot;Test.png&quot;));\n        ImageIO.write(mirrored, &quot;jpg&quot;, new File(&quot;Test.jpg&quot;));\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":25402354,"reputation":3,"user_id":19211606,"display_name":"Yiwei Tu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72400831,"answer_count":1,"score":0,"last_activity_date":1653629207,"creation_date":1653628132,"question_id":72400698,"body_markdown":"I was using ImageIO to write a mirror image to the local file. However, I found that the mirrored image file would be created only if I wrote the image to png file. Please note that the original image was in jpg format. If I change the ImageIO.write format to &quot;jpg&quot; or some formats other than &quot;png&quot;, no image file would be created.\r\n\r\n    BufferedImage image = null;\r\n    URL url = null;\r\n    String link = &quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;;\r\n    try {\r\n    \r\n        url = new URL(link);\r\n        image = ImageIO.read(url);\r\n        width = image.getWidth();\r\n        height = image.getHeight();\r\n    \r\n        BufferedImage mirror = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n    \r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int lx = 0, rx = width - 1; lx &lt; width; lx++, rx--) {\r\n                int lp = image.getRGB(lx, y);\r\n    \r\n                mirror.setRGB(rx, y, lp);\r\n    \r\n            }\r\n        }\r\n        JFrame frame2 = new JFrame();\r\n        frame2.setSize(width + offset, height + offset);\r\n        JLabel label2 = new JLabel(new ImageIcon(mirror));\r\n        frame2.add(label2);\r\n        frame2.setVisible(true);\r\n        file = new File(&quot;mirror.png&quot;);\r\n    \r\n        ImageIO.write(mirror, &quot;png&quot;, file);\r\n    } catch (IOException e) {\r\n        System.out.println(e.getMessage());\r\n    }","title":"ImageIO.write a mirrored image only functional in png in Java","body":"<p>I was using ImageIO to write a mirror image to the local file. However, I found that the mirrored image file would be created only if I wrote the image to png file. Please note that the original image was in jpg format. If I change the ImageIO.write format to &quot;jpg&quot; or some formats other than &quot;png&quot;, no image file would be created.</p>\n<pre><code>BufferedImage image = null;\nURL url = null;\nString link = &quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;;\ntry {\n\n    url = new URL(link);\n    image = ImageIO.read(url);\n    width = image.getWidth();\n    height = image.getHeight();\n\n    BufferedImage mirror = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n    for (int y = 0; y &lt; height; y++) {\n        for (int lx = 0, rx = width - 1; lx &lt; width; lx++, rx--) {\n            int lp = image.getRGB(lx, y);\n\n            mirror.setRGB(rx, y, lp);\n\n        }\n    }\n    JFrame frame2 = new JFrame();\n    frame2.setSize(width + offset, height + offset);\n    JLabel label2 = new JLabel(new ImageIcon(mirror));\n    frame2.add(label2);\n    frame2.setVisible(true);\n    file = new File(&quot;mirror.png&quot;);\n\n    ImageIO.write(mirror, &quot;png&quot;, file);\n} catch (IOException e) {\n    System.out.println(e.getMessage());\n}\n</code></pre>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1653514777,"post_id":72384358,"comment_id":127874567,"body_markdown":"Not sure what you mean by saying that class `a` &quot;mocks a class `b`&quot;.  Can you show us some code to illustrate your point?","body":"Not sure what you mean by saying that class <code>a</code> &quot;mocks a class <code>b</code>&quot;.  Can you show us some code to illustrate your point?"},{"owner":{"account_id":9795689,"reputation":1259,"user_id":7258827,"display_name":"AppleCiderGuy"},"score":0,"creation_date":1653521031,"post_id":72384358,"comment_id":127875762,"body_markdown":"which class are you writing unit test for ? class A ?","body":"which class are you writing unit test for ? class A ?"}],"answers":[{"tags":[],"owner":{"account_id":12914655,"reputation":1112,"user_id":9339330,"display_name":"Min Hyoung Hong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653527420,"creation_date":1653527420,"answer_id":72385619,"question_id":72384358,"body_markdown":"`Beta` can be also mock object.\r\n\r\nfor example\r\n```\r\n@Mock\r\nAlpha alpha;\r\n\r\n@Mock\r\nBeta beta;\r\n\r\n...\r\n\r\nwhen(alpha.getBeta()).thenReturn(beta);   // now you get mocked beta from alpha\r\nwhen(beta.getStrings()).thenReturn(&quot;mock string&quot;);\r\n```","title":"Junit/Mockito how to mock an object called from class b which is called from class a","body":"<p><code>Beta</code> can be also mock object.</p>\n<p>for example</p>\n<pre><code>@Mock\nAlpha alpha;\n\n@Mock\nBeta beta;\n\n...\n\nwhen(alpha.getBeta()).thenReturn(beta);   // now you get mocked beta from alpha\nwhen(beta.getStrings()).thenReturn(&quot;mock string&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653629129,"creation_date":1653629129,"answer_id":72400824,"question_id":72384358,"body_markdown":"You need to find a way of injecting your `Beta` mock into the `Alpha` object that you&#39;re testing.  Otherwise, your `Alpha` object will just have the `Beta` that was created at the line \r\n\r\n    Beta beta = new Beta();\r\n\r\nOne way to do that would be to have a `setBeta` method in your `Alpha` class, which you could then call in your test.\r\n\r\nAnother way would be to refactor your `Alpha` class so that it gets its `Beta` object from a factory, and then inject the factory when you construct the `Alpha` object.  This is &quot;pattern 2&quot; in [my article here](https://code.google.com/archive/p/mockito/wikis/MockingObjectCreation.wiki)","title":"Junit/Mockito how to mock an object called from class b which is called from class a","body":"<p>You need to find a way of injecting your <code>Beta</code> mock into the <code>Alpha</code> object that you're testing.  Otherwise, your <code>Alpha</code> object will just have the <code>Beta</code> that was created at the line</p>\n<pre><code>Beta beta = new Beta();\n</code></pre>\n<p>One way to do that would be to have a <code>setBeta</code> method in your <code>Alpha</code> class, which you could then call in your test.</p>\n<p>Another way would be to refactor your <code>Alpha</code> class so that it gets its <code>Beta</code> object from a factory, and then inject the factory when you construct the <code>Alpha</code> object.  This is &quot;pattern 2&quot; in <a href=\"https://code.google.com/archive/p/mockito/wikis/MockingObjectCreation.wiki\" rel=\"nofollow noreferrer\">my article here</a></p>\n"}],"owner":{"account_id":14735132,"reputation":1,"user_id":10902811,"display_name":"Bootham Deyyam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653629129,"creation_date":1653514005,"question_id":72384358,"body_markdown":"I have a class called a, which mocks a class b.\r\n\r\nClass b has a method which is creating an object by calling a data access object (DAO) c. That is, \r\n`a.method1 -&gt; b.method2` which internally calls `c.getdata()`.\r\n\r\nWhen I try to create a unit test I get object c is null. How do I resolve this issue?\r\n\r\n```java\r\n  class Alpha {\r\n      \r\n  \tString abc;\r\n  \tBeta beta = new Beta();\r\n  \tList&lt;String&gt; seriesOfStgs = new ArrayList&lt;&gt;();\r\n  \t\r\n  \tpublic void alphaMethod() {\r\n  \t\tseriesOfStgs.addAll(beta.getStrings());\r\n  \t}\r\n  }\r\n\r\n  class Beta {\r\n      \r\n  \tStringDao stringDao = new StringDao();\r\n  \t\r\n  \tpublic List&lt;String&gt; getStrings() {\r\n  \t\treturn stringDao.getListOfStrings();\r\n  \t}\r\n  }\r\n```\r\n\r\nIf you see above, I have 2 separate classes `Alpha` and `Beta`. I am writing the test for `Alpha`. I am able to mock `Beta` in my JUnit test, `TestAlpha.java`.\r\nI am getting a null pointer exception when I try to get the strings because `stringDao` is null. \r\n\r\nHow do I instantiate `stringDao` in `TestAlpha`, or how do I pass a reference to `StringDao`?","title":"Junit/Mockito how to mock an object called from class b which is called from class a","body":"<p>I have a class called a, which mocks a class b.</p>\n<p>Class b has a method which is creating an object by calling a data access object (DAO) c. That is,\n<code>a.method1 -&gt; b.method2</code> which internally calls <code>c.getdata()</code>.</p>\n<p>When I try to create a unit test I get object c is null. How do I resolve this issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>  class Alpha {\n      \n    String abc;\n    Beta beta = new Beta();\n    List&lt;String&gt; seriesOfStgs = new ArrayList&lt;&gt;();\n    \n    public void alphaMethod() {\n        seriesOfStgs.addAll(beta.getStrings());\n    }\n  }\n\n  class Beta {\n      \n    StringDao stringDao = new StringDao();\n    \n    public List&lt;String&gt; getStrings() {\n        return stringDao.getListOfStrings();\n    }\n  }\n</code></pre>\n<p>If you see above, I have 2 separate classes <code>Alpha</code> and <code>Beta</code>. I am writing the test for <code>Alpha</code>. I am able to mock <code>Beta</code> in my JUnit test, <code>TestAlpha.java</code>.\nI am getting a null pointer exception when I try to get the strings because <code>stringDao</code> is null.</p>\n<p>How do I instantiate <code>stringDao</code> in <code>TestAlpha</code>, or how do I pass a reference to <code>StringDao</code>?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653634831,"post_id":72400776,"comment_id":127902801,"body_markdown":"Why do you like to change the version manually? Release plugin supports that via `mvn release:prepare -DdevelopmentVersion=DEVVERSION -DreleaseVersion=RELEASEVERSION` ... ? Apart from that if you use release plugin it&#39;s assuming that you work via `1.0-SNAPSHOT..1.0...1.1-SNAPSHOT..1.1...1.2-SNAPSHOT` etc.","body":"Why do you like to change the version manually? Release plugin supports that via <code>mvn release:prepare -DdevelopmentVersion=DEVVERSION -DreleaseVersion=RELEASEVERSION</code> ... ? Apart from that if you use release plugin it&#39;s assuming that you work via <code>1.0-SNAPSHOT..1.0...1.1-SNAPSHOT..1.1...1.2-SNAPSHOT</code> etc."},{"owner":{"account_id":9206713,"reputation":115,"user_id":6841669,"display_name":"Harsha Chittepu"},"score":0,"creation_date":1653635119,"post_id":72400776,"comment_id":127902885,"body_markdown":"@khmarbaise Release plugin is expecting a SNAPSHOT version for next-dev cycle. Let&#39;s say I released the version 1.2.0, release plugin suggests to have 1.2.1-SNAPSHOT as next dev version. But I want the dev version to be 1.2.0 or anything without SNAPSHOT. Is this possible ?","body":"@khmarbaise Release plugin is expecting a SNAPSHOT version for next-dev cycle. Let&#39;s say I released the version 1.2.0, release plugin suggests to have 1.2.1-SNAPSHOT as next dev version. But I want the dev version to be 1.2.0 or anything without SNAPSHOT. Is this possible ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653636724,"post_id":72400776,"comment_id":127903348,"body_markdown":"A dev version which is the same as a release versions makes no sense..If you like to change the strategy how it works you could take a look because since 3.0.0-MX there is a possible strategy https://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#releaseStrategyId and other things...","body":"A dev version which is the same as a release versions makes no sense..If you like to change the strategy how it works you could take a look because since 3.0.0-MX there is a possible strategy <a href=\"https://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#releaseStrategyId\" rel=\"nofollow noreferrer\">maven.apache.org/maven-release/maven-release-plugin/&hellip;</a> and other things..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1653640387,"post_id":72400776,"comment_id":127904589,"body_markdown":"@HarshaChittepu SNAPSHOT versions for development are very handy because you can create the same version multiple times. You cannot do that properly with release versions.","body":"@HarshaChittepu SNAPSHOT versions for development are very handy because you can create the same version multiple times. You cannot do that properly with release versions."}],"owner":{"account_id":9206713,"reputation":115,"user_id":6841669,"display_name":"Harsha Chittepu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653628761,"creation_date":1653628761,"question_id":72400776,"body_markdown":"I have a use case where during release, I create a release branch and run mvn release plugin on it to release the artifacts. While doing mvn release:prepare, it expects to have a SNAPSHOT version for next development iteration. Is there a way to avoid having a SNAPSHOT project version for next dev iteration ? I intend to change the version manually if I do another release.","title":"Is there a way to not change the maven project version for next development iteration during release-prepare?","body":"<p>I have a use case where during release, I create a release branch and run mvn release plugin on it to release the artifacts. While doing mvn release:prepare, it expects to have a SNAPSHOT version for next development iteration. Is there a way to avoid having a SNAPSHOT project version for next dev iteration ? I intend to change the version manually if I do another release.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1653582311,"post_id":72394536,"comment_id":127891594,"body_markdown":"Because you are ignoring the return `return redissonReactiveClient`","body":"Because you are ignoring the return <code>return redissonReactiveClient</code>"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653628618,"creation_date":1653628618,"answer_id":72400751,"question_id":72394536,"body_markdown":"In reactive you need to combine all async operations into a flow, chaining publishers (`Mono`/`Flux`) using various reactive operators (assembly time) and then subscribe to it (subscription time). You are right that calling `subscribe` explicitly is a bad practice and should be avoided. Spring WebFlux subscribes to the provided flow behind the scene. \r\n\r\nIn your code you are breaking the flow by not chaining `rMap.expire(2, TimeUnit.HOURS);`. You could rewrite the code like this\r\n\r\n\r\n```\r\nprivate Mono&lt;MyObject&gt; getMyObjectFromCache(String url) {\r\n    RMapReactive&lt;String, String&gt; rMap = redissonReactiveClient.getMap(url);\r\n    return rMap.readAllMap()\r\n            .flatMap(m -&gt;\r\n                    rMap.remainTimeToLive()\r\n                            .flatMap(ttl -&gt; {\r\n                                final long renewalThreshold = 60 * 60 * 1000;\r\n                                if (ttl &lt;= renewalThreshold) {\r\n                                    System.out.println(&quot;start expiring&quot;);\r\n                                    // it doesn&#39;t work without subscribe()\r\n                                    return rMap.expire(2, TimeUnit.HOURS);\r\n                                }\r\n                                return Mono.just(false);\r\n                            })\r\n                            .then(JSONObject.parseObject(JSON.toJSONString(m), MyObject.class))\r\n            );\r\n}\r\n```","title":"Spring webflux some methods not work without subscribe or block","body":"<p>In reactive you need to combine all async operations into a flow, chaining publishers (<code>Mono</code>/<code>Flux</code>) using various reactive operators (assembly time) and then subscribe to it (subscription time). You are right that calling <code>subscribe</code> explicitly is a bad practice and should be avoided. Spring WebFlux subscribes to the provided flow behind the scene.</p>\n<p>In your code you are breaking the flow by not chaining <code>rMap.expire(2, TimeUnit.HOURS);</code>. You could rewrite the code like this</p>\n<pre><code>private Mono&lt;MyObject&gt; getMyObjectFromCache(String url) {\n    RMapReactive&lt;String, String&gt; rMap = redissonReactiveClient.getMap(url);\n    return rMap.readAllMap()\n            .flatMap(m -&gt;\n                    rMap.remainTimeToLive()\n                            .flatMap(ttl -&gt; {\n                                final long renewalThreshold = 60 * 60 * 1000;\n                                if (ttl &lt;= renewalThreshold) {\n                                    System.out.println(&quot;start expiring&quot;);\n                                    // it doesn't work without subscribe()\n                                    return rMap.expire(2, TimeUnit.HOURS);\n                                }\n                                return Mono.just(false);\n                            })\n                            .then(JSONObject.parseObject(JSON.toJSONString(m), MyObject.class))\n            );\n}\n</code></pre>\n"}],"owner":{"account_id":25374228,"reputation":13,"user_id":19187586,"display_name":"opoa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72400751,"answer_count":1,"score":-1,"last_activity_date":1653628618,"creation_date":1653579999,"question_id":72394536,"body_markdown":"  New to reactive programming and also Spring Webflux, I have a method to get value from redis and expire the key under certain conditions. But the code expire key always not work.\r\n\r\n\r\n\r\nmy current implmention:\r\n\r\n```java\r\nprivate Mono&lt;MyObject&gt; getMyObjectFromCache(String url) {\r\n    RMapReactive&lt;String, String&gt; rMap = redissonReactiveClient.getMap(url);\r\n    return rMap.readAllMap()\r\n            .flatMap(m -&gt;\r\n                    rMap.remainTimeToLive()\r\n                            .flatMap(ttl -&gt; {\r\n                                        final long renewalThreshold = 60 * 60 * 1000;\r\n                                        if (ttl &lt;= renewalThreshold) {\r\n                                            System.out.println(&quot;start expiring&quot;);\r\n                                            // it doesn&#39;t work without subscribe()\r\n                                            rMap.expire(2, TimeUnit.HOURS);\r\n                                        }\r\n                                        return Mono.just(JSONObject.parseObject(JSON.toJSONString(m), MyObject.class));\r\n                                    }\r\n                            )\r\n            );\r\n}\r\n```\r\n\r\nexpire method returns `Mono&lt;Boolean&gt;`\r\n\r\n\r\n\r\n```java\r\n    public Mono&lt;MyObject&gt; getMyObjInfo(String url) {\r\n       \t// something else\r\n        return getMyObjectFromFromCache(url).switchIfEmpty(Mono.defer(() -&gt; getMyObjectFromRemoteService(url)));\r\n    }\r\n```\r\n\r\nCustomGatewayFilter\r\n\r\n```java\r\n\t\t\t@Override\r\n            public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\r\n\t\t\t\tServerHttpRequest request = exchange.getRequest();\r\n                ServerHttpResponse response = exchange.getResponse();\r\n                URI uri = request.getURI();\r\n                \r\n                return getMyObjInfo(uri.getPath())\r\n                        .flatMap(api -&gt; {\r\n\t\t\t\t\t\t\t// something else\r\n                            return chain.filter(exchange.mutate().request(request).build());\r\n                        });\r\n```\r\n\r\nwhen I test the filter , only print start expiring , but it doesn&#39;t work. \r\n\r\nif i add `subscribe` or `block`, it can work. obviously this is not a good idea, I shouldn&#39;t break the reactor chain.\r\n\r\nplease could I have a correctly way to write this?\r\n\r\nthanks","title":"Spring webflux some methods not work without subscribe or block","body":"<p>New to reactive programming and also Spring Webflux, I have a method to get value from redis and expire the key under certain conditions. But the code expire key always not work.</p>\n<p>my current implmention:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;MyObject&gt; getMyObjectFromCache(String url) {\n    RMapReactive&lt;String, String&gt; rMap = redissonReactiveClient.getMap(url);\n    return rMap.readAllMap()\n            .flatMap(m -&gt;\n                    rMap.remainTimeToLive()\n                            .flatMap(ttl -&gt; {\n                                        final long renewalThreshold = 60 * 60 * 1000;\n                                        if (ttl &lt;= renewalThreshold) {\n                                            System.out.println(&quot;start expiring&quot;);\n                                            // it doesn't work without subscribe()\n                                            rMap.expire(2, TimeUnit.HOURS);\n                                        }\n                                        return Mono.just(JSONObject.parseObject(JSON.toJSONString(m), MyObject.class));\n                                    }\n                            )\n            );\n}\n</code></pre>\n<p>expire method returns <code>Mono&lt;Boolean&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;MyObject&gt; getMyObjInfo(String url) {\n        // something else\n        return getMyObjectFromFromCache(url).switchIfEmpty(Mono.defer(() -&gt; getMyObjectFromRemoteService(url)));\n    }\n</code></pre>\n<p>CustomGatewayFilter</p>\n<pre class=\"lang-java prettyprint-override\"><code>            @Override\n            public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) {\n                ServerHttpRequest request = exchange.getRequest();\n                ServerHttpResponse response = exchange.getResponse();\n                URI uri = request.getURI();\n                \n                return getMyObjInfo(uri.getPath())\n                        .flatMap(api -&gt; {\n                            // something else\n                            return chain.filter(exchange.mutate().request(request).build());\n                        });\n</code></pre>\n<p>when I test the filter , only print start expiring , but it doesn't work.</p>\n<p>if i add <code>subscribe</code> or <code>block</code>, it can work. obviously this is not a good idea, I shouldn't break the reactor chain.</p>\n<p>please could I have a correctly way to write this?</p>\n<p>thanks</p>\n"},{"tags":["java","regex","semantic-versioning"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571434033,"creation_date":1571434033,"answer_id":58458420,"question_id":58456563,"body_markdown":"NOTE:\r\n\r\n - You should not escape `m` in a string literal, `\\m` is not a valid string escape sequence and the code won&#39;t compile\r\n - `Matcher#matches()` requires a full string match, no need to add `^` and `$` anchors\r\n - To be able to reference `Matcher#group(n)`, you need to define the groups in the pattern in the first place. Wrap the parts you need with pairs of unescaped parentheses.\r\n\r\nUse\r\n\r\n    String version = &quot;1.0.1-RC&quot;;\r\n\tPattern versionPattern = Pattern.compile(&quot;([1-9]\\\\d*)\\\\.(\\\\d+)\\\\.(\\\\d+)(?:-([a-zA-Z0-9]+))?&quot;);\r\n\tMatcher matcher = versionPattern.matcher(version);\r\n\t\r\n\tif (matcher.matches()) {\r\n\t    System.out.println(&quot;matching version is: &quot; + matcher.group(0));\r\n\t    System.out.println(&quot;major #: &quot; + matcher.group(1));\r\n\t    System.out.println(&quot;minor #: &quot; + matcher.group(2));\r\n\t    System.out.println(&quot;patch #: &quot; + matcher.group(3));\r\n\t    System.out.println(&quot;qualifier: &quot; + matcher.group(4) + &quot;\\n\\n\\n&quot;);\r\n\t}\r\n\r\nSee the [Java demo][1], output:\r\n\r\n    matching version is: 1.0.1-RC\r\n    major #: 1\r\n    minor #: 0\r\n    patch #: 1\r\n    qualifier: RC\r\n\r\n\r\n  [1]: https://ideone.com/OdXvGB","title":"Extracting segments of a semver version string via Java regex","body":"<p>NOTE:</p>\n\n<ul>\n<li>You should not escape <code>m</code> in a string literal, <code>\\m</code> is not a valid string escape sequence and the code won't compile</li>\n<li><code>Matcher#matches()</code> requires a full string match, no need to add <code>^</code> and <code>$</code> anchors</li>\n<li>To be able to reference <code>Matcher#group(n)</code>, you need to define the groups in the pattern in the first place. Wrap the parts you need with pairs of unescaped parentheses.</li>\n</ul>\n\n<p>Use</p>\n\n<pre><code>String version = \"1.0.1-RC\";\nPattern versionPattern = Pattern.compile(\"([1-9]\\\\d*)\\\\.(\\\\d+)\\\\.(\\\\d+)(?:-([a-zA-Z0-9]+))?\");\nMatcher matcher = versionPattern.matcher(version);\n\nif (matcher.matches()) {\n    System.out.println(\"matching version is: \" + matcher.group(0));\n    System.out.println(\"major #: \" + matcher.group(1));\n    System.out.println(\"minor #: \" + matcher.group(2));\n    System.out.println(\"patch #: \" + matcher.group(3));\n    System.out.println(\"qualifier: \" + matcher.group(4) + \"\\n\\n\\n\");\n}\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/OdXvGB\" rel=\"nofollow noreferrer\">Java demo</a>, output:</p>\n\n<pre><code>matching version is: 1.0.1-RC\nmajor #: 1\nminor #: 0\npatch #: 1\nqualifier: RC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3733091,"reputation":11,"user_id":3104835,"display_name":"user3104835"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653628511,"creation_date":1653628511,"answer_id":72400737,"question_id":58456563,"body_markdown":"I was looking around on the semver specification [website][1] and found a regex there that works, and i fixed it a little to work with java regex named groups and here is the regex if anyone needs it\r\n\r\n    final static String version_regex = &quot;^(?&lt;major&gt;0|[1-9]\\\\d*)\\\\.(?&lt;minor&gt;0|[1-9]\\\\d*)\\\\.(?&lt;patch&gt;0|[1-9]\\\\d*)(?:-(?&lt;prerelease&gt;(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\\\.(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\\\+(?&lt;buildmetadata&gt;[0-9a-zA-Z-]+(?:\\\\.[0-9a-zA-Z-]+)*))?$&quot;;\r\n\r\n\t// After matching to grab the groups\r\n\tString mayor = matcher.group(&quot;major&quot;);\r\n\tString minor = matcher.group(&quot;minor&quot;);\r\n\tString patch = matcher.group(&quot;patch&quot;);\r\n\tString prerelease = matcher.group(&quot;prerelease&quot;);\r\n\tString buildmetadata = matcher.group(&quot;buildmetadata&quot;);\r\n\r\n\r\n  [1]: https://semver.org/","title":"Extracting segments of a semver version string via Java regex","body":"<p>I was looking around on the semver specification <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">website</a> and found a regex there that works, and i fixed it a little to work with java regex named groups and here is the regex if anyone needs it</p>\n<pre><code>final static String version_regex = &quot;^(?&lt;major&gt;0|[1-9]\\\\d*)\\\\.(?&lt;minor&gt;0|[1-9]\\\\d*)\\\\.(?&lt;patch&gt;0|[1-9]\\\\d*)(?:-(?&lt;prerelease&gt;(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\\\.(?:0|[1-9]\\\\d*|\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\\\+(?&lt;buildmetadata&gt;[0-9a-zA-Z-]+(?:\\\\.[0-9a-zA-Z-]+)*))?$&quot;;\n\n// After matching to grab the groups\nString mayor = matcher.group(&quot;major&quot;);\nString minor = matcher.group(&quot;minor&quot;);\nString patch = matcher.group(&quot;patch&quot;);\nString prerelease = matcher.group(&quot;prerelease&quot;);\nString buildmetadata = matcher.group(&quot;buildmetadata&quot;);\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2999,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58458420,"answer_count":2,"score":2,"last_activity_date":1653628511,"creation_date":1571424291,"question_id":58456563,"body_markdown":"Java 8 here. I am trying to parse a [semver](https://semver.org/) (or at least, my flavor of semver) string and extract out its main segments:\r\n\r\n* Major version number\r\n* Minor version number\r\n* Patch number\r\n* Qualifier (`RC`, `SNAPSHOT`, `RELEASE`, etc.)\r\n\r\nHere is my code:\r\n\r\n```java\r\nString version = &quot;1.0.1-RC&quot;;\r\nPattern versionPattern = Pattern.compile(&quot;^[1-9]\\\\d*\\\\.\\\\d+\\\\.\\\\d+(?:-[a-zA-Z0-9]+)?$&quot;);\r\nMatcher matcher = versionPattern.matcher(version);\r\n\r\nif (matcher.matches()) {\r\n\r\n    System.out.println(&quot;\\n\\n\\matching version is: &quot; + matcher.group(0));\r\n    System.out.println(&quot;\\nmajor #: &quot; + matcher.group(1));\r\n    System.out.println(&quot;\\nminor #: &quot; + matcher.group(2));\r\n    System.out.println(&quot;\\npatch #: &quot; + matcher.group(3));\r\n    System.out.println(&quot;\\nqualifier: &quot; + matcher.group(4) + &quot;\\n\\n\\n&quot;);\r\n    \r\n}\r\n```\r\n\r\nWhen this runs, I get the following output on the console:\r\n\r\n```\r\nmatching version is: 1.0.1-RC\r\n2019-10-18 14:32:05,952 [main] 84b37cef-70f9-4ab8-bafb-005821699766 ERROR c.s.f.s.listeners.StartupListener - java.lang.IndexOutOfBoundsException: No group 1\r\n```\r\n\r\nWhat do I need to do to my regex and/our use of the Matcher API so that I can extract:\r\n\r\n* `1` as the major number\r\n* `0` as the minor number\r\n* `1` as the patch number\r\n* `RC` as the qualifier\r\n\r\nAny ideas?","title":"Extracting segments of a semver version string via Java regex","body":"<p>Java 8 here. I am trying to parse a <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">semver</a> (or at least, my flavor of semver) string and extract out its main segments:</p>\n\n<ul>\n<li>Major version number</li>\n<li>Minor version number</li>\n<li>Patch number</li>\n<li>Qualifier (<code>RC</code>, <code>SNAPSHOT</code>, <code>RELEASE</code>, etc.)</li>\n</ul>\n\n<p>Here is my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String version = \"1.0.1-RC\";\nPattern versionPattern = Pattern.compile(\"^[1-9]\\\\d*\\\\.\\\\d+\\\\.\\\\d+(?:-[a-zA-Z0-9]+)?$\");\nMatcher matcher = versionPattern.matcher(version);\n\nif (matcher.matches()) {\n\n    System.out.println(\"\\n\\n\\matching version is: \" + matcher.group(0));\n    System.out.println(\"\\nmajor #: \" + matcher.group(1));\n    System.out.println(\"\\nminor #: \" + matcher.group(2));\n    System.out.println(\"\\npatch #: \" + matcher.group(3));\n    System.out.println(\"\\nqualifier: \" + matcher.group(4) + \"\\n\\n\\n\");\n\n}\n</code></pre>\n\n<p>When this runs, I get the following output on the console:</p>\n\n<pre><code>matching version is: 1.0.1-RC\n2019-10-18 14:32:05,952 [main] 84b37cef-70f9-4ab8-bafb-005821699766 ERROR c.s.f.s.listeners.StartupListener - java.lang.IndexOutOfBoundsException: No group 1\n</code></pre>\n\n<p>What do I need to do to my regex and/our use of the Matcher API so that I can extract:</p>\n\n<ul>\n<li><code>1</code> as the major number</li>\n<li><code>0</code> as the minor number</li>\n<li><code>1</code> as the patch number</li>\n<li><code>RC</code> as the qualifier</li>\n</ul>\n\n<p>Any ideas?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":6512090,"reputation":336,"user_id":5038981,"display_name":"Sammy"},"score":2,"creation_date":1560867343,"post_id":56647442,"comment_id":99872119,"body_markdown":"Have you checked the group.max.session.timeout.ms ,  heartbeat.interval.ms ? More details at https://kafka.apache.org/documentation/#brokerconfigs","body":"Have you checked the group.max.session.timeout.ms ,  heartbeat.interval.ms ? More details at <a href=\"https://kafka.apache.org/documentation/#brokerconfigs\" rel=\"nofollow noreferrer\">kafka.apache.org/documentation/#brokerconfigs</a>"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1560926606,"post_id":56647442,"comment_id":99891860,"body_markdown":"Yes, but the heartbeat is running in its own thread so it shouldn&#39;t have any impact unless the consumer is really dead. Again: how can I validate what exactly is happening and why the consumers are rebalanced? There must be something to search for in logs.","body":"Yes, but the heartbeat is running in its own thread so it shouldn&#39;t have any impact unless the consumer is really dead. Again: how can I validate what exactly is happening and why the consumers are rebalanced? There must be something to search for in logs."},{"owner":{"account_id":6512090,"reputation":336,"user_id":5038981,"display_name":"Sammy"},"score":0,"creation_date":1560930793,"post_id":56647442,"comment_id":99893992,"body_markdown":"What are the values of group.max.session.timeout.ms , heartbeat.interval.ms ? Not sure if GC is coming into play and the Stop-The-World thing is taking long time which is more than MaxSessionTimeout? (Assuming you are using Java Consumer) What is the Kafka Version? What is the behavior when you reduce the  no of consumers in a group?","body":"What are the values of group.max.session.timeout.ms , heartbeat.interval.ms ? Not sure if GC is coming into play and the Stop-The-World thing is taking long time which is more than MaxSessionTimeout? (Assuming you are using Java Consumer) What is the Kafka Version? What is the behavior when you reduce the  no of consumers in a group?"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1560942361,"post_id":56647442,"comment_id":99900220,"body_markdown":"I updated the question. `What is the behavior when you reduce the no of consumers in a group?` – I was changing the numbers up and down, but with no difference.","body":"I updated the question. <code>What is the behavior when you reduce the no of consumers in a group?</code> – I was changing the numbers up and down, but with no difference."},{"owner":{"account_id":6512090,"reputation":336,"user_id":5038981,"display_name":"Sammy"},"score":0,"creation_date":1560975046,"post_id":56647442,"comment_id":99917612,"body_markdown":"Please read this (https://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread). It seems like max.poll.interval.ms i.e. 5min has been elapsed since the last poll and it timed out.  Please try  to figure out the same.","body":"Please read this (<a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/KAFKA/&hellip;</a>). It seems like max.poll.interval.ms i.e. 5min has been elapsed since the last poll and it timed out.  Please try  to figure out the same."},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1561011961,"post_id":56647442,"comment_id":99926265,"body_markdown":"Yes, I read this and I even mention this in my question. However I can confirm poll never takes more than 5 minutes. Again: Is there something in logs which should hint me what really happened?","body":"Yes, I read this and I even mention this in my question. However I can confirm poll never takes more than 5 minutes. Again: Is there something in logs which should hint me what really happened?"},{"owner":{"account_id":8086222,"reputation":906,"user_id":6093696,"display_name":"Eric"},"score":1,"creation_date":1561037792,"post_id":56647442,"comment_id":99939902,"body_markdown":"Can you post some code from your consumer?","body":"Can you post some code from your consumer?"},{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":0,"creation_date":1561060764,"post_id":56647442,"comment_id":99951401,"body_markdown":"The logs that would tell you why consumers are rebalancing should be your consumer application logs.  Can you post what those show? Or how is it exactly you&#39;re consuming from Kafka?","body":"The logs that would tell you why consumers are rebalancing should be your consumer application logs.  Can you post what those show? Or how is it exactly you&#39;re consuming from Kafka?"},{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":0,"creation_date":1561083177,"post_id":56647442,"comment_id":99956971,"body_markdown":"`but it shouldn&#39;t take more than two minutes` Sometimes it will. You should check the consumer log for heart beat expire log and poll interval log if any","body":"<code>but it shouldn&#39;t take more than two minutes</code> Sometimes it will. You should check the consumer log for heart beat expire log and poll interval log if any"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1561098761,"post_id":56647442,"comment_id":99960263,"body_markdown":"Unfortunately there is nothing in the log within my application. I don&#39;t see any heartbeats or failures. I will add my code to the original question.","body":"Unfortunately there is nothing in the log within my application. I don&#39;t see any heartbeats or failures. I will add my code to the original question."},{"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"score":0,"creation_date":1561626610,"post_id":56647442,"comment_id":100129493,"body_markdown":"What happens once the while loop is exited, either gracefully or with a throwable ? Looks to me like the consumer will shut down once that happens, leading to a rebalance","body":"What happens once the while loop is exited, either gracefully or with a throwable ? Looks to me like the consumer will shut down once that happens, leading to a rebalance"},{"owner":{"account_id":3470929,"reputation":633,"user_id":2905249,"display_name":"shatheesh"},"score":0,"creation_date":1600847365,"post_id":56647442,"comment_id":113213796,"body_markdown":"@Vojtěch, I am facing the similar issue. We are using it on node.js. Did u solved this problem? If so, can u help what helped address the issue","body":"@Vojtěch, I am facing the similar issue. We are using it on node.js. Did u solved this problem? If so, can u help what helped address the issue"},{"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"score":0,"creation_date":1600860229,"post_id":56647442,"comment_id":113219884,"body_markdown":"We abandoned Kafka and now using Google Pub/Sub. Works way better.","body":"We abandoned Kafka and now using Google Pub/Sub. Works way better."}],"answers":[{"tags":[],"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1561133471,"creation_date":1561133471,"answer_id":56707049,"question_id":56647442,"body_markdown":"Frequent rebalances are usually caused because it is taking too long for the consumer to process batches. This happens because the consumer is processing the batch for a long time (and heartbeats are not being sent) and therefore the brokers think that consumer was lost and they start re-balancing.  \r\n\r\nI would either suggest to create smaller batches by reducing the value of `max.partition.fetch.bytes` or extend/increase heartbeat intervals by increasing the value of `heartbeat.interval.ms`. \r\n\r\n","title":"Kafka keeps rebalancing consumers","body":"<p>Frequent rebalances are usually caused because it is taking too long for the consumer to process batches. This happens because the consumer is processing the batch for a long time (and heartbeats are not being sent) and therefore the brokers think that consumer was lost and they start re-balancing.  </p>\n\n<p>I would either suggest to create smaller batches by reducing the value of <code>max.partition.fetch.bytes</code> or extend/increase heartbeat intervals by increasing the value of <code>heartbeat.interval.ms</code>. </p>\n"},{"tags":[],"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1624392821,"creation_date":1585314593,"answer_id":60886689,"question_id":56647442,"body_markdown":"I think that the first part of Giorgos answer is correct, up to &quot;.....processing the batch for a long time&quot; but the configuration advice is for a different problem.\r\n\r\nThere are two causes of a rebalance, too long between polls or too long between heartbeats. The logs should tell you which has caused rebalance, but it is usually the former. \r\n\r\nIf the problem is heartbeat then the advised configuration changes may help, and/or `session.timeout.ms`. The heartbeat runs in a separate thread and  allows the group to quickly determine if a consumer application has died. \r\n\r\nIf the problem is too long between polls and you can&#39;t speed up your processing then you need to increase the allowed gap between calling poll, or reduce the number of records you handle on each poll. The relevant properties are `max.poll.interval` (default 5 minutes) or `max.poll.records` (default 500) ","title":"Kafka keeps rebalancing consumers","body":"<p>I think that the first part of Giorgos answer is correct, up to &quot;.....processing the batch for a long time&quot; but the configuration advice is for a different problem.</p>\n<p>There are two causes of a rebalance, too long between polls or too long between heartbeats. The logs should tell you which has caused rebalance, but it is usually the former.</p>\n<p>If the problem is heartbeat then the advised configuration changes may help, and/or <code>session.timeout.ms</code>. The heartbeat runs in a separate thread and  allows the group to quickly determine if a consumer application has died.</p>\n<p>If the problem is too long between polls and you can't speed up your processing then you need to increase the allowed gap between calling poll, or reduce the number of records you handle on each poll. The relevant properties are <code>max.poll.interval</code> (default 5 minutes) or <code>max.poll.records</code> (default 500)</p>\n"},{"tags":[],"owner":{"account_id":1858424,"reputation":131,"user_id":1683515,"display_name":"JayPatel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653596792,"creation_date":1653596792,"answer_id":72397680,"question_id":56647442,"body_markdown":"For anyone who encounters this even after they feel processing of records is not the bottleneck:\r\n\r\nWe recently encountered a nasty bug in Kafka Connect Runtime which will keep heartbeat threads and spin up more Kafka Connect Tasks with same thread name (Essentially, not killing older task threads and heartbeat threads)\r\n\r\nFollowing bugs were encountered in version 2.3.1 and few other versions as mentioned in the JIRA. \r\n\r\nhttps://issues.apache.org/jira/browse/KAFKA-9841\r\n\r\nhttps://issues.apache.org/jira/browse/KAFKA-10574\r\n\r\nhttps://issues.apache.org/jira/browse/KAFKA-9184\r\n\r\nAlso happened in Confluent Platform version 5.3.1, so please upgrade your kafka connect runtime and connect-api to latest versions if possible. ","title":"Kafka keeps rebalancing consumers","body":"<p>For anyone who encounters this even after they feel processing of records is not the bottleneck:</p>\n<p>We recently encountered a nasty bug in Kafka Connect Runtime which will keep heartbeat threads and spin up more Kafka Connect Tasks with same thread name (Essentially, not killing older task threads and heartbeat threads)</p>\n<p>Following bugs were encountered in version 2.3.1 and few other versions as mentioned in the JIRA.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/KAFKA-9841\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-9841</a></p>\n<p><a href=\"https://issues.apache.org/jira/browse/KAFKA-10574\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-10574</a></p>\n<p><a href=\"https://issues.apache.org/jira/browse/KAFKA-9184\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-9184</a></p>\n<p>Also happened in Confluent Platform version 5.3.1, so please upgrade your kafka connect runtime and connect-api to latest versions if possible.</p>\n"}],"owner":{"account_id":871926,"reputation":11578,"user_id":922584,"accept_rate":80,"display_name":"Vojtěch"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14201,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1653628463,"creation_date":1560855020,"question_id":56647442,"body_markdown":"We have 10 consumers in a group listening for a topic. What is happening very often is to see the consumers being rebalanced very often (which completely stops the consumer process for some time).\r\n\r\n```\r\n# ./kafka-consumer-groups.sh --describe --bootstrap-server localhost:9092  --describe  --group ParserKafkaPipeline | grep -e ParserBody | sort\r\nParserBodyToParse 0          99              99              0               consumer-1-f29b7eb7-b871-477c-af52-446fbf4b0496  /10.12.18.58    consumer-1\r\nParserBodyToParse 1          97              97              0               consumer-10-6639ee02-8e68-40e6-aca1-eabd89bf828e /10.12.18.58    consumer-10\r\nParserBodyToParse 2          97              97              0               consumer-11-c712db8b-0396-4388-9e3a-e8e342355547 /10.12.18.58    consumer-11\r\nParserBodyToParse 3          97              98              1               consumer-12-0cc6fe12-d640-4344-91c0-f15e63c20cca /10.12.18.58    consumer-12\r\nParserBodyToParse 4          97              98              1               consumer-13-b904a958-141d-412e-83ea-950cd51e25e0 /10.12.18.58    consumer-13\r\nParserBodyToParse 5          97              98              1               consumer-14-7c70ba88-8b8c-4fad-b15b-cf7692a4b9ce /10.12.18.58    consumer-14\r\nParserBodyToParse 6          98              98              0               consumer-15-f0983c3d-8704-4127-808d-ec8b6b847008 /10.12.18.58    consumer-15\r\nParserBodyToParse 7          97              97              0               consumer-18-de5d20dd-217c-4db2-9b39-e2fdbca386e9 /10.12.18.58    consumer-18\r\nParserBodyToParse 8          98              98              0               consumer-5-bdeaf30a-d2bf-4aec-86ea-9c35a7acfe21  /10.12.18.58    consumer-5\r\nParserBodyToParse 9          98              98              0               consumer-9-4de1bf17-9474-4bd4-ae61-4ab254f52863  /10.12.18.58    consumer-9\r\n\r\n# ./kafka-consumer-groups.sh --describe --bootstrap-server localhost:9092  --describe  --group ParserKafkaPipeline | grep -e ParserBody | sort\r\nWarning: Consumer group &#39;ParserKafkaPipeline&#39; is rebalancing.\r\nParserBodyToParse 0          99              99              0               -               -               -\r\nParserBodyToParse 1          99              99              0               -               -               -\r\nParserBodyToParse 2          99              99              0               -               -               -\r\nParserBodyToParse 3          99              100             1               -               -               -\r\nParserBodyToParse 4          99              100             1               -               -               -\r\nParserBodyToParse 5          99              100             1               -               -               -\r\nParserBodyToParse 6          100             100             0               -               -               -\r\nParserBodyToParse 7          99              99              0               -               -               -\r\nParserBodyToParse 8          100             100             0               -               -               -\r\nParserBodyToParse 9          100             100             0               -               -               -\r\n```\r\n\r\nNotice the warning in the second call above. \r\n\r\nConsuming these messages might take a long time, but it shouldn&#39;t take more than two minutes. I checked that the limit on `consumer.poll` is 5 minutes, which shouldn&#39;t be an issue. Are there some logs to check what exactly is happening?\r\n\r\nUPDATE:\r\n\r\nWe use Kafka 2.2.1 and Java consumer. We didn&#39;t change the default value of `max.session` and `max.heartbeat`. The consumer is basically waiting for IO from other service, so it is not using any CPU – that is why I expect the heartbeat should be working correctly. \r\n\r\nOur consumer code is following:\r\n\r\n```kotlin\r\n    inline fun &lt;reified T : Any&gt; consume(\r\n            topic: KafkaTopic,\r\n            groupId: String,\r\n            batchSize: Int = 50,\r\n            crossinline consume: (key: String?, value: T) -&gt; (Unit)\r\n    ) = thread {\r\n        val consumerProperties = Properties()\r\n        consumerProperties.putAll(properties)\r\n        consumerProperties.put(ConsumerConfig.GROUP_ID_CONFIG, groupId)\r\n        consumerProperties.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, batchSize)\r\n\r\n        val consumer = KafkaConsumer&lt;String?, ByteArray&gt;(consumerProperties)\r\n\r\n        consumer.subscribe(listOf(topic.toString()))\r\n\r\n        while (true) try {\r\n            val records = consumer.poll(Duration.ofMinutes(pollDurationMinutes))\r\n            log.debug(&quot;Topic $topic consumed by group $groupId: ${records.count()} records.&quot;)\r\n            records.forEach { record -&gt; consumeRecord(record, topic, consume) }\r\n        } catch (e: Exception) {\r\n            log.fatal(&quot;Couldn&#39;t consume records: ${e.message}.&quot;, e)\r\n            // sleep to prevent logging hell when connection failure\r\n            Thread.sleep(1000)\r\n        }\r\n    }\r\n```","title":"Kafka keeps rebalancing consumers","body":"<p>We have 10 consumers in a group listening for a topic. What is happening very often is to see the consumers being rebalanced very often (which completely stops the consumer process for some time).</p>\n\n<pre><code># ./kafka-consumer-groups.sh --describe --bootstrap-server localhost:9092  --describe  --group ParserKafkaPipeline | grep -e ParserBody | sort\nParserBodyToParse 0          99              99              0               consumer-1-f29b7eb7-b871-477c-af52-446fbf4b0496  /10.12.18.58    consumer-1\nParserBodyToParse 1          97              97              0               consumer-10-6639ee02-8e68-40e6-aca1-eabd89bf828e /10.12.18.58    consumer-10\nParserBodyToParse 2          97              97              0               consumer-11-c712db8b-0396-4388-9e3a-e8e342355547 /10.12.18.58    consumer-11\nParserBodyToParse 3          97              98              1               consumer-12-0cc6fe12-d640-4344-91c0-f15e63c20cca /10.12.18.58    consumer-12\nParserBodyToParse 4          97              98              1               consumer-13-b904a958-141d-412e-83ea-950cd51e25e0 /10.12.18.58    consumer-13\nParserBodyToParse 5          97              98              1               consumer-14-7c70ba88-8b8c-4fad-b15b-cf7692a4b9ce /10.12.18.58    consumer-14\nParserBodyToParse 6          98              98              0               consumer-15-f0983c3d-8704-4127-808d-ec8b6b847008 /10.12.18.58    consumer-15\nParserBodyToParse 7          97              97              0               consumer-18-de5d20dd-217c-4db2-9b39-e2fdbca386e9 /10.12.18.58    consumer-18\nParserBodyToParse 8          98              98              0               consumer-5-bdeaf30a-d2bf-4aec-86ea-9c35a7acfe21  /10.12.18.58    consumer-5\nParserBodyToParse 9          98              98              0               consumer-9-4de1bf17-9474-4bd4-ae61-4ab254f52863  /10.12.18.58    consumer-9\n\n# ./kafka-consumer-groups.sh --describe --bootstrap-server localhost:9092  --describe  --group ParserKafkaPipeline | grep -e ParserBody | sort\nWarning: Consumer group 'ParserKafkaPipeline' is rebalancing.\nParserBodyToParse 0          99              99              0               -               -               -\nParserBodyToParse 1          99              99              0               -               -               -\nParserBodyToParse 2          99              99              0               -               -               -\nParserBodyToParse 3          99              100             1               -               -               -\nParserBodyToParse 4          99              100             1               -               -               -\nParserBodyToParse 5          99              100             1               -               -               -\nParserBodyToParse 6          100             100             0               -               -               -\nParserBodyToParse 7          99              99              0               -               -               -\nParserBodyToParse 8          100             100             0               -               -               -\nParserBodyToParse 9          100             100             0               -               -               -\n</code></pre>\n\n<p>Notice the warning in the second call above. </p>\n\n<p>Consuming these messages might take a long time, but it shouldn't take more than two minutes. I checked that the limit on <code>consumer.poll</code> is 5 minutes, which shouldn't be an issue. Are there some logs to check what exactly is happening?</p>\n\n<p>UPDATE:</p>\n\n<p>We use Kafka 2.2.1 and Java consumer. We didn't change the default value of <code>max.session</code> and <code>max.heartbeat</code>. The consumer is basically waiting for IO from other service, so it is not using any CPU – that is why I expect the heartbeat should be working correctly. </p>\n\n<p>Our consumer code is following:</p>\n\n<pre><code>    inline fun &lt;reified T : Any&gt; consume(\n            topic: KafkaTopic,\n            groupId: String,\n            batchSize: Int = 50,\n            crossinline consume: (key: String?, value: T) -&gt; (Unit)\n    ) = thread {\n        val consumerProperties = Properties()\n        consumerProperties.putAll(properties)\n        consumerProperties.put(ConsumerConfig.GROUP_ID_CONFIG, groupId)\n        consumerProperties.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, batchSize)\n\n        val consumer = KafkaConsumer&lt;String?, ByteArray&gt;(consumerProperties)\n\n        consumer.subscribe(listOf(topic.toString()))\n\n        while (true) try {\n            val records = consumer.poll(Duration.ofMinutes(pollDurationMinutes))\n            log.debug(\"Topic $topic consumed by group $groupId: ${records.count()} records.\")\n            records.forEach { record -&gt; consumeRecord(record, topic, consume) }\n        } catch (e: Exception) {\n            log.fatal(\"Couldn't consume records: ${e.message}.\", e)\n            // sleep to prevent logging hell when connection failure\n            Thread.sleep(1000)\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":1,"creation_date":1653628275,"post_id":72400696,"comment_id":127901417,"body_markdown":"you are not creating new object, you are updating existing object. Create new object every time.","body":"you are not creating new object, you are updating existing object. Create new object every time."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653628226,"creation_date":1653628226,"answer_id":72400710,"question_id":72400696,"body_markdown":"Create a new Object first\r\n\r\n    ArrayList &lt;Airport&gt; myAl = new ArrayList();\r\n    Airport obj = new Airport();\r\n    int i = -1;\r\n    obj.setValues(++i, &quot;Wright-Patterson Air Force Base&quot;, &quot;OH&quot;, 39.819527, -84.067406, 0);\r\n    myAl.add(obj);\r\n\r\n    obj = new Airport();\r\n    obj.setValues(++i, &quot;John F. Kennedy International Airport&quot;, &quot;NY&quot;,40.641766 , -73.780968,0);\r\n    myAl.add(obj);\r\n\r\n    obj = new Airport();\r\n    obj.setValues(++i, &quot;Charlotte Douglas International Airport&quot;, &quot;NC&quot;, 35.213890, -80.943054, 0);\r\n    myAl.add(obj);\r\n\r\n    obj = new Airport();\r\n    obj.setValues(++i, &quot;O’Hare International Airport&quot;, &quot; IL&quot;, 41.978611, -87.904724, 0);\r\n    myAl.add(obj);\r\n\r\n    // etc","title":"Java put different objects in the same arrayList","body":"<p>Create a new Object first</p>\n<pre><code>ArrayList &lt;Airport&gt; myAl = new ArrayList();\nAirport obj = new Airport();\nint i = -1;\nobj.setValues(++i, &quot;Wright-Patterson Air Force Base&quot;, &quot;OH&quot;, 39.819527, -84.067406, 0);\nmyAl.add(obj);\n\nobj = new Airport();\nobj.setValues(++i, &quot;John F. Kennedy International Airport&quot;, &quot;NY&quot;,40.641766 , -73.780968,0);\nmyAl.add(obj);\n\nobj = new Airport();\nobj.setValues(++i, &quot;Charlotte Douglas International Airport&quot;, &quot;NC&quot;, 35.213890, -80.943054, 0);\nmyAl.add(obj);\n\nobj = new Airport();\nobj.setValues(++i, &quot;O’Hare International Airport&quot;, &quot; IL&quot;, 41.978611, -87.904724, 0);\nmyAl.add(obj);\n\n// etc\n</code></pre>\n"}],"owner":{"account_id":20736173,"reputation":13,"user_id":15226986,"display_name":"TediNicolescu1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72400710,"answer_count":1,"score":0,"last_activity_date":1653628226,"creation_date":1653628127,"question_id":72400696,"body_markdown":"I have a Airport class where I built the airport object. Now, I am trying to put different objects in the same array but without changing the object name every single time.\r\nThe problem is that my program will only get the last object instead of getting all of them.\r\n&#39;&#39;&#39;\r\npublic class Main {\r\n\t \r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tArrayList &lt;Airport&gt; myAl = new ArrayList();\r\n\t\tAirport obj = new Airport();\r\n\t\tint i = -1;\r\n\t\tobj.setValues(++i, &quot;Wright-Patterson Air Force Base&quot;, &quot;OH&quot;, 39.819527, -84.067406, 0);\r\n\t\tmyAl.add(obj);\r\n\t\tobj.setValues(++i, &quot;John F. Kennedy International Airport&quot;, &quot;NY&quot;,40.641766 , -73.780968,0);\r\n\t\tmyAl.add(obj);\r\n\t\tobj.setValues(++i, &quot;Charlotte Douglas International Airport&quot;, &quot;NC&quot;, 35.213890, -80.943054, 0);\r\n\t\tmyAl.add(obj);\r\n\t\tobj.setValues(++i, &quot;O’Hare International Airport&quot;, &quot; IL&quot;, 41.978611, -87.904724, 0);\r\n\t\tmyAl.add(obj);\r\n\t\tobj.setValues(++i, &quot;Tucson International Airport&quot;, &quot;AZ&quot;, 32.116112, -110.941109, 0);\r\n\t\tmyAl.add(obj);\r\n\r\n\t\tAirport xx = new Airport();\r\n\t\tfor(i =0; i&lt;myAl.size();i++)\r\n\t\t{\r\n\t\t\txx = myAl.get(i);\r\n\t\t\tSystem.out.print(xx.getId() +&quot; &quot; + xx.getFullName()+&quot;\\n&quot;);\r\n\t\t}\r\n\r\n\r\n\t}}\r\n&#39;&#39;&#39;\r\nOutput\r\n```\r\n4 Tucson International Airport AZ \r\n4 Tucson International Airport AZ \r\n4 Tucson International Airport AZ \r\n4 Tucson International Airport AZ \r\n4 Tucson International Airport AZ \r\n```","title":"Java put different objects in the same arrayList","body":"<p>I have a Airport class where I built the airport object. Now, I am trying to put different objects in the same array but without changing the object name every single time.\nThe problem is that my program will only get the last object instead of getting all of them.\n'''\npublic class Main {</p>\n<pre><code>public static void main(String[] args)\n{\n    ArrayList &lt;Airport&gt; myAl = new ArrayList();\n    Airport obj = new Airport();\n    int i = -1;\n    obj.setValues(++i, &quot;Wright-Patterson Air Force Base&quot;, &quot;OH&quot;, 39.819527, -84.067406, 0);\n    myAl.add(obj);\n    obj.setValues(++i, &quot;John F. Kennedy International Airport&quot;, &quot;NY&quot;,40.641766 , -73.780968,0);\n    myAl.add(obj);\n    obj.setValues(++i, &quot;Charlotte Douglas International Airport&quot;, &quot;NC&quot;, 35.213890, -80.943054, 0);\n    myAl.add(obj);\n    obj.setValues(++i, &quot;O’Hare International Airport&quot;, &quot; IL&quot;, 41.978611, -87.904724, 0);\n    myAl.add(obj);\n    obj.setValues(++i, &quot;Tucson International Airport&quot;, &quot;AZ&quot;, 32.116112, -110.941109, 0);\n    myAl.add(obj);\n\n    Airport xx = new Airport();\n    for(i =0; i&lt;myAl.size();i++)\n    {\n        xx = myAl.get(i);\n        System.out.print(xx.getId() +&quot; &quot; + xx.getFullName()+&quot;\\n&quot;);\n    }\n\n\n}}\n</code></pre>\n<p>'''\nOutput</p>\n<pre><code>4 Tucson International Airport AZ \n4 Tucson International Airport AZ \n4 Tucson International Airport AZ \n4 Tucson International Airport AZ \n4 Tucson International Airport AZ \n</code></pre>\n"},{"tags":["python","java","apache-spark","pyspark","out-of-memory"],"comments":[{"owner":{"account_id":294609,"reputation":7307,"user_id":598599,"accept_rate":57,"display_name":"AutomatedChaos"},"score":1,"creation_date":1646744818,"post_id":71394682,"comment_id":126195405,"body_markdown":"First, try limiting your loops. Make it a for loop instead of a while and do only 1 or 2 iterations. See what is happening. Then do it with a few iterations. Using and re-using dataframes while joining them can create huge query plans that can result in cartesian products. You need to understand which steps create the bottleneck in order to solve that.","body":"First, try limiting your loops. Make it a for loop instead of a while and do only 1 or 2 iterations. See what is happening. Then do it with a few iterations. Using and re-using dataframes while joining them can create huge query plans that can result in cartesian products. You need to understand which steps create the bottleneck in order to solve that."},{"owner":{"account_id":15038674,"reputation":11,"user_id":10854099,"display_name":"Banny Vishwas"},"score":0,"creation_date":1646805313,"post_id":71394682,"comment_id":126211985,"body_markdown":"@AutomatedChaos thanks for the suggestion, the loop should iterate through all cases and assign every EMPLOYEE_ID an EMPLOYEE_LEVEL, I tried not to use any **action** function inside the loop to avoid the bottleneck but still when it&#39;s executing it gives the same error, I can&#39;t figure it out why? level_df has less records than content_df still it&#39;s giving error?","body":"@AutomatedChaos thanks for the suggestion, the loop should iterate through all cases and assign every EMPLOYEE_ID an EMPLOYEE_LEVEL, I tried not to use any <b>action</b> function inside the loop to avoid the bottleneck but still when it&#39;s executing it gives the same error, I can&#39;t figure it out why? level_df has less records than content_df still it&#39;s giving error?"}],"answers":[{"tags":[],"owner":{"account_id":15021043,"reputation":1,"user_id":10842445,"display_name":"Shaowei Gong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653628008,"creation_date":1653628008,"answer_id":72400683,"question_id":71394682,"body_markdown":"I figure out the problem. This error related to the mechanism of spark DAG, it use DAG lineage to track a series transformations, when the algorithms need to iterate, the lineage can grow fast and hit the limitation of memory. So break the lineage is necessary when implementing iteration algorithms. \r\n\r\nThere are mainly 2 ways: 1. add checkpoint. 2.recreate dataframe.\r\nI modify my codes below, which just add a checkpoint to break the lineage and works for me.\r\n\r\n    epoch_cnt = 0\r\n    while True:\r\n        print(&#39;hahaha1&#39;)\r\n        \r\n        print(&#39;cached df&#39;, len(spark.sparkContext._jsc.getPersistentRDDs().items()))\r\n        \r\n        singer_pairs_undirected_ungrouped = singer_pairs_undirected.join(old_song_group_kernel,\r\n                                                                         on=singer_pairs_undirected[&#39;src&#39;] == old_song_group_kernel[&#39;id&#39;],\r\n                                                                         how=&#39;left&#39;).filter(F.col(&#39;id&#39;).isNull()) \\\r\n            .select(&#39;src&#39;, &#39;dst&#39;)\r\n    \r\n        windowSpec = Window.partitionBy(&quot;src&quot;).orderBy(F.col(&quot;song_group_id_cnt&quot;).desc())\r\n    \r\n        singer_pairs_vote = singer_pairs_undirected_ungrouped.join(old_song_group_kernel,\r\n                                                                   on=singer_pairs_undirected_ungrouped[&#39;dst&#39;] ==\r\n                                                                      old_song_group_kernel[&#39;id&#39;], how=&#39;inner&#39;) \\\r\n            .groupBy(&#39;src&#39;, &#39;song_group_id&#39;) \\\r\n            .agg(F.count(&#39;song_group_id&#39;).alias(&#39;song_group_id_cnt&#39;)) \\\r\n            .withColumn(&#39;song_group_id_cnt_rnk&#39;, F.row_number().over(windowSpec)) \\\r\n            .filter(F.col(&#39;song_group_id_cnt_rnk&#39;) == 1)\r\n    \r\n        singer_pairs_vote_output = singer_pairs_vote.select(&#39;src&#39;, &#39;song_group_id&#39;) \\\r\n            .withColumnRenamed(&#39;src&#39;, &#39;id&#39;)\r\n        \r\n        print(&#39;hahaha5&#39;)\r\n    \r\n        new_song_group_kernel = old_song_group_kernel.union(singer_pairs_vote_output) \\\r\n            .select(&#39;id&#39;, &#39;song_group_id&#39;).dropDuplicates().persist().checkpoint()\r\n        \r\n        print(&#39;hahaha9&#39;)\r\n        \r\n        current_kernel_cnt = new_song_group_kernel.count()\r\n        \r\n        print(&#39;hahaha2&#39;)\r\n        old_song_group_kernel.unpersist()\r\n        print(&#39;hahaha3&#39;)\r\n        old_song_group_kernel = new_song_group_kernel\r\n    \r\n        epoch_cnt += 1\r\n        print(&#39;epoch rounds: &#39;, epoch_cnt)\r\n        print(&#39;previous kernel count: &#39;, previous_kernel_cnt)\r\n        print(&#39;current kernel count: &#39;, current_kernel_cnt)\r\n    \r\n        if current_kernel_cnt &lt;= previous_kernel_cnt:\r\n            print(&#39;Iteration done !&#39;)\r\n            break\r\n            \r\n        print(&#39;hahaha4&#39;)\r\n    \r\n        previous_kernel_cnt = current_kernel_cnt","title":"Pyspark Java.lang.OutOfMemoryError: Java heap space","body":"<p>I figure out the problem. This error related to the mechanism of spark DAG, it use DAG lineage to track a series transformations, when the algorithms need to iterate, the lineage can grow fast and hit the limitation of memory. So break the lineage is necessary when implementing iteration algorithms.</p>\n<p>There are mainly 2 ways: 1. add checkpoint. 2.recreate dataframe.\nI modify my codes below, which just add a checkpoint to break the lineage and works for me.</p>\n<pre><code>epoch_cnt = 0\nwhile True:\n    print('hahaha1')\n    \n    print('cached df', len(spark.sparkContext._jsc.getPersistentRDDs().items()))\n    \n    singer_pairs_undirected_ungrouped = singer_pairs_undirected.join(old_song_group_kernel,\n                                                                     on=singer_pairs_undirected['src'] == old_song_group_kernel['id'],\n                                                                     how='left').filter(F.col('id').isNull()) \\\n        .select('src', 'dst')\n\n    windowSpec = Window.partitionBy(&quot;src&quot;).orderBy(F.col(&quot;song_group_id_cnt&quot;).desc())\n\n    singer_pairs_vote = singer_pairs_undirected_ungrouped.join(old_song_group_kernel,\n                                                               on=singer_pairs_undirected_ungrouped['dst'] ==\n                                                                  old_song_group_kernel['id'], how='inner') \\\n        .groupBy('src', 'song_group_id') \\\n        .agg(F.count('song_group_id').alias('song_group_id_cnt')) \\\n        .withColumn('song_group_id_cnt_rnk', F.row_number().over(windowSpec)) \\\n        .filter(F.col('song_group_id_cnt_rnk') == 1)\n\n    singer_pairs_vote_output = singer_pairs_vote.select('src', 'song_group_id') \\\n        .withColumnRenamed('src', 'id')\n    \n    print('hahaha5')\n\n    new_song_group_kernel = old_song_group_kernel.union(singer_pairs_vote_output) \\\n        .select('id', 'song_group_id').dropDuplicates().persist().checkpoint()\n    \n    print('hahaha9')\n    \n    current_kernel_cnt = new_song_group_kernel.count()\n    \n    print('hahaha2')\n    old_song_group_kernel.unpersist()\n    print('hahaha3')\n    old_song_group_kernel = new_song_group_kernel\n\n    epoch_cnt += 1\n    print('epoch rounds: ', epoch_cnt)\n    print('previous kernel count: ', previous_kernel_cnt)\n    print('current kernel count: ', current_kernel_cnt)\n\n    if current_kernel_cnt &lt;= previous_kernel_cnt:\n        print('Iteration done !')\n        break\n        \n    print('hahaha4')\n\n    previous_kernel_cnt = current_kernel_cnt\n</code></pre>\n"}],"owner":{"account_id":15038674,"reputation":11,"user_id":10854099,"display_name":"Banny Vishwas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653628008,"creation_date":1646740770,"question_id":71394682,"body_markdown":"I am solving a problem using spark running in my local machine.\r\n\r\nI am reading a parquet file from the local disk and storing it to the dataframe.\r\n```\r\nimport pyspark\r\nfrom pyspark.sql import SparkSession\r\nfrom pyspark.sql.functions import *\r\n\r\nspark = SparkSession.builder\\\r\n    .config(&quot;spark.driver.memory&quot;,&quot;4g&quot;)\\\r\n    .config(&quot;spark.executor.memory&quot;,&quot;4g&quot;)\\\r\n    .config(&quot;spark.driver.maxResultSize&quot;,&quot;2g&quot;)\\\r\n    .getOrCreate()\r\n\r\ncontent = spark.read.parquet(&#39;./files/file&#39;)\r\n```\r\nSo, **Content** Dataframe contents around 500k rows i.e.\r\n```\r\n+-----------+----------+\r\n|EMPLOYEE_ID|MANAGER_ID|\r\n+-----------+----------+\r\n|        100|         0|\r\n|        101|       100|\r\n|        102|       100|\r\n|        103|       100|\r\n|        104|       100|\r\n|        105|       100|\r\n|        106|       101|\r\n|        101|       101|\r\n|        101|       101|\r\n|        101|       101|\r\n|        101|       102|\r\n|        101|       102|\r\n       .           .\r\n       .           .\r\n       .           .\r\n```\r\nI write this code to provide each EMPLOYEE_ID an **EMPLOYEE_LEVEL** according to their hierarchy.\r\n```\r\n# Assign EMPLOYEE_LEVEL 1 WHEN MANAGER_ID is 0 ELSE NULL\r\ncontent_df = content.withColumn(&quot;EMPLOYEE_LEVEL&quot;, when(col(&quot;MANAGER_ID&quot;) == 0, 1).otherwise(lit(&#39;&#39;)))\r\n\r\nlevel_df = content_df.select(&quot;*&quot;).filter(&quot;Level = 1&quot;)\r\n\r\nlevel = 1\r\nwhile True:\r\n    ldf = level_df\r\n    temp_df = content_df.join(\r\n        ldf,\r\n        ((ldf[&quot;EMPLOYEE_LEVEL&quot;] == level) &amp; \r\n         (ldf[&quot;EMPLOYEE_ID&quot;] == content_df[&quot;MANAGER_ID&quot;])),\r\n        &quot;left&quot;) \\\r\n    .withColumn(&quot;EMPLOYEE_LEVEL&quot;,ldf[&quot;EMPLOYEE_LEVEL&quot;]+1)\\\r\n    .select(&quot;EMPLOYEE_ID&quot;,&quot;MANAGER_ID&quot;,&quot;EMPLOYEE_LEVEL&quot;)\\\r\n    .filter(&quot;EMPLOYEE_LEVEL IS NOT NULL&quot;)\\\r\n    .distinct()\r\n    \r\n    if temp_df.count() == 0:\r\n        break\r\n    level_df = level_df.union(temp_df)\r\n    level += 1\r\n```\r\nIt&#39;s running, but very slow execution and after some period of time it gives this error.\r\n```\r\nPy4JJavaError: An error occurred while calling o383.count.\r\n: java.lang.OutOfMemoryError: Java heap space\r\n\tat scala.collection.immutable.List.$colon$colon(List.scala:117)\r\n\tat scala.collection.immutable.List.$plus$colon(List.scala:220)\r\n\tat org.apache.spark.sql.catalyst.expressions.String2TrimExpression.children(stringExpressions.scala:816)\r\n\tat org.apache.spark.sql.catalyst.expressions.String2TrimExpression.children$(stringExpressions.scala:816)\r\n\tat org.apache.spark.sql.catalyst.expressions.StringTrim.children(stringExpressions.scala:948)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.withNewChildren(TreeNode.scala:351)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.mapChildren(TreeNode.scala:595)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$3(TreeNode.scala:486)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode$$Lambda$1822/0x0000000100d21040.apply(Unknown Source)\r\n\tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike$$Lambda$61/0x00000001001d2040.apply(Unknown Source)\r\n\tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n\tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n\tat scala.collection.TraversableLike.map(TraversableLike.scala:286)\r\n\tat scala.collection.TraversableLike.map$(TraversableLike.scala:279)\r\n\tat scala.collection.AbstractTraversable.map(Traversable.scala:108)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.mapChildren(TreeNode.scala:595)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$3(TreeNode.scala:486)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode$$Lambda$1822/0x0000000100d21040.apply(Unknown Source)\r\n\tat org.apache.spark.sql.catalyst.trees.BinaryLike.mapChildren(TreeNode.scala:1148)\r\n\tat org.apache.spark.sql.catalyst.trees.BinaryLike.mapChildren$(TreeNode.scala:1147)\r\n\tat org.apache.spark.sql.catalyst.expressions.BinaryExpression.mapChildren(Expression.scala:555)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$3(TreeNode.scala:486)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode$$Lambda$1822/0x0000000100d21040.apply(Unknown Source)\r\n\tat org.apache.spark.sql.catalyst.trees.UnaryLike.mapChildren(TreeNode.scala:1122)\r\n\tat org.apache.spark.sql.catalyst.trees.UnaryLike.mapChildren$(TreeNode.scala:1121)\r\n\tat org.apache.spark.sql.catalyst.expressions.UnaryExpression.mapChildren(Expression.scala:467)\r\n\tat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\r\n``` \r\n I tried many solutions including increasing driver and executor memory, using cache() and persist() for dataframe also doesn&#39;t worked for me.\r\n\r\nI am using Spark 3.2.1 \r\n[Spark][1]\r\n\r\nAny help will be appreciated.\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YTTy5.png","title":"Pyspark Java.lang.OutOfMemoryError: Java heap space","body":"<p>I am solving a problem using spark running in my local machine.</p>\n<p>I am reading a parquet file from the local disk and storing it to the dataframe.</p>\n<pre><code>import pyspark\nfrom pyspark.sql import SparkSession\nfrom pyspark.sql.functions import *\n\nspark = SparkSession.builder\\\n    .config(&quot;spark.driver.memory&quot;,&quot;4g&quot;)\\\n    .config(&quot;spark.executor.memory&quot;,&quot;4g&quot;)\\\n    .config(&quot;spark.driver.maxResultSize&quot;,&quot;2g&quot;)\\\n    .getOrCreate()\n\ncontent = spark.read.parquet('./files/file')\n</code></pre>\n<p>So, <strong>Content</strong> Dataframe contents around 500k rows i.e.</p>\n<pre><code>+-----------+----------+\n|EMPLOYEE_ID|MANAGER_ID|\n+-----------+----------+\n|        100|         0|\n|        101|       100|\n|        102|       100|\n|        103|       100|\n|        104|       100|\n|        105|       100|\n|        106|       101|\n|        101|       101|\n|        101|       101|\n|        101|       101|\n|        101|       102|\n|        101|       102|\n       .           .\n       .           .\n       .           .\n</code></pre>\n<p>I write this code to provide each EMPLOYEE_ID an <strong>EMPLOYEE_LEVEL</strong> according to their hierarchy.</p>\n<pre><code># Assign EMPLOYEE_LEVEL 1 WHEN MANAGER_ID is 0 ELSE NULL\ncontent_df = content.withColumn(&quot;EMPLOYEE_LEVEL&quot;, when(col(&quot;MANAGER_ID&quot;) == 0, 1).otherwise(lit('')))\n\nlevel_df = content_df.select(&quot;*&quot;).filter(&quot;Level = 1&quot;)\n\nlevel = 1\nwhile True:\n    ldf = level_df\n    temp_df = content_df.join(\n        ldf,\n        ((ldf[&quot;EMPLOYEE_LEVEL&quot;] == level) &amp; \n         (ldf[&quot;EMPLOYEE_ID&quot;] == content_df[&quot;MANAGER_ID&quot;])),\n        &quot;left&quot;) \\\n    .withColumn(&quot;EMPLOYEE_LEVEL&quot;,ldf[&quot;EMPLOYEE_LEVEL&quot;]+1)\\\n    .select(&quot;EMPLOYEE_ID&quot;,&quot;MANAGER_ID&quot;,&quot;EMPLOYEE_LEVEL&quot;)\\\n    .filter(&quot;EMPLOYEE_LEVEL IS NOT NULL&quot;)\\\n    .distinct()\n    \n    if temp_df.count() == 0:\n        break\n    level_df = level_df.union(temp_df)\n    level += 1\n</code></pre>\n<p>It's running, but very slow execution and after some period of time it gives this error.</p>\n<pre><code>Py4JJavaError: An error occurred while calling o383.count.\n: java.lang.OutOfMemoryError: Java heap space\n    at scala.collection.immutable.List.$colon$colon(List.scala:117)\n    at scala.collection.immutable.List.$plus$colon(List.scala:220)\n    at org.apache.spark.sql.catalyst.expressions.String2TrimExpression.children(stringExpressions.scala:816)\n    at org.apache.spark.sql.catalyst.expressions.String2TrimExpression.children$(stringExpressions.scala:816)\n    at org.apache.spark.sql.catalyst.expressions.StringTrim.children(stringExpressions.scala:948)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.withNewChildren(TreeNode.scala:351)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.mapChildren(TreeNode.scala:595)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$3(TreeNode.scala:486)\n    at org.apache.spark.sql.catalyst.trees.TreeNode$$Lambda$1822/0x0000000100d21040.apply(Unknown Source)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:286)\n    at scala.collection.TraversableLike$$Lambda$61/0x00000001001d2040.apply(Unknown Source)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:286)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:279)\n    at scala.collection.AbstractTraversable.map(Traversable.scala:108)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.mapChildren(TreeNode.scala:595)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$3(TreeNode.scala:486)\n    at org.apache.spark.sql.catalyst.trees.TreeNode$$Lambda$1822/0x0000000100d21040.apply(Unknown Source)\n    at org.apache.spark.sql.catalyst.trees.BinaryLike.mapChildren(TreeNode.scala:1148)\n    at org.apache.spark.sql.catalyst.trees.BinaryLike.mapChildren$(TreeNode.scala:1147)\n    at org.apache.spark.sql.catalyst.expressions.BinaryExpression.mapChildren(Expression.scala:555)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$3(TreeNode.scala:486)\n    at org.apache.spark.sql.catalyst.trees.TreeNode$$Lambda$1822/0x0000000100d21040.apply(Unknown Source)\n    at org.apache.spark.sql.catalyst.trees.UnaryLike.mapChildren(TreeNode.scala:1122)\n    at org.apache.spark.sql.catalyst.trees.UnaryLike.mapChildren$(TreeNode.scala:1121)\n    at org.apache.spark.sql.catalyst.expressions.UnaryExpression.mapChildren(Expression.scala:467)\n    at org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:486)\n</code></pre>\n<p>I tried many solutions including increasing driver and executor memory, using cache() and persist() for dataframe also doesn't worked for me.</p>\n<p>I am using Spark 3.2.1\n<a href=\"https://i.stack.imgur.com/YTTy5.png\" rel=\"nofollow noreferrer\">Spark</a></p>\n<p>Any help will be appreciated.\nThank you.</p>\n"},{"tags":["java","xml","csv"],"comments":[{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":1,"creation_date":1345881831,"post_id":12120055,"comment_id":16205983,"body_markdown":"Have a look at http://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java","body":"Have a look at <a href=\"http://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java\" title=\"how to pretty print xml from java\">stackoverflow.com/questions/139076/&hellip;</a>"},{"owner":{"account_id":429324,"reputation":8238,"user_id":812149,"accept_rate":100,"display_name":"S.L. Barth is on codidact.com"},"score":0,"creation_date":1362754285,"post_id":12120055,"comment_id":21587298,"body_markdown":"@Tom I don&#39;t think it&#39;s a duplicate. That question asks for existing tools. This question asks what&#39;s wrong with his own code.","body":"@Tom I don&#39;t think it&#39;s a duplicate. That question asks for existing tools. This question asks what&#39;s wrong with his own code."},{"owner":{"account_id":4074210,"reputation":482,"user_id":3346298,"display_name":"Damian229"},"score":0,"creation_date":1593533652,"post_id":12120055,"comment_id":110812739,"body_markdown":"@lee take a look into [jsefa](http://jsefa.sourceforge.net/quick-tutorial.html), it may help you on reducing the boilerplate needed for parsing and unparsing XML","body":"@lee take a look into <a href=\"http://jsefa.sourceforge.net/quick-tutorial.html\" rel=\"nofollow noreferrer\">jsefa</a>, it may help you on reducing the boilerplate needed for parsing and unparsing XML"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653627731,"creation_date":1345881983,"answer_id":12120288,"question_id":12120055,"body_markdown":"I&#39;d agree with Kennet.\r\n\r\nI simply added\r\n\r\n    aTransformer .setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    aTransformer .setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n    aTransformer .setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n\r\nThis added a new line between the elements and allowed for indentation.\r\n\r\n**UPDATED**\r\n\r\nLet&#39;s start with the fact that the file you&#39;re presented isn&#39;t a CSV (Comma separated value) file and I&#39;ll let you worry about that problem...\r\n\r\n    List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\r\n\r\n    File file = new File(&quot;Names2.csv&quot;);\r\n    BufferedReader reader = null;\r\n\r\n    try {\r\n\r\n        DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder domBuilder = domFactory.newDocumentBuilder();\r\n\r\n        Document newDoc = domBuilder.newDocument();\r\n        // Root element\r\n        Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\r\n        newDoc.appendChild(rootElement);\r\n\r\n        reader = new BufferedReader(new FileReader(file));\r\n        int line = 0;\r\n\r\n        String text = null;\r\n        while ((text = reader.readLine()) != null) {\r\n\r\n            StringTokenizer st = new StringTokenizer(text, &quot; &quot;, false);    \r\n            String[] rowValues = new String[st.countTokens()];\r\n            int index = 0;\r\n            while (st.hasMoreTokens()) {\r\n                \r\n                String next = st.nextToken();\r\n                rowValues[index++] = next;\r\n                \r\n            }\r\n        \r\n            //String[] rowValues = text.split(&quot;,&quot;);\r\n\r\n            if (line == 0) { // Header row\r\n                for (String col : rowValues) {\r\n                    headers.add(col);\r\n                }\r\n            } else { // Data row\r\n                Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n                rootElement.appendChild(rowElement);\r\n                for (int col = 0; col &lt; headers.size(); col++) {\r\n                    String header = headers.get(col);\r\n                    String value = null;\r\n\r\n                    if (col &lt; rowValues.length) {\r\n                        value = rowValues[col];\r\n                    } else {\r\n                        // ?? Default value\r\n                        value = &quot;&quot;;\r\n                    }\r\n\r\n                    Element curElement = newDoc.createElement(header);\r\n                    curElement.appendChild(newDoc.createTextNode(value));\r\n                    rowElement.appendChild(curElement);\r\n                }\r\n            }\r\n            line++;\r\n        }\r\n\r\n        ByteArrayOutputStream baos = null;\r\n        OutputStreamWriter osw = null;\r\n\r\n        try {\r\n            baos = new ByteArrayOutputStream();\r\n            osw = new OutputStreamWriter(baos);\r\n\r\n            TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n            Transformer aTransformer = tranFactory.newTransformer();\r\n            aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n            aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n\r\n            Source src = new DOMSource(newDoc);\r\n            Result result = new StreamResult(osw);\r\n            aTransformer.transform(src, result);\r\n\r\n            osw.flush();\r\n            System.out.println(new String(baos.toByteArray()));\r\n        } catch (Exception exp) {\r\n            exp.printStackTrace();\r\n        } finally {\r\n            try {\r\n                osw.close();\r\n            } catch (Exception e) {\r\n            }\r\n            try {\r\n                baos.close();\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nNow I&#39;ve used a `List` instead of a `Map` here.  You&#39;ll need to decide how best to approach the missing values problem.  Without knowing the structure of the file in advance, this is not going to be a simple solution.\r\n\r\nAny way, I end up with\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;XMLCreators&gt;\r\n        &lt;row&gt;\r\n            &lt;Name&gt;chi&lt;/Name&gt;\r\n            &lt;Age&gt;23&lt;/Age&gt;\r\n            &lt;Sex/&gt;\r\n        &lt;/row&gt;\r\n        &lt;row&gt;\r\n            &lt;Name&gt;kay&lt;/Name&gt;\r\n            &lt;Age&gt;19&lt;/Age&gt;\r\n            &lt;Sex&gt;male&lt;/Sex&gt;\r\n        &lt;/row&gt;\r\n        &lt;row&gt;\r\n            &lt;Name&gt;John&lt;/Name&gt;\r\n            &lt;Age&gt;male&lt;/Age&gt;\r\n            &lt;Sex/&gt;\r\n        &lt;/row&gt;\r\n    &lt;/XMLCreators&gt;\r\n\r\n**Updated with merge**\r\n\r\n    public class XMLCreators {\r\n        // Protected Properties\r\n\r\n        protected DocumentBuilderFactory domFactory = null;\r\n        protected DocumentBuilder domBuilder = null;\r\n\r\n        public XMLCreators() {\r\n            try {\r\n                domFactory = DocumentBuilderFactory.newInstance();\r\n                domBuilder = domFactory.newDocumentBuilder();\r\n            } catch (FactoryConfigurationError exp) {\r\n                System.err.println(exp.toString());\r\n            } catch (ParserConfigurationException exp) {\r\n                System.err.println(exp.toString());\r\n            } catch (Exception exp) {\r\n                System.err.println(exp.toString());\r\n            }\r\n\r\n        }\r\n\r\n        public int convertFile(String csvFileName, String xmlFileName,\r\n                        String delimiter) {\r\n\r\n            int rowsCount = -1;\r\n            try {\r\n                Document newDoc = domBuilder.newDocument();\r\n                // Root element\r\n                Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\r\n                newDoc.appendChild(rootElement);\r\n                // Read csv file\r\n                BufferedReader csvReader;\r\n                csvReader = new BufferedReader(new FileReader(csvFileName));\r\n\r\n    //                int fieldCount = 0;\r\n    //                String[] csvFields = null;\r\n    //                StringTokenizer stringTokenizer = null;\r\n    //\r\n    //                // Assumes the first line in CSV file is column/field names\r\n    //                // The column names are used to name the elements in the XML file,\r\n    //                // avoid the use of Space or other characters not suitable for XML element\r\n    //                // naming\r\n    //\r\n    //                String curLine = csvReader.readLine();\r\n    //                if (curLine != null) {\r\n    //                    // how about other form of csv files?\r\n    //                    stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n    //                    fieldCount = stringTokenizer.countTokens();\r\n    //                    if (fieldCount &gt; 0) {\r\n    //                        csvFields = new String[fieldCount];\r\n    //                        int i = 0;\r\n    //                        while (stringTokenizer.hasMoreElements()) {\r\n    //                            csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\r\n    //                        }\r\n    //                    }\r\n    //                }\r\n    //\r\n    //                // At this point the coulmns are known, now read data by lines\r\n    //                while ((curLine = csvReader.readLine()) != null) {\r\n    //                    stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n    //                    fieldCount = stringTokenizer.countTokens();\r\n    //                    if (fieldCount &gt; 0) {\r\n    //                        Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n    //                        int i = 0;\r\n    //                        while (stringTokenizer.hasMoreElements()) {\r\n    //                            try {\r\n    //                                String curValue = String.valueOf(stringTokenizer.nextElement());\r\n    //                                Element curElement = newDoc.createElement(csvFields[i++]);\r\n    //                                curElement.appendChild(newDoc.createTextNode(curValue));\r\n    //                                rowElement.appendChild(curElement);\r\n    //                            } catch (Exception exp) {\r\n    //                            }\r\n    //                        }\r\n    //                        rootElement.appendChild(rowElement);\r\n    //                        rowsCount++;\r\n    //                    }\r\n    //                }\r\n    //                csvReader.close();\r\n    //\r\n    //                // Save the document to the disk file\r\n    //                TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n    //                Transformer aTransformer = tranFactory.newTransformer();\r\n    //                Source src = new DOMSource(newDoc);\r\n    //                Result result = new StreamResult(new File(xmlFileName));\r\n    //                aTransformer.transform(src, result);\r\n    //                rowsCount++;\r\n                int line = 0;\r\n                List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\r\n\r\n                String text = null;\r\n                while ((text = csvReader.readLine()) != null) {\r\n\r\n                    StringTokenizer st = new StringTokenizer(text, delimiter, false);\r\n                    String[] rowValues = new String[st.countTokens()];\r\n                    int index = 0;\r\n                    while (st.hasMoreTokens()) {\r\n\r\n                        String next = st.nextToken();\r\n                        rowValues[index++] = next;\r\n\r\n                    }\r\n\r\n                    if (line == 0) { // Header row\r\n\r\n                        for (String col : rowValues) {\r\n                            headers.add(col);\r\n                        }\r\n\r\n                    } else { // Data row\r\n                        \r\n                        rowsCount++;\r\n\r\n                        Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n                        rootElement.appendChild(rowElement);\r\n                        for (int col = 0; col &lt; headers.size(); col++) {\r\n\r\n                            String header = headers.get(col);\r\n                            String value = null;\r\n\r\n                            if (col &lt; rowValues.length) {\r\n\r\n                                value = rowValues[col];\r\n\r\n                            } else {\r\n                                // ?? Default value\r\n                                value = &quot;&quot;;\r\n                            }\r\n\r\n                            Element curElement = newDoc.createElement(header);\r\n                            curElement.appendChild(newDoc.createTextNode(value));\r\n                            rowElement.appendChild(curElement);\r\n\r\n                        }\r\n\r\n                    }\r\n                    line++;\r\n\r\n                }\r\n\r\n                ByteArrayOutputStream baos = null;\r\n                OutputStreamWriter osw = null;\r\n\r\n                try {\r\n\r\n                    baos = new ByteArrayOutputStream();\r\n                    osw = new OutputStreamWriter(baos);\r\n\r\n                    TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n                    Transformer aTransformer = tranFactory.newTransformer();\r\n                    aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                    aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n                    aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n\r\n                    Source src = new DOMSource(newDoc);\r\n                    Result result = new StreamResult(osw);\r\n                    aTransformer.transform(src, result);\r\n\r\n                    osw.flush();\r\n                    System.out.println(new String(baos.toByteArray()));\r\n\r\n                } catch (Exception exp) {\r\n                    exp.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        osw.close();\r\n                    } catch (Exception e) {\r\n                    }\r\n                    try {\r\n                        baos.close();\r\n                    } catch (Exception e) {\r\n                    }\r\n                }\r\n\r\n                // Output to console for testing\r\n                // Resultt result = new StreamResult(System.out);\r\n\r\n            } catch (IOException exp) {\r\n                System.err.println(exp.toString());\r\n            } catch (Exception exp) {\r\n                System.err.println(exp.toString());\r\n            }\r\n            return rowsCount;\r\n            // &quot;XLM Document has been created&quot; + rowsCount;\r\n        }\r\n    }\r\n\r\n**UPDATED with use of OpenCSV**\r\n\r\n    public class XMLCreators {\r\n        // Protected Properties\r\n\r\n        protected DocumentBuilderFactory domFactory = null;\r\n        protected DocumentBuilder domBuilder = null;\r\n\r\n        public XMLCreators() {\r\n            try {\r\n                domFactory = DocumentBuilderFactory.newInstance();\r\n                domBuilder = domFactory.newDocumentBuilder();\r\n            } catch (FactoryConfigurationError exp) {\r\n                System.err.println(exp.toString());\r\n            } catch (ParserConfigurationException exp) {\r\n                System.err.println(exp.toString());\r\n            } catch (Exception exp) {\r\n                System.err.println(exp.toString());\r\n            }\r\n\r\n        }\r\n\r\n        public int convertFile(String csvFileName, String xmlFileName,\r\n                        String delimiter) {\r\n\r\n            int rowsCount = -1;\r\n            BufferedReader csvReader;\r\n            try {\r\n                Document newDoc = domBuilder.newDocument();\r\n                // Root element\r\n                Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\r\n                newDoc.appendChild(rootElement);\r\n                // Read csv file\r\n                csvReader = new BufferedReader(new FileReader(csvFileName));\r\n\r\n                //** Now using the OpenCSV **//\r\n                CSVReader reader = new CSVReader(new FileReader(&quot;names.csv&quot;), delimiter.charAt(0));\r\n                //CSVReader reader = new CSVReader(csvReader);\r\n                String[] nextLine;\r\n                int line = 0;\r\n                List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\r\n                while ((nextLine = reader.readNext()) != null) {\r\n\r\n                    if (line == 0) { // Header row\r\n                        for (String col : nextLine) {\r\n                            headers.add(col);\r\n                        }\r\n                    } else { // Data row\r\n                        Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n                        rootElement.appendChild(rowElement);\r\n\r\n                        int col = 0;\r\n                        for (String value : nextLine) {\r\n                            String header = headers.get(col);\r\n\r\n                            Element curElement = newDoc.createElement(header);\r\n                            curElement.appendChild(newDoc.createTextNode(value.trim()));\r\n                            rowElement.appendChild(curElement);\r\n\r\n                            col++;\r\n                        }\r\n                    }\r\n                    line++;\r\n                }\r\n                //** End of CSV parsing**//\r\n\r\n                FileWriter writer = null;\r\n                \r\n                try {\r\n                \r\n                    writer = new FileWriter(new File(xmlFileName));\r\n\r\n                    TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n                    Transformer aTransformer = tranFactory.newTransformer();\r\n                    aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                    aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n                    aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n\r\n                    Source src = new DOMSource(newDoc);\r\n                    Result result = new StreamResult(writer);\r\n                    aTransformer.transform(src, result);\r\n                    \r\n                    writer.flush();\r\n\r\n                } catch (Exception exp) {\r\n                    exp.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        writer.close();\r\n                    } catch (Exception e) {\r\n                    }\r\n                }\r\n\r\n                // Output to console for testing\r\n                // Resultt result = new StreamResult(System.out);\r\n\r\n            } catch (IOException exp) {\r\n                System.err.println(exp.toString());\r\n            } catch (Exception exp) {\r\n                System.err.println(exp.toString());\r\n            }\r\n            return rowsCount;\r\n            // &quot;XLM Document has been created&quot; + rowsCount;\r\n        }\r\n    }\r\n\r\n# Next update (2022)\r\n\r\n* Added support for OpenCSV 5.*\r\n* Replace white spaces in header (at least as many as I can think of that will fit into a regular expression)\r\n\r\nSo, for example, using something like...\r\n\r\n\tReports\tDevice Name\tIP Address\tInterface Name\tInterface\tDescription\tTime\tTraffic\tUtilization\tOut Traffic\tbps \r\n\tDevice1\t1.1.1.1\t5-Apr\tMon May 09 23:00:00 UTC 2022\t0\t0\t0\r\n\tDevice2\t1.1.1.1\t5-Apr\tMon May 09 23:00:00 UTC 2022\t0\t0\t0\r\n\r\nIt will generate an output of something like...\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;XMLCreators&gt;\r\n        &lt;row&gt;\r\n            &lt;Reports&gt;1&lt;/Reports&gt;\r\n            &lt;Device_Name&gt;2&lt;/Device_Name&gt;\r\n            &lt;IP_Address&gt;3&lt;/IP_Address&gt;\r\n            &lt;Interface_Name&gt;4&lt;/Interface_Name&gt;\r\n            &lt;Interface&gt;5&lt;/Interface&gt;\r\n            &lt;Description&gt;6&lt;/Description&gt;\r\n            &lt;Time&gt;7&lt;/Time&gt;\r\n            &lt;Traffic&gt;8&lt;/Traffic&gt;\r\n            &lt;Utilization&gt;9&lt;/Utilization&gt;\r\n            &lt;Out_Traffic&gt;10&lt;/Out_Traffic&gt;\r\n            &lt;bps_&gt;11&lt;/bps_&gt;\r\n        &lt;/row&gt;\r\n        &lt;row&gt;\r\n            &lt;Reports&gt;Device1&lt;/Reports&gt;\r\n            &lt;Device_Name&gt;1.1.1.1&lt;/Device_Name&gt;\r\n            &lt;IP_Address&gt;5-Apr&lt;/IP_Address&gt;\r\n            &lt;Interface_Name&gt;Mon May 09 23:00:00 UTC 2022&lt;/Interface_Name&gt;\r\n            &lt;Interface&gt;0&lt;/Interface&gt;\r\n            &lt;Description&gt;0&lt;/Description&gt;\r\n            &lt;Time&gt;0&lt;/Time&gt;\r\n        &lt;/row&gt;\r\n        &lt;row&gt;\r\n            &lt;Reports&gt;Device2&lt;/Reports&gt;\r\n            &lt;Device_Name&gt;1.1.1.1&lt;/Device_Name&gt;\r\n            &lt;IP_Address&gt;5-Apr&lt;/IP_Address&gt;\r\n            &lt;Interface_Name&gt;Mon May 09 23:00:00 UTC 2022&lt;/Interface_Name&gt;\r\n            &lt;Interface&gt;0&lt;/Interface&gt;\r\n            &lt;Description&gt;0&lt;/Description&gt;\r\n            &lt;Time&gt;0&lt;/Time&gt;\r\n        &lt;/row&gt;\r\n    &lt;/XMLCreators&gt;\r\n\r\n## Runnable example\r\n\r\n\r\n    import com.opencsv.CSVParser;\r\n    import com.opencsv.CSVParserBuilder;\r\n    import com.opencsv.CSVReader;\r\n    import com.opencsv.CSVReaderBuilder;\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.FactoryConfigurationError;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.transform.OutputKeys;\r\n    import javax.xml.transform.Result;\r\n    import javax.xml.transform.Source;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            new XMLCreators().convertFile(&quot;Test.csv&quot;, &quot;Test.xml&quot;, &#39;\\t&#39;);\r\n        }\r\n\r\n        public class XMLCreators {\r\n            // Protected Properties\r\n\r\n            protected DocumentBuilderFactory domFactory = null;\r\n            protected DocumentBuilder domBuilder = null;\r\n\r\n            public XMLCreators() {\r\n                try {\r\n                    domFactory = DocumentBuilderFactory.newInstance();\r\n                    domBuilder = domFactory.newDocumentBuilder();\r\n                } catch (FactoryConfigurationError exp) {\r\n                    System.err.println(exp.toString());\r\n                } catch (ParserConfigurationException exp) {\r\n                    System.err.println(exp.toString());\r\n                } catch (Exception exp) {\r\n                    System.err.println(exp.toString());\r\n                }\r\n            }\r\n\r\n            public int convertFile(String csvFileName, String xmlFileName, char delimiter) {\r\n\r\n                int rowsCount = -1;\r\n                BufferedReader csvReader;\r\n                try {\r\n                    Document newDoc = domBuilder.newDocument();\r\n                    // Root element\r\n                    Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\r\n                    newDoc.appendChild(rootElement);\r\n                    // Read csv file\r\n                    csvReader = new BufferedReader(new FileReader(csvFileName));\r\n\r\n                    //** Now using the OpenCSV **//\r\n                    CSVParser parser = new CSVParserBuilder()\r\n                            .withSeparator(delimiter)\r\n                            .build();\r\n\r\n                    CSVReader reader = new CSVReaderBuilder(new FileReader(csvFileName))\r\n                            .withCSVParser(parser)\r\n                            .build();\r\n                    //CSVReader reader = new CSVReader(csvReader);\r\n                    String[] nextLine;\r\n                    int line = 0;\r\n                    List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\r\n                    while ((nextLine = reader.readNext()) != null) {\r\n                        if (line == 0) { // Header row\r\n                            for (String col : nextLine) {\r\n                                headers.add(col);\r\n                            }\r\n                        } else { // Data row\r\n                            Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n                            rootElement.appendChild(rowElement);\r\n\r\n                            int col = 0;\r\n                            for (String value : nextLine) {\r\n                                String header = headers.get(col).replaceAll(&quot;[\\\\t\\\\p{Zs}\\\\u0020]&quot;, &quot;_&quot;);\r\n\r\n                                Element curElement = newDoc.createElement(header);\r\n                                curElement.appendChild(newDoc.createTextNode(value.trim()));\r\n                                rowElement.appendChild(curElement);\r\n\r\n                                col++;\r\n                            }\r\n                        }\r\n                        line++;\r\n                    }\r\n                    //** End of CSV parsing**//\r\n\r\n                    FileWriter writer = null;\r\n\r\n                    try {\r\n\r\n                        writer = new FileWriter(new File(xmlFileName));\r\n\r\n                        TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n                        Transformer aTransformer = tranFactory.newTransformer();\r\n                        aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                        aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n                        aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n\r\n                        Source src = new DOMSource(newDoc);\r\n                        Result result = new StreamResult(writer);\r\n                        aTransformer.transform(src, result);\r\n\r\n                        writer.flush();\r\n\r\n                    } catch (Exception exp) {\r\n                        exp.printStackTrace();\r\n                    } finally {\r\n                        try {\r\n                            writer.close();\r\n                        } catch (Exception e) {\r\n                        }\r\n                    }\r\n\r\n                    // Output to console for testing\r\n                    // Resultt result = new StreamResult(System.out);\r\n                } catch (IOException exp) {\r\n                    exp.printStackTrace();\r\n                } catch (Exception exp) {\r\n                    exp.printStackTrace();\r\n                }\r\n                return rowsCount;\r\n                // &quot;XLM Document has been created&quot; + rowsCount;\r\n            }\r\n        }\r\n    }\r\n","title":"Conversion of CSV to XML with JAVA","body":"<p>I'd agree with Kennet.</p>\n<p>I simply added</p>\n<pre><code>aTransformer .setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\naTransformer .setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\naTransformer .setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n</code></pre>\n<p>This added a new line between the elements and allowed for indentation.</p>\n<p><strong>UPDATED</strong></p>\n<p>Let's start with the fact that the file you're presented isn't a CSV (Comma separated value) file and I'll let you worry about that problem...</p>\n<pre><code>List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\n\nFile file = new File(&quot;Names2.csv&quot;);\nBufferedReader reader = null;\n\ntry {\n\n    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder domBuilder = domFactory.newDocumentBuilder();\n\n    Document newDoc = domBuilder.newDocument();\n    // Root element\n    Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\n    newDoc.appendChild(rootElement);\n\n    reader = new BufferedReader(new FileReader(file));\n    int line = 0;\n\n    String text = null;\n    while ((text = reader.readLine()) != null) {\n\n        StringTokenizer st = new StringTokenizer(text, &quot; &quot;, false);    \n        String[] rowValues = new String[st.countTokens()];\n        int index = 0;\n        while (st.hasMoreTokens()) {\n            \n            String next = st.nextToken();\n            rowValues[index++] = next;\n            \n        }\n    \n        //String[] rowValues = text.split(&quot;,&quot;);\n\n        if (line == 0) { // Header row\n            for (String col : rowValues) {\n                headers.add(col);\n            }\n        } else { // Data row\n            Element rowElement = newDoc.createElement(&quot;row&quot;);\n            rootElement.appendChild(rowElement);\n            for (int col = 0; col &lt; headers.size(); col++) {\n                String header = headers.get(col);\n                String value = null;\n\n                if (col &lt; rowValues.length) {\n                    value = rowValues[col];\n                } else {\n                    // ?? Default value\n                    value = &quot;&quot;;\n                }\n\n                Element curElement = newDoc.createElement(header);\n                curElement.appendChild(newDoc.createTextNode(value));\n                rowElement.appendChild(curElement);\n            }\n        }\n        line++;\n    }\n\n    ByteArrayOutputStream baos = null;\n    OutputStreamWriter osw = null;\n\n    try {\n        baos = new ByteArrayOutputStream();\n        osw = new OutputStreamWriter(baos);\n\n        TransformerFactory tranFactory = TransformerFactory.newInstance();\n        Transformer aTransformer = tranFactory.newTransformer();\n        aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n        aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n        aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n\n        Source src = new DOMSource(newDoc);\n        Result result = new StreamResult(osw);\n        aTransformer.transform(src, result);\n\n        osw.flush();\n        System.out.println(new String(baos.toByteArray()));\n    } catch (Exception exp) {\n        exp.printStackTrace();\n    } finally {\n        try {\n            osw.close();\n        } catch (Exception e) {\n        }\n        try {\n            baos.close();\n        } catch (Exception e) {\n        }\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Now I've used a <code>List</code> instead of a <code>Map</code> here.  You'll need to decide how best to approach the missing values problem.  Without knowing the structure of the file in advance, this is not going to be a simple solution.</p>\n<p>Any way, I end up with</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;XMLCreators&gt;\n    &lt;row&gt;\n        &lt;Name&gt;chi&lt;/Name&gt;\n        &lt;Age&gt;23&lt;/Age&gt;\n        &lt;Sex/&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;Name&gt;kay&lt;/Name&gt;\n        &lt;Age&gt;19&lt;/Age&gt;\n        &lt;Sex&gt;male&lt;/Sex&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;Name&gt;John&lt;/Name&gt;\n        &lt;Age&gt;male&lt;/Age&gt;\n        &lt;Sex/&gt;\n    &lt;/row&gt;\n&lt;/XMLCreators&gt;\n</code></pre>\n<p><strong>Updated with merge</strong></p>\n<pre><code>public class XMLCreators {\n    // Protected Properties\n\n    protected DocumentBuilderFactory domFactory = null;\n    protected DocumentBuilder domBuilder = null;\n\n    public XMLCreators() {\n        try {\n            domFactory = DocumentBuilderFactory.newInstance();\n            domBuilder = domFactory.newDocumentBuilder();\n        } catch (FactoryConfigurationError exp) {\n            System.err.println(exp.toString());\n        } catch (ParserConfigurationException exp) {\n            System.err.println(exp.toString());\n        } catch (Exception exp) {\n            System.err.println(exp.toString());\n        }\n\n    }\n\n    public int convertFile(String csvFileName, String xmlFileName,\n                    String delimiter) {\n\n        int rowsCount = -1;\n        try {\n            Document newDoc = domBuilder.newDocument();\n            // Root element\n            Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\n            newDoc.appendChild(rootElement);\n            // Read csv file\n            BufferedReader csvReader;\n            csvReader = new BufferedReader(new FileReader(csvFileName));\n\n//                int fieldCount = 0;\n//                String[] csvFields = null;\n//                StringTokenizer stringTokenizer = null;\n//\n//                // Assumes the first line in CSV file is column/field names\n//                // The column names are used to name the elements in the XML file,\n//                // avoid the use of Space or other characters not suitable for XML element\n//                // naming\n//\n//                String curLine = csvReader.readLine();\n//                if (curLine != null) {\n//                    // how about other form of csv files?\n//                    stringTokenizer = new StringTokenizer(curLine, delimiter);\n//                    fieldCount = stringTokenizer.countTokens();\n//                    if (fieldCount &gt; 0) {\n//                        csvFields = new String[fieldCount];\n//                        int i = 0;\n//                        while (stringTokenizer.hasMoreElements()) {\n//                            csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\n//                        }\n//                    }\n//                }\n//\n//                // At this point the coulmns are known, now read data by lines\n//                while ((curLine = csvReader.readLine()) != null) {\n//                    stringTokenizer = new StringTokenizer(curLine, delimiter);\n//                    fieldCount = stringTokenizer.countTokens();\n//                    if (fieldCount &gt; 0) {\n//                        Element rowElement = newDoc.createElement(&quot;row&quot;);\n//                        int i = 0;\n//                        while (stringTokenizer.hasMoreElements()) {\n//                            try {\n//                                String curValue = String.valueOf(stringTokenizer.nextElement());\n//                                Element curElement = newDoc.createElement(csvFields[i++]);\n//                                curElement.appendChild(newDoc.createTextNode(curValue));\n//                                rowElement.appendChild(curElement);\n//                            } catch (Exception exp) {\n//                            }\n//                        }\n//                        rootElement.appendChild(rowElement);\n//                        rowsCount++;\n//                    }\n//                }\n//                csvReader.close();\n//\n//                // Save the document to the disk file\n//                TransformerFactory tranFactory = TransformerFactory.newInstance();\n//                Transformer aTransformer = tranFactory.newTransformer();\n//                Source src = new DOMSource(newDoc);\n//                Result result = new StreamResult(new File(xmlFileName));\n//                aTransformer.transform(src, result);\n//                rowsCount++;\n            int line = 0;\n            List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\n\n            String text = null;\n            while ((text = csvReader.readLine()) != null) {\n\n                StringTokenizer st = new StringTokenizer(text, delimiter, false);\n                String[] rowValues = new String[st.countTokens()];\n                int index = 0;\n                while (st.hasMoreTokens()) {\n\n                    String next = st.nextToken();\n                    rowValues[index++] = next;\n\n                }\n\n                if (line == 0) { // Header row\n\n                    for (String col : rowValues) {\n                        headers.add(col);\n                    }\n\n                } else { // Data row\n                    \n                    rowsCount++;\n\n                    Element rowElement = newDoc.createElement(&quot;row&quot;);\n                    rootElement.appendChild(rowElement);\n                    for (int col = 0; col &lt; headers.size(); col++) {\n\n                        String header = headers.get(col);\n                        String value = null;\n\n                        if (col &lt; rowValues.length) {\n\n                            value = rowValues[col];\n\n                        } else {\n                            // ?? Default value\n                            value = &quot;&quot;;\n                        }\n\n                        Element curElement = newDoc.createElement(header);\n                        curElement.appendChild(newDoc.createTextNode(value));\n                        rowElement.appendChild(curElement);\n\n                    }\n\n                }\n                line++;\n\n            }\n\n            ByteArrayOutputStream baos = null;\n            OutputStreamWriter osw = null;\n\n            try {\n\n                baos = new ByteArrayOutputStream();\n                osw = new OutputStreamWriter(baos);\n\n                TransformerFactory tranFactory = TransformerFactory.newInstance();\n                Transformer aTransformer = tranFactory.newTransformer();\n                aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n                aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n\n                Source src = new DOMSource(newDoc);\n                Result result = new StreamResult(osw);\n                aTransformer.transform(src, result);\n\n                osw.flush();\n                System.out.println(new String(baos.toByteArray()));\n\n            } catch (Exception exp) {\n                exp.printStackTrace();\n            } finally {\n                try {\n                    osw.close();\n                } catch (Exception e) {\n                }\n                try {\n                    baos.close();\n                } catch (Exception e) {\n                }\n            }\n\n            // Output to console for testing\n            // Resultt result = new StreamResult(System.out);\n\n        } catch (IOException exp) {\n            System.err.println(exp.toString());\n        } catch (Exception exp) {\n            System.err.println(exp.toString());\n        }\n        return rowsCount;\n        // &quot;XLM Document has been created&quot; + rowsCount;\n    }\n}\n</code></pre>\n<p><strong>UPDATED with use of OpenCSV</strong></p>\n<pre><code>public class XMLCreators {\n    // Protected Properties\n\n    protected DocumentBuilderFactory domFactory = null;\n    protected DocumentBuilder domBuilder = null;\n\n    public XMLCreators() {\n        try {\n            domFactory = DocumentBuilderFactory.newInstance();\n            domBuilder = domFactory.newDocumentBuilder();\n        } catch (FactoryConfigurationError exp) {\n            System.err.println(exp.toString());\n        } catch (ParserConfigurationException exp) {\n            System.err.println(exp.toString());\n        } catch (Exception exp) {\n            System.err.println(exp.toString());\n        }\n\n    }\n\n    public int convertFile(String csvFileName, String xmlFileName,\n                    String delimiter) {\n\n        int rowsCount = -1;\n        BufferedReader csvReader;\n        try {\n            Document newDoc = domBuilder.newDocument();\n            // Root element\n            Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\n            newDoc.appendChild(rootElement);\n            // Read csv file\n            csvReader = new BufferedReader(new FileReader(csvFileName));\n\n            //** Now using the OpenCSV **//\n            CSVReader reader = new CSVReader(new FileReader(&quot;names.csv&quot;), delimiter.charAt(0));\n            //CSVReader reader = new CSVReader(csvReader);\n            String[] nextLine;\n            int line = 0;\n            List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\n            while ((nextLine = reader.readNext()) != null) {\n\n                if (line == 0) { // Header row\n                    for (String col : nextLine) {\n                        headers.add(col);\n                    }\n                } else { // Data row\n                    Element rowElement = newDoc.createElement(&quot;row&quot;);\n                    rootElement.appendChild(rowElement);\n\n                    int col = 0;\n                    for (String value : nextLine) {\n                        String header = headers.get(col);\n\n                        Element curElement = newDoc.createElement(header);\n                        curElement.appendChild(newDoc.createTextNode(value.trim()));\n                        rowElement.appendChild(curElement);\n\n                        col++;\n                    }\n                }\n                line++;\n            }\n            //** End of CSV parsing**//\n\n            FileWriter writer = null;\n            \n            try {\n            \n                writer = new FileWriter(new File(xmlFileName));\n\n                TransformerFactory tranFactory = TransformerFactory.newInstance();\n                Transformer aTransformer = tranFactory.newTransformer();\n                aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n                aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n\n                Source src = new DOMSource(newDoc);\n                Result result = new StreamResult(writer);\n                aTransformer.transform(src, result);\n                \n                writer.flush();\n\n            } catch (Exception exp) {\n                exp.printStackTrace();\n            } finally {\n                try {\n                    writer.close();\n                } catch (Exception e) {\n                }\n            }\n\n            // Output to console for testing\n            // Resultt result = new StreamResult(System.out);\n\n        } catch (IOException exp) {\n            System.err.println(exp.toString());\n        } catch (Exception exp) {\n            System.err.println(exp.toString());\n        }\n        return rowsCount;\n        // &quot;XLM Document has been created&quot; + rowsCount;\n    }\n}\n</code></pre>\n<h1>Next update (2022)</h1>\n<ul>\n<li>Added support for OpenCSV 5.*</li>\n<li>Replace white spaces in header (at least as many as I can think of that will fit into a regular expression)</li>\n</ul>\n<p>So, for example, using something like...</p>\n<pre><code>Reports Device Name IP Address  Interface Name  Interface   Description Time    Traffic Utilization Out Traffic bps \nDevice1 1.1.1.1 5-Apr   Mon May 09 23:00:00 UTC 2022    0   0   0\nDevice2 1.1.1.1 5-Apr   Mon May 09 23:00:00 UTC 2022    0   0   0\n</code></pre>\n<p>It will generate an output of something like...</p>\n\n<pre><code>&lt;XMLCreators&gt;\n    &lt;row&gt;\n        &lt;Reports&gt;1&lt;/Reports&gt;\n        &lt;Device_Name&gt;2&lt;/Device_Name&gt;\n        &lt;IP_Address&gt;3&lt;/IP_Address&gt;\n        &lt;Interface_Name&gt;4&lt;/Interface_Name&gt;\n        &lt;Interface&gt;5&lt;/Interface&gt;\n        &lt;Description&gt;6&lt;/Description&gt;\n        &lt;Time&gt;7&lt;/Time&gt;\n        &lt;Traffic&gt;8&lt;/Traffic&gt;\n        &lt;Utilization&gt;9&lt;/Utilization&gt;\n        &lt;Out_Traffic&gt;10&lt;/Out_Traffic&gt;\n        &lt;bps_&gt;11&lt;/bps_&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;Reports&gt;Device1&lt;/Reports&gt;\n        &lt;Device_Name&gt;1.1.1.1&lt;/Device_Name&gt;\n        &lt;IP_Address&gt;5-Apr&lt;/IP_Address&gt;\n        &lt;Interface_Name&gt;Mon May 09 23:00:00 UTC 2022&lt;/Interface_Name&gt;\n        &lt;Interface&gt;0&lt;/Interface&gt;\n        &lt;Description&gt;0&lt;/Description&gt;\n        &lt;Time&gt;0&lt;/Time&gt;\n    &lt;/row&gt;\n    &lt;row&gt;\n        &lt;Reports&gt;Device2&lt;/Reports&gt;\n        &lt;Device_Name&gt;1.1.1.1&lt;/Device_Name&gt;\n        &lt;IP_Address&gt;5-Apr&lt;/IP_Address&gt;\n        &lt;Interface_Name&gt;Mon May 09 23:00:00 UTC 2022&lt;/Interface_Name&gt;\n        &lt;Interface&gt;0&lt;/Interface&gt;\n        &lt;Description&gt;0&lt;/Description&gt;\n        &lt;Time&gt;0&lt;/Time&gt;\n    &lt;/row&gt;\n&lt;/XMLCreators&gt;\n</code></pre>\n<h2>Runnable example</h2>\n<pre><code>import com.opencsv.CSVParser;\nimport com.opencsv.CSVParserBuilder;\nimport com.opencsv.CSVReader;\nimport com.opencsv.CSVReaderBuilder;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.FactoryConfigurationError;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Result;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        new XMLCreators().convertFile(&quot;Test.csv&quot;, &quot;Test.xml&quot;, '\\t');\n    }\n\n    public class XMLCreators {\n        // Protected Properties\n\n        protected DocumentBuilderFactory domFactory = null;\n        protected DocumentBuilder domBuilder = null;\n\n        public XMLCreators() {\n            try {\n                domFactory = DocumentBuilderFactory.newInstance();\n                domBuilder = domFactory.newDocumentBuilder();\n            } catch (FactoryConfigurationError exp) {\n                System.err.println(exp.toString());\n            } catch (ParserConfigurationException exp) {\n                System.err.println(exp.toString());\n            } catch (Exception exp) {\n                System.err.println(exp.toString());\n            }\n        }\n\n        public int convertFile(String csvFileName, String xmlFileName, char delimiter) {\n\n            int rowsCount = -1;\n            BufferedReader csvReader;\n            try {\n                Document newDoc = domBuilder.newDocument();\n                // Root element\n                Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\n                newDoc.appendChild(rootElement);\n                // Read csv file\n                csvReader = new BufferedReader(new FileReader(csvFileName));\n\n                //** Now using the OpenCSV **//\n                CSVParser parser = new CSVParserBuilder()\n                        .withSeparator(delimiter)\n                        .build();\n\n                CSVReader reader = new CSVReaderBuilder(new FileReader(csvFileName))\n                        .withCSVParser(parser)\n                        .build();\n                //CSVReader reader = new CSVReader(csvReader);\n                String[] nextLine;\n                int line = 0;\n                List&lt;String&gt; headers = new ArrayList&lt;String&gt;(5);\n                while ((nextLine = reader.readNext()) != null) {\n                    if (line == 0) { // Header row\n                        for (String col : nextLine) {\n                            headers.add(col);\n                        }\n                    } else { // Data row\n                        Element rowElement = newDoc.createElement(&quot;row&quot;);\n                        rootElement.appendChild(rowElement);\n\n                        int col = 0;\n                        for (String value : nextLine) {\n                            String header = headers.get(col).replaceAll(&quot;[\\\\t\\\\p{Zs}\\\\u0020]&quot;, &quot;_&quot;);\n\n                            Element curElement = newDoc.createElement(header);\n                            curElement.appendChild(newDoc.createTextNode(value.trim()));\n                            rowElement.appendChild(curElement);\n\n                            col++;\n                        }\n                    }\n                    line++;\n                }\n                //** End of CSV parsing**//\n\n                FileWriter writer = null;\n\n                try {\n\n                    writer = new FileWriter(new File(xmlFileName));\n\n                    TransformerFactory tranFactory = TransformerFactory.newInstance();\n                    Transformer aTransformer = tranFactory.newTransformer();\n                    aTransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                    aTransformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n                    aTransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\n\n                    Source src = new DOMSource(newDoc);\n                    Result result = new StreamResult(writer);\n                    aTransformer.transform(src, result);\n\n                    writer.flush();\n\n                } catch (Exception exp) {\n                    exp.printStackTrace();\n                } finally {\n                    try {\n                        writer.close();\n                    } catch (Exception e) {\n                    }\n                }\n\n                // Output to console for testing\n                // Resultt result = new StreamResult(System.out);\n            } catch (IOException exp) {\n                exp.printStackTrace();\n            } catch (Exception exp) {\n                exp.printStackTrace();\n            }\n            return rowsCount;\n            // &quot;XLM Document has been created&quot; + rowsCount;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5870708,"reputation":1,"user_id":4652387,"display_name":"prashanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519216301,"creation_date":1519216301,"answer_id":48906030,"question_id":12120055,"body_markdown":"\tpublic int convertFile(String csvFileName, String xmlFileName, String delimiter) {\r\n\r\n\t\tint rowsCount = -1;\r\n\t\ttry {\r\n\t\t\tDocument newDoc = domBuilder.newDocument();\r\n\t\t\t// Root element\r\n\t\t\tElement rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\r\n\t\t\tnewDoc.appendChild(rootElement);\r\n\t\t\t// Read csv file\r\n\t\t\tBufferedReader csvReader;\r\n\t\t\tcsvReader = new BufferedReader(new FileReader(csvFileName));\r\n\t\t\tint fieldCount = 0;\r\n\t\t\tString[] csvFields = null;\r\n\t\t\tString[] csvValues = null;\r\n\r\n\r\n\t\t\t// Assumes the first line in CSV file is column/field names\r\n\t\t\t// The column names are used to name the elements in the XML file,\r\n\t\t\t// avoid the use of Space or other characters not suitable for XML element\r\n\t\t\t// naming\r\n\r\n\t\t\tString curLine = csvReader.readLine();\r\n\t\t\tif (curLine != null) {\r\n\t\t\t\tcsvFields=curLine.split(&quot;,&quot;, -1);\r\n\t\t\t\t}\r\n\r\n\t\t\t// At this point the coulmns are known, now read data by lines\r\n\t\t\r\n\t\t\tint i =0;\r\n\t\t\twhile ((curLine = csvReader.readLine()) != null) {\r\n\t\t\t\tcsvValues=curLine.split(&quot;,&quot;, -1);\r\n\t\t\t\tElement rowElement = newDoc.createElement(&quot;record-&quot;+i);\r\n\t\t\t\ttry {\r\n\t\t\t\tfor(fieldCount=0;fieldCount&lt;csvValues.length;fieldCount++)\r\n\t\t\t\t{\r\n\t\t\t\t\tString curValue = csvValues[fieldCount];\r\n\t\t\t\t\tElement curElement = newDoc.createElement(csvFields[fieldCount]);\r\n\t\t\t\t\tcurElement.appendChild(newDoc.createTextNode(curValue));\r\n\t\t\t\t\trowElement.appendChild(curElement);\r\n\t\t\t\t}\r\n\t\t\t\t} catch (Exception exp) {\r\n\t\t\t\t}\r\n\t\t\t\trootElement.appendChild(rowElement);\r\n\t\t\t\ti++;\r\n\t\t\t\r\n\t\t\t}","title":"Conversion of CSV to XML with JAVA","body":"<pre><code>public int convertFile(String csvFileName, String xmlFileName, String delimiter) {\n\n    int rowsCount = -1;\n    try {\n        Document newDoc = domBuilder.newDocument();\n        // Root element\n        Element rootElement = newDoc.createElement(\"XMLCreators\");\n        newDoc.appendChild(rootElement);\n        // Read csv file\n        BufferedReader csvReader;\n        csvReader = new BufferedReader(new FileReader(csvFileName));\n        int fieldCount = 0;\n        String[] csvFields = null;\n        String[] csvValues = null;\n\n\n        // Assumes the first line in CSV file is column/field names\n        // The column names are used to name the elements in the XML file,\n        // avoid the use of Space or other characters not suitable for XML element\n        // naming\n\n        String curLine = csvReader.readLine();\n        if (curLine != null) {\n            csvFields=curLine.split(\",\", -1);\n            }\n\n        // At this point the coulmns are known, now read data by lines\n\n        int i =0;\n        while ((curLine = csvReader.readLine()) != null) {\n            csvValues=curLine.split(\",\", -1);\n            Element rowElement = newDoc.createElement(\"record-\"+i);\n            try {\n            for(fieldCount=0;fieldCount&lt;csvValues.length;fieldCount++)\n            {\n                String curValue = csvValues[fieldCount];\n                Element curElement = newDoc.createElement(csvFields[fieldCount]);\n                curElement.appendChild(newDoc.createTextNode(curValue));\n                rowElement.appendChild(curElement);\n            }\n            } catch (Exception exp) {\n            }\n            rootElement.appendChild(rowElement);\n            i++;\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16599827,"reputation":1,"user_id":11995819,"display_name":"vishal bisht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567098629,"creation_date":1567098629,"answer_id":57714973,"question_id":12120055,"body_markdown":"    package org.mycompany.conversion;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    import org.apache.camel.dataformat.bindy.annotation.CsvRecord;\r\n    import org.apache.camel.dataformat.bindy.annotation.DataField;\r\n    \r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @CsvRecord(separator = &quot;,&quot;)\r\n    public class Person {\r\n    \r\n    \t@DataField(pos = 1)\r\n    \t@XmlElement\r\n    \tprivate int id;\r\n    \t@DataField(pos = 2)\r\n    \t@XmlElement\r\n    \tprivate String name;\r\n    \t@DataField(pos = 3)\r\n    \t@XmlElement\r\n    \tprivate int age;\r\n    \r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\r\n    \t}\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic int getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic void setAge(int age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    =========================================================================================package org.mycompany.conversion;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlElementWrapper;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    \r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Greeting {\r\n    \r\n    \t@XmlElementWrapper(name = &quot;Person&quot;)\r\n    \t@XmlElement(name = &quot;persons&quot;)\r\n    \tprivate List&lt;Person&gt; persons;\r\n    \r\n    \tpublic List&lt;Person&gt; getPerson() {\r\n    \t\treturn persons;\r\n    \t}\r\n    \r\n    \tpublic void setPerson(List&lt;Person&gt; persons) {\r\n    \t\tthis.persons = persons;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    =========================================================================================\r\n    package org.mycompany.conversion;\r\n    \r\n    import javax.xml.bind.JAXBContext;\r\n    \r\n    import org.apache.camel.CamelContext;\r\n    import org.apache.camel.Exchange;\r\n    import org.apache.camel.Processor;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.converter.jaxb.JaxbDataFormat;\r\n    import org.apache.camel.dataformat.bindy.csv.BindyCsvDataFormat;\r\n    import org.apache.camel.impl.DefaultCamelContext;\r\n    import org.apache.camel.spi.DataFormat;\r\n    \r\n    public class CsvConversion {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \t\tJaxbDataFormat xmlDataFormat = new JaxbDataFormat();\r\n    \t\tJAXBContext con = JAXBContext.newInstance(Greeting.class);\r\n    \t\txmlDataFormat.setContext(con);\r\n    \t\tDataFormat bindy = new BindyCsvDataFormat(Person.class);\r\n    \t\tCamelContext context = new DefaultCamelContext();\r\n    \t\tcontext.addRoutes(new RouteBuilder() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void configure() throws Exception {\r\n    \r\n    \t\t\t\tfrom(&quot;file:src/main/data/in/csv?noop=true&quot;).split().tokenize(&quot;\\n&quot;).unmarshal(bindy)\r\n    \t\t\t\t\t\t// constanr(true):-aggregate all using same expression\r\n    \t\t\t\t\t\t.aggregate(constant(true), new AttachAggregation())\r\n    \t\t\t\t\t\t//mandatory after aggregate\r\n    \t\t\t\t\t\t.completionTimeout(100)//end after this gives problem\r\n    \t\t\t\t\t\t.marshal(xmlDataFormat).log(&quot;xml body is ${body}&quot;)\r\n    \t\t\t\t\t\t.to(&quot;file:src/main/data/in/xml?fileName=convertedXml.xml&quot;);// .aggregate(new\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// AttachAggreagation());\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tcontext.start();\r\n    \t\tThread.sleep(5000);\r\n    \t}\r\n    }\r\n    ===================================================================================\r\n    package org.mycompany.conversion;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.camel.Exchange;\r\n    import org.apache.camel.processor.aggregate.AggregationStrategy;\r\n    \r\n    public class AttachAggregation implements AggregationStrategy {\r\n    \r\n    \tList&lt;Person&gt; list = new ArrayList();\r\n    \tGreeting gre = new Greeting();\r\n    \r\n    \t@Override\r\n    //person-address\r\n    \t// greeting-user\r\n    \tpublic Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\r\n    \r\n    \t\tif (oldExchange == null) {\r\n    \t\t\tPerson newBody1 = newExchange.getIn().getBody(Person.class);\r\n    \t\t\tlist.add(newBody1);\r\n    \t\t\treturn newExchange;\r\n    \t\t} else {\r\n    \t\t\tPerson newBody2 = newExchange.getIn().getBody(Person.class);\r\n    \t\t\tlist.add(newBody2);\r\n    \r\n    \t\t\tgre.setPerson(list);\r\n    \t\t\toldExchange.getIn().setBody(gre);\r\n    \t\t\treturn oldExchange;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Conversion of CSV to XML with JAVA","body":"<pre><code>package org.mycompany.conversion;\n\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\nimport org.apache.camel.dataformat.bindy.annotation.CsvRecord;\nimport org.apache.camel.dataformat.bindy.annotation.DataField;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\n@CsvRecord(separator = \",\")\npublic class Person {\n\n    @DataField(pos = 1)\n    @XmlElement\n    private int id;\n    @DataField(pos = 2)\n    @XmlElement\n    private String name;\n    @DataField(pos = 3)\n    @XmlElement\n    private int age;\n\n\n\n    @Override\n    public String toString() {\n        return \"Person [id=\" + id + \", name=\" + name + \", age=\" + age + \"]\";\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n}\n\n=========================================================================================package org.mycompany.conversion;\n\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElementWrapper;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Greeting {\n\n    @XmlElementWrapper(name = \"Person\")\n    @XmlElement(name = \"persons\")\n    private List&lt;Person&gt; persons;\n\n    public List&lt;Person&gt; getPerson() {\n        return persons;\n    }\n\n    public void setPerson(List&lt;Person&gt; persons) {\n        this.persons = persons;\n    }\n\n}\n\n=========================================================================================\npackage org.mycompany.conversion;\n\nimport javax.xml.bind.JAXBContext;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.converter.jaxb.JaxbDataFormat;\nimport org.apache.camel.dataformat.bindy.csv.BindyCsvDataFormat;\nimport org.apache.camel.impl.DefaultCamelContext;\nimport org.apache.camel.spi.DataFormat;\n\npublic class CsvConversion {\n\n    public static void main(String[] args) throws Exception {\n\n        JaxbDataFormat xmlDataFormat = new JaxbDataFormat();\n        JAXBContext con = JAXBContext.newInstance(Greeting.class);\n        xmlDataFormat.setContext(con);\n        DataFormat bindy = new BindyCsvDataFormat(Person.class);\n        CamelContext context = new DefaultCamelContext();\n        context.addRoutes(new RouteBuilder() {\n            @Override\n            public void configure() throws Exception {\n\n                from(\"file:src/main/data/in/csv?noop=true\").split().tokenize(\"\\n\").unmarshal(bindy)\n                        // constanr(true):-aggregate all using same expression\n                        .aggregate(constant(true), new AttachAggregation())\n                        //mandatory after aggregate\n                        .completionTimeout(100)//end after this gives problem\n                        .marshal(xmlDataFormat).log(\"xml body is ${body}\")\n                        .to(\"file:src/main/data/in/xml?fileName=convertedXml.xml\");// .aggregate(new\n                                                                                    // AttachAggreagation());\n            }\n        });\n        context.start();\n        Thread.sleep(5000);\n    }\n}\n===================================================================================\npackage org.mycompany.conversion;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.camel.Exchange;\nimport org.apache.camel.processor.aggregate.AggregationStrategy;\n\npublic class AttachAggregation implements AggregationStrategy {\n\n    List&lt;Person&gt; list = new ArrayList();\n    Greeting gre = new Greeting();\n\n    @Override\n//person-address\n    // greeting-user\n    public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {\n\n        if (oldExchange == null) {\n            Person newBody1 = newExchange.getIn().getBody(Person.class);\n            list.add(newBody1);\n            return newExchange;\n        } else {\n            Person newBody2 = newExchange.getIn().getBody(Person.class);\n            list.add(newBody2);\n\n            gre.setPerson(list);\n            oldExchange.getIn().setBody(gre);\n            return oldExchange;\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1740883,"reputation":969,"user_id":1592334,"accept_rate":62,"display_name":"Abiodun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48902,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":12120288,"answer_count":3,"score":4,"last_activity_date":1653627731,"creation_date":1345879447,"question_id":12120055,"body_markdown":"I have a set of CSV data to be converted to XML. The codes look OK but the output isn&#39;t perfect enough. It omits some columns because they have no value and produces a long line of XML data instead of breaking it.\r\n\r\nThis is a sample of my CSV data:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Name  Age Sex\r\n    chi   23   \r\n    kay   19  male\r\n    John      male\r\n\r\nAnd my code:\r\n\r\n    public class XMLCreators {\r\n      // Protected Properties\r\n      protected DocumentBuilderFactory domFactory = null;\r\n      protected DocumentBuilder domBuilder = null;\r\n\r\n      public XMLCreators() {\r\n        try {\r\n          domFactory = DocumentBuilderFactory.newInstance();\r\n          domBuilder = domFactory.newDocumentBuilder();\r\n        } catch (FactoryConfigurationError exp) {\r\n          System.err.println(exp.toString());\r\n        } catch (ParserConfigurationException exp) {\r\n          System.err.println(exp.toString());\r\n        } catch (Exception exp) {\r\n          System.err.println(exp.toString());\r\n        }\r\n\r\n      }\r\n\r\n      public int convertFile(String csvFileName, String xmlFileName,\r\n          String delimiter) {\r\n\r\n        int rowsCount = -1;\r\n        try {\r\n          Document newDoc = domBuilder.newDocument();\r\n          // Root element\r\n          Element rootElement = newDoc.createElement(&quot;XMLCreators&quot;);\r\n          newDoc.appendChild(rootElement);\r\n          // Read csv file\r\n          BufferedReader csvReader;\r\n          csvReader = new BufferedReader(new FileReader(csvFileName));\r\n          int fieldCount = 0;\r\n          String[] csvFields = null;\r\n          StringTokenizer stringTokenizer = null;\r\n\r\n          // Assumes the first line in CSV file is column/field names\r\n          // The column names are used to name the elements in the XML file,\r\n          // avoid the use of Space or other characters not suitable for XML element\r\n          // naming\r\n\r\n          String curLine = csvReader.readLine();\r\n          if (curLine != null) {\r\n            // how about other form of csv files?\r\n            stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n            fieldCount = stringTokenizer.countTokens();\r\n            if (fieldCount &gt; 0) {\r\n              csvFields = new String[fieldCount];\r\n              int i = 0;\r\n              while (stringTokenizer.hasMoreElements())\r\n                csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\r\n            }\r\n          }\r\n\r\n          // At this point the coulmns are known, now read data by lines\r\n          while ((curLine = csvReader.readLine()) != null) {\r\n            stringTokenizer = new StringTokenizer(curLine, delimiter);\r\n            fieldCount = stringTokenizer.countTokens();\r\n            if (fieldCount &gt; 0) {\r\n              Element rowElement = newDoc.createElement(&quot;row&quot;);\r\n              int i = 0;\r\n              while (stringTokenizer.hasMoreElements()) {\r\n                try {\r\n                  String curValue = String.valueOf(stringTokenizer.nextElement());\r\n                  Element curElement = newDoc.createElement(csvFields[i++]);\r\n                  curElement.appendChild(newDoc.createTextNode(curValue));\r\n                  rowElement.appendChild(curElement);\r\n                } catch (Exception exp) {\r\n                }\r\n              }\r\n              rootElement.appendChild(rowElement);\r\n              rowsCount++;\r\n            }\r\n          }\r\n          csvReader.close();\r\n\r\n          // Save the document to the disk file\r\n          TransformerFactory tranFactory = TransformerFactory.newInstance();\r\n          Transformer aTransformer = tranFactory.newTransformer();\r\n          Source src = new DOMSource(newDoc);\r\n          Result result = new StreamResult(new File(xmlFileName));\r\n          aTransformer.transform(src, result);\r\n          rowsCount++;\r\n\r\n          // Output to console for testing\r\n          // Resultt result = new StreamResult(System.out);\r\n\r\n        } catch (IOException exp) {\r\n          System.err.println(exp.toString());\r\n        } catch (Exception exp) {\r\n          System.err.println(exp.toString());\r\n        }\r\n        return rowsCount;\r\n        // &quot;XLM Document has been created&quot; + rowsCount;\r\n      }\r\n    }\r\n\r\n\r\nWhen this code is executed on the above data it produces:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;XMLCreators&gt;\r\n    &lt;row&gt;\r\n    &lt;Name&gt;chi&lt;/Name&gt;\r\n    &lt;Age&gt;23&lt;/Age&gt;\r\n    &lt;/row&gt;\r\n    &lt;row&gt;\r\n    &lt;Name&gt;kay&lt;/Name&gt;\r\n    &lt;Age&gt;19&lt;/Age&gt;\r\n    &lt;sex&gt;male&lt;/sex&gt;\r\n    &lt;/row&gt;\r\n    &lt;row&gt;\r\n    &lt;Name&gt;john&lt;/Name&gt;\r\n    &lt;Age&gt;male&lt;/Age&gt;\r\n    &lt;/row&gt;\r\n    &lt;/XMLCreators&gt;\r\n\r\nI arranged it in this form myself but the output produces a long line. The output to be produced should be:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;XMLCreators&gt;\r\n    &lt;row&gt;\r\n    &lt;Name&gt;chi&lt;/Name&gt;\r\n    &lt;Age&gt;23&lt;/Age&gt;\r\n    &lt;sex&gt;&lt;/sex&gt;\r\n    &lt;/row&gt;\r\n    &lt;row&gt;\r\n    &lt;Name&gt;kay&lt;/Name&gt;\r\n    &lt;Age&gt;19&lt;/Age&gt;\r\n    &lt;sex&gt;male&lt;/sex&gt;\r\n    &lt;/row&gt;\r\n    &lt;row&gt;\r\n    &lt;Name&gt;john&lt;/Name&gt;\r\n    &lt;Age&gt;&lt;/Age&gt;\r\n    &lt;sex&gt;male&lt;/sex&gt;\r\n     &lt;/row&gt;\r\n     &lt;/XMLCreators&gt;","title":"Conversion of CSV to XML with JAVA","body":"<p>I have a set of CSV data to be converted to XML. The codes look OK but the output isn't perfect enough. It omits some columns because they have no value and produces a long line of XML data instead of breaking it.</p>\n\n<p>This is a sample of my CSV data:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Name  Age Sex\nchi   23   \nkay   19  male\nJohn      male\n</code></pre>\n\n<p>And my code:</p>\n\n<pre><code>public class XMLCreators {\n  // Protected Properties\n  protected DocumentBuilderFactory domFactory = null;\n  protected DocumentBuilder domBuilder = null;\n\n  public XMLCreators() {\n    try {\n      domFactory = DocumentBuilderFactory.newInstance();\n      domBuilder = domFactory.newDocumentBuilder();\n    } catch (FactoryConfigurationError exp) {\n      System.err.println(exp.toString());\n    } catch (ParserConfigurationException exp) {\n      System.err.println(exp.toString());\n    } catch (Exception exp) {\n      System.err.println(exp.toString());\n    }\n\n  }\n\n  public int convertFile(String csvFileName, String xmlFileName,\n      String delimiter) {\n\n    int rowsCount = -1;\n    try {\n      Document newDoc = domBuilder.newDocument();\n      // Root element\n      Element rootElement = newDoc.createElement(\"XMLCreators\");\n      newDoc.appendChild(rootElement);\n      // Read csv file\n      BufferedReader csvReader;\n      csvReader = new BufferedReader(new FileReader(csvFileName));\n      int fieldCount = 0;\n      String[] csvFields = null;\n      StringTokenizer stringTokenizer = null;\n\n      // Assumes the first line in CSV file is column/field names\n      // The column names are used to name the elements in the XML file,\n      // avoid the use of Space or other characters not suitable for XML element\n      // naming\n\n      String curLine = csvReader.readLine();\n      if (curLine != null) {\n        // how about other form of csv files?\n        stringTokenizer = new StringTokenizer(curLine, delimiter);\n        fieldCount = stringTokenizer.countTokens();\n        if (fieldCount &gt; 0) {\n          csvFields = new String[fieldCount];\n          int i = 0;\n          while (stringTokenizer.hasMoreElements())\n            csvFields[i++] = String.valueOf(stringTokenizer.nextElement());\n        }\n      }\n\n      // At this point the coulmns are known, now read data by lines\n      while ((curLine = csvReader.readLine()) != null) {\n        stringTokenizer = new StringTokenizer(curLine, delimiter);\n        fieldCount = stringTokenizer.countTokens();\n        if (fieldCount &gt; 0) {\n          Element rowElement = newDoc.createElement(\"row\");\n          int i = 0;\n          while (stringTokenizer.hasMoreElements()) {\n            try {\n              String curValue = String.valueOf(stringTokenizer.nextElement());\n              Element curElement = newDoc.createElement(csvFields[i++]);\n              curElement.appendChild(newDoc.createTextNode(curValue));\n              rowElement.appendChild(curElement);\n            } catch (Exception exp) {\n            }\n          }\n          rootElement.appendChild(rowElement);\n          rowsCount++;\n        }\n      }\n      csvReader.close();\n\n      // Save the document to the disk file\n      TransformerFactory tranFactory = TransformerFactory.newInstance();\n      Transformer aTransformer = tranFactory.newTransformer();\n      Source src = new DOMSource(newDoc);\n      Result result = new StreamResult(new File(xmlFileName));\n      aTransformer.transform(src, result);\n      rowsCount++;\n\n      // Output to console for testing\n      // Resultt result = new StreamResult(System.out);\n\n    } catch (IOException exp) {\n      System.err.println(exp.toString());\n    } catch (Exception exp) {\n      System.err.println(exp.toString());\n    }\n    return rowsCount;\n    // \"XLM Document has been created\" + rowsCount;\n  }\n}\n</code></pre>\n\n<p>When this code is executed on the above data it produces:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;XMLCreators&gt;\n&lt;row&gt;\n&lt;Name&gt;chi&lt;/Name&gt;\n&lt;Age&gt;23&lt;/Age&gt;\n&lt;/row&gt;\n&lt;row&gt;\n&lt;Name&gt;kay&lt;/Name&gt;\n&lt;Age&gt;19&lt;/Age&gt;\n&lt;sex&gt;male&lt;/sex&gt;\n&lt;/row&gt;\n&lt;row&gt;\n&lt;Name&gt;john&lt;/Name&gt;\n&lt;Age&gt;male&lt;/Age&gt;\n&lt;/row&gt;\n&lt;/XMLCreators&gt;\n</code></pre>\n\n<p>I arranged it in this form myself but the output produces a long line. The output to be produced should be:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;XMLCreators&gt;\n&lt;row&gt;\n&lt;Name&gt;chi&lt;/Name&gt;\n&lt;Age&gt;23&lt;/Age&gt;\n&lt;sex&gt;&lt;/sex&gt;\n&lt;/row&gt;\n&lt;row&gt;\n&lt;Name&gt;kay&lt;/Name&gt;\n&lt;Age&gt;19&lt;/Age&gt;\n&lt;sex&gt;male&lt;/sex&gt;\n&lt;/row&gt;\n&lt;row&gt;\n&lt;Name&gt;john&lt;/Name&gt;\n&lt;Age&gt;&lt;/Age&gt;\n&lt;sex&gt;male&lt;/sex&gt;\n &lt;/row&gt;\n &lt;/XMLCreators&gt;\n</code></pre>\n"},{"tags":["java","gwt","gradle","spring-boot"],"comments":[{"owner":{"account_id":1065423,"reputation":885,"user_id":1066129,"accept_rate":15,"display_name":"enfany"},"score":0,"creation_date":1469183574,"post_id":38501933,"comment_id":64442906,"body_markdown":"I&#39;m trying to use the pathingJar to resolve the issue, but I encountered another issue after modifying my gradle.build.(See modified section above)","body":"I&#39;m trying to use the pathingJar to resolve the issue, but I encountered another issue after modifying my gradle.build.(See modified section above)"}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490194628,"creation_date":1490194628,"answer_id":42955287,"question_id":38501933,"body_markdown":"See https://github.com/steffenschaefer/gwt-gradle-plugin/commit/087a94377fbd83cab938ffffe51ce8fab871be35 which applies a fix for the gwt-gradle-plugin which had the same issue.\r\n\r\ninstead of setting classpath, you should be able to do something like the following\r\n\r\n\t\t\t\tif (System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;windows&quot;)) {\r\n\t\t\t\t\tjavaExecSpec.environment(&quot;CLASSPATH&quot;, classpath.getAsPath());\r\n\t\t\t\t}\r\n","title":"CreateProcess error=206, The filename or extension is too long when running gwtCompile","body":"<p>See <a href=\"https://github.com/steffenschaefer/gwt-gradle-plugin/commit/087a94377fbd83cab938ffffe51ce8fab871be35\" rel=\"nofollow noreferrer\">https://github.com/steffenschaefer/gwt-gradle-plugin/commit/087a94377fbd83cab938ffffe51ce8fab871be35</a> which applies a fix for the gwt-gradle-plugin which had the same issue.</p>\n\n<p>instead of setting classpath, you should be able to do something like the following</p>\n\n<pre><code>            if (System.getProperty(\"os.name\").toLowerCase().contains(\"windows\")) {\n                javaExecSpec.environment(\"CLASSPATH\", classpath.getAsPath());\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1145150,"reputation":24012,"user_id":1128103,"display_name":"Baldrick"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516637755,"creation_date":1516637755,"answer_id":48385913,"question_id":38501933,"body_markdown":"I fixed a similar issue with this gradle plugin : https://github.com/viswaramamoorthy/gradle-util-plugins\r\n\r\n\r\n    buildscript {\r\n    \tdependencies {\r\n            classpath &quot;com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE&quot;\r\n        }\r\n    }\r\n    ...\r\n    apply plugin: &#39;ManifestClasspath&#39;\r\n\r\n","title":"CreateProcess error=206, The filename or extension is too long when running gwtCompile","body":"<p>I fixed a similar issue with this gradle plugin : <a href=\"https://github.com/viswaramamoorthy/gradle-util-plugins\" rel=\"noreferrer\">https://github.com/viswaramamoorthy/gradle-util-plugins</a></p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath \"com.github.viswaramamoorthy:gradle-util-plugins:0.1.0-RELEASE\"\n    }\n}\n...\napply plugin: 'ManifestClasspath'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5954156,"reputation":41,"user_id":4681346,"display_name":"GLK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557054482,"creation_date":1557054482,"answer_id":55991310,"question_id":38501933,"body_markdown":"I fixed this issue based on info from [fix for long classpath][1]\r\n\r\n\r\n  [1]: https://tuhrig.de/gradles-bootrun-and-windows-command-length-limit/\r\n\r\n1. create the following task: \r\n\r\n                task pathingJar(type: Jar) {\r\n            dependsOn configurations.runtime\r\n            appendix = &#39;pathing&#39;\r\n            doFirst {\r\n                manifest {\r\n                   attributes &quot;Class-Path&quot;: configurations.runtime.files.collect {\r\n                       it.toURL().toString().replaceFirst(/file:\\/+/, &#39;/&#39;)\r\n                   }.join(&#39; &#39;)\r\n          }\r\n        }\r\n      }\r\n\r\n2. use this task in bootRun\r\n\r\n        task bootRunDev(type: org.springframework.boot.gradle.tasks.run.BootRun, \r\n        dependsOn: &#39;build&#39;) {\r\n        dependsOn pathingJar\r\n        group = &#39;application&#39;\r\n        jvmArgs = [\r\n            &quot;-agentlib:jdwp=transport=dt_socket,server=y,address=8000,suspend=n&quot;\r\n        ]\r\n        doFirst() {\r\n            main = bootJar.mainClassName\r\n            classpath = files(sourceSets.main.output.files, pathingJar.archivePath)\r\n            systemProperty &#39;spring.profiles.active&#39;, &#39;development&#39;\r\n        }\r\n    }","title":"CreateProcess error=206, The filename or extension is too long when running gwtCompile","body":"<p>I fixed this issue based on info from <a href=\"https://tuhrig.de/gradles-bootrun-and-windows-command-length-limit/\" rel=\"nofollow noreferrer\">fix for long classpath</a></p>\n\n<ol>\n<li><p>create the following task: </p>\n\n<pre><code>        task pathingJar(type: Jar) {\n    dependsOn configurations.runtime\n    appendix = 'pathing'\n    doFirst {\n        manifest {\n           attributes \"Class-Path\": configurations.runtime.files.collect {\n               it.toURL().toString().replaceFirst(/file:\\/+/, '/')\n           }.join(' ')\n  }\n}\n</code></pre>\n\n<p>}</p></li>\n<li><p>use this task in bootRun</p>\n\n<pre><code>task bootRunDev(type: org.springframework.boot.gradle.tasks.run.BootRun, \ndependsOn: 'build') {\ndependsOn pathingJar\ngroup = 'application'\njvmArgs = [\n    \"-agentlib:jdwp=transport=dt_socket,server=y,address=8000,suspend=n\"\n]\ndoFirst() {\n    main = bootJar.mainClassName\n    classpath = files(sourceSets.main.output.files, pathingJar.archivePath)\n    systemProperty 'spring.profiles.active', 'development'\n}\n</code></pre>\n\n<p>}</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594130416,"creation_date":1594130416,"answer_id":62777014,"question_id":38501933,"body_markdown":"I was trying to run stand alon java program. Changing the below in run configuration fixed my issue\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dmB4i.png","title":"CreateProcess error=206, The filename or extension is too long when running gwtCompile","body":"<p>I was trying to run stand alon java program. Changing the below in run configuration fixed my issue</p>\n<p><a href=\"https://i.stack.imgur.com/dmB4i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dmB4i.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653627382,"creation_date":1653627382,"answer_id":72400628,"question_id":38501933,"body_markdown":"This is a simplified version of @GLK&#39;s *pathingJar* solution that works in gradle4.10:\r\n```\r\ntask pathingJar(type: Jar) {\r\n    dependsOn configurations.runtimeClasspath\r\n    appendix = &#39;pathing&#39;\r\n\r\n    doFirst {\r\n        manifest {\r\n            Set&lt;File&gt; classPathJars = configurations.runtimeClasspath.files\r\n            attributes &quot;Class-Path&quot;: classPathJars.collect {it.toURI().toURL().toString().replaceFirst(&quot;file:/&quot;, &#39;/&#39;)}.join(&quot; &quot;)\r\n        }\r\n    }\r\n}\r\n\r\nbootRun {\r\n    dependsOn pathingJar\r\n    doFirst {\r\n        classpath = files(sourceSets.main.output.files, pathingJar.archivePath)\r\n    }\r\n}\r\n```\r\nMy `sourceSets.main.output.files` (in a groovy build) resolves to:\r\n`[&lt;projectRoot&gt;\\build\\classes\\java\\main, &lt;projectRoot&gt;\\build\\classes\\groovy\\main, &lt;projectRoot&gt;\\build\\resources\\main]`\r\n\r\n","title":"CreateProcess error=206, The filename or extension is too long when running gwtCompile","body":"<p>This is a simplified version of @GLK's <em>pathingJar</em> solution that works in gradle4.10:</p>\n<pre><code>task pathingJar(type: Jar) {\n    dependsOn configurations.runtimeClasspath\n    appendix = 'pathing'\n\n    doFirst {\n        manifest {\n            Set&lt;File&gt; classPathJars = configurations.runtimeClasspath.files\n            attributes &quot;Class-Path&quot;: classPathJars.collect {it.toURI().toURL().toString().replaceFirst(&quot;file:/&quot;, '/')}.join(&quot; &quot;)\n        }\n    }\n}\n\nbootRun {\n    dependsOn pathingJar\n    doFirst {\n        classpath = files(sourceSets.main.output.files, pathingJar.archivePath)\n    }\n}\n</code></pre>\n<p>My <code>sourceSets.main.output.files</code> (in a groovy build) resolves to:\n<code>[&lt;projectRoot&gt;\\build\\classes\\java\\main, &lt;projectRoot&gt;\\build\\classes\\groovy\\main, &lt;projectRoot&gt;\\build\\resources\\main]</code></p>\n"}],"owner":{"account_id":1065423,"reputation":885,"user_id":1066129,"accept_rate":15,"display_name":"enfany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9985,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1653627382,"creation_date":1469097368,"question_id":38501933,"body_markdown":"My application is a springboot gradle application. Part of my application involves legacy gwt compile using gradle. It works fine but today when I run the below gradle task, it shows CreateProcess error=206, The filename or extension is too long.  What might be went wrong? as it worked before. Any suggested changes to the code below to resolve this issue?\r\n\r\n\r\n        task compileGwt(dependsOn: classes, type: JavaExec) {\r\n        //ext.buildDir = &quot;${project.buildDir}/resources/main/static&quot;\r\n        ext.buildDir = &quot;${project.rootDir}/src/main/webapp&quot;\r\n        //ext.buildDir = &quot;${project.buildDir}&quot;\r\n        ext.extraDir = &quot;${project.buildDir}/extra&quot;\r\n        ext.generatedDir = &quot;${project.buildDir}/generated&quot;\r\n    \r\n        inputs.source sourceSets.main.java.srcDirs\r\n        inputs.dir sourceSets.main.output.resourcesDir\r\n        outputs.dir buildDir\r\n    \r\n        // Workaround for incremental build (GRADLE-1483)\r\n        outputs.upToDateSpec = new org.gradle.api.specs.AndSpec()\r\n    \r\n        doFirst {\r\n            file(buildDir).mkdirs()\r\n            //classpath.each { println it.name}\r\n        }\r\n    \r\n        main = &#39;com.google.gwt.dev.Compiler&#39;\r\n    \r\n        classpath {\r\n            [\r\n                    sourceSets.main.java.srcDirs,           // Java source\r\n                    sourceSets.main.output.resourcesDir,    // Generated resources\r\n                    sourceSets.main.output.classesDir,      // Generated classes\r\n                    sourceSets.main.compileClasspath,       // Deps\r\n            ]\r\n        }\r\n    \r\n        args =\r\n                [\r\n                        &#39;com.company.application.UI&#39;, // Your GWT module\r\n                        &#39;-war&#39;, buildDir,\r\n                        &#39;-logLevel&#39;, &#39;INFO&#39;,\r\n                        &#39;-style&#39;, &#39;DETAILED&#39;,\r\n                        &#39;-localWorkers&#39;, &#39;2&#39;,\r\n                        &#39;-compileReport&#39;,\r\n                        &#39;-gen&#39;, generatedDir,\r\n                        &#39;-extra&#39;, extraDir,\r\n                        &#39;-draftCompile&#39; // Speeds up compile with 25%\r\n                ]\r\n        maxHeapSize = &#39;1024M&#39;\r\n    \r\n    \r\n    }\r\n    \r\n    war.dependsOn compileGwt\r\n    war {\r\n        from compileGwt.buildDir\r\n    }\r\n\r\n\r\nBelow is the updated build.gradle with pathingJar, when I run compileGwt, it gives error saying:Could not find or load main class com.google.gwt.dev.Compiler\r\n\r\n\r\n    \r\n    apply plugin: &quot;build-app&quot;\r\n    apply plugin: &#39;war&#39;\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    dependencies {\r\n   \r\n        compile(&quot;javax.validation:validation-api:1.1.0.Final&quot;)\r\n        compile(&quot;javax.validation:validation-api:1.1.0.Final:sources&quot;)\r\n        compile(&quot;net.sourceforge.javacsv:javacsv:2.0&quot;)\r\n    \r\n        compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n        compile(&quot;org.springframework.security:spring-security-ldap&quot;)\r\n        compile(&quot;org.apache.directory.server:apacheds-server-jndi:1.5.5&quot;)\r\n        compile(&quot;org.springframework:spring-web&quot;)\r\n        compile(&quot;com.fasterxml.jackson.core:jackson-databind&quot;)\r\n    \r\n        compile(&quot;javax.servlet:javax.servlet-api:3.1.0&quot;)\r\n    \r\n        compile(&quot;com.google.gwt:gwt-user:2.5.1&quot;)\r\n        compile(&quot;com.google.gwt:gwt-servlet:2.5.1&quot;)\r\n        compile(&quot;com.google.gwt:gwt-dev:2.5.1&quot;)\r\n        compile(&quot;com.google.gwt.inject:gin:1.5.0&quot;)\r\n    \r\n        compile(&quot;com.googlecode.mvp4g:mvp4g:1.4.0&quot;)\r\n        compile(&quot;com.googlecode.mvp4g:mvp4g:1.4.0:sources&quot;)\r\n    \r\n        compile(&quot;com.sencha.gxt:gxt:3.0.1&quot;)\r\n        compile(&quot;com.sencha.gxt:gxt:3.0.1:sources&quot;)\r\n    \r\n    \r\n        compile(&quot;org.atmosphere:atmosphere-gwt-client:1.1.0.RC5&quot;)\r\n        compile(&quot;org.atmosphere:atmosphere-gwt-server:1.1.0.RC5&quot;)\r\n        compile(&quot;com.fasterxml.jackson.datatype:jackson-datatype-hibernate4:2.1.2&quot;)\r\n        compile(&quot;org.bouncycastle:bcpg-jdk16:1.46&quot;)\r\n        compile(&quot;org.jsoup:jsoup:1.7.2&quot;)\r\n        compile(&quot;org.eclipse.jetty:jetty-continuation:9.3.5.v20151012&quot;)\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-aop&quot;)\r\n        compile(&quot;com.googlecode.lambdaj:lambdaj:2.3.3&quot;)\r\n        compile(&quot;org.apache.poi:poi:3.9&quot;)\r\n        compile(&quot;org.apache.poi:poi-ooxml:3.9&quot;)\r\n        compile(&quot;commons-fileupload:commons-fileupload:1.3.1&quot;)\r\n        compile(&quot;org.springframework.security:spring-security-core:4.0.3.RELEASE&quot;)\r\n        compile(&quot;com.google.guava:guava:18.0&quot;)\r\n        compile(&quot;com.google.guava:guava-gwt:18.0&quot;)\r\n        compile(&quot;org.springframework.integration:spring-integration-core:4.2.4.RELEASE&quot;)\r\n        compile(&quot;org.samba.jcifs:jcifs:1.3.3&quot;)\r\n        compile(&quot;org.springframework.integration:spring-integration-file:4.2.4.RELEASE&quot;)\r\n        compile(&quot;org.springframework.integration:spring-integration-ftp:4.2.4.RELEASE&quot;)\r\n        compile(&quot;org.springframework.integration:spring-integration-sftp:4.2.4.RELEASE&quot;)\r\n        compile(&quot;org.springframework.integration:spring-integration-flow:1.0.0.RELEASE&quot;)\r\n        compile(&quot;org.springframework.integration:spring-integration-java-dsl:1.1.0.M1&quot;)\r\n        compile(&quot;org.atmosphere:wasync:2.1.2&quot;)\r\n    \r\n        compile libs.quartz\r\n        compile libs.spring_jms\r\n        compile libs.spring_jpa\r\n        compile libs.jdbc_sybase\r\n    \r\n        runtime files(&quot;src/dist/conf&quot;)\r\n        runtime files(&quot;src/dist/env/local&quot;)\r\n    \r\n        configurations {\r\n            all*.exclude group: &#39;&#39;, module: &#39;servlet-api&#39;\r\n        }\r\n    }\r\n    \r\n    task createDirs &lt;&lt; {\r\n        sourceSets*.java.srcDirs*.each { it.mkdirs() }\r\n        sourceSets*.resources.srcDirs*.each { it.mkdirs() }\r\n        webAppDir.mkdirs()\r\n    }\r\n    \r\n    task initProject &lt;&lt; {\r\n        File oldSource = file(&quot;./src&quot;)\r\n        File tmpSource = file(&quot;./tmp&quot;)\r\n        tmpSource.mkdirs()\r\n    \r\n        oldSource.listFiles().each { File f -&gt; f.renameTo new File(tmpSource, f.name) }\r\n    \r\n        sourceSets*.java.srcDirs*.each { it.mkdirs() }\r\n        sourceSets*.resources.srcDirs*.each { it.mkdirs() }\r\n        webAppDir.mkdirs()\r\n    \r\n        File newSource = file(sourceSets.main.java.srcDirs.iterator().next())\r\n    \r\n        tmpSource.listFiles().each { File f -&gt; f.renameTo new File(newSource, f.name) }\r\n    \r\n        tmpSource.delete()\r\n    }\r\n    \r\n    task pathingJar(type: Jar) {\r\n        dependsOn configurations.runtime\r\n        appendix = &#39;pathing&#39;\r\n    \r\n        doFirst {\r\n            from &quot;${project.buildDir}/classes&quot;\r\n            manifest {\r\n                attributes &quot;Class-Path&quot;: configurations.compile.files.join(&quot; &quot;)\r\n            }\r\n        }\r\n    }\r\n    \r\n    task compileGwt(dependsOn: pathingJar, type: JavaExec) {\r\n    \r\n        //ext.buildDir = &quot;${project.buildDir}/resources/main/static&quot;\r\n        ext.buildDir = &quot;${project.rootDir}/src/main/webapp&quot;\r\n        //ext.buildDir = &quot;${project.buildDir}&quot;\r\n        ext.extraDir = &quot;${project.buildDir}/extra&quot;\r\n        ext.generatedDir = &quot;${project.buildDir}/generated&quot;\r\n    \r\n        inputs.source sourceSets.main.java.srcDirs\r\n        inputs.dir sourceSets.main.output.resourcesDir\r\n        outputs.dir buildDir\r\n    \r\n        // Workaround for incremental build (GRADLE-1483)\r\n        outputs.upToDateSpec = new org.gradle.api.specs.AndSpec()\r\n    \r\n        doFirst {\r\n            file(buildDir).mkdirs()\r\n            //classpath.each { println it.name}\r\n        }\r\n    \r\n    \r\n        main = &#39;com.google.gwt.dev.Compiler&#39;\r\n        classpath {\r\n            [\r\n                    pathingJar.archivePath,\r\n                    sourceSets.main.java.srcDirs,           // Java source\r\n                    sourceSets.main.output.resourcesDir,    // Generated resources\r\n                    sourceSets.main.output.classesDir,      // Generated classes\r\n                    //sourceSets.main.compileClasspath,       // Deps\r\n    \r\n            ]\r\n        }\r\n    \r\n        args =\r\n                [\r\n                        &#39;com.company.application.UI&#39;, // Your GWT module\r\n                        &#39;-war&#39;, buildDir,\r\n                        &#39;-logLevel&#39;, &#39;INFO&#39;,\r\n                        &#39;-localWorkers&#39;, &#39;2&#39;,\r\n                        &#39;-compileReport&#39;,\r\n                        &#39;-extra&#39;, extraDir,\r\n                        // &#39;-draftCompile&#39; // Speeds up compile with 25%\r\n                ]\r\n        maxHeapSize = &#39;1024M&#39;\r\n    \r\n    \r\n    }\r\n    \r\n    war.dependsOn compileGwt\r\n    war {\r\n        from compileGwt.buildDir\r\n    }","title":"CreateProcess error=206, The filename or extension is too long when running gwtCompile","body":"<p>My application is a springboot gradle application. Part of my application involves legacy gwt compile using gradle. It works fine but today when I run the below gradle task, it shows CreateProcess error=206, The filename or extension is too long.  What might be went wrong? as it worked before. Any suggested changes to the code below to resolve this issue?</p>\n\n<pre><code>    task compileGwt(dependsOn: classes, type: JavaExec) {\n    //ext.buildDir = \"${project.buildDir}/resources/main/static\"\n    ext.buildDir = \"${project.rootDir}/src/main/webapp\"\n    //ext.buildDir = \"${project.buildDir}\"\n    ext.extraDir = \"${project.buildDir}/extra\"\n    ext.generatedDir = \"${project.buildDir}/generated\"\n\n    inputs.source sourceSets.main.java.srcDirs\n    inputs.dir sourceSets.main.output.resourcesDir\n    outputs.dir buildDir\n\n    // Workaround for incremental build (GRADLE-1483)\n    outputs.upToDateSpec = new org.gradle.api.specs.AndSpec()\n\n    doFirst {\n        file(buildDir).mkdirs()\n        //classpath.each { println it.name}\n    }\n\n    main = 'com.google.gwt.dev.Compiler'\n\n    classpath {\n        [\n                sourceSets.main.java.srcDirs,           // Java source\n                sourceSets.main.output.resourcesDir,    // Generated resources\n                sourceSets.main.output.classesDir,      // Generated classes\n                sourceSets.main.compileClasspath,       // Deps\n        ]\n    }\n\n    args =\n            [\n                    'com.company.application.UI', // Your GWT module\n                    '-war', buildDir,\n                    '-logLevel', 'INFO',\n                    '-style', 'DETAILED',\n                    '-localWorkers', '2',\n                    '-compileReport',\n                    '-gen', generatedDir,\n                    '-extra', extraDir,\n                    '-draftCompile' // Speeds up compile with 25%\n            ]\n    maxHeapSize = '1024M'\n\n\n}\n\nwar.dependsOn compileGwt\nwar {\n    from compileGwt.buildDir\n}\n</code></pre>\n\n<p>Below is the updated build.gradle with pathingJar, when I run compileGwt, it gives error saying:Could not find or load main class com.google.gwt.dev.Compiler</p>\n\n<pre><code>apply plugin: \"build-app\"\napply plugin: 'war'\napply plugin: 'java'\n\ndependencies {\n\n    compile(\"javax.validation:validation-api:1.1.0.Final\")\n    compile(\"javax.validation:validation-api:1.1.0.Final:sources\")\n    compile(\"net.sourceforge.javacsv:javacsv:2.0\")\n\n    compile(\"org.springframework.boot:spring-boot-starter-security\")\n    compile(\"org.springframework.security:spring-security-ldap\")\n    compile(\"org.apache.directory.server:apacheds-server-jndi:1.5.5\")\n    compile(\"org.springframework:spring-web\")\n    compile(\"com.fasterxml.jackson.core:jackson-databind\")\n\n    compile(\"javax.servlet:javax.servlet-api:3.1.0\")\n\n    compile(\"com.google.gwt:gwt-user:2.5.1\")\n    compile(\"com.google.gwt:gwt-servlet:2.5.1\")\n    compile(\"com.google.gwt:gwt-dev:2.5.1\")\n    compile(\"com.google.gwt.inject:gin:1.5.0\")\n\n    compile(\"com.googlecode.mvp4g:mvp4g:1.4.0\")\n    compile(\"com.googlecode.mvp4g:mvp4g:1.4.0:sources\")\n\n    compile(\"com.sencha.gxt:gxt:3.0.1\")\n    compile(\"com.sencha.gxt:gxt:3.0.1:sources\")\n\n\n    compile(\"org.atmosphere:atmosphere-gwt-client:1.1.0.RC5\")\n    compile(\"org.atmosphere:atmosphere-gwt-server:1.1.0.RC5\")\n    compile(\"com.fasterxml.jackson.datatype:jackson-datatype-hibernate4:2.1.2\")\n    compile(\"org.bouncycastle:bcpg-jdk16:1.46\")\n    compile(\"org.jsoup:jsoup:1.7.2\")\n    compile(\"org.eclipse.jetty:jetty-continuation:9.3.5.v20151012\")\n    compile(\"org.springframework.boot:spring-boot-starter-aop\")\n    compile(\"com.googlecode.lambdaj:lambdaj:2.3.3\")\n    compile(\"org.apache.poi:poi:3.9\")\n    compile(\"org.apache.poi:poi-ooxml:3.9\")\n    compile(\"commons-fileupload:commons-fileupload:1.3.1\")\n    compile(\"org.springframework.security:spring-security-core:4.0.3.RELEASE\")\n    compile(\"com.google.guava:guava:18.0\")\n    compile(\"com.google.guava:guava-gwt:18.0\")\n    compile(\"org.springframework.integration:spring-integration-core:4.2.4.RELEASE\")\n    compile(\"org.samba.jcifs:jcifs:1.3.3\")\n    compile(\"org.springframework.integration:spring-integration-file:4.2.4.RELEASE\")\n    compile(\"org.springframework.integration:spring-integration-ftp:4.2.4.RELEASE\")\n    compile(\"org.springframework.integration:spring-integration-sftp:4.2.4.RELEASE\")\n    compile(\"org.springframework.integration:spring-integration-flow:1.0.0.RELEASE\")\n    compile(\"org.springframework.integration:spring-integration-java-dsl:1.1.0.M1\")\n    compile(\"org.atmosphere:wasync:2.1.2\")\n\n    compile libs.quartz\n    compile libs.spring_jms\n    compile libs.spring_jpa\n    compile libs.jdbc_sybase\n\n    runtime files(\"src/dist/conf\")\n    runtime files(\"src/dist/env/local\")\n\n    configurations {\n        all*.exclude group: '', module: 'servlet-api'\n    }\n}\n\ntask createDirs &lt;&lt; {\n    sourceSets*.java.srcDirs*.each { it.mkdirs() }\n    sourceSets*.resources.srcDirs*.each { it.mkdirs() }\n    webAppDir.mkdirs()\n}\n\ntask initProject &lt;&lt; {\n    File oldSource = file(\"./src\")\n    File tmpSource = file(\"./tmp\")\n    tmpSource.mkdirs()\n\n    oldSource.listFiles().each { File f -&gt; f.renameTo new File(tmpSource, f.name) }\n\n    sourceSets*.java.srcDirs*.each { it.mkdirs() }\n    sourceSets*.resources.srcDirs*.each { it.mkdirs() }\n    webAppDir.mkdirs()\n\n    File newSource = file(sourceSets.main.java.srcDirs.iterator().next())\n\n    tmpSource.listFiles().each { File f -&gt; f.renameTo new File(newSource, f.name) }\n\n    tmpSource.delete()\n}\n\ntask pathingJar(type: Jar) {\n    dependsOn configurations.runtime\n    appendix = 'pathing'\n\n    doFirst {\n        from \"${project.buildDir}/classes\"\n        manifest {\n            attributes \"Class-Path\": configurations.compile.files.join(\" \")\n        }\n    }\n}\n\ntask compileGwt(dependsOn: pathingJar, type: JavaExec) {\n\n    //ext.buildDir = \"${project.buildDir}/resources/main/static\"\n    ext.buildDir = \"${project.rootDir}/src/main/webapp\"\n    //ext.buildDir = \"${project.buildDir}\"\n    ext.extraDir = \"${project.buildDir}/extra\"\n    ext.generatedDir = \"${project.buildDir}/generated\"\n\n    inputs.source sourceSets.main.java.srcDirs\n    inputs.dir sourceSets.main.output.resourcesDir\n    outputs.dir buildDir\n\n    // Workaround for incremental build (GRADLE-1483)\n    outputs.upToDateSpec = new org.gradle.api.specs.AndSpec()\n\n    doFirst {\n        file(buildDir).mkdirs()\n        //classpath.each { println it.name}\n    }\n\n\n    main = 'com.google.gwt.dev.Compiler'\n    classpath {\n        [\n                pathingJar.archivePath,\n                sourceSets.main.java.srcDirs,           // Java source\n                sourceSets.main.output.resourcesDir,    // Generated resources\n                sourceSets.main.output.classesDir,      // Generated classes\n                //sourceSets.main.compileClasspath,       // Deps\n\n        ]\n    }\n\n    args =\n            [\n                    'com.company.application.UI', // Your GWT module\n                    '-war', buildDir,\n                    '-logLevel', 'INFO',\n                    '-localWorkers', '2',\n                    '-compileReport',\n                    '-extra', extraDir,\n                    // '-draftCompile' // Speeds up compile with 25%\n            ]\n    maxHeapSize = '1024M'\n\n\n}\n\nwar.dependsOn compileGwt\nwar {\n    from compileGwt.buildDir\n}\n</code></pre>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1653542021,"post_id":72386791,"comment_id":127878640,"body_markdown":"Your code works fine for me. Refer to this [JDoodle](https://www.jdoodle.com/iembed/v0/rnG). Note that if I change &quot;TAM&quot; to &quot;TAX&quot;, the code also works.","body":"Your code works fine for me. Refer to this <a href=\"https://www.jdoodle.com/iembed/v0/rnG\" rel=\"nofollow noreferrer\">JDoodle</a>. Note that if I change &quot;TAM&quot; to &quot;TAX&quot;, the code also works."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1653542418,"post_id":72386791,"comment_id":127878702,"body_markdown":"Note that my code does not parse the JSON. Maybe your problem is there?","body":"Note that my code does not parse the JSON. Maybe your problem is there?"}],"answers":[{"tags":[],"owner":{"account_id":3484462,"reputation":175,"user_id":2915744,"accept_rate":50,"display_name":"udith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653626727,"creation_date":1653626727,"answer_id":72400560,"question_id":72386791,"body_markdown":"After using `orElseGet` instead of `orElse` issue sorted.\r\n\r\n    ProductDescription productDescription = productsDisplayInfo.getListProductDescription().stream()\r\n            .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;TAM&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\r\n            .findFirst()\r\n            .orElseGet(() -&gt; productsDisplayInfo.getListProductDescription().stream()\r\n                    .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;ENG&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\r\n                    .findFirst()\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;couldn,t find the value&quot;)));","title":"Filter one by one using java stream","body":"<p>After using <code>orElseGet</code> instead of <code>orElse</code> issue sorted.</p>\n<pre><code>ProductDescription productDescription = productsDisplayInfo.getListProductDescription().stream()\n        .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;TAM&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\n        .findFirst()\n        .orElseGet(() -&gt; productsDisplayInfo.getListProductDescription().stream()\n                .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;ENG&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\n                .findFirst()\n                .orElseThrow(() -&gt; new RuntimeException(&quot;couldn,t find the value&quot;)));\n</code></pre>\n"}],"owner":{"account_id":3484462,"reputation":175,"user_id":2915744,"accept_rate":50,"display_name":"udith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1653627743,"answer_count":1,"score":-1,"last_activity_date":1653626727,"creation_date":1653540228,"question_id":72386791,"body_markdown":"Sample json\r\n\r\n    &quot;listProductDescription&quot;: [\r\n                {\r\n                    &quot;requestChannel&quot;: &quot;MBA&quot;,\r\n                    &quot;locale&quot;: &quot;ENG&quot;,\r\n                    &quot;shortDescription&quot;: &quot;1 GB&quot;,\r\n                    &quot;longDescription&quot;: &quot;1 GB&quot;\r\n                },\r\n                {\r\n                    &quot;requestChannel&quot;: &quot;MBA&quot;,\r\n                    &quot;locale&quot;: &quot;SIN&quot;,\r\n                    &quot;shortDescription&quot;: &quot;1 GB&quot;,\r\n                    &quot;longDescription&quot;: &quot;1 GB&quot;\r\n                },\r\n                {\r\n                    &quot;requestChannel&quot;: &quot;MBA&quot;,\r\n                    &quot;locale&quot;: &quot;TAM&quot;,\r\n                    &quot;shortDescription&quot;: &quot;1 GB&quot;,\r\n                    &quot;longDescription&quot;: &quot;1 GB&quot;\r\n                }\r\n            ]\r\n\r\nMapping class\r\n\r\n    public class ProductDescription{\r\n      private String shortDescription;\r\n      private String longDescription;\r\n      private String requestChannel;\r\n      private String locale;\r\n     }\r\n\r\n    private List&lt;ProductDescription&gt; listProductDescription;\r\n\r\nI want filter requestChannel = &quot;MBA&quot; and &quot;local&quot; = &quot;TAM&quot; object. If there is no record need to retrieve requestChannel = &quot;MBA&quot; and &quot;local&quot; = &quot;ENG&quot; object. How to do that with stream,\r\ntried below but no success.\r\n\r\n    ProductDescription productDescription = productsDisplayInfo.getListProductDescription().stream()\r\n                .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;TAM&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\r\n                .findFirst()\r\n                .orElse(productsDisplayInfo.getListProductDescription().stream()\r\n                        .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;ENG&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\r\n                        .findFirst()\r\n\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(&quot;couldn,t find the value&quot;)));\r\n\r\n","title":"Filter one by one using java stream","body":"<p>Sample json</p>\n<pre><code>&quot;listProductDescription&quot;: [\n            {\n                &quot;requestChannel&quot;: &quot;MBA&quot;,\n                &quot;locale&quot;: &quot;ENG&quot;,\n                &quot;shortDescription&quot;: &quot;1 GB&quot;,\n                &quot;longDescription&quot;: &quot;1 GB&quot;\n            },\n            {\n                &quot;requestChannel&quot;: &quot;MBA&quot;,\n                &quot;locale&quot;: &quot;SIN&quot;,\n                &quot;shortDescription&quot;: &quot;1 GB&quot;,\n                &quot;longDescription&quot;: &quot;1 GB&quot;\n            },\n            {\n                &quot;requestChannel&quot;: &quot;MBA&quot;,\n                &quot;locale&quot;: &quot;TAM&quot;,\n                &quot;shortDescription&quot;: &quot;1 GB&quot;,\n                &quot;longDescription&quot;: &quot;1 GB&quot;\n            }\n        ]\n</code></pre>\n<p>Mapping class</p>\n<pre><code>public class ProductDescription{\n  private String shortDescription;\n  private String longDescription;\n  private String requestChannel;\n  private String locale;\n }\n\nprivate List&lt;ProductDescription&gt; listProductDescription;\n</code></pre>\n<p>I want filter requestChannel = &quot;MBA&quot; and &quot;local&quot; = &quot;TAM&quot; object. If there is no record need to retrieve requestChannel = &quot;MBA&quot; and &quot;local&quot; = &quot;ENG&quot; object. How to do that with stream,\ntried below but no success.</p>\n<pre><code>ProductDescription productDescription = productsDisplayInfo.getListProductDescription().stream()\n            .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;TAM&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\n            .findFirst()\n            .orElse(productsDisplayInfo.getListProductDescription().stream()\n                    .filter(productDescription -&gt; productDescription.getLocale().equals(&quot;ENG&quot;) &amp;&amp; productDescription.getRequestChannel().equals(&quot;MBA&quot;))\n                    .findFirst()\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;couldn,t find the value&quot;)));\n</code></pre>\n"},{"tags":["java","multithreading","logging","junit"],"comments":[{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1652938542,"post_id":72299102,"comment_id":127729730,"body_markdown":"Are you sure those are 2 different threads? I mean I am sure that Java must set a time limit even for the main thread.","body":"Are you sure those are 2 different threads? I mean I am sure that Java must set a time limit even for the main thread."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652939848,"post_id":72299102,"comment_id":127730003,"body_markdown":"@justanotherguy - Java doesn&#39;t set time limits on threads.","body":"@justanotherguy - Java doesn&#39;t set time limits on threads."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652939976,"creation_date":1652939365,"answer_id":72299247,"question_id":72299102,"body_markdown":"This will be an artifact of the code that you are testing.  The message refers to a &quot;time-limt&quot; (sic) thread.  That spelling error is a big clue&lt;sup&gt;1&lt;/sup&gt; that the thread doesn&#39;t belong to the JUnit test framework.\r\n\r\nSo, my guess is that the application code that you are testing creates a thread and names it &quot;time-limt&quot;.  That thread generates log messages.  Some test (running on the &quot;main&quot; thread) calls the application code (on the &quot;main&quot; thread) ... which interacts with the &quot;time-limt&quot; thread ... which produces the log messages.\r\n\r\nIn short, those messages are not direct evidence that the test are running on different threada.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - If you doubt my inference, download the source code for the version of JUnit you are using, and search for the string `time-limt`.  I *could* be wrong.&lt;/sup&gt;","title":"Why is some code run on the &quot;Time-limited test&quot; thread instead of the main thread?","body":"<p>This will be an artifact of the code that you are testing.  The message refers to a &quot;time-limt&quot; (sic) thread.  That spelling error is a big clue<sup>1</sup> that the thread doesn't belong to the JUnit test framework.</p>\n<p>So, my guess is that the application code that you are testing creates a thread and names it &quot;time-limt&quot;.  That thread generates log messages.  Some test (running on the &quot;main&quot; thread) calls the application code (on the &quot;main&quot; thread) ... which interacts with the &quot;time-limt&quot; thread ... which produces the log messages.</p>\n<p>In short, those messages are not direct evidence that the test are running on different threada.</p>\n<hr />\n<p><sup>1 - If you doubt my inference, download the source code for the version of JUnit you are using, and search for the string <code>time-limt</code>.  I <em>could</em> be wrong.</sup></p>\n"}],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653626723,"creation_date":1652938433,"question_id":72299102,"body_markdown":"I have some tests. I notice that sometime my log messages indicate that the code is running on the main thread. Other log messages indicate that the code is running on the &quot;Time-limited test&quot; thread. Many of my tests have a timeout specified.\r\n\r\n00000  Time-limt WARNING start gtp2: (a model-18 (0,1) ...\r\n\r\n00001  Time-limt WARNING                response2: = A1\r\n\r\n00002       main WARNING                   named threads!  ...\r\n\r\nEdit 1. The &quot;Time-limited test&quot; thread is started by FailOnTimeout() (please see below). The elapsed time in milliseconds is give as well as the timeout time (200 ms.). I have a few hundred tests that are similar but only a dozen or so timeout on me. In all cases the elapsed time is less than the timeout value for the test.\r\n\r\nThese tests start up one to five threads, run some test, and then try to shutdown gracefully by interrupting and joining.\r\n\r\n&gt; 00000  Time-limt  SEVERE not main! &#39;Time-limited test&#39; 1.491111 ms.\r\n&gt; 200 ms. in controller.GTPBackEnd.startGTP()\r\n&gt; controller.GTPBackEnd.startGTP(GTPBackEnd.java:50)\r\n&gt; controller.ABothTestCase.testBothGenmoveTrue(ABothTestCase.java:39)\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n&gt; org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n&gt; org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n&gt; org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n&gt; org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n&gt; org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\r\n&gt; org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\r\n&gt; java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\r\n\r\n","title":"Why is some code run on the &quot;Time-limited test&quot; thread instead of the main thread?","body":"<p>I have some tests. I notice that sometime my log messages indicate that the code is running on the main thread. Other log messages indicate that the code is running on the &quot;Time-limited test&quot; thread. Many of my tests have a timeout specified.</p>\n<p>00000  Time-limt WARNING start gtp2: (a model-18 (0,1) ...</p>\n<p>00001  Time-limt WARNING                response2: = A1</p>\n<p>00002       main WARNING                   named threads!  ...</p>\n<p>Edit 1. The &quot;Time-limited test&quot; thread is started by FailOnTimeout() (please see below). The elapsed time in milliseconds is give as well as the timeout time (200 ms.). I have a few hundred tests that are similar but only a dozen or so timeout on me. In all cases the elapsed time is less than the timeout value for the test.</p>\n<p>These tests start up one to five threads, run some test, and then try to shutdown gracefully by interrupting and joining.</p>\n<blockquote>\n<p>00000  Time-limt  SEVERE not main! 'Time-limited test' 1.491111 ms.\n200 ms. in controller.GTPBackEnd.startGTP()\ncontroller.GTPBackEnd.startGTP(GTPBackEnd.java:50)\ncontroller.ABothTestCase.testBothGenmoveTrue(ABothTestCase.java:39)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:568)\norg.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\norg.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\norg.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\norg.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\norg.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\norg.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\njava.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1653621235,"post_id":72399946,"comment_id":127900563,"body_markdown":"To solve your issue simply change `Intger num1;` to `Intger num1 = null;` which means a null pointer exception will be thrown if the object is not initialized but still referenced. The reason for the error is that if you do not do this, then the behaviour is undefined, and your compiler will not allow that.","body":"To solve your issue simply change <code>Intger num1;</code> to <code>Intger num1 = null;</code> which means a null pointer exception will be thrown if the object is not initialized but still referenced. The reason for the error is that if you do not do this, then the behaviour is undefined, and your compiler will not allow that."},{"owner":{"account_id":19286123,"reputation":1,"user_id":14097057,"display_name":"POUDEL BANWO"},"score":0,"creation_date":1653712558,"post_id":72399946,"comment_id":127923096,"body_markdown":"yeah, that solves it. But I didn&#39;t initialize num1 to null because num1 was anyway going to be initialized inside the loop, so I didn&#39;t bother initializing, I just declared it. Or is this the better practice to initialize to null at the time of declaring? Was I following the wrong practice then ??","body":"yeah, that solves it. But I didn&#39;t initialize num1 to null because num1 was anyway going to be initialized inside the loop, so I didn&#39;t bother initializing, I just declared it. Or is this the better practice to initialize to null at the time of declaring? Was I following the wrong practice then ??"}],"answers":[{"tags":[],"owner":{"account_id":20985560,"reputation":41,"user_id":15419442,"display_name":"Easy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653622154,"creation_date":1653622154,"answer_id":72400162,"question_id":72399946,"body_markdown":"It&#39;s because you did not initialise the Intger object. You wrote:\r\n\r\n    Intger num1;\r\nAnd only then in the for-loop did you assign an instance to the variable num1. Now, it cannot be guaranteed that the loop ever *gets* executed (even though it might seem obvious in this case), but it is assumed that loops may not execute, so in that case num1 would never have been initialised and you can&#39;t access fields of an object that does not exist.\r\n\r\nIf you instead wrote:\r\n\r\n    Intger num1 = new Intger();\r\nIt would work and print 10 to the console like you expected it to.","title":"Why we can not access the objects outside the loop after initializing it inside the loop in java?","body":"<p>It's because you did not initialise the Intger object. You wrote:</p>\n<pre><code>Intger num1;\n</code></pre>\n<p>And only then in the for-loop did you assign an instance to the variable num1. Now, it cannot be guaranteed that the loop ever <em>gets</em> executed (even though it might seem obvious in this case), but it is assumed that loops may not execute, so in that case num1 would never have been initialised and you can't access fields of an object that does not exist.</p>\n<p>If you instead wrote:</p>\n<pre><code>Intger num1 = new Intger();\n</code></pre>\n<p>It would work and print 10 to the console like you expected it to.</p>\n"},{"tags":[],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653622825,"creation_date":1653622825,"answer_id":72400220,"question_id":72399946,"body_markdown":"GC has nothing to do with the error. The java compiler is just not smart enough to figure out `num1` definitely gets initialized when the for loop ends. To fix this, you can try `Integer num1 = null;`. This gives `num1` an initial value, and `javac` is satisfied and won&#39;t annoy you anymore. \r\n\r\nGC will only destroy inaccessible objects. Accessible objects will never be destroyed. In brief, an accessible object is an object that is referenced (here means strong reference, not soft or weak reference) by a static field of a class loaded by the system class loader, a local variable, a running `Thread`, etc. All the objects referenced by other accessible objects is also considered accessible. In this case, the first 10 objects are no longer referenced because the next loop assigns a new object to the variable, throwing away the old one, so they are no longer accessible. Therefore, before the method ends, the first 10 objects are likely to be destroyed, but the last one won&#39;t. (Can&#39;t explain this well, hope you understand)","title":"Why we can not access the objects outside the loop after initializing it inside the loop in java?","body":"<p>GC has nothing to do with the error. The java compiler is just not smart enough to figure out <code>num1</code> definitely gets initialized when the for loop ends. To fix this, you can try <code>Integer num1 = null;</code>. This gives <code>num1</code> an initial value, and <code>javac</code> is satisfied and won't annoy you anymore.</p>\n<p>GC will only destroy inaccessible objects. Accessible objects will never be destroyed. In brief, an accessible object is an object that is referenced (here means strong reference, not soft or weak reference) by a static field of a class loaded by the system class loader, a local variable, a running <code>Thread</code>, etc. All the objects referenced by other accessible objects is also considered accessible. In this case, the first 10 objects are no longer referenced because the next loop assigns a new object to the variable, throwing away the old one, so they are no longer accessible. Therefore, before the method ends, the first 10 objects are likely to be destroyed, but the last one won't. (Can't explain this well, hope you understand)</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653623340,"creation_date":1653623340,"answer_id":72400262,"question_id":72399946,"body_markdown":"By the way, your custom class `Intger` is irrelevant. You could just as well use the usual class, `Integer`, to see the same effects.\r\n\r\nAlso by the way, [`Object#finalize`][1] is now deprecated, and will eventually be removed. Best to avoid that method for several reasons. See [*JEP 421: Deprecate Finalization for Removal*][2].\r\n\r\n\r\n----------\r\n\r\n# &quot;may not have been initialized&quot; warning\r\n\r\nAs for you problems, both the [Comment by sorifiend][3] and the [Answer by Easy][4] are correct. \r\n\r\n&gt; it says the local variable may not have been initialized\r\n\r\nThis is a cautionary warning. Your IDE/compiler are mentioning that depending on conditions at runtime, the reference variable you define early on, and then use further down, may not have ever been assigned a value.\r\n\r\nYou may clear the warning by merely assigning `null`, as shown in the Comment. By assigning `null`, you make clear that you understand the value may continue to be null further down, later in the code. \r\n\r\n    Intger num1 = null ;  // Explicitly assign `null` to the reference variable.\r\n\r\n# Null check\r\n\r\nYou could put a null-check in that later code. Change this:\r\n\r\n    System.out.println( num1.num );\r\n\r\n… to this:\r\n\r\n    if ( Objects.nonNull( num1 ) ) \r\n    {\r\n        System.out.println( num1.num ); \r\n    }\r\n    else\r\n    {\r\n        System.out.println( &quot;Oops, num1 is null.&quot; );\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()\r\n  [2]: https://openjdk.java.net/jeps/421\r\n  [3]: https://stackoverflow.com/questions/72399946/why-we-can-not-access-the-objects-outside-the-loop-after-initializing-it-inside#comment127900563_72399946\r\n  [4]: https://stackoverflow.com/a/72400162/642706","title":"Why we can not access the objects outside the loop after initializing it inside the loop in java?","body":"<p>By the way, your custom class <code>Intger</code> is irrelevant. You could just as well use the usual class, <code>Integer</code>, to see the same effects.</p>\n<p>Also by the way, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()\" rel=\"nofollow noreferrer\"><code>Object#finalize</code></a> is now deprecated, and will eventually be removed. Best to avoid that method for several reasons. See <a href=\"https://openjdk.java.net/jeps/421\" rel=\"nofollow noreferrer\"><em>JEP 421: Deprecate Finalization for Removal</em></a>.</p>\n<hr />\n<h1>&quot;may not have been initialized&quot; warning</h1>\n<p>As for you problems, both the <a href=\"https://stackoverflow.com/questions/72399946/why-we-can-not-access-the-objects-outside-the-loop-after-initializing-it-inside#comment127900563_72399946\">Comment by sorifiend</a> and the <a href=\"https://stackoverflow.com/a/72400162/642706\">Answer by Easy</a> are correct.</p>\n<blockquote>\n<p>it says the local variable may not have been initialized</p>\n</blockquote>\n<p>This is a cautionary warning. Your IDE/compiler are mentioning that depending on conditions at runtime, the reference variable you define early on, and then use further down, may not have ever been assigned a value.</p>\n<p>You may clear the warning by merely assigning <code>null</code>, as shown in the Comment. By assigning <code>null</code>, you make clear that you understand the value may continue to be null further down, later in the code.</p>\n<pre><code>Intger num1 = null ;  // Explicitly assign `null` to the reference variable.\n</code></pre>\n<h1>Null check</h1>\n<p>You could put a null-check in that later code. Change this:</p>\n<pre><code>System.out.println( num1.num );\n</code></pre>\n<p>… to this:</p>\n<pre><code>if ( Objects.nonNull( num1 ) ) \n{\n    System.out.println( num1.num ); \n}\nelse\n{\n    System.out.println( &quot;Oops, num1 is null.&quot; );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22446429,"reputation":1,"user_id":16650288,"display_name":"Amit Chunarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653624302,"creation_date":1653624302,"answer_id":72400360,"question_id":72399946,"body_markdown":"    Intger num1;\r\n\r\nIs not initialize outside of for loop so not possible to access outside of forloop\r\n\r\n    public class oopInJava {\r\n     public static void main(String[] args) {\r\n\r\n        int a;\r\n        for( int i=0;i&lt;=10;i++ ){\r\n            a = i;\r\n        }\r\n        System.out.println(a);\r\n\r\n    }\r\n}\r\n\r\nthis gives you same error you got:\r\n/oopInJava.java:8: error: variable a might not have been initialized\r\n        System.out.println(a);\r\n                           ^\r\n1 error\r\n\r\n\r\n\r\nthis only can solve by initializing outside of for loop\r\n\r\n    public class oopInJava {\r\n    public static void main(String[] args) {\r\n\r\n        int a = 0;\r\n        for( int i=0;i&lt;=10;i++ ){\r\n            a = i;\r\n        }\r\n        System.out.println(a);\r\n\r\n    }\r\n}\r\n\r\nOutput: 10\r\n\r\nTo solve your issue initialize outside for loop as \r\n\r\n    Intger num1 = null;\r\n\r\nor \r\n\r\n    Intger num1 = new Intger();\r\n\r\n","title":"Why we can not access the objects outside the loop after initializing it inside the loop in java?","body":"<pre><code>Intger num1;\n</code></pre>\n<p>Is not initialize outside of for loop so not possible to access outside of forloop</p>\n<pre><code>public class oopInJava {\n public static void main(String[] args) {\n\n    int a;\n    for( int i=0;i&lt;=10;i++ ){\n        a = i;\n    }\n    System.out.println(a);\n\n}\n</code></pre>\n<p>}</p>\n<p>this gives you same error you got:\n/oopInJava.java:8: error: variable a might not have been initialized\nSystem.out.println(a);\n^\n1 error</p>\n<p>this only can solve by initializing outside of for loop</p>\n<pre><code>public class oopInJava {\npublic static void main(String[] args) {\n\n    int a = 0;\n    for( int i=0;i&lt;=10;i++ ){\n        a = i;\n    }\n    System.out.println(a);\n\n}\n</code></pre>\n<p>}</p>\n<p>Output: 10</p>\n<p>To solve your issue initialize outside for loop as</p>\n<pre><code>Intger num1 = null;\n</code></pre>\n<p>or</p>\n<pre><code>Intger num1 = new Intger();\n</code></pre>\n"}],"owner":{"account_id":19286123,"reputation":1,"user_id":14097057,"display_name":"POUDEL BANWO"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1653624302,"creation_date":1653619740,"question_id":72399946,"body_markdown":"```\r\npublic class oopInJava {\r\n    public static void main(String[] args) {\r\n\r\n        Intger num1;\r\n\r\n        for( int i=0;i&lt;=10;i++ ){\r\n            num1 = new Intger(i);\r\n        }\r\n\r\n        System.out.println(num1.num);\r\n\r\n\r\n    }\r\n}\r\n\r\nclass Intger{\r\n    int num;\r\n    \r\n    Intger( int num ){\r\n        this.num = num;\r\n    }\r\n\r\n    Intger(){\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void finalize() throws Throwable {\r\n        // TODO Auto-generated method stub\r\n        System.out.println(&quot;Object is destroyed&quot;);\r\n    }\r\n}\r\n```\r\nHere after 10&#39;th iteration shouldn&#39;t I have my num1 pointing to an object in heap ? when I did `System.out.println(num1.num);` it says the local variable may not have been initialized. Or did all the objects got destroyed by automatic garbage collection ? If so how does the garbage collection works exactly ? For the 10 objects they shouldn&#39;t have any reference variable pointing to them so they could be destroyed but for the 11&#39;th object isn&#39;t there num1 still pointing to it ? Then how can garbage collection remove an object which is still pointed by a reference variable ? ","title":"Why we can not access the objects outside the loop after initializing it inside the loop in java?","body":"<pre><code>public class oopInJava {\n    public static void main(String[] args) {\n\n        Intger num1;\n\n        for( int i=0;i&lt;=10;i++ ){\n            num1 = new Intger(i);\n        }\n\n        System.out.println(num1.num);\n\n\n    }\n}\n\nclass Intger{\n    int num;\n    \n    Intger( int num ){\n        this.num = num;\n    }\n\n    Intger(){\n\n    }\n\n    @Override\n    protected void finalize() throws Throwable {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Object is destroyed&quot;);\n    }\n}\n</code></pre>\n<p>Here after 10'th iteration shouldn't I have my num1 pointing to an object in heap ? when I did <code>System.out.println(num1.num);</code> it says the local variable may not have been initialized. Or did all the objects got destroyed by automatic garbage collection ? If so how does the garbage collection works exactly ? For the 10 objects they shouldn't have any reference variable pointing to them so they could be destroyed but for the 11'th object isn't there num1 still pointing to it ? Then how can garbage collection remove an object which is still pointed by a reference variable ?</p>\n"},{"tags":["java","spring","spring-boot","azure"],"answers":[{"tags":[],"owner":{"account_id":23585381,"reputation":837,"user_id":17623897,"display_name":"SuryasriKamini-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653623782,"creation_date":1653623782,"answer_id":72400310,"question_id":72244594,"body_markdown":" - Before creating your stream class, make sure you call SpeechConfig.fromSubscription(KEY, REGION) (or one of the other from*() functions) at least once. \r\n - The reason for this is that the speech sdk only loads the native dll at the &quot;entry&quot; classes automatically, such as SpeechConfig or Recognizer classes.\r\n - Refer these links for more information:      \r\n   [Text Speech when SpeechConfig init got error](https://learn.microsoft.com/en-us/answers/questions/660957/text-speech-when-speechconfig-init-got-error.html)    \r\n [java.lang.UnsatisfiedLinkError](https://github.com/Azure-Samples/cognitive-services-speech-sdk/issues/112)   \r\n [Azure speech service can not use](https://learn.microsoft.com/en-us/answers/questions/604021/azure-speech-service-can-not-use.html)","title":"Issue :: Microsoft Cognitive Services :: client-sdk :: Azure","body":"<ul>\n<li>Before creating your stream class, make sure you call SpeechConfig.fromSubscription(KEY, REGION) (or one of the other from*() functions) at least once.</li>\n<li>The reason for this is that the speech sdk only loads the native dll at the &quot;entry&quot; classes automatically, such as SpeechConfig or Recognizer classes.</li>\n<li>Refer these links for more information:<br />\n<a href=\"https://learn.microsoft.com/en-us/answers/questions/660957/text-speech-when-speechconfig-init-got-error.html\" rel=\"nofollow noreferrer\">Text Speech when SpeechConfig init got error</a><br />\n<a href=\"https://github.com/Azure-Samples/cognitive-services-speech-sdk/issues/112\" rel=\"nofollow noreferrer\">java.lang.UnsatisfiedLinkError</a><br />\n<a href=\"https://learn.microsoft.com/en-us/answers/questions/604021/azure-speech-service-can-not-use.html\" rel=\"nofollow noreferrer\">Azure speech service can not use</a></li>\n</ul>\n"}],"owner":{"account_id":25292601,"reputation":1,"user_id":19118367,"display_name":"Mansoor Altaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653623782,"creation_date":1652572128,"question_id":72244594,"body_markdown":"I am trying to use Azure cognitive services and trying to convert &quot;Text To Speech&quot;. I am able to convert the Text to Speech successfully on my local machine. The issue only happens when I deploy my application to Azure cloud using &quot;App Services&quot;.\r\nI am getting the following error/exception when my code tries to create SpeechConfig e.g;\r\nSpeechConfig config = SpeechConfig(mySubscriptionKey,service-region)\r\n\r\n**Exception:** UnsatisfiedLinkError\r\n\r\n**I am using the following tech stack on Azure cloud:**\r\nSpring Boot 2.6.7\r\nLinux\r\n(Tomcat embedded container) used by Spring Boot.\r\nclient-jar-sdk 1.14.0 (com.microsoft.cognitiveservices.speech)\r\n\r\nI am **NOT** using any Container or Container Service like Kubernetes in this example. It is a simple webapp deployed to Azure using App Services.\r\n\r\n**Note 1:** Please note that I have also tried to use Microsoft cognitive services client-sdk (1.21.0), but I am getting the same exception.\r\nI went on google and found that other people were facing the same issue, but there was no satisfactory answer given.\r\n\r\nhttps://learn.microsoft.com/en-us/answers/questions/660957/text-speech-when-speechconfig-init-got-error.html\r\n\r\n**Note 2:** Please note that I am **NOT** using a free subscription and the resource group region is **eastus**.\r\n\r\n**Note 3:** I have tried and deployed many code examples (for the Text to Speech) provided my Microsoft and other people on the internet but I am getting the same issue in the Azure Platform **ONLY**.\r\n\r\n**Exception Snapshot:**\r\n[The following is the exception snapshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KRWS0.png\r\n\r\n**Exception Details:**\r\n2022-05-14T18:17:32.734458231Z 2022-05-14 18:17:32.733 ERROR 164 --- [p-nio-80-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] **threw exception [Handler dispatch failed; nested exception is java.lang.UnsatisfiedLinkError: &#39;long com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(com.microsoft.cognitiveservices.speech.util.IntRef, java.lang.String, java.lang.String)&#39;] with root cause\r\n2022-05-14T18:17:32.734496431Z\r\n2022-05-14T18:17:32.734502131Z java.lang.UnsatisfiedLinkError: &#39;long com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(com.microsoft.cognitiveservices.speech.util.IntRef, java.lang.String, java.lang.String)&#39;**\r\n2022-05-14T18:17:32.734506931Z \tat com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(Native Method) ~[client-jar-sdk-1.14.0.jar!/:na]\r\n2022-05-14T18:17:32.734511832Z \tat com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(SpeechConfig.java:103) ~[client-jar-sdk-1.14.0.jar!/:na]\r\n2022-05-14T18:17:32.734516232Z \tat com.namepronunciation.service.AzureTextToSpeechHelper.callAzureToTransformTextToSpeech(AzureTextToSpeechHelper.java:24) ~[classes!/:0.0.1-SNAPSHOT]\r\n2022-05-14T18:17:32.734520732Z \tat com.namepronunciation.service.NamePronunciationService.pronunce(NamePronunciationService.java:28) ~[classes!/:0.0.1-SNAPSHOT]\r\n2022-05-14T18:17:32.734524832Z \tat com.namepronunciation.controller.NamePronunciationController.pronunce(NamePronunciationController.java:81) ~[classes!/:0.0.1-SNAPSHOT]\r\n2022-05-14T18:17:32.734529232Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n2022-05-14T18:17:32.734533332Z \tat \r\n\r\nThanks!\r\nMansoor\r\n","title":"Issue :: Microsoft Cognitive Services :: client-sdk :: Azure","body":"<p>I am trying to use Azure cognitive services and trying to convert &quot;Text To Speech&quot;. I am able to convert the Text to Speech successfully on my local machine. The issue only happens when I deploy my application to Azure cloud using &quot;App Services&quot;.\nI am getting the following error/exception when my code tries to create SpeechConfig e.g;\nSpeechConfig config = SpeechConfig(mySubscriptionKey,service-region)</p>\n<p><strong>Exception:</strong> UnsatisfiedLinkError</p>\n<p><strong>I am using the following tech stack on Azure cloud:</strong>\nSpring Boot 2.6.7\nLinux\n(Tomcat embedded container) used by Spring Boot.\nclient-jar-sdk 1.14.0 (com.microsoft.cognitiveservices.speech)</p>\n<p>I am <strong>NOT</strong> using any Container or Container Service like Kubernetes in this example. It is a simple webapp deployed to Azure using App Services.</p>\n<p><strong>Note 1:</strong> Please note that I have also tried to use Microsoft cognitive services client-sdk (1.21.0), but I am getting the same exception.\nI went on google and found that other people were facing the same issue, but there was no satisfactory answer given.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/answers/questions/660957/text-speech-when-speechconfig-init-got-error.html\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/answers/questions/660957/text-speech-when-speechconfig-init-got-error.html</a></p>\n<p><strong>Note 2:</strong> Please note that I am <strong>NOT</strong> using a free subscription and the resource group region is <strong>eastus</strong>.</p>\n<p><strong>Note 3:</strong> I have tried and deployed many code examples (for the Text to Speech) provided my Microsoft and other people on the internet but I am getting the same issue in the Azure Platform <strong>ONLY</strong>.</p>\n<p><strong>Exception Snapshot:</strong>\n<a href=\"https://i.stack.imgur.com/KRWS0.png\" rel=\"nofollow noreferrer\">The following is the exception snapshot</a></p>\n<p><strong>Exception Details:</strong>\n2022-05-14T18:17:32.734458231Z 2022-05-14 18:17:32.733 ERROR 164 --- [p-nio-80-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] <strong>threw exception [Handler dispatch failed; nested exception is java.lang.UnsatisfiedLinkError: 'long com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(com.microsoft.cognitiveservices.speech.util.IntRef, java.lang.String, java.lang.String)'] with root cause\n2022-05-14T18:17:32.734496431Z\n2022-05-14T18:17:32.734502131Z java.lang.UnsatisfiedLinkError: 'long com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(com.microsoft.cognitiveservices.speech.util.IntRef, java.lang.String, java.lang.String)'</strong>\n2022-05-14T18:17:32.734506931Z  at com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(Native Method) ~[client-jar-sdk-1.14.0.jar!/:na]\n2022-05-14T18:17:32.734511832Z  at com.microsoft.cognitiveservices.speech.SpeechConfig.fromSubscription(SpeechConfig.java:103) ~[client-jar-sdk-1.14.0.jar!/:na]\n2022-05-14T18:17:32.734516232Z  at com.namepronunciation.service.AzureTextToSpeechHelper.callAzureToTransformTextToSpeech(AzureTextToSpeechHelper.java:24) ~[classes!/:0.0.1-SNAPSHOT]\n2022-05-14T18:17:32.734520732Z  at com.namepronunciation.service.NamePronunciationService.pronunce(NamePronunciationService.java:28) ~[classes!/:0.0.1-SNAPSHOT]\n2022-05-14T18:17:32.734524832Z  at com.namepronunciation.controller.NamePronunciationController.pronunce(NamePronunciationController.java:81) ~[classes!/:0.0.1-SNAPSHOT]\n2022-05-14T18:17:32.734529232Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n2022-05-14T18:17:32.734533332Z  at</p>\n<p>Thanks!\nMansoor</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1653623338,"post_id":72400239,"comment_id":127900814,"body_markdown":"Should be impossible since the first check is whether the object is the same before going through the string comparison https://stackoverflow.com/questions/15585573/how-does-default-equals-implementation-in-java-works-for-string","body":"Should be impossible since the first check is whether the object is the same before going through the string comparison <a href=\"https://stackoverflow.com/questions/15585573/how-does-default-equals-implementation-in-java-works-for-string\" title=\"how does default equals implementation in java works for string\">stackoverflow.com/questions/15585573/&hellip;</a>"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1653623411,"post_id":72400239,"comment_id":127900826,"body_markdown":"I suppose you could try [monkey-patching](https://stackoverflow.com/q/42139413/1270789) and change the [`hashCode()` API](https://stackoverflow.com/a/11656642/1270789) to return random values. This would most likely have the additional side-effect of breaking everything, though...","body":"I suppose you could try <a href=\"https://stackoverflow.com/q/42139413/1270789\">monkey-patching</a> and change the <a href=\"https://stackoverflow.com/a/11656642/1270789\"><code>hashCode()</code> API</a> to return random values. This would most likely have the additional side-effect of breaking everything, though..."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1653623877,"post_id":72400239,"comment_id":127900885,"body_markdown":"@ken-y-n no first checks for equality https://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java#l974","body":"@ken-y-n no first checks for equality <a href=\"https://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java#l974\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1653627069,"post_id":72400239,"comment_id":127901278,"body_markdown":"You cannot replace (&quot;monkey-patch&quot;) `String` from user code.  And changing `hashCode` wouldn&#39;t work anyway because `String.equals` doesn&#39;t call `String.hashCode`.  To change the behavior of `String.equals`, you would need to modify the Java codebase and build a custom JVM.   But frankly there is no good reason to do what the OP is asking / suggesting anyway.","body":"You cannot replace (&quot;monkey-patch&quot;) <code>String</code> from user code.  And changing <code>hashCode</code> wouldn&#39;t work anyway because <code>String.equals</code> doesn&#39;t call <code>String.hashCode</code>.  To change the behavior of <code>String.equals</code>, you would need to modify the Java codebase and build a custom JVM.   But frankly there is no good reason to do what the OP is asking / suggesting anyway."},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1653632677,"post_id":72400239,"comment_id":127902281,"body_markdown":"@StephenC I&#39;m glad, I suppose, that my random idea would never work! &quot;But frankly there is no good reason to do what the OP is asking / suggesting anyway.&quot; I felt this was more a theoretical question, like how `NaN != NaN` in the floating-point world.","body":"@StephenC I&#39;m glad, I suppose, that my random idea would never work! &quot;But frankly there is no good reason to do what the OP is asking / suggesting anyway.&quot; I felt this was more a theoretical question, like how <code>NaN != NaN</code> in the floating-point world."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1653633692,"post_id":72400239,"comment_id":127902508,"body_markdown":"The answer to the theoretical question is a simple No.  If you tweak the behavior of `String` then it is not Java (tm) anymore.","body":"The answer to the theoretical question is a simple No.  If you tweak the behavior of <code>String</code> then it is not Java (tm) anymore."}],"answers":[{"tags":[],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1653623360,"creation_date":1653623360,"answer_id":72400264,"question_id":72400239,"body_markdown":"No, there couldn&#39;t. Here&#39;s the source code in java 17. As you can see, when the two objects are the same, the `equals` method always return `true`.\r\n\r\n```java\r\npublic boolean equals(Object anObject) {\r\n    if (this == anObject) {\r\n        return true;\r\n    }\r\n    return (anObject instanceof String aString)\r\n            &amp;&amp; (!COMPACT_STRINGS || this.coder == aString.coder)\r\n            &amp;&amp; StringLatin1.equals(value, aString.value);\r\n}\r\n```","title":"In Java, is there a String that is not equal to itself? When will str.equals(str) be False?","body":"<p>No, there couldn't. Here's the source code in java 17. As you can see, when the two objects are the same, the <code>equals</code> method always return <code>true</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean equals(Object anObject) {\n    if (this == anObject) {\n        return true;\n    }\n    return (anObject instanceof String aString)\n            &amp;&amp; (!COMPACT_STRINGS || this.coder == aString.coder)\n            &amp;&amp; StringLatin1.equals(value, aString.value);\n}\n</code></pre>\n"}],"owner":{"account_id":25056358,"reputation":61,"user_id":18911699,"display_name":"CalmaKarma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":72400264,"answer_count":1,"score":3,"last_activity_date":1653623360,"creation_date":1653623076,"question_id":72400239,"body_markdown":"Could there be a string that\r\n`str.equals(str)` is False?\r\n\r\nOr in another way:\r\n```Java\r\nif(!str.equals(str)){\r\n    System.out.println(&quot;-1&quot;);\r\n}\r\n``` \r\nIs there any way that the `println` line of code gets covered by a test?","title":"In Java, is there a String that is not equal to itself? When will str.equals(str) be False?","body":"<p>Could there be a string that\n<code>str.equals(str)</code> is False?</p>\n<p>Or in another way:</p>\n<pre><code>if(!str.equals(str)){\n    System.out.println(&quot;-1&quot;);\n}\n</code></pre>\n<p>Is there any way that the <code>println</code> line of code gets covered by a test?</p>\n"},{"tags":["java","android","model","arcore"],"comments":[{"owner":{"account_id":7194584,"reputation":1487,"user_id":5493813,"accept_rate":91,"display_name":"st.huber"},"score":0,"creation_date":1637048458,"post_id":69966627,"comment_id":123714252,"body_markdown":"It&#39;s generally better to post the text of the error message in your question as well and not have it in a picture","body":"It&#39;s generally better to post the text of the error message in your question as well and not have it in a picture"},{"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"score":0,"creation_date":1653621880,"post_id":69966627,"comment_id":127900643,"body_markdown":"Is the square obj is really just a square? I&#39;m asking because if you browse 3D object repositories you notice that there are AR/VR optimized models which basically means that they have as reduced number of vertexes / polygons as possible. AR/VR is a resource restricted environment, you need to spare the polygons. Do you have a URL to your model?","body":"Is the square obj is really just a square? I&#39;m asking because if you browse 3D object repositories you notice that there are AR/VR optimized models which basically means that they have as reduced number of vertexes / polygons as possible. AR/VR is a resource restricted environment, you need to spare the polygons. Do you have a URL to your model?"}],"answers":[{"tags":[],"owner":{"account_id":11248222,"reputation":16,"user_id":8250208,"display_name":"Matteo Betto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639052122,"creation_date":1639052122,"answer_id":70289773,"question_id":69966627,"body_markdown":"You should check the .obj file first, did you export it by yourself? Cause there are many different settings with those kind of files:\r\n\r\n1 - maybe your model&#39;s faces have 4 vertices (square) instead of 3 (triangles) like the pawn model, \r\n2 - or maybe you didn&#39;t set a texture in your .obj file and that create conflict with the shader.\r\n\r\nYou can just open it with an editor and check how many numbers there are after the &quot;f&quot;, if there are 4 number that&#39;s the problem, it has square faces, you can open it in Blender and in the export settings check &quot;triangle faces&quot; option. You can also add textures in a couple of minutes, and import them in your project.\r\n\r\nI hope this helps you, have a nice day!","title":"ARCore changing pawn model to something else","body":"<p>You should check the .obj file first, did you export it by yourself? Cause there are many different settings with those kind of files:</p>\n<p>1 - maybe your model's faces have 4 vertices (square) instead of 3 (triangles) like the pawn model,\n2 - or maybe you didn't set a texture in your .obj file and that create conflict with the shader.</p>\n<p>You can just open it with an editor and check how many numbers there are after the &quot;f&quot;, if there are 4 number that's the problem, it has square faces, you can open it in Blender and in the export settings check &quot;triangle faces&quot; option. You can also add textures in a couple of minutes, and import them in your project.</p>\n<p>I hope this helps you, have a nice day!</p>\n"},{"tags":[],"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653623088,"creation_date":1653622640,"answer_id":72400203,"question_id":69966627,"body_markdown":"Make sure you optimize your model to have as few vertexes and polygons as possible. When you browse 3D model websites you may notice that AR/VR optimized models are marked, and that basically means extremely reduced vertex / polygon count.\r\n\r\nYou can model a map location pin object with 156 vertexes and also with 900 vertexes. There are various tools which can take an existing model and algorithmically reduce the polygon count by eliminating and merging vertexes.\r\n\r\nStory time: when I was a CAD software developer a customer complained that one of the projects crashed and the computer ran out of memory. After debugging we realized that the house the customer was modeling contained many chandeliers. The chandeliers were hanging from the ceiling via chain. The customer created the chain by taking an extremely detailed high polygon count chain link, copy-pasted that chain link to form the whole chain. Then copy pasted the chandelier. The chandelier light fixture / crystal portion was also high polygon count. This lead to an unfathomable count of polygon and brought down the computer to it&#39;s knees in no time.\r\n","title":"ARCore changing pawn model to something else","body":"<p>Make sure you optimize your model to have as few vertexes and polygons as possible. When you browse 3D model websites you may notice that AR/VR optimized models are marked, and that basically means extremely reduced vertex / polygon count.</p>\n<p>You can model a map location pin object with 156 vertexes and also with 900 vertexes. There are various tools which can take an existing model and algorithmically reduce the polygon count by eliminating and merging vertexes.</p>\n<p>Story time: when I was a CAD software developer a customer complained that one of the projects crashed and the computer ran out of memory. After debugging we realized that the house the customer was modeling contained many chandeliers. The chandeliers were hanging from the ceiling via chain. The customer created the chain by taking an extremely detailed high polygon count chain link, copy-pasted that chain link to form the whole chain. Then copy pasted the chandelier. The chandelier light fixture / crystal portion was also high polygon count. This lead to an unfathomable count of polygon and brought down the computer to it's knees in no time.</p>\n"}],"owner":{"account_id":23336968,"reputation":3,"user_id":17412474,"display_name":"Miłosz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70289773,"answer_count":2,"score":0,"last_activity_date":1653623088,"creation_date":1636919560,"question_id":69966627,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\n\r\nI have been trying to modify sample ar core java application (hello_ar_java exactly). Default model is pawn.obj. I have been trying to change it to any different .obj model but it says im out of memory even though the new model is smaller than the default one.\r\n![Screen of the error, when trying to change .obj file to a different one][1]\r\n\r\n```      \r\n// Virtual object to render (ARCore pawn)\r\nTexture virtualObjectAlbedoTexture =\r\n     Texture.createFromAsset(\r\n         render,\r\n         &quot;model1/texturka.png&quot;,\r\n         Texture.WrapMode.CLAMP_TO_EDGE,\r\n         Texture.ColorFormat.SRGB);\r\nTexture virtualObjectPbrTexture =\r\n     Texture.createFromAsset(\r\n         render,\r\n         &quot;model1/bark.jpg&quot;,\r\n         Texture.WrapMode.CLAMP_TO_EDGE,\r\n         Texture.ColorFormat.LINEAR);\r\n\r\nvirtualObjectMesh = Mesh.createFromAsset(render, &quot;models/pawn.obj&quot;);\r\n ```\r\nCode above is supposed to be picking a model to render, but the last line seems to be giving me errors when i change it to eg. \r\n\r\n``` virtualObjectMesh = Mesh.createFromAsset(render, &quot;models/square.obj&quot;); ```\r\n\r\nI hope someone had the same problem before and knows how to solve it.\r\n\r\n  [1]: https://i.stack.imgur.com/qJfUk.png","title":"ARCore changing pawn model to something else","body":"\n<p>I have been trying to modify sample ar core java application (hello_ar_java exactly). Default model is pawn.obj. I have been trying to change it to any different .obj model but it says im out of memory even though the new model is smaller than the default one.\n<img src=\"https://i.stack.imgur.com/qJfUk.png\" alt=\"Screen of the error, when trying to change .obj file to a different one\" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Virtual object to render (ARCore pawn)\nTexture virtualObjectAlbedoTexture =\n     Texture.createFromAsset(\n         render,\n         &quot;model1/texturka.png&quot;,\n         Texture.WrapMode.CLAMP_TO_EDGE,\n         Texture.ColorFormat.SRGB);\nTexture virtualObjectPbrTexture =\n     Texture.createFromAsset(\n         render,\n         &quot;model1/bark.jpg&quot;,\n         Texture.WrapMode.CLAMP_TO_EDGE,\n         Texture.ColorFormat.LINEAR);\n\nvirtualObjectMesh = Mesh.createFromAsset(render, &quot;models/pawn.obj&quot;);\n</code></pre>\n<p>Code above is supposed to be picking a model to render, but the last line seems to be giving me errors when i change it to eg.</p>\n<p><code>virtualObjectMesh = Mesh.createFromAsset(render, &quot;models/square.obj&quot;);</code></p>\n<p>I hope someone had the same problem before and knows how to solve it.</p>\n"},{"tags":["java","android","qt","java-native-interface","nsd"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1623842619,"post_id":67859591,"comment_id":120191834,"body_markdown":"On which thread are you calling `MusicTrack::testerJava` ? Did you call `Looper.prepare()` in that thread as the error message states?","body":"On which thread are you calling <code>MusicTrack::testerJava</code> ? Did you call <code>Looper.prepare()</code> in that thread as the error message states?"}],"answers":[{"tags":[],"owner":{"account_id":25382100,"reputation":1,"user_id":19194334,"display_name":"aimery.xie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653621989,"creation_date":1653621989,"answer_id":72400147,"question_id":67859591,"body_markdown":"First you c code stick is not all, generally reported this error is because you are not in the UI thread operation the UI, but to you here is the print () in Java jni call this part to print a string appears to be no problem, you can check your error this thread elsewhere for operating a part of the UI. Jni error Sometimes the location of the error may not be very accurate.","title":"NI DETECTED ERROR IN APPLICATION: JNI GetMethodID called with pending exception java.lang.RuntimeException","body":"<p>First you c code stick is not all, generally reported this error is because you are not in the UI thread operation the UI, but to you here is the print () in Java jni call this part to print a string appears to be no problem, you can check your error this thread elsewhere for operating a part of the UI. Jni error Sometimes the location of the error may not be very accurate.</p>\n"}],"owner":{"account_id":21422110,"reputation":11,"user_id":15780142,"display_name":"Abdelhamid CHEIKH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653621989,"creation_date":1622985639,"question_id":67859591,"body_markdown":"I want to build an app using C++ and Java by JNI in the platform of Qt, I tried to do the code below:\r\nc++\r\n```\r\n#include &quot;musiclist.h&quot;\r\n\r\n#include &lt;QAndroidIntent&gt;\r\n#include &lt;QAndroidJniEnvironment&gt;\r\n#include &lt;QDebug&gt;\r\n#include &lt;QStringList&gt;\r\n#include &lt;QNetworkReply&gt;\r\n\r\n\r\nMusicTrack::MusicTrack(QObject *parent) : QObject(parent){}\r\nvoid MusicTrack::testerJava()\r\n{\r\n    qDebug()&lt;&lt;&quot;javatest&quot;;\r\n    QNetworkAccessManager *manager = new QNetworkAccessManager();\r\n\r\n\r\n\r\n      //QAndroidJniObject java(&quot;org/qtproject/example/musiclist/MusicList&quot;);\r\n\r\n     // jint res = java.callMethod&lt;jint&gt;(&quot;createAp&quot;,&quot;(Landroid/content/Context)I&quot;,QtAndroid::androidContext().object());\r\n\r\n      if (QAndroidJniObject::isClassAvailable(&quot;org/qtproject/example/musiclist/MusicList&quot;)){\r\n\r\n          qDebug()&lt;&lt;&quot;Classe trouv&#233;&quot;;\r\n\r\n          QAndroidJniEnvironment env;\r\n          jclass javaClass = env.findClass(&quot;org/qtproject/example/musiclist/MusicList&quot;);\r\n          QAndroidJniObject classObject(javaClass);\r\n          classObject.callMethod&lt;void&gt;(&quot;print&quot;,\r\n                                       &quot;(Ljava/lang/String;)V&quot;,\r\n                                       &quot;teta&quot;);}}\r\n```\r\n\r\nJava Code:\r\n\r\n```\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport android.net.*;\r\nimport android.net.wifi.WifiManager;\r\nimport android.net.wifi.*;\r\nimport \tandroid.net.ConnectivityManager;\r\nimport \tandroid.net.wifi.WifiInfo;\r\nimport android.net.NetworkInfo.DetailedState;\r\nimport android.net.DhcpInfo;\r\nimport \tandroid.net.nsd.NsdManager;\r\nimport android.net.nsd.NsdManager.DiscoveryListener;\r\nimport android.util.Log;\r\nimport android.net.nsd.NsdServiceInfo;\r\nimport android.text.format.Formatter;\r\n\r\nimport java.net.NetworkInterface;\r\nimport java.net.SocketException;\r\nimport java.util.Enumeration;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.net.InetAddress;\r\nimport \tjava.io.IOException;\r\nimport \tjava.net.UnknownHostException;\r\n//import android.app.Activity;\r\n\r\n\r\nimport java.lang.reflect.Method;\r\n\r\n public  class MusicList extends org.qtproject.qt5.android.bindings.QtActivity {\r\n     final String TAG=&quot;Display Message&quot;;\r\n     final String SERVICE_TYPE=&quot;_http._tcp.&quot;;\r\n     final  String serviceName= &quot;esp32&quot;;\r\n\r\n      private  NsdManager.DiscoveryListener  discoveryListener;\r\n      private  NsdManager nsdManager;\r\n\r\n      //Context context;\r\n\r\n\r\n     public void initializeDiscoveryListener() {\r\n\r\n         // Instantiate a new DiscoveryListener\r\n\r\n           discoveryListener = new NsdManager.DiscoveryListener() {\r\n\r\n             // Called as soon as service discovery begins.\r\n             @Override\r\n             public void onDiscoveryStarted(String regType) {\r\n                 Log.d(TAG, &quot;Service discovery started&quot;);\r\n             }\r\n\r\n             @Override\r\n             public void onServiceFound(NsdServiceInfo service) {\r\n                 // A service was found! Do something with it.\r\n                 Log.d(TAG, &quot;Service discovery success&quot; + service);\r\n                 if (!service.getServiceType().equals(SERVICE_TYPE)) {\r\n                     // Service type is the string containing the protocol and\r\n                     // transport layer for this service.\r\n                     Log.d(TAG, &quot;Unknown Service Type: &quot; + service.getServiceType());\r\n                 } else if (service.getServiceName().equals(serviceName)) {\r\n                     // The name of the service tells the user what they&#39;d be\r\n                     // connecting to. It could be &quot;Bob&#39;s Chat App&quot;.\r\n                     Log.d(TAG, &quot;Same machine: &quot; + serviceName);\r\n                 } else if (service.getServiceName().contains(&quot;NsdChat&quot;)){\r\n                    // nsdManager.resolveService(service, resolveListener);\r\n                 }\r\n             }\r\n\r\n             @Override\r\n             public void onServiceLost(NsdServiceInfo service) {\r\n                 // When the network service is no longer available.\r\n                 // Internal bookkeeping code goes here.\r\n                 Log.e(TAG, &quot;service lost: &quot; + service);\r\n             }\r\n\r\n             @Override\r\n             public void onDiscoveryStopped(String serviceType) {\r\n                 Log.i(TAG, &quot;Discovery stopped: &quot; + serviceType);\r\n             }\r\n\r\n             @Override\r\n             public void onStartDiscoveryFailed(String serviceType, int errorCode) {\r\n                 Log.e(TAG, &quot;Discovery failed: Error code:&quot; + errorCode);\r\n                 nsdManager.stopServiceDiscovery(this);\r\n             }\r\n\r\n             @Override\r\n             public void onStopDiscoveryFailed(String serviceType, int errorCode) {\r\n                 Log.e(TAG, &quot;Discovery failed: Error code:&quot; + errorCode);\r\n                 nsdManager.stopServiceDiscovery(this);\r\n             }\r\n         };\r\n     }\r\n\r\n public  void discover(Context c){\r\n     System.out.println(&quot;discoverServices&quot;);\r\n     nsdManager = (NsdManager)c.getSystemService(Context.NSD_SERVICE);\r\n     System.out.println(&quot;oui&quot;);\r\n     nsdManager.discoverServices(&quot;_http._tcp.&quot;, NsdManager.PROTOCOL_DNS_SD, discoveryListener);\r\n     System.out.println(&quot;oui&quot;);\r\n\r\n }\r\n     //nsdManager = (NsdManager)c.getSystemService(Context.NSD_SERVICE);\r\n\r\n public  void discoverDevices(Context context)throws IOException {\r\n\r\n\r\n     System.out.println(&quot;up&quot;);\r\n     String re=&quot;Abdelhamid&quot;;\r\n\r\n     //System.out.println(&quot;up&quot;);\r\n     initializeDiscoveryListener();\r\n     discover(context);\r\n     System.out.println(&quot;up&quot;);\r\n\r\n     }\r\n\r\n public void print(String teta)\r\n {\r\n     System.out.println(teta);\r\n     }\r\n\r\n}\r\n```\r\n\r\n**Bu I got the problem below: I thins it&#39;s an error complation,\r\nF art     : art/runtime/java_vm_ext.cc:410] JNI DETECTED ERROR IN APPLICATION: JNI GetMethodID called with pending exception java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()\r\nF art     : art/runtime/java_vm_ext.cc:410]   at void android.os.Handler.&lt;init&gt;(android.os.Handler$Callback, boolean) (Handler.java:200)\r\nF art     : art/runtime/java_vm_ext.cc:410]   at void android.os.Handler.&lt;init&gt;() (Handler.java:114)\r\nF art     : art/runtime/java_vm_ext.cc:410]   at void android.app.Activity.&lt;init&gt;() (Activity.java:865)\r\nF art     : art/runtime/java_vm_ext.cc:410]   at void org.qtproject.qt5.android.bindings.QtActivity.&lt;init&gt;() (QtActivity.java:94)**\r\n","title":"NI DETECTED ERROR IN APPLICATION: JNI GetMethodID called with pending exception java.lang.RuntimeException","body":"<p>I want to build an app using C++ and Java by JNI in the platform of Qt, I tried to do the code below:\nc++</p>\n<pre><code>#include &quot;musiclist.h&quot;\n\n#include &lt;QAndroidIntent&gt;\n#include &lt;QAndroidJniEnvironment&gt;\n#include &lt;QDebug&gt;\n#include &lt;QStringList&gt;\n#include &lt;QNetworkReply&gt;\n\n\nMusicTrack::MusicTrack(QObject *parent) : QObject(parent){}\nvoid MusicTrack::testerJava()\n{\n    qDebug()&lt;&lt;&quot;javatest&quot;;\n    QNetworkAccessManager *manager = new QNetworkAccessManager();\n\n\n\n      //QAndroidJniObject java(&quot;org/qtproject/example/musiclist/MusicList&quot;);\n\n     // jint res = java.callMethod&lt;jint&gt;(&quot;createAp&quot;,&quot;(Landroid/content/Context)I&quot;,QtAndroid::androidContext().object());\n\n      if (QAndroidJniObject::isClassAvailable(&quot;org/qtproject/example/musiclist/MusicList&quot;)){\n\n          qDebug()&lt;&lt;&quot;Classe trouvé&quot;;\n\n          QAndroidJniEnvironment env;\n          jclass javaClass = env.findClass(&quot;org/qtproject/example/musiclist/MusicList&quot;);\n          QAndroidJniObject classObject(javaClass);\n          classObject.callMethod&lt;void&gt;(&quot;print&quot;,\n                                       &quot;(Ljava/lang/String;)V&quot;,\n                                       &quot;teta&quot;);}}\n</code></pre>\n<p>Java Code:</p>\n<pre><code>import android.os.Bundle;\nimport android.widget.TextView;\nimport android.net.*;\nimport android.net.wifi.WifiManager;\nimport android.net.wifi.*;\nimport  android.net.ConnectivityManager;\nimport  android.net.wifi.WifiInfo;\nimport android.net.NetworkInfo.DetailedState;\nimport android.net.DhcpInfo;\nimport  android.net.nsd.NsdManager;\nimport android.net.nsd.NsdManager.DiscoveryListener;\nimport android.util.Log;\nimport android.net.nsd.NsdServiceInfo;\nimport android.text.format.Formatter;\n\nimport java.net.NetworkInterface;\nimport java.net.SocketException;\nimport java.util.Enumeration;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.net.InetAddress;\nimport  java.io.IOException;\nimport  java.net.UnknownHostException;\n//import android.app.Activity;\n\n\nimport java.lang.reflect.Method;\n\n public  class MusicList extends org.qtproject.qt5.android.bindings.QtActivity {\n     final String TAG=&quot;Display Message&quot;;\n     final String SERVICE_TYPE=&quot;_http._tcp.&quot;;\n     final  String serviceName= &quot;esp32&quot;;\n\n      private  NsdManager.DiscoveryListener  discoveryListener;\n      private  NsdManager nsdManager;\n\n      //Context context;\n\n\n     public void initializeDiscoveryListener() {\n\n         // Instantiate a new DiscoveryListener\n\n           discoveryListener = new NsdManager.DiscoveryListener() {\n\n             // Called as soon as service discovery begins.\n             @Override\n             public void onDiscoveryStarted(String regType) {\n                 Log.d(TAG, &quot;Service discovery started&quot;);\n             }\n\n             @Override\n             public void onServiceFound(NsdServiceInfo service) {\n                 // A service was found! Do something with it.\n                 Log.d(TAG, &quot;Service discovery success&quot; + service);\n                 if (!service.getServiceType().equals(SERVICE_TYPE)) {\n                     // Service type is the string containing the protocol and\n                     // transport layer for this service.\n                     Log.d(TAG, &quot;Unknown Service Type: &quot; + service.getServiceType());\n                 } else if (service.getServiceName().equals(serviceName)) {\n                     // The name of the service tells the user what they'd be\n                     // connecting to. It could be &quot;Bob's Chat App&quot;.\n                     Log.d(TAG, &quot;Same machine: &quot; + serviceName);\n                 } else if (service.getServiceName().contains(&quot;NsdChat&quot;)){\n                    // nsdManager.resolveService(service, resolveListener);\n                 }\n             }\n\n             @Override\n             public void onServiceLost(NsdServiceInfo service) {\n                 // When the network service is no longer available.\n                 // Internal bookkeeping code goes here.\n                 Log.e(TAG, &quot;service lost: &quot; + service);\n             }\n\n             @Override\n             public void onDiscoveryStopped(String serviceType) {\n                 Log.i(TAG, &quot;Discovery stopped: &quot; + serviceType);\n             }\n\n             @Override\n             public void onStartDiscoveryFailed(String serviceType, int errorCode) {\n                 Log.e(TAG, &quot;Discovery failed: Error code:&quot; + errorCode);\n                 nsdManager.stopServiceDiscovery(this);\n             }\n\n             @Override\n             public void onStopDiscoveryFailed(String serviceType, int errorCode) {\n                 Log.e(TAG, &quot;Discovery failed: Error code:&quot; + errorCode);\n                 nsdManager.stopServiceDiscovery(this);\n             }\n         };\n     }\n\n public  void discover(Context c){\n     System.out.println(&quot;discoverServices&quot;);\n     nsdManager = (NsdManager)c.getSystemService(Context.NSD_SERVICE);\n     System.out.println(&quot;oui&quot;);\n     nsdManager.discoverServices(&quot;_http._tcp.&quot;, NsdManager.PROTOCOL_DNS_SD, discoveryListener);\n     System.out.println(&quot;oui&quot;);\n\n }\n     //nsdManager = (NsdManager)c.getSystemService(Context.NSD_SERVICE);\n\n public  void discoverDevices(Context context)throws IOException {\n\n\n     System.out.println(&quot;up&quot;);\n     String re=&quot;Abdelhamid&quot;;\n\n     //System.out.println(&quot;up&quot;);\n     initializeDiscoveryListener();\n     discover(context);\n     System.out.println(&quot;up&quot;);\n\n     }\n\n public void print(String teta)\n {\n     System.out.println(teta);\n     }\n\n}\n</code></pre>\n<p><strong>Bu I got the problem below: I thins it's an error complation,\nF art     : art/runtime/java_vm_ext.cc:410] JNI DETECTED ERROR IN APPLICATION: JNI GetMethodID called with pending exception java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\nF art     : art/runtime/java_vm_ext.cc:410]   at void android.os.Handler.(android.os.Handler$Callback, boolean) (Handler.java:200)\nF art     : art/runtime/java_vm_ext.cc:410]   at void android.os.Handler.() (Handler.java:114)\nF art     : art/runtime/java_vm_ext.cc:410]   at void android.app.Activity.() (Activity.java:865)\nF art     : art/runtime/java_vm_ext.cc:410]   at void org.qtproject.qt5.android.bindings.QtActivity.() (QtActivity.java:94)</strong></p>\n"},{"tags":["java","spring","exception"],"answers":[{"tags":[],"owner":{"account_id":3029162,"reputation":306,"user_id":2568540,"display_name":"Andrea Pegoretti"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466174707,"creation_date":1466174707,"answer_id":37884471,"question_id":20089883,"body_markdown":"You have to manually add your handler to the list of handlers (in the example below I use a SImpleMappingExceptionsResolver, but you can use your own implementation):\r\n\r\n    package eu.anastasis.readingtrainer.configuration;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.HandlerExceptionResolver;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    import org.springframework.web.servlet.handler.SimpleMappingExceptionResolver;\r\n        \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class ConfigurationAdapter extends WebMvcConfigurerAdapter {\r\n    \t\r\n    \t@Override\r\n    \tpublic void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\r\n    \t\texceptionResolvers.add(new SimpleMappingExceptionResolver());\r\n    \t}\r\n    \t\r\n    }\r\n\r\nPlease note that in this way you override any @ControllerAdvice + @ExceptionHandler you may have set (I don&#39;t know how to combine both strategies).","title":"How to declare ExceptionHandlerExceptionResolver in Java code?","body":"<p>You have to manually add your handler to the list of handlers (in the example below I use a SImpleMappingExceptionsResolver, but you can use your own implementation):</p>\n\n<pre><code>package eu.anastasis.readingtrainer.configuration;\nimport java.util.List;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.HandlerExceptionResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\nimport org.springframework.web.servlet.handler.SimpleMappingExceptionResolver;\n\n@Configuration\n@EnableWebMvc\npublic class ConfigurationAdapter extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {\n        exceptionResolvers.add(new SimpleMappingExceptionResolver());\n    }\n\n}\n</code></pre>\n\n<p>Please note that in this way you override any @ControllerAdvice + @ExceptionHandler you may have set (I don't know how to combine both strategies).</p>\n"},{"tags":[],"owner":{"account_id":897750,"reputation":101,"user_id":5727354,"display_name":"Mahmoud Al Siksek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1560432773,"creation_date":1560432773,"answer_id":56581710,"question_id":20089883,"body_markdown":"Just as an update to @[Andrea Pegoretti][1] answer, \r\nin Spring 5.X.X WebMvcConfigurerAdapter is deprecated, instead use WebMvcConfigurer interface; please refer to this [link][2] for more details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2568540/andrea-pegoretti\r\n  [2]: https://www.baeldung.com/web-mvc-configurer-adapter-deprecated","title":"How to declare ExceptionHandlerExceptionResolver in Java code?","body":"<p>Just as an update to @<a href=\"https://stackoverflow.com/users/2568540/andrea-pegoretti\">Andrea Pegoretti</a> answer, \nin Spring 5.X.X WebMvcConfigurerAdapter is deprecated, instead use WebMvcConfigurer interface; please refer to this <a href=\"https://www.baeldung.com/web-mvc-configurer-adapter-deprecated\" rel=\"noreferrer\">link</a> for more details.</p>\n"}],"owner":{"account_id":95875,"reputation":9861,"user_id":260894,"accept_rate":56,"display_name":"dhblah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13096,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1653621761,"creation_date":1384932554,"question_id":20089883,"body_markdown":"I was reading this article [Exception Handling in Spring MVC][1], and I don&#39;t understand why class extending `ExceptionHandlerExceptionResolver` doesn&#39;t have any annotations to it.\r\n\r\nIt should be a bean, right? So it must be annotated with `@Component` (or maybe `@Service`, but I&#39;m not sure if it belongs to a service layer) annotation or something?\r\n\r\nSo why it does not have any annotations and how then Spring knows that it&#39;s a bean and that it should be used? \r\n\r\n\r\n  [1]: http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc##extending-exceptionhandlerexceptionresolver","title":"How to declare ExceptionHandlerExceptionResolver in Java code?","body":"<p>I was reading this article <a href=\"http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc##extending-exceptionhandlerexceptionresolver\" rel=\"nofollow noreferrer\">Exception Handling in Spring MVC</a>, and I don't understand why class extending <code>ExceptionHandlerExceptionResolver</code> doesn't have any annotations to it.</p>\n<p>It should be a bean, right? So it must be annotated with <code>@Component</code> (or maybe <code>@Service</code>, but I'm not sure if it belongs to a service layer) annotation or something?</p>\n<p>So why it does not have any annotations and how then Spring knows that it's a bean and that it should be used?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653633421,"post_id":72400056,"comment_id":127902448,"body_markdown":"Fix the all-caps.","body":"Fix the all-caps."}],"answers":[{"tags":[],"owner":{"account_id":3603311,"reputation":16,"user_id":3006129,"display_name":"Ismael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653621480,"creation_date":1653621480,"answer_id":72400088,"question_id":72400056,"body_markdown":"you have to update your SQL server instance and enable TLS 1.2, please follow this [link](https://help.mulesoft.com/s/article/Error-The-Server-Selected-Protocol-Version-TLS10-Is-Not-Accepted-by-Client-Preferences-TLS12-After-Upgrading-To-OpenJDK8u292)\r\n","title":"ERROR CONNECTING TO SQL SERVER 2014 WITH NETBEANS SSL TLS10 [TLS12]","body":"<p>you have to update your SQL server instance and enable TLS 1.2, please follow this <a href=\"https://help.mulesoft.com/s/article/Error-The-Server-Selected-Protocol-Version-TLS10-Is-Not-Accepted-by-Client-Preferences-TLS12-After-Upgrading-To-OpenJDK8u292\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":25401712,"reputation":13,"user_id":19211070,"display_name":"Saul Enrique"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72400088,"answer_count":1,"score":1,"last_activity_date":1653621480,"creation_date":1653621090,"question_id":72400056,"body_markdown":"\r\n**\r\n\r\n**This is the connection path**\r\n**\r\n\r\n 1.  SQL SERVER 2014\r\n 2. JDK 11 JAVA  \r\n 3. NETBEANS\r\n\r\n  \r\n\r\n**\r\n\r\n```\r\n\r\n    private String url =&quot;jdbc:sqlserver://SAUL:1433;databaseName=prueba&quot;;\r\n    private String login = &quot;dev&quot;;\r\n    private String password = &quot;123456&quot;;\r\n    private String driver = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n    Connection conn = null;\r\n\r\n    public BDConnection() {\r\n    }\r\n\r\n    public Connection EstablecerConexion() {\r\n        try {\r\n            Class.forName(driver);\r\n            conn = DriverManager.getConnection(url,\r\n                    login, password);\r\n        } catch (ClassNotFoundException | SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return conn;\r\n    }\r\n```\r\n\r\n\r\n\r\nThis is the problem that is displayed when running the program\r\n\r\n**com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server with Secure Sockets Layer encryption (SSL). Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS12]&quot;**. ClientConnectionId:ba132bbf-7f8c-47c6-9892-b7901f8e8b75\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2400)\r\n\tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1762)\r\ncom.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\r\n\tat javaapplication2.JavaApplication2.main(JavaApplication2.java:19)\r\nCaused by: javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS12]\r\n\r\n\r\n","title":"ERROR CONNECTING TO SQL SERVER 2014 WITH NETBEANS SSL TLS10 [TLS12]","body":"<p>**</p>\n<p><strong>This is the connection path</strong>\n**</p>\n<ol>\n<li>SQL SERVER 2014</li>\n<li>JDK 11 JAVA</li>\n<li>NETBEANS</li>\n</ol>\n<p>**</p>\n<pre><code>\n    private String url =&quot;jdbc:sqlserver://SAUL:1433;databaseName=prueba&quot;;\n    private String login = &quot;dev&quot;;\n    private String password = &quot;123456&quot;;\n    private String driver = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\n    Connection conn = null;\n\n    public BDConnection() {\n    }\n\n    public Connection EstablecerConexion() {\n        try {\n            Class.forName(driver);\n            conn = DriverManager.getConnection(url,\n                    login, password);\n        } catch (ClassNotFoundException | SQLException ex) {\n            ex.printStackTrace();\n        }\n        return conn;\n    }\n</code></pre>\n<p>This is the problem that is displayed when running the program</p>\n<p><strong>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server with Secure Sockets Layer encryption (SSL). Error: &quot;The server selected protocol version TLS10 is not accepted by client preferences [TLS12]&quot;</strong>. ClientConnectionId:ba132bbf-7f8c-47c6-9892-b7901f8e8b75\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2400)\nat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1762)\ncom.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\nat javaapplication2.JavaApplication2.main(JavaApplication2.java:19)\nCaused by: javax.net.ssl.SSLHandshakeException: The server selected protocol version TLS10 is not accepted by client preferences [TLS12]</p>\n"},{"tags":["java","spring-boot","file-upload","spring-cloud","spring-cloud-gateway"],"owner":{"account_id":1179321,"reputation":1390,"user_id":1154618,"accept_rate":54,"display_name":"Blease"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653620622,"creation_date":1653560920,"question_id":72390365,"body_markdown":"Our team is upgrading our Spring application and we are having to remove Zuul as Spring Cloud have dropped it in favor of Spring Cloud Gateway.\r\nOther constraints require that we use the MVC version of Spring Cloud Gateway.\r\n\r\nWe&#39;re currently having issues uploading files via the gateway as when the backend service receives the request, it is an octet-stream and not a multipart/form-data request. With Zuul we utilised the ability to avoid the Spring Dispatch Servlet by prefixing file upload paths with `/zuul` ([GitHub source][1]).\r\nAttempting to replicate this behavior with the new Cloud Gateway is proving difficult, is there an alternative/recommended way to upload large files with Spring Cloud Gateway MVC?\r\n\r\nWe are using the gateway within a controller and calling the function on `ProxyExchange&lt;byte[]&gt; proxy` based on the incoming request.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-netflix/blob/2.2.x/spring-cloud-netflix-zuul/src/main/java/org/springframework/cloud/netflix/zuul/web/ZuulController.java","title":"Spring Cloud Gateway MVC - Incorrectly proxying multipart/form-data","body":"<p>Our team is upgrading our Spring application and we are having to remove Zuul as Spring Cloud have dropped it in favor of Spring Cloud Gateway.\nOther constraints require that we use the MVC version of Spring Cloud Gateway.</p>\n<p>We're currently having issues uploading files via the gateway as when the backend service receives the request, it is an octet-stream and not a multipart/form-data request. With Zuul we utilised the ability to avoid the Spring Dispatch Servlet by prefixing file upload paths with <code>/zuul</code> (<a href=\"https://github.com/spring-cloud/spring-cloud-netflix/blob/2.2.x/spring-cloud-netflix-zuul/src/main/java/org/springframework/cloud/netflix/zuul/web/ZuulController.java\" rel=\"nofollow noreferrer\">GitHub source</a>).\nAttempting to replicate this behavior with the new Cloud Gateway is proving difficult, is there an alternative/recommended way to upload large files with Spring Cloud Gateway MVC?</p>\n<p>We are using the gateway within a controller and calling the function on <code>ProxyExchange&lt;byte[]&gt; proxy</code> based on the incoming request.</p>\n"},{"tags":["java","html","eclipse","jsp"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653620537,"creation_date":1653620537,"answer_id":72400012,"question_id":72395968,"body_markdown":"It&#39;s unlikely that the new IMG folder is relevant. Deployment Descriptors aren&#39;t really hot swappable.\r\n\r\nMake sure automatic building is enabled on the Project menu, and then try right-clicking on the server in the Servers View and choosing &quot;Clean Tomcat Work Directory&quot;. Otherwise, you&#39;ll need to restart the server for changes to take effect.","title":"My Dynamic Web Project welcome-file doesn&#39;t get affected by changes","body":"<p>It's unlikely that the new IMG folder is relevant. Deployment Descriptors aren't really hot swappable.</p>\n<p>Make sure automatic building is enabled on the Project menu, and then try right-clicking on the server in the Servers View and choosing &quot;Clean Tomcat Work Directory&quot;. Otherwise, you'll need to restart the server for changes to take effect.</p>\n"}],"owner":{"account_id":25398784,"reputation":1,"user_id":19208640,"display_name":"PabloCode45"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653620537,"creation_date":1653587028,"question_id":72395968,"body_markdown":"This is a pretty strage and hassle problem i have here. \r\n\r\nI created a Dynamic Web Project in Eclipse and created an HTML file named &quot;inicio.html&quot;.\r\nI put this into my web.xml `&lt;welcome-file&gt;` and all seemed to work okay.\r\nI could Run on server without any problem.\r\n\r\nUntil i dragged a folder into my webapp.\r\n[folder in my project][1]\r\n\r\nNow when i run on server my file doesnt change at all, and even when i change the welcome-file from web.xml it doesn&#39;t change.\r\n\r\nIt looks like there&#39;s another file somewhere like a copy from the original &quot;inicio.html&quot; that&#39;s executing on my server.\r\n\r\n[this is an example of what&#39;s happening][2]\r\n\r\nI tried to change my TomCat&#39;s web.xml file and it doesn&#39;t works.\r\n\r\n  [1]: https://i.stack.imgur.com/GIeDZ.png\r\n  [2]: https://i.stack.imgur.com/fktUd.png","title":"My Dynamic Web Project welcome-file doesn&#39;t get affected by changes","body":"<p>This is a pretty strage and hassle problem i have here.</p>\n<p>I created a Dynamic Web Project in Eclipse and created an HTML file named &quot;inicio.html&quot;.\nI put this into my web.xml <code>&lt;welcome-file&gt;</code> and all seemed to work okay.\nI could Run on server without any problem.</p>\n<p>Until i dragged a folder into my webapp.\n<a href=\"https://i.stack.imgur.com/GIeDZ.png\" rel=\"nofollow noreferrer\">folder in my project</a></p>\n<p>Now when i run on server my file doesnt change at all, and even when i change the welcome-file from web.xml it doesn't change.</p>\n<p>It looks like there's another file somewhere like a copy from the original &quot;inicio.html&quot; that's executing on my server.</p>\n<p><a href=\"https://i.stack.imgur.com/fktUd.png\" rel=\"nofollow noreferrer\">this is an example of what's happening</a></p>\n<p>I tried to change my TomCat's web.xml file and it doesn't works.</p>\n"},{"tags":["java","exception","aop"],"comments":[{"owner":{"account_id":1065971,"reputation":1683,"user_id":1066531,"accept_rate":57,"display_name":"Zymus"},"score":0,"creation_date":1653602177,"post_id":72398300,"comment_id":127897734,"body_markdown":"You mentioned AOP in the tags. Are you looking for a particular way of accomplishing this with a certain framework (AspectJ?)","body":"You mentioned AOP in the tags. Are you looking for a particular way of accomplishing this with a certain framework (AspectJ?)"},{"owner":{"account_id":18907576,"reputation":49,"user_id":16140615,"display_name":"Mark"},"score":0,"creation_date":1653655381,"post_id":72398300,"comment_id":127909467,"body_markdown":"@Zymus yes, a specific pattern to follow would be helpful. I have found the ExceptionHandler annotation for Spring, but I&#39;m not sure if that works at the class-level.","body":"@Zymus yes, a specific pattern to follow would be helpful. I have found the ExceptionHandler annotation for Spring, but I&#39;m not sure if that works at the class-level."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1653733874,"post_id":72398300,"comment_id":127926191,"body_markdown":"With AspectJ you can easily do that. An around-advice with a pointcut targeting the classes and methods of your choice (all or just some) would be easy to implement. This works without any additional frameworks like Spring, Java EE, application servers, reactive stuff etc. It just works with normal POJOs. But of course, you can also use AspectJ from within those frameworks.","body":"With AspectJ you can easily do that. An around-advice with a pointcut targeting the classes and methods of your choice (all or just some) would be easy to implement. This works without any additional frameworks like Spring, Java EE, application servers, reactive stuff etc. It just works with normal POJOs. But of course, you can also use AspectJ from within those frameworks."}],"answers":[{"tags":[],"owner":{"account_id":19088414,"reputation":1,"user_id":13939166,"display_name":"Roshan Dash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653602004,"creation_date":1653602004,"answer_id":72398408,"question_id":72398300,"body_markdown":"If you are using spring , then you can catch all exceptions in one class https://www.baeldung.com/exception-handling-for-rest-with-spring Using an ExceptionMapper class. \r\n\r\nIf it is a normal app, in your public static void main you can surround your code in try catch to catch all exceptions.","title":"Java exception handler for class","body":"<p>If you are using spring , then you can catch all exceptions in one class <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/exception-handling-for-rest-with-spring</a> Using an ExceptionMapper class.</p>\n<p>If it is a normal app, in your public static void main you can surround your code in try catch to catch all exceptions.</p>\n"},{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653619721,"creation_date":1653619721,"answer_id":72399941,"question_id":72398300,"body_markdown":"Extend a Proxy to delegate Car. We can use jdk Proxy if car has a interface, or use cglib. Just like what some framework(Spring...) has provided.\r\nCode below is a example of cglib.\r\n```\r\nclass ErrorHandleProxy implements MethodInterceptor {\r\n    public Object createProxy(Object target) {\r\n        Enhancer enhancer = new Enhancer();\r\n        enhancer.setSuperclass(target.getClass());\r\n        enhancer.setCallback(this);\r\n        enhancer.setClassLoader(target.getClass().getClassLoader());\r\n        return enhancer.create();\r\n    }\r\n\r\n    @Override\r\n    public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\r\n        Object ret = null;\r\n        try {\r\n            ret = proxy.invokeSuper(obj, args);\r\n        } catch (Exception e) {\r\n            /// do logging or rethrow exception\r\n        }\r\n        return ret;\r\n    }\r\n}\r\n```\r\nAnd then, we can call car with this Proxy\r\n```\r\nCar car = new Car();\r\nCar proxy = (Car)new ErrorHandleProxy().createProxy(car);\r\nproxy.xxx\r\n```","title":"Java exception handler for class","body":"<p>Extend a Proxy to delegate Car. We can use jdk Proxy if car has a interface, or use cglib. Just like what some framework(Spring...) has provided.\nCode below is a example of cglib.</p>\n<pre><code>class ErrorHandleProxy implements MethodInterceptor {\n    public Object createProxy(Object target) {\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(target.getClass());\n        enhancer.setCallback(this);\n        enhancer.setClassLoader(target.getClass().getClassLoader());\n        return enhancer.create();\n    }\n\n    @Override\n    public Object intercept(Object obj, Method method, Object[] args, MethodProxy proxy) throws Throwable {\n        Object ret = null;\n        try {\n            ret = proxy.invokeSuper(obj, args);\n        } catch (Exception e) {\n            /// do logging or rethrow exception\n        }\n        return ret;\n    }\n}\n</code></pre>\n<p>And then, we can call car with this Proxy</p>\n<pre><code>Car car = new Car();\nCar proxy = (Car)new ErrorHandleProxy().createProxy(car);\nproxy.xxx\n</code></pre>\n"}],"owner":{"account_id":18907576,"reputation":49,"user_id":16140615,"display_name":"Mark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653619721,"creation_date":1653601264,"question_id":72398300,"body_markdown":"Is it possible to have a uniform exception handler for all instance methods of a class in Java? For example, if I have the class `Car`:\r\n\r\n```\r\nclass Car {\r\n  public void drive(double miles) {\r\n     ...\r\n  }\r\n\r\n  public void turnLeft() {\r\n    ...\r\n  }\r\n  \r\n  public void turnRight() {\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nCould I add a handler function that is called every time an exception is thrown by one of these methods? The ultimate goal would be to log all of these exceptions in a uniform way, even if they are ultimately caught and ignored by higher levels of the stack.","title":"Java exception handler for class","body":"<p>Is it possible to have a uniform exception handler for all instance methods of a class in Java? For example, if I have the class <code>Car</code>:</p>\n<pre><code>class Car {\n  public void drive(double miles) {\n     ...\n  }\n\n  public void turnLeft() {\n    ...\n  }\n  \n  public void turnRight() {\n    ...\n  }\n}\n</code></pre>\n<p>Could I add a handler function that is called every time an exception is thrown by one of these methods? The ultimate goal would be to log all of these exceptions in a uniform way, even if they are ultimately caught and ignored by higher levels of the stack.</p>\n"},{"tags":["java","jvm","program-entry-point","launch"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653618397,"post_id":72399801,"comment_id":127900243,"body_markdown":"Does this answer your question? [Why is the Java main method static?](https://stackoverflow.com/questions/146576/why-is-the-java-main-method-static)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/146576/why-is-the-java-main-method-static\">Why is the Java main method static?</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1653619079,"post_id":72399801,"comment_id":127900318,"body_markdown":"That seems at most to partially answer the question, TBH.","body":"That seems at most to partially answer the question, TBH."},{"owner":{"account_id":25320009,"reputation":29,"user_id":19141417,"display_name":"LittleRed1234"},"score":0,"creation_date":1653619997,"post_id":72399801,"comment_id":127900430,"body_markdown":"Not really.I &#39;m clear about these modifier words.I&#39;m just confused about how jvm work with their combination into a launchable entrance.","body":"Not really.I &#39;m clear about these modifier words.I&#39;m just confused about how jvm work with their combination into a launchable entrance."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1653905776,"post_id":72399801,"comment_id":127957566,"body_markdown":"The JVM doesn’t do anything about it. The execution starts with the `main` method, because the `java` command you’re using to start your program is searching for that method and calling it.","body":"The JVM doesn’t do anything about it. The execution starts with the <code>main</code> method, because the <code>java</code> command you’re using to start your program is searching for that method and calling it."}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653618384,"creation_date":1653618384,"answer_id":72399837,"question_id":72399801,"body_markdown":"When JVM runs an application by specifying a class, it will look for the main method with the signature of `public static void main(String[])`.","title":"Why is a static method called main launchable?","body":"<p>When JVM runs an application by specifying a class, it will look for the main method with the signature of <code>public static void main(String[])</code>.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653619026,"creation_date":1653618516,"answer_id":72399847,"question_id":72399801,"body_markdown":"TLDR; Neither having a `main` method nor a `static` method is sufficient, and the method needs to be both, as specified by the Java Language Specifications (JLS).\r\n\r\nIf there is something about the JVM then it is usually specified in the Java Language Specifications. In this case it is [section 12.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.1) which specifies the requirements for a main method:\r\n\r\n```\r\npublic static void main(String[] args)\r\n```\r\n\r\nor\r\n\r\n```\r\npublic static void main(String... args)\r\n```\r\n\r\nSo instead of just being *static* it also needs to be public and have a `void` return type (integer makes more sense maybe, but Java is multithreaded, so the return value is given using `System.exit(int)`). Furthermore, it must accept `String` arguments, as you would expect. \r\n\r\nNote that the `main` method has been designed to be used in a CLI environment such as the command line in Windows or one of the many shells in Linux / Unix / MacOS. It is similar to the C/C++ `main` method; Java was based on the C/C++ language.\r\n\r\nI&#39;ve also checked this against Java 18, and the text is still the same.","title":"Why is a static method called main launchable?","body":"<p>TLDR; Neither having a <code>main</code> method nor a <code>static</code> method is sufficient, and the method needs to be both, as specified by the Java Language Specifications (JLS).</p>\n<p>If there is something about the JVM then it is usually specified in the Java Language Specifications. In this case it is <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.1\" rel=\"nofollow noreferrer\">section 12.1</a> which specifies the requirements for a main method:</p>\n<pre><code>public static void main(String[] args)\n</code></pre>\n<p>or</p>\n<pre><code>public static void main(String... args)\n</code></pre>\n<p>So instead of just being <em>static</em> it also needs to be public and have a <code>void</code> return type (integer makes more sense maybe, but Java is multithreaded, so the return value is given using <code>System.exit(int)</code>). Furthermore, it must accept <code>String</code> arguments, as you would expect.</p>\n<p>Note that the <code>main</code> method has been designed to be used in a CLI environment such as the command line in Windows or one of the many shells in Linux / Unix / MacOS. It is similar to the C/C++ <code>main</code> method; Java was based on the C/C++ language.</p>\n<p>I've also checked this against Java 18, and the text is still the same.</p>\n"},{"tags":[],"owner":{"account_id":12701375,"reputation":95,"user_id":9227989,"display_name":"Babad00k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653618833,"creation_date":1653618833,"answer_id":72399879,"question_id":72399801,"body_markdown":"Java main method is the entry point of any java program. Its syntax is always `public static void main(String[] args)`.\r\n\r\nWhen java runtime starts, there is no object of the class present. That’s why the main method has to be static so that JVM can load the class into memory and call the main method. If the main method won’t be static, JVM would not be able to call it because there is no object of the class is present\r\n\r\nYou can find a detailed explanation [here][1]. \r\n\r\n\r\n  [1]: https://www.journaldev.com/12552/public-static-void-main-string-args-java-main-method","title":"Why is a static method called main launchable?","body":"<p>Java main method is the entry point of any java program. Its syntax is always <code>public static void main(String[] args)</code>.</p>\n<p>When java runtime starts, there is no object of the class present. That’s why the main method has to be static so that JVM can load the class into memory and call the main method. If the main method won’t be static, JVM would not be able to call it because there is no object of the class is present</p>\n<p>You can find a detailed explanation <a href=\"https://www.journaldev.com/12552/public-static-void-main-string-args-java-main-method\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":25320009,"reputation":29,"user_id":19141417,"display_name":"LittleRed1234"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1653619026,"creation_date":1653618038,"question_id":72399801,"body_markdown":"I guess there&#39;s something about jvm.BUT how does jvm recognize it?For the name main,or the static property?\r\n\r\nThat&#39;s my little confusion.","title":"Why is a static method called main launchable?","body":"<p>I guess there's something about jvm.BUT how does jvm recognize it?For the name main,or the static property?</p>\n<p>That's my little confusion.</p>\n"},{"tags":["java","swing","padding","layout-manager","border-layout"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653597942,"post_id":72397570,"comment_id":127896649,"body_markdown":"“I have something like padding” Are you talking about the black horizontal strip between the yellow area and the blue area?","body":"“I have something like padding” Are you talking about the black horizontal strip between the yellow area and the blue area?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653600445,"creation_date":1653600445,"answer_id":72398189,"question_id":72397570,"body_markdown":"&gt; when I add two panes to container with BorderLayout I have a something like padding\r\n\r\n    mainContainer.setLayout(new BorderLayout(8, 6));\r\n\r\nWhat did you think the 8/6 values are used for?\r\n\r\nYou are creating a gap between the components. \r\n\r\nIt is best to read the API to understand how the parameters are used. ","title":"java swing borderlayout adding panes difficulties","body":"<blockquote>\n<p>when I add two panes to container with BorderLayout I have a something like padding</p>\n</blockquote>\n<pre><code>mainContainer.setLayout(new BorderLayout(8, 6));\n</code></pre>\n<p>What did you think the 8/6 values are used for?</p>\n<p>You are creating a gap between the components.</p>\n<p>It is best to read the API to understand how the parameters are used.</p>\n"}],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72398189,"answer_count":1,"score":0,"last_activity_date":1653618991,"creation_date":1653596089,"question_id":72397570,"body_markdown":"so basically, when I add two panes to container with BorderLayout I have a something like padding and I have no idea how to fix it\r\n\r\nbelow the code is a pic of what I mean\r\n```\r\n        Container mainContainer = this.getContentPane(); //\r\n        mainContainer.setLayout(new BorderLayout(8, 6));\r\n        mainContainer.setBackground(Color.BLACK);\r\n        this.getRootPane().setBorder(BorderFactory.createMatteBorder(4, 4, 4, 4, Color.CYAN));\r\n\r\n        JPanel panelZTekstem = new JPanel();\r\n        panelZTekstem.setBackground(Color.ORANGE);\r\n        poleTekstowe.setEditable(false);\r\n        poleTekstowe.setText(&quot;0&quot;);\r\n        poleTekstowe.setSize(400, 100);\r\n        poleTekstowe.setOpaque(true);\r\n        poleTekstowe.setFont(new Font(&quot;MV Boli&quot;, Font.BOLD, 20));\r\n        poleTekstowe.setHorizontalAlignment(JTextField.RIGHT);\r\n        panelZTekstem.setLayout(new FlowLayout());\r\n        panelZTekstem.add(poleTekstowe);\r\n        mainContainer.add(panelZTekstem,BorderLayout.NORTH);\r\n\r\n        JPanel panelZLiczbami = new JPanel();\r\n\r\n        for (int i = 0; i &lt;= 16; i++) {\r\n            JButton test = new JButton();\r\n            panelZLiczbami.add(test);\r\n        }\r\n\r\n        panelZLiczbami.setBackground(Color.BLUE);\r\n        mainContainer.add(panelZLiczbami, BorderLayout.CENTER);\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a711d.png","title":"java swing borderlayout adding panes difficulties","body":"<p>so basically, when I add two panes to container with BorderLayout I have a something like padding and I have no idea how to fix it</p>\n<p>below the code is a pic of what I mean</p>\n<pre><code>        Container mainContainer = this.getContentPane(); //\n        mainContainer.setLayout(new BorderLayout(8, 6));\n        mainContainer.setBackground(Color.BLACK);\n        this.getRootPane().setBorder(BorderFactory.createMatteBorder(4, 4, 4, 4, Color.CYAN));\n\n        JPanel panelZTekstem = new JPanel();\n        panelZTekstem.setBackground(Color.ORANGE);\n        poleTekstowe.setEditable(false);\n        poleTekstowe.setText(&quot;0&quot;);\n        poleTekstowe.setSize(400, 100);\n        poleTekstowe.setOpaque(true);\n        poleTekstowe.setFont(new Font(&quot;MV Boli&quot;, Font.BOLD, 20));\n        poleTekstowe.setHorizontalAlignment(JTextField.RIGHT);\n        panelZTekstem.setLayout(new FlowLayout());\n        panelZTekstem.add(poleTekstowe);\n        mainContainer.add(panelZTekstem,BorderLayout.NORTH);\n\n        JPanel panelZLiczbami = new JPanel();\n\n        for (int i = 0; i &lt;= 16; i++) {\n            JButton test = new JButton();\n            panelZLiczbami.add(test);\n        }\n\n        panelZLiczbami.setBackground(Color.BLUE);\n        mainContainer.add(panelZLiczbami, BorderLayout.CENTER);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/a711d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a711d.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","linked-list","queue"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1653619120,"post_id":72399792,"comment_id":127900321,"body_markdown":"Use the standard java.util.PriorityQueue?","body":"Use the standard java.util.PriorityQueue?"},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1653631679,"post_id":72399792,"comment_id":127902060,"body_markdown":"Java&#39;s native linked list class does not provide the equivalent of [C++ std::list::splice()](https://www.cplusplus.com/reference/list/list/splice). It doesn&#39;t provide a way to move nodes within a list or between lists. Java&#39;s iterators can&#39;t be shallow copied, assignment just sets another reference to the same iterator object. If using iterators to a Java native linked list, deleting or inserting nodes will invalidate all iterators (except for an iterator used to do the insert or delete). You would need to implement your own linked list class to get around these limitations.","body":"Java&#39;s native linked list class does not provide the equivalent of <a href=\"https://www.cplusplus.com/reference/list/list/splice\" rel=\"nofollow noreferrer\">C++ std::list::splice()</a>. It doesn&#39;t provide a way to move nodes within a list or between lists. Java&#39;s iterators can&#39;t be shallow copied, assignment just sets another reference to the same iterator object. If using iterators to a Java native linked list, deleting or inserting nodes will invalidate all iterators (except for an iterator used to do the insert or delete). You would need to implement your own linked list class to get around these limitations."},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1653724725,"post_id":72399792,"comment_id":127924610,"body_markdown":"*&quot;alternative solution that is more efficient&quot;*: if your solution does not work, how could we compare efficiency??","body":"<i>&quot;alternative solution that is more efficient&quot;</i>: if your solution does not work, how could we compare efficiency??"}],"owner":{"account_id":25343841,"reputation":37,"user_id":19161856,"display_name":"James tan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653617949,"creation_date":1653617949,"question_id":72399792,"body_markdown":"I am coding a queue that uses the built in LinkedList.  I want to sort it before it can be dequeued.My solution is trying to use a merge sort.This is my code:\r\n\r\n\r\n    import java.util.LinkedList;\r\n    \r\n    public class Queue {\r\n        LinkedList&lt;TransactionDetails&gt; priorityList;\r\n    \r\n        public Queue() {\r\n            priorityList = new LinkedList&lt;&gt;();\r\n        }\r\n    \r\n        public void enqueue(TransactionDetails elements){\r\n            if (priorityList.size() != 0 ){\r\n                priorityList.addFirst(elements);\r\n            }else {\r\n                priorityList.addLast(elements);\r\n            }\r\n        }\r\n    \r\n            \r\n           \r\n        public void dequeue(){\r\n            TransactionDetails head = priorityList.get(0);\r\n            TransactionDetails Mid = getMid(head);\r\n        }\r\n    \r\n        TransactionDetails getMid(TransactionDetails head) {\r\n            TransactionDetails midPrev = null;\r\n            while (head != null &amp;&amp; head.next != null) {\r\n                midPrev = (midPrev == null) ? head : midPrev.next;\r\n                head = head.next.next;\r\n            }\r\n            TransactionDetails mid = midPrev.next;\r\n            midPrev.next = null;\r\n            return mid;\r\n        }\r\n    \r\n        \r\n    \r\n    }\r\n\r\nMy TransactionDetails object contains a long variable where I want to compare the values and sort it. However , I can&#39;t access the next method in the built in LinkedList.Is there any solution to implement my idea? I&#39;ve tried Iterator but it seems not useful in my case.\r\n\r\nDo voice out if you think there is an alternative solution that is more efficient than my solution.Thank you!\r\n","title":"is there any solution to call the next pointer in an implemented LinkedList?","body":"<p>I am coding a queue that uses the built in LinkedList.  I want to sort it before it can be dequeued.My solution is trying to use a merge sort.This is my code:</p>\n<pre><code>import java.util.LinkedList;\n\npublic class Queue {\n    LinkedList&lt;TransactionDetails&gt; priorityList;\n\n    public Queue() {\n        priorityList = new LinkedList&lt;&gt;();\n    }\n\n    public void enqueue(TransactionDetails elements){\n        if (priorityList.size() != 0 ){\n            priorityList.addFirst(elements);\n        }else {\n            priorityList.addLast(elements);\n        }\n    }\n\n        \n       \n    public void dequeue(){\n        TransactionDetails head = priorityList.get(0);\n        TransactionDetails Mid = getMid(head);\n    }\n\n    TransactionDetails getMid(TransactionDetails head) {\n        TransactionDetails midPrev = null;\n        while (head != null &amp;&amp; head.next != null) {\n            midPrev = (midPrev == null) ? head : midPrev.next;\n            head = head.next.next;\n        }\n        TransactionDetails mid = midPrev.next;\n        midPrev.next = null;\n        return mid;\n    }\n\n    \n\n}\n</code></pre>\n<p>My TransactionDetails object contains a long variable where I want to compare the values and sort it. However , I can't access the next method in the built in LinkedList.Is there any solution to implement my idea? I've tried Iterator but it seems not useful in my case.</p>\n<p>Do voice out if you think there is an alternative solution that is more efficient than my solution.Thank you!</p>\n"},{"tags":["java","tomcat","reflection"],"comments":[{"owner":{"account_id":4035343,"reputation":1229,"user_id":3320018,"accept_rate":82,"display_name":"Nirmal"},"score":2,"creation_date":1518155872,"post_id":20817425,"comment_id":84397686,"body_markdown":"This question was useful for me and I&#39;ll see if I can edit in certain way to get it opened. For the sake of the question...here is a good explanation that I went to read further https://www.programcreek.com/2013/09/java-reflection-tutorial/","body":"This question was useful for me and I&#39;ll see if I can edit in certain way to get it opened. For the sake of the question...here is a good explanation that I went to read further <a href=\"https://www.programcreek.com/2013/09/java-reflection-tutorial/\" rel=\"nofollow noreferrer\">programcreek.com/2013/09/java-reflection-tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1388252879,"creation_date":1388252577,"answer_id":20817450,"question_id":20817425,"body_markdown":"Yes. \r\n\r\nFor example, Spring uses `&lt;bean&gt;` definitions as such\r\n\r\n    &lt;bean id=&quot;someId&quot; class=&quot;com.foopack.Foo&quot;&gt;\r\n        &lt;property name=&quot;someField&quot; value=&quot;someValue&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen the Spring context processes this `&lt;bean&gt;` element, it will use `Class.forName(String)` with the argument as `com.foopack.Foo` to instantiate that Class (`Class#newInstance()` or get a `Constructor`, depending). It will then again use reflection to get the appropriate setter for the `&lt;property&gt;` element and set its value to the specified `value`.\r\n\r\nJunit also uses reflection to get a set of `@Test` annotated methods to invoke. To do this, it needs to get a `Class` instance.\r\n\r\nServlet based web applications also use reflection to instantiate `Servlet`, `Filter`, and the different types of Listeners classes. For example, you would have\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;YourServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.servlets.YourServlet&lt;/servlet-class&gt;\r\n    &lt;servlet&gt;\r\n\r\nand the container would take that fully qualified class name, `com.servlets.YourServlet`, and instantiate and register it.\r\n\r\nJSON parser/generator libraries also use reflection. For example, with `Gson`, given a class like\r\n\r\n    class Foo {\r\n        private String name = &quot;FOOOO&quot;;\r\n    }\r\n\r\nand an instance like this\r\n\r\n    Foo foo = new Foo();\r\n\r\nyou would serialize it like so\r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(foo);\r\n\r\nGson would then call `getClass()` on the instance `foo`, get a set of the `Field` instances of that `Class`, iterate over the set, and serialize the values of the fields to a JSON format.\r\n\r\n","title":"Why reflection is used in this situation","body":"<p>Yes. </p>\n\n<p>For example, Spring uses <code>&lt;bean&gt;</code> definitions as such</p>\n\n<pre><code>&lt;bean id=\"someId\" class=\"com.foopack.Foo\"&gt;\n    &lt;property name=\"someField\" value=\"someValue\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>When the Spring context processes this <code>&lt;bean&gt;</code> element, it will use <code>Class.forName(String)</code> with the argument as <code>com.foopack.Foo</code> to instantiate that Class (<code>Class#newInstance()</code> or get a <code>Constructor</code>, depending). It will then again use reflection to get the appropriate setter for the <code>&lt;property&gt;</code> element and set its value to the specified <code>value</code>.</p>\n\n<p>Junit also uses reflection to get a set of <code>@Test</code> annotated methods to invoke. To do this, it needs to get a <code>Class</code> instance.</p>\n\n<p>Servlet based web applications also use reflection to instantiate <code>Servlet</code>, <code>Filter</code>, and the different types of Listeners classes. For example, you would have</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;YourServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.servlets.YourServlet&lt;/servlet-class&gt;\n&lt;servlet&gt;\n</code></pre>\n\n<p>and the container would take that fully qualified class name, <code>com.servlets.YourServlet</code>, and instantiate and register it.</p>\n\n<p>JSON parser/generator libraries also use reflection. For example, with <code>Gson</code>, given a class like</p>\n\n<pre><code>class Foo {\n    private String name = \"FOOOO\";\n}\n</code></pre>\n\n<p>and an instance like this</p>\n\n<pre><code>Foo foo = new Foo();\n</code></pre>\n\n<p>you would serialize it like so</p>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(foo);\n</code></pre>\n\n<p>Gson would then call <code>getClass()</code> on the instance <code>foo</code>, get a set of the <code>Field</code> instances of that <code>Class</code>, iterate over the set, and serialize the values of the fields to a JSON format.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388253211,"creation_date":1388253211,"answer_id":20817555,"question_id":20817425,"body_markdown":"There are several ways to get `Class` object. `Class.forName` is one of them. Very often it is `obj.getClass().` As for Spring it uses `ClassLoader.loadClass` when loading beans, see `org.springframework.util.ClassUtils` in `spring-core` module.","title":"Why reflection is used in this situation","body":"<p>There are several ways to get <code>Class</code> object. <code>Class.forName</code> is one of them. Very often it is <code>obj.getClass().</code> As for Spring it uses <code>ClassLoader.loadClass</code> when loading beans, see <code>org.springframework.util.ClassUtils</code> in <code>spring-core</code> module.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653617889,"creation_date":1653617452,"answer_id":72399757,"question_id":20817425,"body_markdown":"In this particular example, it looks like reflection is being used as a way ensure that the class (`org.apache.catalina.startup.Catalina`) is not loaded and initialized too early.\r\n\r\n&gt; Is it still necessary to use reflection?\r\n\r\nIt is not clear that this (delayed loading) could not be done some other way.\r\n\r\nAnd indeed, this is not *sufficient* to ensure that delayed loading happens.  (If this classes identifier was used somewhere else, that could trigger premature loading.)\r\n\r\n-------------------\r\n\r\nThere are more &quot;modern&quot; approaches to this kind of problem; e.g. Spring&#39;s dependency injection.  But the Tomcat codebase predates these innovations by may years.  (And the principle of &quot;if it ain&#39;t broken, don&#39;t fix it&quot; applies.)","title":"Why reflection is used in this situation","body":"<p>In this particular example, it looks like reflection is being used as a way ensure that the class (<code>org.apache.catalina.startup.Catalina</code>) is not loaded and initialized too early.</p>\n<blockquote>\n<p>Is it still necessary to use reflection?</p>\n</blockquote>\n<p>It is not clear that this (delayed loading) could not be done some other way.</p>\n<p>And indeed, this is not <em>sufficient</em> to ensure that delayed loading happens.  (If this classes identifier was used somewhere else, that could trigger premature loading.)</p>\n<hr />\n<p>There are more &quot;modern&quot; approaches to this kind of problem; e.g. Spring's dependency injection.  But the Tomcat codebase predates these innovations by may years.  (And the principle of &quot;if it ain't broken, don't fix it&quot; applies.)</p>\n"}],"owner":{"account_id":43701,"reputation":2835,"user_id":127859,"accept_rate":80,"display_name":"Ryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9896,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1653617889,"creation_date":1388252457,"question_id":20817425,"body_markdown":"Today, I am looking the source code of tomcat\r\n\r\nin the `Bootstrap.init()` method, I found it used reflection to create an instance of `org.apache.catalina.startup.Catalina`, and use `invoke()` to set the `ClassLoader`\r\n\r\nLike the following code\r\n\r\n\r\n```java\r\nClass&lt;?&gt; startupClass = catalinaLoader.loadClass(&quot;org.apache.catalina.startup.Catalina&quot;);\r\nObject startupInstance = startupClass.getConstructor().newInstance();\r\nString methodName = &quot;setParentClassLoader&quot;;\r\nMethod method =\r\n            startupInstance.getClass().getMethod(methodName, paramTypes);\r\n        method.invoke(startupInstance, paramValues);\r\n```\r\n\r\nI found that many frameworks use reflections to create an instance, even though the class and method can be determined\r\n\r\nJust like the above code, use `String` to determine the target. \r\n\r\nIs it still necessary to use reflection?\r\n","title":"Why reflection is used in this situation","body":"<p>Today, I am looking the source code of tomcat</p>\n<p>in the <code>Bootstrap.init()</code> method, I found it used reflection to create an instance of <code>org.apache.catalina.startup.Catalina</code>, and use <code>invoke()</code> to set the <code>ClassLoader</code></p>\n<p>Like the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; startupClass = catalinaLoader.loadClass(&quot;org.apache.catalina.startup.Catalina&quot;);\nObject startupInstance = startupClass.getConstructor().newInstance();\nString methodName = &quot;setParentClassLoader&quot;;\nMethod method =\n            startupInstance.getClass().getMethod(methodName, paramTypes);\n        method.invoke(startupInstance, paramValues);\n</code></pre>\n<p>I found that many frameworks use reflections to create an instance, even though the class and method can be determined</p>\n<p>Just like the above code, use <code>String</code> to determine the target.</p>\n<p>Is it still necessary to use reflection?</p>\n"},{"tags":["java","reflection","java-native-interface","ffi"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653580382,"post_id":72394120,"comment_id":127890868,"body_markdown":"By the way, a replacement for JNI is on the way, previewed in Java 19: [*JEP 424: Foreign Function &amp; Memory API (Preview)*](https://openjdk.java.net/jeps/424)","body":"By the way, a replacement for JNI is on the way, previewed in Java 19: <a href=\"https://openjdk.java.net/jeps/424\" rel=\"nofollow noreferrer\"><i>JEP 424: Foreign Function &amp; Memory API (Preview)</i></a>"},{"owner":{"account_id":13298084,"reputation":41,"user_id":17285857,"display_name":"Mahesh Hegde"},"score":0,"creation_date":1653581268,"post_id":72394120,"comment_id":127891238,"body_markdown":"I know about the JEP. It won&#39;t be coming to many LTS deployments or Android in near future.","body":"I know about the JEP. It won&#39;t be coming to many LTS deployments or Android in near future."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653644302,"post_id":72394120,"comment_id":127905836,"body_markdown":"I’m voting to close this question because it is answered in the JNI Specification.","body":"I’m voting to close this question because it is answered in the JNI Specification."},{"owner":{"account_id":13298084,"reputation":41,"user_id":17285857,"display_name":"Mahesh Hegde"},"score":0,"creation_date":1653673504,"post_id":72394120,"comment_id":127916337,"body_markdown":"Respectfully disagree. It only tells what it does, not where it will be useful. Please read my question again.","body":"Respectfully disagree. It only tells what it does, not where it will be useful. Please read my question again."}],"owner":{"account_id":13298084,"reputation":41,"user_id":17285857,"display_name":"Mahesh Hegde"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1653644302,"answer_count":0,"score":4,"last_activity_date":1653616945,"creation_date":1653578202,"question_id":72394120,"body_markdown":"I was reading the [JNI spec](https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html) and saw the [reflection support methods](https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#reflection-support) section.\r\n\r\nI don&#39;t quite understand what they are used for or what&#39;s the intended purpose. Since method ID is looked up using name and signature, don&#39;t we already have that information? And if we want to get more details, we can always write a java wrapper. So that cannot be the purpose I thought.","title":"What&#39;s the purpose of fromReflectedMethod and toReflectedMethod in JNI?","body":"<p>I was reading the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html\" rel=\"nofollow noreferrer\">JNI spec</a> and saw the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#reflection-support\" rel=\"nofollow noreferrer\">reflection support methods</a> section.</p>\n<p>I don't quite understand what they are used for or what's the intended purpose. Since method ID is looked up using name and signature, don't we already have that information? And if we want to get more details, we can always write a java wrapper. So that cannot be the purpose I thought.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639904748,"creation_date":1639903089,"answer_id":70409959,"question_id":70409675,"body_markdown":"You can do like this to ignore the empty `String`,\r\n\r\n\tString value = sheet.getRow(i).getCell(0).getStringCellValue();\r\n\tif(value == null || value.equalsIgnoreCase(&quot;&quot;)) {\r\n\t\t//Your code\r\n\t}","title":"Apache POI to ignore empty cells for Text format","body":"<p>You can do like this to ignore the empty <code>String</code>,</p>\n<pre><code>String value = sheet.getRow(i).getCell(0).getStringCellValue();\nif(value == null || value.equalsIgnoreCase(&quot;&quot;)) {\n    //Your code\n}\n</code></pre>\n"}],"owner":{"account_id":5230020,"reputation":767,"user_id":4180707,"accept_rate":76,"display_name":"stackyyflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1812,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653616020,"creation_date":1639899736,"question_id":70409675,"body_markdown":"I am parsing Excel using Apache POI. Is it possible to get Apache POI to treat empty strings as null and ignore them?\r\n\r\nThere can be excel sheets that sets millions of cells as Text as attached below, causing all the cells to be interpreted as empty strings by Apache POI. Since there are millions of empty string cells, checking cell by cell can cause great performance issue:\r\n\r\n&gt; [![enter image description here][1]][1]\r\n\r\nIs there anyway where Apache POI can ignore these empty string cells so we don&#39;t have to individually read cell by cell to check if the cell is empty string?\r\n\r\n    InputStream is = new ByteArrayInputStream(content);\r\n    Workbook wb = WorkbookFactory.create(is);\r\n    wb.setMissingCellPolicy(RETURN_BLANK_AS_NULL);\r\n    for (int i = 0; i &lt; wb.getNumberOfSheets(); i++) {\r\n       Sheet sheet = wb.getSheetAt(i);\r\n       for (int i = firstRowNumber; i &lt;= sheet.getLastRowNum(); i++) {\r\n       Row row = sheet.getRow(i);   // Row is returning all the empty strings but I would like to ignore them and treat them as null (empty cell)\r\n       // ...\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bFU2D.png","title":"Apache POI to ignore empty cells for Text format","body":"<p>I am parsing Excel using Apache POI. Is it possible to get Apache POI to treat empty strings as null and ignore them?</p>\n<p>There can be excel sheets that sets millions of cells as Text as attached below, causing all the cells to be interpreted as empty strings by Apache POI. Since there are millions of empty string cells, checking cell by cell can cause great performance issue:</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/bFU2D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bFU2D.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>Is there anyway where Apache POI can ignore these empty string cells so we don't have to individually read cell by cell to check if the cell is empty string?</p>\n<pre><code>InputStream is = new ByteArrayInputStream(content);\nWorkbook wb = WorkbookFactory.create(is);\nwb.setMissingCellPolicy(RETURN_BLANK_AS_NULL);\nfor (int i = 0; i &lt; wb.getNumberOfSheets(); i++) {\n   Sheet sheet = wb.getSheetAt(i);\n   for (int i = firstRowNumber; i &lt;= sheet.getLastRowNum(); i++) {\n   Row row = sheet.getRow(i);   // Row is returning all the empty strings but I would like to ignore them and treat them as null (empty cell)\n   // ...\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1653596181,"post_id":72393757,"comment_id":127896095,"body_markdown":"First, are you sure table &#39;label.establishment&#39; exists and is visible to the user you are using to connect to the &#39;second&#39; database? The error comes from postgreSQL which seems to be using quotes to differentiate the table used from the exception string, so I would not assume it was quoted in your query. You can verify though by trying to execute a native query using a quoted table name and see the error it gives you. But as this is a native query, Hibernate/JPA doesn&#39;t touch or do anything with it to even know what table is used, so shouldn&#39;t be manipulating the SQL issued.","body":"First, are you sure table &#39;label.establishment&#39; exists and is visible to the user you are using to connect to the &#39;second&#39; database? The error comes from postgreSQL which seems to be using quotes to differentiate the table used from the exception string, so I would not assume it was quoted in your query. You can verify though by trying to execute a native query using a quoted table name and see the error it gives you. But as this is a native query, Hibernate/JPA doesn&#39;t touch or do anything with it to even know what table is used, so shouldn&#39;t be manipulating the SQL issued."},{"owner":{"account_id":17705493,"reputation":41,"user_id":12854186,"display_name":"VIKAS SINHA"},"score":0,"creation_date":1653597345,"post_id":72393757,"comment_id":127896459,"body_markdown":"I figured out that the query fails because it is connecting to the first DB instead of the second DB (labeldb). Looking at my beans.xml / Entity and Repository classes, how do we ensure that my query runs against the right DB? Are there annotations to be defined in the Java classes to use the correct dataSource? If you look at the debug log I shared, there is a connection being made to labeldb, then the Hibernate query statement appears followed by connection to the first DB which is where the issue is.","body":"I figured out that the query fails because it is connecting to the first DB instead of the second DB (labeldb). Looking at my beans.xml / Entity and Repository classes, how do we ensure that my query runs against the right DB? Are there annotations to be defined in the Java classes to use the correct dataSource? If you look at the debug log I shared, there is a connection being made to labeldb, then the Hibernate query statement appears followed by connection to the first DB which is where the issue is."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1653666246,"post_id":72393757,"comment_id":127913893,"body_markdown":"You haven&#39;t done enough for Spring to know which EntityManager to use for your repositories - your first persistence unit definition is scanning for everything using &quot;com.aaa.bbb.*&quot; which includes Establishment and EstablishmentRepository. It picks up your transaction manager on the EstablishmentRepository, but defaults to the primary EntityManager on it. You need to rework your jpa:repositories tag(s) to break out which repositories use which EMF via the entity-manager-factory-ref definition","body":"You haven&#39;t done enough for Spring to know which EntityManager to use for your repositories - your first persistence unit definition is scanning for everything using &quot;com.aaa.bbb.*&quot; which includes Establishment and EstablishmentRepository. It picks up your transaction manager on the EstablishmentRepository, but defaults to the primary EntityManager on it. You need to rework your jpa:repositories tag(s) to break out which repositories use which EMF via the entity-manager-factory-ref definition"}],"answers":[{"tags":[],"owner":{"account_id":17705493,"reputation":41,"user_id":12854186,"display_name":"VIKAS SINHA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653615809,"creation_date":1653615809,"answer_id":72399635,"question_id":72393757,"body_markdown":"As I mentioned in my comment to Chris&#39;s input, the query fails because it is connecting to the first DB instead of the second DB (labeldb). Looking at my beans.xml / Entity and Repository classes, how do we ensure that my query runs against the right DB? Are there annotations to be defined in the Java classes to use the correct dataSource? If you look at the debug log I shared, there is a connection being made to labeldb, then the Hibernate query statement appears followed by connection to the first DB which is where the issue is.\r\n\r\nIn short this is a case of JPA implementation where we are accessing multiple DB and we need a way to manage how queries need to be directed to the right database when the JPA / Hibernate configuration is done to the beans.xml file. Appreciate any help in advance.\r\n\r\nThanks","title":"Unable to Query Postgres using Hibernate JPA framework in my Java maven project","body":"<p>As I mentioned in my comment to Chris's input, the query fails because it is connecting to the first DB instead of the second DB (labeldb). Looking at my beans.xml / Entity and Repository classes, how do we ensure that my query runs against the right DB? Are there annotations to be defined in the Java classes to use the correct dataSource? If you look at the debug log I shared, there is a connection being made to labeldb, then the Hibernate query statement appears followed by connection to the first DB which is where the issue is.</p>\n<p>In short this is a case of JPA implementation where we are accessing multiple DB and we need a way to manage how queries need to be directed to the right database when the JPA / Hibernate configuration is done to the beans.xml file. Appreciate any help in advance.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":17705493,"reputation":41,"user_id":12854186,"display_name":"VIKAS SINHA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653615809,"creation_date":1653576603,"question_id":72393757,"body_markdown":"I have a Java maven project that utilizes Spring framework. I am retrieving data from 2 different Postgres DBs (version 12.8) using Hibernate JPA. The data source configuration is defined in my beans.xml file as shown below\r\n\r\n    &lt;!--\r\n    Configure Spring Data JPA and set the base package of the\r\n    repository interfaces\r\n    --&gt;\r\n    &lt;jpa:repositories base-package=&quot;com.aaa.bbb&quot;/&gt;\r\n\r\n    &lt;!-- Configure the entity manager factory beans --&gt;\r\n    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; primary=&quot;true&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.*&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;labelEntityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;labelDataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.label.*&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Configure the data source beans --&gt;\r\n    &lt;bean id=&quot;dataSource&quot;\r\n      class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; primary=&quot;true&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9001/fhirdb&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;fhirserver&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;change-password&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n     &lt;bean id=&quot;labelDataSource&quot;\r\n      class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9002/labeldb&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;postgres&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;labeldbpwd&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot; primary=&quot;true&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;labelTransactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;labelEntityManagerFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- Enable annotation driven transaction management --&gt;\r\n    &lt;tx:annotation-driven/&gt;\r\n\r\nI have queries going against both the primary and the second database (labeldb). The queries written against the primary database runs fine. But I am having issues with the query that is going against the second DB even though they are written in the same way. \r\n\r\nRegarding the query that goes against the second DB, here are some details. I have multiple tables in schema &quot;label&quot; inside my &quot;labeldb&quot; DB. I have defined the following Entity class corresponding to the table &quot;establishment&quot; in the labeldb DB\r\n\r\n**EstablishmentEntity.java**\r\n\r\n    package com.aaa.bbb.label.model;\r\n\r\n    import java.io.Serializable;\r\n    import java.sql.Timestamp;\r\n    import java.text.SimpleDateFormat;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n\r\n    import com.aaa.bbb.splfhirpoc.common.SplFhirpocDataException;\r\n\r\n    @Entity (name = &quot;establishmententity&quot;)\r\n    @Table(name = &quot;establishment&quot;, schema = &quot;label&quot;)\r\n    public class EstablishmentEntity implements Serializable  {\r\n\t\r\n\tprivate static final Logger LOGGER = LogManager.getLogger(EstablishmentEntity.class.getName());\r\n\tprivate static final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\r\n\t@Column(name=&quot;id&quot;, updatable = false, nullable = false)\r\n\tprivate String id;\r\n\t\r\n\t@Column(name=&quot;registrant_id&quot;)\r\n\tprivate String registrant_id;\r\n\r\nI also have a Repository class where I have defined the query to be used as shown below\r\n\r\n**EstablishmentRepository.java**\r\n\r\n    package com.aaa.bbb.splfhirpoc.establishment;\r\n\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    import com.aaa.bbb.label.model.EstablishmentEntity;\r\n\r\n    @Repository\r\n    @Transactional(timeout = 600, value = &quot;labelTransactionManager&quot;)\r\n    @EntityScan(&quot;com.aaa.bbb.label.*&quot;)\r\n    public interface EstablishmentRepository extends JpaRepository&lt;EstablishmentEntity, String&gt; {\r\n\t\r\n\t\r\n    @Query(nativeQuery = true, value = &quot;select a.*, d.date &quot;\r\n            + &quot;from label.establishment a, label.submission_establishment b, label.submission_status d &quot;\r\n            + &quot;where a.id = b.establishment_id &quot;\r\n            + &quot;and b.submission_id = d.submission_id &quot;\r\n            + &quot;and d.code =  &#39;Received&#39; &quot;\r\n            + &quot;and a.duns_number = :duns_number &quot;\r\n            + &quot;and d.date = (select max(e.date) FROM label.submission_status e, label.submission_establishment f &quot;\r\n            + &quot;WHERE e.submission_id = f.submission_id &quot;\r\n            + &quot;AND f.establishment_id = a.id &quot;\r\n            + &quot;AND e.code = &#39;Received&#39; )&quot; \r\n           )\r\n    List&lt;EstablishmentEntity&gt; getAllEstablishmentsByDuns(@Param(&quot;duns_number&quot;) String duns_number);\r\n\r\nNow when I invoke my REST API defined in my Service class, it triggers the above SQL and the log appears to generate the Hibernate SQL correctly (see below the debug statements). But I get an error indicating that the query that gets executed using Hibernate refers to an invalid table name\r\n\r\n**Debug statements before the error**\r\n\r\n    09:40:01.735 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.utils.JAXRSUtils - Resource operation getAllEstablishmentsByDuns may get selected\r\n    09:40:01.743 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.utils.JAXRSUtils - Resource operation getAllEstablishmentsByDuns on the resource class com.ibm.fda.splfhirpoc.establishment.EstablishmentController has been selected\r\n    09:40:01.759 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Request path is: /establishment/getAllEstablishments/duns_number/991098882\r\n    09:40:01.764 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Request HTTP method is: GET\r\n    09:40:01.772 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Request contentType is: application/json\r\n    09:40:01.773 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Accept contentType is: */*\r\n    09:40:01.773 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Found operation: getAllEstablishmentsByDuns\r\n    09:40:01.800 [http-nio-8080-exec-6] DEBUG org.apache.cxf.phase.PhaseInterceptorChain - Invoking handleMessage on interceptor org.apache.cxf.interceptor.OneWayProcessorInterceptor@a9f8e161\r\n    09:40:01.800 [http-nio-8080-exec-6] DEBUG org.apache.cxf.phase.PhaseInterceptorChain - Invoking handleMessage on interceptor org.apache.cxf.interceptor.ServiceInvokerInterceptor@84d2b123\r\n    09:40:01.804 [http-nio-8080-exec-6] DEBUG org.apache.cxf.service.invoker.AbstractInvoker - Invoking method public javax.ws.rs.core.Response com.ibm.fda.splfhirpoc.establishment.EstablishmentController.getAllEstablishmentsByDuns(java.lang.String,java.lang.String,java.lang.String,java.lang.String) throws com.ibm.fda.splfhirpoc.audit.ResourceNotFoundException on object com.ibm.fda.splfhirpoc.establishment.EstablishmentController@24636ebd with params [vsinha, IBM, platform_9_and_3_quarters, 991098882].\r\n    09:40:02.106 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.getAllEstablishmentsByDuns]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,timeout_600; &#39;labelTransactionManager&#39;\r\n    09:40:02.107 [http-nio-8080-exec-6] DEBUG org.hibernate.stat.internal.StatisticsInitiator - Statistics initialized [enabled=false]\r\n    09:40:02.108 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1697515019&lt;open&gt;)] for JPA transaction\r\n    09:40:02.133 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n    09:40:02.133 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - begin\r\n    09:40:02.133 [http-nio-8080-exec-6] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:postgresql://localhost:9002/labeldb]\r\n    09:40:02.371 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@fbcc8a42]\r\n    09:40:02.394 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Opening JPA EntityManager\r\n    09:40:02.625 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select a.*, d.date from label.establishment a, label.submission_establishment b, label.submission_status d where a.id = b.establishment_id and b.submission_id = d.submission_id and d.code =  &#39;Received&#39; and a.duns_number = ? and d.date = (select max(e.date) FROM label.submission_status e, label.submission_establishment f WHERE e.submission_id = f.submission_id AND f.establishment_id = a.id AND e.code = &#39;Received&#39; )\r\n    09:40:02.626 [http-nio-8080-exec-6] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:postgresql://localhost:9001/fhirdb]\r\n    09:40:02.921 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.jdbc.spi.SqlExceptionHelper - could not extract ResultSet [n/a]\r\n    \r\n       ** Exception log **\r\n\r\n     org.postgresql.util.PSQLException: ERROR: relation &quot;label.establishment&quot; does not exist\r\n  Position: 25\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2287)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2045)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2007)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:953)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2810)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2792)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2624)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2619)\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2137)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1134)\r\n\tat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1526)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n\tat &lt;unknown class&gt;.invoke(Unknown Source)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat &lt;unknown class&gt;.proceedWithInvocation(Unknown Source)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy48.getAllEstablishmentsByDuns(Unknown Source)\r\n\tat com.ibm.fda.splfhirpoc.establishment.EstablishmentService.getAllEstablishmentsByDuns(EstablishmentService.java:34)\r\n\tat com.ibm.fda.splfhirpoc.establishment.EstablishmentController.getAllEstablishmentsByDuns(EstablishmentController.java:137)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179)\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\r\n\tat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:201)\r\n\tat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:104)\r\n\tat org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)\r\n\tat org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)\r\n\tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\r\n\tat org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\r\n\tat org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:265)\r\n\tat org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234)\r\n\tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208)\r\n\tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)\r\n\tat org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:225)\r\n\tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:298)\r\n\tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:222)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:273)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:866)\r\n09:40:02.923 [http-nio-8080-exec-6] WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42P01\r\n09:40:02.923 [http-nio-8080-exec-6] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ERROR: relation &quot;label.establishment&quot; does not exist\r\n  Position: 25\r\n09:40:02.964 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\r\n09:40:02.970 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\r\n09:40:02.970 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1697515019&lt;open&gt;)]\r\n09:40:02.970 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\r\n09:40:02.977 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1697515019&lt;open&gt;)] after transaction\r\n\r\nWhy does the hibernate embed the table name in my query between double quotes (&quot;label.establishment&quot;) during execution even though the query in the debug log does not have it? Is there a way to ensure that the double quotes does not get embedded during execution? As mentioned earlier, I have multiple queries that get executed against my primary database where I do not see this issue even though it is written in the same way as the one that fails. But this is happening only for query defined against my second database. Any help will  be greatly appreciated.\r\n\r\nThanks\r\nVikas\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to Query Postgres using Hibernate JPA framework in my Java maven project","body":"<p>I have a Java maven project that utilizes Spring framework. I am retrieving data from 2 different Postgres DBs (version 12.8) using Hibernate JPA. The data source configuration is defined in my beans.xml file as shown below</p>\n<pre><code>&lt;!--\nConfigure Spring Data JPA and set the base package of the\nrepository interfaces\n--&gt;\n&lt;jpa:repositories base-package=&quot;com.aaa.bbb&quot;/&gt;\n\n&lt;!-- Configure the entity manager factory beans --&gt;\n&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; primary=&quot;true&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.*&quot; /&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;labelEntityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;labelDataSource&quot; /&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.aaa.bbb.label.*&quot; /&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n        &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;!-- Configure the data source beans --&gt;\n&lt;bean id=&quot;dataSource&quot;\n  class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot; primary=&quot;true&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9001/fhirdb&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;fhirserver&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;change-password&quot; /&gt;\n&lt;/bean&gt;\n\n &lt;bean id=&quot;labelDataSource&quot;\n  class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:9002/labeldb&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;postgres&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;labeldbpwd&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot; primary=&quot;true&quot;&gt;\n    &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;labelTransactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\n    &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;labelEntityManagerFactory&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;!-- Enable annotation driven transaction management --&gt;\n&lt;tx:annotation-driven/&gt;\n</code></pre>\n<p>I have queries going against both the primary and the second database (labeldb). The queries written against the primary database runs fine. But I am having issues with the query that is going against the second DB even though they are written in the same way.</p>\n<p>Regarding the query that goes against the second DB, here are some details. I have multiple tables in schema &quot;label&quot; inside my &quot;labeldb&quot; DB. I have defined the following Entity class corresponding to the table &quot;establishment&quot; in the labeldb DB</p>\n<p><strong>EstablishmentEntity.java</strong></p>\n<pre><code>package com.aaa.bbb.label.model;\n\nimport java.io.Serializable;\nimport java.sql.Timestamp;\nimport java.text.SimpleDateFormat;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport com.aaa.bbb.splfhirpoc.common.SplFhirpocDataException;\n\n@Entity (name = &quot;establishmententity&quot;)\n@Table(name = &quot;establishment&quot;, schema = &quot;label&quot;)\npublic class EstablishmentEntity implements Serializable  {\n\nprivate static final Logger LOGGER = LogManager.getLogger(EstablishmentEntity.class.getName());\nprivate static final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n\n@Column(name=&quot;id&quot;, updatable = false, nullable = false)\nprivate String id;\n\n@Column(name=&quot;registrant_id&quot;)\nprivate String registrant_id;\n</code></pre>\n<p>I also have a Repository class where I have defined the query to be used as shown below</p>\n<p><strong>EstablishmentRepository.java</strong></p>\n<pre><code>package com.aaa.bbb.splfhirpoc.establishment;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.aaa.bbb.label.model.EstablishmentEntity;\n\n@Repository\n@Transactional(timeout = 600, value = &quot;labelTransactionManager&quot;)\n@EntityScan(&quot;com.aaa.bbb.label.*&quot;)\npublic interface EstablishmentRepository extends JpaRepository&lt;EstablishmentEntity, String&gt; {\n\n\n@Query(nativeQuery = true, value = &quot;select a.*, d.date &quot;\n        + &quot;from label.establishment a, label.submission_establishment b, label.submission_status d &quot;\n        + &quot;where a.id = b.establishment_id &quot;\n        + &quot;and b.submission_id = d.submission_id &quot;\n        + &quot;and d.code =  'Received' &quot;\n        + &quot;and a.duns_number = :duns_number &quot;\n        + &quot;and d.date = (select max(e.date) FROM label.submission_status e, label.submission_establishment f &quot;\n        + &quot;WHERE e.submission_id = f.submission_id &quot;\n        + &quot;AND f.establishment_id = a.id &quot;\n        + &quot;AND e.code = 'Received' )&quot; \n       )\nList&lt;EstablishmentEntity&gt; getAllEstablishmentsByDuns(@Param(&quot;duns_number&quot;) String duns_number);\n</code></pre>\n<p>Now when I invoke my REST API defined in my Service class, it triggers the above SQL and the log appears to generate the Hibernate SQL correctly (see below the debug statements). But I get an error indicating that the query that gets executed using Hibernate refers to an invalid table name</p>\n<p><strong>Debug statements before the error</strong></p>\n<pre><code>09:40:01.735 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.utils.JAXRSUtils - Resource operation getAllEstablishmentsByDuns may get selected\n09:40:01.743 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.utils.JAXRSUtils - Resource operation getAllEstablishmentsByDuns on the resource class com.ibm.fda.splfhirpoc.establishment.EstablishmentController has been selected\n09:40:01.759 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Request path is: /establishment/getAllEstablishments/duns_number/991098882\n09:40:01.764 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Request HTTP method is: GET\n09:40:01.772 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Request contentType is: application/json\n09:40:01.773 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Accept contentType is: */*\n09:40:01.773 [http-nio-8080-exec-6] DEBUG org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor - Found operation: getAllEstablishmentsByDuns\n09:40:01.800 [http-nio-8080-exec-6] DEBUG org.apache.cxf.phase.PhaseInterceptorChain - Invoking handleMessage on interceptor org.apache.cxf.interceptor.OneWayProcessorInterceptor@a9f8e161\n09:40:01.800 [http-nio-8080-exec-6] DEBUG org.apache.cxf.phase.PhaseInterceptorChain - Invoking handleMessage on interceptor org.apache.cxf.interceptor.ServiceInvokerInterceptor@84d2b123\n09:40:01.804 [http-nio-8080-exec-6] DEBUG org.apache.cxf.service.invoker.AbstractInvoker - Invoking method public javax.ws.rs.core.Response com.ibm.fda.splfhirpoc.establishment.EstablishmentController.getAllEstablishmentsByDuns(java.lang.String,java.lang.String,java.lang.String,java.lang.String) throws com.ibm.fda.splfhirpoc.audit.ResourceNotFoundException on object com.ibm.fda.splfhirpoc.establishment.EstablishmentController@24636ebd with params [vsinha, IBM, platform_9_and_3_quarters, 991098882].\n09:40:02.106 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.getAllEstablishmentsByDuns]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,timeout_600; 'labelTransactionManager'\n09:40:02.107 [http-nio-8080-exec-6] DEBUG org.hibernate.stat.internal.StatisticsInitiator - Statistics initialized [enabled=false]\n09:40:02.108 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1697515019&lt;open&gt;)] for JPA transaction\n09:40:02.133 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n09:40:02.133 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - begin\n09:40:02.133 [http-nio-8080-exec-6] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:postgresql://localhost:9002/labeldb]\n09:40:02.371 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@fbcc8a42]\n09:40:02.394 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.EntityManagerFactoryUtils - Opening JPA EntityManager\n09:40:02.625 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select a.*, d.date from label.establishment a, label.submission_establishment b, label.submission_status d where a.id = b.establishment_id and b.submission_id = d.submission_id and d.code =  'Received' and a.duns_number = ? and d.date = (select max(e.date) FROM label.submission_status e, label.submission_establishment f WHERE e.submission_id = f.submission_id AND f.establishment_id = a.id AND e.code = 'Received' )\n09:40:02.626 [http-nio-8080-exec-6] DEBUG org.springframework.jdbc.datasource.DriverManagerDataSource - Creating new JDBC DriverManager Connection to [jdbc:postgresql://localhost:9001/fhirdb]\n09:40:02.921 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.jdbc.spi.SqlExceptionHelper - could not extract ResultSet [n/a]\n\n   ** Exception log **\n\n org.postgresql.util.PSQLException: ERROR: relation &quot;label.establishment&quot; does not exist\n</code></pre>\n<p>Position: 25\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323)\nat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473)\nat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393)\nat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\nat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:114)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\nat org.hibernate.loader.Loader.getResultSet(Loader.java:2287)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2045)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2007)\nat org.hibernate.loader.Loader.doQuery(Loader.java:953)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\nat org.hibernate.loader.Loader.doList(Loader.java:2810)\nat org.hibernate.loader.Loader.doList(Loader.java:2792)\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2624)\nat org.hibernate.loader.Loader.list(Loader.java:2619)\nat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)\nat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2137)\nat org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1134)\nat org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:173)\nat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1526)\nat org.hibernate.query.Query.getResultList(Query.java:165)\nat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126)\nat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\nat .invoke(Unknown Source)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat .proceedWithInvocation(Unknown Source)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:367)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\nat com.sun.proxy.$Proxy48.getAllEstablishmentsByDuns(Unknown Source)\nat com.ibm.fda.splfhirpoc.establishment.EstablishmentService.getAllEstablishmentsByDuns(EstablishmentService.java:34)\nat com.ibm.fda.splfhirpoc.establishment.EstablishmentController.getAllEstablishmentsByDuns(EstablishmentController.java:137)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179)\nat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\nat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:201)\nat org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:104)\nat org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)\nat org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)\nat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\nat org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\nat org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:265)\nat org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234)\nat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208)\nat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)\nat org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:225)\nat org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:298)\nat org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:222)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\nat org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:273)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:866)\n09:40:02.923 [http-nio-8080-exec-6] WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42P01\n09:40:02.923 [http-nio-8080-exec-6] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ERROR: relation &quot;label.establishment&quot; does not exist\nPosition: 25\n09:40:02.964 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false\n09:40:02.970 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\n09:40:02.970 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(1697515019)]\n09:40:02.970 [http-nio-8080-exec-6] DEBUG org.hibernate.engine.transaction.internal.TransactionImpl - rolling back\n09:40:02.977 [http-nio-8080-exec-6] DEBUG org.springframework.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1697515019)] after transaction</p>\n<p>Why does the hibernate embed the table name in my query between double quotes (&quot;label.establishment&quot;) during execution even though the query in the debug log does not have it? Is there a way to ensure that the double quotes does not get embedded during execution? As mentioned earlier, I have multiple queries that get executed against my primary database where I do not see this issue even though it is written in the same way as the one that fails. But this is happening only for query defined against my second database. Any help will  be greatly appreciated.</p>\n<p>Thanks\nVikas</p>\n"},{"tags":["java","android","arduino","bluetooth","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":24377110,"reputation":6808,"user_id":18309290,"display_name":"user18309290"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653575447,"creation_date":1653575447,"answer_id":72393488,"question_id":72389270,"body_markdown":"Permissions must be declared and requested depending on Android version. Main differences are:\r\n\r\nTarget Android 12 or higher\r\n\r\n    BLUETOOTH_SCAN\r\n\r\nTarget Android 11 or lower\r\n\r\n    ACCESS_FINE_LOCATION\r\n\r\nSee [Bluetooth permissions][1] for details.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/bluetooth/permissions","title":"How to get BLE devices&#39; names list by android app?","body":"<p>Permissions must be declared and requested depending on Android version. Main differences are:</p>\n<p>Target Android 12 or higher</p>\n<pre><code>BLUETOOTH_SCAN\n</code></pre>\n<p>Target Android 11 or lower</p>\n<pre><code>ACCESS_FINE_LOCATION\n</code></pre>\n<p>See <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">Bluetooth permissions</a> for details.</p>\n"}],"owner":{"account_id":23832197,"reputation":131,"user_id":17838340,"display_name":"tonykrjhc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72393488,"answer_count":1,"score":1,"last_activity_date":1653615615,"creation_date":1653555432,"question_id":72389270,"body_markdown":"Hello I am making a bluetooth connecting android app.\r\nI followed the instruction from ``developer.android.com``\r\nwhile I am testing my app, I look forward to it works properly, but it didn&#39;t.\r\nI tried to get detected BLE devices names, but don&#39;t know the reason why it doesn&#39;t show me the devices name...\r\n\r\nArduino nano 33 IOT is adverstising bluetooth next to my android phone, and I am trying to detect it and get the Adrduino&#39;s BLE device name and address.\r\n\r\nhere is my MainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    //View Contents Elements\r\n    public Button btnActivateBluetooth;\r\n    public Button btnSearchBluetooth;\r\n    public Button btnSendData;\r\n    public ListView lvSearchedDevice;\r\n    public ListView lvLog;\r\n    public TextView tvStatus;\r\n    public EditText etData;\r\n\r\n    //etc values\r\n    public ArrayAdapter&lt;String&gt; logAdapter;\r\n    private final int REQUEST_ENABLE_BT = 1;\r\n    private boolean mScanning = true;\r\n\r\n    //bluetooth values\r\n    public BluetoothAdapter btAdapter;\r\n    public BluetoothManager btManager;\r\n    private Handler handler;\r\n\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //View Elements\r\n        btnSearchBluetooth = (Button) findViewById(R.id.btnSearchBluetooth);\r\n        btnSendData = (Button) findViewById(R.id.btnSendData);\r\n        lvSearchedDevice = (ListView) findViewById(R.id.lvSearchedDevice);\r\n        lvLog = (ListView) findViewById(R.id.log);\r\n        tvStatus = (TextView) findViewById(R.id.tvStatus);\r\n        etData = (EditText) findViewById(R.id.etData);\r\n\r\n        //etc\r\n        logAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\r\n        lvLog.setAdapter(logAdapter);\r\n        handler = new Handler();\r\n\r\n        // Initializes Bluetooth adapter.\r\n        btManager = (BluetoothManager)getSystemService(Context.BLUETOOTH_SERVICE);\r\n        btAdapter = btManager.getAdapter();\r\n\r\n        // displays a dialog requesting user permission to enable Bluetooth.\r\n        if (btAdapter == null || !btAdapter.isEnabled()) {\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n        }\r\n\r\n        btnSearchBluetooth.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                scanLeDevice(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    //Scan devices\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void scanLeDevice(final boolean enable){\r\n        if(enable){\r\n            handler.postDelayed(new Runnable() {\r\n                @SuppressLint(&quot;MissingPermission&quot;)\r\n                @Override\r\n                public void run() {\r\n                    btAdapter.stopLeScan(leScanCallback);\r\n                }\r\n            },5000);\r\n            btAdapter.startLeScan(leScanCallback);\r\n        }\r\n        else\r\n        {\r\n            btAdapter.stopLeScan(leScanCallback);\r\n        }\r\n    }\r\n\r\n    //Callback method\r\n    private BluetoothAdapter.LeScanCallback leScanCallback = new BluetoothAdapter.LeScanCallback() {\r\n        @Override\r\n        public void onLeScan(final BluetoothDevice device, int rssi, byte[] scanRecord) {\r\n            runOnUiThread(new Runnable() {\r\n                @SuppressLint(&quot;MissingPermission&quot;)\r\n                @Override\r\n                public void run() {\r\n                    Toast.makeText(MainActivity.this, device.getName(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nand this is my Arduino nano 33 IOT&#39;s code.\r\n```\r\n#include &lt;ArduinoBLE.h&gt;\r\nBLEService Toothbrush(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\nBLEStringCharacteristic ToothbrushChar(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;,BLEWrite|BLERead | BLENotify, 10);\r\n\r\nvoid setup() {\r\n  Serial.begin(9600);\r\n  if(!BLE.begin()){\r\n    Serial.println(&quot;Starting BLE failed.&quot;);\r\n    while(1);\r\n  }\r\n  BLE.setLocalName(&quot;HayanToothbrush&quot;);\r\n  BLE.setAdvertisedService(Toothbrush);\r\n  Toothbrush.addCharacteristic(ToothbrushChar);\r\n  BLE.addService(Toothbrush);\r\n  BLE.advertise();\r\n\r\n  Serial.println(&quot;Bluetooth device active, wating for connections...&quot;);\r\n}\r\n\r\nvoid loop() {\r\n  BLEDevice central = BLE.central();\r\n  \r\n  if(central) {\r\n    Serial.print(&quot;Connected to central : &quot;);\r\n    Serial.println(central.address());\r\n\r\n    while(central.connected()){\r\n      \r\n    }\r\n    Serial.print(&quot;Disconnected from central:&quot;);\r\n    Serial.println(central.address());\r\n  }\r\n}\r\n```\r\n\r\nI add permissions in the Mainfest as below.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.bluetooth0523&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Bluetooth0523&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nBut it still doesn&#39;t find me scanned device name.\r\nI think it&#39;s on LeScanCallBack problem. \r\nWhen running startLeScan, It seems not running callback method.\r\nin addition, I am running this app on **SDK_VERSION_30**\r\nand Arduino nano IOT 33 is discoverable If I use the Bluetooth function that my phone has, not my application, it will be displayed in the scan result list.\r\n[![Phone&#39;s own Bluetooth][1]][1]\r\nI want to get scan result on my own app.\r\nbut don&#39;t know where is the problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LWdNy.jpg","title":"How to get BLE devices&#39; names list by android app?","body":"<p>Hello I am making a bluetooth connecting android app.\nI followed the instruction from <code>developer.android.com</code>\nwhile I am testing my app, I look forward to it works properly, but it didn't.\nI tried to get detected BLE devices names, but don't know the reason why it doesn't show me the devices name...</p>\n<p>Arduino nano 33 IOT is adverstising bluetooth next to my android phone, and I am trying to detect it and get the Adrduino's BLE device name and address.</p>\n<p>here is my MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    //View Contents Elements\n    public Button btnActivateBluetooth;\n    public Button btnSearchBluetooth;\n    public Button btnSendData;\n    public ListView lvSearchedDevice;\n    public ListView lvLog;\n    public TextView tvStatus;\n    public EditText etData;\n\n    //etc values\n    public ArrayAdapter&lt;String&gt; logAdapter;\n    private final int REQUEST_ENABLE_BT = 1;\n    private boolean mScanning = true;\n\n    //bluetooth values\n    public BluetoothAdapter btAdapter;\n    public BluetoothManager btManager;\n    private Handler handler;\n\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //View Elements\n        btnSearchBluetooth = (Button) findViewById(R.id.btnSearchBluetooth);\n        btnSendData = (Button) findViewById(R.id.btnSendData);\n        lvSearchedDevice = (ListView) findViewById(R.id.lvSearchedDevice);\n        lvLog = (ListView) findViewById(R.id.log);\n        tvStatus = (TextView) findViewById(R.id.tvStatus);\n        etData = (EditText) findViewById(R.id.etData);\n\n        //etc\n        logAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\n        lvLog.setAdapter(logAdapter);\n        handler = new Handler();\n\n        // Initializes Bluetooth adapter.\n        btManager = (BluetoothManager)getSystemService(Context.BLUETOOTH_SERVICE);\n        btAdapter = btManager.getAdapter();\n\n        // displays a dialog requesting user permission to enable Bluetooth.\n        if (btAdapter == null || !btAdapter.isEnabled()) {\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n        }\n\n        btnSearchBluetooth.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                scanLeDevice(true);\n            }\n        });\n    }\n\n    //Scan devices\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void scanLeDevice(final boolean enable){\n        if(enable){\n            handler.postDelayed(new Runnable() {\n                @SuppressLint(&quot;MissingPermission&quot;)\n                @Override\n                public void run() {\n                    btAdapter.stopLeScan(leScanCallback);\n                }\n            },5000);\n            btAdapter.startLeScan(leScanCallback);\n        }\n        else\n        {\n            btAdapter.stopLeScan(leScanCallback);\n        }\n    }\n\n    //Callback method\n    private BluetoothAdapter.LeScanCallback leScanCallback = new BluetoothAdapter.LeScanCallback() {\n        @Override\n        public void onLeScan(final BluetoothDevice device, int rssi, byte[] scanRecord) {\n            runOnUiThread(new Runnable() {\n                @SuppressLint(&quot;MissingPermission&quot;)\n                @Override\n                public void run() {\n                    Toast.makeText(MainActivity.this, device.getName(), Toast.LENGTH_SHORT).show();\n                }\n            });\n        }\n    };\n}\n</code></pre>\n<p>and this is my Arduino nano 33 IOT's code.</p>\n<pre><code>#include &lt;ArduinoBLE.h&gt;\nBLEService Toothbrush(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\nBLEStringCharacteristic ToothbrushChar(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;,BLEWrite|BLERead | BLENotify, 10);\n\nvoid setup() {\n  Serial.begin(9600);\n  if(!BLE.begin()){\n    Serial.println(&quot;Starting BLE failed.&quot;);\n    while(1);\n  }\n  BLE.setLocalName(&quot;HayanToothbrush&quot;);\n  BLE.setAdvertisedService(Toothbrush);\n  Toothbrush.addCharacteristic(ToothbrushChar);\n  BLE.addService(Toothbrush);\n  BLE.advertise();\n\n  Serial.println(&quot;Bluetooth device active, wating for connections...&quot;);\n}\n\nvoid loop() {\n  BLEDevice central = BLE.central();\n  \n  if(central) {\n    Serial.print(&quot;Connected to central : &quot;);\n    Serial.println(central.address());\n\n    while(central.connected()){\n      \n    }\n    Serial.print(&quot;Disconnected from central:&quot;);\n    Serial.println(central.address());\n  }\n}\n</code></pre>\n<p>I add permissions in the Mainfest as below.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.bluetooth0523&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot; android:required=&quot;true&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Bluetooth0523&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>But it still doesn't find me scanned device name.\nI think it's on LeScanCallBack problem.\nWhen running startLeScan, It seems not running callback method.\nin addition, I am running this app on <strong>SDK_VERSION_30</strong>\nand Arduino nano IOT 33 is discoverable If I use the Bluetooth function that my phone has, not my application, it will be displayed in the scan result list.\n<a href=\"https://i.stack.imgur.com/LWdNy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWdNy.jpg\" alt=\"Phone's own Bluetooth\" /></a>\nI want to get scan result on my own app.\nbut don't know where is the problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1653614239,"post_id":72399501,"comment_id":127899677,"body_markdown":"Step through your code with the debugger, or add logging of the value of `change` in your while loop.","body":"Step through your code with the debugger, or add logging of the value of <code>change</code> in your while loop."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1653614702,"post_id":72399501,"comment_id":127899766,"body_markdown":"A good solution to this would be to store `change` as an `int` number of cents, rather than a `double` number of dollars.  Variables of type `double` and `float` aren&#39;t very good at handling arithmetic with exact decimal numbers, such as amounts of money.","body":"A good solution to this would be to store <code>change</code> as an <code>int</code> number of cents, rather than a <code>double</code> number of dollars.  Variables of type <code>double</code> and <code>float</code> aren&#39;t very good at handling arithmetic with exact decimal numbers, such as amounts of money."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653615213,"creation_date":1653615010,"answer_id":72399574,"question_id":72399501,"body_markdown":"Consider this.  Change could be .009999 and thus not be updated by any of the conditions. And it would also fail equality to 0.0.  So it would run forever.  So in this case, do:\r\n```  \r\nwhile (change &gt;= .01) // the smallest value you care about.\r\n     ...\r\n     ...\r\n     ...\r\n    } if(change &gt;= .01) {\r\n        change = change - .01;\r\n        pennyCount++;\r\n        continue;\r\n    }\r\n}\r\n```\r\nIt will still update the cents and exit properly.  In future situations, either express your money in cents (e.g. `143.14 is 14314 cents`) or use `BigDecimal` for calculations.  In general, don&#39;t use double values for money.","title":"Java method working with an int but not a double","body":"<p>Consider this.  Change could be .009999 and thus not be updated by any of the conditions. And it would also fail equality to 0.0.  So it would run forever.  So in this case, do:</p>\n<pre><code>while (change &gt;= .01) // the smallest value you care about.\n     ...\n     ...\n     ...\n    } if(change &gt;= .01) {\n        change = change - .01;\n        pennyCount++;\n        continue;\n    }\n}\n</code></pre>\n<p>It will still update the cents and exit properly.  In future situations, either express your money in cents (e.g. <code>143.14 is 14314 cents</code>) or use <code>BigDecimal</code> for calculations.  In general, don't use double values for money.</p>\n"}],"owner":{"account_id":24539446,"reputation":11,"user_id":18449998,"display_name":"Tristan Beatty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653614228,"accepted_answer_id":72399574,"answer_count":1,"score":0,"last_activity_date":1653615213,"creation_date":1653614032,"question_id":72399501,"body_markdown":"When I call the method with 142.14, I don&#39;t get any errors, but nothing prints to the console at all. When I send 142, it works as intended. Why is this?\r\nThis code is in Java and I need to add more details to ask this question so here I am adding more details.\r\n\r\n```\r\npublic class Testing {\r\n\tstatic int twentyCount = 0;\r\n\tstatic int tenCount = 0;\r\n\tstatic int fiveCount = 0;\r\n\tstatic int dollarCount = 0;\r\n\tstatic int quarterCount = 0;\r\n\tstatic int dimeCount = 0;\r\n\tstatic int nickelCount = 0;\r\n\tstatic int pennyCount = 0;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\treturnChange(142.14);\r\n\t}\r\n\t\r\npublic static void returnChange(double change) {\r\n\t\t\r\n\t\r\n\t\twhile (change &gt;= 1.0) {\r\n\t\t\tif(change &gt;= 20.0) {\r\n\t\t\t\tchange = change - 20.0;\r\n\t\t\t\ttwentyCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t} if(change &gt;= 10.0) {\r\n\t\t\t\tchange = change - 10.0;\r\n\t\t\t\ttenCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t} if(change &gt;= 5.0) {\r\n\t\t\t\tchange = change - 5.0;\r\n\t\t\t\tfiveCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t} if(change &gt;= 1.0) {\r\n\t\t\t\tchange = change - 1.0;\r\n\t\t\t\tdollarCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile (change != 0.0) {\r\n\t\t\tif(change &gt;= .25) {\r\n\t\t\t\tchange = change - .25;\r\n\t\t\t\tquarterCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t} if(change &gt;= .1) {\r\n\t\t\t\tchange = change - .1;\r\n\t\t\t\tdimeCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t} if(change &gt;= .05) {\r\n\t\t\t\tchange = change - .05;\r\n\t\t\t\tnickelCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t} if(change &gt;= .01) {\r\n\t\t\t\tchange = change - .01;\r\n\t\t\t\tpennyCount++;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\tSystem.out.println(&quot;Change dispensed:  &quot; + twentyCount + &quot; 20&#39;s, &quot; + tenCount + &quot; 10&#39;s, &quot; + fiveCount + &quot; 5&#39;s, &quot;\r\n\t\t\t\t+ dollarCount + &quot; 1&#39;s, &quot; + quarterCount + &quot; quarters, &quot; + dimeCount + &quot; dimes, &quot;\r\n\t\t\t\t+ nickelCount + &quot; nickels, and &quot; + pennyCount + &quot; pennies.&quot;);\r\n\t}\r\n\t\r\n\r\n}\r\n```","title":"Java method working with an int but not a double","body":"<p>When I call the method with 142.14, I don't get any errors, but nothing prints to the console at all. When I send 142, it works as intended. Why is this?\nThis code is in Java and I need to add more details to ask this question so here I am adding more details.</p>\n<pre><code>public class Testing {\n    static int twentyCount = 0;\n    static int tenCount = 0;\n    static int fiveCount = 0;\n    static int dollarCount = 0;\n    static int quarterCount = 0;\n    static int dimeCount = 0;\n    static int nickelCount = 0;\n    static int pennyCount = 0;\n    \n    public static void main(String[] args) {\n        \n        returnChange(142.14);\n    }\n    \npublic static void returnChange(double change) {\n        \n    \n        while (change &gt;= 1.0) {\n            if(change &gt;= 20.0) {\n                change = change - 20.0;\n                twentyCount++;\n                continue;\n            } if(change &gt;= 10.0) {\n                change = change - 10.0;\n                tenCount++;\n                continue;\n            } if(change &gt;= 5.0) {\n                change = change - 5.0;\n                fiveCount++;\n                continue;\n            } if(change &gt;= 1.0) {\n                change = change - 1.0;\n                dollarCount++;\n                continue;\n            }\n        }\n        while (change != 0.0) {\n            if(change &gt;= .25) {\n                change = change - .25;\n                quarterCount++;\n                continue;\n            } if(change &gt;= .1) {\n                change = change - .1;\n                dimeCount++;\n                continue;\n            } if(change &gt;= .05) {\n                change = change - .05;\n                nickelCount++;\n                continue;\n            } if(change &gt;= .01) {\n                change = change - .01;\n                pennyCount++;\n                continue;\n            }\n        }\n    System.out.println(&quot;Change dispensed:  &quot; + twentyCount + &quot; 20's, &quot; + tenCount + &quot; 10's, &quot; + fiveCount + &quot; 5's, &quot;\n                + dollarCount + &quot; 1's, &quot; + quarterCount + &quot; quarters, &quot; + dimeCount + &quot; dimes, &quot;\n                + nickelCount + &quot; nickels, and &quot; + pennyCount + &quot; pennies.&quot;);\n    }\n    \n\n}\n</code></pre>\n"},{"tags":["java","swing","jtextfield","jcombobox"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":7,"creation_date":1653613826,"post_id":72399484,"comment_id":127899614,"body_markdown":"`startPanel.setLayout(null);` well, that&#39;s not helping","body":"<code>startPanel.setLayout(null);</code> well, that&#39;s not helping"},{"owner":{"account_id":23651466,"reputation":1,"user_id":17680283,"display_name":"CodeFeuer"},"score":0,"creation_date":1653613938,"post_id":72399484,"comment_id":127899630,"body_markdown":"It all works before those 2 are added, I&#39;m still very new to GUI creation and I haven&#39;t really gotten a handle on how LayoutManagers work, and yes I&#39;ve read the APIs they just seem.. weird","body":"It all works before those 2 are added, I&#39;m still very new to GUI creation and I haven&#39;t really gotten a handle on how LayoutManagers work, and yes I&#39;ve read the APIs they just seem.. weird"},{"owner":{"account_id":23651466,"reputation":1,"user_id":17680283,"display_name":"CodeFeuer"},"score":0,"creation_date":1653614048,"post_id":72399484,"comment_id":127899642,"body_markdown":"It&#39;s weird cause even if they&#39;re not added to the panel, their instantiation causes it to not work...","body":"It&#39;s weird cause even if they&#39;re not added to the panel, their instantiation causes it to not work..."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653614092,"post_id":72399484,"comment_id":127899649,"body_markdown":"Layout managers make your life a lot simpler - your code &quot;works&quot;, but I don&#39;t know what `Window` is, seems to be custom class, so that might the issue","body":"Layout managers make your life a lot simpler - your code &quot;works&quot;, but I don&#39;t know what <code>Window</code> is, seems to be custom class, so that might the issue"},{"owner":{"account_id":23651466,"reputation":1,"user_id":17680283,"display_name":"CodeFeuer"},"score":0,"creation_date":1653614246,"post_id":72399484,"comment_id":127899679,"body_markdown":"@MadProgrammer I added the Window class to the edit, I don&#39;t believe that should be the issue to be honest, its just a generic JPanel class I made.","body":"@MadProgrammer I added the Window class to the edit, I don&#39;t believe that should be the issue to be honest, its just a generic JPanel class I made."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1653614376,"post_id":72399484,"comment_id":127899706,"body_markdown":"Don&#39;t use a null layout. Don&#39;t use setBounds(). Why would you even attempt to use a negative x/y value? This is why you should be using layout managers. They set the size/location of components so you don&#39;t have to provide random values that don&#39;t always make sense. We won&#39;t spend time helping with null layouts because they should NOT be used. Take the time to learn to use layout managers. * its just a generic JPanel class I made* - 1) classes should have descriptive names. 2) is it not a panel, you extend JFrame.","body":"Don&#39;t use a null layout. Don&#39;t use setBounds(). Why would you even attempt to use a negative x/y value? This is why you should be using layout managers. They set the size/location of components so you don&#39;t have to provide random values that don&#39;t always make sense. We won&#39;t spend time helping with null layouts because they should NOT be used. Take the time to learn to use layout managers. * its just a generic JPanel class I made* - 1) classes should have descriptive names. 2) is it not a panel, you extend JFrame."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653614383,"post_id":72399484,"comment_id":127899708,"body_markdown":"The problem may be with the fact that you make the window visible before the you add the components ... not to mention `java.awt.Window` already exists, so, yeah, confusion all round.  Remove `this.setVisible(true);` from the constuctor and add `window.setVisible(true)` to the end of the `main` method","body":"The problem may be with the fact that you make the window visible before the you add the components ... not to mention <code>java.awt.Window</code> already exists, so, yeah, confusion all round.  Remove <code>this.setVisible(true);</code> from the constuctor and add <code>window.setVisible(true)</code> to the end of the <code>main</code> method"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1653614729,"post_id":72399484,"comment_id":127899770,"body_markdown":"`startPanel.setBounds(230, 230, 500, 250); ... addPanel.setBounds(230, 220, 500, 300);` - you are attempting to have two panels occupy the same space. The panel added first is painted last. These are the type of issue you have when you try to manually code size/location. Again, get rid of all the null layouts and setBounds and use layout managers so you don&#39;t have these issues. Layout managers exist to make life easier.","body":"<code>startPanel.setBounds(230, 230, 500, 250); ... addPanel.setBounds(230, 220, 500, 300);</code> - you are attempting to have two panels occupy the same space. The panel added first is painted last. These are the type of issue you have when you try to manually code size/location. Again, get rid of all the null layouts and setBounds and use layout managers so you don&#39;t have these issues. Layout managers exist to make life easier."},{"owner":{"account_id":23651466,"reputation":1,"user_id":17680283,"display_name":"CodeFeuer"},"score":0,"creation_date":1653614962,"post_id":72399484,"comment_id":127899800,"body_markdown":"I was trying to make it to where I could flip between different JPanels in the window, I made a previous program switching between JFrames and I didn&#39;t really like the whole feel of that one. I don&#39;t fully know what I&#39;m doing just messing around with it and learning.\n\n@camickr You could&#39;ve at least tried to be helpful bro, I don&#39;t have a ton of experience in OOP and the one language I&#39;m really good at doesn&#39;t use LayoutManagers or anything, you manually set the size and position, even if that means using negative integers. I meant JFrame, I&#39;m tired bro, sorry.","body":"I was trying to make it to where I could flip between different JPanels in the window, I made a previous program switching between JFrames and I didn&#39;t really like the whole feel of that one. I don&#39;t fully know what I&#39;m doing just messing around with it and learning.  @camickr You could&#39;ve at least tried to be helpful bro, I don&#39;t have a ton of experience in OOP and the one language I&#39;m really good at doesn&#39;t use LayoutManagers or anything, you manually set the size and position, even if that means using negative integers. I meant JFrame, I&#39;m tired bro, sorry."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1653615026,"post_id":72399484,"comment_id":127899811,"body_markdown":"*where I could flip between different JPanels in the window* - and the [Card Layout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) is specifically designed for this purpose. Take advantage of the API and don&#39;t reinvent the wheel. I have been helpful. What you use in other languages does not always translate to another language. You are learning Java/Swing which has layout managers. Other languages don&#39;t. So you should be taking the time to learn to use Swing the way it was designed to be used. In the long run you will be further ahead.","body":"<i>where I could flip between different JPanels in the window</i> - and the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">Card Layout</a> is specifically designed for this purpose. Take advantage of the API and don&#39;t reinvent the wheel. I have been helpful. What you use in other languages does not always translate to another language. You are learning Java/Swing which has layout managers. Other languages don&#39;t. So you should be taking the time to learn to use Swing the way it was designed to be used. In the long run you will be further ahead."},{"owner":{"account_id":23651466,"reputation":1,"user_id":17680283,"display_name":"CodeFeuer"},"score":0,"creation_date":1653615092,"post_id":72399484,"comment_id":127899819,"body_markdown":"Okay I&#39;ll look into that Layout, thanks. I guess the issue is that these components just don&#39;t like one another with the way I&#39;m doing things?","body":"Okay I&#39;ll look into that Layout, thanks. I guess the issue is that these components just don&#39;t like one another with the way I&#39;m doing things?"},{"owner":{"account_id":23651466,"reputation":1,"user_id":17680283,"display_name":"CodeFeuer"},"score":1,"creation_date":1653615350,"post_id":72399484,"comment_id":127899854,"body_markdown":"@camickr I just took it the wrong way sorry; I&#39;ll look more into the Swing API and learn more about its many components and their functionalities. I appreciate you pointing me in the right direction.","body":"@camickr I just took it the wrong way sorry; I&#39;ll look more into the Swing API and learn more about its many components and their functionalities. I appreciate you pointing me in the right direction."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1653621032,"post_id":72399484,"comment_id":127900538,"body_markdown":"Provide ASCII art of the intended layouts of each (2 in all?) view.","body":"Provide ASCII art of the intended layouts of each (2 in all?) view."}],"owner":{"account_id":23651466,"reputation":1,"user_id":17680283,"display_name":"CodeFeuer"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653614813,"creation_date":1653613752,"question_id":72399484,"body_markdown":"whenever I uncomment my JTextField or JComboBox they make all my swing elements disappear, I&#39;ve tried resizing them and manipulating them in any way but I have no clue as to why the stuff is disappearing. They weren&#39;t on a previous program I wrote and they&#39;re wrote the exact same way. They elements even disappear if the two objects aren&#39;t even added to the panel.\r\n\r\n![][1]\r\n\r\n![][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/irLKZ.png\r\n  [2]: https://i.stack.imgur.com/0uBxU.png\r\n\r\nHere&#39;s the code I have for my program. I don&#39;t really want to separate the 2 panels into their own Classes.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Main {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Create window\r\n    \t\tJFrame window = new Window();\r\n    \t\tString[] optionsToChoose = {&quot;Car Parts&quot;, &quot;Fast Food&quot;, &quot;Groceries&quot;, &quot;Clothing&quot;, &quot;Gas&quot;, &quot;Store&quot;, &quot;Entertainment&quot;};\r\n    \t\t\r\n    \t\t// Create first screen\r\n    \t\tJPanel startPanel = new JPanel();\r\n    \t\tstartPanel.setLayout(null);\r\n    \t\tstartPanel.setBounds(230, 230, 500, 250);\r\n    \t\tstartPanel.setBackground(new Color(177, 177, 177));\r\n    \t\t\r\n    \t\tJLabel header = new JLabel(&quot;CHOOSE AN ACTION&quot;);\r\n    \t\theader.setForeground(Color.white);\r\n    \t\theader.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\r\n    \t\theader.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\theader.setBounds(0, -25, 500, 150);\r\n    \t\t\r\n    \t\tJButton add = new JButton(&quot;ADD&quot;);\r\n    \t\tadd.setBackground(new Color(0, 109, 91));\r\n    \t\tadd.setForeground(Color.white);\r\n    \t\tadd.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 15));\r\n    \t\tadd.setBounds(90, 125, 150, 50);\r\n    \t\t\r\n    \t\tJButton view = new JButton(&quot;VIEW REPORT&quot;);\r\n    \t\tview.setBackground(new Color(167, 199, 231));\r\n    \t\tview.setForeground(Color.white);\r\n    \t\tview.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 15));\r\n    \t\tview.setBounds(270, 125, 150, 50);\r\n    \t\t\r\n    \t\tstartPanel.add(view);\r\n    \t\tstartPanel.add(add);\r\n    \t\tstartPanel.add(header);\r\n    \r\n    \t\tstartPanel.setVisible(false);\r\n    \t\t\r\n    \t\t// Create second screen\r\n    \t\tJPanel addPanel = new JPanel();\r\n    \t\taddPanel.setBounds(230, 220, 500, 300);\r\n    \t\taddPanel.setLayout(null);\r\n    \t\taddPanel.setBackground(Color.black);\r\n    \t\t\r\n    \t\tJLabel header2 = new JLabel(&quot;INPUT DATA BELOW:&quot;);\r\n    \t\theader2.setBounds(0, -25, 500, 150);\r\n    \t\theader2.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\r\n    \t\theader2.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\theader2.setForeground(Color.white);\r\n    \t\t\r\n    \t\tJLabel costHeader = new JLabel(&quot;COST:&quot;);\r\n    \t\tcostHeader.setForeground(Color.white);\r\n    \t\tcostHeader.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\r\n    \t\tcostHeader.setBounds(90, 75, 150, 50);\r\n    \t\t\r\n    \t\tJLabel typeHeader = new JLabel(&quot;TYPE:&quot;);\r\n    \t\ttypeHeader.setBounds(300, 75, 150, 50);\r\n    \t\ttypeHeader.setForeground(Color.WHITE);\r\n    \t\ttypeHeader.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\r\n    \t\t\r\n    \t\tJTextField costInput = new JTextField(&quot;$0&quot;, 10);\r\n    \t\tcostInput.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 20));\r\n    \t\tcostInput.setBounds(90, 150, 150, 50);\r\n    \t\tcostInput.setForeground(Color.white);\r\n    \t\t\r\n    \t\tJComboBox&lt;String&gt; jComboBox = new JComboBox&lt;&gt;(optionsToChoose);\r\n            jComboBox.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 20));\r\n            jComboBox.setBounds(0, 0, 150, 50); \r\n            \r\n            addPanel.add(jComboBox);\r\n            addPanel.add(costInput);\r\n    \t\taddPanel.add(typeHeader);\r\n            addPanel.add(header2);\r\n            addPanel.add(costHeader);\r\n    \t\t\r\n    \t\taddPanel.setVisible(true);\r\n    \t\t\r\n    \t\t// Add components\r\n    \t\twindow.add(startPanel);\r\n    \t\twindow.add(addPanel);\r\n    \t}\r\n    }\r\n\r\nHere&#39;s the Window class as well:\r\n\r\n    import java.awt.Color;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    public class Window extends JFrame {\r\n    \r\n    \tpublic Window() {\r\n    \t\tthis.setTitle(&quot;Finance Tracker&quot;);\r\n    \t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tthis.setResizable(false);\r\n    \t\tthis.setLayout(null);\r\n    \t\t//this.setLocationRelativeTo(null);\r\n    \t\tthis.setSize(1000, 800);\r\n    \t\tthis.setVisible(true);\r\n    \t\t\r\n    \t\tthis.getContentPane().setBackground(new Color(177, 177, 177));\r\n    \t}\r\n    }\r\n\r\n\r\nIf anyone has any idea as to why this could be happening, any help is appreciated. Thanks!","title":"JTextField and JComboBox make my JPanel disappear from the screen","body":"<p>whenever I uncomment my JTextField or JComboBox they make all my swing elements disappear, I've tried resizing them and manipulating them in any way but I have no clue as to why the stuff is disappearing. They weren't on a previous program I wrote and they're wrote the exact same way. They elements even disappear if the two objects aren't even added to the panel.</p>\n<p><img src=\"https://i.stack.imgur.com/irLKZ.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/0uBxU.png\" alt=\"\" /></p>\n<p>Here's the code I have for my program. I don't really want to separate the 2 panels into their own Classes.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        // Create window\n        JFrame window = new Window();\n        String[] optionsToChoose = {&quot;Car Parts&quot;, &quot;Fast Food&quot;, &quot;Groceries&quot;, &quot;Clothing&quot;, &quot;Gas&quot;, &quot;Store&quot;, &quot;Entertainment&quot;};\n        \n        // Create first screen\n        JPanel startPanel = new JPanel();\n        startPanel.setLayout(null);\n        startPanel.setBounds(230, 230, 500, 250);\n        startPanel.setBackground(new Color(177, 177, 177));\n        \n        JLabel header = new JLabel(&quot;CHOOSE AN ACTION&quot;);\n        header.setForeground(Color.white);\n        header.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\n        header.setHorizontalAlignment(JLabel.CENTER);\n        header.setBounds(0, -25, 500, 150);\n        \n        JButton add = new JButton(&quot;ADD&quot;);\n        add.setBackground(new Color(0, 109, 91));\n        add.setForeground(Color.white);\n        add.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 15));\n        add.setBounds(90, 125, 150, 50);\n        \n        JButton view = new JButton(&quot;VIEW REPORT&quot;);\n        view.setBackground(new Color(167, 199, 231));\n        view.setForeground(Color.white);\n        view.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 15));\n        view.setBounds(270, 125, 150, 50);\n        \n        startPanel.add(view);\n        startPanel.add(add);\n        startPanel.add(header);\n\n        startPanel.setVisible(false);\n        \n        // Create second screen\n        JPanel addPanel = new JPanel();\n        addPanel.setBounds(230, 220, 500, 300);\n        addPanel.setLayout(null);\n        addPanel.setBackground(Color.black);\n        \n        JLabel header2 = new JLabel(&quot;INPUT DATA BELOW:&quot;);\n        header2.setBounds(0, -25, 500, 150);\n        header2.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\n        header2.setHorizontalAlignment(JLabel.CENTER);\n        header2.setForeground(Color.white);\n        \n        JLabel costHeader = new JLabel(&quot;COST:&quot;);\n        costHeader.setForeground(Color.white);\n        costHeader.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\n        costHeader.setBounds(90, 75, 150, 50);\n        \n        JLabel typeHeader = new JLabel(&quot;TYPE:&quot;);\n        typeHeader.setBounds(300, 75, 150, 50);\n        typeHeader.setForeground(Color.WHITE);\n        typeHeader.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 20));\n        \n        JTextField costInput = new JTextField(&quot;$0&quot;, 10);\n        costInput.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 20));\n        costInput.setBounds(90, 150, 150, 50);\n        costInput.setForeground(Color.white);\n        \n        JComboBox&lt;String&gt; jComboBox = new JComboBox&lt;&gt;(optionsToChoose);\n        jComboBox.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 20));\n        jComboBox.setBounds(0, 0, 150, 50); \n        \n        addPanel.add(jComboBox);\n        addPanel.add(costInput);\n        addPanel.add(typeHeader);\n        addPanel.add(header2);\n        addPanel.add(costHeader);\n        \n        addPanel.setVisible(true);\n        \n        // Add components\n        window.add(startPanel);\n        window.add(addPanel);\n    }\n}\n</code></pre>\n<p>Here's the Window class as well:</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JFrame;\n\npublic class Window extends JFrame {\n\n    public Window() {\n        this.setTitle(&quot;Finance Tracker&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.setLayout(null);\n        //this.setLocationRelativeTo(null);\n        this.setSize(1000, 800);\n        this.setVisible(true);\n        \n        this.getContentPane().setBackground(new Color(177, 177, 177));\n    }\n}\n</code></pre>\n<p>If anyone has any idea as to why this could be happening, any help is appreciated. Thanks!</p>\n"},{"tags":["java","amazon-dynamodb-streams","amazon-kcl"],"answers":[{"tags":[],"owner":{"account_id":10341218,"reputation":441,"user_id":7627522,"display_name":"Navid H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653614659,"creation_date":1653614659,"answer_id":72399550,"question_id":55631768,"body_markdown":"Amazon has 2 active versions for KCL. Version 1 and 2. As per the [Streaming Options for Change Data Capture][1] table, it seems that the DynamoDB streams are only compatible with KCL version 1 at the moment.\r\nHowever, if there is a need to use KCL version 2 then one can use the Kinesis Stream option and capture the dynamoDB changes via a Kinesis Stream. Generally speaking, the Kinesis Stream seems to be more powerful and flexible. But one advantage that DynamoDB Stream has over the Kinesis Stream is that the events are received in the same order as happened and also there is no duplicate events but with Kinesis Stream the events order is not guaranteed and there could be duplicate events.\r\n\r\n\r\n  [1]: https://Streaming%20Options%20for%20Change%20Data%20Capture","title":"Use Kinesis Client Library v2.x with DynamoDB Stream Kinesis Adapter","body":"<p>Amazon has 2 active versions for KCL. Version 1 and 2. As per the <a href=\"https://Streaming%20Options%20for%20Change%20Data%20Capture\" rel=\"nofollow noreferrer\">Streaming Options for Change Data Capture</a> table, it seems that the DynamoDB streams are only compatible with KCL version 1 at the moment.\nHowever, if there is a need to use KCL version 2 then one can use the Kinesis Stream option and capture the dynamoDB changes via a Kinesis Stream. Generally speaking, the Kinesis Stream seems to be more powerful and flexible. But one advantage that DynamoDB Stream has over the Kinesis Stream is that the events are received in the same order as happened and also there is no duplicate events but with Kinesis Stream the events order is not guaranteed and there could be duplicate events.</p>\n"}],"owner":{"account_id":3866433,"reputation":770,"user_id":3202887,"accept_rate":40,"display_name":"dipanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1653614659,"creation_date":1554983276,"question_id":55631768,"body_markdown":"I&#39;m building a Java application to consume events from a DynamoDB Stream using the KCL library.\r\n\r\nThe [example on AWS docs][1] uses this library:\r\n\r\n    com.amazonaws:dynamodb-streams-kinesis-adapter:1.4.0\r\n\r\nWhich depends on:\r\n\r\n    com.amazonaws:amazon-kinesis-client:1.9.0\r\n\r\nHowever, [on the KCL repo][2], there already is v2.2.0 of the KCL, with a different group id:\r\n\r\n    software.amazon.kinesis:amazon-kinesis-client:2.2.0\r\n\r\n\r\nIs there a way to use the newer KCL with DynamoDB Stream adapter?\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Streams.KCLAdapter.Walkthrough.CompleteProgram.html\r\n  [2]: https://github.com/awslabs/amazon-kinesis-client","title":"Use Kinesis Client Library v2.x with DynamoDB Stream Kinesis Adapter","body":"<p>I'm building a Java application to consume events from a DynamoDB Stream using the KCL library.</p>\n\n<p>The <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Streams.KCLAdapter.Walkthrough.CompleteProgram.html\" rel=\"noreferrer\">example on AWS docs</a> uses this library:</p>\n\n<pre><code>com.amazonaws:dynamodb-streams-kinesis-adapter:1.4.0\n</code></pre>\n\n<p>Which depends on:</p>\n\n<pre><code>com.amazonaws:amazon-kinesis-client:1.9.0\n</code></pre>\n\n<p>However, <a href=\"https://github.com/awslabs/amazon-kinesis-client\" rel=\"noreferrer\">on the KCL repo</a>, there already is v2.2.0 of the KCL, with a different group id:</p>\n\n<pre><code>software.amazon.kinesis:amazon-kinesis-client:2.2.0\n</code></pre>\n\n<p>Is there a way to use the newer KCL with DynamoDB Stream adapter?</p>\n"},{"tags":["java","spring","oracle","hibernate","jdbc"],"answers":[{"tags":[],"owner":{"account_id":1563805,"reputation":417,"user_id":1453045,"display_name":"micklesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459936950,"creation_date":1459936198,"answer_id":36447497,"question_id":36446013,"body_markdown":"Well, let&#39;s leave for later time the things with Oracle Listener/DB configurations and try the simple things:  \r\nCould you please check if the jdbc url is correct one? Please pay attenion on the SID and service name differences in this case:   \r\nFor SID\r\n  \r\n    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:production&quot;/&gt;\r\n\r\nFor Service Name  \r\n\r\n    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:oracle:thin:@localhost:1521/production&quot;/&gt;  \r\n  \r\n\r\nSome useful links:   \r\nhttps://stackoverflow.com/questions/6795580/why-do-i-get-this-oracle-connections-error-ora-12519-tnsno-appropriate-servic \r\nhttps://stackoverflow.com/questions/4832056/java-jdbc-how-to-connect-to-oracle-using-service-name-instead-of-sid\r\n  ","title":"Listener refused the connection with the following error: ORA-12519, TNS:no appropriate service handler found","body":"<p>Well, let's leave for later time the things with Oracle Listener/DB configurations and try the simple things:<br>\nCould you please check if the jdbc url is correct one? Please pay attenion on the SID and service name differences in this case:<br>\nFor SID</p>\n\n<pre><code>&lt;property name=\"jdbcUrl\" value=\"jdbc:oracle:thin:@localhost:1521:production\"/&gt;\n</code></pre>\n\n<p>For Service Name  </p>\n\n<pre><code>&lt;property name=\"jdbcUrl\" value=\"jdbc:oracle:thin:@localhost:1521/production\"/&gt;  \n</code></pre>\n\n<p>Some useful links:<br>\n<a href=\"https://stackoverflow.com/questions/6795580/why-do-i-get-this-oracle-connections-error-ora-12519-tnsno-appropriate-servic\">Why do I get this Oracle connections error? ORA-12519, TNS:no appropriate service handler found</a> \n<a href=\"https://stackoverflow.com/questions/4832056/java-jdbc-how-to-connect-to-oracle-using-service-name-instead-of-sid\">Java JDBC - How to connect to Oracle using Service Name instead of SID</a></p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460404372,"creation_date":1460404372,"answer_id":36558011,"question_id":36446013,"body_markdown":"You can try using &quot;Universal Connection Pool&quot; which is a Java connection Pool for your test.  Refer to the blog &quot;[UCP with Hibernate][1]&quot; for more details. \r\n\r\n\r\n  [1]: https://blogs.oracle.com/dev2dev/entry/how_to_use_oracle_universal","title":"Listener refused the connection with the following error: ORA-12519, TNS:no appropriate service handler found","body":"<p>You can try using \"Universal Connection Pool\" which is a Java connection Pool for your test.  Refer to the blog \"<a href=\"https://blogs.oracle.com/dev2dev/entry/how_to_use_oracle_universal\" rel=\"nofollow\">UCP with Hibernate</a>\" for more details. </p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653614602,"creation_date":1570093464,"answer_id":58215740,"question_id":36446013,"body_markdown":"&lt;b&gt;My use case:&lt;/b&gt;&lt;br&gt;\r\nI was running parallel connections to the DB(Oracle 12c) - 1 instance - to test if i get different sequence values from a sequence. As the parallel connections increase, there was a point where i got `&quot;ORA-12519, TNS:no appropriate service handler found&quot;`\r\n\r\n&lt;b&gt;What worked:&lt;/b&gt;&lt;br&gt;\r\n\r\n1.The processes limit_value was being hit. I increased it.\r\n````\r\n ALTER system SET processes=XXX SCOPE=SPFILE;\r\n````\r\n*&lt;b&gt;Increase XXX incrementally(like +200 or so), because if you increase it to a too high value in 1 go, you might not be able to start your Oracle instance, as it cannot support it(READ: memory limitation, operating system limitation, ...)&lt;/b&gt;*&lt;br&gt;\r\n\r\n 2. commit;&lt;br&gt;\r\n 3. Restart DB.&lt;br&gt;*&lt;b&gt;(IMPORTANT: Do not forget to restart the DB, to make the change effective in the `spfile`. For both static and dynamic parameters, changes are recorded in the `spfile`, and will only take effect in the next restart.)&lt;/b&gt;*\r\n&lt;br&gt;\r\n 4. Verify my change(limit_value):\r\n````\r\nselect resource_name, current_utilization, max_utilization, limit_value\r\nfrom v$resource_limit\r\nwhere resource_name = &#39;processes&#39;;\r\n\r\nshow parameters processes; // will also work\r\n````\r\n\r\n&lt;b&gt;NOTE:&lt;/b&gt; You might notice that the `sessions` parameters will also change. This is because `sessions` and `processes` work hand-in-hand, and Oracle will re-compute the `sessions` limit_value based on the chosen `processes` limit_value.","title":"Listener refused the connection with the following error: ORA-12519, TNS:no appropriate service handler found","body":"<p><b>My use case:</b><br>\nI was running parallel connections to the DB(Oracle 12c) - 1 instance - to test if i get different sequence values from a sequence. As the parallel connections increase, there was a point where i got <code>&quot;ORA-12519, TNS:no appropriate service handler found&quot;</code></p>\n<p><b>What worked:</b><br></p>\n<p>1.The processes limit_value was being hit. I increased it.</p>\n<pre><code> ALTER system SET processes=XXX SCOPE=SPFILE;\n</code></pre>\n<p><em><b>Increase XXX incrementally(like +200 or so), because if you increase it to a too high value in 1 go, you might not be able to start your Oracle instance, as it cannot support it(READ: memory limitation, operating system limitation, ...)</b></em><br></p>\n<ol start=\"2\">\n<li>commit;<br></li>\n<li>Restart DB.<br><em><b>(IMPORTANT: Do not forget to restart the DB, to make the change effective in the <code>spfile</code>. For both static and dynamic parameters, changes are recorded in the <code>spfile</code>, and will only take effect in the next restart.)</b></em>\n<br></li>\n<li>Verify my change(limit_value):</li>\n</ol>\n<pre><code>select resource_name, current_utilization, max_utilization, limit_value\nfrom v$resource_limit\nwhere resource_name = 'processes';\n\nshow parameters processes; // will also work\n</code></pre>\n<p><b>NOTE:</b> You might notice that the <code>sessions</code> parameters will also change. This is because <code>sessions</code> and <code>processes</code> work hand-in-hand, and Oracle will re-compute the <code>sessions</code> limit_value based on the chosen <code>processes</code> limit_value.</p>\n"}],"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11573,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58215740,"answer_count":3,"score":2,"last_activity_date":1653614602,"creation_date":1459932574,"question_id":36446013,"body_markdown":"I work with `Spring` and `Hibernate` and I used `Oracle 11g` as database\r\nand I used `JBoss 5`.\r\n\r\nI have a problem to re-establish the connection automatically\r\n\r\nI used `c3p0-0.9.1.1.jar`\r\n\r\nThis my config in my application :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE beans PUBLIC &quot;-//SPRING//DTD BEAN//EN&quot;\r\n    &quot;http://www.springframework.org/dtd/spring-beans.dtd&quot;&gt;\r\n    \r\n    &lt;beans&gt;\r\n    \t\t &lt;bean id=&quot;dataSource&quot; class = &quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n           &lt;property name=&quot;driverClass&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;\r\n    \r\n        \t&lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:oracle:thin:@localhost:1521:production&quot;/&gt; \r\n    \r\n    \t\t    \r\n    \t\t\r\n            &lt;property name=&quot;user&quot; value=&quot;admin&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;admin&quot;/&gt;\r\n                 &lt;!-- pool sizing --&gt;\r\n    \t\t&lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot; /&gt;\r\n    \t\t&lt;property name=&quot;minPoolSize&quot; value=&quot;1&quot; /&gt;\r\n    \t\t&lt;property name=&quot;maxPoolSize&quot; value=&quot;200&quot; /&gt;\r\n    \t\t&lt;property name=&quot;acquireIncrement&quot; value=&quot;3&quot; /&gt;\r\n    \t\t&lt;property name=&quot;maxStatements&quot; value=&quot;0&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;!-- retries --&gt;\r\n    \t\t&lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;30&quot; /&gt;\r\n    \t\t&lt;property name=&quot;acquireRetryDelay&quot; value=&quot;1000&quot; /&gt; &lt;!-- 1s --&gt;\r\n    \t\t&lt;property name=&quot;breakAfterAcquireFailure&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;!-- refreshing connections --&gt;\r\n    \t\t&lt;property name=&quot;maxIdleTime&quot; value=&quot;180&quot; /&gt; &lt;!-- 3min --&gt;\r\n    \t\t&lt;property name=&quot;maxConnectionAge&quot; value=&quot;10&quot; /&gt; &lt;!-- 1h --&gt;\r\n    \t\t\r\n    \t\t&lt;!-- timeouts and testing --&gt;\r\n    \t\t&lt;property name=&quot;checkoutTimeout&quot; value=&quot;30000&quot; /&gt; &lt;!-- 30s --&gt;\r\n    \t\t&lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;60&quot; /&gt; &lt;!-- 60 --&gt;\r\n     \t\t&lt;property name=&quot;testConnectionOnCheckout&quot; value=&quot;true&quot; /&gt; \r\n    \t\t&lt;property name=&quot;preferredTestQuery&quot; value=&quot;SELECT 1 FROM DUAL&quot; /&gt;\r\n    \t\t&lt;property name=&quot;testConnectionOnCheckin&quot; value=&quot;true&quot; /&gt; \r\n    \t\t\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nBut I have this error :\r\n\r\n\r\n    com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@1a88493f -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    ORA-12519, TNS:no appropriate service handler found\r\n    \r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\r\n    \tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n    \tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    2016-04-06 10:00:09,300 INFO  [STDOUT] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0) 10:00:09,300 WARN  [BasicResourcePool:1841] com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@696dbdb5 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    ORA-12519, TNS:no appropriate service handler found\r\n    \r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\r\n    \tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n    \tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    2016-04-06 10:00:11,925 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@8003d4a -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    ORA-12519, TNS:no appropriate service handler found\r\n    \r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\r\n    \tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n    \tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    2016-04-06 10:00:11,956 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@75354d7 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    ORA-12519, TNS:no appropriate service handler found\r\n    \r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\r\n    \tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n    \tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    2016-04-06 10:00:11,956 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@7ddd60e7 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    ORA-12519, TNS:no appropriate service handler found\r\n    \r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\r\n    \tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n    \tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    2016-04-06 10:00:11,956 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@2704e3a7 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    ORA-12519, TNS:no appropriate service handler found\r\n    \r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\r\n    \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\r\n    \tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\r\n    \tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\r\n    \tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\r\n    2016-04-06 10:00:11,972 WARN  [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-11) SQL Error: 0, SQLState: null\r\n    2016-04-06 10:00:11,972 ERROR [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-11) An attempt by a client to checkout a Connection has timed out.\r\n    2016-04-06 10:00:11,972 WARN  [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-58) SQL Error: 0, SQLState: null\r\n    2016-04-06 10:00:11,972 WARN  [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-53) SQL Error: 0, SQLState: null\r\n    2016-04-06 10:00:11,972 ERROR [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-53) Connections could not be acquired from the underlying database!\r\n\r\n\r\nmy application works correctly using the previous database configuration but my problem is that the error appeared when I have many connection to my application ( more than 200 users ) that why I used connection pool .\r\n\r\nand when I have this error in the server  oracle service  works correctly since I can directly execute the query in the database.\r\njuste the problem is  between the connection of my application which are deployed in jboss and oracle\r\n\r\n\r\nin **_BaseRootDAO.java** I have this method :\r\n\r\n\r\n    /**\r\n     * Return a new Session object that must be closed when the work has been completed.\r\n     * @return the active Session\r\n     */\r\n    public Session getSession() {\r\n    \treturn getSession(\r\n    \t\tgetConfigurationFileName());\r\n    }\r\n    \r\n    /**\r\n     * Return a new Session object that must be closed when the work has been completed.\r\n     * @param configFile the config file must match the meta attribute &quot;config-file&quot; in the hibernate mapping file\r\n     * @return the active Session\r\n     */\r\n    protected Session getSession(String configFile) {\r\n    \tif (null != session &amp;&amp; session.isOpen()) return session;\r\n    \telse if (null != sessionFactory) {\r\n    \t\tSession s = currentSession.get();\r\n    \t\tif (null == s || !s.isOpen()) {\r\n    \t\t\ts = sessionFactory.openSession();\r\n    \t\t\tcurrentSession.set(s);\r\n    \t\t}\r\n    \t\treturn s;\r\n    \t}\r\n    \telse {\r\n    \t\tSession s = currentSession.get();\r\n    \t\tif (null == s || !s.isOpen()) {\r\n    \t\t\ts = getSessionFactory(configFile).openSession();\r\n    \t\t\tcurrentSession.set(s);\r\n    \t\t}\r\n    \t\treturn s;\r\n    \t}\r\n    }\r\n\r\n\r\n**update :**\r\n\r\nthis is the current settings in the Oracle database\r\n\r\n\r\n    RESOURCE_NAME, CURRENT_UTILIZATION, MAX_UTILIZATION\r\n    \r\n    sessions\t93\t156\r\n    enqueue_locks\t81\t149\r\n    enqueue_resources\t18\t52\r\n\r\nI try to use the last version of  c3p0\r\n\r\n **c3p0-0.9.5.2.jar** insted of  **c3p0-0.9.1.1.jar**","title":"Listener refused the connection with the following error: ORA-12519, TNS:no appropriate service handler found","body":"<p>I work with <code>Spring</code> and <code>Hibernate</code> and I used <code>Oracle 11g</code> as database\nand I used <code>JBoss 5</code>.</p>\n\n<p>I have a problem to re-establish the connection automatically</p>\n\n<p>I used <code>c3p0-0.9.1.1.jar</code></p>\n\n<p>This my config in my application :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE beans PUBLIC \"-//SPRING//DTD BEAN//EN\"\n\"http://www.springframework.org/dtd/spring-beans.dtd\"&gt;\n\n&lt;beans&gt;\n         &lt;bean id=\"dataSource\" class = \"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n       &lt;property name=\"driverClass\" value=\"oracle.jdbc.driver.OracleDriver\"/&gt;\n\n        &lt;property name=\"jdbcUrl\" value=\"jdbc:oracle:thin:@localhost:1521:production\"/&gt; \n\n\n\n        &lt;property name=\"user\" value=\"admin\"/&gt;\n        &lt;property name=\"password\" value=\"admin\"/&gt;\n             &lt;!-- pool sizing --&gt;\n        &lt;property name=\"initialPoolSize\" value=\"1\" /&gt;\n        &lt;property name=\"minPoolSize\" value=\"1\" /&gt;\n        &lt;property name=\"maxPoolSize\" value=\"200\" /&gt;\n        &lt;property name=\"acquireIncrement\" value=\"3\" /&gt;\n        &lt;property name=\"maxStatements\" value=\"0\" /&gt;\n\n        &lt;!-- retries --&gt;\n        &lt;property name=\"acquireRetryAttempts\" value=\"30\" /&gt;\n        &lt;property name=\"acquireRetryDelay\" value=\"1000\" /&gt; &lt;!-- 1s --&gt;\n        &lt;property name=\"breakAfterAcquireFailure\" value=\"false\" /&gt;\n\n        &lt;!-- refreshing connections --&gt;\n        &lt;property name=\"maxIdleTime\" value=\"180\" /&gt; &lt;!-- 3min --&gt;\n        &lt;property name=\"maxConnectionAge\" value=\"10\" /&gt; &lt;!-- 1h --&gt;\n\n        &lt;!-- timeouts and testing --&gt;\n        &lt;property name=\"checkoutTimeout\" value=\"30000\" /&gt; &lt;!-- 30s --&gt;\n        &lt;property name=\"idleConnectionTestPeriod\" value=\"60\" /&gt; &lt;!-- 60 --&gt;\n        &lt;property name=\"testConnectionOnCheckout\" value=\"true\" /&gt; \n        &lt;property name=\"preferredTestQuery\" value=\"SELECT 1 FROM DUAL\" /&gt;\n        &lt;property name=\"testConnectionOnCheckin\" value=\"true\" /&gt; \n\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>But I have this error :</p>\n\n<pre><code>com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@1a88493f -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \njava.sql.SQLException: Listener refused the connection with the following error:\nORA-12519, TNS:no appropriate service handler found\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n2016-04-06 10:00:09,300 INFO  [STDOUT] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0) 10:00:09,300 WARN  [BasicResourcePool:1841] com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@696dbdb5 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \njava.sql.SQLException: Listener refused the connection with the following error:\nORA-12519, TNS:no appropriate service handler found\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n2016-04-06 10:00:11,925 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@8003d4a -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \njava.sql.SQLException: Listener refused the connection with the following error:\nORA-12519, TNS:no appropriate service handler found\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n2016-04-06 10:00:11,956 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@75354d7 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \njava.sql.SQLException: Listener refused the connection with the following error:\nORA-12519, TNS:no appropriate service handler found\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n2016-04-06 10:00:11,956 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@7ddd60e7 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \njava.sql.SQLException: Listener refused the connection with the following error:\nORA-12519, TNS:no appropriate service handler found\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n2016-04-06 10:00:11,956 WARN  [com.mchange.v2.resourcepool.BasicResourcePool] (com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1) com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask@2704e3a7 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: \njava.sql.SQLException: Listener refused the connection with the following error:\nORA-12519, TNS:no appropriate service handler found\n\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:113)\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:263)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:389)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:454)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:802)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:135)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:182)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)\n    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)\n2016-04-06 10:00:11,972 WARN  [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-11) SQL Error: 0, SQLState: null\n2016-04-06 10:00:11,972 ERROR [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-11) An attempt by a client to checkout a Connection has timed out.\n2016-04-06 10:00:11,972 WARN  [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-58) SQL Error: 0, SQLState: null\n2016-04-06 10:00:11,972 WARN  [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-53) SQL Error: 0, SQLState: null\n2016-04-06 10:00:11,972 ERROR [org.hibernate.util.JDBCExceptionReporter] (http-172.30.50.21-80-53) Connections could not be acquired from the underlying database!\n</code></pre>\n\n<p>my application works correctly using the previous database configuration but my problem is that the error appeared when I have many connection to my application ( more than 200 users ) that why I used connection pool .</p>\n\n<p>and when I have this error in the server  oracle service  works correctly since I can directly execute the query in the database.\njuste the problem is  between the connection of my application which are deployed in jboss and oracle</p>\n\n<p>in <strong>_BaseRootDAO.java</strong> I have this method :</p>\n\n<pre><code>/**\n * Return a new Session object that must be closed when the work has been completed.\n * @return the active Session\n */\npublic Session getSession() {\n    return getSession(\n        getConfigurationFileName());\n}\n\n/**\n * Return a new Session object that must be closed when the work has been completed.\n * @param configFile the config file must match the meta attribute \"config-file\" in the hibernate mapping file\n * @return the active Session\n */\nprotected Session getSession(String configFile) {\n    if (null != session &amp;&amp; session.isOpen()) return session;\n    else if (null != sessionFactory) {\n        Session s = currentSession.get();\n        if (null == s || !s.isOpen()) {\n            s = sessionFactory.openSession();\n            currentSession.set(s);\n        }\n        return s;\n    }\n    else {\n        Session s = currentSession.get();\n        if (null == s || !s.isOpen()) {\n            s = getSessionFactory(configFile).openSession();\n            currentSession.set(s);\n        }\n        return s;\n    }\n}\n</code></pre>\n\n<p><strong>update :</strong></p>\n\n<p>this is the current settings in the Oracle database</p>\n\n<pre><code>RESOURCE_NAME, CURRENT_UTILIZATION, MAX_UTILIZATION\n\nsessions    93  156\nenqueue_locks   81  149\nenqueue_resources   18  52\n</code></pre>\n\n<p>I try to use the last version of  c3p0</p>\n\n<p><strong>c3p0-0.9.5.2.jar</strong> insted of  <strong>c3p0-0.9.1.1.jar</strong></p>\n"},{"tags":["java","android","sql","android-studio","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636281874,"creation_date":1636281874,"answer_id":69871713,"question_id":69871067,"body_markdown":"Using @PrimaryKey implies a UNIQUE constraint so there is no need for a unique index on the id column (the index is just a waste).\r\n\r\nHard coding the inserts with id values when inserting (without an onConflict constraint that IGNOREs the conflict) will, after running once from a fresh install (a rerun), result in the the UNIQUE conflict as id&#39;s 1,2,3 and 4 already exist.\r\n\r\nCoding the @Dao as `@Insert(onConflict = OnConflictStrategy.IGNORE)` will ignore the conflict without failing and not insert the duplicates.","title":"Getting UNIQUE constraint failed: tbl_data.id (Sqlite code 1555 SQLITE_CONSTRAINT_PRIMARYKEY) error in android studio room","body":"<p>Using @PrimaryKey implies a UNIQUE constraint so there is no need for a unique index on the id column (the index is just a waste).</p>\n<p>Hard coding the inserts with id values when inserting (without an onConflict constraint that IGNOREs the conflict) will, after running once from a fresh install (a rerun), result in the the UNIQUE conflict as id's 1,2,3 and 4 already exist.</p>\n<p>Coding the @Dao as <code>@Insert(onConflict = OnConflictStrategy.IGNORE)</code> will ignore the conflict without failing and not insert the duplicates.</p>\n"}],"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6438,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69871713,"answer_count":1,"score":3,"last_activity_date":1653614178,"creation_date":1636276050,"question_id":69871067,"body_markdown":"I&#39;m getting this error while i have initialize the id as primary key and i added the unique attribute. \r\n\r\nData class code :\r\n\r\n\r\n\r\n        @Entity(tableName = &quot;tbl_data&quot; , indices = {@Index(value = {&quot;id&quot;},\r\n        unique = true)})\r\n        public class Data {\r\n        @PrimaryKey\r\n        private Integer id ;\r\n        private Integer year;\r\n        private Double dowry;\r\n\r\n    public Data(Integer id,Integer year, Double dowry) {\r\n        this.id = id;\r\n        this.year = year;\r\n        this.dowry = dowry;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n    public Double getDowry() {\r\n        return dowry;\r\n    }\r\n    public void setDowry(Double dowry) {\r\n        this.dowry = dowry;\r\n    }\r\n  \r\n\r\nData Base Class code :\r\n\r\n    @Database(version = 1 , exportSchema = false , entities = {Data.class} )\r\n    public abstract class AppDatabase extends RoomDatabase {\r\n    private static AppDatabase appDatabase;\r\n\r\n    public static AppDatabase getAppDatabase(Context context) {\r\n        if (appDatabase == null)\r\n            appDatabase = Room.databaseBuilder(context.getApplicationContext(),\r\n    AppDatabase.class,\r\n                    &quot;db_app&quot;)\r\n                    .allowMainThreadQueries().fallbackToDestructiveMigration()\r\n                    .build();\r\n            return appDatabase;\r\n        }\r\n\r\n        public abstract DataDao getDataDao();\r\n    }\r\n\r\nand main activity code : \r\n\r\n        db = AppDatabase.getAppDatabase(this);\r\n        dataDao = db.getDataDao();\r\n\r\n        dataDao.insertC(new Data(1,1315, 0.004 ), new Data(2,1316, 0.005), new Data(3,1317,  0.006), new Data(4,1318, 0.007));\r\n\r\n\r\nand full error in logat :\r\n\r\n&gt; 2021-11-07 12:20:45.070 24994-24994/com.mohajer.kitset2 E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.mohajer.kitset2, PID: 24994\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mohajer.kitset2/com.mohajer.kitset2.MainActivity}: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: tbl_data.id (Sqlite code 1555 SQLITE_CONSTRAINT_PRIMARYKEY), (OS error - 2:No such file or directory)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3430)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\r\n        at android.os.Handler.dispatchMessage(Handler.java:112)\r\n        at android.os.Looper.loop(Looper.java:216)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n     Caused by: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: tbl_data.id (Sqlite code 1555 SQLITE_CONSTRAINT_PRIMARYKEY), (OS error - 2:No such file or directory)\r\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:841)\r\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:803)\r\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n        at androidx.sqlite.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:51)\r\n        at androidx.room.EntityInsertionAdapter.insertAndReturnIdsArrayBox(EntityInsertionAdapter.java:199)\r\n        at com.mohajer.kitset2.DataDao_Impl.insertC(DataDao_Impl.java:50)\r\n        at com.mohajer.kitset2.MainActivity.onCreate(MainActivity.java:36)\r\n        at android.app.Activity.performCreate(Activity.java:7458)\r\n        at android.app.Activity.performCreate(Activity.java:7448)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:112)&#160;\r\n        at android.os.Looper.loop(Looper.java:216)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7625)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)&#160;\r\n\r\n\r\n\r\n\r\n   ","title":"Getting UNIQUE constraint failed: tbl_data.id (Sqlite code 1555 SQLITE_CONSTRAINT_PRIMARYKEY) error in android studio room","body":"<p>I'm getting this error while i have initialize the id as primary key and i added the unique attribute.</p>\n<p>Data class code :</p>\n<pre><code>    @Entity(tableName = &quot;tbl_data&quot; , indices = {@Index(value = {&quot;id&quot;},\n    unique = true)})\n    public class Data {\n    @PrimaryKey\n    private Integer id ;\n    private Integer year;\n    private Double dowry;\n\npublic Data(Integer id,Integer year, Double dowry) {\n    this.id = id;\n    this.year = year;\n    this.dowry = dowry;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic int getYear() {\n    return year;\n}\npublic void setYear(int year) {\n    this.year = year;\n}\npublic Double getDowry() {\n    return dowry;\n}\npublic void setDowry(Double dowry) {\n    this.dowry = dowry;\n}\n</code></pre>\n<p>Data Base Class code :</p>\n<pre><code>@Database(version = 1 , exportSchema = false , entities = {Data.class} )\npublic abstract class AppDatabase extends RoomDatabase {\nprivate static AppDatabase appDatabase;\n\npublic static AppDatabase getAppDatabase(Context context) {\n    if (appDatabase == null)\n        appDatabase = Room.databaseBuilder(context.getApplicationContext(),\nAppDatabase.class,\n                &quot;db_app&quot;)\n                .allowMainThreadQueries().fallbackToDestructiveMigration()\n                .build();\n        return appDatabase;\n    }\n\n    public abstract DataDao getDataDao();\n}\n</code></pre>\n<p>and main activity code :</p>\n<pre><code>    db = AppDatabase.getAppDatabase(this);\n    dataDao = db.getDataDao();\n\n    dataDao.insertC(new Data(1,1315, 0.004 ), new Data(2,1316, 0.005), new Data(3,1317,  0.006), new Data(4,1318, 0.007));\n</code></pre>\n<p>and full error in logat :</p>\n<blockquote>\n<p>2021-11-07 12:20:45.070 24994-24994/com.mohajer.kitset2 E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.mohajer.kitset2, PID: 24994\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.mohajer.kitset2/com.mohajer.kitset2.MainActivity}: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: tbl_data.id (Sqlite code 1555 SQLITE_CONSTRAINT_PRIMARYKEY), (OS error - 2:No such file or directory)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3430)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199)\nat android.os.Handler.dispatchMessage(Handler.java:112)\nat android.os.Looper.loop(Looper.java:216)\nat android.app.ActivityThread.main(ActivityThread.java:7625)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\nCaused by: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: tbl_data.id (Sqlite code 1555 SQLITE_CONSTRAINT_PRIMARYKEY), (OS error - 2:No such file or directory)\nat android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\nat android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:841)\nat android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:803)\nat android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\nat androidx.sqlite.db.framework.FrameworkSQLiteStatement.executeInsert(FrameworkSQLiteStatement.java:51)\nat androidx.room.EntityInsertionAdapter.insertAndReturnIdsArrayBox(EntityInsertionAdapter.java:199)\nat com.mohajer.kitset2.DataDao_Impl.insertC(DataDao_Impl.java:50)\nat com.mohajer.kitset2.MainActivity.onCreate(MainActivity.java:36)\nat android.app.Activity.performCreate(Activity.java:7458)\nat android.app.Activity.performCreate(Activity.java:7448)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3409)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3614) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2199) \nat android.os.Handler.dispatchMessage(Handler.java:112) \nat android.os.Looper.loop(Looper.java:216) \nat android.app.ActivityThread.main(ActivityThread.java:7625) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987) </p>\n</blockquote>\n"},{"tags":["java","coordinates","spawn"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653605754,"post_id":72398682,"comment_id":127898397,"body_markdown":"Assuming you&#39;re calling this in a loop, it seems to me like a perfectly good solution.  Why do you say it&#39;s not good?","body":"Assuming you&#39;re calling this in a loop, it seems to me like a perfectly good solution.  Why do you say it&#39;s not good?"},{"owner":{"account_id":25399886,"reputation":21,"user_id":19209561,"display_name":"Seewwyy"},"score":0,"creation_date":1653607104,"post_id":72398682,"comment_id":127898634,"body_markdown":"If we are in the senario of almost covering up the whole screen with the snake and we just have about 10 or less positions for the apple to spawn. If this is the case then it could go on and on and keep spawning in the snake and always trying to look for a new place. This could be easily avoided if you just randomize the spawn area of the apple using valid coordinates","body":"If we are in the senario of almost covering up the whole screen with the snake and we just have about 10 or less positions for the apple to spawn. If this is the case then it could go on and on and keep spawning in the snake and always trying to look for a new place. This could be easily avoided if you just randomize the spawn area of the apple using valid coordinates"}],"answers":[{"tags":[],"owner":{"account_id":5541926,"reputation":364,"user_id":4398127,"accept_rate":75,"display_name":"Moshe9362"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653614083,"creation_date":1653613198,"answer_id":72399429,"question_id":72398682,"body_markdown":"This is just a general suggestion, but I think it might work for you.\r\nKeep the length of the snake updated all of the time\r\n\r\nNow when creating a new apple, create an array of Coordinations of size of the grid size minus snake length. For example: if your grid size is 9x9 and your snake length is 6, create an array of length 75.\r\nRun over the grid and array and add to the array just Coordinations that do not have the snake in them. It should look something like this:\r\n\r\n    int arrayLocation=0;\r\n    for(int i=0; i&lt; grid.length();i++)\r\n    {\r\n        for(int j=0; j&lt;grid[i].length(); j++)\r\n        {\r\n            if (!snakeAtLocation(i,j))\r\n            {\r\n                arr[arrayLocation++] = new Coordinate(i, j);\r\n            }\r\n        }\r\n    }\r\n\r\nThen you can randomly pick a number n between 0 to `arr.length()`, then retrieve the coordination from `arr[n]` and you should have a coordination without a snake in it. Hope it helps and if you need more detailed example I will provide tommorow as I&#39;m writing this from my phone and I don&#39;t have pc right now:)\r\n\r\nBy the way, this answer if for a simple use case, as it isn&#39;t optimized and running with o(n)^2 each time you eat an apple. If you want more optimized solutions, you would have to track the snake location with each move he make. I&#39;ll be able to post both answers tommorow if needed:) ","title":"Create valid coordinates","body":"<p>This is just a general suggestion, but I think it might work for you.\nKeep the length of the snake updated all of the time</p>\n<p>Now when creating a new apple, create an array of Coordinations of size of the grid size minus snake length. For example: if your grid size is 9x9 and your snake length is 6, create an array of length 75.\nRun over the grid and array and add to the array just Coordinations that do not have the snake in them. It should look something like this:</p>\n<pre><code>int arrayLocation=0;\nfor(int i=0; i&lt; grid.length();i++)\n{\n    for(int j=0; j&lt;grid[i].length(); j++)\n    {\n        if (!snakeAtLocation(i,j))\n        {\n            arr[arrayLocation++] = new Coordinate(i, j);\n        }\n    }\n}\n</code></pre>\n<p>Then you can randomly pick a number n between 0 to <code>arr.length()</code>, then retrieve the coordination from <code>arr[n]</code> and you should have a coordination without a snake in it. Hope it helps and if you need more detailed example I will provide tommorow as I'm writing this from my phone and I don't have pc right now:)</p>\n<p>By the way, this answer if for a simple use case, as it isn't optimized and running with o(n)^2 each time you eat an apple. If you want more optimized solutions, you would have to track the snake location with each move he make. I'll be able to post both answers tommorow if needed:)</p>\n"}],"owner":{"account_id":25399886,"reputation":21,"user_id":19209561,"display_name":"Seewwyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1653614083,"creation_date":1653604584,"question_id":72398682,"body_markdown":" I&#39;m making a snake game and the apples shouldn&#39;t spawn inside the snake when randomly spawned on the screen. I have tried looking for a new place for the apples, when they get placed inside the snake with:\r\n\r\n```\r\nfor (int i = 0; i &lt; snake.size() - 1; i++) {\r\n  if (snake.get(i).xPos == plum.get(0).xPos &amp;&amp; snake.get(i).yPos == plum.get(0).yPos) {\r\n    plum.remove(0);\r\n    plum.add(new Coordinate(rollDice(squaresX - 1) * (squareSize + sizeOfSpace) + sizeOfSpace, rollDice(squaresY - 1) * (squareSize + sizeOfSpace) + sizeOfSpace, new Color(199, 7, 255)));\r\n  }\r\n}\r\n```\r\n\r\nThis is not a good solution so I&#39;m looking for a new one where I can create invalid coordiantes which are the snakes coordinates and valid coordinates that is the rest. So I can randomize the apples new position from just valid coordinates. But I&#39;m not sure how I&#39;m supposed to code this \r\n","title":"Create valid coordinates","body":"<p>I'm making a snake game and the apples shouldn't spawn inside the snake when randomly spawned on the screen. I have tried looking for a new place for the apples, when they get placed inside the snake with:</p>\n<pre><code>for (int i = 0; i &lt; snake.size() - 1; i++) {\n  if (snake.get(i).xPos == plum.get(0).xPos &amp;&amp; snake.get(i).yPos == plum.get(0).yPos) {\n    plum.remove(0);\n    plum.add(new Coordinate(rollDice(squaresX - 1) * (squareSize + sizeOfSpace) + sizeOfSpace, rollDice(squaresY - 1) * (squareSize + sizeOfSpace) + sizeOfSpace, new Color(199, 7, 255)));\n  }\n}\n</code></pre>\n<p>This is not a good solution so I'm looking for a new one where I can create invalid coordiantes which are the snakes coordinates and valid coordinates that is the rest. So I can randomize the apples new position from just valid coordinates. But I'm not sure how I'm supposed to code this</p>\n"},{"tags":["java","spring","scala","hibernate","jpa"],"comments":[{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":0,"creation_date":1653596131,"post_id":72397080,"comment_id":127896085,"body_markdown":"I mean, I don’t wanna judge, but why bother Java-coding in Scala? (also your problem is not probably because of the Scala part of your project)","body":"I mean, I don’t wanna judge, but why bother Java-coding in Scala? (also your problem is not probably because of the Scala part of your project)"},{"owner":{"account_id":25399351,"reputation":1,"user_id":19209124,"display_name":"Julian Man"},"score":0,"creation_date":1653599001,"post_id":72397080,"comment_id":127896931,"body_markdown":"I code with friend, and he refuses to join scala-club. So we combine since I don&#39;t wanna code Java anymore @AminMal","body":"I code with friend, and he refuses to join scala-club. So we combine since I don&#39;t wanna code Java anymore @AminMal"}],"answers":[{"tags":[],"owner":{"account_id":20896963,"reputation":79,"user_id":15350938,"display_name":"Bikash Mohapatra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653595523,"creation_date":1653595523,"answer_id":72397460,"question_id":72397080,"body_markdown":"        package pckg;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity \r\n    @Table(name = &quot;example)\r\n    class Example {\r\n    \r\n        @Column(name = &quot;id&quot;)\r\n        public int id;\r\n    \r\n    \r\n    //    @Column(name = &quot;old&quot;)\r\n        @Column(name = &quot;bold&quot;)\r\n        public int old;\r\n    }\r\nYou missed a colon `&quot;` in the `@Table(name = &quot;example)`.","title":"Spring JPA Hibernate uses old @Column names in Pageable requests: PropertyReferenceException","body":"<pre><code>    package pckg;\n\nimport javax.persistence.*;\n\n@Entity \n@Table(name = &quot;example)\nclass Example {\n\n    @Column(name = &quot;id&quot;)\n    public int id;\n\n\n//    @Column(name = &quot;old&quot;)\n    @Column(name = &quot;bold&quot;)\n    public int old;\n}\n</code></pre>\n<p>You missed a colon <code>&quot;</code> in the <code>@Table(name = &quot;example)</code>.</p>\n"},{"tags":[],"owner":{"account_id":25399351,"reputation":1,"user_id":19209124,"display_name":"Julian Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653610071,"creation_date":1653610071,"answer_id":72399217,"question_id":72397080,"body_markdown":"Answer is actual for Hibernate 5.6.9, didn&#39;t check what&#39;s going on in another versions.\r\n\r\n\r\nLet us debug while executing our page request (repo.findAll(pageable)) \r\n\r\n\r\nSkipping all wrapper, calls and checks: in short, you can directly jump to PropertyPath(String name, TypeInformation&lt;?&gt; owningType, List base), which is a constructor for PropertyPath class, executing logic of our program, in which we will fall in CachedIntrospectionResults::getPropertyDescriptor(String name) which checks that descriptor of our class has a corresponding field (this field&#39;s name equals to the sortBy parameter in our case), and, if field&#39;s name not same as sortBy parameter, we will not get our sorting or get it wrong (since it&#39;s another, not mentioned by us field)\r\n\r\n**Thus question is closed, no hope here**","title":"Spring JPA Hibernate uses old @Column names in Pageable requests: PropertyReferenceException","body":"<p>Answer is actual for Hibernate 5.6.9, didn't check what's going on in another versions.</p>\n<p>Let us debug while executing our page request (repo.findAll(pageable))</p>\n<p>Skipping all wrapper, calls and checks: in short, you can directly jump to PropertyPath(String name, TypeInformation&lt;?&gt; owningType, List base), which is a constructor for PropertyPath class, executing logic of our program, in which we will fall in CachedIntrospectionResults::getPropertyDescriptor(String name) which checks that descriptor of our class has a corresponding field (this field's name equals to the sortBy parameter in our case), and, if field's name not same as sortBy parameter, we will not get our sorting or get it wrong (since it's another, not mentioned by us field)</p>\n<p><strong>Thus question is closed, no hope here</strong></p>\n"}],"owner":{"account_id":25399351,"reputation":1,"user_id":19209124,"display_name":"Julian Man"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653610071,"creation_date":1653593392,"question_id":72397080,"body_markdown":"I&#39;ve encountered a problem where Spring doesn&#39;t see new @Column names of @Entity\r\n\r\nExact example which I run:\r\n```\r\npackage pckg;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity \r\n@Table(name = &quot;example&quot;)\r\nclass Example {\r\n    \r\n    @Column(name = &quot;id&quot;)\r\n    public int id;\r\n    \r\n    @Column(name = &quot;old&quot;)\r\n    public int old;\r\n}\r\n```\r\n\r\n```\r\npackage repo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport pckg.Example;\r\n\r\npublic interface ExampleRepository extends JpaRepository&lt;Example, Int&gt; {\r\n    Example findById(long id);\r\n}\r\n```\r\n\r\nRest code is Scala, which, I hope, is fine enough to read\r\n\r\n```\r\npackage controller;\r\n\r\nimport repo.ExampleRepository\r\nimport pckg.Example\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.data.domain.{Page, PageRequest, Sort}\r\nimport org.springframework.web.bind.annotation.{GetMapping, RequestParam, RestController}\r\n\r\nclass ExampleController {\r\n\r\n  @Autowired\r\n  private var repo: ExampleRepository = _\r\n\r\n  @GetMapping(value = Array(&quot;/example&quot;))\r\n  def getPage(@RequestParam(value = &quot;page&quot;,   defaultValue = &quot;0&quot;)  page:   String,\r\n              @RequestParam(value = &quot;size&quot;,   defaultValue = &quot;10&quot;) size:   String,\r\n              @RequestParam(value = &quot;sort&quot;,   defaultValue = &quot;id&quot;) sortBy: String) Array[Example] = try {\r\n    val pageNumber = page.toInt\r\n    val requestedSize = size.toInt\r\n    val sort = Sort.by(sortBy)\r\n    \r\n    val pageable = PageRequest.of(pageNumber, requestedSize, sort)\r\n    val resultPage: Page[Example] = repo.findAll(pageable)\r\n\r\n    resultPage.getContent.asScala.toArray\r\n  } catch {\r\n    case e: Throwable =&gt; Array.empty\r\n  }\r\n}\r\n```\r\n\r\n```\r\nimport org.springframework.boot.{CommandLineRunner, SpringApplication}\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\n\r\n@SpringBootApplication\r\nclass App {}\r\n\r\nobject App {\r\n  def main(args: Array[String]): Unit = {\r\n    SpringApplication.run(classOf[App], args: _*)\r\n  }\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/example\r\nspring.datasource.username=example\r\nspring.datasource.password=example\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=create\r\n```\r\n\r\nI build and run this code, testing with browser, making requests on localhost:8080/example endpoint with parameter sort=&quot;old&quot; like this: localhost:8080/example?sort=old\r\n\r\nAnd then I change @Column name from &quot;old&quot; to &quot;bnew&quot; like this:\r\n```\r\npackage pckg;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity \r\n@Table(name = &quot;example)\r\nclass Example {\r\n\r\n    @Column(name = &quot;id&quot;)\r\n    public int id;\r\n\r\n\r\n//    @Column(name = &quot;old&quot;)\r\n    @Column(name = &quot;bold&quot;)\r\n    public int old;\r\n}\r\n```\r\n\r\nFully rebuild project, run app, hibernate logs seems fine as they show that old table was dropped, new table created, fields are named correctly but...\r\nUsing localhost:8080/example?sort=bold leads to \r\n```\r\norg.springframework.data.mapping.PropertyReferenceException: No property &#39;bold&#39; found for type &#39;Example&#39;! Did you mean &#39;&#39;old&#39;&#39;?\r\n```\r\n\r\nIf you have an idea what&#39;s going on or at least have a tip where the issue comes from I would gladly listen and dive in answer\r\n\r\n**UPD**\r\n\r\nAfter renaming field &quot;old&quot; to &quot;bold&quot; I found out that there is a problem with naming strategy, so I considered defining \r\n```\r\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n``` \r\nin my application.properties, hoping it would help, but it didn&#39;t\r\n\r\nIs there any way?\r\n\r\n**UPD 2**\r\nWarning: in order to achieve results I achieved while debugging you need Hibernate 5.6.9, Spring 2.7.0, blank started app (you haven&#39;t made any requests involving your test-request yet, so there is nothing in request cache (except for id field))\r\n..........\r\nIn short, you can directly jump to PropertyPath(String name, TypeInformation&lt;?&gt; owningType, List&lt;PropertyPath&gt; base), which is a constructor for PropertyPath class, executing logic of our program, in which we will fall in CachedIntrospectionResults::getPropertyDescriptor(String name) which checks that descriptor of our class has a corresponding field (this field&#39;s name equals to the sortBy parameter in our case), and, if field&#39;s name not same as sortBy parameter, we will not get our sorting or get it wrong (since it&#39;s another, not mentioned by us field)\r\n\r\n**Thus question is closed, no hope here**","title":"Spring JPA Hibernate uses old @Column names in Pageable requests: PropertyReferenceException","body":"<p>I've encountered a problem where Spring doesn't see new @Column names of @Entity</p>\n<p>Exact example which I run:</p>\n<pre><code>package pckg;\n\nimport javax.persistence.*;\n\n@Entity \n@Table(name = &quot;example&quot;)\nclass Example {\n    \n    @Column(name = &quot;id&quot;)\n    public int id;\n    \n    @Column(name = &quot;old&quot;)\n    public int old;\n}\n</code></pre>\n<pre><code>package repo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport pckg.Example;\n\npublic interface ExampleRepository extends JpaRepository&lt;Example, Int&gt; {\n    Example findById(long id);\n}\n</code></pre>\n<p>Rest code is Scala, which, I hope, is fine enough to read</p>\n<pre><code>package controller;\n\nimport repo.ExampleRepository\nimport pckg.Example\n\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.data.domain.{Page, PageRequest, Sort}\nimport org.springframework.web.bind.annotation.{GetMapping, RequestParam, RestController}\n\nclass ExampleController {\n\n  @Autowired\n  private var repo: ExampleRepository = _\n\n  @GetMapping(value = Array(&quot;/example&quot;))\n  def getPage(@RequestParam(value = &quot;page&quot;,   defaultValue = &quot;0&quot;)  page:   String,\n              @RequestParam(value = &quot;size&quot;,   defaultValue = &quot;10&quot;) size:   String,\n              @RequestParam(value = &quot;sort&quot;,   defaultValue = &quot;id&quot;) sortBy: String) Array[Example] = try {\n    val pageNumber = page.toInt\n    val requestedSize = size.toInt\n    val sort = Sort.by(sortBy)\n    \n    val pageable = PageRequest.of(pageNumber, requestedSize, sort)\n    val resultPage: Page[Example] = repo.findAll(pageable)\n\n    resultPage.getContent.asScala.toArray\n  } catch {\n    case e: Throwable =&gt; Array.empty\n  }\n}\n</code></pre>\n<pre><code>import org.springframework.boot.{CommandLineRunner, SpringApplication}\nimport org.springframework.boot.autoconfigure.SpringBootApplication\n\n@SpringBootApplication\nclass App {}\n\nobject App {\n  def main(args: Array[String]): Unit = {\n    SpringApplication.run(classOf[App], args: _*)\n  }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/example\nspring.datasource.username=example\nspring.datasource.password=example\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>I build and run this code, testing with browser, making requests on localhost:8080/example endpoint with parameter sort=&quot;old&quot; like this: localhost:8080/example?sort=old</p>\n<p>And then I change @Column name from &quot;old&quot; to &quot;bnew&quot; like this:</p>\n<pre><code>package pckg;\n\nimport javax.persistence.*;\n\n@Entity \n@Table(name = &quot;example)\nclass Example {\n\n    @Column(name = &quot;id&quot;)\n    public int id;\n\n\n//    @Column(name = &quot;old&quot;)\n    @Column(name = &quot;bold&quot;)\n    public int old;\n}\n</code></pre>\n<p>Fully rebuild project, run app, hibernate logs seems fine as they show that old table was dropped, new table created, fields are named correctly but...\nUsing localhost:8080/example?sort=bold leads to</p>\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property 'bold' found for type 'Example'! Did you mean ''old''?\n</code></pre>\n<p>If you have an idea what's going on or at least have a tip where the issue comes from I would gladly listen and dive in answer</p>\n<p><strong>UPD</strong></p>\n<p>After renaming field &quot;old&quot; to &quot;bold&quot; I found out that there is a problem with naming strategy, so I considered defining</p>\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>in my application.properties, hoping it would help, but it didn't</p>\n<p>Is there any way?</p>\n<p><strong>UPD 2</strong>\nWarning: in order to achieve results I achieved while debugging you need Hibernate 5.6.9, Spring 2.7.0, blank started app (you haven't made any requests involving your test-request yet, so there is nothing in request cache (except for id field))\n..........\nIn short, you can directly jump to PropertyPath(String name, TypeInformation&lt;?&gt; owningType, List base), which is a constructor for PropertyPath class, executing logic of our program, in which we will fall in CachedIntrospectionResults::getPropertyDescriptor(String name) which checks that descriptor of our class has a corresponding field (this field's name equals to the sortBy parameter in our case), and, if field's name not same as sortBy parameter, we will not get our sorting or get it wrong (since it's another, not mentioned by us field)</p>\n<p><strong>Thus question is closed, no hope here</strong></p>\n"},{"tags":["java","xml","tomcat"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1653610119,"post_id":72399185,"comment_id":127899112,"body_markdown":"STRONG SUGGESTION: consider developing your Java servlets in an IDE like Eclipse or Netbeans.","body":"STRONG SUGGESTION: consider developing your Java servlets in an IDE like Eclipse or Netbeans."},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653610307,"post_id":72399185,"comment_id":127899141,"body_markdown":"I will this is the first one","body":"I will this is the first one"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1653611319,"post_id":72399185,"comment_id":127899267,"body_markdown":"When you visit http://localhost:8888/ do you see a page branded with Apache Tomcat?","body":"When you visit <a href=\"http://localhost:8888/\" rel=\"nofollow noreferrer\">localhost:8888</a> do you see a page branded with Apache Tomcat?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653611407,"post_id":72399185,"comment_id":127899278,"body_markdown":"check your catalina.out log file","body":"check your catalina.out log file"},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653611838,"post_id":72399185,"comment_id":127899339,"body_markdown":"@BasilBourque Yes I do","body":"@BasilBourque Yes I do"},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653611873,"post_id":72399185,"comment_id":127899345,"body_markdown":"@ScaryWombat Do I find it here C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\logs","body":"@ScaryWombat Do I find it here C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\logs"},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653612242,"post_id":72399185,"comment_id":127899397,"body_markdown":"@ScaryWombat I searched catalina.out in tomcat10.0 folder no items matched my search","body":"@ScaryWombat I searched catalina.out in tomcat10.0 folder no items matched my search"},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653615544,"post_id":72399185,"comment_id":127899879,"body_markdown":"@ScaryWombat based on https://stackoverflow.com/a/8239570/16430624 I do have three files  catalina.2022-05-24, catalina.2022-05-26 and catalina.2022-05-27 in C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\logs","body":"@ScaryWombat based on <a href=\"https://stackoverflow.com/a/8239570/16430624\">stackoverflow.com/a/8239570/16430624</a> I do have three files  catalina.2022-05-24, catalina.2022-05-26 and catalina.2022-05-27 in C:\\Program Files\\Apache Software Foundation\\Tomcat 10.0\\logs"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653616460,"post_id":72399185,"comment_id":127900005,"body_markdown":"Well I would check the catalina.2022-05-27 file and search for **hello** (the name of your webapp).  Are there some errors?  As you *see a page branded with Apache Tomcat* it seems loading the webapp is the likely problem.","body":"Well I would check the catalina.2022-05-27 file and search for <b>hello</b> (the name of your webapp).  Are there some errors?  As you <i>see a page branded with Apache Tomcat</i> it seems loading the webapp is the likely problem."},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653618584,"post_id":72399185,"comment_id":127900266,"body_markdown":"@ScaryWombat Let me see that, but interestingly i have renamed the folder Web-INF to WEB-INF and now I don&#39;t see directory list but error HTTP Status 404 – Not Found","body":"@ScaryWombat Let me see that, but interestingly i have renamed the folder Web-INF to WEB-INF and now I don&#39;t see directory list but error HTTP Status 404 – Not Found"},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653619317,"post_id":72399185,"comment_id":127900343,"body_markdown":"@ScaryWombat Thanks a lot, the error was &lt;web-app&gt; must be closed by &lt;/web-app&gt; not &lt;/Web-app&gt; can&#39;t believe I didn&#39;t see that. Figured that out in catalina.2022-05-27 file. Thanks again","body":"@ScaryWombat Thanks a lot, the error was &lt;web-app&gt; must be closed by &lt;/web-app&gt; not &lt;/Web-app&gt; can&#39;t believe I didn&#39;t see that. Figured that out in catalina.2022-05-27 file. Thanks again"},{"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"score":0,"creation_date":1653619414,"post_id":72399185,"comment_id":127900362,"body_markdown":"I also think naming the folder Web-INF was also a problem. It led to the directory list","body":"I also think naming the folder Web-INF was also a problem. It led to the directory list"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653620212,"post_id":72399185,"comment_id":127900458,"body_markdown":"| can&#39;t believe I didn&#39;t see that - can not un-see it now","body":"| can&#39;t believe I didn&#39;t see that - can not un-see it now"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653624817,"post_id":72399185,"comment_id":127900995,"body_markdown":"I suggest you draft, post, and accept an Answer to your own Question, for posterity.","body":"I suggest you draft, post, and accept an Answer to your own Question, for posterity."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653624969,"post_id":72399185,"comment_id":127901013,"body_markdown":"Using tools to auto-generate this boilerplate would avoid the hassle of your understandable typos. Humans are not good at trivial details, while computers are. For example, choosing *File &gt; New Project &gt; Generators &gt; Java Enterprise* in IntelliJ will create a complete project with a sample JSP page and a sample Servlet. Both the `WEB-INF` folder and its nested `web.xml` file are created automatically for you.","body":"Using tools to auto-generate this boilerplate would avoid the hassle of your understandable typos. Humans are not good at trivial details, while computers are. For example, choosing <i>File &gt; New Project &gt; Generators &gt; Java Enterprise</i> in IntelliJ will create a complete project with a sample JSP page and a sample Servlet. Both the <code>WEB-INF</code> folder and its nested <code>web.xml</code> file are created automatically for you."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1653628408,"post_id":72399185,"comment_id":127901442,"body_markdown":"Try &lt;url-pattern&gt;/*&lt;/url-pattern&gt;","body":"Try &lt;url-pattern&gt;/*&lt;/url-pattern&gt;"}],"owner":{"account_id":18777440,"reputation":23,"user_id":16430624,"display_name":"Robert Mdee"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653609565,"creation_date":1653609565,"question_id":72399185,"body_markdown":"I am trying to make my first web application with java servlet, apache tomcat and java. This are my directories\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghcfS.png\r\n  [2]: https://i.stack.imgur.com/ITv71.png\r\n  [3]: https://i.stack.imgur.com/XTq46.png\r\n\r\nThis is my java file saved as HelloServlet.java\r\n\r\n    import java.io.*;\r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.*;\r\n    public class HelloServlet extends HttpServlet{\r\n    \tpublic void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \tthrows ServletException, IOException{\r\n    \t\tPrintWriter out = response.getWriter();\r\n    \t\tout.println(&quot;&lt;html&gt;\\n\\t&lt;head&gt;\\n\\t\\t&lt;title&gt;Hello!&lt;/title&gt;\\n\\t&lt;/head&gt;&quot;);\r\n    \t\tout.println(&quot;\\t&lt;body&gt;\\n\\t\\tHello, world.\\n\\t&lt;/body&gt;&quot;);\r\n    \t}\r\n    }\r\n\r\nThe java file compiled just fine no problem there. \r\n\r\nThis is my web.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE Web-app\r\n    PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application \r\n    2.3//EN&quot; &quot;http://java.sun.com/dtd/Web-app_2_3.dtd&quot;&gt;\r\n    &lt;web-app&gt;\r\n    \t&lt;display-name&gt;The Hello World Application&lt;/display-name&gt;\r\n    \t&lt;description&gt;Prints hello world!&lt;/description&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;hello&lt;/servlet-name&gt;\r\n    \t\t&lt;description&gt;This is a simple Servlet&lt;/description&gt;\r\n    \t\t&lt;servlet-class&gt;HelloServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;hello&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/Web-app&gt;\r\n\r\nApache Tomcat is successfully installed and running just fine I changed the port number to 8888 which was also just fine.\r\n\r\nbut if I visit http://localhost:8888/hello I get a directory list of the folder hello instead of a simple web page with Hello, world. Why so? ","title":"Apache Tomcat is showing directory list instead of a simple web page","body":"<p>I am trying to make my first web application with java servlet, apache tomcat and java. This are my directories\n<a href=\"https://i.stack.imgur.com/ghcfS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ghcfS.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ITv71.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ITv71.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XTq46.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XTq46.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my java file saved as HelloServlet.java</p>\n<pre><code>import java.io.*;\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.*;\npublic class HelloServlet extends HttpServlet{\n    public void doGet(HttpServletRequest request, HttpServletResponse response)\n    throws ServletException, IOException{\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;\\n\\t&lt;head&gt;\\n\\t\\t&lt;title&gt;Hello!&lt;/title&gt;\\n\\t&lt;/head&gt;&quot;);\n        out.println(&quot;\\t&lt;body&gt;\\n\\t\\tHello, world.\\n\\t&lt;/body&gt;&quot;);\n    }\n}\n</code></pre>\n<p>The java file compiled just fine no problem there.</p>\n<p>This is my web.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE Web-app\nPUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application \n2.3//EN&quot; &quot;http://java.sun.com/dtd/Web-app_2_3.dtd&quot;&gt;\n&lt;web-app&gt;\n    &lt;display-name&gt;The Hello World Application&lt;/display-name&gt;\n    &lt;description&gt;Prints hello world!&lt;/description&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;hello&lt;/servlet-name&gt;\n        &lt;description&gt;This is a simple Servlet&lt;/description&gt;\n        &lt;servlet-class&gt;HelloServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;hello&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/Web-app&gt;\n</code></pre>\n<p>Apache Tomcat is successfully installed and running just fine I changed the port number to 8888 which was also just fine.</p>\n<p>but if I visit http://localhost:8888/hello I get a directory list of the folder hello instead of a simple web page with Hello, world. Why so?</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":5121998,"reputation":165,"user_id":4105241,"accept_rate":57,"display_name":"Suraj"},"score":0,"creation_date":1533961013,"post_id":51796356,"comment_id":90549981,"body_markdown":"Write another method within same class where your async task belongs to and pass that array to mothod.","body":"Write another method within same class where your async task belongs to and pass that array to mothod."},{"owner":{"account_id":7318212,"reputation":93,"user_id":5575038,"accept_rate":75,"display_name":"asmcriminal"},"score":0,"creation_date":1533963574,"post_id":51796356,"comment_id":90550303,"body_markdown":"You mean within the asynctask or outside of it?","body":"You mean within the asynctask or outside of it?"},{"owner":{"account_id":5121998,"reputation":165,"user_id":4105241,"accept_rate":57,"display_name":"Suraj"},"score":0,"creation_date":1533966362,"post_id":51796356,"comment_id":90550699,"body_markdown":"within same activity but outside aysync task (i consider you&#39;ve written async task within same class as that of activity)","body":"within same activity but outside aysync task (i consider you&#39;ve written async task within same class as that of activity)"}],"answers":[{"tags":[],"owner":{"account_id":14095279,"reputation":101,"user_id":10182251,"display_name":"zulutime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653609250,"creation_date":1533960949,"answer_id":51796414,"question_id":51796356,"body_markdown":"onPostExecute is where the execution flow comes back from the worker thread (that is what supports AsyncTask) to the UI thread. Your log line,\r\n\r\n       Log.i(&quot;TAG&quot;, &quot;SONdataWIthIDs size: &quot; + JSONdataWIthIDs.size());\r\n\r\nhappens in the UI thread and is running in parallel with the working thread at that moment. So the result is not available.\r\n\r\n\r\n\r\n","title":"How can I store data from OnPostExecute()?","body":"<p>onPostExecute is where the execution flow comes back from the worker thread (that is what supports AsyncTask) to the UI thread. Your log line,</p>\n<pre><code>   Log.i(&quot;TAG&quot;, &quot;SONdataWIthIDs size: &quot; + JSONdataWIthIDs.size());\n</code></pre>\n<p>happens in the UI thread and is running in parallel with the working thread at that moment. So the result is not available.</p>\n"},{"tags":[],"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533961067,"creation_date":1533961067,"answer_id":51796418,"question_id":51796356,"body_markdown":"The problem is quite simple. The `Log.i(&quot;TAG&quot;, &quot;SONdataWIthIDs size: &quot; + JSONdataWIthIDs.size());` statement is executed before the `onPostExecute()`. So the `JSONdataWIthIDs` is empty.\r\n\r\nThe call to async task is done asynchronously (`doInBackground()`). And you are saving the value to `JSONdataWIthIDs` in `onPostExecute()`. So you can access the id&#39;s only after the async task is done.\r\n\r\n&gt; How do I store the data into an array?\r\n\r\nThe data is already stored into the array in `onPostExecute()`. The only problem is that you can access it only after the `onPostExecute()` is called.","title":"How can I store data from OnPostExecute()?","body":"<p>The problem is quite simple. The <code>Log.i(\"TAG\", \"SONdataWIthIDs size: \" + JSONdataWIthIDs.size());</code> statement is executed before the <code>onPostExecute()</code>. So the <code>JSONdataWIthIDs</code> is empty.</p>\n\n<p>The call to async task is done asynchronously (<code>doInBackground()</code>). And you are saving the value to <code>JSONdataWIthIDs</code> in <code>onPostExecute()</code>. So you can access the id's only after the async task is done.</p>\n\n<blockquote>\n  <p>How do I store the data into an array?</p>\n</blockquote>\n\n<p>The data is already stored into the array in <code>onPostExecute()</code>. The only problem is that you can access it only after the <code>onPostExecute()</code> is called.</p>\n"}],"owner":{"account_id":7318212,"reputation":93,"user_id":5575038,"accept_rate":75,"display_name":"asmcriminal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653609250,"creation_date":1533960228,"question_id":51796356,"body_markdown":"I am trying to get the id numbers of foods from the [USDA][1] database. My issue is that I can get the JSON data, but I can not take it out of the `OnPostCreate()` function. When I iterate through `JSONdataWIthIDs` in the `OnPostCreate()` all the data is there. But when I try to use the data someplace else, it is empty. How do I store the data into an array?\r\n\r\nHere is the constructor.\r\n\r\n    public USDA(String nameOfFoodToSearchFor) {\r\n\r\n        setJSONdataWIthIDs(nameOfFoodToSearchFor);\r\n\r\n        // This returns 0\r\n        Log.i(&quot;TAG&quot;, &quot;SONdataWIthIDs size: &quot; + JSONdataWIthIDs.size());\r\n\r\n        // This does not work.\r\n        for(String s: JSONdataWIthIDs)\r\n        {\r\n            Log.i(&quot;TAG OUTPUT&quot;, s);\r\n        }\r\n    }\r\n\r\nHere is the code with the OnPostCreate.\r\n\r\n    private void setJSONdataWIthIDs(String nameOfFood) {\r\n\r\n        final String url1 = &quot;https://api.nal.usda.gov/ndb/search/?format=json&amp;q=&quot; + nameOfFood + &quot;&amp;sort=n&amp;max=25&amp;offset=0&amp;api_key=x5qM9v8PkjZrTf2cVSHzoK7y4GsSBgoQEmJsbwqV&quot;;\r\n\r\n        AsyncTask asyncTask = new AsyncTask() {\r\n            @Override\r\n            protected Object doInBackground(Object[] objects) {\r\n\r\n                OkHttpClient client = new OkHttpClient();\r\n\r\n                Request request = new Request.Builder()\r\n                        .url(url1)\r\n                        .build();\r\n\r\n                Response response = null;\r\n\r\n                try {\r\n                    response = client.newCall(request).execute();\r\n                    return response.body().string();\r\n                }\r\n                catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Object o) {\r\n\r\n                String lines[] = o.toString().split(&quot;\\\\r?\\\\n&quot;);\r\n\r\n                for(int i = 0; i &lt; lines.length; i++)\r\n                {\r\n                    JSONdataWIthIDs.add(lines[i]);\r\n                }\r\n\r\n                // This works\r\n                for(String s : JSONdataWIthIDs)\r\n                {\r\n                    Log.i(&quot;TAG&quot;, s);\r\n                }\r\n            }\r\n        }.execute();\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/United_States_Department_of_Agriculture\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I store data from OnPostExecute()?","body":"<p>I am trying to get the id numbers of foods from the <a href=\"https://en.wikipedia.org/wiki/United_States_Department_of_Agriculture\" rel=\"nofollow noreferrer\">USDA</a> database. My issue is that I can get the JSON data, but I can not take it out of the <code>OnPostCreate()</code> function. When I iterate through <code>JSONdataWIthIDs</code> in the <code>OnPostCreate()</code> all the data is there. But when I try to use the data someplace else, it is empty. How do I store the data into an array?</p>\n<p>Here is the constructor.</p>\n<pre><code>public USDA(String nameOfFoodToSearchFor) {\n\n    setJSONdataWIthIDs(nameOfFoodToSearchFor);\n\n    // This returns 0\n    Log.i(&quot;TAG&quot;, &quot;SONdataWIthIDs size: &quot; + JSONdataWIthIDs.size());\n\n    // This does not work.\n    for(String s: JSONdataWIthIDs)\n    {\n        Log.i(&quot;TAG OUTPUT&quot;, s);\n    }\n}\n</code></pre>\n<p>Here is the code with the OnPostCreate.</p>\n<pre><code>private void setJSONdataWIthIDs(String nameOfFood) {\n\n    final String url1 = &quot;https://api.nal.usda.gov/ndb/search/?format=json&amp;q=&quot; + nameOfFood + &quot;&amp;sort=n&amp;max=25&amp;offset=0&amp;api_key=x5qM9v8PkjZrTf2cVSHzoK7y4GsSBgoQEmJsbwqV&quot;;\n\n    AsyncTask asyncTask = new AsyncTask() {\n        @Override\n        protected Object doInBackground(Object[] objects) {\n\n            OkHttpClient client = new OkHttpClient();\n\n            Request request = new Request.Builder()\n                    .url(url1)\n                    .build();\n\n            Response response = null;\n\n            try {\n                response = client.newCall(request).execute();\n                return response.body().string();\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Object o) {\n\n            String lines[] = o.toString().split(&quot;\\\\r?\\\\n&quot;);\n\n            for(int i = 0; i &lt; lines.length; i++)\n            {\n                JSONdataWIthIDs.add(lines[i]);\n            }\n\n            // This works\n            for(String s : JSONdataWIthIDs)\n            {\n                Log.i(&quot;TAG&quot;, s);\n            }\n        }\n    }.execute();\n}\n</code></pre>\n"},{"tags":["java","sql","regex","jdbc","sybase"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1464682591,"post_id":37539510,"comment_id":62570081,"body_markdown":"I have rolled back your last edit, we have an edit history that allows us to see changes. In sometimes adding clarification is appreciated, but in this case your use of `numeric[0,10]` was obviously in error.","body":"I have rolled back your last edit, we have an edit history that allows us to see changes. In sometimes adding clarification is appreciated, but in this case your use of <code>numeric[0,10]</code> was obviously in error."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1464683370,"post_id":37539510,"comment_id":62570520,"body_markdown":"ok, Thanks. I really didn;t know if to leave the original and add an edit, or to edit the fault text as you did eventually.","body":"ok, Thanks. I really didn;t know if to leave the original and add an edit, or to edit the fault text as you did eventually."}],"answers":[{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1464681417,"creation_date":1464680431,"answer_id":37539702,"question_id":37539510,"body_markdown":"Use [`Long`][1] as [`Integer`][2] is to short to map all possible values. Have a look at `MAX_VALUE` of both types.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#MAX_VALUE\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE","title":"Mapping SQL NUMERIC[10,0] to java type","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#MAX_VALUE\" rel=\"nofollow\"><code>Long</code></a> as <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow\"><code>Integer</code></a> is to short to map all possible values. Have a look at <code>MAX_VALUE</code> of both types.</p>\n"},{"tags":[],"owner":{"account_id":19388342,"reputation":21,"user_id":14177608,"display_name":"Saim Yousuf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653609001,"creation_date":1653554774,"answer_id":72389132,"question_id":37539510,"body_markdown":"You can use:\r\n\r\n    @Column(name=&quot;x&quot;, columnDefinition=&quot;decimal&quot;, precision=10, scale=0)\r\n    private double x;\r\n","title":"Mapping SQL NUMERIC[10,0] to java type","body":"<p>You can use:</p>\n<pre><code>@Column(name=&quot;x&quot;, columnDefinition=&quot;decimal&quot;, precision=10, scale=0)\nprivate double x;\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37539702,"answer_count":2,"score":0,"last_activity_date":1653609001,"creation_date":1464679894,"question_id":37539510,"body_markdown":"I need to map `NUMERIC[10,0]` parameter type of a sybase stored procedure to a java type.\r\n\r\n What would be this type?\r\n\r\n Also, if you can help me define a regular expression for this `NUMERIC[10,0]` type I&#39;ll be greatful.","title":"Mapping SQL NUMERIC[10,0] to java type","body":"<p>I need to map <code>NUMERIC[10,0]</code> parameter type of a sybase stored procedure to a java type.</p>\n\n<p>What would be this type?</p>\n\n<p>Also, if you can help me define a regular expression for this <code>NUMERIC[10,0]</code> type I'll be greatful.</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":5,"creation_date":1653588311,"post_id":72396164,"comment_id":127893552,"body_markdown":"Exactly as the error states... The method indicates that it should `return` a `Pair&lt;Integer, Integer&gt;` but it doesn&#39;t `return` anything.","body":"Exactly as the error states... The method indicates that it should <code>return</code> a <code>Pair&lt;Integer, Integer&gt;</code> but it doesn&#39;t <code>return</code> anything."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653588563,"post_id":72396164,"comment_id":127893633,"body_markdown":"First thing is, why to use Pair class. It represents a key value pair and not two values. Instead, create your own class with two attributes. Then you can pass instance of that class as parameter to this function and can return the same object with swapped values.","body":"First thing is, why to use Pair class. It represents a key value pair and not two values. Instead, create your own class with two attributes. Then you can pass instance of that class as parameter to this function and can return the same object with swapped values."},{"owner":{"account_id":23263350,"reputation":1,"user_id":17349312,"display_name":"Gaurav_dev"},"score":0,"creation_date":1653588701,"post_id":72396164,"comment_id":127893689,"body_markdown":"can u comment the fix bcoz i am not getting","body":"can u comment the fix bcoz i am not getting"},{"owner":{"account_id":23263350,"reputation":1,"user_id":17349312,"display_name":"Gaurav_dev"},"score":0,"creation_date":1653588788,"post_id":72396164,"comment_id":127893723,"body_markdown":"@ChetanAhirrao it is given in question can&#39;t be changed has to be this way","body":"@ChetanAhirrao it is given in question can&#39;t be changed has to be this way"},{"owner":{"account_id":23263350,"reputation":1,"user_id":17349312,"display_name":"Gaurav_dev"},"score":0,"creation_date":1653588894,"post_id":72396164,"comment_id":127893758,"body_markdown":"and plz ignore that &quot;Pair pr=new Pair&quot;","body":"and plz ignore that &quot;Pair pr=new Pair&quot;"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653589979,"post_id":72396164,"comment_id":127894130,"body_markdown":"So, the swap function signature is already provided?","body":"So, the swap function signature is already provided?"}],"answers":[{"tags":[],"owner":{"account_id":25400621,"reputation":1,"user_id":19210193,"display_name":"Hanocybous"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653608132,"creation_date":1653608132,"answer_id":72399064,"question_id":72396164,"body_markdown":"When creating methods you should (I think) always know if you want this method to return something or not. In this occasion, if I am right, you haven&#39;t mentioned what your return type is. Is it void? Is it an object? Is it an int e.t.c.The aforementioned solution returns the Pair class object that you assigned as or. If this is your desired return, then you may be OK.\r\nThank you for your time. ","title":"Why doesn&#39;t my code compile and ask for a return statement?","body":"<p>When creating methods you should (I think) always know if you want this method to return something or not. In this occasion, if I am right, you haven't mentioned what your return type is. Is it void? Is it an object? Is it an int e.t.c.The aforementioned solution returns the Pair class object that you assigned as or. If this is your desired return, then you may be OK.\nThank you for your time.</p>\n"}],"owner":{"account_id":23263350,"reputation":1,"user_id":17349312,"display_name":"Gaurav_dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653608132,"creation_date":1653588145,"question_id":72396164,"body_markdown":"Why doesn&#39;t this code compile?\r\n\r\n```java\r\nimport javafx.util.Pair;\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    public static Pair &lt; Integer, Integer &gt; swap(Pair &lt; Integer, Integer &gt; swapValues) {\r\n        Scanner scanner =new Scanner(System.in);\r\n        \r\n        int a; //lets say a=2\r\n        int b; //and b=3\r\n        a= scanner.nextInt();\r\n        b= scanner.nextInt();\r\n        Pair pr =new Pair \r\n        int swap=a; //swap =a i.e swap is now 2\r\n        a=b; //a was 0 now its 3 \r\n        b=swap; //b was 0 now its 2\r\n        //swap complete now a=3,b=2\r\n    }\r\n}\r\n```\r\n\r\nerror:\r\n\r\n```none\r\nCompilation Failed\r\n./Solution.java:17: error: missing return statement\r\n    }\r\n    ^\r\n1 error\r\n```\r\n\r\nWhat does the compiler want from me?","title":"Why doesn&#39;t my code compile and ask for a return statement?","body":"<p>Why doesn't this code compile?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.util.Pair;\nimport java.util.Scanner;\n\npublic class Solution {\n    public static Pair &lt; Integer, Integer &gt; swap(Pair &lt; Integer, Integer &gt; swapValues) {\n        Scanner scanner =new Scanner(System.in);\n        \n        int a; //lets say a=2\n        int b; //and b=3\n        a= scanner.nextInt();\n        b= scanner.nextInt();\n        Pair pr =new Pair \n        int swap=a; //swap =a i.e swap is now 2\n        a=b; //a was 0 now its 3 \n        b=swap; //b was 0 now its 2\n        //swap complete now a=3,b=2\n    }\n}\n</code></pre>\n<p>error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Compilation Failed\n./Solution.java:17: error: missing return statement\n    }\n    ^\n1 error\n</code></pre>\n<p>What does the compiler want from me?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1512144796,"post_id":47597225,"comment_id":82152614,"body_markdown":"Of course there is. You need to explain first where/how you want to &quot;sustain&quot; it. Is it to show in the console/panel or whatever?","body":"Of course there is. You need to explain first where/how you want to &quot;sustain&quot; it. Is it to show in the console/panel or whatever?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1512144900,"post_id":47597225,"comment_id":82152667,"body_markdown":"That&#39;s a print detail, not a numerical detail.  Ten and three-tenths is the same as ten and thirty-hundredths, so there&#39;s really no incentive/reason for the data type to keep track of that information which space is already at a very high premium.  If you want to *display* a trailing zero, that&#39;s another matter altogether.","body":"That&#39;s a print detail, not a numerical detail.  Ten and three-tenths is the same as ten and thirty-hundredths, so there&#39;s really no incentive/reason for the data type to keep track of that information which space is already at a very high premium.  If you want to <i>display</i> a trailing zero, that&#39;s another matter altogether."},{"owner":{"account_id":9163530,"reputation":55,"user_id":6814067,"display_name":"Anant Majhi"},"score":0,"creation_date":1512187776,"post_id":47597225,"comment_id":82167687,"body_markdown":"Yes this double value is going to be displayed in the frontend side. The thing is I can add an extra zero in the JavaScript side by the toFixed() method,but there are numerous places where I have to make the change. If I could just figure out a way to have a 10.20 value is a double , that would be awesome","body":"Yes this double value is going to be displayed in the frontend side. The thing is I can add an extra zero in the JavaScript side by the toFixed() method,but there are numerous places where I have to make the change. If I could just figure out a way to have a 10.20 value is a double , that would be awesome"}],"answers":[{"tags":[],"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512144919,"creation_date":1512144919,"answer_id":47597304,"question_id":47597225,"body_markdown":"A double only contains only information about the value it represents, but not about the precision of it.\r\n\r\nWhether a double is represented as `10.3`, `10.30`, `10.300000` etc. is determined by the display resp. string conversion routine, not by the routine which generates the value.","title":"Returning a double value but with a trailing zero at the end","body":"<p>A double only contains only information about the value it represents, but not about the precision of it.</p>\n\n<p>Whether a double is represented as <code>10.3</code>, <code>10.30</code>, <code>10.300000</code> etc. is determined by the display resp. string conversion routine, not by the routine which generates the value.</p>\n"},{"tags":[],"owner":{"account_id":10597075,"reputation":1975,"user_id":7805359,"display_name":"Nazarii Moshenskiy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512161192,"creation_date":1512160288,"answer_id":47601061,"question_id":47597225,"body_markdown":"You can&#39;t do this with Double class.\r\n\r\nIf you want to display a value with zero you could do this:\r\n    \r\n    System.out.printf(&quot;%.2f%n&quot;, d);\r\n\r\nIt means that your variable &lt;code&gt;d&lt;/code&gt; will be displayed with 2 digits after point. So, if &lt;code&gt;d = 10.3&lt;/code&gt;, the code above will show &lt;code&gt;10.30&lt;/code&gt; \r\n\r\nString also can store formatted value:\r\n\r\n    String s = String.format(&quot;%.2f%n&quot;, d);\r\n    System.out.println(s);","title":"Returning a double value but with a trailing zero at the end","body":"<p>You can't do this with Double class.</p>\n\n<p>If you want to display a value with zero you could do this:</p>\n\n<pre><code>System.out.printf(\"%.2f%n\", d);\n</code></pre>\n\n<p>It means that your variable <code>d</code> will be displayed with 2 digits after point. So, if <code>d = 10.3</code>, the code above will show <code>10.30</code> </p>\n\n<p>String also can store formatted value:</p>\n\n<pre><code>String s = String.format(\"%.2f%n\", d);\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4449070,"reputation":71,"user_id":3621576,"display_name":"ederrafo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653607584,"creation_date":1653607584,"answer_id":72399007,"question_id":47597225,"body_markdown":"The best solution is\r\n\r\n\r\nprivate static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n\r\n\r\ndf.format(amountDouble)","title":"Returning a double value but with a trailing zero at the end","body":"<p>The best solution is</p>\n<p>private static final DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);</p>\n<p>df.format(amountDouble)</p>\n"}],"owner":{"account_id":9163530,"reputation":55,"user_id":6814067,"display_name":"Anant Majhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653607584,"creation_date":1512144627,"question_id":47597225,"body_markdown":"    Double d = 10.30\r\n\r\nWhen I use this value of d i.e `10.30` it becomes `10.3`\r\n\r\nIs there anyway that I can sustain this value of `10.30`\r\nRemember I cannot change the data-type it should be a double\r\n\r\nIs there a way??\r\n\r\n","title":"Returning a double value but with a trailing zero at the end","body":"<pre><code>Double d = 10.30\n</code></pre>\n\n<p>When I use this value of d i.e <code>10.30</code> it becomes <code>10.3</code></p>\n\n<p>Is there anyway that I can sustain this value of <code>10.30</code>\nRemember I cannot change the data-type it should be a double</p>\n\n<p>Is there a way??</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1653605975,"post_id":72398803,"comment_id":127898440,"body_markdown":"With every number you roll, you have to start over so that the new number won&#39;t match any previous number. You can&#39;t continue from the same j. Imagine you first generate 3 1 4, then another 1. You now check that it&#39;s not 3, which is fine. You check that it&#39;s 1, which it is, so you reroll to 3. You then check 3 != 4, and finally conclude that the number is unique. That&#39;s how you end up with 3 1 4 3.","body":"With every number you roll, you have to start over so that the new number won&#39;t match any previous number. You can&#39;t continue from the same j. Imagine you first generate 3 1 4, then another 1. You now check that it&#39;s not 3, which is fine. You check that it&#39;s 1, which it is, so you reroll to 3. You then check 3 != 4, and finally conclude that the number is unique. That&#39;s how you end up with 3 1 4 3."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653605981,"post_id":72398803,"comment_id":127898442,"body_markdown":"So, your `for-loop` is checking for repeated characters, BUT each time you generate a new value (in the `while-loop`) you&#39;re not checking to see if the value exits before `j`","body":"So, your <code>for-loop</code> is checking for repeated characters, BUT each time you generate a new value (in the <code>while-loop</code>) you&#39;re not checking to see if the value exits before <code>j</code>"},{"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"score":0,"creation_date":1653606207,"post_id":72398803,"comment_id":127898476,"body_markdown":"If you generate numbers randomly, you cannot be sure that every new number will be unique. You&#39;d better do it the opposite way: First generate a list of candidate numbers sequentially. And then, chose them randomly dropping each selected candidate after.","body":"If you generate numbers randomly, you cannot be sure that every new number will be unique. You&#39;d better do it the opposite way: First generate a list of candidate numbers sequentially. And then, chose them randomly dropping each selected candidate after."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653606434,"post_id":72398803,"comment_id":127898514,"body_markdown":"Realistically, you only have a limited range of values (`1-9`) to choose from.  As LittleSanti says, create an array of those values and then randomly select an index from it","body":"Realistically, you only have a limited range of values (<code>1-9</code>) to choose from.  As LittleSanti says, create an array of those values and then randomly select an index from it"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1653606527,"post_id":72398803,"comment_id":127898540,"body_markdown":"`code = new Random().ints(1, 10).distinct().limit(code.length).toArray()`","body":"<code>code = new Random().ints(1, 10).distinct().limit(code.length).toArray()</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653606814,"creation_date":1653606423,"answer_id":72398890,"question_id":72398803,"body_markdown":"There are much easier ways to do this.  Using a `Set&lt;Integer&gt;` would be one.  Here is another.\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1,2,3,4,5,6,7,8));\r\nCollections.shuffle(list);\r\nSystem.out.println(list.subList(0,5));\r\n```\r\nprints something like\r\n```\r\n[4, 5, 8, 2, 1]\r\n```\r\nAs was pointed out to me, you may not be allowed to use or know about collections.  But I would recommend you at least make a helper method to check for duplicates to reduce the clutter.  Something like the following:\r\n```\r\npublic boolean contains(int[] arr, int n) {\r\n    for (int v : arr) {\r\n        if (v == n) {\r\n          return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\nThen you can keep checking the current value to be `false` before you add it. Once it works it also lets you focus on other aspects of your code.","title":"Generating an array of non-repeating integers","body":"<p>There are much easier ways to do this.  Using a <code>Set&lt;Integer&gt;</code> would be one.  Here is another.</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1,2,3,4,5,6,7,8));\nCollections.shuffle(list);\nSystem.out.println(list.subList(0,5));\n</code></pre>\n<p>prints something like</p>\n<pre><code>[4, 5, 8, 2, 1]\n</code></pre>\n<p>As was pointed out to me, you may not be allowed to use or know about collections.  But I would recommend you at least make a helper method to check for duplicates to reduce the clutter.  Something like the following:</p>\n<pre><code>public boolean contains(int[] arr, int n) {\n    for (int v : arr) {\n        if (v == n) {\n          return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Then you can keep checking the current value to be <code>false</code> before you add it. Once it works it also lets you focus on other aspects of your code.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653607378,"creation_date":1653607378,"answer_id":72398986,"question_id":72398803,"body_markdown":"So, your `for-loop` is checking for repeated characters, BUT each time you generate a new value (in the `while-loop`) you&#39;re not checking to see if the value exits before `j`. \r\n\r\nThere are a number of possible ways you might address this issue, I prefer ones which uses `Collections.shuffle`, but assuming that you can&#39;t use features like `Arrays`, `Collections`, `List`, `Set` or possibly even streams, we need to work with what we have, arrays.\r\n\r\nSince you have a small range of acceptable values which need to fit into an even smaller range, a simple solution might be to generate a &quot;master&quot; list of allowed values and randomly select a value from the master list, tracking which values you&#39;ve already picked.\r\n\r\nSounds more complicated then it actually is, for example...\r\n\r\n    public int[] generateCode() {\r\n        int[] masterValues = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n        int[] codes = new int[5];\r\n        \r\n        Random rnd = new Random();\r\n        int index = 0;\r\n        while (index &lt; codes.length) {\r\n            int lookupIndex = 0;\r\n            do {\r\n                lookupIndex = rnd.nextInt(masterValues.length);\r\n            } while (masterValues[lookupIndex] == 0);\r\n            codes[index] = masterValues[lookupIndex];\r\n            masterValues[lookupIndex] = 0;\r\n            index++;\r\n        }\r\n        return codes;\r\n    }\r\n\r\nThis creates a &quot;master&quot; list of values.  It then randomly calculates a &quot;lookup&quot; index, checks to see if the value in the master list is `0` or not, if not, it assigns it to the next index in the `codes` array and sets the value in the master list to `0`, otherwise it generates a new random index and tries again.  This all repeats till it fills the `codes` array\r\n\r\nSo doing something like...\r\n\r\n    System.out.println(Arrays.toString(generateCode()));\r\n    System.out.println(Arrays.toString(generateCode()));\r\n    System.out.println(Arrays.toString(generateCode()));\r\n    System.out.println(Arrays.toString(generateCode()));\r\n\r\ncould print (because it&#39;s &quot;random&quot;)...\r\n\r\n    [8, 1, 4, 7, 5]\r\n    [9, 6, 2, 1, 8]\r\n    [6, 5, 9, 4, 7]\r\n    [2, 5, 3, 1, 4]","title":"Generating an array of non-repeating integers","body":"<p>So, your <code>for-loop</code> is checking for repeated characters, BUT each time you generate a new value (in the <code>while-loop</code>) you're not checking to see if the value exits before <code>j</code>.</p>\n<p>There are a number of possible ways you might address this issue, I prefer ones which uses <code>Collections.shuffle</code>, but assuming that you can't use features like <code>Arrays</code>, <code>Collections</code>, <code>List</code>, <code>Set</code> or possibly even streams, we need to work with what we have, arrays.</p>\n<p>Since you have a small range of acceptable values which need to fit into an even smaller range, a simple solution might be to generate a &quot;master&quot; list of allowed values and randomly select a value from the master list, tracking which values you've already picked.</p>\n<p>Sounds more complicated then it actually is, for example...</p>\n<pre><code>public int[] generateCode() {\n    int[] masterValues = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n    int[] codes = new int[5];\n    \n    Random rnd = new Random();\n    int index = 0;\n    while (index &lt; codes.length) {\n        int lookupIndex = 0;\n        do {\n            lookupIndex = rnd.nextInt(masterValues.length);\n        } while (masterValues[lookupIndex] == 0);\n        codes[index] = masterValues[lookupIndex];\n        masterValues[lookupIndex] = 0;\n        index++;\n    }\n    return codes;\n}\n</code></pre>\n<p>This creates a &quot;master&quot; list of values.  It then randomly calculates a &quot;lookup&quot; index, checks to see if the value in the master list is <code>0</code> or not, if not, it assigns it to the next index in the <code>codes</code> array and sets the value in the master list to <code>0</code>, otherwise it generates a new random index and tries again.  This all repeats till it fills the <code>codes</code> array</p>\n<p>So doing something like...</p>\n<pre><code>System.out.println(Arrays.toString(generateCode()));\nSystem.out.println(Arrays.toString(generateCode()));\nSystem.out.println(Arrays.toString(generateCode()));\nSystem.out.println(Arrays.toString(generateCode()));\n</code></pre>\n<p>could print (because it's &quot;random&quot;)...</p>\n<pre><code>[8, 1, 4, 7, 5]\n[9, 6, 2, 1, 8]\n[6, 5, 9, 4, 7]\n[2, 5, 3, 1, 4]\n</code></pre>\n"}],"owner":{"account_id":25400723,"reputation":3,"user_id":19210278,"display_name":"Emily Zhang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72398986,"answer_count":2,"score":0,"last_activity_date":1653607378,"creation_date":1653605664,"question_id":72398803,"body_markdown":"I&#39;m trying to generate an array of 5 non-repeating integers in Java, but there are still repeats when I run it. Here&#39;s my code so far:\r\n\r\n    public int[] generateCode(){\r\n\t\tcode[0] = (int)Math.round(Math.random()*8+1); // initialize first number so it won&#39;t be compared against \r\n\t\tfor(int i=1; i&lt;code.length; i++){\r\n\t\t\tcode[i] = (int)Math.round(Math.random()*8)+1;\r\n\t\t\tfor(int j=0; j&lt;i; j++){\r\n\t\t\t\twhile(code[i]==code[j]){\r\n\t\t\t\t\tcode[i] = (int)Math.round(Math.random()*8)+1;\r\n\t\t\t\t}\r\n\t\t\t} // end inner for loop\r\n\t\t\t\r\n\t\t} // end outer for loop\r\n\t\treturn code;\r\n\t\t\r\n\t\t\r\n\t} // end generateCode method\r\n\r\n Any help is very much appreciated!","title":"Generating an array of non-repeating integers","body":"<p>I'm trying to generate an array of 5 non-repeating integers in Java, but there are still repeats when I run it. Here's my code so far:</p>\n<pre><code>public int[] generateCode(){\n    code[0] = (int)Math.round(Math.random()*8+1); // initialize first number so it won't be compared against \n    for(int i=1; i&lt;code.length; i++){\n        code[i] = (int)Math.round(Math.random()*8)+1;\n        for(int j=0; j&lt;i; j++){\n            while(code[i]==code[j]){\n                code[i] = (int)Math.round(Math.random()*8)+1;\n            }\n        } // end inner for loop\n        \n    } // end outer for loop\n    return code;\n    \n    \n} // end generateCode method\n</code></pre>\n<p>Any help is very much appreciated!</p>\n"},{"tags":["java","javafx","webview"],"comments":[{"owner":{"account_id":9896111,"reputation":2731,"user_id":7327572,"accept_rate":80,"display_name":"FilipRistic"},"score":1,"creation_date":1515946932,"post_id":48251340,"comment_id":83485623,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\" title=\"setting a cookie using javafxs webengine webview\">stackoverflow.com/questions/14385233/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1620163,"reputation":189,"user_id":1496925,"display_name":"Banjo Batman"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1606832749,"creation_date":1606758417,"answer_id":65078562,"question_id":48251340,"body_markdown":"The JavaFX webview uses an in memory cookie store, and therefore doesn&#39;t persist cookies between sessions. \r\nYou need to implement a cookie store yourself.\r\n\r\n    public class myCookieStore implements CookieStore {...this is where you implement the interface...}\r\n\r\nThen, inside that store you maintain a list of the cookies. \r\nPossibly like this, but it&#39;s up to you.\r\n\r\n     private List&lt;HttpCookie&gt; cookies = new ArrayList&lt;&gt;();\r\n\r\nOnce you do that, inside your javaFX initialize function, you set the webEngine cookiestore to your implementation. \r\n\r\n     @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        WebEngine engine = this.webViewID.getEngine();\r\n        java.net.CookieManager manager = new CookieManager(new myCookieStore(),CookiePolicy.ACCEPT_ALL);\r\n        java.net.CookieHandler.setDefault(manager);}\r\n\r\n\r\n\r\n\r\n\r\nInside your implementation of the CookieStore, you&#39;ll have to save that list of cookies to a file (or database, or wherever you&#39;re putting it) whenever it changes, then reload it when your app reloads.\r\n\r\nThis is where I&#39;m personally running into a roadblock and how I found your question. HttpCookie doesn&#39;t implement serializable and has private fields that won&#39;t reflect - which means you can&#39;t simply serialize and deserialize the list and using gson.toJson() (a solution listed here https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview)  also fails. You&#39;ll likely have to manually save the cookie fields, and rebuild the cookie. I&#39;ll update this with a solution for that if I actually ever get it to work myself. \r\n\r\n///UPDATE///\r\nIt turns out that the serilization problem with the HTTPCookie starts with Java 9. If you use Java 8, then you can simply implement the cookiestore interface, and then use the Gson example in the previously linked post to persist that list. However, if you&#39;re using Java 9 or higher, then you can no longer do this because it blocks the reflection that gson uses to gain access to the private fields. \r\n\r\nI re-implemented the publicly accessible members of the HTTPCookie object, like this:\r\n\r\n     public class myCookieClass implements Serializable{\r\n        private URI uri;\r\n        private String name;\r\n        private String value;\r\n        private String domain;\r\n        private String path;\r\n        private String portList;\r\n        private String comment;\r\n        private String commentURL;\r\n        private boolean httpOnly;\r\n        private boolean discard;\r\n        private long maxAge;\r\n        private boolean secure;\r\n        private int version;\r\n\r\n\r\n\r\n        public myCookieClass(URI uri, HttpCookie cookie){\r\n            name = cookie.getName();\r\n            value = cookie.getValue();\r\n            domain = cookie.getDomain();\r\n            maxAge =cookie.getMaxAge();\r\n            path = cookie.getPath();\r\n            httpOnly = cookie.isHttpOnly();\r\n            portList = cookie.getPortlist();\r\n            discard = cookie.getDiscard();\r\n            secure = cookie.getSecure();\r\n            version = cookie.getVersion();\r\n            comment = cookie.getComment();\r\n            commentURL = cookie.getCommentURL();\r\n            this.uri = uri;\r\n        }\r\n\r\n        public HttpCookie toCookie(){\r\n            HttpCookie cookie =  new HttpCookie(this.name,this.value);\r\n            cookie.setSecure(secure);\r\n            cookie.setDomain(domain);\r\n            cookie.setMaxAge(maxAge);\r\n            cookie.setPath(path);\r\n            cookie.setHttpOnly(httpOnly);\r\n            cookie.setPortlist(portList);\r\n            cookie.setDiscard(discard);\r\n            cookie.setVersion(version);\r\n            cookie.setComment(comment);\r\n            cookie.setCommentURL(commentURL);\r\n            cookie.setValue(value);\r\n            return cookie;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            myCookieClass that = (myCookieClass) o;\r\n            return  uri.equals(that.uri) &amp;&amp;\r\n                    name.equals(that.name);\r\n\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(uri, name);\r\n        }\r\n    }\r\n\r\n\r\nThen, I&#39;m using essentially the same gson example as before to save and restore that list. \r\n\r\n       public void RestoreCookieStoreFromFile(){\r\n        try {\r\n            File file = new File(fileName);\r\n            if (file.exists()) {\r\n                System.out.println(&quot;RESTORE COOKIES&quot;);\r\n                FileReader fileReader = new FileReader(fileName);\r\n                String json = new String(Files.readAllBytes(Paths.get(fileName)));\r\n                Gson gson = new GsonBuilder().create();\r\n                Type type = new TypeToken&lt;List&lt;myCookieClass&gt;&gt;() {\r\n                }.getType();\r\n                cookies = gson.fromJson(json, type);\r\n\r\n            }\r\n            } catch(FileNotFoundException e){\r\n                //file not found\r\n                e.printStackTrace();\r\n            } catch(IOException e){\r\n                // cant create object stream\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n    }\r\n\r\n    private void saveCookieStoreToFile(String location){\r\n        try {\r\n            Gson gson = new GsonBuilder().create();\r\n            String jsonCookie = gson.toJson(cookies);\r\n            Files.writeString(Path.of(fileName),jsonCookie);\r\n\r\n        } catch (FileNotFoundException e) {\r\n            // file not found\r\n            System.out.println(&quot;Can&#39;t Save File&quot;);\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Can&#39;t Save File OUTSTREAM&quot;);\r\n            // can&#39;t create output stream\r\n            e.printStackTrace();\r\n        }\r\n        catch (InaccessibleObjectException e){\r\n            System.out.println(&quot;Can&#39;t Access object&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\nThese are the cookiestore interface members that are actually doing the work, at least in my case. There are a few more members, but nothing seems to call those.\r\n\r\n      @Override\r\n    public void add(URI uri, HttpCookie cookie)\r\n    {\r\n\r\n            cookies.add(new myCookieClass(uri,cookie));\r\n\r\n            saveCookieStoreToFile(fileName);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public List&lt;HttpCookie&gt; get(URI uri) {\r\n\r\n\r\n        List&lt;HttpCookie&gt; uriCookies = new ArrayList&lt;&gt;();\r\n        myCookieClass[] tempCookies = cookies.toArray(myCookieClass[]::new);\r\n        for (myCookieClass c: tempCookies) {\r\n            if(c.uri.toString().contains(uri.getRawAuthority())){\r\n                uriCookies.add(c.toCookie());\r\n            }\r\n        }\r\n            return uriCookies;\r\n    }\r\n\r\n\r\n    @Override\r\n    public List&lt;HttpCookie&gt; getCookies() {\r\n\r\n            List&lt;HttpCookie&gt; httpCookies = new ArrayList&lt;&gt;();\r\n            myCookieClass[] tempCookies = cookies.toArray(myCookieClass[]::new);\r\n            for (myCookieClass c : tempCookies) {\r\n                httpCookies.add(c.toCookie());\r\n            }\r\n\r\n            return httpCookies;\r\n\r\n    }\r\n\r\n\r\nand just for completeness, this is the list that holds my cookies in memory.\r\n\r\n     private List&lt;myCookieClass&gt; cookies = new ArrayList&lt;&gt;();\r\n\r\nAs always, good luck!\r\n\r\n","title":"JavaFX webview doesn&#39;t save cookies","body":"<p>The JavaFX webview uses an in memory cookie store, and therefore doesn't persist cookies between sessions.\nYou need to implement a cookie store yourself.</p>\n<pre><code>public class myCookieStore implements CookieStore {...this is where you implement the interface...}\n</code></pre>\n<p>Then, inside that store you maintain a list of the cookies.\nPossibly like this, but it's up to you.</p>\n<pre><code> private List&lt;HttpCookie&gt; cookies = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Once you do that, inside your javaFX initialize function, you set the webEngine cookiestore to your implementation.</p>\n<pre><code> @Override\npublic void initialize(URL location, ResourceBundle resources) {\n    WebEngine engine = this.webViewID.getEngine();\n    java.net.CookieManager manager = new CookieManager(new myCookieStore(),CookiePolicy.ACCEPT_ALL);\n    java.net.CookieHandler.setDefault(manager);}\n</code></pre>\n<p>Inside your implementation of the CookieStore, you'll have to save that list of cookies to a file (or database, or wherever you're putting it) whenever it changes, then reload it when your app reloads.</p>\n<p>This is where I'm personally running into a roadblock and how I found your question. HttpCookie doesn't implement serializable and has private fields that won't reflect - which means you can't simply serialize and deserialize the list and using gson.toJson() (a solution listed here <a href=\"https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\">Setting a cookie using JavaFX&#39;s WebEngine/WebView</a>)  also fails. You'll likely have to manually save the cookie fields, and rebuild the cookie. I'll update this with a solution for that if I actually ever get it to work myself.</p>\n<p>///UPDATE///\nIt turns out that the serilization problem with the HTTPCookie starts with Java 9. If you use Java 8, then you can simply implement the cookiestore interface, and then use the Gson example in the previously linked post to persist that list. However, if you're using Java 9 or higher, then you can no longer do this because it blocks the reflection that gson uses to gain access to the private fields.</p>\n<p>I re-implemented the publicly accessible members of the HTTPCookie object, like this:</p>\n<pre><code> public class myCookieClass implements Serializable{\n    private URI uri;\n    private String name;\n    private String value;\n    private String domain;\n    private String path;\n    private String portList;\n    private String comment;\n    private String commentURL;\n    private boolean httpOnly;\n    private boolean discard;\n    private long maxAge;\n    private boolean secure;\n    private int version;\n\n\n\n    public myCookieClass(URI uri, HttpCookie cookie){\n        name = cookie.getName();\n        value = cookie.getValue();\n        domain = cookie.getDomain();\n        maxAge =cookie.getMaxAge();\n        path = cookie.getPath();\n        httpOnly = cookie.isHttpOnly();\n        portList = cookie.getPortlist();\n        discard = cookie.getDiscard();\n        secure = cookie.getSecure();\n        version = cookie.getVersion();\n        comment = cookie.getComment();\n        commentURL = cookie.getCommentURL();\n        this.uri = uri;\n    }\n\n    public HttpCookie toCookie(){\n        HttpCookie cookie =  new HttpCookie(this.name,this.value);\n        cookie.setSecure(secure);\n        cookie.setDomain(domain);\n        cookie.setMaxAge(maxAge);\n        cookie.setPath(path);\n        cookie.setHttpOnly(httpOnly);\n        cookie.setPortlist(portList);\n        cookie.setDiscard(discard);\n        cookie.setVersion(version);\n        cookie.setComment(comment);\n        cookie.setCommentURL(commentURL);\n        cookie.setValue(value);\n        return cookie;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        myCookieClass that = (myCookieClass) o;\n        return  uri.equals(that.uri) &amp;&amp;\n                name.equals(that.name);\n\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(uri, name);\n    }\n}\n</code></pre>\n<p>Then, I'm using essentially the same gson example as before to save and restore that list.</p>\n<pre><code>   public void RestoreCookieStoreFromFile(){\n    try {\n        File file = new File(fileName);\n        if (file.exists()) {\n            System.out.println(&quot;RESTORE COOKIES&quot;);\n            FileReader fileReader = new FileReader(fileName);\n            String json = new String(Files.readAllBytes(Paths.get(fileName)));\n            Gson gson = new GsonBuilder().create();\n            Type type = new TypeToken&lt;List&lt;myCookieClass&gt;&gt;() {\n            }.getType();\n            cookies = gson.fromJson(json, type);\n\n        }\n        } catch(FileNotFoundException e){\n            //file not found\n            e.printStackTrace();\n        } catch(IOException e){\n            // cant create object stream\n            e.printStackTrace();\n        }\n\n\n}\n\nprivate void saveCookieStoreToFile(String location){\n    try {\n        Gson gson = new GsonBuilder().create();\n        String jsonCookie = gson.toJson(cookies);\n        Files.writeString(Path.of(fileName),jsonCookie);\n\n    } catch (FileNotFoundException e) {\n        // file not found\n        System.out.println(&quot;Can't Save File&quot;);\n        e.printStackTrace();\n    } catch (IOException e) {\n        System.out.println(&quot;Can't Save File OUTSTREAM&quot;);\n        // can't create output stream\n        e.printStackTrace();\n    }\n    catch (InaccessibleObjectException e){\n        System.out.println(&quot;Can't Access object&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>These are the cookiestore interface members that are actually doing the work, at least in my case. There are a few more members, but nothing seems to call those.</p>\n<pre><code>  @Override\npublic void add(URI uri, HttpCookie cookie)\n{\n\n        cookies.add(new myCookieClass(uri,cookie));\n\n        saveCookieStoreToFile(fileName);\n\n}\n\n\n@Override\npublic List&lt;HttpCookie&gt; get(URI uri) {\n\n\n    List&lt;HttpCookie&gt; uriCookies = new ArrayList&lt;&gt;();\n    myCookieClass[] tempCookies = cookies.toArray(myCookieClass[]::new);\n    for (myCookieClass c: tempCookies) {\n        if(c.uri.toString().contains(uri.getRawAuthority())){\n            uriCookies.add(c.toCookie());\n        }\n    }\n        return uriCookies;\n}\n\n\n@Override\npublic List&lt;HttpCookie&gt; getCookies() {\n\n        List&lt;HttpCookie&gt; httpCookies = new ArrayList&lt;&gt;();\n        myCookieClass[] tempCookies = cookies.toArray(myCookieClass[]::new);\n        for (myCookieClass c : tempCookies) {\n            httpCookies.add(c.toCookie());\n        }\n\n        return httpCookies;\n\n}\n</code></pre>\n<p>and just for completeness, this is the list that holds my cookies in memory.</p>\n<pre><code> private List&lt;myCookieClass&gt; cookies = new ArrayList&lt;&gt;();\n</code></pre>\n<p>As always, good luck!</p>\n"}],"owner":{"account_id":12683298,"reputation":51,"user_id":9216136,"display_name":"Uli-B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2405,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1653607172,"creation_date":1515945132,"question_id":48251340,"body_markdown":"I am pretty new to JavaFX and need to program an application with a browser window. The browser will be used to login to microstock agency fotolia in order to solve the captchas presented at login. Obviously, when shutting down and later restarting my application, the cookies are not saved.\r\n\r\nIs there a way to store the cookies for the next session in JavaFX/webview? or can anybody tell me, why the cookies aren&#39;t stored?         ","title":"JavaFX webview doesn&#39;t save cookies","body":"<p>I am pretty new to JavaFX and need to program an application with a browser window. The browser will be used to login to microstock agency fotolia in order to solve the captchas presented at login. Obviously, when shutting down and later restarting my application, the cookies are not saved.</p>\n\n<p>Is there a way to store the cookies for the next session in JavaFX/webview? or can anybody tell me, why the cookies aren't stored?         </p>\n"},{"tags":["java","iterator","hashset"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1653607255,"post_id":72398956,"comment_id":127898660,"body_markdown":"Why are you recreating [`java.util.HashSet`](https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html)?","body":"Why are you recreating <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>java.util.HashSet</code></a>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653607623,"post_id":72398956,"comment_id":127898704,"body_markdown":"To implement that, we&#39;d need to know about that `LinkedList` and its methods. Is it from `java.util`?","body":"To implement that, we&#39;d need to know about that <code>LinkedList</code> and its methods. Is it from <code>java.util</code>?"},{"owner":{"account_id":24539506,"reputation":1,"user_id":18450053,"display_name":"Tom Reich"},"score":0,"creation_date":1653607979,"post_id":72398956,"comment_id":127898766,"body_markdown":"Yes the ArrayList is java.util, and I am creating a HashSet because my teacher is having us implement and understand data structures","body":"Yes the ArrayList is java.util, and I am creating a HashSet because my teacher is having us implement and understand data structures"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653608031,"post_id":72398956,"comment_id":127898780,"body_markdown":"You need to create a class which implements `Iterator` and return an instance of it. You&#39;ll need to implement the `hasNext` and `next` methods, so the class will need to contains some mutable state which lets it remember where it is up to in the set.","body":"You need to create a class which implements <code>Iterator</code> and return an instance of it. You&#39;ll need to implement the <code>hasNext</code> and <code>next</code> methods, so the class will need to contains some mutable state which lets it remember where it is up to in the set."}],"owner":{"account_id":24539506,"reputation":1,"user_id":18450053,"display_name":"Tom Reich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653607073,"creation_date":1653607073,"question_id":72398956,"body_markdown":"I need to create this HashSet class and I&#39;ve done everything except for implement the iterate method, I&#39;ve tried looking up source code for the built in HashSet but it doesn&#39;t function the same way as mine so I&#39;m currently at a loss for how to do it. I&#39;m not exactly familiar with iterators especially for HashSet/HashMap so any suggestions would be helpful, I&#39;m assuming its quite simple. \r\n\r\n```\r\npublic class HashSet&lt;E&gt; implements Set&lt;E&gt; {\r\n\tprivate final int[] primes = {100663319, 201326611, 402653189,805306457, 1610612741};\r\n\tprivate static final double LOAD_THRESHOLD = 0.75;\r\n\t\r\n\tLinkedList&lt;E&gt;[] buckets;\r\n\tint numEntries;\r\n\t\r\n\t//Parameters for Multiply-Add-Divide compression\r\n\t//hash function = ((hashCode() * a + b) % p) % buckets.length\r\n\tint a;\r\n\tint b;\r\n\tint p;\r\n\t\r\n\tpublic HashSet() {\r\n\t\tinitSet(16);\r\n\t}\r\n\t\r\n\tprivate void initSet(int bc) {\r\n\t\t//Init the array\r\n\t\tthis.buckets = new LinkedList[bc];\r\n\t\tthis.numEntries = 0;\r\n\t\t\r\n\t\t//Init the linked lists (buckets)\r\n\t\tfor(int i=0; i &lt; buckets.length; i++)\r\n\t\t{\r\n\t\t\tbuckets[i] = new LinkedList&lt;&gt;();\r\n\t\t}\r\n\t\t\r\n\t\t//Init MAD param\r\n\t\tthis.p = primes[(int) (Math.random() * primes.length)];\r\n\t\tthis.a = (int)(Math.random() * (p-1) + 1);\r\n\t\tthis.b = (int)(Math.random() * p);\r\n\t}\r\n\t\r\n\tprivate int hashFunction(E e)\r\n\t{\r\n\t\t// implements the MAD method of compression\r\n\t\treturn (Math.abs(e.hashCode() * a + b) % p) % this.buckets.length;\r\n\t}\r\n\t\r\n\tprivate int getIndex(E e) {\r\n\t\treturn hashFunction(e);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Iterator&lt;E&gt; iterator() {\r\n\t\t\r\n\t}\r\n\r\n\tprivate void expandIfNeeded() {\r\n\t\tif ((double) numEntries/buckets.length &gt; LOAD_THRESHOLD) {\r\n\t\t\t// save a reference to old buckets\r\n\t\t\tLinkedList&lt;E&gt;[] oldBuckets = buckets;\r\n\t\t\t// set up a new array of buckets (twice as large), reinitialize\r\n\t\t\tinitSet(buckets.length*2);\r\n\t\t\t// iterate through old buckets, adding each entry to new buckets\r\n\t\t\tfor (LinkedList&lt;E&gt; bucket: oldBuckets) {\r\n\t\t\t\tfor(E e : bucket)\r\n\t\t\t\t{\r\n\t\t\t\t\tbuckets[hashFunction(e)].add(e);\r\n\t\t\t\t\tnumEntries++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean add(E e) {\r\n\t\texpandIfNeeded();\r\n\t\t\r\n\t\tint index = hashFunction(e);\r\n\t\r\n\t\tLinkedList&lt;E&gt; bucket = buckets[index];\r\n\t\tfor(E elem : bucket)\r\n\t\t{\r\n\t\t\tif(elem.equals(e))\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// If the key doesn&#39;t already exist in the set,\r\n\t\t// put the new entry into its bucket.\r\n\t\tbucket.addFirst(e);\r\n\t\tnumEntries++;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean remove(E e) {\r\n\t\tint index = hashFunction(e);\r\n\t\t\r\n\t\tLinkedList&lt;E&gt; bucket = buckets[index];\r\n\t\tfor(E elem : bucket)\r\n\t\t{\r\n\t\t\tif(elem.equals(e))\r\n\t\t\t{\r\n\t\t\t\tbucket.remove(e);\r\n\t\t\t\tnumEntries--;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean contains(E e) {\r\n\t\tint index = hashFunction(e);\r\n\t\t\r\n\t\tLinkedList&lt;E&gt; bucket = buckets[index];\r\n\t\tfor(E elem : bucket)\r\n\t\t{\r\n\t\t\tif(elem.equals(e))\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void addAll(Set&lt;E&gt; T) {\r\n\t\tIterator&lt;E&gt; itr = T.iterator();\r\n\t\twhile(itr.hasNext()) {\r\n\t\t\tthis.add(itr.next());\r\n\t\t\tnumEntries++;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void retainAll(Set&lt;E&gt; T) {\r\n\t\tIterator&lt;E&gt; itr = this.iterator();\r\n\t\tE currentVal = null;\r\n\t\twhile(itr.hasNext()) {\r\n\t\t\tcurrentVal = itr.next();\r\n\t\t\tif (!T.contains(currentVal)) {\r\n\t\t\t\tthis.remove(currentVal);\r\n\t\t\t\tnumEntries--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void removeAll(Set&lt;E&gt; T) {\r\n\t\tIterator&lt;E&gt; itr = T.iterator();\r\n\t\tE currentVal = null;\r\n\t\twhile(itr.hasNext()) {\r\n\t\t\tcurrentVal = itr.next();\r\n\t\t\tif (this.contains(currentVal)) {\r\n\t\t\t\tthis.remove(currentVal);\r\n\t\t\t\tnumEntries--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic String toString()\r\n\t{\r\n\t\tString r = &quot;&quot;;\r\n\t\tint largestBucket = 0;\r\n\t\t\r\n\t\tfor(int i=0; i &lt; buckets.length; i++)\r\n\t\t{\r\n\t\t\tif(this.buckets[i].size() &gt; largestBucket)\r\n\t\t\t{\r\n\t\t\t\tlargestBucket = this.buckets[i].size();\r\n\t\t\t}\r\n\t\t\tr += &quot;Bucket &quot; + i + &quot;( &quot; + this.buckets[i].size() + &quot; ) - &quot;;\r\n\t\t\tfor(E e : this.buckets[i])\r\n\t\t\t{\r\n\t\t\t\tr += e + &quot; &quot;;\r\n\t\t\t}\r\n\t\t\tr += &quot;\\n&quot;;\r\n\t\t}\r\n\t\tr += &quot;\\nNumber of Entries: &quot; + this.numEntries + &quot;\\nLargest Bucket: &quot; + largestBucket + &quot;\\nLambda = &quot; + (double)this.numEntries/buckets.length;\r\n\t\t\r\n\t\treturn r;\r\n\r\n\t}\r\n\r\n}\r\n```","title":"How to implement an Iterator&lt;E&gt; iterator method in HashSet class?","body":"<p>I need to create this HashSet class and I've done everything except for implement the iterate method, I've tried looking up source code for the built in HashSet but it doesn't function the same way as mine so I'm currently at a loss for how to do it. I'm not exactly familiar with iterators especially for HashSet/HashMap so any suggestions would be helpful, I'm assuming its quite simple.</p>\n<pre><code>public class HashSet&lt;E&gt; implements Set&lt;E&gt; {\n    private final int[] primes = {100663319, 201326611, 402653189,805306457, 1610612741};\n    private static final double LOAD_THRESHOLD = 0.75;\n    \n    LinkedList&lt;E&gt;[] buckets;\n    int numEntries;\n    \n    //Parameters for Multiply-Add-Divide compression\n    //hash function = ((hashCode() * a + b) % p) % buckets.length\n    int a;\n    int b;\n    int p;\n    \n    public HashSet() {\n        initSet(16);\n    }\n    \n    private void initSet(int bc) {\n        //Init the array\n        this.buckets = new LinkedList[bc];\n        this.numEntries = 0;\n        \n        //Init the linked lists (buckets)\n        for(int i=0; i &lt; buckets.length; i++)\n        {\n            buckets[i] = new LinkedList&lt;&gt;();\n        }\n        \n        //Init MAD param\n        this.p = primes[(int) (Math.random() * primes.length)];\n        this.a = (int)(Math.random() * (p-1) + 1);\n        this.b = (int)(Math.random() * p);\n    }\n    \n    private int hashFunction(E e)\n    {\n        // implements the MAD method of compression\n        return (Math.abs(e.hashCode() * a + b) % p) % this.buckets.length;\n    }\n    \n    private int getIndex(E e) {\n        return hashFunction(e);\n    }\n    \n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        \n    }\n\n    private void expandIfNeeded() {\n        if ((double) numEntries/buckets.length &gt; LOAD_THRESHOLD) {\n            // save a reference to old buckets\n            LinkedList&lt;E&gt;[] oldBuckets = buckets;\n            // set up a new array of buckets (twice as large), reinitialize\n            initSet(buckets.length*2);\n            // iterate through old buckets, adding each entry to new buckets\n            for (LinkedList&lt;E&gt; bucket: oldBuckets) {\n                for(E e : bucket)\n                {\n                    buckets[hashFunction(e)].add(e);\n                    numEntries++;\n                }\n            }\n        }\n    }\n\n    @Override\n    public boolean add(E e) {\n        expandIfNeeded();\n        \n        int index = hashFunction(e);\n    \n        LinkedList&lt;E&gt; bucket = buckets[index];\n        for(E elem : bucket)\n        {\n            if(elem.equals(e))\n            {\n                return false;\n            }\n        }\n        \n        // If the key doesn't already exist in the set,\n        // put the new entry into its bucket.\n        bucket.addFirst(e);\n        numEntries++;\n        return true;\n    }\n\n    @Override\n    public boolean remove(E e) {\n        int index = hashFunction(e);\n        \n        LinkedList&lt;E&gt; bucket = buckets[index];\n        for(E elem : bucket)\n        {\n            if(elem.equals(e))\n            {\n                bucket.remove(e);\n                numEntries--;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public boolean contains(E e) {\n        int index = hashFunction(e);\n        \n        LinkedList&lt;E&gt; bucket = buckets[index];\n        for(E elem : bucket)\n        {\n            if(elem.equals(e))\n            {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public void addAll(Set&lt;E&gt; T) {\n        Iterator&lt;E&gt; itr = T.iterator();\n        while(itr.hasNext()) {\n            this.add(itr.next());\n            numEntries++;\n        }\n    }\n\n    @Override\n    public void retainAll(Set&lt;E&gt; T) {\n        Iterator&lt;E&gt; itr = this.iterator();\n        E currentVal = null;\n        while(itr.hasNext()) {\n            currentVal = itr.next();\n            if (!T.contains(currentVal)) {\n                this.remove(currentVal);\n                numEntries--;\n            }\n        }\n    }\n\n    @Override\n    public void removeAll(Set&lt;E&gt; T) {\n        Iterator&lt;E&gt; itr = T.iterator();\n        E currentVal = null;\n        while(itr.hasNext()) {\n            currentVal = itr.next();\n            if (this.contains(currentVal)) {\n                this.remove(currentVal);\n                numEntries--;\n            }\n        }\n    }\n    \n    public String toString()\n    {\n        String r = &quot;&quot;;\n        int largestBucket = 0;\n        \n        for(int i=0; i &lt; buckets.length; i++)\n        {\n            if(this.buckets[i].size() &gt; largestBucket)\n            {\n                largestBucket = this.buckets[i].size();\n            }\n            r += &quot;Bucket &quot; + i + &quot;( &quot; + this.buckets[i].size() + &quot; ) - &quot;;\n            for(E e : this.buckets[i])\n            {\n                r += e + &quot; &quot;;\n            }\n            r += &quot;\\n&quot;;\n        }\n        r += &quot;\\nNumber of Entries: &quot; + this.numEntries + &quot;\\nLargest Bucket: &quot; + largestBucket + &quot;\\nLambda = &quot; + (double)this.numEntries/buckets.length;\n        \n        return r;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","graphics","jframe","java-2d"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652931659,"post_id":72298043,"comment_id":127728503,"body_markdown":"You have be careful with translations, when you translate a `Graphics` context, all following operations are effected by it. Also, Swing is not thread safe, so you shouldn&#39;t be using a `Thread` for your main loop and instead you should be using a Swing `Timer`.  You should also be calling `super.paintComponent`","body":"You have be careful with translations, when you translate a <code>Graphics</code> context, all following operations are effected by it. Also, Swing is not thread safe, so you shouldn&#39;t be using a <code>Thread</code> for your main loop and instead you should be using a Swing <code>Timer</code>.  You should also be calling <code>super.paintComponent</code>"},{"owner":{"account_id":25329709,"reputation":13,"user_id":19149693,"display_name":"kaman5"},"score":0,"creation_date":1652933022,"post_id":72298043,"comment_id":127728743,"body_markdown":"@MadProgrammer I&#39;m sorry, I don&#39;t quite understand what it means to have the following operations effected by the translation. Could you give me an example?","body":"@MadProgrammer I&#39;m sorry, I don&#39;t quite understand what it means to have the following operations effected by the translation. Could you give me an example?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652933176,"post_id":72298043,"comment_id":127728783,"body_markdown":"If you translate the `Graphics` context, ie position or rotation, all following operations will be effected by those operations.  If you apply another translation, it will be applied on top of the existing operations, ie, if you apply a 45 degree rotation, draw stuff and then apply another 45 degree rotation, all following operations will be rotate by a total of 90 degrees","body":"If you translate the <code>Graphics</code> context, ie position or rotation, all following operations will be effected by those operations.  If you apply another translation, it will be applied on top of the existing operations, ie, if you apply a 45 degree rotation, draw stuff and then apply another 45 degree rotation, all following operations will be rotate by a total of 90 degrees"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1652936928,"post_id":72298043,"comment_id":127729429,"body_markdown":"Given the points of @MadProgrammer, I would typically grab the transform (and reference in a local variable) of the `Graphics` object before doing any transformations on the transform of the graphics, just to use to *reset* the graphics object to its original transform for subsequent painting.","body":"Given the points of @MadProgrammer, I would typically grab the transform (and reference in a local variable) of the <code>Graphics</code> object before doing any transformations on the transform of the graphics, just to use to <i>reset</i> the graphics object to its original transform for subsequent painting."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653606880,"creation_date":1652943558,"answer_id":72299955,"question_id":72298043,"body_markdown":"You have to keep in mind that transformations are compounding, so if you rotate the `Graphics` context by 45 degrees, everything painted after it will be rotated 45 degrees (around the point of rotation), if you rotate it again by 45 degrees, everything painted after it will be rotated a total of 90 degrees.\r\n\r\nIf you want to paint additional content after a transformation, then you either need to undo the transformation, or, preferably, take a snapshot of the `Graphics` context and dispose of it (the snapshot) when you&#39;re done.\r\n\r\nYou also need to beware of the point of rotation, `Graphics2D#rotate(double)` will rotate the `Graphics` around the point of origin (ie `0x0`), which may not be desirable.  You can change this by either changing the origin point (ie translate) or using `Graphics2D#rotate(double, double, double)`, which allows you to define the point of rotation.\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            enum Direction {\r\n                LEFT, RIGHT;\r\n            }\r\n\r\n            protected enum InputAction {\r\n                PRESSED_LEFT, PRESSED_RIGHT, RELEASED_LEFT, RELEASED_RIGHT\r\n            }\r\n\r\n            private BufferedImage car;\r\n            private BufferedImage road;\r\n\r\n            private Set&lt;Direction&gt; directions = new TreeSet&lt;&gt;();\r\n\r\n            private double directionOfRotation = 0;\r\n\r\n            public TestPane() throws IOException {\r\n                car = ImageIO.read(getClass().getResource(&quot;/images/Car.png&quot;));\r\n                road = ImageIO.read(getClass().getResource(&quot;/images/Road.png&quot;));\r\n\r\n                InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap am = getActionMap();\r\n\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false), InputAction.PRESSED_LEFT);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true), InputAction.RELEASED_LEFT);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false), InputAction.PRESSED_RIGHT);\r\n                im.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true), InputAction.RELEASED_RIGHT);\r\n\r\n                am.put(InputAction.PRESSED_LEFT, new DirectionAction(Direction.LEFT, true));\r\n                am.put(InputAction.RELEASED_LEFT, new DirectionAction(Direction.LEFT, false));\r\n                am.put(InputAction.PRESSED_RIGHT, new DirectionAction(Direction.RIGHT, true));\r\n                am.put(InputAction.RELEASED_RIGHT, new DirectionAction(Direction.RIGHT, false));\r\n\r\n                Timer timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (directions.contains(Direction.RIGHT)) {\r\n                            directionOfRotation += 1;\r\n                        } else if (directions.contains(Direction.LEFT)) {\r\n                            directionOfRotation -= 1;\r\n                        }\r\n\r\n                        // No doughnuts for you :P\r\n                        if (directionOfRotation &gt; 180) {\r\n                            directionOfRotation = 180;\r\n                        } else if (directionOfRotation &lt; -180) {\r\n                            directionOfRotation = -180;\r\n                        }\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            protected void setDirectionActive(Direction direction, boolean active) {\r\n                if (active) {\r\n                    directions.add(direction);\r\n                } else {\r\n                    directions.remove(direction);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(213, 216);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                drawRoadSurface(g2d);\r\n                drawCar(g2d);\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void drawCar(Graphics2D g2d) {\r\n                g2d = (Graphics2D) g2d.create();\r\n                int x = (getWidth() - car.getWidth()) / 2;\r\n                int y = (getHeight() - car.getHeight()) / 2;\r\n                g2d.drawImage(car, x, y, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected void drawRoadSurface(Graphics2D g2d) {\r\n                g2d = (Graphics2D) g2d.create();\r\n                // This sets the point of rotation at the center of the window\r\n                int midX = getWidth() / 2;\r\n                int midY = getHeight() / 2;\r\n                g2d.rotate(Math.toRadians(directionOfRotation), midX, midY);\r\n                // We then need to offset the top/left corner so that what \r\n                // we want draw appears to be in the center of the window,\r\n                // and thus will be rotated around it&#39;s center\r\n                int x = midX - (road.getWidth() / 2);\r\n                int y = midY - (road.getHeight() / 2);\r\n                g2d.drawImage(road, x, y, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n            protected class DirectionAction extends AbstractAction {\r\n\r\n                private Direction direction;\r\n                private boolean active;\r\n\r\n                public DirectionAction(Direction direction, boolean active) {\r\n                    this.direction = direction;\r\n                    this.active = active;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    setDirectionActive(direction, active);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ULNiz.gif","title":"How do I make a top down view with the ability to rotate with built in java graphics?","body":"<p>You have to keep in mind that transformations are compounding, so if you rotate the <code>Graphics</code> context by 45 degrees, everything painted after it will be rotated 45 degrees (around the point of rotation), if you rotate it again by 45 degrees, everything painted after it will be rotated a total of 90 degrees.</p>\n<p>If you want to paint additional content after a transformation, then you either need to undo the transformation, or, preferably, take a snapshot of the <code>Graphics</code> context and dispose of it (the snapshot) when you're done.</p>\n<p>You also need to beware of the point of rotation, <code>Graphics2D#rotate(double)</code> will rotate the <code>Graphics</code> around the point of origin (ie <code>0x0</code>), which may not be desirable.  You can change this by either changing the origin point (ie translate) or using <code>Graphics2D#rotate(double, double, double)</code>, which allows you to define the point of rotation.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/ULNiz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULNiz.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.Set;\nimport java.util.TreeSet;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        enum Direction {\n            LEFT, RIGHT;\n        }\n\n        protected enum InputAction {\n            PRESSED_LEFT, PRESSED_RIGHT, RELEASED_LEFT, RELEASED_RIGHT\n        }\n\n        private BufferedImage car;\n        private BufferedImage road;\n\n        private Set&lt;Direction&gt; directions = new TreeSet&lt;&gt;();\n\n        private double directionOfRotation = 0;\n\n        public TestPane() throws IOException {\n            car = ImageIO.read(getClass().getResource(&quot;/images/Car.png&quot;));\n            road = ImageIO.read(getClass().getResource(&quot;/images/Road.png&quot;));\n\n            InputMap im = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap am = getActionMap();\n\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false), InputAction.PRESSED_LEFT);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true), InputAction.RELEASED_LEFT);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false), InputAction.PRESSED_RIGHT);\n            im.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true), InputAction.RELEASED_RIGHT);\n\n            am.put(InputAction.PRESSED_LEFT, new DirectionAction(Direction.LEFT, true));\n            am.put(InputAction.RELEASED_LEFT, new DirectionAction(Direction.LEFT, false));\n            am.put(InputAction.PRESSED_RIGHT, new DirectionAction(Direction.RIGHT, true));\n            am.put(InputAction.RELEASED_RIGHT, new DirectionAction(Direction.RIGHT, false));\n\n            Timer timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (directions.contains(Direction.RIGHT)) {\n                        directionOfRotation += 1;\n                    } else if (directions.contains(Direction.LEFT)) {\n                        directionOfRotation -= 1;\n                    }\n\n                    // No doughnuts for you :P\n                    if (directionOfRotation &gt; 180) {\n                        directionOfRotation = 180;\n                    } else if (directionOfRotation &lt; -180) {\n                        directionOfRotation = -180;\n                    }\n\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        protected void setDirectionActive(Direction direction, boolean active) {\n            if (active) {\n                directions.add(direction);\n            } else {\n                directions.remove(direction);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(213, 216);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            drawRoadSurface(g2d);\n            drawCar(g2d);\n            g2d.dispose();\n        }\n\n        protected void drawCar(Graphics2D g2d) {\n            g2d = (Graphics2D) g2d.create();\n            int x = (getWidth() - car.getWidth()) / 2;\n            int y = (getHeight() - car.getHeight()) / 2;\n            g2d.drawImage(car, x, y, this);\n            g2d.dispose();\n        }\n\n        protected void drawRoadSurface(Graphics2D g2d) {\n            g2d = (Graphics2D) g2d.create();\n            // This sets the point of rotation at the center of the window\n            int midX = getWidth() / 2;\n            int midY = getHeight() / 2;\n            g2d.rotate(Math.toRadians(directionOfRotation), midX, midY);\n            // We then need to offset the top/left corner so that what \n            // we want draw appears to be in the center of the window,\n            // and thus will be rotated around it's center\n            int x = midX - (road.getWidth() / 2);\n            int y = midY - (road.getHeight() / 2);\n            g2d.drawImage(road, x, y, this);\n            g2d.dispose();\n        }\n\n        protected class DirectionAction extends AbstractAction {\n\n            private Direction direction;\n            private boolean active;\n\n            public DirectionAction(Direction direction, boolean active) {\n                this.direction = direction;\n                this.active = active;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                setDirectionActive(direction, active);\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25329709,"reputation":13,"user_id":19149693,"display_name":"kaman5"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72299955,"answer_count":1,"score":1,"last_activity_date":1653606880,"creation_date":1652928121,"question_id":72298043,"body_markdown":"I&#39;m trying to make a racing game with the top down view on a static player in the middle of the screen, so instead of moving the player through the map, the map would move around the player. Since it&#39;s a racing game, I wanted it to also be somewhat similar to a car, but I&#39;ve been having trouble with rotating the map around the player and having that work with translations.\r\n\r\nI&#39;ve tried keeping track of the center by adding or subtracting from it, which is what I did for the translations, but it doesn&#39;t work with the rotate method. The rotate function wouldn&#39;t rotate about the player and instead would rotate the player around some other point, and the translations would snap to a different location from the rotations. I&#39;m sure my approach is flawed, and I have read about layers and such, but I&#39;m not sure what I can do with them or how to use them. Also, any recommendations as to how to use java graphics in general would be greatly appreciated!\r\n\r\nThis is what I have in my main:\r\n```\r\nimport javax.swing.JFrame;\r\n\r\nimport java.awt.BorderLayout;\r\n\r\npublic class game \r\n{\r\n\tpublic static void main(String []args)\r\n\t{\r\n\t\tJFrame frame = new JFrame();\r\n\t\tfinal int FRAME_WIDTH = 1000;\r\n\t\tfinal int FRAME_HEIGHT = 600;\r\n\t\tframe.setSize(FRAME_WIDTH, FRAME_HEIGHT);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tfinal Map b = new Map();\r\n\t\tframe.add(b,BorderLayout.CENTER);\r\n\t\tframe.setVisible(true); \r\n\t\tb.startAnimation();\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is the class that handles all the graphics\r\n```\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.swing.JComponent;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class Map extends JComponent implements Runnable, KeyListener\r\n{\t\r\n\tprivate int speed = 5;\r\n\tprivate int xcenter = 500; // starts on player\r\n\tprivate int ycenter = 300;\r\n\tprivate double angle = 0.0;\r\n\t\r\n\tprivate int[] xcords = {xcenter+10, xcenter, xcenter+20};\r\n\tprivate int[] ycords = {ycenter-10, ycenter+20, ycenter+20};\r\n\t\r\n\tprivate boolean moveNorth = false;\r\n\tprivate boolean moveEast = false;\r\n\tprivate boolean moveSouth = false;\r\n\tprivate boolean moveWest = false;\r\n\r\n\tpublic Map()\r\n\t{\r\n\t\taddKeyListener(this);\r\n\t\tsetFocusable(true);\r\n\t\tsetFocusTraversalKeysEnabled(false);\r\n\t}\r\n\t\r\n\tpublic void startAnimation()\r\n\t{\r\n \t\tThread t = new Thread(this);\r\n\t\tt.start();\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g)\r\n\t{\r\n\t\tg.fillPolygon(xcords, ycords, 3);\r\n\r\n\t\t// move screen\r\n\t\tif(moveNorth)\r\n\t\t{\r\n\t\t\tycenter += speed;\r\n\t\t\tg.translate(xcenter, ycenter);\r\n\t\t}\r\n\t\t\r\n\t\telse if(moveEast)\r\n\t\t{\r\n\t\t\tangle += ((1 * Math.PI/180) % (2 * Math.PI));\r\n\t\t\t((Graphics2D) g).rotate(angle, 0, 0);\r\n\t\t}\r\n\t\t\r\n\t\telse if(moveSouth)\r\n\t\t{\r\n\t\t\tSystem.out.println(xcenter + &quot;, &quot; + ycenter);\r\n\t\t\tycenter -= speed;\r\n\t\t\t((Graphics2D) g).rotate(angle, 0, 0);\r\n\t\t\tg.translate(xcenter, ycenter);\r\n\t\t}\r\n\t\t\r\n\t\telse if(moveWest)\r\n\t\t{\r\n\t\t\tangle -= Math.toRadians(1) % (2 * Math.PI);\r\n\t\t\t((Graphics2D) g).rotate(angle, 0, 0);\r\n\t\t}\r\n\t\tfor(int i = -10; i &lt; 21; i++)\r\n\t\t{\r\n\t\t\tg.drawLine(i * 50, -1000, i * 50, 1000);\r\n\t\t\tg.drawLine(-1000, i * 50, 1000, i * 50);\r\n\t\t}\r\n\t\tg.drawOval(0, 0, 35, 35);\r\n\r\n\t}\r\n\t\r\n\tpublic void run()\r\n\t{\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tif(moveNorth || moveEast || moveSouth || moveWest)\r\n\t\t\t\t{\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t}\r\n\t\t\t\tThread.sleep(10);\r\n\t\t\t}\r\n\t\t\tcatch (InterruptedException e)\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void keyPressed(KeyEvent e)\r\n\t{\r\n\t\tif(e.getExtendedKeyCode() == 68) // d\r\n\t\t{\r\n\t\t\tmoveEast = true;\r\n\t\t}\r\n\t\t\r\n\t\telse if(e.getExtendedKeyCode() == 87) // w\r\n\t\t{\r\n\t\t\tmoveNorth = true;\r\n\t\t}\r\n\t\t\r\n\t\telse if(e.getExtendedKeyCode() == 65) // a\r\n\t\t{\r\n\t\t\tmoveWest = true;\r\n\t\t}\r\n\t\t\r\n\t\telse if(e.getExtendedKeyCode() == 83) // s\r\n\t\t{\r\n\t\t\tmoveSouth = true;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void keyReleased(KeyEvent e)\r\n\t{\r\n\t\tmoveNorth = false;\r\n\t\tmoveEast = false;\r\n\t\tmoveSouth = false;\r\n\t\tmoveWest = false;\r\n\t}\r\n\t\r\n\tpublic void keyTyped(KeyEvent e)\r\n\t{\r\n\t\t\r\n\t}\r\n}\r\n```","title":"How do I make a top down view with the ability to rotate with built in java graphics?","body":"<p>I'm trying to make a racing game with the top down view on a static player in the middle of the screen, so instead of moving the player through the map, the map would move around the player. Since it's a racing game, I wanted it to also be somewhat similar to a car, but I've been having trouble with rotating the map around the player and having that work with translations.</p>\n<p>I've tried keeping track of the center by adding or subtracting from it, which is what I did for the translations, but it doesn't work with the rotate method. The rotate function wouldn't rotate about the player and instead would rotate the player around some other point, and the translations would snap to a different location from the rotations. I'm sure my approach is flawed, and I have read about layers and such, but I'm not sure what I can do with them or how to use them. Also, any recommendations as to how to use java graphics in general would be greatly appreciated!</p>\n<p>This is what I have in my main:</p>\n<pre><code>import javax.swing.JFrame;\n\nimport java.awt.BorderLayout;\n\npublic class game \n{\n    public static void main(String []args)\n    {\n        JFrame frame = new JFrame();\n        final int FRAME_WIDTH = 1000;\n        final int FRAME_HEIGHT = 600;\n        frame.setSize(FRAME_WIDTH, FRAME_HEIGHT);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        final Map b = new Map();\n        frame.add(b,BorderLayout.CENTER);\n        frame.setVisible(true); \n        b.startAnimation();\n    }\n}\n</code></pre>\n<p>And this is the class that handles all the graphics</p>\n<pre><code>import java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.JComponent;\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class Map extends JComponent implements Runnable, KeyListener\n{   \n    private int speed = 5;\n    private int xcenter = 500; // starts on player\n    private int ycenter = 300;\n    private double angle = 0.0;\n    \n    private int[] xcords = {xcenter+10, xcenter, xcenter+20};\n    private int[] ycords = {ycenter-10, ycenter+20, ycenter+20};\n    \n    private boolean moveNorth = false;\n    private boolean moveEast = false;\n    private boolean moveSouth = false;\n    private boolean moveWest = false;\n\n    public Map()\n    {\n        addKeyListener(this);\n        setFocusable(true);\n        setFocusTraversalKeysEnabled(false);\n    }\n    \n    public void startAnimation()\n    {\n        Thread t = new Thread(this);\n        t.start();\n    }\n    \n    public void paintComponent(Graphics g)\n    {\n        g.fillPolygon(xcords, ycords, 3);\n\n        // move screen\n        if(moveNorth)\n        {\n            ycenter += speed;\n            g.translate(xcenter, ycenter);\n        }\n        \n        else if(moveEast)\n        {\n            angle += ((1 * Math.PI/180) % (2 * Math.PI));\n            ((Graphics2D) g).rotate(angle, 0, 0);\n        }\n        \n        else if(moveSouth)\n        {\n            System.out.println(xcenter + &quot;, &quot; + ycenter);\n            ycenter -= speed;\n            ((Graphics2D) g).rotate(angle, 0, 0);\n            g.translate(xcenter, ycenter);\n        }\n        \n        else if(moveWest)\n        {\n            angle -= Math.toRadians(1) % (2 * Math.PI);\n            ((Graphics2D) g).rotate(angle, 0, 0);\n        }\n        for(int i = -10; i &lt; 21; i++)\n        {\n            g.drawLine(i * 50, -1000, i * 50, 1000);\n            g.drawLine(-1000, i * 50, 1000, i * 50);\n        }\n        g.drawOval(0, 0, 35, 35);\n\n    }\n    \n    public void run()\n    {\n        while (true)\n        {\n            try\n            {\n                if(moveNorth || moveEast || moveSouth || moveWest)\n                {\n                    repaint();\n                }\n                Thread.sleep(10);\n            }\n            catch (InterruptedException e)\n            {\n            \n            }\n        }\n    }\n    \n    public void keyPressed(KeyEvent e)\n    {\n        if(e.getExtendedKeyCode() == 68) // d\n        {\n            moveEast = true;\n        }\n        \n        else if(e.getExtendedKeyCode() == 87) // w\n        {\n            moveNorth = true;\n        }\n        \n        else if(e.getExtendedKeyCode() == 65) // a\n        {\n            moveWest = true;\n        }\n        \n        else if(e.getExtendedKeyCode() == 83) // s\n        {\n            moveSouth = true;\n        }\n        \n    }\n    \n    public void keyReleased(KeyEvent e)\n    {\n        moveNorth = false;\n        moveEast = false;\n        moveSouth = false;\n        moveWest = false;\n    }\n    \n    public void keyTyped(KeyEvent e)\n    {\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1653605222,"post_id":72398101,"comment_id":127898302,"body_markdown":"The V1 API you are using is old and not best practice. Look at using V2.... https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3","body":"The V1 API you are using is old and not best practice. Look at using V2.... <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>"},{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1653606032,"post_id":72398101,"comment_id":127898449,"body_markdown":"From the base S3 API: &quot;[If there isn&#39;t a null version, Amazon S3 does not remove any objects but will still respond that the command was successful](https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObject.html).&quot;  In other words, S3 itself has no way to atomically determine if an object exists and if it does, delete it.  At best, you can see if it exists before you attempt to delete it, but it&#39;s possible it will be created after you check.","body":"From the base S3 API: &quot;<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObject.html\" rel=\"nofollow noreferrer\">If there isn&#39;t a null version, Amazon S3 does not remove any objects but will still respond that the command was successful</a>.&quot;  In other words, S3 itself has no way to atomically determine if an object exists and if it does, delete it.  At best, you can see if it exists before you attempt to delete it, but it&#39;s possible it will be created after you check."}],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653606767,"creation_date":1653606767,"answer_id":72398927,"question_id":72398101,"body_markdown":"`DeleteItem` will still return a successful response if the object does not exist. This is irrespective of SDK version or language as this response is returned by the underlying S3 API.\r\n\r\nIf you need to know an object has been deleted or not, since you&#39;re on the v1 of the Java SDK:\r\n\r\n1. For every object, call [`doesObjectExist`][1] passing in the bucket name &amp; object name\r\n\r\n2. If `true` is returned, add to a `toBeDeleted` list\r\n3. If `false` is returned, add to a `notDeleted` list\r\n4. Call `deleteObjects` for the items in `toBeDeleted`\r\n5. If any items failed to be deleted, remove from `toBeDeleted` &amp; add to `notDeleted`\r\n\r\nAnything in `notDeleted`, was not deleted &amp; anything in `toBeDeleted` was deleted.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#doesObjectExist-java.lang.String-java.lang.String-","title":"List specific objects in AWS S3 SDK","body":"<p><code>DeleteItem</code> will still return a successful response if the object does not exist. This is irrespective of SDK version or language as this response is returned by the underlying S3 API.</p>\n<p>If you need to know an object has been deleted or not, since you're on the v1 of the Java SDK:</p>\n<ol>\n<li><p>For every object, call <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#doesObjectExist-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>doesObjectExist</code></a> passing in the bucket name &amp; object name</p>\n</li>\n<li><p>If <code>true</code> is returned, add to a <code>toBeDeleted</code> list</p>\n</li>\n<li><p>If <code>false</code> is returned, add to a <code>notDeleted</code> list</p>\n</li>\n<li><p>Call <code>deleteObjects</code> for the items in <code>toBeDeleted</code></p>\n</li>\n<li><p>If any items failed to be deleted, remove from <code>toBeDeleted</code> &amp; add to <code>notDeleted</code></p>\n</li>\n</ol>\n<p>Anything in <code>notDeleted</code>, was not deleted &amp; anything in <code>toBeDeleted</code> was deleted.</p>\n"}],"owner":{"account_id":13387499,"reputation":51,"user_id":9660897,"display_name":"Breno Araripe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72398927,"answer_count":1,"score":0,"last_activity_date":1653606767,"creation_date":1653599819,"question_id":72398101,"body_markdown":"I&#39;m trying to delete multiple objects in a bucket using SDK, but when i pass the list of KeyVersions to the method .deleteObjects(deleteObjectsRequest), he actually deletes the objects from my list, but if i pass a list that contain one or more objects that aren&#39;t inside the Bucket it deletes the objects found and does not return which objects weren&#39;t deleted because wasn&#39;t found. \r\n\r\n```\r\nprivate void deleteMultipleObjectsFromS3(final List&lt;KeyVersion&gt; objectsKeys) {\r\n    final DeleteObjectsRequest deleteObjectsRequest = new DeleteObjectsRequest(this.bucketName)\r\n            .withKeys(objectsKeys)\r\n            .withQuiet(false);\r\n\r\n    try {\r\n          s3Client.deleteObjects(deleteObjectsRequest);\r\n        } catch (final AmazonServiceException e) {\r\n          throw new AmazonSdkException(e, e.getErrorMessage(), DELETE_OPERATION, \r\n          this.bucketName, objectsKeys.toString());\r\n        } catch (SdkClientException e) {\r\n          throw new AmazonSdkException(e, e.getLocalizedMessage(), DELETE_OPERATION, this.bucketName, objectsKeys.toString());\r\n    }\r\n  }\r\n```\r\n\r\nThe response get all objects that i passed, i need to inform in the endpoint which objects were, or not, deleted.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/llh0m.png\r\n\r\nI&#39;m using Java SDK version 1.12.181\r\n\r\nEDIT 1:\r\n\r\nI&#39;ve also tried to get the objects sumaries, but it returns all objects in the bucket. What i don&#39;t want, because some buckets that i&#39;ll operate might have more than 100.000 objects.\r\n\r\n```\r\nfinal ListObjectsV2Result listObjectsV2Result = s3Client.listObjectsV2(listObjectsRequest);\r\nfinal List&lt;S3ObjectSummary&gt; s3ObjectSummary = listObjectsV2Result.getObjectSummaries();\r\n```","title":"List specific objects in AWS S3 SDK","body":"<p>I'm trying to delete multiple objects in a bucket using SDK, but when i pass the list of KeyVersions to the method .deleteObjects(deleteObjectsRequest), he actually deletes the objects from my list, but if i pass a list that contain one or more objects that aren't inside the Bucket it deletes the objects found and does not return which objects weren't deleted because wasn't found.</p>\n<pre><code>private void deleteMultipleObjectsFromS3(final List&lt;KeyVersion&gt; objectsKeys) {\n    final DeleteObjectsRequest deleteObjectsRequest = new DeleteObjectsRequest(this.bucketName)\n            .withKeys(objectsKeys)\n            .withQuiet(false);\n\n    try {\n          s3Client.deleteObjects(deleteObjectsRequest);\n        } catch (final AmazonServiceException e) {\n          throw new AmazonSdkException(e, e.getErrorMessage(), DELETE_OPERATION, \n          this.bucketName, objectsKeys.toString());\n        } catch (SdkClientException e) {\n          throw new AmazonSdkException(e, e.getLocalizedMessage(), DELETE_OPERATION, this.bucketName, objectsKeys.toString());\n    }\n  }\n</code></pre>\n<p>The response get all objects that i passed, i need to inform in the endpoint which objects were, or not, deleted.</p>\n<p><a href=\"https://i.stack.imgur.com/llh0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llh0m.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using Java SDK version 1.12.181</p>\n<p>EDIT 1:</p>\n<p>I've also tried to get the objects sumaries, but it returns all objects in the bucket. What i don't want, because some buckets that i'll operate might have more than 100.000 objects.</p>\n<pre><code>final ListObjectsV2Result listObjectsV2Result = s3Client.listObjectsV2(listObjectsRequest);\nfinal List&lt;S3ObjectSummary&gt; s3ObjectSummary = listObjectsV2Result.getObjectSummaries();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"score":0,"creation_date":1578392517,"post_id":59626337,"comment_id":105415012,"body_markdown":"Does this answer your question? [ZonedDateTime change behavior jdk 8/11](https://stackoverflow.com/questions/56255020/zoneddatetime-change-behavior-jdk-8-11)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/56255020/zoneddatetime-change-behavior-jdk-8-11\">ZonedDateTime change behavior jdk 8/11</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1578479606,"post_id":59626337,"comment_id":105449004,"body_markdown":"@amer that seems to be a different problem (time zone related, while this is related to the precision of the fractional seconds)","body":"@amer that seems to be a different problem (time zone related, while this is related to the precision of the fractional seconds)"},{"owner":{"account_id":4508992,"reputation":1563,"user_id":3665662,"display_name":"amer"},"score":0,"creation_date":1578479677,"post_id":59626337,"comment_id":105449047,"body_markdown":"@MarkRotteveel Ok, my bad","body":"@MarkRotteveel Ok, my bad"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1578392513,"creation_date":1578392513,"answer_id":59626477,"question_id":59626337,"body_markdown":"The behaviour of the formatter hasn&#39;t changed, but the thing you&#39;re formatting has.\r\n\r\nThe precision of datetimes returned by `now()` methods increased. [JDK-8068730](https://bugs.openjdk.java.net/browse/JDK-8068730)\r\n\r\n","title":"Java DateTimeFormatter.ISO_OFFSET_DATE_TIME Returns different values in Java 9+ compared to Java 8","body":"<p>The behaviour of the formatter hasn't changed, but the thing you're formatting has.</p>\n\n<p>The precision of datetimes returned by <code>now()</code> methods increased. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"noreferrer\">JDK-8068730</a></p>\n"},{"tags":[],"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653606432,"creation_date":1653527533,"answer_id":72385626,"question_id":59626337,"body_markdown":"If you want to return the old milliseconds format with Java 9+, you can truncate using temporal ChronoUnit for `Instant` or `ZonedDateTime`. Example:\r\n\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    ZonedDateTime.now().truncatedTo(ChronoUnit.MILLIS).toString();\r\n    // OR\r\n    Instant.now().truncatedTo(ChronoUnit.MILLIS).toString();\r\n\r\n***NOTE***: In a very rare case, when `now()` executes at `000` milli-seconds of time, you will see above returns without `SSS` in the output i.e `2020-01-07T09:34:38Z` instead of `2020-01-07T09:34:38.000Z`.","title":"Java DateTimeFormatter.ISO_OFFSET_DATE_TIME Returns different values in Java 9+ compared to Java 8","body":"<p>If you want to return the old milliseconds format with Java 9+, you can truncate using temporal ChronoUnit for <code>Instant</code> or <code>ZonedDateTime</code>. Example:</p>\n<pre><code>import java.time.temporal.ChronoUnit;\n\nZonedDateTime.now().truncatedTo(ChronoUnit.MILLIS).toString();\n// OR\nInstant.now().truncatedTo(ChronoUnit.MILLIS).toString();\n</code></pre>\n<p><em><strong>NOTE</strong></em>: In a very rare case, when <code>now()</code> executes at <code>000</code> milli-seconds of time, you will see above returns without <code>SSS</code> in the output i.e <code>2020-01-07T09:34:38Z</code> instead of <code>2020-01-07T09:34:38.000Z</code>.</p>\n"}],"owner":{"account_id":3800121,"reputation":63,"user_id":3153996,"display_name":"Arcjc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59626477,"answer_count":2,"score":6,"last_activity_date":1653606432,"creation_date":1578392033,"question_id":59626337,"body_markdown":"When running the below code I get different behaviour with different versions of the JDK:\r\n\r\nIn **Java 8** I get:\r\n\r\n    2020-01-07T09:34:38.994Z\r\n\r\nIn **Java 11** I get:\r\n\r\n    2020-01-07T09:37:05.55126Z\r\n\r\n```\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n        ZonedDateTime now = ZonedDateTime.now();\r\n\r\n        DateTimeFormatter isoOffsetDateTime = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\r\n    \r\n        String format = isoOffsetDateTime.format(now);\r\n    \r\n        System.out.println(format);\r\n    }\r\n}\r\n```\r\nRunning in https://www.jdoodle.com/online-java-compiler/ just to make it easier to swap JDKs quickly\r\n\r\nIs this change documented anywhere as I couldn&#39;t find anything and/or does anyone know why it&#39;s happening ? I spotted this as the `DateTimeFormatter.ISO_OFFSET_DATE_TIME` is the default Jackson formatter for a `ZonedDateTime`.","title":"Java DateTimeFormatter.ISO_OFFSET_DATE_TIME Returns different values in Java 9+ compared to Java 8","body":"<p>When running the below code I get different behaviour with different versions of the JDK:</p>\n\n<p>In <strong>Java 8</strong> I get:</p>\n\n<pre><code>2020-01-07T09:34:38.994Z\n</code></pre>\n\n<p>In <strong>Java 11</strong> I get:</p>\n\n<pre><code>2020-01-07T09:37:05.55126Z\n</code></pre>\n\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        ZonedDateTime now = ZonedDateTime.now();\n\n        DateTimeFormatter isoOffsetDateTime = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\n\n        String format = isoOffsetDateTime.format(now);\n\n        System.out.println(format);\n    }\n}\n</code></pre>\n\n<p>Running in <a href=\"https://www.jdoodle.com/online-java-compiler/\" rel=\"noreferrer\">https://www.jdoodle.com/online-java-compiler/</a> just to make it easier to swap JDKs quickly</p>\n\n<p>Is this change documented anywhere as I couldn't find anything and/or does anyone know why it's happening ? I spotted this as the <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code> is the default Jackson formatter for a <code>ZonedDateTime</code>.</p>\n"},{"tags":["java","json","api","rest"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637509612,"creation_date":1637261647,"answer_id":70025254,"question_id":70025105,"body_markdown":"This is borderline opinion-based but still, this is my take on this.\r\n\r\nI would go with option (b). The reason is that you might be exposing your `ProductType` as the following in other endpoints:\r\n```java\r\n&quot;product&quot;: {\r\n   &quot;productTypeId&quot;: 1,\r\n   &quot;name&quot;: &quot;Tent&quot;,\r\n   &quot;description&quot;: &quot;This is a tent&quot;,\r\n   &quot;capacity&quot;: 4,\r\n}\r\n```\r\n\r\nIn this case, it is important to be consistent and to represent `ProductType` with the same structure in all your endpoints.\r\n\r\nOn top of this, this seems the response to the call of checking the availability of a product for a given period of days. Even the way you phrased it &quot;*(...) allows clients to query all available products and the price of those products for a specific set of dates.*&quot; shows that the price and the number of available products are just additional information about a given `ProductType`. Hence, they should be included alongside `ProductType` but not as part of `ProductType`. For example `priceForDates` is clearly not a `ProductType` property.","title":"Restful API Response: Nesting Objects vs Adding new fields","body":"<p>This is borderline opinion-based but still, this is my take on this.</p>\n<p>I would go with option (b). The reason is that you might be exposing your <code>ProductType</code> as the following in other endpoints:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;product&quot;: {\n   &quot;productTypeId&quot;: 1,\n   &quot;name&quot;: &quot;Tent&quot;,\n   &quot;description&quot;: &quot;This is a tent&quot;,\n   &quot;capacity&quot;: 4,\n}\n</code></pre>\n<p>In this case, it is important to be consistent and to represent <code>ProductType</code> with the same structure in all your endpoints.</p>\n<p>On top of this, this seems the response to the call of checking the availability of a product for a given period of days. Even the way you phrased it &quot;<em>(...) allows clients to query all available products and the price of those products for a specific set of dates.</em>&quot; shows that the price and the number of available products are just additional information about a given <code>ProductType</code>. Hence, they should be included alongside <code>ProductType</code> but not as part of <code>ProductType</code>. For example <code>priceForDates</code> is clearly not a <code>ProductType</code> property.</p>\n"}],"owner":{"account_id":16409337,"reputation":355,"user_id":11853066,"display_name":"Ben123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70025254,"answer_count":1,"score":1,"last_activity_date":1653605198,"creation_date":1637260881,"question_id":70025105,"body_markdown":"Let&#39;s say we have a `ProductType` table in our database. This represents the types of products that can exist:\r\n\r\n| productTypeId | name | description | capacity | pricePerNight |\r\n| -------- | -------------- | -------------- | -------------- | -------------- |\r\n| 1    | Tent            | This is a tent            | 4            | 20            |\r\n\r\nLet&#39;s say we have a `Product` table in our database. This represents actual physical `Products` that exist (i.e. in a rental shop&#39;s inventory):\r\n\r\n| id | productTypeId (FK) | condition | lastUsed |\r\n| -------- | -------- | -------------- | -------------- | \r\n| 6 | 1 | good | 18/11/21 | \r\n| 7 | 1 | bad | 18/11/21 |  \r\n| 8 | 1 | medium | 18/11/21 |  \r\n\r\nNow, let&#39;s say I was making a public API which allows clients to query all available products and the price of those products for a specific set of dates.\r\n\r\nMy options are: (a) Return an edited version of the `ProductType` object with new fields (e.g. `quantityAvailable` and `priceForDates`) conveying the extra information requested:\r\n\r\n    {\r\n            &quot;productTypeId&quot;: 1,\r\n            &quot;name&quot;: &quot;Tent&quot;,\r\n            &quot;description&quot;: &quot;This is a tent&quot;,\r\n            &quot;capacity&quot;: 4,\r\n            &quot;quantityAvailable&quot;: 1,\r\n            &quot;priceForDates&quot;: 60,\r\n    }\r\n\r\n(b) Wrap the `ProductType` object in a parent object then add extra fields (e.g. `quantityAvailable` and `priceForDates`) to the parent object:\r\n\r\n    {\r\n             &quot;quantityAvailable&quot;: 3,\r\n             &quot;priceForDates&quot;: 60,\r\n             &quot;product&quot;:\r\n                       {\r\n                          &quot;productTypeId&quot;: 1,\r\n                          &quot;name&quot;: &quot;Tent&quot;,\r\n                          &quot;description&quot;: &quot;This is a tent&quot;,\r\n                          &quot;capacity&quot;: 4,\r\n                       }\r\n\r\n    }\r\n\r\n\r\nI am confronted by this situation quite regularly and I&#39;m wondering what is the best practice for a RESTful API. \r\n\r\nIRL I am building a public API which needs to be as intuitive and easy to use as possible for our company&#39;s integrating partners.\r\n","title":"Restful API Response: Nesting Objects vs Adding new fields","body":"<p>Let's say we have a <code>ProductType</code> table in our database. This represents the types of products that can exist:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>productTypeId</th>\n<th>name</th>\n<th>description</th>\n<th>capacity</th>\n<th>pricePerNight</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>Tent</td>\n<td>This is a tent</td>\n<td>4</td>\n<td>20</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Let's say we have a <code>Product</code> table in our database. This represents actual physical <code>Products</code> that exist (i.e. in a rental shop's inventory):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>productTypeId (FK)</th>\n<th>condition</th>\n<th>lastUsed</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>6</td>\n<td>1</td>\n<td>good</td>\n<td>18/11/21</td>\n</tr>\n<tr>\n<td>7</td>\n<td>1</td>\n<td>bad</td>\n<td>18/11/21</td>\n</tr>\n<tr>\n<td>8</td>\n<td>1</td>\n<td>medium</td>\n<td>18/11/21</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Now, let's say I was making a public API which allows clients to query all available products and the price of those products for a specific set of dates.</p>\n<p>My options are: (a) Return an edited version of the <code>ProductType</code> object with new fields (e.g. <code>quantityAvailable</code> and <code>priceForDates</code>) conveying the extra information requested:</p>\n<pre><code>{\n        &quot;productTypeId&quot;: 1,\n        &quot;name&quot;: &quot;Tent&quot;,\n        &quot;description&quot;: &quot;This is a tent&quot;,\n        &quot;capacity&quot;: 4,\n        &quot;quantityAvailable&quot;: 1,\n        &quot;priceForDates&quot;: 60,\n}\n</code></pre>\n<p>(b) Wrap the <code>ProductType</code> object in a parent object then add extra fields (e.g. <code>quantityAvailable</code> and <code>priceForDates</code>) to the parent object:</p>\n<pre><code>{\n         &quot;quantityAvailable&quot;: 3,\n         &quot;priceForDates&quot;: 60,\n         &quot;product&quot;:\n                   {\n                      &quot;productTypeId&quot;: 1,\n                      &quot;name&quot;: &quot;Tent&quot;,\n                      &quot;description&quot;: &quot;This is a tent&quot;,\n                      &quot;capacity&quot;: 4,\n                   }\n\n}\n</code></pre>\n<p>I am confronted by this situation quite regularly and I'm wondering what is the best practice for a RESTful API.</p>\n<p>IRL I am building a public API which needs to be as intuitive and easy to use as possible for our company's integrating partners.</p>\n"},{"tags":["java","cookies","javafx","webview"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1488835696,"post_id":42612618,"comment_id":72399358,"body_markdown":"See: [Setting a cookie using JavaFX&#39;s WebEngine/WebView](http://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview).","body":"See: <a href=\"http://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\">Setting a cookie using JavaFX&#39;s WebEngine/WebView</a>."},{"owner":{"display_name":"user5910225"},"score":0,"creation_date":1488837456,"post_id":42612618,"comment_id":72400324,"body_markdown":"@jewelsea That explains how to use the CookieManager, my main problem is that once my cookies are loaded from a file and I put them into the CookieManager my WebView seems to ignore them at all. I&#39;m sure my cookies are saved correctly when not loading from a file, cause I am still logged in when I open a new tab in my application.","body":"@jewelsea That explains how to use the CookieManager, my main problem is that once my cookies are loaded from a file and I put them into the CookieManager my WebView seems to ignore them at all. I&#39;m sure my cookies are saved correctly when not loading from a file, cause I am still logged in when I open a new tab in my application."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1488840634,"post_id":42612618,"comment_id":72401793,"body_markdown":"Actually the quote in the answer is &quot;Do not waste your time trying to use java.net.CookieManager, and  java.net.CookieStore. They are likely to cause problems with many sites because they implement the wrong standard.&quot;.  Anyway, I didn&#39;t look at your question or the the related question in detail, so perhaps it isn&#39;t of use to you.  Good luck with your problem.","body":"Actually the quote in the answer is &quot;Do not waste your time trying to use java.net.CookieManager, and  java.net.CookieStore. They are likely to cause problems with many sites because they implement the wrong standard.&quot;.  Anyway, I didn&#39;t look at your question or the the related question in detail, so perhaps it isn&#39;t of use to you.  Good luck with your problem."}],"answers":[{"tags":[],"owner":{"display_name":"user5910225"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1488914426,"creation_date":1488914426,"answer_id":42656562,"question_id":42612618,"body_markdown":"Alright after some more digging I found the solution.\r\nThe problem is that the default string inside the map (key element) is always &#39;Cookie:&#39;. However, when creating the map to actually add it to the CookieHandler it should be either &#39;Set-Cookie&#39; or &#39;Set-Cookie2&#39;. If it isn&#39;t either one of these, it&#39;ll simply skip the value and you end up with no cookies at all. Also, I ended up using a CookieManager and some methods to turn cookies into strings and vice versa. When creating the CookieManager you have to be careful to choose the constructor with two parameters (cookiestore and cookiepolicy) and not the one with zero parameters. Choosing the one with zero paramaters will not create a cookiestore and result in an error. When using the one with two parameters, just leave the store as null and it will create one for you. This is what I ended up using:&lt;br /&gt;&lt;br /&gt;\r\nSaving:\r\n\r\n    CookieStore store = ((CookieManager) CookieHandler.getDefault()).getCookieStore();\r\n    try {\r\n      Files.write(Values.COOKIESFILE.toPath(), (&quot;&quot;).getBytes(), StandardOpenOption.TRUNCATE_EXISTING);\r\n\r\n      for (URI uri : store.getURIs()) {\r\n        Map&lt;String, List&lt;String&gt;&gt; map = CookieHandler.getDefault().get(uri, new HashMap&lt;&gt;());\r\n\r\n        Files.write(Values.COOKIESFILE.toPath(), (uri + &quot;|Cookie:&quot;).getBytes(), StandardOpenOption.APPEND);\r\n\r\n        for (HttpCookie cookie : store.get(uri)) {\r\n          if (cookie.hasExpired())\r\n            continue;\r\n\r\n          Files.write(Values.COOKIESFILE.toPath(), (CookieUtil.toString(cookie) + &quot;~&quot;).getBytes(), StandardOpenOption.APPEND);\r\n        }\r\n\r\n        Files.write(Values.COOKIESFILE.toPath(), &quot;\\n&quot;.getBytes(), StandardOpenOption.APPEND);\r\n      }\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nLoading:\r\n\r\n    CookieManager manager = new CookieManager(null, CookiePolicy.ACCEPT_ALL);\r\n\r\n    try {\r\n      for (String line : Files.readAllLines(Values.COOKIESFILE.toPath())) {\r\n        String[] values = line.split(&quot;\\\\|&quot;);\r\n        URI uri = new URI(values[0]);\r\n\r\n        String[] actualValues = values[1].split(&quot;:&quot;);\r\n\r\n        if (actualValues.length &lt; 2)\r\n          continue;\r\n\r\n        for (String header : actualValues[1].split(&quot;~&quot;))\r\n          manager.getCookieStore().add(uri, CookieUtil.fromString(header));\r\n        }\r\n      } catch (IOException | URISyntaxException e) {\r\n        e.printStackTrace();\r\n      }\r\n\r\n    CookieHandler.setDefault(manager);","title":"Storing persistent cookies","body":"<p>Alright after some more digging I found the solution.\nThe problem is that the default string inside the map (key element) is always 'Cookie:'. However, when creating the map to actually add it to the CookieHandler it should be either 'Set-Cookie' or 'Set-Cookie2'. If it isn't either one of these, it'll simply skip the value and you end up with no cookies at all. Also, I ended up using a CookieManager and some methods to turn cookies into strings and vice versa. When creating the CookieManager you have to be careful to choose the constructor with two parameters (cookiestore and cookiepolicy) and not the one with zero parameters. Choosing the one with zero paramaters will not create a cookiestore and result in an error. When using the one with two parameters, just leave the store as null and it will create one for you. This is what I ended up using:<br /><br />\nSaving:</p>\n\n<pre><code>CookieStore store = ((CookieManager) CookieHandler.getDefault()).getCookieStore();\ntry {\n  Files.write(Values.COOKIESFILE.toPath(), (\"\").getBytes(), StandardOpenOption.TRUNCATE_EXISTING);\n\n  for (URI uri : store.getURIs()) {\n    Map&lt;String, List&lt;String&gt;&gt; map = CookieHandler.getDefault().get(uri, new HashMap&lt;&gt;());\n\n    Files.write(Values.COOKIESFILE.toPath(), (uri + \"|Cookie:\").getBytes(), StandardOpenOption.APPEND);\n\n    for (HttpCookie cookie : store.get(uri)) {\n      if (cookie.hasExpired())\n        continue;\n\n      Files.write(Values.COOKIESFILE.toPath(), (CookieUtil.toString(cookie) + \"~\").getBytes(), StandardOpenOption.APPEND);\n    }\n\n    Files.write(Values.COOKIESFILE.toPath(), \"\\n\".getBytes(), StandardOpenOption.APPEND);\n  }\n} catch (IOException e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>Loading:</p>\n\n<pre><code>CookieManager manager = new CookieManager(null, CookiePolicy.ACCEPT_ALL);\n\ntry {\n  for (String line : Files.readAllLines(Values.COOKIESFILE.toPath())) {\n    String[] values = line.split(\"\\\\|\");\n    URI uri = new URI(values[0]);\n\n    String[] actualValues = values[1].split(\":\");\n\n    if (actualValues.length &lt; 2)\n      continue;\n\n    for (String header : actualValues[1].split(\"~\"))\n      manager.getCookieStore().add(uri, CookieUtil.fromString(header));\n    }\n  } catch (IOException | URISyntaxException e) {\n    e.printStackTrace();\n  }\n\nCookieHandler.setDefault(manager);\n</code></pre>\n"}],"owner":{"display_name":"user5910225"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42656562,"answer_count":1,"score":2,"last_activity_date":1653604914,"creation_date":1488740310,"question_id":42612618,"body_markdown":"I&#39;m currently experimenting with javafx and I&#39;m trying to make a web browser with it. So far it&#39;s coming along pretty nicely, but it annoys me that I continuously have to log in on every single page. So I decided to use cookies and store them inside a file, so I don&#39;t have to log in each and every time.\r\nI&#39;ve been trying to get this working for the past 5 hours, but I still have to log in each time. This is what I have so far:\r\n\r\n    public class Main extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        if (!Values.SRCFILE.exists()) {\r\n            Installation.launch(Installation.class, args);\r\n            return;\r\n        }\r\n\r\n        launch(args);\r\n    }\r\n\r\n    private Stage stage;\r\n    private GridPane pane;\r\n\r\n    private List&lt;BrowserTab&gt; tabs;\r\n\r\n    @FXML\r\n    private TabPane tabPane;\r\n\r\n    @FXML\r\n    public void initialize() {\r\n        tabs = new ArrayList&lt;&gt;();\r\n\r\n        CookieManager manager = new CookieManager();\r\n        manager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\r\n        CookieHandler.setDefault(manager);\r\n\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        URI uri = null;\r\n\r\n        try {\r\n            for (String line : Files.readAllLines(Values.COOKIESFILE.toPath())) {\r\n                String[] values = line.split(&quot;\\\\|&quot;);\r\n                URI newUri = new URI(values[0]);\r\n\r\n                if (uri == null)\r\n                    uri = newUri;\r\n\r\n                if (!uri.equals(newUri)) {\r\n                    CookieHandler.getDefault().put(uri, map);\r\n                    uri = newUri;\r\n                    System.out.println(map);\r\n                    map = new HashMap&lt;&gt;();\r\n                }\r\n\r\n                String[] actualValues = values[1].split(&quot;:&quot;);\r\n\r\n                map.put(actualValues[0], Arrays.asList(actualValues[1].split(&quot;;&quot;)));\r\n            }\r\n\r\n            if (uri != null)\r\n                CookieHandler.getDefault().put(uri, map);\r\n        } catch (IOException | URISyntaxException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(map);\r\n\r\n        stage.setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\r\n            @Override\r\n            public void handle(WindowEvent event) {\r\n                if (tabs.size() &gt; 1) {\r\n                    Alert alert = new Alert(Alert.AlertType.CONFIRMATION);\r\n                    alert.setTitle(&quot;Closing window&quot;);\r\n                    alert.setHeaderText(&quot;&quot;);\r\n                    alert.setContentText(&quot;Are you sure you want to close this window? Doing so will close all open tabs&quot;);\r\n                    alert.showAndWait();\r\n                }\r\n\r\n                //save cookies\r\n                CookieStore store = ((CookieManager) CookieHandler.getDefault()).getCookieStore();\r\n                try {\r\n                    Files.write(Values.COOKIESFILE.toPath(), (&quot;&quot;).getBytes(), StandardOpenOption.TRUNCATE_EXISTING);\r\n\r\n                    for (URI uri : store.getURIs()) {\r\n                        Map&lt;String, List&lt;String&gt;&gt; map = CookieHandler.getDefault().get(uri, new HashMap&lt;&gt;());\r\n\r\n                        Files.write(Values.COOKIESFILE.toPath(), (uri + &quot;|&quot;).getBytes(), StandardOpenOption.APPEND);\r\n\r\n                        for (String value : map.keySet()) {\r\n                            Files.write(Values.COOKIESFILE.toPath(), (value + &quot;:&quot;).getBytes(), StandardOpenOption.APPEND);\r\n\r\n                            for (String line : map.get(value))\r\n                                Files.write(Values.COOKIESFILE.toPath(), (line + &quot;;&quot;).getBytes(), StandardOpenOption.APPEND);\r\n\r\n                            Files.write(Values.COOKIESFILE.toPath(), (&quot;\\n&quot;).getBytes(), StandardOpenOption.APPEND);\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n        addTab();\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        this.stage = primaryStage;\r\n        stage.setTitle(&quot;Browser&quot;);\r\n\r\n        try {\r\n            // Load person overview.\r\n            FXMLLoader loader = new FXMLLoader();\r\n            loader.setController(this);\r\n            loader.setLocation(Main.class.getResource(&quot;/browser.fxml&quot;));\r\n            pane = loader.load();\r\n\r\n            Scene scene = new Scene(pane);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void setURL(String url) {\r\n        tabs.get(tabPane.getSelectionModel().getSelectedIndex()).setURL(url);\r\n    }\r\n\r\n    public void search(String text) {\r\n        tabs.get(tabPane.getSelectionModel().getSelectedIndex()).search(text);\r\n    }\r\n\r\n    void addTab() {\r\n        BrowserTab browserTab = new BrowserTab(this);\r\n        browserTab.setText(&quot;Loading...&quot;);\r\n        browserTab.setURL(&quot;https://google.com/&quot;);\r\n\r\n        tabs.add(browserTab);\r\n\r\n        browserTab.setOnClosed(new EventHandler&lt;Event&gt;() {\r\n            @Override\r\n            public void handle(Event event) {\r\n                tabs.remove(browserTab);\r\n\r\n                if (tabPane.getTabs().isEmpty())\r\n                    Platform.exit();\r\n            }\r\n        });\r\n        tabPane.getTabs().add(browserTab);\r\n    }\r\nAnd my BrowserTab class\r\n    \r\n    public class BrowserTab extends Tab {\r\n\r\n    private Main main;\r\n\r\n    private GridPane pane;\r\n\r\n    @FXML\r\n    private WebView webView;\r\n    @FXML\r\n    private TextField urlField;\r\n    @FXML\r\n    private Button backButton;\r\n    @FXML\r\n    private Button forwardButton;\r\n    @FXML\r\n    private Button goButton;\r\n    @FXML\r\n    private Button addTabButton;\r\n\r\n    public BrowserTab(Main main) {\r\n        this.main = main;\r\n\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader();\r\n            loader.setController(this);\r\n            loader.setLocation(getClass().getResource(&quot;/tab-template.fxml&quot;));\r\n\r\n            setContent(loader.load());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        initialize();\r\n    }\r\n\r\n    @FXML\r\n    public void initialize() {\r\n        webView.getEngine().getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue ov, Worker.State oldState, Worker.State newState) {\r\n                if (newState == Worker.State.SUCCEEDED) {\r\n                    String title = webView.getEngine().titleProperty().getValue();\r\n\r\n                    if (title == null || title.trim().isEmpty())\r\n                        title = webView.getEngine().getLocation();\r\n\r\n                    setText(title);\r\n                    urlField.setText(webView.getEngine().getLocation());\r\n                }\r\n            }\r\n        });\r\n\r\n        backButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                WebHistory history = webView.getEngine().getHistory();\r\n\r\n                history.go(-1);\r\n\r\n                int index = history.getCurrentIndex();\r\n\r\n                if (index + 1 &gt; history.getEntries().size() - 1)\r\n                    forwardButton.setDisable(true);\r\n                else\r\n                    forwardButton.setDisable(false);\r\n\r\n                if (index - 1 &lt; 0)\r\n                    backButton.setDisable(true);\r\n                else\r\n                    backButton.setDisable(false);\r\n            }\r\n        });\r\n\r\n        forwardButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                WebHistory history = webView.getEngine().getHistory();\r\n\r\n                history.go(1);\r\n\r\n                int index = history.getCurrentIndex();\r\n\r\n                if (index + 1 &gt; history.getEntries().size() - 1)\r\n                    forwardButton.setDisable(true);\r\n                else\r\n                    forwardButton.setDisable(false);\r\n\r\n                if (index - 1 &lt; 0)\r\n                    backButton.setDisable(true);\r\n                else\r\n                    backButton.setDisable(false);\r\n            }\r\n        });\r\n\r\n        urlField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent event) {\r\n                if (event.getCode() == KeyCode.ENTER)\r\n                    goButton.fire();\r\n            }\r\n        });\r\n\r\n        goButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                String url = urlField.getText();\r\n\r\n                if (!url.contains(&quot;.&quot;)) {\r\n                    search(url);\r\n                    return;\r\n                }\r\n\r\n                if (!(url.startsWith(&quot;http://&quot;) || url.startsWith(&quot;https://&quot;)))\r\n                    url = &quot;http://&quot; + url;\r\n\r\n                setURL(url);\r\n            }\r\n        });\r\n\r\n        webView.getEngine().getHistory().getEntries().addListener(new ListChangeListener&lt;WebHistory.Entry&gt;() {\r\n            @Override\r\n            public void onChanged(Change&lt;? extends WebHistory.Entry&gt; c) {\r\n                Platform.runLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        int index = webView.getEngine().getHistory().getCurrentIndex();\r\n\r\n                        System.out.println(index);\r\n\r\n                        if (index + 1 &gt; c.getList().size() - 1)\r\n                            forwardButton.setDisable(true);\r\n                        else\r\n                            forwardButton.setDisable(false);\r\n\r\n                        if (index - 1 &lt; 0)\r\n                            backButton.setDisable(true);\r\n                        else\r\n                            backButton.setDisable(false);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        addTabButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent event) {\r\n                addTab();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void setURL(String url) {\r\n        webView.getEngine().load(url);\r\n    }\r\n\r\n    public void search(String text) {\r\n        webView.getEngine().load(&quot;https://google.com/search?q=&quot; + text);\r\n    }\r\n\r\n    private void addTab() {\r\n        main.addTab();\r\n    }\r\n\r\nThe file formatting looks like this:\r\n    \r\n    uri1|value:string1;string2;string3;\r\n    uri2|value:string1;string2;string3;\r\n\r\nAny help would really be appreciated.","title":"Storing persistent cookies","body":"<p>I'm currently experimenting with javafx and I'm trying to make a web browser with it. So far it's coming along pretty nicely, but it annoys me that I continuously have to log in on every single page. So I decided to use cookies and store them inside a file, so I don't have to log in each and every time.\nI've been trying to get this working for the past 5 hours, but I still have to log in each time. This is what I have so far:</p>\n\n<pre><code>public class Main extends Application {\n\npublic static void main(String[] args) {\n    if (!Values.SRCFILE.exists()) {\n        Installation.launch(Installation.class, args);\n        return;\n    }\n\n    launch(args);\n}\n\nprivate Stage stage;\nprivate GridPane pane;\n\nprivate List&lt;BrowserTab&gt; tabs;\n\n@FXML\nprivate TabPane tabPane;\n\n@FXML\npublic void initialize() {\n    tabs = new ArrayList&lt;&gt;();\n\n    CookieManager manager = new CookieManager();\n    manager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\n    CookieHandler.setDefault(manager);\n\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n    URI uri = null;\n\n    try {\n        for (String line : Files.readAllLines(Values.COOKIESFILE.toPath())) {\n            String[] values = line.split(\"\\\\|\");\n            URI newUri = new URI(values[0]);\n\n            if (uri == null)\n                uri = newUri;\n\n            if (!uri.equals(newUri)) {\n                CookieHandler.getDefault().put(uri, map);\n                uri = newUri;\n                System.out.println(map);\n                map = new HashMap&lt;&gt;();\n            }\n\n            String[] actualValues = values[1].split(\":\");\n\n            map.put(actualValues[0], Arrays.asList(actualValues[1].split(\";\")));\n        }\n\n        if (uri != null)\n            CookieHandler.getDefault().put(uri, map);\n    } catch (IOException | URISyntaxException e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(map);\n\n    stage.setOnCloseRequest(new EventHandler&lt;WindowEvent&gt;() {\n        @Override\n        public void handle(WindowEvent event) {\n            if (tabs.size() &gt; 1) {\n                Alert alert = new Alert(Alert.AlertType.CONFIRMATION);\n                alert.setTitle(\"Closing window\");\n                alert.setHeaderText(\"\");\n                alert.setContentText(\"Are you sure you want to close this window? Doing so will close all open tabs\");\n                alert.showAndWait();\n            }\n\n            //save cookies\n            CookieStore store = ((CookieManager) CookieHandler.getDefault()).getCookieStore();\n            try {\n                Files.write(Values.COOKIESFILE.toPath(), (\"\").getBytes(), StandardOpenOption.TRUNCATE_EXISTING);\n\n                for (URI uri : store.getURIs()) {\n                    Map&lt;String, List&lt;String&gt;&gt; map = CookieHandler.getDefault().get(uri, new HashMap&lt;&gt;());\n\n                    Files.write(Values.COOKIESFILE.toPath(), (uri + \"|\").getBytes(), StandardOpenOption.APPEND);\n\n                    for (String value : map.keySet()) {\n                        Files.write(Values.COOKIESFILE.toPath(), (value + \":\").getBytes(), StandardOpenOption.APPEND);\n\n                        for (String line : map.get(value))\n                            Files.write(Values.COOKIESFILE.toPath(), (line + \";\").getBytes(), StandardOpenOption.APPEND);\n\n                        Files.write(Values.COOKIESFILE.toPath(), (\"\\n\").getBytes(), StandardOpenOption.APPEND);\n                    }\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n    addTab();\n}\n\n@Override\npublic void start(Stage primaryStage) {\n    this.stage = primaryStage;\n    stage.setTitle(\"Browser\");\n\n    try {\n        // Load person overview.\n        FXMLLoader loader = new FXMLLoader();\n        loader.setController(this);\n        loader.setLocation(Main.class.getResource(\"/browser.fxml\"));\n        pane = loader.load();\n\n        Scene scene = new Scene(pane);\n        stage.setScene(scene);\n        stage.show();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void setURL(String url) {\n    tabs.get(tabPane.getSelectionModel().getSelectedIndex()).setURL(url);\n}\n\npublic void search(String text) {\n    tabs.get(tabPane.getSelectionModel().getSelectedIndex()).search(text);\n}\n\nvoid addTab() {\n    BrowserTab browserTab = new BrowserTab(this);\n    browserTab.setText(\"Loading...\");\n    browserTab.setURL(\"https://google.com/\");\n\n    tabs.add(browserTab);\n\n    browserTab.setOnClosed(new EventHandler&lt;Event&gt;() {\n        @Override\n        public void handle(Event event) {\n            tabs.remove(browserTab);\n\n            if (tabPane.getTabs().isEmpty())\n                Platform.exit();\n        }\n    });\n    tabPane.getTabs().add(browserTab);\n}\n</code></pre>\n\n<p>And my BrowserTab class</p>\n\n<pre><code>public class BrowserTab extends Tab {\n\nprivate Main main;\n\nprivate GridPane pane;\n\n@FXML\nprivate WebView webView;\n@FXML\nprivate TextField urlField;\n@FXML\nprivate Button backButton;\n@FXML\nprivate Button forwardButton;\n@FXML\nprivate Button goButton;\n@FXML\nprivate Button addTabButton;\n\npublic BrowserTab(Main main) {\n    this.main = main;\n\n    try {\n        FXMLLoader loader = new FXMLLoader();\n        loader.setController(this);\n        loader.setLocation(getClass().getResource(\"/tab-template.fxml\"));\n\n        setContent(loader.load());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    initialize();\n}\n\n@FXML\npublic void initialize() {\n    webView.getEngine().getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\n        @Override\n        public void changed(ObservableValue ov, Worker.State oldState, Worker.State newState) {\n            if (newState == Worker.State.SUCCEEDED) {\n                String title = webView.getEngine().titleProperty().getValue();\n\n                if (title == null || title.trim().isEmpty())\n                    title = webView.getEngine().getLocation();\n\n                setText(title);\n                urlField.setText(webView.getEngine().getLocation());\n            }\n        }\n    });\n\n    backButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent event) {\n            WebHistory history = webView.getEngine().getHistory();\n\n            history.go(-1);\n\n            int index = history.getCurrentIndex();\n\n            if (index + 1 &gt; history.getEntries().size() - 1)\n                forwardButton.setDisable(true);\n            else\n                forwardButton.setDisable(false);\n\n            if (index - 1 &lt; 0)\n                backButton.setDisable(true);\n            else\n                backButton.setDisable(false);\n        }\n    });\n\n    forwardButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent event) {\n            WebHistory history = webView.getEngine().getHistory();\n\n            history.go(1);\n\n            int index = history.getCurrentIndex();\n\n            if (index + 1 &gt; history.getEntries().size() - 1)\n                forwardButton.setDisable(true);\n            else\n                forwardButton.setDisable(false);\n\n            if (index - 1 &lt; 0)\n                backButton.setDisable(true);\n            else\n                backButton.setDisable(false);\n        }\n    });\n\n    urlField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n        @Override\n        public void handle(KeyEvent event) {\n            if (event.getCode() == KeyCode.ENTER)\n                goButton.fire();\n        }\n    });\n\n    goButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent event) {\n            String url = urlField.getText();\n\n            if (!url.contains(\".\")) {\n                search(url);\n                return;\n            }\n\n            if (!(url.startsWith(\"http://\") || url.startsWith(\"https://\")))\n                url = \"http://\" + url;\n\n            setURL(url);\n        }\n    });\n\n    webView.getEngine().getHistory().getEntries().addListener(new ListChangeListener&lt;WebHistory.Entry&gt;() {\n        @Override\n        public void onChanged(Change&lt;? extends WebHistory.Entry&gt; c) {\n            Platform.runLater(new Runnable() {\n                @Override\n                public void run() {\n                    int index = webView.getEngine().getHistory().getCurrentIndex();\n\n                    System.out.println(index);\n\n                    if (index + 1 &gt; c.getList().size() - 1)\n                        forwardButton.setDisable(true);\n                    else\n                        forwardButton.setDisable(false);\n\n                    if (index - 1 &lt; 0)\n                        backButton.setDisable(true);\n                    else\n                        backButton.setDisable(false);\n                }\n            });\n        }\n    });\n\n    addTabButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent event) {\n            addTab();\n        }\n    });\n}\n\npublic void setURL(String url) {\n    webView.getEngine().load(url);\n}\n\npublic void search(String text) {\n    webView.getEngine().load(\"https://google.com/search?q=\" + text);\n}\n\nprivate void addTab() {\n    main.addTab();\n}\n</code></pre>\n\n<p>The file formatting looks like this:</p>\n\n<pre><code>uri1|value:string1;string2;string3;\nuri2|value:string1;string2;string3;\n</code></pre>\n\n<p>Any help would really be appreciated.</p>\n"},{"tags":["java","java-time","localdatetime"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653576221,"post_id":72393423,"comment_id":127889262,"body_markdown":"&quot;*loosing time*&quot;--&gt; [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/Date.html) of `java.sql.Date`: &quot;To conform with the definition of SQL DATE, the millisecond values wrapped by a java.sql.Date instance must be &#39;normalized&#39; by **setting the hours, minutes, seconds, and milliseconds to zero** ...&quot; (emphasis mine) || if `java.sql.Date(java.util.Date date.getTime())` works, you can convert the `LocalDateTime` to an `Instant` and use the `toEpochMilli()` method to use instead of `Date.getTime()` [but `java.sql.Date` is not expected to carry time]","body":"&quot;<i>loosing time</i>&quot;--&gt; <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/Date.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>java.sql.Date</code>: &quot;To conform with the definition of SQL DATE, the millisecond values wrapped by a java.sql.Date instance must be &#39;normalized&#39; by <b>setting the hours, minutes, seconds, and milliseconds to zero</b> ...&quot; (emphasis mine) || if <code>java.sql.Date(java.util.Date date.getTime())</code> works, you can convert the <code>LocalDateTime</code> to an <code>Instant</code> and use the <code>toEpochMilli()</code> method to use instead of <code>Date.getTime()</code> [but <code>java.sql.Date</code> is not expected to carry time]"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653593604,"post_id":72393423,"comment_id":127895266,"body_markdown":"Give an example of your input string being passed to the `oslcStringToDate` method.","body":"Give an example of your input string being passed to the <code>oslcStringToDate</code> method."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653596301,"post_id":72393423,"comment_id":127896132,"body_markdown":"Please explain the real problem you&#39;re trying to solve. The equivalency is `java.sql.Timestamp` &lt;&gt;`java.time.LocalDateTime` and `java.sql.Date` &lt;&gt; `java.time.LocalDate`. `java.sql.Date` is not supposed to have a time component (it just appears to have it because of the awkward inheritance from `java.util.Date`). And given JDBC supports the `java.time` types, you should have no need to continue to use the legacy types likes `java.sql.Date`.","body":"Please explain the real problem you&#39;re trying to solve. The equivalency is <code>java.sql.Timestamp</code> &lt;&gt;<code>java.time.LocalDateTime</code> and <code>java.sql.Date</code> &lt;&gt; <code>java.time.LocalDate</code>. <code>java.sql.Date</code> is not supposed to have a time component (it just appears to have it because of the awkward inheritance from <code>java.util.Date</code>). And given JDBC supports the <code>java.time</code> types, you should have no need to continue to use the legacy types likes <code>java.sql.Date</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653604903,"creation_date":1653594231,"answer_id":72397229,"question_id":72393423,"body_markdown":"# Do not mix legacy and modern classes\r\n\r\n&gt;if I use java.sql.Date.valueOf(LocalDate date)\r\n\r\nNever mix the terrible legacy classes with their replacement, the modern *java.time* classes defined in JSR 310.\r\n\r\nWhen handed an object of a legacy class, immediately convert. You can convert to and fro by way of `to…`/`from…`/[`valueOf`][1] methods found on the old classes.\r\n\r\n    LocalDate ld = myJavaSqlDate.toLocalDate() ;\r\n\r\nAnd the other direction.\r\n\r\n    java.sql.Date d = Date.valueOf( myLocalDate ) ;\r\n\r\n# Avoid legacy classes\r\n\r\nWith [JDBC][2] [4.2][3] and later, support for the *java.time* classes is required in your [JDBC driver][4]. \r\n\r\nSo use only the *java.time* classes. No need to ever use either `Date`, nor `Calendar`, `SimpleDateFormat`, `Timestamp`, etc.\r\n\r\n# Date-only values\r\n\r\nThe `LocalDate` class represents a date-only, without a time-of-day, without a time zone or offset-from-UTC. So a `LocalDate` is a year, month, and day — nothing more.\r\n\r\nThe `java.sql.Date` class *pretends* to represent a date-only value. But due to a tragically poor design decision, the class inherits from `java.util.Date` which *does* have a time-of-day. And even more confusing, the `java.util.Date` class is supposed to represent a moment as seen in UTC, but nevertheless contains a time zone used when generating text. These legacy classes are a [master class][5] in how to *not* do [OOP][6].\r\n\r\nYou said:\r\n\r\n&gt;However I am loosing time if I use java.sql.Date.valueOf(LocalDate date).\r\n\r\nIf you mean the resulting `java.sql.Date` has no time-of-day, yes, of course, that is a feature, not a bug. As mentioned above, objects of this class actually *do* have a time-of-day because of inheritance, but the class pretends to have a date-only (year-month-day). \r\n\r\nYou said:\r\n\r\n&gt;How I can achive the same way as java.sql.Date(java.util.Date date.getTime())?\r\n\r\nI cannot understand your goal here. So, after again advising against ever using these awful legacy classes, I will layout some of the possible types for use with SQL.\r\n\r\n| standard SQL | java.time ☑️ | legacy ❌ |\r\n|:----: |:------:| :-----:|\r\n| `DATE`  | `LocalDate`    | `java.sql.Date` |\r\n| `TIME`  | `LocalTime`    |   `java.sql.Time` |\r\n| `TIMESTAMP WITHOUT TIME ZONE`  | `LocalDateTIME`    | *no support* |\r\n| `TIMESTAMP WITH TIME ZONE `  | `OffsetDateTime`    | `java.sql.Timestamp` |\r\n\r\n# ISO 8601\r\n\r\nYour Question is not clear, but apparently you are trying to parse text in the format of &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;. \r\n\r\nThis format happens to comply with the [ISO 8601][7] standard. The *java.time* classes use the standard formats by default when parsing/generating text. So no need to specify a formatting pattern. \r\n\r\n    Instant instant = Instant.parse( &quot;2022-01-23T12:34:56.789Z&quot; ) ;\r\n\r\nTo generate such text:\r\n\r\n    String output = instant.toString() ;\r\n\r\nTo record to a database, convert to the class mapped in JDBC to the standard SQL type of `TIMESTAMP WITH TIME ZONE`. \r\n\r\nThat SQL name is a misnomer, as the SQL standard was written with mere offset-from-UTC in mind, not [real time zones][8]. An offset is merely a number of hours-minutes-seconds ahead or behind the temporal prime meridian of UTC. A time zone, in contrast, is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians. \r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieval.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nNote that `LocalDateTime` is exactly the *wrong* class to be using in this context. The `LocalDateTime` class purposely lacks the context of an offset or zone. With only a date and a time-of-day, a `LocalDateTime` object is inherently ambiguous with regard to the timeline. \r\n\r\nIf you want to store only the date portion of your ISO 8601 string, you will need to think about time zones. For any given moment, the date varies around the globe by time zone. A moment can be “tomorrow” in Tokyo Japan while simultaneously “yesterday” in Toledo Ohio US.\r\n\r\nCall `toLocalDate` to extract the date portion of an `OffsetDateTime` or `ZonedDateTime` object. \r\n\r\n    LocalDate dateInTokyo = instant.atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) ).toLocalDate() ;\r\n    LocalDate dateInUtc = instant.atOffset ZoneOffset.UTC ).toLocalDate() ;    \r\n    LocalDate dateInToledo = instant.atZone( ZoneId.of( &quot;America/New_York&quot; ) ).toLocalDate() ;  // Time zone name for Toledo Ohio US is `America/New_York`. \r\n\r\nWrite to a database column of a type akin to the SQL standard type `DATE`.\r\n\r\n    myPreparedStatement.setObject( … , dateInTokyo ) ;\r\n\r\nRetrieval.\r\n\r\n    LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\r\n\r\n\r\n----------\r\n\r\n\r\nAll of these issues have been covered many many times already in Stack Overflow. Search to learn more.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.time.LocalDate)\r\n  [2]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [3]: https://jcp.org/en/jsr/detail?id=221\r\n  [4]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [5]: https://en.wikipedia.org/wiki/Master_class\r\n  [6]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [7]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [8]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"java.time.LocalDateTime to java.sql.Date","body":"<h1>Do not mix legacy and modern classes</h1>\n<blockquote>\n<p>if I use java.sql.Date.valueOf(LocalDate date)</p>\n</blockquote>\n<p>Never mix the terrible legacy classes with their replacement, the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>When handed an object of a legacy class, immediately convert. You can convert to and fro by way of <code>to…</code>/<code>from…</code>/<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Date.html#valueOf(java.time.LocalDate)\" rel=\"nofollow noreferrer\"><code>valueOf</code></a> methods found on the old classes.</p>\n<pre><code>LocalDate ld = myJavaSqlDate.toLocalDate() ;\n</code></pre>\n<p>And the other direction.</p>\n<pre><code>java.sql.Date d = Date.valueOf( myLocalDate ) ;\n</code></pre>\n<h1>Avoid legacy classes</h1>\n<p>With <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> <a href=\"https://jcp.org/en/jsr/detail?id=221\" rel=\"nofollow noreferrer\">4.2</a> and later, support for the <em>java.time</em> classes is required in your <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a>.</p>\n<p>So use only the <em>java.time</em> classes. No need to ever use either <code>Date</code>, nor <code>Calendar</code>, <code>SimpleDateFormat</code>, <code>Timestamp</code>, etc.</p>\n<h1>Date-only values</h1>\n<p>The <code>LocalDate</code> class represents a date-only, without a time-of-day, without a time zone or offset-from-UTC. So a <code>LocalDate</code> is a year, month, and day — nothing more.</p>\n<p>The <code>java.sql.Date</code> class <em>pretends</em> to represent a date-only value. But due to a tragically poor design decision, the class inherits from <code>java.util.Date</code> which <em>does</em> have a time-of-day. And even more confusing, the <code>java.util.Date</code> class is supposed to represent a moment as seen in UTC, but nevertheless contains a time zone used when generating text. These legacy classes are a <a href=\"https://en.wikipedia.org/wiki/Master_class\" rel=\"nofollow noreferrer\">master class</a> in how to <em>not</em> do <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">OOP</a>.</p>\n<p>You said:</p>\n<blockquote>\n<p>However I am loosing time if I use java.sql.Date.valueOf(LocalDate date).</p>\n</blockquote>\n<p>If you mean the resulting <code>java.sql.Date</code> has no time-of-day, yes, of course, that is a feature, not a bug. As mentioned above, objects of this class actually <em>do</em> have a time-of-day because of inheritance, but the class pretends to have a date-only (year-month-day).</p>\n<p>You said:</p>\n<blockquote>\n<p>How I can achive the same way as java.sql.Date(java.util.Date date.getTime())?</p>\n</blockquote>\n<p>I cannot understand your goal here. So, after again advising against ever using these awful legacy classes, I will layout some of the possible types for use with SQL.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">standard SQL</th>\n<th style=\"text-align: center;\">java.time ☑️</th>\n<th style=\"text-align: center;\">legacy ❌</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\"><code>DATE</code></td>\n<td style=\"text-align: center;\"><code>LocalDate</code></td>\n<td style=\"text-align: center;\"><code>java.sql.Date</code></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"><code>TIME</code></td>\n<td style=\"text-align: center;\"><code>LocalTime</code></td>\n<td style=\"text-align: center;\"><code>java.sql.Time</code></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"><code>TIMESTAMP WITHOUT TIME ZONE</code></td>\n<td style=\"text-align: center;\"><code>LocalDateTIME</code></td>\n<td style=\"text-align: center;\"><em>no support</em></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\"><code>TIMESTAMP WITH TIME ZONE </code></td>\n<td style=\"text-align: center;\"><code>OffsetDateTime</code></td>\n<td style=\"text-align: center;\"><code>java.sql.Timestamp</code></td>\n</tr>\n</tbody>\n</table>\n</div><h1>ISO 8601</h1>\n<p>Your Question is not clear, but apparently you are trying to parse text in the format of &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;.</p>\n<p>This format happens to comply with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. The <em>java.time</em> classes use the standard formats by default when parsing/generating text. So no need to specify a formatting pattern.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2022-01-23T12:34:56.789Z&quot; ) ;\n</code></pre>\n<p>To generate such text:</p>\n<pre><code>String output = instant.toString() ;\n</code></pre>\n<p>To record to a database, convert to the class mapped in JDBC to the standard SQL type of <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<p>That SQL name is a misnomer, as the SQL standard was written with mere offset-from-UTC in mind, not <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zones</a>. An offset is merely a number of hours-minutes-seconds ahead or behind the temporal prime meridian of UTC. A time zone, in contrast, is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians.</p>\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Note that <code>LocalDateTime</code> is exactly the <em>wrong</em> class to be using in this context. The <code>LocalDateTime</code> class purposely lacks the context of an offset or zone. With only a date and a time-of-day, a <code>LocalDateTime</code> object is inherently ambiguous with regard to the timeline.</p>\n<p>If you want to store only the date portion of your ISO 8601 string, you will need to think about time zones. For any given moment, the date varies around the globe by time zone. A moment can be “tomorrow” in Tokyo Japan while simultaneously “yesterday” in Toledo Ohio US.</p>\n<p>Call <code>toLocalDate</code> to extract the date portion of an <code>OffsetDateTime</code> or <code>ZonedDateTime</code> object.</p>\n<pre><code>LocalDate dateInTokyo = instant.atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) ).toLocalDate() ;\nLocalDate dateInUtc = instant.atOffset ZoneOffset.UTC ).toLocalDate() ;    \nLocalDate dateInToledo = instant.atZone( ZoneId.of( &quot;America/New_York&quot; ) ).toLocalDate() ;  // Time zone name for Toledo Ohio US is `America/New_York`. \n</code></pre>\n<p>Write to a database column of a type akin to the SQL standard type <code>DATE</code>.</p>\n<pre><code>myPreparedStatement.setObject( … , dateInTokyo ) ;\n</code></pre>\n<p>Retrieval.</p>\n<pre><code>LocalDate ld = myResultSet.getObject( … , LocalDate.class ) ;\n</code></pre>\n<hr />\n<p>All of these issues have been covered many many times already in Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":22331678,"reputation":1,"user_id":16552853,"display_name":"Viswanadh Ganti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653604903,"creation_date":1653575163,"question_id":72393423,"body_markdown":"I am trying to implement java.time to parse different date formats and return as java.sql.Date. However I am loosing time if I use java.sql.Date.valueOf(LocalDate date).\r\nHow I can achive the same way as java.sql.Date(java.util.Date date.getTime())?\r\nPossible formats in my application are.\r\n\r\nDateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ssZ&quot;);\r\nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\nDateTimeFormatter datetimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\nDateTimeFormatter datetimeFormatterMil = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;);\r\n\r\n```\r\nimport java.sql.Date;\r\npublic Date oslcStringToDate(String str) throws ParseException\r\n\t{\r\n\t\t//remove colon in time zone\r\n\t\tDate date = null;\r\n\t\tif (!str.equalsIgnoreCase(NULL)) {\r\n\t\t\tint colonPos = str.length() - 3;\r\n\t\t\tstr = str != null &amp;&amp; str.length() &gt; 3 &amp;&amp; str.charAt(colonPos) == &#39;:&#39; ? \r\n\t\t\t\t\tstr.substring(0, colonPos) + str.substring(colonPos + 1) \r\n\t\t\t\t\t: str.endsWith(&quot;Z&quot;) ? \r\n\t\t\t\t\t\tstr.substring(0, str.length() - 1) + &quot;+0000&quot; \r\n\t\t\t\t\t\t: str;\r\n\t\t\tdate = str.indexOf(&quot;T&quot;) &gt; 0 ? \r\n\t\t\t\t\tstr.indexOf(&quot;.&quot;) &gt; 0 ? \r\n\t\t\t\t\t\tjava.sql.Date.valueOf(LocalDateTime.parse(str, datetimeFormatterMil).toLocalDate())\r\n\t\t\t\t\t\t: java.sql.Date.valueOf(LocalDateTime.parse(str, datetimeFormatter).toLocalDate())\r\n\t\t\t\t\t: java.sql.Date.valueOf(LocalDateTime.parse(str, dateFormatter).toLocalDate());\r\n\t\t}\r\n\t\treturn date;\r\n\t}\r\n```","title":"java.time.LocalDateTime to java.sql.Date","body":"<p>I am trying to implement java.time to parse different date formats and return as java.sql.Date. However I am loosing time if I use java.sql.Date.valueOf(LocalDate date).\nHow I can achive the same way as java.sql.Date(java.util.Date date.getTime())?\nPossible formats in my application are.</p>\n<p>DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ssZ&quot;);\nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nDateTimeFormatter datetimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;);\nDateTimeFormatter datetimeFormatterMil = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;);</p>\n<pre><code>import java.sql.Date;\npublic Date oslcStringToDate(String str) throws ParseException\n    {\n        //remove colon in time zone\n        Date date = null;\n        if (!str.equalsIgnoreCase(NULL)) {\n            int colonPos = str.length() - 3;\n            str = str != null &amp;&amp; str.length() &gt; 3 &amp;&amp; str.charAt(colonPos) == ':' ? \n                    str.substring(0, colonPos) + str.substring(colonPos + 1) \n                    : str.endsWith(&quot;Z&quot;) ? \n                        str.substring(0, str.length() - 1) + &quot;+0000&quot; \n                        : str;\n            date = str.indexOf(&quot;T&quot;) &gt; 0 ? \n                    str.indexOf(&quot;.&quot;) &gt; 0 ? \n                        java.sql.Date.valueOf(LocalDateTime.parse(str, datetimeFormatterMil).toLocalDate())\n                        : java.sql.Date.valueOf(LocalDateTime.parse(str, datetimeFormatter).toLocalDate())\n                    : java.sql.Date.valueOf(LocalDateTime.parse(str, dateFormatter).toLocalDate());\n        }\n        return date;\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","servlets","amazon-s3","minio"],"answers":[{"tags":[],"owner":{"account_id":8185481,"reputation":97,"user_id":6161431,"display_name":"Swanand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653604835,"creation_date":1653603841,"answer_id":72398597,"question_id":52181000,"body_markdown":"This is how you can get the general public access policy programmatically.\r\n\r\n    // Gets a public read policy on the bucket.\r\n    public static String getPublicReadPolicy(String bucket_name) {\r\n        Policy bucket_policy = new Policy().withStatements(\r\n                new Statement(Statement.Effect.Allow)\r\n                        .withPrincipals(Principal.AllUsers)\r\n                        .withActions(S3Actions.GetObject)\r\n                        .withResources(new Resource(\r\n                                &quot;arn:aws:s3:::&quot; + bucket_name + &quot;/*&quot;)));\r\n        return bucket_policy.toJson();\r\n    }\r\n\r\nThen you can use this policy text to the desired s3 bucket\r\n\r\n    String policy_text = getPublicReadPolicy(bucket_name);\r\n    setBucketPolicy(bucket_name, policy_text);\r\n\r\nHowever in the minio console this will not show with public access. It shows as a custom policy, but it works as public access only.(ref. below image)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QiqdT.png\r\n\r\nAlso this logic can be extended by applying wildcard * instead of specific bucket.","title":"Amazon S3: Change bucket policy with Java SDK","body":"<p>This is how you can get the general public access policy programmatically.</p>\n<pre><code>// Gets a public read policy on the bucket.\npublic static String getPublicReadPolicy(String bucket_name) {\n    Policy bucket_policy = new Policy().withStatements(\n            new Statement(Statement.Effect.Allow)\n                    .withPrincipals(Principal.AllUsers)\n                    .withActions(S3Actions.GetObject)\n                    .withResources(new Resource(\n                            &quot;arn:aws:s3:::&quot; + bucket_name + &quot;/*&quot;)));\n    return bucket_policy.toJson();\n}\n</code></pre>\n<p>Then you can use this policy text to the desired s3 bucket</p>\n<pre><code>String policy_text = getPublicReadPolicy(bucket_name);\nsetBucketPolicy(bucket_name, policy_text);\n</code></pre>\n<p>However in the minio console this will not show with public access. It shows as a custom policy, but it works as public access only.(ref. below image)</p>\n<p><a href=\"https://i.stack.imgur.com/QiqdT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QiqdT.png\" alt=\"enter image description here\" /></a></p>\n<p>Also this logic can be extended by applying wildcard * instead of specific bucket.</p>\n"}],"owner":{"account_id":13531581,"reputation":103,"user_id":9761878,"display_name":"salud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653604835,"creation_date":1536137545,"question_id":52181000,"body_markdown":"I am testing with Amazon S3 compatible Minio using &quot;aws-java-sdk-s3&quot; in Java (Servlet).\r\n\r\nMinio wants to set this as &quot;Prefix: *, Read Only&quot; because the initial value of the bucket policy is None.\r\n\r\nI added the source code when creating the bucket\r\nI wrote as follows, but it did not change.\r\n\r\n    BasicAWSCredentials awsCreds = new BasicAWSCredentials(awsId, awsKey);\r\n    AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n        .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\r\n        .withEndpointConfiguration(new EndpointConfiguration(endpoint, null))\r\n        .withPathStyleAccessEnabled(true)\r\n    \t.build();\r\n    \r\n    s3client.createBucket(new CreateBucketRequest(bucketName));\r\n    s3client.setBucketPolicy(bucketName,\r\n        &quot;{&quot;\r\n\t        + &quot;\\&quot;Version\\&quot;:\\&quot;2012-10-17\\&quot;,&quot;\r\n\t\t\t+ &quot;\\&quot;Statement\\&quot;:[&quot;\r\n\t\t        + &quot;{&quot;\r\n\t\t\t\t    + &quot;\\&quot;Sid\\&quot;:\\&quot;Statement1\\&quot;,&quot;\r\n\t\t\t\t\t+ &quot;\\&quot;Effect\\&quot;:\\&quot;Allow\\&quot;,&quot;\r\n\t\t\t\t\t+ &quot;\\&quot;Principal\\&quot;:\\&quot;*\\&quot;,&quot;\r\n\t\t\t\t\t+ &quot;\\&quot;Action\\&quot;:[\\&quot;s3:GetObject\\&quot;],&quot;\r\n\t\t\t\t\t+ &quot;\\&quot;Resource\\&quot;:[\\&quot;arn:aws:s3:::*\\&quot;]&quot;\r\n\t\t\t\t+ &quot;}&quot;\r\n\t\t\t+ &quot;]&quot;\r\n\t\t+ &quot;}&quot;\r\n\t);\r\n\r\nWhat did I mistake? please tell me.\r\nIf it is possible to change the initial value of bucket policy for all buckets, such as with Minio&#39;s environment setting, there is no problem.\r\n\r\nThank you.","title":"Amazon S3: Change bucket policy with Java SDK","body":"<p>I am testing with Amazon S3 compatible Minio using \"aws-java-sdk-s3\" in Java (Servlet).</p>\n\n<p>Minio wants to set this as \"Prefix: *, Read Only\" because the initial value of the bucket policy is None.</p>\n\n<p>I added the source code when creating the bucket\nI wrote as follows, but it did not change.</p>\n\n<pre><code>BasicAWSCredentials awsCreds = new BasicAWSCredentials(awsId, awsKey);\nAmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n    .withCredentials(new AWSStaticCredentialsProvider(awsCreds))\n    .withEndpointConfiguration(new EndpointConfiguration(endpoint, null))\n    .withPathStyleAccessEnabled(true)\n    .build();\n\ns3client.createBucket(new CreateBucketRequest(bucketName));\ns3client.setBucketPolicy(bucketName,\n    \"{\"\n        + \"\\\"Version\\\":\\\"2012-10-17\\\",\"\n        + \"\\\"Statement\\\":[\"\n            + \"{\"\n                + \"\\\"Sid\\\":\\\"Statement1\\\",\"\n                + \"\\\"Effect\\\":\\\"Allow\\\",\"\n                + \"\\\"Principal\\\":\\\"*\\\",\"\n                + \"\\\"Action\\\":[\\\"s3:GetObject\\\"],\"\n                + \"\\\"Resource\\\":[\\\"arn:aws:s3:::*\\\"]\"\n            + \"}\"\n        + \"]\"\n    + \"}\"\n);\n</code></pre>\n\n<p>What did I mistake? please tell me.\nIf it is possible to change the initial value of bucket policy for all buckets, such as with Minio's environment setting, there is no problem.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","collections","overriding","equals","arraydeque"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1653600678,"post_id":72398134,"comment_id":127897372,"body_markdown":"[`ArrayDeque`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/ArrayDeque.java) doesn&#39;t implement `equals`, so it uses the default implementation from `Object`","body":"<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/ArrayDeque.java\" rel=\"nofollow noreferrer\"><code>ArrayDeque</code></a> doesn&#39;t implement <code>equals</code>, so it uses the default implementation from <code>Object</code>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653600882,"post_id":72398134,"comment_id":127897429,"body_markdown":"And `Collection` (or any of the implemented interfaces) doesn&#39;t declare a default `equals` method either, nor does the direct ancestor of `ArrayDequeue` (that is `AbstractCollection`)","body":"And <code>Collection</code> (or any of the implemented interfaces) doesn&#39;t declare a default <code>equals</code> method either, nor does the direct ancestor of <code>ArrayDequeue</code> (that is <code>AbstractCollection</code>)"}],"answers":[{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653604511,"creation_date":1653604511,"answer_id":72398674,"question_id":72398134,"body_markdown":"As the commenters have already mentioned, `ArrayDeque` does not implement `equals()`. If unsure, look at the javadoc and search for &quot;equals&quot;. If it&#39;s under &quot;Methods inherited from class java.lang.Object&quot; then you know it&#39;s using `Object`&#39;s `equals` implementation:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInterfaces **cannot** have an `equals()` method implementation since Java does not allow a `default` equals method. If a class implements multiple interfaces, each containing a default &quot;equals&quot; methods, which one should be used? So it&#39;s kind of irrelevant that it is inherited from the `Collection` interface. Javadoc lists it there because the `Collection` interface excplicitly defines `equals()` with a collection-specific javadoc.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b5kIX.png","title":"In ArrayDeque containsAll(Collection c), contains(Object o), equals(Object o) give expected but equals(Collection c) gives unexpected result","body":"<p>As the commenters have already mentioned, <code>ArrayDeque</code> does not implement <code>equals()</code>. If unsure, look at the javadoc and search for &quot;equals&quot;. If it's under &quot;Methods inherited from class java.lang.Object&quot; then you know it's using <code>Object</code>'s <code>equals</code> implementation:</p>\n<p><a href=\"https://i.stack.imgur.com/b5kIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b5kIX.png\" alt=\"enter image description here\" /></a></p>\n<p>Interfaces <strong>cannot</strong> have an <code>equals()</code> method implementation since Java does not allow a <code>default</code> equals method. If a class implements multiple interfaces, each containing a default &quot;equals&quot; methods, which one should be used? So it's kind of irrelevant that it is inherited from the <code>Collection</code> interface. Javadoc lists it there because the <code>Collection</code> interface excplicitly defines <code>equals()</code> with a collection-specific javadoc.</p>\n"}],"owner":{"account_id":16765025,"reputation":1192,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72398674,"answer_count":1,"score":1,"last_activity_date":1653604511,"creation_date":1653600054,"question_id":72398134,"body_markdown":"I have the following &quot;Person&quot; `class` -\r\n\r\n```\r\nimport java.util.Objects;\r\n\r\npublic class Person implements Comparable&lt;Person&gt; {\r\n    private int id;\r\n    private String name;\r\n\r\n    Person(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int compareTo(Person person) {\r\n        int myReturn = 0;\r\n        int minLength = 0;\r\n        boolean equal = false;\r\n        int id1 = id;\r\n        int id2 = person.id;\r\n        String name1 = name;\r\n        String name2 = person.name;\r\n\r\n        if (name1.length() &gt; name2.length()) {\r\n            minLength = name2.length();\r\n        } else if (name1.length() &lt; name2.length()) {\r\n            minLength = name1.length();\r\n        } else {\r\n            minLength = name1.length();\r\n            equal = true;\r\n        }\r\n\r\n        if (id1 &gt; id2) {\r\n            myReturn = 1;\r\n        } else if (id1 &lt; id2) {\r\n            myReturn = -1;\r\n        } else {\r\n            int i = 0;\r\n            for (i = 0; i &lt; minLength; i++) {\r\n                if (name1.charAt(i) &gt; name2.charAt(i)) {\r\n                    myReturn = 1;\r\n                    break;\r\n                } else if (name1.charAt(i) &lt; name2.charAt(i)) {\r\n                    myReturn = -1;\r\n                    break;\r\n                } else {\r\n                    continue;\r\n                }\r\n            }\r\n            if(i == minLength) {\r\n                if (equal) {\r\n                    myReturn = 0;\r\n                } else if (name1.length() &gt; minLength) {\r\n                    myReturn = 1;\r\n                } else {\r\n                    myReturn = -1;\r\n                }\r\n            }\r\n        }\r\n        return myReturn;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj)\r\n            return true;\r\n        if (obj == null || getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        Person person = (Person) obj;\r\n        return id == person.id &amp;&amp; Objects.equals(name, person.name);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, name);\r\n    }\r\n}\r\n\r\n``` \r\n\r\nNow the following codes behave as expected - \r\n\r\nCode 1: \r\n\r\n```\r\n/* equals(Object object) - method */\r\n        Person person3 = new Person(2, &quot;Neha&quot;);\r\n        Person person4 = new Person(2, &quot;Neha&quot;);\r\n        Person person5 = new Person(2, &quot;Sneha&quot;);\r\n        System.out.println(person3.equals(person4));\r\n        System.out.println(person3.equals(person5));\r\n```\r\nOutput - \r\n\r\n```\r\ntrue\r\nfalse\r\n```\r\n\r\n\r\nCode 2: \r\n\r\n```\r\n/* contains(Object object) - method */\r\n        ArrayDeque&lt;Person&gt; arrayDeque13 = new ArrayDeque&lt;&gt;(List.of(\r\n                new Person(99, &quot;Needhi&quot;),\r\n                new Person(12, &quot;Papori&quot;),\r\n                new Person(78, &quot;Pallavi&quot;)\r\n        ));\r\n        Person person1 = new Person(12, &quot;Papori&quot;);\r\n        Person person2 = new Person(13, &quot;Puja&quot;);\r\n        System.out.println(arrayDeque13.contains(person1));\r\n        System.out.println(arrayDeque13.contains(person2));\r\n```\r\n\r\nOutput - \r\n\r\n```\r\ntrue\r\nfalse\r\n```\r\n\r\n\r\nCode 3: \r\n\r\n```\r\n/* containsAll(Collection collection) - method */\r\n        ArrayDeque&lt;Person&gt; arrayDeque14 = new ArrayDeque&lt;&gt;(List.of(\r\n                new Person(3, &quot;Namita&quot;),\r\n                new Person(2, &quot;Mridu&quot;),\r\n                new Person(82, &quot;Priyadarshini&quot;),\r\n                new Person(89, &quot;Tina&quot;),\r\n                new Person(13, &quot;Kajal&quot;)\r\n        ));\r\n        ArrayDeque&lt;Person&gt; arrayDeque15 = new ArrayDeque&lt;&gt;(List.of(\r\n                new Person(3, &quot;Namita&quot;),\r\n                new Person(2, &quot;Mridu&quot;),\r\n                new Person(13, &quot;Kajal&quot;)\r\n        ));\r\n        ArrayDeque&lt;Person&gt; arrayDeque16 = new ArrayDeque&lt;&gt;(List.of(\r\n                new Person(3, &quot;Namita&quot;),\r\n                new Person(2, &quot;Mridu&quot;),\r\n                new Person(13, &quot;Neha&quot;)\r\n        ));\r\n        System.out.println(arrayDeque14.containsAll(arrayDeque15));\r\n        System.out.println(arrayDeque14.containsAll(arrayDeque16));\r\n```\r\n\r\nOutput - \r\n\r\n```\r\ntrue\r\nfalse\r\n```\r\n\r\nBut the following code doesn&#39;t behave as expected - \r\n\r\nCode 4:\r\n\r\n```\r\n/* equals(Collection collection) - method */\r\n        ArrayDeque&lt;Person&gt; arrayDeque17 = new ArrayDeque&lt;&gt;(List.of(\r\n                new Person(56, &quot;Leena&quot;),\r\n                new Person(66, &quot;Nidhi&quot;),\r\n                new Person(76, &quot;Payal&quot;)\r\n        ));\r\n        ArrayDeque&lt;Person&gt; arrayDeque18 = new ArrayDeque&lt;&gt;(List.of(\r\n                new Person(56, &quot;Leena&quot;),\r\n                new Person(66, &quot;Nidhi&quot;),\r\n                new Person(76, &quot;Payal&quot;)\r\n        ));\r\n        ArrayDeque&lt;Person&gt; arrayDeque19 = new ArrayDeque&lt;&gt;(List.of(\r\n                new Person(56, &quot;Leena&quot;),\r\n                new Person(66, &quot;Nidhi&quot;),\r\n                new Person(76, &quot;Payel&quot;)\r\n        ));\r\n        System.out.println(arrayDeque17.equals(arrayDeque18));\r\n        System.out.println(arrayDeque17.equals(arrayDeque19));\r\n```\r\n\r\nOutput - \r\n\r\n```\r\nfalse\r\nfalse\r\n```\r\n\r\nHere, I expect first output to be `true` but it is `false` \r\n\r\nAs given in - \r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/ArrayDeque.html \r\n\r\n&lt;blockquote&gt;\r\nMethods inherited from interface java.util.Collection&lt;br&gt;\r\naddAll, containsAll, equals, hashCode, removeAll, retainAll\r\n&lt;/blockquote&gt;\r\n\r\nSo, where am I going wrong?  ","title":"In ArrayDeque containsAll(Collection c), contains(Object o), equals(Object o) give expected but equals(Collection c) gives unexpected result","body":"<p>I have the following &quot;Person&quot; <code>class</code> -</p>\n<pre><code>import java.util.Objects;\n\npublic class Person implements Comparable&lt;Person&gt; {\n    private int id;\n    private String name;\n\n    Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n\n\n    @Override\n    public int compareTo(Person person) {\n        int myReturn = 0;\n        int minLength = 0;\n        boolean equal = false;\n        int id1 = id;\n        int id2 = person.id;\n        String name1 = name;\n        String name2 = person.name;\n\n        if (name1.length() &gt; name2.length()) {\n            minLength = name2.length();\n        } else if (name1.length() &lt; name2.length()) {\n            minLength = name1.length();\n        } else {\n            minLength = name1.length();\n            equal = true;\n        }\n\n        if (id1 &gt; id2) {\n            myReturn = 1;\n        } else if (id1 &lt; id2) {\n            myReturn = -1;\n        } else {\n            int i = 0;\n            for (i = 0; i &lt; minLength; i++) {\n                if (name1.charAt(i) &gt; name2.charAt(i)) {\n                    myReturn = 1;\n                    break;\n                } else if (name1.charAt(i) &lt; name2.charAt(i)) {\n                    myReturn = -1;\n                    break;\n                } else {\n                    continue;\n                }\n            }\n            if(i == minLength) {\n                if (equal) {\n                    myReturn = 0;\n                } else if (name1.length() &gt; minLength) {\n                    myReturn = 1;\n                } else {\n                    myReturn = -1;\n                }\n            }\n        }\n        return myReturn;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null || getClass() != obj.getClass()) {\n            return false;\n        }\n        Person person = (Person) obj;\n        return id == person.id &amp;&amp; Objects.equals(name, person.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, name);\n    }\n}\n\n</code></pre>\n<p>Now the following codes behave as expected -</p>\n<p>Code 1:</p>\n<pre><code>/* equals(Object object) - method */\n        Person person3 = new Person(2, &quot;Neha&quot;);\n        Person person4 = new Person(2, &quot;Neha&quot;);\n        Person person5 = new Person(2, &quot;Sneha&quot;);\n        System.out.println(person3.equals(person4));\n        System.out.println(person3.equals(person5));\n</code></pre>\n<p>Output -</p>\n<pre><code>true\nfalse\n</code></pre>\n<p>Code 2:</p>\n<pre><code>/* contains(Object object) - method */\n        ArrayDeque&lt;Person&gt; arrayDeque13 = new ArrayDeque&lt;&gt;(List.of(\n                new Person(99, &quot;Needhi&quot;),\n                new Person(12, &quot;Papori&quot;),\n                new Person(78, &quot;Pallavi&quot;)\n        ));\n        Person person1 = new Person(12, &quot;Papori&quot;);\n        Person person2 = new Person(13, &quot;Puja&quot;);\n        System.out.println(arrayDeque13.contains(person1));\n        System.out.println(arrayDeque13.contains(person2));\n</code></pre>\n<p>Output -</p>\n<pre><code>true\nfalse\n</code></pre>\n<p>Code 3:</p>\n<pre><code>/* containsAll(Collection collection) - method */\n        ArrayDeque&lt;Person&gt; arrayDeque14 = new ArrayDeque&lt;&gt;(List.of(\n                new Person(3, &quot;Namita&quot;),\n                new Person(2, &quot;Mridu&quot;),\n                new Person(82, &quot;Priyadarshini&quot;),\n                new Person(89, &quot;Tina&quot;),\n                new Person(13, &quot;Kajal&quot;)\n        ));\n        ArrayDeque&lt;Person&gt; arrayDeque15 = new ArrayDeque&lt;&gt;(List.of(\n                new Person(3, &quot;Namita&quot;),\n                new Person(2, &quot;Mridu&quot;),\n                new Person(13, &quot;Kajal&quot;)\n        ));\n        ArrayDeque&lt;Person&gt; arrayDeque16 = new ArrayDeque&lt;&gt;(List.of(\n                new Person(3, &quot;Namita&quot;),\n                new Person(2, &quot;Mridu&quot;),\n                new Person(13, &quot;Neha&quot;)\n        ));\n        System.out.println(arrayDeque14.containsAll(arrayDeque15));\n        System.out.println(arrayDeque14.containsAll(arrayDeque16));\n</code></pre>\n<p>Output -</p>\n<pre><code>true\nfalse\n</code></pre>\n<p>But the following code doesn't behave as expected -</p>\n<p>Code 4:</p>\n<pre><code>/* equals(Collection collection) - method */\n        ArrayDeque&lt;Person&gt; arrayDeque17 = new ArrayDeque&lt;&gt;(List.of(\n                new Person(56, &quot;Leena&quot;),\n                new Person(66, &quot;Nidhi&quot;),\n                new Person(76, &quot;Payal&quot;)\n        ));\n        ArrayDeque&lt;Person&gt; arrayDeque18 = new ArrayDeque&lt;&gt;(List.of(\n                new Person(56, &quot;Leena&quot;),\n                new Person(66, &quot;Nidhi&quot;),\n                new Person(76, &quot;Payal&quot;)\n        ));\n        ArrayDeque&lt;Person&gt; arrayDeque19 = new ArrayDeque&lt;&gt;(List.of(\n                new Person(56, &quot;Leena&quot;),\n                new Person(66, &quot;Nidhi&quot;),\n                new Person(76, &quot;Payel&quot;)\n        ));\n        System.out.println(arrayDeque17.equals(arrayDeque18));\n        System.out.println(arrayDeque17.equals(arrayDeque19));\n</code></pre>\n<p>Output -</p>\n<pre><code>false\nfalse\n</code></pre>\n<p>Here, I expect first output to be <code>true</code> but it is <code>false</code></p>\n<p>As given in -</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/ArrayDeque.html</a></p>\n<blockquote>\nMethods inherited from interface java.util.Collection<br>\naddAll, containsAll, equals, hashCode, removeAll, retainAll\n</blockquote>\n<p>So, where am I going wrong?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1653600276,"post_id":72397736,"comment_id":127897274,"body_markdown":"**Don&#39;t use a null layout. Don&#39;t use setBounds()**. Swing was designed to be used with [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html). You can nest panels with different layout managers to achieve your desired layout.","body":"<b>Don&#39;t use a null layout. Don&#39;t use setBounds()</b>. Swing was designed to be used with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a>. You can nest panels with different layout managers to achieve your desired layout."}],"answers":[{"tags":[],"owner":{"account_id":17026435,"reputation":184,"user_id":12317548,"display_name":"MatthewRBevins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653600165,"creation_date":1653600165,"answer_id":72398156,"question_id":72397736,"body_markdown":"You need to set the frame&#39;s layout to something besides null in order to render all components.\r\n\r\nInstead of \r\n\r\n    formFrame.setLayout(null);\r\n\r\nUse this:\r\n\r\n    formFrame.setLayout(new FlowLayout(FlowLayout.CENTER, 1000, 10));","title":"Java Swing not showing components as it should","body":"<p>You need to set the frame's layout to something besides null in order to render all components.</p>\n<p>Instead of</p>\n<pre><code>formFrame.setLayout(null);\n</code></pre>\n<p>Use this:</p>\n<pre><code>formFrame.setLayout(new FlowLayout(FlowLayout.CENTER, 1000, 10));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653603561,"creation_date":1653602963,"answer_id":72398510,"question_id":72397736,"body_markdown":"By using `formFrame.setLayout(null);`\r\nyou chose to not use a [LayoutManager][1] for your `JFrame`.\r\nThis is usually a bad idea, because then you are responsible\r\nfor setting the positions and sizes of the components.\r\nYou did this by calling `.setBounds(x,y,width,height)` for some\r\nof your components (the `JTextField`s and the `JButton`),\r\nBut you didn&#39;t do this for some other components (the `JLabel`s\r\nand the `JComboBox`). That&#39;s why these components\r\nstill have position/size zero and hence are invisible.\r\n\r\nNow I don&#39;t suggest you add these missing `.setBounds(...)` calls,\r\nbecause this would lead to an even messier design.\r\n\r\nInstead do the following:\r\n\r\n* Avoid `formFrame.setLayout(null)`  on your `JFrame`.\r\n  Instead use `formFrame.setLayout(new GridLayout(0, 2, 5, 5))`.\r\n  This will arrange the components in a grid-like manner\r\n  with 2 columns (in the sequence you added them to the frame),\r\n  separated by 5-pixel gaps between the rows and columns.\r\n* Remove all the `.setBounds(...)` calls.\r\n  You don&#39;t need them, because this is what a layout manager\r\n  can do better.\r\n* Avoid `bloodType.setLayout(null)` on your `JComboBox`,\r\n  because this would make the drop-down button of the combobox\r\n  invisible.\r\n* Avoid `formFrame.setSize(500,500)`.\r\n  Instead use `formFrame.pack()`. This will cause the layout\r\n  manager to give calculated positions and sizes to your components.\r\n  (That&#39;s why you need to do this *after* the `.setLayout(...)` call).\r\n\r\n\r\nThen it will look like this.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI recommend to learn more about how to layout components in Swing.\r\nSee for example [this tutorial][3].\r\nWith the skills from there you may even want to further improve\r\nthe appearance of your `JFrame`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/LayoutManager.html\r\n  [2]: https://i.stack.imgur.com/VOYBx.png\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html","title":"Java Swing not showing components as it should","body":"<p>By using <code>formFrame.setLayout(null);</code>\nyou chose to not use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/LayoutManager.html\" rel=\"nofollow noreferrer\">LayoutManager</a> for your <code>JFrame</code>.\nThis is usually a bad idea, because then you are responsible\nfor setting the positions and sizes of the components.\nYou did this by calling <code>.setBounds(x,y,width,height)</code> for some\nof your components (the <code>JTextField</code>s and the <code>JButton</code>),\nBut you didn't do this for some other components (the <code>JLabel</code>s\nand the <code>JComboBox</code>). That's why these components\nstill have position/size zero and hence are invisible.</p>\n<p>Now I don't suggest you add these missing <code>.setBounds(...)</code> calls,\nbecause this would lead to an even messier design.</p>\n<p>Instead do the following:</p>\n<ul>\n<li>Avoid <code>formFrame.setLayout(null)</code>  on your <code>JFrame</code>.\nInstead use <code>formFrame.setLayout(new GridLayout(0, 2, 5, 5))</code>.\nThis will arrange the components in a grid-like manner\nwith 2 columns (in the sequence you added them to the frame),\nseparated by 5-pixel gaps between the rows and columns.</li>\n<li>Remove all the <code>.setBounds(...)</code> calls.\nYou don't need them, because this is what a layout manager\ncan do better.</li>\n<li>Avoid <code>bloodType.setLayout(null)</code> on your <code>JComboBox</code>,\nbecause this would make the drop-down button of the combobox\ninvisible.</li>\n<li>Avoid <code>formFrame.setSize(500,500)</code>.\nInstead use <code>formFrame.pack()</code>. This will cause the layout\nmanager to give calculated positions and sizes to your components.\n(That's why you need to do this <em>after</em> the <code>.setLayout(...)</code> call).</li>\n</ul>\n<p>Then it will look like this.</p>\n<p><a href=\"https://i.stack.imgur.com/VOYBx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOYBx.png\" alt=\"enter image description here\" /></a></p>\n<p>I recommend to learn more about how to layout components in Swing.\nSee for example <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">this tutorial</a>.\nWith the skills from there you may even want to further improve\nthe appearance of your <code>JFrame</code>.</p>\n"}],"owner":{"account_id":25276281,"reputation":23,"user_id":19104858,"display_name":"Steve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72398510,"answer_count":2,"score":0,"last_activity_date":1653603561,"creation_date":1653597201,"question_id":72397736,"body_markdown":"I am trying to code the GUI for a class in Java and some components appear but some don&#39;t. Precisely JTextBoxes and JButton appear but JLabels and JComboBoxes don&#39;t. Another problem is that I tried to remove the JComboBox and put JTextBox, but when I tried to type a blood type (es. O-) and register it in the object Donor d1, it gave me NumberFormatException. I checked Donor class and the attribute bloodType is a String so I don&#39;t see why would it give me this error\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class DonationForm {\r\n    DonorTableImpl donorDB;\r\n\r\n    public DonationForm(DonorTableImpl donorDB){\r\n        this.donorDB=donorDB;\r\n        JFrame formFrame=new JFrame(&quot;Complete the form&quot;);\r\n\r\n        //TextBox Fields\r\n        JTextField id=new JTextField(10);\r\n        id.setBounds(140,190,150,30);\r\n        JTextField firstName=new JTextField(10);\r\n        firstName.setBounds(140,160,150,30);\r\n        JTextField lastName=new JTextField(10);\r\n        lastName.setBounds(140,130,150,30);\r\n        JTextField password=new JTextField(10);\r\n        password.setBounds(140,100,150,30);\r\n        JTextField address=new JTextField(10);\r\n        address.setBounds(140,70,150,30);\r\n        \r\n        //Labels for TextBoxes\r\n        JLabel idLabel=new JLabel(&quot;Id&quot;);\r\n        JLabel firstNameLabel=new JLabel(&quot;First Name&quot;);\r\n        JLabel lastNameLabel=new JLabel(&quot;Last Name&quot;);\r\n        JLabel passwordLabel=new JLabel(&quot;Password&quot;);\r\n        JLabel addressLabel=new JLabel(&quot;Address&quot;);\r\n        JLabel bloodTypeLabel=new JLabel(&quot;Blood Type&quot;);\r\n\r\n        //ComboBox\r\n        String[] blood={&quot;A+&quot;,&quot;A-&quot;,&quot;B+&quot;,&quot;B-&quot;,&quot;AB+&quot;,&quot;AB-&quot;,&quot;O+&quot;,&quot;O-&quot;};\r\n        JComboBox bloodType=new JComboBox(blood);\r\n        bloodType.setSelectedIndex(0);\r\n\r\n        //Submit button\r\n        JButton submit=new JButton(&quot;SUBMIT&quot;);\r\n        submit.setBounds(190,300,100,30);\r\n\r\n        //Add all components on frame\r\n        formFrame.add(idLabel);\r\n        formFrame.add(id);\r\n        formFrame.add(firstNameLabel);\r\n        formFrame.add(firstName);\r\n        formFrame.add(lastNameLabel);\r\n        formFrame.add(lastName);\r\n        formFrame.add(passwordLabel);\r\n        formFrame.add(password);\r\n        formFrame.add(addressLabel);\r\n        formFrame.add(address);\r\n        formFrame.add(bloodTypeLabel);\r\n        formFrame.add(bloodType);\r\n        formFrame.add(submit);\r\n        formFrame.setSize(500,500);\r\n        bloodType.setVisible(true);\r\n        bloodType.setLayout(null);\r\n        formFrame.setLayout(null);\r\n        formFrame.setVisible(true);\r\n\r\n        //Create an Object with data gotten from TextBoxes when SUBMIT button is clicked\r\n        submit.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                Donor d1=new Donor(Integer.parseInt(id.getText()),firstName.getText(),\r\n                        lastName.getText(),password.getText(),\r\n                        address.getText(), blood[bloodType.getSelectedIndex()]);\r\n                donorDB.save(d1);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\n```","title":"Java Swing not showing components as it should","body":"<p>I am trying to code the GUI for a class in Java and some components appear but some don't. Precisely JTextBoxes and JButton appear but JLabels and JComboBoxes don't. Another problem is that I tried to remove the JComboBox and put JTextBox, but when I tried to type a blood type (es. O-) and register it in the object Donor d1, it gave me NumberFormatException. I checked Donor class and the attribute bloodType is a String so I don't see why would it give me this error</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class DonationForm {\n    DonorTableImpl donorDB;\n\n    public DonationForm(DonorTableImpl donorDB){\n        this.donorDB=donorDB;\n        JFrame formFrame=new JFrame(&quot;Complete the form&quot;);\n\n        //TextBox Fields\n        JTextField id=new JTextField(10);\n        id.setBounds(140,190,150,30);\n        JTextField firstName=new JTextField(10);\n        firstName.setBounds(140,160,150,30);\n        JTextField lastName=new JTextField(10);\n        lastName.setBounds(140,130,150,30);\n        JTextField password=new JTextField(10);\n        password.setBounds(140,100,150,30);\n        JTextField address=new JTextField(10);\n        address.setBounds(140,70,150,30);\n        \n        //Labels for TextBoxes\n        JLabel idLabel=new JLabel(&quot;Id&quot;);\n        JLabel firstNameLabel=new JLabel(&quot;First Name&quot;);\n        JLabel lastNameLabel=new JLabel(&quot;Last Name&quot;);\n        JLabel passwordLabel=new JLabel(&quot;Password&quot;);\n        JLabel addressLabel=new JLabel(&quot;Address&quot;);\n        JLabel bloodTypeLabel=new JLabel(&quot;Blood Type&quot;);\n\n        //ComboBox\n        String[] blood={&quot;A+&quot;,&quot;A-&quot;,&quot;B+&quot;,&quot;B-&quot;,&quot;AB+&quot;,&quot;AB-&quot;,&quot;O+&quot;,&quot;O-&quot;};\n        JComboBox bloodType=new JComboBox(blood);\n        bloodType.setSelectedIndex(0);\n\n        //Submit button\n        JButton submit=new JButton(&quot;SUBMIT&quot;);\n        submit.setBounds(190,300,100,30);\n\n        //Add all components on frame\n        formFrame.add(idLabel);\n        formFrame.add(id);\n        formFrame.add(firstNameLabel);\n        formFrame.add(firstName);\n        formFrame.add(lastNameLabel);\n        formFrame.add(lastName);\n        formFrame.add(passwordLabel);\n        formFrame.add(password);\n        formFrame.add(addressLabel);\n        formFrame.add(address);\n        formFrame.add(bloodTypeLabel);\n        formFrame.add(bloodType);\n        formFrame.add(submit);\n        formFrame.setSize(500,500);\n        bloodType.setVisible(true);\n        bloodType.setLayout(null);\n        formFrame.setLayout(null);\n        formFrame.setVisible(true);\n\n        //Create an Object with data gotten from TextBoxes when SUBMIT button is clicked\n        submit.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Donor d1=new Donor(Integer.parseInt(id.getText()),firstName.getText(),\n                        lastName.getText(),password.getText(),\n                        address.getText(), blood[bloodType.getSelectedIndex()]);\n                donorDB.save(d1);\n            }\n        });\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","java-11","module-info","objectbox-java"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1653585724,"post_id":72393743,"comment_id":127892721,"body_markdown":"developers from objectbox needs to ensure they clean up split packages for you to be able to use it in a modular application","body":"developers from objectbox needs to ensure they clean up split packages for you to be able to use it in a modular application"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1653585766,"post_id":72393743,"comment_id":127892735,"body_markdown":"It doesn&#39;t look like that library has been modularized. And if they have two separate JAR files with the same package, then you can&#39;t load them as named modules (JPMS does not allow split packages). There seems to be an open issue about this: https://github.com/objectbox/objectbox-java/issues/840","body":"It doesn&#39;t look like that library has been modularized. And if they have two separate JAR files with the same package, then you can&#39;t load them as named modules (JPMS does not allow split packages). There seems to be an open issue about this: <a href=\"https://github.com/objectbox/objectbox-java/issues/840\" rel=\"nofollow noreferrer\">github.com/objectbox/objectbox-java/issues/840</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1653586956,"post_id":72393743,"comment_id":127893136,"body_markdown":"Until the library is fixed, make your app non modular.  Delete the module-info.java from your app and follow the instructions and command line switches for non modular JavaFX apps at openjfx.io.  Ensure that only JavaFX modules are on the module path and that the objectbox library is only on the classpath.","body":"Until the library is fixed, make your app non modular.  Delete the module-info.java from your app and follow the instructions and command line switches for non modular JavaFX apps at openjfx.io.  Ensure that only JavaFX modules are on the module path and that the objectbox library is only on the classpath."},{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1653596297,"post_id":72393743,"comment_id":127896130,"body_markdown":"thanks to all and fully noted.","body":"thanks to all and fully noted."}],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653603037,"creation_date":1653576534,"question_id":72393743,"body_markdown":"I am having an issue setting up the module.info file for my java desktop app, I am using object box desktop as a database, so I am stuck at this error, I am using maven. \r\n\r\n```bash\r\njava: the unnamed module reads package io.objectbox.converter from both objectbox.java and objectbox.java.api\r\n\r\n```\r\nat times after edits I get a similar error  \r\n```bash\r\njava: the com.app module reads package io.objectbox.converter from both objectbox.java and objectbox.java.api\r\n```\r\n\r\nso I an stuck in what may seems to be a loop  . ","title":"java moulde.info desktop objectbox","body":"<p>I am having an issue setting up the module.info file for my java desktop app, I am using object box desktop as a database, so I am stuck at this error, I am using maven.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java: the unnamed module reads package io.objectbox.converter from both objectbox.java and objectbox.java.api\n\n</code></pre>\n<p>at times after edits I get a similar error</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java: the com.app module reads package io.objectbox.converter from both objectbox.java and objectbox.java.api\n</code></pre>\n<p>so I an stuck in what may seems to be a loop  .</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":2021578,"reputation":91,"user_id":1807630,"display_name":"user1807630"},"score":0,"creation_date":1653603023,"post_id":72397993,"comment_id":127897901,"body_markdown":"The issue was with my project. Some initialization code was programmatically adding DEFAULT_NULL_ORDERING property with the value of last.","body":"The issue was with my project. Some initialization code was programmatically adding DEFAULT_NULL_ORDERING property with the value of last."}],"answers":[{"tags":[],"owner":{"account_id":2021578,"reputation":91,"user_id":1807630,"display_name":"user1807630"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653603003,"creation_date":1653603003,"answer_id":72398514,"question_id":72397993,"body_markdown":"The issue was with my project. Some initialization code was programmatically adding DEFAULT_NULL_ORDERING property with the value of last.","title":"hibernate CriteriaBuilder orderBy null ordering","body":"<p>The issue was with my project. Some initialization code was programmatically adding DEFAULT_NULL_ORDERING property with the value of last.</p>\n"}],"owner":{"account_id":2021578,"reputation":91,"user_id":1807630,"display_name":"user1807630"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653603003,"creation_date":1653599078,"question_id":72397993,"body_markdown":"In my hibernate project, all the CriteriaBuilder query with orderBy column has a *nulls last* getting added automatically. I am using Oracle db. For example:\r\n```\r\norder by creation_date desc nulls last\r\n```\r\n\r\nIs there a way to change this behavior? What I want is\r\n```\r\norder by creation_date desc\r\n```\r\n\r\nI even tried column with NOT Null constraint but not seeing any difference. ","title":"hibernate CriteriaBuilder orderBy null ordering","body":"<p>In my hibernate project, all the CriteriaBuilder query with orderBy column has a <em>nulls last</em> getting added automatically. I am using Oracle db. For example:</p>\n<pre><code>order by creation_date desc nulls last\n</code></pre>\n<p>Is there a way to change this behavior? What I want is</p>\n<pre><code>order by creation_date desc\n</code></pre>\n<p>I even tried column with NOT Null constraint but not seeing any difference.</p>\n"},{"tags":["java","jett"],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653560262,"creation_date":1653559942,"answer_id":72390180,"question_id":72386696,"body_markdown":"You need to either escape the double quotes or use single quotes to define your String constant.\r\n\r\nThese examples work: single quotes for the String\r\n```\r\n&lt;jt:if test=&quot;${thisVar == &#39;this is an apple&#39;}&quot;&gt;I have an apple.&lt;/jt:if&gt;\r\n```\r\nOr escape the double quotes:\r\n```\r\n&lt;jt:if test=&quot;${thisVar == \\&quot;this is an apple\\&quot;}&quot;&gt;I have an apple.&lt;/jt:if&gt;\r\n```\r\n\r\nReference:\r\n- http://jett.sourceforge.net/tags/basics.html\r\n\r\n`JETT supports escaping literal double-quote characters with a backslash, and escaping backslash characters as well:`\r\n\r\n```\r\n\\&quot; =&gt; &quot;\r\n\\\\ =&gt; \\\r\n```\r\n\r\nAnd for full reference the stacktrace you get on this error:\r\n```\r\nException in thread &quot;main&quot; net.sf.jett.exception.TagParseException: Unrecognized attribute &quot;x&quot; for tag &quot;if&quot; at Sheet!Cell.\r\n\tat net.sf.jett.tag.BaseTag.checkAttributes(BaseTag.java:214)\r\n\tat net.sf.jett.tag.BaseTag.processTag(BaseTag.java:239)\r\n\tat net.sf.jett.transform.CellTransformer.transformCellTag(CellTransformer.java:302)\r\n\tat net.sf.jett.transform.CellTransformer.transform(CellTransformer.java:123)\r\n\tat net.sf.jett.transform.BlockTransformer.transform(BlockTransformer.java:73)\r\n\tat net.sf.jett.transform.BlockTransformer.transform(BlockTransformer.java:36)\r\n\tat net.sf.jett.transform.SheetTransformer.transform(SheetTransformer.java:150)\r\n\tat net.sf.jett.transform.SheetTransformer.transform(SheetTransformer.java:76)\r\n\tat net.sf.jett.transform.ExcelTransformer.transform(ExcelTransformer.java:405)\r\n\tat net.sf.jett.transform.ExcelTransformer.transform(ExcelTransformer.java:379)\r\n```","title":"How to use JETT if tag to compare strings","body":"<p>You need to either escape the double quotes or use single quotes to define your String constant.</p>\n<p>These examples work: single quotes for the String</p>\n<pre><code>&lt;jt:if test=&quot;${thisVar == 'this is an apple'}&quot;&gt;I have an apple.&lt;/jt:if&gt;\n</code></pre>\n<p>Or escape the double quotes:</p>\n<pre><code>&lt;jt:if test=&quot;${thisVar == \\&quot;this is an apple\\&quot;}&quot;&gt;I have an apple.&lt;/jt:if&gt;\n</code></pre>\n<p>Reference:</p>\n<ul>\n<li><a href=\"http://jett.sourceforge.net/tags/basics.html\" rel=\"nofollow noreferrer\">http://jett.sourceforge.net/tags/basics.html</a></li>\n</ul>\n<p><code>JETT supports escaping literal double-quote characters with a backslash, and escaping backslash characters as well:</code></p>\n<pre><code>\\&quot; =&gt; &quot;\n\\\\ =&gt; \\\n</code></pre>\n<p>And for full reference the stacktrace you get on this error:</p>\n<pre><code>Exception in thread &quot;main&quot; net.sf.jett.exception.TagParseException: Unrecognized attribute &quot;x&quot; for tag &quot;if&quot; at Sheet!Cell.\n    at net.sf.jett.tag.BaseTag.checkAttributes(BaseTag.java:214)\n    at net.sf.jett.tag.BaseTag.processTag(BaseTag.java:239)\n    at net.sf.jett.transform.CellTransformer.transformCellTag(CellTransformer.java:302)\n    at net.sf.jett.transform.CellTransformer.transform(CellTransformer.java:123)\n    at net.sf.jett.transform.BlockTransformer.transform(BlockTransformer.java:73)\n    at net.sf.jett.transform.BlockTransformer.transform(BlockTransformer.java:36)\n    at net.sf.jett.transform.SheetTransformer.transform(SheetTransformer.java:150)\n    at net.sf.jett.transform.SheetTransformer.transform(SheetTransformer.java:76)\n    at net.sf.jett.transform.ExcelTransformer.transform(ExcelTransformer.java:405)\n    at net.sf.jett.transform.ExcelTransformer.transform(ExcelTransformer.java:379)\n</code></pre>\n"}],"owner":{"account_id":13736055,"reputation":43,"user_id":9912297,"display_name":"biancang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72390180,"answer_count":1,"score":1,"last_activity_date":1653602917,"creation_date":1653539313,"question_id":72386696,"body_markdown":"I am using JETT&#39;s if tag to format an Excel file.\r\n\r\nI want to use the below condition to compare a string.\r\n\r\n```\r\n&lt;jt:if test=&quot;${thisVar == &quot;this is an apple&quot; }&quot;&gt;I have an apple.&lt;/jt:if&gt;\r\n```\r\n\r\nHowever, my Excel sheet keeps running into a `TagParseException` where &quot;this is an apple&quot; is an unrecognised attribute.\r\n\r\nIs it possible to compare strings in a JETT if tag?","title":"How to use JETT if tag to compare strings","body":"<p>I am using JETT's if tag to format an Excel file.</p>\n<p>I want to use the below condition to compare a string.</p>\n<pre><code>&lt;jt:if test=&quot;${thisVar == &quot;this is an apple&quot; }&quot;&gt;I have an apple.&lt;/jt:if&gt;\n</code></pre>\n<p>However, my Excel sheet keeps running into a <code>TagParseException</code> where &quot;this is an apple&quot; is an unrecognised attribute.</p>\n<p>Is it possible to compare strings in a JETT if tag?</p>\n"},{"tags":["java","amazon-web-services","docker","kotlin","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632869325,"creation_date":1632869325,"answer_id":69369215,"question_id":69364438,"body_markdown":"You are using the Java V1 API to write Kotlin code. Have you looked at the brand new **AWS SDK for Kotlin**? Its still very new - but works. See the Kotlin Lambda examples here: \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/master/.kotlin_alpha/services/lambda\r\n\r\nNow having said that - I am not aware of anyone trying to run these examples from a  docker environment. ","title":"Could not find or load main class com.amazonaws.services.lambda.runtime.api.client.AWSLambda","body":"<p>You are using the Java V1 API to write Kotlin code. Have you looked at the brand new <strong>AWS SDK for Kotlin</strong>? Its still very new - but works. See the Kotlin Lambda examples here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/.kotlin_alpha/services/lambda\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/.kotlin_alpha/services/lambda</a></p>\n<p>Now having said that - I am not aware of anyone trying to run these examples from a  docker environment.</p>\n"}],"owner":{"account_id":22851430,"reputation":31,"user_id":16996977,"display_name":"Nicholas Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653601647,"creation_date":1632842537,"question_id":69364438,"body_markdown":"I&#39;m getting this error when trying to invoke the AWS Lambda of a Kotlin project that I&#39;ve dockerized\r\n\r\n`Error: Could not find or load main class com.amazonaws.services.lambda.runtime.api.client.AWSLambda\r\nCaused by: java.lang.ClassNotFoundException: com.amazonaws.services.lambda.runtime.api.client.AWSLambda`\r\n\r\nThis is what my Dockerfile looks like \r\n\r\n    FROM gradle:6.7.1 as builder\r\n    \r\n    # Copy sourcecode into build image\r\n    COPY app/build.gradle ./app/\r\n    COPY app/src/ ./app/src/\r\n    COPY settings.gradle ./\r\n    COPY gradle.properties ./\r\n    \r\n    \r\n    ENV ARTIFACTORY_CREDENTIALS_USR=[redacted]\r\n    ENV ARTIFACTORY_CREDENTIALS_PSW=[redacted]\r\n    \r\n    RUN gradle clean build --no-daemon --stacktrace\r\n    \r\n    FROM adoptopenjdk/openjdk13:debianslim-jre\r\n    # Put the one necessary class files, with all dependencies, into the into the runtime.\r\n    \r\n    COPY --from=builder ./home/gradle/app/build/libs/app.jar .\r\n    COPY --from=builder ./home/gradle/app/build/libs/ ${LAMBDA_TASK_ROOT}/libs\r\n    COPY --from=builder ./home/gradle/app/build/classes/ ${LAMBDA_TASK_ROOT}\r\n    COPY --from=builder ./home/gradle/app/build/libs/app.jar ${LAMBDA_TASK_ROOT}\r\n    \r\n    \r\n    \r\n    ENTRYPOINT [ &quot;java&quot;, &quot;-cp&quot;, &quot;./*&quot;, &quot;com.amazonaws.services.lambda.runtime.api.client.AWSLambda&quot; ]\r\n    \r\n    CMD [&quot;readCartMessageDBLambda.App::handleRequest&quot;]\r\n\r\n\r\nThis is what I&#39;ve managed to put together using various Kotlin examples online. I haven&#39;t been able to find a ton of resources on how to do this. I just simply want to take my Kotlin project, and invoke it via AWS Lambda. I have `RequestHandler` implemented already. Also, I do have this in the dependencies of my `build.gradle`\r\n\r\n    dependencies {\r\n        implementation &#39;com.amazonaws:aws-lambda-java-runtime-interface-client:1.1.0&#39;\r\n    }","title":"Could not find or load main class com.amazonaws.services.lambda.runtime.api.client.AWSLambda","body":"<p>I'm getting this error when trying to invoke the AWS Lambda of a Kotlin project that I've dockerized</p>\n<p><code>Error: Could not find or load main class com.amazonaws.services.lambda.runtime.api.client.AWSLambda Caused by: java.lang.ClassNotFoundException: com.amazonaws.services.lambda.runtime.api.client.AWSLambda</code></p>\n<p>This is what my Dockerfile looks like</p>\n<pre><code>FROM gradle:6.7.1 as builder\n\n# Copy sourcecode into build image\nCOPY app/build.gradle ./app/\nCOPY app/src/ ./app/src/\nCOPY settings.gradle ./\nCOPY gradle.properties ./\n\n\nENV ARTIFACTORY_CREDENTIALS_USR=[redacted]\nENV ARTIFACTORY_CREDENTIALS_PSW=[redacted]\n\nRUN gradle clean build --no-daemon --stacktrace\n\nFROM adoptopenjdk/openjdk13:debianslim-jre\n# Put the one necessary class files, with all dependencies, into the into the runtime.\n\nCOPY --from=builder ./home/gradle/app/build/libs/app.jar .\nCOPY --from=builder ./home/gradle/app/build/libs/ ${LAMBDA_TASK_ROOT}/libs\nCOPY --from=builder ./home/gradle/app/build/classes/ ${LAMBDA_TASK_ROOT}\nCOPY --from=builder ./home/gradle/app/build/libs/app.jar ${LAMBDA_TASK_ROOT}\n\n\n\nENTRYPOINT [ &quot;java&quot;, &quot;-cp&quot;, &quot;./*&quot;, &quot;com.amazonaws.services.lambda.runtime.api.client.AWSLambda&quot; ]\n\nCMD [&quot;readCartMessageDBLambda.App::handleRequest&quot;]\n</code></pre>\n<p>This is what I've managed to put together using various Kotlin examples online. I haven't been able to find a ton of resources on how to do this. I just simply want to take my Kotlin project, and invoke it via AWS Lambda. I have <code>RequestHandler</code> implemented already. Also, I do have this in the dependencies of my <code>build.gradle</code></p>\n<pre><code>dependencies {\n    implementation 'com.amazonaws:aws-lambda-java-runtime-interface-client:1.1.0'\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","jar"],"comments":[{"owner":{"account_id":25326110,"reputation":64,"user_id":19146740,"display_name":"katyRosale"},"score":0,"creation_date":1653421828,"post_id":72363330,"comment_id":127847926,"body_markdown":"is this project using maven/gradle? \nelse build project put your jar in lib folder","body":"is this project using maven/gradle?  else build project put your jar in lib folder"}],"answers":[{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653455590,"creation_date":1653455590,"answer_id":72372246,"question_id":72363330,"body_markdown":"For Maven project, you can add a dependency by clicking the + icon next to Maven Dependencies node in project view.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf your project is an unmanaged folder without any build tools. You can manage the dependencies by clicking the + icon or the - icon on the Referenced Libraries node or the items under it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hoyKM.png\r\n  [2]: https://i.stack.imgur.com/BD4Oa.png","title":"The import org.xxx cannot be resolved","body":"<p>For Maven project, you can add a dependency by clicking the + icon next to Maven Dependencies node in project view.</p>\n<p><a href=\"https://i.stack.imgur.com/hoyKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoyKM.png\" alt=\"enter image description here\" /></a></p>\n<p>If your project is an unmanaged folder without any build tools. You can manage the dependencies by clicking the + icon or the - icon on the Referenced Libraries node or the items under it.</p>\n<p><a href=\"https://i.stack.imgur.com/BD4Oa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BD4Oa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24243332,"reputation":3,"user_id":18195398,"display_name":"Fruitsalad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653601434,"creation_date":1653563686,"answer_id":72390931,"question_id":72363330,"body_markdown":"I had to reference the jar file to the project. \r\nSurprisingly the first time it has been referenced automatically, the second time I had to do it manually...\r\n\r\n![screenshot of VS Code setting][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yvs84.png","title":"The import org.xxx cannot be resolved","body":"<p>I had to reference the jar file to the project.\nSurprisingly the first time it has been referenced automatically, the second time I had to do it manually...</p>\n<p><img src=\"https://i.stack.imgur.com/Yvs84.png\" alt=\"screenshot of VS Code setting\" /></p>\n"}],"owner":{"account_id":24243332,"reputation":3,"user_id":18195398,"display_name":"Fruitsalad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653601434,"creation_date":1653397040,"question_id":72363330,"body_markdown":"I&#39;m new to Java, so bear with me...\r\n\r\nI have placed a jfreechart-1.5.0.jar file in a lib folder and wanted to do do some imports like this:\r\n```\r\nimport org.jfree.chart.ChartFactory;\r\n```\r\nBut VS Code is complaining: the import org.jfree cannot be resolved.\r\n\r\nOne thing I have to mention is, that I have created a copy of the project folder in order to try something. Because it worked, I have deleted the original folder and renamed the copy to the name of the original folder.\r\n\r\nBut now I have the problem that the imports do not work anymore, even it&#39;s the same code. I have &quot;cleaned Java language server workspace&quot; but it didn&#39;t help. \r\n\r\nIs there anything else I have to do? Is the jar import pointing to a certain path / file?","title":"The import org.xxx cannot be resolved","body":"<p>I'm new to Java, so bear with me...</p>\n<p>I have placed a jfreechart-1.5.0.jar file in a lib folder and wanted to do do some imports like this:</p>\n<pre><code>import org.jfree.chart.ChartFactory;\n</code></pre>\n<p>But VS Code is complaining: the import org.jfree cannot be resolved.</p>\n<p>One thing I have to mention is, that I have created a copy of the project folder in order to try something. Because it worked, I have deleted the original folder and renamed the copy to the name of the original folder.</p>\n<p>But now I have the problem that the imports do not work anymore, even it's the same code. I have &quot;cleaned Java language server workspace&quot; but it didn't help.</p>\n<p>Is there anything else I have to do? Is the jar import pointing to a certain path / file?</p>\n"},{"tags":["java","string","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653580666,"creation_date":1653580395,"answer_id":72394622,"question_id":72394550,"body_markdown":"You need to provide a *combiner* function as the third argument to make it work:\r\n\r\n```\r\nint sum = Arrays.stream(new String[]{&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;})\r\n            .reduce(0, (a, b)-&gt; a + Integer.parseInt(b), Integer::sum);\r\n```\r\nOtherwise you&#39;re getting the different flavor of `reduce()` which is capable of produce the result of the same type as the type of elements in the stream.\r\n\r\nAnd you don&#39;t need `reduce()`, the better way:\r\n```\r\nint sum = Stream.of(&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;)\r\n            .mapToInt(Integer::parseInt)\r\n            .sum();\r\n```","title":"Java Stream: Parsing Strings inside the reduce() operation","body":"<p>You need to provide a <em>combiner</em> function as the third argument to make it work:</p>\n<pre><code>int sum = Arrays.stream(new String[]{&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;})\n            .reduce(0, (a, b)-&gt; a + Integer.parseInt(b), Integer::sum);\n</code></pre>\n<p>Otherwise you're getting the different flavor of <code>reduce()</code> which is capable of produce the result of the same type as the type of elements in the stream.</p>\n<p>And you don't need <code>reduce()</code>, the better way:</p>\n<pre><code>int sum = Stream.of(&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;)\n            .mapToInt(Integer::parseInt)\n            .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653580673,"creation_date":1653580673,"answer_id":72394687,"question_id":72394550,"body_markdown":"Instead of using `reduce()`, I&#39;d break it into two steps: Convert the strings to ints (As an `IntStream`), and then sum them:\r\n\r\n```java\r\nStream.of(&quot;10&quot;, &quot;20&quot;, &quot;30&quot;, &quot;40&quot;, &quot;50&quot;).mapToInt(Integer::parseInt).sum()\r\n```","title":"Java Stream: Parsing Strings inside the reduce() operation","body":"<p>Instead of using <code>reduce()</code>, I'd break it into two steps: Convert the strings to ints (As an <code>IntStream</code>), and then sum them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(&quot;10&quot;, &quot;20&quot;, &quot;30&quot;, &quot;40&quot;, &quot;50&quot;).mapToInt(Integer::parseInt).sum()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653582067,"creation_date":1653580813,"answer_id":72394726,"question_id":72394550,"body_markdown":"&gt; I want to convert them to integer and sum them up using the reduce method. I am using reduce in the following format:\r\n\r\nWhen converting to an `IntStream` via `Integer::parseInt` the `reduce` method takes a form of an `int` starting value and an `IntBinaryOperator`. So the following will work.\r\n```\r\nString[] data ={&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;};\r\nint sum = Arrays.stream(data)\r\n           .mapToInt(Integer::parseInt).reduce(0, (a,b)-&gt;(a+b));\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n150\r\n```\r\nAnd for your edification (and future requirements) you can do it like so.\r\n```\r\nint sum = Arrays.stream(data).mapToInt(Integer::parseInt).sum();\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n150","title":"Java Stream: Parsing Strings inside the reduce() operation","body":"<blockquote>\n<p>I want to convert them to integer and sum them up using the reduce method. I am using reduce in the following format:</p>\n</blockquote>\n<p>When converting to an <code>IntStream</code> via <code>Integer::parseInt</code> the <code>reduce</code> method takes a form of an <code>int</code> starting value and an <code>IntBinaryOperator</code>. So the following will work.</p>\n<pre><code>String[] data ={&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;};\nint sum = Arrays.stream(data)\n           .mapToInt(Integer::parseInt).reduce(0, (a,b)-&gt;(a+b));\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>150\n</code></pre>\n<p>And for your edification (and future requirements) you can do it like so.</p>\n<pre><code>int sum = Arrays.stream(data).mapToInt(Integer::parseInt).sum();\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>150\n</code></pre>\n"}],"owner":{"account_id":16354206,"reputation":117,"user_id":12465838,"display_name":"vortex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72394622,"answer_count":3,"score":1,"last_activity_date":1653600790,"creation_date":1653580029,"question_id":72394550,"body_markdown":"I have a stream of strings:\r\n```\r\nStream&lt;String&gt; st = Arrays.stream(new String[]{&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;});\r\n```\r\nI want to convert them to integer and sum them up using the `reduce` method. I&#39;m using reduce in the following format:\r\n```\r\nint result = st.reduce(0, (a, b) -&gt; a + Integer.parseInt(b));\r\n```\r\nI get this error:\r\n```\r\nno suitable method found for reduce(int, (a, b) -&gt; a + [...]nt(b))\r\n```\r\n\r\nany hint about how can I rewrite the reduce method to make it work?","title":"Java Stream: Parsing Strings inside the reduce() operation","body":"<p>I have a stream of strings:</p>\n<pre><code>Stream&lt;String&gt; st = Arrays.stream(new String[]{&quot;10&quot;, &quot;20&quot;, &quot;30&quot;,  &quot;40&quot;, &quot;50&quot;});\n</code></pre>\n<p>I want to convert them to integer and sum them up using the <code>reduce</code> method. I'm using reduce in the following format:</p>\n<pre><code>int result = st.reduce(0, (a, b) -&gt; a + Integer.parseInt(b));\n</code></pre>\n<p>I get this error:</p>\n<pre><code>no suitable method found for reduce(int, (a, b) -&gt; a + [...]nt(b))\n</code></pre>\n<p>any hint about how can I rewrite the reduce method to make it work?</p>\n"},{"tags":["java","arrays","multidimensional-array","methods"],"comments":[{"owner":{"account_id":10097851,"reputation":1745,"user_id":7462657,"accept_rate":80,"display_name":"xander"},"score":0,"creation_date":1510655307,"post_id":47283177,"comment_id":81516756,"body_markdown":"As far as I understand it you need a source and destination and calculate the distance between those two, since you already seem to have all the distances in your `distances` array you only need to get the correct number and no need to calculate it yourself. I&#39;m not going to tell you the solution for your homework problem, but your `findDistance` method looks wrong,  unless you want the permutation from all source locations to all destinations. :)","body":"As far as I understand it you need a source and destination and calculate the distance between those two, since you already seem to have all the distances in your <code>distances</code> array you only need to get the correct number and no need to calculate it yourself. I&#39;m not going to tell you the solution for your homework problem, but your <code>findDistance</code> method looks wrong,  unless you want the permutation from all source locations to all destinations. :)"},{"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"score":0,"creation_date":1510655676,"post_id":47283177,"comment_id":81516986,"body_markdown":"@Sammy, your code was not well formatted. I have formatted it, but it was asking for some more detail information about your issue. I have just copied your question and paste it. Please give some detail about your issue. It is not so clear.","body":"@Sammy, your code was not well formatted. I have formatted it, but it was asking for some more detail information about your issue. I have just copied your question and paste it. Please give some detail about your issue. It is not so clear."},{"owner":{"account_id":12160500,"reputation":1,"user_id":8878190,"display_name":"sammy"},"score":0,"creation_date":1510655937,"post_id":47283177,"comment_id":81517165,"body_markdown":"Abhijit , what detail you need i will provide you as much as i can !","body":"Abhijit , what detail you need i will provide you as much as i can !"},{"owner":{"account_id":1515548,"reputation":103,"user_id":1416620,"display_name":"Vinnod Kumar Kashyap"},"score":1,"creation_date":1510656427,"post_id":47283177,"comment_id":81517464,"body_markdown":"question is not clear. 2D array is OK but what actually you need to find from this example. Can you please elaborate a little bit?","body":"question is not clear. 2D array is OK but what actually you need to find from this example. Can you please elaborate a little bit?"},{"owner":{"account_id":12160500,"reputation":1,"user_id":8878190,"display_name":"sammy"},"score":0,"creation_date":1510657667,"post_id":47283177,"comment_id":81518256,"body_markdown":"Vinod Kumar Kashyap , i need to pass two arrays such as array of distance and array of names to findDistance function also passing from : , to user prompt to this function .","body":"Vinod Kumar Kashyap , i need to pass two arrays such as array of distance and array of names to findDistance function also passing from : , to user prompt to this function ."},{"owner":{"account_id":12160500,"reputation":1,"user_id":8878190,"display_name":"sammy"},"score":0,"creation_date":1510658045,"post_id":47283177,"comment_id":81518505,"body_markdown":"user need to ask : from what city (source) to what city ( destination) , programs at end it has to find the index of those cities and it gives the number of distance : )","body":"user need to ask : from what city (source) to what city ( destination) , programs at end it has to find the index of those cities and it gives the number of distance : )"}],"answers":[{"tags":[],"owner":{"account_id":9448431,"reputation":310,"user_id":7026242,"display_name":"anupam691997"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653599266,"creation_date":1510656366,"answer_id":47283699,"question_id":47283177,"body_markdown":"    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    \r\n    class Demo6 {\r\n        public static void main(String[] args) {\r\n    \r\n            int[][] distances = {{0, 50, 100, 20}, {50, 0, 70, 110},\r\n                    {100, 70, 0, 200}, {20, 110, 200, 0}};\r\n    \r\n            String[] names = {&quot;manassas&quot;, &quot;fairfax&quot;, &quot;baltimore&quot;, &quot;centerville&quot;};\r\n    \r\n            /* Take two more inputs which are FROM city TO city */\r\n            /* I have taken two default city names below */\r\n            /* And findDistance method should have four arguments */\r\n    \r\n            findDistance(distances, names, &quot;baltimore&quot;, &quot;centerville&quot;);\r\n        }\r\n    \r\n        private static void findDistance(int[][] distances, String[] names, String a, String b) {\r\n    \r\n            int x = 0, y = 0;\r\n    \r\n            /*below i am finding the index of the cities &#39;a&#39; and &#39;b&#39;*/\r\n            /*below logic works only if both the cities exist  in the array*/\r\n            \r\n            for (int i = 0; i &lt; names.length; i++) {\r\n                if (names[i].equals(a))\r\n                    x = i;\r\n                if (names[i].equals(b))\r\n                    y = i;\r\n            }\r\n        /*after calculating the index just print their cost from the matrix distance*/\r\n        /*its as simple as that*/\r\n            System.out.println(distances[x][y]);\r\n    \r\n        }\r\n    }\r\n\r\nHope it helps. I have explained the code in comments.","title":"java : Array , How can I use find Distance (distance,name) function and display distance?","body":"<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nclass Demo6 {\n    public static void main(String[] args) {\n\n        int[][] distances = {{0, 50, 100, 20}, {50, 0, 70, 110},\n                {100, 70, 0, 200}, {20, 110, 200, 0}};\n\n        String[] names = {&quot;manassas&quot;, &quot;fairfax&quot;, &quot;baltimore&quot;, &quot;centerville&quot;};\n\n        /* Take two more inputs which are FROM city TO city */\n        /* I have taken two default city names below */\n        /* And findDistance method should have four arguments */\n\n        findDistance(distances, names, &quot;baltimore&quot;, &quot;centerville&quot;);\n    }\n\n    private static void findDistance(int[][] distances, String[] names, String a, String b) {\n\n        int x = 0, y = 0;\n\n        /*below i am finding the index of the cities 'a' and 'b'*/\n        /*below logic works only if both the cities exist  in the array*/\n        \n        for (int i = 0; i &lt; names.length; i++) {\n            if (names[i].equals(a))\n                x = i;\n            if (names[i].equals(b))\n                y = i;\n        }\n    /*after calculating the index just print their cost from the matrix distance*/\n    /*its as simple as that*/\n        System.out.println(distances[x][y]);\n\n    }\n}\n</code></pre>\n<p>Hope it helps. I have explained the code in comments.</p>\n"}],"owner":{"account_id":12160500,"reputation":1,"user_id":8878190,"display_name":"sammy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653600745,"creation_date":1510654871,"question_id":47283177,"body_markdown":"java : Array , How can I use find Distance (distance,name) function and display distance?   \r\njava : Array , How can I use find Distance (distance,name) function and display distance?\r\njava : Array , How can I use find Distance (distance,name) function and display distance?\r\n \r\n\r\n    package practice;\r\n\r\n    public class displayDistance \r\n    {\t\r\n       /*I&#39;m playing around with Arrays in Java and had this doubt.\r\n         How do I call the  find Distance (distance,name) and display distance .\r\n\r\n         5 Requirement are :\r\n         1) Define 2-D Array for distance and populate it. \r\n         2) ask user for source and destination ( preferably lets use Exception Handling along with JOptionPane prompt .\r\n            e.g. 1st prompt-&gt; From city :  , 2nd prompt-&gt;  To city :    \r\n         3)define a city Array \r\n         4)call function findDistance (distance,name) to find distance and  return it . \r\n         5)display distance.*/\r\n\r\n\t    public class practice {\r\n\t\t    public void main(String[] args) \r\n\t\t    {\r\n\t\t\r\n\t\t\t  //1. Define 2-D Array for distance and populate it .\t\t\r\n\t\t\t  int [][] distances = { {0,50,100,20},{50,0,70,110},\r\n\t                               {100,70,0,200},{20,110,200,0} };\r\n\t\t\t\r\n\t\t\t  //3. define a city Array\t\t\t\r\n\t\t\t  String [] names = {&quot;manassas&quot;,&quot;fairfax&quot;,&quot;baltimore&quot;,&quot;centerville&quot;};\t\t\r\n\t\t\t\r\n\t\t\t  // calling (invoking)the function\t\t\t\r\n\t\t\t   findDistance (distances,names);\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t  // JOptionPane.showMessageDialog(null, &quot;The distance value is: &quot; + findDistance(distances), &quot;DISTANCE VALUE&quot;,\r\n\t\t      // JOptionPane.INFORMATION_MESSAGE);\t   \r\n\t\t\r\n\t\t    }\t\r\n\t\t\r\n\t\t private String findDistance(int[][] distances, String[] names) {\t\t\t\t\t \t\r\n\t\t\t return null;\r\n\t\t }\r\n\t  }\r\n    }","title":"java : Array , How can I use find Distance (distance,name) function and display distance?","body":"<p>java : Array , How can I use find Distance (distance,name) function and display distance?<br>\njava : Array , How can I use find Distance (distance,name) function and display distance?\njava : Array , How can I use find Distance (distance,name) function and display distance?</p>\n\n<pre><code>package practice;\n\npublic class displayDistance \n{   \n   /*I'm playing around with Arrays in Java and had this doubt.\n     How do I call the  find Distance (distance,name) and display distance .\n\n     5 Requirement are :\n     1) Define 2-D Array for distance and populate it. \n     2) ask user for source and destination ( preferably lets use Exception Handling along with JOptionPane prompt .\n        e.g. 1st prompt-&gt; From city :  , 2nd prompt-&gt;  To city :    \n     3)define a city Array \n     4)call function findDistance (distance,name) to find distance and  return it . \n     5)display distance.*/\n\n    public class practice {\n        public void main(String[] args) \n        {\n\n          //1. Define 2-D Array for distance and populate it .      \n          int [][] distances = { {0,50,100,20},{50,0,70,110},\n                               {100,70,0,200},{20,110,200,0} };\n\n          //3. define a city Array          \n          String [] names = {\"manassas\",\"fairfax\",\"baltimore\",\"centerville\"};       \n\n          // calling (invoking)the function         \n           findDistance (distances,names);\n\n\n          // JOptionPane.showMessageDialog(null, \"The distance value is: \" + findDistance(distances), \"DISTANCE VALUE\",\n          // JOptionPane.INFORMATION_MESSAGE);     \n\n        }   \n\n     private String findDistance(int[][] distances, String[] names) {                       \n         return null;\n     }\n  }\n}\n</code></pre>\n"},{"tags":["java","arrays","hashmap","java-stream"],"comments":[{"owner":{"account_id":7984773,"reputation":457,"user_id":6024683,"accept_rate":0,"display_name":"WILLIAM"},"score":0,"creation_date":1653562939,"post_id":72390111,"comment_id":127884409,"body_markdown":"@AlexanderIvanchenko Sorry, I am new to Java and still exploring it. I have put the API resp message in &quot;Remark&quot;. In this case, what is the proper way to cast the type? I want to convert the API message into a list of fruit. Thanks!","body":"@AlexanderIvanchenko Sorry, I am new to Java and still exploring it. I have put the API resp message in &quot;Remark&quot;. In this case, what is the proper way to cast the type? I want to convert the API message into a list of fruit. Thanks!"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653563874,"post_id":72390111,"comment_id":127884692,"body_markdown":"`proper way to cast the type` - In Java, a good practice is to avoid type casting. Your list should be of type `List&lt;Map&lt;Integer, Integer&gt;` in the first place. By using `Object` as a generic type and performing type-casts, you&#39;re relinquishing the built-in type-safety mechanism, i.e. the compiler will not help you with verifying the code. And it makes it difficult to read.","body":"<code>proper way to cast the type</code> - In Java, a good practice is to avoid type casting. Your list should be of type <code>List&lt;Map&lt;Integer, Integer&gt;</code> in the first place. By using <code>Object</code> as a generic type and performing type-casts, you&#39;re relinquishing the built-in type-safety mechanism, i.e. the compiler will not help you with verifying the code. And it makes it difficult to read."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1653567629,"post_id":72390111,"comment_id":127885905,"body_markdown":"In your code, you&#39;re trying to create a copy, so you want to keep the previous version where all entries are intact and modify a copy?","body":"In your code, you&#39;re trying to create a copy, so you want to keep the previous version where all entries are intact and modify a copy?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653564873,"creation_date":1653560420,"answer_id":72390265,"question_id":72390111,"body_markdown":"This will remove the oranges from the maps:\r\n\r\n    fruit.forEach(x -&gt; ((Map&lt;?,?&gt;) x).remove(&quot;orange&quot;));\r\n\r\n(It is more complicated you wanted to create a *new* list containing *new* maps with the oranges removed.  But that is not what your attempts seemed to be doing.)\r\n\r\nOne thing you were missing in all of your attempts is that you need to cast the list *elements* to `Map`.\r\n\r\nBut a cleaner solution would be to define `List&lt;Object&gt; fruit` as `List&lt;Map&lt;String, Integer&gt;&gt; fruit`.\r\n\r\n-------------------\r\n\r\nIn the question title you asked:\r\n\r\n&gt; How to cast Object Array to Map Array and remove key in the Map?\r\n\r\nThe short answer is that you can&#39;t.  An array object that has been created as an `Object[]` cannot be cast to `Map&lt;?, ?&gt;[]`.   But as you can see, you don&#39;t need to do that to solve your problem.\r\n","title":"How to cast Object Array to Map Array and remove key in the Map?","body":"<p>This will remove the oranges from the maps:</p>\n<pre><code>fruit.forEach(x -&gt; ((Map&lt;?,?&gt;) x).remove(&quot;orange&quot;));\n</code></pre>\n<p>(It is more complicated you wanted to create a <em>new</em> list containing <em>new</em> maps with the oranges removed.  But that is not what your attempts seemed to be doing.)</p>\n<p>One thing you were missing in all of your attempts is that you need to cast the list <em>elements</em> to <code>Map</code>.</p>\n<p>But a cleaner solution would be to define <code>List&lt;Object&gt; fruit</code> as <code>List&lt;Map&lt;String, Integer&gt;&gt; fruit</code>.</p>\n<hr />\n<p>In the question title you asked:</p>\n<blockquote>\n<p>How to cast Object Array to Map Array and remove key in the Map?</p>\n</blockquote>\n<p>The short answer is that you can't.  An array object that has been created as an <code>Object[]</code> cannot be cast to <code>Map&lt;?, ?&gt;[]</code>.   But as you can see, you don't need to do that to solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653574372,"creation_date":1653570045,"answer_id":72392242,"question_id":72390111,"body_markdown":"&gt; How to cast Object Array to Map Array\r\n\r\nIt seems like you&#39;re confusing an *array* and `ArrayList`.\r\n\r\nAn *array* is a data-container that occupies a contiguous block of memory and has a fixed length. \r\n\r\n`ArrayList` is a built-in implementation of the [*Dynamic array*](https://en.wikipedia.org/wiki/Dynamic_array) data structure, which is backed by an array, but contrary to a plain array it&#39;s capable to grow is size and provides a lot of useful behavior.\r\n\r\nIf your background is JavaScript, then `ArrayList` is closer to arrays in JavaScript.\r\n\r\nRegarding casting, as I&#39;ve said, you shouldn&#39;t use the `Object` in the first place. Your list should be of type `List&lt;Map&lt;String, Integer&gt;&gt;` then there would be no problem.\r\n\r\nIf we would try to convert this list objects into its actual type - no luck:\r\n\r\n```\r\nList&lt;Map&lt;String, Integer&gt;&gt; fruitConverted = (List&lt;Map&lt;String, Integer&gt;&gt;) fruit; // that would not compile, the compiler will not allow that\r\n```\r\n\r\nThat work around it to fool the compiler by using an intermediate variable of so-called *row type*. \r\n\r\n```\r\nList rowList = fruit; \r\n        \r\nList&lt;Map&lt;String, Integer&gt;&gt; fruitConverted = rowList;\r\n```\r\n\r\nIn this case the compiler will issue a warning, but the code will compile. But you should be aware that a vary bad stale of coding.\r\n\r\nFor more information on type conversion [*see*](https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html).\r\n\r\n&gt; I would like to remove one of the key in each dictionary\r\n\r\nIn your code, you&#39;re trying to create a *new list* in different ways, so it seems like you want to keep the previous version of the list with all maps intact.\r\n\r\nIf so you can use streams to create a duplicate of every entry (excluding entries with an undesired key `&quot;orange&quot;`) for each map and then collect then into a list.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Object&gt; fruit =\r\n            List.of(Map.of(&quot;apple&quot;, 3, &quot;orange&quot;, 4),\r\n                    Map.of(&quot;apple&quot;, 13, &quot;orange&quot;, 2),\r\n                    Map.of(&quot;apple&quot;, 1, &quot;orange&quot;, 8));\r\n    \r\n        List&lt;Map&lt;String, Integer&gt;&gt; newList = fruit.stream()\r\n            .map(map -&gt; ((Map&lt;String, Integer&gt;) map).entrySet().stream()\r\n                .filter(entry -&gt; !entry.getKey().equals(&quot;orange&quot;)) // will retain entries with key that not equal to &quot;orange&quot;\r\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\r\n            .collect(Collectors.toList());\r\n    \r\n        System.out.println(newList);\r\n    }\r\n\r\n*Output:*\r\n```\r\n[{apple=3}, {apple=13}, {apple=1}]\r\n```\r\n\r\nBut if you don&#39;t need the previous version of the list, then you can use a combination of `forEach()` an `remove()`.","title":"How to cast Object Array to Map Array and remove key in the Map?","body":"<blockquote>\n<p>How to cast Object Array to Map Array</p>\n</blockquote>\n<p>It seems like you're confusing an <em>array</em> and <code>ArrayList</code>.</p>\n<p>An <em>array</em> is a data-container that occupies a contiguous block of memory and has a fixed length.</p>\n<p><code>ArrayList</code> is a built-in implementation of the <a href=\"https://en.wikipedia.org/wiki/Dynamic_array\" rel=\"nofollow noreferrer\"><em>Dynamic array</em></a> data structure, which is backed by an array, but contrary to a plain array it's capable to grow is size and provides a lot of useful behavior.</p>\n<p>If your background is JavaScript, then <code>ArrayList</code> is closer to arrays in JavaScript.</p>\n<p>Regarding casting, as I've said, you shouldn't use the <code>Object</code> in the first place. Your list should be of type <code>List&lt;Map&lt;String, Integer&gt;&gt;</code> then there would be no problem.</p>\n<p>If we would try to convert this list objects into its actual type - no luck:</p>\n<pre><code>List&lt;Map&lt;String, Integer&gt;&gt; fruitConverted = (List&lt;Map&lt;String, Integer&gt;&gt;) fruit; // that would not compile, the compiler will not allow that\n</code></pre>\n<p>That work around it to fool the compiler by using an intermediate variable of so-called <em>row type</em>.</p>\n<pre><code>List rowList = fruit; \n        \nList&lt;Map&lt;String, Integer&gt;&gt; fruitConverted = rowList;\n</code></pre>\n<p>In this case the compiler will issue a warning, but the code will compile. But you should be aware that a vary bad stale of coding.</p>\n<p>For more information on type conversion <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html\" rel=\"nofollow noreferrer\"><em>see</em></a>.</p>\n<blockquote>\n<p>I would like to remove one of the key in each dictionary</p>\n</blockquote>\n<p>In your code, you're trying to create a <em>new list</em> in different ways, so it seems like you want to keep the previous version of the list with all maps intact.</p>\n<p>If so you can use streams to create a duplicate of every entry (excluding entries with an undesired key <code>&quot;orange&quot;</code>) for each map and then collect then into a list.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Object&gt; fruit =\n        List.of(Map.of(&quot;apple&quot;, 3, &quot;orange&quot;, 4),\n                Map.of(&quot;apple&quot;, 13, &quot;orange&quot;, 2),\n                Map.of(&quot;apple&quot;, 1, &quot;orange&quot;, 8));\n\n    List&lt;Map&lt;String, Integer&gt;&gt; newList = fruit.stream()\n        .map(map -&gt; ((Map&lt;String, Integer&gt;) map).entrySet().stream()\n            .filter(entry -&gt; !entry.getKey().equals(&quot;orange&quot;)) // will retain entries with key that not equal to &quot;orange&quot;\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)))\n        .collect(Collectors.toList());\n\n    System.out.println(newList);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[{apple=3}, {apple=13}, {apple=1}]\n</code></pre>\n<p>But if you don't need the previous version of the list, then you can use a combination of <code>forEach()</code> an <code>remove()</code>.</p>\n"}],"owner":{"account_id":7984773,"reputation":457,"user_id":6024683,"accept_rate":0,"display_name":"WILLIAM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72390265,"answer_count":2,"score":1,"last_activity_date":1653600536,"creation_date":1653559663,"question_id":72390111,"body_markdown":"I am new to Java and I have a `Object Array` got from API shown as below.\r\n\r\nActually, each `Object` in a list is a `Map`. \r\n\r\nI would like to remove one of the *keys* in each `Map`. \r\n\r\nBelow is what I tried, but I cannot solve the issue:\r\n```\r\nremove() is not defined for object \r\n```\r\nWhat is the appropriate way to do that?\r\n\r\n\r\n    Object Array:\r\n    List&lt;Object&gt; fruit: [{apple=3, orange=4}, {apple=13, orange=2}, {apple=1, orange=8}]\r\n    \r\n    Code I tried:\r\n    List&lt;Object&gt; newList = fruit.stream().filter(x-&gt;x.getKey().equals(&quot;orange&quot;)).collect(Collectors.toList());\r\n    \r\n    And\r\n    \r\n    List&lt;Object&gt; newList = fruit.forEach(x-&gt;{\r\n                                         x.remove();\r\n                                         }););\r\n\r\n    Remark:\r\n    API Resp: [{country=US, fields={apple=3, orange=4},{country=CAD, fields={apple=1, orange=4}]\r\n    List&lt;Object&gt; fruit= apiResult.stream()\r\n                                 .map(x-&gt;x.get(&quot;fields&quot;))\t\t\t \r\n                                 .collect(Collectors.toList());","title":"How to cast Object Array to Map Array and remove key in the Map?","body":"<p>I am new to Java and I have a <code>Object Array</code> got from API shown as below.</p>\n<p>Actually, each <code>Object</code> in a list is a <code>Map</code>.</p>\n<p>I would like to remove one of the <em>keys</em> in each <code>Map</code>.</p>\n<p>Below is what I tried, but I cannot solve the issue:</p>\n<pre><code>remove() is not defined for object \n</code></pre>\n<p>What is the appropriate way to do that?</p>\n<pre><code>Object Array:\nList&lt;Object&gt; fruit: [{apple=3, orange=4}, {apple=13, orange=2}, {apple=1, orange=8}]\n\nCode I tried:\nList&lt;Object&gt; newList = fruit.stream().filter(x-&gt;x.getKey().equals(&quot;orange&quot;)).collect(Collectors.toList());\n\nAnd\n\nList&lt;Object&gt; newList = fruit.forEach(x-&gt;{\n                                     x.remove();\n                                     }););\n\nRemark:\nAPI Resp: [{country=US, fields={apple=3, orange=4},{country=CAD, fields={apple=1, orange=4}]\nList&lt;Object&gt; fruit= apiResult.stream()\n                             .map(x-&gt;x.get(&quot;fields&quot;))            \n                             .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","c#","code-conversion"],"comments":[{"owner":{"account_id":21490427,"reputation":81,"user_id":15836253,"display_name":"Flats"},"score":0,"creation_date":1653599934,"post_id":72398018,"comment_id":127897176,"body_markdown":"@MaythamFahmi I suppose nothing. Just thought I would use something available in an existing library if I could. If I need to, I could definitely write my own, but I am asking this in case I do not need to","body":"@MaythamFahmi I suppose nothing. Just thought I would use something available in an existing library if I could. If I need to, I could definitely write my own, but I am asking this in case I do not need to"},{"owner":{"account_id":3711000,"reputation":31781,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":1,"creation_date":1653599989,"post_id":72398018,"comment_id":127897195,"body_markdown":"I got you, that is fair enough","body":"I got you, that is fair enough"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653600509,"creation_date":1653600312,"answer_id":72398169,"question_id":72398018,"body_markdown":"    isEqual = !dbCertDict.Keys.Any(x =&gt; \r\n    !String.Equals(dbCertDict[x], requestCertDict.ContainsKey(x) ?\r\n    requestCertDict[x] : &quot;&quot;, StringComparison.OrdinalIgnoreCase));\r\n\r\n    boolean isEqual = !dbCertDict.keySet().stream().anyMatch(x -&gt;\r\n    dbCertDict.get(x).equalsIgnoreCase(requestCertDict.containsKey(x) ?\r\n    requestCertDict.get(x) : &quot;&quot;));\r\n\r\nor something along those lines.\r\n\r\nThe latter can be tightened to\r\n    \r\n    boolean isEqual = dbCertDict.entrySet().stream().noneMatch(x -&gt; \r\n    x.getValue().equalsIgnoreCase(requestCertDict.getOrDefault(x.getKey(), &quot;&quot;);","title":"How to convert a condition check from C# to Java?","body":"<pre><code>isEqual = !dbCertDict.Keys.Any(x =&gt; \n!String.Equals(dbCertDict[x], requestCertDict.ContainsKey(x) ?\nrequestCertDict[x] : &quot;&quot;, StringComparison.OrdinalIgnoreCase));\n\nboolean isEqual = !dbCertDict.keySet().stream().anyMatch(x -&gt;\ndbCertDict.get(x).equalsIgnoreCase(requestCertDict.containsKey(x) ?\nrequestCertDict.get(x) : &quot;&quot;));\n</code></pre>\n<p>or something along those lines.</p>\n<p>The latter can be tightened to</p>\n<pre><code>boolean isEqual = dbCertDict.entrySet().stream().noneMatch(x -&gt; \nx.getValue().equalsIgnoreCase(requestCertDict.getOrDefault(x.getKey(), &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":21490427,"reputation":81,"user_id":15836253,"display_name":"Flats"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72398169,"answer_count":1,"score":1,"last_activity_date":1653600509,"creation_date":1653599286,"question_id":72398018,"body_markdown":"I am attempting to convert this line of code from C# TO Java and I am having quite a hard time wrapping my head around it.\r\n\r\n    isEqual = !dbCertDict.Keys.Any(x =&gt; !String.Equals(dbCertDict[x], requestCertDict.ContainsKey(x) ? requestCertDict[x] : &quot;&quot;, StringComparison.OrdinalIgnoreCase));\r\n\r\nOriginally, the dbCertDict was of type `Dictionary&lt;string, string&gt;`, it is now of type `HashMap&lt;String, String&gt;`. Essentially I want to write in Java a function that will set `isEqual` to true if there is a match for all of the items in both dbCertDict and requestCertDict. And I want it to return false if there are any mismatches.\r\n\r\nAt least, that&#39;s what I think this line of C# code is doing...Any help is appreciated!\r\n\r\nI have tried to search for an equivalent function to `Any()` but the closest that I could find was to replace `dbCertDict.Keys.Any` with `dbCertDict.keySet().contains()` but they are not the same unfortunately...","title":"How to convert a condition check from C# to Java?","body":"<p>I am attempting to convert this line of code from C# TO Java and I am having quite a hard time wrapping my head around it.</p>\n<pre><code>isEqual = !dbCertDict.Keys.Any(x =&gt; !String.Equals(dbCertDict[x], requestCertDict.ContainsKey(x) ? requestCertDict[x] : &quot;&quot;, StringComparison.OrdinalIgnoreCase));\n</code></pre>\n<p>Originally, the dbCertDict was of type <code>Dictionary&lt;string, string&gt;</code>, it is now of type <code>HashMap&lt;String, String&gt;</code>. Essentially I want to write in Java a function that will set <code>isEqual</code> to true if there is a match for all of the items in both dbCertDict and requestCertDict. And I want it to return false if there are any mismatches.</p>\n<p>At least, that's what I think this line of C# code is doing...Any help is appreciated!</p>\n<p>I have tried to search for an equivalent function to <code>Any()</code> but the closest that I could find was to replace <code>dbCertDict.Keys.Any</code> with <code>dbCertDict.keySet().contains()</code> but they are not the same unfortunately...</p>\n"},{"tags":["java","arraylist","lambda","java-stream"],"comments":[{"owner":{"account_id":4400377,"reputation":178,"user_id":3586257,"display_name":"jese_moriarty"},"score":1,"creation_date":1653549743,"post_id":72388041,"comment_id":127880348,"body_markdown":"if its a single method call with a single plateNumber then it makes no sense of using stream.\nif you have a list of plateNumber and wants to add them all to ArrayList&lt;Car&gt; carsInStore checking with the condition you have mentioned then using stream makes sense.","body":"if its a single method call with a single plateNumber then it makes no sense of using stream. if you have a list of plateNumber and wants to add them all to ArrayList&lt;Car&gt; carsInStore checking with the condition you have mentioned then using stream makes sense."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1653549843,"post_id":72388041,"comment_id":127880379,"body_markdown":"Your string comparison is incorrect.","body":"Your string comparison is incorrect."},{"owner":{"account_id":25297396,"reputation":43,"user_id":19122304,"display_name":"aviram moalem"},"score":0,"creation_date":1653557930,"post_id":72388041,"comment_id":127882814,"body_markdown":"I noticed . Thanks for the help","body":"I noticed . Thanks for the help"},{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":0,"creation_date":1653600626,"post_id":72388041,"comment_id":127897361,"body_markdown":"If platenumber is an important value for finding objects, I would consider using Map&lt;String, Car&gt; where the key is the plate number. Map already contains extra functions to handle scenarios where an object either does or does not exist for a given key.","body":"If platenumber is an important value for finding objects, I would consider using Map&lt;String, Car&gt; where the key is the plate number. Map already contains extra functions to handle scenarios where an object either does or does not exist for a given key."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653550531,"creation_date":1653550049,"answer_id":72388260,"question_id":72388041,"body_markdown":"If you want to rewrite your method using stream, as suggested in the comments, you could check with a stream if a `Car` with the given plate number already exists within the `List`; if it does not, then you could add it to `carsInStore`.\r\n\r\nAlso, to check whether two `String` are equal you need to use the `equals` method. The `==` operator checks the content of the confronted variables, in case of references their content corresponds to the memory address of the object they point, not the actual value they represent.\r\n\r\n```\r\nprivate ArrayList&lt;Car&gt; carsInStore;\r\n\r\npublic boolean addCarToStore(String type, String model, String color, int maxSpeed, int year, String plateNumber) {\r\n    if (carsInStore.stream()\r\n        .filter(c -&gt; c.getPlateNumber().equals(plateNumber))\r\n        .findFirst()\r\n        .isEmpty()) {\r\n        return false;\r\n    }\r\n\r\n    carsInStore.add(new Car(type, model, color, maxSpeed, year, plateNumber));\r\n    return true;\r\n}\r\n```","title":"How to check whether an object exists a List using Streams","body":"<p>If you want to rewrite your method using stream, as suggested in the comments, you could check with a stream if a <code>Car</code> with the given plate number already exists within the <code>List</code>; if it does not, then you could add it to <code>carsInStore</code>.</p>\n<p>Also, to check whether two <code>String</code> are equal you need to use the <code>equals</code> method. The <code>==</code> operator checks the content of the confronted variables, in case of references their content corresponds to the memory address of the object they point, not the actual value they represent.</p>\n<pre><code>private ArrayList&lt;Car&gt; carsInStore;\n\npublic boolean addCarToStore(String type, String model, String color, int maxSpeed, int year, String plateNumber) {\n    if (carsInStore.stream()\n        .filter(c -&gt; c.getPlateNumber().equals(plateNumber))\n        .findFirst()\n        .isEmpty()) {\n        return false;\n    }\n\n    carsInStore.add(new Car(type, model, color, maxSpeed, year, plateNumber));\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653550109,"creation_date":1653550109,"answer_id":72388272,"question_id":72388041,"body_markdown":"You can use `findAny()`. Refer [here][1].\r\n&gt; Stream findAny() returns an Optional (a container object which may or may not contain a non-null value) describing some element of the stream, or an empty Optional if the stream is empty. The behavior of Stream &#39;findAny()&#39; operation is explicitly non-deterministic, it is free to select any element in the stream. Multiple invocations on the same source may not return the same result.\r\n\r\nUse `Optional` class to check for null pointer exceptions.  \r\n``` \r\nOptional&lt;Car&gt; result =  carsInStore.stream().filter(c -&gt; c.getPlateNumber().equals(plateNumber)).findAny();\r\n    if(!result.isPresent()){\r\n      // your logic \r\n    }\r\n```\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/java-stream-findany-with-examples/","title":"How to check whether an object exists a List using Streams","body":"<p>You can use <code>findAny()</code>. Refer <a href=\"https://www.geeksforgeeks.org/java-stream-findany-with-examples/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Stream findAny() returns an Optional (a container object which may or may not contain a non-null value) describing some element of the stream, or an empty Optional if the stream is empty. The behavior of Stream 'findAny()' operation is explicitly non-deterministic, it is free to select any element in the stream. Multiple invocations on the same source may not return the same result.</p>\n</blockquote>\n<p>Use <code>Optional</code> class to check for null pointer exceptions.</p>\n<pre><code>Optional&lt;Car&gt; result =  carsInStore.stream().filter(c -&gt; c.getPlateNumber().equals(plateNumber)).findAny();\n    if(!result.isPresent()){\n      // your logic \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":224859,"reputation":10267,"user_id":484972,"accept_rate":93,"display_name":"Nico Huysamen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653550364,"creation_date":1653550364,"answer_id":72388306,"question_id":72388041,"body_markdown":"I think I understand your question. You want to replace the `for each` loop in the `addCarToStore` method with a streaming API implementation:\r\n\r\n```lang-java\r\nOptional&lt;Car&gt; existingCar = carsInStore\r\n    .stream()\r\n    .filter(c -&gt; c.getPlateNumber().equals(plateNumber))\r\n    .findAny();\r\n\r\nif (existingCar.isEmpty()) {\r\n    carsInStore.add(new Car(type, model, color, maxSpeed, year, plateNumber));\r\n}\r\n```\r\n\r\n","title":"How to check whether an object exists a List using Streams","body":"<p>I think I understand your question. You want to replace the <code>for each</code> loop in the <code>addCarToStore</code> method with a streaming API implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Car&gt; existingCar = carsInStore\n    .stream()\n    .filter(c -&gt; c.getPlateNumber().equals(plateNumber))\n    .findAny();\n\nif (existingCar.isEmpty()) {\n    carsInStore.add(new Car(type, model, color, maxSpeed, year, plateNumber));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653559622,"creation_date":1653558387,"answer_id":72389850,"question_id":72388041,"body_markdown":"To produce a boolean result if a car with the given property already exists, you need to use [`anyMatch()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)) operation, which expects a *predicate* - a function representing a boolean condition.\r\n\r\nOpposed to `findFirst()` and `findAny()` which are useful when you need to obtain an object as a result, `anyMatch()` it returns `boolean` value and there&#39;s no need to interpret the optional result.\r\n\r\n    public boolean addCarToStore(String type, String model, String color,\r\n                                 int maxSpeed, int year, String plateNumber) {\r\n        \r\n        boolean alreadyExist = carsInStore.stream()\r\n            .anyMatch(car -&gt; car.getPlateNumber().equals(plateNumber));\r\n        \r\n        if (!alreadyExist) {                \r\n            carsInStore.add(new Car(type, model, color, maxSpeed,\r\n                                    year, plateNumber));\r\n        }\r\n        \r\n        return alreadyExist;\r\n    }\r\n\r\nThe method that you&#39;ve provided will not work as expected. The loop terminate on the first step of iteration without checking all element, i.e. it can potentially return an incorrect result, and you will and up with duplicates in the list.\r\n\r\nDouble equals sign should be used only if you want to check whether two references point to the same object, otherwise use method `equelst()` to determine the equality of objects.","title":"How to check whether an object exists a List using Streams","body":"<p>To produce a boolean result if a car with the given property already exists, you need to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>anyMatch()</code></a> operation, which expects a <em>predicate</em> - a function representing a boolean condition.</p>\n<p>Opposed to <code>findFirst()</code> and <code>findAny()</code> which are useful when you need to obtain an object as a result, <code>anyMatch()</code> it returns <code>boolean</code> value and there's no need to interpret the optional result.</p>\n<pre><code>public boolean addCarToStore(String type, String model, String color,\n                             int maxSpeed, int year, String plateNumber) {\n    \n    boolean alreadyExist = carsInStore.stream()\n        .anyMatch(car -&gt; car.getPlateNumber().equals(plateNumber));\n    \n    if (!alreadyExist) {                \n        carsInStore.add(new Car(type, model, color, maxSpeed,\n                                year, plateNumber));\n    }\n    \n    return alreadyExist;\n}\n</code></pre>\n<p>The method that you've provided will not work as expected. The loop terminate on the first step of iteration without checking all element, i.e. it can potentially return an incorrect result, and you will and up with duplicates in the list.</p>\n<p>Double equals sign should be used only if you want to check whether two references point to the same object, otherwise use method <code>equelst()</code> to determine the equality of objects.</p>\n"}],"owner":{"account_id":25297396,"reputation":43,"user_id":19122304,"display_name":"aviram moalem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8841,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72388260,"answer_count":4,"score":1,"last_activity_date":1653600195,"creation_date":1653548820,"question_id":72388041,"body_markdown":"I have to create a result list by adding objects.\r\n\r\nHere is my code.\r\n```\r\nprivate ArrayList&lt;Car&gt; carsInStore ;\r\n\r\npublic boolean addCarToStore(String type, String model, String color,\r\n\t\t\t\t\t\t\t\t\tint maxSpeed,int year,String plateNumber) {\r\n    for (Car car : carsInStore) {\r\n        if (car.getPlateNumber()==plateNumber) {\r\n            return false;\r\n        }\r\n        else {\r\n            carsInStore.add(new Car(type, model, color, maxSpeed,\r\n                                        year, plateNumber));\r\n            return true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI need to check if a *car* with the given `plateNumber` already exist within the `ArrayList`, if it exists, then a *new car* will not be added.\r\n\r\nI&#39;d like to perform the check via Java streams. \r\n\r\nI&#39;m using Java 11.","title":"How to check whether an object exists a List using Streams","body":"<p>I have to create a result list by adding objects.</p>\n<p>Here is my code.</p>\n<pre><code>private ArrayList&lt;Car&gt; carsInStore ;\n\npublic boolean addCarToStore(String type, String model, String color,\n                                    int maxSpeed,int year,String plateNumber) {\n    for (Car car : carsInStore) {\n        if (car.getPlateNumber()==plateNumber) {\n            return false;\n        }\n        else {\n            carsInStore.add(new Car(type, model, color, maxSpeed,\n                                        year, plateNumber));\n            return true;\n        }\n    }\n}\n</code></pre>\n<p>I need to check if a <em>car</em> with the given <code>plateNumber</code> already exist within the <code>ArrayList</code>, if it exists, then a <em>new car</em> will not be added.</p>\n<p>I'd like to perform the check via Java streams.</p>\n<p>I'm using Java 11.</p>\n"},{"tags":["java","groovy","google-api","google-translate","google-api-java-client"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1652494531,"post_id":72235627,"comment_id":127626502,"body_markdown":"There should be hall of fame for number of distinct Guava dependencies in a project! Guava is widely used and the issue is usually multiple versions. I think you don&#39;t want to exclude Guava, you want to try excluding older versions. Are you able to derive a dependency graph? That should help you identify what you&#39;re getting.and should give you a more precise knife. I&#39;m unfamiliar with Groovy but remember encountering simillar issues with Java on App Engine.","body":"There should be hall of fame for number of distinct Guava dependencies in a project! Guava is widely used and the issue is usually multiple versions. I think you don&#39;t want to exclude Guava, you want to try excluding older versions. Are you able to derive a dependency graph? That should help you identify what you&#39;re getting.and should give you a more precise knife. I&#39;m unfamiliar with Groovy but remember encountering simillar issues with Java on App Engine."},{"owner":{"account_id":498857,"reputation":357,"user_id":2095577,"accept_rate":67,"display_name":"msoutopico"},"score":0,"creation_date":1652508949,"post_id":72235627,"comment_id":127627918,"body_markdown":"Thanks,  @DazWilkin. I don&#39;t know how to generate the dependency graph from the script, but I&#39;ve cloned the [repository with the source code](https://github.com/omegat-org/omegat) of the Java application where my script runs, and ran `./gradlew dependencies`  there. Does this help?","body":"Thanks,  @DazWilkin. I don&#39;t know how to generate the dependency graph from the script, but I&#39;ve cloned the <a href=\"https://github.com/omegat-org/omegat\" rel=\"nofollow noreferrer\">repository with the source code</a> of the Java application where my script runs, and ran <code>.&#47;gradlew dependencies</code>  there. Does this help?"},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1652541267,"post_id":72235627,"comment_id":127633495,"body_markdown":"I think so.... The latest Guava version is 19 which includes  `com.google.common.util.concurrent.MoreExecutors.`[`directExecutor`](https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()). It appears that `directExecutor` arrived after v17.0 [`directExecutor`](https://guava.dev/releases/17.0/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()) (it&#39;s not present here). So, can you try excluding the v16|v15 versions and forcing v18|v19?","body":"I think so.... The latest Guava version is 19 which includes  <code>com.google.common.util.concurrent.MoreExecutors.</code><a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()\" rel=\"nofollow noreferrer\"><code>directExecut&zwnj;&#8203;or</code></a>. It appears that <code>directExecutor</code> arrived after v17.0 <a href=\"https://guava.dev/releases/17.0/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()\" rel=\"nofollow noreferrer\"><code>directExecutor</code></a> (it&#39;s not present here). So, can you try excluding the v16|v15 versions and forcing v18|v19?"},{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":1,"creation_date":1652569710,"post_id":72235627,"comment_id":127638467,"body_markdown":"Looks like google-cloud-translate depends on guava 31.1-jre. All the other versions in the dependency tree should be overridden. No need for Grapes wrapper any longer. And GrabExclude would go outside of it anyways. Do you have a stack trace where the NoSuchMethod is coming from?  Lots of the transitive dependencies require guava and may be using an older method not part of 31.1-jre","body":"Looks like google-cloud-translate depends on guava 31.1-jre. All the other versions in the dependency tree should be overridden. No need for Grapes wrapper any longer. And GrabExclude would go outside of it anyways. Do you have a stack trace where the NoSuchMethod is coming from?  Lots of the transitive dependencies require guava and may be using an older method not part of 31.1-jre"},{"owner":{"account_id":498857,"reputation":357,"user_id":2095577,"accept_rate":67,"display_name":"msoutopico"},"score":0,"creation_date":1653603073,"post_id":72235627,"comment_id":127897916,"body_markdown":"I have tried running the script as `groovy script.groovy` (in the command line with Java 17) with `@Grapes([ @Grab(group=&#39;com.google.guava&#39;, module=&#39;guava&#39;, version=&#39;31.1-jre&#39;), @Grab(group=&#39;com.google.cloud&#39;, module=&#39;google-cloud-translate&#39;, version=&#39;2.2.0&#39;)])` and it runs fine.  However, I still get the errors I mentioned when I run it from inside the Java application (run on Java 11).","body":"I have tried running the script as <code>groovy script.groovy</code> (in the command line with Java 17) with <code>@Grapes([ @Grab(group=&#39;com.google.guava&#39;, module=&#39;guava&#39;, version=&#39;31.1-jre&#39;), @Grab(group=&#39;com.google.cloud&#39;, module=&#39;google-cloud-translate&#39;, version=&#39;2.2.0&#39;)])</code> and it runs fine.  However, I still get the errors I mentioned when I run it from inside the Java application (run on Java 11)."},{"owner":{"account_id":498857,"reputation":357,"user_id":2095577,"accept_rate":67,"display_name":"msoutopico"},"score":0,"creation_date":1653603418,"post_id":72235627,"comment_id":127897979,"body_markdown":"[Here](https://pastebin.com/ZFy2ZrWQ) is the full error.","body":"<a href=\"https://pastebin.com/ZFy2ZrWQ\" rel=\"nofollow noreferrer\">Here</a> is the full error."}],"owner":{"account_id":498857,"reputation":357,"user_id":2095577,"accept_rate":67,"display_name":"msoutopico"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653599588,"creation_date":1652477596,"question_id":72235627,"body_markdown":"I am trying to write a Groovy script to get translations from Google Translate API (using an API key, stored in as the GOOGLE_API_KEY environment variable1) but I get an error I&#39;m not able to overcome. The Groovy script runs in [OmegaT](https://omegat.org), which is a Java application.\r\n\r\nReferences: [Google Translate&#39;s API documentation](https://github.com/googleapis/java-translate) and the code in [Google APIs&#39; Github repo](https://github.com/googleapis/google-cloud-java/blob/main/google-cloud-examples/src/main/java/com/google/cloud/examples/translate/snippets/DetectLanguageAndTranslate.java).\r\n\r\nThis is my script:\r\n\r\n```java\r\n@Grapes([\r\n\t@Grab(group=&#39;com.google.cloud&#39;, module=&#39;google-cloud-translate&#39;, version=&#39;2.1.13&#39;)\r\n])\r\n\r\nimport com.google.cloud.translate.Translate;\r\nimport com.google.cloud.translate.Translate.TranslateOption;\r\nimport com.google.cloud.translate.TranslateOptions;\r\n\r\n// api key is stored in the GOOGLE_API_KEY environment variable \r\nTranslate translate = TranslateOptions.getDefaultInstance().getService();\r\n\r\nString translation = translate.translate(&quot;Hello world&quot;, \r\n          TranslateOption.sourceLanguage(&quot;en&quot;), \r\n          TranslateOption.targetLanguage(&quot;es&quot;));\r\n\r\nconsole.println(translation); // &quot;Hola mundo&quot;\r\n```\r\n\r\nWhen I run the script I get the following error:\r\n\r\n```\r\nThe script &quot;/home/pico/.omegat/scripts/mt_google.groovy&quot; is running...\r\nAn error occurred\r\njava.lang.NoSuchMethodError: com.google.common.util.concurrent.MoreExecutors.directExecutor()Ljava/util/concurrent/Executor;\r\n``` \r\n\r\nI&#39;ve read online that this can be caused by a dependency conflict and that it might be related to guava. I have tried excluding that library like this (at the top of the script), but to no avail:\r\n\r\n```java\r\n@GrabExclude(group=&#39;com.google.guava&#39;, module=&#39;guava&#39;)\r\n```\r\n\r\nThanks in advance for any advice.\r\n\r\n----\r\n## UPDATE: \r\n\r\nFrom the source code folder of the Java application inside which my Groovy script runs I can generate a tree of Guava dependencies, like so:\r\n\r\n```\r\n&gt; ./gradlew dependencies | grep guava\r\n     +--- com.google.guava:guava:23.6-jre\r\n|    |    +--- com.google.guava:guava:16.0.1\r\n|    |    +--- com.google.guava:guava:16.0.1\r\n|    |    |    \\--- com.google.guava:guava:15.0 -&gt; 16.0.1\r\n|    |    +--- com.google.guava:guava:16.0.1\r\n|    |    |    \\--- com.google.guava:guava:15.0 -&gt; 16.0.1\r\n|    |    +--- com.google.guava:guava:16.0.1\r\n|    |    +--- com.google.guava:guava:16.0.1\r\n|    |    +--- com.google.guava:guava:16.0.1\r\n|    |    +--- com.google.guava:guava:16.0\r\n```\r\n\r\nI can share the full list without grepping but it&#39;s a long list. \r\n\r\nI have now tried with the following section at the top of my script:\r\n\r\n```java\r\n@Grapes([\r\n\t@GrabExclude(group=&#39;com.google.guava&#39;, module=&#39;guava&#39;, version=&#39;16.0.1&#39;),\r\n\t@Grab(group=&#39;com.google.cloud&#39;, module=&#39;google-cloud-translate&#39;, version=&#39;2.1.13&#39;)\r\n])\r\n``` \r\n\r\nbut then I get error `java.lang.NoClassDefFoundError: com/google/common/base/MoreObjects`.\r\n","title":"Groovy script to get translations using Google Translate API gives java.lang.NoSuchMethodError","body":"<p>I am trying to write a Groovy script to get translations from Google Translate API (using an API key, stored in as the GOOGLE_API_KEY environment variable1) but I get an error I'm not able to overcome. The Groovy script runs in <a href=\"https://omegat.org\" rel=\"nofollow noreferrer\">OmegaT</a>, which is a Java application.</p>\n<p>References: <a href=\"https://github.com/googleapis/java-translate\" rel=\"nofollow noreferrer\">Google Translate's API documentation</a> and the code in <a href=\"https://github.com/googleapis/google-cloud-java/blob/main/google-cloud-examples/src/main/java/com/google/cloud/examples/translate/snippets/DetectLanguageAndTranslate.java\" rel=\"nofollow noreferrer\">Google APIs' Github repo</a>.</p>\n<p>This is my script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Grapes([\n    @Grab(group='com.google.cloud', module='google-cloud-translate', version='2.1.13')\n])\n\nimport com.google.cloud.translate.Translate;\nimport com.google.cloud.translate.Translate.TranslateOption;\nimport com.google.cloud.translate.TranslateOptions;\n\n// api key is stored in the GOOGLE_API_KEY environment variable \nTranslate translate = TranslateOptions.getDefaultInstance().getService();\n\nString translation = translate.translate(&quot;Hello world&quot;, \n          TranslateOption.sourceLanguage(&quot;en&quot;), \n          TranslateOption.targetLanguage(&quot;es&quot;));\n\nconsole.println(translation); // &quot;Hola mundo&quot;\n</code></pre>\n<p>When I run the script I get the following error:</p>\n<pre><code>The script &quot;/home/pico/.omegat/scripts/mt_google.groovy&quot; is running...\nAn error occurred\njava.lang.NoSuchMethodError: com.google.common.util.concurrent.MoreExecutors.directExecutor()Ljava/util/concurrent/Executor;\n</code></pre>\n<p>I've read online that this can be caused by a dependency conflict and that it might be related to guava. I have tried excluding that library like this (at the top of the script), but to no avail:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GrabExclude(group='com.google.guava', module='guava')\n</code></pre>\n<p>Thanks in advance for any advice.</p>\n<hr />\n<h2>UPDATE:</h2>\n<p>From the source code folder of the Java application inside which my Groovy script runs I can generate a tree of Guava dependencies, like so:</p>\n<pre><code>&gt; ./gradlew dependencies | grep guava\n     +--- com.google.guava:guava:23.6-jre\n|    |    +--- com.google.guava:guava:16.0.1\n|    |    +--- com.google.guava:guava:16.0.1\n|    |    |    \\--- com.google.guava:guava:15.0 -&gt; 16.0.1\n|    |    +--- com.google.guava:guava:16.0.1\n|    |    |    \\--- com.google.guava:guava:15.0 -&gt; 16.0.1\n|    |    +--- com.google.guava:guava:16.0.1\n|    |    +--- com.google.guava:guava:16.0.1\n|    |    +--- com.google.guava:guava:16.0.1\n|    |    +--- com.google.guava:guava:16.0\n</code></pre>\n<p>I can share the full list without grepping but it's a long list.</p>\n<p>I have now tried with the following section at the top of my script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Grapes([\n    @GrabExclude(group='com.google.guava', module='guava', version='16.0.1'),\n    @Grab(group='com.google.cloud', module='google-cloud-translate', version='2.1.13')\n])\n</code></pre>\n<p>but then I get error <code>java.lang.NoClassDefFoundError: com/google/common/base/MoreObjects</code>.</p>\n"},{"tags":["java","android","sqlite","android-loadermanager"],"comments":[{"owner":{"account_id":4621272,"reputation":2975,"user_id":3746306,"accept_rate":50,"display_name":"Nilesh Deokar"},"score":1,"creation_date":1507965739,"post_id":46741974,"comment_id":80430184,"body_markdown":"`You must pass a valid uri and observer`","body":"<code>You must pass a valid uri and observer</code>"},{"owner":{"account_id":9006959,"reputation":41,"user_id":6713264,"accept_rate":50,"display_name":"Vishal"},"score":0,"creation_date":1507966167,"post_id":46741974,"comment_id":80430292,"body_markdown":"/set this up as a string constant whose value is the same as that from the AndroidManifest\n    public static final String CONTENT_AUTHORITY = &quot;com.example.bahubali.inventoryapp&quot;;\n\n    //parse the uri to concatenate with the cotent authority\n    public static final Uri BASE_CONTENT_URI = Uri.parse(&quot;content://&quot; + CONTENT_AUTHORITY); This is the URI in my contract class","body":"/set this up as a string constant whose value is the same as that from the AndroidManifest     public static final String CONTENT_AUTHORITY = &quot;com.example.bahubali.inventoryapp&quot;;      //parse the uri to concatenate with the cotent authority     public static final Uri BASE_CONTENT_URI = Uri.parse(&quot;content://&quot; + CONTENT_AUTHORITY); This is the URI in my contract class"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":1,"creation_date":1507967324,"post_id":46741974,"comment_id":80430559,"body_markdown":"**and observer**","body":"<b>and observer</b>"},{"owner":{"account_id":9006959,"reputation":41,"user_id":6713264,"accept_rate":50,"display_name":"Vishal"},"score":0,"creation_date":1507967426,"post_id":46741974,"comment_id":80430585,"body_markdown":"Yeah I got it Instead of passing null i should have pass uri in observer.","body":"Yeah I got it Instead of passing null i should have pass uri in observer."}],"owner":{"account_id":9006959,"reputation":41,"user_id":6713264,"accept_rate":50,"display_name":"Vishal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653599434,"creation_date":1507965683,"question_id":46741974,"body_markdown":"I am getting an DoInBackground Error since I added the cursor notification uri but before  that I was getting error my database is locked. What is that mean I can&#39;t seem to understand why it is acting like this because there is no background method and I am using Loader.\r\nThe activities are\r\n\r\nProductProvider.java\r\n\r\n    package com.example.bahubali.inventoryapp.data;\r\n    \r\n    import android.content.ContentProvider;\r\n    import android.content.ContentUris;\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.content.UriMatcher;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.net.Uri;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.annotation.Nullable;\r\n    import android.util.Log;\r\n    \r\n    \r\n    \r\n    public class ProductProvider extends ContentProvider {\r\n    \r\n        //Tag for the log messages\r\n        public static final String LOG_TAG = ProductProvider.class.getSimpleName();\r\n    \r\n        //Database helper that will provide access to the database.\r\n        private ProductDbHelper mDbHelper;\r\n        /** URI matcher code for the content URI for the pets table */\r\n        public static final int PRODUCTS = 100;\r\n    \r\n        /** URI matcher code for the content URI for a single pet in the pets table */\r\n        public static final int PRODUCT_ID = 101;\r\n    \r\n        Context context;\r\n    \r\n        /** URI matcher object to match a context URI to a corresponding code.\r\n         * The input passed into the constructor represents the code to return for the root URI.\r\n         * It&#39;s common to use NO_MATCH as the input for this case.\r\n         */\r\n        private static final UriMatcher sUriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\r\n    \r\n        // Static initializer. This is run the first time anything is called from this class.\r\n        static {\r\n            // The calls to addURI() go here, for all of the content URI patterns that the provider\r\n            // should recognize. All paths added to the UriMatcher have a corresponding code to return\r\n            // when a match is found.\r\n    \r\n            // The content URI of the form &quot;content://com.example.android.pets/pets&quot; will map to the\r\n            // integer code {@link #PETS}. This URI is used to provide access to MULTIPLE rows\r\n            // of the pets table.\r\n            sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS, PRODUCTS);\r\n    \r\n            // The content URI of the form &quot;content://com.example.android.pets/pets/#&quot; will map to the\r\n            // integer code {@link #PETS_ID}. This URI is used to provide access to ONE single row\r\n            // of the pets table.\r\n    \r\n            // In this case, the &quot;#&quot; wildcard is used where &quot;#&quot; can be substituted for an integer.\r\n            // For example, &quot;content://com.example.android.pets/pets/3&quot; matches, but\r\n            // &quot;content://com.example.android.pets/pets&quot; (without a number at the end) doesn&#39;t match.\r\n            sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS + &quot;/#&quot;, PRODUCT_ID);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Initialize the provider and the database helper object.\r\n         */\r\n        @Override\r\n        public boolean onCreate()\r\n        {\r\n            /*\r\n             * Creates a new helper object. This method always returns quickly.\r\n             * until SQLiteOpenHelper.getWritableDatabase is called\r\n             */\r\n            mDbHelper = new ProductDbHelper(getContext());\r\n            context = getContext();\r\n    \r\n            return true;\r\n        }\r\n    \r\n    \r\n        /*\r\n        *Perform the query to the given URI.Use the given projection,selection,selectionArgs, and sort\r\n        * order.\r\n         */\r\n    \r\n        @Override\r\n        public Cursor query(@NonNull Uri uri, String[] projection, String selection, String[] selectionArgs,\r\n                            String sortOrder) {\r\n            // Get readable database\r\n            SQLiteDatabase database = mDbHelper.getReadableDatabase();\r\n    \r\n            // This cursor will hold the result of the query\r\n            Cursor cursor ;\r\n    \r\n            // Figure out if the URI matcher can match the URI to a specific code\r\n            int match = sUriMatcher.match(uri);\r\n            switch (match) {\r\n                case PRODUCTS:\r\n                    // For the PETS code, query the pets table directly with the given\r\n                    // projection, selection, selection arguments, and sort order. The cursor\r\n                    // could contain multiple rows of the pets table.\r\n                    //  Perform database query on pets\r\n                    cursor = database.query(ProductContract.ProductEntry.TABLE_NAME,\r\n                            projection,selection,selectionArgs,null,null,sortOrder);\r\n                    break;\r\n    \r\n                case PRODUCT_ID:\r\n                    // For the PET_ID code, extract out the ID from the URI.\r\n                    // For an example URI such as &quot;content://com.example.android.pets/pets/3&quot;,\r\n                    // the selection will be &quot;_id=?&quot; and the selection argument will be a\r\n                    // String array containing the actual ID of 3 in this case.\r\n                    //\r\n                    // For every &quot;?&quot; in the selection, we need to have an element in the selection\r\n                    // arguments that will fill in the &quot;?&quot;. Since we have 1 question mark in the\r\n                    // selection, we have 1 String in the selection arguments&#39; String array.\r\n                    selection = PRODUCT_ID + &quot;=?&quot;;\r\n                    selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\r\n    \r\n                    // This will perform a query on the pets table where the _id equals 3 to return a\r\n                    // Cursor containing that row of the table.\r\n                    cursor = database.query(ProductContract.ProductEntry.TABLE_NAME, \r\n                                                                        projection,\r\n                                                                            selection,\r\n                                                                        selectionArgs,\r\n                                                                        null,\r\n                                                                        null,   \r\n                                                                        sortOrder);\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Cannot query unknown URI &quot; + uri);\r\n            }\r\n            //Set notification URI to the cursor,\r\n            //So we know what content URI the cursor was created for.\r\n            //If the data at this URI changes, then we need to update the cursor.\r\n            cursor.setNotificationUri(getContext().getContentResolver(),null);\r\n            cursor.close();\r\n            return cursor;\r\n        }\r\n    \r\n    \r\n        /*\r\n        *Return the  MIME type of data for the content URI.\r\n         */\r\n        @Nullable\r\n        @Override\r\n        public String getType(@NonNull Uri uri) {\r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match){\r\n                case PRODUCTS:\r\n                    return ProductContract.ProductEntry.CONTENT_LIST_TYPE;\r\n                case PRODUCT_ID:\r\n                    return ProductContract.ProductEntry.CONTENT_ITEM_TYPE;\r\n                default:\r\n                    throw new IllegalStateException(&quot;UNKNOWN URI&quot; + uri + &quot; with match&quot; + match);\r\n            }\r\n    \r\n    \r\n        }\r\n        //Added a commit  here\r\n    \r\n        /*\r\n        *Insert a new data into the provider with the given Constructor.\r\n         */\r\n        @Nullable\r\n        @Override\r\n        public Uri insert(@NonNull Uri uri,\r\n                          @Nullable ContentValues contentValues) {\r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match){\r\n                case PRODUCTS:\r\n                    return insertProduct(uri,contentValues);\r\n    \r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;Insertion is not supported for &quot; +uri);\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        /*\r\n        Insert a product in the database with the given content values.Return the new content URI\r\n        for that specific row in the database.\r\n         */\r\n        private Uri insertProduct(Uri uri, ContentValues contentValues){\r\n    \r\n            //Get writeable database\r\n            SQLiteDatabase  database = mDbHelper.getWritableDatabase();\r\n    \r\n            //Insert the new product with the given values\r\n            long id = database.insert(ProductContract.ProductEntry.TABLE_NAME,null,contentValues);\r\n    \r\n            //If the Id is -1, then the insertion failed.Log on an error to return null\r\n            if (id == -1){\r\n                Log.e(LOG_TAG,&quot;Failed to insert a row&quot; + uri);\r\n                return null;\r\n            }\r\n    \r\n            //Check that the name is not null\r\n            String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\r\n            if (name == null){\r\n                throw new IllegalArgumentException(&quot;Product requires a name&quot;);\r\n            }\r\n    \r\n            //Check that the price is not null\r\n            Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\r\n            if (price != null &amp;&amp; price &lt; 0 ){\r\n                throw new IllegalArgumentException(&quot;Product requires  valid price&quot;);\r\n            }\r\n            //Notify all listeners that the data has changed for the product content URI\r\n            getContext().getContentResolver().notifyChange(uri,null);\r\n    \r\n    \r\n            return ContentUris.withAppendedId(uri,id);\r\n        }\r\n    \r\n        /*\r\n        *Delete the data at the given selection and selection arguments.\r\n         */\r\n        @Override\r\n        public int delete(@NonNull Uri uri,\r\n                          @Nullable String selection,\r\n                          @Nullable String[] selectionArgs) {\r\n            // Get writeable database\r\n            SQLiteDatabase database = mDbHelper.getWritableDatabase();\r\n    \r\n            //Track the no. of rows  that were deleted\r\n            int rowsDeleted;\r\n    \r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match) {\r\n                case PRODUCTS:\r\n                    // Delete all rows that match the selection and selection args\r\n                  rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\r\n                    break;\r\n                case PRODUCT_ID:\r\n                    // Delete a single row given by the ID in the URI\r\n                    selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\r\n                    selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\r\n                    rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Deletion is not supported for &quot; + uri);\r\n            }\r\n            //If 1 or more rows were  deleted, then notify all listeners that the data at the given\r\n            //given uri has changed\r\n            if (rowsDeleted != 0){\r\n                getContext().getContentResolver().notifyChange(uri,null);\r\n            }\r\n            return rowsDeleted;\r\n        }\r\n    \r\n        /*\r\n        *Updates the data at the given selection and the selection arguments, with the new content\r\n        * values.\r\n         */\r\n        @Override\r\n        public int update(@NonNull Uri uri,\r\n                          @Nullable ContentValues contentValues,\r\n                          @Nullable String selection,\r\n                          @Nullable String[] selectionArgs) {\r\n    \r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match) {\r\n                case PRODUCTS:\r\n                    return updateProduct(uri, contentValues, selection, selectionArgs);\r\n                case PRODUCT_ID:\r\n                    // For the PRODUCT_D code, extract out the ID from the URI,\r\n                    // so we know which row to update. Selection will be &quot;_id=?&quot; and selection\r\n                    // arguments will be a String array containing the actual ID.\r\n                    selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\r\n                    selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\r\n                    return updateProduct(uri, contentValues, selection, selectionArgs);\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Update is not supported for &quot; + uri);\r\n            }\r\n    \r\n    \r\n        }\r\n        /**\r\n         * Update pets in the database with the given content values. Apply the changes to the rows\r\n         * specified in the selection and selection arguments (which could be 0 or 1 or more pets).\r\n         * Return the number of rows that were successfully updated.\r\n         */\r\n        private int updateProduct(Uri uri,ContentValues contentValues,String selection,String[] selectionArgs){\r\n    \r\n            // If the {@link ProductEntry#COLUMN_PRODUCT_NAME} key is present,\r\n            // check that the name value is not null.\r\n            if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME)) {\r\n                String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\r\n                if (name == null) {\r\n                    throw new IllegalArgumentException(&quot;Product requires a name&quot;);\r\n                }\r\n            }\r\n    \r\n            // If the {@link ProductEntry#COLUMN_PRODUCT_PRICE} key is present,\r\n            // check that the price value is valid.\r\n            if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE)) {\r\n                // Check that the weight is greater than or equal to 0 kg\r\n                Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\r\n                if (price!= null &amp;&amp; price &lt; 0) {\r\n                    throw new IllegalArgumentException(&quot;Product requires valid weight&quot;);\r\n                }\r\n            }\r\n    \r\n            // If there are no values to update, then don&#39;t try to update the database\r\n            if (contentValues.size() == 0) {\r\n                return 0;\r\n            }\r\n    \r\n            // Otherwise, get writeable database to update the data\r\n            SQLiteDatabase database = mDbHelper.getWritableDatabase();\r\n    \r\n            //perform the update on the database and the get the number of rows affected\r\n            int rowsUpdated = database.update(ProductContract.ProductEntry.TABLE_NAME,contentValues,selection\r\n                                            ,selectionArgs);\r\n    \r\n            //If 1 or more rows were updated, then notify all the listeners that the data at the\r\n            //given URI has changed\r\n            if (rowsUpdated != 0){\r\n                getContext().getContentResolver().notifyChange(uri,null);\r\n            }\r\n            //Return the no. of rows updated\r\n            return rowsUpdated;\r\n        }\r\n    \r\n    \r\n        }\r\n\r\n\r\nCatalogActivity.java\r\n\r\n    package com.example.bahubali.inventoryapp;\r\n    \r\n    import android.app.LoaderManager;\r\n    import android.content.ContentValues;\r\n    import android.content.CursorLoader;\r\n    import android.content.Intent;\r\n    import android.content.Loader;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.ListView;\r\n    \r\n    import com.example.bahubali.inventoryapp.data.ProductContract;\r\n    import com.example.bahubali.inventoryapp.data.ProductDbHelper;\r\n    \r\n    public class CatalogActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\r\n    \r\n        /** Database helper that will provide us access to the database */\r\n        private ProductDbHelper mDbHelper;\r\n    \r\n        //Define an PetCursor adapter\r\n        private ProductCursorAdapter mCursorAdapter;\r\n    \r\n        //The integer loader constant for Product loader\r\n        private static final int PRODUCT_LOADER = 0;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_catalog);\r\n    \r\n          //Setup fab to open editor activity\r\n            FloatingActionButton fab = findViewById(R.id.fab);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(CatalogActivity.this,EditorActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n            // To access our database, we instantiate our subclass of SQLiteOpenHelper\r\n            // and pass the context, which is the current activity.\r\n    \r\n             mDbHelper = new ProductDbHelper(this);\r\n    \r\n             //Find the listView which will be with the product data\r\n            ListView productListView = (ListView) findViewById(R.id.list);\r\n    \r\n            //Find and set empty view on the ListView, so that it only shows when the list has 0 items\r\n            View emptyView = findViewById(R.id.empty_view);\r\n            productListView.setEmptyView(emptyView);\r\n    \r\n            //Setup an Adapter to create a list item for each row of product data in the Cursor.\r\n            //There is no product data yet(until the loader finishes) so pass in the null Cursor.\r\n            mCursorAdapter = new ProductCursorAdapter(this,null);\r\n            productListView.setAdapter(mCursorAdapter);\r\n    \r\n            //Kick off the loader\r\n            getLoaderManager().initLoader(PRODUCT_LOADER, null,this);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        /*helper method to insert hardcoded data in the database*/\r\n        private void insertProduct(){\r\n            //Get the database in the write mode\r\n            SQLiteDatabase db = mDbHelper.getWritableDatabase();\r\n            //Create a contentValues where  column names are the keys,\r\n            //and the boat attributes are values\r\n            ContentValues values = new ContentValues();\r\n            values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME,&quot;Boat&quot;);\r\n            values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE,600);\r\n            values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_QUANTITY,4);\r\n            values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_SUPPLIER,&quot;Amazon&quot;);\r\n    \r\n            /*\r\n            Insert a new row in the database ,returning the id of that new row\r\n            The first argument for the db.insert() is the products table name\r\n            The second arguments provides the name of the column in which the framework\r\n            can insert Null if the event that the content values is empty(if this is set to &quot;null&quot;,then\r\n            the framework will not insert a row when there is no values.\r\n             */\r\n            long newRowId = db.insert(ProductContract.ProductEntry.TABLE_NAME,null,values);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu options from the res/menu/menu_catalog.xml file.\r\n            // This adds menu items to the app bar.\r\n            getMenuInflater().inflate(R.menu.menu_catalog,menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // User clicked on a menu option in the app bar overflow menu\r\n            switch (item.getItemId()){\r\n                // Respond to a click on the &quot;Insert dummy data&quot; menu option\r\n                case R.id.action_insert_new_data:\r\n                    insertProduct();\r\n                    return true;\r\n                // Respond to a click on the &quot;Delete all entries&quot; menu option\r\n                case R.id.action_delete_all_entries:\r\n                    //Do nothing for now;\r\n                    return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        @Override\r\n        public Loader&lt;Cursor&gt; onCreateLoader(int i, Bundle bundle) {\r\n        //Define a projection that specifies the column from the table we care about\r\n            String projection[] = {\r\n                    ProductContract.ProductEntry._ID,\r\n                    ProductContract.ProductEntry.COLUMN_PRODUCT_NAME,\r\n                    ProductContract.ProductEntry.COLUMN_PRODUCT_SUPPLIER\r\n            };\r\n        //This loader will implement the ContentProvider&#39;s method in background thread\r\n            return new CursorLoader(this,\r\n                    ProductContract.ProductEntry.CONTENT_URI,\r\n                    projection,\r\n                    null,\r\n                    null,\r\n                    null);\r\n        }\r\n    \r\n        @Override\r\n        public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\r\n        //Update {@link PetCursorAdapter} with this new cursor containing updated product data\r\n            mCursorAdapter.swapCursor(data);\r\n        }\r\n    \r\n        @Override\r\n        public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\r\n            //Callback called when the data needs to be deleted\r\n            mCursorAdapter.swapCursor(null);\r\n    \r\n        }\r\n    }\r\n\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nThe LogCat:\r\n\r\n    10-14 12:20:31.131 2900-3121/com.example.bahubali.inventoryapp E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n                                                                                     Process: com.example.bahubali.inventoryapp, PID: 2900\r\n                                                                                     java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n                                                                                         at android.os.AsyncTask$3.done(AsyncTask.java:309)\r\n                                                                                         at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\r\n                                                                                         at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\r\n                                                                                         at java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n                                                                                         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n                                                                                         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n                                                                                         at java.lang.Thread.run(Thread.java:818)\r\n                                                                                      Caused by: java.lang.IllegalArgumentException: You must pass a valid uri and observer\r\n                                                                                         at android.os.Parcel.readException(Parcel.java:1624)\r\n                                                                                         at android.os.Parcel.readException(Parcel.java:1573)\r\n                                                                                         at android.content.IContentService$Stub$Proxy.registerContentObserver(IContentService.java:713)\r\n                                                                                         at android.content.ContentResolver.registerContentObserver(ContentResolver.java:1605)\r\n                                                                                         at android.database.AbstractCursor.setNotificationUri(AbstractCursor.java:402)\r\n                                                                                         at android.database.AbstractCursor.setNotificationUri(AbstractCursor.java:390)\r\n                                                                                         at com.example.bahubali.inventoryapp.data.ProductProvider.query(ProductProvider.java:131)\r\n                                                                                         at android.content.ContentProvider.query(ContentProvider.java:1017)\r\n                                                                                         at android.content.ContentProvider$Transport.query(ContentProvider.java:238)\r\n                                                                                         at android.content.ContentResolver.query(ContentResolver.java:491)\r\n                                                                                         at android.content.CursorLoader.loadInBackground(CursorLoader.java:64)\r\n                                                                                         at android.content.CursorLoader.loadInBackground(CursorLoader.java:56)\r\n                                                                                         at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\r\n                                                                                         at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\r\n                                                                                         at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:66)\r\n                                                                                         at android.os.AsyncTask$2.call(AsyncTask.java:295)\r\n                                                                                         at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n                                                                                         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)&#160;\r\n                                                                                         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)&#160;\r\n                                                                                         at java.lang.Thread.run(Thread.java:818)&#160;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting an error in doInBackground method when there is no DoInBackground","body":"<p>I am getting an DoInBackground Error since I added the cursor notification uri but before  that I was getting error my database is locked. What is that mean I can't seem to understand why it is acting like this because there is no background method and I am using Loader.\nThe activities are</p>\n<p>ProductProvider.java</p>\n<pre><code>package com.example.bahubali.inventoryapp.data;\n\nimport android.content.ContentProvider;\nimport android.content.ContentUris;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.content.UriMatcher;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.net.Uri;\nimport android.support.annotation.NonNull;\nimport android.support.annotation.Nullable;\nimport android.util.Log;\n\n\n\npublic class ProductProvider extends ContentProvider {\n\n    //Tag for the log messages\n    public static final String LOG_TAG = ProductProvider.class.getSimpleName();\n\n    //Database helper that will provide access to the database.\n    private ProductDbHelper mDbHelper;\n    /** URI matcher code for the content URI for the pets table */\n    public static final int PRODUCTS = 100;\n\n    /** URI matcher code for the content URI for a single pet in the pets table */\n    public static final int PRODUCT_ID = 101;\n\n    Context context;\n\n    /** URI matcher object to match a context URI to a corresponding code.\n     * The input passed into the constructor represents the code to return for the root URI.\n     * It's common to use NO_MATCH as the input for this case.\n     */\n    private static final UriMatcher sUriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n\n    // Static initializer. This is run the first time anything is called from this class.\n    static {\n        // The calls to addURI() go here, for all of the content URI patterns that the provider\n        // should recognize. All paths added to the UriMatcher have a corresponding code to return\n        // when a match is found.\n\n        // The content URI of the form &quot;content://com.example.android.pets/pets&quot; will map to the\n        // integer code {@link #PETS}. This URI is used to provide access to MULTIPLE rows\n        // of the pets table.\n        sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS, PRODUCTS);\n\n        // The content URI of the form &quot;content://com.example.android.pets/pets/#&quot; will map to the\n        // integer code {@link #PETS_ID}. This URI is used to provide access to ONE single row\n        // of the pets table.\n\n        // In this case, the &quot;#&quot; wildcard is used where &quot;#&quot; can be substituted for an integer.\n        // For example, &quot;content://com.example.android.pets/pets/3&quot; matches, but\n        // &quot;content://com.example.android.pets/pets&quot; (without a number at the end) doesn't match.\n        sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS + &quot;/#&quot;, PRODUCT_ID);\n    }\n\n\n    /**\n     * Initialize the provider and the database helper object.\n     */\n    @Override\n    public boolean onCreate()\n    {\n        /*\n         * Creates a new helper object. This method always returns quickly.\n         * until SQLiteOpenHelper.getWritableDatabase is called\n         */\n        mDbHelper = new ProductDbHelper(getContext());\n        context = getContext();\n\n        return true;\n    }\n\n\n    /*\n    *Perform the query to the given URI.Use the given projection,selection,selectionArgs, and sort\n    * order.\n     */\n\n    @Override\n    public Cursor query(@NonNull Uri uri, String[] projection, String selection, String[] selectionArgs,\n                        String sortOrder) {\n        // Get readable database\n        SQLiteDatabase database = mDbHelper.getReadableDatabase();\n\n        // This cursor will hold the result of the query\n        Cursor cursor ;\n\n        // Figure out if the URI matcher can match the URI to a specific code\n        int match = sUriMatcher.match(uri);\n        switch (match) {\n            case PRODUCTS:\n                // For the PETS code, query the pets table directly with the given\n                // projection, selection, selection arguments, and sort order. The cursor\n                // could contain multiple rows of the pets table.\n                //  Perform database query on pets\n                cursor = database.query(ProductContract.ProductEntry.TABLE_NAME,\n                        projection,selection,selectionArgs,null,null,sortOrder);\n                break;\n\n            case PRODUCT_ID:\n                // For the PET_ID code, extract out the ID from the URI.\n                // For an example URI such as &quot;content://com.example.android.pets/pets/3&quot;,\n                // the selection will be &quot;_id=?&quot; and the selection argument will be a\n                // String array containing the actual ID of 3 in this case.\n                //\n                // For every &quot;?&quot; in the selection, we need to have an element in the selection\n                // arguments that will fill in the &quot;?&quot;. Since we have 1 question mark in the\n                // selection, we have 1 String in the selection arguments' String array.\n                selection = PRODUCT_ID + &quot;=?&quot;;\n                selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\n\n                // This will perform a query on the pets table where the _id equals 3 to return a\n                // Cursor containing that row of the table.\n                cursor = database.query(ProductContract.ProductEntry.TABLE_NAME, \n                                                                    projection,\n                                                                        selection,\n                                                                    selectionArgs,\n                                                                    null,\n                                                                    null,   \n                                                                    sortOrder);\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Cannot query unknown URI &quot; + uri);\n        }\n        //Set notification URI to the cursor,\n        //So we know what content URI the cursor was created for.\n        //If the data at this URI changes, then we need to update the cursor.\n        cursor.setNotificationUri(getContext().getContentResolver(),null);\n        cursor.close();\n        return cursor;\n    }\n\n\n    /*\n    *Return the  MIME type of data for the content URI.\n     */\n    @Nullable\n    @Override\n    public String getType(@NonNull Uri uri) {\n        final int match = sUriMatcher.match(uri);\n        switch (match){\n            case PRODUCTS:\n                return ProductContract.ProductEntry.CONTENT_LIST_TYPE;\n            case PRODUCT_ID:\n                return ProductContract.ProductEntry.CONTENT_ITEM_TYPE;\n            default:\n                throw new IllegalStateException(&quot;UNKNOWN URI&quot; + uri + &quot; with match&quot; + match);\n        }\n\n\n    }\n    //Added a commit  here\n\n    /*\n    *Insert a new data into the provider with the given Constructor.\n     */\n    @Nullable\n    @Override\n    public Uri insert(@NonNull Uri uri,\n                      @Nullable ContentValues contentValues) {\n        final int match = sUriMatcher.match(uri);\n        switch (match){\n            case PRODUCTS:\n                return insertProduct(uri,contentValues);\n\n                default:\n                    throw new IllegalArgumentException(&quot;Insertion is not supported for &quot; +uri);\n\n\n        }\n\n    }\n\n    /*\n    Insert a product in the database with the given content values.Return the new content URI\n    for that specific row in the database.\n     */\n    private Uri insertProduct(Uri uri, ContentValues contentValues){\n\n        //Get writeable database\n        SQLiteDatabase  database = mDbHelper.getWritableDatabase();\n\n        //Insert the new product with the given values\n        long id = database.insert(ProductContract.ProductEntry.TABLE_NAME,null,contentValues);\n\n        //If the Id is -1, then the insertion failed.Log on an error to return null\n        if (id == -1){\n            Log.e(LOG_TAG,&quot;Failed to insert a row&quot; + uri);\n            return null;\n        }\n\n        //Check that the name is not null\n        String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\n        if (name == null){\n            throw new IllegalArgumentException(&quot;Product requires a name&quot;);\n        }\n\n        //Check that the price is not null\n        Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\n        if (price != null &amp;&amp; price &lt; 0 ){\n            throw new IllegalArgumentException(&quot;Product requires  valid price&quot;);\n        }\n        //Notify all listeners that the data has changed for the product content URI\n        getContext().getContentResolver().notifyChange(uri,null);\n\n\n        return ContentUris.withAppendedId(uri,id);\n    }\n\n    /*\n    *Delete the data at the given selection and selection arguments.\n     */\n    @Override\n    public int delete(@NonNull Uri uri,\n                      @Nullable String selection,\n                      @Nullable String[] selectionArgs) {\n        // Get writeable database\n        SQLiteDatabase database = mDbHelper.getWritableDatabase();\n\n        //Track the no. of rows  that were deleted\n        int rowsDeleted;\n\n        final int match = sUriMatcher.match(uri);\n        switch (match) {\n            case PRODUCTS:\n                // Delete all rows that match the selection and selection args\n              rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\n                break;\n            case PRODUCT_ID:\n                // Delete a single row given by the ID in the URI\n                selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\n                selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\n                rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Deletion is not supported for &quot; + uri);\n        }\n        //If 1 or more rows were  deleted, then notify all listeners that the data at the given\n        //given uri has changed\n        if (rowsDeleted != 0){\n            getContext().getContentResolver().notifyChange(uri,null);\n        }\n        return rowsDeleted;\n    }\n\n    /*\n    *Updates the data at the given selection and the selection arguments, with the new content\n    * values.\n     */\n    @Override\n    public int update(@NonNull Uri uri,\n                      @Nullable ContentValues contentValues,\n                      @Nullable String selection,\n                      @Nullable String[] selectionArgs) {\n\n        final int match = sUriMatcher.match(uri);\n        switch (match) {\n            case PRODUCTS:\n                return updateProduct(uri, contentValues, selection, selectionArgs);\n            case PRODUCT_ID:\n                // For the PRODUCT_D code, extract out the ID from the URI,\n                // so we know which row to update. Selection will be &quot;_id=?&quot; and selection\n                // arguments will be a String array containing the actual ID.\n                selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\n                selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\n                return updateProduct(uri, contentValues, selection, selectionArgs);\n            default:\n                throw new IllegalArgumentException(&quot;Update is not supported for &quot; + uri);\n        }\n\n\n    }\n    /**\n     * Update pets in the database with the given content values. Apply the changes to the rows\n     * specified in the selection and selection arguments (which could be 0 or 1 or more pets).\n     * Return the number of rows that were successfully updated.\n     */\n    private int updateProduct(Uri uri,ContentValues contentValues,String selection,String[] selectionArgs){\n\n        // If the {@link ProductEntry#COLUMN_PRODUCT_NAME} key is present,\n        // check that the name value is not null.\n        if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME)) {\n            String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\n            if (name == null) {\n                throw new IllegalArgumentException(&quot;Product requires a name&quot;);\n            }\n        }\n\n        // If the {@link ProductEntry#COLUMN_PRODUCT_PRICE} key is present,\n        // check that the price value is valid.\n        if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE)) {\n            // Check that the weight is greater than or equal to 0 kg\n            Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\n            if (price!= null &amp;&amp; price &lt; 0) {\n                throw new IllegalArgumentException(&quot;Product requires valid weight&quot;);\n            }\n        }\n\n        // If there are no values to update, then don't try to update the database\n        if (contentValues.size() == 0) {\n            return 0;\n        }\n\n        // Otherwise, get writeable database to update the data\n        SQLiteDatabase database = mDbHelper.getWritableDatabase();\n\n        //perform the update on the database and the get the number of rows affected\n        int rowsUpdated = database.update(ProductContract.ProductEntry.TABLE_NAME,contentValues,selection\n                                        ,selectionArgs);\n\n        //If 1 or more rows were updated, then notify all the listeners that the data at the\n        //given URI has changed\n        if (rowsUpdated != 0){\n            getContext().getContentResolver().notifyChange(uri,null);\n        }\n        //Return the no. of rows updated\n        return rowsUpdated;\n    }\n\n\n    }\n</code></pre>\n<p>CatalogActivity.java</p>\n<pre><code>package com.example.bahubali.inventoryapp;\n\nimport android.app.LoaderManager;\nimport android.content.ContentValues;\nimport android.content.CursorLoader;\nimport android.content.Intent;\nimport android.content.Loader;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ListView;\n\nimport com.example.bahubali.inventoryapp.data.ProductContract;\nimport com.example.bahubali.inventoryapp.data.ProductDbHelper;\n\npublic class CatalogActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\n\n    /** Database helper that will provide us access to the database */\n    private ProductDbHelper mDbHelper;\n\n    //Define an PetCursor adapter\n    private ProductCursorAdapter mCursorAdapter;\n\n    //The integer loader constant for Product loader\n    private static final int PRODUCT_LOADER = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_catalog);\n\n      //Setup fab to open editor activity\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(CatalogActivity.this,EditorActivity.class);\n                startActivity(intent);\n            }\n        });\n        // To access our database, we instantiate our subclass of SQLiteOpenHelper\n        // and pass the context, which is the current activity.\n\n         mDbHelper = new ProductDbHelper(this);\n\n         //Find the listView which will be with the product data\n        ListView productListView = (ListView) findViewById(R.id.list);\n\n        //Find and set empty view on the ListView, so that it only shows when the list has 0 items\n        View emptyView = findViewById(R.id.empty_view);\n        productListView.setEmptyView(emptyView);\n\n        //Setup an Adapter to create a list item for each row of product data in the Cursor.\n        //There is no product data yet(until the loader finishes) so pass in the null Cursor.\n        mCursorAdapter = new ProductCursorAdapter(this,null);\n        productListView.setAdapter(mCursorAdapter);\n\n        //Kick off the loader\n        getLoaderManager().initLoader(PRODUCT_LOADER, null,this);\n\n\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n    }\n\n\n\n    /*helper method to insert hardcoded data in the database*/\n    private void insertProduct(){\n        //Get the database in the write mode\n        SQLiteDatabase db = mDbHelper.getWritableDatabase();\n        //Create a contentValues where  column names are the keys,\n        //and the boat attributes are values\n        ContentValues values = new ContentValues();\n        values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME,&quot;Boat&quot;);\n        values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE,600);\n        values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_QUANTITY,4);\n        values.put(ProductContract.ProductEntry.COLUMN_PRODUCT_SUPPLIER,&quot;Amazon&quot;);\n\n        /*\n        Insert a new row in the database ,returning the id of that new row\n        The first argument for the db.insert() is the products table name\n        The second arguments provides the name of the column in which the framework\n        can insert Null if the event that the content values is empty(if this is set to &quot;null&quot;,then\n        the framework will not insert a row when there is no values.\n         */\n        long newRowId = db.insert(ProductContract.ProductEntry.TABLE_NAME,null,values);\n    }\n\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu options from the res/menu/menu_catalog.xml file.\n        // This adds menu items to the app bar.\n        getMenuInflater().inflate(R.menu.menu_catalog,menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // User clicked on a menu option in the app bar overflow menu\n        switch (item.getItemId()){\n            // Respond to a click on the &quot;Insert dummy data&quot; menu option\n            case R.id.action_insert_new_data:\n                insertProduct();\n                return true;\n            // Respond to a click on the &quot;Delete all entries&quot; menu option\n            case R.id.action_delete_all_entries:\n                //Do nothing for now;\n                return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public Loader&lt;Cursor&gt; onCreateLoader(int i, Bundle bundle) {\n    //Define a projection that specifies the column from the table we care about\n        String projection[] = {\n                ProductContract.ProductEntry._ID,\n                ProductContract.ProductEntry.COLUMN_PRODUCT_NAME,\n                ProductContract.ProductEntry.COLUMN_PRODUCT_SUPPLIER\n        };\n    //This loader will implement the ContentProvider's method in background thread\n        return new CursorLoader(this,\n                ProductContract.ProductEntry.CONTENT_URI,\n                projection,\n                null,\n                null,\n                null);\n    }\n\n    @Override\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {\n    //Update {@link PetCursorAdapter} with this new cursor containing updated product data\n        mCursorAdapter.swapCursor(data);\n    }\n\n    @Override\n    public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\n        //Callback called when the data needs to be deleted\n        mCursorAdapter.swapCursor(null);\n\n    }\n}\n\n    }\n\n\n}\n</code></pre>\n<p>The LogCat:</p>\n<pre><code>10-14 12:20:31.131 2900-3121/com.example.bahubali.inventoryapp E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n                                                                                 Process: com.example.bahubali.inventoryapp, PID: 2900\n                                                                                 java.lang.RuntimeException: An error occurred while executing doInBackground()\n                                                                                     at android.os.AsyncTask$3.done(AsyncTask.java:309)\n                                                                                     at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\n                                                                                     at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\n                                                                                     at java.util.concurrent.FutureTask.run(FutureTask.java:242)\n                                                                                     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n                                                                                     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n                                                                                     at java.lang.Thread.run(Thread.java:818)\n                                                                                  Caused by: java.lang.IllegalArgumentException: You must pass a valid uri and observer\n                                                                                     at android.os.Parcel.readException(Parcel.java:1624)\n                                                                                     at android.os.Parcel.readException(Parcel.java:1573)\n                                                                                     at android.content.IContentService$Stub$Proxy.registerContentObserver(IContentService.java:713)\n                                                                                     at android.content.ContentResolver.registerContentObserver(ContentResolver.java:1605)\n                                                                                     at android.database.AbstractCursor.setNotificationUri(AbstractCursor.java:402)\n                                                                                     at android.database.AbstractCursor.setNotificationUri(AbstractCursor.java:390)\n                                                                                     at com.example.bahubali.inventoryapp.data.ProductProvider.query(ProductProvider.java:131)\n                                                                                     at android.content.ContentProvider.query(ContentProvider.java:1017)\n                                                                                     at android.content.ContentProvider$Transport.query(ContentProvider.java:238)\n                                                                                     at android.content.ContentResolver.query(ContentResolver.java:491)\n                                                                                     at android.content.CursorLoader.loadInBackground(CursorLoader.java:64)\n                                                                                     at android.content.CursorLoader.loadInBackground(CursorLoader.java:56)\n                                                                                     at android.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:312)\n                                                                                     at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:69)\n                                                                                     at android.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:66)\n                                                                                     at android.os.AsyncTask$2.call(AsyncTask.java:295)\n                                                                                     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n                                                                                     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) \n                                                                                     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) \n                                                                                     at java.lang.Thread.run(Thread.java:818) \n</code></pre>\n"},{"tags":["java","android","android-sqlite","android-contentprovider"],"comments":[{"owner":{"account_id":1364396,"reputation":3104,"user_id":2475470,"accept_rate":40,"display_name":"Vector"},"score":0,"creation_date":1508912762,"post_id":46753350,"comment_id":80797426,"body_markdown":"I can not see the Insert routine but where are you closing the cursor and the database         db.close();\n        cursor.close();","body":"I can not see the Insert routine but where are you closing the cursor and the database         db.close();         cursor.close();"},{"owner":{"account_id":9006959,"reputation":41,"user_id":6713264,"accept_rate":50,"display_name":"Vishal"},"score":0,"creation_date":1509081134,"post_id":46753350,"comment_id":80883077,"body_markdown":"Hey @Grendel I am not closing them, is it necessary? Since I implement the content Uri, I learned from the nanodegree that it is not req. or maybe I am wrong can you clarify that and also insert Routine? Are you talking about the insert and insert product method?","body":"Hey @Grendel I am not closing them, is it necessary? Since I implement the content Uri, I learned from the nanodegree that it is not req. or maybe I am wrong can you clarify that and also insert Routine? Are you talking about the insert and insert product method?"},{"owner":{"account_id":1364396,"reputation":3104,"user_id":2475470,"accept_rate":40,"display_name":"Vector"},"score":0,"creation_date":1509122221,"post_id":46753350,"comment_id":80906829,"body_markdown":"take a look at this link https://stackoverflow.com/questions/2225221/closing-database-connections-in-java","body":"take a look at this link <a href=\"https://stackoverflow.com/questions/2225221/closing-database-connections-in-java\" title=\"closing database connections in java\">stackoverflow.com/questions/2225221/&hellip;</a>"}],"owner":{"account_id":9006959,"reputation":41,"user_id":6713264,"accept_rate":50,"display_name":"Vishal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653599419,"creation_date":1508057580,"question_id":46753350,"body_markdown":"I am creating an inventory app.It has a fab button an menu button with two items.Everything works fine but whenever I am trying to insert a new product through the item from the menu.It doesn&#39;t add immediately.\r\n\r\nFirst I have to go back from the application or kill it and after when I enter again the the new product with the dummy value is recorded there.I want to resolve the issue that when I add a new product it immediately add the data with values and I don&#39;t have to go back every time to see it is inserted.Also If added a new product using fab button the data I added previously using the insert item is being added and displayed.\r\nI have seen the notification uri and there is no error showing in the LOGCAT\r\n\r\nProductProvider.java\r\n\r\n    package com.example.bahubali.inventoryapp.data;\r\n    \r\n    import android.content.ContentProvider;\r\n    import android.content.ContentUris;\r\n    import android.content.ContentValues;\r\n    import android.content.UriMatcher;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.net.Uri;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.annotation.Nullable;\r\n    import android.util.Log;\r\n    \r\n    \r\n    \r\n    public class ProductProvider extends ContentProvider {\r\n    \r\n        //Tag for the log messages\r\n        public static final String LOG_TAG = ProductProvider.class.getSimpleName();\r\n    \r\n        //Database helper that will provide access to the database.\r\n        private ProductDbHelper mDbHelper;\r\n        /** URI matcher code for the content URI for the product table */\r\n        public static final int PRODUCTS = 100;\r\n    \r\n        /** URI matcher code for the content URI for a single product in the pets table */\r\n        public static final int PRODUCT_ID = 101;\r\n    \r\n    \r\n    \r\n        /** URI matcher object to match a context URI to a corresponding code.\r\n         * The input passed into the constructor represents the code to return for the root URI.\r\n         * It&#39;s common to use NO_MATCH as the input for this case.\r\n         */\r\n        private static final UriMatcher sUriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\r\n    \r\n        // Static initializer. This is run the first time anything is called from this class.\r\n        static {\r\n            // The calls to addURI() go here, for all of the content URI patterns that the provider\r\n            // should recognize. All paths added to the UriMatcher have a corresponding code to return\r\n            // when a match is found.\r\n    \r\n            sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS, PRODUCTS);\r\n    \r\n            // The content URI of the form &quot;content://com.example.android.pets/pets/#&quot; will map to the\r\n            // integer code {@link #PETS_ID}. This URI is used to provide access to ONE single row\r\n            // of the pets table.\r\n    \r\n         \r\n            sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS + &quot;/#&quot;, PRODUCT_ID);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Initialize the provider and the database helper object.\r\n         */\r\n        @Override\r\n        public boolean onCreate()\r\n        {\r\n            /*\r\n             * Creates a new helper object. This method always returns quickly.\r\n             * until SQLiteOpenHelper.getWritableDatabase is called\r\n             */\r\n            mDbHelper = new ProductDbHelper(getContext());\r\n            return true;\r\n        }\r\n    \r\n        /*\r\n        *Perform the query to the given URI.Use the given projection,selection,selectionArgs, and sort\r\n        * order.\r\n         */\r\n        @Override\r\n        public Cursor query(@NonNull Uri uri, String[] projection, String selection, String[] selectionArgs,\r\n                            String sortOrder) {\r\n            // Get readable database\r\n            SQLiteDatabase database = mDbHelper.getReadableDatabase();\r\n    \r\n            // This cursor will hold the result of the query\r\n            Cursor cursor ;\r\n    \r\n            // Figure out if the URI matcher can match the URI to a specific code\r\n            int match = sUriMatcher.match(uri);\r\n    \r\n            switch (match) {\r\n                case PRODUCTS:\r\n                    // For the PRODUCTS code, query the pets table directly with the given\r\n                    // projection, selection, selection arguments, and sort order. The cursor\r\n                    // could contain multiple rows of the products table.\r\n                    //  Perform database query on pets\r\n                    cursor = database.query(ProductContract.ProductEntry.TABLE_NAME,\r\n                            projection,selection,selectionArgs,null,null,sortOrder);\r\n                    break;\r\n    \r\n                case PRODUCT_ID:\r\n                    // For the PRODUCT_ID code, extract out the ID from the URI.\r\n                    // For an example URI such as &quot;content://com.example.android.products/products/3&quot;,\r\n                    // the selection will be &quot;_id=?&quot; and the selection argument will be a\r\n                    // String array containing the actual ID of 3 in this case.\r\n                    //\r\n                    // For every &quot;?&quot; in the selection, we need to have an element in the selection\r\n                    // arguments that will fill in the &quot;?&quot;. Since we have 1 question mark in the\r\n                    // selection, we have 1 String in the selection arguments&#39; String array.\r\n                    selection = PRODUCT_ID + &quot;=?&quot;;\r\n                    selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\r\n    \r\n                    // This will perform a query on the products table where the _id equals 3 to return a\r\n                    // Cursor containing that row of the table.\r\n                    cursor = database.query(ProductContract.ProductEntry.TABLE_NAME, \r\n                                                                        projection,\r\n                                                                            selection,\r\n                                                                        selectionArgs,\r\n                                                                        null,\r\n                                                                        null,   \r\n                                                                        sortOrder);\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Cannot query unknown URI &quot; + uri);\r\n            }\r\n            //Set notification URI to the cursor,\r\n            //So we know what content URI the cursor was created for.\r\n            cursor.setNotificationUri(getContext().getContentResolver(),uri);\r\n            //If the data at this URI changes, then we need to update the cursor.\r\n            return cursor;\r\n        }\r\n    \r\n        /*\r\n        *Insert a new data into the provider with the given Constructor.\r\n         */\r\n        @Nullable\r\n        @Override\r\n        public Uri insert(@NonNull Uri uri,\r\n                          @Nullable ContentValues contentValues) {\r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match){\r\n                case PRODUCTS:\r\n                    return insertProduct(uri,contentValues);\r\n    \r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;Insertion is not supported for &quot; +uri);\r\n            }\r\n        }\r\n    \r\n        /*\r\n        Insert a product in the database with the given content values.Return the new content URI\r\n        for that specific row in the database.\r\n         */\r\n        private Uri insertProduct(Uri uri, ContentValues contentValues){\r\n    \r\n            //Check that the name is not null\r\n            String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\r\n            if (name == null){\r\n                throw new IllegalArgumentException(&quot;Product requires a name&quot;);\r\n            }\r\n    \r\n            //Check that the price is not null\r\n            Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\r\n            if (price != null &amp;&amp; price &lt; 0 ){\r\n                throw new IllegalArgumentException(&quot;Product requires  valid price&quot;);\r\n            }\r\n    \r\n            //Get writeable database\r\n            SQLiteDatabase  database = mDbHelper.getWritableDatabase();\r\n    \r\n            //Insert the new product with the given values\r\n            long id = database.insert(ProductContract.ProductEntry.TABLE_NAME,null,contentValues);\r\n    \r\n            //If the Id is -1, then the insertion failed.Log on an error to return null\r\n            if (id == -1){\r\n                Log.e(LOG_TAG,&quot;Failed to insert a row&quot; + uri);\r\n                return null;\r\n            }\r\n    \r\n    \r\n            //Notify all listeners that the data has changed for the product content URI\r\n            getContext().getContentResolver().notifyChange(uri,null);\r\n    \r\n    \r\n            return ContentUris.withAppendedId(uri,id);\r\n        }\r\n    \r\n        /*\r\n       *Updates the data at the given selection and the selection arguments, with the new content\r\n       * values.\r\n        */\r\n        @Override\r\n        public int update(@NonNull Uri uri,\r\n                          @Nullable ContentValues contentValues,\r\n                          @Nullable String selection,\r\n                          @Nullable String[] selectionArgs) {\r\n    \r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match) {\r\n                case PRODUCTS:\r\n                    return updateProduct(uri, contentValues, selection, selectionArgs);\r\n                case PRODUCT_ID:\r\n                    // For the PRODUCT_D code, extract out the ID from the URI,\r\n                    // so we know which row to update. Selection will be &quot;_id=?&quot; and selection\r\n                    // arguments will be a String array containing the actual ID.\r\n                    selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\r\n                    selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\r\n                    return updateProduct(uri, contentValues, selection, selectionArgs);\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Update is not supported for &quot; + uri);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Update products in the database with the given content values. Apply the changes to the rows\r\n         * specified in the selection and selection arguments (which could be 0 or 1 or more pets).\r\n         * Return the number of rows that were successfully updated.\r\n         */\r\n        private int updateProduct(Uri uri,ContentValues contentValues,String selection,String[] selectionArgs){\r\n    \r\n            // If the {@link ProductEntry#COLUMN_PRODUCT_NAME} key is present,\r\n            // check that the name value is not null.\r\n            if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME)) {\r\n                String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\r\n                if (name == null) {\r\n                    throw new IllegalArgumentException(&quot;Product requires a name&quot;);\r\n                }\r\n            }\r\n    \r\n            // If the {@link ProductEntry#COLUMN_PRODUCT_PRICE} key is present,\r\n            // check that the price value is valid.\r\n            if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE)) {\r\n                // Check that the weight is greater than or equal to 0 kg\r\n                Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\r\n                if (price!= null &amp;&amp; price &lt; 0) {\r\n                    throw new IllegalArgumentException(&quot;Product requires valid weight&quot;);\r\n                }\r\n            }\r\n    \r\n            // If there are no values to update, then don&#39;t try to update the database\r\n            if (contentValues.size() == 0) {\r\n                return 0;\r\n            }\r\n    \r\n            // Otherwise, get writeable database to update the data\r\n            SQLiteDatabase database = mDbHelper.getWritableDatabase();\r\n    \r\n            //perform the update on the database and the get the number of rows affected\r\n            int rowsUpdated = database.update(ProductContract.ProductEntry.TABLE_NAME,contentValues,selection\r\n                    ,selectionArgs);\r\n    \r\n            //If 1 or more rows were updated, then notify all the listeners that the data at the\r\n            //given URI has changed\r\n            if (rowsUpdated != 0){\r\n                getContext().getContentResolver().notifyChange(uri,null);\r\n            }\r\n            //Return the no. of rows updated\r\n            return rowsUpdated;\r\n        }\r\n    \r\n        /*\r\n        *Delete the data at the given selection and selection arguments.\r\n         */\r\n        @Override\r\n        public int delete(@NonNull Uri uri,\r\n                          @Nullable String selection,\r\n                          @Nullable String[] selectionArgs) {\r\n            // Get writeable database\r\n            SQLiteDatabase database = mDbHelper.getWritableDatabase();\r\n    \r\n            //Track the no. of rows  that were deleted\r\n            int rowsDeleted;\r\n    \r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match) {\r\n                case PRODUCTS:\r\n                    // Delete all rows that match the selection and selection args\r\n                  rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\r\n                    break;\r\n                case PRODUCT_ID:\r\n                    // Delete a single row given by the ID in the URI\r\n                    selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\r\n                    selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\r\n                    rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\r\n                    break;\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Deletion is not supported for &quot; + uri);\r\n            }\r\n            //If 1 or more rows were  deleted, then notify all listeners that the data at the given\r\n            //given uri has changed\r\n            if (rowsDeleted != 0){\r\n                getContext().getContentResolver().notifyChange(uri,null);\r\n            }\r\n            return rowsDeleted;\r\n        }\r\n    \r\n        /*\r\n       *Return the  MIME type of data for the content URI.\r\n        */\r\n        @Nullable\r\n        @Override\r\n        public String getType(@NonNull Uri uri) {\r\n            final int match = sUriMatcher.match(uri);\r\n            switch (match){\r\n                case PRODUCTS:\r\n                    return ProductContract.ProductEntry.CONTENT_LIST_TYPE;\r\n                case PRODUCT_ID:\r\n                    return ProductContract.ProductEntry.CONTENT_ITEM_TYPE;\r\n                default:\r\n                    throw new IllegalStateException(&quot;UNKNOWN URI&quot; + uri + &quot; with match&quot; + match);\r\n            }\r\n        }\r\n    \r\n     }\r\n    \r\n    \r\n    \r\n       \r\n\r\n","title":"Unable to insert new product from menu item in my app","body":"<p>I am creating an inventory app.It has a fab button an menu button with two items.Everything works fine but whenever I am trying to insert a new product through the item from the menu.It doesn't add immediately.</p>\n<p>First I have to go back from the application or kill it and after when I enter again the the new product with the dummy value is recorded there.I want to resolve the issue that when I add a new product it immediately add the data with values and I don't have to go back every time to see it is inserted.Also If added a new product using fab button the data I added previously using the insert item is being added and displayed.\nI have seen the notification uri and there is no error showing in the LOGCAT</p>\n<p>ProductProvider.java</p>\n<pre><code>package com.example.bahubali.inventoryapp.data;\n\nimport android.content.ContentProvider;\nimport android.content.ContentUris;\nimport android.content.ContentValues;\nimport android.content.UriMatcher;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.net.Uri;\nimport android.support.annotation.NonNull;\nimport android.support.annotation.Nullable;\nimport android.util.Log;\n\n\n\npublic class ProductProvider extends ContentProvider {\n\n    //Tag for the log messages\n    public static final String LOG_TAG = ProductProvider.class.getSimpleName();\n\n    //Database helper that will provide access to the database.\n    private ProductDbHelper mDbHelper;\n    /** URI matcher code for the content URI for the product table */\n    public static final int PRODUCTS = 100;\n\n    /** URI matcher code for the content URI for a single product in the pets table */\n    public static final int PRODUCT_ID = 101;\n\n\n\n    /** URI matcher object to match a context URI to a corresponding code.\n     * The input passed into the constructor represents the code to return for the root URI.\n     * It's common to use NO_MATCH as the input for this case.\n     */\n    private static final UriMatcher sUriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n\n    // Static initializer. This is run the first time anything is called from this class.\n    static {\n        // The calls to addURI() go here, for all of the content URI patterns that the provider\n        // should recognize. All paths added to the UriMatcher have a corresponding code to return\n        // when a match is found.\n\n        sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS, PRODUCTS);\n\n        // The content URI of the form &quot;content://com.example.android.pets/pets/#&quot; will map to the\n        // integer code {@link #PETS_ID}. This URI is used to provide access to ONE single row\n        // of the pets table.\n\n     \n        sUriMatcher.addURI(ProductContract.CONTENT_AUTHORITY, ProductContract.PATH_PRODUCTS + &quot;/#&quot;, PRODUCT_ID);\n    }\n\n\n    /**\n     * Initialize the provider and the database helper object.\n     */\n    @Override\n    public boolean onCreate()\n    {\n        /*\n         * Creates a new helper object. This method always returns quickly.\n         * until SQLiteOpenHelper.getWritableDatabase is called\n         */\n        mDbHelper = new ProductDbHelper(getContext());\n        return true;\n    }\n\n    /*\n    *Perform the query to the given URI.Use the given projection,selection,selectionArgs, and sort\n    * order.\n     */\n    @Override\n    public Cursor query(@NonNull Uri uri, String[] projection, String selection, String[] selectionArgs,\n                        String sortOrder) {\n        // Get readable database\n        SQLiteDatabase database = mDbHelper.getReadableDatabase();\n\n        // This cursor will hold the result of the query\n        Cursor cursor ;\n\n        // Figure out if the URI matcher can match the URI to a specific code\n        int match = sUriMatcher.match(uri);\n\n        switch (match) {\n            case PRODUCTS:\n                // For the PRODUCTS code, query the pets table directly with the given\n                // projection, selection, selection arguments, and sort order. The cursor\n                // could contain multiple rows of the products table.\n                //  Perform database query on pets\n                cursor = database.query(ProductContract.ProductEntry.TABLE_NAME,\n                        projection,selection,selectionArgs,null,null,sortOrder);\n                break;\n\n            case PRODUCT_ID:\n                // For the PRODUCT_ID code, extract out the ID from the URI.\n                // For an example URI such as &quot;content://com.example.android.products/products/3&quot;,\n                // the selection will be &quot;_id=?&quot; and the selection argument will be a\n                // String array containing the actual ID of 3 in this case.\n                //\n                // For every &quot;?&quot; in the selection, we need to have an element in the selection\n                // arguments that will fill in the &quot;?&quot;. Since we have 1 question mark in the\n                // selection, we have 1 String in the selection arguments' String array.\n                selection = PRODUCT_ID + &quot;=?&quot;;\n                selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\n\n                // This will perform a query on the products table where the _id equals 3 to return a\n                // Cursor containing that row of the table.\n                cursor = database.query(ProductContract.ProductEntry.TABLE_NAME, \n                                                                    projection,\n                                                                        selection,\n                                                                    selectionArgs,\n                                                                    null,\n                                                                    null,   \n                                                                    sortOrder);\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Cannot query unknown URI &quot; + uri);\n        }\n        //Set notification URI to the cursor,\n        //So we know what content URI the cursor was created for.\n        cursor.setNotificationUri(getContext().getContentResolver(),uri);\n        //If the data at this URI changes, then we need to update the cursor.\n        return cursor;\n    }\n\n    /*\n    *Insert a new data into the provider with the given Constructor.\n     */\n    @Nullable\n    @Override\n    public Uri insert(@NonNull Uri uri,\n                      @Nullable ContentValues contentValues) {\n        final int match = sUriMatcher.match(uri);\n        switch (match){\n            case PRODUCTS:\n                return insertProduct(uri,contentValues);\n\n                default:\n                    throw new IllegalArgumentException(&quot;Insertion is not supported for &quot; +uri);\n        }\n    }\n\n    /*\n    Insert a product in the database with the given content values.Return the new content URI\n    for that specific row in the database.\n     */\n    private Uri insertProduct(Uri uri, ContentValues contentValues){\n\n        //Check that the name is not null\n        String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\n        if (name == null){\n            throw new IllegalArgumentException(&quot;Product requires a name&quot;);\n        }\n\n        //Check that the price is not null\n        Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\n        if (price != null &amp;&amp; price &lt; 0 ){\n            throw new IllegalArgumentException(&quot;Product requires  valid price&quot;);\n        }\n\n        //Get writeable database\n        SQLiteDatabase  database = mDbHelper.getWritableDatabase();\n\n        //Insert the new product with the given values\n        long id = database.insert(ProductContract.ProductEntry.TABLE_NAME,null,contentValues);\n\n        //If the Id is -1, then the insertion failed.Log on an error to return null\n        if (id == -1){\n            Log.e(LOG_TAG,&quot;Failed to insert a row&quot; + uri);\n            return null;\n        }\n\n\n        //Notify all listeners that the data has changed for the product content URI\n        getContext().getContentResolver().notifyChange(uri,null);\n\n\n        return ContentUris.withAppendedId(uri,id);\n    }\n\n    /*\n   *Updates the data at the given selection and the selection arguments, with the new content\n   * values.\n    */\n    @Override\n    public int update(@NonNull Uri uri,\n                      @Nullable ContentValues contentValues,\n                      @Nullable String selection,\n                      @Nullable String[] selectionArgs) {\n\n        final int match = sUriMatcher.match(uri);\n        switch (match) {\n            case PRODUCTS:\n                return updateProduct(uri, contentValues, selection, selectionArgs);\n            case PRODUCT_ID:\n                // For the PRODUCT_D code, extract out the ID from the URI,\n                // so we know which row to update. Selection will be &quot;_id=?&quot; and selection\n                // arguments will be a String array containing the actual ID.\n                selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\n                selectionArgs = new String[] { String.valueOf(ContentUris.parseId(uri)) };\n                return updateProduct(uri, contentValues, selection, selectionArgs);\n            default:\n                throw new IllegalArgumentException(&quot;Update is not supported for &quot; + uri);\n        }\n    }\n\n    /**\n     * Update products in the database with the given content values. Apply the changes to the rows\n     * specified in the selection and selection arguments (which could be 0 or 1 or more pets).\n     * Return the number of rows that were successfully updated.\n     */\n    private int updateProduct(Uri uri,ContentValues contentValues,String selection,String[] selectionArgs){\n\n        // If the {@link ProductEntry#COLUMN_PRODUCT_NAME} key is present,\n        // check that the name value is not null.\n        if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME)) {\n            String name = contentValues.getAsString(ProductContract.ProductEntry.COLUMN_PRODUCT_NAME);\n            if (name == null) {\n                throw new IllegalArgumentException(&quot;Product requires a name&quot;);\n            }\n        }\n\n        // If the {@link ProductEntry#COLUMN_PRODUCT_PRICE} key is present,\n        // check that the price value is valid.\n        if (contentValues.containsKey(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE)) {\n            // Check that the weight is greater than or equal to 0 kg\n            Integer price = contentValues.getAsInteger(ProductContract.ProductEntry.COLUMN_PRODUCT_PRICE);\n            if (price!= null &amp;&amp; price &lt; 0) {\n                throw new IllegalArgumentException(&quot;Product requires valid weight&quot;);\n            }\n        }\n\n        // If there are no values to update, then don't try to update the database\n        if (contentValues.size() == 0) {\n            return 0;\n        }\n\n        // Otherwise, get writeable database to update the data\n        SQLiteDatabase database = mDbHelper.getWritableDatabase();\n\n        //perform the update on the database and the get the number of rows affected\n        int rowsUpdated = database.update(ProductContract.ProductEntry.TABLE_NAME,contentValues,selection\n                ,selectionArgs);\n\n        //If 1 or more rows were updated, then notify all the listeners that the data at the\n        //given URI has changed\n        if (rowsUpdated != 0){\n            getContext().getContentResolver().notifyChange(uri,null);\n        }\n        //Return the no. of rows updated\n        return rowsUpdated;\n    }\n\n    /*\n    *Delete the data at the given selection and selection arguments.\n     */\n    @Override\n    public int delete(@NonNull Uri uri,\n                      @Nullable String selection,\n                      @Nullable String[] selectionArgs) {\n        // Get writeable database\n        SQLiteDatabase database = mDbHelper.getWritableDatabase();\n\n        //Track the no. of rows  that were deleted\n        int rowsDeleted;\n\n        final int match = sUriMatcher.match(uri);\n        switch (match) {\n            case PRODUCTS:\n                // Delete all rows that match the selection and selection args\n              rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\n                break;\n            case PRODUCT_ID:\n                // Delete a single row given by the ID in the URI\n                selection = ProductContract.ProductEntry._ID + &quot;=?&quot;;\n                selectionArgs = new String[]{String.valueOf(ContentUris.parseId(uri))};\n                rowsDeleted = database.delete(ProductContract.ProductEntry.TABLE_NAME,selection,selectionArgs);\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Deletion is not supported for &quot; + uri);\n        }\n        //If 1 or more rows were  deleted, then notify all listeners that the data at the given\n        //given uri has changed\n        if (rowsDeleted != 0){\n            getContext().getContentResolver().notifyChange(uri,null);\n        }\n        return rowsDeleted;\n    }\n\n    /*\n   *Return the  MIME type of data for the content URI.\n    */\n    @Nullable\n    @Override\n    public String getType(@NonNull Uri uri) {\n        final int match = sUriMatcher.match(uri);\n        switch (match){\n            case PRODUCTS:\n                return ProductContract.ProductEntry.CONTENT_LIST_TYPE;\n            case PRODUCT_ID:\n                return ProductContract.ProductEntry.CONTENT_ITEM_TYPE;\n            default:\n                throw new IllegalStateException(&quot;UNKNOWN URI&quot; + uri + &quot; with match&quot; + match);\n        }\n    }\n\n }\n\n\n\n   \n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1653600732,"post_id":72398030,"comment_id":127897388,"body_markdown":"The [doc](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config) describes the supported locations for setting @Values.  So it depends what _reads data from a number of sources_ means.","body":"The <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config\" rel=\"nofollow noreferrer\">doc</a> describes the supported locations for setting @Values.  So it depends what <i>reads data from a number of sources</i> means."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1653600914,"post_id":72398030,"comment_id":127897441,"body_markdown":"May I ask, if you already have static accessors and a `@Bean` wrapper, why do you consider using `@Value`? Just for a cleaner look? I&#39;m curious.","body":"May I ask, if you already have static accessors and a <code>@Bean</code> wrapper, why do you consider using <code>@Value</code>? Just for a cleaner look? I&#39;m curious."},{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1653601222,"post_id":72398030,"comment_id":127897520,"body_markdown":"@JettoMart&#237;nez : yeah - it&#39;s just for a cleaner look and to make the code a little more easily understood by new developers coming from a Spring background.","body":"@JettoMart&#237;nez : yeah - it&#39;s just for a cleaner look and to make the code a little more easily understood by new developers coming from a Spring background."}],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653599369,"creation_date":1653599369,"question_id":72398030,"body_markdown":"When our application starts up, it reads data from a number of sources in to a god-like object that contains all the config items for the application. \r\n\r\nWhenever the application needs to access any of this config information, it makes a call to this object ( either via a static method call, or via a bean that we have created that just wraps the static object )\r\n\r\nIs it possible for me to wire this object up to the @Value/PropertySource annotations within Spring? Is it advisable?\r\n\r\nOur environment object is populated before the spring application context is started.","title":"Can I use Spring @Value to retrieve its value from a Bean","body":"<p>When our application starts up, it reads data from a number of sources in to a god-like object that contains all the config items for the application.</p>\n<p>Whenever the application needs to access any of this config information, it makes a call to this object ( either via a static method call, or via a bean that we have created that just wraps the static object )</p>\n<p>Is it possible for me to wire this object up to the @Value/PropertySource annotations within Spring? Is it advisable?</p>\n<p>Our environment object is populated before the spring application context is started.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1653581272,"post_id":72393709,"comment_id":127891240,"body_markdown":"Don’t call deprecated methods like `size()`.  They are deprecated for a reason.  You should obtain the width with `getWidth()` and the height with `getHeight()`, as John is doing.  If you’re not sure which methods are deprecated, enable all compiler warnings, and then the compiler will tell you.","body":"Don’t call deprecated methods like <code>size()</code>.  They are deprecated for a reason.  You should obtain the width with <code>getWidth()</code> and the height with <code>getHeight()</code>, as John is doing.  If you’re not sure which methods are deprecated, enable all compiler warnings, and then the compiler will tell you."},{"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"score":0,"creation_date":1653585100,"post_id":72393709,"comment_id":127892506,"body_markdown":"I&#39;m using two panels. One is a sidebar and the second is the one I posted here. When setting the background color, I could see 2 different panels.... Also does &quot;drawRect&quot; draw a rectangle not a line, so I think in theory its right.","body":"I&#39;m using two panels. One is a sidebar and the second is the one I posted here. When setting the background color, I could see 2 different panels.... Also does &quot;drawRect&quot; draw a rectangle not a line, so I think in theory its right."}],"answers":[{"tags":[],"owner":{"account_id":12624894,"reputation":165,"user_id":9178956,"display_name":"John Aronson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653581088,"creation_date":1653581088,"answer_id":72394779,"question_id":72393709,"body_markdown":"The reason your line isn&#39;t going to the corner must have something to do with the Window you are displaying your canvas in. I modified your code so it could render the line and this is what I came out with. The line does go all the way to the corner.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere&#39;s my version of your code.\r\n\r\n    import java.awt.*;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Canvas extends JPanel\r\n    {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic Canvas()\r\n    \t{\r\n    \t\tsetBackground(Color.blue);\r\n    \t\tsetForeground(Color.white);\r\n    \t\tsetBounds(270, 0, 1230, 1000);\r\n    \t\tsetLayout(null);\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tsuper.paintComponent(g);\r\n    \t\tGraphics2D g2 = (Graphics2D) g;\r\n    \r\n    //\t\tg2.drawRect(size().width / 2 - 100 / 2, size().height / 2 - 100 / 2, 100, 100);\r\n    \t\tg2.setStroke(new BasicStroke(3));\r\n    \t\tg2.drawLine(0, 0, size().width, size().height);\r\n    }\r\n\t\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tCanvas canvas = new Canvas();\r\n    \t\tframe.setLayout(new BorderLayout());\r\n    \t\tframe.add(canvas, BorderLayout.CENTER);\r\n    \t\tframe.setBounds(100, 100, 500, 500);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nYou can draw a rectangle around you canvas in paintComponent to prove this idea.\r\n\r\n   \t\tg2.drawRect(0, 0, getWidth()-1, getHeight()-1);\r\n\r\nA real simple way to help you figure out what is taking up the extra space is to add system outs or logging to the paintComponent\r\n\r\n    \t\tSystem.out.println(this);\r\n\r\nIn my example it shows me the visibleRect as I resize the canvas.\r\n\r\n    Canvas[,0,0,468x412,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\r\n    Canvas[,0,0,468x411,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\r\n    Canvas[,0,0,468x410,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\r\n    Canvas[,0,0,469x410,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\r\n    ...\r\n\r\n  [1]: https://i.stack.imgur.com/uhRBH.png\r\n\r\n","title":"Java Swing draws rectangle not as intended?","body":"<p>The reason your line isn't going to the corner must have something to do with the Window you are displaying your canvas in. I modified your code so it could render the line and this is what I came out with. The line does go all the way to the corner.</p>\n<p><a href=\"https://i.stack.imgur.com/uhRBH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uhRBH.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my version of your code.</p>\n<pre><code>import java.awt.*;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Canvas extends JPanel\n{\n    private static final long serialVersionUID = 1L;\n\n    public Canvas()\n    {\n        setBackground(Color.blue);\n        setForeground(Color.white);\n        setBounds(270, 0, 1230, 1000);\n        setLayout(null);\n    }\n\n\n    @Override\n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n\n//      g2.drawRect(size().width / 2 - 100 / 2, size().height / 2 - 100 / 2, 100, 100);\n        g2.setStroke(new BasicStroke(3));\n        g2.drawLine(0, 0, size().width, size().height);\n}\n\n    public static void main(String args[])\n    {\n        JFrame frame = new JFrame();\n        Canvas canvas = new Canvas();\n        frame.setLayout(new BorderLayout());\n        frame.add(canvas, BorderLayout.CENTER);\n        frame.setBounds(100, 100, 500, 500);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>You can draw a rectangle around you canvas in paintComponent to prove this idea.</p>\n<pre><code>    g2.drawRect(0, 0, getWidth()-1, getHeight()-1);\n</code></pre>\n<p>A real simple way to help you figure out what is taking up the extra space is to add system outs or logging to the paintComponent</p>\n<pre><code>        System.out.println(this);\n</code></pre>\n<p>In my example it shows me the visibleRect as I resize the canvas.</p>\n<pre><code>Canvas[,0,0,468x412,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\nCanvas[,0,0,468x411,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\nCanvas[,0,0,468x410,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\nCanvas[,0,0,469x410,alignmentX=0.0,alignmentY=0.0,border=,flags=11,maximumSize=,minimumSize=,preferredSize=]\n...\n</code></pre>\n"}],"owner":{"account_id":22798124,"reputation":1,"user_id":16951356,"display_name":"Jens Meier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653598817,"creation_date":1653576393,"question_id":72393709,"body_markdown":"I tried to place some rectangles in the center. But it&#39;s not drawing at the right position. My code:\r\n\r\n    import javax.swing.JPanel;\r\n\r\n    public class Canvas extends JPanel {\r\n    \t\r\n    \tPlayer player = new Player(this);\r\n    \t\r\n    \tpublic Canvas() {\r\n    \t\t//setBackground(Color.blue);\r\n    \t\tsetBounds(270, 0, 1230, 1000);\r\n    \t\tsetLayout(null);\r\n    \t}\r\n    \t\r\n    \tpublic void start() {\r\n    \t\tint FPS = 60;\r\n    \t\tdouble drawIinterval = 1000000000/FPS;\r\n    \t\tdouble delta = 0;\r\n    \t\tlong lastTime = System.nanoTime();\r\n    \t\tlong currentTime;\r\n    \t\tlong timer = 0;\r\n    \t\tint drawCount = 0;\r\n    \t\twhile(true) {\r\n    \t\t\t\r\n    \t\t\tcurrentTime = System.nanoTime();\r\n    \t\t\t\r\n    \t\t\tdelta += (currentTime -lastTime) / drawIinterval;\r\n    \t\t\ttimer += (currentTime -lastTime);\r\n    \t\t\tlastTime = currentTime;\r\n    \t\t\t\r\n    \t\t\tif(delta &gt;= 1) {\r\n    \t\t\t\tupdate();\r\n    \t\t\t\trepaint();\r\n    \t\t\t\tdelta--;\r\n    \t\t\t\tdrawCount++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(timer &gt;= 1000000000) {\r\n    \t\t\t\tSystem.out.println(&quot;FPS: &quot; + drawCount);\r\n    \t\t\t\tdrawCount = 0;\r\n    \t\t\t\ttimer = 0;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t  private void update() {\r\n    \t\t\r\n    \t\t  player.update();\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n          public void paintComponent(Graphics g) {\r\n    \t\t  super.paintComponent(g);\r\n    \t\t    Graphics2D g2 = (Graphics2D) g;\r\n    \t\t    \r\n    \t\t    player.draw(g2);\r\n    \t\t    \r\n    \t\t    g2.drawRect(size().width/2 - 100/2 ,size().height/2 - 100/2, 100, 100);\r\n          }\r\n    }\r\n\r\nI also tried to place it next to the right border\r\n\r\n    g2.drawRect(size().width - 100 ,size().height - 100, 100, 100);\r\n\r\nbut that placed it inside the border. Just placing it on the left or top side worked. Any explanation for that?\r\n\r\nEdit:\r\nWhen trying to draw a line through the whole panel\r\n\r\n    g2.drawLine(0, 0, size().width, size().height);\r\n\r\nit doesn&#39;t reach the bottom corner and just enters about 20 pixels before the bottom.\r\n\r\nMain class:\r\n\r\n    class Main extends JFrame{\r\n   \r\n    public static void main(String[] args) {\r\n        \r\n  \r\n    \t\r\n    \t\r\n    \tCanvas canvas = new Canvas();\r\n    \t\r\n    \tJFrame frame = new JFrame();\r\n    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tframe.setLayout(null);\r\n    \tframe.setSize(1500, 1000);\r\n    \tframe.setLocationRelativeTo(null);\r\n    \tframe.add(canvas);\r\n    \tframe.setVisible(true);\r\n    \t\r\n    \tcanvas.start();\r\n    }\r\n}\r\n\r\n","title":"Java Swing draws rectangle not as intended?","body":"<p>I tried to place some rectangles in the center. But it's not drawing at the right position. My code:</p>\n<pre><code>import javax.swing.JPanel;\n\npublic class Canvas extends JPanel {\n    \n    Player player = new Player(this);\n    \n    public Canvas() {\n        //setBackground(Color.blue);\n        setBounds(270, 0, 1230, 1000);\n        setLayout(null);\n    }\n    \n    public void start() {\n        int FPS = 60;\n        double drawIinterval = 1000000000/FPS;\n        double delta = 0;\n        long lastTime = System.nanoTime();\n        long currentTime;\n        long timer = 0;\n        int drawCount = 0;\n        while(true) {\n            \n            currentTime = System.nanoTime();\n            \n            delta += (currentTime -lastTime) / drawIinterval;\n            timer += (currentTime -lastTime);\n            lastTime = currentTime;\n            \n            if(delta &gt;= 1) {\n                update();\n                repaint();\n                delta--;\n                drawCount++;\n            }\n            \n            if(timer &gt;= 1000000000) {\n                System.out.println(&quot;FPS: &quot; + drawCount);\n                drawCount = 0;\n                timer = 0;\n            }\n            \n        }\n    }\n    \n      private void update() {\n        \n          player.update();\n        \n    }\n\n    @Override\n      public void paintComponent(Graphics g) {\n          super.paintComponent(g);\n            Graphics2D g2 = (Graphics2D) g;\n            \n            player.draw(g2);\n            \n            g2.drawRect(size().width/2 - 100/2 ,size().height/2 - 100/2, 100, 100);\n      }\n}\n</code></pre>\n<p>I also tried to place it next to the right border</p>\n<pre><code>g2.drawRect(size().width - 100 ,size().height - 100, 100, 100);\n</code></pre>\n<p>but that placed it inside the border. Just placing it on the left or top side worked. Any explanation for that?</p>\n<p>Edit:\nWhen trying to draw a line through the whole panel</p>\n<pre><code>g2.drawLine(0, 0, size().width, size().height);\n</code></pre>\n<p>it doesn't reach the bottom corner and just enters about 20 pixels before the bottom.</p>\n<p>Main class:</p>\n<pre><code>class Main extends JFrame{\n\npublic static void main(String[] args) {\n    \n\n    \n    \n    Canvas canvas = new Canvas();\n    \n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLayout(null);\n    frame.setSize(1500, 1000);\n    frame.setLocationRelativeTo(null);\n    frame.add(canvas);\n    frame.setVisible(true);\n    \n    canvas.start();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","debugging","visual-studio-code","intellij-idea","watch"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1653588366,"post_id":72396180,"comment_id":127893571,"body_markdown":"Does this help? https://www.jetbrains.com/idea/guide/tips/debugging-streams/","body":"Does this help? <a href=\"https://www.jetbrains.com/idea/guide/tips/debugging-streams/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/guide/tips/debugging-streams</a>"},{"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"score":0,"creation_date":1653589154,"post_id":72396180,"comment_id":127893848,"body_markdown":"Hi @blurfus, Thanks for replying. But, I need to watch iterator objects.","body":"Hi @blurfus, Thanks for replying. But, I need to watch iterator objects."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1653589472,"post_id":72396180,"comment_id":127893950,"body_markdown":"You&#39;re using the wrong interface, `Iterable&lt;Integer&gt;` should be `Iterator&lt;Integer&gt;`. You can also call `pq.spliterator()` directly.","body":"You&#39;re using the wrong interface, <code>Iterable&lt;Integer&gt;</code> should be <code>Iterator&lt;Integer&gt;</code>. You can also call <code>pq.spliterator()</code> directly."},{"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"score":0,"creation_date":1653589768,"post_id":72396180,"comment_id":127894053,"body_markdown":"Hi @Kayaman, Thanks for commenting. But I tried both Iterable and Iterator, but still it is showing errors. Please add some code example if possible.","body":"Hi @Kayaman, Thanks for commenting. But I tried both Iterable and Iterator, but still it is showing errors. Please add some code example if possible."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1653633946,"post_id":72396180,"comment_id":127902567,"body_markdown":"What you mean probably (I&#39;m guessing) is an STL iterator, such as list&lt;int&gt;::iterator...\n\nIf you look in the definition of vector&lt;&gt;::iterator you&#39;ll see:\n\n`template&lt;class _Ty, class _A = allocator&lt;_Ty&gt; &gt; class vector {\ntypedef _Tptr iterator;`\n\nSo this means that a vector iterator is just a pointer to _Ty, so if you define vector&lt;T&gt;::iterator iter, you can freely cast iter to (T*), just add (T*)iter to the watch window.\n\nlist&lt;&gt; however is a bit different, it&#39;s iterator is just a pointer to a node in the list. To see it, just add iter._Ptr to the watch window. \n\nHope this helps.","body":"What you mean probably (I&#39;m guessing) is an STL iterator, such as list&lt;int&gt;::iterator...  If you look in the definition of vector&lt;&gt;::iterator you&#39;ll see:  <code>template&lt;class _Ty, class _A = allocator&lt;_Ty&gt; &gt; class vector { typedef _Tptr iterator;</code>  So this means that a vector iterator is just a pointer to _Ty, so if you define vector&lt;T&gt;::iterator iter, you can freely cast iter to (T*), just add (T*)iter to the watch window.  list&lt;&gt; however is a bit different, it&#39;s iterator is just a pointer to a node in the list. To see it, just add iter._Ptr to the watch window.   Hope this helps."},{"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"score":0,"creation_date":1653646174,"post_id":72396180,"comment_id":127906432,"body_markdown":"Hi @JialeDu, I am trying to print itr, (Iterator&lt;Integer&gt; itr = priorityQueueObject.iterator();) which is iterator object of a priority queue in Java.","body":"Hi @JialeDu, I am trying to print itr, (Iterator&lt;Integer&gt; itr = priorityQueueObject.iterator();) which is iterator object of a priority queue in Java."}],"owner":{"account_id":17824321,"reputation":618,"user_id":12945919,"display_name":"Mayank Kumar Thakur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653598755,"creation_date":1653588214,"question_id":72396180,"body_markdown":"Sometimes I need to observe changes in PriorityQueue or HashSet during debugging the code. I can watch arrays in ***watch*** field of Intellij/VsCode debugger by adding line `Arrays.toString(arr)`. But I can&#39;t add collections which uses iterator to print their values.\r\n1. I tried to call the method which prints iterator objects but it failed to call the method.\r\n2. I used steam api as shown below:\r\n```java\r\nIterable&lt;Integer&gt; iterable =  pq.iterator();//pq is a priorityqueue\r\n        List&lt;Integer&gt; array = StreamSupport\r\n                .stream(iterable.spliterator(), false)\r\n                .collect(Collectors.toList());\r\n        Iterator&lt;Integer&gt; itr = pq.iterator();\r\n```\r\nBut it shows error\r\n\r\n&gt;  Type mismatch: cannot convert from Iterator\\&lt;Integer\\&gt; to Iterable\\&lt;Integer\\&gt;Java(16777233)\r\n\r\nHow can I see my iterator objects in watch field during debugging? Or suggest an extension if there is any.\r\n","title":"Print Java collections object from its iterator in watch area of debugger of VSCODE or Intellij","body":"<p>Sometimes I need to observe changes in PriorityQueue or HashSet during debugging the code. I can watch arrays in <em><strong>watch</strong></em> field of Intellij/VsCode debugger by adding line <code>Arrays.toString(arr)</code>. But I can't add collections which uses iterator to print their values.</p>\n<ol>\n<li>I tried to call the method which prints iterator objects but it failed to call the method.</li>\n<li>I used steam api as shown below:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Iterable&lt;Integer&gt; iterable =  pq.iterator();//pq is a priorityqueue\n        List&lt;Integer&gt; array = StreamSupport\n                .stream(iterable.spliterator(), false)\n                .collect(Collectors.toList());\n        Iterator&lt;Integer&gt; itr = pq.iterator();\n</code></pre>\n<p>But it shows error</p>\n<blockquote>\n<p>Type mismatch: cannot convert from Iterator&lt;Integer&gt; to Iterable&lt;Integer&gt;Java(16777233)</p>\n</blockquote>\n<p>How can I see my iterator objects in watch field during debugging? Or suggest an extension if there is any.</p>\n"},{"tags":["java","xpath","selenium-chromedriver"],"comments":[{"owner":{"account_id":25315064,"reputation":366,"user_id":19137302,"display_name":"Ruben"},"score":0,"creation_date":1653594870,"post_id":72396958,"comment_id":127895668,"body_markdown":"Can you provide the html you&#39;re trying this on?","body":"Can you provide the html you&#39;re trying this on?"},{"owner":{"account_id":25029721,"reputation":1,"user_id":18887598,"display_name":"newlearner"},"score":0,"creation_date":1653682879,"post_id":72396958,"comment_id":127918879,"body_markdown":"I had already provided the HTML in my query..","body":"I had already provided the HTML in my query.."}],"answers":[{"tags":[],"owner":{"account_id":25315064,"reputation":366,"user_id":19137302,"display_name":"Ruben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653595307,"creation_date":1653594854,"answer_id":72397357,"question_id":72396958,"body_markdown":"&#39;NoSuchElementException: no such element: Unable to locate element:&#39; means the element is not found. If it would result in 3 weblocators, it would click the first element it could find. \r\n\r\nIt may be because of parsing errors. Try using only a part of the href like this:\r\n```\r\n//*[contains(@href,&#39;procWirelineSubscribe&#39;)]\r\n```","title":"How can I find out the XPath if getting the 3 same Weblocators","body":"<p>'NoSuchElementException: no such element: Unable to locate element:' means the element is not found. If it would result in 3 weblocators, it would click the first element it could find.</p>\n<p>It may be because of parsing errors. Try using only a part of the href like this:</p>\n<pre><code>//*[contains(@href,'procWirelineSubscribe')]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1351195,"reputation":28599,"user_id":1305969,"display_name":"zx485"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653598450,"creation_date":1653598450,"answer_id":72397912,"question_id":72396958,"body_markdown":"To reduce your three matches to one, try adding a `[1]` to the end of your expression. This error may occur because the result is a list instead of an item.\r\n\r\n    //*[contains(@href,&#39;javascript:procWirelineSubscribe()&#39;)][1]\r\n\r\nThen only one of the three (seemingly identical) elements will be selected. \r\n","title":"How can I find out the XPath if getting the 3 same Weblocators","body":"<p>To reduce your three matches to one, try adding a <code>[1]</code> to the end of your expression. This error may occur because the result is a list instead of an item.</p>\n<pre><code>//*[contains(@href,'javascript:procWirelineSubscribe()')][1]\n</code></pre>\n<p>Then only one of the three (seemingly identical) elements will be selected.</p>\n"}],"owner":{"account_id":25029721,"reputation":1,"user_id":18887598,"display_name":"newlearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653598450,"creation_date":1653592800,"question_id":72396958,"body_markdown":"WebElements in HTML:\r\n\r\n    &lt;a href=&quot;javascript:procWirelineSubscribe()&quot; class=&quot;frg-button color-green&quot;&gt;Order&lt;/a&gt;\r\n    &lt;a href=&quot;javascript:procWirelineSubscribe()&quot; class=&quot;frg-button color-green&quot;&gt;Order&lt;/a&gt;\r\n    &lt;a href=&quot;javascript:procWirelineSubscribe()&quot; class=&quot;frg-button color-green&quot;&gt;Order&lt;/a&gt;\r\n\r\nXpath I&#39;m using:\r\n\r\n    //*[contains(@href,&#39;javascript:procWirelineSubscribe()&#39;)]\r\n\r\nHowever, it will always result up in ending 3 weblocators and because of this my script getting failed with \r\n\r\n&gt; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:\r\n\r\nCan someone help here me please?\r\n","title":"How can I find out the XPath if getting the 3 same Weblocators","body":"<p>WebElements in HTML:</p>\n<pre><code>&lt;a href=&quot;javascript:procWirelineSubscribe()&quot; class=&quot;frg-button color-green&quot;&gt;Order&lt;/a&gt;\n&lt;a href=&quot;javascript:procWirelineSubscribe()&quot; class=&quot;frg-button color-green&quot;&gt;Order&lt;/a&gt;\n&lt;a href=&quot;javascript:procWirelineSubscribe()&quot; class=&quot;frg-button color-green&quot;&gt;Order&lt;/a&gt;\n</code></pre>\n<p>Xpath I'm using:</p>\n<pre><code>//*[contains(@href,'javascript:procWirelineSubscribe()')]\n</code></pre>\n<p>However, it will always result up in ending 3 weblocators and because of this my script getting failed with</p>\n<blockquote>\n<p>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element:</p>\n</blockquote>\n<p>Can someone help here me please?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8680,"page":1312,"page_size":100}
