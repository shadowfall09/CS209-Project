{"items":[{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":13015353,"reputation":129,"user_id":9406829,"display_name":"prabhatsdp"},"score":0,"creation_date":1664844309,"post_id":73927355,"comment_id":130559006,"body_markdown":"Can you share the screenshot of Postman authentication tab?","body":"Can you share the screenshot of Postman authentication tab?"}],"owner":{"account_id":25783281,"reputation":31,"user_id":19528580,"display_name":"Tanvi Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664793007,"creation_date":1664726914,"question_id":73927355,"body_markdown":"I am trying to post JSON data in the server using retrofit2 but I am getting 403 status code, [ see my postman window][1],\r\n\r\ni tried passing all headers that is added by postman but still it gives 403 status code, and it is running  successfully in postman but not running in android retrofit\r\n\r\nHear\r\n\r\n  [1]: https://i.stack.imgur.com/R9Dvj.png\r\n\r\n\r\n\r\n\r\nmy retrofit codes are :-\r\n\r\n    public interface ApiInterface {\r\n\r\n\r\n    String BASE_URL = &quot;https:example.com&quot;;\r\n\r\n     @Headers({&quot;Content-Type: application/json&quot;,\r\n            &quot;User-Agent: PostmanRuntime/7.29.2&quot;,\r\n            &quot;Accept: */*&quot;,\r\n            &quot;Cache-Control: no-cache&quot;,\r\n            &quot;Postman-Token: 9151e8a4-7665 - 416d - b2f5 - a84f0736a7ba&quot;,\r\n            &quot;Host: xyz.com&quot;,\r\n            &quot;Accept-Encoding:gzip, deflate, br&quot;,\r\n            &quot;Content-Length: 76&quot; })\r\n  \r\n\r\n    @POST(&quot;add_aadharinfo&quot;)\r\n    Call&lt;DataClass&gt; posImages(@Body JSONObject data);\r\n    }\r\n\r\nMy MainActivity retrofit codes:-\r\n\r\n     private void ImageInfo() throws JSONException {\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(ApiInterface.BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        ApiInterface apiInterface = retrofit.create(ApiInterface.class);\r\n\r\n       \r\n\r\n\r\n\r\n\r\n        JSONObject dataInfo = new JSONObject();\r\n        dataInfo.put(&quot;phone&quot;,contact);\r\n        dataInfo.put(&quot;profile_image&quot;,encoded);\r\n        dataInfo.put(&quot;aadhar_image&quot;,encoded22);\r\n        Call&lt;DataClass&gt; usercall = apiInterface.posImages(dataInfo);\r\n\r\n       \r\n\r\n       usercall.enqueue(new Callback&lt;DataClass&gt;() {\r\n           @Override\r\n           public void onResponse(Call&lt;DataClass&gt; call, retrofit2.Response&lt;DataClass&gt; response) {\r\n               if (response.isSuccessful())\r\n               {\r\n                   Toast.makeText(SignUpActivity.this,response.body().getMessage(),Toast.LENGTH_LONG).show();\r\n\r\n               }\r\n               Log.d(&quot;response&quot;, &quot;onResponse: &quot;+response.code());\r\n           }\r\n\r\n           @Override\r\n           public void onFailure(Call&lt;DataClass&gt; call, Throwable t) {\r\n               Toast.makeText(SignUpActivity.this,&quot;fail&quot;+t.getLocalizedMessage(),Toast.LENGTH_LONG).show();\r\n           }\r\n       });\r\n\r\n    }\r\n\r\n\r\nMy dataClass:-\r\n\r\n    public class DataClass {\r\n    private String message;\r\n    private String data;\r\n\r\n\r\n    public DataClass(String message, String data) {\r\n        this.message = message;\r\n        this.data = data;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public String getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(String data) {\r\n        this.data = data;\r\n    }\r\n    }","title":"Getting 403 status code in retrofit2 in POST request","body":"<p>I am trying to post JSON data in the server using retrofit2 but I am getting 403 status code, <a href=\"https://i.stack.imgur.com/R9Dvj.png\" rel=\"nofollow noreferrer\"> see my postman window</a>,</p>\n<p>i tried passing all headers that is added by postman but still it gives 403 status code, and it is running  successfully in postman but not running in android retrofit</p>\n<p>Hear</p>\n<p>my retrofit codes are :-</p>\n<pre><code>public interface ApiInterface {\n\n\nString BASE_URL = &quot;https:example.com&quot;;\n\n @Headers({&quot;Content-Type: application/json&quot;,\n        &quot;User-Agent: PostmanRuntime/7.29.2&quot;,\n        &quot;Accept: */*&quot;,\n        &quot;Cache-Control: no-cache&quot;,\n        &quot;Postman-Token: 9151e8a4-7665 - 416d - b2f5 - a84f0736a7ba&quot;,\n        &quot;Host: xyz.com&quot;,\n        &quot;Accept-Encoding:gzip, deflate, br&quot;,\n        &quot;Content-Length: 76&quot; })\n\n\n@POST(&quot;add_aadharinfo&quot;)\nCall&lt;DataClass&gt; posImages(@Body JSONObject data);\n}\n</code></pre>\n<p>My MainActivity retrofit codes:-</p>\n<pre><code> private void ImageInfo() throws JSONException {\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(ApiInterface.BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n\n    ApiInterface apiInterface = retrofit.create(ApiInterface.class);\n\n   \n\n\n\n\n    JSONObject dataInfo = new JSONObject();\n    dataInfo.put(&quot;phone&quot;,contact);\n    dataInfo.put(&quot;profile_image&quot;,encoded);\n    dataInfo.put(&quot;aadhar_image&quot;,encoded22);\n    Call&lt;DataClass&gt; usercall = apiInterface.posImages(dataInfo);\n\n   \n\n   usercall.enqueue(new Callback&lt;DataClass&gt;() {\n       @Override\n       public void onResponse(Call&lt;DataClass&gt; call, retrofit2.Response&lt;DataClass&gt; response) {\n           if (response.isSuccessful())\n           {\n               Toast.makeText(SignUpActivity.this,response.body().getMessage(),Toast.LENGTH_LONG).show();\n\n           }\n           Log.d(&quot;response&quot;, &quot;onResponse: &quot;+response.code());\n       }\n\n       @Override\n       public void onFailure(Call&lt;DataClass&gt; call, Throwable t) {\n           Toast.makeText(SignUpActivity.this,&quot;fail&quot;+t.getLocalizedMessage(),Toast.LENGTH_LONG).show();\n       }\n   });\n\n}\n</code></pre>\n<p>My dataClass:-</p>\n<pre><code>public class DataClass {\nprivate String message;\nprivate String data;\n\n\npublic DataClass(String message, String data) {\n    this.message = message;\n    this.data = data;\n}\n\npublic String getMessage() {\n    return message;\n}\n\npublic void setMessage(String message) {\n    this.message = message;\n}\n\npublic String getData() {\n    return data;\n}\n\npublic void setData(String data) {\n    this.data = data;\n}\n}\n</code></pre>\n"},{"tags":["java","markdown"],"answers":[{"tags":[],"owner":{"account_id":9422098,"reputation":648,"user_id":7008220,"display_name":"Frederik Heremans"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1486724879,"creation_date":1486668467,"answer_id":42145240,"question_id":42144967,"body_markdown":"**Edit**\r\n\r\n[Commonmark](https://github.com/atlassian/commonmark-java) supports rendering to text, by using `org.commonmark.renderer.text.TextContentRenderer` instead of the default HTML renderer. Not sure what it does with newlines, but worth a try.\r\n\r\n**Original answer, using flexmark HTML + JSoup**\r\n\r\n----\r\n\r\nThe ideal solution would be to implement a custom Renderer for flexmark, but this would force you to write a model-to-string for all language features in markdown. Unless it supports this out of the box, but I&#39;m not aware of this feature...\r\n\r\nA simpler solution may be to use flexmark (or any other lightweight markdown renderer) and let it create the HTML. After that, just run the generated HTML through [https://jsoup.org/](https://jsoup.org/) and let it extract the text:\r\n\r\n    Jsoup.parse(htmlInputStream).text();\r\n\r\n&gt; String org.jsoup.nodes.Element.text()\r\n&gt; Gets the combined text of this element and all its children. Whitespace is normalized and trimmed.\r\n\r\n&gt;For example, given HTML `&lt;p&gt;Hello &lt;b&gt;there&lt;/b&gt; now! &lt;/p&gt;`, p.text() returns `Hello there now!`\r\n\r\n\r\n\r\nWe use this approach to get a &quot;preview&quot; of the text entered in a rich content editor (summernote), after being sanitized with `org.owasp.html.HtmlSanitizer`.","title":"Use flexmark-java to clean markdown","body":"<p><strong>Edit</strong></p>\n\n<p><a href=\"https://github.com/atlassian/commonmark-java\" rel=\"nofollow noreferrer\">Commonmark</a> supports rendering to text, by using <code>org.commonmark.renderer.text.TextContentRenderer</code> instead of the default HTML renderer. Not sure what it does with newlines, but worth a try.</p>\n\n<p><strong>Original answer, using flexmark HTML + JSoup</strong></p>\n\n<hr>\n\n<p>The ideal solution would be to implement a custom Renderer for flexmark, but this would force you to write a model-to-string for all language features in markdown. Unless it supports this out of the box, but I'm not aware of this feature...</p>\n\n<p>A simpler solution may be to use flexmark (or any other lightweight markdown renderer) and let it create the HTML. After that, just run the generated HTML through <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">https://jsoup.org/</a> and let it extract the text:</p>\n\n<pre><code>Jsoup.parse(htmlInputStream).text();\n</code></pre>\n\n<blockquote>\n  <p>String org.jsoup.nodes.Element.text()\n  Gets the combined text of this element and all its children. Whitespace is normalized and trimmed.</p>\n  \n  <p>For example, given HTML <code>&lt;p&gt;Hello &lt;b&gt;there&lt;/b&gt; now! &lt;/p&gt;</code>, p.text() returns <code>Hello there now!</code></p>\n</blockquote>\n\n<p>We use this approach to get a \"preview\" of the text entered in a rich content editor (summernote), after being sanitized with <code>org.owasp.html.HtmlSanitizer</code>.</p>\n"},{"tags":[],"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664792540,"creation_date":1664792540,"answer_id":73934064,"question_id":42144967,"body_markdown":"flexmark also have mark down to text feature.\r\n[checkout this][1]\r\n\r\n\r\n  [1]: https://github.com/vsch/flexmark-java/blob/master/flexmark-java-samples/src/com/vladsch/flexmark/java/samples/MarkdownToText.java","title":"Use flexmark-java to clean markdown","body":"<p>flexmark also have mark down to text feature.\n<a href=\"https://github.com/vsch/flexmark-java/blob/master/flexmark-java-samples/src/com/vladsch/flexmark/java/samples/MarkdownToText.java\" rel=\"nofollow noreferrer\">checkout this</a></p>\n"}],"owner":{"account_id":2198623,"reputation":2127,"user_id":1943661,"accept_rate":69,"display_name":"Jose Ospina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2450,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42145240,"answer_count":2,"score":3,"last_activity_date":1664792540,"creation_date":1486667445,"question_id":42144967,"body_markdown":"Within a Java application, I would need to convert marked-down text into simple plain text instead of html (for example dropping all links addresses, bold and italic markers). \r\n\r\nWhich is the best way to do this? I was thinking using a markdown library like [fleaxmark][1]. But I cant find this feature at first sight. Is it there? Are there other better alternatives?\r\n\r\n  [1]: https://github.com/vsch/flexmark-java","title":"Use flexmark-java to clean markdown","body":"<p>Within a Java application, I would need to convert marked-down text into simple plain text instead of html (for example dropping all links addresses, bold and italic markers). </p>\n\n<p>Which is the best way to do this? I was thinking using a markdown library like <a href=\"https://github.com/vsch/flexmark-java\" rel=\"nofollow noreferrer\">fleaxmark</a>. But I cant find this feature at first sight. Is it there? Are there other better alternatives?</p>\n"},{"tags":["java","hibernate","jpa","querydsl"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1664556939,"post_id":73894634,"comment_id":130506788,"body_markdown":"Look into the documentation of the QueryDSL Maven plugin, maybe you have configured explicit packages? http://querydsl.com/static/querydsl/3.1.2.BUILD/reference/html/ch03s03.html","body":"Look into the documentation of the QueryDSL Maven plugin, maybe you have configured explicit packages? <a href=\"http://querydsl.com/static/querydsl/3.1.2.BUILD/reference/html/ch03s03.html\" rel=\"nofollow noreferrer\">querydsl.com/static/querydsl/3.1.2.BUILD/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664451613,"creation_date":1664451613,"answer_id":73894916,"question_id":73894634,"body_markdown":"Inheritance in JPA is not automatic. Means you have to declare the inheritance using @MappedSuperclass\r\n\r\n    @MappedSuperclass\r\n    public class Auditor {\r\n    \r\n        @LastModifiedBy\r\n        protected String modifiedBy;\r\n        @LastModifiedDate\r\n        private Date modifiedDate;\r\n    \r\n    }","title":"Not generating Q classes for parent in query sql","body":"<p>Inheritance in JPA is not automatic. Means you have to declare the inheritance using @MappedSuperclass</p>\n<pre><code>@MappedSuperclass\npublic class Auditor {\n\n    @LastModifiedBy\n    protected String modifiedBy;\n    @LastModifiedDate\n    private Date modifiedDate;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20775763,"reputation":57,"user_id":15257289,"display_name":"Vipul Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664792059,"creation_date":1664792059,"answer_id":73933973,"question_id":73894634,"body_markdown":"I have resolved this issue by explicitly disabling generation of parent class Qclasses by using `@QueryExclude`\r\n\r\nhttp://querydsl.com/static/querydsl/3.5.0/apidocs/com/mysema/query/annotations/QueryExclude.html\r\n\r\nThanks @Simon for pointing out the issue.","title":"Not generating Q classes for parent in query sql","body":"<p>I have resolved this issue by explicitly disabling generation of parent class Qclasses by using <code>@QueryExclude</code></p>\n<p><a href=\"http://querydsl.com/static/querydsl/3.5.0/apidocs/com/mysema/query/annotations/QueryExclude.html\" rel=\"nofollow noreferrer\">http://querydsl.com/static/querydsl/3.5.0/apidocs/com/mysema/query/annotations/QueryExclude.html</a></p>\n<p>Thanks @Simon for pointing out the issue.</p>\n"}],"owner":{"account_id":20775763,"reputation":57,"user_id":15257289,"display_name":"Vipul Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664792059,"creation_date":1664450244,"question_id":73894634,"body_markdown":"I have an entity as shown below:\r\n\r\n    @Table(name = &quot;applicableTax&quot;)\r\n    @Entity\r\n    public class ApplicableTax extends Auditor {\r\n    \r\n    @Id\r\n    private Integer id;\r\n    \r\n    }\r\n\r\nAuditor is in a different package with content.\r\n\r\n```\r\npublic class Auditor {\r\n\r\n    @LastModifiedBy\r\n    protected String modifiedBy;\r\n    @LastModifiedDate\r\n    private Date modifiedDate;\r\n\r\n}\r\n```\r\n\r\nNow above code is generating QClasses for ApplicableTax.java but it is not generating QClasses for Auditor. Maven build is getting failed in QApplicableTax.java with **cannot not find symbol** QAuditor. \r\n","title":"Not generating Q classes for parent in query sql","body":"<p>I have an entity as shown below:</p>\n<pre><code>@Table(name = &quot;applicableTax&quot;)\n@Entity\npublic class ApplicableTax extends Auditor {\n\n@Id\nprivate Integer id;\n\n}\n</code></pre>\n<p>Auditor is in a different package with content.</p>\n<pre><code>public class Auditor {\n\n    @LastModifiedBy\n    protected String modifiedBy;\n    @LastModifiedDate\n    private Date modifiedDate;\n\n}\n</code></pre>\n<p>Now above code is generating QClasses for ApplicableTax.java but it is not generating QClasses for Auditor. Maven build is getting failed in QApplicableTax.java with <strong>cannot not find symbol</strong> QAuditor.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":2,"creation_date":1663761420,"post_id":73800271,"comment_id":130314484,"body_markdown":"It is just an issue of bindViewHolder because recyclerview loads items as required one by one as you start scrolling and this issue has already been fixed so please check stackoverflow properly.","body":"It is just an issue of bindViewHolder because recyclerview loads items as required one by one as you start scrolling and this issue has already been fixed so please check stackoverflow properly."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":2,"creation_date":1663763044,"post_id":73800271,"comment_id":130315062,"body_markdown":"You are setting the text for every item. You should also set the state of the checkbox. The item views get recycled ;-) so if you dont set text or checkbox state they keep old text and state.","body":"You are setting the text for every item. You should also set the state of the checkbox. The item views get recycled ;-) so if you dont set text or checkbox state they keep old text and state."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1664791805,"post_id":73800271,"comment_id":130544758,"body_markdown":"This problems been solved","body":"This problems been solved"},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1664791838,"post_id":73800271,"comment_id":130544770,"body_markdown":"Solution of this problem is to add this code override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return position\n    }","body":"Solution of this problem is to add this code override fun getItemId(position: Int): Long {         return position.toLong()     }      override fun getItemViewType(position: Int): Int {         return position     }"}],"answers":[{"tags":[],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664791896,"creation_date":1664791896,"answer_id":73933933,"question_id":73800271,"body_markdown":"I found the solution of this problem \r\n\r\nIt simply need these function to implement\r\n\r\n    override fun getItemId(position: Int): Long {\r\n        return position.toLong()\r\n    }\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return position\r\n    }\r\n\r\n\r\n","title":"CheckBox RecyclerView auto checked issue. Detailed below","body":"<p>I found the solution of this problem</p>\n<p>It simply need these function to implement</p>\n<pre><code>override fun getItemId(position: Int): Long {\n    return position.toLong()\n}\n\noverride fun getItemViewType(position: Int): Int {\n    return position\n}\n</code></pre>\n"}],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73933933,"answer_count":1,"score":0,"last_activity_date":1664791896,"creation_date":1663761252,"question_id":73800271,"body_markdown":"When I check a box and in recycler view auto-checked after 11- 12 item.  I didn&#39;t even clicked that checkbox here is the code.\r\nI think this issue is in holder with the position so I&#39;m only providing holder code because it&#39;s confidential.\r\n\r\nAdapter holder code:\r\n\r\n    inner class ProductListViewHolder(val itemBinding: SelectProductLayoutBinding) :\r\n        RecyclerView.ViewHolder(itemBinding.root) {\r\n        fun bindItems(data: ManufacturingProductItem, position: Int) {\r\n            if (data.name != null)\r\n                itemBinding.userNameTv.text = data.name\r\n            else\r\n                itemBinding.userNameTv.text = &quot;&quot;\r\n            itemBinding.userNameTv.setOnClickListener {\r\n                listener.onProductClickListener(\r\n                    data,\r\n                    itemBinding.userNameTv.isChecked\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\nin belove code about pagination of recycler view kindly understand please\r\n\r\n    binding.productRv.addOnScrollListener(object : RecyclerView.OnScrollListener() {\r\n            override fun onScrollStateChanged(recyclerView: RecyclerView, newState: Int) {\r\n                super.onScrollStateChanged(recyclerView, newState)\r\n                if (newState != RecyclerView.SCROLL_STATE_IDLE) {\r\n                    return\r\n                }\r\n                if (!recyclerView.canScrollVertically(1)) {\r\n                    if (productAdapter.getProductResponseList.size &gt; 2) {\r\n                        count++\r\n                        productPresenter.getProducts(&quot;&quot;, count.toString(), true)\r\n                    }\r\n                }\r\n            }\r\n        })","title":"CheckBox RecyclerView auto checked issue. Detailed below","body":"<p>When I check a box and in recycler view auto-checked after 11- 12 item.  I didn't even clicked that checkbox here is the code.\nI think this issue is in holder with the position so I'm only providing holder code because it's confidential.</p>\n<p>Adapter holder code:</p>\n<pre><code>inner class ProductListViewHolder(val itemBinding: SelectProductLayoutBinding) :\n    RecyclerView.ViewHolder(itemBinding.root) {\n    fun bindItems(data: ManufacturingProductItem, position: Int) {\n        if (data.name != null)\n            itemBinding.userNameTv.text = data.name\n        else\n            itemBinding.userNameTv.text = &quot;&quot;\n        itemBinding.userNameTv.setOnClickListener {\n            listener.onProductClickListener(\n                data,\n                itemBinding.userNameTv.isChecked\n            )\n        }\n    }\n}\n</code></pre>\n<p>in belove code about pagination of recycler view kindly understand please</p>\n<pre><code>binding.productRv.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n        override fun onScrollStateChanged(recyclerView: RecyclerView, newState: Int) {\n            super.onScrollStateChanged(recyclerView, newState)\n            if (newState != RecyclerView.SCROLL_STATE_IDLE) {\n                return\n            }\n            if (!recyclerView.canScrollVertically(1)) {\n                if (productAdapter.getProductResponseList.size &gt; 2) {\n                    count++\n                    productPresenter.getProducts(&quot;&quot;, count.toString(), true)\n                }\n            }\n        }\n    })\n</code></pre>\n"},{"tags":["java","testing","mockito","void","argumentcaptor"],"answers":[{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664791659,"creation_date":1664791659,"answer_id":73933897,"question_id":73933672,"body_markdown":"You should first verify this argument.. like this\r\n```\r\n        List&lt;Error&gt; listMock = mock(List.class);\r\n        authValidationHelper.isAuthExpired(mock(PaymentMethod.class), listMock);\r\n\r\n        ArgumentCaptor&lt;Error&gt; captor = ArgumentCaptor.forClass(Error.class);\r\n        verify(listMock).add(captor.capture());\r\n        final List&lt;Error&gt; params = captor.getAllValues();\r\n\r\n```","title":"Mockito to test change in variables inside void methods","body":"<p>You should first verify this argument.. like this</p>\n<pre><code>        List&lt;Error&gt; listMock = mock(List.class);\n        authValidationHelper.isAuthExpired(mock(PaymentMethod.class), listMock);\n\n        ArgumentCaptor&lt;Error&gt; captor = ArgumentCaptor.forClass(Error.class);\n        verify(listMock).add(captor.capture());\n        final List&lt;Error&gt; params = captor.getAllValues();\n\n</code></pre>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73933897,"answer_count":1,"score":-1,"last_activity_date":1664791750,"creation_date":1664790294,"question_id":73933672,"body_markdown":"I am trying to test change in arguments supplied to void method using ArgumentCaptor. But I am not able to achieve that . Can somebody please help me find out what exactly I am doing wrong. Using debug I know that list size is increased. \r\n\r\n    @InjectMocks private AuthValidationHelper authValidationHelper;\r\n\r\n    @Test\r\n\tpublic void isAuthExpired(PaymentMethod paymentMethod, List&lt;Error&gt; errorList) {\r\n\t\tPaymentDetails paymentDetails = paymentMethod.getPaymentDetails();\r\n\t\tDate authExpirationTime = paymentDetails.getAuthorizationExpirationDate();\r\n\t\tboolean isAuthExpired = new Date().after(authExpirationTime);\r\n\t\tlog.info(&quot;START : isAuthExpired for requestId: {}&quot;, paymentDetails.getRequestId());\r\n\t\tif (isAuthExpired) {\r\n\t\t\tlog.info(&quot;START : validateOrderTotalAmount for result: {}&quot;, false);\r\n\t\t\terrorList.add(new Error(String.valueOf(PaymentErrorCodes.AUTH_EXPIRED),\r\n\t\t\t\t\tPaymentErrorCodes.AUTH_EXPIRED.getDescription()));\r\n\t\t}\r\n\t}\r\n\r\nHere params are null.\r\n\r\n    @Test\r\n    public void test_isAuthExpired_ExpiredAuth() throws ParseException {\r\n    List&lt;Error&gt; list = new ArrayList&lt;&gt;();\r\n    String request = inputProvider.createValidCreateOrderRequest_1();\r\n    PaymentTriggerBaseModel baseModel =\r\n        ParserUtil.getObjectFromString(request, PaymentTriggerBaseModel.class);\r\n    \r\n    authValidationHelper.isAuthExpired(baseModel.getPayment().getPaymentMethods().get(0), list);\r\n    \r\n    ArgumentCaptor&lt;Error&gt; captor = ArgumentCaptor.forClass(Error.class);\r\n    final List&lt;Error&gt; params = captor.getAllValues(); --// here params are null\r\n    //assertTrue(params.get(0).getField().equalsIgnoreCase(0));\r\n    }","title":"Mockito to test change in variables inside void methods","body":"<p>I am trying to test change in arguments supplied to void method using ArgumentCaptor. But I am not able to achieve that . Can somebody please help me find out what exactly I am doing wrong. Using debug I know that list size is increased.</p>\n<pre><code>@InjectMocks private AuthValidationHelper authValidationHelper;\n\n@Test\npublic void isAuthExpired(PaymentMethod paymentMethod, List&lt;Error&gt; errorList) {\n    PaymentDetails paymentDetails = paymentMethod.getPaymentDetails();\n    Date authExpirationTime = paymentDetails.getAuthorizationExpirationDate();\n    boolean isAuthExpired = new Date().after(authExpirationTime);\n    log.info(&quot;START : isAuthExpired for requestId: {}&quot;, paymentDetails.getRequestId());\n    if (isAuthExpired) {\n        log.info(&quot;START : validateOrderTotalAmount for result: {}&quot;, false);\n        errorList.add(new Error(String.valueOf(PaymentErrorCodes.AUTH_EXPIRED),\n                PaymentErrorCodes.AUTH_EXPIRED.getDescription()));\n    }\n}\n</code></pre>\n<p>Here params are null.</p>\n<pre><code>@Test\npublic void test_isAuthExpired_ExpiredAuth() throws ParseException {\nList&lt;Error&gt; list = new ArrayList&lt;&gt;();\nString request = inputProvider.createValidCreateOrderRequest_1();\nPaymentTriggerBaseModel baseModel =\n    ParserUtil.getObjectFromString(request, PaymentTriggerBaseModel.class);\n\nauthValidationHelper.isAuthExpired(baseModel.getPayment().getPaymentMethods().get(0), list);\n\nArgumentCaptor&lt;Error&gt; captor = ArgumentCaptor.forClass(Error.class);\nfinal List&lt;Error&gt; params = captor.getAllValues(); --// here params are null\n//assertTrue(params.get(0).getField().equalsIgnoreCase(0));\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664787174,"post_id":73932749,"comment_id":130543357,"body_markdown":"You don&#39;t need to do anything with Spring Boot that is configured automatically, unless you disabled auto configuration for web components.","body":"You don&#39;t need to do anything with Spring Boot that is configured automatically, unless you disabled auto configuration for web components."}],"answers":[{"tags":[],"owner":{"account_id":25525493,"reputation":1,"user_id":19314640,"display_name":"Abdelkhalek BENHOUMINE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664790912,"creation_date":1664790912,"answer_id":73933771,"question_id":73932749,"body_markdown":"If you want to use the @ControllerAdvice to handle your exceptions, you don&#39;t need to configure anything. \r\n\r\nExample : \r\n\r\n```JAVA\r\n@ControllerAdvice\r\npublic class ExceptionHandler {\r\n    @ExceptionHandler(NotFoundException.class)\r\n    ResponseEntity&lt;String&gt; importErrorExceptionHandler(NotFoundException e) {\r\n        return ResponseEntity\r\n                .status(HttpStatus.NOT_FOUND)\r\n                .body(e.getMessage());\r\n    }\r\n}\r\n\r\n```\r\nBut, if you want to override a base method out of the ResponseEntityExceptionHandler and provide your own custom implementation, you can read this documentation : https://www.baeldung.com/global-error-handler-in-a-spring-rest-api","title":"How to configure ExceptionHandlerExceptionResolver so that ControllerAdvice class is detected?","body":"<p>If you want to use the @ControllerAdvice to handle your exceptions, you don't need to configure anything.</p>\n<p>Example :</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler {\n    @ExceptionHandler(NotFoundException.class)\n    ResponseEntity&lt;String&gt; importErrorExceptionHandler(NotFoundException e) {\n        return ResponseEntity\n                .status(HttpStatus.NOT_FOUND)\n                .body(e.getMessage());\n    }\n}\n\n</code></pre>\n<p>But, if you want to override a base method out of the ResponseEntityExceptionHandler and provide your own custom implementation, you can read this documentation : <a href=\"https://www.baeldung.com/global-error-handler-in-a-spring-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/global-error-handler-in-a-spring-rest-api</a></p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664790912,"creation_date":1664785082,"question_id":73932749,"body_markdown":"From this api doc of [ResponseEntityExceptionHandler][1], it says -\r\n\r\n&gt; Note that in order for an @ControllerAdvice subclass to be detected,\r\n&gt; ExceptionHandlerExceptionResolver must be configured.\r\n\r\nWhat kind of configuration is being referred here. Can someone provide more details or any code regarding this.\r\n\r\nI am using spring boot 2.x.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html","title":"How to configure ExceptionHandlerExceptionResolver so that ControllerAdvice class is detected?","body":"<p>From this api doc of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\" rel=\"nofollow noreferrer\">ResponseEntityExceptionHandler</a>, it says -</p>\n<blockquote>\n<p>Note that in order for an @ControllerAdvice subclass to be detected,\nExceptionHandlerExceptionResolver must be configured.</p>\n</blockquote>\n<p>What kind of configuration is being referred here. Can someone provide more details or any code regarding this.</p>\n<p>I am using spring boot 2.x.</p>\n"},{"tags":["java","server","network-programming","ssdp"],"answers":[{"tags":[],"owner":{"account_id":16426356,"reputation":1936,"user_id":11866308,"display_name":"Allen D. Ball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1622488322,"creation_date":1622488322,"answer_id":67779162,"question_id":67765551,"body_markdown":"I could not find any solution so I developed my own ([javadoc](https://allen-ball.github.io/javadoc/ball-api/20210415.0/ball/upnp/ssdp/package-summary.html)).  Maven repository and coordinates:\r\n\r\n```xml\r\n    &lt;repository&gt;                                                                \r\n      &lt;id&gt;repo.hcf.dev-RELEASE&lt;/id&gt;                                             \r\n      &lt;name&gt;hcf.dev RELEASE Repository&lt;/name&gt;                                   \r\n      &lt;url&gt;https://repo.hcf.dev/maven/release/&lt;/url&gt;                            \r\n      &lt;layout&gt;default&lt;/layout&gt;                                                  \r\n    &lt;/repository&gt;\r\n\r\n      &lt;dependency&gt;                                                              \r\n        &lt;groupId&gt;ball&lt;/groupId&gt;                                                 \r\n        &lt;artifactId&gt;ball-upnp&lt;/artifactId&gt;                                      \r\n        &lt;version&gt;3.0.2.20210415&lt;/version&gt;                                 \r\n      &lt;/dependency&gt;\r\n```\r\n\r\nTake a look at (or simply run) the [SSDPTask.Discover](https://allen-ball.github.io/javadoc/ball-api/20210415.0/ball/upnp/ant/taskdefs/SSDPTask.Discover.html) Ant Task.","title":"How to query an ssdp server using java","body":"<p>I could not find any solution so I developed my own (<a href=\"https://allen-ball.github.io/javadoc/ball-api/20210415.0/ball/upnp/ssdp/package-summary.html\" rel=\"nofollow noreferrer\">javadoc</a>).  Maven repository and coordinates:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;repository&gt;                                                                \n      &lt;id&gt;repo.hcf.dev-RELEASE&lt;/id&gt;                                             \n      &lt;name&gt;hcf.dev RELEASE Repository&lt;/name&gt;                                   \n      &lt;url&gt;https://repo.hcf.dev/maven/release/&lt;/url&gt;                            \n      &lt;layout&gt;default&lt;/layout&gt;                                                  \n    &lt;/repository&gt;\n\n      &lt;dependency&gt;                                                              \n        &lt;groupId&gt;ball&lt;/groupId&gt;                                                 \n        &lt;artifactId&gt;ball-upnp&lt;/artifactId&gt;                                      \n        &lt;version&gt;3.0.2.20210415&lt;/version&gt;                                 \n      &lt;/dependency&gt;\n</code></pre>\n<p>Take a look at (or simply run) the <a href=\"https://allen-ball.github.io/javadoc/ball-api/20210415.0/ball/upnp/ant/taskdefs/SSDPTask.Discover.html\" rel=\"nofollow noreferrer\">SSDPTask.Discover</a> Ant Task.</p>\n"}],"owner":{"account_id":17965246,"reputation":21,"user_id":13055260,"display_name":"yeri123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":67779162,"answer_count":1,"score":-1,"last_activity_date":1664790766,"creation_date":1622406572,"question_id":67765551,"body_markdown":"Is there a way to query a ssdp server using java? I want to send this request using java and then receive the response back from the server and display it. I googled alot but can&#39;t find anything on this. ","title":"How to query an ssdp server using java","body":"<p>Is there a way to query a ssdp server using java? I want to send this request using java and then receive the response back from the server and display it. I googled alot but can't find anything on this.</p>\n"},{"tags":["java","gradle","intellij-idea","build"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1664780856,"post_id":73926288,"comment_id":130541699,"body_markdown":"Do you have one `build.gradle` per subproject? What&#39;s the contents of `settings.gradle`? `implementation files(...bunch of files here...)` looks unusual to me, what files are you importing? Have you tried following the docs on structuring multimodule projects? https://docs.gradle.org/current/userguide/structuring_software_products.html","body":"Do you have one <code>build.gradle</code> per subproject? What&#39;s the contents of <code>settings.gradle</code>? <code>implementation files(...bunch of files here...)</code> looks unusual to me, what files are you importing? Have you tried following the docs on structuring multimodule projects? <a href=\"https://docs.gradle.org/current/userguide/structuring_software_products.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":15632225,"reputation":31,"user_id":11278218,"display_name":"Tomer Trashman"},"score":0,"creation_date":1664790367,"post_id":73926288,"comment_id":130544331,"body_markdown":"I have just managed to solve this, I&#39;ll go over your questions one by one","body":"I have just managed to solve this, I&#39;ll go over your questions one by one"},{"owner":{"account_id":15632225,"reputation":31,"user_id":11278218,"display_name":"Tomer Trashman"},"score":0,"creation_date":1664790396,"post_id":73926288,"comment_id":130544337,"body_markdown":"I have no build.gradle in any of the subprojects.","body":"I have no build.gradle in any of the subprojects."},{"owner":{"account_id":15632225,"reputation":31,"user_id":11278218,"display_name":"Tomer Trashman"},"score":0,"creation_date":1664790433,"post_id":73926288,"comment_id":130544344,"body_markdown":"Contents of settings.gradle are written in the questions.","body":"Contents of settings.gradle are written in the questions."},{"owner":{"account_id":15632225,"reputation":31,"user_id":11278218,"display_name":"Tomer Trashman"},"score":0,"creation_date":1664790493,"post_id":73926288,"comment_id":130544361,"body_markdown":"The contents of implementation files are a bunch of jars whose location is dependant on an enviroment variable","body":"The contents of implementation files are a bunch of jars whose location is dependant on an enviroment variable"}],"answers":[{"tags":[],"owner":{"account_id":15632225,"reputation":31,"user_id":11278218,"display_name":"Tomer Trashman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664790602,"creation_date":1664790602,"answer_id":73933724,"question_id":73926288,"body_markdown":"I managed to solve my problem. Turns out\r\n```\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src&#39;]\r\n        }\r\n    }\r\n}\r\n```\r\nIs incorrect, as `src` isnt a recursive src dir. I added each src dir and it worked flawlessly.","title":"run gradle project with multiple modules which arent gradle projects gives &quot;Could not find or load main class&quot;","body":"<p>I managed to solve my problem. Turns out</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs = ['src']\n        }\n    }\n}\n</code></pre>\n<p>Is incorrect, as <code>src</code> isnt a recursive src dir. I added each src dir and it worked flawlessly.</p>\n"}],"owner":{"account_id":15632225,"reputation":31,"user_id":11278218,"display_name":"Tomer Trashman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73933724,"answer_count":1,"score":0,"last_activity_date":1664790602,"creation_date":1664718097,"question_id":73926288,"body_markdown":"Ok so first of all, I want to preface this by saying I started working on this project as a vanilla intellij java project and when my build became impossible due to complex dynamic dependencies I converted to gradle using this guide https://www.jetbrains.com/help/idea/gradle.html#:~:text=Convert%20a%20regular%20project%20into%20a%20Gradle%20project%EF%BB%BF,gradle%20and%20click%20OK.\r\n\r\nI am very new to gradle and I am struggling a bit.\r\nMy project structure looks like this\r\n```\r\n-BigProject\r\n    -SmallProjectA_Main\r\n        -src\r\n            -META-INF\r\n            SmallProjectA_Main.java\r\n        SmallProjectA_Main.iml\r\n    -SmallProjectA\r\n        -src\r\n            SmallProjectA.java\r\n        SmallProjectA.iml\r\n    -SmallProjectB_Main \r\n        -src\r\n            -META-INF\r\n            SmallProjectB_Main.java\r\n        SmallProjectB_Main.iml\r\n    -SmallProjectB\r\n        -src\r\n            SmallProjectB.java\r\n        SmallProjectB.iml\r\n    -SmallProject_Common\r\n        -src\r\n            (...)\r\n        SmallProject_Common.iml\r\n    build.gradle\r\n    settings.gradle       \r\n```\r\nMy build.gradle looks like this\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0&#39;\r\nmainClassName = &#39;SmallProjectA_Main&#39; //this is what I want to run for now\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation files(...bunch of files here...)\r\n}\r\n```\r\nMy settings.gradle file looks like this:\r\n\r\n```\r\nrootProject.name = &#39;BigProject&#39;\r\n```\r\n\r\nFor now, what I want to do is to be able to run SmallProjectA_Main (which has a main method)  from command line using `gradle run`. Later I would like to be able to be able to choose to run either SmallProjectA_Main or SmallProjectB_Main to run, but I need to know if that is advised or if I should just split them into two different projects and have them import common as a dependency.\r\n\r\nWhen I `gradle build` it says everything is fine, but when I try `gradle run` it says `Could not find or load main class SmallProjectA_Main`.\r\n\r\nI tried changing the main class name to a lot of things, like `SmallProjectA_Main.SmallProjectA_Main` or `BigProject.SmallProjectA_Main.SmallProjectA_Main` or `BigProject.SmallProjectA_Main` and nothing seems to work.\r\n\r\nWould love for some advice, I have been on this error for the better part of the day, tried a lot of stuff from this question: \r\nhttps://stackoverflow.com/questions/24924932/gradle-could-not-find-or-load-main-class\r\nand none have worked.","title":"run gradle project with multiple modules which arent gradle projects gives &quot;Could not find or load main class&quot;","body":"<p>Ok so first of all, I want to preface this by saying I started working on this project as a vanilla intellij java project and when my build became impossible due to complex dynamic dependencies I converted to gradle using this guide <a href=\"https://www.jetbrains.com/help/idea/gradle.html#:%7E:text=Convert%20a%20regular%20project%20into%20a%20Gradle%20project%EF%BB%BF,gradle%20and%20click%20OK\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/gradle.html#:~:text=Convert%20a%20regular%20project%20into%20a%20Gradle%20project%EF%BB%BF,gradle%20and%20click%20OK</a>.</p>\n<p>I am very new to gradle and I am struggling a bit.\nMy project structure looks like this</p>\n<pre><code>-BigProject\n    -SmallProjectA_Main\n        -src\n            -META-INF\n            SmallProjectA_Main.java\n        SmallProjectA_Main.iml\n    -SmallProjectA\n        -src\n            SmallProjectA.java\n        SmallProjectA.iml\n    -SmallProjectB_Main \n        -src\n            -META-INF\n            SmallProjectB_Main.java\n        SmallProjectB_Main.iml\n    -SmallProjectB\n        -src\n            SmallProjectB.java\n        SmallProjectB.iml\n    -SmallProject_Common\n        -src\n            (...)\n        SmallProject_Common.iml\n    build.gradle\n    settings.gradle       \n</code></pre>\n<p>My build.gradle looks like this</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'org.example'\nversion '1.0'\nmainClassName = 'SmallProjectA_Main' //this is what I want to run for now\n\nrepositories {\n    mavenCentral()\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src']\n        }\n    }\n}\n\ndependencies {\n    implementation files(...bunch of files here...)\n}\n</code></pre>\n<p>My settings.gradle file looks like this:</p>\n<pre><code>rootProject.name = 'BigProject'\n</code></pre>\n<p>For now, what I want to do is to be able to run SmallProjectA_Main (which has a main method)  from command line using <code>gradle run</code>. Later I would like to be able to be able to choose to run either SmallProjectA_Main or SmallProjectB_Main to run, but I need to know if that is advised or if I should just split them into two different projects and have them import common as a dependency.</p>\n<p>When I <code>gradle build</code> it says everything is fine, but when I try <code>gradle run</code> it says <code>Could not find or load main class SmallProjectA_Main</code>.</p>\n<p>I tried changing the main class name to a lot of things, like <code>SmallProjectA_Main.SmallProjectA_Main</code> or <code>BigProject.SmallProjectA_Main.SmallProjectA_Main</code> or <code>BigProject.SmallProjectA_Main</code> and nothing seems to work.</p>\n<p>Would love for some advice, I have been on this error for the better part of the day, tried a lot of stuff from this question:\n<a href=\"https://stackoverflow.com/questions/24924932/gradle-could-not-find-or-load-main-class\">Gradle - Could not find or load main class</a>\nand none have worked.</p>\n"},{"tags":["java","android","digital-signature","ecdsa"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":1,"creation_date":1664566719,"post_id":73913305,"comment_id":130509314,"body_markdown":"Please reduce your post to a *single* unambiguously answerable question.","body":"Please reduce your post to a <i>single</i> unambiguously answerable question."},{"owner":{"account_id":3709219,"reputation":435,"user_id":3086979,"accept_rate":75,"display_name":"CoderApprentice"},"score":0,"creation_date":1664567540,"post_id":73913305,"comment_id":130509472,"body_markdown":"@possum Hiya, I reworded the title to a more specific question. I think the extensive info I typed could be helpful in finding a solution to this problem.","body":"@possum Hiya, I reworded the title to a more specific question. I think the extensive info I typed could be helpful in finding a solution to this problem."}],"owner":{"account_id":3709219,"reputation":435,"user_id":3086979,"accept_rate":75,"display_name":"CoderApprentice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1664790108,"creation_date":1664566637,"question_id":73913305,"body_markdown":"Setup\r\n==============\r\n\r\nI use an Android mobile phone with a NativeScript app to locally sign a hexadecimal message. I want to verify the signature remotely on a server, but it keeps failing.\r\n\r\nMy private key comes from a 24-word mnemonic, and the key was derived from the Secp256r1 Curve. (Not Secp256K1, but Secp256R1)\r\n\r\nAndroid Phone:\r\n- NativeScript with ported Java.security library\r\n- Keystore in which I inserted the private key\r\n\r\nI extracted the Public Key from the Keystore and verified with my mnemonic phase (from which I can get my private + public key) that the correct key is in the Keystore.\r\n\r\nRemote Server:\r\n- Java project\r\n- Java.security library (see https://docs.oracle.com/javase/7/docs/api/java/security/Signature.html)\r\n- BouncyCastle as Provider\r\n\r\nCode\r\n==============\r\n\r\n**Android Phone**\r\n```\r\nconst sign = (keyStore: java.security.KeyStore, message: string, hash: string): void =&gt; {\r\n    const Signature = java.security.Signature;\r\n    const byteBuffer = stringToByteBuffer(message);\r\n    const { key, pub } = getPrivateAndPublicKey(keyStore);\r\n    const sig = Signature.getInstance(&#39;SHA256withECDSA&#39;);\r\n    const signing = signByteBuffer(sig, key, byteBuffer);\r\n    verifySignature(sig, pub, byteBuffer, signing, hash);\r\n}\r\n```\r\n\r\n**Server code**\r\n```\r\n// Pubkey\r\nString pubkey = &quot;02bd78c6f7bd9314196392992283b16cb1848adb15cb5d04776da537c2d78b2097&quot;;\r\nPublicKey publicKey = PublicKeyHelpers.getPublicKey(pubkey, HsmConstants.ParameterSpec.secp256r1);\r\n\r\n// Payload\r\nString payloadString = &quot;ba06ae76b062f08a1b0a869d9d202d99d65c894bb6ba611df6259dca3d51472e&quot;;\r\nbyte[] payload = DatatypeConverter.parseHexBinary(payloadString);\r\n\r\n// Signature\r\nString signatureString = &quot;3046022100ca3cf346e3a9bc466630d70cb9ad30abdaaa9791db5bbb666c0bddfc56d981ca022100ed55a40b70aadf49384acb84f771de0923863d696b52c65917854034575e8457&quot;;\r\nbyte[] signature = DatatypeConverter.parseHexBinary(sigString);\r\n\r\n// VERIFY\r\nSecurity.addProvider(new BouncyCastleProvider());\r\nSignature verifySignature = Signature.getInstance(SHA256withECDSA.toString(), BouncyCastleProvider.PROVIDER_NAME);\r\nverifySignature.initVerify(publicKey);\r\nverifySignature.update(payload);\r\nboolean result = verifySignature.verify(signature);\r\n```\r\n\r\nProblem Discussion\r\n==============\r\n\r\nThe Public Key is the one I got from my Android Phone Keystore.\r\nThe Signature was created on the Android Phone by signing the Payload.\r\n\r\nI also built a TypeScript project with the `elliptic` library and `bip39` library. There I copy-pasted the exact same data, but there it also always fails the signature verification.\r\n\r\nThe Android Phone always verifies the signature as correct, the Java project and the TypeScript project always verify the signature as incorrect.\r\n\r\nThen I studied this website on ECDSA signatures: https://cryptobook.nakov.com/digital-signatures/ecdsa-sign-verify-messages\r\n\r\nThe article states there are 2 ways to generate ECDSA signatures:\r\n - Deterministic (k-value is HMAC-derived from private key + hash(message)\r\n - Random (k-value is randomly taken between 1 to n-1)\r\n\r\nFunny thing is, if I use DETERMINISTIC signing on the Android Phone (so I DON&#39;T use the Keystore, but just the mnemonic to sign), then everything works as intended: I can sign on Android Phone, produce a DER signature and verify it in the Java and TypeScript projects. I know it&#39;s deterministic because signing the same msg always returns the same signature.\r\n\r\nThe KeyStore on the other hand generates a random k-value, as the signature is always different for the same msg.\r\n\r\nIdeas?\r\n==============\r\n\r\nWhat could be going wrong? Maybe the `Signature.Instance` algorithm should be `NONEWithECDSA` instead of `SHA256WithECDSA`, or something else?\r\nDoes the Android Keystore produce Signatures with a different format or algorithm or something I&#39;m not aware of?\r\n","title":"How to verify a NativeScript ECDSA signature generated on Android phone with Java Security Library?","body":"<h1>Setup</h1>\n<p>I use an Android mobile phone with a NativeScript app to locally sign a hexadecimal message. I want to verify the signature remotely on a server, but it keeps failing.</p>\n<p>My private key comes from a 24-word mnemonic, and the key was derived from the Secp256r1 Curve. (Not Secp256K1, but Secp256R1)</p>\n<p>Android Phone:</p>\n<ul>\n<li>NativeScript with ported Java.security library</li>\n<li>Keystore in which I inserted the private key</li>\n</ul>\n<p>I extracted the Public Key from the Keystore and verified with my mnemonic phase (from which I can get my private + public key) that the correct key is in the Keystore.</p>\n<p>Remote Server:</p>\n<ul>\n<li>Java project</li>\n<li>Java.security library (see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/Signature.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/security/Signature.html</a>)</li>\n<li>BouncyCastle as Provider</li>\n</ul>\n<h1>Code</h1>\n<p><strong>Android Phone</strong></p>\n<pre><code>const sign = (keyStore: java.security.KeyStore, message: string, hash: string): void =&gt; {\n    const Signature = java.security.Signature;\n    const byteBuffer = stringToByteBuffer(message);\n    const { key, pub } = getPrivateAndPublicKey(keyStore);\n    const sig = Signature.getInstance('SHA256withECDSA');\n    const signing = signByteBuffer(sig, key, byteBuffer);\n    verifySignature(sig, pub, byteBuffer, signing, hash);\n}\n</code></pre>\n<p><strong>Server code</strong></p>\n<pre><code>// Pubkey\nString pubkey = &quot;02bd78c6f7bd9314196392992283b16cb1848adb15cb5d04776da537c2d78b2097&quot;;\nPublicKey publicKey = PublicKeyHelpers.getPublicKey(pubkey, HsmConstants.ParameterSpec.secp256r1);\n\n// Payload\nString payloadString = &quot;ba06ae76b062f08a1b0a869d9d202d99d65c894bb6ba611df6259dca3d51472e&quot;;\nbyte[] payload = DatatypeConverter.parseHexBinary(payloadString);\n\n// Signature\nString signatureString = &quot;3046022100ca3cf346e3a9bc466630d70cb9ad30abdaaa9791db5bbb666c0bddfc56d981ca022100ed55a40b70aadf49384acb84f771de0923863d696b52c65917854034575e8457&quot;;\nbyte[] signature = DatatypeConverter.parseHexBinary(sigString);\n\n// VERIFY\nSecurity.addProvider(new BouncyCastleProvider());\nSignature verifySignature = Signature.getInstance(SHA256withECDSA.toString(), BouncyCastleProvider.PROVIDER_NAME);\nverifySignature.initVerify(publicKey);\nverifySignature.update(payload);\nboolean result = verifySignature.verify(signature);\n</code></pre>\n<h1>Problem Discussion</h1>\n<p>The Public Key is the one I got from my Android Phone Keystore.\nThe Signature was created on the Android Phone by signing the Payload.</p>\n<p>I also built a TypeScript project with the <code>elliptic</code> library and <code>bip39</code> library. There I copy-pasted the exact same data, but there it also always fails the signature verification.</p>\n<p>The Android Phone always verifies the signature as correct, the Java project and the TypeScript project always verify the signature as incorrect.</p>\n<p>Then I studied this website on ECDSA signatures: <a href=\"https://cryptobook.nakov.com/digital-signatures/ecdsa-sign-verify-messages\" rel=\"nofollow noreferrer\">https://cryptobook.nakov.com/digital-signatures/ecdsa-sign-verify-messages</a></p>\n<p>The article states there are 2 ways to generate ECDSA signatures:</p>\n<ul>\n<li>Deterministic (k-value is HMAC-derived from private key + hash(message)</li>\n<li>Random (k-value is randomly taken between 1 to n-1)</li>\n</ul>\n<p>Funny thing is, if I use DETERMINISTIC signing on the Android Phone (so I DON'T use the Keystore, but just the mnemonic to sign), then everything works as intended: I can sign on Android Phone, produce a DER signature and verify it in the Java and TypeScript projects. I know it's deterministic because signing the same msg always returns the same signature.</p>\n<p>The KeyStore on the other hand generates a random k-value, as the signature is always different for the same msg.</p>\n<h1>Ideas?</h1>\n<p>What could be going wrong? Maybe the <code>Signature.Instance</code> algorithm should be <code>NONEWithECDSA</code> instead of <code>SHA256WithECDSA</code>, or something else?\nDoes the Android Keystore produce Signatures with a different format or algorithm or something I'm not aware of?</p>\n"},{"tags":["java","json","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"score":1,"creation_date":1664781713,"post_id":73931652,"comment_id":130541936,"body_markdown":"So what does not work? It seems okay on a first glance. Is the output incorrect or is this a question of optimization?","body":"So what does not work? It seems okay on a first glance. Is the output incorrect or is this a question of optimization?"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1664787190,"post_id":73931652,"comment_id":130543365,"body_markdown":"Just put an `exit` inside the nested loop `if...` helps a lot. If both lists are very large, suggest you to sort the unitPrice list first and then use quick search.","body":"Just put an <code>exit</code> inside the nested loop <code>if...</code> helps a lot. If both lists are very large, suggest you to sort the unitPrice list first and then use quick search."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664789096,"creation_date":1664783436,"answer_id":73932490,"question_id":73931652,"body_markdown":"I recommend creating a map `Map&lt;String, Material&gt;` from `List&lt;Material&gt;` with a key as the `uomId` that identifies the `Material`. This structure very efficient for a look-up for the correct `Material` by `uomId`.\r\n\r\n```java\r\nfinal Map&lt;String, UnitPrice&gt; map = list2.stream()\r\n        .collect(Collectors.toMap(\r\n                UnitPrice::getUomId,      // uomId as a key\r\n                Function.identity()));    // the whole object itself as a value\r\n```\r\n\r\nNow you are ready to do fill in the JSON structure in a single loop. Assuming your goal is the following output...\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;unitPrice&quot;: &quot;1.59&quot;,\r\n    &quot;mtrlUomId&quot;: &quot;10054700&quot;,\r\n    &quot;sapEndDate&quot;: &quot;2022-10-03T14:39:44.526605&quot;,\r\n    &quot;mtrlId&quot;: &quot;1011&quot;\r\n  }\r\n]\r\n```\r\n... the code looks like this ...\r\n\r\n```java\r\nfinal JSONArray array = new JSONArray();              // outer array\r\nfor (Material material: list1) {                      // for each Material\r\n    JSONObject obj1 = new JSONObject();               // ... create a JSON object\r\n    String unitPrice = map.get(material.getUomId())   // ... look-up by uomId\r\n                          .getUnitPrice();            // ...... and get the unitPrice\r\n\r\n\tobj1.put(&quot;mtrlId&quot;, material.getMtrlId())          // ... add mtrlId \r\n\t\t.put(&quot;mtrlUomId&quot;, material.getUomId())        // ... add uomId   \r\n\t\t.put(&quot;sapEndDate&quot;, material.getSapEndDate())  // ... add sapEndDate \r\n\t\t.put(&quot;unitPrice&quot;, unitPrice);                 // ... add unitPrice from the map\r\n\r\n\tarray.put(obj1);                                  // ... add JSON object into JSON array\r\n}\r\n```\r\n\r\n... and print it out as a beautified JSON with indentation:\r\n\r\n```java\r\nSystem.out.println(array.toString(2));\r\n```\r\n\r\nRemember this solution assumes there is always exactly one `Material` identified by `uomId`.","title":"Reducing iterations on nested list loops","body":"<p>I recommend creating a map <code>Map&lt;String, Material&gt;</code> from <code>List&lt;Material&gt;</code> with a key as the <code>uomId</code> that identifies the <code>Material</code>. This structure very efficient for a look-up for the correct <code>Material</code> by <code>uomId</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, UnitPrice&gt; map = list2.stream()\n        .collect(Collectors.toMap(\n                UnitPrice::getUomId,      // uomId as a key\n                Function.identity()));    // the whole object itself as a value\n</code></pre>\n<p>Now you are ready to do fill in the JSON structure in a single loop. Assuming your goal is the following output...</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;unitPrice&quot;: &quot;1.59&quot;,\n    &quot;mtrlUomId&quot;: &quot;10054700&quot;,\n    &quot;sapEndDate&quot;: &quot;2022-10-03T14:39:44.526605&quot;,\n    &quot;mtrlId&quot;: &quot;1011&quot;\n  }\n]\n</code></pre>\n<p>... the code looks like this ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>final JSONArray array = new JSONArray();              // outer array\nfor (Material material: list1) {                      // for each Material\n    JSONObject obj1 = new JSONObject();               // ... create a JSON object\n    String unitPrice = map.get(material.getUomId())   // ... look-up by uomId\n                          .getUnitPrice();            // ...... and get the unitPrice\n\n    obj1.put(&quot;mtrlId&quot;, material.getMtrlId())          // ... add mtrlId \n        .put(&quot;mtrlUomId&quot;, material.getUomId())        // ... add uomId   \n        .put(&quot;sapEndDate&quot;, material.getSapEndDate())  // ... add sapEndDate \n        .put(&quot;unitPrice&quot;, unitPrice);                 // ... add unitPrice from the map\n\n    array.put(obj1);                                  // ... add JSON object into JSON array\n}\n</code></pre>\n<p>... and print it out as a beautified JSON with indentation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(array.toString(2));\n</code></pre>\n<p>Remember this solution assumes there is always exactly one <code>Material</code> identified by <code>uomId</code>.</p>\n"}],"owner":{"account_id":26488790,"reputation":27,"user_id":20126932,"display_name":"Vijay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664789096,"creation_date":1664777340,"question_id":73931652,"body_markdown":"\r\nNeed help in minimizing loop iterations.\r\n\r\nI have 2 different List objects\r\n\r\n\t\r\n```java\r\npublic class Material {\r\n    private String mtrlId;\r\n    private String uomId;\r\n    private String sapEndDate;\r\n}\r\n```\r\n```java\r\npublic class UnitPrice {\r\n   \tprivate String unitPrice;\r\n    private String uomId;\r\n}\r\n```\r\n\r\nI will get a request as two lists of the above objects.\r\n\r\n    List&lt;Material&gt; list1 = Arrays.asList(\r\n            new Material(&quot;1011&quot;, &quot;10054700&quot;, &quot;2023-04-29&quot;));\r\n    \t\t\t\t  \t\r\n    List&lt;UnitPrice&gt; list2 = Arrays.asList(\r\n            new UnitPrice(&quot;1.59&quot;, &quot;10054700&quot;));\r\n\r\nNow, I want to add `unitPrice=1.59` from `list2` to be added to `list1` based on `uomId`. \r\n\r\nI have tried following so far, please help me in achieving same. Once I get in the original list, I will add it to JSONArray to process further.\r\n\r\nAs this is a nested loop, am getting 6 iterations and the result is repetitive. \r\n\r\n```java\r\nJSONObject obj = new JSONObject();\r\nJSONArray array = new JSONArray();\r\nfor (Material material : list1) {\r\n    JSONObject obj1 = new JSONObject();\r\n    array.put(\r\n        obj1.put(&quot;mtrlId&quot;, material.getMtrlId())\r\n            .put(&quot;mtrlUomId&quot;, material.getUomId())\r\n    \t\t.put(&quot;sapEndDate&quot;, material.getSapEndDate()));\r\n    \t\t\t\r\n    for (UnitPrice unit : list2) {\r\n    \tif (unit.getUomId().equals(material.getUomId())) {\r\n    \t\tarray.put(obj1.put(&quot;unitPrice&quot;, unit.getUnitPrice()));\r\n    \t}\r\n    }\r\n}\r\n```","title":"Reducing iterations on nested list loops","body":"<p>Need help in minimizing loop iterations.</p>\n<p>I have 2 different List objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Material {\n    private String mtrlId;\n    private String uomId;\n    private String sapEndDate;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class UnitPrice {\n    private String unitPrice;\n    private String uomId;\n}\n</code></pre>\n<p>I will get a request as two lists of the above objects.</p>\n<pre><code>List&lt;Material&gt; list1 = Arrays.asList(\n        new Material(&quot;1011&quot;, &quot;10054700&quot;, &quot;2023-04-29&quot;));\n                    \nList&lt;UnitPrice&gt; list2 = Arrays.asList(\n        new UnitPrice(&quot;1.59&quot;, &quot;10054700&quot;));\n</code></pre>\n<p>Now, I want to add <code>unitPrice=1.59</code> from <code>list2</code> to be added to <code>list1</code> based on <code>uomId</code>.</p>\n<p>I have tried following so far, please help me in achieving same. Once I get in the original list, I will add it to JSONArray to process further.</p>\n<p>As this is a nested loop, am getting 6 iterations and the result is repetitive.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject obj = new JSONObject();\nJSONArray array = new JSONArray();\nfor (Material material : list1) {\n    JSONObject obj1 = new JSONObject();\n    array.put(\n        obj1.put(&quot;mtrlId&quot;, material.getMtrlId())\n            .put(&quot;mtrlUomId&quot;, material.getUomId())\n            .put(&quot;sapEndDate&quot;, material.getSapEndDate()));\n                \n    for (UnitPrice unit : list2) {\n        if (unit.getUomId().equals(material.getUomId())) {\n            array.put(obj1.put(&quot;unitPrice&quot;, unit.getUnitPrice()));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","vaadin","badge"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1664788419,"post_id":73933279,"comment_id":130543741,"body_markdown":"Hi Spozzi. Is this the entire error?","body":"Hi Spozzi. Is this the entire error?"},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1664788725,"post_id":73933279,"comment_id":130543821,"body_markdown":"That is not the whole error. The whole exception would tell you that you aren&#39;t allowed to set the theme annotation on a view. It has to be placed on a class implementing AppShellConfiguration - see the official documentation https://vaadin.com/docs/latest/styling/theme-annotation/#usage","body":"That is not the whole error. The whole exception would tell you that you aren&#39;t allowed to set the theme annotation on a view. It has to be placed on a class implementing AppShellConfiguration - see the official documentation <a href=\"https://vaadin.com/docs/latest/styling/theme-annotation/#usage\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/styling/theme-annotation/#usage</a>"},{"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"score":0,"creation_date":1664788732,"post_id":73933279,"comment_id":130543824,"body_markdown":"it is indeed the full error","body":"it is indeed the full error"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664788862,"creation_date":1664788862,"answer_id":73933408,"question_id":73933279,"body_markdown":"The `Theme` annotation must be on a class that implements `AppShellConfigurator` \r\n\r\n    @Theme(&quot;common-theme&quot;)\r\n    public class AppConfiguration implements AppShellConfigurator {\r\n    }","title":"Can&#39;t set @Theme vaadin","body":"<p>The <code>Theme</code> annotation must be on a class that implements <code>AppShellConfigurator</code></p>\n<pre><code>@Theme(&quot;common-theme&quot;)\npublic class AppConfiguration implements AppShellConfigurator {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664789009,"creation_date":1664789009,"answer_id":73933442,"question_id":73933279,"body_markdown":"Solved it by adding `@Theme` at the `@SpringBootApplication`\r\n\r\n    @SpringBootApplication\r\n    @Theme(&quot;common-theme&quot;)\r\n    public class DemoApplication extends SpringBootServletInitializer implements AppShellConfigurator {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    }\r\n","title":"Can&#39;t set @Theme vaadin","body":"<p>Solved it by adding <code>@Theme</code> at the <code>@SpringBootApplication</code></p>\n<pre><code>@SpringBootApplication\n@Theme(&quot;common-theme&quot;)\npublic class DemoApplication extends SpringBootServletInitializer implements AppShellConfigurator {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16475285,"reputation":65,"user_id":11903423,"display_name":"spozzi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664789009,"creation_date":1664788100,"question_id":73933279,"body_markdown":"I am pretty new to vaadin. I am trying to use badges. When I add the `@Theme` to my class:\r\n\r\n    @PageTitle(&quot;Technology&quot;)\r\n    @Route(value = &quot;&quot;)\r\n    @Theme(&quot;common-theme&quot;)\r\n    public class TechnologyLayout extends VerticalLayout {\r\n        ...\r\n        var tmp = new Span(new Span(label.getName()));\r\n        tmp.getElement().getThemeList().add(&quot;badge&quot;);\r\n        ....\r\n    }\r\n\r\nI get this error:\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\r\n\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\t... 11 common frames omitted\r\n\r\n    Caused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.7.4.jar:2.7.4]\r\n\t... 16 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n`frontend/themes/common-theme` contains a `theme.json` as shown [here][1]:\r\n\r\n    {\r\n      &quot;lumoImports&quot; : [ &quot;typography&quot;, &quot;color&quot;, &quot;spacing&quot;, &quot;badge&quot;, &quot;utility&quot; ]\r\n    }\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/components/badge","title":"Can&#39;t set @Theme vaadin","body":"<p>I am pretty new to vaadin. I am trying to use badges. When I add the <code>@Theme</code> to my class:</p>\n<pre><code>@PageTitle(&quot;Technology&quot;)\n@Route(value = &quot;&quot;)\n@Theme(&quot;common-theme&quot;)\npublic class TechnologyLayout extends VerticalLayout {\n    ...\n    var tmp = new Span(new Span(label.getName()));\n    tmp.getElement().getThemeList().add(&quot;badge&quot;);\n    ....\n}\n</code></pre>\n<p>I get this error:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.23.jar:5.3.23]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\nat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.4.jar:2.7.4]\n\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.4.jar:2.7.4]\n... 11 common frames omitted\n\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.7.4.jar:2.7.4]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.7.4.jar:2.7.4]\n... 16 common frames omitted\n</code></pre>\n<p>Process finished with exit code 0</p>\n<p><code>frontend/themes/common-theme</code> contains a <code>theme.json</code> as shown <a href=\"https://vaadin.com/docs/latest/components/badge\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>{\n  &quot;lumoImports&quot; : [ &quot;typography&quot;, &quot;color&quot;, &quot;spacing&quot;, &quot;badge&quot;, &quot;utility&quot; ]\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","intellij-idea","jar"],"comments":[{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1664789538,"post_id":73933386,"comment_id":130544066,"body_markdown":"Downed Voters: Why did you vote down?","body":"Downed Voters: Why did you vote down?"},{"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"score":0,"creation_date":1664789830,"post_id":73933386,"comment_id":130544146,"body_markdown":"Are you using maven or gradle for building project?","body":"Are you using maven or gradle for building project?"},{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1664790113,"post_id":73933386,"comment_id":130544236,"body_markdown":"Thanks for reply, what do you mean? I have maven but when I run mvn install or mvn clean install, I get errors even I use Toggle offline mode. ANy idea?","body":"Thanks for reply, what do you mean? I have maven but when I run mvn install or mvn clean install, I get errors even I use Toggle offline mode. ANy idea?"},{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1664790135,"post_id":73933386,"comment_id":130544243,"body_markdown":"I use Maven by the way","body":"I use Maven by the way"},{"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"score":0,"creation_date":1664790446,"post_id":73933386,"comment_id":130544348,"body_markdown":"Perhaps consider adding you jar files to maven, not via modules section of idea. See https://stackoverflow.com/a/22300875/878241 . May be this is not a problem, and there is problem with logback, not sure.","body":"Perhaps consider adding you jar files to maven, not via modules section of idea. See <a href=\"https://stackoverflow.com/a/22300875/878241\">stackoverflow.com/a/22300875/878241</a> . May be this is not a problem, and there is problem with logback, not sure."}],"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664788740,"creation_date":1664788740,"question_id":73933386,"body_markdown":"I am using aan external library (jar file from another project) and I added that Jar file (artifact) from Dependencies tab in the Project Structure ~ Modules section.\r\n\r\nHowever, when I run my project, I get the following error. I am not sure what I am missing, but I think I also need to add some extra  reference or library frokm the other project. Any idea? \r\n\r\nNote that I created the artifact as mentioned on https://www.jetbrains.com/idea/guide/tutorials/hello-world/packaging-the-application/ . However, as that project is a Java8 project, I just added the module without starter class. \r\n\r\nOn the other hand, I added jar file to the project as mentioned on https://www.geeksforgeeks.org/how-to-add-external-jar-file-to-an-intellij-idea-project/. \r\n\r\n\r\n```\r\nConnected to the target VM, address: &#39;127.0.0.1:59219&#39;, transport: &#39;socket&#39;\r\nLogging system failed to initialize using configuration from &#39;classpath:logback-default.xml&#39;\r\njava.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in biz.paluch.logging.gelf.logback.GelfLogbackAppender[GELF_UDP] - Unknown GELF server hostname:udp:LOG_ENDPOINT_IP_IS_UNDEFINED java.net.UnknownHostException: LOG_ENDPOINT_IP_IS_UNDEFINED: nodename nor servname provided, or not known\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithSpecificConfig(AbstractLoggingSystem.java:66)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:57)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:316)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:282)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:240)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\r\n\tat nl.gerimedica.documents.GmDocumentsApplication.main(DemoApplication.java:16)\r\n2022-10-03 11:06:42.723 ERROR 21530 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n```","title":"Spring Boot: &quot;Logback configuration error detected&quot; error","body":"<p>I am using aan external library (jar file from another project) and I added that Jar file (artifact) from Dependencies tab in the Project Structure ~ Modules section.</p>\n<p>However, when I run my project, I get the following error. I am not sure what I am missing, but I think I also need to add some extra  reference or library frokm the other project. Any idea?</p>\n<p>Note that I created the artifact as mentioned on <a href=\"https://www.jetbrains.com/idea/guide/tutorials/hello-world/packaging-the-application/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/guide/tutorials/hello-world/packaging-the-application/</a> . However, as that project is a Java8 project, I just added the module without starter class.</p>\n<p>On the other hand, I added jar file to the project as mentioned on <a href=\"https://www.geeksforgeeks.org/how-to-add-external-jar-file-to-an-intellij-idea-project/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-add-external-jar-file-to-an-intellij-idea-project/</a>.</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:59219', transport: 'socket'\nLogging system failed to initialize using configuration from 'classpath:logback-default.xml'\njava.lang.IllegalStateException: Logback configuration error detected: \nERROR in biz.paluch.logging.gelf.logback.GelfLogbackAppender[GELF_UDP] - Unknown GELF server hostname:udp:LOG_ENDPOINT_IP_IS_UNDEFINED java.net.UnknownHostException: LOG_ENDPOINT_IP_IS_UNDEFINED: nodename nor servname provided, or not known\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithSpecificConfig(AbstractLoggingSystem.java:66)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:57)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:316)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:282)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:240)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)\n    at nl.gerimedica.documents.GmDocumentsApplication.main(DemoApplication.java:16)\n2022-10-03 11:06:42.723 ERROR 21530 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\n</code></pre>\n"},{"tags":["java","http","swagger","spring-cloud-feign","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1664786592,"post_id":73932899,"comment_id":130543186,"body_markdown":"Does this answer your question? [How to POST form-url-encoded data with Spring Cloud Feign](https://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign\">How to POST form-url-encoded data with Spring Cloud Feign</a>"},{"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"score":0,"creation_date":1664786921,"post_id":73932899,"comment_id":130543275,"body_markdown":"will try that out, i suppose you&#39;re pointing out the formDataEncoder to me..","body":"will try that out, i suppose you&#39;re pointing out the formDataEncoder to me.."},{"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"score":0,"creation_date":1664788272,"post_id":73932899,"comment_id":130543698,"body_markdown":"i think that encoder is a good point, but I need to make it generate `@requestBody` instead of `@RequestParam` because with @RequestParam it keeps sending it as query params even with that encoder","body":"i think that encoder is a good point, but I need to make it generate <code>@requestBody</code> instead of <code>@RequestParam</code> because with @RequestParam it keeps sending it as query params even with that encoder"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1664788768,"post_id":73932899,"comment_id":130543838,"body_markdown":"how do you call it? https://github.com/OpenFeign/feign-form/blob/master/feign-form/src/main/java/feign/form/FormEncoder.java#L89 expects that `Content-Type` is set to `application/x-www-form-urlencoded`","body":"how do you call it? <a href=\"https://github.com/OpenFeign/feign-form/blob/master/feign-form/src/main/java/feign/form/FormEncoder.java#L89\" rel=\"nofollow noreferrer\">github.com/OpenFeign/feign-form/blob/master/feign-form/src/m&zwnj;&#8203;ain/&hellip;</a> expects that <code>Content-Type</code> is set to <code>application&#47;x-www-form-urlencoded</code>"},{"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"score":0,"creation_date":1664788973,"post_id":73932899,"comment_id":130543898,"body_markdown":"it is set. i can tell because i have an interceptor and i see it in the headers. also generated code has `consumes = &quot;application/x-www-form-urlencoded&quot;` in it","body":"it is set. i can tell because i have an interceptor and i see it in the headers. also generated code has <code>consumes = &quot;application&#47;x-www-form-urlencoded&quot;</code> in it"},{"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"score":0,"creation_date":1664790203,"post_id":73932899,"comment_id":130544268,"body_markdown":"just have checked and that call in not hitting the encoder you pointed out. that might be a problem too... i think problem is in my swagger markup, maybe it&#39;s not explicit enough for openapi to generate it the right way, idk","body":"just have checked and that call in not hitting the encoder you pointed out. that might be a problem too... i think problem is in my swagger markup, maybe it&#39;s not explicit enough for openapi to generate it the right way, idk"}],"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664788571,"creation_date":1664786006,"question_id":73932899,"body_markdown":"I have a swagger spec\r\n```\r\n/authentication-service/authorize:\r\n  post:\r\n    tags:\r\n      - Auth\r\n    summary: Authorize\r\n    requestBody:\r\n      content:\r\n        application/x-www-form-urlencoded:\r\n          schema:\r\n            properties:\r\n              redirect_uri:\r\n                type: string\r\n                example: http://localhost\r\n              client_id:\r\n                type: string\r\n                example: asdf\r\n          encoding:\r\n            redirect_uri:\r\n              allowReserved: true\r\n            client_id:\r\n              allowReserved: true\r\n    parameters:\r\n      - name: Content-Type\r\n        in: header\r\n        schema:\r\n          type: string\r\n        example: application/x-www-form-urlencoded\r\n    responses:\r\n      &#39;200&#39;:\r\n        description: Successful response\r\n        content:\r\n          application/json: {}\r\n```\r\nas you can see it is a `post` with content type of `x-www-form-urlencoded` with a `requestBody`.\r\n\r\nThis is what `org.openapitools:openapi-generator-maven-plugin:6.0.1` generates out of that:\r\n\r\n```\r\n    @Operation(\r\n        operationId = &quot;authenticationServiceAuthorizeGet&quot;,\r\n        summary = &quot;API-AS02 Authorize&quot;,\r\n        tags = { &quot;Auth&quot; },\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful response&quot;)\r\n        }\r\n    )\r\n    @RequestMapping(\r\n        method = RequestMethod.GET,\r\n        value = &quot;/authentication-service/authorize&quot;,\r\n        produces = &quot;application/json&quot;,\r\n        consumes = &quot;application/x-www-form-urlencoded&quot;\r\n    )\r\n    ResponseEntity&lt;Void&gt; authenticationServiceAuthorizePost(\r\n        @Parameter(name = &quot;Content-Type&quot;, description = &quot;&quot;) @RequestHeader(value = &quot;Content-Type&quot;, required = false) String contentType,\r\n        @Parameter(name = &quot;redirect_uri&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;redirect_uri&quot;, required = false) String redirectUri,\r\n        @Parameter(name = &quot;client_id&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;client_id&quot;, required = false) String clientId,\r\n \r\n...more params generated...\r\n    );\r\n```\r\n\r\nNow when I finally try to use this feign client, it compiles following request for me:\r\n\r\n```\r\n[POST] to [https://api-us-dev&lt;obfuscatedURL&gt;/authentication-service/authorize?redirect_uri=http%3A//localhost&amp;client_id=oidc_pkce....\r\n```\r\n\r\nSo as you can see the compiled feign client calls POST request with _encoded_ query params that were delcared as `requestBody` in the spec above.\r\n\r\nThis request is being rejected from the server. The server is avaiting those params to be encoded in the _body_ of the request.\r\n\r\nHowever that&#39;s how openapi generator &amp; feign client does it for me.\r\n\r\n2 questions on that:\r\n\r\n - Is it generated correctly?\r\n - Regardless of it being correct or not, I\r\n  need to send payload in the body as per server impl. Can you point\r\n  out to me how to change swagged spec for it to be encoded as body k=v\r\n  pairs?\r\n\r\nhttps://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign\r\n\r\ndoes not do it for me, the parameters are still encoded in the query instead of body","title":"Openapi feign client generation body/query param mismatch","body":"<p>I have a swagger spec</p>\n<pre><code>/authentication-service/authorize:\n  post:\n    tags:\n      - Auth\n    summary: Authorize\n    requestBody:\n      content:\n        application/x-www-form-urlencoded:\n          schema:\n            properties:\n              redirect_uri:\n                type: string\n                example: http://localhost\n              client_id:\n                type: string\n                example: asdf\n          encoding:\n            redirect_uri:\n              allowReserved: true\n            client_id:\n              allowReserved: true\n    parameters:\n      - name: Content-Type\n        in: header\n        schema:\n          type: string\n        example: application/x-www-form-urlencoded\n    responses:\n      '200':\n        description: Successful response\n        content:\n          application/json: {}\n</code></pre>\n<p>as you can see it is a <code>post</code> with content type of <code>x-www-form-urlencoded</code> with a <code>requestBody</code>.</p>\n<p>This is what <code>org.openapitools:openapi-generator-maven-plugin:6.0.1</code> generates out of that:</p>\n<pre><code>    @Operation(\n        operationId = &quot;authenticationServiceAuthorizeGet&quot;,\n        summary = &quot;API-AS02 Authorize&quot;,\n        tags = { &quot;Auth&quot; },\n        responses = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful response&quot;)\n        }\n    )\n    @RequestMapping(\n        method = RequestMethod.GET,\n        value = &quot;/authentication-service/authorize&quot;,\n        produces = &quot;application/json&quot;,\n        consumes = &quot;application/x-www-form-urlencoded&quot;\n    )\n    ResponseEntity&lt;Void&gt; authenticationServiceAuthorizePost(\n        @Parameter(name = &quot;Content-Type&quot;, description = &quot;&quot;) @RequestHeader(value = &quot;Content-Type&quot;, required = false) String contentType,\n        @Parameter(name = &quot;redirect_uri&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;redirect_uri&quot;, required = false) String redirectUri,\n        @Parameter(name = &quot;client_id&quot;, description = &quot;&quot;) @Valid @RequestParam(value = &quot;client_id&quot;, required = false) String clientId,\n \n...more params generated...\n    );\n</code></pre>\n<p>Now when I finally try to use this feign client, it compiles following request for me:</p>\n<pre><code>[POST] to [https://api-us-dev&lt;obfuscatedURL&gt;/authentication-service/authorize?redirect_uri=http%3A//localhost&amp;client_id=oidc_pkce....\n</code></pre>\n<p>So as you can see the compiled feign client calls POST request with <em>encoded</em> query params that were delcared as <code>requestBody</code> in the spec above.</p>\n<p>This request is being rejected from the server. The server is avaiting those params to be encoded in the <em>body</em> of the request.</p>\n<p>However that's how openapi generator &amp; feign client does it for me.</p>\n<p>2 questions on that:</p>\n<ul>\n<li>Is it generated correctly?</li>\n<li>Regardless of it being correct or not, I\nneed to send payload in the body as per server impl. Can you point\nout to me how to change swagged spec for it to be encoded as body k=v\npairs?</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign\">How to POST form-url-encoded data with Spring Cloud Feign</a></p>\n<p>does not do it for me, the parameters are still encoded in the query instead of body</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1664808081,"post_id":73926339,"comment_id":130550036,"body_markdown":"What error do you get, and where, when you try to make it not raw?","body":"What error do you get, and where, when you try to make it not raw?"},{"owner":{"account_id":22248768,"reputation":11,"user_id":18965881,"display_name":"Ivan Kaliuzhnyi"},"score":0,"creation_date":1664823883,"post_id":73926339,"comment_id":130554917,"body_markdown":"Actually, I don&#39;t get error. I just want to get an expert&#39;s solution- is my code structure correct or it&#39;s bad code. Because I&#39;m a newcomer java-developer and I have not enough experience.","body":"Actually, I don&#39;t get error. I just want to get an expert&#39;s solution- is my code structure correct or it&#39;s bad code. Because I&#39;m a newcomer java-developer and I have not enough experience."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1664831289,"post_id":73926339,"comment_id":130556871,"body_markdown":"Avoid raw types and classes as much as possible, especially if you are new to java.","body":"Avoid raw types and classes as much as possible, especially if you are new to java."}],"owner":{"account_id":22248768,"reputation":11,"user_id":18965881,"display_name":"Ivan Kaliuzhnyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664788223,"creation_date":1664718589,"question_id":73926339,"body_markdown":"I need a solution, is my code structure correct, or is it a bad code structure?  \r\nThe main problem is that compiler swears at the raw type.\r\n\r\n1. Is this code structure bad? Why? Is it correct?\r\n\r\n```\r\n@NoRepositoryBean\r\npublic interface EntityRepository&lt;E, ID extends Serializable&gt; extends JpaRepository&lt;E, ID&gt; {\r\n}\r\n    \r\n@NoRepositoryBean\r\npublic interface CatalogEntityRepository&lt;C extends Catalog.Main, E extends CatalogEntity, ID extends Serializable&gt;\r\n    \textends EntityRepository&lt;E, ID&gt;, Catalog.Able&lt;C&gt; {\r\n}\r\n    \r\n@Repository\r\npublic interface OrganizationEntityRepository extends CatalogEntityRepository&lt;OrganizationCatalog, OrganizationEntity, Long&gt; {\r\n    @Override\r\n    default OrganizationCatalog getCatalog() {\r\n    \treturn Context.getApplicationContext().getBean(OrganizationCatalog.class);\r\n    }\r\n}\r\n```\r\n\r\n2. Is this code structure bad? Why? Is it correct?\r\n```\r\n// Here I have some context class (CatalogEntityRepositoryContextImpl) that can find the repository which I need.\r\n\r\npublic interface EntityRepositoryContext&lt;R extends EntityRepository&gt; {\r\n    List&lt;R&gt; getAll();\r\n\r\n    Optional&lt;R&gt; find(String parentAlias);\r\n\r\n    default R get(String parentAlias) {\r\n        return find(parentAlias).orElseThrow(() -&gt; {\r\n            throw new NoSuchEntityRepositoryException(parentAlias);\r\n        });\r\n    }\r\n\r\n}\r\n\r\npublic interface CatalogEntityRepositoryContext&lt;R extends CatalogEntityRepository&gt;\r\n        extends EntityRepositoryContext&lt;R&gt; {\r\n    @Override\r\n    default Optional&lt;R&gt; find(String catalogAlias) {\r\n        return getAll().stream()\r\n                .filter(it -&gt; Objects.equals(it.getCatalog().getAlias(), catalogAlias))\r\n                .findFirst();\r\n    }\r\n\r\n    @Override\r\n    default R get(String catalogAlias) {\r\n        return find(catalogAlias).orElseThrow(() -&gt; {\r\n            throw new NoSuchCatalogEntityRepositoryException(catalogAlias);\r\n        });\r\n    }\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class CatalogEntityRepositoryContextImpl\r\n        implements CatalogEntityRepositoryContext&lt;CatalogEntityRepository&gt; {\r\n\r\n    @Getter\r\n    private final List&lt;CatalogEntityRepository&gt; all;\r\n\r\n}\r\n```\r\n\r\n3. And my main problem with raw type is: the code works, but I need confirmation from the guru that this code is not too bad, or give me some useful solutions, please.  \r\nI know raw type is bad practice. But I can&#39;t figure out how I can fix this in my situation.\r\n```\r\npublic interface CatalogEntityService&lt;C extends Catalog.Main, DS extends CatalogEntityDto.Single, DL extends CatalogEntityDto.Listable&gt;\r\n        extends EntityService&lt;DS, DL&gt;, Catalog.Able&lt;C&gt; {\r\n\r\n    private CatalogEntityRepository getRepository() {\r\n        CatalogEntityRepositoryContextImpl repositoryContext = Context.getCatalogEntityRepositoryContext();\r\n        return repositoryContext.get(getCatalog().getAlias());\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    default Long create(DS dto) {\r\n        var repository = getRepository();\r\n        var mapper = getMapper();\r\n        var entity = mapper.mapToEntity(dto);\r\n        var savedEntity = repository.save(entity); // HERE IS THE RAW TYPE! &quot;Unchecked call to &#39;save(S)&#39; as a member of raw type &#39;app.unibas.core.catalog.repository.CatalogEntityRepository&#39;&quot;\r\n        return (Long) savedEntity.getId();\r\n    }\r\n\r\n}\r\n```\r\n","title":"Multilevel inheritance, generic, raw type","body":"<p>I need a solution, is my code structure correct, or is it a bad code structure?<br />\nThe main problem is that compiler swears at the raw type.</p>\n<ol>\n<li>Is this code structure bad? Why? Is it correct?</li>\n</ol>\n<pre><code>@NoRepositoryBean\npublic interface EntityRepository&lt;E, ID extends Serializable&gt; extends JpaRepository&lt;E, ID&gt; {\n}\n    \n@NoRepositoryBean\npublic interface CatalogEntityRepository&lt;C extends Catalog.Main, E extends CatalogEntity, ID extends Serializable&gt;\n        extends EntityRepository&lt;E, ID&gt;, Catalog.Able&lt;C&gt; {\n}\n    \n@Repository\npublic interface OrganizationEntityRepository extends CatalogEntityRepository&lt;OrganizationCatalog, OrganizationEntity, Long&gt; {\n    @Override\n    default OrganizationCatalog getCatalog() {\n        return Context.getApplicationContext().getBean(OrganizationCatalog.class);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Is this code structure bad? Why? Is it correct?</li>\n</ol>\n<pre><code>// Here I have some context class (CatalogEntityRepositoryContextImpl) that can find the repository which I need.\n\npublic interface EntityRepositoryContext&lt;R extends EntityRepository&gt; {\n    List&lt;R&gt; getAll();\n\n    Optional&lt;R&gt; find(String parentAlias);\n\n    default R get(String parentAlias) {\n        return find(parentAlias).orElseThrow(() -&gt; {\n            throw new NoSuchEntityRepositoryException(parentAlias);\n        });\n    }\n\n}\n\npublic interface CatalogEntityRepositoryContext&lt;R extends CatalogEntityRepository&gt;\n        extends EntityRepositoryContext&lt;R&gt; {\n    @Override\n    default Optional&lt;R&gt; find(String catalogAlias) {\n        return getAll().stream()\n                .filter(it -&gt; Objects.equals(it.getCatalog().getAlias(), catalogAlias))\n                .findFirst();\n    }\n\n    @Override\n    default R get(String catalogAlias) {\n        return find(catalogAlias).orElseThrow(() -&gt; {\n            throw new NoSuchCatalogEntityRepositoryException(catalogAlias);\n        });\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class CatalogEntityRepositoryContextImpl\n        implements CatalogEntityRepositoryContext&lt;CatalogEntityRepository&gt; {\n\n    @Getter\n    private final List&lt;CatalogEntityRepository&gt; all;\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>And my main problem with raw type is: the code works, but I need confirmation from the guru that this code is not too bad, or give me some useful solutions, please.<br />\nI know raw type is bad practice. But I can't figure out how I can fix this in my situation.</li>\n</ol>\n<pre><code>public interface CatalogEntityService&lt;C extends Catalog.Main, DS extends CatalogEntityDto.Single, DL extends CatalogEntityDto.Listable&gt;\n        extends EntityService&lt;DS, DL&gt;, Catalog.Able&lt;C&gt; {\n\n    private CatalogEntityRepository getRepository() {\n        CatalogEntityRepositoryContextImpl repositoryContext = Context.getCatalogEntityRepositoryContext();\n        return repositoryContext.get(getCatalog().getAlias());\n    }\n\n    @Transactional\n    @Override\n    default Long create(DS dto) {\n        var repository = getRepository();\n        var mapper = getMapper();\n        var entity = mapper.mapToEntity(dto);\n        var savedEntity = repository.save(entity); // HERE IS THE RAW TYPE! &quot;Unchecked call to 'save(S)' as a member of raw type 'app.unibas.core.catalog.repository.CatalogEntityRepository'&quot;\n        return (Long) savedEntity.getId();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","drools","drools-guvnor"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1649365185,"post_id":71779841,"comment_id":126863955,"body_markdown":"What version of Drools?","body":"What version of Drools?"},{"owner":{"account_id":24856815,"reputation":81,"user_id":18733056,"display_name":"Samyak"},"score":0,"creation_date":1649395163,"post_id":71779841,"comment_id":126869034,"body_markdown":"drools version - 8.17.0.Beta","body":"drools version - 8.17.0.Beta"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1649443648,"post_id":71779841,"comment_id":126885862,"body_markdown":"Does the problem still exist if you use a non-beta version?","body":"Does the problem still exist if you use a non-beta version?"},{"owner":{"account_id":24856815,"reputation":81,"user_id":18733056,"display_name":"Samyak"},"score":0,"creation_date":1649651793,"post_id":71779841,"comment_id":126921010,"body_markdown":"Yes, it exists for non-beta version too.","body":"Yes, it exists for non-beta version too."}],"answers":[{"tags":[],"owner":{"account_id":26446267,"reputation":86,"user_id":20090078,"display_name":"Harsha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664788158,"creation_date":1664272025,"answer_id":73865533,"question_id":71779841,"body_markdown":"Trying using `${Column}` instead of `@{Column}`, it should resolve the problem.","title":"While reading Drools Drt with some empty values in excel file, The condition part in rule gets disappear for the Empty Values","body":"<p>Trying using <code>${Column}</code> instead of <code>@{Column}</code>, it should resolve the problem.</p>\n"}],"owner":{"account_id":24856815,"reputation":81,"user_id":18733056,"display_name":"Samyak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73865533,"answer_count":1,"score":1,"last_activity_date":1664788158,"creation_date":1649324580,"question_id":71779841,"body_markdown":"While running Drools DRT with some empty values in excel file gives an error .\r\n\r\n\r\nThis is the rule which we have used....\r\n\r\n    rule &quot;Rule1_@{row.rowNumber}&quot;\r\n    \r\n    when\r\n          variable:Fact((&quot;All&quot;==&quot;@{Column1}&quot; || (&quot;Gold&quot;==&quot;@{Column1}&quot; &amp;&amp; @{Column2} == \r\n          GoldId) || (&quot;Silver&quot;==&quot;@{Column1}&quot; &amp;&amp; @{Column2} == SilverId)) &amp;&amp; \r\n          (&quot;All&quot;==&quot;@{Column3}&quot; || (&quot;Diamond&quot;==&quot;@{Column3}&quot; &amp;&amp; @{Column4}== DiamondId) || \r\n          (&quot;Platinum&quot;==&quot;@{Column3}&quot; &amp;&amp; @{Column4}== PlatinumId)) &amp;&amp; (&quot;@{Column5}&quot; == \r\n          Column5) &amp;&amp; (&quot;@{Column6}&quot; == Column6))\r\n    then\r\n          list.add(@{Column7}+&quot;@{Column8}&quot;);\r\n    end\r\n\r\n\r\nAnd this is data which has been provided through excel sheet.\r\n\r\n[Data file(Excel file)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iQg4T.png\r\n\r\n\r\n\r\nWhen the cell in Excel is not empty the rule we get is this and its the rule which we want.\r\n\r\n    rule &quot;Rule1_1&quot;\r\n    \r\n    when\r\n          variable:Fact((&quot;All&quot;==&quot;Gold&quot; || (&quot;Gold&quot;==&quot;Gold&quot; &amp;&amp; 10 == GoldId) || \r\n          (&quot;Silver&quot;==&quot;Gold&quot; &amp;&amp; 10 == SilverId)) &amp;&amp; (&quot;All&quot;==&quot;Platinum&quot; || \r\n          (&quot;Diamond&quot;==&quot;Platinum&quot; &amp;&amp; 15== DiamondId) || (&quot;Platinum&quot;==&quot;Platinum&quot; &amp;&amp; 15== \r\n          PlatinumId)) &amp;&amp; (&quot;GoldPlatinum&quot; == Column5) &amp;&amp; (&quot;Discount&quot; == Column6))\r\n    then\r\n          list.add(2+&quot;Customer&quot;);\r\n    end\r\n\r\nbut when the cell in excel is empty, for example:Column1=All;Column2=empty;Column3=Diamond;Column4=9\r\nand so on from first row of excel sheet.\r\n\r\nthe rule generated is this...\r\n\r\n    rule &quot;Rule1_2&quot;\r\n    \r\n    when\r\n          //Here it shows nothing\r\n          //only for this part it is full empty because of empty value in excel cell\r\n    then\r\n          list.add(1+&quot;Customer&quot;);\r\n    end\r\n\r\nthe condition part gets disappeared when the value for specific parameters gets empty.\r\nJust like in this case the the value in Column3 was empty.\r\n\r\n\r\nIs there any solution where we can run DRT file with an empty cell in excel file.\r\n\r\n","title":"While reading Drools Drt with some empty values in excel file, The condition part in rule gets disappear for the Empty Values","body":"<p>While running Drools DRT with some empty values in excel file gives an error .</p>\n<p>This is the rule which we have used....</p>\n<pre><code>rule &quot;Rule1_@{row.rowNumber}&quot;\n\nwhen\n      variable:Fact((&quot;All&quot;==&quot;@{Column1}&quot; || (&quot;Gold&quot;==&quot;@{Column1}&quot; &amp;&amp; @{Column2} == \n      GoldId) || (&quot;Silver&quot;==&quot;@{Column1}&quot; &amp;&amp; @{Column2} == SilverId)) &amp;&amp; \n      (&quot;All&quot;==&quot;@{Column3}&quot; || (&quot;Diamond&quot;==&quot;@{Column3}&quot; &amp;&amp; @{Column4}== DiamondId) || \n      (&quot;Platinum&quot;==&quot;@{Column3}&quot; &amp;&amp; @{Column4}== PlatinumId)) &amp;&amp; (&quot;@{Column5}&quot; == \n      Column5) &amp;&amp; (&quot;@{Column6}&quot; == Column6))\nthen\n      list.add(@{Column7}+&quot;@{Column8}&quot;);\nend\n</code></pre>\n<p>And this is data which has been provided through excel sheet.</p>\n<p><a href=\"https://i.stack.imgur.com/iQg4T.png\" rel=\"nofollow noreferrer\">Data file(Excel file)</a></p>\n<p>When the cell in Excel is not empty the rule we get is this and its the rule which we want.</p>\n<pre><code>rule &quot;Rule1_1&quot;\n\nwhen\n      variable:Fact((&quot;All&quot;==&quot;Gold&quot; || (&quot;Gold&quot;==&quot;Gold&quot; &amp;&amp; 10 == GoldId) || \n      (&quot;Silver&quot;==&quot;Gold&quot; &amp;&amp; 10 == SilverId)) &amp;&amp; (&quot;All&quot;==&quot;Platinum&quot; || \n      (&quot;Diamond&quot;==&quot;Platinum&quot; &amp;&amp; 15== DiamondId) || (&quot;Platinum&quot;==&quot;Platinum&quot; &amp;&amp; 15== \n      PlatinumId)) &amp;&amp; (&quot;GoldPlatinum&quot; == Column5) &amp;&amp; (&quot;Discount&quot; == Column6))\nthen\n      list.add(2+&quot;Customer&quot;);\nend\n</code></pre>\n<p>but when the cell in excel is empty, for example:Column1=All;Column2=empty;Column3=Diamond;Column4=9\nand so on from first row of excel sheet.</p>\n<p>the rule generated is this...</p>\n<pre><code>rule &quot;Rule1_2&quot;\n\nwhen\n      //Here it shows nothing\n      //only for this part it is full empty because of empty value in excel cell\nthen\n      list.add(1+&quot;Customer&quot;);\nend\n</code></pre>\n<p>the condition part gets disappeared when the value for specific parameters gets empty.\nJust like in this case the the value in Column3 was empty.</p>\n<p>Is there any solution where we can run DRT file with an empty cell in excel file.</p>\n"},{"tags":["java","spring","service"],"answers":[{"tags":[],"owner":{"account_id":18412008,"reputation":29,"user_id":13583984,"display_name":"aarans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664787457,"creation_date":1664787457,"answer_id":73933168,"question_id":73911579,"body_markdown":"You will always get null since you don&#39;t set any value in class1 in CalledLaterMethod, in that class you just instantiate object class1 without set the value in that object, unless you pass the value class1 from parameter in CalledLaterMethod. I assume OtherClass1 is Class1 object which will be passed, you can do something like this if you don&#39;t want to change the parameter in CalledLaterMethod\r\n\r\n  \r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n    public class Service2{\r\n        \r\n           public static Class1 transerValue(Class1 class1){\r\n           //log will work\r\n           log.info(&quot;Well this data show ={}&quot;,class1 );\r\n           return class1;\r\n           }\r\n           \r\n           //this method CalledLaterMethod will be called later and i must get the value being transfer in transerValue\r\n           // and must not change the parameter of CalledLaterMethod\r\n           public static Class2 CalledLaterMethod(OtherClass1 other1,OtherClass other2 ){\r\n           \r\n           // assign object from parameter to a new object called class1\r\n           Class1 class1 = other1;\r\n           Class1 classClone = transerValue(class1)\r\n           log.info(classClone);\r\n           \r\n           //trying to do\r\n           \r\n          Class2 class2 = Class2.builder.\r\n           .param4(classClone.getParam1)\r\n           .param5(classClone.getParam2)\r\n           build();\r\n           \r\n           return class2;\r\n           \r\n           }\r\n    \r\n        }","title":"Spring get the value from other method when called","body":"<p>You will always get null since you don't set any value in class1 in CalledLaterMethod, in that class you just instantiate object class1 without set the value in that object, unless you pass the value class1 from parameter in CalledLaterMethod. I assume OtherClass1 is Class1 object which will be passed, you can do something like this if you don't want to change the parameter in CalledLaterMethod</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Service2{\n    \n       public static Class1 transerValue(Class1 class1){\n       //log will work\n       log.info(&quot;Well this data show ={}&quot;,class1 );\n       return class1;\n       }\n       \n       //this method CalledLaterMethod will be called later and i must get the value being transfer in transerValue\n       // and must not change the parameter of CalledLaterMethod\n       public static Class2 CalledLaterMethod(OtherClass1 other1,OtherClass other2 ){\n       \n       // assign object from parameter to a new object called class1\n       Class1 class1 = other1;\n       Class1 classClone = transerValue(class1)\n       log.info(classClone);\n       \n       //trying to do\n       \n      Class2 class2 = Class2.builder.\n       .param4(classClone.getParam1)\n       .param5(classClone.getParam2)\n       build();\n       \n       return class2;\n       \n       }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":26494197,"reputation":3,"user_id":20132206,"display_name":"Suusus Ayayya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664787457,"creation_date":1664555211,"question_id":73911579,"body_markdown":"Implementation:\r\nIn Service1 will return a Value in Service2 in the method transerValue but when CalledLaterMethod will later be called but when i try to access transerValue inside CalledLaterMethod its null.\r\nIs there possible way to store the value in transerValue  and wait CalledLaterMethod being called and get the value? For any solution kindly let me know\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class Class1{\r\n\r\n  private String param1;\r\n  private String param2;\r\n\r\n}\r\n```\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class Class2{\r\n\r\n  private String param4;\r\n  private String param5;\r\n\r\n}\r\n\r\n```\r\n```\r\n@Slf4j\r\n@Service\r\npublic class Service1{\r\n\r\n\r\n// with method for validationString\r\n  \r\n  \r\n  \r\n  public Class1 validationString(String val1, String val2){\r\n  \r\n        String present = &quot;PRESENT&quot;;\r\n        String empty = &quot;EMPTY&quot;;\r\n\r\n        String param1Transfer = &quot;&quot;;\r\n        String param2Transfer = &quot;&quot;;\r\n\t\t\r\n\t\t if(val1.isEmpty()) param1Transfer = empty;\r\n        else param1Transfer = present;\r\n        if(val2.isEmpty()) param2Transfer = empty;\r\n        else param2Transfer = present;\r\n         Class1 class1 = Class1.builder()\r\n                .param1(param1Transfer)\r\n                .param2(param2Transfer)\r\n                .build();\r\n\t\treturn Service2.transerValue(class1);\r\n\r\n  }\r\n\r\n}\r\n\r\n```\r\n```\r\n@Slf4j\r\n@Service\r\npublic class Service2{\r\n\r\n   public static Class1 transerValue(Class1 class1){\r\n   //log will work\r\n   log.info(&quot;Well this data show ={}&quot;,class1 );\r\n   return class1;\r\n   }\r\n   \r\n   //this method CalledLaterMethod will be called later and i must get the value being transfer in transerValue\r\n   // and must not change the parameter of CalledLaterMethod\r\n   public static Class2 CalledLaterMethod(OtherClass1 other1,OtherClass other2 ){\r\n   \r\n   // i tried\r\n   //this is null\r\n   Class1 class1 = new Class1();\r\n   Class1 classClone = transerValue(class1)\r\n   log.info(classClone);\r\n   \r\n   //trying to do\r\n   \r\n  Class2 class2 = Class2.builder.\r\n   .param4(classClone.getParam1)\r\n   .param5(classClone.getParam2)\r\n   build();\r\n   \r\n   return class2;\r\n   \r\n   }\r\n\r\n}\r\n```","title":"Spring get the value from other method when called","body":"<p>Implementation:\nIn Service1 will return a Value in Service2 in the method transerValue but when CalledLaterMethod will later be called but when i try to access transerValue inside CalledLaterMethod its null.\nIs there possible way to store the value in transerValue  and wait CalledLaterMethod being called and get the value? For any solution kindly let me know</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Class1{\n\n  private String param1;\n  private String param2;\n\n}\n</code></pre>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Class2{\n\n  private String param4;\n  private String param5;\n\n}\n\n</code></pre>\n<pre><code>@Slf4j\n@Service\npublic class Service1{\n\n\n// with method for validationString\n  \n  \n  \n  public Class1 validationString(String val1, String val2){\n  \n        String present = &quot;PRESENT&quot;;\n        String empty = &quot;EMPTY&quot;;\n\n        String param1Transfer = &quot;&quot;;\n        String param2Transfer = &quot;&quot;;\n        \n         if(val1.isEmpty()) param1Transfer = empty;\n        else param1Transfer = present;\n        if(val2.isEmpty()) param2Transfer = empty;\n        else param2Transfer = present;\n         Class1 class1 = Class1.builder()\n                .param1(param1Transfer)\n                .param2(param2Transfer)\n                .build();\n        return Service2.transerValue(class1);\n\n  }\n\n}\n\n</code></pre>\n<pre><code>@Slf4j\n@Service\npublic class Service2{\n\n   public static Class1 transerValue(Class1 class1){\n   //log will work\n   log.info(&quot;Well this data show ={}&quot;,class1 );\n   return class1;\n   }\n   \n   //this method CalledLaterMethod will be called later and i must get the value being transfer in transerValue\n   // and must not change the parameter of CalledLaterMethod\n   public static Class2 CalledLaterMethod(OtherClass1 other1,OtherClass other2 ){\n   \n   // i tried\n   //this is null\n   Class1 class1 = new Class1();\n   Class1 classClone = transerValue(class1)\n   log.info(classClone);\n   \n   //trying to do\n   \n  Class2 class2 = Class2.builder.\n   .param4(classClone.getParam1)\n   .param5(classClone.getParam2)\n   build();\n   \n   return class2;\n   \n   }\n\n}\n</code></pre>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664787260,"creation_date":1664538388,"answer_id":73908258,"question_id":73907049,"body_markdown":"I believe I have found a simpler solution which serves my need. The method Mono::repeat(BooleanSuplier) allows me to loop until the list is empty, simply by:\r\n\r\n```\r\nMono.fromCallable(() -&gt; repository.nextBatch())\r\n  .flatMap(/* do some stuff here */)\r\n  .repeat(() -&gt; repository.hasNext())\r\n```\r\n\r\nIf other more elegant solutions exist, I am still open for suggestions.","title":"Creating a loop using spring-webflux and avoid memory issues","body":"<p>I believe I have found a simpler solution which serves my need. The method Mono::repeat(BooleanSuplier) allows me to loop until the list is empty, simply by:</p>\n<pre><code>Mono.fromCallable(() -&gt; repository.nextBatch())\n  .flatMap(/* do some stuff here */)\n  .repeat(() -&gt; repository.hasNext())\n</code></pre>\n<p>If other more elegant solutions exist, I am still open for suggestions.</p>\n"}],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73908258,"answer_count":1,"score":0,"last_activity_date":1664787260,"creation_date":1664532103,"question_id":73907049,"body_markdown":"I am currently working on a project where I need to create a loop using spring webflux to generate a Flux for downstream processing. The loop should sequentially take batches of elements from a source (in this instance a repository) and pass the elements as signal in a Flux. To acquire the elements, we have a repository method which fetches the next batch. When all elements have been processed, the method yields an empty List.\r\n\r\nI have identified that I can use Flux::generate in the following manner:\r\n\r\n```\r\nFlux.&lt;List&lt;Object&gt;&gt;generate(sink -&gt; {\r\n  List&lt;Object&gt; batch = repository.fetch();\r\n  if (batch.isEmpty()) {\r\n    sink.complete();\r\n  } else {\r\n    sink.next(batch);\r\n  }\r\n})\r\n...\r\n```\r\n\r\nHowever, when I use this, the argument method runs continuously, buffering until I run out of memory.\r\n\r\nI have also tried using Flux::create, but I am struggling to find an appropriate approach. I have found that I can do the following:\r\n\r\n```\r\nConsumer&lt;Integer&gt; sinker;\r\n\r\nFlux&lt;?&gt; createFlux() {\r\n  return Flux.&lt;List&lt;Object&gt;&gt;create(sink -&gt; sinker = integer -&gt; {\r\n    List&lt;Object&gt; batch = repository.fetch();\r\n    if (batch.isEmpty()) {\r\n      sink.complete();\r\n    } else {\r\n      sink.next(batch);\r\n    }\r\n  })\r\n  ...\r\n  .doOnNext(x -&gt; sinker.accept(y))\r\n  ...\r\n}\r\n```\r\nThen I just need to call the Consumer initially to initiate the loop.\r\n\r\nHowever, I feel like I am overly complicating a job which should have a fairly standard implementation. Also, this implementation requires secondary calls to get started, and I haven&#39;t found a decent way to initiate it within the pipeline (for instance, using .onSubscribe() doesn&#39;t work, as it attempts to call the Consumer before it has been assigned).\r\n\r\nSo in summary, I am looking for a simple way to create an unbounded loop while controlling the backpressure to avoid outOfMemory-errors.","title":"Creating a loop using spring-webflux and avoid memory issues","body":"<p>I am currently working on a project where I need to create a loop using spring webflux to generate a Flux for downstream processing. The loop should sequentially take batches of elements from a source (in this instance a repository) and pass the elements as signal in a Flux. To acquire the elements, we have a repository method which fetches the next batch. When all elements have been processed, the method yields an empty List.</p>\n<p>I have identified that I can use Flux::generate in the following manner:</p>\n<pre><code>Flux.&lt;List&lt;Object&gt;&gt;generate(sink -&gt; {\n  List&lt;Object&gt; batch = repository.fetch();\n  if (batch.isEmpty()) {\n    sink.complete();\n  } else {\n    sink.next(batch);\n  }\n})\n...\n</code></pre>\n<p>However, when I use this, the argument method runs continuously, buffering until I run out of memory.</p>\n<p>I have also tried using Flux::create, but I am struggling to find an appropriate approach. I have found that I can do the following:</p>\n<pre><code>Consumer&lt;Integer&gt; sinker;\n\nFlux&lt;?&gt; createFlux() {\n  return Flux.&lt;List&lt;Object&gt;&gt;create(sink -&gt; sinker = integer -&gt; {\n    List&lt;Object&gt; batch = repository.fetch();\n    if (batch.isEmpty()) {\n      sink.complete();\n    } else {\n      sink.next(batch);\n    }\n  })\n  ...\n  .doOnNext(x -&gt; sinker.accept(y))\n  ...\n}\n</code></pre>\n<p>Then I just need to call the Consumer initially to initiate the loop.</p>\n<p>However, I feel like I am overly complicating a job which should have a fairly standard implementation. Also, this implementation requires secondary calls to get started, and I haven't found a decent way to initiate it within the pipeline (for instance, using .onSubscribe() doesn't work, as it attempts to call the Consumer before it has been assigned).</p>\n<p>So in summary, I am looking for a simple way to create an unbounded loop while controlling the backpressure to avoid outOfMemory-errors.</p>\n"},{"tags":["java","spring-boot","csv"],"answers":[{"tags":[],"owner":{"account_id":16338499,"reputation":180,"user_id":11799970,"display_name":"Orfeas Magoulas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664786239,"creation_date":1664786239,"answer_id":73932941,"question_id":73932742,"body_markdown":"You can enter the string directly, without using MediaType. For example: `produces = &quot;text/csv&quot;`. `text/plain` should work just fine though, since a csv file is just comma seperated text.","title":"Spring Boot, download CSV File, Swagger Produces Media Type","body":"<p>You can enter the string directly, without using MediaType. For example: <code>produces = &quot;text/csv&quot;</code>. <code>text/plain</code> should work just fine though, since a csv file is just comma seperated text.</p>\n"},{"tags":[],"owner":{"account_id":6160013,"reputation":111,"user_id":4801932,"display_name":"Marko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664787234,"creation_date":1664787234,"answer_id":73933125,"question_id":73932742,"body_markdown":"octet-stream can be also used whenever you are returning file as byte array (ResponseEntity&lt;byte[]&gt;) from your API. Also as @Orfeas mentioned you don&#39;t have to use values from MediaType. Also produces are not required so you don&#39;t have to specify it. in this case swagger generated will looks like this:\r\n\r\n    responses:\r\n            200:\r\n              description: &quot;Data was successfully sent&quot;\r\n              schema:\r\n                type: &quot;array&quot;\r\n                items:\r\n                  type: &quot;string&quot;\r\n                  format: &quot;byte&quot;\r\n\r\nOn the ui side if you are using javascript f.e. or any javascript framework you can use Blob type to process response from the server. \r\n\r\nMaybe there is better solution for it but I usually using this one.","title":"Spring Boot, download CSV File, Swagger Produces Media Type","body":"<p>octet-stream can be also used whenever you are returning file as byte array (ResponseEntity&lt;byte[]&gt;) from your API. Also as @Orfeas mentioned you don't have to use values from MediaType. Also produces are not required so you don't have to specify it. in this case swagger generated will looks like this:</p>\n<pre><code>responses:\n        200:\n          description: &quot;Data was successfully sent&quot;\n          schema:\n            type: &quot;array&quot;\n            items:\n              type: &quot;string&quot;\n              format: &quot;byte&quot;\n</code></pre>\n<p>On the ui side if you are using javascript f.e. or any javascript framework you can use Blob type to process response from the server.</p>\n<p>Maybe there is better solution for it but I usually using this one.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73932941,"answer_count":2,"score":1,"last_activity_date":1664787234,"creation_date":1664785052,"question_id":73932742,"body_markdown":"I am writing a Spring Boot SwaggerOpen API that will download/get a CSV File Template.\r\nWhat should be the `produces = MediaType` ? I cannot find CSV below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/snrvu.png","title":"Spring Boot, download CSV File, Swagger Produces Media Type","body":"<p>I am writing a Spring Boot SwaggerOpen API that will download/get a CSV File Template.\nWhat should be the <code>produces = MediaType</code> ? I cannot find CSV below.</p>\n<p><a href=\"https://i.stack.imgur.com/snrvu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snrvu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-fragments","navigation-drawer","android-notifications"],"answers":[{"tags":[],"owner":{"account_id":20388802,"reputation":11,"user_id":14957145,"display_name":"MrXANA91"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664787114,"creation_date":1664787114,"answer_id":73933111,"question_id":73672103,"body_markdown":"Alright! I figured it out.&lt;br/&gt;\r\nI had to change some things inside the navigation menu (mobile_navigation.xml) by creating two actions :\r\n- One that navigates from the Home fragment to the Motion fragment\r\n- One that navigates from the Home fragment to the Dashboard fragment&lt;br/&gt;\r\nEach of those two actions are setup with popUpTo and popUpToInclusive.\r\n\r\n**mobile_navigation.xml (extract)**\r\n```\r\n&lt;action\r\n    android:id=&quot;@+id/action_nav_home_to_nav_dashboard&quot;\r\n    app:destination=&quot;@id/nav_dashboard&quot;\r\n    app:launchSingleTop=&quot;false&quot;\r\n    app:popUpTo=&quot;@id/nav_home&quot;\r\n    app:popUpToInclusive=&quot;true&quot; /&gt;\r\n```\r\n\r\nThen, instead of directly using the id of the navigation fragment as argument for the &quot;navigate&quot; function, I use the corresponding actions.\r\n\r\n**MainActivity.java - onCreate (extract)**\r\n```\r\n        Intent intent = getIntent();\r\n        String fragmentName = intent.getStringExtra(FRAGMENTNAME);\r\n        if (fragmentName == null) fragmentName = &quot;&quot;;\r\n        switch (fragmentName) {\r\n            case &quot;motion&quot;:\r\n                navController.navigate(R.id.action_nav_home_to_nav_motion);\r\n                break;\r\n            case &quot;dashboard&quot;:\r\n                navController.navigate(R.id.action_nav_home_to_nav_dashboard);\r\n                break;\r\n            case &quot;home&quot;:\r\n            default:\r\n                // No action needed requesting the Home fragment as it&#39;s already the starting fragment\r\n                break;\r\n        }\r\n```\r\n\r\nAfter all those changes, clicking the notification still displays the Motion fragment as intended, and clicking the &quot;Accueil&quot; button in the navigation drawer displays the Home fragment as wanted.&lt;br/&gt;\r\nSolved!","title":"Trying to change the starting fragment causes the navigation drawer to malfunction","body":"<p>Alright! I figured it out.<br/>\nI had to change some things inside the navigation menu (mobile_navigation.xml) by creating two actions :</p>\n<ul>\n<li>One that navigates from the Home fragment to the Motion fragment</li>\n<li>One that navigates from the Home fragment to the Dashboard fragment<br/>\nEach of those two actions are setup with popUpTo and popUpToInclusive.</li>\n</ul>\n<p><strong>mobile_navigation.xml (extract)</strong></p>\n<pre><code>&lt;action\n    android:id=&quot;@+id/action_nav_home_to_nav_dashboard&quot;\n    app:destination=&quot;@id/nav_dashboard&quot;\n    app:launchSingleTop=&quot;false&quot;\n    app:popUpTo=&quot;@id/nav_home&quot;\n    app:popUpToInclusive=&quot;true&quot; /&gt;\n</code></pre>\n<p>Then, instead of directly using the id of the navigation fragment as argument for the &quot;navigate&quot; function, I use the corresponding actions.</p>\n<p><strong>MainActivity.java - onCreate (extract)</strong></p>\n<pre><code>        Intent intent = getIntent();\n        String fragmentName = intent.getStringExtra(FRAGMENTNAME);\n        if (fragmentName == null) fragmentName = &quot;&quot;;\n        switch (fragmentName) {\n            case &quot;motion&quot;:\n                navController.navigate(R.id.action_nav_home_to_nav_motion);\n                break;\n            case &quot;dashboard&quot;:\n                navController.navigate(R.id.action_nav_home_to_nav_dashboard);\n                break;\n            case &quot;home&quot;:\n            default:\n                // No action needed requesting the Home fragment as it's already the starting fragment\n                break;\n        }\n</code></pre>\n<p>After all those changes, clicking the notification still displays the Motion fragment as intended, and clicking the &quot;Accueil&quot; button in the navigation drawer displays the Home fragment as wanted.<br/>\nSolved!</p>\n"}],"owner":{"account_id":20388802,"reputation":11,"user_id":14957145,"display_name":"MrXANA91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73933111,"answer_count":1,"score":1,"last_activity_date":1664787114,"creation_date":1662815764,"question_id":73672103,"body_markdown":"I am having a hard time understanding what I am doing wrong, so I hope you&#39;ll be able to help me.\r\n\r\n**Context :** &lt;br/&gt;\r\n\r\nI am building an Android application using Android Studio to control and monitor my IoT devices in my house.\r\nI started with the Navigation Drawer Activity example, so I have 3 fragments and a navigation drawer :\r\n- ***Home fragment (&quot;Accueil&quot;)*** : first fragment to appear with two tests button to create notifications\r\n- ***Motion fragment (&quot;Camera de surveillance&quot;)*** : fragment displaying a webview for camera stream\r\n- ***Dashboard fragment (&quot;Tableau de bord&quot;)*** : fragment displaying another webview\r\n\r\n[Navigation drawer][1] &lt;br/&gt;\r\n[Home fragment][2] &lt;br/&gt;\r\n\r\nI am currently working with a notification that opens my app directly into the Motion fragment. To do this, I am using an extra with the pendingIntent sent by the notification. Depending on its value, inside the *onCreate* function of the MainActivity, the navController is forced to display the asked fragment. In my case, I want the notification to display the Motion fragment (&quot;Camera de surveillance&quot;).\r\n\r\n[Notification][3]\r\n\r\n```\r\nIntent intent = getIntent();\r\nString fragmentName = intent.getStringExtra(FRAGMENTNAME);\r\nif (fragmentName == null) fragmentName = &quot;&quot;;\r\nswitch (fragmentName) {\r\n    case &quot;motion&quot;:\r\n        navController.navigate(R.id.nav_motion);\r\n        break;\r\n    case &quot;dashboard&quot;:\r\n        navController.navigate(R.id.nav_dashboard);\r\n        break;\r\n    case &quot;home&quot;:\r\n    default:\r\n        navController.navigate(R.id.nav_home);\r\n        break;\r\n}\r\n```\r\n\r\nSo then, the test : I open my app, click on the test button &quot;Button 1&quot; to display the notification, close my app, click on the notification, and Bingo! The Motion fragment opens first!\r\nThis works perfectly... or so I thought.\r\n\r\n**The issue :**&lt;br/&gt;\r\nBy doing so, I get a weird behavior when the app has been opened from the notification: I can&#39;t get to the Home fragment.&lt;br/&gt;\r\nIn the navigation drawer, clicking on the &quot;Accueil&quot; menu to open the Home fragment opens the Motion fragment (&quot;Camera de surveillance&quot;). To see the Home fragment, I need to exit the application and open it again. &lt;br/&gt;\r\nI am guessing that clicking on the &quot;Accueil&quot; button on the navigation drawer to display the Home fragment resets the MainActivity and calls the *onCreate* function, but that doesn&#39;t make sense to me as this function is the first callback when the application is created and is not called afterward, is it?\r\nHas anyone got an idea of what is really happening and how I can get the wanted behavior?\r\n\r\n**Edit :**\r\nAfter some debugging, using a notification as an indicator, I found that the onCreate function of MainActivity is being called only once at start-up. Moreover, when the navigation drawer is in its &quot;weird behavior&quot; state, clicking the &quot;back&quot; navigation button brings back the Home fragment and corrects the &quot;weird behavior&quot; of the navigation drawer.&lt;br/&gt;\r\nWhat is happening is that the function I use to change the first fragment is the &quot;navigate&quot; function from the navigation controller. It keeps in memory that from the Home fragment (the true first fragment to be displayed), I navigated to the Motion fragment. So as long as I don&#39;t go back the navigation backstack by pressing the &quot;Back&quot; button, it keeps in memory that, when I click on the Home fragment, I navigated to the Motion fragment. &lt;br/&gt;\r\nI need to either find a way to delete that navigation history, or find another way to display the Motion fragment at the beginning.\r\n\r\n**Full file source :** &lt;br/&gt;\r\nMainActivity.java \r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    public static final String FRAGMENTNAME = &quot;com.mrxana91dev.maisonpaul.fragmentstartname&quot;;\r\n\r\n    public NotificationManagerCompat notificationManagerCompat;\r\n\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    private ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        setSupportActionBar(binding.appBarMain.toolbar);\r\n        binding.appBarMain.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n            }\r\n        });\r\n        DrawerLayout drawer = binding.drawerLayout;\r\n        NavigationView navigationView = binding.navView;\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_home, R.id.nav_motion, R.id.nav_dashboard)\r\n                .setOpenableLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\n        this.notificationManagerCompat = NotificationManagerCompat.from(this);\r\n\r\n        // ADDED CODE TO CHANGE FIRST FRAGMENT DEPENDING ON FRAGMENTNAME EXTRA\r\n        Intent intent = getIntent();\r\n        String fragmentName = intent.getStringExtra(FRAGMENTNAME);\r\n        if (fragmentName == null) fragmentName = &quot;&quot;;\r\n        switch (fragmentName) {\r\n            case &quot;motion&quot;:\r\n                navController.navigate(R.id.nav_motion);\r\n                break;\r\n            case &quot;dashboard&quot;:\r\n                navController.navigate(R.id.nav_dashboard);\r\n                break;\r\n            case &quot;home&quot;:\r\n            default:\r\n                navController.navigate(R.id.nav_home);\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle item selection\r\n        switch (item.getItemId()) {\r\n            case R.id.action_settings:\r\n                Intent intent = new Intent(this, SettingsActivity.class);\r\n                startActivity(intent);\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**HomeFragment.java**\r\n```\r\npublic class HomeFragment extends Fragment {\r\n    public static final String EXTRA_FRAGMENT = &quot;com.mrxana91dev.maisonpaul.fragmentstartname&quot;;\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        HomeViewModel homeViewModel =\r\n                new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        final TextView textView = binding.textHome;\r\n        final TextView textView2 = binding.textView2;\r\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        homeViewModel.getText2().observe(getViewLifecycleOwner(), textView2::setText);\r\n\r\n        final Button testButton1 = binding.testButton1;\r\n        final Button testButton2 = binding.testButton2;\r\n        testButton1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sendOnChannel1();\r\n            }\r\n        });\r\n        testButton2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sendOnChannel2();\r\n            }\r\n        });\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    private void sendOnChannel1()  {\r\n        String title = &quot;Maison Paul - Test notification&quot;;\r\n        String message = &quot;Mouvement rep&#233;r&#233; !&quot;;\r\n\r\n        MainActivity mainActivity = (MainActivity) getActivity();\r\n\r\n        Intent intent = new Intent(mainActivity, MainActivity.class);\r\n        intent.putExtra(EXTRA_FRAGMENT, &quot;motion&quot;);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(mainActivity, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_MUTABLE);\r\n\r\n        Notification notification = new NotificationCompat.Builder(mainActivity, NotificationApp.CHANNEL_1_ID)\r\n                .setSmallIcon(R.drawable.ic_baseline_home_24)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setCategory(NotificationCompat.CATEGORY_MESSAGE)\r\n                .setContentIntent(pendingIntent)\r\n                .setAutoCancel(true)\r\n                .build();\r\n\r\n        int notificationId = 1;\r\n        mainActivity.notificationManagerCompat.notify(notificationId, notification);\r\n    }\r\n\r\n    private void sendOnChannel2()  {\r\n        String title = &quot;Maison Paul - Test notification&quot;;\r\n        String message = &quot;Notification from channel 2 !&quot;;\r\n\r\n        MainActivity mainActivity = (MainActivity) getActivity();\r\n\r\n        Notification notification = new NotificationCompat.Builder(mainActivity, NotificationApp.CHANNEL_2_ID)\r\n                .setSmallIcon(R.drawable.ic_menu_camera)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                .setCategory(NotificationCompat.CATEGORY_PROMO) // Promotion.\r\n                .build();\r\n\r\n        int notificationId = 2;\r\n        mainActivity.notificationManagerCompat.notify(notificationId, notification);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OHDtK.png\r\n  [2]: https://i.stack.imgur.com/3sksz.png\r\n  [3]: https://i.stack.imgur.com/jydDb.png","title":"Trying to change the starting fragment causes the navigation drawer to malfunction","body":"<p>I am having a hard time understanding what I am doing wrong, so I hope you'll be able to help me.</p>\n<p><strong>Context :</strong> <br/></p>\n<p>I am building an Android application using Android Studio to control and monitor my IoT devices in my house.\nI started with the Navigation Drawer Activity example, so I have 3 fragments and a navigation drawer :</p>\n<ul>\n<li><em><strong>Home fragment (&quot;Accueil&quot;)</strong></em> : first fragment to appear with two tests button to create notifications</li>\n<li><em><strong>Motion fragment (&quot;Camera de surveillance&quot;)</strong></em> : fragment displaying a webview for camera stream</li>\n<li><em><strong>Dashboard fragment (&quot;Tableau de bord&quot;)</strong></em> : fragment displaying another webview</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/OHDtK.png\" rel=\"nofollow noreferrer\">Navigation drawer</a> <br/>\n<a href=\"https://i.stack.imgur.com/3sksz.png\" rel=\"nofollow noreferrer\">Home fragment</a> <br/></p>\n<p>I am currently working with a notification that opens my app directly into the Motion fragment. To do this, I am using an extra with the pendingIntent sent by the notification. Depending on its value, inside the <em>onCreate</em> function of the MainActivity, the navController is forced to display the asked fragment. In my case, I want the notification to display the Motion fragment (&quot;Camera de surveillance&quot;).</p>\n<p><a href=\"https://i.stack.imgur.com/jydDb.png\" rel=\"nofollow noreferrer\">Notification</a></p>\n<pre><code>Intent intent = getIntent();\nString fragmentName = intent.getStringExtra(FRAGMENTNAME);\nif (fragmentName == null) fragmentName = &quot;&quot;;\nswitch (fragmentName) {\n    case &quot;motion&quot;:\n        navController.navigate(R.id.nav_motion);\n        break;\n    case &quot;dashboard&quot;:\n        navController.navigate(R.id.nav_dashboard);\n        break;\n    case &quot;home&quot;:\n    default:\n        navController.navigate(R.id.nav_home);\n        break;\n}\n</code></pre>\n<p>So then, the test : I open my app, click on the test button &quot;Button 1&quot; to display the notification, close my app, click on the notification, and Bingo! The Motion fragment opens first!\nThis works perfectly... or so I thought.</p>\n<p><strong>The issue :</strong><br/>\nBy doing so, I get a weird behavior when the app has been opened from the notification: I can't get to the Home fragment.<br/>\nIn the navigation drawer, clicking on the &quot;Accueil&quot; menu to open the Home fragment opens the Motion fragment (&quot;Camera de surveillance&quot;). To see the Home fragment, I need to exit the application and open it again. <br/>\nI am guessing that clicking on the &quot;Accueil&quot; button on the navigation drawer to display the Home fragment resets the MainActivity and calls the <em>onCreate</em> function, but that doesn't make sense to me as this function is the first callback when the application is created and is not called afterward, is it?\nHas anyone got an idea of what is really happening and how I can get the wanted behavior?</p>\n<p><strong>Edit :</strong>\nAfter some debugging, using a notification as an indicator, I found that the onCreate function of MainActivity is being called only once at start-up. Moreover, when the navigation drawer is in its &quot;weird behavior&quot; state, clicking the &quot;back&quot; navigation button brings back the Home fragment and corrects the &quot;weird behavior&quot; of the navigation drawer.<br/>\nWhat is happening is that the function I use to change the first fragment is the &quot;navigate&quot; function from the navigation controller. It keeps in memory that from the Home fragment (the true first fragment to be displayed), I navigated to the Motion fragment. So as long as I don't go back the navigation backstack by pressing the &quot;Back&quot; button, it keeps in memory that, when I click on the Home fragment, I navigated to the Motion fragment. <br/>\nI need to either find a way to delete that navigation history, or find another way to display the Motion fragment at the beginning.</p>\n<p><strong>Full file source :</strong> <br/>\nMainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    public static final String FRAGMENTNAME = &quot;com.mrxana91dev.maisonpaul.fragmentstartname&quot;;\n\n    public NotificationManagerCompat notificationManagerCompat;\n\n    private AppBarConfiguration mAppBarConfiguration;\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        setSupportActionBar(binding.appBarMain.toolbar);\n        binding.appBarMain.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n        DrawerLayout drawer = binding.drawerLayout;\n        NavigationView navigationView = binding.navView;\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_motion, R.id.nav_dashboard)\n                .setOpenableLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n\n        this.notificationManagerCompat = NotificationManagerCompat.from(this);\n\n        // ADDED CODE TO CHANGE FIRST FRAGMENT DEPENDING ON FRAGMENTNAME EXTRA\n        Intent intent = getIntent();\n        String fragmentName = intent.getStringExtra(FRAGMENTNAME);\n        if (fragmentName == null) fragmentName = &quot;&quot;;\n        switch (fragmentName) {\n            case &quot;motion&quot;:\n                navController.navigate(R.id.nav_motion);\n                break;\n            case &quot;dashboard&quot;:\n                navController.navigate(R.id.nav_dashboard);\n                break;\n            case &quot;home&quot;:\n            default:\n                navController.navigate(R.id.nav_home);\n                break;\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        return NavigationUI.navigateUp(navController, mAppBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle item selection\n        switch (item.getItemId()) {\n            case R.id.action_settings:\n                Intent intent = new Intent(this, SettingsActivity.class);\n                startActivity(intent);\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n}\n</code></pre>\n<p><strong>HomeFragment.java</strong></p>\n<pre><code>public class HomeFragment extends Fragment {\n    public static final String EXTRA_FRAGMENT = &quot;com.mrxana91dev.maisonpaul.fragmentstartname&quot;;\n\n    private FragmentHomeBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel =\n                new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textHome;\n        final TextView textView2 = binding.textView2;\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        homeViewModel.getText2().observe(getViewLifecycleOwner(), textView2::setText);\n\n        final Button testButton1 = binding.testButton1;\n        final Button testButton2 = binding.testButton2;\n        testButton1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                sendOnChannel1();\n            }\n        });\n        testButton2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                sendOnChannel2();\n            }\n        });\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    private void sendOnChannel1()  {\n        String title = &quot;Maison Paul - Test notification&quot;;\n        String message = &quot;Mouvement repéré !&quot;;\n\n        MainActivity mainActivity = (MainActivity) getActivity();\n\n        Intent intent = new Intent(mainActivity, MainActivity.class);\n        intent.putExtra(EXTRA_FRAGMENT, &quot;motion&quot;);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(mainActivity, 0, intent, PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_MUTABLE);\n\n        Notification notification = new NotificationCompat.Builder(mainActivity, NotificationApp.CHANNEL_1_ID)\n                .setSmallIcon(R.drawable.ic_baseline_home_24)\n                .setContentTitle(title)\n                .setContentText(message)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setCategory(NotificationCompat.CATEGORY_MESSAGE)\n                .setContentIntent(pendingIntent)\n                .setAutoCancel(true)\n                .build();\n\n        int notificationId = 1;\n        mainActivity.notificationManagerCompat.notify(notificationId, notification);\n    }\n\n    private void sendOnChannel2()  {\n        String title = &quot;Maison Paul - Test notification&quot;;\n        String message = &quot;Notification from channel 2 !&quot;;\n\n        MainActivity mainActivity = (MainActivity) getActivity();\n\n        Notification notification = new NotificationCompat.Builder(mainActivity, NotificationApp.CHANNEL_2_ID)\n                .setSmallIcon(R.drawable.ic_menu_camera)\n                .setContentTitle(title)\n                .setContentText(message)\n                .setPriority(NotificationCompat.PRIORITY_LOW)\n                .setCategory(NotificationCompat.CATEGORY_PROMO) // Promotion.\n                .build();\n\n        int notificationId = 2;\n        mainActivity.notificationManagerCompat.notify(notificationId, notification);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","spring-security","spring-test"],"comments":[{"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"score":2,"creation_date":1664378092,"post_id":73883122,"comment_id":130459090,"body_markdown":"I am in a situation like this https://stackoverflow.com/questions/67546793/why-is-spring-boot-2-4-5-with-junit5-and-mocked-beans-is-throwing-stackoverflowe","body":"I am in a situation like this <a href=\"https://stackoverflow.com/questions/67546793/why-is-spring-boot-2-4-5-with-junit5-and-mocked-beans-is-throwing-stackoverflowe\" title=\"why is spring boot 2 4 5 with junit5 and mocked beans is throwing stackoverflowe\">stackoverflow.com/questions/67546793/&hellip;</a>"},{"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"score":0,"creation_date":1664378717,"post_id":73883122,"comment_id":130459355,"body_markdown":"yes, I used that guide to make the switch to SecurityFilterChain","body":"yes, I used that guide to make the switch to SecurityFilterChain"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1664378990,"post_id":73883122,"comment_id":130459483,"body_markdown":"In this guide is no `authenticationConfiguration.getAuthenticationManager();` line. It looks like you have to expose your custom `AuthenticationManager` not the one from the configuration. Where do you need to access it?","body":"In this guide is no <code>authenticationConfiguration.getAuthenticationManager();</code> line. It looks like you have to expose your custom <code>AuthenticationManager</code> not the one from the configuration. Where do you need to access it?"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1664384873,"post_id":73883122,"comment_id":130461469,"body_markdown":"You should not need an `AuthenticationManager` at all, at least not the one from `AuthenticationConfiguration`. I&#39;ll assume that you have an `UserDetailsService` bean, therefore you can create a `DaoAuthenticationProvider` using that `UserDetailsService` and exposing an `new ProviderManager(myDaoAuthenticationProvider)` as a bean to use in your application","body":"You should not need an <code>AuthenticationManager</code> at all, at least not the one from <code>AuthenticationConfiguration</code>. I&#39;ll assume that you have an <code>UserDetailsService</code> bean, therefore you can create a <code>DaoAuthenticationProvider</code> using that <code>UserDetailsService</code> and exposing an <code>new ProviderManager(myDaoAuthenticationProvider)</code> as a bean to use in your application"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670188590,"post_id":73883122,"comment_id":131812146,"body_markdown":"@MarcusHertdaCoregio I have the same issue in my spring boot microservice example. As I still couldn&#39;t fix the issue, it is possible to help me? Here is the link : https://stackoverflow.com/questions/74633891/spring-boot-microservices-servicetest-and-controllertest-for-junit-throwing-ja","body":"@MarcusHertdaCoregio I have the same issue in my spring boot microservice example. As I still couldn&#39;t fix the issue, it is possible to help me? Here is the link : <a href=\"https://stackoverflow.com/questions/74633891/spring-boot-microservices-servicetest-and-controllertest-for-junit-throwing-ja\" title=\"spring boot microservices servicetest and controllertest for junit throwing ja\">stackoverflow.com/questions/74633891/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670280661,"post_id":73883122,"comment_id":131835826,"body_markdown":"@dur I have a similar issue but I couldn&#39;t fix it. Can you help me if you solve the issue? Here is the link : https://stackoverflow.com/questions/74633891/spring-boot-microservices-spring-security-servicetest-and-controllertest-for","body":"@dur I have a similar issue but I couldn&#39;t fix it. Can you help me if you solve the issue? Here is the link : <a href=\"https://stackoverflow.com/questions/74633891/spring-boot-microservices-spring-security-servicetest-and-controllertest-for\" title=\"spring boot microservices spring security servicetest and controllertest for\">stackoverflow.com/questions/74633891/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664440676,"creation_date":1664440676,"answer_id":73892625,"question_id":73883122,"body_markdown":"Do you actually need the `AuthenticationManager` in your application? From what I understand, you want to configure a `SecurityFilterChain` so you could just create this Bean instead:\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConf {\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n          http.authorizeRequests().anyRequest().authenticated(); //or whatever else you need\r\n          return http.build();\r\n      }\r\n    }","title":"I get stackOverflowError in spring security test","body":"<p>Do you actually need the <code>AuthenticationManager</code> in your application? From what I understand, you want to configure a <code>SecurityFilterChain</code> so you could just create this Bean instead:</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConf {\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n      http.authorizeRequests().anyRequest().authenticated(); //or whatever else you need\n      return http.build();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664786910,"creation_date":1664786910,"answer_id":73933077,"question_id":73883122,"body_markdown":"I opened an issue on spring github and it was reported as a bug that will be fixed by spring framework version 5.3.24.\r\nThis is the link of the discussion.\r\n[https://github.com/spring-projects/spring-framework/issues/29215][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/29215","title":"I get stackOverflowError in spring security test","body":"<p>I opened an issue on spring github and it was reported as a bug that will be fixed by spring framework version 5.3.24.\nThis is the link of the discussion.\n<a href=\"https://github.com/spring-projects/spring-framework/issues/29215\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/29215</a></p>\n"}],"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73933077,"answer_count":2,"score":6,"last_activity_date":1664786910,"creation_date":1664374866,"question_id":73883122,"body_markdown":"Security configuration class\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConf {\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n    }\r\n\r\nController\r\n\r\n    @RestController\r\n    public class Controller {\r\n        \r\n        @GetMapping(&quot;/test&quot;)\r\n        public String test(){\r\n            return &quot;test&quot;;\r\n        }\r\n    }\r\n\r\nTest class\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(controllers = Controller.class)\r\n    @ComponentScan(&quot;com.example.demo&quot;)\r\n    public class DemoApplicationTests {\r\n    \r\n        @Test\r\n        public void test() {\r\n        }\r\n    }\r\n\r\n\r\nI have a simple application, if I try to start the main it works, however when I start my test class I get this error:\r\n\r\n    java.lang.StackOverflowError\r\n            \tat java.base/java.lang.StackTraceElement.of(StackTraceElement.java:526)\r\n            \tat java.base/java.lang.Throwable.getOurStackTrace(Throwable.java:828)\r\n            \tat java.base/java.lang.Throwable.getStackTrace(Throwable.java:820)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:79)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            \tat ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n        and it always continues the same way ...\r\n\r\nin debug I tried to recover the error but I only see this `java.lang.IllegalStateException: Failed to unwrap proxied object.`\r\n\r\nThe test only works if I remove the `authenticationManagerBean`but i need `authenticationManagerBean` to inject `AutthenticationManager` in my app.\r\n\r\nI know that I could use `WebSecurityConfigurerAdapter` and then add the bean going to override the metood of this class. But as `WebSecurityConfigurerAdapter` is deprecated, I would not want to use it.\r\n\r\nthis problem arose from the fact that I have switched from `WebSecurityConfigurerAdapter` to SecurityFilterChain and am getting this error as I changed the config class\r\n\r\nI created this simple project which replicate the error of my main project. If you try to start the application it works, but the test doesn&#39;t. [https://github.com/lako12/demo][1]\r\n\r\nThe project is very simple, there are only 3 classes plus a test class.\r\n\r\n  [1]: https://github.com/lako12/demo","title":"I get stackOverflowError in spring security test","body":"<p>Security configuration class</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConf {\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\npublic class Controller {\n    \n    @GetMapping(&quot;/test&quot;)\n    public String test(){\n        return &quot;test&quot;;\n    }\n}\n</code></pre>\n<p>Test class</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(controllers = Controller.class)\n@ComponentScan(&quot;com.example.demo&quot;)\npublic class DemoApplicationTests {\n\n    @Test\n    public void test() {\n    }\n}\n</code></pre>\n<p>I have a simple application, if I try to start the main it works, however when I start my test class I get this error:</p>\n<pre><code>java.lang.StackOverflowError\n            at java.base/java.lang.StackTraceElement.of(StackTraceElement.java:526)\n            at java.base/java.lang.Throwable.getOurStackTrace(Throwable.java:828)\n            at java.base/java.lang.Throwable.getStackTrace(Throwable.java:820)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:79)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n    and it always continues the same way ...\n</code></pre>\n<p>in debug I tried to recover the error but I only see this <code>java.lang.IllegalStateException: Failed to unwrap proxied object.</code></p>\n<p>The test only works if I remove the <code>authenticationManagerBean</code>but i need <code>authenticationManagerBean</code> to inject <code>AutthenticationManager</code> in my app.</p>\n<p>I know that I could use <code>WebSecurityConfigurerAdapter</code> and then add the bean going to override the metood of this class. But as <code>WebSecurityConfigurerAdapter</code> is deprecated, I would not want to use it.</p>\n<p>this problem arose from the fact that I have switched from <code>WebSecurityConfigurerAdapter</code> to SecurityFilterChain and am getting this error as I changed the config class</p>\n<p>I created this simple project which replicate the error of my main project. If you try to start the application it works, but the test doesn't. <a href=\"https://github.com/lako12/demo\" rel=\"noreferrer\">https://github.com/lako12/demo</a></p>\n<p>The project is very simple, there are only 3 classes plus a test class.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":1,"creation_date":1664786774,"post_id":73932690,"comment_id":130543236,"body_markdown":"You should but your file into the directory ```src/main/resources```.","body":"You should but your file into the directory <code>src&#47;main&#47;resources</code>."},{"owner":{"account_id":24551416,"reputation":49,"user_id":18460529,"display_name":"LAKSHMI J NAIR"},"score":0,"creation_date":1664808481,"post_id":73932690,"comment_id":130550190,"body_markdown":"Its still not working.  Any other suggestions ?.","body":"Its still not working.  Any other suggestions ?."}],"owner":{"account_id":24551416,"reputation":49,"user_id":18460529,"display_name":"LAKSHMI J NAIR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664786709,"creation_date":1664784778,"question_id":73932690,"body_markdown":"I am working with Spring framework in java. I want to configure my Spring app. So I am using XML. But I am getting an error saying:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: \r\n    IOException parsing XML document from class path resource [beans.xml]; nested exception is \r\n    java.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does \r\n    not exist\r\n\r\nThis is the java code. I am getting this error when I run this java code.\r\n\r\n    package com.navaneeth.spyingdust;\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args ){\r\n       \r\n            ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);   \t\r\n    \t\r\n        }\r\n    }\r\n\r\nWhat is wrong in here. Here I tried specifying the path too:\r\n\r\n    \r\n      public class App \r\n        {\r\n            public static void main( String[] args ){\r\n       \r\n            ApplicationContext context =new ClassPathXmlApplicationContext(&quot;src/main/java/beans.xml&quot;);   \t\r\n    \t\r\n        }\r\n    }\r\n    \r\nIt is not working either. What is wrong in here. Please reply.","title":"Spring cannot open class path resource and saying it does not exist even when it does","body":"<p>I am working with Spring framework in java. I want to configure my Spring app. So I am using XML. But I am getting an error saying:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: \nIOException parsing XML document from class path resource [beans.xml]; nested exception is \njava.io.FileNotFoundException: class path resource [beans.xml] cannot be opened because it does \nnot exist\n</code></pre>\n<p>This is the java code. I am getting this error when I run this java code.</p>\n<pre><code>package com.navaneeth.spyingdust;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class App \n{\n    public static void main( String[] args ){\n   \n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);       \n    \n    }\n}\n</code></pre>\n<p>What is wrong in here. Here I tried specifying the path too:</p>\n<pre><code>  public class App \n    {\n        public static void main( String[] args ){\n   \n        ApplicationContext context =new ClassPathXmlApplicationContext(&quot;src/main/java/beans.xml&quot;);      \n    \n    }\n}\n</code></pre>\n<p>It is not working either. What is wrong in here. Please reply.</p>\n"},{"tags":["java","jboss","ejb","wildfly","ejb-2.x"],"answers":[{"tags":[],"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632770302,"creation_date":1632770302,"answer_id":69352166,"question_id":69322231,"body_markdown":"Default lookup prefix for jboss-eap 7.4 is `java:jboss/resources`. So in order to get this to work the exported names need to be adjusted accordingly:\r\n\r\n```xml\r\n  &lt;connection-factory name=&quot;customQueueFactory&quot; entries=&quot;java:jboss/resources/jms/customQueueFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n  &lt;jms-queue name=&quot;customQueue&quot; entries=&quot;java:jboss/resources/jms/customQueue&quot;/&gt;\r\n```","title":"wildfly / jboss-eap: How to name JMS resources to match EJB2 ejb-jar.xml","body":"<p>Default lookup prefix for jboss-eap 7.4 is <code>java:jboss/resources</code>. So in order to get this to work the exported names need to be adjusted accordingly:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;connection-factory name=&quot;customQueueFactory&quot; entries=&quot;java:jboss/resources/jms/customQueueFactory&quot; connectors=&quot;in-vm&quot;/&gt;\n  &lt;jms-queue name=&quot;customQueue&quot; entries=&quot;java:jboss/resources/jms/customQueue&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":1637870,"reputation":553,"user_id":1510874,"display_name":"asbachb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69352166,"answer_count":1,"score":0,"last_activity_date":1664786400,"creation_date":1632529798,"question_id":69322231,"body_markdown":"I currently migrate an EJB2 application to jboss-eap. The first phase tries to modify less source as possible.\r\n\r\nThe give `ejb-jar.xml` contains\r\n```xml\r\n&lt;!DOCTYPE ejb-jar PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN&quot; &quot;http://java.sun.com/dtd/ejb-jar_2_0.dtd&quot;&gt;\r\n&lt;ejb-jar id=&quot;ejb-jar_ID&quot;&gt;\r\n      [...]\r\n      &lt;session &gt;\r\n\r\n         [...]\r\n\r\n         &lt;resource-ref &gt;\r\n            &lt;res-ref-name&gt;jms/customQueueFactory&lt;/res-ref-name&gt;\r\n            &lt;res-type&gt;javax.jms.QueueConnectionFactory&lt;/res-type&gt;\r\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n            &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n         &lt;/resource-ref&gt;\r\n\r\n         &lt;resource-env-ref &gt;\r\n            &lt;resource-env-ref-name&gt;jms/customQueue&lt;/resource-env-ref-name&gt;\r\n            &lt;resource-env-ref-type&gt;javax.jms.Queue&lt;/resource-env-ref-type&gt;\r\n         &lt;/resource-env-ref&gt;\r\n\r\n      &lt;/session&gt;\r\n```\r\n\r\nI added following configuration to `standalone-full.xml` `urn:jboss:domain:messaging-activemq:13.0`:\r\n```xml\r\n  &lt;connection-factory name=&quot;customQueueFactory&quot; entries=&quot;java:/jms/customQueueFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n  &lt;jms-queue name=&quot;customQueue&quot; entries=&quot;java:/jms/customQueue&quot;/&gt;\r\n```\r\n\r\nBut when I start jboss the jms resources cannot get resolved:\r\n```\r\n02:26:30,651 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;app.ear&quot;)]) - failure description: {\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n        &quot;jboss.naming.context.java.jboss.resources.jms.customQueueFactory&quot;,\r\n        &quot;jboss.naming.context.java.jboss.resources.jms.customQueue&quot;\r\n    ],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;jboss.naming.context.java.comp.app.app-mdb.Sender.env.jms.customQueueFactory is missing [jboss.naming.context.java.jboss.resources.jms.customQueueFactory]&quot;,\r\n        &quot;jboss.naming.context.java.comp.app.app-mdb.Sender.env.jms.customQueue is missing [jboss.naming.context.java.jboss.resources.jms.customQueue]&quot;\r\n    ]\r\n}\r\n```","title":"wildfly / jboss-eap: How to name JMS resources to match EJB2 ejb-jar.xml","body":"<p>I currently migrate an EJB2 application to jboss-eap. The first phase tries to modify less source as possible.</p>\n<p>The give <code>ejb-jar.xml</code> contains</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE ejb-jar PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN&quot; &quot;http://java.sun.com/dtd/ejb-jar_2_0.dtd&quot;&gt;\n&lt;ejb-jar id=&quot;ejb-jar_ID&quot;&gt;\n      [...]\n      &lt;session &gt;\n\n         [...]\n\n         &lt;resource-ref &gt;\n            &lt;res-ref-name&gt;jms/customQueueFactory&lt;/res-ref-name&gt;\n            &lt;res-type&gt;javax.jms.QueueConnectionFactory&lt;/res-type&gt;\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\n            &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n         &lt;/resource-ref&gt;\n\n         &lt;resource-env-ref &gt;\n            &lt;resource-env-ref-name&gt;jms/customQueue&lt;/resource-env-ref-name&gt;\n            &lt;resource-env-ref-type&gt;javax.jms.Queue&lt;/resource-env-ref-type&gt;\n         &lt;/resource-env-ref&gt;\n\n      &lt;/session&gt;\n</code></pre>\n<p>I added following configuration to <code>standalone-full.xml</code> <code>urn:jboss:domain:messaging-activemq:13.0</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;connection-factory name=&quot;customQueueFactory&quot; entries=&quot;java:/jms/customQueueFactory&quot; connectors=&quot;in-vm&quot;/&gt;\n  &lt;jms-queue name=&quot;customQueue&quot; entries=&quot;java:/jms/customQueue&quot;/&gt;\n</code></pre>\n<p>But when I start jboss the jms resources cannot get resolved:</p>\n<pre><code>02:26:30,651 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;app.ear&quot;)]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n        &quot;jboss.naming.context.java.jboss.resources.jms.customQueueFactory&quot;,\n        &quot;jboss.naming.context.java.jboss.resources.jms.customQueue&quot;\n    ],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;jboss.naming.context.java.comp.app.app-mdb.Sender.env.jms.customQueueFactory is missing [jboss.naming.context.java.jboss.resources.jms.customQueueFactory]&quot;,\n        &quot;jboss.naming.context.java.comp.app.app-mdb.Sender.env.jms.customQueue is missing [jboss.naming.context.java.jboss.resources.jms.customQueue]&quot;\n    ]\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":159572,"reputation":1570,"user_id":379054,"accept_rate":56,"display_name":"Crazyshezy"},"score":0,"creation_date":1485322455,"post_id":41844066,"comment_id":70872708,"body_markdown":"it would be better to add the error message in the question rather than give an external link","body":"it would be better to add the error message in the question rather than give an external link"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1485461111,"post_id":41844066,"comment_id":70946197,"body_markdown":"UUIDs are usually a random string formatted a bit. Just take it as a string, no need to convert it.","body":"UUIDs are usually a random string formatted a bit. Just take it as a string, no need to convert it."}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485322352,"creation_date":1485322352,"answer_id":41844124,"question_id":41844066,"body_markdown":"[`UUID.fromString()`](https://developer.android.com/reference/java/util/UUID.html#fromString(java.lang.String)) works fine:\r\n\r\n    String guid = &quot;ce095552-b466-4d03-ac41-430ec9286806&quot;;\r\n    UUID uuid = UUID.fromString(guid);\r\n    \r\n    System.out.println(uuid);","title":"How Convert Microsoft GUID to JAVA UUID?","body":"<p><a href=\"https://developer.android.com/reference/java/util/UUID.html#fromString(java.lang.String)\" rel=\"nofollow noreferrer\"><code>UUID.fromString()</code></a> works fine:</p>\n\n<pre><code>String guid = \"ce095552-b466-4d03-ac41-430ec9286806\";\nUUID uuid = UUID.fromString(guid);\n\nSystem.out.println(uuid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485463623,"creation_date":1485463623,"answer_id":41882719,"question_id":41844066,"body_markdown":"&gt; Invalid long: &quot;&quot;ce095552&quot;\r\n\r\nLooks like the GUID you are passing to `UUID.fromString` still includes quotes (&quot;). Make sure the GUID string does not include any additional characters and it should work.","title":"How Convert Microsoft GUID to JAVA UUID?","body":"<blockquote>\n  <p>Invalid long: \"\"ce095552\"</p>\n</blockquote>\n\n<p>Looks like the GUID you are passing to <code>UUID.fromString</code> still includes quotes (\"). Make sure the GUID string does not include any additional characters and it should work.</p>\n"},{"tags":[],"owner":{"account_id":4729659,"reputation":31,"user_id":4321214,"display_name":"Alfredo Alves"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511360605,"creation_date":1511357267,"answer_id":47435942,"question_id":41844066,"body_markdown":"When you get some *Microsoft objectGUIDs* , Active Directory objectGUID of the group object for example, you need to get the binary and then convert it to hexadecimal after then you need generate a [MS GUID][1] (look at order byte sequence inside *convertToDashedString* function). \r\n\r\nThe byte order comparing UUID and GUID is different: try convert it using online converters like: [robobunny converter][2]\r\n\r\nNow I&#39;m storing and working with *ms guid*\r\n\r\n  [1]: http://www.developerscrappad.com/1109/windows/active-directory/java-ldap-jndi-2-ways-of-decoding-and-using-the-objectguid-from-windows-active-directory/\r\n  [2]: http://robobunny.com/cgi-bin/guid\r\n\r\n    public static String convertMSGUIDToHexFormat(String guid){\r\n\t\tguid = guid.replaceAll(&quot;-&quot;, &quot;&quot;);\r\n\t\tguid = guid.replaceAll(&quot;(.{8})(.{4})(.{4})(.{4})(.{12})&quot;, &quot;$1-$2-$3-$4-$5&quot;).replaceAll(&quot;(.{2})(.{2})(.{2})(.{2}).(.{2})(.{2}).(.{2})(.{2})(.{18})&quot;, &quot;$4$3$2$1-$6$5-$8$7$9&quot;);\r\n\t\tguid = guid.replaceAll(&quot;-&quot;, &quot;&quot;);\r\n\t\treturn guid;\r\n\t}\r\n\t\r\n\tpublic static String convertHexToMSGUIDFormat(String hex){\r\n\t\treturn hex.replaceAll(&quot;(.{8})(.{4})(.{4})(.{4})(.{12})&quot;, &quot;$1-$2-$3-$4-$5&quot;).replaceAll(&quot;(.{2})(.{2})(.{2})(.{2}).(.{2})(.{2}).(.{2})(.{2})(.{18})&quot;, &quot;$4$3$2$1-$6$5-$8$7$9&quot;);\r\n\t}\r\n\r\nWhen I know a better way, then I change that supposed quick fix","title":"How Convert Microsoft GUID to JAVA UUID?","body":"<p>When you get some <em>Microsoft objectGUIDs</em> , Active Directory objectGUID of the group object for example, you need to get the binary and then convert it to hexadecimal after then you need generate a <a href=\"http://www.developerscrappad.com/1109/windows/active-directory/java-ldap-jndi-2-ways-of-decoding-and-using-the-objectguid-from-windows-active-directory/\" rel=\"nofollow noreferrer\">MS GUID</a> (look at order byte sequence inside <em>convertToDashedString</em> function). </p>\n\n<p>The byte order comparing UUID and GUID is different: try convert it using online converters like: <a href=\"http://robobunny.com/cgi-bin/guid\" rel=\"nofollow noreferrer\">robobunny converter</a></p>\n\n<p>Now I'm storing and working with <em>ms guid</em></p>\n\n<pre><code>public static String convertMSGUIDToHexFormat(String guid){\n    guid = guid.replaceAll(\"-\", \"\");\n    guid = guid.replaceAll(\"(.{8})(.{4})(.{4})(.{4})(.{12})\", \"$1-$2-$3-$4-$5\").replaceAll(\"(.{2})(.{2})(.{2})(.{2}).(.{2})(.{2}).(.{2})(.{2})(.{18})\", \"$4$3$2$1-$6$5-$8$7$9\");\n    guid = guid.replaceAll(\"-\", \"\");\n    return guid;\n}\n\npublic static String convertHexToMSGUIDFormat(String hex){\n    return hex.replaceAll(\"(.{8})(.{4})(.{4})(.{4})(.{12})\", \"$1-$2-$3-$4-$5\").replaceAll(\"(.{2})(.{2})(.{2})(.{2}).(.{2})(.{2}).(.{2})(.{2})(.{18})\", \"$4$3$2$1-$6$5-$8$7$9\");\n}\n</code></pre>\n\n<p>When I know a better way, then I change that supposed quick fix</p>\n"},{"tags":[],"owner":{"account_id":956573,"reputation":341,"user_id":981759,"display_name":"Ashu Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664786233,"creation_date":1664786233,"answer_id":73932939,"question_id":41844066,"body_markdown":"     String guid = &quot;41e72bd6-d38f-4f78-855f-160562262a54&quot;;\r\n     UUID uuid = UUID.fromString(guid);\r\n     ReadValueId readValueId = new ReadValueId(\r\n     new NodeId(2, uuid),\r\n     AttributeId.Value.uid(), null, QualifiedName.NULL_VALUE);\r\n\r\n ","title":"How Convert Microsoft GUID to JAVA UUID?","body":"<pre><code> String guid = &quot;41e72bd6-d38f-4f78-855f-160562262a54&quot;;\n UUID uuid = UUID.fromString(guid);\n ReadValueId readValueId = new ReadValueId(\n new NodeId(2, uuid),\n AttributeId.Value.uid(), null, QualifiedName.NULL_VALUE);\n</code></pre>\n"}],"owner":{"account_id":9462767,"reputation":41,"user_id":7036072,"display_name":"Asad Karami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3750,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1664786233,"creation_date":1485322083,"question_id":41844066,"body_markdown":"I need to communicate a Guid that was generated in .NET to a Java application.\r\nThis is my GUID\r\n   \r\n&gt; ce095552-b466-4d03-ac41-430ec9286806\r\n\r\nand I want to set it to UUID variable !\r\n\r\n    UUID.nameUUIDFromBytes(stringUUID.getBytes())\r\n\r\n    UUID.fromString(stringUUID) \r\n\r\nI am getting error\r\n\r\n&gt; Caused by: java.lang.NumberFormatException: Invalid long: &quot;&quot;ce095552&quot;\r\n\r\nhow can I cast GUID to UUID?","title":"How Convert Microsoft GUID to JAVA UUID?","body":"<p>I need to communicate a Guid that was generated in .NET to a Java application.\nThis is my GUID</p>\n\n<blockquote>\n  <p>ce095552-b466-4d03-ac41-430ec9286806</p>\n</blockquote>\n\n<p>and I want to set it to UUID variable !</p>\n\n<pre><code>UUID.nameUUIDFromBytes(stringUUID.getBytes())\n\nUUID.fromString(stringUUID) \n</code></pre>\n\n<p>I am getting error</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NumberFormatException: Invalid long: \"\"ce095552\"</p>\n</blockquote>\n\n<p>how can I cast GUID to UUID?</p>\n"},{"tags":["java","selenium","selenium-webdriver","jdbc"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":3,"creation_date":1664758707,"post_id":73930281,"comment_id":130538450,"body_markdown":"*Am i doing anything wrong?*  Given that your code will not compile, the answer is clearly &quot;yes&quot;.   But in partiular, you are trying to define a method &quot;createConn&quot; inside another method &quot;main&quot;.  This is not allowed in Java.","body":"<i>Am i doing anything wrong?</i>  Given that your code will not compile, the answer is clearly &quot;yes&quot;.   But in partiular, you are trying to define a method &quot;createConn&quot; inside another method &quot;main&quot;.  This is not allowed in Java."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1664760410,"post_id":73930281,"comment_id":130538603,"body_markdown":"In other words, you need to insert a `}` character where you want your `main` method to end.  You may also want to insert some more code in your `main`, otherwise all your program does is set a system property, which isn&#39;t particularly exciting.","body":"In other words, you need to insert a <code>}</code> character where you want your <code>main</code> method to end.  You may also want to insert some more code in your <code>main</code>, otherwise all your program does is set a system property, which isn&#39;t particularly exciting."}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664785874,"creation_date":1664758518,"question_id":73930281,"body_markdown":"I am having this error message: \r\n\r\n&gt; void is an invalid type for the variable createConn\r\n\r\nI am trying to establish a connection to a SQL Server database.\r\n\r\nThis is my code:\r\n\r\n    package first;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.FluentWait;\r\n    import org.openqa.selenium.support.ui.Wait;\r\n    import org.apache.commons.dbutils.DbUtils;\r\n    import org.apache.commons.dbutils.QueryRunner;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class assignCode {\r\n        static Connection conn = null;\r\n        static QueryRunner run = new QueryRunner();\r\n        static boolean keepConnection = false;\r\n        String urlString=&quot;jdbc:sqlserver://local.nhre.local:1343;databaseName=Test&quot;;\r\n        String usernameString=&quot;admin&quot;;\r\n        String password=&quot;admin&quot;;\r\n        String driverr=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n        Connection connection=null;\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException{\r\n    \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steven\\\\Desktop\\\\SELENIUM\\\\chromedriver.exe&quot;);\r\n    \t\r\n        public static void createConn(String urlString, String driverr, String usernameString, String password) throws SQLException, IOException {\r\n    \r\n            if (conn == null || conn.isClosed()) {\r\n                String driver;\r\n    \t\t\tDbUtils.loadDriver(driver);\r\n                conn = DriverManager.getConnection(urlString, usernameString, driverr);\r\n                conn.setAutoCommit(false);\r\n            }\r\n        }\r\n    \r\n    \tWebDriver driver = new ChromeDriver();\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\nAm I doing anything wrong?","title":"void is an invalid type for the variable (trying to set a connection to SQL Server database)","body":"<p>I am having this error message:</p>\n<blockquote>\n<p>void is an invalid type for the variable createConn</p>\n</blockquote>\n<p>I am trying to establish a connection to a SQL Server database.</p>\n<p>This is my code:</p>\n<pre><code>package first;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.FluentWait;\nimport org.openqa.selenium.support.ui.Wait;\nimport org.apache.commons.dbutils.DbUtils;\nimport org.apache.commons.dbutils.QueryRunner;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class assignCode {\n    static Connection conn = null;\n    static QueryRunner run = new QueryRunner();\n    static boolean keepConnection = false;\n    String urlString=&quot;jdbc:sqlserver://local.nhre.local:1343;databaseName=Test&quot;;\n    String usernameString=&quot;admin&quot;;\n    String password=&quot;admin&quot;;\n    String driverr=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\n    Connection connection=null;\n    \n    \n    public static void main(String[] args) throws InterruptedException{\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steven\\\\Desktop\\\\SELENIUM\\\\chromedriver.exe&quot;);\n    \n    public static void createConn(String urlString, String driverr, String usernameString, String password) throws SQLException, IOException {\n\n        if (conn == null || conn.isClosed()) {\n            String driver;\n            DbUtils.loadDriver(driver);\n            conn = DriverManager.getConnection(urlString, usernameString, driverr);\n            conn.setAutoCommit(false);\n        }\n    }\n\n    WebDriver driver = new ChromeDriver();\n    \n    }\n\n}\n</code></pre>\n<p>Am I doing anything wrong?</p>\n"},{"tags":["java","message-queue","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1621873026,"creation_date":1621870186,"answer_id":67674799,"question_id":67641252,"body_markdown":"The `JmsTemplate` reliably closes its resources after each operation (returning the session to the cache), including `execute()`.\r\n\r\nThat comment is related to user code using sessions directly; the close operation is intercepted and used to return the session to the cache, instead of actually closing it. You MUST call close, otherwise the session will be orphaned.\r\n\r\nYes, the transaction will roll back (immediately) if its `sessionTransacted` is true.\r\n\r\nYou should NOT call commit - the template will do that when execute exits normally (if it is `sessionTransacted`).","title":"Spring&#39;s CachingConnectionFactory. Why do we need to close sessions although they are to be cached?","body":"<p>The <code>JmsTemplate</code> reliably closes its resources after each operation (returning the session to the cache), including <code>execute()</code>.</p>\n<p>That comment is related to user code using sessions directly; the close operation is intercepted and used to return the session to the cache, instead of actually closing it. You MUST call close, otherwise the session will be orphaned.</p>\n<p>Yes, the transaction will roll back (immediately) if its <code>sessionTransacted</code> is true.</p>\n<p>You should NOT call commit - the template will do that when execute exits normally (if it is <code>sessionTransacted</code>).</p>\n"}],"owner":{"account_id":2075808,"reputation":2132,"user_id":1849188,"display_name":"Jcov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67674799,"answer_count":1,"score":1,"last_activity_date":1664785434,"creation_date":1621617230,"question_id":67641252,"body_markdown":"I am trying to get my head around the Spring [`CachingConnectionFactory`][1].\r\n\r\n[ActiveMQ documentation][2] recommends when using `JmsTemplate` that a Spring `CachingConnectionFactory` or an ActiveMQ `PooledConnectionFactory` is used as the connection factory implementation.\r\n\r\nI understand this because using the normal `ConnectionFactory` a connection is created, a session started, and both are closed for EVERY call of the `jmsTemplate.send()` which is very wasteful.\r\n\r\nSo I am trying to implement a custom `JmsTemplate` bean with a `CachingConnectionFactory` for use where I may have many requests that are A) Persisted to DB B) Enqueued JMS.\r\n\r\n```java\r\n@Configuration\r\npublic class JMSConfig {\r\n    \r\n    @Autowired\r\n    private CachingConnectionFactory cachingConnectionFactory;\r\n\r\n    @Bean\r\n    @Qualifier(&quot;jmsTemplateCached&quot;)\r\n    public JmsTemplate jmsTemplateCachingConnectionFactory() {\r\n        cachingConnectionFactory.setSessionCacheSize(10);\r\n        \r\n        JmsTemplate jmsTemplate = new JmsTemplate();\r\n        jmsTemplate.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n        jmsTemplate.setSessionAcknowledgeMode(JmsProperties.AcknowledgeMode.CLIENT.getMode());\r\n        jmsTemplate.setSessionTransacted(true);\r\n        jmsTemplate.setDeliveryPersistent(true);\r\n        jmsTemplate.setConnectionFactory(cachingConnectionFactory);\r\n        return jmsTemplate;\r\n    }\r\n}\r\n```\r\n\r\nMy first question regards the [Spring Docs For CachngConnecionFactory][1] which say:\r\n\r\n&gt; SingleConnectionFactory subclass that adds Session caching as well MessageProducer caching. This ConnectionFactory also switches the &quot;reconnectOnException&quot; property to &quot;true&quot; by default, allowing for automatic recovery of the underlying Connection.\r\nBy default, only one single Session will be cached, with further requested Sessions being created and disposed on demand. Consider raising the &quot;sessionCacheSize&quot; value in case of a high-concurrency environment.\r\n\r\nBut then in bold:\r\n\r\n&gt; NOTE: This ConnectionFactory requires explicit closing of all Sessions obtained from its shared Connection. This is the usual recommendation for native JMS access code anyway. However, with this ConnectionFactory, its use is mandatory in order to actually allow for Session reuse.\r\n\r\nDoes this mean I only need to close sessions if I create a connection &quot;manually&quot; via the template or my `CachingConnectionFactory` bean? In other words like:\r\n```java\r\n    Connection connection = jmsTemplateCached.getConnectionFactory().createConnection();\r\n\r\n    Session sess = connection.createSession(true, JmsProperties.AcknowledgeMode.CLIENT.getMode());\r\n\r\n    MessageProducer producer = sess.createProducer(activeMQQueue);\r\n\r\n    try {\r\n        producer.send(activeMQQueue, new ActiveMQTextMessage());\r\n        sess.commit();\r\n    } catch (JMSException e) {\r\n        sess.rollback();\r\n    } finally {\r\n        sess.close();\r\n    }\r\n```\r\nIf I use the template like below, should I close or not close the session?\r\n```java\r\n    @Autowired\r\n    public JmsTemplate jmsTemplateCached;\r\n\r\n    @Transactional\r\n    public InboundResponse peristAndEnqueueForProcessing(InboundForm  inboundForm) throws IrresolvableException, JsonProcessingException, JMSException {\r\n\r\n    //Removed for clarity, an entity has been persisted and is then to be enqueued via JMS.\r\n\r\n        log.debug(&quot;Queue For Processing : {}&quot;, persistedRequest);\r\n\r\n        String serialisedMessage = objectMapper.writeValueAsString(persistedRequest);\r\n        ActiveMQTextMessage activeMQTextMessage = new ActiveMQTextMessage();\r\n        activeMQTextMessage.setText(serialisedMessage);\r\n\r\n        //Will throw JMS Exception on failure\r\n        Session sessionUsed = jmsTemplateCached.execute((session, messageProducer) -&gt; {\r\n            messageProducer.send(activeMQQueue, activeMQTextMessage);\r\n            session.commit();\r\n            return session;\r\n        });\r\n\r\n        return response;\r\n    }\r\n```\r\nSecondly, if the above `jmsTemplate.execute()` throws an exception, what happens to the session? Will it rollback after x time? \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/connection/CachingConnectionFactory.html\r\n  [2]: https://activemq.apache.org/jmstemplate-gotchas.html","title":"Spring&#39;s CachingConnectionFactory. Why do we need to close sessions although they are to be cached?","body":"<p>I am trying to get my head around the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/connection/CachingConnectionFactory.html\" rel=\"nofollow noreferrer\"><code>CachingConnectionFactory</code></a>.</p>\n<p><a href=\"https://activemq.apache.org/jmstemplate-gotchas.html\" rel=\"nofollow noreferrer\">ActiveMQ documentation</a> recommends when using <code>JmsTemplate</code> that a Spring <code>CachingConnectionFactory</code> or an ActiveMQ <code>PooledConnectionFactory</code> is used as the connection factory implementation.</p>\n<p>I understand this because using the normal <code>ConnectionFactory</code> a connection is created, a session started, and both are closed for EVERY call of the <code>jmsTemplate.send()</code> which is very wasteful.</p>\n<p>So I am trying to implement a custom <code>JmsTemplate</code> bean with a <code>CachingConnectionFactory</code> for use where I may have many requests that are A) Persisted to DB B) Enqueued JMS.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JMSConfig {\n    \n    @Autowired\n    private CachingConnectionFactory cachingConnectionFactory;\n\n    @Bean\n    @Qualifier(&quot;jmsTemplateCached&quot;)\n    public JmsTemplate jmsTemplateCachingConnectionFactory() {\n        cachingConnectionFactory.setSessionCacheSize(10);\n        \n        JmsTemplate jmsTemplate = new JmsTemplate();\n        jmsTemplate.setDeliveryMode(DeliveryMode.PERSISTENT);\n        jmsTemplate.setSessionAcknowledgeMode(JmsProperties.AcknowledgeMode.CLIENT.getMode());\n        jmsTemplate.setSessionTransacted(true);\n        jmsTemplate.setDeliveryPersistent(true);\n        jmsTemplate.setConnectionFactory(cachingConnectionFactory);\n        return jmsTemplate;\n    }\n}\n</code></pre>\n<p>My first question regards the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/connection/CachingConnectionFactory.html\" rel=\"nofollow noreferrer\">Spring Docs For CachngConnecionFactory</a> which say:</p>\n<blockquote>\n<p>SingleConnectionFactory subclass that adds Session caching as well MessageProducer caching. This ConnectionFactory also switches the &quot;reconnectOnException&quot; property to &quot;true&quot; by default, allowing for automatic recovery of the underlying Connection.\nBy default, only one single Session will be cached, with further requested Sessions being created and disposed on demand. Consider raising the &quot;sessionCacheSize&quot; value in case of a high-concurrency environment.</p>\n</blockquote>\n<p>But then in bold:</p>\n<blockquote>\n<p>NOTE: This ConnectionFactory requires explicit closing of all Sessions obtained from its shared Connection. This is the usual recommendation for native JMS access code anyway. However, with this ConnectionFactory, its use is mandatory in order to actually allow for Session reuse.</p>\n</blockquote>\n<p>Does this mean I only need to close sessions if I create a connection &quot;manually&quot; via the template or my <code>CachingConnectionFactory</code> bean? In other words like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Connection connection = jmsTemplateCached.getConnectionFactory().createConnection();\n\n    Session sess = connection.createSession(true, JmsProperties.AcknowledgeMode.CLIENT.getMode());\n\n    MessageProducer producer = sess.createProducer(activeMQQueue);\n\n    try {\n        producer.send(activeMQQueue, new ActiveMQTextMessage());\n        sess.commit();\n    } catch (JMSException e) {\n        sess.rollback();\n    } finally {\n        sess.close();\n    }\n</code></pre>\n<p>If I use the template like below, should I close or not close the session?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    public JmsTemplate jmsTemplateCached;\n\n    @Transactional\n    public InboundResponse peristAndEnqueueForProcessing(InboundForm  inboundForm) throws IrresolvableException, JsonProcessingException, JMSException {\n\n    //Removed for clarity, an entity has been persisted and is then to be enqueued via JMS.\n\n        log.debug(&quot;Queue For Processing : {}&quot;, persistedRequest);\n\n        String serialisedMessage = objectMapper.writeValueAsString(persistedRequest);\n        ActiveMQTextMessage activeMQTextMessage = new ActiveMQTextMessage();\n        activeMQTextMessage.setText(serialisedMessage);\n\n        //Will throw JMS Exception on failure\n        Session sessionUsed = jmsTemplateCached.execute((session, messageProducer) -&gt; {\n            messageProducer.send(activeMQQueue, activeMQTextMessage);\n            session.commit();\n            return session;\n        });\n\n        return response;\n    }\n</code></pre>\n<p>Secondly, if the above <code>jmsTemplate.execute()</code> throws an exception, what happens to the session? Will it rollback after x time?</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator","spring-micrometer","prometheus-java"],"owner":{"account_id":19010116,"reputation":161,"user_id":13876160,"display_name":"Amulya M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664785209,"creation_date":1664452328,"question_id":73895094,"body_markdown":"Have written a springboot application, and wanted to measure the time taken to execute a method using @Timed annotation from micrometer, and display this value in prometheus.\r\n\r\nHave tried below configuration, however the execution time is not displayed in prometheus:\r\n\r\n\r\n**Dependencies added for pom.xml**\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt; \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n**config for method :**\r\n\r\n\t@Timed(value = &quot;testing.executiontime&quot;, longTask = true)\r\n     testMethod(){}\r\n\r\n\r\n**TimedConfiguration.class**\r\n\r\n```\r\n@Configuration\r\n@EnableAspectJAutoProxy\r\npublic class TimedConfiguration {\r\n   @Bean\r\n   public TimedAspect timedAspect(MeterRegistry registry) {\r\n      return new TimedAspect(registry);\r\n   }\r\n}\r\n```\r\n\r\n\r\n**in application.yml**\r\n\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include:\r\n          - info\r\n          - health\r\n          - prometheus\r\n          - metrics\r\n```\r\n\r\n**prometheus.yml**\r\n\r\n```\r\nglobal:\r\n  scrape_interval:     15s\r\n\r\nscrape_configs:\r\n  - job_name: &#39;prometheus&#39;\r\n    scrape_interval: 5s\r\n\r\n    static_configs:\r\n      - targets: [&#39;localhost:8080&#39;]\r\n\r\n  - job_name: &#39;spring-actuator&#39;\r\n    metrics_path: &#39;/actuator/prometheus&#39;\r\n    scrape_interval: 5s\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to integrate micrometer @Timed with prometheus in async service method in springboot application","body":"<p>Have written a springboot application, and wanted to measure the time taken to execute a method using @Timed annotation from micrometer, and display this value in prometheus.</p>\n<p>Have tried below configuration, however the execution time is not displayed in prometheus:</p>\n<p><strong>Dependencies added for pom.xml</strong></p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt; \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>config for method :</strong></p>\n<pre><code>@Timed(value = &quot;testing.executiontime&quot;, longTask = true)\n testMethod(){}\n</code></pre>\n<p><strong>TimedConfiguration.class</strong></p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class TimedConfiguration {\n   @Bean\n   public TimedAspect timedAspect(MeterRegistry registry) {\n      return new TimedAspect(registry);\n   }\n}\n</code></pre>\n<p><strong>in application.yml</strong></p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include:\n          - info\n          - health\n          - prometheus\n          - metrics\n</code></pre>\n<p><strong>prometheus.yml</strong></p>\n<pre><code>global:\n  scrape_interval:     15s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    scrape_interval: 5s\n\n    static_configs:\n      - targets: ['localhost:8080']\n\n  - job_name: 'spring-actuator'\n    metrics_path: '/actuator/prometheus'\n    scrape_interval: 5s\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1664707167,"creation_date":1664707167,"answer_id":73925158,"question_id":73924509,"body_markdown":"You need to pass value by using `:#{#keyword}` parameter in query. You also need to configure `@Param(&quot;keyword&quot;)`.\r\n\r\n```\r\npublic interface TestRepository extends JpaRepository&lt;Test, Long&gt; {\r\n\r\n    @Query(&quot;SELECT t FROM TestEntity t WHERE (:#{#keyword} IS NULL OR t.name LIKE %:#{#keyword}%)&quot;)\r\n    Page&lt;Test&gt; findAll(@Param(&quot;keyword&quot;) String keyword, Pageable pageable);\r\n\r\n}\r\n```","title":"Spring jpa &quot;where param is null&quot; not working","body":"<p>You need to pass value by using <code>:#{#keyword}</code> parameter in query. You also need to configure <code>@Param(&quot;keyword&quot;)</code>.</p>\n<pre><code>public interface TestRepository extends JpaRepository&lt;Test, Long&gt; {\n\n    @Query(&quot;SELECT t FROM TestEntity t WHERE (:#{#keyword} IS NULL OR t.name LIKE %:#{#keyword}%)&quot;)\n    Page&lt;Test&gt; findAll(@Param(&quot;keyword&quot;) String keyword, Pageable pageable);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664749694,"creation_date":1664749694,"answer_id":73929769,"question_id":73924509,"body_markdown":"Rather than using positional parameters use named parameters\r\n```\r\n    @Query(&quot;SELECT t FROM Test t WHERE (:keyword IS NULL OR t.name LIKE %:keyword%)&quot;)\r\n    Page&lt;Test&gt; findAll(@Param(&quot;keyword&quot;)String keyword, Pageable pageable);\r\n```","title":"Spring jpa &quot;where param is null&quot; not working","body":"<p>Rather than using positional parameters use named parameters</p>\n<pre><code>    @Query(&quot;SELECT t FROM Test t WHERE (:keyword IS NULL OR t.name LIKE %:keyword%)&quot;)\n    Page&lt;Test&gt; findAll(@Param(&quot;keyword&quot;)String keyword, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664785072,"creation_date":1664764131,"answer_id":73930643,"question_id":73924509,"body_markdown":"I have examined your GitHub project and can say, that, actually, it is a known issue of the `spring-data-jpa` framework of version 2.7.0 and higher. There are registered Issues on GitHub, e.g., [this][1] or [this][2]. It had been closed as resolved, but it seems to be not completely fixed, IMHO. So I&#39;ve started another one [issue there][3]. I have also created a [pull request][4] with a quick-fix, that makes the framework to behave like before.\r\n\r\nSo at the moment to overcome this problem you can just downgrade the spring boot version to `2.6.x`, or go with hot fixes, built by yourself.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-jpa/issues/2548\r\n  [2]: https://github.com/spring-projects/spring-data-jpa/issues/2570\r\n  [3]: https://github.com/spring-projects/spring-data-jpa/issues/2653\r\n  [4]: https://github.com/spring-projects/spring-data-jpa/pull/2655","title":"Spring jpa &quot;where param is null&quot; not working","body":"<p>I have examined your GitHub project and can say, that, actually, it is a known issue of the <code>spring-data-jpa</code> framework of version 2.7.0 and higher. There are registered Issues on GitHub, e.g., <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2548\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2570\" rel=\"nofollow noreferrer\">this</a>. It had been closed as resolved, but it seems to be not completely fixed, IMHO. So I've started another one <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2653\" rel=\"nofollow noreferrer\">issue there</a>. I have also created a <a href=\"https://github.com/spring-projects/spring-data-jpa/pull/2655\" rel=\"nofollow noreferrer\">pull request</a> with a quick-fix, that makes the framework to behave like before.</p>\n<p>So at the moment to overcome this problem you can just downgrade the spring boot version to <code>2.6.x</code>, or go with hot fixes, built by yourself.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73930643,"answer_count":3,"score":2,"last_activity_date":1664785072,"creation_date":1664700599,"question_id":73924509,"body_markdown":"Reproduced code can be found [here (Github)][1].\r\n\r\nSorry for my bad English.\r\n\r\nI&#39;m using spring boot web, jpa, mysql to create a simple restful endpoint.\r\n\r\n - Spring boot parent version: 2.7.0\r\n - Java version: 11 Oracle\r\n\r\nMy repo:\r\n\r\n    public interface TestRepository extends JpaRepository&lt;Test, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT t FROM Test t WHERE (?1 IS NULL OR t.name LIKE %?1%)&quot;)\r\n        Page&lt;Test&gt; findAll(String keyword, Pageable pageable);\r\n    }\r\n\r\nMy api:\r\n\r\n    @GetMapping(&quot;/ab&quot;)\r\n    public Page&lt;Test&gt; ab(CustomPageable pageable) {\r\n        //INSERT INTO test VALUES(1, &#39;aa&#39;, 1);\r\n        //INSERT INTO test VALUES(2, &#39;a&#39;, 2);\r\n        //INSERT INTO test VALUES(3, &#39;b&#39;, 3);\r\n        return testRepository.findAll(pageable.getKeyword(), pageable);\r\n    }\r\n\r\nThe CustomPageable model:\r\n\r\n    public static class CustomPageable extends PageRequest {\r\n    \r\n        @Getter\r\n        private final String keyword;\r\n    \r\n        protected CustomPageable(int page, int size, Sort sort) {\r\n            super(page, size, sort);\r\n            keyword = null;\r\n        }\r\n    \r\n        public CustomPageable(int page, int size, Sort sort, String keyword) {\r\n            super(page, size, sort);\r\n            this.keyword = keyword;\r\n        }\r\n    }\r\n\r\nMy problem is, if the pageable.getKeyword() is null (http://localhost:8181/ab?size=3&amp;sort=name,DESC&amp;page=0), I expect it will return a page contains 3 elements. Actually it return an empty page.\r\n\r\nLog:\r\n\r\n    2022-10-02 15:40:00.967  INFO 6560 --- [nio-8181-exec-6] p6spy                                    : #1664700000967 | took 2ms | statement | connection 4| url jdbc:mysql://localhost:3306/test\r\n    select test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where ? is null or test0_.name like ? order by test0_.name desc limit ?\r\n    select test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where &#39;%org.hibernate.jpa.TypedParameterValue@d41192d%&#39; is null or test0_.name like &#39;%org.hibernate.jpa.TypedParameterValue@d41192d%&#39; order by test0_.name desc limit 3;\r\n\r\nPlease take a look at the query `...where &#39;%org.hibernate.jpa.TypedParameterValue@d41192d%&#39; is null or test0_.name like &#39;%org.hibernate.jpa.TypedParameterValue@d41192d%&#39;...`. I have no idea about &#39;%org.hibernate.jpa.TypedParameterValue@d41192d%&#39;.\r\n\r\nPlease explain to me why my HQL does not work in case keyword is null? Is it my bug or JPA bug? How can I fix this problem?\r\n\r\n====================================================================================\r\n\r\nNOTE:\r\n\r\nIf I send the keyword (http://localhost:8181/ab?size=3&amp;sort=name,DESC&amp;page=0&amp;keyword=a), then it return correctly.\r\n\r\nLog:\r\n\r\n    2022-10-02 15:42:00.659  INFO 6560 --- [io-8181-exec-10] p6spy                                    : #1664700120658 | took 3ms | statement | connection 6| url jdbc:mysql://localhost:3306/test\r\n    select test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where ? is null or test0_.name like ? order by test0_.name desc limit ?\r\n    select test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where &#39;%a%&#39; is null or test0_.name like &#39;%a%&#39; order by test0_.name desc limit 3;\r\n    2022-10-02 15:42:00.665  INFO 6560 --- [io-8181-exec-10] p6spy                                    : #1664700120665 | took 4ms | statement | connection 6| url jdbc:mysql://localhost:3306/test\r\n    select count(test0_.id) as col_0_0_ from test test0_ where ? is null or test0_.name like ?\r\n    select count(test0_.id) as col_0_0_ from test test0_ where &#39;%a%&#39; is null or test0_.name like &#39;%a%&#39;;\r\n\r\nUsing @Query with HQL is a must, please don&#39;t suggest another ways like CriteriaBuilder, etc\r\n\r\n  [1]: https://github.com/anaconda875/bug-spring-jpa--1-is-null\r\n","title":"Spring jpa &quot;where param is null&quot; not working","body":"<p>Reproduced code can be found <a href=\"https://github.com/anaconda875/bug-spring-jpa--1-is-null\" rel=\"nofollow noreferrer\">here (Github)</a>.</p>\n<p>Sorry for my bad English.</p>\n<p>I'm using spring boot web, jpa, mysql to create a simple restful endpoint.</p>\n<ul>\n<li>Spring boot parent version: 2.7.0</li>\n<li>Java version: 11 Oracle</li>\n</ul>\n<p>My repo:</p>\n<pre><code>public interface TestRepository extends JpaRepository&lt;Test, Long&gt; {\n\n    @Query(&quot;SELECT t FROM Test t WHERE (?1 IS NULL OR t.name LIKE %?1%)&quot;)\n    Page&lt;Test&gt; findAll(String keyword, Pageable pageable);\n}\n</code></pre>\n<p>My api:</p>\n<pre><code>@GetMapping(&quot;/ab&quot;)\npublic Page&lt;Test&gt; ab(CustomPageable pageable) {\n    //INSERT INTO test VALUES(1, 'aa', 1);\n    //INSERT INTO test VALUES(2, 'a', 2);\n    //INSERT INTO test VALUES(3, 'b', 3);\n    return testRepository.findAll(pageable.getKeyword(), pageable);\n}\n</code></pre>\n<p>The CustomPageable model:</p>\n<pre><code>public static class CustomPageable extends PageRequest {\n\n    @Getter\n    private final String keyword;\n\n    protected CustomPageable(int page, int size, Sort sort) {\n        super(page, size, sort);\n        keyword = null;\n    }\n\n    public CustomPageable(int page, int size, Sort sort, String keyword) {\n        super(page, size, sort);\n        this.keyword = keyword;\n    }\n}\n</code></pre>\n<p>My problem is, if the pageable.getKeyword() is null (http://localhost:8181/ab?size=3&amp;sort=name,DESC&amp;page=0), I expect it will return a page contains 3 elements. Actually it return an empty page.</p>\n<p>Log:</p>\n<pre><code>2022-10-02 15:40:00.967  INFO 6560 --- [nio-8181-exec-6] p6spy                                    : #1664700000967 | took 2ms | statement | connection 4| url jdbc:mysql://localhost:3306/test\nselect test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where ? is null or test0_.name like ? order by test0_.name desc limit ?\nselect test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where '%org.hibernate.jpa.TypedParameterValue@d41192d%' is null or test0_.name like '%org.hibernate.jpa.TypedParameterValue@d41192d%' order by test0_.name desc limit 3;\n</code></pre>\n<p>Please take a look at the query <code>...where '%org.hibernate.jpa.TypedParameterValue@d41192d%' is null or test0_.name like '%org.hibernate.jpa.TypedParameterValue@d41192d%'...</code>. I have no idea about '%org.hibernate.jpa.TypedParameterValue@d41192d%'.</p>\n<p>Please explain to me why my HQL does not work in case keyword is null? Is it my bug or JPA bug? How can I fix this problem?</p>\n<p>====================================================================================</p>\n<p>NOTE:</p>\n<p>If I send the keyword (http://localhost:8181/ab?size=3&amp;sort=name,DESC&amp;page=0&amp;keyword=a), then it return correctly.</p>\n<p>Log:</p>\n<pre><code>2022-10-02 15:42:00.659  INFO 6560 --- [io-8181-exec-10] p6spy                                    : #1664700120658 | took 3ms | statement | connection 6| url jdbc:mysql://localhost:3306/test\nselect test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where ? is null or test0_.name like ? order by test0_.name desc limit ?\nselect test0_.id as id1_0_, test0_.name as name2_0_, test0_.status as status3_0_ from test test0_ where '%a%' is null or test0_.name like '%a%' order by test0_.name desc limit 3;\n2022-10-02 15:42:00.665  INFO 6560 --- [io-8181-exec-10] p6spy                                    : #1664700120665 | took 4ms | statement | connection 6| url jdbc:mysql://localhost:3306/test\nselect count(test0_.id) as col_0_0_ from test test0_ where ? is null or test0_.name like ?\nselect count(test0_.id) as col_0_0_ from test test0_ where '%a%' is null or test0_.name like '%a%';\n</code></pre>\n<p>Using @Query with HQL is a must, please don't suggest another ways like CriteriaBuilder, etc</p>\n"},{"tags":["java","list","collections","arraylist"],"answers":[{"tags":[],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1337706607,"creation_date":1337706607,"answer_id":10706780,"question_id":10706721,"body_markdown":"No, you will have to iterate over each element:\r\n\r\n    for(String number : numbers) {\r\n       numberList.add(Integer.parseInt(number)); \r\n    }\r\n\r\nThe reason this happens is that there is no straightforward way to convert a list of one type into *any other* type. Some conversions are not possible, or need to be done in a specific way. Essentially the conversion depends on the objects involved and the context of the conversion so there is no &quot;one size fits all&quot; solution. For example, what if you had a `Car` object and a `Person` object. You can&#39;t convert a `List&lt;Car&gt;` into a `List&lt;Person&gt;` directly since it doesn&#39;t really make sense.","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>No, you will have to iterate over each element:</p>\n\n<pre><code>for(String number : numbers) {\n   numberList.add(Integer.parseInt(number)); \n}\n</code></pre>\n\n<p>The reason this happens is that there is no straightforward way to convert a list of one type into <em>any other</em> type. Some conversions are not possible, or need to be done in a specific way. Essentially the conversion depends on the objects involved and the context of the conversion so there is no \"one size fits all\" solution. For example, what if you had a <code>Car</code> object and a <code>Person</code> object. You can't convert a <code>List&lt;Car&gt;</code> into a <code>List&lt;Person&gt;</code> directly since it doesn't really make sense.</p>\n"},{"tags":[],"owner":{"account_id":484897,"reputation":54322,"user_id":900873,"accept_rate":40,"display_name":"Kevin"},"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1337706751,"creation_date":1337706721,"answer_id":10706805,"question_id":10706721,"body_markdown":"No, you need to loop over the array\r\n\r\n    for(String s : strList) intList.add(Integer.valueOf(s));","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>No, you need to loop over the array</p>\n\n<pre><code>for(String s : strList) intList.add(Integer.valueOf(s));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337706737,"creation_date":1337706737,"answer_id":10706812,"question_id":10706721,"body_markdown":"No, there is no way (that I know of), of doing that in Java.\r\n\r\nBasically you&#39;ll have to transform each entry from String to Integer.\r\n\r\nWhat you&#39;re looking for could be achieved in a more functional language, where you could pass a transformation function and apply it to every element of the list... but such is not possible (it would still apply to every element in the list).\r\n\r\n**Overkill:**\r\n\r\nYou can, however use a Function from Google Guava (http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Function.html) to simulate a more functional approach, if that is what you&#39;re looking for.\r\n\r\nIf you&#39;re worried about iterating over the list twice, then instead of split use a Tokenizer and transform each integer token to Integer before adding to the list.","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>No, there is no way (that I know of), of doing that in Java.</p>\n\n<p>Basically you'll have to transform each entry from String to Integer.</p>\n\n<p>What you're looking for could be achieved in a more functional language, where you could pass a transformation function and apply it to every element of the list... but such is not possible (it would still apply to every element in the list).</p>\n\n<p><strong>Overkill:</strong></p>\n\n<p>You can, however use a Function from Google Guava (http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Function.html) to simulate a more functional approach, if that is what you're looking for.</p>\n\n<p>If you're worried about iterating over the list twice, then instead of split use a Tokenizer and transform each integer token to Integer before adding to the list.</p>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1337707075,"creation_date":1337707075,"answer_id":10706877,"question_id":10706721,"body_markdown":"If you use [Google Guava library](http://code.google.com/p/guava-libraries/) this is what you can do, see [Lists#transform](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Lists.html#transform%28java.util.List,%20com.google.common.base.Function%29)\r\n\r\n\t\tString s = &quot;AttributeGet:1,16,10106,10111&quot;;\r\n\r\n\r\n\t\tList&lt;Integer&gt; attributeIDGet = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tif(s.contains(&quot;AttributeGet:&quot;)) {\r\n\t\t    List&lt;String&gt; attributeIDGetS = Arrays.asList(s.split(&quot;:&quot;)[1].split(&quot;,&quot;));\r\n\t\t    attributeIDGet =\r\n\t\t    Lists.transform(attributeIDGetS, new Function&lt;String, Integer&gt;() {\r\n\t\t    \tpublic Integer apply(String e) {\r\n\t\t    \t\treturn Integer.parseInt(e);\r\n\t\t    \t};\r\n\t\t\t});\r\n\t\t}\r\n\r\nYep, agree with above answer that&#39;s it&#39;s bloated, but stylish. But it&#39;s just another way.","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>If you use <a href=\"http://code.google.com/p/guava-libraries/\">Google Guava library</a> this is what you can do, see <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Lists.html#transform%28java.util.List,%20com.google.common.base.Function%29\">Lists#transform</a></p>\n\n<pre><code>    String s = \"AttributeGet:1,16,10106,10111\";\n\n\n    List&lt;Integer&gt; attributeIDGet = new ArrayList&lt;Integer&gt;();\n\n    if(s.contains(\"AttributeGet:\")) {\n        List&lt;String&gt; attributeIDGetS = Arrays.asList(s.split(\":\")[1].split(\",\"));\n        attributeIDGet =\n        Lists.transform(attributeIDGetS, new Function&lt;String, Integer&gt;() {\n            public Integer apply(String e) {\n                return Integer.parseInt(e);\n            };\n        });\n    }\n</code></pre>\n\n<p>Yep, agree with above answer that's it's bloated, but stylish. But it's just another way.</p>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337816978,"creation_date":1337816978,"answer_id":10729439,"question_id":10706721,"body_markdown":"Here is another example to show power of Guava. Although, this is not the way I write code, I wanted to pack it all together to show what kind of functional programming Guava provides for Java.\r\n\r\n    Function&lt;String, Integer&gt; strToInt=new Function&lt;String, Integer&gt;() {\r\n        public Integer apply(String e) {\r\n             return Integer.parseInt(e);\r\n        }\r\n    };\r\n    String s = &quot;AttributeGet:1,16,10106,10111&quot;;\r\n\r\n    List&lt;Integer&gt; attributeIDGet =(s.contains(&quot;AttributeGet:&quot;))?\r\n      FluentIterable\r\n       .from(Iterables.skip(Splitter.on(CharMatcher.anyOf(&quot;;,&quot;)).split(s)), 1))\r\n       .transform(strToInt)\r\n       .toImmutableList():\r\n       new ArrayList&lt;Integer&gt;();\r\n","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>Here is another example to show power of Guava. Although, this is not the way I write code, I wanted to pack it all together to show what kind of functional programming Guava provides for Java.</p>\n\n<pre><code>Function&lt;String, Integer&gt; strToInt=new Function&lt;String, Integer&gt;() {\n    public Integer apply(String e) {\n         return Integer.parseInt(e);\n    }\n};\nString s = \"AttributeGet:1,16,10106,10111\";\n\nList&lt;Integer&gt; attributeIDGet =(s.contains(\"AttributeGet:\"))?\n  FluentIterable\n   .from(Iterables.skip(Splitter.on(CharMatcher.anyOf(\";,\")).split(s)), 1))\n   .transform(strToInt)\n   .toImmutableList():\n   new ArrayList&lt;Integer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233953,"reputation":1174,"user_id":499797,"display_name":"javatarz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505693253,"creation_date":1399300985,"answer_id":23475288,"question_id":10706721,"body_markdown":"If you&#39;re allowed to use lambdas from Java 8, you can use the following code sample.\r\n\r\n    final String text = &quot;1:2:3:4:5&quot;;\r\n    final List&lt;Integer&gt; list = Arrays.asList(text.split(&quot;:&quot;)).stream()\r\n      .map(s -&gt; Integer.parseInt(s))\r\n      .collect(Collectors.toList());\r\n    System.out.println(list);\r\n\r\nNo use of external libraries. Plain &lt;s&gt;old&lt;/s&gt; new Java!","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>If you're allowed to use lambdas from Java 8, you can use the following code sample.</p>\n\n<pre><code>final String text = \"1:2:3:4:5\";\nfinal List&lt;Integer&gt; list = Arrays.asList(text.split(\":\")).stream()\n  .map(s -&gt; Integer.parseInt(s))\n  .collect(Collectors.toList());\nSystem.out.println(list);\n</code></pre>\n\n<p>No use of external libraries. Plain <s>old</s> new Java!</p>\n"},{"tags":[],"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1416510620,"creation_date":1416510165,"answer_id":27047471,"question_id":10706721,"body_markdown":"Why don&#39;t you use stream to convert List of Strings to List of integers?\r\nlike below\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;(Arrays.asList(&quot;10&quot;, &quot;30&quot;, &quot;40&quot;,\r\n\t\t\t\t&quot;50&quot;, &quot;60&quot;, &quot;70&quot;));\r\n    List&lt;Integer&gt; integerList = stringList.stream()\r\n\t\t\t\t.map(Integer::valueOf).collect(Collectors.toList());\r\n\r\ncomplete operation could be something like this\r\n\r\n    String s = &quot;AttributeGet:1,16,10106,10111&quot;;\r\n\tList&lt;Integer&gt; integerList = (s.startsWith(&quot;AttributeGet:&quot;)) ?\r\n\t\tArrays.asList(s.replace(&quot;AttributeGet:&quot;, &quot;&quot;).split(&quot;,&quot;))\r\n\t\t.stream().map(Integer::valueOf).collect(Collectors.toList())\r\n\t\t: new ArrayList&lt;Integer&gt;();","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>Why don't you use stream to convert List of Strings to List of integers?\nlike below</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;String&gt;(Arrays.asList(\"10\", \"30\", \"40\",\n            \"50\", \"60\", \"70\"));\nList&lt;Integer&gt; integerList = stringList.stream()\n            .map(Integer::valueOf).collect(Collectors.toList());\n</code></pre>\n\n<p>complete operation could be something like this</p>\n\n<pre><code>String s = \"AttributeGet:1,16,10106,10111\";\nList&lt;Integer&gt; integerList = (s.startsWith(\"AttributeGet:\")) ?\n    Arrays.asList(s.replace(\"AttributeGet:\", \"\").split(\",\"))\n    .stream().map(Integer::valueOf).collect(Collectors.toList())\n    : new ArrayList&lt;Integer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164095,"reputation":873,"user_id":386646,"display_name":"Michal Čizmazia"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1518716655,"creation_date":1426170013,"answer_id":29012286,"question_id":10706721,"body_markdown":"[Guava Converters](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/Converter.html) do the trick.\r\n\r\n    import com.google.common.base.Splitter;\r\n    import com.google.common.primitives.Longs;\r\n    \r\n    final Iterable&lt;Long&gt; longIds = \r\n        Longs.stringConverter().convertAll(\r\n            Splitter.on(&#39;,&#39;).trimResults().omitEmptyStrings()\r\n                .splitToList(&quot;1,2,3&quot;));\r\n\r\n","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p><a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/Converter.html\" rel=\"nofollow noreferrer\">Guava Converters</a> do the trick.</p>\n\n<pre><code>import com.google.common.base.Splitter;\nimport com.google.common.primitives.Longs;\n\nfinal Iterable&lt;Long&gt; longIds = \n    Longs.stringConverter().convertAll(\n        Splitter.on(',').trimResults().omitEmptyStrings()\n            .splitToList(\"1,2,3\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3002414,"reputation":361,"user_id":2547647,"display_name":"Tadeu Jr."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1445266415,"creation_date":1445266415,"answer_id":33217585,"question_id":10706721,"body_markdown":"Using lambda:\r\n\r\n`strList.stream().map(org.apache.commons.lang3.math.NumberUtils::toInt).collect(Collectors.toList());`","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>Using lambda:</p>\n\n<p><code>strList.stream().map(org.apache.commons.lang3.math.NumberUtils::toInt).collect(Collectors.toList());</code></p>\n"},{"tags":[],"owner":{"account_id":7037012,"reputation":562,"user_id":5390733,"display_name":"virag"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1447813112,"creation_date":1447813112,"answer_id":33770717,"question_id":10706721,"body_markdown":"You can use the Lambda functions of Java 8 to achieve this without looping\r\n\r\n        String string = &quot;1, 2, 3, 4&quot;;\r\n        List&lt;Integer&gt; list = Arrays.asList(string.split(&quot;,&quot;)).stream().map(s -&gt; Integer.parseInt(s.trim())).collect(Collectors.toList());","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>You can use the Lambda functions of Java 8 to achieve this without looping</p>\n\n<pre><code>    String string = \"1, 2, 3, 4\";\n    List&lt;Integer&gt; list = Arrays.asList(string.split(\",\")).stream().map(s -&gt; Integer.parseInt(s.trim())).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1260918,"reputation":1367,"user_id":1219230,"display_name":"Dawid Stępień"},"down_vote_count":0,"up_vote_count":103,"is_accepted":false,"score":103,"last_activity_date":1462540626,"creation_date":1462540626,"answer_id":37073454,"question_id":10706721,"body_markdown":"Using Java8:\r\n\r\n    stringList.stream().map(Integer::parseInt).collect(Collectors.toList());","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>Using Java8:</p>\n\n<pre><code>stringList.stream().map(Integer::parseInt).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13262317,"reputation":41,"user_id":9576454,"display_name":"Akash Anand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551471384,"creation_date":1551469589,"answer_id":54951354,"question_id":10706721,"body_markdown":"Using Streams and Lambda:\r\n\r\n    newIntegerlist = listName.stream().map(x-&gt; \r\n        Integer.valueOf(x)).collect(Collectors.toList());\r\n\r\nThe above line of code will convert the List of type `List&lt;String&gt;` to `List&lt;Integer&gt;`.\r\n\r\nI hope it was helpful.\r\n","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>Using Streams and Lambda:</p>\n\n<pre><code>newIntegerlist = listName.stream().map(x-&gt; \n    Integer.valueOf(x)).collect(Collectors.toList());\n</code></pre>\n\n<p>The above line of code will convert the List of type <code>List&lt;String&gt;</code> to <code>List&lt;Integer&gt;</code>.</p>\n\n<p>I hope it was helpful.</p>\n"},{"tags":[],"owner":{"account_id":8131379,"reputation":31,"user_id":6124538,"display_name":"Raam Krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590516947,"creation_date":1590516947,"answer_id":62028719,"question_id":10706721,"body_markdown":"Use Guava transform method as below,\r\n\r\nList&lt;Integer&gt; intList =  Lists.transform(stringList, Integer::parseInt);","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>Use Guava transform method as below,</p>\n\n<p>List intList =  Lists.transform(stringList, Integer::parseInt);</p>\n"},{"tags":[],"owner":{"account_id":22088068,"reputation":1,"user_id":16346564,"display_name":"Erick Padilla Maldonado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626964729,"creation_date":1626822625,"answer_id":68462319,"question_id":10706721,"body_markdown":"import java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class reto1 {\r\n        \r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n            double suma = 0, promedio = 0;\r\n            String IRCA = &quot;&quot;;\r\n            int long_vector = Integer.parseInt(input.nextLine());    \r\n            int[] Lista_Entero = new int[long_vector];       // INSTANCE INTEGER LIST\r\n            String[] lista_string = new String[long_vector]; // INSTANCE STRING LIST\r\n            Double[] lista_double = new Double[long_vector];\r\n            lista_string = input.nextLine().split(&quot; &quot;);     //  INPUT STRING LIST\r\n        input.close();\r\n\r\n        for (int i = 0; i &lt; long_vector; i++) {\r\n            Lista_Entero[i] = Integer.parseInt(lista_string[i]); // CONVERT INDEX TO INDEX FROM STRING UNTIL INTEGER AND ASSIGNED TO NEW INTEGER LIST\r\n            suma = suma + Lista_Entero[i];\r\n        }","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>import java.util.Arrays;\nimport java.util.Scanner;</p>\n<p>public class reto1 {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n        double suma = 0, promedio = 0;\n        String IRCA = &quot;&quot;;\n        int long_vector = Integer.parseInt(input.nextLine());    \n        int[] Lista_Entero = new int[long_vector];       // INSTANCE INTEGER LIST\n        String[] lista_string = new String[long_vector]; // INSTANCE STRING LIST\n        Double[] lista_double = new Double[long_vector];\n        lista_string = input.nextLine().split(&quot; &quot;);     //  INPUT STRING LIST\n    input.close();\n\n    for (int i = 0; i &lt; long_vector; i++) {\n        Lista_Entero[i] = Integer.parseInt(lista_string[i]); // CONVERT INDEX TO INDEX FROM STRING UNTIL INTEGER AND ASSIGNED TO NEW INTEGER LIST\n        suma = suma + Lista_Entero[i];\n    }\n</code></pre>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192673,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":10706805,"answer_count":14,"score":82,"last_activity_date":1664784997,"creation_date":1337706405,"question_id":10706721,"body_markdown":"After parsing my file &quot;&lt;String&gt; s&quot; contains `AttributeGet:1,16,10106,10111` \r\n\r\nSo I need to get all the numbers after colon in the attributeIDGet List&lt;Integer&gt;. I know there are several ways to do it. But is there any way we can **Directly convert `List&lt;String&gt;` to `List&lt;Integer&gt;`.**\r\nAs the below code complains about Type mismatch, so I tried to do the Integer.parseInt, but I guess this will not work for List&lt;String&gt;. Here s is String.\r\n \r\n\r\n    private static List&lt;Integer&gt; attributeIDGet = new ArrayList&lt;Integer&gt;();\r\n    \r\n    if(s.contains(&quot;AttributeGet:&quot;)) {\r\n    \tattributeIDGet = Arrays.asList(s.split(&quot;:&quot;)[1].split(&quot;,&quot;));\r\n    }","title":"Convert List&lt;String&gt; to List&lt;Integer&gt; directly","body":"<p>After parsing my file \" s\" contains <code>AttributeGet:1,16,10106,10111</code> </p>\n\n<p>So I need to get all the numbers after colon in the attributeIDGet List. I know there are several ways to do it. But is there any way we can <strong>Directly convert <code>List&lt;String&gt;</code> to <code>List&lt;Integer&gt;</code>.</strong>\nAs the below code complains about Type mismatch, so I tried to do the Integer.parseInt, but I guess this will not work for List. Here s is String.</p>\n\n<pre><code>private static List&lt;Integer&gt; attributeIDGet = new ArrayList&lt;Integer&gt;();\n\nif(s.contains(\"AttributeGet:\")) {\n    attributeIDGet = Arrays.asList(s.split(\":\")[1].split(\",\"));\n}\n</code></pre>\n"},{"tags":["java","android","rx-java","rx-java2","rx-android"],"answers":[{"tags":[],"owner":{"account_id":5660515,"reputation":3145,"user_id":6474756,"display_name":"Amit Shekhar"},"down_vote_count":1,"up_vote_count":149,"is_accepted":true,"score":148,"last_activity_date":1664784954,"creation_date":1472465923,"answer_id":39203823,"question_id":39203791,"body_markdown":"    private final CompositeDisposable disposables = new CompositeDisposable();\r\n    \r\n    \r\n    // adding an Observable to the disposable\r\n    disposables.add(sampleObservable()\r\n                    .subscribeOn(Schedulers.io())\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribeWith(new DisposableObserver&lt;String&gt;() {\r\n                        @Override\r\n                        public void onComplete() {\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onError(Throwable e) {\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onNext(String value) {\r\n                        }\r\n                    }));\r\n    \r\n        static Observable&lt;String&gt; sampleObservable() {\r\n            return Observable.defer(new Callable&lt;ObservableSource&lt;? extends String&gt;&gt;() {\r\n                @Override\r\n                public ObservableSource&lt;? extends String&gt; call() throws Exception {\r\n                    // Do some long running operation\r\n                    SystemClock.sleep(2000);\r\n                    return Observable.just(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;);\r\n                }\r\n            });\r\n        }                \r\n    \r\n    \r\n    // Using clear will clear all, but can accept new disposable\r\n    disposables.clear(); \r\n    // Using dispose will clear all and set isDisposed = true, so it will not accept any new disposable\r\n    disposables.dispose(); \r\n\r\n\r\n[**Reference article**][1]\r\n\r\n\r\n  [1]: https://amitshekhar.me/blog/dispose-vs-clear-compositedisposable-rxjava","title":"How to use CompositeDisposable of RxJava 2?","body":"<pre><code>private final CompositeDisposable disposables = new CompositeDisposable();\n\n\n// adding an Observable to the disposable\ndisposables.add(sampleObservable()\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeWith(new DisposableObserver&lt;String&gt;() {\n                    @Override\n                    public void onComplete() {\n                    }\n\n                    @Override\n                    public void onError(Throwable e) {\n                    }\n\n                    @Override\n                    public void onNext(String value) {\n                    }\n                }));\n\n    static Observable&lt;String&gt; sampleObservable() {\n        return Observable.defer(new Callable&lt;ObservableSource&lt;? extends String&gt;&gt;() {\n            @Override\n            public ObservableSource&lt;? extends String&gt; call() throws Exception {\n                // Do some long running operation\n                SystemClock.sleep(2000);\n                return Observable.just(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;);\n            }\n        });\n    }                \n\n\n// Using clear will clear all, but can accept new disposable\ndisposables.clear(); \n// Using dispose will clear all and set isDisposed = true, so it will not accept any new disposable\ndisposables.dispose(); \n</code></pre>\n<p><a href=\"https://amitshekhar.me/blog/dispose-vs-clear-compositedisposable-rxjava\" rel=\"nofollow noreferrer\"><strong>Reference article</strong></a></p>\n"},{"tags":[],"owner":{"account_id":10522445,"reputation":3,"user_id":7754474,"display_name":"孔维生"},"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1490236745,"creation_date":1490236745,"answer_id":42966264,"question_id":39203791,"body_markdown":"  \r\n\r\n    // clearing or unsubscibing\r\n      disposables.clear(); \r\n   this place use `dispose()`","title":"How to use CompositeDisposable of RxJava 2?","body":"<pre><code>// clearing or unsubscibing\n  disposables.clear(); \n</code></pre>\n\n<p>this place use <code>dispose()</code></p>\n"},{"tags":[],"owner":{"account_id":14357587,"reputation":159,"user_id":11285232,"display_name":"Seroj  Grigoryan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585202806,"creation_date":1585167628,"answer_id":60856800,"question_id":39203791,"body_markdown":"`CompositeDisposable` cannot be reused after being disposed. If you want sync disposable lifecycle with Android Activity lifecycle, it is possible to correspond by making a simple wrapper.\r\n\r\n    class AndroidDisposable {\r\n        private var compositeDisposable: CompositeDisposable? = null\r\n    \r\n        fun add(disposable: Disposable) {\r\n            if (compositeDisposable == null) {\r\n                compositeDisposable = CompositeDisposable()\r\n            }\r\n            compositeDisposable?.add(disposable)\r\n        }\r\n    \r\n        fun dispose() {\r\n            compositeDisposable?.dispose()\r\n            compositeDisposable = null\r\n        }\r\n    }\r\n\r\nHow to use:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private disposable = AndroidDisposable()\r\n    \r\n        override fun onStart() {\r\n            super.onStart()\r\n            disposable.add(/* Some disposable */)\r\n        }\r\n    \r\n        override fun onStop() {\r\n            disposable.dispose()\r\n            super.onStop()\r\n        }\r\n    }","title":"How to use CompositeDisposable of RxJava 2?","body":"<p><code>CompositeDisposable</code> cannot be reused after being disposed. If you want sync disposable lifecycle with Android Activity lifecycle, it is possible to correspond by making a simple wrapper.</p>\n\n<pre><code>class AndroidDisposable {\n    private var compositeDisposable: CompositeDisposable? = null\n\n    fun add(disposable: Disposable) {\n        if (compositeDisposable == null) {\n            compositeDisposable = CompositeDisposable()\n        }\n        compositeDisposable?.add(disposable)\n    }\n\n    fun dispose() {\n        compositeDisposable?.dispose()\n        compositeDisposable = null\n    }\n}\n</code></pre>\n\n<p>How to use:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    private disposable = AndroidDisposable()\n\n    override fun onStart() {\n        super.onStart()\n        disposable.add(/* Some disposable */)\n    }\n\n    override fun onStop() {\n        disposable.dispose()\n        super.onStop()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9094852,"reputation":915,"user_id":6769163,"display_name":"anand gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64220,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":39203823,"answer_count":3,"score":80,"last_activity_date":1664784954,"creation_date":1472465824,"question_id":39203791,"body_markdown":"In RxJava 1, there was CompositeSubscription, but that is not present in RxJava2, There is something CompositeDisposable in rxJava2. How do I use CompositeDisposable or Disposable in RxJava2?","title":"How to use CompositeDisposable of RxJava 2?","body":"<p>In RxJava 1, there was CompositeSubscription, but that is not present in RxJava2, There is something CompositeDisposable in rxJava2. How do I use CompositeDisposable or Disposable in RxJava2?</p>\n"},{"tags":["java","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1641369234,"post_id":70589430,"comment_id":124784056,"body_markdown":"Did you upgrade other dependencies accordingly, e.g. the springfox documentation one? Have a look here, does this help: https://stackoverflow.com/questions/70059018/swagger-2-issue-spring-boot?","body":"Did you upgrade other dependencies accordingly, e.g. the springfox documentation one? Have a look here, does this help: <a href=\"https://stackoverflow.com/questions/70059018/swagger-2-issue-spring-boot\" title=\"swagger 2 issue spring boot\">stackoverflow.com/questions/70059018/&hellip;</a>?"},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1641369323,"post_id":70589430,"comment_id":124784087,"body_markdown":"@Thomas I am not aware that I should upgrade something else too. What else should I do?","body":"@Thomas I am not aware that I should upgrade something else too. What else should I do?"},{"owner":{"account_id":1484273,"reputation":981,"user_id":1392842,"accept_rate":30,"display_name":"Liu guanghua"},"score":0,"creation_date":1641369990,"post_id":70589430,"comment_id":124784259,"body_markdown":"Please paste your swagger dependency configuration. this issue should be springboot2.6 and swagger conflict. you can try to update swagger version.","body":"Please paste your swagger dependency configuration. this issue should be springboot2.6 and swagger conflict. you can try to update swagger version."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1641370182,"post_id":70589430,"comment_id":124784318,"body_markdown":"I think my problem is related to this: https://stackoverflow.com/a/70037507/2300597","body":"I think my problem is related to this: <a href=\"https://stackoverflow.com/a/70037507/2300597\">stackoverflow.com/a/70037507/2300597</a>"}],"answers":[{"tags":[],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641370107,"creation_date":1641370107,"answer_id":70589581,"question_id":70589430,"body_markdown":"Use Spring Migrator to know what all dependencies needs to be updated\r\n\r\n\r\n````\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n````\r\n\r\n\r\nCheck this for more info - https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes\r\n\r\nAnd also for Spring Fox - https://github.com/springfox/springfox/issues/3462","title":"NullPointerException when upgrading Spring Boot to version 2.6.2","body":"<p>Use Spring Migrator to know what all dependencies needs to be updated</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Check this for more info - <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes</a></p>\n<p>And also for Spring Fox - <a href=\"https://github.com/springfox/springfox/issues/3462\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/3462</a></p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641380190,"creation_date":1641380190,"answer_id":70591699,"question_id":70589430,"body_markdown":"I know this does not solve your problem directly, but consider moving to [springdoc][1]. Springfox is so buggy at this point that is a pain to use. I&#39;ve moved to `springdoc` 2 years ago because of its Spring WebFlux support and I am very happy about it. Additionally, it also supports Kotlin Coroutines, which I am not sure Springfox does.\r\n\r\nIf you decide to migrate, `springdoc` even has a [migration guide][2].\r\n\r\n\r\n  [1]: https://springdoc.org/\r\n  [2]: https://springdoc.org/#migrating-from-springfox","title":"NullPointerException when upgrading Spring Boot to version 2.6.2","body":"<p>I know this does not solve your problem directly, but consider moving to <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">springdoc</a>. Springfox is so buggy at this point that is a pain to use. I've moved to <code>springdoc</code> 2 years ago because of its Spring WebFlux support and I am very happy about it. Additionally, it also supports Kotlin Coroutines, which I am not sure Springfox does.</p>\n<p>If you decide to migrate, <code>springdoc</code> even has a <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">migration guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":3607592,"reputation":1210,"user_id":3009436,"display_name":"icyfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643365072,"creation_date":1643365072,"answer_id":70892069,"question_id":70589430,"body_markdown":"The workaround mentioned in the below issue comment seems to be working for people with spring actuator as well.\r\n\r\nhttps://github.com/springfox/springfox/issues/3462#issuecomment-1010721223","title":"NullPointerException when upgrading Spring Boot to version 2.6.2","body":"<p>The workaround mentioned in the below issue comment seems to be working for people with spring actuator as well.</p>\n<p><a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223</a></p>\n"},{"tags":[],"owner":{"account_id":7265249,"reputation":1110,"user_id":5540231,"display_name":"jausen brett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651588200,"creation_date":1651587073,"answer_id":72100726,"question_id":70589430,"body_markdown":"Springfox broke my JPA tests, and the actuator for Prometheus.\r\nIt took several attempts to fix and was very annoying.\r\n\r\nNecessary steps i had to do with Springboot version 2.6.3, and springdoc 1.6.8:\r\n(Also consult the migration guide mentioned by Jo&#227;o Dias)\r\n\r\nUsing Gradle, throw out Springfox and add new dependency:\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.8&#39;\r\n\r\nAdd some configuration, most simple version:\r\n\r\n    @Bean\r\n    public OpenAPI springAPI() {\r\n        return new OpenAPI();\r\n    }\r\n\r\nI still got a 404 error after that.\r\nSo i added the swagger-ui resource location (a rather dirty hack):\r\n\r\n    registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\r\n     .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/&quot;);\r\n\r\nAfter that i was able to call swagger-ui, the path will depend on your application context. In my case it is /api, so my URL is\r\n\r\n    http://127.0.0.1:8080/api/swagger-ui/index.html/\r\n\r\nThis then shows the stupid Swagger Petstore and i was not able to get rid of it for now. However, you can now enter the URL for your API (remember it will depend on your application context)\r\n[![enter image description here][1]][1]\r\n\r\nAnd finally get your API displayed.\r\n\r\nAs a bonus i also ran into [this bug][2], because a custom HTTPMessageConverter is what you need in case you want to use Prometheus.\r\n(Still working on getting the actuator back)\r\n\r\n  [1]: https://i.stack.imgur.com/OZqrK.png\r\n  [2]: https://github.com/springdoc/springdoc-openapi/issues/624","title":"NullPointerException when upgrading Spring Boot to version 2.6.2","body":"<p>Springfox broke my JPA tests, and the actuator for Prometheus.\nIt took several attempts to fix and was very annoying.</p>\n<p>Necessary steps i had to do with Springboot version 2.6.3, and springdoc 1.6.8:\n(Also consult the migration guide mentioned by João Dias)</p>\n<p>Using Gradle, throw out Springfox and add new dependency:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.8'\n</code></pre>\n<p>Add some configuration, most simple version:</p>\n<pre><code>@Bean\npublic OpenAPI springAPI() {\n    return new OpenAPI();\n}\n</code></pre>\n<p>I still got a 404 error after that.\nSo i added the swagger-ui resource location (a rather dirty hack):</p>\n<pre><code>registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.10.3/&quot;);\n</code></pre>\n<p>After that i was able to call swagger-ui, the path will depend on your application context. In my case it is /api, so my URL is</p>\n<pre><code>http://127.0.0.1:8080/api/swagger-ui/index.html/\n</code></pre>\n<p>This then shows the stupid Swagger Petstore and i was not able to get rid of it for now. However, you can now enter the URL for your API (remember it will depend on your application context)\n<a href=\"https://i.stack.imgur.com/OZqrK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OZqrK.png\" alt=\"enter image description here\" /></a></p>\n<p>And finally get your API displayed.</p>\n<p>As a bonus i also ran into <a href=\"https://github.com/springdoc/springdoc-openapi/issues/624\" rel=\"nofollow noreferrer\">this bug</a>, because a custom HTTPMessageConverter is what you need in case you want to use Prometheus.\n(Still working on getting the actuator back)</p>\n"},{"tags":[],"owner":{"account_id":2516613,"reputation":500,"user_id":2187908,"display_name":"Abdelrahman Elattar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664784314,"creation_date":1664784314,"answer_id":73932622,"question_id":70589430,"body_markdown":"Quick solution: add `spring.mvc.pathmatch.matching-strategy: ant_path_matcher` in `application.properties`","title":"NullPointerException when upgrading Spring Boot to version 2.6.2","body":"<p>Quick solution: add <code>spring.mvc.pathmatch.matching-strategy: ant_path_matcher</code> in <code>application.properties</code></p>\n"}],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1664784314,"creation_date":1641369121,"question_id":70589430,"body_markdown":"I upgraded by Spring Boot version from 2.5.4 to 2.6.2.    \r\n\r\nNow my app fails at startup because of this error - see below.    \r\n\r\nAny ideas how to fix it?   \r\n\r\n\r\n\tError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled. ||| \r\n\t2022-01-05 02:48:10.673 [main] ERROR org.springframework.boot.SpringApplication &gt;&gt;&gt; Application run failed ||| org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException\r\n\t\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\r\n\t\tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n\t\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n\t\tat java.lang.Iterable.forEach(Iterable.java:75)\r\n\t\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n\t\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n\t\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n\t\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\t\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n\t\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\r\n\t\tat com.cmp.tpe.rcf.MicroserviceApplication.main(MicroserviceApplication.java:19)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\t\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n\t\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\t\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n\tCaused by: java.lang.NullPointerException: null\r\n\t\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112)\r\n\t\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109)\r\n\t\tat com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37)\r\n\t\tat java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n\t\tat java.util.TimSort.sort(TimSort.java:220)\r\n\t\tat java.util.Arrays.sort(Arrays.java:1438)\r\n\t\tat com.google.common.collect.Ordering.sortedCopy(Ordering.java:855)\r\n\t\tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57)\r\n\t\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138)\r\n\t\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135)\r\n\t\tat com.google.common.collect.Iterators$7.transform(Iterators.java:750)\r\n\t\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\r\n\t\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\r\n\t\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52)\r\n\t\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50)\r\n\t\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249)\r\n\t\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209)\r\n\t\tat com.google.common.collect.FluentIterable.toList(FluentIterable.java:614)\r\n\t\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111)\r\n\t\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96)\r\n\t\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167)\r\n\t\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n\t\t... 22 common frames omitted\r\n\t\r\n\r\n\r\n","title":"NullPointerException when upgrading Spring Boot to version 2.6.2","body":"<p>I upgraded by Spring Boot version from 2.5.4 to 2.6.2.</p>\n<p>Now my app fails at startup because of this error - see below.</p>\n<p>Any ideas how to fix it?</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. ||| \n2022-01-05 02:48:10.673 [main] ERROR org.springframework.boot.SpringApplication &gt;&gt;&gt; Application run failed ||| org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\n    at java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290)\n    at com.cmp.tpe.rcf.MicroserviceApplication.main(MicroserviceApplication.java:19)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\nCaused by: java.lang.NullPointerException: null\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112)\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109)\n    at com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37)\n    at java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\n    at java.util.TimSort.sort(TimSort.java:220)\n    at java.util.Arrays.sort(Arrays.java:1438)\n    at com.google.common.collect.Ordering.sortedCopy(Ordering.java:855)\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57)\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138)\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135)\n    at com.google.common.collect.Iterators$7.transform(Iterators.java:750)\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47)\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52)\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50)\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249)\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209)\n    at com.google.common.collect.FluentIterable.toList(FluentIterable.java:614)\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111)\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96)\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167)\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n    ... 22 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1664434294,"post_id":73889925,"comment_id":130471607,"body_markdown":"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1?source=rss-------1","body":"<a href=\"https://thomasandolf.medium.com/spring-security-jwts-getting-started-ebdb4e4f1dd1?source=rss-------1\" rel=\"nofollow noreferrer\">thomasandolf.medium.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664783782,"creation_date":1664454400,"answer_id":73895543,"question_id":73889925,"body_markdown":"You can achieve this with **spring-security built-it JWT support** for a server secured with JWT.\r\n\r\nFirst, for a spring-boot application you&#39;ll need a dependency:  \r\n*for Gradle:*\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server:2.7.4&#39;\r\n```\r\n*for Maven:*\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen in any configuration class create beans of `JwtDecoder` type and a converter to convert some JWT claim to a collection of `GrantedAuthority`.\r\n\r\nIn your case it can be done like this:\r\n\r\n```java\r\n@Bean\r\npublic JwtDecoder jwtDecoder() {\r\n    final SecretKey key = new SecretKeySpec(&quot;mysecret&quot;.getBytes(), JwsAlgorithms.HS512);\r\n    final NimbusJwtDecoder decoder = NimbusJwtDecoder.withSecretKey(key).build();\r\n    return decoder;\r\n}\r\n\r\n@Bean\r\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n    final JwtGrantedAuthoritiesConverter grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n    grantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;securityGroups&quot;);\r\n    grantedAuthoritiesConverter.setAuthorityPrefix(&quot;&quot;);\r\n\r\n    final JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\r\n    return jwtAuthenticationConverter;\r\n}\r\n```\r\n\r\nThen just let your application know that you want to use this support by additional security filter chain configuration:\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConf {\r\n    \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disabled().authorizeRequests()\r\n            .antMatchers(&quot;/principal&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .oauth2ResourceServer(oauth2Server -&gt; oauth2Server.jwt());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nNote that I don&#39;t use `WebSecurityConfigurerAdapter` because it&#39;s **deprecated** now.\r\n\r\nAbove configuration will create a filter which will try to authorize users before reaching your controller endpoints and will throw 401 if there&#39;s no JWT or it&#39;s expired or invalid for other reasons.\r\n\r\nSo you won&#39;t need a separate endpoint like `&quot;/principal&quot;` for &quot;login&quot; with a token, because Spring will create an `Authentication` object in a `SecurityContextHolder` for every request.\r\n\r\nMoreover, this configuration will let you authorize users depending on their &quot;securityGroups&quot;, so if you decide to configure some role-based or authority-based access to some endpoints Spring will check it for you and return 403 if authorities are insufficient.","title":"Create principal from JWT and set it to SecurityContext","body":"<p>You can achieve this with <strong>spring-security built-it JWT support</strong> for a server secured with JWT.</p>\n<p>First, for a spring-boot application you'll need a dependency:<br />\n<em>for Gradle:</em></p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server:2.7.4'\n</code></pre>\n<p><em>for Maven:</em></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then in any configuration class create beans of <code>JwtDecoder</code> type and a converter to convert some JWT claim to a collection of <code>GrantedAuthority</code>.</p>\n<p>In your case it can be done like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic JwtDecoder jwtDecoder() {\n    final SecretKey key = new SecretKeySpec(&quot;mysecret&quot;.getBytes(), JwsAlgorithms.HS512);\n    final NimbusJwtDecoder decoder = NimbusJwtDecoder.withSecretKey(key).build();\n    return decoder;\n}\n\n@Bean\npublic JwtAuthenticationConverter jwtAuthenticationConverter() {\n    final JwtGrantedAuthoritiesConverter grantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n    grantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;securityGroups&quot;);\n    grantedAuthoritiesConverter.setAuthorityPrefix(&quot;&quot;);\n\n    final JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n    jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);\n    return jwtAuthenticationConverter;\n}\n</code></pre>\n<p>Then just let your application know that you want to use this support by additional security filter chain configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConf {\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disabled().authorizeRequests()\n            .antMatchers(&quot;/principal&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .oauth2ResourceServer(oauth2Server -&gt; oauth2Server.jwt());\n        return http.build();\n    }\n}\n</code></pre>\n<p>Note that I don't use <code>WebSecurityConfigurerAdapter</code> because it's <strong>deprecated</strong> now.</p>\n<p>Above configuration will create a filter which will try to authorize users before reaching your controller endpoints and will throw 401 if there's no JWT or it's expired or invalid for other reasons.</p>\n<p>So you won't need a separate endpoint like <code>&quot;/principal&quot;</code> for &quot;login&quot; with a token, because Spring will create an <code>Authentication</code> object in a <code>SecurityContextHolder</code> for every request.</p>\n<p>Moreover, this configuration will let you authorize users depending on their &quot;securityGroups&quot;, so if you decide to configure some role-based or authority-based access to some endpoints Spring will check it for you and return 403 if authorities are insufficient.</p>\n"}],"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1541,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664783782,"creation_date":1664421314,"question_id":73889925,"body_markdown":"In one system, I generated the JWT token as follows:\r\n\r\n    List securityGroups = Arrays.asList(&quot;group1&quot;);\r\n    Map&lt;String, Object&gt; claims = Map.of(&quot;username&quot;, &quot;user1&quot;, &quot;securityGroups&quot;, securityGroups);\r\n    String token = Jwts.builder()\r\n        .setClaims(claims).setSubject(&quot;user1&quot;).setAudience(&quot;web&quot;)\r\n        .setIssuedAt(&lt;date now&gt;).setExpiration(&lt;some expiration&gt;)\r\n        .signWith(SignatureAlgorithm.HS512, &quot;mysecret&quot;).compact();\r\n\r\nIn another application, I want to decrypt this token and set in the SecurityContext.  First, I have security config as follows:\r\n\r\n    @Configuration\r\n    public class SecurityConf extends WebSecurityConfigurerAdapter {\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disabled().authorizeRequests()\r\n                .antMatchers(&quot;/principal&quot;).permitAll()\r\n                .anyRequests().authenticated();\r\n        }\r\n    }\r\n\r\nWith this, when user requests for an endpoint, say `/books`, the browser will receive 403 error.\r\n\r\nThen I implement the `/principal` to use this token as an authenticated user in spring.\r\n\r\n    @RequestMapping(&quot;/principal&quot;)\r\n    public class PrincipalController {\r\n        @PostMapping\r\n        public void setPrincipal(@RequestBody String token) {\r\n            // i&#39;m able to decrypt the token here\r\n            // use token to create principal\r\n            Authentication authentication = ....\r\n            SecurityContextHolder.getContext().setAuthentication(...)\r\n        }\r\n    }\r\n\r\nI&#39;m thinking once I set this in SecurityContext, for succeeding request where I attach the token in the Authorization header, I won&#39;t be getting anymore 403 or 401 error since user is authenticated and Spring knows that the token corresponds to the principal in the context.  But this part I am not sure how to do it.  Please advise.","title":"Create principal from JWT and set it to SecurityContext","body":"<p>In one system, I generated the JWT token as follows:</p>\n<pre><code>List securityGroups = Arrays.asList(&quot;group1&quot;);\nMap&lt;String, Object&gt; claims = Map.of(&quot;username&quot;, &quot;user1&quot;, &quot;securityGroups&quot;, securityGroups);\nString token = Jwts.builder()\n    .setClaims(claims).setSubject(&quot;user1&quot;).setAudience(&quot;web&quot;)\n    .setIssuedAt(&lt;date now&gt;).setExpiration(&lt;some expiration&gt;)\n    .signWith(SignatureAlgorithm.HS512, &quot;mysecret&quot;).compact();\n</code></pre>\n<p>In another application, I want to decrypt this token and set in the SecurityContext.  First, I have security config as follows:</p>\n<pre><code>@Configuration\npublic class SecurityConf extends WebSecurityConfigurerAdapter {\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disabled().authorizeRequests()\n            .antMatchers(&quot;/principal&quot;).permitAll()\n            .anyRequests().authenticated();\n    }\n}\n</code></pre>\n<p>With this, when user requests for an endpoint, say <code>/books</code>, the browser will receive 403 error.</p>\n<p>Then I implement the <code>/principal</code> to use this token as an authenticated user in spring.</p>\n<pre><code>@RequestMapping(&quot;/principal&quot;)\npublic class PrincipalController {\n    @PostMapping\n    public void setPrincipal(@RequestBody String token) {\n        // i'm able to decrypt the token here\n        // use token to create principal\n        Authentication authentication = ....\n        SecurityContextHolder.getContext().setAuthentication(...)\n    }\n}\n</code></pre>\n<p>I'm thinking once I set this in SecurityContext, for succeeding request where I attach the token in the Authorization header, I won't be getting anymore 403 or 401 error since user is authenticated and Spring knows that the token corresponds to the principal in the context.  But this part I am not sure how to do it.  Please advise.</p>\n"},{"tags":["java","inheritance","subclass","parent","superclass"],"comments":[{"owner":{"account_id":7987301,"reputation":1083,"user_id":6026338,"accept_rate":20,"display_name":"Qazi Ammar"},"score":0,"creation_date":1664781160,"post_id":73932157,"comment_id":130541766,"body_markdown":"Yes Subclasses inherit all the properties of its parent class.","body":"Yes Subclasses inherit all the properties of its parent class."},{"owner":{"account_id":13944163,"reputation":3,"user_id":10069286,"display_name":"Proxy"},"score":0,"creation_date":1664781492,"post_id":73932157,"comment_id":130541871,"body_markdown":"@QaziAmmar I don&#39;t think the constructor is inherited.","body":"@QaziAmmar I don&#39;t think the constructor is inherited."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1664783749,"creation_date":1664782013,"answer_id":73932289,"question_id":73932157,"body_markdown":"No need to wonder. We have a rather comprehensive [language specification](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8) at our disposal.\r\n\r\nIn particular\r\n\r\n&gt; A class `C` inherits from its direct superclass type `D` all concrete methods `m` (both static and instance) for which all of the following are true:\r\n&gt; * **`m` is a member of `D`.**\r\n&gt; *  `m` is public, protected, or declared with package access in the same package as `C`.\r\n&gt; * No method declared in `C` has a signature that is a subsignature (&#167;8.4.2) of the signature of `m` as a member of `D`.\r\n\r\nNotice the highlighted first point. Because when talking about constructors the [spec says](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8)\r\n\r\n&gt;  Constructor declarations are not members. They are never inherited and therefore are not subject to hiding or overriding. \r\n\r\nWhich, back to your question, means that public instance variables and methods (accessors and mutators are not a Java language construct, they&#39;re just methods) are inherited. Constructors are not.","title":"What components of the superclass do the subclasses inherit?","body":"<p>No need to wonder. We have a rather comprehensive <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.4.8\" rel=\"nofollow noreferrer\">language specification</a> at our disposal.</p>\n<p>In particular</p>\n<blockquote>\n<p>A class <code>C</code> inherits from its direct superclass type <code>D</code> all concrete methods <code>m</code> (both static and instance) for which all of the following are true:</p>\n<ul>\n<li><strong><code>m</code> is a member of <code>D</code>.</strong></li>\n<li><code>m</code> is public, protected, or declared with package access in the same package as <code>C</code>.</li>\n<li>No method declared in <code>C</code> has a signature that is a subsignature (§8.4.2) of the signature of <code>m</code> as a member of <code>D</code>.</li>\n</ul>\n</blockquote>\n<p>Notice the highlighted first point. Because when talking about constructors the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.8\" rel=\"nofollow noreferrer\">spec says</a></p>\n<blockquote>\n<p>Constructor declarations are not members. They are never inherited and therefore are not subject to hiding or overriding.</p>\n</blockquote>\n<p>Which, back to your question, means that public instance variables and methods (accessors and mutators are not a Java language construct, they're just methods) are inherited. Constructors are not.</p>\n"}],"owner":{"account_id":13944163,"reputation":3,"user_id":10069286,"display_name":"Proxy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73932289,"answer_count":1,"score":-3,"last_activity_date":1664783749,"creation_date":1664781054,"question_id":73932157,"body_markdown":"Do all of the subclasses of a superclass inherit the superclass&#39; instance variables, constructors, mutators, and accessors?\r\n\r\nAssuming that all members of the superclass is public. \r\n\r\n","title":"What components of the superclass do the subclasses inherit?","body":"<p>Do all of the subclasses of a superclass inherit the superclass' instance variables, constructors, mutators, and accessors?</p>\n<p>Assuming that all members of the superclass is public.</p>\n"},{"tags":["java","retrofit2","httpclient","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1664785602,"post_id":73932484,"comment_id":130542933,"body_markdown":"Are you talking about stress test or a production case? Also do you distribute your client calls? I believe whatever client you choose, 50K/min would load your host system pretty much which could back-impact your client.","body":"Are you talking about stress test or a production case? Also do you distribute your client calls? I believe whatever client you choose, 50K/min would load your host system pretty much which could back-impact your client."},{"owner":{"account_id":8389289,"reputation":723,"user_id":6298537,"display_name":"yashjain12yj"},"score":0,"creation_date":1664818288,"post_id":73932484,"comment_id":130553281,"body_markdown":"@AlexeyR. \nThis is the production use case. We do have multiple instances of service running. The client is capable of taking 1.5Lac req/min.","body":"@AlexeyR.  This is the production use case. We do have multiple instances of service running. The client is capable of taking 1.5Lac req/min."}],"owner":{"account_id":8389289,"reputation":723,"user_id":6298537,"display_name":"yashjain12yj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664783391,"creation_date":1664783391,"question_id":73932484,"body_markdown":"I have a use case where I want to make at least 50K POST req/min to a downstream service. \r\n\r\nHere, the main thing I want to achieve is \r\n\r\n - Low Latencies\r\n - Close to ZERO Socket Timeouts\r\n\r\nI tried retrofit2 and Apache HTTP client, both are giving high latencies and many SocketTimeouts.\r\n\r\n","title":"Java Http Client to support 50K req/min","body":"<p>I have a use case where I want to make at least 50K POST req/min to a downstream service.</p>\n<p>Here, the main thing I want to achieve is</p>\n<ul>\n<li>Low Latencies</li>\n<li>Close to ZERO Socket Timeouts</li>\n</ul>\n<p>I tried retrofit2 and Apache HTTP client, both are giving high latencies and many SocketTimeouts.</p>\n"},{"tags":["java","php","groovy"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664783324,"creation_date":1664783324,"answer_id":73932476,"question_id":73928726,"body_markdown":"In php `_POST` is an associative array of variables passed to the current script via the HTTP POST method when using `application/x-www-form-urlencoded` or `multipart/form-data` as the HTTP Content-Type in the request.\r\n\r\nhttps://www.php.net/manual/en/reserved.variables.post.php\r\n\r\nto make groovy call successful the easiest way to pass parameters in \r\n`application/x-www-form-urlencoded` format:\r\n\r\n`name1=value1&amp;name2=value2&amp;...`\r\n\r\nchanged groovy code:\r\n\r\n```lang-js\r\ndef post = new URL(&quot;http://httpbin.org/post&quot;).openConnection()\r\ndef body =  [name: &quot;Max Weiver&quot;]\r\n//convert map to x-www-form-urlencoded\r\nbody = body.collect{k,v-&gt; &quot;$k=${URLEncoder.encode(v,&#39;UTF-8&#39;)}&quot; }.join(&#39;&amp;&#39;)\r\n\r\nprintln(&quot;This is the body = &quot;+body);\r\n\r\npost.setRequestMethod(&quot;POST&quot;)\r\npost.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;)\r\npost.setDoOutput(true)\r\npost.getOutputStream().write(body.getBytes(&quot;US-ASCII&quot;))\r\n\r\ndef postResponseCode = post.getResponseCode()\r\nprintln &quot;Response Code: ${postResponseCode}&quot;\r\n\r\ndef postResponseData = post.getInputStream().getText()\r\nprintln &quot;Response Data: ${postResponseData}&quot;\r\n```\r\n\r\n\r\n","title":"Sending post message to PHP server using java/groovy","body":"<p>In php <code>_POST</code> is an associative array of variables passed to the current script via the HTTP POST method when using <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code> as the HTTP Content-Type in the request.</p>\n<p><a href=\"https://www.php.net/manual/en/reserved.variables.post.php\" rel=\"nofollow noreferrer\">https://www.php.net/manual/en/reserved.variables.post.php</a></p>\n<p>to make groovy call successful the easiest way to pass parameters in\n<code>application/x-www-form-urlencoded</code> format:</p>\n<p><code>name1=value1&amp;name2=value2&amp;...</code></p>\n<p>changed groovy code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>def post = new URL(&quot;http://httpbin.org/post&quot;).openConnection()\ndef body =  [name: &quot;Max Weiver&quot;]\n//convert map to x-www-form-urlencoded\nbody = body.collect{k,v-&gt; &quot;$k=${URLEncoder.encode(v,'UTF-8')}&quot; }.join('&amp;')\n\nprintln(&quot;This is the body = &quot;+body);\n\npost.setRequestMethod(&quot;POST&quot;)\npost.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;)\npost.setDoOutput(true)\npost.getOutputStream().write(body.getBytes(&quot;US-ASCII&quot;))\n\ndef postResponseCode = post.getResponseCode()\nprintln &quot;Response Code: ${postResponseCode}&quot;\n\ndef postResponseData = post.getInputStream().getText()\nprintln &quot;Response Data: ${postResponseData}&quot;\n</code></pre>\n"}],"owner":{"display_name":"user20144583"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73932476,"answer_count":1,"score":0,"last_activity_date":1664783324,"creation_date":1664738823,"question_id":73928726,"body_markdown":"Good afternoon everyone.\r\n\r\nI&#39;m new in using both java/groovy and PHP and was working on a attempting a basic method to send a json message to the a php file.\r\n\r\nI have a php file which is as follows\r\n\r\n\r\n``` \r\n&lt;?php\r\n \r\n\t$query = &quot;Hi, my name is: &#39;&quot;.$_POST[&quot;name&quot;].&quot;&#39;&quot;;\r\n\techo $query;\r\n\t\r\n?&gt;\r\n```\r\nand my java/groovy file is as follows\r\n\r\n```\r\npost = (new URL(&quot;http://localhost/Ping/Post.php&quot;)).openConnection()\r\n\r\nmessage =  &#39;{&quot;name&quot;:&quot;Max Weiver&quot;}&#39;;\r\n\r\nprintln(&quot;This is the message = &quot;+message);\r\n\r\npost.setRequestMethod(&quot;POST&quot;);\r\n\r\npost.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n\r\npost.setDoOutput(true);\r\n\r\npost.getOutputStream().write((message).getBytes(&quot;UTF-8&quot;));\r\n\r\nprintln(&quot;This is the detailed message: &quot;+post);\r\n\r\npostResponseCode = post.getResponseCode();\r\n\r\nprintln &quot;Response Code: ${postResponseCode}&quot;\r\n\r\npostResponseData = post.getInputStream().getText();\r\n\r\n\r\nprintln &quot;Response Data: ${postResponseData}&quot;\r\n```\r\n\r\nAnd I just want the groovy console to output something like this\r\n\r\n```\r\nHi, my name is: &#39;Max Weiver&#39;\r\n```\r\nHowever, I keep getting this error:\r\n\r\n```\r\nResponse Code: 200\r\nResponse Data: &lt;br /&gt;\r\n&lt;b&gt;Notice&lt;/b&gt;:  Undefined index: name in &lt;b&gt;C:\\xampp\\htdocs\\Ping\\Post.php&lt;/b&gt; on line &lt;b&gt;3&lt;/b&gt;&lt;br /&gt;\r\nHi, my name is: &#39;&#39;\r\n\r\n```\r\n\r\nI&#39;m aware that there are solutions to be made within the php file to sort this problem (like using the json_decode and the isset, etc). But I&#39;m wondering whether there modification needed within the groovy/java file to successfully send the POST message without changing the php script?\r\n\r\n*Note: As I said earlier, I&#39;m sort of new in both languages so do let me know if I&#39;m missing something obvious :)\r\n\r\nThank you","title":"Sending post message to PHP server using java/groovy","body":"<p>Good afternoon everyone.</p>\n<p>I'm new in using both java/groovy and PHP and was working on a attempting a basic method to send a json message to the a php file.</p>\n<p>I have a php file which is as follows</p>\n<pre><code>&lt;?php\n \n    $query = &quot;Hi, my name is: '&quot;.$_POST[&quot;name&quot;].&quot;'&quot;;\n    echo $query;\n    \n?&gt;\n</code></pre>\n<p>and my java/groovy file is as follows</p>\n<pre><code>post = (new URL(&quot;http://localhost/Ping/Post.php&quot;)).openConnection()\n\nmessage =  '{&quot;name&quot;:&quot;Max Weiver&quot;}';\n\nprintln(&quot;This is the message = &quot;+message);\n\npost.setRequestMethod(&quot;POST&quot;);\n\npost.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\n\npost.setDoOutput(true);\n\npost.getOutputStream().write((message).getBytes(&quot;UTF-8&quot;));\n\nprintln(&quot;This is the detailed message: &quot;+post);\n\npostResponseCode = post.getResponseCode();\n\nprintln &quot;Response Code: ${postResponseCode}&quot;\n\npostResponseData = post.getInputStream().getText();\n\n\nprintln &quot;Response Data: ${postResponseData}&quot;\n</code></pre>\n<p>And I just want the groovy console to output something like this</p>\n<pre><code>Hi, my name is: 'Max Weiver'\n</code></pre>\n<p>However, I keep getting this error:</p>\n<pre><code>Response Code: 200\nResponse Data: &lt;br /&gt;\n&lt;b&gt;Notice&lt;/b&gt;:  Undefined index: name in &lt;b&gt;C:\\xampp\\htdocs\\Ping\\Post.php&lt;/b&gt; on line &lt;b&gt;3&lt;/b&gt;&lt;br /&gt;\nHi, my name is: ''\n\n</code></pre>\n<p>I'm aware that there are solutions to be made within the php file to sort this problem (like using the json_decode and the isset, etc). But I'm wondering whether there modification needed within the groovy/java file to successfully send the POST message without changing the php script?</p>\n<p>*Note: As I said earlier, I'm sort of new in both languages so do let me know if I'm missing something obvious :)</p>\n<p>Thank you</p>\n"},{"tags":["java","http","tomcat","http2"],"comments":[{"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"score":0,"creation_date":1664732923,"post_id":73864296,"comment_id":130534421,"body_markdown":"Why do you need to do that?","body":"Why do you need to do that?"},{"owner":{"account_id":5255358,"reputation":158,"user_id":4198420,"display_name":"Максим Казаченко"},"score":0,"creation_date":1664781232,"post_id":73864296,"comment_id":130541791,"body_markdown":"I need this for preventing &quot;HTTP Request smuggling&quot; vulnerability, which is present in HTTP/1.1 protocol and earlier versions. In HTTP/2 protocol this vulnerability is solved.","body":"I need this for preventing &quot;HTTP Request smuggling&quot; vulnerability, which is present in HTTP/1.1 protocol and earlier versions. In HTTP/2 protocol this vulnerability is solved."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1664782921,"post_id":73864296,"comment_id":130542263,"body_markdown":"In the future, [please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551). The output of curl for example can easily be posted as text, which is much more accessible.","body":"In the future, <a href=\"//meta.stackoverflow.com/q/285551\">please do not upload images of code/data/errors when asking a question.</a>. The output of curl for example can easily be posted as text, which is much more accessible."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1664782985,"post_id":73864296,"comment_id":130542271,"body_markdown":"[This Serverfault question](https://serverfault.com/questions/1096017/how-to-disable-http-1-0-protocol-in-tomcat) has some limited information on the topic.","body":"<a href=\"https://serverfault.com/questions/1096017/how-to-disable-http-1-0-protocol-in-tomcat\">This Serverfault question</a> has some limited information on the topic."}],"owner":{"account_id":5255358,"reputation":158,"user_id":4198420,"display_name":"Максим Казаченко"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664782866,"creation_date":1664266135,"question_id":73864296,"body_markdown":"I need to leave possibility to execute requests only with **HTTP/2** protocol.\r\n\r\nSystem: Apache Tomcat 8, configured to use the **HTTP/2** protocol.\r\n\r\n1. I execute this request with `--http2` and get result:\r\n\r\n    [![Testing with HTTP/2][1]][1]\r\n \r\n \r\n \r\n2. Next I execute this request with `--http1.1` and get result\r\n[![enter image description here][2]][2]\r\n\r\nThis picture means that I still can use **HTTP/1.1**, but I want to disable it.\r\n\r\nHow to prevent executing **HTTP/1.1** request on Tomcat?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/phJgf.png\r\n  [2]: https://i.stack.imgur.com/ZEDwz.png","title":"How to disable HTTP/1.1? And disable downgrading to HTTP/1.1 on Tomcat?","body":"<p>I need to leave possibility to execute requests only with <strong>HTTP/2</strong> protocol.</p>\n<p>System: Apache Tomcat 8, configured to use the <strong>HTTP/2</strong> protocol.</p>\n<ol>\n<li><p>I execute this request with <code>--http2</code> and get result:</p>\n<p><a href=\"https://i.stack.imgur.com/phJgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/phJgf.png\" alt=\"Testing with HTTP/2\" /></a></p>\n</li>\n<li><p>Next I execute this request with <code>--http1.1</code> and get result\n<a href=\"https://i.stack.imgur.com/ZEDwz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZEDwz.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>This picture means that I still can use <strong>HTTP/1.1</strong>, but I want to disable it.</p>\n<p>How to prevent executing <strong>HTTP/1.1</strong> request on Tomcat?</p>\n"},{"tags":["java","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1664782801,"creation_date":1610881034,"answer_id":65759773,"question_id":65759203,"body_markdown":"You need to determine for which field you reject.\r\n\r\nThe [`rejectValue()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/Errors.html#rejectValue-java.lang.String-java.lang.String-java.lang.String-) method is used to add a validation error to the [`BindingResult`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/BindingResult.html) object. \r\n\r\n**The first parameter** identifies which field the error is associated with. \r\n\r\n**The second parameter** is an error code which acts a message key for the `messages.properties` file (or `messages_en.properties` or `messages_fr.properties` etc., if these are being used). \r\n\r\n**The third parameter** of `rejectValue()` represents the fallback default message, which is displayed if no matching error code is found in the resource bundle.\r\n\r\n```java\r\nif(product.getQuantity() &lt; saleDetailDto.getQuantity()){\r\n\tbindingResult.rejectValue(&quot;quantity&quot;, &quot;error.quantity&quot;, &quot;Not enough item in inventory!&quot;);\r\n\treturn &quot;purchase-detail/save-form&quot;;\r\n}\r\n```\r\n\r\nTo show it on html, you can do as follows.\r\n\r\n```html\r\n&lt;span th:if=&quot;${#fields.hasErrors(&#39;quantity&#39;)}&quot; th:errors=&quot;*{quantity}&quot;&gt;Error!&lt;/span&gt;\r\n```\r\n","title":"How to display message from BindingResult.reject(&quot;message&quot;) in thymeleaf page","body":"<p>You need to determine for which field you reject.</p>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/Errors.html#rejectValue-java.lang.String-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>rejectValue()</code></a> method is used to add a validation error to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/validation/BindingResult.html\" rel=\"nofollow noreferrer\"><code>BindingResult</code></a> object.</p>\n<p><strong>The first parameter</strong> identifies which field the error is associated with.</p>\n<p><strong>The second parameter</strong> is an error code which acts a message key for the <code>messages.properties</code> file (or <code>messages_en.properties</code> or <code>messages_fr.properties</code> etc., if these are being used).</p>\n<p><strong>The third parameter</strong> of <code>rejectValue()</code> represents the fallback default message, which is displayed if no matching error code is found in the resource bundle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(product.getQuantity() &lt; saleDetailDto.getQuantity()){\n    bindingResult.rejectValue(&quot;quantity&quot;, &quot;error.quantity&quot;, &quot;Not enough item in inventory!&quot;);\n    return &quot;purchase-detail/save-form&quot;;\n}\n</code></pre>\n<p>To show it on html, you can do as follows.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;span th:if=&quot;${#fields.hasErrors('quantity')}&quot; th:errors=&quot;*{quantity}&quot;&gt;Error!&lt;/span&gt;\n</code></pre>\n"}],"owner":{"account_id":18429916,"reputation":13,"user_id":13425321,"display_name":"Himal Regmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2589,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65759773,"answer_count":1,"score":0,"last_activity_date":1664782801,"creation_date":1610876978,"question_id":65759203,"body_markdown":"I want to show the message thrown by `bindingresult.reject(&quot;message&quot;)` on my web page.\r\n\r\n```java\r\nif (product.getQuantity() &lt; saleDetailDto.getQuantity()) {\r\n\tbindingResult.reject(&quot;Not enough item in inventory&quot;);\r\n\treturn &quot;purchase-detail/save-form&quot;;\r\n}\r\n```\r\n","title":"How to display message from BindingResult.reject(&quot;message&quot;) in thymeleaf page","body":"<p>I want to show the message thrown by <code>bindingresult.reject(&quot;message&quot;)</code> on my web page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (product.getQuantity() &lt; saleDetailDto.getQuantity()) {\n    bindingResult.reject(&quot;Not enough item in inventory&quot;);\n    return &quot;purchase-detail/save-form&quot;;\n}\n</code></pre>\n"},{"tags":["java","object","arraylist"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664360090,"post_id":73879675,"comment_id":130452117,"body_markdown":"`$(…)` is not valid Java syntax (at least none I&#39;m aware of)","body":"<code>$(…)</code> is not valid Java syntax (at least none I&#39;m aware of)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1664363404,"post_id":73879675,"comment_id":130453212,"body_markdown":"@knittl Well, that *could* be just a method. The `$` is also a valid Java identifier character, just like all alphanumerics. So while it looks strange, it is just a normal method. See [JLS &#167; 3.8](https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.8)","body":"@knittl Well, that <i>could</i> be just a method. The <code>$</code> is also a valid Java identifier character, just like all alphanumerics. So while it looks strange, it is just a normal method. See <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">JLS &#167; 3.8</a>"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1664365028,"post_id":73879675,"comment_id":130453750,"body_markdown":"this is plain JSON, why not just use something like GSON to build these for you?","body":"this is plain JSON, why not just use something like GSON to build these for you?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664361594,"creation_date":1664360262,"answer_id":73879761,"question_id":73879675,"body_markdown":"Build separate maps for each of your objects and put those maps into a list. Immutability is probably not required, so I&#39;ll simplify by using an `ArrayList`:\r\n\r\n    final List&lt;Map&lt;String, Object&gt;&gt; itemDetailsList = new ArrayList&lt;&gt;(itemDetails.size());\r\n    for (final FormCartLine line : itemDetails) {\r\n        itemDetailsList.add(Map.ofEntries(\r\n                Map.entry(&quot;id&quot;, line.getProductId()),\r\n                Map.entry(&quot;price&quot;, line.getUnitPricePreTax()),\r\n                // etc.\r\n        ));\r\n    }\r\n\r\n    // ...\r\n\r\n    Builder&lt;String, Object&gt; payloadBuilder = new ImmutableMap.Builder&lt;String, Object&gt;()\r\n        // .put(...)\r\n        .put(&quot;item_details&quot;, itemDetailsList)\r\n\r\nNote that the map returned by `Map.ofEntries` cannot hold null values, so if that&#39;s a requirement, you need to switch to a `HashMap&lt;String, Object&gt;` or another map type with support for null values.\r\n\r\nOf course, you can use an `ImmutableMap.Builder` too if you prefer or the loop could be converted to use the Java stream API.","title":"How to wrap object in array in java?","body":"<p>Build separate maps for each of your objects and put those maps into a list. Immutability is probably not required, so I'll simplify by using an <code>ArrayList</code>:</p>\n<pre><code>final List&lt;Map&lt;String, Object&gt;&gt; itemDetailsList = new ArrayList&lt;&gt;(itemDetails.size());\nfor (final FormCartLine line : itemDetails) {\n    itemDetailsList.add(Map.ofEntries(\n            Map.entry(&quot;id&quot;, line.getProductId()),\n            Map.entry(&quot;price&quot;, line.getUnitPricePreTax()),\n            // etc.\n    ));\n}\n\n// ...\n\nBuilder&lt;String, Object&gt; payloadBuilder = new ImmutableMap.Builder&lt;String, Object&gt;()\n    // .put(...)\n    .put(&quot;item_details&quot;, itemDetailsList)\n</code></pre>\n<p>Note that the map returned by <code>Map.ofEntries</code> cannot hold null values, so if that's a requirement, you need to switch to a <code>HashMap&lt;String, Object&gt;</code> or another map type with support for null values.</p>\n<p>Of course, you can use an <code>ImmutableMap.Builder</code> too if you prefer or the loop could be converted to use the Java stream API.</p>\n"}],"owner":{"account_id":18882631,"reputation":153,"user_id":13774710,"display_name":"frankfurt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73879761,"answer_count":1,"score":0,"last_activity_date":1664782777,"creation_date":1664359831,"question_id":73879675,"body_markdown":"I&#39;m making a code to send data to the payment gateway. I am a beginner in using java. I&#39;m having a bit of trouble working with objects in an array in the item_details parameter. I&#39;ve made the code as below.\r\n\r\n```\r\npublic KeyValuePair&lt;String, String&gt; requestSnapToken(String orderNo, \r\n\t\tBigDecimal grossAmount, int paymentMethodId,\r\n\t\tString firstName,\r\n\t\tString email, \r\n\t\tList&lt;FormCartLine&gt; itemDetails \r\n\t\t) {\r\n\treturn FAILSAFE_EXECUTOR.get(() -&gt; {\r\n\t\tString midtransOrderId = orderNo;\r\n\t\tBuilder&lt;String, Object&gt; custDetailBuilder = new ImmutableMap.Builder&lt;String, Object&gt;()\r\n\t\t\t.put(&quot;first_name&quot;, firstName)\r\n\t\t\t.put(&quot;last_name&quot;, &quot;&quot;);\r\n\t\tBuilder&lt;String, Object&gt; itemDetailsBuilder = new ImmutableMap.Builder&lt;String, Object&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; itemDetails.size(); i++) { \r\n\t\t\tFormCartLine line = itemDetails.get(i); \r\n\t\t\tint row = i + 1;  \r\n\t\t\titemDetailsBuilder.put($(&quot;id%s&quot;, row), line.getProductId()) \r\n\t\t\t\t.put($(&quot;price%s&quot;, row), line.getUnitPricePreTax()) \r\n\t\t\t\t.put($(&quot;quantity%s&quot;, row), line.getQty()) \r\n\t\t\t\t.put($(&quot;name%s&quot;, row), line.getName()) \r\n\t\t\t\t.put($(&quot;brand%s&quot;, row), line.getBrandName()) \r\n\t\t\t\t.put($(&quot;category%s&quot;, row), line.getCategoryName()); \r\n\t\t} \r\n\t\r\n\t\tBuilder&lt;String, Object&gt; payloadBuilder = new ImmutableMap.Builder&lt;String, Object&gt;()\r\n\t\t\t.put(&quot;transaction_details&quot;, new ImmutableMap.Builder&lt;String, Object&gt;()\r\n\t\t\t\t\t.put(&quot;order_id&quot;, midtransOrderId)\r\n\t\t\t\t\t.put(&quot;gross_amount&quot;, String.valueOf(grossAmount.longValue()))\r\n\t\t\t\t\t.build())\r\n\t\t\t.put(&quot;item_details&quot;, itemDetailsBuilder.build())\r\n\t});\r\n}\r\n```\r\nI tried to debug from the code that I made, the payload looks like this. This is not what I wanted..\r\n```\r\n  &quot;transaction_details&quot; : {\r\n    &quot;order_id&quot; : &quot;S415&quot;,\r\n    &quot;gross_amount&quot; : &quot;194547&quot;\r\n  },\r\n  &quot;item_details&quot; : {\r\n    &quot;id1&quot; : &quot;001&quot;,\r\n    &quot;price1&quot; : 200,\r\n    &quot;quantity1&quot; : 1,\r\n    &quot;name1&quot; : &quot;Dummy 1&quot;,\r\n    &quot;brand1&quot; : &quot;Dummy&quot;,\r\n    &quot;category1&quot; : &quot;Dummies&quot;,\r\n    &quot;id2&quot; : &quot;002&quot;,\r\n    &quot;price2&quot; : 300,\r\n    &quot;quantity2&quot; : 1,\r\n    &quot;name2&quot; : &quot;Dummy 2&quot;,\r\n    &quot;brand2&quot; : &quot;Dummy&quot;,\r\n    &quot;category2&quot; : &quot;Dummies&quot;\r\n  },\r\n```\r\n\r\nwhat i want is like below. How do I implement it in java?\r\n```\r\n  &quot;transaction_details&quot; : {\r\n    &quot;order_id&quot; : &quot;S415&quot;,\r\n    &quot;gross_amount&quot; : &quot;194547&quot;\r\n  },\r\n  &quot;item_details&quot; : [{\r\n    &quot;id&quot; : &quot;001&quot;,\r\n    &quot;price&quot; : 200,\r\n    &quot;quantity&quot; : 1,\r\n    &quot;name&quot; : &quot;Dummy 1&quot;,\r\n    &quot;brand&quot; : &quot;Dummy&quot;,\r\n    &quot;category&quot; : &quot;Dummies&quot;\r\n  },\r\n  {\r\n\r\n    &quot;id&quot; : &quot;002&quot;,\r\n    &quot;price&quot; : 300,\r\n    &quot;quantity&quot; : 1,\r\n    &quot;name&quot; : &quot;Dummy 2&quot;,\r\n    &quot;brand&quot; : &quot;Dummy&quot;,\r\n    &quot;category&quot; : &quot;Dummies&quot;\r\n  }\r\n]\r\n```","title":"How to wrap object in array in java?","body":"<p>I'm making a code to send data to the payment gateway. I am a beginner in using java. I'm having a bit of trouble working with objects in an array in the item_details parameter. I've made the code as below.</p>\n<pre><code>public KeyValuePair&lt;String, String&gt; requestSnapToken(String orderNo, \n        BigDecimal grossAmount, int paymentMethodId,\n        String firstName,\n        String email, \n        List&lt;FormCartLine&gt; itemDetails \n        ) {\n    return FAILSAFE_EXECUTOR.get(() -&gt; {\n        String midtransOrderId = orderNo;\n        Builder&lt;String, Object&gt; custDetailBuilder = new ImmutableMap.Builder&lt;String, Object&gt;()\n            .put(&quot;first_name&quot;, firstName)\n            .put(&quot;last_name&quot;, &quot;&quot;);\n        Builder&lt;String, Object&gt; itemDetailsBuilder = new ImmutableMap.Builder&lt;String, Object&gt;();\n\n        for (int i = 0; i &lt; itemDetails.size(); i++) { \n            FormCartLine line = itemDetails.get(i); \n            int row = i + 1;  \n            itemDetailsBuilder.put($(&quot;id%s&quot;, row), line.getProductId()) \n                .put($(&quot;price%s&quot;, row), line.getUnitPricePreTax()) \n                .put($(&quot;quantity%s&quot;, row), line.getQty()) \n                .put($(&quot;name%s&quot;, row), line.getName()) \n                .put($(&quot;brand%s&quot;, row), line.getBrandName()) \n                .put($(&quot;category%s&quot;, row), line.getCategoryName()); \n        } \n    \n        Builder&lt;String, Object&gt; payloadBuilder = new ImmutableMap.Builder&lt;String, Object&gt;()\n            .put(&quot;transaction_details&quot;, new ImmutableMap.Builder&lt;String, Object&gt;()\n                    .put(&quot;order_id&quot;, midtransOrderId)\n                    .put(&quot;gross_amount&quot;, String.valueOf(grossAmount.longValue()))\n                    .build())\n            .put(&quot;item_details&quot;, itemDetailsBuilder.build())\n    });\n}\n</code></pre>\n<p>I tried to debug from the code that I made, the payload looks like this. This is not what I wanted..</p>\n<pre><code>  &quot;transaction_details&quot; : {\n    &quot;order_id&quot; : &quot;S415&quot;,\n    &quot;gross_amount&quot; : &quot;194547&quot;\n  },\n  &quot;item_details&quot; : {\n    &quot;id1&quot; : &quot;001&quot;,\n    &quot;price1&quot; : 200,\n    &quot;quantity1&quot; : 1,\n    &quot;name1&quot; : &quot;Dummy 1&quot;,\n    &quot;brand1&quot; : &quot;Dummy&quot;,\n    &quot;category1&quot; : &quot;Dummies&quot;,\n    &quot;id2&quot; : &quot;002&quot;,\n    &quot;price2&quot; : 300,\n    &quot;quantity2&quot; : 1,\n    &quot;name2&quot; : &quot;Dummy 2&quot;,\n    &quot;brand2&quot; : &quot;Dummy&quot;,\n    &quot;category2&quot; : &quot;Dummies&quot;\n  },\n</code></pre>\n<p>what i want is like below. How do I implement it in java?</p>\n<pre><code>  &quot;transaction_details&quot; : {\n    &quot;order_id&quot; : &quot;S415&quot;,\n    &quot;gross_amount&quot; : &quot;194547&quot;\n  },\n  &quot;item_details&quot; : [{\n    &quot;id&quot; : &quot;001&quot;,\n    &quot;price&quot; : 200,\n    &quot;quantity&quot; : 1,\n    &quot;name&quot; : &quot;Dummy 1&quot;,\n    &quot;brand&quot; : &quot;Dummy&quot;,\n    &quot;category&quot; : &quot;Dummies&quot;\n  },\n  {\n\n    &quot;id&quot; : &quot;002&quot;,\n    &quot;price&quot; : 300,\n    &quot;quantity&quot; : 1,\n    &quot;name&quot; : &quot;Dummy 2&quot;,\n    &quot;brand&quot; : &quot;Dummy&quot;,\n    &quot;category&quot; : &quot;Dummies&quot;\n  }\n]\n</code></pre>\n"},{"tags":["java","byte-buddy","javaagents"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664782301,"creation_date":1664782301,"answer_id":73932334,"question_id":73926695,"body_markdown":"Byte Buddy invokes these methods. If you want to instrument classes that might already be loaded, you would need to use a retransformation strategy. Also, I would recommend to combine these agents in a single builder and only install it once.","title":"Bytebuddy Java Agent: AgentBuilder affects control flow of a second, unrelated AgentBuilder","body":"<p>Byte Buddy invokes these methods. If you want to instrument classes that might already be loaded, you would need to use a retransformation strategy. Also, I would recommend to combine these agents in a single builder and only install it once.</p>\n"}],"owner":{"account_id":17903324,"reputation":136,"user_id":13007101,"display_name":"Jo Bo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73932334,"answer_count":1,"score":0,"last_activity_date":1664782301,"creation_date":1664721531,"question_id":73926695,"body_markdown":"So I am implementing a Java Agent that installs multiple `AgentBuilder`, one of them only if an environment variable was defined correctly. The problem I face is that the behavior of a second AgentBuilder changes depending on whether the optional one was installed. To me it seems like installing the optional AgentBuilder affects which methods, that are instrumented by the second unrelated AgentBuilder, get called and how often.\r\n\r\n```Java\r\nif (EnvVar.isTrue()) {\r\n            // These methods are customs so I don&#39;t have to rewrite the whole AgentBuilder-chain...\r\n            getAgentBuilder1(inst, tempFolder).installOn(inst);\r\n        }\r\n\r\ngetAgentBuilder2(inst, tempFolder).installOn(inst);\r\n```\r\n\r\nThe AgentBuilder1 uses the following type matching:\r\n```\r\nElementMatchers.isSubTypeOf(InputStream.class)\r\n   .and(\r\n        ElementMatchers.not(\r\n            ElementMatchers.namedOneOf(InflaterInputStream.class.getName())\r\n            .or(ElementMatchers.isPrivate())\r\n                           )\r\n       )\r\n```\r\n\r\nand the AgentBuilder2 this one:\r\n\r\n```ElementMatchers.namedOneOf(Class.class.getName(), ClassLoader.class.getName());```\r\n\r\nNow the transformer for AgentBuilder1 uses an Advice to print a log message when the `read(...)`-method of an InputStream was called, and AgentBuilder2 prints a log message when the `ClassLoader.getResource(...)`-method or the `Class.getResource(...)`-method was called.\r\n\r\nEverything works as expected, apart from the fact that the AgentBuilder2 logs a lot more resources if AgentBuilder1 was installed than if it wasn&#39;t installed - while instrumenting the exact same program... It looks like the `Class.getResource(...)` method is being called much more often if AgentBuilder1 was installed. Any Ideas?\r\n","title":"Bytebuddy Java Agent: AgentBuilder affects control flow of a second, unrelated AgentBuilder","body":"<p>So I am implementing a Java Agent that installs multiple <code>AgentBuilder</code>, one of them only if an environment variable was defined correctly. The problem I face is that the behavior of a second AgentBuilder changes depending on whether the optional one was installed. To me it seems like installing the optional AgentBuilder affects which methods, that are instrumented by the second unrelated AgentBuilder, get called and how often.</p>\n<pre><code>if (EnvVar.isTrue()) {\n            // These methods are customs so I don't have to rewrite the whole AgentBuilder-chain...\n            getAgentBuilder1(inst, tempFolder).installOn(inst);\n        }\n\ngetAgentBuilder2(inst, tempFolder).installOn(inst);\n</code></pre>\n<p>The AgentBuilder1 uses the following type matching:</p>\n<pre><code>ElementMatchers.isSubTypeOf(InputStream.class)\n   .and(\n        ElementMatchers.not(\n            ElementMatchers.namedOneOf(InflaterInputStream.class.getName())\n            .or(ElementMatchers.isPrivate())\n                           )\n       )\n</code></pre>\n<p>and the AgentBuilder2 this one:</p>\n<p><code>ElementMatchers.namedOneOf(Class.class.getName(), ClassLoader.class.getName());</code></p>\n<p>Now the transformer for AgentBuilder1 uses an Advice to print a log message when the <code>read(...)</code>-method of an InputStream was called, and AgentBuilder2 prints a log message when the <code>ClassLoader.getResource(...)</code>-method or the <code>Class.getResource(...)</code>-method was called.</p>\n<p>Everything works as expected, apart from the fact that the AgentBuilder2 logs a lot more resources if AgentBuilder1 was installed than if it wasn't installed - while instrumenting the exact same program... It looks like the <code>Class.getResource(...)</code> method is being called much more often if AgentBuilder1 was installed. Any Ideas?</p>\n"},{"tags":["java","android","kotlin","mvvm","memory-leaks"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664310907,"creation_date":1664310907,"answer_id":73873544,"question_id":73873159,"body_markdown":"When you call `requireContext()` in a Fragment, it is actually getting the Activity instance, and passing that to the ViewModel will leak the Activity.\r\n\r\nIt is safe to pass the application Context, because that is a single instance for the lifetime of your application.\r\n\r\nSo replace `requireContext()` with `requireContext().applicationContext`, and it is fine.\r\n\r\nIt seems a bit odd that you are instantiating your JsonEncoder and Decoder twice, but maybe it&#39;s OK with your logic. You might want to check that.","title":"Is it safe to pass context as dependency in ViewModel?","body":"<p>When you call <code>requireContext()</code> in a Fragment, it is actually getting the Activity instance, and passing that to the ViewModel will leak the Activity.</p>\n<p>It is safe to pass the application Context, because that is a single instance for the lifetime of your application.</p>\n<p>So replace <code>requireContext()</code> with <code>requireContext().applicationContext</code>, and it is fine.</p>\n<p>It seems a bit odd that you are instantiating your JsonEncoder and Decoder twice, but maybe it's OK with your logic. You might want to check that.</p>\n"},{"tags":[],"owner":{"account_id":9739092,"reputation":3041,"user_id":7221362,"display_name":"Steyrix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664311023,"creation_date":1664311023,"answer_id":73873567,"question_id":73873159,"body_markdown":"I assume it depends on the type of context. Since the lifetime of a ViewModel is longer than the lifetime of the view it refers to, passing Activity can cause memory leak.\r\n\r\nHowever, the lifetime of a ViewModel cannot be longer than the lifetime of the application. So the passing of Application should be fine.","title":"Is it safe to pass context as dependency in ViewModel?","body":"<p>I assume it depends on the type of context. Since the lifetime of a ViewModel is longer than the lifetime of the view it refers to, passing Activity can cause memory leak.</p>\n<p>However, the lifetime of a ViewModel cannot be longer than the lifetime of the application. So the passing of Application should be fine.</p>\n"}],"owner":{"account_id":13060021,"reputation":1073,"user_id":9437530,"display_name":"Umair Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73873544,"answer_count":2,"score":0,"last_activity_date":1664782059,"creation_date":1664308477,"question_id":73873159,"body_markdown":"I am passing SessionManager as a Dependency that requires context in my ViewModel\r\n\r\n    val viewModel = ViewModelProvider(this, ListingsViewModelFactory(\r\n            ListingsModel(1),\r\n            SessionManager(\r\n                requireContext(), &lt;===== HERE\r\n                JsonEncoder(),\r\n                JsonDecoder()),\r\n            Validator(),\r\n            WebService(),\r\n            JsonEncoder(),\r\n            JsonDecoder()\r\n        )\r\n        ).get(ListingsViewModel::class.java)\r\nwe know that passing **context** to ViewModel is a bad practice that should cause memory leaks. \r\n\r\n 1. So can we pass context in dependency in ViewModel like currently, I&#39;m passing in **SessionManager**?  \r\n 2.  Passing context in Dependency in ViewModel causes memory leaks?\r\n\r\nThanks for all the answers.","title":"Is it safe to pass context as dependency in ViewModel?","body":"<p>I am passing SessionManager as a Dependency that requires context in my ViewModel</p>\n<pre><code>val viewModel = ViewModelProvider(this, ListingsViewModelFactory(\n        ListingsModel(1),\n        SessionManager(\n            requireContext(), &lt;===== HERE\n            JsonEncoder(),\n            JsonDecoder()),\n        Validator(),\n        WebService(),\n        JsonEncoder(),\n        JsonDecoder()\n    )\n    ).get(ListingsViewModel::class.java)\n</code></pre>\n<p>we know that passing <strong>context</strong> to ViewModel is a bad practice that should cause memory leaks.</p>\n<ol>\n<li>So can we pass context in dependency in ViewModel like currently, I'm passing in <strong>SessionManager</strong>?</li>\n<li>Passing context in Dependency in ViewModel causes memory leaks?</li>\n</ol>\n<p>Thanks for all the answers.</p>\n"},{"tags":["java","linux","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":3349988,"reputation":256,"user_id":2814215,"display_name":"Claudiu T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664781815,"creation_date":1664781815,"answer_id":73932265,"question_id":73931967,"body_markdown":"I think you mean to increase the JVM memory allocation and thread stack size in the Tomcat configuration tool , for this , add to the java options section:\r\n```\r\n-Xms&lt;sizeinmb&gt;m  -Xmx&lt;sizeinmb&gt;m options\r\n````\r\nfor example:\r\n```\r\n-Xms1024m  -Xmx2048m\r\n```\r\n-Xms: It is used for setting the initial and minimum heap size. It is recommended to set the minimum heap size equivalent to the maximum heap size in order to minimize the garbage collection.\r\n\r\n-Xmx: It is used for setting the maximum heap size. The performance will decrease if the max heap value is set lower than the amount of live data. It will force frequent garbage collections in order to free up space.","title":"Increase tomcat Initial and Maximum memory pool in Linux","body":"<p>I think you mean to increase the JVM memory allocation and thread stack size in the Tomcat configuration tool , for this , add to the java options section:</p>\n<pre><code>-Xms&lt;sizeinmb&gt;m  -Xmx&lt;sizeinmb&gt;m options\n</code></pre>\n<p>for example:</p>\n<pre><code>-Xms1024m  -Xmx2048m\n</code></pre>\n<p>-Xms: It is used for setting the initial and minimum heap size. It is recommended to set the minimum heap size equivalent to the maximum heap size in order to minimize the garbage collection.</p>\n<p>-Xmx: It is used for setting the maximum heap size. The performance will decrease if the max heap value is set lower than the amount of live data. It will force frequent garbage collections in order to free up space.</p>\n"}],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664781815,"creation_date":1664779684,"question_id":73931967,"body_markdown":"How to increase my jvm memory for tomcat like windows.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInitial memory pool &amp; Maximum memory pool.\r\nFor your information, I am using java 1.8 and tomcat 9.0.27.\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G4bvq.jpg","title":"Increase tomcat Initial and Maximum memory pool in Linux","body":"<p>How to increase my jvm memory for tomcat like windows.</p>\n<p><a href=\"https://i.stack.imgur.com/G4bvq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4bvq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Initial memory pool &amp; Maximum memory pool.\nFor your information, I am using java 1.8 and tomcat 9.0.27.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","sql","intellij-idea"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1664447939,"post_id":73894126,"comment_id":130476288,"body_markdown":"https://en.wikipedia.org/wiki/Divide-and-conquer_algorithm","body":"<a href=\"https://en.wikipedia.org/wiki/Divide-and-conquer_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Divide-and-conquer_algorithm</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1664451607,"post_id":73894126,"comment_id":130477588,"body_markdown":"Please check if the problem reproduces in the latest build from https://www.jetbrains.com/idea/download . If the problem remains contact JetBrains support team at https://intellij-support.jetbrains.com/hc/en-us/requests/new and share the IDE logs (Help | Collect Logs and Diagnostic Data) along with a [minimal reproducible project sample](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please check if the problem reproduces in the latest build from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> . If the problem remains contact JetBrains support team at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and share the IDE logs (Help | Collect Logs and Diagnostic Data) along with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible project sample</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664458965,"post_id":73894126,"comment_id":130480489,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":6396922,"reputation":11,"user_id":4960967,"display_name":"zakimatyi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664781092,"creation_date":1664447876,"question_id":73894126,"body_markdown":"IntelliJ 2021.1 is throwing error visible in the log for an sql Repository Impl class containing jpa queries and hangs all opened IntelliJ project windows as soon as I start to edit any line. Even disabling the IntelliJ java sql libraries plugin and deselecting all sql validations in Settings doesn&#39;t work. What could be the problem?\r\n\r\nFull stacktrace:\r\n\r\n    2022-09-29 13:18:21,739 [ 631550]  ERROR - pa.ql.psi.impl.QlReferenceImpl - EA-96451\r\n    Details: Query:\r\n    select name as name, id as pkod, electric as electric, gas as gas, trader.code as trader, invoicingEmails as emails, concat(postCode,&#39; &#39;,city,&#39; &#39;,street) as addr,&#39;&#39; as mailAddr, taxRegNo as taxNr, vatRegNo as regNr, &#39;&#39; as legalRespres, &#39;&#39; as contactName,&#39;&#39; as contactTel, &#39;&#39; as contactEmail, &#39;&#39; as finContactName, &#39;&#39; as finContactTel,&#39;&#39; as finContactEmail, &#39;&#39; as fromApollo,&#39;&#39; as loginEmail,&#39;&#39; as emailApollo, &#39;&#39; as azon, code as custId, modifyDate as valtozott from Partner where trader.code=:trd and code is not null  and code in (select distinct code from GasContract EleContract where fromDate &lt;= GETDATE() and toDate &gt;= GETDATE() and traderCode = :trd) \r\n    java.lang.StackOverflowError\r\n    \tat java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n    \tat java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\r\n    \tat java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\r\n    \tat java.base/java.io.BufferedOutputStream.write(BufferedOutputStream.java:122)\r\n    \tat java.base/java.io.PrintStream.write(PrintStream.java:559)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:233)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:303)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:281)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\r\n    \tat java.base/java.io.OutputStreamWriter.write(OutputStreamWriter.java:226)\r\n    \tat java.base/java.io.Writer.write(Writer.java:249)\r\n    \tat org.apache.log4j.helpers.QuietWriter.write(QuietWriter.java:48)\r\n    \tat org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:317)\r\n    \tat org.apache.log4j.WriterAppender.append(WriterAppender.java:162)\r\n    \tat org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\r\n    \tat org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\r\n    \tat org.apache.log4j.Category.callAppenders(Category.java:206)\r\n    \tat org.apache.log4j.Category.forcedLog(Category.java:391)\r\n    \tat org.apache.log4j.Category.error(Category.java:322)\r\n    \tat com.intellij.idea.IdeaLogger.error(IdeaLogger.java:103)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:54)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolve$1(ResolveCache.java:154)\r\n    \tat com.intellij.openapi.util.Computable.get(Computable.java:17)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.lambda$loggingResolver$4(ResolveCache.java:260)\r\n    \tat com.intellij.openapi.util.Computable.get(Computable.java:17)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:238)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:154)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:169)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:162)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.multiResolve(QlReferenceImpl.java:478)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlPsiImplUtil.resolve(QlPsiImplUtil.java:48)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceExpressionImpl.resolve(QlReferenceExpressionImpl.java:51)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processQualifierExpression(QlReferenceImpl.java:210)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processQualifierExpression(QlReferenceImpl.java:254)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processResolveVariants(QlReferenceImpl.java:93)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.resolveInner(QlReferenceImpl.java:362)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:51)\r\n\r\nthe stacktrace keeps repeating from line\r\n\r\n    at com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)\r\n\r\nThanks\r\n\r\nUPDATE\r\nIf I delete from the start of the select till the &quot;from&quot; keyword, the it&#39; all ok, maybe the problem with too many columns or too long select?\r\n\r\nUPDATE2\r\nTried with the newest intellij v 2022.2.2, in most part behaves exactly the same but it doesn&#39;t hang, not yet.\r\nThe differences are: the first line has changed to:\r\n\r\n    2022-10-03 09:57:51,088 [238177908] SEVERE - #c.i.j.q.p.i.QlReferenceImpl - EA-96451\r\n\r\nThe stackoverflowerror still remains but with different stacktrace:\r\n\r\n    java.lang.StackOverflowError\r\n    \tat java.base/java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3954)\r\n    \tat java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4789)\r\n    \tat java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4734)\r\n    \tat java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4732)\r\n    \tat java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4732)\r\n    \tat java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4698)\r\n    \tat java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4820)\r\n    \tat java.base/java.util.regex.Pattern$BmpCharPropertyGreedy.match(Pattern.java:4329)\r\n    \tat java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4789)\r\n    \tat java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4734)\r\n    \tat java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4698)\r\n    \tat java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4820)\r\n    \tat java.base/java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3955)\r\n    \tat java.base/java.util.regex.Pattern$BmpCharPropertyGreedy.match(Pattern.java:4329)\r\n    \tat java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4789)\r\n    \tat java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4734)\r\n    \tat java.base/java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3955)\r\n    \tat java.base/java.util.regex.Pattern$Start.match(Pattern.java:3608)\r\n    \tat java.base/java.util.regex.Matcher.search(Matcher.java:1728)\r\n    \tat java.base/java.util.regex.Matcher.find(Matcher.java:772)\r\n    \tat java.base/java.util.Formatter.parse(Formatter.java:2746)\r\n    \tat java.base/java.util.Formatter.format(Formatter.java:2671)\r\n    \tat java.base/java.util.Formatter.format(Formatter.java:2625)\r\n    \tat java.base/java.lang.String.format(String.java:4143)\r\n    \tat com.intellij.openapi.diagnostic.IdeaLogRecordFormatter.format(IdeaLogRecordFormatter.java:37)\r\n    \tat java.logging/java.util.logging.StreamHandler.publish(StreamHandler.java:199)\r\n    \tat com.intellij.openapi.diagnostic.RollingFileHandler.publish(RollingFileHandler.kt:57)\r\n    \tat java.logging/java.util.logging.Logger.log(Logger.java:980)\r\n    \tat java.logging/java.util.logging.Logger.doLog(Logger.java:1007)\r\n    \tat java.logging/java.util.logging.Logger.log(Logger.java:1118)\r\n    \tat com.intellij.idea.IdeaLogger.doLogError(IdeaLogger.java:166)\r\n    \tat com.intellij.idea.IdeaLogger.error(IdeaLogger.java:142)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:55)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolve$1(ResolveCache.java:154)\r\n    \tat com.intellij.openapi.util.Computable.get(Computable.java:16)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.lambda$loggingResolver$4(ResolveCache.java:260)\r\n    \tat com.intellij.openapi.util.Computable.get(Computable.java:16)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:238)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:154)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:169)\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:162)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.multiResolve(QlReferenceImpl.java:494)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlPsiImplUtil.resolve(QlPsiImplUtil.java:48)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceExpressionImpl.resolve(QlReferenceExpressionImpl.java:50)\r\n    \tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processQualifierExpression(QlReferenceImpl.java:211)\r\n\tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processResolveVariants(QlReferenceImpl.java:94)\r\n\tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.resolveInner(QlReferenceImpl.java:362)\r\n\tat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:52)\r\n\r\nThe last part is repeating from line\r\n\t\r\n    \tat com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)","title":"IntelliJ logs pa.ql.psi.impl.QlReferenceImpl - EA-96451","body":"<p>IntelliJ 2021.1 is throwing error visible in the log for an sql Repository Impl class containing jpa queries and hangs all opened IntelliJ project windows as soon as I start to edit any line. Even disabling the IntelliJ java sql libraries plugin and deselecting all sql validations in Settings doesn't work. What could be the problem?</p>\n<p>Full stacktrace:</p>\n<pre><code>2022-09-29 13:18:21,739 [ 631550]  ERROR - pa.ql.psi.impl.QlReferenceImpl - EA-96451\nDetails: Query:\nselect name as name, id as pkod, electric as electric, gas as gas, trader.code as trader, invoicingEmails as emails, concat(postCode,' ',city,' ',street) as addr,'' as mailAddr, taxRegNo as taxNr, vatRegNo as regNr, '' as legalRespres, '' as contactName,'' as contactTel, '' as contactEmail, '' as finContactName, '' as finContactTel,'' as finContactEmail, '' as fromApollo,'' as loginEmail,'' as emailApollo, '' as azon, code as custId, modifyDate as valtozott from Partner where trader.code=:trd and code is not null  and code in (select distinct code from GasContract EleContract where fromDate &lt;= GETDATE() and toDate &gt;= GETDATE() and traderCode = :trd) \njava.lang.StackOverflowError\n    at java.base/java.io.FileOutputStream.writeBytes(Native Method)\n    at java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\n    at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:81)\n    at java.base/java.io.BufferedOutputStream.write(BufferedOutputStream.java:122)\n    at java.base/java.io.PrintStream.write(PrintStream.java:559)\n    at java.base/sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:233)\n    at java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:303)\n    at java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:281)\n    at java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\n    at java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:135)\n    at java.base/java.io.OutputStreamWriter.write(OutputStreamWriter.java:226)\n    at java.base/java.io.Writer.write(Writer.java:249)\n    at org.apache.log4j.helpers.QuietWriter.write(QuietWriter.java:48)\n    at org.apache.log4j.WriterAppender.subAppend(WriterAppender.java:317)\n    at org.apache.log4j.WriterAppender.append(WriterAppender.java:162)\n    at org.apache.log4j.AppenderSkeleton.doAppend(AppenderSkeleton.java:251)\n    at org.apache.log4j.helpers.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:66)\n    at org.apache.log4j.Category.callAppenders(Category.java:206)\n    at org.apache.log4j.Category.forcedLog(Category.java:391)\n    at org.apache.log4j.Category.error(Category.java:322)\n    at com.intellij.idea.IdeaLogger.error(IdeaLogger.java:103)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:54)\n    at com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolve$1(ResolveCache.java:154)\n    at com.intellij.openapi.util.Computable.get(Computable.java:17)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$loggingResolver$4(ResolveCache.java:260)\n    at com.intellij.openapi.util.Computable.get(Computable.java:17)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:238)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:154)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:169)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:162)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.multiResolve(QlReferenceImpl.java:478)\n    at com.intellij.jpa.ql.psi.impl.QlPsiImplUtil.resolve(QlPsiImplUtil.java:48)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceExpressionImpl.resolve(QlReferenceExpressionImpl.java:51)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processQualifierExpression(QlReferenceImpl.java:210)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processQualifierExpression(QlReferenceImpl.java:254)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processResolveVariants(QlReferenceImpl.java:93)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.resolveInner(QlReferenceImpl.java:362)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:51)\n</code></pre>\n<p>the stacktrace keeps repeating from line</p>\n<pre><code>at com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)\n</code></pre>\n<p>Thanks</p>\n<p>UPDATE\nIf I delete from the start of the select till the &quot;from&quot; keyword, the it' all ok, maybe the problem with too many columns or too long select?</p>\n<p>UPDATE2\nTried with the newest intellij v 2022.2.2, in most part behaves exactly the same but it doesn't hang, not yet.\nThe differences are: the first line has changed to:</p>\n<pre><code>2022-10-03 09:57:51,088 [238177908] SEVERE - #c.i.j.q.p.i.QlReferenceImpl - EA-96451\n</code></pre>\n<p>The stackoverflowerror still remains but with different stacktrace:</p>\n<pre><code>java.lang.StackOverflowError\n    at java.base/java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3954)\n    at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4789)\n    at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4734)\n    at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4732)\n    at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4732)\n    at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4698)\n    at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4820)\n    at java.base/java.util.regex.Pattern$BmpCharPropertyGreedy.match(Pattern.java:4329)\n    at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4789)\n    at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4734)\n    at java.base/java.util.regex.Pattern$BranchConn.match(Pattern.java:4698)\n    at java.base/java.util.regex.Pattern$GroupTail.match(Pattern.java:4820)\n    at java.base/java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3955)\n    at java.base/java.util.regex.Pattern$BmpCharPropertyGreedy.match(Pattern.java:4329)\n    at java.base/java.util.regex.Pattern$GroupHead.match(Pattern.java:4789)\n    at java.base/java.util.regex.Pattern$Branch.match(Pattern.java:4734)\n    at java.base/java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3955)\n    at java.base/java.util.regex.Pattern$Start.match(Pattern.java:3608)\n    at java.base/java.util.regex.Matcher.search(Matcher.java:1728)\n    at java.base/java.util.regex.Matcher.find(Matcher.java:772)\n    at java.base/java.util.Formatter.parse(Formatter.java:2746)\n    at java.base/java.util.Formatter.format(Formatter.java:2671)\n    at java.base/java.util.Formatter.format(Formatter.java:2625)\n    at java.base/java.lang.String.format(String.java:4143)\n    at com.intellij.openapi.diagnostic.IdeaLogRecordFormatter.format(IdeaLogRecordFormatter.java:37)\n    at java.logging/java.util.logging.StreamHandler.publish(StreamHandler.java:199)\n    at com.intellij.openapi.diagnostic.RollingFileHandler.publish(RollingFileHandler.kt:57)\n    at java.logging/java.util.logging.Logger.log(Logger.java:980)\n    at java.logging/java.util.logging.Logger.doLog(Logger.java:1007)\n    at java.logging/java.util.logging.Logger.log(Logger.java:1118)\n    at com.intellij.idea.IdeaLogger.doLogError(IdeaLogger.java:166)\n    at com.intellij.idea.IdeaLogger.error(IdeaLogger.java:142)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:55)\n    at com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$resolve$1(ResolveCache.java:154)\n    at com.intellij.openapi.util.Computable.get(Computable.java:16)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.lambda$loggingResolver$4(ResolveCache.java:260)\n    at com.intellij.openapi.util.Computable.get(Computable.java:16)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:238)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolve(ResolveCache.java:154)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:169)\n    at com.intellij.psi.impl.source.resolve.ResolveCache.resolveWithCaching(ResolveCache.java:162)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.multiResolve(QlReferenceImpl.java:494)\n    at com.intellij.jpa.ql.psi.impl.QlPsiImplUtil.resolve(QlPsiImplUtil.java:48)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceExpressionImpl.resolve(QlReferenceExpressionImpl.java:50)\n    at com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processQualifierExpression(QlReferenceImpl.java:211)\nat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.processResolveVariants(QlReferenceImpl.java:94)\nat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.resolveInner(QlReferenceImpl.java:362)\nat com.intellij.jpa.ql.psi.impl.QlReferenceImpl.lambda$static$0(QlReferenceImpl.java:52)\n</code></pre>\n<p>The last part is repeating from line</p>\n<pre><code>    at com.intellij.psi.impl.source.resolve.ResolveCache$PolyVariantResolver.resolve(ResolveCache.java:69)\n</code></pre>\n"},{"tags":["java","json","data-structures","collections","set"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664382405,"post_id":73883030,"comment_id":130460636,"body_markdown":"Can you give a description of how `localIDA - {x, y}` looks in Java?","body":"Can you give a description of how <code>localIDA - {x, y}</code> looks in Java?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664382596,"post_id":73883030,"comment_id":130460704,"body_markdown":"And specify what kind of library you&#39;re using to parse JSON? Jackson, Gson...","body":"And specify what kind of library you&#39;re using to parse JSON? Jackson, Gson..."},{"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"score":0,"creation_date":1664383650,"post_id":73883030,"comment_id":130461070,"body_markdown":"The localIDA - {x, y} is represented as HashMap&lt;String, List&lt;String&gt;&gt;\n\nJackson library is used for JSON parsing.","body":"The localIDA - {x, y} is represented as HashMap&lt;String, List&lt;String&gt;&gt;  Jackson library is used for JSON parsing."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664384030,"post_id":73883030,"comment_id":130461181,"body_markdown":"Ok, what about library for marshaling/unmarshaling JSON?","body":"Ok, what about library for marshaling/unmarshaling JSON?"},{"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"score":0,"creation_date":1664385658,"post_id":73883030,"comment_id":130461727,"body_markdown":"The only issue I am thinking about is the Java processing to extract the correct data to form JSON.\ncom.fasterxml.jackson.databind.ObjectMapper is the class used.","body":"The only issue I am thinking about is the Java processing to extract the correct data to form JSON. com.fasterxml.jackson.databind.ObjectMapper is the class used."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664422846,"creation_date":1664422846,"answer_id":73890046,"question_id":73883030,"body_markdown":"To arrange the data in the desired way, we can use a couple of *intermediate maps*.\r\n\r\nAlso, we would need a few custom types to perform transformations and to store the final result that would be serialized into JSON. I&#39;ll use Java 16 [*records*](https://docs.oracle.com/en/java/javase/18/language/records.html) for that purpose (but they could also be implemented as classes).\r\n\r\n```\r\nMap&lt;provider, List&lt;data&gt;&gt;\r\n\r\n           | + intermediate transformation: \r\n           v   entry -&gt; group of objects `provider + data`\r\n\r\nMap&lt;data, Set&lt;provider&gt;&gt;\r\n\r\n           |\r\n           v\r\n\r\nMap&lt;Set&lt;provider&gt;, List&lt;data&gt;&gt;\r\n\r\n           |\r\n           v\r\nList of custom type that would be serialized into JSON\r\n```\r\n\r\nThese are the main steps:\r\n\r\n* Split every *entry* of the *initial map* into a group of *custom objects*, each holding a reference only one reference to `data` and `provider`;\r\n\r\n* Group these objects by data and form the first auxiliary map of type `Map&lt;String, Set&lt;String&gt;&gt;` (providers by data).\r\n\r\n* Iterate over the entries of the newly created map and rearrange the data by grouping the entries by *value*, which is of type `Set&lt;String&gt;` (set of providers) into the second auxiliary map of type `Map&lt;Set&lt;String&gt;, List&lt;String&gt;&gt;`. The values of the second map would contain `data`-strings mapped to identical sets of providers (set is used to make the comparison not sensitive to ordering of providers).\r\n   * **Note** that in this case it&#39;s safe to use a **mutable** collection (*which can be created via* `Collectors.toSet()` *- see the code below*) as a *map-key* because we need it only to perform intermediate transformation, and we&#39;re **not storing** references neither to the *keys*, no to the *map*. But if the reader would want to use a piece of the solution provided below to generate a map which would be stored as a field and passed around, then to avoid accidental changes the *key* should be represented by an **immutable** collection. Therefore, to make the solution more versatile, I&#39;ve `Collectors.toUnmodifiableSet()`.\r\n\r\n* The final step is to generate a `List` of objects that would be serialized into JSON. For that, we need to iterate over the second *auxiliary map* and turn each entry into a custom object.\r\n\r\n* The data is ready to be marshaled into JSON. For demo-purposes, I&#39;ve used [Jackson](https://github.com/FasterXML/jackson) (reader can apply any other tool of their choice).\r\n\r\n*Custom objects:*\r\n\r\n```\r\npublic record DataProvider(String data, String provider) {}\r\n```\r\n```\r\npublic record DataProviders(Set&lt;String&gt; data, List&lt;String&gt; providers) {}\r\n```\r\n\r\n\r\n*The map logic:*\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; dataByProvider = Map.of(\r\n    &quot;localIDA&quot;, List.of(&quot;x&quot;, &quot;y&quot;),\r\n    &quot;localIDB&quot;, List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;),\r\n    &quot;localIDC&quot;, List.of(&quot;z&quot;)\r\n);\r\n        \r\nList&lt;DataProviders&gt; dataProviders = dataByProvider.entrySet().stream()\r\n    .flatMap(entry -&gt; entry.getValue().stream()\r\n        .map(data -&gt; new DataProvider(data, entry.getKey()))\r\n    )\r\n    .collect(Collectors.groupingBy(\r\n        DataProvider::data,\r\n        Collectors.mapping(DataProvider::provider,\r\n            Collectors.toUnmodifiableSet())\r\n    ))\r\n    .entrySet().stream()\r\n    .collect(\r\n        HashMap::new,\r\n        (Map&lt;Set&lt;String&gt;, List&lt;String&gt;&gt; map, Map.Entry&lt;String, Set&lt;String&gt;&gt; entry) -&gt;\r\n            map.computeIfAbsent(entry.getValue(), k -&gt; new ArrayList&lt;&gt;()).add(entry.getKey()),\r\n        (left, right) -&gt;\r\n            right.forEach((k, v) -&gt; left.merge(k, v, (oldV, newV) -&gt; {\r\n                oldV.addAll(newV);\r\n                return oldV;\r\n            }))\r\n    )\r\n    .entrySet().stream()\r\n    .map(entry -&gt; new DataProviders(entry.getKey(), entry.getValue()))\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.enable(SerializationFeature.INDENT_OUTPUT); // to make the output look nicely (can be omitted)\r\n        \r\nString json = mapper.writeValueAsString(dataProviders);\r\n        \r\nSystem.out.println(json);\r\n```\r\n\r\n*Output:*\r\n```\r\n[ {\r\n  &quot;data&quot; : [ &quot;localIDB&quot;, &quot;localIDA&quot; ],\r\n  &quot;providers&quot; : [ &quot;x&quot;, &quot;y&quot; ]\r\n}, {\r\n  &quot;data&quot; : [ &quot;localIDB&quot;, &quot;localIDC&quot; ],\r\n  &quot;providers&quot; : [ &quot;z&quot; ]\r\n} ]\r\n```","title":"Correct Data structure to be used for the given problem - Java","body":"<p>To arrange the data in the desired way, we can use a couple of <em>intermediate maps</em>.</p>\n<p>Also, we would need a few custom types to perform transformations and to store the final result that would be serialized into JSON. I'll use Java 16 <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\"><em>records</em></a> for that purpose (but they could also be implemented as classes).</p>\n<pre><code>Map&lt;provider, List&lt;data&gt;&gt;\n\n           | + intermediate transformation: \n           v   entry -&gt; group of objects `provider + data`\n\nMap&lt;data, Set&lt;provider&gt;&gt;\n\n           |\n           v\n\nMap&lt;Set&lt;provider&gt;, List&lt;data&gt;&gt;\n\n           |\n           v\nList of custom type that would be serialized into JSON\n</code></pre>\n<p>These are the main steps:</p>\n<ul>\n<li><p>Split every <em>entry</em> of the <em>initial map</em> into a group of <em>custom objects</em>, each holding a reference only one reference to <code>data</code> and <code>provider</code>;</p>\n</li>\n<li><p>Group these objects by data and form the first auxiliary map of type <code>Map&lt;String, Set&lt;String&gt;&gt;</code> (providers by data).</p>\n</li>\n<li><p>Iterate over the entries of the newly created map and rearrange the data by grouping the entries by <em>value</em>, which is of type <code>Set&lt;String&gt;</code> (set of providers) into the second auxiliary map of type <code>Map&lt;Set&lt;String&gt;, List&lt;String&gt;&gt;</code>. The values of the second map would contain <code>data</code>-strings mapped to identical sets of providers (set is used to make the comparison not sensitive to ordering of providers).</p>\n<ul>\n<li><strong>Note</strong> that in this case it's safe to use a <strong>mutable</strong> collection (<em>which can be created via</em> <code>Collectors.toSet()</code> <em>- see the code below</em>) as a <em>map-key</em> because we need it only to perform intermediate transformation, and we're <strong>not storing</strong> references neither to the <em>keys</em>, no to the <em>map</em>. But if the reader would want to use a piece of the solution provided below to generate a map which would be stored as a field and passed around, then to avoid accidental changes the <em>key</em> should be represented by an <strong>immutable</strong> collection. Therefore, to make the solution more versatile, I've <code>Collectors.toUnmodifiableSet()</code>.</li>\n</ul>\n</li>\n<li><p>The final step is to generate a <code>List</code> of objects that would be serialized into JSON. For that, we need to iterate over the second <em>auxiliary map</em> and turn each entry into a custom object.</p>\n</li>\n<li><p>The data is ready to be marshaled into JSON. For demo-purposes, I've used <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> (reader can apply any other tool of their choice).</p>\n</li>\n</ul>\n<p><em>Custom objects:</em></p>\n<pre><code>public record DataProvider(String data, String provider) {}\n</code></pre>\n<pre><code>public record DataProviders(Set&lt;String&gt; data, List&lt;String&gt; providers) {}\n</code></pre>\n<p><em>The map logic:</em></p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; dataByProvider = Map.of(\n    &quot;localIDA&quot;, List.of(&quot;x&quot;, &quot;y&quot;),\n    &quot;localIDB&quot;, List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;),\n    &quot;localIDC&quot;, List.of(&quot;z&quot;)\n);\n        \nList&lt;DataProviders&gt; dataProviders = dataByProvider.entrySet().stream()\n    .flatMap(entry -&gt; entry.getValue().stream()\n        .map(data -&gt; new DataProvider(data, entry.getKey()))\n    )\n    .collect(Collectors.groupingBy(\n        DataProvider::data,\n        Collectors.mapping(DataProvider::provider,\n            Collectors.toUnmodifiableSet())\n    ))\n    .entrySet().stream()\n    .collect(\n        HashMap::new,\n        (Map&lt;Set&lt;String&gt;, List&lt;String&gt;&gt; map, Map.Entry&lt;String, Set&lt;String&gt;&gt; entry) -&gt;\n            map.computeIfAbsent(entry.getValue(), k -&gt; new ArrayList&lt;&gt;()).add(entry.getKey()),\n        (left, right) -&gt;\n            right.forEach((k, v) -&gt; left.merge(k, v, (oldV, newV) -&gt; {\n                oldV.addAll(newV);\n                return oldV;\n            }))\n    )\n    .entrySet().stream()\n    .map(entry -&gt; new DataProviders(entry.getKey(), entry.getValue()))\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n        \nObjectMapper mapper = new ObjectMapper();\nmapper.enable(SerializationFeature.INDENT_OUTPUT); // to make the output look nicely (can be omitted)\n        \nString json = mapper.writeValueAsString(dataProviders);\n        \nSystem.out.println(json);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[ {\n  &quot;data&quot; : [ &quot;localIDB&quot;, &quot;localIDA&quot; ],\n  &quot;providers&quot; : [ &quot;x&quot;, &quot;y&quot; ]\n}, {\n  &quot;data&quot; : [ &quot;localIDB&quot;, &quot;localIDC&quot; ],\n  &quot;providers&quot; : [ &quot;z&quot; ]\n} ]\n</code></pre>\n"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73890046,"answer_count":1,"score":1,"last_activity_date":1664780966,"creation_date":1664374464,"question_id":73883030,"body_markdown":"I want to process the subset of values in Java. \r\nThe scenario is like \r\n\r\n**Example 1:** \r\n\r\n    IDA - {x, y}\r\n    IDB - {x, y, z}\r\n    IDC - {z}\r\n\r\nThis should be clubbed in a JSON as follows, \r\n\r\n    {data : {x,y}, issuer: {IDA, IDB }}\r\n    {data : {z}, issuer: {IDB, IDC }}\r\n\r\n**Example 2:**\r\n\r\n    IDA - {x, y, z}\r\n    IDB - {y, z}\r\n    IDC - {z}\r\n\r\nJSON structure should be \r\n\r\n    {data : {y, z}, issuer: {IDA, IDB }}\r\n    {data : {x}, issuer: {IDA }}\r\n    {data : {z}, issuer: {IDC }}\r\n\r\nHere, I would like to have idea about using the correct data structure in Java.\r\n\r\nNote: In the given example, the data is taken with three entries. But , there may be &#39;n&#39; number of entries.","title":"Correct Data structure to be used for the given problem - Java","body":"<p>I want to process the subset of values in Java.\nThe scenario is like</p>\n<p><strong>Example 1:</strong></p>\n<pre><code>IDA - {x, y}\nIDB - {x, y, z}\nIDC - {z}\n</code></pre>\n<p>This should be clubbed in a JSON as follows,</p>\n<pre><code>{data : {x,y}, issuer: {IDA, IDB }}\n{data : {z}, issuer: {IDB, IDC }}\n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>IDA - {x, y, z}\nIDB - {y, z}\nIDC - {z}\n</code></pre>\n<p>JSON structure should be</p>\n<pre><code>{data : {y, z}, issuer: {IDA, IDB }}\n{data : {x}, issuer: {IDA }}\n{data : {z}, issuer: {IDC }}\n</code></pre>\n<p>Here, I would like to have idea about using the correct data structure in Java.</p>\n<p>Note: In the given example, the data is taken with three entries. But , there may be 'n' number of entries.</p>\n"},{"tags":["java","spring-boot","snmp"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1652199152,"post_id":72184853,"comment_id":127546754,"body_markdown":"Camel is an integration framework. Kafka is a message broker. I don&#39;t think either does what you want. More specifically, Camel can (optionally) be used to write _any data_ to Kafka, not just &quot;SNMP traps&quot;, so it is not one or the other... Please share what research suggests otherwise","body":"Camel is an integration framework. Kafka is a message broker. I don&#39;t think either does what you want. More specifically, Camel can (optionally) be used to write <i>any data</i> to Kafka, not just &quot;SNMP traps&quot;, so it is not one or the other... Please share what research suggests otherwise"},{"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"score":0,"creation_date":1652252450,"post_id":72184853,"comment_id":127558350,"body_markdown":"Well, there are some links which suggests that Camel can be used fro this purpose https://camel.apache.org/components/3.16.x/snmp-component.html, also this question answer on StackOverflow gives some hints regarding that https://stackoverflow.com/questions/40860982/simple-apache-camel-snmp-trap","body":"Well, there are some links which suggests that Camel can be used fro this purpose <a href=\"https://camel.apache.org/components/3.16.x/snmp-component.html\" rel=\"nofollow noreferrer\">camel.apache.org/components/3.16.x/snmp-component.html</a>, also this question answer on StackOverflow gives some hints regarding that <a href=\"https://stackoverflow.com/questions/40860982/simple-apache-camel-snmp-trap\" title=\"simple apache camel snmp trap\">stackoverflow.com/questions/40860982/&hellip;</a>"},{"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"score":0,"creation_date":1652252753,"post_id":72184853,"comment_id":127558450,"body_markdown":"I would love to have suggestions from you regarding this problem apart from Kafka and camel is there anything that can be used for this problem? @OneCricketeer","body":"I would love to have suggestions from you regarding this problem apart from Kafka and camel is there anything that can be used for this problem? @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1652274860,"post_id":72184853,"comment_id":127566724,"body_markdown":"The linked question has nothing to do with Kafka. Camel itself depends on another library - https://www.snmp4j.org/","body":"The linked question has nothing to do with Kafka. Camel itself depends on another library - <a href=\"https://www.snmp4j.org/\" rel=\"nofollow noreferrer\">snmp4j.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664780802,"creation_date":1664780802,"answer_id":73932114,"question_id":72184853,"body_markdown":"Those who are looking for some hints.\r\n\r\nUse *snmp4j* java library for *trap-receiving and sending* purposes.\r\n\r\n[Click here for documentation]\r\n\r\n\r\n  [Click here for documentation]: https://www.snmp4j.org/","title":"How to capture SNMP traps in a spring boot application","body":"<p>Those who are looking for some hints.</p>\n<p>Use <em>snmp4j</em> java library for <em>trap-receiving and sending</em> purposes.</p>\n<p><a href=\"https://www.snmp4j.org/\" rel=\"nofollow noreferrer\">Click here for documentation</a></p>\n"}],"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664780802,"creation_date":1652179246,"question_id":72184853,"body_markdown":"**Senario:**\r\n\r\nI am working on a web application using spring boot which captures the SNMP traps generated by an SNMP-enabled device.\r\n\r\n**Help wanted:**\r\n\r\nA simple example in spring boot where the application can receive SNMP traps.\r\n","title":"How to capture SNMP traps in a spring boot application","body":"<p><strong>Senario:</strong></p>\n<p>I am working on a web application using spring boot which captures the SNMP traps generated by an SNMP-enabled device.</p>\n<p><strong>Help wanted:</strong></p>\n<p>A simple example in spring boot where the application can receive SNMP traps.</p>\n"},{"tags":["java","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":464804,"reputation":3156,"user_id":868533,"display_name":"supersam654"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358815456,"creation_date":1358815456,"answer_id":14449777,"question_id":14449470,"body_markdown":"I don&#39;t think extending a `ThreadPoolExecutor` will be that complicated. [The JavaDocs][1] give an example. I&#39;m also fairly certain that the executor is the place to extend. I believe that a `ThreadFactory` is a slightly higher-level way of producing new threads. It&#39;s the executor that decides when to make them.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html","title":"Conditional blocking with ThreadPoolExecutor","body":"<p>I don't think extending a <code>ThreadPoolExecutor</code> will be that complicated. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow\">The JavaDocs</a> give an example. I'm also fairly certain that the executor is the place to extend. I believe that a <code>ThreadFactory</code> is a slightly higher-level way of producing new threads. It's the executor that decides when to make them.</p>\n"},{"tags":[],"owner":{"account_id":2184935,"reputation":523,"user_id":1933542,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358826451,"creation_date":1358826451,"answer_id":14451275,"question_id":14449470,"body_markdown":"I would suggest you to look at \r\n\r\nhttp://code.google.com/p/disruptor/\r\n\r\nthis does almost what you are looking for.","title":"Conditional blocking with ThreadPoolExecutor","body":"<p>I would suggest you to look at </p>\n\n<p><a href=\"http://code.google.com/p/disruptor/\" rel=\"nofollow\">http://code.google.com/p/disruptor/</a></p>\n\n<p>this does almost what you are looking for.</p>\n"}],"owner":{"account_id":162686,"reputation":31355,"user_id":384306,"accept_rate":89,"display_name":"Nathan Schwermann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664779616,"creation_date":1358813472,"question_id":14449470,"body_markdown":"I want to extend `ThreadPoolExecutor` to not only block if the maximum thread count has been reached but also on a separate condition which I could set. I&#39;m not sure how to go about this, or if it is even possible.  \r\n\r\nIt looks like providing a ThreadFactory that won&#39;t create a thread if the condition is set *might* be the way to go, but I&#39;m not exactly sure if that is the best approach. Could it be possible that there was an extra thread not being used after the flag was set so the factory didn&#39;t need to be used and therefore my operation isn&#39;t placed in a que but gets to run?","title":"Conditional blocking with ThreadPoolExecutor","body":"<p>I want to extend <code>ThreadPoolExecutor</code> to not only block if the maximum thread count has been reached but also on a separate condition which I could set. I'm not sure how to go about this, or if it is even possible.  </p>\n\n<p>It looks like providing a ThreadFactory that won't create a thread if the condition is set <em>might</em> be the way to go, but I'm not exactly sure if that is the best approach. Could it be possible that there was an extra thread not being used after the flag was set so the factory didn't need to be used and therefore my operation isn't placed in a que but gets to run?</p>\n"},{"tags":["java","spring","spring-boot","jar"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664760603,"post_id":73930100,"comment_id":130538624,"body_markdown":"Can you please make sure that the library jar file must not a fat jar? The fat jar contains dependency jar files inside the jar. So the error states that you have multiple versions of the spring jar file.","body":"Can you please make sure that the library jar file must not a fat jar? The fat jar contains dependency jar files inside the jar. So the error states that you have multiple versions of the spring jar file."}],"answers":[{"tags":[],"owner":{"account_id":17258352,"reputation":94,"user_id":12496947,"display_name":"Nouman Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664774675,"creation_date":1664774675,"answer_id":73931381,"question_id":73930100,"body_markdown":"If your library jar has it&#39;s size in MBs then it must be a fat jar. You should change the scope of jar&#39;s dependencies in **pom.xml** to **provided** and then build jar. For example \r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n    \t\t**&lt;scope&gt;provided&lt;/scope&gt;**\r\n    \t&lt;/dependency&gt;\r\nAbove you can see scope is set to provided that means the dependencies which are required by your library will be provided by parent application which will be using it. ","title":"Spring Boot Jar file usage problem when using artifact","body":"<p>If your library jar has it's size in MBs then it must be a fat jar. You should change the scope of jar's dependencies in <strong>pom.xml</strong> to <strong>provided</strong> and then build jar. For example</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n        **&lt;scope&gt;provided&lt;/scope&gt;**\n    &lt;/dependency&gt;\n</code></pre>\n<p>Above you can see scope is set to provided that means the dependencies which are required by your library will be provided by parent application which will be using it.</p>\n"}],"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73931381,"answer_count":1,"score":0,"last_activity_date":1664779475,"creation_date":1664755083,"question_id":73930100,"body_markdown":"I have a library project that I build and generated jar file in the out folder. Then I was using this Jar file by adding to another Spring Boot project via the Libraries section.\r\n\r\nWhile it was working, the I started to get the following error and I am not sure if something is changed after building the library project:\r\n```\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.springframework.beans.factory.support.DefaultListableBeanFactory.setApplicationStartup(org.springframework.core.metrics.ApplicationStartup)&#39;\r\n\r\nThe method&#39;s class, org.springframework.beans.factory.support.DefaultListableBeanFactory, is available from the following locations:\r\n\r\n    jar:file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar!/org/springframework/beans/factory/support/DefaultListableBeanFactory.class\r\n    jar:file:/Users/einstein/.m2/repository/org/springframework/spring-beans/5.3.8/spring-beans-5.3.8.jar!/org/springframework/beans/factory/support/DefaultListableBeanFactory.class\r\n\r\nThe class hierarchy was loaded from the following locations:\r\n\r\n    org.springframework.beans.factory.support.DefaultListableBeanFactory: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\r\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\r\n    org.springframework.beans.factory.support.AbstractBeanFactory: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\r\n    org.springframework.beans.factory.support.FactoryBeanRegistrySupport: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\r\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\r\n    org.springframework.core.SimpleAliasRegistry: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of org.springframework.beans.factory.support.DefaultListableBeanFactory\r\n```\r\n\r\nSo, what is missing and how can I solve the problem? \r\n\r\nHere is my lombok depebdency in pom.xml file:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring Boot Jar file usage problem when using artifact","body":"<p>I have a library project that I build and generated jar file in the out folder. Then I was using this Jar file by adding to another Spring Boot project via the Libraries section.</p>\n<p>While it was working, the I started to get the following error and I am not sure if something is changed after building the library project:</p>\n<pre><code>\nThe following method did not exist:\n\n    'void org.springframework.beans.factory.support.DefaultListableBeanFactory.setApplicationStartup(org.springframework.core.metrics.ApplicationStartup)'\n\nThe method's class, org.springframework.beans.factory.support.DefaultListableBeanFactory, is available from the following locations:\n\n    jar:file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar!/org/springframework/beans/factory/support/DefaultListableBeanFactory.class\n    jar:file:/Users/einstein/.m2/repository/org/springframework/spring-beans/5.3.8/spring-beans-5.3.8.jar!/org/springframework/beans/factory/support/DefaultListableBeanFactory.class\n\nThe class hierarchy was loaded from the following locations:\n\n    org.springframework.beans.factory.support.DefaultListableBeanFactory: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\n    org.springframework.beans.factory.support.AbstractBeanFactory: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\n    org.springframework.beans.factory.support.FactoryBeanRegistrySupport: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\n    org.springframework.core.SimpleAliasRegistry: file:/Users/einstein/project/demo/out/artifacts/gks_jar/gks.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of org.springframework.beans.factory.support.DefaultListableBeanFactory\n</code></pre>\n<p>So, what is missing and how can I solve the problem?</p>\n<p>Here is my lombok depebdency in pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jackson","polymorphism","deserialization","openapi"],"answers":[{"tags":[],"owner":{"account_id":4712362,"reputation":161,"user_id":3812508,"display_name":"Nodens2k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664779280,"creation_date":1664779280,"answer_id":73931916,"question_id":73908008,"body_markdown":"So far, I have not found any way to get what we are looking for from the server side, or through the OpenApi spec. However, I have found two possible ways to get it from the client side using Jackson.\r\n\r\nThe first way is by disabling `FAIL_ON_INVALID_SUBTYPE` at the ObjectMapper:\r\n\r\n```java\r\nvar mapper = new ObjectMapper().disable(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE);\r\n```\r\n\r\nWhich will make the unknown subtype instances to be deserialized into nulls. It is important to take this into account for Pet lists, as they may have null items in the future.\r\n\r\nThe other way would be to create a `DeserializationProblemHandler` subclass that would force the unknown instance to be deserialized into an instance of the root type:\r\n\r\n```java\r\npublic class UnknownPetTypeHandler extends DeserializationProblemHandler {\r\n  @Override\r\n  public JavaType handleUnknownTypeId(DeserializationContext ctx,\r\n      JavaType baseType, String subTypeId,\r\n      TypeIdResolver idResolver, String failureMsg) {\r\n    return Pet.class.equals(baseType.getRawClass()) ? baseType : null;\r\n  }\r\n}\r\n```\r\n\r\nand add it to the ObjectMapper used for deserialization:\r\n\r\n```java\r\nvar mapper = new ObjectMapper().addHandler(new UnknownPetTypeHandler());\r\n```\r\n\r\nThis second option avoids null values and provides a mechanism for detecting and notifying on unknown types received, at the cost of extra complexity.\r\n","title":"How to prevent Jackson InvalidTypeIdExceptions at client side?","body":"<p>So far, I have not found any way to get what we are looking for from the server side, or through the OpenApi spec. However, I have found two possible ways to get it from the client side using Jackson.</p>\n<p>The first way is by disabling <code>FAIL_ON_INVALID_SUBTYPE</code> at the ObjectMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var mapper = new ObjectMapper().disable(DeserializationFeature.FAIL_ON_INVALID_SUBTYPE);\n</code></pre>\n<p>Which will make the unknown subtype instances to be deserialized into nulls. It is important to take this into account for Pet lists, as they may have null items in the future.</p>\n<p>The other way would be to create a <code>DeserializationProblemHandler</code> subclass that would force the unknown instance to be deserialized into an instance of the root type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UnknownPetTypeHandler extends DeserializationProblemHandler {\n  @Override\n  public JavaType handleUnknownTypeId(DeserializationContext ctx,\n      JavaType baseType, String subTypeId,\n      TypeIdResolver idResolver, String failureMsg) {\n    return Pet.class.equals(baseType.getRawClass()) ? baseType : null;\n  }\n}\n</code></pre>\n<p>and add it to the ObjectMapper used for deserialization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var mapper = new ObjectMapper().addHandler(new UnknownPetTypeHandler());\n</code></pre>\n<p>This second option avoids null values and provides a mechanism for detecting and notifying on unknown types received, at the cost of extra complexity.</p>\n"}],"owner":{"account_id":4712362,"reputation":161,"user_id":3812508,"display_name":"Nodens2k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73931916,"answer_count":1,"score":0,"last_activity_date":1664779280,"creation_date":1664537216,"question_id":73908008,"body_markdown":"Let&#39;s say we have a base class Pet, with subclasses Dog, Cat and Fish defined as our service response:\r\n\r\n```yaml\r\nopenapi: &#39;3.0.3&#39;\r\npaths:\r\n  &#39;/pets&#39;:\r\n    get:\r\n      responses:\r\n        200:\r\n          description: Ok\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: &#39;#/components/schemas/Pet&#39;\r\ncomponents:\r\n  schemas:\r\n    Pet:\r\n      type: object\r\n      description: Base class for all types of pets\r\n      properties:\r\n        kind:\r\n          type: string\r\n      required:\r\n        - kind\r\n      discriminator:\r\n        propertyName: kind\r\n        mapping:\r\n          Dog: &#39;#/components/schemas/Dog&#39;\r\n          Cat: &#39;#/components/schemas/Cat&#39;\r\n          Fish: &#39;#/components/schemas/Fish&#39;\r\n```\r\n\r\nWe have several clients consuming our service using this OpenApi definition.\r\n\r\nNow, we want to add a fourth pet type, Snakes, so we add it to the &quot;mapping&quot; section of the Pet schema. But if we deploy such a change to our service production system, our clients will fail to parse the service responses whenever a Snake is returned.\r\n\r\nWe can publish our new improved API in advance and give some time to our clients for upgrading and add support for this new type, but we cannot afford to delay the upgrade indefinitely. Therefore, we want to be able to deploy our new service version and send snakes in its response **without** breaking things at our clients side.\r\n\r\nIs there any way to define this polymorphic type in an &quot;open&quot; way, so clients can parse snakes and other future unknown-yet types without getting an InvalidTypeIdException? I don&#39;t need to be able to get the snake fields (I am aware of the security issues involved), I would be happy to have just a &quot;Pet&quot; instance with kind set to &quot;Snake&quot;, and no other info.\r\n\r\nIf this cannot be accomplished at the server side, is there any way to get client side code generated to be resilient against these errors?\r\n\r\nIf no solution exists at either definition or client code generation, could such a feature be implemented (at the client side) in Java using Jackson annotations or configuration?","title":"How to prevent Jackson InvalidTypeIdExceptions at client side?","body":"<p>Let's say we have a base class Pet, with subclasses Dog, Cat and Fish defined as our service response:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: '3.0.3'\npaths:\n  '/pets':\n    get:\n      responses:\n        200:\n          description: Ok\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Pet'\ncomponents:\n  schemas:\n    Pet:\n      type: object\n      description: Base class for all types of pets\n      properties:\n        kind:\n          type: string\n      required:\n        - kind\n      discriminator:\n        propertyName: kind\n        mapping:\n          Dog: '#/components/schemas/Dog'\n          Cat: '#/components/schemas/Cat'\n          Fish: '#/components/schemas/Fish'\n</code></pre>\n<p>We have several clients consuming our service using this OpenApi definition.</p>\n<p>Now, we want to add a fourth pet type, Snakes, so we add it to the &quot;mapping&quot; section of the Pet schema. But if we deploy such a change to our service production system, our clients will fail to parse the service responses whenever a Snake is returned.</p>\n<p>We can publish our new improved API in advance and give some time to our clients for upgrading and add support for this new type, but we cannot afford to delay the upgrade indefinitely. Therefore, we want to be able to deploy our new service version and send snakes in its response <strong>without</strong> breaking things at our clients side.</p>\n<p>Is there any way to define this polymorphic type in an &quot;open&quot; way, so clients can parse snakes and other future unknown-yet types without getting an InvalidTypeIdException? I don't need to be able to get the snake fields (I am aware of the security issues involved), I would be happy to have just a &quot;Pet&quot; instance with kind set to &quot;Snake&quot;, and no other info.</p>\n<p>If this cannot be accomplished at the server side, is there any way to get client side code generated to be resilient against these errors?</p>\n<p>If no solution exists at either definition or client code generation, could such a feature be implemented (at the client side) in Java using Jackson annotations or configuration?</p>\n"},{"tags":["c#","java",".net","serialization","deserialization"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1374557055,"post_id":17801967,"comment_id":25973112,"body_markdown":"No I haven&#39;t tried it. Thought I would ask first in case it&#39;s simply not possible.","body":"No I haven&#39;t tried it. Thought I would ask first in case it&#39;s simply not possible."}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1374556907,"creation_date":1374556907,"answer_id":17802021,"question_id":17801967,"body_markdown":"This is not possible, at least not using the native serialization libraries that both frameworks provide, as stated in [this][1] previous SO post.\r\n\r\nIf you want to achieve cross language serialization/deserialization, you could resort to XML ([XSTream][2] for Java, [XStream-dot-net][3] for C#) or [WOX][4]:\r\n\r\n&gt; WOX is an XML serializer for Java and C# objects. In other words, WOX\r\n&gt; is a library (woxSerializer.jar for Java, and woxSerializer.dll for\r\n&gt; C#) to serialize Java and C# objects to XML and back again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7183287/deserializing-a-java-serialized-file-in-c-sharp\r\n  [2]: http://xstream.codehaus.org/\r\n  [3]: https://code.google.com/p/xstream-dot-net/\r\n  [4]: http://woxserializer.sourceforge.net/","title":"Can a serialized simple java object be deserialized by C#?","body":"<p>This is not possible, at least not using the native serialization libraries that both frameworks provide, as stated in <a href=\"https://stackoverflow.com/questions/7183287/deserializing-a-java-serialized-file-in-c-sharp\">this</a> previous SO post.</p>\n\n<p>If you want to achieve cross language serialization/deserialization, you could resort to XML (<a href=\"http://xstream.codehaus.org/\" rel=\"nofollow noreferrer\">XSTream</a> for Java, <a href=\"https://code.google.com/p/xstream-dot-net/\" rel=\"nofollow noreferrer\">XStream-dot-net</a> for C#) or <a href=\"http://woxserializer.sourceforge.net/\" rel=\"nofollow noreferrer\">WOX</a>:</p>\n\n<blockquote>\n  <p>WOX is an XML serializer for Java and C# objects. In other words, WOX\n  is a library (woxSerializer.jar for Java, and woxSerializer.dll for\n  C#) to serialize Java and C# objects to XML and back again.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1825062,"reputation":3898,"user_id":1658099,"accept_rate":54,"display_name":"AKD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374557312,"creation_date":1374557312,"answer_id":17802096,"question_id":17801967,"body_markdown":"[WOX][1] will be helpful to achieve interoperable serialization.          \r\nit can `serialize/deserialize` `Java/C#` objects `into/from` standard `XML`(platform independent) \r\n\r\n\r\n  [1]: http://woxserializer.sourceforge.net/","title":"Can a serialized simple java object be deserialized by C#?","body":"<p><a href=\"http://woxserializer.sourceforge.net/\" rel=\"nofollow\">WOX</a> will be helpful to achieve interoperable serialization.<br>\nit can <code>serialize/deserialize</code> <code>Java/C#</code> objects <code>into/from</code> standard <code>XML</code>(platform independent) </p>\n"},{"tags":[],"owner":{"account_id":2605537,"reputation":527,"user_id":2256775,"display_name":"Raji"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1374557597,"creation_date":1374557597,"answer_id":17802159,"question_id":17801967,"body_markdown":"The formats of serialized streams are available. I think you can write a class easily to parse the byte stream and create the required class in C#. \r\n\r\nAn article that specifies the serialized format:\r\nhttp://www.javaworld.com/community/node/2915\r\n","title":"Can a serialized simple java object be deserialized by C#?","body":"<p>The formats of serialized streams are available. I think you can write a class easily to parse the byte stream and create the required class in C#. </p>\n\n<p>An article that specifies the serialized format:\n<a href=\"http://www.javaworld.com/community/node/2915\" rel=\"noreferrer\">http://www.javaworld.com/community/node/2915</a></p>\n"},{"tags":[],"owner":{"account_id":2368219,"reputation":1488,"user_id":2073479,"display_name":"bigge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374558842,"creation_date":1374558842,"answer_id":17802397,"question_id":17801967,"body_markdown":"If you&#39;re OK with including another dependency, you might consider using an object database such as [db4o][1] for the job. I haven&#39;t tried this myself, but according the Wikipedia article, \r\n\r\n&gt; db4o uses a custom feature called &quot;generic reflector&quot; to represent class information, when class definitions are not available, which allows to use it in a mixed Java-.NET environment, for example Java client - .NET server and vice versa.\r\n\r\nYou can find more information about the above-mentioned reflection API [here][2] and [here][3].\r\n\r\nIn a nutshell, this would lead to a system where you store your Java/C# objects to an (embedded) database (i.e., without client/server architecture, but by loading a single file that contains the whole database) and retrieve C#/Java objects from the database afterwards.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Db4o\r\n  [2]: http://community.versant.com/Documentation/Reference/db4o-7.12/java/reference/Content/implementation_strategies/db4o_reflection_api.htm\r\n  [3]: http://community.versant.com/Documentation/Reference/db4o-7.12/java/reference/Content/implementation_strategies/db4o_reflection_api/using_db4o_reflection_api.htm","title":"Can a serialized simple java object be deserialized by C#?","body":"<p>If you're OK with including another dependency, you might consider using an object database such as <a href=\"http://en.wikipedia.org/wiki/Db4o\" rel=\"nofollow\">db4o</a> for the job. I haven't tried this myself, but according the Wikipedia article, </p>\n\n<blockquote>\n  <p>db4o uses a custom feature called \"generic reflector\" to represent class information, when class definitions are not available, which allows to use it in a mixed Java-.NET environment, for example Java client - .NET server and vice versa.</p>\n</blockquote>\n\n<p>You can find more information about the above-mentioned reflection API <a href=\"http://community.versant.com/Documentation/Reference/db4o-7.12/java/reference/Content/implementation_strategies/db4o_reflection_api.htm\" rel=\"nofollow\">here</a> and <a href=\"http://community.versant.com/Documentation/Reference/db4o-7.12/java/reference/Content/implementation_strategies/db4o_reflection_api/using_db4o_reflection_api.htm\" rel=\"nofollow\">here</a>.</p>\n\n<p>In a nutshell, this would lead to a system where you store your Java/C# objects to an (embedded) database (i.e., without client/server architecture, but by loading a single file that contains the whole database) and retrieve C#/Java objects from the database afterwards.</p>\n"},{"tags":[],"owner":{"account_id":1470689,"reputation":483,"user_id":1382345,"accept_rate":75,"display_name":"Noman_1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664778837,"creation_date":1664778837,"answer_id":73931855,"question_id":17801967,"body_markdown":"I have used this document with a high amount of success to parse data stored in serialized format on a database:\r\n\r\nhttp://www.jtech.ua.es/j2ee/2005-2006/modulos/rmi/recursos/serial-1.5.0.pdf\r\n\r\nThe most meaningful info for me was from page 63 to 68.\r\n\r\nIn my case I had the source code used to serialize the data which was useful to both identify fields and read the data when was written in a non standard way using the ISerializable.WriteObject/ReadObject calls.\r\n\r\nI don&#39;t know the reason but my serialized data had not &quot;handler&quot; field on any object, it would take 0 bytes. Other than that, everything followed the docs but it gets kind of tricky if you have never done such kind of tasks before\r\n\r\nAs noted on some comment, this is a good base even if it&#39;s written in java:\r\n\r\nhttps://github.com/smartplatf/a-utilities/blob/master/src/main/java/org/anon/utilities/serialize/srdr/SerialStreamReader.java","title":"Can a serialized simple java object be deserialized by C#?","body":"<p>I have used this document with a high amount of success to parse data stored in serialized format on a database:</p>\n<p><a href=\"http://www.jtech.ua.es/j2ee/2005-2006/modulos/rmi/recursos/serial-1.5.0.pdf\" rel=\"nofollow noreferrer\">http://www.jtech.ua.es/j2ee/2005-2006/modulos/rmi/recursos/serial-1.5.0.pdf</a></p>\n<p>The most meaningful info for me was from page 63 to 68.</p>\n<p>In my case I had the source code used to serialize the data which was useful to both identify fields and read the data when was written in a non standard way using the ISerializable.WriteObject/ReadObject calls.</p>\n<p>I don't know the reason but my serialized data had not &quot;handler&quot; field on any object, it would take 0 bytes. Other than that, everything followed the docs but it gets kind of tricky if you have never done such kind of tasks before</p>\n<p>As noted on some comment, this is a good base even if it's written in java:</p>\n<p><a href=\"https://github.com/smartplatf/a-utilities/blob/master/src/main/java/org/anon/utilities/serialize/srdr/SerialStreamReader.java\" rel=\"nofollow noreferrer\">https://github.com/smartplatf/a-utilities/blob/master/src/main/java/org/anon/utilities/serialize/srdr/SerialStreamReader.java</a></p>\n"}],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9051,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1664778837,"creation_date":1374556604,"question_id":17801967,"body_markdown":"Assuming all fields of a java class are java primitives, if such an object has been serialized, can it be successfully deserialized  by C# into an instance of an &quot;equivalent&quot; C# class?\r\n\r\nIs the reverse possible - C# to java?\r\n\r\n---\r\n\r\nI realise there are many language agnostic formats, such as XML that could be *used* to get the job done. I am more interested in whether using the *native* serialized data is feasible.","title":"Can a serialized simple java object be deserialized by C#?","body":"<p>Assuming all fields of a java class are java primitives, if such an object has been serialized, can it be successfully deserialized  by C# into an instance of an \"equivalent\" C# class?</p>\n\n<p>Is the reverse possible - C# to java?</p>\n\n<hr>\n\n<p>I realise there are many language agnostic formats, such as XML that could be <em>used</em> to get the job done. I am more interested in whether using the <em>native</em> serialized data is feasible.</p>\n"},{"tags":["java","spring","spring-boot","logging","filenet"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653298352,"post_id":72345802,"comment_id":127808783,"body_markdown":"Well the fact that you include log4j but try to configure Logback, should be an indication on **why**., You are using framework X while you cofigure framework Y...","body":"Well the fact that you include log4j but try to configure Logback, should be an indication on <b>why</b>., You are using framework X while you cofigure framework Y..."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1653300589,"post_id":72345802,"comment_id":127809504,"body_markdown":"@M. Deinum , I have an old 3rd party library that requires log4j to be present on classpath","body":"@M. Deinum , I have an old 3rd party library that requires log4j to be present on classpath"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653303468,"post_id":72345802,"comment_id":127810570,"body_markdown":"No you don&#39;t... You only need the log4j to slf4j bridge... You don&#39;t need log4j.","body":"No you don&#39;t... You only need the log4j to slf4j bridge... You don&#39;t need log4j."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1653378727,"post_id":72345802,"comment_id":127831170,"body_markdown":"@M. Deinum\nIf i remove log4j jars and only use log4j-to-slf4j my 3rd party library throw runtime exception class not found : org.apache.log4j.Priority which exists in log4j api jar","body":"@M. Deinum If i remove log4j jars and only use log4j-to-slf4j my 3rd party library throw runtime exception class not found : org.apache.log4j.Priority which exists in log4j api jar"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653379018,"post_id":72345802,"comment_id":127831283,"body_markdown":"The dependencies you included are for log4j2 which isn&#39;t log4j... Also you shouldn&#39;t need to add dependencies as all the bridges are included by default by Spring Boot (afaik). So your dependency management ism aking things worse (as you are trying to outsmart, log4j, log4j2 and logback and spring dependency management). Nonetheless what is your 3rd party using Log4j (probably as it is old) or Log4j2, then include the proper bridge (or just ditch all those dependencies and just use the normal ones already provided.","body":"The dependencies you included are for log4j2 which isn&#39;t log4j... Also you shouldn&#39;t need to add dependencies as all the bridges are included by default by Spring Boot (afaik). So your dependency management ism aking things worse (as you are trying to outsmart, log4j, log4j2 and logback and spring dependency management). Nonetheless what is your 3rd party using Log4j (probably as it is old) or Log4j2, then include the proper bridge (or just ditch all those dependencies and just use the normal ones already provided."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1653991710,"post_id":72345802,"comment_id":127980107,"body_markdown":"@M. Deinum\nCan you please advise what library I should use instead of the above that will contain : org.apache.log4j.Priority class and compatible with logback ?","body":"@M. Deinum Can you please advise what library I should use instead of the above that will contain : org.apache.log4j.Priority class and compatible with logback ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653991943,"post_id":72345802,"comment_id":127980193,"body_markdown":"I already gave you the answer... The problem is your dependencies and the fact that you are trying to mix log4j, log4j2 and logback. Spring Boot by default routes **everything** to logback. SO as answered before remove all the dependencies and use the defaults.","body":"I already gave you the answer... The problem is your dependencies and the fact that you are trying to mix log4j, log4j2 and logback. Spring Boot by default routes <b>everything</b> to logback. SO as answered before remove all the dependencies and use the defaults."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1653992254,"post_id":72345802,"comment_id":127980320,"body_markdown":"I edited my question so that you can better understand my issue, I need a class on runtime which only exists in log4j jar so If I removed the dependencies I get runtime exception class not found !","body":"I edited my question so that you can better understand my issue, I need a class on runtime which only exists in log4j jar so If I removed the dependencies I get runtime exception class not found !"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653992397,"post_id":72345802,"comment_id":127980379,"body_markdown":"I understand your issue quite well. And the answer still stands you are trying to outsmart the dependency management of Spring Boot which already provides that. Basically there should be no logging related dependencies in your `pom.xml`.","body":"I understand your issue quite well. And the answer still stands you are trying to outsmart the dependency management of Spring Boot which already provides that. Basically there should be no logging related dependencies in your <code>pom.xml</code>."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1653992535,"post_id":72345802,"comment_id":127980426,"body_markdown":"Ok I followed your suggestion and removed all the above dependencies and I got runtime exception class not found (org.apache.log4j.Priority) when using the filenet jar so spring itself didn&#39;t help here ! how to make this exception goes away in this case ?","body":"Ok I followed your suggestion and removed all the above dependencies and I got runtime exception class not found (org.apache.log4j.Priority) when using the filenet jar so spring itself didn&#39;t help here ! how to make this exception goes away in this case ?"},{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":0,"creation_date":1653994470,"post_id":72345802,"comment_id":127981174,"body_markdown":"You have not specified *what* jar needs logback. This might help. Also you are using 2 different log4j versions while also using logback, this can&#39;t be intended","body":"You have not specified <i>what</i> jar needs logback. This might help. Also you are using 2 different log4j versions while also using logback, this can&#39;t be intended"},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1653994636,"post_id":72345802,"comment_id":127981232,"body_markdown":"The filenet jar requires (org.apache.log4j.Priority) from log4j not logback and I am using log4j1 bridge that route to log4j2 to avoid security issues in log4j1, I guess it&#39;s better that I remove logback and go with log4j only","body":"The filenet jar requires (org.apache.log4j.Priority) from log4j not logback and I am using log4j1 bridge that route to log4j2 to avoid security issues in log4j1, I guess it&#39;s better that I remove logback and go with log4j only"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653997447,"post_id":72345802,"comment_id":127982282,"body_markdown":"You should not have anything logging related in there, you clearly state in each comment that, while using logback, you are trying to route log4j logging through log4j2. So you ahve those dependencies... You should have no, nothing, zero dependencies for logging. If that doesn&#39;t work something else is pulling in those dependencies and you need to add some exclusions.","body":"You should not have anything logging related in there, you clearly state in each comment that, while using logback, you are trying to route log4j logging through log4j2. So you ahve those dependencies... You should have no, nothing, zero dependencies for logging. If that doesn&#39;t work something else is pulling in those dependencies and you need to add some exclusions."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1660826427,"post_id":72345802,"comment_id":129628087,"body_markdown":"M. Deinum I just rewrote the question content to make the issue more clear","body":"M. Deinum I just rewrote the question content to make the issue more clear"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661373077,"post_id":72345802,"comment_id":129759889,"body_markdown":"@MahmoudSaleh can you check this page for configuration. https://www.ibm.com/support/pages/updates-log4j-1x-ibm-content-navigator-deployments","body":"@MahmoudSaleh can you check this page for configuration. <a href=\"https://www.ibm.com/support/pages/updates-log4j-1x-ibm-content-navigator-deployments\" rel=\"nofollow noreferrer\">ibm.com/support/pages/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661171681,"creation_date":1660864073,"answer_id":73410291,"question_id":72345802,"body_markdown":"According to your actual `pom.xml` file, following the transitive dependencies [`spring-boot-starter-web`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web/2.7.2) and [`spring-boot-starter`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter/2.7.2), you will end using `spring-boot-starter-logging` and its [different dependent libraries](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging/2.7.2), mainly based on `logback` and `slf4j`.\r\n\r\nAs you indicated, the Filenet APIs use Log4j 1.x.\r\n\r\nThe support for that version of Log4j [was removed](https://github.com/spring-projects/spring-boot/issues/11148) with the release of Spring Boot 2.x.\r\n\r\nAs a consequence, by default, the library will not give you support for that logging library.\r\n\r\nThat is the reason why you are facing the `ClassNotFoundException: org.apache.log4j.Priority` error.\r\n\r\nIn my opinion the solution you applied based on the inclusion of the `log4j` dependency itself is not a bad solution. A word of caution though:\r\n- the library has [different vulnerabilities](https://mvnrepository.com/artifact/log4j/log4j/1.2.17).\r\n- it was [declared end-of-life in August of 2015](https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces).\r\n- the solution has the drawback of requiring a different configuration for the library and probably different output artifacts in which the log traces should be written.\r\n\r\nAs an alternative, you could use the [Log4j 1.x bridge provided by Slf4j](https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j/1.7.36):\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou can use the version `1.7.36` although it is managed by [Spring Boot Starter Parent](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent/2.7.2) as well, so you don&#39;t need to provide a specific version for it.\r\n\r\nMaybe there can be some caveats, some functionally used by the Filenet logger not implemented, but at first glance it seems to provide all the [required stuff](https://github.com/qos-ch/slf4j/tree/master/log4j-over-slf4j/src/main/java/org/apache/log4j) used by `com.filenet.apiimpl.util.BaseLogger`.\r\n\r\nIf that&#39;s the case, it will give you a better solution than using the log4j library, for the reasons explained, especially because it will allow you to integrate the Filenet loggers with your existing Spring Boot logging configuration and infrastructure.","title":"ClassNotFoundException: org.apache.log4j.Priority when using Filenet APIs","body":"<p>According to your actual <code>pom.xml</code> file, following the transitive dependencies <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web/2.7.2\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-web</code></a> and <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter/2.7.2\" rel=\"nofollow noreferrer\"><code>spring-boot-starter</code></a>, you will end using <code>spring-boot-starter-logging</code> and its <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-logging/2.7.2\" rel=\"nofollow noreferrer\">different dependent libraries</a>, mainly based on <code>logback</code> and <code>slf4j</code>.</p>\n<p>As you indicated, the Filenet APIs use Log4j 1.x.</p>\n<p>The support for that version of Log4j <a href=\"https://github.com/spring-projects/spring-boot/issues/11148\" rel=\"nofollow noreferrer\">was removed</a> with the release of Spring Boot 2.x.</p>\n<p>As a consequence, by default, the library will not give you support for that logging library.</p>\n<p>That is the reason why you are facing the <code>ClassNotFoundException: org.apache.log4j.Priority</code> error.</p>\n<p>In my opinion the solution you applied based on the inclusion of the <code>log4j</code> dependency itself is not a bad solution. A word of caution though:</p>\n<ul>\n<li>the library has <a href=\"https://mvnrepository.com/artifact/log4j/log4j/1.2.17\" rel=\"nofollow noreferrer\">different vulnerabilities</a>.</li>\n<li>it was <a href=\"https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces\" rel=\"nofollow noreferrer\">declared end-of-life in August of 2015</a>.</li>\n<li>the solution has the drawback of requiring a different configuration for the library and probably different output artifacts in which the log traces should be written.</li>\n</ul>\n<p>As an alternative, you could use the <a href=\"https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j/1.7.36\" rel=\"nofollow noreferrer\">Log4j 1.x bridge provided by Slf4j</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can use the version <code>1.7.36</code> although it is managed by <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent/2.7.2\" rel=\"nofollow noreferrer\">Spring Boot Starter Parent</a> as well, so you don't need to provide a specific version for it.</p>\n<p>Maybe there can be some caveats, some functionally used by the Filenet logger not implemented, but at first glance it seems to provide all the <a href=\"https://github.com/qos-ch/slf4j/tree/master/log4j-over-slf4j/src/main/java/org/apache/log4j\" rel=\"nofollow noreferrer\">required stuff</a> used by <code>com.filenet.apiimpl.util.BaseLogger</code>.</p>\n<p>If that's the case, it will give you a better solution than using the log4j library, for the reasons explained, especially because it will allow you to integrate the Filenet loggers with your existing Spring Boot logging configuration and infrastructure.</p>\n"},{"tags":[],"owner":{"account_id":15197906,"reputation":11,"user_id":10966726,"display_name":"DJC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664778795,"creation_date":1664778795,"answer_id":73931846,"question_id":72345802,"body_markdown":"Adding the following dependencies fixed my problem:\r\n\r\n```\r\nimplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-logging&#39;, version: &#39;2.7.1&#39;\r\nimplementation group: &#39;org.apache.logging.log4j&#39;, name: &#39;log4j-core&#39;, version: &#39;2.17.1&#39;\r\nimplementation group: &#39;org.slf4j&#39;, name: &#39;log4j-over-slf4j&#39;, version: &#39;1.7.36&#39;\r\n```\r\n\r\n","title":"ClassNotFoundException: org.apache.log4j.Priority when using Filenet APIs","body":"<p>Adding the following dependencies fixed my problem:</p>\n<pre><code>implementation group: 'org.springframework.boot', name: 'spring-boot-starter-logging', version: '2.7.1'\nimplementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.17.1'\nimplementation group: 'org.slf4j', name: 'log4j-over-slf4j', version: '1.7.36'\n</code></pre>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73410291,"answer_count":2,"score":3,"last_activity_date":1664778795,"creation_date":1653296225,"question_id":72345802,"body_markdown":"I am using Spring Boot 2.7.2 to create a rest API that communicate with Filenet Content Engine using Filenet APIs and my pom file as follows :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;storage&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;name&gt;storage&lt;/name&gt;\r\n    \t&lt;description&gt;Storage API&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Filenet Jars --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;Jace&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;Jace&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;stax-api&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;xlxpScanner&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;xlxpScanner&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;xlxpScannerUtils&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;xlxpScannerUtils&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- End Of Filenet Jars --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n            &lt;!--\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t--&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;MCI-maven&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://myhost/repository/maven-public/&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \r\n    \t&lt;/repositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThe project compiles and starts up fine, but when trying to execute any filenet API I get a log4j error:\r\n\r\n    ClassNotFoundException: org.apache.log4j.Priority\r\n\r\nThat is because filenet APIs is using log4j1 classes.\r\n\r\nThe class is : `com.filenet.apiimpl.util.BaseLogger`.\r\n\r\nThe class imports are:\r\n\r\n    import com.filenet.api.exception.EngineRuntimeException;\r\n    import com.filenet.api.exception.ErrorLoggingLevel;\r\n    import com.filenet.api.util.UserContext;\r\n    import com.filenet.apiimpl.exception.ExceptionContext;\r\n    import java.util.Enumeration;\r\n    import org.apache.log4j.Category;\r\n    import org.apache.log4j.ConsoleAppender;\r\n    import org.apache.log4j.Level;\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.PatternLayout;\r\n\r\nThe current solution is to add `log4j 1.2.17` in pom file\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen adding this the runtime exception disappears and everything works fine. But I only get the following warning on first time invoking filenet API:\r\n\r\n    log4j:WARN No appenders could be found for logger (filenet_error.api.com.filenet.apiimpl.util.ConfigValueLookup).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    [Perf Log] perflog.dir=null not found, auditor disabled \r\n    [Perf Log] No interval found. Auditor disabled.\r\n\r\nIs there any better solution to this scenario rather than adding old log4j dependency ?","title":"ClassNotFoundException: org.apache.log4j.Priority when using Filenet APIs","body":"<p>I am using Spring Boot 2.7.2 to create a rest API that communicate with Filenet Content Engine using Filenet APIs and my pom file as follows :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;storage&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;storage&lt;/name&gt;\n    &lt;description&gt;Storage API&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Filenet Jars --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;Jace&lt;/groupId&gt;\n            &lt;artifactId&gt;Jace&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;stax-api&lt;/groupId&gt;\n            &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;xlxpScanner&lt;/groupId&gt;\n            &lt;artifactId&gt;xlxpScanner&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;xlxpScannerUtils&lt;/groupId&gt;\n            &lt;artifactId&gt;xlxpScannerUtils&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- End Of Filenet Jars --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;MCI-maven&lt;/id&gt;\n            &lt;url&gt;http://myhost/repository/maven-public/&lt;/url&gt;\n        &lt;/repository&gt;\n\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The project compiles and starts up fine, but when trying to execute any filenet API I get a log4j error:</p>\n<pre><code>ClassNotFoundException: org.apache.log4j.Priority\n</code></pre>\n<p>That is because filenet APIs is using log4j1 classes.</p>\n<p>The class is : <code>com.filenet.apiimpl.util.BaseLogger</code>.</p>\n<p>The class imports are:</p>\n<pre><code>import com.filenet.api.exception.EngineRuntimeException;\nimport com.filenet.api.exception.ErrorLoggingLevel;\nimport com.filenet.api.util.UserContext;\nimport com.filenet.apiimpl.exception.ExceptionContext;\nimport java.util.Enumeration;\nimport org.apache.log4j.Category;\nimport org.apache.log4j.ConsoleAppender;\nimport org.apache.log4j.Level;\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.PatternLayout;\n</code></pre>\n<p>The current solution is to add <code>log4j 1.2.17</code> in pom file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When adding this the runtime exception disappears and everything works fine. But I only get the following warning on first time invoking filenet API:</p>\n<pre><code>log4j:WARN No appenders could be found for logger (filenet_error.api.com.filenet.apiimpl.util.ConfigValueLookup).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n[Perf Log] perflog.dir=null not found, auditor disabled \n[Perf Log] No interval found. Auditor disabled.\n</code></pre>\n<p>Is there any better solution to this scenario rather than adding old log4j dependency ?</p>\n"},{"tags":["java","spring","jpa","criteria-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664466797,"post_id":73891145,"comment_id":130483778,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664434571,"creation_date":1664434571,"answer_id":73891432,"question_id":73891145,"body_markdown":"There are many resources online on this topic.\r\n\r\nExample:\r\n\r\n    CriteriaBuilder cb = em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\r\n    Root&lt;Author&gt; root = cq.from(Author.class);\r\n    Join&lt;Object, Object&gt; book = root.join(Author_.BOOKS, JoinType.LEFT);\r\n    cq.multiselect(root, book);\r\n     \r\n    ParameterExpression&lt;String&gt; pLastName = cb.parameter(String.class);\r\n    cq.where(cb.equal(root.get(Author_.LAST_NAME), pLastName));\r\n     \r\n    TypedQuery&lt;Tuple&gt; q = em.createQuery(cq);\r\n    q.setParameter(pLastName, &quot;Janssen&quot;);\r\n    List&lt;Tuple&gt; authorBooks = q.getResultList();\r\n\r\n\r\n\r\n\r\nReference: https://thorben-janssen.com/hibernate-tip-left-join-fetch-join-criteriaquery/#Defining_a_LEFT_JOIN_or_RIGHT_JOIN_clause","title":"Spring boot jpa specification filter records of child entity from parent entity","body":"<p>There are many resources online on this topic.</p>\n<p>Example:</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\nRoot&lt;Author&gt; root = cq.from(Author.class);\nJoin&lt;Object, Object&gt; book = root.join(Author_.BOOKS, JoinType.LEFT);\ncq.multiselect(root, book);\n \nParameterExpression&lt;String&gt; pLastName = cb.parameter(String.class);\ncq.where(cb.equal(root.get(Author_.LAST_NAME), pLastName));\n \nTypedQuery&lt;Tuple&gt; q = em.createQuery(cq);\nq.setParameter(pLastName, &quot;Janssen&quot;);\nList&lt;Tuple&gt; authorBooks = q.getResultList();\n</code></pre>\n<p>Reference: <a href=\"https://thorben-janssen.com/hibernate-tip-left-join-fetch-join-criteriaquery/#Defining_a_LEFT_JOIN_or_RIGHT_JOIN_clause\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/hibernate-tip-left-join-fetch-join-criteriaquery/#Defining_a_LEFT_JOIN_or_RIGHT_JOIN_clause</a></p>\n"}],"owner":{"account_id":25700049,"reputation":11,"user_id":19460225,"display_name":"Ritesh Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664778423,"creation_date":1664432822,"question_id":73891145,"body_markdown":"I have two entities A and B where A is the parent and B is the child. I want to filter records using JPA specifications like Specification&lt;A&gt;.\r\n\r\nTheir relation is Entity B is having reference to A. I want to apply left join on Entity A using JPA Criteria Builder API. Is it possible to achieve that ?\r\n\r\nHere is my Parent entity class\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id\r\n        private Long parentId;\r\n        private String name;\r\n        private String description;\r\n\r\n        // constructor, getter and setters\r\n    }\r\n\r\nHere is my child entity class\r\n\r\n    @Entity\r\n    public class Child {\r\n        @Id\r\n        private Long childId;\r\n        private String childName;\r\n        private String email;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;parent_id&quot;)\r\n        private Parent parent;\r\n\r\n        // constructor, getter and setters\r\n    }\r\n\r\nI want to achieve something like this below code, just want to filter each record based on the `childName` of the Child entity from Parent Specification.\r\n\r\n    @Component\r\n    public class ParentSpecification {\r\n        public Specification&lt;Parent&gt; getParentSpecification(Map&lt;String, String&gt; filterValues) {\r\n            return (root, query, criteriaBuilder) -&gt; {\r\n                Root&lt;Child&gt; from = query.from(Child.class);\r\n                from.join(&quot;parent&quot;, JoinType.LEFT);\r\n\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                filterValues.forEach((attribute, value) -&gt; {\r\n                    if (attribute.equalsIgnoreCase(&quot;childName&quot;) &amp;&amp; value != null) {\r\n                        predicates.add(criteriaBuilder.like(from.get(&quot;childName&quot;), &quot;%&quot; + value + &quot;%&quot;));\r\n                    }\r\n                });\r\n                return query.where(criteriaBuilder.and(predicates.toArray(new Predicate[0]))).getRestriction();\r\n            };\r\n        }\r\n    }","title":"Spring boot jpa specification filter records of child entity from parent entity","body":"<p>I have two entities A and B where A is the parent and B is the child. I want to filter records using JPA specifications like Specification.</p>\n<p>Their relation is Entity B is having reference to A. I want to apply left join on Entity A using JPA Criteria Builder API. Is it possible to achieve that ?</p>\n<p>Here is my Parent entity class</p>\n<pre><code>@Entity\npublic class Parent {\n    @Id\n    private Long parentId;\n    private String name;\n    private String description;\n\n    // constructor, getter and setters\n}\n</code></pre>\n<p>Here is my child entity class</p>\n<pre><code>@Entity\npublic class Child {\n    @Id\n    private Long childId;\n    private String childName;\n    private String email;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_id&quot;)\n    private Parent parent;\n\n    // constructor, getter and setters\n}\n</code></pre>\n<p>I want to achieve something like this below code, just want to filter each record based on the <code>childName</code> of the Child entity from Parent Specification.</p>\n<pre><code>@Component\npublic class ParentSpecification {\n    public Specification&lt;Parent&gt; getParentSpecification(Map&lt;String, String&gt; filterValues) {\n        return (root, query, criteriaBuilder) -&gt; {\n            Root&lt;Child&gt; from = query.from(Child.class);\n            from.join(&quot;parent&quot;, JoinType.LEFT);\n\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            filterValues.forEach((attribute, value) -&gt; {\n                if (attribute.equalsIgnoreCase(&quot;childName&quot;) &amp;&amp; value != null) {\n                    predicates.add(criteriaBuilder.like(from.get(&quot;childName&quot;), &quot;%&quot; + value + &quot;%&quot;));\n                }\n            });\n            return query.where(criteriaBuilder.and(predicates.toArray(new Predicate[0]))).getRestriction();\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","mobile","mobile-application"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1664505247,"post_id":73903426,"comment_id":130492496,"body_markdown":"What is the problem? &quot;&quot; is no number is the message. An empty string is no number.","body":"What is the problem? &quot;&quot; is no number is the message. An empty string is no number."},{"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"score":0,"creation_date":1664505324,"post_id":73903426,"comment_id":130492502,"body_markdown":"@blackapps It crashes my app because the number is like string `&quot;&quot;` in the first run","body":"@blackapps It crashes my app because the number is like string <code>&quot;&quot;</code> in the first run"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1664505572,"post_id":73903426,"comment_id":130492542,"body_markdown":"Check if the input is empty string, if that&#39;s the case, return","body":"Check if the input is empty string, if that&#39;s the case, return"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1664508770,"post_id":73903426,"comment_id":130492935,"body_markdown":"Your app does not have to crash if you catch that exception.","body":"Your app does not have to crash if you catch that exception."},{"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"score":0,"creation_date":1664776485,"post_id":73903426,"comment_id":130540711,"body_markdown":"@blackapps I tried using catch but it will stop eventually\nI put an updated situation above can you see what&#39;s the problem? need help","body":"@blackapps I tried using catch but it will stop eventually I put an updated situation above can you see what&#39;s the problem? need help"}],"answers":[{"tags":[],"owner":{"account_id":25014512,"reputation":26,"user_id":18873721,"display_name":"Hai Luong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664521116,"creation_date":1664521116,"answer_id":73905043,"question_id":73903426,"body_markdown":"You have to check if onTextChanged gives you an empty string or not before calling parseInt.\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int i, int i1, int i2) {\r\n            if (s.toString().isEmpty()) { // &lt;----\r\n                tilNmaAmount.setError(null);\r\n            } else { // &lt;----\r\n                int number = Integer.parseInt(s.toString());\r\n    \r\n                if (number &gt;=100){\r\n                    tilNmaReason.setVisibility(View.VISIBLE);\r\n                }\r\n                else{\r\n                    tilNmaAmount.setError(null);\r\n                }\r\n            }\r\n        }","title":"Android : Convert CharSequence to Int in Java","body":"<p>You have to check if onTextChanged gives you an empty string or not before calling parseInt.</p>\n<pre><code>    @Override\n    public void onTextChanged(CharSequence s, int i, int i1, int i2) {\n        if (s.toString().isEmpty()) { // &lt;----\n            tilNmaAmount.setError(null);\n        } else { // &lt;----\n            int number = Integer.parseInt(s.toString());\n\n            if (number &gt;=100){\n                tilNmaReason.setVisibility(View.VISIBLE);\n            }\n            else{\n                tilNmaAmount.setError(null);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26456987,"reputation":24,"user_id":20099460,"display_name":"Panda Bash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1664778171,"creation_date":1664776764,"answer_id":73931576,"question_id":73903426,"body_markdown":"Please change the code inside onTextChanged call back\r\n\r\n\r\n                  if (!TextUtils.isEmpty(s.toString())) {\r\n                         Long number =    Long.parseLong(s.toString());\r\n\r\n                    if (number &gt;= 100) {\r\n                        tilNmaReason.setVisibility(View.VISIBLE);\r\n                    } else {\r\n                        tilNmaAmount.setError(null);\r\n                    }\r\n\r\n                }else{\r\n                    tilNmaAmount.setError(null);\r\n                }","title":"Android : Convert CharSequence to Int in Java","body":"<p>Please change the code inside onTextChanged call back</p>\n<pre><code>              if (!TextUtils.isEmpty(s.toString())) {\n                     Long number =    Long.parseLong(s.toString());\n\n                if (number &gt;= 100) {\n                    tilNmaReason.setVisibility(View.VISIBLE);\n                } else {\n                    tilNmaAmount.setError(null);\n                }\n\n            }else{\n                tilNmaAmount.setError(null);\n            }\n</code></pre>\n"}],"owner":{"account_id":25812753,"reputation":305,"user_id":19553193,"display_name":"marivic valdehueza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73931576,"answer_count":2,"score":-1,"last_activity_date":1664778171,"creation_date":1664505087,"question_id":73903426,"body_markdown":"I&#39;m confused on how can I convert `CharSequence` to int , I just want to set visibility of textfield when the inputted amount of `edt_nma_amount` `is &gt;=100`\r\n\r\n&gt; What I tried to convert it\r\n\r\n    int number = Integer.parseInt(s.toString());\r\n\r\n&gt; but it returns me an error  It crashes my app because the number is like string &quot;&quot;\r\n\r\n    java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\r\n**java**\r\n\r\n     public void nmaAmount(){\r\n        edt_nma_amount.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            }\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int i, int i1, int i2) {\r\n\r\n                int number = Integer.parseInt(s.toString());\r\n\r\n                if (number &gt;=100){\r\n                    tilNmaReason.setVisibility(View.VISIBLE);\r\n                }\r\n                else{\r\n                    tilNmaAmount.setError(null);\r\n                }\r\n\r\n            }\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n**Updated**\r\n\r\nI have this data \r\n\r\n      String amt = edt_nma_amount.getText().toString();\r\n      int numbers=Integer.valueOf(amt);\r\n\r\n**but it returns me an error** AT `int numbers=Integer.valueOf(amt);`\r\nI think it is `NumberFormatException`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OtKg2.png","title":"Android : Convert CharSequence to Int in Java","body":"<p>I'm confused on how can I convert <code>CharSequence</code> to int , I just want to set visibility of textfield when the inputted amount of <code>edt_nma_amount</code> <code>is &gt;=100</code></p>\n<blockquote>\n<p>What I tried to convert it</p>\n</blockquote>\n<pre><code>int number = Integer.parseInt(s.toString());\n</code></pre>\n<blockquote>\n<p>but it returns me an error  It crashes my app because the number is like string &quot;&quot;</p>\n</blockquote>\n<pre><code>java.lang.NumberFormatException: For input string: &quot;&quot;\n</code></pre>\n<p><strong>java</strong></p>\n<pre><code> public void nmaAmount(){\n    edt_nma_amount.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n        @Override\n        public void onTextChanged(CharSequence s, int i, int i1, int i2) {\n\n            int number = Integer.parseInt(s.toString());\n\n            if (number &gt;=100){\n                tilNmaReason.setVisibility(View.VISIBLE);\n            }\n            else{\n                tilNmaAmount.setError(null);\n            }\n\n        }\n        @Override\n        public void afterTextChanged(Editable editable) {\n\n        }\n    });\n}\n</code></pre>\n<p><strong>Updated</strong></p>\n<p>I have this data</p>\n<pre><code>  String amt = edt_nma_amount.getText().toString();\n  int numbers=Integer.valueOf(amt);\n</code></pre>\n<p><strong>but it returns me an error</strong> AT <code>int numbers=Integer.valueOf(amt);</code>\nI think it is <code>NumberFormatException</code></p>\n<p><a href=\"https://i.stack.imgur.com/OtKg2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OtKg2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","npm-install","vaadin14"],"answers":[{"tags":[],"owner":{"account_id":4059918,"reputation":1722,"user_id":3336733,"display_name":"Artur Signell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664777927,"creation_date":1664777927,"answer_id":73931724,"question_id":73926215,"body_markdown":"With `npm install` the first thing you can try is... wait. Sometimes it can be frustratingly slow. I have seen 10 minutes in extreme cases. It is especially slow if you have deleted `package-lock.json` or upgraded a lot of dependencies (like when you upgrade the Vaadin version).\r\n\r\nSometimes you can fix that by manually running `npm install --prefer-offline` once which will make npm spend less time looking for things to update and instead focus on installing the needed packages.\r\n\r\nOverall if you run `npm install` manually once, you will better see progress and what is going on. You can even add the `--verbose` flag but that will probably give you more information than what you want.","title":"Starting Spring Boot application (Vaadin) stuck at running &#39;npm install&#39;","body":"<p>With <code>npm install</code> the first thing you can try is... wait. Sometimes it can be frustratingly slow. I have seen 10 minutes in extreme cases. It is especially slow if you have deleted <code>package-lock.json</code> or upgraded a lot of dependencies (like when you upgrade the Vaadin version).</p>\n<p>Sometimes you can fix that by manually running <code>npm install --prefer-offline</code> once which will make npm spend less time looking for things to update and instead focus on installing the needed packages.</p>\n<p>Overall if you run <code>npm install</code> manually once, you will better see progress and what is going on. You can even add the <code>--verbose</code> flag but that will probably give you more information than what you want.</p>\n"}],"owner":{"account_id":22510881,"reputation":110,"user_id":16705849,"display_name":"Lukas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73931724,"answer_count":1,"score":1,"last_activity_date":1664777927,"creation_date":1664717371,"question_id":73926215,"body_markdown":"My Vaadin application used to work fine, but now when I want to start it the application is stuck at running npm install:\r\n&gt;2022-10-02 15:24:49.482  INFO 27004 --- [           main] dev-updater                              : Running `npm install` to resolve and optionally download frontend dependencies. This may take a moment, please stand by...\r\n\r\nAnd I cant find a way to fix that.\r\n\r\nThanks in advance!","title":"Starting Spring Boot application (Vaadin) stuck at running &#39;npm install&#39;","body":"<p>My Vaadin application used to work fine, but now when I want to start it the application is stuck at running npm install:</p>\n<blockquote>\n<p>2022-10-02 15:24:49.482  INFO 27004 --- [           main] dev-updater                              : Running <code>npm install</code> to resolve and optionally download frontend dependencies. This may take a moment, please stand by...</p>\n</blockquote>\n<p>And I cant find a way to fix that.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","timeout"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1548241225,"creation_date":1303210526,"answer_id":5715259,"question_id":5715235,"body_markdown":"Yes, but its generally a very bad idea to force another thread to interrupt on a random line of code. You would only do this if you intend to shutdown the process.\r\n\r\nWhat you can do is to use `Thread.interrupt()` for a task after a certain amount of time.  However, unless the code checks for this it won&#39;t work. An ExecutorService can make this easier with `Future.cancel(true)`\r\n\r\nIts much better for the code to time itself and stop when it needs to.","title":"Java: set timeout on a certain block of code?","body":"<p>Yes, but its generally a very bad idea to force another thread to interrupt on a random line of code. You would only do this if you intend to shutdown the process.</p>\n\n<p>What you can do is to use <code>Thread.interrupt()</code> for a task after a certain amount of time.  However, unless the code checks for this it won't work. An ExecutorService can make this easier with <code>Future.cancel(true)</code></p>\n\n<p>Its much better for the code to time itself and stop when it needs to.</p>\n"},{"tags":[],"owner":{"account_id":111824,"reputation":4238,"user_id":295199,"accept_rate":100,"display_name":"HXCaine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303210551,"creation_date":1303210551,"answer_id":5715266,"question_id":5715235,"body_markdown":"There is a hacky way to do it.\r\n\r\nSet some boolean field to indicate whether the work was completed. Then before the block of code, set a timer to run a piece of code after your timeout. The timer will check if the block of code had finished executing, and if not, throw an exception. Otherwise it will do nothing.\r\n\r\nThe end of the block of code should, of course, set the field to true to indicate the work was done.","title":"Java: set timeout on a certain block of code?","body":"<p>There is a hacky way to do it.</p>\n\n<p>Set some boolean field to indicate whether the work was completed. Then before the block of code, set a timer to run a piece of code after your timeout. The timer will check if the block of code had finished executing, and if not, throw an exception. Otherwise it will do nothing.</p>\n\n<p>The end of the block of code should, of course, set the field to true to indicate the work was done.</p>\n"},{"tags":[],"owner":{"account_id":115714,"reputation":8890,"user_id":303698,"accept_rate":75,"display_name":"laher"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451974601,"creation_date":1303210658,"answer_id":5715284,"question_id":5715235,"body_markdown":"EDIT: Peter Lawrey is completely right: it&#39;s not as simple as interrupting a thread (my original suggestion), and Executors &amp; Callables are very useful ...\r\n\r\nRather than interrupting threads, you could set a variable on the Callable once the timeout is reached. The callable should check this variable at appropriate points in task execution, to know when to stop.\r\n\r\nCallables return Futures, with which you can specify a timeout when you try to &#39;get&#39; the future&#39;s result. Something like this:\r\n\r\n    try {\r\n       future.get(timeoutSeconds, TimeUnit.SECONDS)\r\n    } catch(InterruptedException e) {\r\n       myCallable.setStopMeAtAppropriatePlace(true);\r\n    }\r\n    \r\n    \r\nSee Future.get, Executors, and Callable ...\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29","title":"Java: set timeout on a certain block of code?","body":"<p>EDIT: Peter Lawrey is completely right: it's not as simple as interrupting a thread (my original suggestion), and Executors &amp; Callables are very useful ...</p>\n\n<p>Rather than interrupting threads, you could set a variable on the Callable once the timeout is reached. The callable should check this variable at appropriate points in task execution, to know when to stop.</p>\n\n<p>Callables return Futures, with which you can specify a timeout when you try to 'get' the future's result. Something like this:</p>\n\n<pre><code>try {\n   future.get(timeoutSeconds, TimeUnit.SECONDS)\n} catch(InterruptedException e) {\n   myCallable.setStopMeAtAppropriatePlace(true);\n}\n</code></pre>\n\n<p>See Future.get, Executors, and Callable ...</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html#get-long-java.util.concurrent.TimeUnit-</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool%28int%29</a></p>\n"},{"tags":[],"owner":{"account_id":346631,"reputation":3598,"user_id":680275,"accept_rate":88,"display_name":"Farzin Zaker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1380895796,"creation_date":1303210662,"answer_id":5715286,"question_id":5715235,"body_markdown":"I can suggest two options.\r\n\r\n1. Within the method, assuming it is looping and not waiting for an external event, add a local field and test the time each time around the loop.\r\n\r\n        void method() {\r\n        \tlong endTimeMillis = System.currentTimeMillis() + 10000;\r\n        \twhile (true) {\r\n        \t\t// method logic\r\n        \t\tif (System.currentTimeMillis() &gt; endTimeMillis) {\r\n        \t\t\t// do some clean-up\r\n        \t\t\treturn;\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\n2. Run the method in a thread, and have the caller count to 10 seconds.\r\n\r\n        Thread thread = new Thread(new Runnable() {\r\n        \t\t@Override\r\n        \t\tpublic void run() {\r\n        \t\t\tmethod();\r\n        \t\t}\r\n    \t});\r\n    \tthread.start();\r\n    \tlong endTimeMillis = System.currentTimeMillis() + 10000;\r\n    \twhile (thread.isAlive()) {\r\n    \t\tif (System.currentTimeMillis() &gt; endTimeMillis) {\r\n    \t\t\t// set an error flag\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(500);\r\n    \t\t}\r\n    \t\tcatch (InterruptedException t) {}\r\n    \t}\r\n\r\nThe drawback to this approach is that method() cannot return a value directly, it must update an instance field to return its value.","title":"Java: set timeout on a certain block of code?","body":"<p>I can suggest two options.</p>\n\n<ol>\n<li><p>Within the method, assuming it is looping and not waiting for an external event, add a local field and test the time each time around the loop.</p>\n\n<pre><code>void method() {\n    long endTimeMillis = System.currentTimeMillis() + 10000;\n    while (true) {\n        // method logic\n        if (System.currentTimeMillis() &gt; endTimeMillis) {\n            // do some clean-up\n            return;\n        }\n    }\n}\n</code></pre></li>\n<li><p>Run the method in a thread, and have the caller count to 10 seconds.</p>\n\n<pre><code>Thread thread = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            method();\n        }\n});\nthread.start();\nlong endTimeMillis = System.currentTimeMillis() + 10000;\nwhile (thread.isAlive()) {\n    if (System.currentTimeMillis() &gt; endTimeMillis) {\n        // set an error flag\n        break;\n    }\n    try {\n        Thread.sleep(500);\n    }\n    catch (InterruptedException t) {}\n}\n</code></pre></li>\n</ol>\n\n<p>The drawback to this approach is that method() cannot return a value directly, it must update an instance field to return its value.</p>\n"},{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1644244595,"creation_date":1303211088,"answer_id":5715367,"question_id":5715235,"body_markdown":"If it is test code you want to time, then you can use the `time` attribute:\r\n\r\n    @Test(timeout = 1000)  \r\n    public void shouldTakeASecondOrLess()\r\n    {\r\n    }\r\n\r\nIf it is production code, there is no simple mechanism, and which solution you use depends upon whether you can alter the code to be timed or not.\r\n\r\nIf you can change the code being timed, then a simple approach is is to have your timed code remember it&#39;s start time, and periodically the current time against this. E.g.\r\n\r\n    long startTime = System.currentTimeMillis();\r\n    // .. do stuff ..\r\n    long elapsed = System.currentTimeMillis()-startTime;\r\n    if (elapsed&gt;timeout)\r\n       throw new RuntimeException(&quot;tiomeout&quot;);\r\n\r\nIf the code itself cannot check for timeout, you can execute the code on another thread, and wait for completion, or timeout.\r\n\r\n        Callable&lt;ResultType&gt; run = new Callable&lt;ResultType&gt;()\r\n        {\r\n            @Override\r\n            public ResultType call() throws Exception\r\n            {\r\n                // your code to be timed\r\n            }\r\n        };\r\n\r\n        RunnableFuture&lt;ResultType&gt; future = new FutureTask&lt;&gt;(run);\r\n        ExecutorService service = Executors.newSingleThreadExecutor();\r\n        service.execute(future);\r\n        ResultType result = null;\r\n        try\r\n        {\r\n            result = future.get(1, TimeUnit.SECONDS);    // wait 1 second\r\n        }\r\n        catch (TimeoutException ex)\r\n        {\r\n            // timed out. Try to stop the code if possible.\r\n            future.cancel(true);\r\n        }\r\n        service.shutdown();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java: set timeout on a certain block of code?","body":"<p>If it is test code you want to time, then you can use the <code>time</code> attribute:</p>\n<pre><code>@Test(timeout = 1000)  \npublic void shouldTakeASecondOrLess()\n{\n}\n</code></pre>\n<p>If it is production code, there is no simple mechanism, and which solution you use depends upon whether you can alter the code to be timed or not.</p>\n<p>If you can change the code being timed, then a simple approach is is to have your timed code remember it's start time, and periodically the current time against this. E.g.</p>\n<pre><code>long startTime = System.currentTimeMillis();\n// .. do stuff ..\nlong elapsed = System.currentTimeMillis()-startTime;\nif (elapsed&gt;timeout)\n   throw new RuntimeException(&quot;tiomeout&quot;);\n</code></pre>\n<p>If the code itself cannot check for timeout, you can execute the code on another thread, and wait for completion, or timeout.</p>\n<pre><code>    Callable&lt;ResultType&gt; run = new Callable&lt;ResultType&gt;()\n    {\n        @Override\n        public ResultType call() throws Exception\n        {\n            // your code to be timed\n        }\n    };\n\n    RunnableFuture&lt;ResultType&gt; future = new FutureTask&lt;&gt;(run);\n    ExecutorService service = Executors.newSingleThreadExecutor();\n    service.execute(future);\n    ResultType result = null;\n    try\n    {\n        result = future.get(1, TimeUnit.SECONDS);    // wait 1 second\n    }\n    catch (TimeoutException ex)\n    {\n        // timed out. Try to stop the code if possible.\n        future.cancel(true);\n    }\n    service.shutdown();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2424668,"reputation":561,"user_id":2116890,"display_name":"user2116890"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1418656541,"creation_date":1361994228,"answer_id":15120935,"question_id":5715235,"body_markdown":"Here&#39;s the simplest way that I know of to do this:\r\n\r\n    final Runnable stuffToDo = new Thread() {\r\n      @Override \r\n      public void run() { \r\n        /* Do stuff here. */ \r\n      }\r\n    };\r\n    \r\n    final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    final Future future = executor.submit(stuffToDo);\r\n    executor.shutdown(); // This does not cancel the already-scheduled task.\r\n    \r\n    try { \r\n      future.get(5, TimeUnit.MINUTES); \r\n    }\r\n    catch (InterruptedException ie) { \r\n      /* Handle the interruption. Or ignore it. */ \r\n    }\r\n    catch (ExecutionException ee) { \r\n      /* Handle the error. Or ignore it. */ \r\n    }\r\n    catch (TimeoutException te) { \r\n      /* Handle the timeout. Or ignore it. */ \r\n    }\r\n    if (!executor.isTerminated())\r\n        executor.shutdownNow(); // If you want to stop the code that hasn&#39;t finished.\r\n\r\nAlternatively, you can create a TimeLimitedCodeBlock class to wrap this functionality, and then you can use it wherever you need it as follows:\r\n\r\n    new TimeLimitedCodeBlock(5, TimeUnit.MINUTES) { @Override public void codeBlock() {\r\n        // Do stuff here.\r\n    }}.run();\r\n\r\n","title":"Java: set timeout on a certain block of code?","body":"<p>Here's the simplest way that I know of to do this:</p>\n\n<pre><code>final Runnable stuffToDo = new Thread() {\n  @Override \n  public void run() { \n    /* Do stuff here. */ \n  }\n};\n\nfinal ExecutorService executor = Executors.newSingleThreadExecutor();\nfinal Future future = executor.submit(stuffToDo);\nexecutor.shutdown(); // This does not cancel the already-scheduled task.\n\ntry { \n  future.get(5, TimeUnit.MINUTES); \n}\ncatch (InterruptedException ie) { \n  /* Handle the interruption. Or ignore it. */ \n}\ncatch (ExecutionException ee) { \n  /* Handle the error. Or ignore it. */ \n}\ncatch (TimeoutException te) { \n  /* Handle the timeout. Or ignore it. */ \n}\nif (!executor.isTerminated())\n    executor.shutdownNow(); // If you want to stop the code that hasn't finished.\n</code></pre>\n\n<p>Alternatively, you can create a TimeLimitedCodeBlock class to wrap this functionality, and then you can use it wherever you need it as follows:</p>\n\n<pre><code>new TimeLimitedCodeBlock(5, TimeUnit.MINUTES) { @Override public void codeBlock() {\n    // Do stuff here.\n}}.run();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1471723425,"creation_date":1380895898,"answer_id":19183452,"question_id":5715235,"body_markdown":"I compiled some of the other answers into a single utility method:\r\n\r\n    public class TimeLimitedCodeBlock {\r\n    \r\n      public static void runWithTimeout(final Runnable runnable, long timeout, TimeUnit timeUnit) throws Exception {\r\n        runWithTimeout(new Callable&lt;Object&gt;() {\r\n          @Override\r\n          public Object call() throws Exception {\r\n            runnable.run();\r\n            return null;\r\n          }\r\n        }, timeout, timeUnit);\r\n      }\r\n    \r\n      public static &lt;T&gt; T runWithTimeout(Callable&lt;T&gt; callable, long timeout, TimeUnit timeUnit) throws Exception {\r\n        final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        final Future&lt;T&gt; future = executor.submit(callable);\r\n        executor.shutdown(); // This does not cancel the already-scheduled task.\r\n        try {\r\n          return future.get(timeout, timeUnit);\r\n        }\r\n        catch (TimeoutException e) {\r\n          //remove this if you do not want to cancel the job in progress\r\n          //or set the argument to &#39;false&#39; if you do not want to interrupt the thread\r\n          future.cancel(true);\r\n          throw e;\r\n        }\r\n        catch (ExecutionException e) {\r\n          //unwrap the root cause\r\n          Throwable t = e.getCause();\r\n          if (t instanceof Error) {\r\n            throw (Error) t;\r\n          } else if (t instanceof Exception) {\r\n            throw (Exception) t;\r\n          } else {\r\n            throw new IllegalStateException(t);\r\n          }\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nSample code making use of this utility method:\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        final long startTime = System.currentTimeMillis();\r\n        log(startTime, &quot;calling runWithTimeout!&quot;);\r\n        try {\r\n          TimeLimitedCodeBlock.runWithTimeout(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n              try {\r\n                log(startTime, &quot;starting sleep!&quot;);\r\n                Thread.sleep(10000);\r\n                log(startTime, &quot;woke up!&quot;);\r\n              }\r\n              catch (InterruptedException e) {\r\n                log(startTime, &quot;was interrupted!&quot;);\r\n              }\r\n            }\r\n          }, 5, TimeUnit.SECONDS);\r\n        }\r\n        catch (TimeoutException e) {\r\n          log(startTime, &quot;got timeout!&quot;);\r\n        }\r\n        log(startTime, &quot;end of main method!&quot;);\r\n      }\r\n    \r\n      private static void log(long startTime, String msg) {\r\n        long elapsedSeconds = (System.currentTimeMillis() - startTime);\r\n        System.out.format(&quot;%1$5sms [%2$16s] %3$s\\n&quot;, elapsedSeconds, Thread.currentThread().getName(), msg);\r\n      }\r\n\r\n\r\nOutput from running the sample code on my machine:\r\n\r\n        0ms [            main] calling runWithTimeout!\r\n       13ms [ pool-1-thread-1] starting sleep!\r\n     5015ms [            main] got timeout!\r\n     5016ms [            main] end of main method!\r\n     5015ms [ pool-1-thread-1] was interrupted!\r\n\r\n","title":"Java: set timeout on a certain block of code?","body":"<p>I compiled some of the other answers into a single utility method:</p>\n\n<pre><code>public class TimeLimitedCodeBlock {\n\n  public static void runWithTimeout(final Runnable runnable, long timeout, TimeUnit timeUnit) throws Exception {\n    runWithTimeout(new Callable&lt;Object&gt;() {\n      @Override\n      public Object call() throws Exception {\n        runnable.run();\n        return null;\n      }\n    }, timeout, timeUnit);\n  }\n\n  public static &lt;T&gt; T runWithTimeout(Callable&lt;T&gt; callable, long timeout, TimeUnit timeUnit) throws Exception {\n    final ExecutorService executor = Executors.newSingleThreadExecutor();\n    final Future&lt;T&gt; future = executor.submit(callable);\n    executor.shutdown(); // This does not cancel the already-scheduled task.\n    try {\n      return future.get(timeout, timeUnit);\n    }\n    catch (TimeoutException e) {\n      //remove this if you do not want to cancel the job in progress\n      //or set the argument to 'false' if you do not want to interrupt the thread\n      future.cancel(true);\n      throw e;\n    }\n    catch (ExecutionException e) {\n      //unwrap the root cause\n      Throwable t = e.getCause();\n      if (t instanceof Error) {\n        throw (Error) t;\n      } else if (t instanceof Exception) {\n        throw (Exception) t;\n      } else {\n        throw new IllegalStateException(t);\n      }\n    }\n  }\n\n}\n</code></pre>\n\n<p>Sample code making use of this utility method:</p>\n\n<pre><code>  public static void main(String[] args) throws Exception {\n    final long startTime = System.currentTimeMillis();\n    log(startTime, \"calling runWithTimeout!\");\n    try {\n      TimeLimitedCodeBlock.runWithTimeout(new Runnable() {\n        @Override\n        public void run() {\n          try {\n            log(startTime, \"starting sleep!\");\n            Thread.sleep(10000);\n            log(startTime, \"woke up!\");\n          }\n          catch (InterruptedException e) {\n            log(startTime, \"was interrupted!\");\n          }\n        }\n      }, 5, TimeUnit.SECONDS);\n    }\n    catch (TimeoutException e) {\n      log(startTime, \"got timeout!\");\n    }\n    log(startTime, \"end of main method!\");\n  }\n\n  private static void log(long startTime, String msg) {\n    long elapsedSeconds = (System.currentTimeMillis() - startTime);\n    System.out.format(\"%1$5sms [%2$16s] %3$s\\n\", elapsedSeconds, Thread.currentThread().getName(), msg);\n  }\n</code></pre>\n\n<p>Output from running the sample code on my machine:</p>\n\n<pre><code>    0ms [            main] calling runWithTimeout!\n   13ms [ pool-1-thread-1] starting sleep!\n 5015ms [            main] got timeout!\n 5016ms [            main] end of main method!\n 5015ms [ pool-1-thread-1] was interrupted!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7392032,"reputation":31,"user_id":5625149,"display_name":"Reuben Varma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555914736,"creation_date":1448966466,"answer_id":34018359,"question_id":5715235,"body_markdown":"Instead of having the task in the new thread and the timer in the main thread, have the timer in the new thread and the task in the main thread:\r\n    \r\n\r\n    public static class TimeOut implements Runnable{\r\n        public void run() {\r\n            Thread.sleep(10000);\r\n            if(taskComplete ==false) {\r\n                System.out.println(&quot;Timed Out&quot;);\r\n                return;\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    public static boolean taskComplete = false;\r\n    public static void main(String[] args) {\r\n        TimeOut timeOut = new TimeOut();\r\n        Thread timeOutThread = new Thread(timeOut);\r\n        timeOutThread.start();\r\n        //task starts here\r\n        //task completed\r\n        taskComplete =true;\r\n        while(true) {//do all other stuff }\r\n    }","title":"Java: set timeout on a certain block of code?","body":"<p>Instead of having the task in the new thread and the timer in the main thread, have the timer in the new thread and the task in the main thread:</p>\n\n<pre><code>public static class TimeOut implements Runnable{\n    public void run() {\n        Thread.sleep(10000);\n        if(taskComplete ==false) {\n            System.out.println(\"Timed Out\");\n            return;\n        }\n        else {\n            return;\n        }\n    }\n}\npublic static boolean taskComplete = false;\npublic static void main(String[] args) {\n    TimeOut timeOut = new TimeOut();\n    Thread timeOutThread = new Thread(timeOut);\n    timeOutThread.start();\n    //task starts here\n    //task completed\n    taskComplete =true;\n    while(true) {//do all other stuff }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5510900,"reputation":99,"user_id":4377200,"display_name":"Niroshan Abeywickrama"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501739625,"creation_date":1501738431,"answer_id":45475634,"question_id":5715235,"body_markdown":"I created a very simple solution without using any frameworks or APIs. This looks more elegant and understandable. The class is called TimeoutBlock.\r\n\r\n    public class TimeoutBlock {\r\n    \r\n   \t private final long timeoutMilliSeconds;\r\n\t\tprivate long timeoutInteval=100;\r\n\t\t\r\n\t\tpublic TimeoutBlock(long timeoutMilliSeconds){\r\n\t\t\tthis.timeoutMilliSeconds=timeoutMilliSeconds;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void addBlock(Runnable runnable) throws Throwable{\r\n\t\t\tlong collectIntervals=0;\r\n\t\t\tThread timeoutWorker=new Thread(runnable);\r\n\t\t\ttimeoutWorker.start();\r\n\t\t\tdo{ \r\n\t\t\t\tif(collectIntervals&gt;=this.timeoutMilliSeconds){\r\n\t\t\t\t\ttimeoutWorker.stop();\r\n\t\t\t\t\tthrow new Exception(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;****&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Execution Time Exceeded In &quot;+timeoutMilliSeconds+&quot; Milli Seconds. Thread Block Terminated.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcollectIntervals+=timeoutInteval;           \r\n\t\t\t\tThread.sleep(timeoutInteval);\r\n\t\t\t\t\r\n\t\t\t}while(timeoutWorker.isAlive());\r\n\t\t\tSystem.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;####&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Executed Within &quot;+collectIntervals+&quot; Milli Seconds.&quot;);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the timeoutInteval\r\n\t\t */\r\n\t\tpublic long getTimeoutInteval() {\r\n\t\t\treturn timeoutInteval;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param timeoutInteval the timeoutInteval to set\r\n\t\t */\r\n\t\tpublic void setTimeoutInteval(long timeoutInteval) {\r\n\t\t\tthis.timeoutInteval = timeoutInteval;\r\n\t\t}\r\n\t}\r\n\r\n    \r\n\r\nexample :\r\n\r\n    try {\r\n            TimeoutBlock timeoutBlock = new TimeoutBlock(10 * 60 * 1000);//set timeout in milliseconds\r\n            Runnable block=new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    //TO DO write block of code to execute\r\n                }\r\n            };\r\n            \r\n            timeoutBlock.addBlock(block);// execute the runnable block \r\n            \r\n        } catch (Throwable e) {\r\n            //catch the exception here . Which is block didn&#39;t execute within the time limit\r\n        }\r\n\r\nThis was so much useful for me when i had to connect to a FTP account. Then download and upload stuff. sometimes FTP connection hangs or totally breaks. This caused whole system to go down. and i needed a way to detect it and prevent it from happening . So i created this and used it. Works pretty well.","title":"Java: set timeout on a certain block of code?","body":"<p>I created a very simple solution without using any frameworks or APIs. This looks more elegant and understandable. The class is called TimeoutBlock.</p>\n\n<pre><code>public class TimeoutBlock {\n\n private final long timeoutMilliSeconds;\n    private long timeoutInteval=100;\n\n    public TimeoutBlock(long timeoutMilliSeconds){\n        this.timeoutMilliSeconds=timeoutMilliSeconds;\n    }\n\n    public void addBlock(Runnable runnable) throws Throwable{\n        long collectIntervals=0;\n        Thread timeoutWorker=new Thread(runnable);\n        timeoutWorker.start();\n        do{ \n            if(collectIntervals&gt;=this.timeoutMilliSeconds){\n                timeoutWorker.stop();\n                throw new Exception(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;****&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Execution Time Exceeded In \"+timeoutMilliSeconds+\" Milli Seconds. Thread Block Terminated.\");\n            }\n            collectIntervals+=timeoutInteval;           \n            Thread.sleep(timeoutInteval);\n\n        }while(timeoutWorker.isAlive());\n        System.out.println(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;####&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Executed Within \"+collectIntervals+\" Milli Seconds.\");\n    }\n\n    /**\n     * @return the timeoutInteval\n     */\n    public long getTimeoutInteval() {\n        return timeoutInteval;\n    }\n\n    /**\n     * @param timeoutInteval the timeoutInteval to set\n     */\n    public void setTimeoutInteval(long timeoutInteval) {\n        this.timeoutInteval = timeoutInteval;\n    }\n}\n</code></pre>\n\n<p>example :</p>\n\n<pre><code>try {\n        TimeoutBlock timeoutBlock = new TimeoutBlock(10 * 60 * 1000);//set timeout in milliseconds\n        Runnable block=new Runnable() {\n\n            @Override\n            public void run() {\n                //TO DO write block of code to execute\n            }\n        };\n\n        timeoutBlock.addBlock(block);// execute the runnable block \n\n    } catch (Throwable e) {\n        //catch the exception here . Which is block didn't execute within the time limit\n    }\n</code></pre>\n\n<p>This was so much useful for me when i had to connect to a FTP account. Then download and upload stuff. sometimes FTP connection hangs or totally breaks. This caused whole system to go down. and i needed a way to detect it and prevent it from happening . So i created this and used it. Works pretty well.</p>\n"},{"tags":[],"owner":{"account_id":1890456,"reputation":2995,"user_id":1708697,"display_name":"Tom Chamberlain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541777063,"creation_date":1541776561,"answer_id":53228433,"question_id":5715235,"body_markdown":"If you want a CompletableFuture way you could have a method like\r\n\r\n    public MyResponseObject retrieveDataFromEndpoint() {\r\n\r\n       CompletableFuture&lt;MyResponseObject&gt; endpointCall \r\n           = CompletableFuture.supplyAsync(() -&gt;\r\n                 yourRestService.callEnpoint(withArg1, withArg2));\r\n    \r\n       try {\r\n           return endpointCall.get(10, TimeUnit.MINUTES);\r\n       } catch (TimeoutException \r\n                   | InterruptedException \r\n                   | ExecutionException e) {\r\n           throw new RuntimeException(&quot;Unable to fetch data&quot;, e);\r\n       }\r\n    }\r\n    \r\n\r\nIf you&#39;re using spring, you could annotate the method with a `@Retryable` so that it retries the method three times if an exception is thrown.\r\n        ","title":"Java: set timeout on a certain block of code?","body":"<p>If you want a CompletableFuture way you could have a method like</p>\n\n<pre><code>public MyResponseObject retrieveDataFromEndpoint() {\n\n   CompletableFuture&lt;MyResponseObject&gt; endpointCall \n       = CompletableFuture.supplyAsync(() -&gt;\n             yourRestService.callEnpoint(withArg1, withArg2));\n\n   try {\n       return endpointCall.get(10, TimeUnit.MINUTES);\n   } catch (TimeoutException \n               | InterruptedException \n               | ExecutionException e) {\n       throw new RuntimeException(\"Unable to fetch data\", e);\n   }\n}\n</code></pre>\n\n<p>If you're using spring, you could annotate the method with a <code>@Retryable</code> so that it retries the method three times if an exception is thrown.</p>\n"},{"tags":[],"owner":{"account_id":3811993,"reputation":326,"user_id":3162534,"accept_rate":0,"display_name":"prakhar3agrwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558259759,"creation_date":1558259759,"answer_id":56206679,"question_id":5715235,"body_markdown":"I faced a similar kind of issue where my task was to push a message to SQS within a particular timeout. I used the trivial logic of executing it via another thread and waiting on its future object by specifying the timeout. This would give me a TIMEOUT exception in case of timeouts. \r\n\r\n    final Future&lt;ISendMessageResult&gt; future = \r\n    timeoutHelperThreadPool.getExecutor().submit(() -&gt; {\r\n      return getQueueStore().sendMessage(request).get();\r\n    });\r\n    try {\r\n      sendMessageResult = future.get(200, TimeUnit.MILLISECONDS);\r\n      logger.info(&quot;SQS_PUSH_SUCCESSFUL&quot;);\r\n      return true;\r\n\r\n    } catch (final TimeoutException e) {\r\n      logger.error(&quot;SQS_PUSH_TIMEOUT_EXCEPTION&quot;);\r\n    }\r\n\r\n\r\n\r\nBut there are cases where you can&#39;t stop the code being executed by another thread and you get true negatives in that case. \r\n\r\nFor example - In my case, my request reached SQS and while the message was being pushed, my code logic encountered the specified timeout. Now in reality my message was pushed into the Queue but my main thread assumed it to be failed because of the TIMEOUT exception.\r\nThis is a type of problem which can be avoided rather than being solved. Like in my case I avoided it by providing a timeout which would suffice in nearly all of the cases. \r\n\r\nIf the code you want to interrupt is within you application and is not something like an API call then you can simply use \r\n\r\n\r\n    future.cancel(true)\r\n\r\n\r\nHowever do remember that java docs says that it does guarantee that the execution will be blocked.\r\n\r\n***&quot;Attempts to cancel execution of this task. This attempt will fail if the task has already completed, has already been cancelled,or could not be cancelled for some other reason. If successful,and this task has not started when cancel is called,this task should never run. If the task has already started,then the mayInterruptIfRunning parameter determines whether the thread executing this task should be interrupted inan attempt to stop the task.&quot;***","title":"Java: set timeout on a certain block of code?","body":"<p>I faced a similar kind of issue where my task was to push a message to SQS within a particular timeout. I used the trivial logic of executing it via another thread and waiting on its future object by specifying the timeout. This would give me a TIMEOUT exception in case of timeouts. </p>\n\n<pre><code>final Future&lt;ISendMessageResult&gt; future = \ntimeoutHelperThreadPool.getExecutor().submit(() -&gt; {\n  return getQueueStore().sendMessage(request).get();\n});\ntry {\n  sendMessageResult = future.get(200, TimeUnit.MILLISECONDS);\n  logger.info(\"SQS_PUSH_SUCCESSFUL\");\n  return true;\n\n} catch (final TimeoutException e) {\n  logger.error(\"SQS_PUSH_TIMEOUT_EXCEPTION\");\n}\n</code></pre>\n\n<p>But there are cases where you can't stop the code being executed by another thread and you get true negatives in that case. </p>\n\n<p>For example - In my case, my request reached SQS and while the message was being pushed, my code logic encountered the specified timeout. Now in reality my message was pushed into the Queue but my main thread assumed it to be failed because of the TIMEOUT exception.\nThis is a type of problem which can be avoided rather than being solved. Like in my case I avoided it by providing a timeout which would suffice in nearly all of the cases. </p>\n\n<p>If the code you want to interrupt is within you application and is not something like an API call then you can simply use </p>\n\n<pre><code>future.cancel(true)\n</code></pre>\n\n<p>However do remember that java docs says that it does guarantee that the execution will be blocked.</p>\n\n<p><strong><em>\"Attempts to cancel execution of this task. This attempt will fail if the task has already completed, has already been cancelled,or could not be cancelled for some other reason. If successful,and this task has not started when cancel is called,this task should never run. If the task has already started,then the mayInterruptIfRunning parameter determines whether the thread executing this task should be interrupted inan attempt to stop the task.\"</em></strong></p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643298441,"creation_date":1643297408,"answer_id":70881251,"question_id":5715235,"body_markdown":"There&#39;s a very simple option that nobody&#39;s mentioned yet:\r\n\r\n```java\r\nDuration timeout = Duration.ofMinutes(5);\r\nThread thread = new Thread(() -&gt; {\r\n    // your code here\r\n});\r\nthread.start();\r\nthread.join(timeout.toMillis());\r\nif (thread.isAlive()) {\r\n    thread.interrupt();\r\n    throw new MyTimeoutException();\r\n}\r\n```\r\n\r\nIf the thread running your code block fails to complete within the timeout, it is interrupted and whatever exception you want can be thrown.\r\n\r\nIt is possible to write code that will simply ignore the interruption and carry on. If you&#39;re dealing with this can cannot fix it then there is `thread.stop()`, but that can break any synchronisation mechanisms that you are relying on. See its [deprecation notice][1].\r\n\r\nYou can also capture exceptions from the thread:\r\n\r\n```java\r\nAtomicReference&lt;Throwable&gt; uncaughtException = new AtomicReference&lt;&gt;();\r\nthread.setUncaughtExceptionHandler((t, ex) -&gt; uncaughtException.setRelease(ex));\r\n\r\n// ...\r\n\r\nThrowable ex = uncaughtException.getAcquire();\r\nif (ex != null) {\r\n    throw ex;\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#stop()","title":"Java: set timeout on a certain block of code?","body":"<p>There's a very simple option that nobody's mentioned yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration timeout = Duration.ofMinutes(5);\nThread thread = new Thread(() -&gt; {\n    // your code here\n});\nthread.start();\nthread.join(timeout.toMillis());\nif (thread.isAlive()) {\n    thread.interrupt();\n    throw new MyTimeoutException();\n}\n</code></pre>\n<p>If the thread running your code block fails to complete within the timeout, it is interrupted and whatever exception you want can be thrown.</p>\n<p>It is possible to write code that will simply ignore the interruption and carry on. If you're dealing with this can cannot fix it then there is <code>thread.stop()</code>, but that can break any synchronisation mechanisms that you are relying on. See its <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#stop()\" rel=\"nofollow noreferrer\">deprecation notice</a>.</p>\n<p>You can also capture exceptions from the thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicReference&lt;Throwable&gt; uncaughtException = new AtomicReference&lt;&gt;();\nthread.setUncaughtExceptionHandler((t, ex) -&gt; uncaughtException.setRelease(ex));\n\n// ...\n\nThrowable ex = uncaughtException.getAcquire();\nif (ex != null) {\n    throw ex;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26215470,"reputation":1,"user_id":19893655,"display_name":"jack"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664777825,"creation_date":1664777825,"answer_id":73931713,"question_id":5715235,"body_markdown":"I had this problem too, my logs print out with ‘’Unexpected end of stream‘’.and ‘’Could not get a resource from the pool‘’，\r\nI set the timeout of brpop to 30s, redis to 31s, and mysql database connection pool to 300s. For now, this error is not printed on the log, but I don&#39;t know if this error will be reported in the future.I don&#39;t know if it has a bad effect on my writing to the database","title":"Java: set timeout on a certain block of code?","body":"<p>I had this problem too, my logs print out with ‘’Unexpected end of stream‘’.and ‘’Could not get a resource from the pool‘’，\nI set the timeout of brpop to 30s, redis to 31s, and mysql database connection pool to 300s. For now, this error is not printed on the log, but I don't know if this error will be reported in the future.I don't know if it has a bad effect on my writing to the database</p>\n"}],"owner":{"account_id":136737,"reputation":1513,"user_id":340447,"accept_rate":79,"display_name":"htf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160757,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":5715259,"answer_count":13,"score":82,"last_activity_date":1664777825,"creation_date":1303210322,"question_id":5715235,"body_markdown":"Is it possible to force Java to throw an Exception after some block of code runs longer than acceptable?","title":"Java: set timeout on a certain block of code?","body":"<p>Is it possible to force Java to throw an Exception after some block of code runs longer than acceptable?</p>\n"},{"tags":["java","class","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664722642,"creation_date":1664722173,"answer_id":73926767,"question_id":73926697,"body_markdown":"It might be better to have the `addBook` method as part of the library class. \r\nThen you can use a library instance to do something as simple as\r\n```\r\n public boolean addBook(Book b) {\r\n    books.add(b);\r\n }\r\n```\r\nIn this case, the `librarian` would be the user of the program.\r\nBut you will probably need a way to get the book from the list.  And you may want to search for various fields (key word, title, etc) which would be more detailed and return one or more matching books.  You don&#39;t need to return a boolean unless you want to determine if the book has already been added (false) or is a new entry (true).","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>It might be better to have the <code>addBook</code> method as part of the library class.\nThen you can use a library instance to do something as simple as</p>\n<pre><code> public boolean addBook(Book b) {\n    books.add(b);\n }\n</code></pre>\n<p>In this case, the <code>librarian</code> would be the user of the program.\nBut you will probably need a way to get the book from the list.  And you may want to search for various fields (key word, title, etc) which would be more detailed and return one or more matching books.  You don't need to return a boolean unless you want to determine if the book has already been added (false) or is a new entry (true).</p>\n"},{"tags":[],"owner":{"account_id":5298708,"reputation":55,"user_id":4229099,"display_name":"Marius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664728745,"creation_date":1664728745,"answer_id":73927578,"question_id":73926697,"body_markdown":"can a librarian be a librarian for more libraries?\r\nIf only to one, then I would give the Librarian class a Library object and initialise it in the constructor\r\n```\r\npublic class Librarian\r\n{\r\n private int id;\r\n private final Library library;\r\n public boolean addBook(Book b);\r\n\r\n public Librarian(final Library library) {\r\n  this.library = library;\r\n }\r\n}\r\n```\r\n\r\nadd getters.\r\n\r\nthen you can add a book like this\r\n\r\n```\r\nlibrarian.getLibrary().addBook(book);\r\n```","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>can a librarian be a librarian for more libraries?\nIf only to one, then I would give the Librarian class a Library object and initialise it in the constructor</p>\n<pre><code>public class Librarian\n{\n private int id;\n private final Library library;\n public boolean addBook(Book b);\n\n public Librarian(final Library library) {\n  this.library = library;\n }\n}\n</code></pre>\n<p>add getters.</p>\n<p>then you can add a book like this</p>\n<pre><code>librarian.getLibrary().addBook(book);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664777430,"creation_date":1664777430,"answer_id":73931671,"question_id":73926697,"body_markdown":"As librarian add book into library and library has all books, so it looks better to place implementation of method `addBook` in library class. \r\n\r\nSo code would like this:\r\n\r\n    public class Library\r\n    {\r\n        private Librarian librarian;\r\n        private List&lt;Book&gt; books;\r\n    \r\n        public bool AddBook(Book book)\r\n        {\r\n            books.Add(book);\r\n            return true;\r\n        }\r\n    }\r\n\r\nAnd `Libranian` can add a book into library like this:\r\n\r\n    public class Librarian\r\n    {\r\n        private int id;\r\n        private Library library;\r\n    \r\n        public Librarian(Library library)\r\n        {\r\n            this.library = library;\r\n        }\r\n    \r\n    \r\n        public bool AddBook(Book b)\r\n        {\r\n            return library.AddBook(b);\r\n        }\r\n    }\r\n\r\n","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>As librarian add book into library and library has all books, so it looks better to place implementation of method <code>addBook</code> in library class.</p>\n<p>So code would like this:</p>\n<pre><code>public class Library\n{\n    private Librarian librarian;\n    private List&lt;Book&gt; books;\n\n    public bool AddBook(Book book)\n    {\n        books.Add(book);\n        return true;\n    }\n}\n</code></pre>\n<p>And <code>Libranian</code> can add a book into library like this:</p>\n<pre><code>public class Librarian\n{\n    private int id;\n    private Library library;\n\n    public Librarian(Library library)\n    {\n        this.library = library;\n    }\n\n\n    public bool AddBook(Book b)\n    {\n        return library.AddBook(b);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26507747,"reputation":1,"user_id":20143625,"display_name":"Shivendra Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664777430,"creation_date":1664721545,"question_id":73926697,"body_markdown":"I have a Library class which has a librarian and list of book and Librarian class which has an id and addBook method.\r\nThe librarian class can add books in the library.\r\nWhat will be the correct way to do this? \r\n     \r\n    public class Library \r\n    {\r\n     private Librarian librarian;\r\n     private List&lt;Book&gt; books;\r\n    }\r\n\r\n    public class Librarian\r\n    {\r\n     private int id;\r\n     public boolean addBook(Book b);\r\n    }\r\n    ","title":"How to set field value of class A using an object of class B? What type of relationship should be between the classes to do so?","body":"<p>I have a Library class which has a librarian and list of book and Librarian class which has an id and addBook method.\nThe librarian class can add books in the library.\nWhat will be the correct way to do this?</p>\n<pre><code>public class Library \n{\n private Librarian librarian;\n private List&lt;Book&gt; books;\n}\n\npublic class Librarian\n{\n private int id;\n public boolean addBook(Book b);\n}\n</code></pre>\n"},{"tags":["java","string","file"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1664775007,"post_id":73931335,"comment_id":130540427,"body_markdown":"The tips in [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) might be helpful. At the very least, they will help you debug your code and understand where the problem is. From there, you can start thinking about a possible solution.","body":"The tips in <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> might be helpful. At the very least, they will help you debug your code and understand where the problem is. From there, you can start thinking about a possible solution."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1664775095,"post_id":73931335,"comment_id":130540446,"body_markdown":"You should also look at the `String.split()` method. This might be an easier way to process each line rather than using a second `Scanner`.","body":"You should also look at the <code>String.split()</code> method. This might be an easier way to process each line rather than using a second <code>Scanner</code>."}],"answers":[{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664774755,"creation_date":1664774755,"answer_id":73931393,"question_id":73931335,"body_markdown":" The same string is checked for &quot;LKH&quot; and is expected to be numeric.\r\n\r\n    if (&quot;LKH&quot;.equals(s)){\r\n       if (isNumeric(s)){\r\n           System.out.println(s);\r\n       }\r\n    }\r\n\r\nAfter checking for &quot;LKH&quot;, do another `s2.next()` to get the next string, which should be the number you want.","title":"Return string next to another inside a .txt file (JAVA)","body":"<p>The same string is checked for &quot;LKH&quot; and is expected to be numeric.</p>\n<pre><code>if (&quot;LKH&quot;.equals(s)){\n   if (isNumeric(s)){\n       System.out.println(s);\n   }\n}\n</code></pre>\n<p>After checking for &quot;LKH&quot;, do another <code>s2.next()</code> to get the next string, which should be the number you want.</p>\n"}],"owner":{"account_id":24996405,"reputation":71,"user_id":18857132,"display_name":"JeremyK12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73931393,"answer_count":1,"score":0,"last_activity_date":1664774755,"creation_date":1664774188,"question_id":73931335,"body_markdown":"I have a .txt file that reads for example:\r\n\r\n    AAA 1234\r\n    ZZZ 4561\r\n    LKH 9000\r\nThe idea is to create a function that receives a strinf and compares it to the first three characters, in this case, AAA, ZZZ or LKH, and if it is equal, it returns the numeric value, but my comparison isn&#39;t working as intended, because the comparison doesn&#39;t seem to be working as expected.\r\nHere&#39;s my code so far:\r\n\r\n    public static boolean isNumeric(String str) {\r\n            try {\r\n                Double.parseDouble(str);\r\n                return true;\r\n            } catch(NumberFormatException e){\r\n                return false;\r\n            }\r\n        }\r\n\r\n    public static PrintStream returnIntNext(){\r\n    Scanner sc2 = null;\r\n        try {\r\n            sc2 = new Scanner(new File(&quot;sample.txt&quot;));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        while (sc2.hasNextLine()) {\r\n            Scanner s2 = new Scanner(sc2.nextLine());\r\n            while (s2.hasNext()) {\r\n                String s = s2.next();\r\n                if (&quot;LKH&quot;.equals(s)){\r\n                    if (isNumeric(s)){\r\n                        System.out.println(s);}}\r\n                else{System.out.println(&quot;if line not working&quot;);}\r\n            }}\r\n        return null;\r\n    }\r\nAny clues on what I&#39;m doing wrong?","title":"Return string next to another inside a .txt file (JAVA)","body":"<p>I have a .txt file that reads for example:</p>\n<pre><code>AAA 1234\nZZZ 4561\nLKH 9000\n</code></pre>\n<p>The idea is to create a function that receives a strinf and compares it to the first three characters, in this case, AAA, ZZZ or LKH, and if it is equal, it returns the numeric value, but my comparison isn't working as intended, because the comparison doesn't seem to be working as expected.\nHere's my code so far:</p>\n<pre><code>public static boolean isNumeric(String str) {\n        try {\n            Double.parseDouble(str);\n            return true;\n        } catch(NumberFormatException e){\n            return false;\n        }\n    }\n\npublic static PrintStream returnIntNext(){\nScanner sc2 = null;\n    try {\n        sc2 = new Scanner(new File(&quot;sample.txt&quot;));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    while (sc2.hasNextLine()) {\n        Scanner s2 = new Scanner(sc2.nextLine());\n        while (s2.hasNext()) {\n            String s = s2.next();\n            if (&quot;LKH&quot;.equals(s)){\n                if (isNumeric(s)){\n                    System.out.println(s);}}\n            else{System.out.println(&quot;if line not working&quot;);}\n        }}\n    return null;\n}\n</code></pre>\n<p>Any clues on what I'm doing wrong?</p>\n"},{"tags":["java","arrays","random"],"comments":[{"owner":{"account_id":2988754,"reputation":5716,"user_id":2536842,"accept_rate":64,"display_name":"Dylan Meeus"},"score":0,"creation_date":1387058453,"post_id":20588736,"comment_id":30802156,"body_markdown":"Show uw what you have tried :)","body":"Show uw what you have tried :)"},{"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"score":2,"creation_date":1387058774,"post_id":20588736,"comment_id":30802236,"body_markdown":"possible duplicate of [How to shuffle characters in a string](http://stackoverflow.com/questions/3316674/how-to-shuffle-characters-in-a-string)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3316674/how-to-shuffle-characters-in-a-string\">How to shuffle characters in a string</a>"},{"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"score":0,"creation_date":1387058834,"post_id":20588736,"comment_id":30802256,"body_markdown":"I&#39;ve already visited that page it uses list and I cannot use it.","body":"I&#39;ve already visited that page it uses list and I cannot use it."},{"owner":{"account_id":1104392,"reputation":8418,"user_id":1096117,"accept_rate":75,"display_name":"Juli&#225;n Urbano"},"score":1,"creation_date":1387058873,"post_id":20588736,"comment_id":30802270,"body_markdown":"@user2999672 then add that requirement in your question. Plus, there are some answers there that *don&#39;t* use lists","body":"@user2999672 then add that requirement in your question. Plus, there are some answers there that <i>don&#39;t</i> use lists"},{"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"score":0,"creation_date":1387059167,"post_id":20588736,"comment_id":30802348,"body_markdown":"edited. i already checked that post it is not what i am looking for.","body":"edited. i already checked that post it is not what i am looking for."},{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":1,"creation_date":1387059376,"post_id":20588736,"comment_id":30802413,"body_markdown":"think again about your shuffle method. you currently print a random character but have no protection against printing the same character each time.  you have to remove the characters from the word as you print them.","body":"think again about your shuffle method. you currently print a random character but have no protection against printing the same character each time.  you have to remove the characters from the word as you print them."},{"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"score":0,"creation_date":1387059707,"post_id":20588736,"comment_id":30802499,"body_markdown":"I don&#39;t know how can I delete it. I found something like deleteCharAt but I guess it works with StringBuilder or something. I cannot use that. @KevinDTimm","body":"I don&#39;t know how can I delete it. I found something like deleteCharAt but I guess it works with StringBuilder or something. I cannot use that. @KevinDTimm"},{"owner":{"account_id":211872,"reputation":7501,"user_id":464306,"accept_rate":92,"display_name":"gdejohn"},"score":0,"creation_date":1387060945,"post_id":20588736,"comment_id":30802876,"body_markdown":"What is the &quot;List thing&quot; that you can&#39;t use? Do you mean `Collections.shuffle()`? And why the restriction?","body":"What is the &quot;List thing&quot; that you can&#39;t use? Do you mean <code>Collections.shuffle()</code>? And why the restriction?"}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1387060908,"creation_date":1387058797,"answer_id":20588791,"question_id":20588736,"body_markdown":"You can use [`Collections.shuffle`][1] :\r\n\r\n    List&lt;Character&gt; l = new ArrayList&lt;&gt;();\r\n    for(char c :  word.toCharArray()) //for each char of the word selectionned, put it in a list\r\n    \tl.add(c); \r\n    Collections.shuffle(l); //shuffle the list\r\n\r\n    StringBuilder sb = new StringBuilder(); //now rebuild the word\r\n    for(char c : l)\r\n      sb.append(c);\r\n\r\n    word = sb.toString();\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; I am not supposed to use that List thing.\r\n\r\nThen you can create two `StringBuilder` objects. One will hold the original word and one will create the shuffled one :\r\n\r\n    StringBuilder s = new StringBuilder(word);\r\n    StringBuilder wordShuffled = new StringBuilder();\r\n    while(s.length() != 0){\r\n    \tint index = random.nextInt(s.length());\r\n    \tchar c = s.charAt(index);\r\n    \twordShuffled.append(c);\r\n    \ts.deleteCharAt(index);\r\n    }\r\n    System.out.println(wordShuffled.toString());\r\n\r\n&lt;hr/&gt;\r\n\r\n&gt; I found something like deleteCharAt but I guess it works with\r\n&gt; StringBuilder or something. I cannot use that\r\n\r\n[Here][2] you can find some nice utilities methods that permits to shuffle an array.\r\n\r\n    public static char[] shuffleArray(char[] x) {    \r\n           for ( int i = x.length; i &gt; 0; i-- ) {\r\n                int rand = (int)(Math.random()*(i));\r\n                char temp = x[i-1];\r\n                x[i-1] = x[rand];\r\n                x[rand] = temp;\r\n            }\r\n           return x;\r\n    }\r\n\r\nThen just call this method and use the constructor [`String(char[] value)`][3] :\r\n\r\n    System.out.println(new String(shuffleArray(word.toCharArray())));\r\n\r\nNext time clearly state, what you can use/not use.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle%28java.util.List%29\r\n  [2]: https://snipt.net/raw/82661541a734fa61345ea75980f8182b/\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String%28char%5B%5D%29","title":"How can I shuffle the letters of a word?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#shuffle%28java.util.List%29\" rel=\"nofollow\"><code>Collections.shuffle</code></a> :</p>\n\n<pre><code>List&lt;Character&gt; l = new ArrayList&lt;&gt;();\nfor(char c :  word.toCharArray()) //for each char of the word selectionned, put it in a list\n    l.add(c); \nCollections.shuffle(l); //shuffle the list\n\nStringBuilder sb = new StringBuilder(); //now rebuild the word\nfor(char c : l)\n  sb.append(c);\n\nword = sb.toString();\n</code></pre>\n\n<hr/>\n\n<blockquote>\n  <p>I am not supposed to use that List thing.</p>\n</blockquote>\n\n<p>Then you can create two <code>StringBuilder</code> objects. One will hold the original word and one will create the shuffled one :</p>\n\n<pre><code>StringBuilder s = new StringBuilder(word);\nStringBuilder wordShuffled = new StringBuilder();\nwhile(s.length() != 0){\n    int index = random.nextInt(s.length());\n    char c = s.charAt(index);\n    wordShuffled.append(c);\n    s.deleteCharAt(index);\n}\nSystem.out.println(wordShuffled.toString());\n</code></pre>\n\n<hr/>\n\n<blockquote>\n  <p>I found something like deleteCharAt but I guess it works with\n  StringBuilder or something. I cannot use that</p>\n</blockquote>\n\n<p><a href=\"https://snipt.net/raw/82661541a734fa61345ea75980f8182b/\" rel=\"nofollow\">Here</a> you can find some nice utilities methods that permits to shuffle an array.</p>\n\n<pre><code>public static char[] shuffleArray(char[] x) {    \n       for ( int i = x.length; i &gt; 0; i-- ) {\n            int rand = (int)(Math.random()*(i));\n            char temp = x[i-1];\n            x[i-1] = x[rand];\n            x[rand] = temp;\n        }\n       return x;\n}\n</code></pre>\n\n<p>Then just call this method and use the constructor <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String%28char%5B%5D%29\" rel=\"nofollow\"><code>String(char[] value)</code></a> :</p>\n\n<pre><code>System.out.println(new String(shuffleArray(word.toCharArray())));\n</code></pre>\n\n<p>Next time clearly state, what you can use/not use.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387059780,"creation_date":1387059780,"answer_id":20588942,"question_id":20588736,"body_markdown":"How about something like this?\r\n\r\n    // Shuffle an array of characters.\r\n    public static void shuffleArray(char[] a) {\r\n      int n = a.length; // the length of the array.\r\n      for (int i = 0; i &lt; n; i++) {\r\n        int t = random.nextInt(n); // pick a random number 0 - the length.\r\n        if (t == i) {              // if the random number is the loop counter\r\n          if (i &gt; 0) {             // check if we&#39;re at the first element.\r\n            t = random.nextInt(i); // pick another number between 0 - and the loop counter.\r\n          } else {\r\n            t = a.length - 1;      // the end of the loop.\r\n          }\r\n        }\r\n        a[i] ^= a[t];              // swap a[i] and a[t]\r\n        a[t] ^= a[i];\r\n        a[i] ^= a[t];\r\n      }\r\n    }\r\n\r\n    private static Random random = new Random(); // the shared random.\r\n\r\n    public static void main(String[] args) {\r\n      String[] animals = { &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dino&quot; };\r\n      String word = animals[random\r\n          .nextInt(animals.length)];\r\n\r\n      System.out.println(word);            // the random word.\r\n      char[] arr = word.toCharArray();     // the char[] from the word.\r\n      shuffleArray(arr);                   // shuffle it.\r\n      System.out.println(new String(arr)); // print it.\r\n    }","title":"How can I shuffle the letters of a word?","body":"<p>How about something like this?</p>\n\n<pre><code>// Shuffle an array of characters.\npublic static void shuffleArray(char[] a) {\n  int n = a.length; // the length of the array.\n  for (int i = 0; i &lt; n; i++) {\n    int t = random.nextInt(n); // pick a random number 0 - the length.\n    if (t == i) {              // if the random number is the loop counter\n      if (i &gt; 0) {             // check if we're at the first element.\n        t = random.nextInt(i); // pick another number between 0 - and the loop counter.\n      } else {\n        t = a.length - 1;      // the end of the loop.\n      }\n    }\n    a[i] ^= a[t];              // swap a[i] and a[t]\n    a[t] ^= a[i];\n    a[i] ^= a[t];\n  }\n}\n\nprivate static Random random = new Random(); // the shared random.\n\npublic static void main(String[] args) {\n  String[] animals = { \"Dog\", \"Cat\", \"Dino\" };\n  String word = animals[random\n      .nextInt(animals.length)];\n\n  System.out.println(word);            // the random word.\n  char[] arr = word.toCharArray();     // the char[] from the word.\n  shuffleArray(arr);                   // shuffle it.\n  System.out.println(new String(arr)); // print it.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365327,"reputation":517,"user_id":710183,"accept_rate":0,"display_name":"Rastikan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1493983544,"creation_date":1387060986,"answer_id":20589105,"question_id":20588736,"body_markdown":"Really no need for collection and anything more than what follows:\t\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t// Create a random object\r\n\t\tRandom r = new Random();\r\n\r\n\t\tString word = &quot;Animals&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Before: &quot; + word );\r\n\t\tword = scramble( r, word );\r\n\t\tSystem.out.println(&quot;After : &quot; + word );\r\n\t}\r\n\t\r\n\tpublic static String scramble( Random random, String inputString )\r\n\t{\r\n\t\t// Convert your string into a simple char array:\r\n\t\tchar a[] = inputString.toCharArray();\r\n\t\t\r\n\t\t// Scramble the letters using the standard Fisher-Yates shuffle, \r\n\t\tfor( int i=0 ; i&lt;a.length ; i++ )\r\n\t\t{\r\n\t\t\tint j = random.nextInt(a.length);\r\n\t\t\t// Swap letters\r\n\t\t\tchar temp = a[i]; a[i] = a[j];\ta[j] = temp;\r\n\t\t}\t\t\r\n\t\t\r\n\t\treturn new String( a );\r\n\t}","title":"How can I shuffle the letters of a word?","body":"<p>Really no need for collection and anything more than what follows:      </p>\n\n<pre><code>public static void main(String[] args) {\n\n    // Create a random object\n    Random r = new Random();\n\n    String word = \"Animals\";\n\n    System.out.println(\"Before: \" + word );\n    word = scramble( r, word );\n    System.out.println(\"After : \" + word );\n}\n\npublic static String scramble( Random random, String inputString )\n{\n    // Convert your string into a simple char array:\n    char a[] = inputString.toCharArray();\n\n    // Scramble the letters using the standard Fisher-Yates shuffle, \n    for( int i=0 ; i&lt;a.length ; i++ )\n    {\n        int j = random.nextInt(a.length);\n        // Swap letters\n        char temp = a[i]; a[i] = a[j];  a[j] = temp;\n    }       \n\n    return new String( a );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13426330,"reputation":1,"user_id":17786139,"display_name":"isak Pathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640756560,"creation_date":1640756370,"answer_id":70515516,"question_id":20588736,"body_markdown":"**Shuffle String Using Collection.**\r\n```\r\nimport java.util.*;\r\n\r\npublic class ShuffleString {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        String str = &quot;Team India Is Best&quot;;\r\n        String shuf = &quot;&quot;;\r\n        String s1 = str.substring(0, 4);\r\n        String s2 = str.substring(5, 10);\r\n        String s3 = str.substring(11, 13);\r\n        String s4 = str.substring(14, 18);\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n        arr.add(s1);\r\n        arr.add(s2);\r\n        arr.add(s3);\r\n        arr.add(s4);\r\n        Collections.shuffle(arr);\r\n\r\n        for(String a : arr)\r\n        {\r\n            shuf += a + &quot; &quot;;\r\n        }\r\n        System.out.println(shuf);\r\n    }\r\n}\r\n```","title":"How can I shuffle the letters of a word?","body":"<p><strong>Shuffle String Using Collection.</strong></p>\n<pre><code>import java.util.*;\n\npublic class ShuffleString {\n    \n    public static void main(String[] args) {\n        \n        String str = &quot;Team India Is Best&quot;;\n        String shuf = &quot;&quot;;\n        String s1 = str.substring(0, 4);\n        String s2 = str.substring(5, 10);\n        String s3 = str.substring(11, 13);\n        String s4 = str.substring(14, 18);\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n        arr.add(s1);\n        arr.add(s2);\n        arr.add(s3);\n        arr.add(s4);\n        Collections.shuffle(arr);\n\n        for(String a : arr)\n        {\n            shuf += a + &quot; &quot;;\n        }\n        System.out.println(shuf);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664773929,"creation_date":1664773929,"answer_id":73931305,"question_id":20588736,"body_markdown":"Achieving it by recursion.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please enter a string : &quot;);\r\n\t\tString input = scanner.next();\r\n\t\t\r\n\t\tif(input == null || input.length() == 0)\r\n\t\t\tSystem.out.println(&quot;Invalid String!&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;String before scramble : &quot; + input);\r\n\t\t\r\n\t\tSystem.out.println(&quot;String after scramble : &quot; + scramble(input));\r\n\t}\r\n\t\r\n\tstatic String scramble(String input) {\r\n\t\t\r\n\t\t//\tif it has only single character simply return it\r\n\t\tif(input.length() == 1)\r\n\t\t\treturn input;\r\n\t\t\r\n\t\t//\tget a random number between string&#39;s first index and last index \r\n\t\tint randomIndex = ThreadLocalRandom.current().nextInt(0, input.length());\r\n\t\t\r\n\t\t//\tGet the character in that index\r\n\t\tString randomPart = String.valueOf(input.charAt(randomIndex));\r\n\t\t\r\n\t\t//\tappend that character to the new string and remove it from the source and feed it to same method\r\n        return randomPart + \r\n\t    \t\tscramble(input.substring(0, randomIndex) + input.substring(randomIndex+1));\r\n\t}\r\n\r\n\r\nOutput\r\n\r\n    Please enter a string : \r\n    abcdefg\r\n    String before scramble : abcdefg\r\n    String after scramble : abdfgce","title":"How can I shuffle the letters of a word?","body":"<p>Achieving it by recursion.</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner scanner = new Scanner(System.in);\n    \n    System.out.println(&quot;Please enter a string : &quot;);\n    String input = scanner.next();\n    \n    if(input == null || input.length() == 0)\n        System.out.println(&quot;Invalid String!&quot;);\n    \n    System.out.println(&quot;String before scramble : &quot; + input);\n    \n    System.out.println(&quot;String after scramble : &quot; + scramble(input));\n}\n\nstatic String scramble(String input) {\n    \n    //  if it has only single character simply return it\n    if(input.length() == 1)\n        return input;\n    \n    //  get a random number between string's first index and last index \n    int randomIndex = ThreadLocalRandom.current().nextInt(0, input.length());\n    \n    //  Get the character in that index\n    String randomPart = String.valueOf(input.charAt(randomIndex));\n    \n    //  append that character to the new string and remove it from the source and feed it to same method\n    return randomPart + \n            scramble(input.substring(0, randomIndex) + input.substring(randomIndex+1));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Please enter a string : \nabcdefg\nString before scramble : abcdefg\nString after scramble : abdfgce\n</code></pre>\n"}],"owner":{"account_id":3594511,"reputation":61,"user_id":2999672,"accept_rate":86,"display_name":"morgothraud"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34350,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":20589105,"answer_count":5,"score":4,"last_activity_date":1664773929,"creation_date":1387058419,"question_id":20588736,"body_markdown":"What is the easiest way to shuffle the letters of a word which is in an array? I have some words in an array and I choose randomly a word but I also want to shuffle the letters of it.\r\n\r\n    public static void main (String[] args ) {\r\n        String [] animals = { &quot;Dog&quot; , &quot;Cat&quot; , &quot;Dino&quot; } ;    \r\n        Random random = new Random();\r\n        String word = animals [random.nextInt(animals.length)];\r\n\r\n        System.out.println ( word ) ;\r\n        //I Simply want to shuffle the letters of word     \r\n    }\r\n\r\nI am not supposed to use that List thing. I&#39;ve come up with something like this but with this code it prints random letters it doesn&#39;t shuffle. Maybe I can code something like do not print if that letter already printed? \r\n\r\n\r\n    //GET RANDOM LETTER\r\n    for (int i = 0; i&lt; word.length(); i++ ) {\r\n    \r\n    char c = (word.charAt(random.nextInt(word.length())));\r\n    System.out.print(c); } \r\n      }","title":"How can I shuffle the letters of a word?","body":"<p>What is the easiest way to shuffle the letters of a word which is in an array? I have some words in an array and I choose randomly a word but I also want to shuffle the letters of it.</p>\n\n<pre><code>public static void main (String[] args ) {\n    String [] animals = { \"Dog\" , \"Cat\" , \"Dino\" } ;    \n    Random random = new Random();\n    String word = animals [random.nextInt(animals.length)];\n\n    System.out.println ( word ) ;\n    //I Simply want to shuffle the letters of word     \n}\n</code></pre>\n\n<p>I am not supposed to use that List thing. I've come up with something like this but with this code it prints random letters it doesn't shuffle. Maybe I can code something like do not print if that letter already printed? </p>\n\n<pre><code>//GET RANDOM LETTER\nfor (int i = 0; i&lt; word.length(); i++ ) {\n\nchar c = (word.charAt(random.nextInt(word.length())));\nSystem.out.print(c); } \n  }\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664772146,"creation_date":1664772146,"answer_id":73931183,"question_id":73863022,"body_markdown":"I found a solution with a `PropertyFilter`. I&#39;m collecting all the objects seen in `serializeAsField` and at the end I&#39;ve a complete list of traversed objects.","title":"Jackson serializing: Get list of processed objects","body":"<p>I found a solution with a <code>PropertyFilter</code>. I'm collecting all the objects seen in <code>serializeAsField</code> and at the end I've a complete list of traversed objects.</p>\n"}],"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73931183,"answer_count":1,"score":-1,"last_activity_date":1664772146,"creation_date":1664258757,"question_id":73863022,"body_markdown":"For a special case, I need to know which &quot;source objects&quot; of the object tree Jackson processed during serialization.\r\n\r\n```\r\npublic class A {}\r\n\r\npublic class B {\r\n   private A a;\r\n}\r\n\r\npublic class Main {\r\n   public void doIt() {\r\n      B b = new B();\r\n      b.a = new A();\r\n      m.writeValueAsString(b)\r\n\r\n      // Here I need to get the list of all processed objects from mapper m, i.e. [a,b]\r\n   }\r\n}\r\n```\r\n\r\nI think there is some internal list, because Jackson might reuse already serialized objects if they are referenced multiple times in the object tree. Can I get this list? Or is it possible to build my own list by an event listener which is called for every serialized object?","title":"Jackson serializing: Get list of processed objects","body":"<p>For a special case, I need to know which &quot;source objects&quot; of the object tree Jackson processed during serialization.</p>\n<pre><code>public class A {}\n\npublic class B {\n   private A a;\n}\n\npublic class Main {\n   public void doIt() {\n      B b = new B();\n      b.a = new A();\n      m.writeValueAsString(b)\n\n      // Here I need to get the list of all processed objects from mapper m, i.e. [a,b]\n   }\n}\n</code></pre>\n<p>I think there is some internal list, because Jackson might reuse already serialized objects if they are referenced multiple times in the object tree. Can I get this list? Or is it possible to build my own list by an event listener which is called for every serialized object?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10718315,"reputation":320,"user_id":10655551,"display_name":"Subhakant Priyadarsan"},"score":0,"creation_date":1690908929,"post_id":73911578,"comment_id":135417478,"body_markdown":"Hi, \nDid you find any solution to your problem?","body":"Hi,  Did you find any solution to your problem?"},{"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"score":0,"creation_date":1698220040,"post_id":73911578,"comment_id":136375920,"body_markdown":"I am facing the same problem. Any workarounds?","body":"I am facing the same problem. Any workarounds?"}],"owner":{"account_id":13167846,"reputation":31,"user_id":9511333,"display_name":"user9511333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664770240,"creation_date":1664555209,"question_id":73911578,"body_markdown":"I am looking for a jar alternative for commons-httpclient-3.1.jar.\r\n\r\nIt contains a java class called ProtocolSocketFactory.\r\n\r\nProtocolSocketFactory class is not present in httpclient4 or httpclient5.\r\n\r\nProtocolSocketFactory particular class is referenced in opensaml-2.6.6.jar.\r\n\r\n```DefaultBootstrap.bootstrap();```\r\n\r\n[![Opensaml jar decompiled][1]][1]\r\n\r\n\r\nAs you can see it is referencing ProtocolSocketFactory from commons-httpclient-3.1.jar.\r\n[![enter image description here][2]][2]\r\n\r\nAny way to fix this issue related to commons-httpclient-3.1.jar whereby, i can remove the jar and still make opensaml work with some alternative to commons-httpclient.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ct6lK.png\r\n  [2]: https://i.stack.imgur.com/yQZWx.png","title":"java.lang.NoClassDefFoundError: org/apache/commons/httpclient/protocol/ProtocolSocketFactory","body":"<p>I am looking for a jar alternative for commons-httpclient-3.1.jar.</p>\n<p>It contains a java class called ProtocolSocketFactory.</p>\n<p>ProtocolSocketFactory class is not present in httpclient4 or httpclient5.</p>\n<p>ProtocolSocketFactory particular class is referenced in opensaml-2.6.6.jar.</p>\n<p><code>DefaultBootstrap.bootstrap();</code></p>\n<p><a href=\"https://i.stack.imgur.com/ct6lK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ct6lK.png\" alt=\"Opensaml jar decompiled\" /></a></p>\n<p>As you can see it is referencing ProtocolSocketFactory from commons-httpclient-3.1.jar.\n<a href=\"https://i.stack.imgur.com/yQZWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQZWx.png\" alt=\"enter image description here\" /></a></p>\n<p>Any way to fix this issue related to commons-httpclient-3.1.jar whereby, i can remove the jar and still make opensaml work with some alternative to commons-httpclient.</p>\n"},{"tags":["java","line-by-line"],"comments":[{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1664713867,"post_id":73925808,"comment_id":130530445,"body_markdown":"add a counter and increment it inside the `if (i%5==0)` .  if the counter reaches the desired number`println()`  and reset it.","body":"add a counter and increment it inside the <code>if (i%5==0)</code> .  if the counter reaches the desired number<code>println()</code>  and reset it."}],"answers":[{"tags":[],"owner":{"account_id":6645835,"reputation":459,"user_id":5129982,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664714147,"creation_date":1664714147,"answer_id":73925851,"question_id":73925808,"body_markdown":"You can approach this with a simple modulo-counter, that would break the line, whenever the number of prints reached four. Your code would then look similar to:\r\n```java\r\nint counter = 0;\r\nfor (int i = 0; i &lt; 100; i++) {\r\n  if (i % 5 == 0) {\r\n    System.out.print(i);\r\n    if (++counter % 4 == 0) // Then break the line\r\n      System.out.println();\r\n    else // print the comma\r\n      System.out.print(&quot;, &quot;);\r\n  }\r\n}\r\n```\r\n\r\nHere is a similar question: https://stackoverflow.com/questions/18645605/how-to-print-n-numbers-per-line","title":"how to print divisibles of a number in separate lines?","body":"<p>You can approach this with a simple modulo-counter, that would break the line, whenever the number of prints reached four. Your code would then look similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int counter = 0;\nfor (int i = 0; i &lt; 100; i++) {\n  if (i % 5 == 0) {\n    System.out.print(i);\n    if (++counter % 4 == 0) // Then break the line\n      System.out.println();\n    else // print the comma\n      System.out.print(&quot;, &quot;);\n  }\n}\n</code></pre>\n<p>Here is a similar question: <a href=\"https://stackoverflow.com/questions/18645605/how-to-print-n-numbers-per-line\">How to print n numbers per line</a></p>\n"},{"tags":[],"owner":{"account_id":26506231,"reputation":1,"user_id":20142358,"display_name":"Mohan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664714154,"creation_date":1664714154,"answer_id":73925852,"question_id":73925808,"body_markdown":"```\r\nint count = 0;\r\nfor(int i=0;i&lt;100;i++){\r\n    if(i%5==0){\r\n        System.out.print(i+&quot;, &quot;);\r\n        count++;\r\n        if(count%4==0){\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"how to print divisibles of a number in separate lines?","body":"<pre><code>int count = 0;\nfor(int i=0;i&lt;100;i++){\n    if(i%5==0){\n        System.out.print(i+&quot;, &quot;);\n        count++;\n        if(count%4==0){\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18992970,"reputation":81,"user_id":13861797,"display_name":"Md. Kabir Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664714486,"creation_date":1664714486,"answer_id":73925890,"question_id":73925808,"body_markdown":"        import java.util.*;\r\n        \r\n        class MyClass{\r\n        \t\r\n        static int MyNum(int n)\r\n        {\r\n        \r\n        \t// Iterate from 1 to N=100\r\n        \tfor(int i = 1; i &lt; n; i++)\r\n        \t{\r\n        \r\n        \t//operator is used\r\n        \tif (i % 5 == 0)\r\n        \t\tSystem.out.print(i + &quot; &quot;);\r\n        \t}\r\n        \treturn n;\r\n        }\r\n        \r\n        public static void main(String args[])\r\n        {\r\n        \t// Input goes here\r\n        \tint N = 100;\r\n        \t\r\n        \t//generator function\r\n        \tMyNum(N);\r\n        }\r\n      }\r\n\r\n**Output : 5 10 15 20**","title":"how to print divisibles of a number in separate lines?","body":"<pre><code>    import java.util.*;\n    \n    class MyClass{\n        \n    static int MyNum(int n)\n    {\n    \n        // Iterate from 1 to N=100\n        for(int i = 1; i &lt; n; i++)\n        {\n    \n        //operator is used\n        if (i % 5 == 0)\n            System.out.print(i + &quot; &quot;);\n        }\n        return n;\n    }\n    \n    public static void main(String args[])\n    {\n        // Input goes here\n        int N = 100;\n        \n        //generator function\n        MyNum(N);\n    }\n  }\n</code></pre>\n<p><strong>Output : 5 10 15 20</strong></p>\n"}],"owner":{"account_id":26203018,"reputation":1,"user_id":19883060,"display_name":"parisr lover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664770060,"creation_date":1664713676,"question_id":73925808,"body_markdown":"In Java, I have been trying to print the divisibles of the number 5. I got them to print out, but I would like to print four numbers in each line. I am using the following to print out the numbers divided by 5. \r\n\r\n    System.out.println(&quot;\\nDivided by 5: &quot;);\t\t\r\n    \r\n\tfor (int i=1; i&lt;100; i++) {\r\n\t\t\tif (i%5==0) \r\n\t\t\tSystem.out.print(i +&quot;, &quot;);\t\t\t\r\n\t}\t\t\t\r\n\t\t\t\r\nWhat should I format to print four numbers of those divisibles line by line?","title":"how to print divisibles of a number in separate lines?","body":"<p>In Java, I have been trying to print the divisibles of the number 5. I got them to print out, but I would like to print four numbers in each line. I am using the following to print out the numbers divided by 5.</p>\n<pre><code>System.out.println(&quot;\\nDivided by 5: &quot;);     \n\nfor (int i=1; i&lt;100; i++) {\n        if (i%5==0) \n        System.out.print(i +&quot;, &quot;);          \n}           \n        \n</code></pre>\n<p>What should I format to print four numbers of those divisibles line by line?</p>\n"},{"tags":["java","arrays","arraylist"],"answers":[{"tags":[],"owner":{"account_id":26429840,"reputation":11,"user_id":20146485,"display_name":"Dante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664768332,"creation_date":1664767841,"answer_id":73930870,"question_id":73930549,"body_markdown":"Assume you have a list of array elements ` a1,a2,a3,....,an` \r\n such that `a1&lt;a2&lt;a3&lt;a4&lt;.....,&lt;an `(sorted list).\r\n Applying the above algorithm to this list ,after first iteration of for loop min holds the value of a1\r\n and max holds the value of an. \r\n This values get stored in the values in array sorted[0] and sorted[arr.size-1].\r\n After that the algorithm removed the a1,an and but did not changed the values of max and min.\r\n They still holds a1 and an.\r\n Since there are no values less than a1 and greater than an  , the values of max and min doesn&#39;t change .\r\n Thus during successive iteration -\r\n   ` sorted[0],sorted[1],......,sorted[array.size()/2 -1] holds the values of a1 and sorted[array.size()/2+1]....,\r\n\tsorted[array.size-1] holds the value of an.`\r\n\r\n [Solution] --- Initialize the value of max and min after the while loop.\r\n\r\n  [Tips]- If you are  stuck in a problem try to output the values of intermediate variables like max and min and  check what values are\r\n  they  holding when the program runs. This might give you an idea  where the code might went wrong.\r\n  The time complexity of this algorithm is quadratic why not use Mergesort or Heapsort!!\r\n ","title":"Loop through array correctly after removing items","body":"<p>Assume you have a list of array elements <code> a1,a2,a3,....,an</code>\nsuch that <code>a1&lt;a2&lt;a3&lt;a4&lt;.....,&lt;an </code>(sorted list).\nApplying the above algorithm to this list ,after first iteration of for loop min holds the value of a1\nand max holds the value of an.\nThis values get stored in the values in array sorted[0] and sorted[arr.size-1].\nAfter that the algorithm removed the a1,an and but did not changed the values of max and min.\nThey still holds a1 and an.\nSince there are no values less than a1 and greater than an  , the values of max and min doesn't change .\nThus during successive iteration -\n<code> sorted[0],sorted[1],......,sorted[array.size()/2 -1] holds the values of a1 and sorted[array.size()/2+1]...., sorted[array.size-1] holds the value of an.</code></p>\n<p>[Solution] --- Initialize the value of max and min after the while loop.</p>\n<p>[Tips]- If you are  stuck in a problem try to output the values of intermediate variables like max and min and  check what values are\nthey  holding when the program runs. This might give you an idea  where the code might went wrong.\nThe time complexity of this algorithm is quadratic why not use Mergesort or Heapsort!!</p>\n"},{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664768167,"creation_date":1664768167,"answer_id":73930888,"question_id":73930549,"body_markdown":"This initialization must be in the for loop:\r\n```\r\nint min = array.get(0);       //both min and max initially start at first element\r\nint max = array.get(0);\r\n```\r\n\r\nSome other considerations: \r\n1. You should also consider when min and max are having the same value, what will you do in that scenario? The same value can be either pointing to same index, but it can also point to different index i.e. duplicated values.\r\n\r\n2. Try to sort even number of integers, then try odd number of integers. Do both works?\r\n\r\n3. Should you store the min max index instead of the min max value?\r\n\r\n ","title":"Loop through array correctly after removing items","body":"<p>This initialization must be in the for loop:</p>\n<pre><code>int min = array.get(0);       //both min and max initially start at first element\nint max = array.get(0);\n</code></pre>\n<p>Some other considerations:</p>\n<ol>\n<li><p>You should also consider when min and max are having the same value, what will you do in that scenario? The same value can be either pointing to same index, but it can also point to different index i.e. duplicated values.</p>\n</li>\n<li><p>Try to sort even number of integers, then try odd number of integers. Do both works?</p>\n</li>\n<li><p>Should you store the min max index instead of the min max value?</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664769839,"creation_date":1664769839,"answer_id":73931024,"question_id":73930549,"body_markdown":"You need to reset `min` and `max` on each iteration of the `while` loop.  \r\nJust move the following two lines of your code to inside that loop.\r\n```java\r\nint min = array.get(0);       //both min and max initially start at first element\r\nint max = array.get(0);\r\n```\r\nThe entire method (with some optimizations and adhering to Java naming conventions) as a minimal, reproducible example:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class Exercise {\r\n\r\n    public static int[] novelSort(ArrayList&lt;Integer&gt; array) {\r\n        //array for sorted elements\r\n        int[] sorted = new int[array.size()];\r\n        //variables\r\n        int left = 0;\r\n        //int right = fully_sorted.length - 1;\r\n        int right = array.size() - 1;\r\n\r\n        while (!array.isEmpty()) {\r\n            int min = array.get(0);       //both min and max initially start at first element\r\n            int max = array.get(0);\r\n            //compare elements and interchange min and max until found\r\n            for (int i = 0; i &lt; array.size(); i++) {\r\n                int elem = array.get(i);\r\n                if (elem &gt; max) {\r\n                    max = elem;\r\n                }\r\n                else if (elem &lt; min) {\r\n                    min = elem;\r\n                }\r\n            }\r\n            //insert elements into &#39;sorted&#39; array\r\n            sorted[left] = min;\r\n            sorted[right] = max;\r\n\r\n            //remove elements\r\n            array.remove(array.indexOf(min));\r\n            array.remove(array.indexOf(max));\r\n\r\n            //decrement and increment the indices (going inward)\r\n            right--;\r\n            left++;\r\n        }\r\n        for (int i = 0; i &lt;= (sorted.length - 1); i++) {\r\n            System.out.println(sorted[i]);\r\n        }\r\n        return sorted;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        novelSort(new ArrayList&lt;&gt;(Arrays.asList(5, 4, 3, 2, 1, 0)));\r\n    }\r\n}\r\n```\r\n","title":"Loop through array correctly after removing items","body":"<p>You need to reset <code>min</code> and <code>max</code> on each iteration of the <code>while</code> loop.<br />\nJust move the following two lines of your code to inside that loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int min = array.get(0);       //both min and max initially start at first element\nint max = array.get(0);\n</code></pre>\n<p>The entire method (with some optimizations and adhering to Java naming conventions) as a minimal, reproducible example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Exercise {\n\n    public static int[] novelSort(ArrayList&lt;Integer&gt; array) {\n        //array for sorted elements\n        int[] sorted = new int[array.size()];\n        //variables\n        int left = 0;\n        //int right = fully_sorted.length - 1;\n        int right = array.size() - 1;\n\n        while (!array.isEmpty()) {\n            int min = array.get(0);       //both min and max initially start at first element\n            int max = array.get(0);\n            //compare elements and interchange min and max until found\n            for (int i = 0; i &lt; array.size(); i++) {\n                int elem = array.get(i);\n                if (elem &gt; max) {\n                    max = elem;\n                }\n                else if (elem &lt; min) {\n                    min = elem;\n                }\n            }\n            //insert elements into 'sorted' array\n            sorted[left] = min;\n            sorted[right] = max;\n\n            //remove elements\n            array.remove(array.indexOf(min));\n            array.remove(array.indexOf(max));\n\n            //decrement and increment the indices (going inward)\n            right--;\n            left++;\n        }\n        for (int i = 0; i &lt;= (sorted.length - 1); i++) {\n            System.out.println(sorted[i]);\n        }\n        return sorted;\n    }\n\n    public static void main(String args[]) {\n        novelSort(new ArrayList&lt;&gt;(Arrays.asList(5, 4, 3, 2, 1, 0)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20822826,"reputation":9,"user_id":15294003,"display_name":"Florence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73930888,"answer_count":3,"score":0,"last_activity_date":1664769839,"creation_date":1664762689,"question_id":73930549,"body_markdown":"I have the following code where I am trying to create a sorting algorithm that finds the min and max elements in an array, exchanges those elements with the first and last elements in the array, and then reduces the array&#39;s size by 2 after excluding the two elements that are already in the proper positions, and repeats that process again until the array is sorted.\r\n\r\nI am aware that one can use an int[] array as the main array, but I went with an ArrayList for this instead. After removing the two elements from the ArrayList, the program is supposed to find the next min and max, but for whatever reason, the min and max are still the previous elements that were supposedly removed. I even adjusted the left and right index variables. \r\n\r\nHow would I fix this issue?\r\n\r\n``` \r\npublic static int[] novel_sort(ArrayList&lt;Integer&gt; array) {\r\n        //array for sorted elements\r\n        int[] sorted = new int[array.size()];\r\n        //variables\r\n        int left = 0;    \r\n        //int right = fully_sorted.length - 1;    \r\n        int right = array.size() - 1;\r\n        int min = array.get(0);       //both min and max initially start at first element\r\n        int max = array.get(0);\r\n        \r\n        while (array.isEmpty() != true) {\r\n            //compare elements and interchange min and max until found\r\n            for (int i = 0; i &lt; array.size(); i++) {\r\n                if (array.get(i) &gt; max) {\r\n                    max = array.get(i);\r\n                }\r\n                else if (array.get(i) &lt; min || array.get(i) == min) {\r\n                    min = array.get(i);\r\n                }\r\n            }\r\n            //insert elements into &#39;sorted&#39; array\r\n            sorted[left] = min;\r\n            sorted[right] = max;\r\n        \r\n            //remove elements\r\n            array.remove(array.indexOf(min));\r\n            array.remove(array.indexOf(max));\r\n            \r\n            \r\n            //decrement and increment the indices (going inward)\r\n            right--;\r\n            left++;\r\n        }\r\n       \r\n         for (int i = 0; i &lt;= (sorted.length - 1); i++) {\r\n            System.out.println(sorted[i]);\r\n        }\r\n         return sorted;\r\n}\r\n```","title":"Loop through array correctly after removing items","body":"<p>I have the following code where I am trying to create a sorting algorithm that finds the min and max elements in an array, exchanges those elements with the first and last elements in the array, and then reduces the array's size by 2 after excluding the two elements that are already in the proper positions, and repeats that process again until the array is sorted.</p>\n<p>I am aware that one can use an int[] array as the main array, but I went with an ArrayList for this instead. After removing the two elements from the ArrayList, the program is supposed to find the next min and max, but for whatever reason, the min and max are still the previous elements that were supposedly removed. I even adjusted the left and right index variables.</p>\n<p>How would I fix this issue?</p>\n<pre><code>public static int[] novel_sort(ArrayList&lt;Integer&gt; array) {\n        //array for sorted elements\n        int[] sorted = new int[array.size()];\n        //variables\n        int left = 0;    \n        //int right = fully_sorted.length - 1;    \n        int right = array.size() - 1;\n        int min = array.get(0);       //both min and max initially start at first element\n        int max = array.get(0);\n        \n        while (array.isEmpty() != true) {\n            //compare elements and interchange min and max until found\n            for (int i = 0; i &lt; array.size(); i++) {\n                if (array.get(i) &gt; max) {\n                    max = array.get(i);\n                }\n                else if (array.get(i) &lt; min || array.get(i) == min) {\n                    min = array.get(i);\n                }\n            }\n            //insert elements into 'sorted' array\n            sorted[left] = min;\n            sorted[right] = max;\n        \n            //remove elements\n            array.remove(array.indexOf(min));\n            array.remove(array.indexOf(max));\n            \n            \n            //decrement and increment the indices (going inward)\n            right--;\n            left++;\n        }\n       \n         for (int i = 0; i &lt;= (sorted.length - 1); i++) {\n            System.out.println(sorted[i]);\n        }\n         return sorted;\n}\n</code></pre>\n"},{"tags":["java","encryption","bouncycastle"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664786989,"post_id":73931021,"comment_id":130543299,"body_markdown":"Is &#39;testing&#39;  the required passphrase when accessing your default key with gpg at the command line?","body":"Is &#39;testing&#39;  the required passphrase when accessing your default key with gpg at the command line?"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664805255,"post_id":73931021,"comment_id":130548977,"body_markdown":"&quot;testing&quot; is the passpharse that is used in Python while encrypting.","body":"&quot;testing&quot; is the passpharse that is used in Python while encrypting."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664809525,"post_id":73931021,"comment_id":130550505,"body_markdown":"Well, gpg normally requires a passphrase to *access* a private key. That is the default. If you&#39;ve somehow done symmetric encryption *within* PKI, you&#39;d therefore quite possibly need *two* passphrases - one for the private key access and another to supply the symmetric key (via passphrase)","body":"Well, gpg normally requires a passphrase to <i>access</i> a private key. That is the default. If you&#39;ve somehow done symmetric encryption <i>within</i> PKI, you&#39;d therefore quite possibly need <i>two</i> passphrases - one for the private key access and another to supply the symmetric key (via passphrase)"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664810725,"post_id":73931021,"comment_id":130550864,"body_markdown":"Where we can find the default passpharse","body":"Where we can find the default passpharse"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664811069,"post_id":73931021,"comment_id":130550958,"body_markdown":"When I say &quot;default&quot; I mean that *having* a passphrase for your private key is the default. You&#39;re asked for one on creation of the key pair afaicr","body":"When I say &quot;default&quot; I mean that <i>having</i> a passphrase for your private key is the default. You&#39;re asked for one on creation of the key pair afaicr"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664811209,"post_id":73931021,"comment_id":130551028,"body_markdown":"The same passphrase used in our Python code for both.","body":"The same passphrase used in our Python code for both."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664813743,"post_id":73931021,"comment_id":130551872,"body_markdown":"What happens with ```gpg -d thefilename```  at the command line?","body":"What happens with <code>gpg -d thefilename</code>  at the command line?"},{"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"score":0,"creation_date":1664814542,"post_id":73931021,"comment_id":130552131,"body_markdown":"I did not install GPG. I will install it and check","body":"I did not install GPG. I will install it and check"}],"owner":{"account_id":8586073,"reputation":359,"user_id":7293136,"accept_rate":67,"display_name":"Kiran"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664769808,"creation_date":1664769808,"question_id":73931021,"body_markdown":"There is a scenario where GPG Encryption is done using Python and Decryption should be done in Java. I have used Bouncy Castle API. I am getting below error. Any help on this is so much appreciated  \r\n\r\n  Caused by: org.bouncycastle.openpgp.PGPException: Decryption failed - No secret key was found in the key ring matching the public key used to encrypt the file, aborting\r\n\tat name.neuhalfen.projects.crypto.bouncycastle.openpgp.decrypting.DecryptionStreamFactory.nextDecryptedStream(DecryptionStreamFactory.java:152)\r\n\r\n\t final InMemoryKeyring keyring = KeyringConfigs\r\n\t        .forGpgExportedKeys(KeyringConfigCallbacks.withPassword(&quot;testing&quot;));\r\n\t    keyring.addSecretKey(pvtKey.getBytes());\r\n\t    keyring.addPublicKey(pubKey.getBytes());\r\n\r\n\t    ByteArrayInputStream cipherTextStream = new ByteArrayInputStream(encFilePath.getBytes());\r\n\r\n\t    final InputStream decryptedInputStream = BouncyGPG.decryptAndVerifyStream()\r\n\t        .withConfig(keyring)\r\n\t        .andRequireSignatureFromAllKeys(&quot;recipent@test.com&quot;)\r\n\t        .fromEncryptedInputStream(cipherTextStream);","title":"GPG decryption using Bouncy Castle","body":"<p>There is a scenario where GPG Encryption is done using Python and Decryption should be done in Java. I have used Bouncy Castle API. I am getting below error. Any help on this is so much appreciated</p>\n<p>Caused by: org.bouncycastle.openpgp.PGPException: Decryption failed - No secret key was found in the key ring matching the public key used to encrypt the file, aborting\nat name.neuhalfen.projects.crypto.bouncycastle.openpgp.decrypting.DecryptionStreamFactory.nextDecryptedStream(DecryptionStreamFactory.java:152)</p>\n<pre><code> final InMemoryKeyring keyring = KeyringConfigs\n        .forGpgExportedKeys(KeyringConfigCallbacks.withPassword(&quot;testing&quot;));\n    keyring.addSecretKey(pvtKey.getBytes());\n    keyring.addPublicKey(pubKey.getBytes());\n\n    ByteArrayInputStream cipherTextStream = new ByteArrayInputStream(encFilePath.getBytes());\n\n    final InputStream decryptedInputStream = BouncyGPG.decryptAndVerifyStream()\n        .withConfig(keyring)\n        .andRequireSignatureFromAllKeys(&quot;recipent@test.com&quot;)\n        .fromEncryptedInputStream(cipherTextStream);\n</code></pre>\n"},{"tags":["java","android","translation","runnable"],"answers":[{"tags":[],"owner":{"account_id":25014512,"reputation":26,"user_id":18873721,"display_name":"Hai Luong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664766134,"creation_date":1664766134,"answer_id":73930742,"question_id":73928765,"body_markdown":"The view/layout is not inflated yet so you can&#39;t. \r\n\r\nDo you mind if I ask why you want to do it before the widget is shown?","title":"How to set negative translationX before app load","body":"<p>The view/layout is not inflated yet so you can't.</p>\n<p>Do you mind if I ask why you want to do it before the widget is shown?</p>\n"}],"owner":{"account_id":14237857,"reputation":419,"user_id":10285173,"display_name":"Bret Joseph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664768269,"creation_date":1664739157,"question_id":73928765,"body_markdown":"when I set a view&#39;s translationX whether via XML or programmatically android seems to ignore the code.\r\n\r\nWhen I run view.setTranslationX(-200); it ignores the translation and the app shows the view at 200 instead\r\n\r\nIf I run via post Runnable or overriding onMeasure it can be moved to -200 but it momentarily shows when the app loads. I don&#39;t want it to be seen on app start\r\n\r\nWhat can I do to translate view before widget is shown.\r\n\r\nWhen is the earliest I can set translationX?","title":"How to set negative translationX before app load","body":"<p>when I set a view's translationX whether via XML or programmatically android seems to ignore the code.</p>\n<p>When I run view.setTranslationX(-200); it ignores the translation and the app shows the view at 200 instead</p>\n<p>If I run via post Runnable or overriding onMeasure it can be moved to -200 but it momentarily shows when the app loads. I don't want it to be seen on app start</p>\n<p>What can I do to translate view before widget is shown.</p>\n<p>When is the earliest I can set translationX?</p>\n"},{"tags":["java","jframe","jpanel","jlabel"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1664767203,"post_id":73930809,"comment_id":130539364,"body_markdown":"Since you&#39;ve not provided a [mcve], I would &quot;guess&quot; that `Game#getImg` is returning `void`","body":"Since you&#39;ve not provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, I would &quot;guess&quot; that <code>Game#getImg</code> is returning <code>void</code>"},{"owner":{"account_id":24299494,"reputation":1,"user_id":18243211,"display_name":"demodogo"},"score":0,"creation_date":1664767293,"post_id":73930809,"comment_id":130539381,"body_markdown":"@MadProgrammer not really, because I did a system.out.print(game.getImg()) and it printed the url...I&#39;m clearly doing something wrong but I dont know what.","body":"@MadProgrammer not really, because I did a system.out.print(game.getImg()) and it printed the url...I&#39;m clearly doing something wrong but I dont know what."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1664767402,"post_id":73930809,"comment_id":130539398,"body_markdown":"Then, please, post a [mcve] which demonstrates your issue and removes all the ambiguity","body":"Then, please, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue and removes all the ambiguity"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1664767496,"post_id":73930809,"comment_id":130539412,"body_markdown":"`new JLabel().setIcon(...)` &lt;- `setIcon` returns `void`.   Use the constructor variant  instead, [`JLabel(Icon)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JLabel.html#%3Cinit%3E(javax.swing.Icon))","body":"<code>new JLabel().setIcon(...)</code> &lt;- <code>setIcon</code> returns <code>void</code>.   Use the constructor variant  instead, <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JLabel.html#%3Cinit%3E(javax.swing.Icon)\" rel=\"nofollow noreferrer\"><code>JLabel(Icon)</code></a>"}],"owner":{"account_id":24299494,"reputation":1,"user_id":18243211,"display_name":"demodogo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664767221,"creation_date":1664767053,"question_id":73930809,"body_markdown":"&gt; I&#39;ve been trying to add an array of images to a JPanel and then add\r\n&gt; that JPanel to JFrame. I couldn&#39;t figure it out, so now I made a\r\n&gt; JFrame Form, added a JPanel there and tried to customize the code.\r\n&gt; \r\n&gt; I have a class named Game that only has one attribute called &quot;img&quot;,\r\n&gt; which is a string of the image url; &lt;br/&gt;\r\n&gt; gameArray is an ArrayList of Game where I added the objects. \r\n\r\n&gt; [&quot;mainPanel&quot; is the panel I added in JFrame Form][1] &lt;br/&gt;\r\n[this is the custom code][2] &lt;br/&gt;\r\n[this is the error i&#39;m getting][3]\r\n&gt; \r\n&gt; The objective is: I create many &quot;Game&quot; objects. One of the attributes\r\n&gt; is an img url (String), and I want to display those images in JFrame.\r\n&gt; (Like Steam maybe? or other game stores(if that&#39;s how you say it xD))\r\n&gt; I&#39;m sorry if this is not clear enough. My english is not great hehe.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ea1kC.png\r\n  [2]: https://i.stack.imgur.com/xKNt3.png\r\n  [3]: https://i.stack.imgur.com/RAVm9.png","title":"Cant add images to JPanel","body":"<blockquote>\n<p>I've been trying to add an array of images to a JPanel and then add\nthat JPanel to JFrame. I couldn't figure it out, so now I made a\nJFrame Form, added a JPanel there and tried to customize the code.</p>\n<p>I have a class named Game that only has one attribute called &quot;img&quot;,\nwhich is a string of the image url; <br/>\ngameArray is an ArrayList of Game where I added the objects.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/ea1kC.png\" rel=\"nofollow noreferrer\">&quot;mainPanel&quot; is the panel I added in JFrame Form</a> <br/>\n<a href=\"https://i.stack.imgur.com/xKNt3.png\" rel=\"nofollow noreferrer\">this is the custom code</a> <br/>\n<a href=\"https://i.stack.imgur.com/RAVm9.png\" rel=\"nofollow noreferrer\">this is the error i'm getting</a></p>\n<p>The objective is: I create many &quot;Game&quot; objects. One of the attributes\nis an img url (String), and I want to display those images in JFrame.\n(Like Steam maybe? or other game stores(if that's how you say it xD))\nI'm sorry if this is not clear enough. My english is not great hehe.</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1664766863,"post_id":73930777,"comment_id":130539323,"body_markdown":"What are you expecting from `args`? Looking at your function now, seems it is not used!!","body":"What are you expecting from <code>args</code>? Looking at your function now, seems it is not used!!"},{"owner":{"display_name":"user20146539"},"score":0,"creation_date":1664767256,"post_id":73930777,"comment_id":130539373,"body_markdown":"Not completely sure what it does, just thought it had to be there.","body":"Not completely sure what it does, just thought it had to be there."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664787380,"post_id":73930777,"comment_id":130543424,"body_markdown":"You say absolutely nothing about how your algorithm is meant to work. Are we meant to guess?","body":"You say absolutely nothing about how your algorithm is meant to work. Are we meant to guess?"}],"owner":{"display_name":"user20146539"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664766927,"creation_date":1664766584,"question_id":73930777,"body_markdown":"I am trying to create a method that determines the form of an angle (either radians or degrees) and from there, when prompted changes the format that the angle is displayed. The class starts in degrees but I can&#39;t find a way to get it to change to radians based on the input from the simulation class that I made.\r\n\r\n    public static boolean type(String[] args)\r\n    {   \r\n        MyVector vec1 = new MyVector(2,3);\r\n        MyVector vec2 = new MyVector(-1,4);\r\n        if(vec1.angle(vec2) == 47.7263){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\nThis is what I have so far to determine whether or not the class is operating in degrees or radians but after this, I have no clue what to do. I thought about adding some type of counter to the simulation class to see how many times the method to change the class was run but I am not sure how to do that.","title":"How to change the format of output for an angle","body":"<p>I am trying to create a method that determines the form of an angle (either radians or degrees) and from there, when prompted changes the format that the angle is displayed. The class starts in degrees but I can't find a way to get it to change to radians based on the input from the simulation class that I made.</p>\n<pre><code>public static boolean type(String[] args)\n{   \n    MyVector vec1 = new MyVector(2,3);\n    MyVector vec2 = new MyVector(-1,4);\n    if(vec1.angle(vec2) == 47.7263){\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>This is what I have so far to determine whether or not the class is operating in degrees or radians but after this, I have no clue what to do. I thought about adding some type of counter to the simulation class to see how many times the method to change the class was run but I am not sure how to do that.</p>\n"},{"tags":["java","gradle","spotless"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1664195867,"post_id":73796733,"comment_id":130408710,"body_markdown":"Check if this helps: https://github.com/diffplug/spotless/blob/main/PADDEDCELL.md","body":"Check if this helps: <a href=\"https://github.com/diffplug/spotless/blob/main/PADDEDCELL.md\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/blob/main/PADDEDCELL.md</a>"},{"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"score":0,"creation_date":1664196448,"post_id":73796733,"comment_id":130408919,"body_markdown":"I do understand how it works, I have attached my definition above. I want to understand how to go about fixing this","body":"I do understand how it works, I have attached my definition above. I want to understand how to go about fixing this"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664765762,"creation_date":1663744488,"question_id":73796733,"body_markdown":"**spotlessDiagnose** diverges after 10 steps message, is seen and doesn&#39;t let us modify **importOrder** across all files. How do we resolve this    \r\n\r\n    gradlew spotlessDiagnose\r\n\r\n    &gt; Task :spotlessJavaDiagnose\r\n        src/main/java/com/foo/repository/Foo.java diverges after 10 steps\r\n        src/main/java/com/foo/repository/Bar.java diverges after 10 steps\r\n\r\n\r\nMy definition looks like this\r\n\r\n    spotless {\r\n        java {\r\n            importOrder()\r\n        }   \r\n    }\r\n\r\n","title":"spotlessDiagnose diverges after 10 steps message","body":"<p><strong>spotlessDiagnose</strong> diverges after 10 steps message, is seen and doesn't let us modify <strong>importOrder</strong> across all files. How do we resolve this</p>\n<pre><code>gradlew spotlessDiagnose\n\n&gt; Task :spotlessJavaDiagnose\n    src/main/java/com/foo/repository/Foo.java diverges after 10 steps\n    src/main/java/com/foo/repository/Bar.java diverges after 10 steps\n</code></pre>\n<p>My definition looks like this</p>\n<pre><code>spotless {\n    java {\n        importOrder()\n    }   \n}\n</code></pre>\n"},{"tags":["java","arrays","list","numbers","max"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1664762889,"post_id":73930540,"comment_id":130538847,"body_markdown":"hello welcome to stackoverflow, can you show us the code that you have tried and not working?","body":"hello welcome to stackoverflow, can you show us the code that you have tried and not working?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1664762994,"post_id":73930540,"comment_id":130538859,"body_markdown":"can you have a local maxima with a list of only 1 or 2 items in it?  Can a local maxima occurr at the beginning or end of the array. for example, if the array is `[1,2,3,4,5]`.  is `5` a local maxima?","body":"can you have a local maxima with a list of only 1 or 2 items in it?  Can a local maxima occurr at the beginning or end of the array. for example, if the array is <code>[1,2,3,4,5]</code>.  is <code>5</code> a local maxima?"},{"owner":{"account_id":26476753,"reputation":1,"user_id":20116535,"display_name":"Bar0n"},"score":0,"creation_date":1664764033,"post_id":73930540,"comment_id":130538982,"body_markdown":"selbie, no 5 would not be a local maxima","body":"selbie, no 5 would not be a local maxima"}],"answers":[{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664765471,"creation_date":1664762923,"answer_id":73930565,"question_id":73930540,"body_markdown":"here&#39;s a hint:\r\n\r\n    for (int i = 1; (i+1) &lt; items.length; i++){\r\n        int current = items[i];\r\n        int previous = items[i-1];\r\n        int next = items[i+1];\r\n\r\n        if ((current &gt; previous) &amp;&amp; (current &gt; next)) {\r\n             // i is a local maxima\r\n        }\r\n    }\r\n","title":"How do I write a program which returns the index of the local maximum?","body":"<p>here's a hint:</p>\n<pre><code>for (int i = 1; (i+1) &lt; items.length; i++){\n    int current = items[i];\n    int previous = items[i-1];\n    int next = items[i+1];\n\n    if ((current &gt; previous) &amp;&amp; (current &gt; next)) {\n         // i is a local maxima\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664764256,"creation_date":1664763058,"answer_id":73930576,"question_id":73930540,"body_markdown":"You can loop from index 1 to 2 less than the size of the list, comparing each element with the elements immediately before and after (add or subtract 1 from the current index).\r\n\r\n```java\r\nstatic List&lt;Integer&gt; CheckMaximum(List&lt;Integer&gt; data) {\r\n    if (data == null || data.size() &lt; 2) return List.of(0); // this case is unclear\r\n\tList&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n\tfor (int i = 1; i &lt; data.size() - 1; i++)\r\n\t\tif (data.get(i) &gt; data.get(i - 1) &amp;&amp; data.get(i) &gt; data.get(i + 1)) res.add(i);\r\n\treturn res;\r\n}\r\n```","title":"How do I write a program which returns the index of the local maximum?","body":"<p>You can loop from index 1 to 2 less than the size of the list, comparing each element with the elements immediately before and after (add or subtract 1 from the current index).</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Integer&gt; CheckMaximum(List&lt;Integer&gt; data) {\n    if (data == null || data.size() &lt; 2) return List.of(0); // this case is unclear\n    List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n    for (int i = 1; i &lt; data.size() - 1; i++)\n        if (data.get(i) &gt; data.get(i - 1) &amp;&amp; data.get(i) &gt; data.get(i + 1)) res.add(i);\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":26476753,"reputation":1,"user_id":20116535,"display_name":"Bar0n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664765471,"creation_date":1664762610,"question_id":73930540,"body_markdown":"## How do I write a program that takes a list of numbers, then finds the index of the local maxima ##\r\n\r\nI have been trying to write the program but I am not sure how to approach it. The local maximum refers to an integer in the list which is larger than the two adjacent numbers next to it. Examples of what the program does;\r\n\r\n    CheckMaximum(data) \r\n    data = {1,7,1,24,15}\r\n\r\n***data** being an array of at least one integer*\r\n\r\nit would have an output of\r\n\r\n    [1, 3]\r\nbecause the local maximums are 7 and 24, which are in the indexes of 1 and 3 respectively.\r\nIf  the array entered has only one number, it would return a `[0]`\r\n\r\n\r\n ","title":"How do I write a program which returns the index of the local maximum?","body":"<h2>How do I write a program that takes a list of numbers, then finds the index of the local maxima</h2>\n<p>I have been trying to write the program but I am not sure how to approach it. The local maximum refers to an integer in the list which is larger than the two adjacent numbers next to it. Examples of what the program does;</p>\n<pre><code>CheckMaximum(data) \ndata = {1,7,1,24,15}\n</code></pre>\n<p><em><strong>data</strong> being an array of at least one integer</em></p>\n<p>it would have an output of</p>\n<pre><code>[1, 3]\n</code></pre>\n<p>because the local maximums are 7 and 24, which are in the indexes of 1 and 3 respectively.\nIf  the array entered has only one number, it would return a <code>[0]</code></p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664764857,"post_id":73930670,"comment_id":130539077,"body_markdown":"You answering yourself here: &quot;The whole purpose of the void testRun is to not return any expected value&quot; - You declared the return type as void... What do you expect to happen when you try to assign the return value(`void`) to the `driver` variables?","body":"You answering yourself here: &quot;The whole purpose of the void testRun is to not return any expected value&quot; - You declared the return type as void... What do you expect to happen when you try to assign the return value(<code>void</code>) to the <code>driver</code> variables?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664765183,"post_id":73930670,"comment_id":130539117,"body_markdown":"In resume, what you are doing in `driver=testRun(...)` is the same as doing `boolean flag = &quot;hello&quot;`","body":"In resume, what you are doing in <code>driver=testRun(...)</code> is the same as doing <code>boolean flag = &quot;hello&quot;</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1664771951,"post_id":73930670,"comment_id":130540006,"body_markdown":"`driver1= testRun(localList, driver);` should be `testRun(localList, driver);` and so on.   Those `driver1`, `driver2` and `driver3` variables appear to be unnecessary ... and it also looks like you didn&#39;t declare them.","body":"<code>driver1= testRun(localList, driver);</code> should be <code>testRun(localList, driver);</code> and so on.   Those <code>driver1</code>, <code>driver2</code> and <code>driver3</code> variables appear to be unnecessary ... and it also looks like you didn&#39;t declare them."},{"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"score":1,"creation_date":1664835935,"post_id":73930670,"comment_id":130557782,"body_markdown":"@aran i see what you mean, perfect example/logic","body":"@aran i see what you mean, perfect example/logic"},{"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"score":1,"creation_date":1664835979,"post_id":73930670,"comment_id":130557791,"body_markdown":"@StephenC my apologies, driver1 - 3 is declared in the global variable forgot to added in above\nThank you for the quick responses everyone.","body":"@StephenC my apologies, driver1 - 3 is declared in the global variable forgot to added in above Thank you for the quick responses everyone."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1664913496,"post_id":73930670,"comment_id":130577537,"body_markdown":"@TrongNguyen no worries, you asked correctly so you&#39;ll always have some help here","body":"@TrongNguyen no worries, you asked correctly so you&#39;ll always have some help here"}],"owner":{"account_id":26489868,"reputation":11,"user_id":20127966,"display_name":"Trong Nguyen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664771899,"answer_count":0,"score":0,"last_activity_date":1664764591,"creation_date":1664764591,"question_id":73930670,"body_markdown":"i&#39;am somewhat new to selenuium multithreading and need some pointers as how to approach this case, as I&#39;m currently stumped.\r\n\r\n    public static class MultiThreadingExample extends Thread {\r\n        String browserType;\r\n\t\tList&lt;String&gt; localList;\r\n\t\tString threadName=&quot;&quot;;\r\n\t\t\r\n\t\tpublic MultiThreadingex(String name, String browserType, List&lt;String&gt; localList, String threadName) {\r\n\t\t\tsuper(name);\r\n\t\t\tthis.browserType = browserType;\r\n\t\t\tthis.localList = localList;\r\n\t\t\tthis.threadName=threadName;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Thread starts &quot; + Thread.currentThread().getName());\r\n\r\n\t\t\tString threadname = Thread.currentThread().getName();\r\n\r\n\t\t\tSystem.out.println(threadname);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tdriver = setUp(this.browserType, threadName);\r\n\t\t\t\tif (threadname.contains(&quot;thread1&quot;)) {\r\n\t\t\t\t\tdriver1= testRun(localList, driver); //error here\r\n\t\t\t\t}\r\n\t\t\t\tif (threadname.contains(&quot;thread2&quot;))\r\n\t\t\t\t\tdriver2= testRun(localList, driver);\r\n\t\t\t\tif (threadname.contains(&quot;thread3&quot;))\r\n\t\t\t\t\tdriver3= testRun(localList, driver);\r\n\t\t\t\t\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n    public WebDriver setUp(String browserType, String threadName) throws Exception { \r\n    //returns the driver setup if its either firefox, internetEx, chromo (complete)\r\n    }\r\n\r\n    public void testRun(List&lt;String&gt; localList, WebDriver drivers) throws Exception { //error here on the void bit...\r\n    //attempts to find and filter the matching cases (complete)\r\n    }\r\n    }\r\n    \r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\t\tList&lt;String&gt; globalList = Arrays.stream(listofPRI).collect(Collectors.toList());\r\n\r\n\t\tseleniumTest.divideArrayList(globalList, 3);\r\n\t\tThread t1 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, firstList, &quot;thread1&quot;);\r\n\t\tThread t2 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, secondList, &quot;thread2&quot;);\r\n\t\tThread t3 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, thirdList, &quot;thread3&quot;);\r\n\r\n\t\tSystem.out.println(&quot;starting Threads (3)&quot;);\r\n\r\n\t\tt1.start();\r\n\t\tt2.start();\r\n\t\tt3.start();\r\n\r\n\t\tSystem.out.println(&quot;Thread has started&quot;);\r\n\r\n\t}\r\n\r\nThe whole purpose of the void testRun is to not return any expected value, but to filter and compare from the arraylist if it is matching or not.\r\nHowever, due to &quot;Type mismatch: cannot convert from void to WebDriver&quot; its expecting a return value. Therefore, its expecting the \r\n&quot;public void testRun&quot; to be changed to &quot;public WebDriver testRun&quot;\r\nwith return statement, which would render the WebDriver setup invalid as the find webelement invalid...\r\n\r\nI&#39;ve tried looking into other example/error where the case is similar but the approach is slightly different than what I would expected. other then that, if i were to remove driver1 and have just in the if statement testRun(localList, driver), it&#39;ll run to the point where it failed to find what it needs to find in the setUp method where it is trying to log in via driver.findElement with error as no such element: Unable to locate element.\r\nthe element is there with thread.sleep(10000)....\r\n\r\nany idea or information as to why such case is going sour would be awesome. \r\n","title":"Type mismatch: cannot convert from void to webdriver","body":"<p>i'am somewhat new to selenuium multithreading and need some pointers as how to approach this case, as I'm currently stumped.</p>\n<pre><code>public static class MultiThreadingExample extends Thread {\n    String browserType;\n    List&lt;String&gt; localList;\n    String threadName=&quot;&quot;;\n    \n    public MultiThreadingex(String name, String browserType, List&lt;String&gt; localList, String threadName) {\n        super(name);\n        this.browserType = browserType;\n        this.localList = localList;\n        this.threadName=threadName;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Thread starts &quot; + Thread.currentThread().getName());\n\n        String threadname = Thread.currentThread().getName();\n\n        System.out.println(threadname);\n\n        try {\n            driver = setUp(this.browserType, threadName);\n            if (threadname.contains(&quot;thread1&quot;)) {\n                driver1= testRun(localList, driver); //error here\n            }\n            if (threadname.contains(&quot;thread2&quot;))\n                driver2= testRun(localList, driver);\n            if (threadname.contains(&quot;thread3&quot;))\n                driver3= testRun(localList, driver);\n            \n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\npublic WebDriver setUp(String browserType, String threadName) throws Exception { \n//returns the driver setup if its either firefox, internetEx, chromo (complete)\n}\n\npublic void testRun(List&lt;String&gt; localList, WebDriver drivers) throws Exception { //error here on the void bit...\n//attempts to find and filter the matching cases (complete)\n}\n}\n\n\npublic static void main(String[] args) throws InterruptedException {\n    List&lt;String&gt; globalList = Arrays.stream(listofPRI).collect(Collectors.toList());\n\n    seleniumTest.divideArrayList(globalList, 3);\n    Thread t1 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, firstList, &quot;thread1&quot;);\n    Thread t2 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, secondList, &quot;thread2&quot;);\n    Thread t3 = new MultiThreadingex(&quot;Thread Chrome&quot;, &quot;Chrome&quot;, thirdList, &quot;thread3&quot;);\n\n    System.out.println(&quot;starting Threads (3)&quot;);\n\n    t1.start();\n    t2.start();\n    t3.start();\n\n    System.out.println(&quot;Thread has started&quot;);\n\n}\n</code></pre>\n<p>The whole purpose of the void testRun is to not return any expected value, but to filter and compare from the arraylist if it is matching or not.\nHowever, due to &quot;Type mismatch: cannot convert from void to WebDriver&quot; its expecting a return value. Therefore, its expecting the\n&quot;public void testRun&quot; to be changed to &quot;public WebDriver testRun&quot;\nwith return statement, which would render the WebDriver setup invalid as the find webelement invalid...</p>\n<p>I've tried looking into other example/error where the case is similar but the approach is slightly different than what I would expected. other then that, if i were to remove driver1 and have just in the if statement testRun(localList, driver), it'll run to the point where it failed to find what it needs to find in the setUp method where it is trying to log in via driver.findElement with error as no such element: Unable to locate element.\nthe element is there with thread.sleep(10000)....</p>\n<p>any idea or information as to why such case is going sour would be awesome.</p>\n"},{"tags":["java","spring-boot","arraylist","compare"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1657772971,"post_id":72975174,"comment_id":128891196,"body_markdown":"Hint: You could use a simple `for` loop to go through the list and do an `if` check to see if you take the varue from the first or second list, then simply save that value to a new list that you can use your your final response.","body":"Hint: You could use a simple <code>for</code> loop to go through the list and do an <code>if</code> check to see if you take the varue from the first or second list, then simply save that value to a new list that you can use your your final response."},{"owner":{"account_id":25211896,"reputation":1,"user_id":19049481,"display_name":"Sohit Kumar"},"score":0,"creation_date":1658315804,"post_id":72975174,"comment_id":129019889,"body_markdown":"can you show me with code ? So I can better understand please ?","body":"can you show me with code ? So I can better understand please ?"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664764411,"creation_date":1657778339,"answer_id":72975851,"question_id":72975174,"body_markdown":"Try this.\r\n\r\n\tpublic static void main(String[] args) {\r\n        List&lt;AppIndustryDto&gt; appIndustries = List.of(\r\n        \tnew AppIndustryDto(&quot;a1&quot;, &quot;i1&quot;),\r\n        \tnew AppIndustryDto(&quot;a1&quot;, &quot;i2&quot;),\r\n        \tnew AppIndustryDto(&quot;a2&quot;, &quot;i3&quot;),\r\n        \tnew AppIndustryDto(&quot;a3&quot;, &quot;i1&quot;));\r\n\r\n        List&lt;AppIndustryDto&gt; tenantAppIndustries = List.of(\r\n        \tnew AppIndustryDto(&quot;a1&quot;, &quot;i4&quot;));\r\n\r\n        Map&lt;String, String&gt; tenantMap = tenantAppIndustries.stream()\r\n        \t.collect(Collectors.toMap(a -&gt; a.appId, a -&gt; a.industryId, (a, b) -&gt; a));\r\n        \t// If the appId is duplicated, select the first one.\r\n\r\n        List&lt;String&gt; industries = appIndustries.stream()\r\n        \t.map(a -&gt; tenantMap.getOrDefault(a.appId, a.industryId))\r\n        \t.distinct()\r\n        \t.collect(Collectors.toList());\r\n\r\n        System.out.println(industries);\r\n\t}\r\n\r\noutput:\r\n\r\n    [i4, i3, i1]\r\n","title":"How to Filter List By Comparing between two lists and if an id exist on second list then take the value from second list otherwise first list?","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;AppIndustryDto&gt; appIndustries = List.of(\n        new AppIndustryDto(&quot;a1&quot;, &quot;i1&quot;),\n        new AppIndustryDto(&quot;a1&quot;, &quot;i2&quot;),\n        new AppIndustryDto(&quot;a2&quot;, &quot;i3&quot;),\n        new AppIndustryDto(&quot;a3&quot;, &quot;i1&quot;));\n\n    List&lt;AppIndustryDto&gt; tenantAppIndustries = List.of(\n        new AppIndustryDto(&quot;a1&quot;, &quot;i4&quot;));\n\n    Map&lt;String, String&gt; tenantMap = tenantAppIndustries.stream()\n        .collect(Collectors.toMap(a -&gt; a.appId, a -&gt; a.industryId, (a, b) -&gt; a));\n        // If the appId is duplicated, select the first one.\n\n    List&lt;String&gt; industries = appIndustries.stream()\n        .map(a -&gt; tenantMap.getOrDefault(a.appId, a.industryId))\n        .distinct()\n        .collect(Collectors.toList());\n\n    System.out.println(industries);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[i4, i3, i1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657781715,"creation_date":1657781715,"answer_id":72976398,"question_id":72975174,"body_markdown":"You can try this \r\n```\r\nList&lt;String&gt; list = appIndustries.stream()\r\n.map(app -&gt; {\r\n  AppIndustryDto dto = tenantAppIndustries.stream()\r\n                              .filter(t -&gt; t.appId.equals(app.appId))\r\n                              .findAny()\r\n                              .orElse(null);\r\n  return dto==null ? app.industryId : dto.industryId ;\r\n})\r\n.distinct()\r\n.collect(Collectors.toList());\r\n\r\n```","title":"How to Filter List By Comparing between two lists and if an id exist on second list then take the value from second list otherwise first list?","body":"<p>You can try this</p>\n<pre><code>List&lt;String&gt; list = appIndustries.stream()\n.map(app -&gt; {\n  AppIndustryDto dto = tenantAppIndustries.stream()\n                              .filter(t -&gt; t.appId.equals(app.appId))\n                              .findAny()\n                              .orElse(null);\n  return dto==null ? app.industryId : dto.industryId ;\n})\n.distinct()\n.collect(Collectors.toList());\n\n</code></pre>\n"}],"owner":{"account_id":25211896,"reputation":1,"user_id":19049481,"display_name":"Sohit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":804,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1664764411,"creation_date":1657772603,"question_id":72975174,"body_markdown":"I have two list appIndustries and tenantAppIndustries both having List of values: \r\n\r\n  \r\n        \r\n        List&lt;String&gt; industries = new ArrayList&lt;&gt;();\r\n        List&lt;AppIndustryDto&gt; appIndustries ;\r\n        List&lt;AppIndustryDto&gt; tenantAppIndustries ;\r\n    \r\n        public class AppIndustryDto {\r\n        public String appId;\r\n        public String industryId;\r\n       }\r\n    \r\n   Both Lists have data. Inside the appIndustries list I am getting:\r\n\r\n\t  a1 i1\r\n\t  a1 i2\r\n\t  a2 i3\r\n\t  a3 i1\r\n    \r\n   Inside tenantAppIndustries list I am getting:\r\n\r\n\t a1 i4\r\n    \r\n Final Response should be industries list and should have [i1,i3,i4]\r\n\r\n","title":"How to Filter List By Comparing between two lists and if an id exist on second list then take the value from second list otherwise first list?","body":"<p>I have two list appIndustries and tenantAppIndustries both having List of values:</p>\n<pre><code>    List&lt;String&gt; industries = new ArrayList&lt;&gt;();\n    List&lt;AppIndustryDto&gt; appIndustries ;\n    List&lt;AppIndustryDto&gt; tenantAppIndustries ;\n\n    public class AppIndustryDto {\n    public String appId;\n    public String industryId;\n   }\n</code></pre>\n<p>Both Lists have data. Inside the appIndustries list I am getting:</p>\n<pre><code>  a1 i1\n  a1 i2\n  a2 i3\n  a3 i1\n</code></pre>\n<p>Inside tenantAppIndustries list I am getting:</p>\n<pre><code> a1 i4\n</code></pre>\n<p>Final Response should be industries list and should have [i1,i3,i4]</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1643380199,"post_id":70895333,"comment_id":125331278,"body_markdown":"I can use Thread. sleep but I don&#39;t want to use it.","body":"I can use Thread. sleep but I don&#39;t want to use it."},{"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"score":0,"creation_date":1643380461,"post_id":70895333,"comment_id":125331392,"body_markdown":"Try using [`textMatches`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#textMatches(org.openqa.selenium.By,java.util.regex.Pattern)) with Explicit wait. match with empty/blank string","body":"Try using <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#textMatches(org.openqa.selenium.By,java.util.regex.Pattern)\" rel=\"nofollow noreferrer\"><code>textMatches</code></a> with Explicit wait. match with empty/blank string"},{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1643381855,"post_id":70895333,"comment_id":125332000,"body_markdown":"used wait.until(ExpectedConditions.textToBePresentInElement(webelement, &quot;&quot;)); but still issue is same.","body":"used wait.until(ExpectedConditions.textToBePresentInElement(webel&zwnj;&#8203;ement, &quot;&quot;)); but still issue is same."},{"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"score":0,"creation_date":1643382543,"post_id":70895333,"comment_id":125332323,"body_markdown":"try using textMatches as suggested","body":"try using textMatches as suggested"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1643612506,"post_id":70895333,"comment_id":125377119,"body_markdown":"Any of `org.openqa.selenium.support.ui.ExpectedConditions` has to be false at the moment of call otherwise it will throw `org.openqa.selenium.TimeoutException`.","body":"Any of <code>org.openqa.selenium.support.ui.ExpectedConditions</code> has to be false at the moment of call otherwise it will throw <code>org.openqa.selenium.TimeoutException</code>."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643613178,"creation_date":1643613178,"answer_id":70922323,"question_id":70895333,"body_markdown":"try this:\r\n\r\n\tpublic static Boolean textMatchTest(WebDriver driver, By locator, String expectedText) {\r\n\t\tBoolean textMatch = null;\r\n\t\tWebElement element = driver.findElement(locator);\r\n\t\tif (element.getText().equals(expectedText)) {\r\n\t\t\ttextMatch = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttry {\r\n\t\t\t\tnew WebDriverWait(driver, 10).until(textToBe(locator, expectedText));\r\n\t\t\t\ttextMatch = true;\r\n\t\t\t}\r\n\t\t\tcatch (TimeoutException timeoutException) {\r\n\t\t\t\ttextMatch = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn textMatch;\r\n\t}","title":"How to wait until text box is empty selenium java?","body":"<p>try this:</p>\n<pre><code>public static Boolean textMatchTest(WebDriver driver, By locator, String expectedText) {\n    Boolean textMatch = null;\n    WebElement element = driver.findElement(locator);\n    if (element.getText().equals(expectedText)) {\n        textMatch = true;\n    }\n    else {\n        try {\n            new WebDriverWait(driver, 10).until(textToBe(locator, expectedText));\n            textMatch = true;\n        }\n        catch (TimeoutException timeoutException) {\n            textMatch = false;\n        }\n    }\n    return textMatch;\n}\n</code></pre>\n"}],"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1664764315,"creation_date":1643380020,"question_id":70895333,"body_markdown":"My scenario is\r\n1. enter the value in the text box.\r\n2. click on the clear button.\r\n3. wait until the text box is clear.","title":"How to wait until text box is empty selenium java?","body":"<p>My scenario is</p>\n<ol>\n<li>enter the value in the text box.</li>\n<li>click on the clear button.</li>\n<li>wait until the text box is clear.</li>\n</ol>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1664721272,"post_id":73926610,"comment_id":130531877,"body_markdown":"Read an entire line of input and then use `String.split`.  Much simpler.","body":"Read an entire line of input and then use <code>String.split</code>.  Much simpler."},{"owner":{"account_id":23388162,"reputation":5,"user_id":17505578,"display_name":"qwertyboi"},"score":0,"creation_date":1664721407,"post_id":73926610,"comment_id":130531897,"body_markdown":"@JeffHolt Unfortunately, I am required to produce the error prompt whenever a user inputs a keyword that is more than one word or none at all.","body":"@JeffHolt Unfortunately, I am required to produce the error prompt whenever a user inputs a keyword that is more than one word or none at all."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1664724634,"post_id":73926610,"comment_id":130532569,"body_markdown":"What would stop you from interrogating the size of the array produced by `String.split`?","body":"What would stop you from interrogating the size of the array produced by <code>String.split</code>?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1664741891,"post_id":73926610,"comment_id":130536189,"body_markdown":"I agree with @JeffHolt - read a line, split into words (split by whitespace), give an error if there is more than one word.  Simple, and addresses the requirements. directly.","body":"I agree with @JeffHolt - read a line, split into words (split by whitespace), give an error if there is more than one word.  Simple, and addresses the requirements. directly."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664723336,"creation_date":1664721552,"answer_id":73926699,"question_id":73926610,"body_markdown":"From the docs of [Scanner.next()][1]:\r\n\r\n&gt; Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern. \r\n\r\nYou would need to call `next()` again to get the the rest of the input.\r\n\r\nMuch simpler would be to use [Scanner.nextLine()][2] to get entire line and then use [String.split()][3] with whatever delimiter you are using to get an array of all inputted keywords.\r\n\r\n**Edit:** [Scanner.next(pattern)][4] may do what you are looking for. It throws `InputMismatchException` if the input does not match provided pattern(regex). Example:\r\n```\r\nscanner.next(&quot;^[a-zA-Z]+$&quot;)\r\n```\r\nThis requires the entire line to consist of lower and/or upper case letters and nothing else.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next()\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next(java.lang.String)","title":"How to ask user for ONLY one word string input and produce error prompt in a try-catch block","body":"<p>From the docs of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">Scanner.next()</a>:</p>\n<blockquote>\n<p>Finds and returns the next complete token from this scanner. A complete token is preceded and followed by input that matches the delimiter pattern.</p>\n</blockquote>\n<p>You would need to call <code>next()</code> again to get the the rest of the input.</p>\n<p>Much simpler would be to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner.nextLine()</a> to get entire line and then use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String.split()</a> with whatever delimiter you are using to get an array of all inputted keywords.</p>\n<p><strong>Edit:</strong> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next(java.lang.String)\" rel=\"nofollow noreferrer\">Scanner.next(pattern)</a> may do what you are looking for. It throws <code>InputMismatchException</code> if the input does not match provided pattern(regex). Example:</p>\n<pre><code>scanner.next(&quot;^[a-zA-Z]+$&quot;)\n</code></pre>\n<p>This requires the entire line to consist of lower and/or upper case letters and nothing else.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664723975,"creation_date":1664723975,"answer_id":73927004,"question_id":73926610,"body_markdown":"Use **Scanner.nextLine()** then split the supplied string. If the length of array is greater than 1 or the supplied string is empty then issue an invalid entry message and have the User enter the string over again:\r\n\r\n    while(tries2 == 0) {\r\n        searchKeyword  = &quot;&quot;;\r\n        while (searchKeyword.isEmpty()) {\r\n            System.out.println(&quot;Enter 1 keyword: &quot;);\r\n            searchKeyword = sc.nextLine().trim();\r\n            if (searchKeyword.isEmpty() || searchKeyword.split(&quot;\\\\s+&quot;).length &gt; 1) {\r\n                System.out.println(&quot;Invalid Entry! {&quot; + searchKeyword \r\n                                 + &quot;You must supply a single Key Word!&quot;);\r\n                searchKeyword = &quot;&quot;;\r\n            }\r\n        }\r\n        tries2++;\r\n        // ... The rest of your code ...\r\n    }\r\n","title":"How to ask user for ONLY one word string input and produce error prompt in a try-catch block","body":"<p>Use <strong>Scanner.nextLine()</strong> then split the supplied string. If the length of array is greater than 1 or the supplied string is empty then issue an invalid entry message and have the User enter the string over again:</p>\n<pre><code>while(tries2 == 0) {\n    searchKeyword  = &quot;&quot;;\n    while (searchKeyword.isEmpty()) {\n        System.out.println(&quot;Enter 1 keyword: &quot;);\n        searchKeyword = sc.nextLine().trim();\n        if (searchKeyword.isEmpty() || searchKeyword.split(&quot;\\\\s+&quot;).length &gt; 1) {\n            System.out.println(&quot;Invalid Entry! {&quot; + searchKeyword \n                             + &quot;You must supply a single Key Word!&quot;);\n            searchKeyword = &quot;&quot;;\n        }\n    }\n    tries2++;\n    // ... The rest of your code ...\n}\n</code></pre>\n"}],"owner":{"account_id":23388162,"reputation":5,"user_id":17505578,"display_name":"qwertyboi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73927004,"answer_count":2,"score":0,"last_activity_date":1664763822,"creation_date":1664720853,"question_id":73926610,"body_markdown":"EDIT: I figured it out! I got rid of the try-catch block because it just didn&#39;t work the way I wanted it to. The code below is my final one. Thank you to everyone who responded to this question.\r\n\r\nI am trying to code a to-do list program. One function of this program is to search for the entries inside the string array. The user should only input a ONE WORD keyword so if the user inputs more than one word or none, a prompt should show telling the user to try again. The code I&#39;ve written so far is inside a try-catch statement. Using next() scanner only takes the first word and disregards the rest when inputting a multiple-word keyword, instead of producing an Exception. Here is my code for it:\r\n\r\n```\r\ncase 2:\r\n\t\t\t\t\tString searchKeyword;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tint success = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile(success==0) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;&gt;&gt; Enter 1 keyword: &quot;);\r\n\t\t\t\t\t\tsearchKeyword = sc.nextLine();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString splitSearchKeyword[] = searchKeyword.split(&quot; &quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (splitSearchKeyword.length == 1) {\r\n\t\t\t\t\t\t\tif(Quinones_Exer2.searchToDoList(searchKeyword, todoList)==-1) {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt; No item found with that keyword!&quot;);\r\n\t\t\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt; Found one item!&quot;);\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;(&quot;+(Quinones_Exer2.searchToDoList(searchKeyword, todoList)+1)+&quot;)&quot;+&quot; &quot;+todoList[Quinones_Exer2.searchToDoList(searchKeyword, todoList)]);\r\n\t\t\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsuccess++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;&gt;&gt; Please input a single word keyword!&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}```\r\n\r\n","title":"How to ask user for ONLY one word string input and produce error prompt in a try-catch block","body":"<p>EDIT: I figured it out! I got rid of the try-catch block because it just didn't work the way I wanted it to. The code below is my final one. Thank you to everyone who responded to this question.</p>\n<p>I am trying to code a to-do list program. One function of this program is to search for the entries inside the string array. The user should only input a ONE WORD keyword so if the user inputs more than one word or none, a prompt should show telling the user to try again. The code I've written so far is inside a try-catch statement. Using next() scanner only takes the first word and disregards the rest when inputting a multiple-word keyword, instead of producing an Exception. Here is my code for it:</p>\n<pre><code>case 2:\n                    String searchKeyword;\n                    \n                    \n                    int success = 0;\n                    \n                    while(success==0) {\n                        System.out.print(&quot;&gt;&gt; Enter 1 keyword: &quot;);\n                        searchKeyword = sc.nextLine();\n                        \n                        String splitSearchKeyword[] = searchKeyword.split(&quot; &quot;);\n                        \n                        if (splitSearchKeyword.length == 1) {\n                            if(Quinones_Exer2.searchToDoList(searchKeyword, todoList)==-1) {\n                                System.out.println(&quot;&gt;&gt; No item found with that keyword!&quot;);\n                                System.out.println();\n                            }\n                            else {\n                                System.out.println(&quot;&gt;&gt; Found one item!&quot;);\n                                System.out.println(&quot;(&quot;+(Quinones_Exer2.searchToDoList(searchKeyword, todoList)+1)+&quot;)&quot;+&quot; &quot;+todoList[Quinones_Exer2.searchToDoList(searchKeyword, todoList)]);\n                                System.out.println();\n                            }\n                            success++;\n                        }\n                        else {\n                            System.out.println(&quot;&gt;&gt; Please input a single word keyword!&quot;);\n                            System.out.println();\n                        }\n                    }\n                    break;\n            }```\n\n</code></pre>\n"},{"tags":["java","maven","hdrhistogram"],"answers":[{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664763322,"creation_date":1664763322,"answer_id":73930585,"question_id":73779298,"body_markdown":"I&#39;ve tried to reproduce the issue, but on `Windows`:\r\n\r\n    [ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\r\n\r\nwith the same [Java][1] &amp; [Maven][2] versions as you mentioned:\r\n\r\n    E:\\IdeaProject\\HdrHistogram&gt;mvn --version\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: C:\\Program Files\\apache-maven-3.8.6\r\n    Java version: 1.8.0_322, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Java\\jdk1.8.0_322\\jre\r\n    Default locale: en_US, platform encoding: Cp1251\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n    \r\n    E:\\IdeaProject\\HdrHistogram&gt;java -version\r\n    openjdk version &quot;1.8.0_322&quot;\r\n    OpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\r\n    OpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\r\n    \r\nbut I&#39;m getting `&#39;Build success&#39;` in the output:\r\n\r\n    E:\\IdeaProject\\HdrHistogram&gt;mvn clean install -DskipTests\r\n    [INFO] Scanning for projects...\r\n    [INFO] Inspecting build with total of 1 modules...\r\n    [INFO] Installing Nexus Staging features:\r\n    [INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin\r\n    [INFO]\r\n    [INFO] -------------------&lt; org.hdrhistogram:HdrHistogram &gt;--------------------\r\n    [INFO] Building HdrHistogram 2.1.13-SNAPSHOT\r\n    [INFO] -------------------------------[ bundle ]-------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ HdrHistogram ---\r\n    [INFO] Deleting E:\\IdeaProject\\HdrHistogram\\target\r\n    [INFO]\r\n    [INFO] --- maven-replacer-plugin:1.4.0:replace (default) @ HdrHistogram ---\r\n    [INFO] Replacement run on 1 file.\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.3.0:resources (default-resources) @ HdrHistogram ---\r\n    [INFO] skip non existing resourceDirectory E:\\IdeaProject\\HdrHistogram\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ HdrHistogram ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 54 source files to E:\\IdeaProject\\HdrHistogram\\target\\classes\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.3.0:testResources (default-testResources) @ HdrHistogram ---\r\n    [INFO] Copying 5 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ HdrHistogram ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ HdrHistogram ---\r\n    [INFO] Tests are skipped.\r\n    [INFO]\r\n    [INFO] --- maven-bundle-plugin:4.2.1:bundle (default-bundle) @ HdrHistogram ---\r\n    [INFO]\r\n    [INFO] --- maven-javadoc-plugin:3.3.1:jar (attach-javadocs) @ HdrHistogram ---\r\n    [WARNING]\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Base64Helper.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleAllValuesIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\EncodableHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Histogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\HistogramLogWriter.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntCountsHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntervalHistogramProvider.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LinearIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LogarithmicIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\package-info.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\AbstractPackedArrayContext.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\PackedLongArray.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ResizeException.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PercentileIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\RecordedValuesIterator.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Recorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ShortCountsHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterDoubleRecorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterRecorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedDoubleHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedHistogram.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ValueRecorder.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Version.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\WriterReaderPhaser.java...\r\n    Loading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ZigZagEncoding.java...\r\n    Loading source files for package org.HdrHistogram...\r\n    Loading source files for package org.HdrHistogram.packedarray...\r\n    Constructing Javadoc information...\r\n    Standard Doclet version 1.8.0_322\r\n    Building tree for all the packages and classes...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LogarithmicBucketValues.html...\r\n    Generating \r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AtomicHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleAllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoublePercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\EncodableHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Histogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogProcessor.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogReader.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EncodableHistogramSupplier.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EventHandler.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogWriter.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntervalHistogramProvider.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\RecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Recorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ShortCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterDoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\WriterReaderPhaser.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\IterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArrayRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArraySingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-summary.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-tree.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-summary.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-tree.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\constant-values.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\serialized-form.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArrayRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArraySingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-use.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-use.html...\r\n    Building index for all the packages and classes...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-tree.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index-all.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\deprecated-list.html...\r\n    Building index for all classes...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-frame.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-noframe.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-summary.html...\r\n    Generating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\help-doc.html...\r\n    [INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\r\n    [INFO]\r\n    [INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ HdrHistogram ---\r\n    [INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.8:copy (copy-installed) @ HdrHistogram ---\r\n    [INFO] Configured Artifact: org.hdrhistogram:HdrHistogram:2.1.13-SNAPSHOT:bundle\r\n    [INFO] Copying HdrHistogram-2.1.13-SNAPSHOT.jar to E:\\IdeaProject\\HdrHistogram\\HdrHistogram.jar\r\n    [INFO]\r\n    [INFO] --- maven-install-plugin:3.0.1:install (default-install) @ HdrHistogram ---\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\pom.xml to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.pom\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.jar\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\r\n    [INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\r\n    [INFO]\r\n    [INFO] --- maven-bundle-plugin:4.2.1:install (default-install) @ HdrHistogram ---\r\n    [INFO] Installing org/hdrhistogram/HdrHistogram/2.1.13-SNAPSHOT/HdrHistogram-2.1.13-SNAPSHOT.jar\r\n    [INFO] Writing OBR metadata\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  20.792 s\r\n    [INFO] Finished at: 2022-10-03T03:58:19+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n  [1]: https://github.com/corretto/corretto-8/releases/tag/8.322.06.1\r\n  [2]: https://maven.apache.org/download.cgi\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram","body":"<p>I've tried to reproduce the issue, but on <code>Windows</code>:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\n</code></pre>\n<p>with the same <a href=\"https://github.com/corretto/corretto-8/releases/tag/8.322.06.1\" rel=\"nofollow noreferrer\">Java</a> &amp; <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">Maven</a> versions as you mentioned:</p>\n<pre><code>E:\\IdeaProject\\HdrHistogram&gt;mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: C:\\Program Files\\apache-maven-3.8.6\nJava version: 1.8.0_322, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Java\\jdk1.8.0_322\\jre\nDefault locale: en_US, platform encoding: Cp1251\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n\nE:\\IdeaProject\\HdrHistogram&gt;java -version\nopenjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\n</code></pre>\n<p>but I'm getting <code>'Build success'</code> in the output:</p>\n<pre><code>E:\\IdeaProject\\HdrHistogram&gt;mvn clean install -DskipTests\n[INFO] Scanning for projects...\n[INFO] Inspecting build with total of 1 modules...\n[INFO] Installing Nexus Staging features:\n[INFO]   ... total of 1 executions of maven-deploy-plugin replaced with nexus-staging-maven-plugin\n[INFO]\n[INFO] -------------------&lt; org.hdrhistogram:HdrHistogram &gt;--------------------\n[INFO] Building HdrHistogram 2.1.13-SNAPSHOT\n[INFO] -------------------------------[ bundle ]-------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ HdrHistogram ---\n[INFO] Deleting E:\\IdeaProject\\HdrHistogram\\target\n[INFO]\n[INFO] --- maven-replacer-plugin:1.4.0:replace (default) @ HdrHistogram ---\n[INFO] Replacement run on 1 file.\n[INFO]\n[INFO] --- maven-resources-plugin:3.3.0:resources (default-resources) @ HdrHistogram ---\n[INFO] skip non existing resourceDirectory E:\\IdeaProject\\HdrHistogram\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ HdrHistogram ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 54 source files to E:\\IdeaProject\\HdrHistogram\\target\\classes\n[INFO]\n[INFO] --- maven-resources-plugin:3.3.0:testResources (default-testResources) @ HdrHistogram ---\n[INFO] Copying 5 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.0:testCompile (default-testCompile) @ HdrHistogram ---\n[INFO] Changes detected - recompiling the module!\n[INFO]\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ HdrHistogram ---\n[INFO] Tests are skipped.\n[INFO]\n[INFO] --- maven-bundle-plugin:4.2.1:bundle (default-bundle) @ HdrHistogram ---\n[INFO]\n[INFO] --- maven-javadoc-plugin:3.3.1:jar (attach-javadocs) @ HdrHistogram ---\n[WARNING]\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Base64Helper.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ConcurrentHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleAllValuesIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\DoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\EncodableHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Histogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\HistogramLogWriter.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntCountsHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\IntervalHistogramProvider.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LinearIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\LogarithmicIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\package-info.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\AbstractPackedArrayContext.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\PackedLongArray.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\packedarray\\ResizeException.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedConcurrentHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PackedHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\PercentileIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\RecordedValuesIterator.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Recorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ShortCountsHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterDoubleRecorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SingleWriterRecorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedDoubleHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\SynchronizedHistogram.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ValueRecorder.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\Version.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\WriterReaderPhaser.java...\nLoading source file E:\\IdeaProject\\HdrHistogram\\src\\main\\java\\org\\HdrHistogram\\ZigZagEncoding.java...\nLoading source files for package org.HdrHistogram...\nLoading source files for package org.HdrHistogram.packedarray...\nConstructing Javadoc information...\nStandard Doclet version 1.8.0_322\nBuilding tree for all the packages and classes...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AbstractHistogram.LogarithmicBucketValues.html...\nGenerating \nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\AtomicHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleAllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleHistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleLogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoublePercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\DoubleValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\EncodableHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Histogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogProcessor.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogReader.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EncodableHistogramSupplier.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogScanner.EventHandler.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\HistogramLogWriter.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\IntervalHistogramProvider.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\LogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PackedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\PercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\RecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\Recorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ShortCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterDoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\SynchronizedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\ValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\WriterReaderPhaser.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\ConcurrentPackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\IterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArrayRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedArraySingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\PackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-summary.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-tree.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-summary.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-tree.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\constant-values.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\serialized-form.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArrayRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedArraySingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\PackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\WriterReaderPhaser.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SynchronizedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\SingleWriterDoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ShortCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Recorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\RecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\PackedConcurrentDoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\LinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntervalHistogramProvider.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\IntCountsHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogWriter.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EncodableHistogramSupplier.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogScanner.EventHandler.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogReader.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramLogProcessor.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\HistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\Histogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\EncodableHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleValueRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecorder.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleRecordedValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoublePercentileIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLogarithmicIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleLinearIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogramIterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleHistogram.AllValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\DoubleAllValuesIterator.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\ConcurrentHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AtomicHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.Percentiles.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LinearBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.LogarithmicBucketValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\class-use\\AbstractHistogram.RecordedValues.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\IterationValue.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\class-use\\ConcurrentPackedLongArray.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\package-use.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\org\\HdrHistogram\\packedarray\\package-use.html...\nBuilding index for all the packages and classes...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-tree.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index-all.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\deprecated-list.html...\nBuilding index for all classes...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-frame.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\allclasses-noframe.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\index.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\overview-summary.html...\nGenerating E:\\IdeaProject\\HdrHistogram\\target\\apidocs\\help-doc.html...\n[INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\n[INFO]\n[INFO] --- maven-source-plugin:3.2.1:jar-no-fork (attach-sources) @ HdrHistogram ---\n[INFO] Building jar: E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\n[INFO]\n[INFO] --- maven-dependency-plugin:2.8:copy (copy-installed) @ HdrHistogram ---\n[INFO] Configured Artifact: org.hdrhistogram:HdrHistogram:2.1.13-SNAPSHOT:bundle\n[INFO] Copying HdrHistogram-2.1.13-SNAPSHOT.jar to E:\\IdeaProject\\HdrHistogram\\HdrHistogram.jar\n[INFO]\n[INFO] --- maven-install-plugin:3.0.1:install (default-install) @ HdrHistogram ---\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\pom.xml to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.pom\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT.jar\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-javadoc.jar\n[INFO] Installing E:\\IdeaProject\\HdrHistogram\\target\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar to C:\\Users\\invzbl3\\.m2\\repository\\org\\hdrhistogram\\HdrHistogram\\2.1.13-SNAPSHOT\\HdrHistogram-2.1.13-SNAPSHOT-sources.jar\n[INFO]\n[INFO] --- maven-bundle-plugin:4.2.1:install (default-install) @ HdrHistogram ---\n[INFO] Installing org/hdrhistogram/HdrHistogram/2.1.13-SNAPSHOT/HdrHistogram-2.1.13-SNAPSHOT.jar\n[INFO] Writing OBR metadata\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  20.792 s\n[INFO] Finished at: 2022-10-03T03:58:19+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664763322,"creation_date":1663621626,"question_id":73779298,"body_markdown":"While trying to build https://github.com/HdrHistogram/HdrHistogram I am getting an error with the `maven-bundle-plugin` when running the command `mvn clean install -DskipTests`\r\n\r\nI installed maven from homebrew for Mac. I&#39;m wondering if the problem is being caused by a conflict in the Maven Java version and my local Java version?\r\n\r\n## Maven Version\r\n\r\n```bash\r\n➜ mvn --version                                                                                                     \r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /usr/local/Cellar/maven/3.8.6/libexec\r\nJava version: 18.0.2.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.2.1/libexec/openjdk.jdk/Contents/Home\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\n## Java Version\r\n```\r\n➜ java -version\r\nopenjdk version &quot;1.8.0_322&quot;\r\nOpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\r\nOpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\r\n```\r\n\r\n## Error\r\n\r\n```bash\r\n[ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\r\n\r\n```","title":"Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram","body":"<p>While trying to build <a href=\"https://github.com/HdrHistogram/HdrHistogram\" rel=\"nofollow noreferrer\">https://github.com/HdrHistogram/HdrHistogram</a> I am getting an error with the <code>maven-bundle-plugin</code> when running the command <code>mvn clean install -DskipTests</code></p>\n<p>I installed maven from homebrew for Mac. I'm wondering if the problem is being caused by a conflict in the Maven Java version and my local Java version?</p>\n<h2>Maven Version</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>➜ mvn --version                                                                                                     \nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /usr/local/Cellar/maven/3.8.6/libexec\nJava version: 18.0.2.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.2.1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<h2>Java Version</h2>\n<pre><code>➜ java -version\nopenjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM Corretto-8.322.06.1 (build 25.322-b06, mixed mode)\n</code></pre>\n<h2>Error</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin: ConcurrentModificationException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-bundle-plugin:4.2.1:bundle (default-bundle) on project HdrHistogram: Internal error in maven-bundle-plugin\n\n</code></pre>\n"},{"tags":["java","string","list","swap"],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664709383,"creation_date":1664709383,"answer_id":73925361,"question_id":73925289,"body_markdown":"You need to handle both conditions at the same time.\r\n\r\n```\r\n        list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne\r\n                        : s.contains(searchTwo) ? replacementTwo : s );\r\n```","title":"Swappign two lines by their string at the same time java","body":"<p>You need to handle both conditions at the same time.</p>\n<pre><code>        list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne\n                        : s.contains(searchTwo) ? replacementTwo : s );\n</code></pre>\n"}],"owner":{"account_id":26506630,"reputation":11,"user_id":20142691,"display_name":"dad dada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664762614,"creation_date":1664708592,"question_id":73925289,"body_markdown":"I&#39;m trying to swap two names in a list with each other. I have used the code below but I am wondering if there is a way to swap them at the same time because it is making them both the same name. Is there another method I can use that will swap the two names at the same time? Thanks\r\n\r\n\r\n\r\n          String searchOne = challengerName;\r\n          String replacementOne = defenderName;\r\n\r\n          String searchTwo = defenderName;\r\n          String replacementTwo = swapperName;\r\n          list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne : s);\r\n          list.replaceAll(s -&gt; s.contains(searchTwo) ? replacementTwo : s);\r\n","title":"Swappign two lines by their string at the same time java","body":"<p>I'm trying to swap two names in a list with each other. I have used the code below but I am wondering if there is a way to swap them at the same time because it is making them both the same name. Is there another method I can use that will swap the two names at the same time? Thanks</p>\n<pre><code>      String searchOne = challengerName;\n      String replacementOne = defenderName;\n\n      String searchTwo = defenderName;\n      String replacementTwo = swapperName;\n      list.replaceAll(s -&gt; s.contains(searchOne) ? replacementOne : s);\n      list.replaceAll(s -&gt; s.contains(searchTwo) ? replacementTwo : s);\n</code></pre>\n"},{"tags":["java","arrays","list","for-loop"],"answers":[{"tags":[],"owner":{"account_id":20802784,"reputation":35,"user_id":15278421,"display_name":"Eyal Hadad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664729964,"creation_date":1664729466,"answer_id":73927658,"question_id":73926836,"body_markdown":"you can use a Set\\HashMap to remember which number you already discover during your iteration. GOOD LUCK !\r\n\r\nYou can read about Data Structures - just google it :).\r\n\r\nhere a few questions that might help you understand.\r\n\r\nhttps://stackoverflow.com/questions/2723781/data-structures-for-hashmap-list-and-set\r\n\r\nhttps://stackoverflow.com/questions/32866652/why-key-in-hashmap-cant-be-duplicated\r\n\r\nhttps://stackoverflow.com/questions/38823210/how-to-find-duplicate-item-position-from-set-in-java\r\n ","title":"Array with bubble sort and odd/even list - Anyone knows how to remove duplicate element in my even list?","body":"<p>you can use a Set\\HashMap to remember which number you already discover during your iteration. GOOD LUCK !</p>\n<p>You can read about Data Structures - just google it :).</p>\n<p>here a few questions that might help you understand.</p>\n<p><a href=\"https://stackoverflow.com/questions/2723781/data-structures-for-hashmap-list-and-set\">Data Structures for hashMap, List and Set</a></p>\n<p><a href=\"https://stackoverflow.com/questions/32866652/why-key-in-hashmap-cant-be-duplicated\">Why key in HashMap can&#39;t be duplicated</a></p>\n<p><a href=\"https://stackoverflow.com/questions/38823210/how-to-find-duplicate-item-position-from-set-in-java\">how to find duplicate item position from set in java</a></p>\n"}],"owner":{"account_id":26507694,"reputation":1,"user_id":20143577,"display_name":"Menard Rosal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664762305,"creation_date":1664722617,"question_id":73926836,"body_markdown":"Regardless of the programming language you use. You will undoubtedly encounter data while dealing with arrays, particularly duplicates, that you will want to get rid of.\r\n\r\nThis is my [Output][1]\r\n\r\nI already inputted the correct syntax of even list array is there something that I missed?\r\n\r\nAnyone knows how to remove duplicate element in my even list?\r\n\r\n  [1]: https://i.stack.imgur.com/cg2QT.png\r\n\r\n ***Here&#39;s my code:*** \r\n   \r\n\r\n    import java.util.*;\r\n    import java.util.Iterator;\r\n    public class ArrayBubbleSortwithOddandEven {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int size, temp;\r\n            System.out.print(&quot;Size of the list: &quot;);\r\n            size = scanner.nextInt();\r\n            int number[] = new int[size];\r\n            int oddarray[] = new int[size];\r\n            int evenarray[] = new int[size];\r\n            int odd = 0;\r\n            int even = evenarray.length - 1;\r\n    \r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                System.out.print(&quot;Input: &quot;);\r\n                number[i] = scanner.nextInt();\r\n            }\r\n            for (int i = 0; i &lt; size; i++) {\r\n                for (int swap = 1; swap &lt; (size - i); swap++) {\r\n                    if (number[swap - 1] &gt; number[swap]) {\r\n                        temp = number[swap - 1];\r\n                        number[swap - 1] = number[swap];\r\n                        number[swap] = temp;\r\n                    }\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                if (number[i] % 2 != 0) {\r\n                    oddarray[odd++] = number[i];\r\n                } else {\r\n                    evenarray[even--] = number[i];\r\n                }\r\n            }\r\n    \r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                evenarray[even] = evenarray[i];\r\n            }\r\n            for (int i = 0; i &lt; number.length; i++) {\r\n                oddarray[odd] = oddarray[i];\r\n            }\r\n            for (int i = 0; i &lt; size; i++) { //Bubble sort\r\n                for (int swap = 1; swap &lt; (size - i); swap++) {\r\n                    if (evenarray[swap - 1] &gt; evenarray[swap]) {\r\n                        temp = evenarray[swap - 1];\r\n                        evenarray[swap - 1] = evenarray[swap];\r\n                        evenarray[swap] = temp;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Odd List:&quot;); //Print Odd list\r\n            for (odd = 0; odd &lt; oddarray.length; odd++) {\r\n                System.out.println(&quot;List &quot; + odd + &quot;: &quot; + (oddarray[odd]));\r\n            }\r\n            System.out.println(&quot;Even List:&quot;); //Print Even list\r\n            for (even = 0; even &lt; evenarray.length; even++) {\r\n                System.out.println(&quot;List &quot; + even + &quot;: &quot; + (evenarray[even]));\r\n            }\r\n        }\r\n    }\r\n","title":"Array with bubble sort and odd/even list - Anyone knows how to remove duplicate element in my even list?","body":"<p>Regardless of the programming language you use. You will undoubtedly encounter data while dealing with arrays, particularly duplicates, that you will want to get rid of.</p>\n<p>This is my <a href=\"https://i.stack.imgur.com/cg2QT.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<p>I already inputted the correct syntax of even list array is there something that I missed?</p>\n<p>Anyone knows how to remove duplicate element in my even list?</p>\n<p><em><strong>Here's my code:</strong></em></p>\n<pre><code>import java.util.*;\nimport java.util.Iterator;\npublic class ArrayBubbleSortwithOddandEven {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int size, temp;\n        System.out.print(&quot;Size of the list: &quot;);\n        size = scanner.nextInt();\n        int number[] = new int[size];\n        int oddarray[] = new int[size];\n        int evenarray[] = new int[size];\n        int odd = 0;\n        int even = evenarray.length - 1;\n\n        for (int i = 0; i &lt; number.length; i++) {\n            System.out.print(&quot;Input: &quot;);\n            number[i] = scanner.nextInt();\n        }\n        for (int i = 0; i &lt; size; i++) {\n            for (int swap = 1; swap &lt; (size - i); swap++) {\n                if (number[swap - 1] &gt; number[swap]) {\n                    temp = number[swap - 1];\n                    number[swap - 1] = number[swap];\n                    number[swap] = temp;\n                }\n            }\n        }\n        for (int i = 0; i &lt; number.length; i++) {\n            if (number[i] % 2 != 0) {\n                oddarray[odd++] = number[i];\n            } else {\n                evenarray[even--] = number[i];\n            }\n        }\n\n        for (int i = 0; i &lt; number.length; i++) {\n            evenarray[even] = evenarray[i];\n        }\n        for (int i = 0; i &lt; number.length; i++) {\n            oddarray[odd] = oddarray[i];\n        }\n        for (int i = 0; i &lt; size; i++) { //Bubble sort\n            for (int swap = 1; swap &lt; (size - i); swap++) {\n                if (evenarray[swap - 1] &gt; evenarray[swap]) {\n                    temp = evenarray[swap - 1];\n                    evenarray[swap - 1] = evenarray[swap];\n                    evenarray[swap] = temp;\n                }\n            }\n        }\n\n        System.out.println(&quot;Odd List:&quot;); //Print Odd list\n        for (odd = 0; odd &lt; oddarray.length; odd++) {\n            System.out.println(&quot;List &quot; + odd + &quot;: &quot; + (oddarray[odd]));\n        }\n        System.out.println(&quot;Even List:&quot;); //Print Even list\n        for (even = 0; even &lt; evenarray.length; even++) {\n            System.out.println(&quot;List &quot; + even + &quot;: &quot; + (evenarray[even]));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","uuid"],"answers":[{"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"down_vote_count":1,"up_vote_count":237,"is_accepted":true,"score":236,"last_activity_date":1426415364,"creation_date":1426415364,"answer_id":29059595,"question_id":29059530,"body_markdown":"You can use UUID this way to get always the same UUID for your input String:\r\n\r\n     String aString=&quot;JUST_A_TEST_STRING&quot;;\r\n     String result = UUID.nameUUIDFromBytes(aString.getBytes()).toString();\r\n","title":"Is there any way to generate the same UUID from a String","body":"<p>You can use UUID this way to get always the same UUID for your input String:</p>\n\n<pre><code> String aString=\"JUST_A_TEST_STRING\";\n String result = UUID.nameUUIDFromBytes(aString.getBytes()).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1664762221,"creation_date":1595675837,"answer_id":63087679,"question_id":29059530,"body_markdown":"`UUID.nameUUIDFromBytes()` only generates MD5 UUIDs. However, SHA1 is preferred over MD5, *if backward compatibility is not an issue*.\r\n\r\nThe utility class below generates MD5 UUIDs and SHA-1 UUIDs. Feel free to use and share.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Generates UUIDv3 (MD5) and UUIDv5 (SHA1).\r\n *\r\n * It is fully compliant with RFC-4122.\r\n */\r\npublic class HashUuid {\r\n\r\n\tprivate static final int V3 = 3; // MD5\r\n\tprivate static final int V5 = 5; // SHA-1\r\n\r\n\tprivate static final String HASH_V3 = &quot;MD5&quot;;\r\n\tprivate static final String HASH_V5 = &quot;SHA-1&quot;;\r\n\r\n\tpublic static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\r\n\tpublic static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\r\n\tpublic static final UUID NAMESPACE_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\r\n\tpublic static final UUID NAMESPACE_X500 = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\r\n\r\n\tpublic static UUID v3(String name) {\r\n\t\treturn generate(V3, HASH_V3, null, name);\r\n\t}\r\n\r\n\tpublic static UUID v5(String name) {\r\n\t\treturn generate(V5, HASH_V5, null, name);\r\n\t}\r\n\r\n\tpublic static UUID v3(UUID namespace, String name) {\r\n\t\treturn generate(V3, HASH_V3, namespace, name);\r\n\t}\r\n\r\n\tpublic static UUID v5(UUID namespace, String name) {\r\n\t\treturn generate(V5, HASH_V5, namespace, name);\r\n\t}\r\n\r\n\tprivate static UUID generate(int version, String algorithm, UUID namespace, String name) {\r\n\r\n\t\tMessageDigest hasher = hasher(algorithm);\r\n\r\n\t\tif (namespace != null) {\r\n\t\t\tByteBuffer ns = ByteBuffer.allocate(16);\r\n\t\t\tns.putLong(namespace.getMostSignificantBits());\r\n\t\t\tns.putLong(namespace.getLeastSignificantBits());\r\n\t\t\thasher.update(ns.array());\r\n\t\t}\r\n\r\n\t\thasher.update(name.getBytes(StandardCharsets.UTF_8));\r\n\t\tByteBuffer hash = ByteBuffer.wrap(hasher.digest());\r\n\r\n\t\tfinal long msb = (hash.getLong() &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12;\r\n\t\tfinal long lsb = (hash.getLong() &amp; 0x3fffffffffffffffL) | 0x8000000000000000L;\r\n\r\n\t\treturn new UUID(msb, lsb);\r\n\t}\r\n\r\n\tprivate static MessageDigest hasher(String algorithm) {\r\n\t\ttry {\r\n\t\t\treturn MessageDigest.getInstance(algorithm);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(String.format(&quot;%s not supported.&quot;, algorithm));\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * For tests!\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tUUID namespace = UUID.randomUUID();\r\n\t\tString name = &quot;JUST_A_TEST_STRING&quot;;\r\n\r\n\t\tSystem.out.println(String.format(&quot;UUID.nameUUIDFromBytes():     &#39;%s&#39;&quot;, UUID.nameUUIDFromBytes(name.getBytes())));\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v3(name):            &#39;%s&#39;&quot;, HashUuid.v3(name)));\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v5(name):            &#39;%s&#39;&quot;, HashUuid.v5(name)));\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v3(namespace, name): &#39;%s&#39;&quot;, HashUuid.v3(namespace, name)));\r\n\t\tSystem.out.println(String.format(&quot;HashUuid.v5(namespace, name): &#39;%s&#39;&quot;, HashUuid.v5(namespace, name)));\r\n\t}\r\n}\r\n```\r\nThis is the output:\r\n\r\n```\r\nUUID.nameUUIDFromBytes():     &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\n\r\nHashUuid.v3(name):            &#39;9e120341-627f-32be-8393-58b5d655b751&#39;\r\nHashUuid.v5(name):            &#39;e4586bed-032a-5ae6-9883-331cd94c4ffa&#39;\r\nHashUuid.v3(namespace, name): &#39;f0043437-723b-308f-a6c0-74ec36ddf9c2&#39;\r\nHashUuid.v5(namespace, name): &#39;18a45fd8-8fab-5647-aad7-1d3264932180&#39;\r\n```\r\n\r\nAlternatively, you can also use [`uuid-creator`](https://github.com/f4b6a3/uuid-creator). See this example:\r\n\r\n```java\r\n// Create a UUIDv5 (SHA1)\r\nString name = &quot;JUST_A_TEST_STRING&quot;;\r\nUUID uuid = UuidCreator.getNameBasedSha1(name);\r\n```\r\n","title":"Is there any way to generate the same UUID from a String","body":"<p><code>UUID.nameUUIDFromBytes()</code> only generates MD5 UUIDs. However, SHA1 is preferred over MD5, <em>if backward compatibility is not an issue</em>.</p>\n<p>The utility class below generates MD5 UUIDs and SHA-1 UUIDs. Feel free to use and share.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.UUID;\n\n/**\n * Generates UUIDv3 (MD5) and UUIDv5 (SHA1).\n *\n * It is fully compliant with RFC-4122.\n */\npublic class HashUuid {\n\n    private static final int V3 = 3; // MD5\n    private static final int V5 = 5; // SHA-1\n\n    private static final String HASH_V3 = &quot;MD5&quot;;\n    private static final String HASH_V5 = &quot;SHA-1&quot;;\n\n    public static final UUID NAMESPACE_DNS = new UUID(0x6ba7b8109dad11d1L, 0x80b400c04fd430c8L);\n    public static final UUID NAMESPACE_URL = new UUID(0x6ba7b8119dad11d1L, 0x80b400c04fd430c8L);\n    public static final UUID NAMESPACE_OID = new UUID(0x6ba7b8129dad11d1L, 0x80b400c04fd430c8L);\n    public static final UUID NAMESPACE_X500 = new UUID(0x6ba7b8149dad11d1L, 0x80b400c04fd430c8L);\n\n    public static UUID v3(String name) {\n        return generate(V3, HASH_V3, null, name);\n    }\n\n    public static UUID v5(String name) {\n        return generate(V5, HASH_V5, null, name);\n    }\n\n    public static UUID v3(UUID namespace, String name) {\n        return generate(V3, HASH_V3, namespace, name);\n    }\n\n    public static UUID v5(UUID namespace, String name) {\n        return generate(V5, HASH_V5, namespace, name);\n    }\n\n    private static UUID generate(int version, String algorithm, UUID namespace, String name) {\n\n        MessageDigest hasher = hasher(algorithm);\n\n        if (namespace != null) {\n            ByteBuffer ns = ByteBuffer.allocate(16);\n            ns.putLong(namespace.getMostSignificantBits());\n            ns.putLong(namespace.getLeastSignificantBits());\n            hasher.update(ns.array());\n        }\n\n        hasher.update(name.getBytes(StandardCharsets.UTF_8));\n        ByteBuffer hash = ByteBuffer.wrap(hasher.digest());\n\n        final long msb = (hash.getLong() &amp; 0xffffffffffff0fffL) | (version &amp; 0x0f) &lt;&lt; 12;\n        final long lsb = (hash.getLong() &amp; 0x3fffffffffffffffL) | 0x8000000000000000L;\n\n        return new UUID(msb, lsb);\n    }\n\n    private static MessageDigest hasher(String algorithm) {\n        try {\n            return MessageDigest.getInstance(algorithm);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(String.format(&quot;%s not supported.&quot;, algorithm));\n        }\n    }\n\n    /**\n     * For tests!\n     */\n    public static void main(String[] args) {\n\n        UUID namespace = UUID.randomUUID();\n        String name = &quot;JUST_A_TEST_STRING&quot;;\n\n        System.out.println(String.format(&quot;UUID.nameUUIDFromBytes():     '%s'&quot;, UUID.nameUUIDFromBytes(name.getBytes())));\n        System.out.println();\n        System.out.println(String.format(&quot;HashUuid.v3(name):            '%s'&quot;, HashUuid.v3(name)));\n        System.out.println(String.format(&quot;HashUuid.v5(name):            '%s'&quot;, HashUuid.v5(name)));\n        System.out.println(String.format(&quot;HashUuid.v3(namespace, name): '%s'&quot;, HashUuid.v3(namespace, name)));\n        System.out.println(String.format(&quot;HashUuid.v5(namespace, name): '%s'&quot;, HashUuid.v5(namespace, name)));\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>UUID.nameUUIDFromBytes():     '9e120341-627f-32be-8393-58b5d655b751'\n\nHashUuid.v3(name):            '9e120341-627f-32be-8393-58b5d655b751'\nHashUuid.v5(name):            'e4586bed-032a-5ae6-9883-331cd94c4ffa'\nHashUuid.v3(namespace, name): 'f0043437-723b-308f-a6c0-74ec36ddf9c2'\nHashUuid.v5(namespace, name): '18a45fd8-8fab-5647-aad7-1d3264932180'\n</code></pre>\n<p>Alternatively, you can also use <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"noreferrer\"><code>uuid-creator</code></a>. See this example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a UUIDv5 (SHA1)\nString name = &quot;JUST_A_TEST_STRING&quot;;\nUUID uuid = UuidCreator.getNameBasedSha1(name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":545178,"reputation":810,"user_id":914856,"display_name":"vhtc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611929063,"creation_date":1611929063,"answer_id":65955958,"question_id":29059530,"body_markdown":"If you are looking for a Javascript alternative, look at [uuid-by-string][1] which also gives option to use SHA-1 or MD5 hash functions.\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/uuid-by-string","title":"Is there any way to generate the same UUID from a String","body":"<p>If you are looking for a Javascript alternative, look at <a href=\"https://www.npmjs.com/package/uuid-by-string\" rel=\"nofollow noreferrer\">uuid-by-string</a> which also gives option to use SHA-1 or MD5 hash functions.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1625476023,"creation_date":1619037999,"answer_id":67203264,"question_id":29059530,"body_markdown":"You should use **UUID v5.**\r\n\r\n&gt; Version-3 and version-5 UUIDs are generated by hashing a namespace identifier and name. Version 3 uses MD5 as the hashing algorithm, and version 5 uses SHA-1.[1] - *wikipedia*\r\n\r\nUUID v5 requires a **namespace**. That namespace should be a UUID v4, which you can just [generate online][1]. The namespace assures that for a given input, the output will always be the same. \r\n\r\nA possible implementation of UUID v5 can be found [here][2]:\r\n\r\n    &lt;!-- https://search.maven.org/artifact/com.github.f4b6a3/uuid-creator --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.f4b6a3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;uuid-creator&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt can be used as follows:\r\n\r\n    UUID namespace = ; // todo generate a UUID v4.\r\n    String input = &quot;input&quot;;\r\n    UUID uuid = UuidCreator.getNameBasedSha1(namespace, input);\r\n\r\n*(In a way, the namespace acts like a seed would, for a random number generator. By contrast, while a seed is supposed to be random, our namespace is a constant. And that forces our generator to always produce the same value for a given input.)*\r\n\r\n  [1]: https://www.uuidgenerator.net/version4\r\n  [2]: https://github.com/f4b6a3/uuid-creator","title":"Is there any way to generate the same UUID from a String","body":"<p>You should use <strong>UUID v5.</strong></p>\n<blockquote>\n<p>Version-3 and version-5 UUIDs are generated by hashing a namespace identifier and name. Version 3 uses MD5 as the hashing algorithm, and version 5 uses SHA-1.<a href=\"https://www.uuidgenerator.net/version4\" rel=\"noreferrer\">1</a> - <em>wikipedia</em></p>\n</blockquote>\n<p>UUID v5 requires a <strong>namespace</strong>. That namespace should be a UUID v4, which you can just <a href=\"https://www.uuidgenerator.net/version4\" rel=\"noreferrer\">generate online</a>. The namespace assures that for a given input, the output will always be the same.</p>\n<p>A possible implementation of UUID v5 can be found <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"noreferrer\">here</a>:</p>\n<pre><code>&lt;!-- https://search.maven.org/artifact/com.github.f4b6a3/uuid-creator --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.github.f4b6a3&lt;/groupId&gt;\n  &lt;artifactId&gt;uuid-creator&lt;/artifactId&gt;\n  &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It can be used as follows:</p>\n<pre><code>UUID namespace = ; // todo generate a UUID v4.\nString input = &quot;input&quot;;\nUUID uuid = UuidCreator.getNameBasedSha1(namespace, input);\n</code></pre>\n<p><em>(In a way, the namespace acts like a seed would, for a random number generator. By contrast, while a seed is supposed to be random, our namespace is a constant. And that forces our generator to always produce the same value for a given input.)</em></p>\n"}],"owner":{"account_id":1156140,"reputation":25020,"user_id":1136700,"accept_rate":46,"display_name":"Adam Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136137,"favorite_count":0,"down_vote_count":0,"up_vote_count":131,"accepted_answer_id":29059595,"answer_count":4,"score":131,"last_activity_date":1664762221,"creation_date":1426414742,"question_id":29059530,"body_markdown":"I am wondering if there is a way to generate the same UUID based on a `String.` \r\nI tried with UUID, it looks like it does not provide this feature.","title":"Is there any way to generate the same UUID from a String","body":"<p>I am wondering if there is a way to generate the same UUID based on a <code>String.</code> \nI tried with UUID, it looks like it does not provide this feature.</p>\n"},{"tags":["java","opengl","lwjgl","landscape"],"answers":[{"tags":[],"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1553501211,"creation_date":1553421068,"answer_id":55322525,"question_id":55322029,"body_markdown":"First of all take a look at my:\r\n\r\n- [simple C++ Island generator](https://stackoverflow.com/a/36647622/2521214)\r\n\r\nas you can see you can compute **Biomes** from elevation, slope, etc... more sophisticated generators create a **Voronoi** map dividing your map into **Biomes** regions assigning randomly (with some rules) biome types based on neighbors already assigned...\r\n\r\nBack to your question you should place your trees more dense around some  position instead of uniformly cover large area with sparse trees... So you need slightly different kind of randomness distribution (like gauss). See the legendary:\r\n\r\n- [Understanding “randomness”](https://stackoverflow.com/a/3956538/2521214)\r\n\r\non how to get a different distribution from uniform one...\r\n\r\nSo what you should do is get few random locations that would be covering your region shape uniformly. And then generate trees with density dependent on minimal distance to these points. The smaller distance the dense trees placement.\r\n\r\n [![placemet][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a41Qg.png","title":"How to generate forests in java","body":"<p>First of all take a look at my:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/36647622/2521214\">simple C++ Island generator</a></li>\n</ul>\n\n<p>as you can see you can compute <strong>Biomes</strong> from elevation, slope, etc... more sophisticated generators create a <strong>Voronoi</strong> map dividing your map into <strong>Biomes</strong> regions assigning randomly (with some rules) biome types based on neighbors already assigned...</p>\n\n<p>Back to your question you should place your trees more dense around some  position instead of uniformly cover large area with sparse trees... So you need slightly different kind of randomness distribution (like gauss). See the legendary:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/3956538/2521214\">Understanding “randomness”</a></li>\n</ul>\n\n<p>on how to get a different distribution from uniform one...</p>\n\n<p>So what you should do is get few random locations that would be covering your region shape uniformly. And then generate trees with density dependent on minimal distance to these points. The smaller distance the dense trees placement.</p>\n\n<p><a href=\"https://i.stack.imgur.com/a41Qg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a41Qg.png\" alt=\"placemet\"></a></p>\n"},{"tags":[],"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553421552,"creation_date":1553421552,"answer_id":55322583,"question_id":55322029,"body_markdown":"What are you looking for is a _low-discrepancy-sequence_ to generate random numbers. The generated numbers are not truely random, but rather uniformly distributed. This distinguishes them from random number generators, which do not automatically produce uniformly distributed numbers.\r\n\r\nOne example of such a sequence would be the [Halton Sequence](https://en.wikipedia.org/wiki/Halton_sequence), and Apache Commons also has an [implementation](http://commons.apache.org/proper/commons-math/javadocs/api-3.6/org/apache/commons/math3/random/HaltonSequenceGenerator.html) which you can use.\r\n\r\n    double[] nextVector = generator.nextVector();\r\n\r\nIn your case, using two dimensions, the resulting array also has two entries. What you still need to do is to translate the points into your local coordinates by adding the the central point of the square where you want to place the forest to each generated vector. Also, to increase the gap between points, you should consider scaling the vectors.","title":"How to generate forests in java","body":"<p>What are you looking for is a <em>low-discrepancy-sequence</em> to generate random numbers. The generated numbers are not truely random, but rather uniformly distributed. This distinguishes them from random number generators, which do not automatically produce uniformly distributed numbers.</p>\n\n<p>One example of such a sequence would be the <a href=\"https://en.wikipedia.org/wiki/Halton_sequence\" rel=\"nofollow noreferrer\">Halton Sequence</a>, and Apache Commons also has an <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.6/org/apache/commons/math3/random/HaltonSequenceGenerator.html\" rel=\"nofollow noreferrer\">implementation</a> which you can use.</p>\n\n<pre><code>double[] nextVector = generator.nextVector();\n</code></pre>\n\n<p>In your case, using two dimensions, the resulting array also has two entries. What you still need to do is to translate the points into your local coordinates by adding the the central point of the square where you want to place the forest to each generated vector. Also, to increase the gap between points, you should consider scaling the vectors.</p>\n"}],"owner":{"account_id":15203879,"reputation":168,"user_id":10970990,"display_name":"Random Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":55322525,"answer_count":2,"score":2,"last_activity_date":1664761633,"creation_date":1553417057,"question_id":55322029,"body_markdown":"I am creating a game where a landscape is generated all of the generations work perfectly, a week ago I have created a basic &#39;forest&#39; generation system which just is a for loop that takes a chunk, and places random amounts of trees in random locations. But that does not give the result I would like to achieve.\r\n\r\nCode:\r\n\r\n```java\r\nfor(int t = 0; t &lt;= randomForTrees.nextInt(maxTreesPerChunk); t++){\r\n\r\n    // generates random locations for the X, Z positions\\\\\r\n    // the Y position is the height on the terrain gain with the X, Z coordinates \\\\\r\n\tfloat TreeX = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getX();\r\n\tfloat TreeZ = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getZ();\r\n    float TreeY = terrain.getTerrainHeightAtSpot(TreeX, TreeZ);\r\n\r\n    // creates a tree entity with the previous generated positions \\\\\r\n\tEntity tree = new Entity(TreeStaticModel, new Vector3f(TreeX, TreeY, TreeZ), 0, random.nextInt(360), 0, 1);\r\n\r\n\t// checks if the tree is on land \\\\\r\n    if(!(tree.getPosition().y &lt;= -17)){\r\n\t\ttrees.add(tree);\r\n\t}\r\n}\r\n```\r\n\r\nResult:  \r\n\r\n[![Image with the result of the basic above seen generation code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L0dsv.png\r\n","title":"How to generate forests in java","body":"<p>I am creating a game where a landscape is generated all of the generations work perfectly, a week ago I have created a basic 'forest' generation system which just is a for loop that takes a chunk, and places random amounts of trees in random locations. But that does not give the result I would like to achieve.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int t = 0; t &lt;= randomForTrees.nextInt(maxTreesPerChunk); t++){\n\n    // generates random locations for the X, Z positions\\\\\n    // the Y position is the height on the terrain gain with the X, Z coordinates \\\\\n    float TreeX = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getX();\n    float TreeZ = random.nextInt((int) (Settings.TERRAIN_VERTEX_COUNT + Settings.TERRAIN_SIZE)) + terrain.getZ();\n    float TreeY = terrain.getTerrainHeightAtSpot(TreeX, TreeZ);\n\n    // creates a tree entity with the previous generated positions \\\\\n    Entity tree = new Entity(TreeStaticModel, new Vector3f(TreeX, TreeY, TreeZ), 0, random.nextInt(360), 0, 1);\n\n    // checks if the tree is on land \\\\\n    if(!(tree.getPosition().y &lt;= -17)){\n        trees.add(tree);\n    }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/L0dsv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0dsv.png\" alt=\"Image with the result of the basic above seen generation code\" /></a></p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664763332,"post_id":73930268,"comment_id":130538891,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664760043,"creation_date":1664760043,"answer_id":73930367,"question_id":73930268,"body_markdown":"You can use Lombok to avoid boilerplate code. It doesn&#39;t affect any architectural pattern. If you want to achieve special cases then you can override getter/setter/constructor/hashcode/equals/toString/build.\r\n\r\nCheck out more at https://projectlombok.org/features/. Lombok is a compile-time dependency only.\r\n","title":"Lombok for Domain Object in Hexagonal Architecture","body":"<p>You can use Lombok to avoid boilerplate code. It doesn't affect any architectural pattern. If you want to achieve special cases then you can override getter/setter/constructor/hashcode/equals/toString/build.</p>\n<p>Check out more at <a href=\"https://projectlombok.org/features/\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/</a>. Lombok is a compile-time dependency only.</p>\n"}],"owner":{"account_id":25709128,"reputation":5,"user_id":19467960,"display_name":"Fen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664760043,"creation_date":1664758265,"question_id":73930268,"body_markdown":"I just learned about hexagonal architecture and want to implement it in my project using java programming language. From what I learned, in this architecture, layers containing object/entity domains must be made independent (not dependent on other dependencies). The question is can I use the lombok dependency on layers containing object/entity domains to reduce boilerplate code?","title":"Lombok for Domain Object in Hexagonal Architecture","body":"<p>I just learned about hexagonal architecture and want to implement it in my project using java programming language. From what I learned, in this architecture, layers containing object/entity domains must be made independent (not dependent on other dependencies). The question is can I use the lombok dependency on layers containing object/entity domains to reduce boilerplate code?</p>\n"},{"tags":["java","grid","awtrobot"],"comments":[{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1364232221,"post_id":15620880,"comment_id":22157940,"body_markdown":"What happens if you call forward() as you have implemented above, but the robot is already at (4,4). :)","body":"What happens if you call forward() as you have implemented above, but the robot is already at (4,4). :)"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1364232326,"post_id":15620880,"comment_id":22157997,"body_markdown":"@selbie I had planned to put in a boundary check before each move.","body":"@selbie I had planned to put in a boundary check before each move."},{"owner":{"account_id":449991,"reputation":64953,"user_id":845092,"accept_rate":93,"display_name":"Mooing Duck"},"score":0,"creation_date":1364232339,"post_id":15620880,"comment_id":22158006,"body_markdown":"@selbie: I think far more relevant is that &quot;forward&quot; will always move the robot to the right one.","body":"@selbie: I think far more relevant is that &quot;forward&quot; will always move the robot to the right one."},{"owner":{"account_id":2386839,"reputation":717,"user_id":2087646,"accept_rate":100,"display_name":"Aboutblank"},"score":0,"creation_date":1364232408,"post_id":15620880,"comment_id":22158027,"body_markdown":"what happens if it is facing left/right?","body":"what happens if it is facing left/right?"},{"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"score":0,"creation_date":1364232559,"post_id":15620880,"comment_id":22158091,"body_markdown":"@Aboutblank The bit I have started with is in its infancy. It will not work in it&#39;s current guise. It&#39;s not supposed to be my attempt at a solution. Just a way of suggesting an approach.","body":"@Aboutblank The bit I have started with is in its infancy. It will not work in it&#39;s current guise. It&#39;s not supposed to be my attempt at a solution. Just a way of suggesting an approach."},{"owner":{"account_id":2398603,"reputation":3749,"user_id":2096883,"accept_rate":78,"display_name":"Jared Nielsen"},"score":0,"creation_date":1369441985,"post_id":15620880,"comment_id":24118717,"body_markdown":"What is your question?","body":"What is your question?"}],"answers":[{"tags":[],"owner":{"account_id":986733,"reputation":14661,"user_id":1005039,"accept_rate":83,"display_name":"Gustav Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376905004,"creation_date":1376905004,"answer_id":18310653,"question_id":15620880,"body_markdown":"Firstly, I would decide what x and y means. In this case, I&#39;m going to say that x gets larger when you move &quot;east&quot;, and y gets larger when you move &quot;south&quot;. This is usually how it works in computer graphics - the 0,0 point is usually in the top left corner, as is shown here: http://graphics.comsci.us/notes/coord.html\r\n\r\nSo, what I would do is have two classes, Robot and Grid.\r\n\r\nThe **Grid class** should have these properties:\r\n\r\n - minX, which is an int\r\n - maxX, which is an int\r\n - minY, which is an int\r\n - maxY, which is an int\r\n\r\nAnd these methods:\r\n\r\n - isValid(int x, int y)\r\n\r\nThe **Robot class** should have these properties:\r\n\r\n - position, which is a Point\r\n - orientation, which is a direction\r\n - grid, which contains the grid object\r\n\r\nIt should also have these methods:\r\n\r\n - forward()\r\n - left()\r\n - right()\r\n\r\nIt does not matter how you store the orientation - 0,1,2,3 or &quot;north&quot;, &quot;east&quot;, &quot;south&quot;, &quot;west&quot;, or &quot;up&quot;, &quot;right&quot;, &quot;down&quot;, &quot;left&quot;, or maybe even 0, 90, 180, 270, 360 (degrees), or radians. What is important is that you&#39;re consistent in your use of the orientation.\r\n\r\nNow, inside `left()` and `right()`, you change the orientation of your robot. So you could do something like this:\r\n\r\n    public void left() {\r\n      switch (orientation) {\r\n        case &quot;north&quot;: orientation = &quot;west&quot;; break;\r\n        case &quot;east&quot;: orientation = &quot;north&quot;; break;\r\n        ...\r\n      }\r\n    }\r\n\r\nYou would change the directions in order, and you would do them in reverse order in the `right()` function.\r\n\r\nInside `forward()` is where you interact with the `grid` object:\r\n\r\n    public void forward() {\r\n      switch (orientation) {\r\n        case &quot;north&quot;:\r\n          if (grid.isValid(position.x, position.y+1)) {\r\n            position.y += 1;\r\n          } else {\r\n            System.out.println(&quot;Can&#39;t go there!&quot;);\r\n          }\r\n          break;\r\n        ...\r\n    }\r\n\r\nWhat is interesting to notice, is that the Grid class can store *any* shape. As long as you check that the place you want to go to is valid first, the robot doesn&#39;t care what the grid looks like. You can pluck your robot off this grid, and put it on another grid, and it would still work the same way.\r\n\r\nThe next bit would be something that reads commands that you send to it, I imagine. At that point, maybe you&#39;ll just read the string one character at a time, and execute the command that it specifies.\r\n\r\n\r\n\r\n","title":"How to direct a robot","body":"<p>Firstly, I would decide what x and y means. In this case, I'm going to say that x gets larger when you move \"east\", and y gets larger when you move \"south\". This is usually how it works in computer graphics - the 0,0 point is usually in the top left corner, as is shown here: <a href=\"http://graphics.comsci.us/notes/coord.html\" rel=\"nofollow\">http://graphics.comsci.us/notes/coord.html</a></p>\n\n<p>So, what I would do is have two classes, Robot and Grid.</p>\n\n<p>The <strong>Grid class</strong> should have these properties:</p>\n\n<ul>\n<li>minX, which is an int</li>\n<li>maxX, which is an int</li>\n<li>minY, which is an int</li>\n<li>maxY, which is an int</li>\n</ul>\n\n<p>And these methods:</p>\n\n<ul>\n<li>isValid(int x, int y)</li>\n</ul>\n\n<p>The <strong>Robot class</strong> should have these properties:</p>\n\n<ul>\n<li>position, which is a Point</li>\n<li>orientation, which is a direction</li>\n<li>grid, which contains the grid object</li>\n</ul>\n\n<p>It should also have these methods:</p>\n\n<ul>\n<li>forward()</li>\n<li>left()</li>\n<li>right()</li>\n</ul>\n\n<p>It does not matter how you store the orientation - 0,1,2,3 or \"north\", \"east\", \"south\", \"west\", or \"up\", \"right\", \"down\", \"left\", or maybe even 0, 90, 180, 270, 360 (degrees), or radians. What is important is that you're consistent in your use of the orientation.</p>\n\n<p>Now, inside <code>left()</code> and <code>right()</code>, you change the orientation of your robot. So you could do something like this:</p>\n\n<pre><code>public void left() {\n  switch (orientation) {\n    case \"north\": orientation = \"west\"; break;\n    case \"east\": orientation = \"north\"; break;\n    ...\n  }\n}\n</code></pre>\n\n<p>You would change the directions in order, and you would do them in reverse order in the <code>right()</code> function.</p>\n\n<p>Inside <code>forward()</code> is where you interact with the <code>grid</code> object:</p>\n\n<pre><code>public void forward() {\n  switch (orientation) {\n    case \"north\":\n      if (grid.isValid(position.x, position.y+1)) {\n        position.y += 1;\n      } else {\n        System.out.println(\"Can't go there!\");\n      }\n      break;\n    ...\n}\n</code></pre>\n\n<p>What is interesting to notice, is that the Grid class can store <em>any</em> shape. As long as you check that the place you want to go to is valid first, the robot doesn't care what the grid looks like. You can pluck your robot off this grid, and put it on another grid, and it would still work the same way.</p>\n\n<p>The next bit would be something that reads commands that you send to it, I imagine. At that point, maybe you'll just read the string one character at a time, and execute the command that it specifies.</p>\n"},{"tags":[],"owner":{"account_id":1992174,"reputation":21,"user_id":1785961,"display_name":"user1785961"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664757896,"creation_date":1664297352,"answer_id":73871154,"question_id":15620880,"body_markdown":"```\r\npublic class RobotMarsDirections {\r\n\r\n    static int x = 0;\r\n    static int y = 0;\r\n    // default face North direction as per example\r\n    static char faceDirection = &#39;N&#39;;\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            roboMovementDirections(&quot;LFFFRFFFRRRFFF&quot;);\r\n            System.out.println(&quot;[&quot;+x+&quot;,&quot;+y+&quot;]&quot;);\r\n        } catch (Exception ex){\r\n            ex.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    private static void roboMovementDirections(String instructions) throws Exception {\r\n        char[] instructionsArray = instructions.toCharArray();\r\n        for(char instruction: instructionsArray){\r\n            if(instruction == &#39;L&#39; || instruction == &#39;R&#39;){\r\n                changeFaceDirection(instruction);\r\n            } else  if(instruction == &#39;F&#39;) {\r\n                if(faceDirection == &#39;N&#39;) {\r\n                    y += 1;\r\n                } else if (faceDirection == &#39;E&#39;) {\r\n                    x +=1;\r\n                } else if(faceDirection == &#39;W&#39;) {\r\n                    x -=1;\r\n                } else {\r\n                    y -=1;\r\n                }\r\n            } else {\r\n                throw new Exception(&quot;Invalid instruction found - only L,R,F are accepted values&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void changeFaceDirection(char instruction) {\r\n\r\n        if(faceDirection == &#39;N&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;W&#39; : &#39;E&#39;;\r\n        } else if(faceDirection == &#39;E&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;N&#39; : &#39;S&#39;;\r\n        } else if(faceDirection == &#39;W&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;S&#39; : &#39;N&#39;;\r\n        } else if(faceDirection == &#39;S&#39;) {\r\n            faceDirection = instruction == &#39;L&#39; ?  &#39;E&#39; : &#39;W&#39;;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"How to direct a robot","body":"<pre><code>public class RobotMarsDirections {\n\n    static int x = 0;\n    static int y = 0;\n    // default face North direction as per example\n    static char faceDirection = 'N';\n\n    public static void main(String[] args) {\n        try{\n            roboMovementDirections(&quot;LFFFRFFFRRRFFF&quot;);\n            System.out.println(&quot;[&quot;+x+&quot;,&quot;+y+&quot;]&quot;);\n        } catch (Exception ex){\n            ex.printStackTrace();\n        }\n\n    }\n\n    private static void roboMovementDirections(String instructions) throws Exception {\n        char[] instructionsArray = instructions.toCharArray();\n        for(char instruction: instructionsArray){\n            if(instruction == 'L' || instruction == 'R'){\n                changeFaceDirection(instruction);\n            } else  if(instruction == 'F') {\n                if(faceDirection == 'N') {\n                    y += 1;\n                } else if (faceDirection == 'E') {\n                    x +=1;\n                } else if(faceDirection == 'W') {\n                    x -=1;\n                } else {\n                    y -=1;\n                }\n            } else {\n                throw new Exception(&quot;Invalid instruction found - only L,R,F are accepted values&quot;);\n            }\n        }\n    }\n\n    private static void changeFaceDirection(char instruction) {\n\n        if(faceDirection == 'N') {\n            faceDirection = instruction == 'L' ?  'W' : 'E';\n        } else if(faceDirection == 'E') {\n            faceDirection = instruction == 'L' ?  'N' : 'S';\n        } else if(faceDirection == 'W') {\n            faceDirection = instruction == 'L' ?  'S' : 'N';\n        } else if(faceDirection == 'S') {\n            faceDirection = instruction == 'L' ?  'E' : 'W';\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":979146,"reputation":8543,"user_id":999353,"accept_rate":51,"display_name":"TheCoder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18310653,"answer_count":2,"score":1,"last_activity_date":1664757896,"creation_date":1364231801,"question_id":15620880,"body_markdown":"I am writing a Java program that allows a user to send messages to a robot to tell it where to go on a 5x5 grid. E.g, if I send it &#39;FRFFLF&#39;, this means go forward, run right 90 degrees, forward twice, turn left 90 degrees and then go forward. The program then returns the robot&#39;s new position on the grid.\r\n\r\nI&#39;m not seeking a solution, just some guidelines on my approach. Are there already design patterns available for such a program (so I&#39;m not reinventing the wheel) or is it possible to write from scratch?\r\n\r\nThe bottom of the grid is (0,0 and the top would be (4,4).\r\n\r\nI&#39;m thinking that the Robots position could be defined as a Java Point class and the grid would be a 2D array?\r\n\r\nWould something like the following be a start?\r\n\r\n    \tpublic Point forward(Point p) {\r\n\t\tp.x +=1;\r\n\t\treturn p;\r\n\t}\r\n\r\nHas anyone every tried to write such a program? Is it possible?\r\n\r\nEDIT: I&#39;ve thought about the following:\r\nFirstly I need the direction of the robot and its current position. From there I will be encapsulating the grid creating a few rules around boundaries. Basically I will update the position of the robot interpreting the commands passed to it and updating the position based of the robot. Obviously the robot will need to only move within the bounds of the grid.","title":"How to direct a robot","body":"<p>I am writing a Java program that allows a user to send messages to a robot to tell it where to go on a 5x5 grid. E.g, if I send it 'FRFFLF', this means go forward, run right 90 degrees, forward twice, turn left 90 degrees and then go forward. The program then returns the robot's new position on the grid.</p>\n\n<p>I'm not seeking a solution, just some guidelines on my approach. Are there already design patterns available for such a program (so I'm not reinventing the wheel) or is it possible to write from scratch?</p>\n\n<p>The bottom of the grid is (0,0 and the top would be (4,4).</p>\n\n<p>I'm thinking that the Robots position could be defined as a Java Point class and the grid would be a 2D array?</p>\n\n<p>Would something like the following be a start?</p>\n\n<pre><code>    public Point forward(Point p) {\n    p.x +=1;\n    return p;\n}\n</code></pre>\n\n<p>Has anyone every tried to write such a program? Is it possible?</p>\n\n<p>EDIT: I've thought about the following:\nFirstly I need the direction of the robot and its current position. From there I will be encapsulating the grid creating a few rules around boundaries. Basically I will update the position of the robot interpreting the commands passed to it and updating the position based of the robot. Obviously the robot will need to only move within the bounds of the grid.</p>\n"},{"tags":["java","android","flutter","attachevent","event-channel"],"comments":[{"owner":{"account_id":3018507,"reputation":729,"user_id":2560050,"accept_rate":27,"display_name":"umuieme"},"score":0,"creation_date":1664509423,"post_id":73903042,"comment_id":130493007,"body_markdown":"I could not see any code in your android side to send the data back to flutter using your event sink variable named `attachedEvent`","body":"I could not see any code in your android side to send the data back to flutter using your event sink variable named <code>attachedEvent</code>"},{"owner":{"account_id":20661671,"reputation":1,"user_id":15169508,"display_name":"Ravi Prakash Gupta"},"score":0,"creation_date":1664757815,"post_id":73903042,"comment_id":130538362,"body_markdown":"Thank you for the reply. Sorry, I forgot to include that attachedEvent. Now, I have included that in the mainjavafile.txt. Can you check the code once again?","body":"Thank you for the reply. Sorry, I forgot to include that attachedEvent. Now, I have included that in the mainjavafile.txt. Can you check the code once again?"}],"owner":{"account_id":20661671,"reputation":1,"user_id":15169508,"display_name":"Ravi Prakash Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664757749,"creation_date":1664500460,"question_id":73903042,"body_markdown":"I am a newbie to flutter and Java. I want help from you guys.\r\n\r\nWhat do I need?\r\nI want to make an android mobile application with two buttons. One button to record our voice and another one to stop recording.\r\nAfter clicking a record button I want to record my sound with the help of Microsoft Azure speech-to-text API and get a transcribed text. The text should be then passed to the flutter in real-time and displayed on a screen.\r\n\r\nWhat I have done?\r\nI have created a dart file with a text area and two buttons. One button to record sound and another one to stop recording.\r\nWhen I clicked a record button, the Java code will be called with the event channel as I want the speech to text in real-time. The java code will contain a Microsoft azure speech-to-text API and give a text output of the given input voice.\r\n\r\nWhat is my problem?\r\nI got a speech-to-text from Microsoft Azure API when I clicked a record button. But the transcribed text is not passing to flutter. I was able to get a hard-coded text to the flutter but I want to get a transcribed text returned back to flutter and it should be real-time also.\r\n\r\nI have attached a java code as well as dart files in .txt format which I am using.\r\n\r\nHope you guys will help me to find a solution.\r\n\r\nhomepage.txt\r\n\r\n    import &#39;dart:async&#39;;\r\n    \r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:flutter/services.dart&#39;;\r\n    \r\n    class MyHomePage extends StatefulWidget {\r\n      const MyHomePage({Key? key, required this.title}) : super(key: key);\r\n      final String title;\r\n    \r\n      @override\r\n      State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\r\n    }\r\n    \r\n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n      static const stream = EventChannel(\r\n          &#39;com.chamelalaboratory.demo.flutter_event_channel/eventChannel&#39;);\r\n    \r\n      late StreamSubscription _streamSubscription;\r\n      String _currentValue = &quot;&quot;;\r\n    \r\n      void _startListener() {\r\n        _streamSubscription = stream.receiveBroadcastStream().listen(_listenStream);\r\n      }\r\n    \r\n      void _cancelListener() {\r\n        _streamSubscription.cancel();\r\n        setState(() {\r\n          _currentValue = &quot;Start Recording...&quot;;\r\n        });\r\n      }\r\n    \r\n      void _listenStream(value) {\r\n        debugPrint(&quot;Received From Native:  $value\\n&quot;);\r\n        setState(() {\r\n          _currentValue = value;\r\n        });\r\n      }\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          appBar: AppBar(\r\n            title: Text(widget.title),\r\n          ),\r\n          body: Center(\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.center,\r\n              crossAxisAlignment: CrossAxisAlignment.center,\r\n              children: [\r\n                Text(_currentValue.toUpperCase(), textAlign: TextAlign.justify),\r\n                const SizedBox(\r\n                  height: 50,\r\n                ),\r\n    \r\n                //Start Btn\r\n                ElevatedButton(\r\n                  onPressed: () =&gt; _startListener(),\r\n                  child: Text(&quot;Record&quot;.toUpperCase()),\r\n                ),\r\n                const SizedBox(\r\n                  height: 50,\r\n                ),\r\n    \r\n                //Cancel Btn\r\n                ElevatedButton(\r\n                  onPressed: () =&gt; _cancelListener(),\r\n                  child: Text(&quot;Stop&quot;.toUpperCase()),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\nmain.txt\r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    \r\n    import &#39;home_page.dart&#39;;\r\n    \r\n    void main() {\r\n      runApp(const MyApp());\r\n    }\r\n    \r\n    class MyApp extends StatelessWidget {\r\n      const MyApp({Key? key}) : super(key: key);\r\n    \r\n      // This widget is the root of your application.\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          title: &#39;Event Channel Flutter Demo&#39;,\r\n          theme: ThemeData(\r\n            primarySwatch: Colors.blue,\r\n          ),\r\n          home: const MyHomePage(title: &#39;Demo page&#39;),\r\n        );\r\n      }\r\n    }\r\n\r\n\r\nmainjavafile.txt\r\n\r\n    package com.example.sounddiaryapp;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import io.flutter.embedding.android.FlutterActivity;\r\n    import io.flutter.embedding.engine.FlutterEngine;\r\n    \r\n    import com.microsoft.cognitiveservices.speech.*;\r\n    import com.microsoft.cognitiveservices.speech.audio.*;\r\n    \r\n    import java.util.concurrent.ExecutionException;\r\n    import java.io.IOException;\r\n    import java.util.concurrent.Future;\r\n    \r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.*;  \r\n    import java.util.concurrent.Future;\r\n    import static android.Manifest.permission.*;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import android.os.Handler;\r\n    import java.util.Objects;\r\n    import io.flutter.plugin.common.EventChannel;\r\n    \r\n    public class MainActivity extends FlutterActivity {\r\n        private static final String CHANNEL = &quot;codecommon&quot;;\r\n        private static String YourSubscriptionKey = &quot;&quot;;\r\n        private static String YourServiceRegion = &quot;&quot;;\r\n    \r\n        public static final String STREAM = &quot;com.chamelalaboratory.demo.flutter_event_channel/eventChannel&quot;;\r\n        final String TAG_NAME = &quot;From_Native&quot;;\r\n    \r\n        private EventChannel.EventSink attachEvent;\r\n        private int count = 1;\r\n        public String receivedText = &quot;&quot;;\r\n        List&lt;String&gt; textList=new ArrayList&lt;String&gt;();  \r\n    \r\n        private Handler handler;\r\n    \r\n        SpeechConfig speechConfig = SpeechConfig.fromSubscription(YourSubscriptionKey,\r\n                        YourServiceRegion);\r\n    \r\n        AudioConfig audioConfig = AudioConfig.fromDefaultMicrophoneInput();\r\n        SpeechRecognizer speechRecognizer  = new SpeechRecognizer(speechConfig, audioConfig);\r\n    \r\n        private final Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n    \r\n                try{\r\n                    int requestCode = 5; // unique code for the permission request\r\n                    ActivityCompat.requestPermissions(MainActivity.this,\r\n                            new String[] { RECORD_AUDIO, INTERNET }, requestCode);\r\n                    \r\n                    try {   \r\n                        speechRecognizer.recognized.addEventListener((s, e) -&gt; {\r\n                            if (e.getResult().getReason() == ResultReason.RecognizedSpeech) {\r\n                                System.out.println(&quot;RECOGNIZED: Text=&quot; + e.getResult().getText());\r\n                                String receivedText = e.getResult().getText();\r\n                                attachEvent.success(receivedText);\r\n            \r\n                            } else if (e.getResult().getReason() == ResultReason.NoMatch) {\r\n                                System.out.println(&quot;NOMATCH: Speech could not be recognized.&quot;);\r\n            \r\n                                try {\r\n                                    speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                                    // attachEvent.endOfStream();\r\n                                }\r\n                                catch (Exception ex ) {\r\n                                    System.out.println(ex.getMessage());\r\n                                }\r\n                                \r\n                            }\r\n                        });\r\n            \r\n                        speechRecognizer.canceled.addEventListener((s, e) -&gt; {\r\n                            System.out.println(&quot;CANCELED: Reason=&quot; + e.getReason());\r\n            \r\n                            if (e.getReason() == CancellationReason.Error) {\r\n                                System.out.println(&quot;CANCELED: ErrorCode=&quot; + e.getErrorCode());\r\n                                System.out.println(&quot;CANCELED: ErrorDetails=&quot; + e.getErrorDetails());\r\n                                System.out.println(\r\n                                        &quot;CANCELED: Did you set the speech resource key and region values?&quot;);\r\n                            }\r\n            \r\n                            try {\r\n                                speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                                attachEvent.endOfStream();\r\n                            }\r\n                            catch (Exception ex ) {\r\n                                System.out.println(ex.getMessage());\r\n                            }\r\n            \r\n                        });\r\n            \r\n                        speechRecognizer.sessionStopped.addEventListener((s, e) -&gt; {\r\n                            System.out.println(&quot;\\n    top Session stopped event.&quot;);\r\n            \r\n                            try {\r\n                                speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                                // attachEvent.endOfStream();\r\n                            }\r\n                            catch (Exception ex ) {\r\n                                System.out.println(ex.getMessage());\r\n                            }\r\n            \r\n                        });\r\n    \r\n                        speechRecognizer.startContinuousRecognitionAsync().get();\r\n                        \r\n            \r\n                    } catch(Exception e) {\r\n                        System.out.println(&quot;*****************************************************&quot;);\r\n                        System.out.println(e.getMessage());\r\n                        try {\r\n                            speechRecognizer.stopContinuousRecognitionAsync().get();\r\n                            // attachEvent.endOfStream();\r\n                        }\r\n                        catch (Exception ex ) {\r\n                            System.out.println(ex.getMessage());\r\n                        }\r\n                    }\r\n    \r\n                } catch (Exception ex) {\r\n                    System.out.println(&quot;+++++++++++++++++++++++++++++ Unexpected exception: &quot; + ex.getMessage());\r\n                    // recognizer.stopContinuousRecognitionAsync().get();\r\n                    assert (false);\r\n                    System.exit(1);\r\n                } \r\n            }\r\n            \r\n        };\r\n                         \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            new EventChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor(), STREAM).setStreamHandler(\r\n                    new EventChannel.StreamHandler() {\r\n                        @Override\r\n                        public void onListen(Object args, final EventChannel.EventSink events) {\r\n                            Log.w(TAG_NAME, &quot;Adding listener&quot;);\r\n                            attachEvent = events;\r\n                            count = 1;\r\n                            handler = new Handler();\r\n                            runnable.run();\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancel(Object args) {\r\n                            Log.w(TAG_NAME, &quot;Cancelling listener&quot;);\r\n                            try{\r\n                                stopSpeechToText();\r\n                            }\r\n                            catch (Exception ex) {\r\n                                System.out.println(&quot;-------------------------------------&quot;);\r\n                                System.out.println(ex);\r\n                            }\r\n                            \r\n                            handler.removeCallbacks(runnable);\r\n                            handler = null;\r\n                            count = 1;\r\n                            attachEvent = null;\r\n                            System.out.println(&quot;StreamHandler - onCancelled: &quot;);\r\n                        }\r\n                    }\r\n            );\r\n        }\r\n    \r\n    \r\n    \r\n        public void stopSpeechToText() throws InterruptedException, ExecutionException,IOException {\r\n            speechRecognizer .sessionStopped.addEventListener((s, e) -&gt; {\r\n                System.out.println(&quot;\\n    top Session stopped event.&quot;);\r\n    \r\n                try {\r\n                    speechRecognizer .stopContinuousRecognitionAsync().get();\r\n                    // attachEvent.endOfStream();\r\n                }\r\n                catch (Exception ex ) {\r\n                    System.out.println(ex.getMessage());\r\n                }\r\n    \r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            handler.removeCallbacks(runnable);\r\n            handler = null;\r\n            attachEvent = null;\r\n        }\r\n    }\r\n","title":"Data streaming between Flutter and Java is not working","body":"<p>I am a newbie to flutter and Java. I want help from you guys.</p>\n<p>What do I need?\nI want to make an android mobile application with two buttons. One button to record our voice and another one to stop recording.\nAfter clicking a record button I want to record my sound with the help of Microsoft Azure speech-to-text API and get a transcribed text. The text should be then passed to the flutter in real-time and displayed on a screen.</p>\n<p>What I have done?\nI have created a dart file with a text area and two buttons. One button to record sound and another one to stop recording.\nWhen I clicked a record button, the Java code will be called with the event channel as I want the speech to text in real-time. The java code will contain a Microsoft azure speech-to-text API and give a text output of the given input voice.</p>\n<p>What is my problem?\nI got a speech-to-text from Microsoft Azure API when I clicked a record button. But the transcribed text is not passing to flutter. I was able to get a hard-coded text to the flutter but I want to get a transcribed text returned back to flutter and it should be real-time also.</p>\n<p>I have attached a java code as well as dart files in .txt format which I am using.</p>\n<p>Hope you guys will help me to find a solution.</p>\n<p>homepage.txt</p>\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key, required this.title}) : super(key: key);\n  final String title;\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  static const stream = EventChannel(\n      'com.chamelalaboratory.demo.flutter_event_channel/eventChannel');\n\n  late StreamSubscription _streamSubscription;\n  String _currentValue = &quot;&quot;;\n\n  void _startListener() {\n    _streamSubscription = stream.receiveBroadcastStream().listen(_listenStream);\n  }\n\n  void _cancelListener() {\n    _streamSubscription.cancel();\n    setState(() {\n      _currentValue = &quot;Start Recording...&quot;;\n    });\n  }\n\n  void _listenStream(value) {\n    debugPrint(&quot;Received From Native:  $value\\n&quot;);\n    setState(() {\n      _currentValue = value;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            Text(_currentValue.toUpperCase(), textAlign: TextAlign.justify),\n            const SizedBox(\n              height: 50,\n            ),\n\n            //Start Btn\n            ElevatedButton(\n              onPressed: () =&gt; _startListener(),\n              child: Text(&quot;Record&quot;.toUpperCase()),\n            ),\n            const SizedBox(\n              height: 50,\n            ),\n\n            //Cancel Btn\n            ElevatedButton(\n              onPressed: () =&gt; _cancelListener(),\n              child: Text(&quot;Stop&quot;.toUpperCase()),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>main.txt</p>\n<pre><code>import 'package:flutter/material.dart';\n\nimport 'home_page.dart';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Event Channel Flutter Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const MyHomePage(title: 'Demo page'),\n    );\n  }\n}\n</code></pre>\n<p>mainjavafile.txt</p>\n<pre><code>package com.example.sounddiaryapp;\n\nimport androidx.annotation.NonNull;\nimport io.flutter.embedding.android.FlutterActivity;\nimport io.flutter.embedding.engine.FlutterEngine;\n\nimport com.microsoft.cognitiveservices.speech.*;\nimport com.microsoft.cognitiveservices.speech.audio.*;\n\nimport java.util.concurrent.ExecutionException;\nimport java.io.IOException;\nimport java.util.concurrent.Future;\n\nimport androidx.core.app.ActivityCompat;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport java.util.*;  \nimport java.util.concurrent.Future;\nimport static android.Manifest.permission.*;\nimport java.util.concurrent.TimeUnit;\n\nimport android.os.Handler;\nimport java.util.Objects;\nimport io.flutter.plugin.common.EventChannel;\n\npublic class MainActivity extends FlutterActivity {\n    private static final String CHANNEL = &quot;codecommon&quot;;\n    private static String YourSubscriptionKey = &quot;&quot;;\n    private static String YourServiceRegion = &quot;&quot;;\n\n    public static final String STREAM = &quot;com.chamelalaboratory.demo.flutter_event_channel/eventChannel&quot;;\n    final String TAG_NAME = &quot;From_Native&quot;;\n\n    private EventChannel.EventSink attachEvent;\n    private int count = 1;\n    public String receivedText = &quot;&quot;;\n    List&lt;String&gt; textList=new ArrayList&lt;String&gt;();  \n\n    private Handler handler;\n\n    SpeechConfig speechConfig = SpeechConfig.fromSubscription(YourSubscriptionKey,\n                    YourServiceRegion);\n\n    AudioConfig audioConfig = AudioConfig.fromDefaultMicrophoneInput();\n    SpeechRecognizer speechRecognizer  = new SpeechRecognizer(speechConfig, audioConfig);\n\n    private final Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n\n            try{\n                int requestCode = 5; // unique code for the permission request\n                ActivityCompat.requestPermissions(MainActivity.this,\n                        new String[] { RECORD_AUDIO, INTERNET }, requestCode);\n                \n                try {   \n                    speechRecognizer.recognized.addEventListener((s, e) -&gt; {\n                        if (e.getResult().getReason() == ResultReason.RecognizedSpeech) {\n                            System.out.println(&quot;RECOGNIZED: Text=&quot; + e.getResult().getText());\n                            String receivedText = e.getResult().getText();\n                            attachEvent.success(receivedText);\n        \n                        } else if (e.getResult().getReason() == ResultReason.NoMatch) {\n                            System.out.println(&quot;NOMATCH: Speech could not be recognized.&quot;);\n        \n                            try {\n                                speechRecognizer.stopContinuousRecognitionAsync().get();\n                                // attachEvent.endOfStream();\n                            }\n                            catch (Exception ex ) {\n                                System.out.println(ex.getMessage());\n                            }\n                            \n                        }\n                    });\n        \n                    speechRecognizer.canceled.addEventListener((s, e) -&gt; {\n                        System.out.println(&quot;CANCELED: Reason=&quot; + e.getReason());\n        \n                        if (e.getReason() == CancellationReason.Error) {\n                            System.out.println(&quot;CANCELED: ErrorCode=&quot; + e.getErrorCode());\n                            System.out.println(&quot;CANCELED: ErrorDetails=&quot; + e.getErrorDetails());\n                            System.out.println(\n                                    &quot;CANCELED: Did you set the speech resource key and region values?&quot;);\n                        }\n        \n                        try {\n                            speechRecognizer.stopContinuousRecognitionAsync().get();\n                            attachEvent.endOfStream();\n                        }\n                        catch (Exception ex ) {\n                            System.out.println(ex.getMessage());\n                        }\n        \n                    });\n        \n                    speechRecognizer.sessionStopped.addEventListener((s, e) -&gt; {\n                        System.out.println(&quot;\\n    top Session stopped event.&quot;);\n        \n                        try {\n                            speechRecognizer.stopContinuousRecognitionAsync().get();\n                            // attachEvent.endOfStream();\n                        }\n                        catch (Exception ex ) {\n                            System.out.println(ex.getMessage());\n                        }\n        \n                    });\n\n                    speechRecognizer.startContinuousRecognitionAsync().get();\n                    \n        \n                } catch(Exception e) {\n                    System.out.println(&quot;*****************************************************&quot;);\n                    System.out.println(e.getMessage());\n                    try {\n                        speechRecognizer.stopContinuousRecognitionAsync().get();\n                        // attachEvent.endOfStream();\n                    }\n                    catch (Exception ex ) {\n                        System.out.println(ex.getMessage());\n                    }\n                }\n\n            } catch (Exception ex) {\n                System.out.println(&quot;+++++++++++++++++++++++++++++ Unexpected exception: &quot; + ex.getMessage());\n                // recognizer.stopContinuousRecognitionAsync().get();\n                assert (false);\n                System.exit(1);\n            } \n        }\n        \n    };\n                     \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        new EventChannel(Objects.requireNonNull(getFlutterEngine()).getDartExecutor(), STREAM).setStreamHandler(\n                new EventChannel.StreamHandler() {\n                    @Override\n                    public void onListen(Object args, final EventChannel.EventSink events) {\n                        Log.w(TAG_NAME, &quot;Adding listener&quot;);\n                        attachEvent = events;\n                        count = 1;\n                        handler = new Handler();\n                        runnable.run();\n                    }\n\n                    @Override\n                    public void onCancel(Object args) {\n                        Log.w(TAG_NAME, &quot;Cancelling listener&quot;);\n                        try{\n                            stopSpeechToText();\n                        }\n                        catch (Exception ex) {\n                            System.out.println(&quot;-------------------------------------&quot;);\n                            System.out.println(ex);\n                        }\n                        \n                        handler.removeCallbacks(runnable);\n                        handler = null;\n                        count = 1;\n                        attachEvent = null;\n                        System.out.println(&quot;StreamHandler - onCancelled: &quot;);\n                    }\n                }\n        );\n    }\n\n\n\n    public void stopSpeechToText() throws InterruptedException, ExecutionException,IOException {\n        speechRecognizer .sessionStopped.addEventListener((s, e) -&gt; {\n            System.out.println(&quot;\\n    top Session stopped event.&quot;);\n\n            try {\n                speechRecognizer .stopContinuousRecognitionAsync().get();\n                // attachEvent.endOfStream();\n            }\n            catch (Exception ex ) {\n                System.out.println(ex.getMessage());\n            }\n\n        });\n\n    }\n\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        handler.removeCallbacks(runnable);\n        handler = null;\n        attachEvent = null;\n    }\n}\n</code></pre>\n"},{"tags":["java","weka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664625578,"post_id":73917963,"comment_id":130517260,"body_markdown":"You probably don&#39;t have write permission on `C:\\Program Files\\Weka-3-8-6`","body":"You probably don&#39;t have write permission on <code>C:\\Program Files\\Weka-3-8-6</code>"},{"owner":{"account_id":26499939,"reputation":1,"user_id":20137053,"display_name":"rimsha Tahir"},"score":0,"creation_date":1664645714,"post_id":73917963,"comment_id":130521329,"body_markdown":"i created environment variable for java. how can i get persmission?","body":"i created environment variable for java. how can i get persmission?"}],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664757212,"creation_date":1664757212,"answer_id":73930214,"question_id":73917963,"body_markdown":"As [tgdavies](https://stackoverflow.com/users/11002/tgdavies) pointed out, the currently logged in user does not seem to have write permissions to the `C:\\Program Files\\Weka-3-8-6` directory.\r\n\r\nDid you create a `WEKA_HOME` environment variable and pointed it at the `C:\\Program Files\\Weka-3-8-6` directory? By default, this variable would point to `%USERPROFILE%\\wekafiles` under Windows and `$HOME/wekafiles` under Linux/Mac.\r\n\r\nThe `WEKA_HOME` directory is not Weka&#39;s installation directory with the executables, javadoc, etc, but the directory where Weka will look for packages, props files, store its log files, etc. \r\n\r\nYou should create a directory in your home directory (your user would have write access there) and then point the `WEKA_HOME` environment variable to that directory. Once that is done, try starting Weka again.\r\n\r\n","title":"why Weka 3.8.6 is giving java error while open the tool?","body":"<p>As <a href=\"https://stackoverflow.com/users/11002/tgdavies\">tgdavies</a> pointed out, the currently logged in user does not seem to have write permissions to the <code>C:\\Program Files\\Weka-3-8-6</code> directory.</p>\n<p>Did you create a <code>WEKA_HOME</code> environment variable and pointed it at the <code>C:\\Program Files\\Weka-3-8-6</code> directory? By default, this variable would point to <code>%USERPROFILE%\\wekafiles</code> under Windows and <code>$HOME/wekafiles</code> under Linux/Mac.</p>\n<p>The <code>WEKA_HOME</code> directory is not Weka's installation directory with the executables, javadoc, etc, but the directory where Weka will look for packages, props files, store its log files, etc.</p>\n<p>You should create a directory in your home directory (your user would have write access there) and then point the <code>WEKA_HOME</code> environment variable to that directory. Once that is done, try starting Weka again.</p>\n"}],"owner":{"account_id":26499939,"reputation":1,"user_id":20137053,"display_name":"rimsha Tahir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664757212,"creation_date":1664623997,"question_id":73917963,"body_markdown":"when I tried to run weka 3.8.6 the Error is\r\n\r\n```\r\njava.lang.reflect.InvocationTargetException \r\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \r\n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \r\n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \r\n  at java.base/java.lang.reflect.Method.invoke(Unknown Source) \r\n  at weka.gui.SplashWindow.invokeMain(SplashWindow.java:306) \r\n  at weka.gui.GUIChooser.main(GUIChooser.java:92) \r\nCaused by: java.lang.IllegalStateException: \r\njava.io.IOException: Unable to create the metastore directory: C:\\Program Files\\Weka-3-8-6\\wekaMetaStore \r\n  at weka.core.Settings.&lt;init&gt;(Settings.java:134) \r\n  at weka.gui.LookAndFeel.setLookAndFeel(LookAndFeel.java:151) \r\n  at weka.gui.GUIChooserApp.main(GUIChooserApp.java:1663) \r\n  ... 6 more\r\n```","title":"why Weka 3.8.6 is giving java error while open the tool?","body":"<p>when I tried to run weka 3.8.6 the Error is</p>\n<pre><code>java.lang.reflect.InvocationTargetException \n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \n  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \n  at java.base/java.lang.reflect.Method.invoke(Unknown Source) \n  at weka.gui.SplashWindow.invokeMain(SplashWindow.java:306) \n  at weka.gui.GUIChooser.main(GUIChooser.java:92) \nCaused by: java.lang.IllegalStateException: \njava.io.IOException: Unable to create the metastore directory: C:\\Program Files\\Weka-3-8-6\\wekaMetaStore \n  at weka.core.Settings.&lt;init&gt;(Settings.java:134) \n  at weka.gui.LookAndFeel.setLookAndFeel(LookAndFeel.java:151) \n  at weka.gui.GUIChooserApp.main(GUIChooserApp.java:1663) \n  ... 6 more\n</code></pre>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1664721723,"post_id":73926540,"comment_id":130531959,"body_markdown":"You need to instantiate `text` within the `panel` constructor, not the `panel.loop()` method, Declare `JLabel text;` as a public class member (along with your JTextField and JButton) then in the `panel` constructor:  `text = new JLabel(&quot;asd&quot;); text.setForeground(Color.red);`","body":"You need to instantiate <code>text</code> within the <code>panel</code> constructor, not the <code>panel.loop()</code> method, Declare <code>JLabel text;</code> as a public class member (along with your JTextField and JButton) then in the <code>panel</code> constructor:  <code>text = new JLabel(&quot;asd&quot;); text.setForeground(Color.red);</code>"},{"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"score":0,"creation_date":1664723319,"post_id":73926540,"comment_id":130532290,"body_markdown":"@DevilsHnd I have edited my code now as I understand your proposal. that&#39;s how i first tried it but that still doesn&#39;t work. Could you maybe post your proposal as an answer? because I think I might not fully understand what you mean. I have just moved `JLabel text = new JLabel(&quot;asd&quot;);` to the panel constructor","body":"@DevilsHnd I have edited my code now as I understand your proposal. that&#39;s how i first tried it but that still doesn&#39;t work. Could you maybe post your proposal as an answer? because I think I might not fully understand what you mean. I have just moved <code>JLabel text = new JLabel(&quot;asd&quot;);</code> to the panel constructor"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664756550,"creation_date":1664724407,"answer_id":73927046,"question_id":73926540,"body_markdown":"You haven&#39;t declared the JLabel as a class member to make it class global, for example:\r\n\r\n    public class Panel extends JPanel implements ActionListener {\r\n    \r\n    //Screen Settings\r\n    final int originalTileSize = 16;\r\n    final int scale = 3;\r\n    final int tileSize = originalTileSize * scale;\r\n    final int maxScreenCol = 16;\r\n    final int maxScreenRow = 12;\r\n    final int screenWidth = tileSize * maxScreenCol;\r\n    final int screenHeight = tileSize * maxScreenRow;\r\n    \r\n    JButton knopf;\r\n    JTextField field;\r\n    JLabel text;        // &lt;-- Added!!\r\n    Tage days; \r\n    String textInhalt;\r\n    \r\n        public Panel(){\r\n        \r\n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n        this.setBackground(Color.black);\r\n        this.setDoubleBuffered(true);\r\n        this.setFocusable(true);\r\n        \r\n        //Initialize Button \r\n        knopf = new JButton(&quot;klick&quot;);\r\n        knopf.addActionListener(this);\r\n        knopf.setPreferredSize(new Dimension (100, 35));\r\n        \r\n        //Initialize Text field \r\n        field = new JTextField();\r\n        field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n        field.setPreferredSize(new Dimension (200, 50));\r\n        \r\n        text = new JLabel(&quot;asd&quot;);       // &lt;-- Modified!!\r\n        text.setForeground(Color.red);\r\n        \r\n        this.add(field);\r\n        this.add(knopf);\r\n\r\n        // ......  The rest of you Panel class here  ......\r\n\r\n\r\nThe **Day** class:\r\n\r\n```\r\npackage basicsPack;\r\n\r\nimport java.awt.Color;\r\nimport basicsPack.Panel.*;\r\nimport javax.swing.JLabel;\r\n\r\npublic class Day {\r\n    \r\n    boolean isSchool;\r\n    String[] stunden;\r\n    String name;\r\n    \r\n    \r\n    public Day(boolean isSchool, String[] stunden, String name) {\r\n        this.isSchool = isSchool;  \r\n        this.stunden = stunden;\r\n        this.name = name;\r\n    }\r\n    \r\n    public void sagName() {\r\n        System.out.println(this.isSchool);\r\n        System.out.println(this.name);\r\n        Panel.text.setText(&quot;Label Text&quot;);  //  &lt;---\r\n    }\r\n}\r\n```","title":"setText of JLabel in another class. Java","body":"<p>You haven't declared the JLabel as a class member to make it class global, for example:</p>\n<pre><code>public class Panel extends JPanel implements ActionListener {\n\n//Screen Settings\nfinal int originalTileSize = 16;\nfinal int scale = 3;\nfinal int tileSize = originalTileSize * scale;\nfinal int maxScreenCol = 16;\nfinal int maxScreenRow = 12;\nfinal int screenWidth = tileSize * maxScreenCol;\nfinal int screenHeight = tileSize * maxScreenRow;\n\nJButton knopf;\nJTextField field;\nJLabel text;        // &lt;-- Added!!\nTage days; \nString textInhalt;\n\n    public Panel(){\n    \n    this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n    this.setBackground(Color.black);\n    this.setDoubleBuffered(true);\n    this.setFocusable(true);\n    \n    //Initialize Button \n    knopf = new JButton(&quot;klick&quot;);\n    knopf.addActionListener(this);\n    knopf.setPreferredSize(new Dimension (100, 35));\n    \n    //Initialize Text field \n    field = new JTextField();\n    field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n    field.setPreferredSize(new Dimension (200, 50));\n    \n    text = new JLabel(&quot;asd&quot;);       // &lt;-- Modified!!\n    text.setForeground(Color.red);\n    \n    this.add(field);\n    this.add(knopf);\n\n    // ......  The rest of you Panel class here  ......\n</code></pre>\n<p>The <strong>Day</strong> class:</p>\n<pre><code>package basicsPack;\n\nimport java.awt.Color;\nimport basicsPack.Panel.*;\nimport javax.swing.JLabel;\n\npublic class Day {\n    \n    boolean isSchool;\n    String[] stunden;\n    String name;\n    \n    \n    public Day(boolean isSchool, String[] stunden, String name) {\n        this.isSchool = isSchool;  \n        this.stunden = stunden;\n        this.name = name;\n    }\n    \n    public void sagName() {\n        System.out.println(this.isSchool);\n        System.out.println(this.name);\n        Panel.text.setText(&quot;Label Text&quot;);  //  &lt;---\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664727714,"creation_date":1664726376,"answer_id":73927300,"question_id":73926540,"body_markdown":"Your `Day` class is a data class.  It shouldn&#39;t have any references to the `JPanel` at all. \r\n\r\nHere&#39;s what the `Day` class should look like:\r\n\r\n    package basicspack;\r\n    \r\n    public class Day {\r\n    \r\n    \tboolean isSchool;\r\n    \tString[] stunden;\r\n    \tString name;\r\n    \r\n    \tpublic Day(boolean isSchool, String[] stunden, String name) {\r\n    \t\tthis.isSchool = isSchool;\r\n    \t\tthis.stunden = stunden;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic boolean isSchool() {\r\n    \t\treturn isSchool;\r\n    \t}\r\n    \r\n    \tpublic void setSchool(boolean isSchool) {\r\n    \t\tthis.isSchool = isSchool;\r\n    \t}\r\n    \r\n    \tpublic String[] getStunden() {\r\n    \t\treturn stunden;\r\n    \t}\r\n    \r\n    \tpublic void setStunden(String[] stunden) {\r\n    \t\tthis.stunden = stunden;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    }\r\n\r\nYou change the text of your `JLabel` in your `ActionListener` by calling a `Day` getter method.\r\n\r\nDon&#39;t name your classes (`Panel`) the same as the Java standard classes (`java.awt.Panel`).","title":"setText of JLabel in another class. Java","body":"<p>Your <code>Day</code> class is a data class.  It shouldn't have any references to the <code>JPanel</code> at all.</p>\n<p>Here's what the <code>Day</code> class should look like:</p>\n<pre><code>package basicspack;\n\npublic class Day {\n\n    boolean isSchool;\n    String[] stunden;\n    String name;\n\n    public Day(boolean isSchool, String[] stunden, String name) {\n        this.isSchool = isSchool;\n        this.stunden = stunden;\n        this.name = name;\n    }\n\n    public boolean isSchool() {\n        return isSchool;\n    }\n\n    public void setSchool(boolean isSchool) {\n        this.isSchool = isSchool;\n    }\n\n    public String[] getStunden() {\n        return stunden;\n    }\n\n    public void setStunden(String[] stunden) {\n        this.stunden = stunden;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>You change the text of your <code>JLabel</code> in your <code>ActionListener</code> by calling a <code>Day</code> getter method.</p>\n<p>Don't name your classes (<code>Panel</code>) the same as the Java standard classes (<code>java.awt.Panel</code>).</p>\n"}],"owner":{"account_id":25770995,"reputation":35,"user_id":19519818,"display_name":"asgr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664756550,"creation_date":1664720220,"question_id":73926540,"body_markdown":"So, I have seen many similar questions but they are all a bit different and don&#39;t seem  to fit my problem.\r\n\r\nSo, I have a &quot;Main&quot; class, a &quot;Panel&quot; class and a &quot;Day&quot; class. In my Panel class, I have created a JFrame obejct and inside my Panel class I have created a JButton and a JTextField. When the content of the text field is &quot;Monday&quot; I want to display the name of the day and rather I have school on this day. For that, I want to use JLabel. Since the method of displaying the name of the day etc is inside the Day class, I have to create the JLabel object inside the Panel class but edit it inside the Day class.\r\n\r\nHowever, when I use text.setText(&quot;Test&quot;); it does not compile. In Eclipse, it gives the following error: text cannot be resolved (text is my JLabel object). I think that the Day class simply doesn&#39;t know the text object (even when I make the text object static, which helped in similar cases).\r\n\r\nEdit: adjusted to the proposal from DevilsHnd. Still doesn&#39;t work tho\r\n\r\nDay Class:\r\n\r\n```Java\r\npackage basicsPack;\r\n\r\nimport java.awt.Color;\r\nimport basicsPack.Panel.*;\r\nimport javax.swing.JLabel;\r\n\r\npublic class Day{\r\n\t\r\n\tboolean isSchool;\r\n\tString[] stunden;\r\n\tString name;\r\n\t\r\n\t\r\n\tpublic Day(boolean isSchool, String[] stunden, String name) {\r\n\t\t\r\n\t\tthis.isSchool = isSchool;  \r\n\t\tthis.stunden = stunden;\r\n\t\tthis.name = name;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void sagName() {\r\n\t\t\r\n\t\tSystem.out.println(this.isSchool);\r\n\t\tSystem.out.println(this.name);\r\n\t\ttext.setText(&quot;Label Text&quot;); //This is what gives an error.\r\n\t}\r\n}\r\n```\r\nPanel Class:\r\n\r\n```Java\r\npackage basicsPack;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.Scanner;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n\r\npublic class Panel extends JPanel implements ActionListener {\r\n\t\r\n\t//Screen Settings\r\n\tfinal int originalTileSize = 16;\r\n\tfinal int scale = 3;\r\n\tfinal int tileSize = originalTileSize * scale;\r\n\tfinal int maxScreenCol = 16;\r\n\tfinal int maxScreenRow = 12;\r\n\tfinal int screenWidth = tileSize * maxScreenCol;\r\n\tfinal int screenHeight = tileSize * maxScreenRow;\r\n\t\r\n    JLabel text;\r\n\tJButton knopf;\r\n\tJTextField field;\r\n\tTage days; \r\n\tString textInhalt;\r\n\t\r\n\t\tpublic Panel(){\r\n\t\t\r\n\t\tthis.setPreferredSize(new Dimension(screenWidth, screenHeight));\r\n\t\tthis.setBackground(Color.black);\r\n\t\tthis.setDoubleBuffered(true);\r\n\t\tthis.setFocusable(true);\r\n\t\t\r\n\t\t//Initialize Button \r\n\t\tknopf = new JButton(&quot;klick&quot;);\r\n\t\tknopf.addActionListener(this);\r\n\t\tknopf.setPreferredSize(new Dimension (100, 35));\r\n\t\t\r\n\t\t//Initialize Text field \r\n\t\tfield = new JTextField();\r\n\t\tfield.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\r\n\t\tfield.setPreferredSize(new Dimension (200, 50));\r\n\t\t\r\n        text = new JLabel(&quot;asd&quot;);\r\n\t\ttext.setForeground(Color.red);\r\n\t\t\r\n\t\tthis.add(field);\r\n\t\tthis.add(knopf);\r\n\t\tthis.add(text);\r\n\r\n\t\t}\r\n\t\r\n\tpublic void loop() {\r\n\t\t\r\n\t\ttry (Scanner input = new Scanner(System.in))\r\n\t\t{\r\n\r\n\t\t\t\tSystem.out.println(&quot;welchen Tag? &quot;);\r\n\t\t\t\r\n\t\t\t\tswitch(textInhalt) \r\n\t\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tcase &quot;Montag&quot;:\r\n\t\t\t\t\tMontag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Dienstag&quot;:\r\n\t\t\t\t\tDienstag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Mittwoch&quot;:\r\n\t\t\t\t\tMittwoch.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Donnerstag&quot;:\r\n\t\t\t\t\tDonnerstag.sagName();\r\n\t\t\t\t\tbreak;\t\r\n\t\t\r\n\t\t\t\tcase &quot;Freitag&quot;:\r\n\t\t\t\t\tFreitag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase &quot;Samstag&quot;:\r\n\t\t\t\t\tSamstag.sagName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;Sonntag&quot;:\r\n\t\t\t\t\tSonntag.sagName();\r\n\t\t\t\t\tbreak;\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t\r\n\t\tstatic String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\r\n\t\tstatic String[] dinHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] mitHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] donHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] freHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\tstatic String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n\t\t\r\n\t\tstatic Day Montag = new Tage(true, monHours, &quot;Montag&quot;);\r\n\t\tstatic Day Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\r\n\t\tstatic Day Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\r\n\t\tstatic Day Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\r\n\t\tstatic Day Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\r\n\t\tstatic Day Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\r\n\t\tstatic Day Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;\t\t\r\n\t\t\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(e.getSource()==knopf) {\r\n\t\r\n\t\t\t\ttextInhalt = field.getText();\r\n\t\t\t\tloop();\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\n```","title":"setText of JLabel in another class. Java","body":"<p>So, I have seen many similar questions but they are all a bit different and don't seem  to fit my problem.</p>\n<p>So, I have a &quot;Main&quot; class, a &quot;Panel&quot; class and a &quot;Day&quot; class. In my Panel class, I have created a JFrame obejct and inside my Panel class I have created a JButton and a JTextField. When the content of the text field is &quot;Monday&quot; I want to display the name of the day and rather I have school on this day. For that, I want to use JLabel. Since the method of displaying the name of the day etc is inside the Day class, I have to create the JLabel object inside the Panel class but edit it inside the Day class.</p>\n<p>However, when I use text.setText(&quot;Test&quot;); it does not compile. In Eclipse, it gives the following error: text cannot be resolved (text is my JLabel object). I think that the Day class simply doesn't know the text object (even when I make the text object static, which helped in similar cases).</p>\n<p>Edit: adjusted to the proposal from DevilsHnd. Still doesn't work tho</p>\n<p>Day Class:</p>\n<pre><code>package basicsPack;\n\nimport java.awt.Color;\nimport basicsPack.Panel.*;\nimport javax.swing.JLabel;\n\npublic class Day{\n    \n    boolean isSchool;\n    String[] stunden;\n    String name;\n    \n    \n    public Day(boolean isSchool, String[] stunden, String name) {\n        \n        this.isSchool = isSchool;  \n        this.stunden = stunden;\n        this.name = name;\n        \n    }\n    \n    public void sagName() {\n        \n        System.out.println(this.isSchool);\n        System.out.println(this.name);\n        text.setText(&quot;Label Text&quot;); //This is what gives an error.\n    }\n}\n</code></pre>\n<p>Panel Class:</p>\n<pre><code>package basicsPack;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Scanner;\n\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class Panel extends JPanel implements ActionListener {\n    \n    //Screen Settings\n    final int originalTileSize = 16;\n    final int scale = 3;\n    final int tileSize = originalTileSize * scale;\n    final int maxScreenCol = 16;\n    final int maxScreenRow = 12;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n    \n    JLabel text;\n    JButton knopf;\n    JTextField field;\n    Tage days; \n    String textInhalt;\n    \n        public Panel(){\n        \n        this.setPreferredSize(new Dimension(screenWidth, screenHeight));\n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true);\n        this.setFocusable(true);\n        \n        //Initialize Button \n        knopf = new JButton(&quot;klick&quot;);\n        knopf.addActionListener(this);\n        knopf.setPreferredSize(new Dimension (100, 35));\n        \n        //Initialize Text field \n        field = new JTextField();\n        field.setFont(new Font(&quot;Serif&quot;,Font.BOLD,30));\n        field.setPreferredSize(new Dimension (200, 50));\n        \n        text = new JLabel(&quot;asd&quot;);\n        text.setForeground(Color.red);\n        \n        this.add(field);\n        this.add(knopf);\n        this.add(text);\n\n        }\n    \n    public void loop() {\n        \n        try (Scanner input = new Scanner(System.in))\n        {\n\n                System.out.println(&quot;welchen Tag? &quot;);\n            \n                switch(textInhalt) \n                {\n                \n                case &quot;Montag&quot;:\n                    Montag.sagName();\n                    break;\n                    \n                case &quot;Dienstag&quot;:\n                    Dienstag.sagName();\n                    break;\n                    \n                case &quot;Mittwoch&quot;:\n                    Mittwoch.sagName();\n                    break;\n                    \n                case &quot;Donnerstag&quot;:\n                    Donnerstag.sagName();\n                    break;  \n        \n                case &quot;Freitag&quot;:\n                    Freitag.sagName();\n                    break;\n                \n                case &quot;Samstag&quot;:\n                    Samstag.sagName();\n                    break;\n                    \n                case &quot;Sonntag&quot;:\n                    Sonntag.sagName();\n                    break;  \n                }\n            }   \n        }\n    \n        static String[] monHours = {&quot;Bio&quot;, &quot;Bio&quot;, &quot;Mathe&quot;, &quot;Mathe&quot;, &quot;Chemie&quot;, &quot;Chemie&quot;, &quot;frei&quot;, &quot;Musik&quot;, &quot;Musik&quot;};\n        static String[] dinHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] mitHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] donHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] freHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] samHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        static String[] sonHours = {&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n        \n        static Day Montag = new Tage(true, monHours, &quot;Montag&quot;);\n        static Day Dienstag = new Tage(true, dinHours, &quot;Dinestag&quot;)  ;\n        static Day Mittwoch = new Tage(true, mitHours, &quot;Mittwoch&quot;)  ;\n        static Day Donnerstag = new Tage(true, donHours, &quot;Donnerstag&quot;)  ;\n        static Day Freitag = new Tage(true, freHours, &quot;Freitag&quot;)  ;\n        static Day Samstag = new Tage(false, samHours, &quot;Samstag&quot;)  ;\n        static Day Sonntag = new Tage(false, sonHours, &quot;Sonntag&quot;)  ;        \n        \n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if(e.getSource()==knopf) {\n    \n                textInhalt = field.getText();\n                loop();\n            }\n        }\n}\n\n</code></pre>\n"},{"tags":["java","android","eclipse","proguard"],"answers":[{"tags":[],"owner":{"account_id":1813395,"reputation":5057,"user_id":1649021,"accept_rate":82,"display_name":"Mark Molina"},"down_vote_count":2,"up_vote_count":63,"is_accepted":true,"score":61,"last_activity_date":1364897328,"creation_date":1364897328,"answer_id":15761408,"question_id":15760581,"body_markdown":"fixed:\r\n\r\n    -keep class com.facebook.** {\r\n       *;\r\n    }\r\n\r\ninstead of:\r\n\r\n    -keepattributes Signature\r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\nAlso be sure to check your hash key in your facebook app settings.\r\n\r\n","title":"Android ProGuard settings for Facebook","body":"<p>fixed:</p>\n\n<pre><code>-keep class com.facebook.** {\n   *;\n}\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>-keepattributes Signature\n-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p>Also be sure to check your hash key in your facebook app settings.</p>\n"},{"tags":[],"owner":{"account_id":2100971,"reputation":1172,"user_id":1868600,"display_name":"Parmaia"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1380730953,"creation_date":1380730953,"answer_id":19141837,"question_id":15760581,"body_markdown":"In my case your solution\r\n\r\n\r\n    -keep class com.facebook.** {\r\n       *;\r\n    }\r\n\r\nworks, but I had to keep\r\n\r\n\r\n    -keepattributes Signature\r\n\r\nIn order to get everything working.","title":"Android ProGuard settings for Facebook","body":"<p>In my case your solution</p>\n\n<pre><code>-keep class com.facebook.** {\n   *;\n}\n</code></pre>\n\n<p>works, but I had to keep</p>\n\n<pre><code>-keepattributes Signature\n</code></pre>\n\n<p>In order to get everything working.</p>\n"},{"tags":[],"owner":{"account_id":20590715,"reputation":505,"user_id":15114454,"display_name":"Hesham Yemen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664755235,"creation_date":1664755235,"answer_id":73930117,"question_id":15760581,"body_markdown":"I solved this problem by adding\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.0.0&#39;\r\n\r\nreference : \r\n[Add the Audience Network SDK to your Android App][1]\r\n\r\n\r\n  [1]: https://developers.facebook.com/docs/audience-network/setting-up/platform-setup/android/add-sdk","title":"Android ProGuard settings for Facebook","body":"<p>I solved this problem by adding</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.0.0'\n</code></pre>\n<p>reference :\n<a href=\"https://developers.facebook.com/docs/audience-network/setting-up/platform-setup/android/add-sdk\" rel=\"nofollow noreferrer\">Add the Audience Network SDK to your Android App</a></p>\n"}],"owner":{"account_id":1813395,"reputation":5057,"user_id":1649021,"accept_rate":82,"display_name":"Mark Molina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20872,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":15761408,"answer_count":3,"score":29,"last_activity_date":1664755235,"creation_date":1364894911,"question_id":15760581,"body_markdown":"I finally found out why my app crashes built for release. ProGuard was indeed stripping code from my application but i prevented this by manually adding the classes with the keep command in the proguard-android.txt (found in the sdk).\r\n\r\nFor Facebook I used:\r\n\r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\nBut I think I&#39;m still missing something. The app is crash free now but I can&#39;t log in to Facebook and use Open Graph. When I built in debug mode this all works fine.\r\n\r\nWhat are your proguard settings for using Facebook and Facebook&#39;s Open Graph?\r\n\r\n**EDIT**\r\n\r\nThis are my manually added commands for ProGuard:\r\n\r\n    -dontwarn android.support.**\r\n    \r\n    # ActionBarSherlock \r\n    \r\n    -keep class android.support.** { *; } \r\n    \r\n    -keep interface android.support.** { *; } \r\n    \r\n    -keep class com.actionbarsherlock.** { *; } \r\n    \r\n    -keep interface com.actionbarsherlock.** { *; } \r\n    \r\n    \r\n    \r\n    \r\n    # Keep line numbers to alleviate debugging stack traces \r\n    \r\n    -renamesourcefileattribute SourceFile \r\n    \r\n    -keepattributes SourceFile,LineNumberTable\r\n    \r\n    -keepclassmembers class * implements java.io.Serializable\r\n    {\r\n        private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n        private void writeObject(java.io.ObjectOutputStream);\r\n        private void readObject(java.io.ObjectInputStream);\r\n        java.lang.Object writeReplace();\r\n        java.lang.Object readResolve();\r\n    }\r\n    \r\n    -keep class com.facebook.android.*\r\n    -keep class android.webkit.WebViewClient\r\n    -keep class * extends android.webkit.WebViewClient\r\n    -keepclassmembers class * extends android.webkit.WebViewClient { \r\n        &lt;methods&gt;; \r\n    }\r\n\r\n\r\n**EDIT 2**\r\nSo the problem for not logging in was that I used my debug hash key instead of my release hash key. Changed that in my app settings (developers.facebook.com) and found out that my app finally logs in but crashes after login.\r\n\r\nDont know if this still is a ProGuard problem but it returned this error:\r\n\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): FATAL EXCEPTION: main\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): com.facebook.ab: com.facebook.b.e got an unexpected method signature: public abstract com.facebook.b.b com.facebook.b.b.a(java.lang.Class)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.f.a(SourceFile:400)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.e.b(SourceFile:546)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.b.e.invoke(SourceFile:470)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat $Proxy1.a(Native Method)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.bb.a(SourceFile:124)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.ar.a(SourceFile:264)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.facebook.as.run(SourceFile:1240)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Handler.handleCallback(Handler.java:615)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.os.Looper.loop(Looper.java:137)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat android.app.ActivityThread.main(ActivityThread.java:4931)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)\r\n    04-02 11:47:31.815: E/AndroidRuntime(9093): \tat dalvik.system.NativeStart.main(Native Method)\r\n    04-02 11:47:31.820: W/ActivityManager(2130):   Force finishing activity com.xxxxx.xxxx/com.xxxxx.views.MainActivity\r\n    04-02 11:47:32.360: W/ActivityManager(2130): Activity pause timeout for ActivityRecord{4289ca58 com.xxxxx.xxxxx/com.xxxxx.xxxxx.MainActivity}","title":"Android ProGuard settings for Facebook","body":"<p>I finally found out why my app crashes built for release. ProGuard was indeed stripping code from my application but i prevented this by manually adding the classes with the keep command in the proguard-android.txt (found in the sdk).</p>\n\n<p>For Facebook I used:</p>\n\n<pre><code>-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p>But I think I'm still missing something. The app is crash free now but I can't log in to Facebook and use Open Graph. When I built in debug mode this all works fine.</p>\n\n<p>What are your proguard settings for using Facebook and Facebook's Open Graph?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This are my manually added commands for ProGuard:</p>\n\n<pre><code>-dontwarn android.support.**\n\n# ActionBarSherlock \n\n-keep class android.support.** { *; } \n\n-keep interface android.support.** { *; } \n\n-keep class com.actionbarsherlock.** { *; } \n\n-keep interface com.actionbarsherlock.** { *; } \n\n\n\n\n# Keep line numbers to alleviate debugging stack traces \n\n-renamesourcefileattribute SourceFile \n\n-keepattributes SourceFile,LineNumberTable\n\n-keepclassmembers class * implements java.io.Serializable\n{\n    private static final java.io.ObjectStreamField[] serialPersistentFields;\n    private void writeObject(java.io.ObjectOutputStream);\n    private void readObject(java.io.ObjectInputStream);\n    java.lang.Object writeReplace();\n    java.lang.Object readResolve();\n}\n\n-keep class com.facebook.android.*\n-keep class android.webkit.WebViewClient\n-keep class * extends android.webkit.WebViewClient\n-keepclassmembers class * extends android.webkit.WebViewClient { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p><strong>EDIT 2</strong>\nSo the problem for not logging in was that I used my debug hash key instead of my release hash key. Changed that in my app settings (developers.facebook.com) and found out that my app finally logs in but crashes after login.</p>\n\n<p>Dont know if this still is a ProGuard problem but it returned this error:</p>\n\n<pre><code>04-02 11:47:31.815: E/AndroidRuntime(9093): FATAL EXCEPTION: main\n04-02 11:47:31.815: E/AndroidRuntime(9093): com.facebook.ab: com.facebook.b.e got an unexpected method signature: public abstract com.facebook.b.b com.facebook.b.b.a(java.lang.Class)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.f.a(SourceFile:400)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.e.b(SourceFile:546)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.b.e.invoke(SourceFile:470)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at $Proxy1.a(Native Method)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.bb.a(SourceFile:124)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.ar.a(SourceFile:264)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.facebook.as.run(SourceFile:1240)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Handler.handleCallback(Handler.java:615)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Handler.dispatchMessage(Handler.java:92)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.os.Looper.loop(Looper.java:137)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at android.app.ActivityThread.main(ActivityThread.java:4931)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at java.lang.reflect.Method.invokeNative(Native Method)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at java.lang.reflect.Method.invoke(Method.java:511)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)\n04-02 11:47:31.815: E/AndroidRuntime(9093):     at dalvik.system.NativeStart.main(Native Method)\n04-02 11:47:31.820: W/ActivityManager(2130):   Force finishing activity com.xxxxx.xxxx/com.xxxxx.views.MainActivity\n04-02 11:47:32.360: W/ActivityManager(2130): Activity pause timeout for ActivityRecord{4289ca58 com.xxxxx.xxxxx/com.xxxxx.xxxxx.MainActivity}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1664752537,"post_id":73929884,"comment_id":130537807,"body_markdown":"Yes, the code you&#39;ve pasted only works on n x n 2D arrays. Do you want to write a more general method?","body":"Yes, the code you&#39;ve pasted only works on n x n 2D arrays. Do you want to write a more general method?"},{"owner":{"account_id":2900748,"reputation":4538,"user_id":2487517,"accept_rate":57,"display_name":"Tibrogargan"},"score":0,"creation_date":1664752984,"post_id":73929884,"comment_id":130537868,"body_markdown":"It is highly likely that the code here is intended to work on Matrices (i.e The 2nd dimension arrays all have the same number of columns), rather than irregular 2D Arrays, especially as the word &quot;column&quot; is used.","body":"It is highly likely that the code here is intended to work on Matrices (i.e The 2nd dimension arrays all have the same number of columns), rather than irregular 2D Arrays, especially as the word &quot;column&quot; is used."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664752635,"creation_date":1664752635,"answer_id":73929981,"question_id":73929884,"body_markdown":"The following function should work (explanation below):\r\n\r\n    public static int largestColumn(int[][] values){\r\n        int maxLength = 0;\r\n        for(int i = 0; i &lt; values.length; i++){\r\n          if(values[i].length &gt; maxLength){\r\n            maxLength = values[i].length;\r\n          }\r\n        }\r\n        int maxSum = 0;\r\n        int maxInd = 0;\r\n        for(int i = 0; i &lt; maxLength; i++){\r\n          int currSum = 0;\r\n          for(int j = 0; j &lt; values.length; j++){\r\n            if(values[j].length &gt; i){\r\n              currSum += values[j][i];\r\n            }\r\n          }\r\n          if(maxSum &lt; currSum){\r\n            maxSum = currSum;\r\n            maxInd = i;\r\n          }\r\n        }\r\n        return maxInd;\r\n      }\r\n\r\nInput #1:\r\n\r\n      public static void main(String[] args) {\r\n        int[][] values =  { \r\n                        { 17, 13, 19, 22 }, \r\n                        { 12, 18, 25, 20 }, \r\n                        { 15, 18, 21, 24 }, \r\n                        { 19, 23, 23, 22 },\r\n                        { 18, 20, 21, 26} \r\n                      };\r\n        System.out.println(largestColumn(values));\r\n      }\r\n\r\nOutput:\r\n\r\n    3\r\n\r\nInput #2:\r\n\r\n      public static void main(String[] args) {\r\n        int[][] values =  { \r\n                        { 17, 13, 19, 22 }, \r\n                        { 12, 18, 25, 20 }, \r\n                        { 15, 18, 21, 24 }, \r\n                        { 19, 23, 23, 22 },\r\n                        { 18, 20, 21, 26, 1000, 500} \r\n                      };\r\n        System.out.println(largestColumn(values));\r\n      }\r\n\r\nOutput:\r\n\r\n    4\r\n\r\nFirst, we need to determine what the largest length of any row is. By simply traversing through every low and using a maximum algorithm, we can store the length of the largest row of `values` in `maxLength`.\r\n\r\nNext, we iterate through all of the columns by having the variable, `i`, iterate from `0` to `maxLength`. In every column `i`, we add up the values in the `i`&#39;th column, and store the value in `currSum`. When we reach a new maximum sum, we store the value in `maxSum` and the index in `maxInd`. \r\n\r\nHowever, as you noticed, if `values` is not an nxn grid, we may get an out of bounds error. This is why we add an extra conditional to check if the `j`th row we are iterating through when calculating the sum has an `i`th column.\r\n\r\nI hope this helped! Please let me know if you need any further help or clarification :)","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>The following function should work (explanation below):</p>\n<pre><code>public static int largestColumn(int[][] values){\n    int maxLength = 0;\n    for(int i = 0; i &lt; values.length; i++){\n      if(values[i].length &gt; maxLength){\n        maxLength = values[i].length;\n      }\n    }\n    int maxSum = 0;\n    int maxInd = 0;\n    for(int i = 0; i &lt; maxLength; i++){\n      int currSum = 0;\n      for(int j = 0; j &lt; values.length; j++){\n        if(values[j].length &gt; i){\n          currSum += values[j][i];\n        }\n      }\n      if(maxSum &lt; currSum){\n        maxSum = currSum;\n        maxInd = i;\n      }\n    }\n    return maxInd;\n  }\n</code></pre>\n<p>Input #1:</p>\n<pre><code>  public static void main(String[] args) {\n    int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26} \n                  };\n    System.out.println(largestColumn(values));\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>3\n</code></pre>\n<p>Input #2:</p>\n<pre><code>  public static void main(String[] args) {\n    int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26, 1000, 500} \n                  };\n    System.out.println(largestColumn(values));\n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>4\n</code></pre>\n<p>First, we need to determine what the largest length of any row is. By simply traversing through every low and using a maximum algorithm, we can store the length of the largest row of <code>values</code> in <code>maxLength</code>.</p>\n<p>Next, we iterate through all of the columns by having the variable, <code>i</code>, iterate from <code>0</code> to <code>maxLength</code>. In every column <code>i</code>, we add up the values in the <code>i</code>'th column, and store the value in <code>currSum</code>. When we reach a new maximum sum, we store the value in <code>maxSum</code> and the index in <code>maxInd</code>.</p>\n<p>However, as you noticed, if <code>values</code> is not an nxn grid, we may get an out of bounds error. This is why we add an extra conditional to check if the <code>j</code>th row we are iterating through when calculating the sum has an <code>i</code>th column.</p>\n<p>I hope this helped! Please let me know if you need any further help or clarification :)</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664754526,"creation_date":1664754526,"answer_id":73930075,"question_id":73929884,"body_markdown":"A Two Dimensional Array in Java is an **Array of Arrays** and those inner arrays can be any length.\r\n\r\nTo read a 2D Array, read the Row then the columns of that row. A row is in the horizontal plane of the Matrix and the columns are in the vertical plain on the matrix, just like looking at a data table\r\n\r\nIn the following non-square matrix:\r\n\r\n    int[][] values = {//C0  C1  C2  C3   C4   C5  \r\n                      { 17, 13, 19, 22 },           // Row 0\r\n                      { 12, 18, 25, 20 },           // Row 1\r\n                      { 15, 18, 21, 24 },           // Row 2  \r\n                      { 19, 23, 23, 22 },           // Row 3\r\n                      { 18, 20, 21, 26, 1000, 500}, // Row 4\r\n                      { 27, 28, 29}                 // Row 5  \r\n                     };\r\n\r\nthe first row (row 0) consists of: `17, 13, 19, 22`, the second row (row 1) consists of: `12, 18, 25, 20`, and so on. In Row 0 the `17` is column 0, 13 is column 1, 19 is column 2, and so on.\r\n\r\nTo find Array with the greatest number of columns within the above 2D Array, you can do this:\r\n\r\n    int[][] values = { \r\n                      { 17, 13, 19, 22 }, \r\n                      { 12, 18, 25, 20 }, \r\n                      { 15, 18, 21, 24 }, \r\n                      { 19, 23, 23, 22 },\r\n                      { 18, 20, 21, 26, 1000, 500},\r\n                      { 27, 28, 29}\r\n                    };\r\n        \r\n    System.out.println(&quot;The 2D Array:&quot;);\r\n\r\n    int maxLen = values[0].length;\r\n    int indexOfMax = -1;\r\n        \r\n    for (int i = 0; i &lt; values.length; i++) {\r\n        System.out.println(Arrays.toString(values[i]));\r\n        if (values[i].length &gt; maxLen) {\r\n            maxLen = values[i].length;\r\n            indexOfMax = i;\r\n        }\r\n    }\r\n        \r\n    System.out.println();\r\n    System.out.println(&quot;Literal Row #&quot; + (indexOfMax + 1) + &quot; (index: &quot; \r\n                     + indexOfMax + &quot;) has the\\ngreatest number columns: &quot; \r\n                     + maxLen);\r\n    System.out.println(Arrays.toString(values[indexOfMax]));\r\n\r\nThe Console Window should display:\r\n\r\n```\r\nThe 2D Array:\r\n[17, 13, 19, 22]\r\n[12, 18, 25, 20]\r\n[15, 18, 21, 24]\r\n[19, 23, 23, 22]\r\n[18, 20, 21, 26, 1000, 500]\r\n[27, 28, 29]\r\n\r\nLiteral Row #5 (index: 4) has the\r\ngreatest number columns: 6\r\n[18, 20, 21, 26, 1000, 500]\r\n```\r\n","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>A Two Dimensional Array in Java is an <strong>Array of Arrays</strong> and those inner arrays can be any length.</p>\n<p>To read a 2D Array, read the Row then the columns of that row. A row is in the horizontal plane of the Matrix and the columns are in the vertical plain on the matrix, just like looking at a data table</p>\n<p>In the following non-square matrix:</p>\n<pre><code>int[][] values = {//C0  C1  C2  C3   C4   C5  \n                  { 17, 13, 19, 22 },           // Row 0\n                  { 12, 18, 25, 20 },           // Row 1\n                  { 15, 18, 21, 24 },           // Row 2  \n                  { 19, 23, 23, 22 },           // Row 3\n                  { 18, 20, 21, 26, 1000, 500}, // Row 4\n                  { 27, 28, 29}                 // Row 5  \n                 };\n</code></pre>\n<p>the first row (row 0) consists of: <code>17, 13, 19, 22</code>, the second row (row 1) consists of: <code>12, 18, 25, 20</code>, and so on. In Row 0 the <code>17</code> is column 0, 13 is column 1, 19 is column 2, and so on.</p>\n<p>To find Array with the greatest number of columns within the above 2D Array, you can do this:</p>\n<pre><code>int[][] values = { \n                  { 17, 13, 19, 22 }, \n                  { 12, 18, 25, 20 }, \n                  { 15, 18, 21, 24 }, \n                  { 19, 23, 23, 22 },\n                  { 18, 20, 21, 26, 1000, 500},\n                  { 27, 28, 29}\n                };\n    \nSystem.out.println(&quot;The 2D Array:&quot;);\n\nint maxLen = values[0].length;\nint indexOfMax = -1;\n    \nfor (int i = 0; i &lt; values.length; i++) {\n    System.out.println(Arrays.toString(values[i]));\n    if (values[i].length &gt; maxLen) {\n        maxLen = values[i].length;\n        indexOfMax = i;\n    }\n}\n    \nSystem.out.println();\nSystem.out.println(&quot;Literal Row #&quot; + (indexOfMax + 1) + &quot; (index: &quot; \n                 + indexOfMax + &quot;) has the\\ngreatest number columns: &quot; \n                 + maxLen);\nSystem.out.println(Arrays.toString(values[indexOfMax]));\n</code></pre>\n<p>The Console Window should display:</p>\n<pre><code>The 2D Array:\n[17, 13, 19, 22]\n[12, 18, 25, 20]\n[15, 18, 21, 24]\n[19, 23, 23, 22]\n[18, 20, 21, 26, 1000, 500]\n[27, 28, 29]\n\nLiteral Row #5 (index: 4) has the\ngreatest number columns: 6\n[18, 20, 21, 26, 1000, 500]\n</code></pre>\n"}],"owner":{"account_id":9251797,"reputation":21,"user_id":12417458,"display_name":"codetechie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664754526,"creation_date":1664751186,"question_id":73929884,"body_markdown":"I&#39;m trying to understand this 2D Arrays and just read this code and problem on CodeCademy. It seems like the logic is wrong. Why is it limiting the outer pass into arr[0].length only? What if it&#39;s not an equal n x n dimensions? \r\n\r\nAre 2D arrays supposed to have an equal n x n dimension?\r\n\r\n```java\r\n\r\nclass Name {\r\n\r\npublic static int largestColumn(int[][] nums){\r\n\t\tint largestColumn = 0;\r\n\t\tint largestSum = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; arr2D[0].length; i++) {\r\n\r\n\t\t\tint columnVal = 0;\r\n\t\t\tfor (int j = 0; j &lt; arr2D.length; j++) {\r\n\r\n\t\t\t\tcolumnVal += arr2D[j][i];\r\n\t\t\t}\r\n\r\n\t\t\tif (columnVal &gt; largestSum) {\r\n\t\t\t\tlargestSum = columnVal;\r\n\t\t\t\tlargestColumn = i;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn largestColumn;\r\n\r\n}\r\n\r\n   public static void main(String[] args){\r\n       int[][] values =  { \r\n                          { 17, 13, 19, 22 }, \r\n                          { 12, 18, 25, 20 }, \r\n                          { 15, 18, 21, 24 }, \r\n                          { 19, 23, 23, 22 },\r\n\t\t\t\t          { 18, 20, 21, 26} \r\n                         };\r\n\r\n       System.out.println(largestColumn(values)); // 3\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nbut what if you have these in the as values?\r\n```java\r\nint[][] values =  { \r\n                    { 17, 13, 19, 22 }, \r\n                    { 12, 18, 25, 20 }, \r\n                    { 15, 18, 21, 24 }, \r\n                    { 19, 23, 23, 22 },\r\n                    { 18, 20, 21, 26, 1000, 500} \r\n                  };\r\n```\r\n\r\nObviously, column 4 will be the largest. but with the solution above, with arr[0].length as the first pass max, it won&#39;t pass through col 4 and col 5 as the max first pass would be **&lt; 3**.\r\n\r\nI checked the lengths of the 2nd 2D array values, 2D arrays are not self filling if you fill another array[i] with more elements (maybe just in Java since it&#39;s fixed?)\r\n\r\nAny help would be appreciated, thanks!\r\n","title":"Finding the column with the largest column sum in a 2D array with non-uniform rows","body":"<p>I'm trying to understand this 2D Arrays and just read this code and problem on CodeCademy. It seems like the logic is wrong. Why is it limiting the outer pass into arr[0].length only? What if it's not an equal n x n dimensions?</p>\n<p>Are 2D arrays supposed to have an equal n x n dimension?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass Name {\n\npublic static int largestColumn(int[][] nums){\n        int largestColumn = 0;\n        int largestSum = 0;\n\n        for (int i = 0; i &lt; arr2D[0].length; i++) {\n\n            int columnVal = 0;\n            for (int j = 0; j &lt; arr2D.length; j++) {\n\n                columnVal += arr2D[j][i];\n            }\n\n            if (columnVal &gt; largestSum) {\n                largestSum = columnVal;\n                largestColumn = i;\n            }\n\n        }\n\n        return largestColumn;\n\n}\n\n   public static void main(String[] args){\n       int[][] values =  { \n                          { 17, 13, 19, 22 }, \n                          { 12, 18, 25, 20 }, \n                          { 15, 18, 21, 24 }, \n                          { 19, 23, 23, 22 },\n                          { 18, 20, 21, 26} \n                         };\n\n       System.out.println(largestColumn(values)); // 3\n   }\n\n}\n\n</code></pre>\n<p>but what if you have these in the as values?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] values =  { \n                    { 17, 13, 19, 22 }, \n                    { 12, 18, 25, 20 }, \n                    { 15, 18, 21, 24 }, \n                    { 19, 23, 23, 22 },\n                    { 18, 20, 21, 26, 1000, 500} \n                  };\n</code></pre>\n<p>Obviously, column 4 will be the largest. but with the solution above, with arr[0].length as the first pass max, it won't pass through col 4 and col 5 as the max first pass would be <strong>&lt; 3</strong>.</p>\n<p>I checked the lengths of the 2nd 2D array values, 2D arrays are not self filling if you fill another array[i] with more elements (maybe just in Java since it's fixed?)</p>\n<p>Any help would be appreciated, thanks!</p>\n"},{"tags":["java","android","arraylist"],"answers":[{"tags":[],"owner":{"account_id":4454314,"reputation":16,"user_id":3625139,"display_name":"molok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664753314,"creation_date":1664753314,"answer_id":73930016,"question_id":73929917,"body_markdown":"Looks to me that You use wrong indexes for substring.\r\n\r\nSubstring method second parameter is not count of chars to take but **endIndex**.\r\n\r\nWe can find relevant info in javadoc of String.substring :\r\n\r\n    public String substring(int beginIndex, int endIndex)\r\n\r\n&gt; beginIndex - the beginning index, inclusive.\r\n&gt;\r\n&gt; endIndex - the ending index, exclusive.\r\n\r\n","title":"App crashes when adding to an ArrayList in a for loop after first succeeful add","body":"<p>Looks to me that You use wrong indexes for substring.</p>\n<p>Substring method second parameter is not count of chars to take but <strong>endIndex</strong>.</p>\n<p>We can find relevant info in javadoc of String.substring :</p>\n<pre><code>public String substring(int beginIndex, int endIndex)\n</code></pre>\n<blockquote>\n<p>beginIndex - the beginning index, inclusive.</p>\n<p>endIndex - the ending index, exclusive.</p>\n</blockquote>\n"}],"owner":{"display_name":"user16458899"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73930016,"answer_count":1,"score":0,"last_activity_date":1664753314,"creation_date":1664751713,"question_id":73929917,"body_markdown":"Still new to android and java but getting there, here is my problem.\r\n\r\nThe crash occurs at this point ***fieldsA.add( A.substring(_start, _a[i]));*** it works the first time but not the second time, I do not get an error in my debug window, just a crash.\r\n\r\n// number of chars to extract from string value to add to ArrayList.\r\n\r\nint _a[] =  {12,8,8,8,24,24,8,8,4,4,4,5,5,5,7,7,7,7,4,4,4,7,7,7,7,4,8,8,8,1,1,1,1,2};\r\n\r\nint _b[] =\t{2,32,32,4,4,4,5,5,5,7,7,7,7,4,4,4,8,1,4,4,4,4,1,4,56,14 };\r\n\r\nfor clarity, _start value is correct and length of string to extract (_a[i]) is also correct, in the case of this crash, _start value is 12 and _a[i] is 8 so the substring(12, 8) should add &quot;12663312&quot; to the ArrayList.\r\n\r\nQuestion is, what am I doing wrong in how I am using array list, if I was using a vector (which I would normally do in C++) it would be a breeze but this is my first time use of ArratList in java and I cant see what the problem is, maybe I am too old.\r\n\r\nThanks in advance. \r\n\r\n    public void SetEkmFieldValueStrings(String A, String B)\r\n      {\r\n      // example string A content\r\n      /* $00030000019412663312012914320863457705827487016831160515448803478652000007590515438109551618066451002454245424540005600000000300000984000000000007720001756 100C000 100000003800000000000056000009450020000001600000000000000000232002210030208144700!*/\r\n\r\n      /* if length of A is less than 250 chars, read is no good, discard\r\n      *  NOTE:  both Strings A and B will need to be validated for checksum\r\n      *  TODO...\r\n      * */\r\n      if(A.length() &lt; 250) {return;}\r\n\r\n       // discard first 4 chars from string, not needed\r\n       A = A.substring(4, A.length()-4);\r\n\r\n       /* array of fields values are NOT empty */\r\n       /* clear arrays for new sets of values */\r\n      if(fieldsA.size() &gt; 0)\r\n        fieldsA.clear();\r\n      if(fieldsB.size() &gt; 0)\r\n        fieldsB.clear();;\r\n    \r\n      int _start = 0; /* 1st index into field size array */\r\n      int i;\r\n      for(i = 0; i &lt; _a.length; i++)\r\n        {\r\n        /*  add the substring of String A to the array list of field values\r\n        *   _a[i] contains the length of string to extract from A\r\n        * */\r\n        fieldsA.add((String) A.substring(_start, _a[i]));\r\n        String j = fieldsA.get(_start);  //for testing purpose only\r\n        /* set _start to the next field start pont in string A */\r\n        _start += _a[i];\r\n        }\r\n    \r\n        /* do same for String B*/\r\n        _start = 0;\r\n        for(i = 0; i &lt; _b.length; i++)\r\n          {\r\n          /*  add the substring of String A to the array list of field values\r\n           *   _b[i] contains the length in of string to extract\r\n           * */\r\n          fieldsB.add(B.substring(_start, _b[i]));\r\n          /* set _start to the next field start pont in string A */\r\n          _start += _b[i];\r\n          }\r\n    \r\n      }\r\n\r\n","title":"App crashes when adding to an ArrayList in a for loop after first succeeful add","body":"<p>Still new to android and java but getting there, here is my problem.</p>\n<p>The crash occurs at this point <em><strong>fieldsA.add( A.substring(_start, _a[i]));</strong></em> it works the first time but not the second time, I do not get an error in my debug window, just a crash.</p>\n<p>// number of chars to extract from string value to add to ArrayList.</p>\n<p>int _a[] =  {12,8,8,8,24,24,8,8,4,4,4,5,5,5,7,7,7,7,4,4,4,7,7,7,7,4,8,8,8,1,1,1,1,2};</p>\n<p>int _b[] =  {2,32,32,4,4,4,5,5,5,7,7,7,7,4,4,4,8,1,4,4,4,4,1,4,56,14 };</p>\n<p>for clarity, _start value is correct and length of string to extract (_a[i]) is also correct, in the case of this crash, _start value is 12 and _a[i] is 8 so the substring(12, 8) should add &quot;12663312&quot; to the ArrayList.</p>\n<p>Question is, what am I doing wrong in how I am using array list, if I was using a vector (which I would normally do in C++) it would be a breeze but this is my first time use of ArratList in java and I cant see what the problem is, maybe I am too old.</p>\n<p>Thanks in advance.</p>\n<pre><code>public void SetEkmFieldValueStrings(String A, String B)\n  {\n  // example string A content\n  /* $00030000019412663312012914320863457705827487016831160515448803478652000007590515438109551618066451002454245424540005600000000300000984000000000007720001756 100C000 100000003800000000000056000009450020000001600000000000000000232002210030208144700!*/\n\n  /* if length of A is less than 250 chars, read is no good, discard\n  *  NOTE:  both Strings A and B will need to be validated for checksum\n  *  TODO...\n  * */\n  if(A.length() &lt; 250) {return;}\n\n   // discard first 4 chars from string, not needed\n   A = A.substring(4, A.length()-4);\n\n   /* array of fields values are NOT empty */\n   /* clear arrays for new sets of values */\n  if(fieldsA.size() &gt; 0)\n    fieldsA.clear();\n  if(fieldsB.size() &gt; 0)\n    fieldsB.clear();;\n\n  int _start = 0; /* 1st index into field size array */\n  int i;\n  for(i = 0; i &lt; _a.length; i++)\n    {\n    /*  add the substring of String A to the array list of field values\n    *   _a[i] contains the length of string to extract from A\n    * */\n    fieldsA.add((String) A.substring(_start, _a[i]));\n    String j = fieldsA.get(_start);  //for testing purpose only\n    /* set _start to the next field start pont in string A */\n    _start += _a[i];\n    }\n\n    /* do same for String B*/\n    _start = 0;\n    for(i = 0; i &lt; _b.length; i++)\n      {\n      /*  add the substring of String A to the array list of field values\n       *   _b[i] contains the length in of string to extract\n       * */\n      fieldsB.add(B.substring(_start, _b[i]));\n      /* set _start to the next field start pont in string A */\n      _start += _b[i];\n      }\n\n  }\n</code></pre>\n"},{"tags":["java","hibernate","javafx"],"comments":[{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664539288,"post_id":73901138,"comment_id":130500767,"body_markdown":"update: add info and picture the todolistFx program","body":"update: add info and picture the todolistFx program"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1664539829,"post_id":73901138,"comment_id":130500927,"body_markdown":"Why using HBM mapping rather than JPA?","body":"Why using HBM mapping rather than JPA?"},{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664546928,"post_id":73901138,"comment_id":130503452,"body_markdown":"update structure add","body":"update structure add"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1664554282,"post_id":73901138,"comment_id":130506036,"body_markdown":"Is the fetch query printed in the logs?","body":"Is the fetch query printed in the logs?"},{"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"score":0,"creation_date":1664555002,"post_id":73901138,"comment_id":130506232,"body_markdown":"it does not reach the query selection, the table is not loaded into an fxml table, update logs run, And if I try to add Task object writes: Caused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task","body":"it does not reach the query selection, the table is not loaded into an fxml table, update logs run, And if I try to add Task object writes: Caused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task"}],"answers":[{"tags":[],"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664750336,"creation_date":1664750336,"answer_id":73929822,"question_id":73901138,"body_markdown":" I fill in my ObservableList , list , which I got from the table\r\n\r\nas you can see the todolist program has filled up\r\n[![enter image description here][1]][1]\r\n\r\n\r\nclass TaskHibernateImpl in this class, data is taken from the table ,method tasksclear() checking the table clearing so that there is no double table filling, we clear the current one.createQuery(&quot;From Task&quot;) here I attention! specify my class entity\r\n\r\n\r\n        public class TaskHibernateImpl implements TaskDao { \r\n        ...\r\n        public ObservableList&lt;Task&gt; findAll() {\r\n                    tasks.clear(); // \r\n                    tasks.addAll(HibernateSessionFactoryUtil.getSessionFactory().openSession().createQuery(&quot;From Task&quot;).list());\r\n                    System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // false \r\n                    return tasks;\r\n                }\r\n    ...\r\n    }\r\n\r\nclass HibernateSessionFactoryUtil -&gt; In this class, I create a configuration and add a class to it, with a JPA configuration\r\n\r\n    public class HibernateSessionFactoryUtil {\r\n    \r\n        private static SessionFactory sessionFactory;\r\n    \r\n        private static ServiceRegistry serviceRegistry;\r\n    \r\n        public HibernateSessionFactoryUtil() {\r\n        }\r\n    \r\n        public static SessionFactory getSessionFactory(){\r\n            if(sessionFactory == null){\r\n                try{\r\n                    Configuration configuration = new Configuration().configure();\r\n                    // here necessary class add\r\n                    configuration.addAnnotatedClass(ru.todolist.javafx.objects.Task.class);\r\n                    StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n                    sessionFactory = configuration.buildSessionFactory(builder.build());\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Exception !&quot; + e);\r\n                }\r\n            }\r\n            return sessionFactory;\r\n        }\r\n    }\r\n \r\nclass Task -&gt; In this class I put JPA annotations @Entity, @Id, @Column\r\n\r\n    package ru.todolist.javafx.objects;\r\n    \r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;todo&quot;, schema = &quot;main&quot;, catalog = &quot;&quot;)\r\n    public class Task {\r\n    \r\n        private SimpleIntegerProperty id = new SimpleIntegerProperty();\r\n        private SimpleStringProperty task = new SimpleStringProperty(&quot;&quot;);\r\n    \r\n        private static Date date = new Date();\r\n        private SimpleStringProperty time = new SimpleStringProperty(date.toString());\r\n    \r\n    //    private static boolean statusBegin = false;\r\n        private static String statusText = &quot;не выполнена&quot;;\r\n        private SimpleStringProperty status = new SimpleStringProperty(statusText);\r\n    \r\n        public Task() {\r\n        }\r\n    \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        public int getId() {\r\n            return id.get();\r\n        }\r\n    \r\n        public SimpleIntegerProperty idProperty() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id.set(id);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;task&quot;, nullable = false, length = -1)\r\n        public String getTask() {\r\n            return task.get();\r\n        }\r\n    \r\n        public SimpleStringProperty taskProperty() {\r\n            return task;\r\n        }\r\n    \r\n        public void setTask(String task) {\r\n            this.task.set(task);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;task_create_time&quot;, nullable = false, length = -1)\r\n        public String getTime() {\r\n            return time.get();\r\n        }\r\n    \r\n        public SimpleStringProperty timeProperty() {\r\n            return time;\r\n        }\r\n    \r\n        public void setTime(String time) {\r\n            this.time.set(time);\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;status&quot;, nullable = true, length = -1)\r\n        public String getStatus() {\r\n            return status.get();\r\n        }\r\n    \r\n        public SimpleStringProperty statusProperty() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(String status) {\r\n            this.status.set(status);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Task{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, task=&quot; + task +\r\n                    &quot;, time=&quot; + time +\r\n                    &quot;, status=&quot; + status +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n    }\r\n\r\nclass hibernate.cfg.xml  hibernate configuration class\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\r\n    \r\n          &lt;mapping class=&quot;ru.todolist.javafx.objects.Task&quot;/&gt;\r\n    &lt;!--      &lt;mapping resource=&quot;Task.hbm.xml&quot;/&gt;--&gt;\r\n          &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n    \r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q2TM3.png\r\n","title":"I can&#39;t extract data from the table and make a connection with the hibernate orm","body":"<p>I fill in my ObservableList , list , which I got from the table</p>\n<p>as you can see the todolist program has filled up\n<a href=\"https://i.stack.imgur.com/Q2TM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q2TM3.png\" alt=\"enter image description here\" /></a></p>\n<p>class TaskHibernateImpl in this class, data is taken from the table ,method tasksclear() checking the table clearing so that there is no double table filling, we clear the current one.createQuery(&quot;From Task&quot;) here I attention! specify my class entity</p>\n<pre><code>    public class TaskHibernateImpl implements TaskDao { \n    ...\n    public ObservableList&lt;Task&gt; findAll() {\n                tasks.clear(); // \n                tasks.addAll(HibernateSessionFactoryUtil.getSessionFactory().openSession().createQuery(&quot;From Task&quot;).list());\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // false \n                return tasks;\n            }\n...\n}\n</code></pre>\n<p>class HibernateSessionFactoryUtil -&gt; In this class, I create a configuration and add a class to it, with a JPA configuration</p>\n<pre><code>public class HibernateSessionFactoryUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private static ServiceRegistry serviceRegistry;\n\n    public HibernateSessionFactoryUtil() {\n    }\n\n    public static SessionFactory getSessionFactory(){\n        if(sessionFactory == null){\n            try{\n                Configuration configuration = new Configuration().configure();\n                // here necessary class add\n                configuration.addAnnotatedClass(ru.todolist.javafx.objects.Task.class);\n                StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n                sessionFactory = configuration.buildSessionFactory(builder.build());\n            } catch (Exception e) {\n                System.out.println(&quot;Exception !&quot; + e);\n            }\n        }\n        return sessionFactory;\n    }\n}\n</code></pre>\n<p>class Task -&gt; In this class I put JPA annotations @Entity, @Id, @Column</p>\n<pre><code>package ru.todolist.javafx.objects;\n\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javax.persistence.*;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;todo&quot;, schema = &quot;main&quot;, catalog = &quot;&quot;)\npublic class Task {\n\n    private SimpleIntegerProperty id = new SimpleIntegerProperty();\n    private SimpleStringProperty task = new SimpleStringProperty(&quot;&quot;);\n\n    private static Date date = new Date();\n    private SimpleStringProperty time = new SimpleStringProperty(date.toString());\n\n//    private static boolean statusBegin = false;\n    private static String statusText = &quot;не выполнена&quot;;\n    private SimpleStringProperty status = new SimpleStringProperty(statusText);\n\n    public Task() {\n    }\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    public int getId() {\n        return id.get();\n    }\n\n    public SimpleIntegerProperty idProperty() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id.set(id);\n    }\n\n    @Basic\n    @Column(name = &quot;task&quot;, nullable = false, length = -1)\n    public String getTask() {\n        return task.get();\n    }\n\n    public SimpleStringProperty taskProperty() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task.set(task);\n    }\n\n    @Basic\n    @Column(name = &quot;task_create_time&quot;, nullable = false, length = -1)\n    public String getTime() {\n        return time.get();\n    }\n\n    public SimpleStringProperty timeProperty() {\n        return time;\n    }\n\n    public void setTime(String time) {\n        this.time.set(time);\n    }\n\n    @Basic\n    @Column(name = &quot;status&quot;, nullable = true, length = -1)\n    public String getStatus() {\n        return status.get();\n    }\n\n    public SimpleStringProperty statusProperty() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status.set(status);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Task{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, task=&quot; + task +\n                &quot;, time=&quot; + time +\n                &quot;, status=&quot; + status +\n                '}';\n    }\n\n}\n</code></pre>\n<p>class hibernate.cfg.xml  hibernate configuration class</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\n\n      &lt;mapping class=&quot;ru.todolist.javafx.objects.Task&quot;/&gt;\n&lt;!--      &lt;mapping resource=&quot;Task.hbm.xml&quot;/&gt;--&gt;\n      &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n    &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n    &lt;!-- DB schema will be updated if needed --&gt;\n    &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":16336898,"reputation":107,"user_id":11996777,"display_name":"Tribjj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73929822,"answer_count":1,"score":0,"last_activity_date":1664750336,"creation_date":1664482400,"question_id":73901138,"body_markdown":"I start the server, I can&#39;t fill out the list in any way, the database is connected and working, table work, I can&#39;t extract data from the table and make a connection with the hibernate orm\r\n######\r\nAnd if I try to add writes:\r\nCaused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task\r\n\t\r\n\r\nclass TaskHibernateImpl \r\n\r\n        public class TaskHibernateImpl implements TaskDao {\r\n        ....\r\n        public ObservableList&lt;Task&gt; tasks = FXCollections.observableArrayList();\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            @Override\r\n            public ObservableList&lt;Task&gt; findAll() {\r\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty());\r\n        \r\n                tasks.clear();\r\n                Session session = getSessionFactory().openSession();\r\n                tasks.addAll(session.createCriteria(Task.class).list()); //here it is not filled in\r\n                System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // true list empty\r\n                session.close();\r\n                return tasks;\r\n            }\r\n    ...\r\n    }\r\n\r\nclass Task object model\r\n\r\n     [![enter image description here][1]][1]\r\n\r\nFile hibernate.cfg.xml hibernate configuration file\r\n   \r\n\r\n        &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n    &lt;!--    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db--&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\r\n          &lt;mapping class=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot;/&gt;\r\n          &lt;mapping resource=&quot;TodoEntity.hbm.xml&quot;/&gt;\r\n          &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\r\n        &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\r\n    \r\n        &lt;!-- DB schema will be updated if needed --&gt;\r\n        &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nTodoEntity.hbm.xml\r\n\r\n   \r\n\r\n         &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC\r\n     &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-mapping&gt;\r\n    \r\n        &lt;class name=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot; table=&quot;todo&quot; schema=&quot;main&quot;&gt;\r\n            &lt;id name=&quot;id&quot;&gt;\r\n                &lt;column name=&quot;id&quot; sql-type=&quot;integer&quot;/&gt;\r\n            &lt;/id&gt;\r\n            &lt;property name=&quot;task&quot;&gt;\r\n                &lt;column name=&quot;task&quot; sql-type=&quot;text&quot;/&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;taskCreateTime&quot;&gt;\r\n                &lt;column name=&quot;task_create_time&quot; sql-type=&quot;text&quot;/&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;status&quot;&gt;\r\n                &lt;column name=&quot;status&quot; sql-type=&quot;text&quot; not-null=&quot;true&quot;/&gt;\r\n            &lt;/property&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\ntable todo work\r\n\r\n[![enter image description here][2]][2]\r\n\r\nthe todolistFx program itself,see empty\r\n\r\n[![enter image description here][3]][3]\r\n\r\nprogram structure\r\n\r\n[![enter image description here][4]][4]\r\n\r\nlogs run\r\n\r\n        D:\\jdk11\\bin\\java.exe --module-path D:\\openjFX18\\lib --add-modules=javafx.controls,javafx.fxml &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=51993:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\target\\classes;D:\\openjFX18\\lib\\javafx-swt.jar;D:\\openjFX18\\lib\\javafx.web.jar;D:\\openjFX18\\lib\\javafx.base.jar;D:\\openjFX18\\lib\\javafx.fxml.jar;D:\\openjFX18\\lib\\javafx.media.jar;D:\\openjFX18\\lib\\javafx.swing.jar;D:\\openjFX18\\lib\\javafx.controls.jar;D:\\openjFX18\\lib\\javafx.graphics.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\classmate-1.5.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\dom4j-2.1.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\FastInfoset-1.2.15.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\antlr-2.7.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jandex-2.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\byte-buddy-1.10.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javassist-3.24.0-GA.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.persistence-api-2.2.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-api-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\stax-ex-1.8.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\txw2-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.11.Final\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\den\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\den\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.7\\byte-buddy-1.10.7.jar;C:\\Users\\den\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\jandex\\2.1.1.Final\\jandex-2.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\den\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\den\\.m2\\repository\\org\\xerial\\sqlite-jdbc\\3.39.3.0\\sqlite-jdbc-3.39.3.0.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.1\\controlsfx-11.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.3.1\\ikonli-javafx-12.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.3.1\\ikonli-core-12.3.1.jar ru.todolist.javafx.start.Main\r\n    сент. 30, 2022 7:17:30 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate Core {5.4.11.Final}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n    INFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\r\n    WARN: HHH90000022: Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {autocommit=true}\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: true\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\r\n    INFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    сент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\r\n    WARN: HHH90000022: Hibernate&#39;s legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\r\n\r\n  [1]: https://i.stack.imgur.com/aQ66D.png\r\n  [2]: https://i.stack.imgur.com/Wk6G8.png\r\n  [3]: https://i.stack.imgur.com/rkY0x.png\r\n  [4]: https://i.stack.imgur.com/pP2la.png\r\n","title":"I can&#39;t extract data from the table and make a connection with the hibernate orm","body":"<p>I start the server, I can't fill out the list in any way, the database is connected and working, table work, I can't extract data from the table and make a connection with the hibernate orm</p>\n<h6></h6>\n<p>And if I try to add writes:\nCaused by: org.hibernate.MappingException: Unknown entity: ru.todolist.javafx.objects.Task</p>\n<p>class TaskHibernateImpl</p>\n<pre><code>    public class TaskHibernateImpl implements TaskDao {\n    ....\n    public ObservableList&lt;Task&gt; tasks = FXCollections.observableArrayList();\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        @Override\n        public ObservableList&lt;Task&gt; findAll() {\n            System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty());\n    \n            tasks.clear();\n            Session session = getSessionFactory().openSession();\n            tasks.addAll(session.createCriteria(Task.class).list()); //here it is not filled in\n            System.out.println(&quot;tasks.isEmpty() = &quot; + tasks.isEmpty()); // true list empty\n            session.close();\n            return tasks;\n        }\n...\n}\n</code></pre>\n<p>class Task object model</p>\n<pre><code> [![enter image description here][1]][1]\n</code></pre>\n<p>File hibernate.cfg.xml hibernate configuration file</p>\n<pre><code>    &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n&lt;!--    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db--&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db&lt;/property&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;org.sqlite.JDBC&lt;/property&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    &lt;property name=&quot;dialect&quot;&gt;ru.todolist.javafx.hibernate.dialect.SQLiteDialect&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\n      &lt;mapping class=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot;/&gt;\n      &lt;mapping resource=&quot;TodoEntity.hbm.xml&quot;/&gt;\n      &lt;!-- &lt;property name=&quot;connection.username&quot;/&gt; --&gt;\n    &lt;!-- &lt;property name=&quot;connection.password&quot;/&gt; --&gt;\n\n    &lt;!-- DB schema will be updated if needed --&gt;\n    &lt;!-- &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt; --&gt;\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>TodoEntity.hbm.xml</p>\n<pre><code>     &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n    &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n\n    &lt;class name=&quot;ru.todolist.javafx.hibernate.TodoEntity&quot; table=&quot;todo&quot; schema=&quot;main&quot;&gt;\n        &lt;id name=&quot;id&quot;&gt;\n            &lt;column name=&quot;id&quot; sql-type=&quot;integer&quot;/&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;task&quot;&gt;\n            &lt;column name=&quot;task&quot; sql-type=&quot;text&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;taskCreateTime&quot;&gt;\n            &lt;column name=&quot;task_create_time&quot; sql-type=&quot;text&quot;/&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;status&quot;&gt;\n            &lt;column name=&quot;status&quot; sql-type=&quot;text&quot; not-null=&quot;true&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>table todo work</p>\n<p><a href=\"https://i.stack.imgur.com/Wk6G8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wk6G8.png\" alt=\"enter image description here\" /></a></p>\n<p>the todolistFx program itself,see empty</p>\n<p><a href=\"https://i.stack.imgur.com/rkY0x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkY0x.png\" alt=\"enter image description here\" /></a></p>\n<p>program structure</p>\n<p><a href=\"https://i.stack.imgur.com/pP2la.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pP2la.png\" alt=\"enter image description here\" /></a></p>\n<p>logs run</p>\n<pre><code>    D:\\jdk11\\bin\\java.exe --module-path D:\\openjFX18\\lib --add-modules=javafx.controls,javafx.fxml &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\lib\\idea_rt.jar=51993:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\target\\classes;D:\\openjFX18\\lib\\javafx-swt.jar;D:\\openjFX18\\lib\\javafx.web.jar;D:\\openjFX18\\lib\\javafx.base.jar;D:\\openjFX18\\lib\\javafx.fxml.jar;D:\\openjFX18\\lib\\javafx.media.jar;D:\\openjFX18\\lib\\javafx.swing.jar;D:\\openjFX18\\lib\\javafx.controls.jar;D:\\openjFX18\\lib\\javafx.graphics.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\classmate-1.5.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\dom4j-2.1.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\FastInfoset-1.2.15.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\antlr-2.7.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jandex-2.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\byte-buddy-1.10.7.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javassist-3.24.0-GA.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\javax.persistence-api-2.2.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-api-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\stax-ex-1.8.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\txw2-2.3.1.jar;C:\\Users\\den\\IdeaProjects\\TodoListFx\\TodoListFx\\lib\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.11.Final\\hibernate-core-5.4.11.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\den\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\den\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.10.7\\byte-buddy-1.10.7.jar;C:\\Users\\den\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\org\\jboss\\jandex\\2.1.1.Final\\jandex-2.1.1.Final.jar;C:\\Users\\den\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\den\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\den\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\den\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\den\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\den\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\den\\.m2\\repository\\org\\xerial\\sqlite-jdbc\\3.39.3.0\\sqlite-jdbc-3.39.3.0.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.2\\javafx-controls-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.2\\javafx-graphics-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.2\\javafx-base-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2.jar;C:\\Users\\den\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.2\\javafx-fxml-17.0.2-win.jar;C:\\Users\\den\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.1\\controlsfx-11.1.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.3.1\\ikonli-javafx-12.3.1.jar;C:\\Users\\den\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.3.1\\ikonli-core-12.3.1.jar ru.todolist.javafx.start.Main\nсент. 30, 2022 7:17:30 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.4.11.Final}\nсент. 30, 2022 7:17:31 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:31 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:31 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\nWARN: HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.sqlite.JDBC] at URL [jdbc:sqlite:C:/Users/den/IdeaProjects/TodoListFx/TodoListFx/db/todolist.db]\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {autocommit=true}\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: true\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\nсент. 30, 2022 7:17:32 PM org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: ru.todolist.javafx.hibernate.dialect.SQLiteDialect\nсент. 30, 2022 7:17:32 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nсент. 30, 2022 7:17:32 PM org.hibernate.internal.SessionImpl createCriteria\nWARN: HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead\n</code></pre>\n"},{"tags":["java","android","arrays"],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664749042,"creation_date":1664660302,"answer_id":73921924,"question_id":73921301,"body_markdown":"You only need to use the PrintWriter, therefore you could write the initialization of the writers into one statement.\r\n\r\n    File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\r\n    \r\n\r\nYou can write into your file with `print`/`write`/`println()`/`printf()`/`format()`. As you want to use some formatting you should use `printf()`/`format()`. The formatting instruction `4s%n` shows the String value with at least 4 letter and then a linebreak.\r\nThe PrintWriter is usually used with try-with-resource, which will close the PrintWriter automatically within the implicite final block.\r\n\r\n    try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(outfile)))) {\r\n        while (sc.hasNext()) {\r\n            String value = sc.next();\r\n            sb.append(&quot;\\n&quot;).append(value);\r\n            pw.printf(&quot;%4s%n&quot;, value);\r\n        }\r\n    }\r\n","title":"Array from a textfile, and then display new values obtained from subtracting starting values by mean in android studio","body":"<p>You only need to use the PrintWriter, therefore you could write the initialization of the writers into one statement.</p>\n<pre><code>File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\n</code></pre>\n<p>You can write into your file with <code>print</code>/<code>write</code>/<code>println()</code>/<code>printf()</code>/<code>format()</code>. As you want to use some formatting you should use <code>printf()</code>/<code>format()</code>. The formatting instruction <code>4s%n</code> shows the String value with at least 4 letter and then a linebreak.\nThe PrintWriter is usually used with try-with-resource, which will close the PrintWriter automatically within the implicite final block.</p>\n<pre><code>try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(outfile)))) {\n    while (sc.hasNext()) {\n        String value = sc.next();\n        sb.append(&quot;\\n&quot;).append(value);\n        pw.printf(&quot;%4s%n&quot;, value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26502681,"reputation":1,"user_id":20139370,"display_name":"Void Boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664749042,"creation_date":1664653922,"question_id":73921301,"body_markdown":"I have already managed to display the values from a textfile and put them into an array (i think), but now i want to not only obtain new values equal to the original values minus the lehmer mean, but also output them to a file that displays one value per line and with a limit of four decimal places, but i have no idea where to even start with that. \r\nThis is the code I have right now:\r\n\r\n    public void processPress(View view)\r\n            throws IOException\r\n    {\r\n        EditText fileInputField = findViewById(R.id.editFileName);\r\n        String fileName = fileInputField.getText().toString();\r\n\r\n        Scanner sc = new Scanner(new InputStreamReader(getAssets().open(fileName),\r\n                StandardCharsets.UTF_8));\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        while (sc.hasNext()) {\r\n            sb.append(&quot;\\n&quot;).append(sc.next());\r\n            \r\n\r\n        }\r\n\r\n        TextView displayAreaTextView = findViewById(R.id.txtResult);\r\n        displayAreaTextView.setText(sb.toString());\r\n    }\r\n\r\n    File outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\r\n    FileWriter fw = new FileWriter(outfile);\r\n    BufferedWriter bw = new BufferedWriter(fw);\r\n    PrintWriter pw = new PrintWriter(bw);\r\n\r\n\r\n    public void shift_lehmer3_mean(double[] a, int num_vals)\r\n    {\r\n        int tracker = 0;\r\n        double square=0;\r\n        double cube=0;\r\n        while (tracker &gt; num_vals){\r\n            square += Math.pow(a[tracker], 2);\r\n            cube += Math.pow(a[tracker], 3);\r\n\r\n        }\r\n        double lehmer =(cube/square);\r\n        int timer = 0;\r\n        while (timer &lt; 0)\r\n        {\r\n            double shiftValue = (a[timer]- lehmer);\r\n            a[timer] = shiftValue;\r\n        }\r\n    }","title":"Array from a textfile, and then display new values obtained from subtracting starting values by mean in android studio","body":"<p>I have already managed to display the values from a textfile and put them into an array (i think), but now i want to not only obtain new values equal to the original values minus the lehmer mean, but also output them to a file that displays one value per line and with a limit of four decimal places, but i have no idea where to even start with that.\nThis is the code I have right now:</p>\n<pre><code>public void processPress(View view)\n        throws IOException\n{\n    EditText fileInputField = findViewById(R.id.editFileName);\n    String fileName = fileInputField.getText().toString();\n\n    Scanner sc = new Scanner(new InputStreamReader(getAssets().open(fileName),\n            StandardCharsets.UTF_8));\n\n    StringBuilder sb = new StringBuilder();\n    while (sc.hasNext()) {\n        sb.append(&quot;\\n&quot;).append(sc.next());\n        \n\n    }\n\n    TextView displayAreaTextView = findViewById(R.id.txtResult);\n    displayAreaTextView.setText(sb.toString());\n}\n\nFile outfile = new File(getExternalFilesDir(null), &quot;out.txt&quot;);\nFileWriter fw = new FileWriter(outfile);\nBufferedWriter bw = new BufferedWriter(fw);\nPrintWriter pw = new PrintWriter(bw);\n\n\npublic void shift_lehmer3_mean(double[] a, int num_vals)\n{\n    int tracker = 0;\n    double square=0;\n    double cube=0;\n    while (tracker &gt; num_vals){\n        square += Math.pow(a[tracker], 2);\n        cube += Math.pow(a[tracker], 3);\n\n    }\n    double lehmer =(cube/square);\n    int timer = 0;\n    while (timer &lt; 0)\n    {\n        double shiftValue = (a[timer]- lehmer);\n        a[timer] = shiftValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","android-jetpack-compose","kotlin-multiplatform","compose-multiplatform"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664748270,"creation_date":1664748270,"answer_id":73929654,"question_id":73878439,"body_markdown":"&gt; Does that mean that it&#39;s not possible using it for developing windows native code for kotlin multiplatform?\r\n\r\nCorrect, at least today. You are certainly welcome to attempt to port Compose to use the Kotlin/Native for Windows, following along Compose for Desktop and Compose for Web. Compose for Desktop leverages [Skiko](https://github.com/JetBrains/skiko), which presently does not appear to have Kotlin/Native Windows support.\r\n\r\n&gt; Can&#39;t find anything that confirms that in the compose multiplatform website.\r\n\r\nThe [Getting Started page](https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started) linked to from [the Compose for Desktop site](https://www.jetbrains.com/lp/compose-desktop/) states that JDK 11 is required.\r\n","title":"Compose Multiplatform without JVM? (native windows executable)","body":"<blockquote>\n<p>Does that mean that it's not possible using it for developing windows native code for kotlin multiplatform?</p>\n</blockquote>\n<p>Correct, at least today. You are certainly welcome to attempt to port Compose to use the Kotlin/Native for Windows, following along Compose for Desktop and Compose for Web. Compose for Desktop leverages <a href=\"https://github.com/JetBrains/skiko\" rel=\"nofollow noreferrer\">Skiko</a>, which presently does not appear to have Kotlin/Native Windows support.</p>\n<blockquote>\n<p>Can't find anything that confirms that in the compose multiplatform website.</p>\n</blockquote>\n<p>The <a href=\"https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started\" rel=\"nofollow noreferrer\">Getting Started page</a> linked to from <a href=\"https://www.jetbrains.com/lp/compose-desktop/\" rel=\"nofollow noreferrer\">the Compose for Desktop site</a> states that JDK 11 is required.</p>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664748270,"creation_date":1664354094,"question_id":73878439,"body_markdown":"In theory, with `kotlin multiplatform` you can compile an executable for Windows, which not depends on a `JVM` installed to be executed. It&#39;s completly native.\r\n\r\nNow I disscovered `Compose Multiplatform` for developing GUIs for `kotlin multiplatform`. And it supposedly can develop for Windows also. But there is a problem, in the official website I can read this:\r\n\r\n&gt; Compose for Desktop targets the JVM\r\n\r\nDoes that mean that it&#39;s not possible using it for developing windows native code for `kotlin multiplatform`? it can only be used to develop java applications for windows which needs a `jvm` installed?\r\n\r\nCan&#39;t find anything that confirms that in the `compose multiplatform` website.\r\n\r\nhttps://www.jetbrains.com/lp/compose-mpp/\r\n\r\nAlso something very rare, in the official github they have a sample, but it uses... androidx libraries! \r\n\r\n    import androidx.compose.foundation.layout.Arrangement\r\n    import androidx.compose.foundation.layout.Column\r\n    import androidx.compose.foundation.layout.fillMaxSize\r\n    import androidx.compose.material.Button\r\n    import androidx.compose.material.MaterialTheme\r\n    import androidx.compose.material.Text\r\n    import androidx.compose.runtime.mutableStateOf\r\n    import androidx.compose.runtime.remember\r\n    import androidx.compose.ui.Alignment\r\n    import androidx.compose.ui.Modifier\r\n    import androidx.compose.ui.unit.dp\r\n    import androidx.compose.ui.window.Window\r\n    import androidx.compose.ui.window.application\r\n    import androidx.compose.ui.window.rememberWindowState\r\n\r\nHow can I use `compose multiplatform` for develop `kotlin multiplatform` windows native code code which not depends of a `JVM` installed? If its not possible, then, what can I use to build GUIs for `kotlin multiplatform` windows native code?","title":"Compose Multiplatform without JVM? (native windows executable)","body":"<p>In theory, with <code>kotlin multiplatform</code> you can compile an executable for Windows, which not depends on a <code>JVM</code> installed to be executed. It's completly native.</p>\n<p>Now I disscovered <code>Compose Multiplatform</code> for developing GUIs for <code>kotlin multiplatform</code>. And it supposedly can develop for Windows also. But there is a problem, in the official website I can read this:</p>\n<blockquote>\n<p>Compose for Desktop targets the JVM</p>\n</blockquote>\n<p>Does that mean that it's not possible using it for developing windows native code for <code>kotlin multiplatform</code>? it can only be used to develop java applications for windows which needs a <code>jvm</code> installed?</p>\n<p>Can't find anything that confirms that in the <code>compose multiplatform</code> website.</p>\n<p><a href=\"https://www.jetbrains.com/lp/compose-mpp/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/lp/compose-mpp/</a></p>\n<p>Also something very rare, in the official github they have a sample, but it uses... androidx libraries!</p>\n<pre><code>import androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.material.Button\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.window.Window\nimport androidx.compose.ui.window.application\nimport androidx.compose.ui.window.rememberWindowState\n</code></pre>\n<p>How can I use <code>compose multiplatform</code> for develop <code>kotlin multiplatform</code> windows native code code which not depends of a <code>JVM</code> installed? If its not possible, then, what can I use to build GUIs for <code>kotlin multiplatform</code> windows native code?</p>\n"},{"tags":["java","validation","vaadin","vaadin7","datefield"],"answers":[{"tags":[],"owner":{"account_id":3200595,"reputation":2502,"user_id":2702708,"accept_rate":100,"display_name":"Krayo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410468677,"creation_date":1410466309,"answer_id":25796103,"question_id":20042808,"body_markdown":"A little complicated but I hope it works (in Vaadin 7).&lt;br&gt;\r\nI use some Apache Commons and Joda-Time helper methods.&lt;br&gt;\r\nMaybe some customization are needed.\r\n\r\n    public class MyDateField extends CustomField&lt;Date&gt; {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private static final DateTimeFormatter DTF;\r\n    \r\n        static {\r\n            DTF = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&quot;); // set timezone if needed\r\n        }\r\n    \r\n        private TextField tf = new TextField();\r\n        private DateField df = new DateField();\r\n        private Date original;\r\n        private Date minDay = new Date();\r\n        private Date maxDay = new DateTime(9999, 12, 31, 23, 59).toDate();\r\n        private boolean isInnerChange;\r\n        private Date convertedDate;\r\n    \r\n        @Override\r\n        protected Component initContent() {\r\n            tf.setConverter(InnerConverter.INSTANCE);\r\n            tf.setTextChangeEventMode(TextChangeEventMode.EAGER); // or LAZY\r\n            tf.addTextChangeListener(new TextChangeListener() {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void textChange(TextChangeEvent event) {\r\n                    int pos = tf.getCursorPosition();\r\n                    if (isValid(event.getText())) {\r\n                        df.setComponentError(null);\r\n                        isInnerChange = true;\r\n                        df.setValue(convertedDate);\r\n                    } else {\r\n                        df.setComponentError(InnerErrorMessage.INSTANCE);\r\n                    }\r\n                    tf.setCursorPosition(pos);\r\n                }\r\n            });\r\n            df.setStyleName(&quot;truncated-date-field&quot;);\r\n            df.addValueChangeListener(new Property.ValueChangeListener() {\r\n                private static final long serialVersionUID = 1L;\r\n    \r\n                @Override\r\n                public void valueChange(Property.ValueChangeEvent event) {\r\n                    if (!isInnerChange) {\r\n                        Date d = df.getValue();\r\n                        df.setComponentError(isValid(d) ? null : InnerErrorMessage.INSTANCE);\r\n                        tf.setValue(d == null ? &quot;&quot; : DTF.print(d.getTime()));\r\n                    }\r\n                    isInnerChange = false;\r\n                }\r\n            });\r\n            return new HorizontalLayout(tf, df);\r\n        }\r\n    \r\n        @Override\r\n        public void setPropertyDataSource( @SuppressWarnings(&quot;rawtypes&quot;) Property newDS) {\r\n            tf.setPropertyDataSource(newDS);\r\n            if (newDS != null &amp;&amp; getType().isAssignableFrom(newDS.getType())) {\r\n                original = (Date) newDS.getValue();\r\n            } else {\r\n                original = null;\r\n            }\r\n            df.setValue(original);\r\n        }\r\n    \r\n        @Override\r\n        public void commit() throws SourceException, InvalidValueException {\r\n            ErrorMessage em = df.getComponentError();\r\n            if (em != null) {\r\n                throw new InvalidValueException(em.getFormattedHtmlMessage());\r\n            }\r\n            tf.commit();\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;? extends Date&gt; getType() {\r\n            return Date.class;\r\n        }\r\n    \r\n        private boolean isValid(String s) {\r\n            s = StringUtils.trimToNull(s);\r\n            if (s == null) {\r\n                convertedDate = null;\r\n                return true;\r\n            }\r\n            try {\r\n                return isValid(DTF.parseDateTime(s).toDate());\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        private boolean isValid(Date d) {\r\n            if (d == null || DateUtils.truncatedEquals(original, d, Calendar.DAY_OF_MONTH)) {\r\n                convertedDate = d;\r\n                return true;\r\n            }\r\n            if (DateUtils.truncatedCompareTo(minDay, d, Calendar.DAY_OF_MONTH) &lt;= 0\r\n                    &amp;&amp; DateUtils.truncatedCompareTo(maxDay, d, Calendar.DAY_OF_MONTH) &gt;= 0) {\r\n                convertedDate = d;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        // other methods if needed\r\n    \r\n        private static class InnerErrorMessage implements ErrorMessage {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n            private static final InnerErrorMessage INSTANCE = new InnerErrorMessage();\r\n    \r\n            @Override\r\n            public String getFormattedHtmlMessage() {\r\n                return &quot;Invalid date!&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public ErrorLevel getErrorLevel() {\r\n                return ErrorLevel.ERROR;\r\n            }\r\n    \r\n            private Object readResolve() {\r\n                return INSTANCE; // preserves singleton property\r\n            }\r\n    \r\n        }\r\n    \r\n        private static class InnerConverter implements Converter&lt;String, Date&gt; {\r\n    \r\n            private static final long serialVersionUID = 1L;\r\n            private static final InnerConverter INSTANCE = new InnerConverter();\r\n    \r\n            @Override\r\n            public Date convertToModel(String value, Class&lt;? extends Date&gt; targetType, Locale locale)\r\n                    throws ConversionException {\r\n                String s = StringUtils.trimToNull(value);\r\n                if (s == null) {\r\n                    return null;\r\n                }\r\n                try {\r\n                    return DTF.parseDateTime(s).toDate();\r\n                } catch (Exception e) {\r\n                    throw new ConversionException(e);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public String convertToPresentation(Date value, Class&lt;? extends String&gt; targetType, Locale locale)\r\n                    throws ConversionException {\r\n                return value == null ? &quot;&quot; : DTF.print(value.getTime());\r\n            }\r\n    \r\n            @Override\r\n            public Class&lt;Date&gt; getModelType() {\r\n                return Date.class;\r\n            }\r\n    \r\n            @Override\r\n            public Class&lt;String&gt; getPresentationType() {\r\n                return String.class;\r\n            }\r\n    \r\n            private Object readResolve() {\r\n                return INSTANCE; // preserves singleton property\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nInto your styles.css:\r\n\r\n    .truncated-date-field &gt; input.v-datefield-textfield {\r\n        display: none;\r\n    }\r\n","title":"How to validate a DateField correctly in Vaadin?","body":"<p>A little complicated but I hope it works (in Vaadin 7).<br>\nI use some Apache Commons and Joda-Time helper methods.<br>\nMaybe some customization are needed.</p>\n\n<pre><code>public class MyDateField extends CustomField&lt;Date&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private static final DateTimeFormatter DTF;\n\n    static {\n        DTF = DateTimeFormat.forPattern(\"yyyy-MM-dd\"); // set timezone if needed\n    }\n\n    private TextField tf = new TextField();\n    private DateField df = new DateField();\n    private Date original;\n    private Date minDay = new Date();\n    private Date maxDay = new DateTime(9999, 12, 31, 23, 59).toDate();\n    private boolean isInnerChange;\n    private Date convertedDate;\n\n    @Override\n    protected Component initContent() {\n        tf.setConverter(InnerConverter.INSTANCE);\n        tf.setTextChangeEventMode(TextChangeEventMode.EAGER); // or LAZY\n        tf.addTextChangeListener(new TextChangeListener() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void textChange(TextChangeEvent event) {\n                int pos = tf.getCursorPosition();\n                if (isValid(event.getText())) {\n                    df.setComponentError(null);\n                    isInnerChange = true;\n                    df.setValue(convertedDate);\n                } else {\n                    df.setComponentError(InnerErrorMessage.INSTANCE);\n                }\n                tf.setCursorPosition(pos);\n            }\n        });\n        df.setStyleName(\"truncated-date-field\");\n        df.addValueChangeListener(new Property.ValueChangeListener() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public void valueChange(Property.ValueChangeEvent event) {\n                if (!isInnerChange) {\n                    Date d = df.getValue();\n                    df.setComponentError(isValid(d) ? null : InnerErrorMessage.INSTANCE);\n                    tf.setValue(d == null ? \"\" : DTF.print(d.getTime()));\n                }\n                isInnerChange = false;\n            }\n        });\n        return new HorizontalLayout(tf, df);\n    }\n\n    @Override\n    public void setPropertyDataSource( @SuppressWarnings(\"rawtypes\") Property newDS) {\n        tf.setPropertyDataSource(newDS);\n        if (newDS != null &amp;&amp; getType().isAssignableFrom(newDS.getType())) {\n            original = (Date) newDS.getValue();\n        } else {\n            original = null;\n        }\n        df.setValue(original);\n    }\n\n    @Override\n    public void commit() throws SourceException, InvalidValueException {\n        ErrorMessage em = df.getComponentError();\n        if (em != null) {\n            throw new InvalidValueException(em.getFormattedHtmlMessage());\n        }\n        tf.commit();\n    }\n\n    @Override\n    public Class&lt;? extends Date&gt; getType() {\n        return Date.class;\n    }\n\n    private boolean isValid(String s) {\n        s = StringUtils.trimToNull(s);\n        if (s == null) {\n            convertedDate = null;\n            return true;\n        }\n        try {\n            return isValid(DTF.parseDateTime(s).toDate());\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private boolean isValid(Date d) {\n        if (d == null || DateUtils.truncatedEquals(original, d, Calendar.DAY_OF_MONTH)) {\n            convertedDate = d;\n            return true;\n        }\n        if (DateUtils.truncatedCompareTo(minDay, d, Calendar.DAY_OF_MONTH) &lt;= 0\n                &amp;&amp; DateUtils.truncatedCompareTo(maxDay, d, Calendar.DAY_OF_MONTH) &gt;= 0) {\n            convertedDate = d;\n            return true;\n        }\n        return false;\n    }\n\n    // other methods if needed\n\n    private static class InnerErrorMessage implements ErrorMessage {\n\n        private static final long serialVersionUID = 1L;\n        private static final InnerErrorMessage INSTANCE = new InnerErrorMessage();\n\n        @Override\n        public String getFormattedHtmlMessage() {\n            return \"Invalid date!\";\n        }\n\n        @Override\n        public ErrorLevel getErrorLevel() {\n            return ErrorLevel.ERROR;\n        }\n\n        private Object readResolve() {\n            return INSTANCE; // preserves singleton property\n        }\n\n    }\n\n    private static class InnerConverter implements Converter&lt;String, Date&gt; {\n\n        private static final long serialVersionUID = 1L;\n        private static final InnerConverter INSTANCE = new InnerConverter();\n\n        @Override\n        public Date convertToModel(String value, Class&lt;? extends Date&gt; targetType, Locale locale)\n                throws ConversionException {\n            String s = StringUtils.trimToNull(value);\n            if (s == null) {\n                return null;\n            }\n            try {\n                return DTF.parseDateTime(s).toDate();\n            } catch (Exception e) {\n                throw new ConversionException(e);\n            }\n        }\n\n        @Override\n        public String convertToPresentation(Date value, Class&lt;? extends String&gt; targetType, Locale locale)\n                throws ConversionException {\n            return value == null ? \"\" : DTF.print(value.getTime());\n        }\n\n        @Override\n        public Class&lt;Date&gt; getModelType() {\n            return Date.class;\n        }\n\n        @Override\n        public Class&lt;String&gt; getPresentationType() {\n            return String.class;\n        }\n\n        private Object readResolve() {\n            return INSTANCE; // preserves singleton property\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Into your styles.css:</p>\n\n<pre><code>.truncated-date-field &gt; input.v-datefield-textfield {\n    display: none;\n}\n</code></pre>\n"}],"owner":{"account_id":280794,"reputation":2726,"user_id":576699,"accept_rate":66,"display_name":"Mr Baloon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7692,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664748170,"creation_date":1384761805,"question_id":20042808,"body_markdown":"I&#39;m having some trouble with validating DateFields.\r\nIn my application I have a table with DateField properties that the users should be able to edit by pressing an edit button. I also have an OK-button that commits the fields and a cancel-button that discards them.\r\n\r\n**Here&#39;s what I want to achieve**&#160;(of course there are some neat rules that has to be followed):\r\n\r\n- First off, dates can only be changed *to* the current day up to 9999-12-31.\r\n- Secondly, I preferably want the validation to be dynamic (as-you-type)\r\n- The original dates (dates that are already in the table when going into editing mode) can be any date and you should be able to commit these as they are, even if they are in the past.\r\n- If you change the date to an invalid date (you can still do this &quot;manually&quot;, i.e. directly in the field, not in the date picker) or enter an invalid character into the DateField, an error icon should be shown with a message, not letting you commit your changes until you entered a valid date.\r\n- If you change the date to an invalid date (error icon is shown), and then to a valid date, the error icon should disappear.\r\n\r\nThe **current behaviour**&#160;that I managed to implement does the following:\r\n\r\n- Allows &quot;original dates&quot; - OK\r\n- Allows changing to a valid date - OK\r\n- When changing to an invalid date (can be done &quot;manually&quot;, not using the date picker) and press enter in the field, the field is immediately reset to the original date, but the error icon is still shown - NOT ok\r\n- When entering an invalid character (can be done &quot;manually&quot;, not using the date picker) and press enter in the field, a NPE will be thrown while committing, also no error icon is shown - NOT ok\r\n- When changing to an invalid date and press enter in the field and the back to a valid date and press enter in the field, the error icon is still there - NOT ok\r\n- When changing to an invalid date and press OK (i.e. commit()), the field first resets to the original date and the changes (i.e. no change at all to the field) are committed - NOT ok\r\n\r\nNow, I tried implementing a wrapper so that I could listen for value changes, but DateField don&#39;t have convenient methods like TextField has (eg. setTextChangeEventMode and setTextChangeTimeout). I override valueChange to take care of some of the issues, but it only seems gets called when you change to a valid date, not when you change to an invalid date (you also have to press enter every time when not using the date picker)... instead another validate() gets called in the background, resetting setValidationVisible() all the time.\r\n\r\nI even tried creating a CustomDateRangeValidator, but found out it wasn&#39;t to much help.\r\n\r\nPlease help me get this straight, I have tried so many things now and I&#39;m running out of options.\r\n\r\n**Here&#39;s my createField method:**\r\n\r\n    createField(){\r\n    &#160;&#160; &#160;// some more code up here...\r\n    \r\n    &#160;&#160; &#160;if (propertyId.equals(&quot;Valid From&quot;)) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setImmediate(true);\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setRangeStart(new Date());\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setRangeEnd(dateUtil.getDate(9999, 12, 31));\r\n    &#160;&#160; &#160;&#160;&#160; &#160;dField.setDateOutOfRangeMessage(&quot;Date out of range!&quot;);\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    &#160;&#160; &#160;&#160;&#160; &#160;TableDataValidatingWrapper&lt;TextField&gt; wField = new TableDataValidatingWrapper(dField);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;return wField;\r\n    &#160;&#160; &#160;}\r\n    \r\n    &#160;&#160; &#160;// some more code down here...\r\n    }\r\n\r\n**... and here&#39;s my wrapper:**\r\n\r\n    public class TableDataValidatingWrapper&lt;T&gt; extends CustomField&lt;T&gt; {\r\n    \r\n    &#160;&#160; &#160;private static final long serialVersionUID = 1L;\r\n    &#160;&#160; &#160;protected Field&lt;T&gt; delegate;\r\n    \r\n    &#160;&#160; &#160;public TableDataValidatingWrapper(final Field&lt;T&gt; delegate) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;this.delegate = delegate;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;if (delegate instanceof DateField) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;final DateField dateField = (DateField) delegate;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setCaption(&quot;&quot;);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setImmediate(true);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setInvalidAllowed(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setInvalidCommitted(true);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setValidationVisible(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.addValueChangeListener(new ValueChangeListener() {\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;private static final long serialVersionUID = 1L;\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;@Override\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;public void valueChange(com.vaadin.data.Property.ValueChangeEvent event) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;try {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.validate();\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;dateField.setValidationVisible(false);\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;} catch (InvalidValueException ive) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;//handle exception\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;} catch (Exception e) {\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;//handle exception\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;&#160;&#160; &#160;&#160;&#160; &#160;});\r\n    \r\n    &#160;&#160; &#160;&#160;&#160; &#160;}\r\n    &#160;&#160; &#160;}\r\n    \r\n    //some other overridden methods here...\r\n    }","title":"How to validate a DateField correctly in Vaadin?","body":"<p>I'm having some trouble with validating DateFields.\nIn my application I have a table with DateField properties that the users should be able to edit by pressing an edit button. I also have an OK-button that commits the fields and a cancel-button that discards them.</p>\n\n<p><strong>Here's what I want to achieve</strong> (of course there are some neat rules that has to be followed):</p>\n\n<ul>\n<li>First off, dates can only be changed <em>to</em> the current day up to 9999-12-31.</li>\n<li>Secondly, I preferably want the validation to be dynamic (as-you-type)</li>\n<li>The original dates (dates that are already in the table when going into editing mode) can be any date and you should be able to commit these as they are, even if they are in the past.</li>\n<li>If you change the date to an invalid date (you can still do this \"manually\", i.e. directly in the field, not in the date picker) or enter an invalid character into the DateField, an error icon should be shown with a message, not letting you commit your changes until you entered a valid date.</li>\n<li>If you change the date to an invalid date (error icon is shown), and then to a valid date, the error icon should disappear.</li>\n</ul>\n\n<p>The <strong>current behaviour</strong> that I managed to implement does the following:</p>\n\n<ul>\n<li>Allows \"original dates\" - OK</li>\n<li>Allows changing to a valid date - OK</li>\n<li>When changing to an invalid date (can be done \"manually\", not using the date picker) and press enter in the field, the field is immediately reset to the original date, but the error icon is still shown - NOT ok</li>\n<li>When entering an invalid character (can be done \"manually\", not using the date picker) and press enter in the field, a NPE will be thrown while committing, also no error icon is shown - NOT ok</li>\n<li>When changing to an invalid date and press enter in the field and the back to a valid date and press enter in the field, the error icon is still there - NOT ok</li>\n<li>When changing to an invalid date and press OK (i.e. commit()), the field first resets to the original date and the changes (i.e. no change at all to the field) are committed - NOT ok</li>\n</ul>\n\n<p>Now, I tried implementing a wrapper so that I could listen for value changes, but DateField don't have convenient methods like TextField has (eg. setTextChangeEventMode and setTextChangeTimeout). I override valueChange to take care of some of the issues, but it only seems gets called when you change to a valid date, not when you change to an invalid date (you also have to press enter every time when not using the date picker)... instead another validate() gets called in the background, resetting setValidationVisible() all the time.</p>\n\n<p>I even tried creating a CustomDateRangeValidator, but found out it wasn't to much help.</p>\n\n<p>Please help me get this straight, I have tried so many things now and I'm running out of options.</p>\n\n<p><strong>Here's my createField method:</strong></p>\n\n<pre><code>createField(){\n    // some more code up here...\n\n    if (propertyId.equals(\"Valid From\")) {\n        dField.setImmediate(true);\n\n        dField.setRangeStart(new Date());\n        dField.setRangeEnd(dateUtil.getDate(9999, 12, 31));\n        dField.setDateOutOfRangeMessage(\"Date out of range!\");\n\n        @SuppressWarnings({ \"unchecked\", \"rawtypes\" })\n        TableDataValidatingWrapper&lt;TextField&gt; wField = new TableDataValidatingWrapper(dField);\n        return wField;\n    }\n\n    // some more code down here...\n}\n</code></pre>\n\n<p><strong>... and here's my wrapper:</strong></p>\n\n<pre><code>public class TableDataValidatingWrapper&lt;T&gt; extends CustomField&lt;T&gt; {\n\n    private static final long serialVersionUID = 1L;\n    protected Field&lt;T&gt; delegate;\n\n    public TableDataValidatingWrapper(final Field&lt;T&gt; delegate) {\n        this.delegate = delegate;\n\n        if (delegate instanceof DateField) {\n            final DateField dateField = (DateField) delegate;\n\n            dateField.setCaption(\"\");\n            dateField.setImmediate(true);\n            dateField.setInvalidAllowed(false);\n            dateField.setInvalidCommitted(true);\n            dateField.setValidationVisible(false);\n            dateField.addValueChangeListener(new ValueChangeListener() {\n\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public void valueChange(com.vaadin.data.Property.ValueChangeEvent event) {\n                    try {\n                        dateField.validate();\n                        dateField.setValidationVisible(false);\n                    } catch (InvalidValueException ive) {\n                        //handle exception\n                    } catch (Exception e) {\n                        //handle exception\n                    }\n                }\n            });\n\n        }\n    }\n\n//some other overridden methods here...\n}\n</code></pre>\n"},{"tags":["java","spring","tomcat","spring-boot"],"comments":[{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1557939945,"post_id":39376602,"comment_id":98938122,"body_markdown":"Not sure this works but did you try creating a generic `@ExceptionHandler({Exception.class})` and see if the exception which was caught by this handler class is IllegalArgumentException type. Ex - `ex.getClass().getName == &quot;IllegalArgumentException&quot;` then send it has 400 else 500?.","body":"Not sure this works but did you try creating a generic <code>@ExceptionHandler({Exception.class})</code> and see if the exception which was caught by this handler class is IllegalArgumentException type. Ex - <code>ex.getClass().getName == &quot;IllegalArgumentException&quot;</code> then send it has 400 else 500?."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1557997323,"post_id":39376602,"comment_id":98956522,"body_markdown":"@Imran Strings are _not_ compared like that!","body":"@Imran Strings are <i>not</i> compared like that!"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1558053152,"post_id":39376602,"comment_id":98982509,"body_markdown":"@Eugene oops, being moved from other languages to Java, sometimes gets the syntax wrong. I meant `&quot;IllegalArgumentException&quot;.equalsIgnoreCase(ex.getClass().getName))`","body":"@Eugene oops, being moved from other languages to Java, sometimes gets the syntax wrong. I meant <code>&quot;IllegalArgumentException&quot;.equalsIgnoreCase(ex.getClass().ge&zwnj;&#8203;tName))</code>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":4,"creation_date":1558073176,"post_id":39376602,"comment_id":98986683,"body_markdown":"Maybe you don&#39;t find answers because you don&#39;t provide a simple [MCVE](http://stackoverflow.com/help/mcve) for others to reproduce the problem.","body":"Maybe you don&#39;t find answers because you don&#39;t provide a simple <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> for others to reproduce the problem."},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1558206040,"post_id":39376602,"comment_id":99026671,"body_markdown":"Can you provide a full stack trace of the exception?","body":"Can you provide a full stack trace of the exception?"},{"owner":{"account_id":4689730,"reputation":3028,"user_id":6183182,"accept_rate":30,"display_name":"swayamraina"},"score":0,"creation_date":1558245736,"post_id":39376602,"comment_id":99032247,"body_markdown":"what is the exact error msg you are getting?","body":"what is the exact error msg you are getting?"},{"owner":{"account_id":4689730,"reputation":3028,"user_id":6183182,"accept_rate":30,"display_name":"swayamraina"},"score":0,"creation_date":1558246260,"post_id":39376602,"comment_id":99032338,"body_markdown":"How to replicate this?","body":"How to replicate this?"},{"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"score":0,"creation_date":1558255905,"post_id":39376602,"comment_id":99034053,"body_markdown":"This was posted almost two years ago, so I don&#39;t remember everything exactly. But basically, using Spring Boot (probably 1.x) if you had something weird in your cookies, the `LegacyCookieProcessor` would throw an exception. Doesn&#39;t matter why it threw the exception, the question is just how it can be intercepted to be handle.","body":"This was posted almost two years ago, so I don&#39;t remember everything exactly. But basically, using Spring Boot (probably 1.x) if you had something weird in your cookies, the <code>LegacyCookieProcessor</code> would throw an exception. Doesn&#39;t matter why it threw the exception, the question is just how it can be intercepted to be handle."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346152,"post_id":39376602,"comment_id":99057442,"body_markdown":"@kriegaex I have now added a simple MCVE.","body":"@kriegaex I have now added a simple MCVE."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346280,"post_id":39376602,"comment_id":99057512,"body_markdown":"@Imran The exception is not caught when using `@ExceptionHandler({Exception.class})`. It does not go into any ExceptionHandler.","body":"@Imran The exception is not caught when using <code>@ExceptionHandler({Exception.class})</code>. It does not go into any ExceptionHandler."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346360,"post_id":39376602,"comment_id":99057553,"body_markdown":"@swayamraina The exact error message is the following: `Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.` And then right below: `java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986`.","body":"@swayamraina The exact error message is the following: <code>Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.</code> And then right below: <code>java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986</code>."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558346592,"post_id":39376602,"comment_id":99057667,"body_markdown":"@OrtomalaLokni Please see the updated question.","body":"@OrtomalaLokni Please see the updated question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1558347113,"post_id":39376602,"comment_id":99057904,"body_markdown":"You cannot intercept this. This exception is thrown before it is handled by anything Servlet API related, So no servlet filter, listener or `DispatcherServlet` is even getting involved here. It is just tomcat blowing up internally and very early.","body":"You cannot intercept this. This exception is thrown before it is handled by anything Servlet API related, So no servlet filter, listener or <code>DispatcherServlet</code> is even getting involved here. It is just tomcat blowing up internally and very early."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558349458,"post_id":39376602,"comment_id":99059201,"body_markdown":"@M.Deinum Is there any way to customize this behavior? E.g. returning a hard-coded JSON string whenever Tomcat is blowing up?","body":"@M.Deinum Is there any way to customize this behavior? E.g. returning a hard-coded JSON string whenever Tomcat is blowing up?"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":1,"creation_date":1558380839,"post_id":39376602,"comment_id":99074595,"body_markdown":"@ssc-hrep3 oddly, I am not able to replicate same behavior on my side for `http://localhost:8080/not-working?demo=test^123`, its giving me 200. can you please advise which version of Java you are using and also any special properties enabled?. A sample complete github repo helps to try few options.","body":"@ssc-hrep3 oddly, I am not able to replicate same behavior on my side for <code>http:&#47;&#47;localhost:8080&#47;not-working?demo=test^123</code>, its giving me 200. can you please advise which version of Java you are using and also any special properties enabled?. A sample complete github repo helps to try few options."},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":0,"creation_date":1558388154,"post_id":39376602,"comment_id":99077104,"body_markdown":"@Imran, Did you try with curl (`curl -i http://localhost:8080/not-working?demo=test^123`)? Sometimes the browser escapes the argument automatically. I can set up a repo though, if it does not work like that.","body":"@Imran, Did you try with curl (<code>curl -i http:&#47;&#47;localhost:8080&#47;not-working?demo=test^123</code>)? Sometimes the browser escapes the argument automatically. I can set up a repo though, if it does not work like that."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1558404218,"post_id":39376602,"comment_id":99080108,"body_markdown":"@ssc-hrep3, see how useful the MCVE is? New people - not necessarily me who asked for the MCVE in the first place because I am an AOP expert but don&#39;t know much about containers - enter the discussion and contribute valuable information, reviving a 2.5 years old question. `:-)`","body":"@ssc-hrep3, see how useful the MCVE is? New people - not necessarily me who asked for the MCVE in the first place because I am an AOP expert but don&#39;t know much about containers - enter the discussion and contribute valuable information, reviving a 2.5 years old question. <code>:-)</code>"},{"owner":{"account_id":6499292,"reputation":5620,"user_id":5030709,"accept_rate":40,"display_name":"Imran"},"score":0,"creation_date":1558447150,"post_id":39376602,"comment_id":99098679,"body_markdown":"@ssc-hrep3 you were right!. With postman, it was escaping it and with curl, able to get the exception.","body":"@ssc-hrep3 you were right!. With postman, it was escaping it and with curl, able to get the exception."},{"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"score":0,"creation_date":1642725742,"post_id":39376602,"comment_id":125155181,"body_markdown":"@samanime are you solved this issue? I also want catch all Tomcat execeptions and throw more readable exeception message to the client","body":"@samanime are you solved this issue? I also want catch all Tomcat execeptions and throw more readable exeception message to the client"},{"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"score":0,"creation_date":1642799593,"post_id":39376602,"comment_id":125177051,"body_markdown":"@dawis11 This was quite a while back, but I don&#39;t believe we ever did.","body":"@dawis11 This was quite a while back, but I don&#39;t believe we ever did."}],"answers":[{"tags":[],"owner":{"account_id":5538696,"reputation":562,"user_id":4396129,"accept_rate":75,"display_name":"Rahul kalivaradarajalu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558429139,"creation_date":1558429139,"answer_id":56234713,"question_id":39376602,"body_markdown":"This is a feature of Tomcat itself as mentioned in [this][1] answer. \r\n\r\n\r\nHowever, you can do something like this by allowing the special characters that you are expecting as part of your request and handle them yourself. \r\n\r\nFirst, you need to allow the special characters that you would need to handle by setting up the **relaxedQueryChars** like this. \r\n\r\n\r\n\r\n    import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n    import org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class TomcatCustomizer implements \r\n    WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n\r\n\t@Override\r\n\tpublic void customize(TomcatServletWebServerFactory factory) {\r\n\t\tfactory.addConnectorCustomizers((connector) -&gt; {\r\n\t\t\tconnector.setAttribute(&quot;relaxedQueryChars&quot;, &quot;^&quot;);\r\n\t\t});\r\n \t }\r\n    }\r\n\r\nand later handle the special characters in each of your requests or create an interceptor and handle it in a common place. \r\n\r\nTo handle it in the request individually you can do something like this. \r\n\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class DemoRestController {\r\n\r\n\t@GetMapping(value = &quot;/working&quot;)\r\n\tpublic void working() {\r\n\t\tthrow new java.lang.IllegalArgumentException();\r\n\t}\r\n\r\n\t@GetMapping(value = &quot;/not-working&quot;)\r\n\tpublic String notWorking(@RequestParam String demo) {\r\n\t\t\r\n        if (demo.contains(&quot;^&quot;)) {\r\n\t\t\tthrow new java.lang.IllegalArgumentException(&quot;^&quot;);\r\n\t\t}\r\n\t\treturn &quot;You need to pass e.g. the character ^ as a request param to test this.&quot;;\r\n\t}\r\n\r\n    }\r\n\r\n\r\nYou might also want to refer [this][2] answer to decide if you really need this fix. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/41150474/4396129\r\n  [2]: https://stackoverflow.com/a/50377112/4396129","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>This is a feature of Tomcat itself as mentioned in <a href=\"https://stackoverflow.com/a/41150474/4396129\">this</a> answer. </p>\n\n<p>However, you can do something like this by allowing the special characters that you are expecting as part of your request and handle them yourself. </p>\n\n<p>First, you need to allow the special characters that you would need to handle by setting up the <strong>relaxedQueryChars</strong> like this. </p>\n\n<pre><code>import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class TomcatCustomizer implements \nWebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n@Override\npublic void customize(TomcatServletWebServerFactory factory) {\n    factory.addConnectorCustomizers((connector) -&gt; {\n        connector.setAttribute(\"relaxedQueryChars\", \"^\");\n    });\n }\n}\n</code></pre>\n\n<p>and later handle the special characters in each of your requests or create an interceptor and handle it in a common place. </p>\n\n<p>To handle it in the request individually you can do something like this. </p>\n\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DemoRestController {\n\n@GetMapping(value = \"/working\")\npublic void working() {\n    throw new java.lang.IllegalArgumentException();\n}\n\n@GetMapping(value = \"/not-working\")\npublic String notWorking(@RequestParam String demo) {\n\n    if (demo.contains(\"^\")) {\n        throw new java.lang.IllegalArgumentException(\"^\");\n    }\n    return \"You need to pass e.g. the character ^ as a request param to test this.\";\n}\n\n}\n</code></pre>\n\n<p>You might also want to refer <a href=\"https://stackoverflow.com/a/50377112/4396129\">this</a> answer to decide if you really need this fix. </p>\n"},{"tags":[],"owner":{"account_id":26454908,"reputation":1,"user_id":20097595,"display_name":"user20097595"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664746676,"creation_date":1664261527,"answer_id":73863449,"question_id":39376602,"body_markdown":"Try to catch the `IllegalArgumentException` in your filter, then call  `HttpServletResponse.sendError(int sc, String msg);`. This may catch the `IllegalArgumentException`s that do not come from Tomcat though. But I suppose you already handle them properly.","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>Try to catch the <code>IllegalArgumentException</code> in your filter, then call  <code>HttpServletResponse.sendError(int sc, String msg);</code>. This may catch the <code>IllegalArgumentException</code>s that do not come from Tomcat though. But I suppose you already handle them properly.</p>\n"}],"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4765,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1664746676,"creation_date":1473271725,"question_id":39376602,"body_markdown":"We have an issue where embedded Tomcat is throwing `IllegalArgumentException` from the `LegacyCookieProcessor`. It throws a 500 HTTP response code.\r\n\r\nWe need to handle the exception and do something with it (specifically, send it as a 400 instead).\r\n\r\nThe typical `@ExceptionHandler(IllegalArgumentException.class)` doesn&#39;t seem to get triggered and Google only seems to give results for dealing with Spring Boot specific exceptions.\r\n\r\n---\r\n###Example:\r\n\r\nHere is an example to reproduce the behavior. You can execute the example by downloading the initial project including spring-web (https://start.spring.io/) in version 2.1.5.RELEASE. Then add the following two classes to your project.\r\n\r\n&gt; DemoControllerAdvice.java\r\n\r\n\tpackage com.example.demo;\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.web.bind.annotation.ExceptionHandler;\r\n\timport org.springframework.web.bind.annotation.ResponseStatus;\r\n\timport org.springframework.web.bind.annotation.RestControllerAdvice;\r\n\r\n\t@RestControllerAdvice\r\n\tpublic class DemoControllerAdvice {\r\n\r\n\t\t@ExceptionHandler(IllegalArgumentException.class)\r\n\t\t@ResponseStatus(HttpStatus.FORBIDDEN)\r\n\t\tpublic Map&lt;String, String&gt; forbiddenHandler() {\r\n\t\t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\tmap.put(&quot;error&quot;, &quot;An error occurred.&quot;);\r\n\t\t\tmap.put(&quot;status&quot;, HttpStatus.FORBIDDEN.value() + &quot; &quot; + HttpStatus.FORBIDDEN.name());\r\n\t\t\treturn map;\r\n\t\t}\r\n\r\n\t}\r\n\r\n---\r\n\r\n&gt; DemoRestController.java\r\n\r\n\tpackage com.example.demo;\r\n\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\t@RestController\r\n\tpublic class DemoRestController {\r\n\r\n\t\t@GetMapping(value = &quot;/working&quot;)\r\n\t\tpublic void working() {\r\n\t\t\tthrow new java.lang.IllegalArgumentException();\r\n\t\t}\r\n\r\n\t\t@GetMapping(value = &quot;/not-working&quot;)\r\n\t\tpublic String notWorking(@RequestParam String demo) {\r\n\t\t\treturn &quot;You need to pass e.g. the character ^ as a request param to test this.&quot;;\r\n\t\t}\r\n\r\n\t}\r\n\r\n---\r\n\r\nThen, start the server and request the following URLs in the browser:\r\n\r\n- `http://localhost:8080/working` An `IllegalArgumentException` is thrown manually in the controller. It is then caught by the ControllerAdvice and will therefore produce a JSON string containing the information defined in the `DemoControllerAdvice`\r\n- `http://localhost:8080/not-working?demo=test^123` An `IllegalArgumentException` is thrown by the Tomcat, because the request param cannot be parsed (because of the invalid character `^`). The exception however is not caught by the ControllerAdvice. It shows the default HTML page provided by Tomcat. It also provides a different error code than defined in the `DemoControllerAdvice`.\r\n\r\nIn the logs the following message is shown:\r\n\r\n&gt; o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:467) ~[tomcat-embed-core-9.0.19.jar:9.0.19]","title":"Handle Embedded Tomcat Exception in Spring Boot","body":"<p>We have an issue where embedded Tomcat is throwing <code>IllegalArgumentException</code> from the <code>LegacyCookieProcessor</code>. It throws a 500 HTTP response code.</p>\n\n<p>We need to handle the exception and do something with it (specifically, send it as a 400 instead).</p>\n\n<p>The typical <code>@ExceptionHandler(IllegalArgumentException.class)</code> doesn't seem to get triggered and Google only seems to give results for dealing with Spring Boot specific exceptions.</p>\n\n<hr>\n\n<h3>Example:</h3>\n\n<p>Here is an example to reproduce the behavior. You can execute the example by downloading the initial project including spring-web (<a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a>) in version 2.1.5.RELEASE. Then add the following two classes to your project.</p>\n\n<blockquote>\n  <p>DemoControllerAdvice.java</p>\n</blockquote>\n\n<pre><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@RestControllerAdvice\npublic class DemoControllerAdvice {\n\n    @ExceptionHandler(IllegalArgumentException.class)\n    @ResponseStatus(HttpStatus.FORBIDDEN)\n    public Map&lt;String, String&gt; forbiddenHandler() {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(\"error\", \"An error occurred.\");\n        map.put(\"status\", HttpStatus.FORBIDDEN.value() + \" \" + HttpStatus.FORBIDDEN.name());\n        return map;\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>DemoRestController.java</p>\n</blockquote>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DemoRestController {\n\n    @GetMapping(value = \"/working\")\n    public void working() {\n        throw new java.lang.IllegalArgumentException();\n    }\n\n    @GetMapping(value = \"/not-working\")\n    public String notWorking(@RequestParam String demo) {\n        return \"You need to pass e.g. the character ^ as a request param to test this.\";\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Then, start the server and request the following URLs in the browser:</p>\n\n<ul>\n<li><code>http://localhost:8080/working</code> An <code>IllegalArgumentException</code> is thrown manually in the controller. It is then caught by the ControllerAdvice and will therefore produce a JSON string containing the information defined in the <code>DemoControllerAdvice</code></li>\n<li><code>http://localhost:8080/not-working?demo=test^123</code> An <code>IllegalArgumentException</code> is thrown by the Tomcat, because the request param cannot be parsed (because of the invalid character <code>^</code>). The exception however is not caught by the ControllerAdvice. It shows the default HTML page provided by Tomcat. It also provides a different error code than defined in the <code>DemoControllerAdvice</code>.</li>\n</ul>\n\n<p>In the logs the following message is shown:</p>\n\n<blockquote>\n  <p>o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n   Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.</p>\n  \n  <p>java.lang.IllegalArgumentException: Invalid character found in the request target. The valid characters are defined in RFC 7230 and RFC 3986\n      at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:467) ~[tomcat-embed-core-9.0.19.jar:9.0.19]</p>\n</blockquote>\n"},{"tags":["java","oop","inheritance","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1664738149,"post_id":73928621,"comment_id":130535493,"body_markdown":"Yes, double-dispatch (aka visitor pattern). Apart from that, not much you can do until Java supports pattern matching on the type (which is a &quot;hidden&quot; instanceof check)","body":"Yes, double-dispatch (aka visitor pattern). Apart from that, not much you can do until Java supports pattern matching on the type (which is a &quot;hidden&quot; instanceof check)"},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664738298,"post_id":73928621,"comment_id":130535520,"body_markdown":"Could you please give the pseudocode for using visitor pattern? In the examples I have seen, it is added for all implementations which is not useful in my case.","body":"Could you please give the pseudocode for using visitor pattern? In the examples I have seen, it is added for all implementations which is not useful in my case."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664738520,"post_id":73928621,"comment_id":130535559,"body_markdown":"That&#39;s how the visitor pattern is implemented: the visitor needs to handle all types via `visit` methods and all types need to implement an `accept` method. See &lt;https://refactoring.guru/design-patterns/visitor&gt;","body":"That&#39;s how the visitor pattern is implemented: the visitor needs to handle all types via <code>visit</code> methods and all types need to implement an <code>accept</code> method. See &lt;<a href=\"https://refactoring.guru/design-patterns/visitor\" rel=\"nofollow noreferrer\">refactoring.guru/design-patterns/visitor</a>&gt;"},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1664738972,"post_id":73928621,"comment_id":130535626,"body_markdown":"Are you saying I will add `accept(Visitor visitor)` to  interface1? This would lead to implementing `accept(Visitor visitor)` in implementation1 where this visitor is not applicable and related empty visit function right?","body":"Are you saying I will add <code>accept(Visitor visitor)</code> to  interface1? This would lead to implementing <code>accept(Visitor visitor)</code> in implementation1 where this visitor is not applicable and related empty visit function right?"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1664747004,"post_id":73928621,"comment_id":130537043,"body_markdown":"Do you really need `isFunction2Applicable`? You could call `function2` directly without that check: If the object is an instance of `interface1` only, the call to `function2` won&#39;t do anything since the method body is empty. Of course, implementations might override that behavior (after all it&#39;s just a default method) so whether you need want that check depends on your requirements.","body":"Do you really need <code>isFunction2Applicable</code>? You could call <code>function2</code> directly without that check: If the object is an instance of <code>interface1</code> only, the call to <code>function2</code> won&#39;t do anything since the method body is empty. Of course, implementations might override that behavior (after all it&#39;s just a default method) so whether you need want that check depends on your requirements."}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664738672,"creation_date":1664738672,"answer_id":73928709,"question_id":73928621,"body_markdown":"One way to do so is to define some method in the base interface and override it in the sub-interfaces or implementations. In the following example I&#39;m using a `default` method but you don&#39;t have to do so; the method can be abstract and only be implemented in the implementations:\r\n\r\n```java\r\ninterface I1 {\r\n    void function1();\r\n\r\n    default void execute() {\r\n        function1();\r\n    }\r\n}\r\n\r\ninterface I2 extends I1 {\r\n    void function2();\r\n\r\n    @Override\r\n    default void execute() {\r\n        function1();\r\n        function2();\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    List&lt;I1&gt; ifaces = new ArrayList&lt;&gt;();\r\n\r\n    for (I1 iface : ifaces) {\r\n        iface.execute();\r\n    }\r\n}\r\n```","title":"How to iterate over mixed interface implementation array?","body":"<p>One way to do so is to define some method in the base interface and override it in the sub-interfaces or implementations. In the following example I'm using a <code>default</code> method but you don't have to do so; the method can be abstract and only be implemented in the implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface I1 {\n    void function1();\n\n    default void execute() {\n        function1();\n    }\n}\n\ninterface I2 extends I1 {\n    void function2();\n\n    @Override\n    default void execute() {\n        function1();\n        function2();\n    }\n}\n\npublic static void main(String[] args) {\n    List&lt;I1&gt; ifaces = new ArrayList&lt;&gt;();\n\n    for (I1 iface : ifaces) {\n        iface.execute();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664746138,"creation_date":1664737943,"question_id":73928621,"body_markdown":"I have the following classes.\r\n\r\n```\r\ninterface interface1() {\r\n    void function1()\r\n}\r\n```\r\n\r\n```\r\ninterface interface2 extends interface1() {\r\n    void function2()\r\n}\r\n```\r\n\r\n```\r\nclass implementation1 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation2 implements interface2 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    void function2() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main() {\r\n    List&lt;interface1&gt; interfaceList = new ArrayList();\r\n    for (interface : interfaceList) {\r\n        if (interface instanceOf(interface2)) {\r\n            interface.function2();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCould you please tell if there is a way to prevent using instanceOf? I read visitor pattern could be used but I am not getting the exact changes to be done.\r\n\r\nFollowing are the classes after discussing with Alex R below (instanceOf is avoided since it is not recommended, visitor pattern is avoided since it still leads to empty visit functions). Please let me know if this can be done better using other design patterns.\r\n\r\n```\r\ninterface interface1() {\r\n    void function1();\r\n\r\n    boolean isFunction2Applicable();\r\n    \r\n    default void function2() {\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation1 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    boolean isFunction2Applicable() {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass implementation2 implements interface1 () {\r\n    @Override\r\n    void function1() {\r\n        // Implement\r\n    }\r\n\r\n    @Override\r\n    boolean isFunction2Applicable() {\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    void function2() {\r\n        // Implement\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass Main() {\r\n    List&lt;interface1&gt; interfaceList = new ArrayList();\r\n    for (interface : interfaceList) {\r\n        if (interface.isFunction2Applicable()) {\r\n            interface.function2();\r\n        }\r\n    }\r\n}\r\n```","title":"How to iterate over mixed interface implementation array?","body":"<p>I have the following classes.</p>\n<pre><code>interface interface1() {\n    void function1()\n}\n</code></pre>\n<pre><code>interface interface2 extends interface1() {\n    void function2()\n}\n</code></pre>\n<pre><code>class implementation1 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class implementation2 implements interface2 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    void function2() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class Main() {\n    List&lt;interface1&gt; interfaceList = new ArrayList();\n    for (interface : interfaceList) {\n        if (interface instanceOf(interface2)) {\n            interface.function2();\n        }\n    }\n}\n</code></pre>\n<p>Could you please tell if there is a way to prevent using instanceOf? I read visitor pattern could be used but I am not getting the exact changes to be done.</p>\n<p>Following are the classes after discussing with Alex R below (instanceOf is avoided since it is not recommended, visitor pattern is avoided since it still leads to empty visit functions). Please let me know if this can be done better using other design patterns.</p>\n<pre><code>interface interface1() {\n    void function1();\n\n    boolean isFunction2Applicable();\n    \n    default void function2() {\n    }\n}\n</code></pre>\n<pre><code>class implementation1 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    boolean isFunction2Applicable() {\n        return false;\n    }\n}\n</code></pre>\n<pre><code>class implementation2 implements interface1 () {\n    @Override\n    void function1() {\n        // Implement\n    }\n\n    @Override\n    boolean isFunction2Applicable() {\n        return true;\n    }\n    \n    @Override\n    void function2() {\n        // Implement\n    }\n}\n</code></pre>\n<pre><code>class Main() {\n    List&lt;interface1&gt; interfaceList = new ArrayList();\n    for (interface : interfaceList) {\n        if (interface.isFunction2Applicable()) {\n            interface.function2();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","reference","integer","wrapper"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1664746768,"post_id":73929335,"comment_id":130537001,"body_markdown":"What output would you have expected if you had written `i = i - 1;` instead of `i--;`?","body":"What output would you have expected if you had written <code>i = i - 1;</code> instead of <code>i--;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1664745007,"creation_date":1664745007,"answer_id":73929374,"question_id":73929335,"body_markdown":"`Integer` objects are immutable.\r\n\r\nAfter `Integer num = i;` the local variable `num` references the same `Integer` object as `i` - specifically an `Integer` object that contains the value 10.\r\n\r\nBut when you write `i--;` then `i` can no longer reference the same `Integer` object as `num` - the local variable `i` gets assigned with a reference to an `Integer` object that contains the value 9.\r\n\r\nSince `num` was not assigned to it still references the `Integer` object with the value 10.","title":"Integer class does not behave as reference type","body":"<p><code>Integer</code> objects are immutable.</p>\n<p>After <code>Integer num = i;</code> the local variable <code>num</code> references the same <code>Integer</code> object as <code>i</code> - specifically an <code>Integer</code> object that contains the value 10.</p>\n<p>But when you write <code>i--;</code> then <code>i</code> can no longer reference the same <code>Integer</code> object as <code>num</code> - the local variable <code>i</code> gets assigned with a reference to an <code>Integer</code> object that contains the value 9.</p>\n<p>Since <code>num</code> was not assigned to it still references the <code>Integer</code> object with the value 10.</p>\n"}],"owner":{"account_id":11450406,"reputation":3,"user_id":8392955,"display_name":"Egor Khorozhansky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73929374,"answer_count":1,"score":0,"last_activity_date":1664745883,"creation_date":1664744539,"question_id":73929335,"body_markdown":"Integer doesn&#39;t behave as a Reference Type. For example code below produces unexpected result\r\n\r\n```\r\n\r\n    class Playground {\r\n            public static void main(String[ ] args) {\r\n                Integer i = 10;\r\n                Integer num = i;\r\n                i--;\r\n                System.out.println(&quot;i = &quot; + i);\r\n                System.out.println(&quot;num = &quot; + num);\r\n            }\r\n    }\r\n\r\n```\r\n\r\nOUTPUT:\r\n```\r\ni = 9\r\nnum = 10\r\n```\r\n\r\nI have expected &quot;num&quot; to be 9 as well cause Integer &quot;num&quot; references  Integer &quot;i&quot;. The substractaction happens here from the same object num is referencing, but looks like &quot;-&quot; operator is overriding some behaviour and creates an new Integer object. What exactly is happening here? And what other classes behave like that?","title":"Integer class does not behave as reference type","body":"<p>Integer doesn't behave as a Reference Type. For example code below produces unexpected result</p>\n<pre><code>\n    class Playground {\n            public static void main(String[ ] args) {\n                Integer i = 10;\n                Integer num = i;\n                i--;\n                System.out.println(&quot;i = &quot; + i);\n                System.out.println(&quot;num = &quot; + num);\n            }\n    }\n\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>i = 9\nnum = 10\n</code></pre>\n<p>I have expected &quot;num&quot; to be 9 as well cause Integer &quot;num&quot; references  Integer &quot;i&quot;. The substractaction happens here from the same object num is referencing, but looks like &quot;-&quot; operator is overriding some behaviour and creates an new Integer object. What exactly is happening here? And what other classes behave like that?</p>\n"},{"tags":["java","spring-boot","format","localdatetime"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664370605,"post_id":73881996,"comment_id":130455984,"body_markdown":"*I got an error.* please share atleast the message","body":"<i>I got an error.</i> please share atleast the message"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1664371969,"post_id":73881996,"comment_id":130456572,"body_markdown":"I can not repoduce it. Are there any nonprintable character after the date?","body":"I can not repoduce it. Are there any nonprintable character after the date?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1664372848,"post_id":73881996,"comment_id":130456879,"body_markdown":"@Jens No. How can I do that?","body":"@Jens No. How can I do that?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1664439161,"post_id":73881996,"comment_id":130473281,"body_markdown":"This is not related to Spring Batch per se. Please extract the part that is related to date parsing in a unit test or in a [minimal example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue to be able to help you in an efficient way.","body":"This is not related to Spring Batch per se. Please extract the part that is related to date parsing in a unit test or in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal example</a> that reproduces the issue to be able to help you in an efficient way."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664473597,"creation_date":1664473597,"answer_id":73899726,"question_id":73881996,"body_markdown":"You have used the wrong type for `birthday`; it should be `LocalDate` as you want to keep only the date part.\r\n\r\nChange\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDateTime birthday;\r\n\r\nto\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    private LocalDate birthday;\r\n\r\nYou will also need to change the function definition to return `LocalDate` out of the parsed `LocalDateTime` as shown in the demo below:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(getLocalDate(&quot;2000-08-15 19:07:46&quot;));\r\n        }\r\n    \r\n        private static LocalDate getLocalDate(String birthday) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            return LocalDateTime.parse(birthday, formatter).toLocalDate();\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2000-08-15","title":"Spring Boot Batch Processing LocalDatetime Format yyyy-MM-dd HH:mm:ss to yyyy-MM-dd","body":"<p>You have used the wrong type for <code>birthday</code>; it should be <code>LocalDate</code> as you want to keep only the date part.</p>\n<p>Change</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDateTime birthday;\n</code></pre>\n<p>to</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\nprivate LocalDate birthday;\n</code></pre>\n<p>You will also need to change the function definition to return <code>LocalDate</code> out of the parsed <code>LocalDateTime</code> as shown in the demo below:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(getLocalDate(&quot;2000-08-15 19:07:46&quot;));\n    }\n\n    private static LocalDate getLocalDate(String birthday) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        return LocalDateTime.parse(birthday, formatter).toLocalDate();\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2000-08-15\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73899726,"answer_count":1,"score":1,"last_activity_date":1664744698,"creation_date":1664370466,"question_id":73881996,"body_markdown":"I have a problem about formatting localdatetime when I read values from csv file and add them into h2 database.\r\n\r\nHere is the example of defining localdatetime in csv file.\r\n\r\n    2000-08-15 19:07:46\r\n\r\nI want to get 2000-08-15 (removing time part).\r\nEven if I defined `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);` instead of `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);` in localDateTimeFormat method , I got an error.\r\n\r\nHere is the error shown below.\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;1999-01-25 13:08:57&#39; could not be parsed, unparsed text found at index 10\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2109) ~[na:na]\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008) ~[na:na]\r\n    \tat java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.localDateTimeFormat(UserProcessor.java:37) ~[classes/:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:26) ~[classes/:na]\r\n    \tat com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:14) ~[classes/:na]\r\n\r\nHow can I fix it?\r\n\r\nHere is the user class shown below.\r\n\r\n    public class User extends BaseEntity{\r\n    \r\n        @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n        private UUID personId;\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private Gender gender;\r\n    \r\n        private String country;\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n        private LocalDateTime birthday;\r\n    \r\n        private int age;\r\n    }\r\n\r\n\r\nHere is the processor class shown below.\r\n\r\n    public class UserProcessor implements ItemProcessor&lt;UserInput, User&gt; {\r\n    \r\n    \r\n        @Override\r\n        public User process(UserInput userInput) throws Exception {\r\n    \r\n            User user = User.builder()\r\n                    .personId(UUID.fromString(userInput.getPersonId()))\r\n                    .firstName(userInput.getFirstName())\r\n                    .lastName(userInput.getLastName())\r\n                    .email(userInput.getEmail())\r\n                    .country(userInput.getCountry())\r\n                    .birthday(localDateTimeFormat(userInput.getBirthday()))\r\n                    .gender(userInput.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\r\n                    .age(Period.between(localDateTimeFormat(userInput.getBirthday()).toLocalDate(), LocalDate.now()).getYears())\r\n                    .build();\r\n    \r\n            return user;\r\n        }\r\n    \r\n        private LocalDateTime localDateTimeFormat(String birthday) {\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n            LocalDateTime formatDateTime = LocalDateTime.parse(birthday, formatter);\r\n    \r\n            return formatDateTime;\r\n        }\r\n    }","title":"Spring Boot Batch Processing LocalDatetime Format yyyy-MM-dd HH:mm:ss to yyyy-MM-dd","body":"<p>I have a problem about formatting localdatetime when I read values from csv file and add them into h2 database.</p>\n<p>Here is the example of defining localdatetime in csv file.</p>\n<pre><code>2000-08-15 19:07:46\n</code></pre>\n<p>I want to get 2000-08-15 (removing time part).\nEven if I defined <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);</code> instead of <code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);</code> in localDateTimeFormat method , I got an error.</p>\n<p>Here is the error shown below.</p>\n<pre><code>java.time.format.DateTimeParseException: Text '1999-01-25 13:08:57' could not be parsed, unparsed text found at index 10\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2109) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008) ~[na:na]\n    at java.base/java.time.LocalDateTime.parse(LocalDateTime.java:494) ~[na:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.localDateTimeFormat(UserProcessor.java:37) ~[classes/:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:26) ~[classes/:na]\n    at com.example.batchprocessingcsvtodatabase.config.UserProcessor.process(UserProcessor.java:14) ~[classes/:na]\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is the user class shown below.</p>\n<pre><code>public class User extends BaseEntity{\n\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID personId;\n\n    private String firstName;\n    private String lastName;\n    private String email;\n\n    @Enumerated(EnumType.STRING)\n    private Gender gender;\n\n    private String country;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    private LocalDateTime birthday;\n\n    private int age;\n}\n</code></pre>\n<p>Here is the processor class shown below.</p>\n<pre><code>public class UserProcessor implements ItemProcessor&lt;UserInput, User&gt; {\n\n\n    @Override\n    public User process(UserInput userInput) throws Exception {\n\n        User user = User.builder()\n                .personId(UUID.fromString(userInput.getPersonId()))\n                .firstName(userInput.getFirstName())\n                .lastName(userInput.getLastName())\n                .email(userInput.getEmail())\n                .country(userInput.getCountry())\n                .birthday(localDateTimeFormat(userInput.getBirthday()))\n                .gender(userInput.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\n                .age(Period.between(localDateTimeFormat(userInput.getBirthday()).toLocalDate(), LocalDate.now()).getYears())\n                .build();\n\n        return user;\n    }\n\n    private LocalDateTime localDateTimeFormat(String birthday) {\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        LocalDateTime formatDateTime = LocalDateTime.parse(birthday, formatter);\n\n        return formatDateTime;\n    }\n}\n</code></pre>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":0,"creation_date":1664744255,"post_id":73929175,"comment_id":130536597,"body_markdown":"Mayber this can help https://stackoverflow.com/questions/11145681/how-to-convert-a-string-with-unicode-encoding-to-a-string-of-letters","body":"Mayber this can help <a href=\"https://stackoverflow.com/questions/11145681/how-to-convert-a-string-with-unicode-encoding-to-a-string-of-letters\" title=\"how to convert a string with unicode encoding to a string of letters\">stackoverflow.com/questions/11145681/&hellip;</a>"},{"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"score":0,"creation_date":1664744734,"post_id":73929175,"comment_id":130536698,"body_markdown":"Hmm I tried ``content = StringEscapeUtils.escapeJson(content);`` but this escaped everything so this is no longer a valid json","body":"Hmm I tried <code>content = StringEscapeUtils.escapeJson(content);</code> but this escaped everything so this is no longer a valid json"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664746142,"post_id":73929175,"comment_id":130536896,"body_markdown":"`// here i do things with content` …Whatever things you’re doing have resulted in something that is no longer valid JSON.  From [the JSON specification](https://datatracker.ietf.org/doc/html/rfc7159.html#section-7):  “A string begins and ends with quotation marks.  All Unicode characters may be placed within the quotation marks, except for the characters that must be escaped: quotation mark, reverse solidus, **and the control characters (U+0000 through U+001F).**”  If you put a character in the 00-1f range in your string, it *must* be expressed as a Unicode escape sequence.","body":"<code>&#47;&#47; here i do things with content</code> …Whatever things you’re doing have resulted in something that is no longer valid JSON.  From <a href=\"https://datatracker.ietf.org/doc/html/rfc7159.html#section-7\" rel=\"nofollow noreferrer\">the JSON specification</a>:  “A string begins and ends with quotation marks.  All Unicode characters may be placed within the quotation marks, except for the characters that must be escaped: quotation mark, reverse solidus, <b>and the control characters (U+0000 through U+001F).</b>”  If you put a character in the 00-1f range in your string, it <i>must</i> be expressed as a Unicode escape sequence."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664743579,"creation_date":1664743579,"answer_id":73929233,"question_id":73929175,"body_markdown":"You&#39;re outputting raw Unicode values, when you should be encoding them as Unicode constants eg `\\unnnn`.\r\n\r\nUse a library to encode the content, eg\r\n\r\n    content = EntityUtils.toString(content,&quot;UTF-8&quot;);","title":"Handling unicode escaping in Java InputStream","body":"<p>You're outputting raw Unicode values, when you should be encoding them as Unicode constants eg <code>\\unnnn</code>.</p>\n<p>Use a library to encode the content, eg</p>\n<pre><code>content = EntityUtils.toString(content,&quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":14044283,"reputation":733,"user_id":10144963,"display_name":"Th0rgal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664744043,"creation_date":1664742982,"question_id":73929175,"body_markdown":"I am reading json files to String, I sometimes update them (replace some specific words by others) and then write those update json files in a zip. \r\nThis is what an example input file looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe issue is, the output &quot;loses&quot; character escaping and is therefore no longer a valid json:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EIMDW.png\r\n  [2]: https://i.stack.imgur.com/NmCeL.png\r\n\r\n\r\nTo read the json:\r\n```java\r\n    private InputStream processJsonFile(File file) throws IOException {\r\n        String content;\r\n        if (!file.exists())\r\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\r\n        try {\r\n            content = IOUtils.toString(new FileReader(file, StandardCharsets.UTF_8));\r\n        } catch (IOException | NullPointerException e) {\r\n            Logs.logError(&quot;Error while reading file &quot; + file.getPath());\r\n            Logs.logError(&quot;It seems to be malformed!&quot;);\r\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\r\n        } finally {\r\n            IOUtils.closeQuietly();\r\n        }\r\n\r\n        // here i do things with content\r\n\r\n        return new ByteArrayInputStream(content.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n```\r\n\r\nto add an inputstream to the zip file:\r\n```java\r\n  try (fis) {\r\n            while ((length = fis.read(bytes)) &gt;= 0)\r\n                zos.write(bytes, 0, length);\r\n        } \r\n```","title":"Handling unicode escaping in Java InputStream","body":"<p>I am reading json files to String, I sometimes update them (replace some specific words by others) and then write those update json files in a zip.\nThis is what an example input file looks like:\n<a href=\"https://i.stack.imgur.com/EIMDW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIMDW.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is, the output &quot;loses&quot; character escaping and is therefore no longer a valid json:\n<a href=\"https://i.stack.imgur.com/NmCeL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmCeL.png\" alt=\"enter image description here\" /></a></p>\n<p>To read the json:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private InputStream processJsonFile(File file) throws IOException {\n        String content;\n        if (!file.exists())\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\n        try {\n            content = IOUtils.toString(new FileReader(file, StandardCharsets.UTF_8));\n        } catch (IOException | NullPointerException e) {\n            Logs.logError(&quot;Error while reading file &quot; + file.getPath());\n            Logs.logError(&quot;It seems to be malformed!&quot;);\n            return new ByteArrayInputStream(&quot;&quot;.getBytes(StandardCharsets.UTF_8));\n        } finally {\n            IOUtils.closeQuietly();\n        }\n\n        // here i do things with content\n\n        return new ByteArrayInputStream(content.getBytes(StandardCharsets.UTF_8));\n    }\n</code></pre>\n<p>to add an inputstream to the zip file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  try (fis) {\n            while ((length = fis.read(bytes)) &gt;= 0)\n                zos.write(bytes, 0, length);\n        } \n</code></pre>\n"},{"tags":["java","spring-boot","architecture","microservices","system-design"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664766043,"post_id":73929045,"comment_id":130539212,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2918545,"reputation":111555,"user_id":2501279,"display_name":"Guru Stron"},"score":1,"creation_date":1664818265,"post_id":73929045,"comment_id":130553272,"body_markdown":"Is using microservices a requirement? How big your team is? How many transactions at peak hours do you anticipate?","body":"Is using microservices a requirement? How big your team is? How many transactions at peak hours do you anticipate?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1664823264,"post_id":73929045,"comment_id":130554735,"body_markdown":"You could take a look at event driven design which is often used for microservice architectures. Communication between microservices is typically handled through choreography or orchestration. Lots of articles and samples exist on the web on this topic... What to choose is use case dependent (as always ;-) )","body":"You could take a look at event driven design which is often used for microservice architectures. Communication between microservices is typically handled through choreography or orchestration. Lots of articles and samples exist on the web on this topic... What to choose is use case dependent (as always ;-) )"}],"owner":{"account_id":26509650,"reputation":1,"user_id":20145183,"display_name":"Sagar Varma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664741700,"creation_date":1664741700,"question_id":73929045,"body_markdown":"I have a requirement of building a web app, which is more like a system that will have inventory and sell the items.\r\nThere is no need for a payment gateway as it is an over-the-counter system and payment integration is not required for it.\r\n\r\nI have the following:\r\n- user service: That manages users\r\n- inventory service: that manages inventory\r\n- order service: that takes orders and processes them\r\n\r\nEach service has its own separate database.\r\n\r\nInventory and order service will communicate often as order processing will need inventory updates.\r\nNow, the question is,\r\nHow do I manage this situation? because I need to manage the inventory, keep the order history and have it in a way that order history can be seen, for reports like sales of specific items, etc.\r\n\r\nThe problem I foresee is if order-service will have its own DB and inventory will have its own DB. for the purpose of fetching reports, it will also require calls to inventory-service for getting the item details. ( I am assuming that I will save inventory-item-id in order-service DB)\r\n\r\nCan you please suggest proper way to deal with this?","title":"Suggestion required for building microservices architecture","body":"<p>I have a requirement of building a web app, which is more like a system that will have inventory and sell the items.\nThere is no need for a payment gateway as it is an over-the-counter system and payment integration is not required for it.</p>\n<p>I have the following:</p>\n<ul>\n<li>user service: That manages users</li>\n<li>inventory service: that manages inventory</li>\n<li>order service: that takes orders and processes them</li>\n</ul>\n<p>Each service has its own separate database.</p>\n<p>Inventory and order service will communicate often as order processing will need inventory updates.\nNow, the question is,\nHow do I manage this situation? because I need to manage the inventory, keep the order history and have it in a way that order history can be seen, for reports like sales of specific items, etc.</p>\n<p>The problem I foresee is if order-service will have its own DB and inventory will have its own DB. for the purpose of fetching reports, it will also require calls to inventory-service for getting the item details. ( I am assuming that I will save inventory-item-id in order-service DB)</p>\n<p>Can you please suggest proper way to deal with this?</p>\n"},{"tags":["java","user-interface","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":3,"creation_date":1472854467,"post_id":39301143,"comment_id":65936599,"body_markdown":"How about using a BorderPane.The button will be at the bottom and you change only the center with your fxml files.","body":"How about using a BorderPane.The button will be at the bottom and you change only the center with your fxml files."},{"owner":{"account_id":7024225,"reputation":820,"user_id":5382318,"accept_rate":52,"display_name":"Lo&#239;s Talagrand"},"score":0,"creation_date":1472864221,"post_id":39301143,"comment_id":65938636,"body_markdown":"Simple and effective! Thank you I didn&#39;t think about this.","body":"Simple and effective! Thank you I didn&#39;t think about this."}],"answers":[{"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472854744,"creation_date":1472854744,"answer_id":39301376,"question_id":39301143,"body_markdown":"This can definitely be achieved by creating a separate FXML file and add a Node to it with a known unique Id, then accessing that node via the id, the tricky part is how are you going to do it application wide? probably creating the same function in a lot of your controllers but here is how you would get a a button from an FXML file.\r\n\r\nAll buttons are performing the same action? \r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;fileName.fxml&quot;));\r\n    \r\n            ObservableList&lt;Node&gt; nodes = root.getChildrenUnmodifiable();\r\n            String _id = &quot;testButton&quot;;\r\n            for (Node node : nodes) {\r\n                if (node.getId().equals(_id)) {\r\n                    return node;\r\n                }\r\n    \r\n            }\r\n            return null;\r\n    }\r\n\r\n\r\n","title":"JavaFX - Reusable FXML component","body":"<p>This can definitely be achieved by creating a separate FXML file and add a Node to it with a known unique Id, then accessing that node via the id, the tricky part is how are you going to do it application wide? probably creating the same function in a lot of your controllers but here is how you would get a a button from an FXML file.</p>\n\n<p>All buttons are performing the same action? </p>\n\n<pre><code>Parent root = FXMLLoader.load(getClass().getResource(\"fileName.fxml\"));\n\n        ObservableList&lt;Node&gt; nodes = root.getChildrenUnmodifiable();\n        String _id = \"testButton\";\n        for (Node node : nodes) {\n            if (node.getId().equals(_id)) {\n                return node;\n            }\n\n        }\n        return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1664741114,"creation_date":1485882406,"answer_id":41963399,"question_id":39301143,"body_markdown":"You can do like this:\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.MainController&quot;&gt;\r\n    &lt;children&gt;\r\n    &lt;fx:include fx:id=&quot;someId&quot; source=&quot;NestedFXML.fxml&quot;/&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n    &lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.NestedFXMLController&quot;&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nController classes:\r\n\r\n    public class MainController implements Initializable {\r\n    \r\n        @FXML\r\n        private NestedFXMLController someIdController;\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n    \t// TODO Auto-generated method stub\r\n    \r\n        }\r\n    }\r\n\r\n\r\nand\r\n\r\n    public class NestedFXMLController implements Initializable {\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n    \t// TODO Auto-generated method stub\r\n    \r\n        }\r\n    }\r\n\r\nNote that the nested controller can be injected via FXML annotation. The **field name must match the fx:id attribute string + &quot;Controller&quot;!**\r\n\r\n**Find a MWE [here](https://github.com/kerner1000/hello-world-javafx/tree/fxml-reuseable-component).**","title":"JavaFX - Reusable FXML component","body":"<p>You can do like this:</p>\n<pre><code>&lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.MainController&quot;&gt;\n&lt;children&gt;\n&lt;fx:include fx:id=&quot;someId&quot; source=&quot;NestedFXML.fxml&quot;/&gt;\n&lt;/children&gt;\n</code></pre>\n\n<pre><code>&lt;AnchorPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;de.example.NestedFXMLController&quot;&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Controller classes:</p>\n<pre><code>public class MainController implements Initializable {\n\n    @FXML\n    private NestedFXMLController someIdController;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class NestedFXMLController implements Initializable {\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>Note that the nested controller can be injected via FXML annotation. The <strong>field name must match the fx:id attribute string + &quot;Controller&quot;!</strong></p>\n<p><strong>Find a MWE <a href=\"https://github.com/kerner1000/hello-world-javafx/tree/fxml-reuseable-component\" rel=\"nofollow noreferrer\">here</a>.</strong></p>\n"}],"owner":{"account_id":7024225,"reputation":820,"user_id":5382318,"accept_rate":52,"display_name":"Lo&#239;s Talagrand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4101,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41963399,"answer_count":2,"score":7,"last_activity_date":1664741114,"creation_date":1472852931,"question_id":39301143,"body_markdown":"I am building a GUI with Scene Builder, and the majority of my scenes have one element in common (an iOS type home button at the bottom).\r\nI was wondering if it was possible to define this component in a separate fxml file. From the research I conducted, there exists a similar process for declaring a reusable component but only within the same fxml file. \r\nHow could I apply this principle for several fxml files?\r\n","title":"JavaFX - Reusable FXML component","body":"<p>I am building a GUI with Scene Builder, and the majority of my scenes have one element in common (an iOS type home button at the bottom).\nI was wondering if it was possible to define this component in a separate fxml file. From the research I conducted, there exists a similar process for declaring a reusable component but only within the same fxml file. \nHow could I apply this principle for several fxml files?</p>\n"},{"tags":["java","google-cloud-platform","sftp","jsch","gcs"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664740982,"creation_date":1664654984,"answer_id":73921413,"question_id":73920586,"body_markdown":"I assume you want to upload in-memory data. JSch actually has loads of `ChannelSftp.put` methods overloads that can upload in-memory data.\r\n\r\nThe basic one is [with use of `InputStream`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.io.InputStream-java.lang.String-):\r\n\r\n```\r\npublic void put(InputStream src, String dst) throws SftpException\r\n```\r\n\r\nThe other options is [with use of `OutputStream`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-):\r\n\r\n```\r\npublic OutputStream put(String dst) throws SftpException\r\n```\r\n","title":"transfer file from GCS bucket to SFTP server in java","body":"<p>I assume you want to upload in-memory data. JSch actually has loads of <code>ChannelSftp.put</code> methods overloads that can upload in-memory data.</p>\n<p>The basic one is <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.io.InputStream-java.lang.String-\" rel=\"nofollow noreferrer\">with use of <code>InputStream</code></a>:</p>\n<pre><code>public void put(InputStream src, String dst) throws SftpException\n</code></pre>\n<p>The other options is <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html#put-java.lang.String-\" rel=\"nofollow noreferrer\">with use of <code>OutputStream</code></a>:</p>\n<pre><code>public OutputStream put(String dst) throws SftpException\n</code></pre>\n"}],"owner":{"account_id":2538618,"reputation":1879,"user_id":2205016,"accept_rate":35,"display_name":"dreambigcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73921413,"answer_count":1,"score":0,"last_activity_date":1664740982,"creation_date":1664646919,"question_id":73920586,"body_markdown":"I am able to read files from GCS bucket, but all the libraries like **jsch** which does file transfer to SFTP server look for a file path, instead of the file in memory.\r\nI don&#39;t want to write the file I read from GCS to a disk, How do I transfer the file in memory to SFTP?","title":"transfer file from GCS bucket to SFTP server in java","body":"<p>I am able to read files from GCS bucket, but all the libraries like <strong>jsch</strong> which does file transfer to SFTP server look for a file path, instead of the file in memory.\nI don't want to write the file I read from GCS to a disk, How do I transfer the file in memory to SFTP?</p>\n"},{"tags":["java","spring-boot","jersey","spring-webflux","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664740980,"creation_date":1664740980,"answer_id":73928968,"question_id":73928140,"body_markdown":"You cannot mix WebFlux and Jersey. You should choose one or the other, not both. They both provide an HTTP server engine, but:\r\n\r\n * *Jersey* is a Servlet JAX-RS implementation, it does **not** know anything about reactive streams, Mono, Flux, etc.\r\n * *Webflux* is the Spring HTTP server engine based on reactive streams and async Netty HTTP server.\r\n\r\nIf you look at [Spring Boot reference documentation, section 3.5: Web](https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/#documentation.web), you will see that Jersey is one of the available engines, competing with other possible engines, i.e Web MVC and web reactive (webflux).\r\n\r\nSo, the answer is : Jersey is incompatible with Webflux, and you must choose between Webflux reactive Web and Spring rest annotation, or Jersey and Jax_RS without using Mono/Flux as return-type.\r\n\r\nNote 1 : You should annotate your class with `@RestController` whe using webflux, so it understand that method return is the HTTP response body (see [the last paragraph of reference documentation section 1.4.1: *@Controller*](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-ann-controller) for details.\r\n\r\nNote 2 : If you really want to use jersey, but you still require to consume Mono objects from other parts of your system, you might use one of the conversion functions provided by Reactor to return an object that jersey can work with. For example, on Mono object, you will find a [toFuture()](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--) method. You could also *block()*, but it could be dangerous.","title":"I got this message: Cannot construct instance of `reactor.core.publisher.Mono`","body":"<p>You cannot mix WebFlux and Jersey. You should choose one or the other, not both. They both provide an HTTP server engine, but:</p>\n<ul>\n<li><em>Jersey</em> is a Servlet JAX-RS implementation, it does <strong>not</strong> know anything about reactive streams, Mono, Flux, etc.</li>\n<li><em>Webflux</em> is the Spring HTTP server engine based on reactive streams and async Netty HTTP server.</li>\n</ul>\n<p>If you look at <a href=\"https://docs.spring.io/spring-boot/docs/2.7.4/reference/htmlsingle/#documentation.web\" rel=\"nofollow noreferrer\">Spring Boot reference documentation, section 3.5: Web</a>, you will see that Jersey is one of the available engines, competing with other possible engines, i.e Web MVC and web reactive (webflux).</p>\n<p>So, the answer is : Jersey is incompatible with Webflux, and you must choose between Webflux reactive Web and Spring rest annotation, or Jersey and Jax_RS without using Mono/Flux as return-type.</p>\n<p>Note 1 : You should annotate your class with <code>@RestController</code> whe using webflux, so it understand that method return is the HTTP response body (see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-ann-controller\" rel=\"nofollow noreferrer\">the last paragraph of reference documentation section 1.4.1: <em>@Controller</em></a> for details.</p>\n<p>Note 2 : If you really want to use jersey, but you still require to consume Mono objects from other parts of your system, you might use one of the conversion functions provided by Reactor to return an object that jersey can work with. For example, on Mono object, you will find a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#toFuture--\" rel=\"nofollow noreferrer\">toFuture()</a> method. You could also <em>block()</em>, but it could be dangerous.</p>\n"}],"owner":{"account_id":26503323,"reputation":3,"user_id":20139898,"display_name":"MBanai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73928968,"answer_count":1,"score":0,"last_activity_date":1664740980,"creation_date":1664733469,"question_id":73928140,"body_markdown":"I used Jersey and Webflux with R2DBC. after send the POST via the postman I got this message &quot; Cannot construct instance of `reactor.core.publisher.Mono` &quot;\r\n\r\nThis is my JerseyConfiguration:\r\n\r\n    @Component\r\n    public class JerseyConfiguration\r\n            extends ResourceConfig {\r\n        public JerseyConfiguration() {\r\n            register(ProductController.class, 1);\r\n        }\r\n    }\r\n\r\nand this is my Controller:\r\n\r\n    @Path(&quot;/v1&quot;)\r\n    @Controller\r\n    public class ProductController {\r\n    \r\n        @Autowired\r\n        private ProductService productService;\r\n    \r\n        @POST\r\n        @Consumes(MediaType.APPLICATION_JSON)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        @Path(&quot;/product&quot;)\r\n        public Mono&lt;Product&gt; createProduct(@RequestBody Mono&lt;Product&gt; productMono){\r\n            return productMono.flatMap(this.productService::createProduct);\r\n        }\r\n    }\r\nand this sis my service:\r\n\r\n    @Service\r\n    public class ProductService {\r\n    \r\n        @Autowired\r\n        private ProductRepository repository;\r\n    \r\n        public Mono&lt;Product&gt; createProduct(final Product product){\r\n            return this.repository.save(product);\r\n        }\r\n    }\r\n\r\nand also this my pom.xml\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nNow, this is my problem; I got this message from the postman:\r\n\r\n    Cannot construct instance of `reactor.core.publisher.Mono` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n     at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\r\n\r\nPlease let me know how to solve that problem.\r\n\r\nThank you\r\n","title":"I got this message: Cannot construct instance of `reactor.core.publisher.Mono`","body":"<p>I used Jersey and Webflux with R2DBC. after send the POST via the postman I got this message &quot; Cannot construct instance of <code>reactor.core.publisher.Mono</code> &quot;</p>\n<p>This is my JerseyConfiguration:</p>\n<pre><code>@Component\npublic class JerseyConfiguration\n        extends ResourceConfig {\n    public JerseyConfiguration() {\n        register(ProductController.class, 1);\n    }\n}\n</code></pre>\n<p>and this is my Controller:</p>\n<pre><code>@Path(&quot;/v1&quot;)\n@Controller\npublic class ProductController {\n\n    @Autowired\n    private ProductService productService;\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;/product&quot;)\n    public Mono&lt;Product&gt; createProduct(@RequestBody Mono&lt;Product&gt; productMono){\n        return productMono.flatMap(this.productService::createProduct);\n    }\n}\n</code></pre>\n<p>and this sis my service:</p>\n<pre><code>@Service\npublic class ProductService {\n\n    @Autowired\n    private ProductRepository repository;\n\n    public Mono&lt;Product&gt; createProduct(final Product product){\n        return this.repository.save(product);\n    }\n}\n</code></pre>\n<p>and also this my pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Now, this is my problem; I got this message from the postman:</p>\n<pre><code>Cannot construct instance of `reactor.core.publisher.Mono` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$UnCloseableInputStream); line: 1, column: 1]\n</code></pre>\n<p>Please let me know how to solve that problem.</p>\n<p>Thank you</p>\n"},{"tags":["java","android","networking","udp"],"comments":[{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1600878321,"post_id":64030969,"comment_id":113229661,"body_markdown":"Use the broadcast IP address. Remember that broadcasts do not cross routers, so you can only broadcast on the network to which you are connected.","body":"Use the broadcast IP address. Remember that broadcasts do not cross routers, so you can only broadcast on the network to which you are connected."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1602804996,"post_id":64030969,"comment_id":113843588,"body_markdown":"There is a single broadcast address that can be used: the Limited Broadcast address of `255.255.255.255`. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast.","body":"There is a single broadcast address that can be used: the Limited Broadcast address of <code>255.255.255.255</code>. It works on every IPv4 network, and there is no real reason to spend a lot of cycles calculating the network broadcast address. Of course, broadcasting only works for IPv4 because IPv6 has eliminated broadcast because it is intrusive, interrupting every host on the LAN, and it is a security problem. The modern method is multicast."}],"answers":[{"tags":[],"owner":{"account_id":5318650,"reputation":967,"user_id":4299833,"accept_rate":80,"display_name":"narcis dpr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664740634,"creation_date":1600881631,"answer_id":64033170,"question_id":64030969,"body_markdown":"Here is a useful doc: [google-AdroidUDP][1], and here is a sample code:\r\n\r\n**Sender:**\r\n\r\n     public void sendBroadcast(String messageStr) {\r\n         StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\n         try {\r\n             DatagramSocket socket = new DatagramSocket();\r\n             socket.setBroadcast(true);\r\n             byte[] sendData = messageStr.getBytes();\r\n             DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, getBroadcastAddress(), Constants.PORT);\r\n             socket.send(sendPacket);\r\n             System.out.println(getClass().getName() + &quot;Broadcast packet sent to: &quot; + getBroadcastAddress().getHostAddress());\r\n         } catch (IOException e) {\r\n             Log.e(TAG, &quot;IOException: &quot; + e.getMessage());\r\n         }\r\n     }\r\n     \r\n     InetAddress getBroadcastAddress() throws IOException {\r\n         WifiManager wifi = (WifiManager)    \r\n         mContext.getSystemService(Context.WIFI_SERVICE);\r\n         DhcpInfo dhcp = wifi.getDhcpInfo();\r\n\r\n\r\n         int broadcast = (dhcp.ipAddress &amp; dhcp.netmask) | ~dhcp.netmask;\r\n         byte[] quads = new byte[4];\r\n         for (int k = 0; k &lt; 4; k++)\r\n             quads[k] = (byte) ((broadcast &gt;&gt; k * 8) &amp; 0xFF);\r\n         return InetAddress.getByAddress(quads);\r\n     }\r\n\r\n\r\n**Receiver**\r\n\r\n          try {\r\n              socket = new DatagramSocket(Constants.PORT, InetAddress.getByName(&quot;0.0.0.0&quot;));\r\n              socket.setBroadcast(true);\r\n\r\n              while (true) {\r\n                  Log.i(TAG,&quot;Ready to receive broadcast packets!&quot;);\r\n\r\n                  byte[] recvBuf = new byte[15000];\r\n                  DatagramPacket packet = new DatagramPacket(recvBuf, recvBuf.length);\r\n                  socket.receive(packet);\r\n\r\n                  Log.i(TAG, &quot;Packet received from: &quot; + packet.getAddress().getHostAddress());\r\n                  String data = new String(packet.getData()).trim();\r\n                  Log.i(TAG, &quot;Packet received; data: &quot; + data);\r\n\r\n                  Intent localIntent = new Intent(Constants.BROADCAST_ACTION)\r\n                      .putExtra(Constants.EXTENDED_DATA_STATUS, data);\r\n                  LocalBroadcastManager\r\n                      .getInstance(this)\r\n                      .sendBroadcast(localIntent);\r\n              }\r\n          }  catch (IOException ex) {\r\n              Log.i(TAG, &quot;Oops&quot; + ex.getMessage());\r\n          }\r\n\r\n\r\n  [1]: https://code.google.com/p/boxeeremote/wiki/AndroidUDP","title":"How to broadcast a UDP packet from Android?","body":"<p>Here is a useful doc: <a href=\"https://code.google.com/p/boxeeremote/wiki/AndroidUDP\" rel=\"nofollow noreferrer\">google-AdroidUDP</a>, and here is a sample code:</p>\n<p><strong>Sender:</strong></p>\n<pre><code> public void sendBroadcast(String messageStr) {\n     StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n\n     try {\n         DatagramSocket socket = new DatagramSocket();\n         socket.setBroadcast(true);\n         byte[] sendData = messageStr.getBytes();\n         DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, getBroadcastAddress(), Constants.PORT);\n         socket.send(sendPacket);\n         System.out.println(getClass().getName() + &quot;Broadcast packet sent to: &quot; + getBroadcastAddress().getHostAddress());\n     } catch (IOException e) {\n         Log.e(TAG, &quot;IOException: &quot; + e.getMessage());\n     }\n }\n \n InetAddress getBroadcastAddress() throws IOException {\n     WifiManager wifi = (WifiManager)    \n     mContext.getSystemService(Context.WIFI_SERVICE);\n     DhcpInfo dhcp = wifi.getDhcpInfo();\n\n\n     int broadcast = (dhcp.ipAddress &amp; dhcp.netmask) | ~dhcp.netmask;\n     byte[] quads = new byte[4];\n     for (int k = 0; k &lt; 4; k++)\n         quads[k] = (byte) ((broadcast &gt;&gt; k * 8) &amp; 0xFF);\n     return InetAddress.getByAddress(quads);\n }\n</code></pre>\n<p><strong>Receiver</strong></p>\n<pre><code>      try {\n          socket = new DatagramSocket(Constants.PORT, InetAddress.getByName(&quot;0.0.0.0&quot;));\n          socket.setBroadcast(true);\n\n          while (true) {\n              Log.i(TAG,&quot;Ready to receive broadcast packets!&quot;);\n\n              byte[] recvBuf = new byte[15000];\n              DatagramPacket packet = new DatagramPacket(recvBuf, recvBuf.length);\n              socket.receive(packet);\n\n              Log.i(TAG, &quot;Packet received from: &quot; + packet.getAddress().getHostAddress());\n              String data = new String(packet.getData()).trim();\n              Log.i(TAG, &quot;Packet received; data: &quot; + data);\n\n              Intent localIntent = new Intent(Constants.BROADCAST_ACTION)\n                  .putExtra(Constants.EXTENDED_DATA_STATUS, data);\n              LocalBroadcastManager\n                  .getInstance(this)\n                  .sendBroadcast(localIntent);\n          }\n      }  catch (IOException ex) {\n          Log.i(TAG, &quot;Oops&quot; + ex.getMessage());\n      }\n</code></pre>\n"}],"owner":{"account_id":19511854,"reputation":41,"user_id":14275650,"display_name":"qol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664740634,"creation_date":1600873844,"question_id":64030969,"body_markdown":"I need to broadcast a message using UDP from my Android app to every device on my network (ethernet).\r\nI&#39;m lost on how to do this though because there doesn&#39;t seem to be any documentation on how to send a broadcast message, just ones on how to send to a specific client using IP addresses.\r\n\r\nThanks","title":"How to broadcast a UDP packet from Android?","body":"<p>I need to broadcast a message using UDP from my Android app to every device on my network (ethernet).\nI'm lost on how to do this though because there doesn't seem to be any documentation on how to send a broadcast message, just ones on how to send to a specific client using IP addresses.</p>\n<p>Thanks</p>\n"},{"tags":["java","string","palindrome"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1558669421,"creation_date":1558669421,"answer_id":56285573,"question_id":56285511,"body_markdown":"StringBuilder `reverse` does not produce a new StringBuilder instance. It causes the underlying characters of the current StringBuilder to be reversed. So,\r\n\r\n    String a = s.reverse().toString(); \r\n    String b = s.toString();\r\n\r\nThe second `s.toString()` is operating on the reversed `StringBuilder`.\r\n\r\n\r\nyou have to do\r\n\r\n    String original = s.toString(); \r\n    String reversed = s.reverse().toString();\r\n    return original.equals(reversed);\r\n","title":"How does StringBuilder reverse work in Java?","body":"<p>StringBuilder <code>reverse</code> does not produce a new StringBuilder instance. It causes the underlying characters of the current StringBuilder to be reversed. So,</p>\n\n<pre><code>String a = s.reverse().toString(); \nString b = s.toString();\n</code></pre>\n\n<p>The second <code>s.toString()</code> is operating on the reversed <code>StringBuilder</code>.</p>\n\n<p>you have to do</p>\n\n<pre><code>String original = s.toString(); \nString reversed = s.reverse().toString();\nreturn original.equals(reversed);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15979473,"reputation":121,"user_id":11531469,"display_name":"kundus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558877688,"creation_date":1558877688,"answer_id":56313976,"question_id":56285511,"body_markdown":"Here&#39;s one using only 2 StringBuilders instead of 3 and doesn&#39;t use the built-in reversed method. Instead, the while loop traverses through the linked list, appends the current node to the `original` StringBuilder, and inserts the current node at the front of the `reversed` StringBuilder. So the built-in insert method helps with reversing the order of the nodes values :\r\n\r\n    public boolean isPalindrome(ListNode head) {\r\n         StringBuilder original = new StringBuilder(), reversed = new StringBuilder();\r\n         ListNode curr = head;\r\n         while (curr != null) {\r\n             original.append(curr.val);\r\n             reversed.insert(0, curr.val);\r\n             curr = curr.next;\r\n         }\r\n         return original.toString().equals(reversed.toString()) ? true : false;\r\n    }\r\n\r\n","title":"How does StringBuilder reverse work in Java?","body":"<p>Here's one using only 2 StringBuilders instead of 3 and doesn't use the built-in reversed method. Instead, the while loop traverses through the linked list, appends the current node to the <code>original</code> StringBuilder, and inserts the current node at the front of the <code>reversed</code> StringBuilder. So the built-in insert method helps with reversing the order of the nodes values :</p>\n\n<pre><code>public boolean isPalindrome(ListNode head) {\n     StringBuilder original = new StringBuilder(), reversed = new StringBuilder();\n     ListNode curr = head;\n     while (curr != null) {\n         original.append(curr.val);\n         reversed.insert(0, curr.val);\n         curr = curr.next;\n     }\n     return original.toString().equals(reversed.toString()) ? true : false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664739173,"creation_date":1664739173,"answer_id":73928768,"question_id":56285511,"body_markdown":"[`StringBuilder#reverse`](https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse()) reverses the character sequence in-place e.g.\r\n\r\n    StringBuilder s = new StringBuilder(&quot;Hello&quot;);\r\n    s.reverse();\r\n    System.out.println(s); // olleH\r\n\r\nTo preserve the character sequence in the original instance, you need to clone (create a copy) the original instance and reverse the clone e.g.\r\n\r\n    StringBuilder b = new StringBuilder(a).reverse(); // a is the original instance\r\n    return a.toString().equals(b.toString());\r\n\r\n**Note**: `StringBuilder` does not override `Object#equals` method and therefore even if two `StringBuilder` instances (say, `one` and `other`) have the same content, `one.equals(other)` return `false`. A way to check the equality of the two `StringBuilder` instances is through their `String` representation e.g. `one.toString().equals(other.toString())`.","title":"How does StringBuilder reverse work in Java?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\"><code>StringBuilder#reverse</code></a> reverses the character sequence in-place e.g.</p>\n<pre><code>StringBuilder s = new StringBuilder(&quot;Hello&quot;);\ns.reverse();\nSystem.out.println(s); // olleH\n</code></pre>\n<p>To preserve the character sequence in the original instance, you need to clone (create a copy) the original instance and reverse the clone e.g.</p>\n<pre><code>StringBuilder b = new StringBuilder(a).reverse(); // a is the original instance\nreturn a.toString().equals(b.toString());\n</code></pre>\n<p><strong>Note</strong>: <code>StringBuilder</code> does not override <code>Object#equals</code> method and therefore even if two <code>StringBuilder</code> instances (say, <code>one</code> and <code>other</code>) have the same content, <code>one.equals(other)</code> return <code>false</code>. A way to check the equality of the two <code>StringBuilder</code> instances is through their <code>String</code> representation e.g. <code>one.toString().equals(other.toString())</code>.</p>\n"}],"owner":{"account_id":13863363,"reputation":127,"user_id":10008430,"display_name":"taralee98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2389,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56285573,"answer_count":3,"score":0,"last_activity_date":1664739173,"creation_date":1558668949,"question_id":56285511,"body_markdown":"I am trying to solve this leetcode question\r\nhttps://leetcode.com/problems/palindrome-linked-list/ , but running into trouble with strings and string builders. For some reason, &quot;12&quot;.equals&quot;21&quot; -&gt; returns true. \r\n\r\n\r\nI tried converting from string builder to string, and just using stringbuilder.\r\n\r\n    class Solution {\r\n    public boolean isPalindrome(ListNode head) {\r\n        StringBuilder s = new StringBuilder();\r\n        while (head != null) {\r\n            s.append(head.val);\r\n            head = head.next;\r\n        }\r\n        String a = s.reverse().toString(); \r\n        String b = s.toString(); \r\n        return a.equals(b);\r\n    }\r\n    }\r\n\r\n\r\nIt fails on &quot;12&quot; test case, and returns true.","title":"How does StringBuilder reverse work in Java?","body":"<p>I am trying to solve this leetcode question\n<a href=\"https://leetcode.com/problems/palindrome-linked-list/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/palindrome-linked-list/</a> , but running into trouble with strings and string builders. For some reason, \"12\".equals\"21\" -> returns true. </p>\n\n<p>I tried converting from string builder to string, and just using stringbuilder.</p>\n\n<pre><code>class Solution {\npublic boolean isPalindrome(ListNode head) {\n    StringBuilder s = new StringBuilder();\n    while (head != null) {\n        s.append(head.val);\n        head = head.next;\n    }\n    String a = s.reverse().toString(); \n    String b = s.toString(); \n    return a.equals(b);\n}\n}\n</code></pre>\n\n<p>It fails on \"12\" test case, and returns true.</p>\n"},{"tags":["java","android","download","android-asynctask"],"comments":[{"owner":{"account_id":3588738,"reputation":2650,"user_id":2995251,"accept_rate":86,"display_name":"Ganesh Katikar"},"score":2,"creation_date":1390475680,"post_id":3028306,"comment_id":34438444,"body_markdown":"I hope below link may be help you... http://www.androidhive.info/2012/04/android-downloading-file-by-showing-progress-bar/","body":"I hope below link may be help you... <a href=\"http://www.androidhive.info/2012/04/android-downloading-file-by-showing-progress-bar/\" rel=\"nofollow noreferrer\">androidhive.info/2012/04/&hellip;</a>"},{"owner":{"account_id":485774,"reputation":3175,"user_id":902284,"accept_rate":31,"display_name":"Richa"},"score":1,"creation_date":1428322094,"post_id":3028306,"comment_id":47103416,"body_markdown":"For quick fix [refer this answer](http://stackoverflow.com/a/29470764/902284)","body":"For quick fix <a href=\"http://stackoverflow.com/a/29470764/902284\">refer this answer</a>"},{"owner":{"account_id":4803234,"reputation":721,"user_id":3879214,"display_name":"Anu Martin"},"score":0,"creation_date":1513326620,"post_id":3028306,"comment_id":82619178,"body_markdown":"https://stackoverflow.com/a/43069239/3879214\ncheck this answer","body":"<a href=\"https://stackoverflow.com/a/43069239/3879214\">stackoverflow.com/a/43069239/3879214</a> check this answer"}],"answers":[{"tags":[],"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"down_vote_count":2,"up_vote_count":1946,"is_accepted":true,"score":1944,"last_activity_date":1652503916,"creation_date":1276345825,"answer_id":3028660,"question_id":3028306,"body_markdown":"There are many ways to download files. Following I will post most common ways; it is up to you to decide which method is better for your app.\r\n\r\n1. Use `AsyncTask` and show the download progress in a dialog\r\n=============================================================\r\n\r\nThis method will allow you to execute some background processes and update the UI at the same time (in this case, we&#39;ll update a progress bar).\r\n\r\nImports:\r\n\r\n    import android.os.PowerManager;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.net.HttpURLConnection;\r\n  \r\n\r\n\r\n\r\nThis is an example code:\r\n\r\n    // declare the dialog as a member field of your activity\r\n    ProgressDialog mProgressDialog;\r\n\r\n    // instantiate it within the onCreate method\r\n    mProgressDialog = new ProgressDialog(YourActivity.this);\r\n    mProgressDialog.setMessage(&quot;A message&quot;);\r\n    mProgressDialog.setIndeterminate(true);\r\n    mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n    mProgressDialog.setCancelable(true);\r\n\r\n    // execute this when the downloader must be fired\r\n    final DownloadTask downloadTask = new DownloadTask(YourActivity.this);\r\n    downloadTask.execute(&quot;the url to the file you want to download&quot;);\r\n\r\n    mProgressDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\r\n\r\n        @Override\r\n        public void onCancel(DialogInterface dialog) {\r\n            downloadTask.cancel(true); //cancel the task\r\n        }\r\n    });\r\n\r\n\r\nThe `AsyncTask` will look like this:\r\n    \r\n    // usually, subclasses of AsyncTask are declared inside the activity class.\r\n    // that way, you can easily modify the UI thread from here\r\n    private class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n        private Context context;\r\n        private PowerManager.WakeLock mWakeLock;\r\n\r\n        public DownloadTask(Context context) {\r\n            this.context = context;\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... sUrl) {\r\n            InputStream input = null;\r\n            OutputStream output = null;\r\n            HttpURLConnection connection = null;\r\n            try {\r\n                URL url = new URL(sUrl[0]);\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n    \r\n                // expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n                // instead of the file\r\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n                            + &quot; &quot; + connection.getResponseMessage();\r\n                }\r\n    \r\n                // this will be useful to display download percentage\r\n                // might be -1: server did not report the length\r\n                int fileLength = connection.getContentLength();\r\n    \r\n                // download the file\r\n                input = connection.getInputStream();\r\n                output = new FileOutputStream(&quot;/sdcard/file_name.extension&quot;);\r\n    \r\n                byte data[] = new byte[4096];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    // allow canceling with back button\r\n                    if (isCancelled()) {\r\n                        input.close();\r\n                        return null;\r\n                    }\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    if (fileLength &gt; 0) // only if total length is known\r\n                        publishProgress((int) (total * 100 / fileLength));\r\n                    output.write(data, 0, count);\r\n                }\r\n            } catch (Exception e) {\r\n                return e.toString();\r\n            } finally {\r\n                try {\r\n                    if (output != null)\r\n                        output.close();\r\n                    if (input != null)\r\n                        input.close();\r\n                } catch (IOException ignored) {\r\n                }\r\n    \r\n                if (connection != null)\r\n                    connection.disconnect();\r\n            }\r\n            return null;\r\n        }\r\n\r\nThe method above (`doInBackground`) runs always on a background thread. You shouldn&#39;t do any UI tasks there. On the other hand, the `onProgressUpdate` and `onPreExecute` run on the UI thread, so there you can change the progress bar:\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            // take CPU lock to prevent CPU from going off if the user \r\n            // presses the power button during download\r\n            PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                 getClass().getName());\r\n            mWakeLock.acquire();\r\n            mProgressDialog.show();\r\n        }\r\n        \r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            // if we get here, length is known, now set indeterminate to false\r\n            mProgressDialog.setIndeterminate(false);\r\n            mProgressDialog.setMax(100);\r\n            mProgressDialog.setProgress(progress[0]);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            mWakeLock.release();\r\n            mProgressDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(context,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(context,&quot;File downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nFor this to run, you need the WAKE_LOCK permission.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n2. Download from Service\r\n========================\r\n\r\nThe big question here is: *how do I update my activity from a service?*. In the next example we are going to use two classes you may not be aware of: `ResultReceiver` and `IntentService`. `ResultReceiver` is the one that will allow us to update our thread from a service; `IntentService` is a subclass of `Service` which spawns a thread to do background work from there (you should know that a `Service` runs actually in the same thread of your app; when you extends `Service`, you must manually spawn new threads to run CPU blocking operations).\r\n\r\nDownload service can look like this:\r\n\r\n    public class DownloadService extends IntentService {\r\n        public static final int UPDATE_PROGRESS = 8344;\r\n\r\n        public DownloadService() {\r\n            super(&quot;DownloadService&quot;);\r\n        }\r\n        @Override\r\n        protected void onHandleIntent(Intent intent) {\r\n\r\n            String urlToDownload = intent.getStringExtra(&quot;url&quot;);\r\n            ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra(&quot;receiver&quot;);\r\n            try {\r\n                \r\n                //create url and connect\r\n                URL url = new URL(urlToDownload);\r\n                URLConnection connection = url.openConnection();\r\n                connection.connect();\r\n\r\n                // this will be useful so that you can show a typical 0-100% progress bar\r\n                int fileLength = connection.getContentLength();\r\n    \r\n                // download the file\r\n                InputStream input = new BufferedInputStream(connection.getInputStream());\r\n\r\n                String path = &quot;/sdcard/BarcodeScanner-debug.apk&quot; ;\r\n                OutputStream output = new FileOutputStream(path);\r\n    \r\n                byte data[] = new byte[1024];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    total += count;\r\n\r\n                    // publishing the progress....\r\n                    Bundle resultData = new Bundle();\r\n                    resultData.putInt(&quot;progress&quot; ,(int) (total * 100 / fileLength));\r\n                    receiver.send(UPDATE_PROGRESS, resultData);\r\n                    output.write(data, 0, count);\r\n                }\r\n\r\n                // close streams \r\n                output.flush();\r\n                output.close();\r\n                input.close();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Bundle resultData = new Bundle();\r\n            resultData.putInt(&quot;progress&quot; ,100);\r\n\r\n            receiver.send(UPDATE_PROGRESS, resultData);\r\n        }\r\n    }\r\n\r\nAdd the service to your manifest:\r\n\r\n    &lt;service android:name=&quot;.DownloadService&quot;/&gt;\r\n\r\nAnd the activity will look like this:\r\n\r\n    // initialize the progress dialog like in the first example\r\n\r\n    // this is how you fire the downloader\r\n    mProgressDialog.show();\r\n    Intent intent = new Intent(this, DownloadService.class);\r\n    intent.putExtra(&quot;url&quot;, &quot;url of the file to download&quot;);\r\n    intent.putExtra(&quot;receiver&quot;, new DownloadReceiver(new Handler()));\r\n    startService(intent);\r\n\r\nHere is were `ResultReceiver` comes to play:\r\n\r\n    private class DownloadReceiver extends ResultReceiver{\r\n\r\n        public DownloadReceiver(Handler handler) {\r\n            super(handler);\r\n        }\r\n\r\n        @Override\r\n        protected void onReceiveResult(int resultCode, Bundle resultData) {\r\n\r\n            super.onReceiveResult(resultCode, resultData);\r\n\r\n            if (resultCode == DownloadService.UPDATE_PROGRESS) {\r\n\r\n                int progress = resultData.getInt(&quot;progress&quot;); //get the progress\r\n                dialog.setProgress(progress);\r\n\r\n                if (progress == 100) {\r\n                    dialog.dismiss();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n## 2.1 Use Groundy library\r\n\r\n[**Groundy**][1] is a library that basically helps you run pieces of code in a background service, and it is based on the `ResultReceiver` concept shown above. This library is **deprecated** at the moment. This is how the **whole** code would look like:\r\n\r\nThe activity where you are showing the dialog...\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n        private ProgressDialog mProgressDialog;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n    \r\n            findViewById(R.id.btn_download).setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View view) {\r\n                    String url = ((EditText) findViewById(R.id.edit_url)).getText().toString().trim();\r\n                    Bundle extras = new Bundler().add(DownloadTask.PARAM_URL, url).build();\r\n                    Groundy.create(DownloadExample.this, DownloadTask.class)\r\n                            .receiver(mReceiver)\r\n                            .params(extras)\r\n                            .queue();\r\n    \r\n                    mProgressDialog = new ProgressDialog(MainActivity.this);\r\n                    mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n                    mProgressDialog.setCancelable(false);\r\n                    mProgressDialog.show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private ResultReceiver mReceiver = new ResultReceiver(new Handler()) {\r\n            @Override\r\n            protected void onReceiveResult(int resultCode, Bundle resultData) {\r\n                super.onReceiveResult(resultCode, resultData);\r\n                switch (resultCode) {\r\n                    case Groundy.STATUS_PROGRESS:\r\n                        mProgressDialog.setProgress(resultData.getInt(Groundy.KEY_PROGRESS));\r\n                        break;\r\n                    case Groundy.STATUS_FINISHED:\r\n                        Toast.makeText(DownloadExample.this, R.string.file_downloaded, Toast.LENGTH_LONG);\r\n                        mProgressDialog.dismiss();\r\n                        break;\r\n                    case Groundy.STATUS_ERROR:\r\n                        Toast.makeText(DownloadExample.this, resultData.getString(Groundy.KEY_ERROR), Toast.LENGTH_LONG).show();\r\n                        mProgressDialog.dismiss();\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nA `GroundyTask` implementation used by **Groundy** to download the file and show the progress:\r\n\r\n    public class DownloadTask extends GroundyTask {    \r\n        public static final String PARAM_URL = &quot;com.groundy.sample.param.url&quot;;\r\n\r\n        @Override\r\n        protected boolean doInBackground() {\r\n            try {\r\n                String url = getParameters().getString(PARAM_URL);\r\n                File dest = new File(getContext().getFilesDir(), new File(url).getName());\r\n                DownloadUtils.downloadFile(getContext(), url, dest, DownloadUtils.getDownloadListenerForTask(this));\r\n                return true;\r\n            } catch (Exception pokemon) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\nAnd just add this to the manifest:\r\n\r\n    &lt;service android:name=&quot;com.codeslap.groundy.GroundyService&quot;/&gt;\r\n\r\nIt couldn&#39;t be easier I think. Just grab the latest jar [from Github][2] and you are ready to go. Keep in mind that **Groundy**&#39;s main purpose is to make calls to external REST apis in a background service and post results to the UI with easily. If you are doing something like that in your app, it could be really useful.\r\n\r\n## 2.2 Use https://github.com/koush/ion\r\n\r\n3. Use `DownloadManager` class (`GingerBread` and newer only)\r\n=============================================================\r\n\r\nGingerBread brought a new feature, `DownloadManager`, which allows you to download files easily and delegate the hard work of handling threads, streams, etc. to the system.\r\n\r\nFirst, let&#39;s see a utility method:\r\n\r\n    /**\r\n     * @param context used to check the device version and DownloadManager information\r\n     * @return true if the download manager is available\r\n     */\r\n    public static boolean isDownloadManagerAvailable(Context context) {\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nMethod&#39;s name explains it all. Once you are sure `DownloadManager` is available, you can do something like this:\r\n\r\n    String url = &quot;url you want to download&quot;;\r\n    DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n    request.setDescription(&quot;Some descrition&quot;);\r\n    request.setTitle(&quot;Some title&quot;);\r\n    // in order for this if to run, you must use the android 3.2 to compile your app\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\r\n        request.allowScanningByMediaScanner();\r\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n    }\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;name-of-the-file.ext&quot;);\r\n\r\n    // get download service and enqueue file\r\n    DownloadManager manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n    manager.enqueue(request);\r\n\r\nDownload progress will be showing in the notification bar.\r\n\r\nFinal thoughts\r\n==============\r\n\r\nFirst and second methods are just the tip of the iceberg. There are lots of things you have to keep in mind if you want your app to be robust. Here is a brief list:\r\n\r\n- You must check whether user has an internet connection available\r\n- Make sure you have the right permissions (`INTERNET` and `WRITE_EXTERNAL_STORAGE`); also `ACCESS_NETWORK_STATE` if you want to check internet availability.\r\n- Make sure the directory were you are going to download files exist and has write permissions.\r\n- If download is too big you may want to implement a way to resume the download if previous attempts failed.\r\n- Users will be grateful if you allow them to interrupt the download.\r\n\r\nUnless you need detailed control of the download process, then consider using `DownloadManager` (3) because it already handles most of the items listed above.\r\n\r\nBut also consider that your needs may change. For example, `DownloadManager` [does no response caching][dmNoCache]. It will blindly download the same big file multiple times. There&#39;s no easy way to fix it after the fact. Where if you start with a basic `HttpURLConnection` (1, 2), then all you need is to add an `HttpResponseCache`. So the initial effort of learning the basic, standard tools can be a good investment.\r\n\r\n  [dmNoCache]: https://stackoverflow.com/questions/35191718\r\n\r\n\r\n&gt; This class was deprecated in API level 26. ProgressDialog is a modal\r\n&gt; dialog, which prevents the user from interacting with the app. Instead\r\n&gt; of using this class, you should use a progress indicator like\r\n&gt; ProgressBar, which can be embedded in your app&#39;s UI. Alternatively,\r\n&gt; you can use a notification to inform the user of the task&#39;s progress. For more details [Link][3]\r\n\r\n\r\n  [1]: http://github.com/casidiablo/groundy\r\n  [2]: https://github.com/casidiablo/groundy/downloads\r\n  [3]: https://developer.android.com/reference/android/app/ProgressDialog","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>There are many ways to download files. Following I will post most common ways; it is up to you to decide which method is better for your app.</p>\n<ol>\n<li>Use <code>AsyncTask</code> and show the download progress in a dialog\n=============================================================</li>\n</ol>\n<p>This method will allow you to execute some background processes and update the UI at the same time (in this case, we'll update a progress bar).</p>\n<p>Imports:</p>\n<pre><code>import android.os.PowerManager;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.FileOutputStream;\nimport java.net.HttpURLConnection;\n</code></pre>\n<p>This is an example code:</p>\n<pre><code>// declare the dialog as a member field of your activity\nProgressDialog mProgressDialog;\n\n// instantiate it within the onCreate method\nmProgressDialog = new ProgressDialog(YourActivity.this);\nmProgressDialog.setMessage(&quot;A message&quot;);\nmProgressDialog.setIndeterminate(true);\nmProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\nmProgressDialog.setCancelable(true);\n\n// execute this when the downloader must be fired\nfinal DownloadTask downloadTask = new DownloadTask(YourActivity.this);\ndownloadTask.execute(&quot;the url to the file you want to download&quot;);\n\nmProgressDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\n\n    @Override\n    public void onCancel(DialogInterface dialog) {\n        downloadTask.cancel(true); //cancel the task\n    }\n});\n</code></pre>\n<p>The <code>AsyncTask</code> will look like this:</p>\n<pre><code>// usually, subclasses of AsyncTask are declared inside the activity class.\n// that way, you can easily modify the UI thread from here\nprivate class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n\n    private Context context;\n    private PowerManager.WakeLock mWakeLock;\n\n    public DownloadTask(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    protected String doInBackground(String... sUrl) {\n        InputStream input = null;\n        OutputStream output = null;\n        HttpURLConnection connection = null;\n        try {\n            URL url = new URL(sUrl[0]);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.connect();\n\n            // expect HTTP 200 OK, so we don't mistakenly save error report\n            // instead of the file\n            if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                return &quot;Server returned HTTP &quot; + connection.getResponseCode()\n                        + &quot; &quot; + connection.getResponseMessage();\n            }\n\n            // this will be useful to display download percentage\n            // might be -1: server did not report the length\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            input = connection.getInputStream();\n            output = new FileOutputStream(&quot;/sdcard/file_name.extension&quot;);\n\n            byte data[] = new byte[4096];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                // allow canceling with back button\n                if (isCancelled()) {\n                    input.close();\n                    return null;\n                }\n                total += count;\n                // publishing the progress....\n                if (fileLength &gt; 0) // only if total length is known\n                    publishProgress((int) (total * 100 / fileLength));\n                output.write(data, 0, count);\n            }\n        } catch (Exception e) {\n            return e.toString();\n        } finally {\n            try {\n                if (output != null)\n                    output.close();\n                if (input != null)\n                    input.close();\n            } catch (IOException ignored) {\n            }\n\n            if (connection != null)\n                connection.disconnect();\n        }\n        return null;\n    }\n</code></pre>\n<p>The method above (<code>doInBackground</code>) runs always on a background thread. You shouldn't do any UI tasks there. On the other hand, the <code>onProgressUpdate</code> and <code>onPreExecute</code> run on the UI thread, so there you can change the progress bar:</p>\n<pre><code>    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // take CPU lock to prevent CPU from going off if the user \n        // presses the power button during download\n        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n        mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n             getClass().getName());\n        mWakeLock.acquire();\n        mProgressDialog.show();\n    }\n    \n    @Override\n    protected void onProgressUpdate(Integer... progress) {\n        super.onProgressUpdate(progress);\n        // if we get here, length is known, now set indeterminate to false\n        mProgressDialog.setIndeterminate(false);\n        mProgressDialog.setMax(100);\n        mProgressDialog.setProgress(progress[0]);\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        mWakeLock.release();\n        mProgressDialog.dismiss();\n        if (result != null)\n            Toast.makeText(context,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(context,&quot;File downloaded&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>For this to run, you need the WAKE_LOCK permission.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Download from Service\n========================</li>\n</ol>\n<p>The big question here is: <em>how do I update my activity from a service?</em>. In the next example we are going to use two classes you may not be aware of: <code>ResultReceiver</code> and <code>IntentService</code>. <code>ResultReceiver</code> is the one that will allow us to update our thread from a service; <code>IntentService</code> is a subclass of <code>Service</code> which spawns a thread to do background work from there (you should know that a <code>Service</code> runs actually in the same thread of your app; when you extends <code>Service</code>, you must manually spawn new threads to run CPU blocking operations).</p>\n<p>Download service can look like this:</p>\n<pre><code>public class DownloadService extends IntentService {\n    public static final int UPDATE_PROGRESS = 8344;\n\n    public DownloadService() {\n        super(&quot;DownloadService&quot;);\n    }\n    @Override\n    protected void onHandleIntent(Intent intent) {\n\n        String urlToDownload = intent.getStringExtra(&quot;url&quot;);\n        ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra(&quot;receiver&quot;);\n        try {\n            \n            //create url and connect\n            URL url = new URL(urlToDownload);\n            URLConnection connection = url.openConnection();\n            connection.connect();\n\n            // this will be useful so that you can show a typical 0-100% progress bar\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            InputStream input = new BufferedInputStream(connection.getInputStream());\n\n            String path = &quot;/sdcard/BarcodeScanner-debug.apk&quot; ;\n            OutputStream output = new FileOutputStream(path);\n\n            byte data[] = new byte[1024];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                total += count;\n\n                // publishing the progress....\n                Bundle resultData = new Bundle();\n                resultData.putInt(&quot;progress&quot; ,(int) (total * 100 / fileLength));\n                receiver.send(UPDATE_PROGRESS, resultData);\n                output.write(data, 0, count);\n            }\n\n            // close streams \n            output.flush();\n            output.close();\n            input.close();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        Bundle resultData = new Bundle();\n        resultData.putInt(&quot;progress&quot; ,100);\n\n        receiver.send(UPDATE_PROGRESS, resultData);\n    }\n}\n</code></pre>\n<p>Add the service to your manifest:</p>\n<pre><code>&lt;service android:name=&quot;.DownloadService&quot;/&gt;\n</code></pre>\n<p>And the activity will look like this:</p>\n<pre><code>// initialize the progress dialog like in the first example\n\n// this is how you fire the downloader\nmProgressDialog.show();\nIntent intent = new Intent(this, DownloadService.class);\nintent.putExtra(&quot;url&quot;, &quot;url of the file to download&quot;);\nintent.putExtra(&quot;receiver&quot;, new DownloadReceiver(new Handler()));\nstartService(intent);\n</code></pre>\n<p>Here is were <code>ResultReceiver</code> comes to play:</p>\n<pre><code>private class DownloadReceiver extends ResultReceiver{\n\n    public DownloadReceiver(Handler handler) {\n        super(handler);\n    }\n\n    @Override\n    protected void onReceiveResult(int resultCode, Bundle resultData) {\n\n        super.onReceiveResult(resultCode, resultData);\n\n        if (resultCode == DownloadService.UPDATE_PROGRESS) {\n\n            int progress = resultData.getInt(&quot;progress&quot;); //get the progress\n            dialog.setProgress(progress);\n\n            if (progress == 100) {\n                dialog.dismiss();\n            }\n        }\n    }\n}\n</code></pre>\n<h2>2.1 Use Groundy library</h2>\n<p><a href=\"http://github.com/casidiablo/groundy\" rel=\"noreferrer\"><strong>Groundy</strong></a> is a library that basically helps you run pieces of code in a background service, and it is based on the <code>ResultReceiver</code> concept shown above. This library is <strong>deprecated</strong> at the moment. This is how the <strong>whole</strong> code would look like:</p>\n<p>The activity where you are showing the dialog...</p>\n<pre><code>public class MainActivity extends Activity {\n\n    private ProgressDialog mProgressDialog;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        findViewById(R.id.btn_download).setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                String url = ((EditText) findViewById(R.id.edit_url)).getText().toString().trim();\n                Bundle extras = new Bundler().add(DownloadTask.PARAM_URL, url).build();\n                Groundy.create(DownloadExample.this, DownloadTask.class)\n                        .receiver(mReceiver)\n                        .params(extras)\n                        .queue();\n\n                mProgressDialog = new ProgressDialog(MainActivity.this);\n                mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n                mProgressDialog.setCancelable(false);\n                mProgressDialog.show();\n            }\n        });\n    }\n\n    private ResultReceiver mReceiver = new ResultReceiver(new Handler()) {\n        @Override\n        protected void onReceiveResult(int resultCode, Bundle resultData) {\n            super.onReceiveResult(resultCode, resultData);\n            switch (resultCode) {\n                case Groundy.STATUS_PROGRESS:\n                    mProgressDialog.setProgress(resultData.getInt(Groundy.KEY_PROGRESS));\n                    break;\n                case Groundy.STATUS_FINISHED:\n                    Toast.makeText(DownloadExample.this, R.string.file_downloaded, Toast.LENGTH_LONG);\n                    mProgressDialog.dismiss();\n                    break;\n                case Groundy.STATUS_ERROR:\n                    Toast.makeText(DownloadExample.this, resultData.getString(Groundy.KEY_ERROR), Toast.LENGTH_LONG).show();\n                    mProgressDialog.dismiss();\n                    break;\n            }\n        }\n    };\n}\n</code></pre>\n<p>A <code>GroundyTask</code> implementation used by <strong>Groundy</strong> to download the file and show the progress:</p>\n<pre><code>public class DownloadTask extends GroundyTask {    \n    public static final String PARAM_URL = &quot;com.groundy.sample.param.url&quot;;\n\n    @Override\n    protected boolean doInBackground() {\n        try {\n            String url = getParameters().getString(PARAM_URL);\n            File dest = new File(getContext().getFilesDir(), new File(url).getName());\n            DownloadUtils.downloadFile(getContext(), url, dest, DownloadUtils.getDownloadListenerForTask(this));\n            return true;\n        } catch (Exception pokemon) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>And just add this to the manifest:</p>\n<pre><code>&lt;service android:name=&quot;com.codeslap.groundy.GroundyService&quot;/&gt;\n</code></pre>\n<p>It couldn't be easier I think. Just grab the latest jar <a href=\"https://github.com/casidiablo/groundy/downloads\" rel=\"noreferrer\">from Github</a> and you are ready to go. Keep in mind that <strong>Groundy</strong>'s main purpose is to make calls to external REST apis in a background service and post results to the UI with easily. If you are doing something like that in your app, it could be really useful.</p>\n<h2>2.2 Use <a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">https://github.com/koush/ion</a></h2>\n<ol start=\"3\">\n<li>Use <code>DownloadManager</code> class (<code>GingerBread</code> and newer only)\n=============================================================</li>\n</ol>\n<p>GingerBread brought a new feature, <code>DownloadManager</code>, which allows you to download files easily and delegate the hard work of handling threads, streams, etc. to the system.</p>\n<p>First, let's see a utility method:</p>\n<pre><code>/**\n * @param context used to check the device version and DownloadManager information\n * @return true if the download manager is available\n */\npublic static boolean isDownloadManagerAvailable(Context context) {\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Method's name explains it all. Once you are sure <code>DownloadManager</code> is available, you can do something like this:</p>\n<pre><code>String url = &quot;url you want to download&quot;;\nDownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\nrequest.setDescription(&quot;Some descrition&quot;);\nrequest.setTitle(&quot;Some title&quot;);\n// in order for this if to run, you must use the android 3.2 to compile your app\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {\n    request.allowScanningByMediaScanner();\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n}\nrequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, &quot;name-of-the-file.ext&quot;);\n\n// get download service and enqueue file\nDownloadManager manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\nmanager.enqueue(request);\n</code></pre>\n<p>Download progress will be showing in the notification bar.</p>\n<h1>Final thoughts</h1>\n<p>First and second methods are just the tip of the iceberg. There are lots of things you have to keep in mind if you want your app to be robust. Here is a brief list:</p>\n<ul>\n<li>You must check whether user has an internet connection available</li>\n<li>Make sure you have the right permissions (<code>INTERNET</code> and <code>WRITE_EXTERNAL_STORAGE</code>); also <code>ACCESS_NETWORK_STATE</code> if you want to check internet availability.</li>\n<li>Make sure the directory were you are going to download files exist and has write permissions.</li>\n<li>If download is too big you may want to implement a way to resume the download if previous attempts failed.</li>\n<li>Users will be grateful if you allow them to interrupt the download.</li>\n</ul>\n<p>Unless you need detailed control of the download process, then consider using <code>DownloadManager</code> (3) because it already handles most of the items listed above.</p>\n<p>But also consider that your needs may change. For example, <code>DownloadManager</code> <a href=\"https://stackoverflow.com/questions/35191718\">does no response caching</a>. It will blindly download the same big file multiple times. There's no easy way to fix it after the fact. Where if you start with a basic <code>HttpURLConnection</code> (1, 2), then all you need is to add an <code>HttpResponseCache</code>. So the initial effort of learning the basic, standard tools can be a good investment.</p>\n<blockquote>\n<p>This class was deprecated in API level 26. ProgressDialog is a modal\ndialog, which prevents the user from interacting with the app. Instead\nof using this class, you should use a progress indicator like\nProgressBar, which can be embedded in your app's UI. Alternatively,\nyou can use a notification to inform the user of the task's progress. For more details <a href=\"https://developer.android.com/reference/android/app/ProgressDialog\" rel=\"noreferrer\">Link</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":797594,"reputation":1409,"user_id":902632,"display_name":"Mnightmare"},"down_vote_count":2,"up_vote_count":115,"is_accepted":false,"score":113,"last_activity_date":1429911744,"creation_date":1314628490,"answer_id":7231565,"question_id":3028306,"body_markdown":"Don&#39;t forget to add permissions to your manifest file if you&#39;re gonna be downloading stuff from the internet!\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.helloandroid&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot;&gt;\r\n\r\n            &lt;uses-sdk android:minSdkVersion=&quot;10&quot; /&gt;\r\n        \r\n            &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n        \r\n            &lt;application \r\n                android:icon=&quot;@drawable/icon&quot; \r\n                android:label=&quot;@string/app_name&quot; \r\n                android:debuggable=&quot;true&quot;&gt;\r\n\r\n            &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Don't forget to add permissions to your manifest file if you're gonna be downloading stuff from the internet!</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.helloandroid\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\"&gt;\n\n        &lt;uses-sdk android:minSdkVersion=\"10\" /&gt;\n\n        &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"&gt;&lt;/uses-permission&gt;\n        &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"&gt;&lt;/uses-permission&gt;\n\n        &lt;application \n            android:icon=\"@drawable/icon\" \n            android:label=\"@string/app_name\" \n            android:debuggable=\"true\"&gt;\n\n        &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483178,"reputation":3024,"user_id":898057,"accept_rate":76,"display_name":"sheetal"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1482945273,"creation_date":1339510918,"answer_id":10998649,"question_id":3028306,"body_markdown":"Yes the code above will work .But if you are updating your `progressbar` in `onProgressUpdate` of `Asynctask`  and you press back button or finish your activity `AsyncTask` looses its track with your UI .And when you go back to your activity, even if  download is running in background you will see no update on progressbar. So on `OnResume()` try to run a thread like `runOnUIThread` with   a timer task that updates ur `progressbar` with values updating from the `AsyncTask` running background.\r\n\r\n\r\n    private void updateProgressBar(){\r\n        Runnable runnable = new updateProgress();\r\n\t\tbackground = new Thread(runnable);\r\n\t\tbackground.start();\r\n\t}\r\n\r\n    public class updateProgress implements Runnable {\r\n        public void run() {\r\n            while(Thread.currentThread()==background)\r\n\t\t\t\t//while (!Thread.currentThread().isInterrupted()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000); \r\n\t\t\t\t\tMessage msg = new Message();\r\n\t\t\t\t\tprogress = getProgressPercentage();        \r\n\t\t\t\t\thandler.sendMessage(msg);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\t} catch (Exception e) {\r\n\t        }\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Handler handler = new Handler(){\r\n\t\t@Override\r\n\t\tpublic void handleMessage(Message msg) {\r\n\t\t\tprogress.setProgress(msg.what);\r\n\t\t}\r\n\t};\r\n\r\nDon&#39;t forget to **Destroy** the thread when ur activity is not visible.\r\n\r\n    private void destroyRunningThreads() {\r\n\t\tif (background != null) {\r\n            background.interrupt();\r\n\t\t\tbackground=null;\r\n        }\r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Yes the code above will work .But if you are updating your <code>progressbar</code> in <code>onProgressUpdate</code> of <code>Asynctask</code>  and you press back button or finish your activity <code>AsyncTask</code> looses its track with your UI .And when you go back to your activity, even if  download is running in background you will see no update on progressbar. So on <code>OnResume()</code> try to run a thread like <code>runOnUIThread</code> with   a timer task that updates ur <code>progressbar</code> with values updating from the <code>AsyncTask</code> running background.</p>\n\n<pre><code>private void updateProgressBar(){\n    Runnable runnable = new updateProgress();\n    background = new Thread(runnable);\n    background.start();\n}\n\npublic class updateProgress implements Runnable {\n    public void run() {\n        while(Thread.currentThread()==background)\n            //while (!Thread.currentThread().isInterrupted()) {\n            try {\n                Thread.sleep(1000); \n                Message msg = new Message();\n                progress = getProgressPercentage();        \n                handler.sendMessage(msg);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            } catch (Exception e) {\n        }\n    }\n}\n\nprivate Handler handler = new Handler(){\n    @Override\n    public void handleMessage(Message msg) {\n        progress.setProgress(msg.what);\n    }\n};\n</code></pre>\n\n<p>Don't forget to <strong>Destroy</strong> the thread when ur activity is not visible.</p>\n\n<pre><code>private void destroyRunningThreads() {\n    if (background != null) {\n        background.interrupt();\n        background=null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":348658,"reputation":2994,"user_id":683482,"accept_rate":77,"display_name":"Jeff Bootsholz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401441420,"creation_date":1372785068,"answer_id":17431725,"question_id":3028306,"body_markdown":"My personal advice is to use **Progress Dialog** and build up before execution , or initiate at `OnPreExecute()` , publish progress often if you use horizontal style of progress bar of the progress dialog. The remaining part is to optimize the algorithm of `doInBackground`.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>My personal advice is to use <strong>Progress Dialog</strong> and build up before execution , or initiate at <code>OnPreExecute()</code> , publish progress often if you use horizontal style of progress bar of the progress dialog. The remaining part is to optimize the algorithm of <code>doInBackground</code>.</p>\n"},{"tags":[],"owner":{"account_id":2441308,"reputation":325,"user_id":2129757,"accept_rate":38,"display_name":"ENSATE"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1391991424,"creation_date":1391991424,"answer_id":21667032,"question_id":3028306,"body_markdown":"Do not forget to replace &quot;/sdcard...&quot; by ***new File***(&quot;/mnt/sdcard/...&quot;) otherwise you will get a **FileNotFoundException**","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Do not forget to replace \"/sdcard...\" by <strong><em>new File</em></strong>(\"/mnt/sdcard/...\") otherwise you will get a <strong>FileNotFoundException</strong></p>\n"},{"tags":[],"owner":{"account_id":1356368,"reputation":3757,"user_id":1294681,"accept_rate":43,"display_name":"VinceStyling"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1509361372,"creation_date":1399478174,"answer_id":23522645,"question_id":3028306,"body_markdown":"I&#39;d recommend you to use my Project [Netroid](https://github.com/vince-styling/Netroid), It&#39;s based on [Volley](https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial). I have added some features to it such as multi-events callback, file download management. This could be of some help.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I'd recommend you to use my Project <a href=\"https://github.com/vince-styling/Netroid\" rel=\"noreferrer\">Netroid</a>, It's based on <a href=\"https://www.captechconsulting.com/blog/raymond-robinson/google-io-2013-volley-image-cache-tutorial\" rel=\"noreferrer\">Volley</a>. I have added some features to it such as multi-events callback, file download management. This could be of some help.</p>\n"},{"tags":[],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545649706,"creation_date":1411134102,"answer_id":25935392,"question_id":3028306,"body_markdown":"While I was starting to learn android development, I had learnt that `ProgressDialog` is the way to go. There is the `setProgress` method of `ProgressDialog` which can be invoked to update the progress level as the file gets downloaded.\r\n\r\nThe best I have seen in many apps is that they customize this progress dialog&#39;s attributes to give a better look and feel to the progress dialog than the stock version. Good to keeping the user engaged with some animation of like frog, elephant or cute cats/puppies. Any animation with in the progress dialog attracts users and they don&#39;t feel like being kept waiting for long.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.javaexperience.com/show-progress-bar-when-downloading-a-file-in-android/","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>While I was starting to learn android development, I had learnt that <code>ProgressDialog</code> is the way to go. There is the <code>setProgress</code> method of <code>ProgressDialog</code> which can be invoked to update the progress level as the file gets downloaded.</p>\n\n<p>The best I have seen in many apps is that they customize this progress dialog's attributes to give a better look and feel to the progress dialog than the stock version. Good to keeping the user engaged with some animation of like frog, elephant or cute cats/puppies. Any animation with in the progress dialog attracts users and they don't feel like being kept waiting for long.</p>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482945306,"creation_date":1430940448,"answer_id":30085834,"question_id":3028306,"body_markdown":"Use Android Query library, very cool indeed.You can change it to use `ProgressDialog` as you see in other examples, this one will show progress view from your layout and hide it after completion.\r\n\r\n    File target = new File(new File(Environment.getExternalStorageDirectory(), &quot;ApplicationName&quot;), &quot;tmp.pdf&quot;);\r\n    new AQuery(this).progress(R.id.progress_view).download(_competition.qualificationScoreCardsPdf(), target, new AjaxCallback&lt;File&gt;() {\r\n        public void callback(String url, File file, AjaxStatus status) {\r\n            if (file != null) {\r\n                // do something with file  \r\n            } \r\n        }\r\n    });","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>Use Android Query library, very cool indeed.You can change it to use <code>ProgressDialog</code> as you see in other examples, this one will show progress view from your layout and hide it after completion.</p>\n\n<pre><code>File target = new File(new File(Environment.getExternalStorageDirectory(), \"ApplicationName\"), \"tmp.pdf\");\nnew AQuery(this).progress(R.id.progress_view).download(_competition.qualificationScoreCardsPdf(), target, new AjaxCallback&lt;File&gt;() {\n    public void callback(String url, File file, AjaxStatus status) {\n        if (file != null) {\n            // do something with file  \n        } \n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2310980,"reputation":203,"user_id":2029110,"display_name":"The Syrian"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1482945369,"creation_date":1432164575,"answer_id":30362066,"question_id":3028306,"body_markdown":"I have modified `AsyncTask` class to handle creation of `progressDialog` at the same context .I think following code will be more reusable.\r\n(it can be called from any activity just pass context,target File,dialog message)\r\n\r\n    public static class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n        private ProgressDialog mPDialog;\r\n        private Context mContext;\r\n        private PowerManager.WakeLock mWakeLock;\r\n        private File mTargetFile;\r\n        //Constructor parameters :\r\n        // @context (current Activity)\r\n        // @targetFile (File object to write,it will be overwritten if exist)\r\n        // @dialogMessage (message of the ProgresDialog)\r\n        public DownloadTask(Context context,File targetFile,String dialogMessage) {\r\n            this.mContext = context;\r\n            this.mTargetFile = targetFile;\r\n            mPDialog = new ProgressDialog(context);\r\n\r\n            mPDialog.setMessage(dialogMessage);\r\n            mPDialog.setIndeterminate(true);\r\n            mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\r\n            mPDialog.setCancelable(true);\r\n            // reference to instance to use inside listener\r\n            final DownloadTask me = this;\r\n            mPDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\r\n                @Override\r\n                public void onCancel(DialogInterface dialog) {\r\n                    me.cancel(true);\r\n                }\r\n            });\r\n            Log.i(&quot;DownloadTask&quot;,&quot;Constructor done&quot;);\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... sUrl) {\r\n            InputStream input = null;\r\n            OutputStream output = null;\r\n            HttpURLConnection connection = null;\r\n            try {\r\n                URL url = new URL(sUrl[0]);\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.connect();\r\n\r\n                // expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n                // instead of the file\r\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n                            + &quot; &quot; + connection.getResponseMessage();\r\n                }\r\n                Log.i(&quot;DownloadTask&quot;,&quot;Response &quot; + connection.getResponseCode());\r\n\r\n                // this will be useful to display download percentage\r\n                // might be -1: server did not report the length\r\n                int fileLength = connection.getContentLength();\r\n\r\n                // download the file\r\n                input = connection.getInputStream();\r\n                output = new FileOutputStream(mTargetFile,false);\r\n\r\n                byte data[] = new byte[4096];\r\n                long total = 0;\r\n                int count;\r\n                while ((count = input.read(data)) != -1) {\r\n                    // allow canceling with back button\r\n                    if (isCancelled()) {\r\n                        Log.i(&quot;DownloadTask&quot;,&quot;Cancelled&quot;);\r\n                        input.close();\r\n                        return null;\r\n                    }\r\n                    total += count;\r\n                    // publishing the progress....\r\n                    if (fileLength &gt; 0) // only if total length is known\r\n                        publishProgress((int) (total * 100 / fileLength));\r\n                    output.write(data, 0, count);\r\n                }\r\n            } catch (Exception e) {\r\n                return e.toString();\r\n            } finally {\r\n                try {\r\n                    if (output != null)\r\n                        output.close();\r\n                    if (input != null)\r\n                        input.close();\r\n                } catch (IOException ignored) {\r\n                }\r\n\r\n                if (connection != null)\r\n                    connection.disconnect();\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            // take CPU lock to prevent CPU from going off if the user\r\n            // presses the power button during download\r\n            PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\r\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\r\n                    getClass().getName());\r\n            mWakeLock.acquire();\r\n\r\n            mPDialog.show();\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onProgressUpdate(Integer... progress) {\r\n            super.onProgressUpdate(progress);\r\n            // if we get here, length is known, now set indeterminate to false\r\n            mPDialog.setIndeterminate(false);\r\n            mPDialog.setMax(100);\r\n            mPDialog.setProgress(progress[0]);\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            Log.i(&quot;DownloadTask&quot;, &quot;Work Done! PostExecute&quot;);\r\n            mWakeLock.release();\r\n            mPDialog.dismiss();\r\n            if (result != null)\r\n                Toast.makeText(mContext,&quot;Download error: &quot;+result, Toast.LENGTH_LONG).show();\r\n            else\r\n                Toast.makeText(mContext,&quot;File Downloaded&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n ","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I have modified <code>AsyncTask</code> class to handle creation of <code>progressDialog</code> at the same context .I think following code will be more reusable.\n(it can be called from any activity just pass context,target File,dialog message)</p>\n\n<pre><code>public static class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n    private ProgressDialog mPDialog;\n    private Context mContext;\n    private PowerManager.WakeLock mWakeLock;\n    private File mTargetFile;\n    //Constructor parameters :\n    // @context (current Activity)\n    // @targetFile (File object to write,it will be overwritten if exist)\n    // @dialogMessage (message of the ProgresDialog)\n    public DownloadTask(Context context,File targetFile,String dialogMessage) {\n        this.mContext = context;\n        this.mTargetFile = targetFile;\n        mPDialog = new ProgressDialog(context);\n\n        mPDialog.setMessage(dialogMessage);\n        mPDialog.setIndeterminate(true);\n        mPDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n        mPDialog.setCancelable(true);\n        // reference to instance to use inside listener\n        final DownloadTask me = this;\n        mPDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {\n            @Override\n            public void onCancel(DialogInterface dialog) {\n                me.cancel(true);\n            }\n        });\n        Log.i(\"DownloadTask\",\"Constructor done\");\n    }\n\n    @Override\n    protected String doInBackground(String... sUrl) {\n        InputStream input = null;\n        OutputStream output = null;\n        HttpURLConnection connection = null;\n        try {\n            URL url = new URL(sUrl[0]);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.connect();\n\n            // expect HTTP 200 OK, so we don't mistakenly save error report\n            // instead of the file\n            if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                return \"Server returned HTTP \" + connection.getResponseCode()\n                        + \" \" + connection.getResponseMessage();\n            }\n            Log.i(\"DownloadTask\",\"Response \" + connection.getResponseCode());\n\n            // this will be useful to display download percentage\n            // might be -1: server did not report the length\n            int fileLength = connection.getContentLength();\n\n            // download the file\n            input = connection.getInputStream();\n            output = new FileOutputStream(mTargetFile,false);\n\n            byte data[] = new byte[4096];\n            long total = 0;\n            int count;\n            while ((count = input.read(data)) != -1) {\n                // allow canceling with back button\n                if (isCancelled()) {\n                    Log.i(\"DownloadTask\",\"Cancelled\");\n                    input.close();\n                    return null;\n                }\n                total += count;\n                // publishing the progress....\n                if (fileLength &gt; 0) // only if total length is known\n                    publishProgress((int) (total * 100 / fileLength));\n                output.write(data, 0, count);\n            }\n        } catch (Exception e) {\n            return e.toString();\n        } finally {\n            try {\n                if (output != null)\n                    output.close();\n                if (input != null)\n                    input.close();\n            } catch (IOException ignored) {\n            }\n\n            if (connection != null)\n                connection.disconnect();\n        }\n        return null;\n    }\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // take CPU lock to prevent CPU from going off if the user\n        // presses the power button during download\n        PowerManager pm = (PowerManager) mContext.getSystemService(Context.POWER_SERVICE);\n        mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,\n                getClass().getName());\n        mWakeLock.acquire();\n\n        mPDialog.show();\n\n    }\n\n    @Override\n    protected void onProgressUpdate(Integer... progress) {\n        super.onProgressUpdate(progress);\n        // if we get here, length is known, now set indeterminate to false\n        mPDialog.setIndeterminate(false);\n        mPDialog.setMax(100);\n        mPDialog.setProgress(progress[0]);\n\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        Log.i(\"DownloadTask\", \"Work Done! PostExecute\");\n        mWakeLock.release();\n        mPDialog.dismiss();\n        if (result != null)\n            Toast.makeText(mContext,\"Download error: \"+result, Toast.LENGTH_LONG).show();\n        else\n            Toast.makeText(mContext,\"File Downloaded\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1947548,"reputation":940,"user_id":1752341,"display_name":"vishnuc156"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475492811,"creation_date":1475492811,"answer_id":39830148,"question_id":3028306,"body_markdown":" **Permissions**\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n      &lt;uses-permission \r\n       android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nUsing **HttpURLConnection**\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n \r\n    import android.app.Activity;\r\n    import android.app.Dialog;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.view.Window;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n \r\n    public class DownloadFileUseHttpURLConnection extends Activity {\r\n     \r\n    ProgressBar pb;\r\n    Dialog dialog;\r\n    int downloadedSize = 0;\r\n    int totalSize = 0;\r\n    TextView cur_val;\r\n    String dwnload_file_path =  \r\n    &quot;http://coderzheaven.com/sample_folder/sample_file.png&quot;;\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n       \r\n        Button b = (Button) findViewById(R.id.b1);\r\n        b.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                 showProgress(dwnload_file_path);\r\n                     \r\n                    new Thread(new Runnable() {\r\n                        public void run() {\r\n                             downloadFile();\r\n                        }\r\n                      }).start();\r\n            }\r\n        });\r\n    }\r\n         \r\n    void downloadFile(){\r\n         \r\n        try {\r\n            URL url = new URL(dwnload_file_path);\r\n            HttpURLConnection urlConnection = (HttpURLConnection)   \r\n     url.openConnection();\r\n \r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.setDoOutput(true);\r\n \r\n            //connect\r\n            urlConnection.connect();\r\n \r\n            //set the path where we want to save the file           \r\n            File SDCardRoot = Environment.getExternalStorageDirectory(); \r\n            //create a new file, to save the downloaded file \r\n            File file = new File(SDCardRoot,&quot;downloaded_file.png&quot;);\r\n  \r\n            FileOutputStream fileOutput = new FileOutputStream(file);\r\n \r\n            //Stream used for reading the data from the internet\r\n            InputStream inputStream = urlConnection.getInputStream();\r\n \r\n            //this is the total size of the file which we are downloading\r\n            totalSize = urlConnection.getContentLength();\r\n \r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    pb.setMax(totalSize);\r\n                }               \r\n            });\r\n             \r\n            //create a buffer...\r\n            byte[] buffer = new byte[1024];\r\n            int bufferLength = 0;\r\n \r\n            while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\r\n                fileOutput.write(buffer, 0, bufferLength);\r\n                downloadedSize += bufferLength;\r\n                // update the progressbar //\r\n                runOnUiThread(new Runnable() {\r\n                    public void run() {\r\n                        pb.setProgress(downloadedSize);\r\n                        float per = ((float)downloadedSize/totalSize) *     \r\n                        100;\r\n                        cur_val.setText(&quot;Downloaded &quot; + downloadedSize +  \r\n\r\n                        &quot;KB / &quot; + totalSize + &quot;KB (&quot; + (int)per + &quot;%)&quot; );\r\n                    }\r\n                });\r\n            }\r\n            //close the output stream when complete //\r\n            fileOutput.close();\r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    // pb.dismiss(); // if you want close it..\r\n                }\r\n            });         \r\n         \r\n        } catch (final MalformedURLException e) {\r\n            showError(&quot;Error : MalformedURLException &quot; + e);        \r\n            e.printStackTrace();\r\n        } catch (final IOException e) {\r\n            showError(&quot;Error : IOException &quot; + e);          \r\n            e.printStackTrace();\r\n        }\r\n        catch (final Exception e) {\r\n            showError(&quot;Error : Please check your internet connection &quot; +  \r\n    e);\r\n        }       \r\n    }\r\n     \r\n    void showError(final String err){\r\n        runOnUiThread(new Runnable() {\r\n            public void run() {\r\n                Toast.makeText(DownloadFileDemo1.this, err,  \r\n          Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n     \r\n    void showProgress(String file_path){\r\n        dialog = new Dialog(DownloadFileDemo1.this);\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        dialog.setContentView(R.layout.myprogressdialog);\r\n        dialog.setTitle(&quot;Download Progress&quot;);\r\n \r\n        TextView text = (TextView) dialog.findViewById(R.id.tv1);\r\n        text.setText(&quot;Downloading file from ... &quot; + file_path);\r\n        cur_val = (TextView) dialog.findViewById(R.id.cur_pg_tv);\r\n        cur_val.setText(&quot;Starting download...&quot;);\r\n        dialog.show();\r\n         \r\n         pb = (ProgressBar)dialog.findViewById(R.id.progress_bar);\r\n         pb.setProgress(0);\r\n                pb.setProgressDrawable(\r\n          getResources().getDrawable(R.drawable.green_progress));  \r\n      }\r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p><strong>Permissions</strong></p>\n\n<pre><code>  &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n  &lt;uses-permission \n   android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>Using <strong>HttpURLConnection</strong></p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport android.app.Activity;\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class DownloadFileUseHttpURLConnection extends Activity {\n\nProgressBar pb;\nDialog dialog;\nint downloadedSize = 0;\nint totalSize = 0;\nTextView cur_val;\nString dwnload_file_path =  \n\"http://coderzheaven.com/sample_folder/sample_file.png\";\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    Button b = (Button) findViewById(R.id.b1);\n    b.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n             showProgress(dwnload_file_path);\n\n                new Thread(new Runnable() {\n                    public void run() {\n                         downloadFile();\n                    }\n                  }).start();\n        }\n    });\n}\n\nvoid downloadFile(){\n\n    try {\n        URL url = new URL(dwnload_file_path);\n        HttpURLConnection urlConnection = (HttpURLConnection)   \n url.openConnection();\n\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.setDoOutput(true);\n\n        //connect\n        urlConnection.connect();\n\n        //set the path where we want to save the file           \n        File SDCardRoot = Environment.getExternalStorageDirectory(); \n        //create a new file, to save the downloaded file \n        File file = new File(SDCardRoot,\"downloaded_file.png\");\n\n        FileOutputStream fileOutput = new FileOutputStream(file);\n\n        //Stream used for reading the data from the internet\n        InputStream inputStream = urlConnection.getInputStream();\n\n        //this is the total size of the file which we are downloading\n        totalSize = urlConnection.getContentLength();\n\n        runOnUiThread(new Runnable() {\n            public void run() {\n                pb.setMax(totalSize);\n            }               \n        });\n\n        //create a buffer...\n        byte[] buffer = new byte[1024];\n        int bufferLength = 0;\n\n        while ( (bufferLength = inputStream.read(buffer)) &gt; 0 ) {\n            fileOutput.write(buffer, 0, bufferLength);\n            downloadedSize += bufferLength;\n            // update the progressbar //\n            runOnUiThread(new Runnable() {\n                public void run() {\n                    pb.setProgress(downloadedSize);\n                    float per = ((float)downloadedSize/totalSize) *     \n                    100;\n                    cur_val.setText(\"Downloaded \" + downloadedSize +  \n\n                    \"KB / \" + totalSize + \"KB (\" + (int)per + \"%)\" );\n                }\n            });\n        }\n        //close the output stream when complete //\n        fileOutput.close();\n        runOnUiThread(new Runnable() {\n            public void run() {\n                // pb.dismiss(); // if you want close it..\n            }\n        });         \n\n    } catch (final MalformedURLException e) {\n        showError(\"Error : MalformedURLException \" + e);        \n        e.printStackTrace();\n    } catch (final IOException e) {\n        showError(\"Error : IOException \" + e);          \n        e.printStackTrace();\n    }\n    catch (final Exception e) {\n        showError(\"Error : Please check your internet connection \" +  \ne);\n    }       \n}\n\nvoid showError(final String err){\n    runOnUiThread(new Runnable() {\n        public void run() {\n            Toast.makeText(DownloadFileDemo1.this, err,  \n      Toast.LENGTH_LONG).show();\n        }\n    });\n}\n\nvoid showProgress(String file_path){\n    dialog = new Dialog(DownloadFileDemo1.this);\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setContentView(R.layout.myprogressdialog);\n    dialog.setTitle(\"Download Progress\");\n\n    TextView text = (TextView) dialog.findViewById(R.id.tv1);\n    text.setText(\"Downloading file from ... \" + file_path);\n    cur_val = (TextView) dialog.findViewById(R.id.cur_pg_tv);\n    cur_val.setText(\"Starting download...\");\n    dialog.show();\n\n     pb = (ProgressBar)dialog.findViewById(R.id.progress_bar);\n     pb.setProgress(0);\n            pb.setProgressDrawable(\n      getResources().getDrawable(R.drawable.green_progress));  \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503945582,"creation_date":1503945250,"answer_id":45925335,"question_id":3028306,"body_markdown":"I am adding another answer for other solution I am using now because Android Query is so big and unmaintained to stay healthy. So i moved to this https://github.com/amitshekhariitbhu/Fast-Android-Networking.\r\n\r\n\r\n        AndroidNetworking.download(url,dirPath,fileName).build()\r\n          .setDownloadProgressListener(new DownloadProgressListener() {\r\n            public void onProgress(long bytesDownloaded, long totalBytes) {\r\n                bar.setMax((int) totalBytes);\r\n                bar.setProgress((int) bytesDownloaded);\r\n            }\r\n        }).startDownload(new DownloadListener() {\r\n            public void onDownloadComplete() {\r\n                ...\r\n            }\r\n\r\n            public void onError(ANError error) {\r\n                ...\r\n            }\r\n        });","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I am adding another answer for other solution I am using now because Android Query is so big and unmaintained to stay healthy. So i moved to this <a href=\"https://github.com/amitshekhariitbhu/Fast-Android-Networking\" rel=\"nofollow noreferrer\">https://github.com/amitshekhariitbhu/Fast-Android-Networking</a>.</p>\n\n<pre><code>    AndroidNetworking.download(url,dirPath,fileName).build()\n      .setDownloadProgressListener(new DownloadProgressListener() {\n        public void onProgress(long bytesDownloaded, long totalBytes) {\n            bar.setMax((int) totalBytes);\n            bar.setProgress((int) bytesDownloaded);\n        }\n    }).startDownload(new DownloadListener() {\n        public void onDownloadComplete() {\n            ...\n        }\n\n        public void onError(ANError error) {\n            ...\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15401425,"reputation":424,"user_id":11110785,"display_name":"Fahad Alotaibi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579523931,"creation_date":1579003266,"answer_id":59733386,"question_id":3028306,"body_markdown":"You can observer the progress of the download manager using LiveData and coroutines, **see the gist below**\r\n\r\nhttps://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e\r\n\r\n   \r\n\r\n    data class DownloadItem(val bytesDownloadedSoFar: Long = -1, val totalSizeBytes: Long = -1, val status: Int)\r\n\r\n    class DownloadProgressLiveData(private val application: Application, private val requestId: Long) : LiveData&lt;DownloadItem&gt;(), CoroutineScope {\r\n    \r\n        private val downloadManager by lazy {\r\n            application.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\r\n        }\r\n    \r\n        private val job = Job()\r\n    \r\n        override val coroutineContext: CoroutineContext\r\n            get() = Dispatchers.IO + job\r\n    \r\n        override fun onActive() {\r\n            super.onActive()\r\n            launch {\r\n                while (isActive) {\r\n                    val query = DownloadManager.Query().setFilterById(requestId)\r\n                    val cursor = downloadManager.query(query)\r\n                    if (cursor.moveToFirst()) {\r\n                        val status = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\r\n                        Timber.d(&quot;Status $status&quot;)\r\n                        when (status) {\r\n                            DownloadManager.STATUS_SUCCESSFUL,\r\n                            DownloadManager.STATUS_PENDING,\r\n                            DownloadManager.STATUS_FAILED,\r\n                            DownloadManager.STATUS_PAUSED -&gt; postValue(DownloadItem(status = status))\r\n                            else -&gt; {\r\n                                val bytesDownloadedSoFar = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR))\r\n                                val totalSizeBytes = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES))\r\n                                postValue(DownloadItem(bytesDownloadedSoFar.toLong(), totalSizeBytes.toLong(), status))\r\n                            }\r\n                        }\r\n                        if (status == DownloadManager.STATUS_SUCCESSFUL || status == DownloadManager.STATUS_FAILED)\r\n                            cancel()\r\n                    } else {\r\n                        postValue(DownloadItem(status = DownloadManager.STATUS_FAILED))\r\n                        cancel()\r\n                    }\r\n                    cursor.close()\r\n                    delay(300)\r\n                }\r\n            }\r\n        }\r\n    \r\n        override fun onInactive() {\r\n            super.onInactive()\r\n            job.cancel()\r\n        }\r\n    \r\n    }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>You can observer the progress of the download manager using LiveData and coroutines, <strong>see the gist below</strong></p>\n\n<p><a href=\"https://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e\" rel=\"nofollow noreferrer\">https://gist.github.com/FhdAlotaibi/678eb1f4fa94475daf74ac491874fc0e</a></p>\n\n<pre><code>data class DownloadItem(val bytesDownloadedSoFar: Long = -1, val totalSizeBytes: Long = -1, val status: Int)\n\nclass DownloadProgressLiveData(private val application: Application, private val requestId: Long) : LiveData&lt;DownloadItem&gt;(), CoroutineScope {\n\n    private val downloadManager by lazy {\n        application.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n    }\n\n    private val job = Job()\n\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.IO + job\n\n    override fun onActive() {\n        super.onActive()\n        launch {\n            while (isActive) {\n                val query = DownloadManager.Query().setFilterById(requestId)\n                val cursor = downloadManager.query(query)\n                if (cursor.moveToFirst()) {\n                    val status = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_STATUS))\n                    Timber.d(\"Status $status\")\n                    when (status) {\n                        DownloadManager.STATUS_SUCCESSFUL,\n                        DownloadManager.STATUS_PENDING,\n                        DownloadManager.STATUS_FAILED,\n                        DownloadManager.STATUS_PAUSED -&gt; postValue(DownloadItem(status = status))\n                        else -&gt; {\n                            val bytesDownloadedSoFar = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR))\n                            val totalSizeBytes = cursor.getInt(cursor.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES))\n                            postValue(DownloadItem(bytesDownloadedSoFar.toLong(), totalSizeBytes.toLong(), status))\n                        }\n                    }\n                    if (status == DownloadManager.STATUS_SUCCESSFUL || status == DownloadManager.STATUS_FAILED)\n                        cancel()\n                } else {\n                    postValue(DownloadItem(status = DownloadManager.STATUS_FAILED))\n                    cancel()\n                }\n                cursor.close()\n                delay(300)\n            }\n        }\n    }\n\n    override fun onInactive() {\n        super.onInactive()\n        job.cancel()\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583341666,"creation_date":1583341666,"answer_id":60531277,"question_id":3028306,"body_markdown":"**Important**\r\n\r\n**AsyncTask is deprecated in Android 11.**\r\n\r\nFor more information please checkout following posts\r\n\r\n- https://stackoverflow.com/q/58767733/9640177\r\n- https://developer.android.com/reference/android/os/AsyncTask\r\n\r\nProbably should move to concorency Framework as suggested by google\r\n","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p><strong>Important</strong></p>\n\n<p><strong>AsyncTask is deprecated in Android 11.</strong></p>\n\n<p>For more information please checkout following posts</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/58767733/9640177\">Android AsyncTask API deprecating in Android 11.What are the alternatives?</a></li>\n<li><a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/AsyncTask</a></li>\n</ul>\n\n<p>Probably should move to concorency Framework as suggested by google</p>\n"},{"tags":[],"owner":{"account_id":9713496,"reputation":446,"user_id":7204609,"display_name":"Kinjal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588408997,"creation_date":1588408428,"answer_id":61556528,"question_id":3028306,"body_markdown":"We can use the coroutine and work manager for downloading files in kotlin.\r\n\r\nAdd a dependency in build.gradle\r\n \r\n\r\n        implementation &quot;androidx.work:work-runtime-ktx:2.3.0-beta01&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.1&quot;\r\n\r\n  \r\nWorkManager class\r\n\r\n        import android.content.Context\r\n        import android.os.Environment\r\n        import androidx.work.CoroutineWorker\r\n        import androidx.work.WorkerParameters\r\n        import androidx.work.workDataOf\r\n        import com.sa.chat.utils.Const.BASE_URL_IMAGE\r\n        import com.sa.chat.utils.Constants\r\n        import kotlinx.coroutines.delay\r\n        import java.io.BufferedInputStream\r\n        import java.io.File\r\n        import java.io.FileOutputStream\r\n        import java.net.URL\r\n        \r\n        class DownloadMediaWorkManager(appContext: Context, workerParams: WorkerParameters)\r\n            : CoroutineWorker(appContext, workerParams) {\r\n        \r\n            companion object {\r\n                const val WORK_TYPE = &quot;WORK_TYPE&quot;\r\n                const val WORK_IN_PROGRESS = &quot;WORK_IN_PROGRESS&quot;\r\n                const val WORK_PROGRESS_VALUE = &quot;WORK_PROGRESS_VALUE&quot;\r\n            }\r\n        \r\n            override suspend fun doWork(): Result {\r\n        \r\n                val imageUrl = inputData.getString(Constants.WORK_DATA_MEDIA_URL)\r\n                val imagePath = downloadMediaFromURL(imageUrl)\r\n        \r\n                return if (!imagePath.isNullOrEmpty()) {\r\n                    Result.success(workDataOf(Constants.WORK_DATA_MEDIA_URL to imagePath))\r\n                } else {\r\n                    Result.failure()\r\n                }\r\n            }\r\n        \r\n            private suspend fun downloadMediaFromURL(imageUrl: String?): String? {\r\n        \r\n                val file = File(\r\n                        getRootFile().path,\r\n                        &quot;IMG_${System.currentTimeMillis()}.jpeg&quot;\r\n                )\r\n        \r\n                val url = URL(BASE_URL_IMAGE + imageUrl)\r\n                val connection = url.openConnection()\r\n                connection.connect()\r\n        \r\n                val lengthOfFile = connection.contentLength\r\n                // download the file\r\n                val input = BufferedInputStream(url.openStream(), 8192)\r\n                // Output stream\r\n                val output = FileOutputStream(file)\r\n        \r\n                val data = ByteArray(1024)\r\n                var total: Long = 0\r\n                var last = 0\r\n        \r\n                while (true) {\r\n        \r\n                    val count = input.read(data)\r\n                    if (count == -1) break\r\n                    total += count.toLong()\r\n        \r\n                    val progress = (total * 100 / lengthOfFile).toInt()\r\n        \r\n                    if (progress % 10 == 0) {\r\n                        if (last != progress) {\r\n                            setProgress(workDataOf(WORK_TYPE to WORK_IN_PROGRESS,\r\n                                    WORK_PROGRESS_VALUE to progress))\r\n                        }\r\n                        last = progress\r\n                        delay(50)\r\n                    }\r\n                    output.write(data, 0, count)\r\n                }\r\n        \r\n                output.flush()\r\n                output.close()\r\n                input.close()\r\n        \r\n                return file.path\r\n        \r\n            }\r\n        \r\n            private fun getRootFile(): File {\r\n        \r\n                val rootDir = File(Environment.getExternalStorageDirectory().absolutePath + &quot;/AppName&quot;)\r\n        \r\n                if (!rootDir.exists()) {\r\n                    rootDir.mkdir()\r\n                }\r\n        \r\n                val dir = File(&quot;$rootDir/${Constants.IMAGE_FOLDER}/&quot;)\r\n        \r\n                if (!dir.exists()) {\r\n                    dir.mkdir()\r\n                }\r\n                return File(dir.absolutePath)\r\n            }\r\n        }\r\n\r\nStart downloading through work manager in activity class \r\n\r\n   \r\n\r\n     private fun downloadImage(imagePath: String?, id: String) {\r\n        \r\n                val data = workDataOf(WORK_DATA_MEDIA_URL to imagePath)\r\n                val downloadImageWorkManager = OneTimeWorkRequestBuilder&lt;DownloadMediaWorkManager&gt;()\r\n                        .setInputData(data)\r\n                        .addTag(id)\r\n                        .build()\r\n        \r\n                WorkManager.getInstance(this).enqueue(downloadImageWorkManager)\r\n        \r\n                WorkManager.getInstance(this).getWorkInfoByIdLiveData(downloadImageWorkManager.id)\r\n                        .observe(this, Observer { workInfo -&gt;\r\n        \r\n                            if (workInfo != null) {\r\n                                when {\r\n                                    workInfo.state == WorkInfo.State.SUCCEEDED -&gt; {\r\n                                        progressBar?.visibility = View.GONE\r\n                                        ivDownload?.visibility = View.GONE\r\n                                    }\r\n                                    workInfo.state == WorkInfo.State.FAILED || workInfo.state == WorkInfo.State.CANCELLED || workInfo.state == WorkInfo.State.BLOCKED -&gt; {\r\n                                        progressBar?.visibility = View.GONE\r\n                                        ivDownload?.visibility = View.VISIBLE\r\n                                    }\r\n                                    else -&gt; {\r\n                                        if(workInfo.progress.getString(WORK_TYPE) == WORK_IN_PROGRESS){\r\n                                            val progress = workInfo.progress.getInt(WORK_PROGRESS_VALUE, 0)\r\n                                            progressBar?.visibility = View.VISIBLE\r\n                                            progressBar?.progress = progress\r\n                                            ivDownload?.visibility = View.GONE\r\n        \r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n        \r\n            }","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>We can use the coroutine and work manager for downloading files in kotlin.</p>\n\n<p>Add a dependency in build.gradle</p>\n\n<pre><code>    implementation \"androidx.work:work-runtime-ktx:2.3.0-beta01\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.1\"\n</code></pre>\n\n<p>WorkManager class</p>\n\n<pre><code>    import android.content.Context\n    import android.os.Environment\n    import androidx.work.CoroutineWorker\n    import androidx.work.WorkerParameters\n    import androidx.work.workDataOf\n    import com.sa.chat.utils.Const.BASE_URL_IMAGE\n    import com.sa.chat.utils.Constants\n    import kotlinx.coroutines.delay\n    import java.io.BufferedInputStream\n    import java.io.File\n    import java.io.FileOutputStream\n    import java.net.URL\n\n    class DownloadMediaWorkManager(appContext: Context, workerParams: WorkerParameters)\n        : CoroutineWorker(appContext, workerParams) {\n\n        companion object {\n            const val WORK_TYPE = \"WORK_TYPE\"\n            const val WORK_IN_PROGRESS = \"WORK_IN_PROGRESS\"\n            const val WORK_PROGRESS_VALUE = \"WORK_PROGRESS_VALUE\"\n        }\n\n        override suspend fun doWork(): Result {\n\n            val imageUrl = inputData.getString(Constants.WORK_DATA_MEDIA_URL)\n            val imagePath = downloadMediaFromURL(imageUrl)\n\n            return if (!imagePath.isNullOrEmpty()) {\n                Result.success(workDataOf(Constants.WORK_DATA_MEDIA_URL to imagePath))\n            } else {\n                Result.failure()\n            }\n        }\n\n        private suspend fun downloadMediaFromURL(imageUrl: String?): String? {\n\n            val file = File(\n                    getRootFile().path,\n                    \"IMG_${System.currentTimeMillis()}.jpeg\"\n            )\n\n            val url = URL(BASE_URL_IMAGE + imageUrl)\n            val connection = url.openConnection()\n            connection.connect()\n\n            val lengthOfFile = connection.contentLength\n            // download the file\n            val input = BufferedInputStream(url.openStream(), 8192)\n            // Output stream\n            val output = FileOutputStream(file)\n\n            val data = ByteArray(1024)\n            var total: Long = 0\n            var last = 0\n\n            while (true) {\n\n                val count = input.read(data)\n                if (count == -1) break\n                total += count.toLong()\n\n                val progress = (total * 100 / lengthOfFile).toInt()\n\n                if (progress % 10 == 0) {\n                    if (last != progress) {\n                        setProgress(workDataOf(WORK_TYPE to WORK_IN_PROGRESS,\n                                WORK_PROGRESS_VALUE to progress))\n                    }\n                    last = progress\n                    delay(50)\n                }\n                output.write(data, 0, count)\n            }\n\n            output.flush()\n            output.close()\n            input.close()\n\n            return file.path\n\n        }\n\n        private fun getRootFile(): File {\n\n            val rootDir = File(Environment.getExternalStorageDirectory().absolutePath + \"/AppName\")\n\n            if (!rootDir.exists()) {\n                rootDir.mkdir()\n            }\n\n            val dir = File(\"$rootDir/${Constants.IMAGE_FOLDER}/\")\n\n            if (!dir.exists()) {\n                dir.mkdir()\n            }\n            return File(dir.absolutePath)\n        }\n    }\n</code></pre>\n\n<p>Start downloading through work manager in activity class </p>\n\n<pre><code> private fun downloadImage(imagePath: String?, id: String) {\n\n            val data = workDataOf(WORK_DATA_MEDIA_URL to imagePath)\n            val downloadImageWorkManager = OneTimeWorkRequestBuilder&lt;DownloadMediaWorkManager&gt;()\n                    .setInputData(data)\n                    .addTag(id)\n                    .build()\n\n            WorkManager.getInstance(this).enqueue(downloadImageWorkManager)\n\n            WorkManager.getInstance(this).getWorkInfoByIdLiveData(downloadImageWorkManager.id)\n                    .observe(this, Observer { workInfo -&gt;\n\n                        if (workInfo != null) {\n                            when {\n                                workInfo.state == WorkInfo.State.SUCCEEDED -&gt; {\n                                    progressBar?.visibility = View.GONE\n                                    ivDownload?.visibility = View.GONE\n                                }\n                                workInfo.state == WorkInfo.State.FAILED || workInfo.state == WorkInfo.State.CANCELLED || workInfo.state == WorkInfo.State.BLOCKED -&gt; {\n                                    progressBar?.visibility = View.GONE\n                                    ivDownload?.visibility = View.VISIBLE\n                                }\n                                else -&gt; {\n                                    if(workInfo.progress.getString(WORK_TYPE) == WORK_IN_PROGRESS){\n                                        val progress = workInfo.progress.getInt(WORK_PROGRESS_VALUE, 0)\n                                        progressBar?.visibility = View.VISIBLE\n                                        progressBar?.progress = progress\n                                        ivDownload?.visibility = View.GONE\n\n                                    }\n                                }\n                            }\n                        }\n                    })\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16183502,"reputation":641,"user_id":11684331,"display_name":"jay patoliya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619196539,"creation_date":1619196539,"answer_id":67233965,"question_id":3028306,"body_markdown":"\t\tprivate class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n\t\t\tprivate PowerManager.WakeLock mWakeLock;\r\n\t\t\tString onlinePathBundle, onlinePathMusic, offlinePathBundle, offlinePathMusic;\r\n\r\n\t\t\tCircleProgressBar progressBar;\r\n\t\t\tRelativeLayout rl_progress;\r\n\t\t\tImageView btn_download;\r\n\t\t\tTextView tv_progress;\r\n\r\n\t\t\tpublic DownloadTask(String onlinePathBundle, String onlinePathMusic, String offlinePathBundle, String offlinePathMusic, CircleProgressBar progressBar, RelativeLayout rl_progress, ImageView btn_download,\r\n\t\t\t\t\t\t\t\tTextView tv_progress) {\r\n\t\t\t\tthis.offlinePathBundle = offlinePathBundle;\r\n\t\t\t\tthis.offlinePathMusic = offlinePathMusic;\r\n\t\t\t\tthis.progressBar = progressBar;\r\n\t\t\t\tthis.rl_progress = rl_progress;\r\n\t\t\t\tthis.btn_download = btn_download;\r\n\t\t\t\tthis.tv_progress = tv_progress;\r\n\t\t\t\tthis.onlinePathBundle = onlinePathBundle;\r\n\t\t\t\tthis.onlinePathMusic = onlinePathMusic;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onPreExecute() {\r\n\t\t\t\tsuper.onPreExecute();\r\n\t\t\t\tprogressBar.setMax(100);\r\n\t\t\t\trl_progress.setVisibility(View.VISIBLE);\r\n\t\t\t\tbtn_download.setVisibility(View.GONE);\r\n\r\n\t\t\t\tPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n\t\t\t\tmWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\r\n\t\t\t\tmWakeLock.acquire();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected String doInBackground(String... sUrl) {\r\n\t\t\t\tString firstResult = downTask(onlinePathBundle, 1, offlinePathBundle);\r\n\t\t\t\tString seondResult = downTask(onlinePathMusic, 2, offlinePathMusic);\r\n\t\t\t\tif (firstResult != null) {\r\n\t\t\t\t\tToast.makeText(SplashActivity.this, &quot;Download error: &quot; + firstResult, Toast.LENGTH_LONG).show();\r\n\t\t\t\t\treturn firstResult;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn seondResult;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onProgressUpdate(Integer... progress) {\r\n\t\t\t\tsuper.onProgressUpdate(progress);\r\n\t\t\t\tprogressBar.setProgress(progress[0]);\r\n\t\t\t\ttv_progress.setText(progress[0] + &quot;%&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void onPostExecute(String result) {\r\n\t\t\t\tsuper.onPostExecute(result);\r\n\t\t\t\trl_progress.setVisibility(View.GONE);\r\n\t\t\t\tbtn_download.setVisibility(View.VISIBLE);\r\n\t\t\t\tif (result != null) {\r\n\t\t\t\t\tToast.makeText(SplashActivity.this, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\trl_progress.setVisibility(View.GONE);\r\n\t\t\t\t\tbtn_download.setVisibility(View.GONE);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpublic String downTask(String onlineNewPath, int numberOfTask, String offlineNewPath) {\r\n\t\t\t\tInputStream input = null;\r\n\t\t\t\tOutputStream output = null;\r\n\t\t\t\tHttpURLConnection connection = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tURL url = new URL(onlineNewPath);\r\n\t\t\t\t\tconnection = (HttpURLConnection) url.openConnection();\r\n\t\t\t\t\tconnection.connect();\r\n\r\n\t\t\t\t\t// expect HTTP 200 OK, so we don&#39;t mistakenly save error report\r\n\t\t\t\t\t// instead of the file\r\n\t\t\t\t\tif (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\r\n\t\t\t\t\t\treturn &quot;Server returned HTTP &quot; + connection.getResponseCode()\r\n\t\t\t\t\t\t\t\t+ &quot; &quot; + connection.getResponseMessage();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// this will be useful to display download percentage\r\n\t\t\t\t\t// might be -1: server did not report the length\r\n\t\t\t\t\tint fileLength = connection.getContentLength();\r\n\r\n\t\t\t\t\t// download the file\r\n\t\t\t\t\tinput = connection.getInputStream();\r\n\t\t\t\t\toutput = new FileOutputStream(offlineNewPath);\r\n\r\n\t\t\t\t\tbyte data[] = new byte[4096];\r\n\t\t\t\t\tlong total = 0;\r\n\t\t\t\t\tint count;\r\n\t\t\t\t\twhile ((count = input.read(data)) != -1) {\r\n\t\t\t\t\t\t// allow canceling with back button\r\n\t\t\t\t\t\tif (isCancelled()) {\r\n\t\t\t\t\t\t\tinput.close();\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttotal += count;\r\n\t\t\t\t\t\t// publishing the progress....\r\n\t\t\t\t\t\tif (fileLength &gt; 0) {// only if total length is known\r\n\t\t\t\t\t\t\tif (numberOfTask == 1) {\r\n\t\t\t\t\t\t\t\tpublishProgress((int) (total * 50 / fileLength));\r\n\t\t\t\t\t\t\t} else if (numberOfTask == 2) {\r\n\t\t\t\t\t\t\t\tpublishProgress(((int) (total * 50 / fileLength)) + 50);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toutput.write(data, 0, count);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\treturn e.toString();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (output != null)\r\n\t\t\t\t\t\t\toutput.close();\r\n\t\t\t\t\t\tif (input != null)\r\n\t\t\t\t\t\t\tinput.close();\r\n\t\t\t\t\t} catch (IOException ignored) {\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (connection != null)\r\n\t\t\t\t\t\tconnection.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<pre><code>    private class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {\n\n        private PowerManager.WakeLock mWakeLock;\n        String onlinePathBundle, onlinePathMusic, offlinePathBundle, offlinePathMusic;\n\n        CircleProgressBar progressBar;\n        RelativeLayout rl_progress;\n        ImageView btn_download;\n        TextView tv_progress;\n\n        public DownloadTask(String onlinePathBundle, String onlinePathMusic, String offlinePathBundle, String offlinePathMusic, CircleProgressBar progressBar, RelativeLayout rl_progress, ImageView btn_download,\n                            TextView tv_progress) {\n            this.offlinePathBundle = offlinePathBundle;\n            this.offlinePathMusic = offlinePathMusic;\n            this.progressBar = progressBar;\n            this.rl_progress = rl_progress;\n            this.btn_download = btn_download;\n            this.tv_progress = tv_progress;\n            this.onlinePathBundle = onlinePathBundle;\n            this.onlinePathMusic = onlinePathMusic;\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            progressBar.setMax(100);\n            rl_progress.setVisibility(View.VISIBLE);\n            btn_download.setVisibility(View.GONE);\n\n            PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n            mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, getClass().getName());\n            mWakeLock.acquire();\n        }\n\n        @Override\n        protected String doInBackground(String... sUrl) {\n            String firstResult = downTask(onlinePathBundle, 1, offlinePathBundle);\n            String seondResult = downTask(onlinePathMusic, 2, offlinePathMusic);\n            if (firstResult != null) {\n                Toast.makeText(SplashActivity.this, &quot;Download error: &quot; + firstResult, Toast.LENGTH_LONG).show();\n                return firstResult;\n            } else {\n                return seondResult;\n            }\n\n        }\n\n        @Override\n        protected void onProgressUpdate(Integer... progress) {\n            super.onProgressUpdate(progress);\n            progressBar.setProgress(progress[0]);\n            tv_progress.setText(progress[0] + &quot;%&quot;);\n\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            super.onPostExecute(result);\n            rl_progress.setVisibility(View.GONE);\n            btn_download.setVisibility(View.VISIBLE);\n            if (result != null) {\n                Toast.makeText(SplashActivity.this, &quot;Download error: &quot; + result, Toast.LENGTH_LONG).show();\n            } else {\n                rl_progress.setVisibility(View.GONE);\n                btn_download.setVisibility(View.GONE);\n            }\n\n        }\n\n        public String downTask(String onlineNewPath, int numberOfTask, String offlineNewPath) {\n            InputStream input = null;\n            OutputStream output = null;\n            HttpURLConnection connection = null;\n            try {\n                URL url = new URL(onlineNewPath);\n                connection = (HttpURLConnection) url.openConnection();\n                connection.connect();\n\n                // expect HTTP 200 OK, so we don't mistakenly save error report\n                // instead of the file\n                if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {\n                    return &quot;Server returned HTTP &quot; + connection.getResponseCode()\n                            + &quot; &quot; + connection.getResponseMessage();\n                }\n\n                // this will be useful to display download percentage\n                // might be -1: server did not report the length\n                int fileLength = connection.getContentLength();\n\n                // download the file\n                input = connection.getInputStream();\n                output = new FileOutputStream(offlineNewPath);\n\n                byte data[] = new byte[4096];\n                long total = 0;\n                int count;\n                while ((count = input.read(data)) != -1) {\n                    // allow canceling with back button\n                    if (isCancelled()) {\n                        input.close();\n                        return null;\n                    }\n                    total += count;\n                    // publishing the progress....\n                    if (fileLength &gt; 0) {// only if total length is known\n                        if (numberOfTask == 1) {\n                            publishProgress((int) (total * 50 / fileLength));\n                        } else if (numberOfTask == 2) {\n                            publishProgress(((int) (total * 50 / fileLength)) + 50);\n                        }\n\n                    }\n                    output.write(data, 0, count);\n                }\n            } catch (Exception e) {\n                return e.toString();\n            } finally {\n                try {\n                    if (output != null)\n                        output.close();\n                    if (input != null)\n                        input.close();\n                } catch (IOException ignored) {\n                }\n\n                if (connection != null)\n                    connection.disconnect();\n            }\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663821512,"creation_date":1663821512,"answer_id":73809414,"question_id":3028306,"body_markdown":"I have came across a **Simple File Download** library \r\n[Fetch][1] and importantly it has **Storage Access Framework**, **Content Provider** and **URI** support. If anyone is still searching might found it helpful.\r\n\r\n&gt; implementation &quot;androidx.tonyodev.fetch2:xfetch2:3.1.6&quot;  //AndroidX\r\n\r\n&gt; implementation &quot;com.tonyodev.fetch2:fetch2:3.0.12&quot;  //Support lib\r\n\r\nRequired permissions in case your are not using app specific directory.\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;`\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;`\r\n\r\nInternet permission\r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;`\r\n   \r\n    private Fetch fetch;\r\n    FetchConfiguration fetchConfiguration = new FetchConfiguration.Builder(this)\r\n                    .setDownloadConcurrentLimit(3)//Concurrent Download limit\r\n                    .build();\r\n    \r\n            fetch = Fetch.Impl.getInstance(fetchConfiguration);\r\n    \r\n            String url = &quot;http:www.example.com/test.txt&quot;;//URL of file\r\n            String file = &quot;/downloads/test.txt&quot;;//Path of file\r\n            \r\n            final Request request = new Request(url, file);\r\n            request.setPriority(Priority.HIGH);\r\n            request.setNetworkType(NetworkType.ALL);//Preferred network type\r\n            request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);//Auth header if any\r\n            \r\n            fetch.enqueue(request, updatedRequest -&gt; {\r\n                //Request was successfully enqueued for download.\r\n            }, error -&gt; {\r\n                //An error occurred enqueuing the request.\r\n            });\r\n    \r\n        }\r\n\r\nListen for update and progress\r\n\r\n    FetchListener fetchListener = new FetchListener() {\r\n        @Override\r\n        public void onQueued(@NotNull Download download, boolean waitingOnNetwork) {\r\n            if (request.getId() == download.getId()) {\r\n                showDownloadInList(download);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onCompleted(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onError(@NotNull Download download) {\r\n            Error error = download.getError();\r\n        }\r\n    \r\n        @Override\r\n        public void onProgress(@NotNull Download download, long etaInMilliSeconds, long downloadedBytesPerSecond) {\r\n            if (request.getId() == download.getId()) {\r\n                updateDownload(download, etaInMilliSeconds);\r\n            }\r\n            int progress = download.getProgress();\r\n        }\r\n    \r\n        @Override\r\n        public void onPaused(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onResumed(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCancelled(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onRemoved(@NotNull Download download) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onDeleted(@NotNull Download download) {\r\n    \r\n        }\r\n    };\r\n    \r\n    fetch.addListener(fetchListener);\r\n    \r\n    //Remove listener when done.\r\n    fetch.removeListener(fetchListener);\r\n\r\n  \r\n\r\n\r\n\r\nThis example code is taken from the owner page all credit goes to [Tonyo Francis][2]\r\n\r\n\r\n  [1]: https://github.com/tonyofrancis/Fetch\r\n  [2]: https://github.com/tonyofrancis","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I have came across a <strong>Simple File Download</strong> library\n<a href=\"https://github.com/tonyofrancis/Fetch\" rel=\"nofollow noreferrer\">Fetch</a> and importantly it has <strong>Storage Access Framework</strong>, <strong>Content Provider</strong> and <strong>URI</strong> support. If anyone is still searching might found it helpful.</p>\n<blockquote>\n<p>implementation &quot;androidx.tonyodev.fetch2:xfetch2:3.1.6&quot;  //AndroidX</p>\n</blockquote>\n<blockquote>\n<p>implementation &quot;com.tonyodev.fetch2:fetch2:3.0.12&quot;  //Support lib</p>\n</blockquote>\n<p>Required permissions in case your are not using app specific directory.</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;</code></p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;</code></p>\n<p>Internet permission</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</code></p>\n<pre><code>private Fetch fetch;\nFetchConfiguration fetchConfiguration = new FetchConfiguration.Builder(this)\n                .setDownloadConcurrentLimit(3)//Concurrent Download limit\n                .build();\n\n        fetch = Fetch.Impl.getInstance(fetchConfiguration);\n\n        String url = &quot;http:www.example.com/test.txt&quot;;//URL of file\n        String file = &quot;/downloads/test.txt&quot;;//Path of file\n        \n        final Request request = new Request(url, file);\n        request.setPriority(Priority.HIGH);\n        request.setNetworkType(NetworkType.ALL);//Preferred network type\n        request.addHeader(&quot;clientKey&quot;, &quot;SD78DF93_3947&amp;MVNGHE1WONG&quot;);//Auth header if any\n        \n        fetch.enqueue(request, updatedRequest -&gt; {\n            //Request was successfully enqueued for download.\n        }, error -&gt; {\n            //An error occurred enqueuing the request.\n        });\n\n    }\n</code></pre>\n<p>Listen for update and progress</p>\n<pre><code>FetchListener fetchListener = new FetchListener() {\n    @Override\n    public void onQueued(@NotNull Download download, boolean waitingOnNetwork) {\n        if (request.getId() == download.getId()) {\n            showDownloadInList(download);\n        }\n    }\n\n    @Override\n    public void onCompleted(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onError(@NotNull Download download) {\n        Error error = download.getError();\n    }\n\n    @Override\n    public void onProgress(@NotNull Download download, long etaInMilliSeconds, long downloadedBytesPerSecond) {\n        if (request.getId() == download.getId()) {\n            updateDownload(download, etaInMilliSeconds);\n        }\n        int progress = download.getProgress();\n    }\n\n    @Override\n    public void onPaused(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onResumed(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onCancelled(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onRemoved(@NotNull Download download) {\n\n    }\n\n    @Override\n    public void onDeleted(@NotNull Download download) {\n\n    }\n};\n\nfetch.addListener(fetchListener);\n\n//Remove listener when done.\nfetch.removeListener(fetchListener);\n</code></pre>\n<p>This example code is taken from the owner page all credit goes to <a href=\"https://github.com/tonyofrancis\" rel=\"nofollow noreferrer\">Tonyo Francis</a></p>\n"}],"owner":{"account_id":150425,"reputation":19449,"user_id":363606,"accept_rate":97,"display_name":"Tom Leese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626694,"favorite_count":0,"down_vote_count":1,"up_vote_count":1129,"accepted_answer_id":3028660,"answer_count":16,"score":1128,"last_activity_date":1664738467,"creation_date":1276338176,"question_id":3028306,"body_markdown":"I am trying to write a simple application that gets updated. For this I need a simple function that can download a file and *show the current progress* in a `ProgressDialog`. I know how to do the `ProgressDialog`, but I&#39;m not sure how to display the current progress and how to download the file in the first place.","title":"Download a file with Android, and showing the progress in a ProgressDialog","body":"<p>I am trying to write a simple application that gets updated. For this I need a simple function that can download a file and <em>show the current progress</em> in a <code>ProgressDialog</code>. I know how to do the <code>ProgressDialog</code>, but I'm not sure how to display the current progress and how to download the file in the first place.</p>\n"},{"tags":["java","multithreading","interrupted-exception"],"comments":[{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":1,"creation_date":1664716758,"post_id":73926124,"comment_id":130530954,"body_markdown":"I really struggle to understand &quot;*Java Thread&#39;s doesn&#39;t accept a Runnable that allows throwing of InterruptedException*&quot;...","body":"I really struggle to understand &quot;<i>Java Thread&#39;s doesn&#39;t accept a Runnable that allows throwing of InterruptedException</i>&quot;..."},{"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":0,"creation_date":1664716832,"post_id":73926124,"comment_id":130530968,"body_markdown":"@GiorgiTsiklauri The standard `Runnable` that you can pass to `Thread`s constructor does not allow you to throw an `InterruptedException` from its `run` method because `InterruptedException` is a checked exception.","body":"@GiorgiTsiklauri The standard <code>Runnable</code> that you can pass to <code>Thread</code>s constructor does not allow you to throw an <code>InterruptedException</code> from its <code>run</code> method because <code>InterruptedException</code> is a checked exception."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1664717260,"post_id":73926124,"comment_id":130531056,"body_markdown":"So, it&#39;s not about `Runnable` but it&#39;s about *`run`* method.. it&#39;s now clearer.","body":"So, it&#39;s not about <code>Runnable</code> but it&#39;s about <i><code>run</code></i> method.. it&#39;s now clearer."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664737739,"creation_date":1664717306,"answer_id":73926210,"question_id":73926124,"body_markdown":"Exceptions don&#39;t propagate across threads, for instance you need an UncaughtExceptionHandler to retrieve the exception thrown by another thread, see https://stackoverflow.com/q/6546193/217324.\r\n\r\nSo putting InterruptedException in the throws clause creates a false expectation, the exception still can&#39;t be thrown in one thread and caught in another. That&#39;s the only reason I can think of for not doing this, they are trying to communicate to the developer that the toplevel run method for a thread needs to handle everything. Putting InterruptedException in the throws clause dilutes this message, as the developer isn&#39;t forced to deal with it. \r\n\r\nBut yes, they could have added InterruptedException to the throws clause of Runnable, that would make this case much simpler. But there are design goals in conflict. The designars want developers to be very aware of the exception behavior, including making  InterruptedException checked, but it&#39;s not having it in the throws clause that forces people to deal with it. The goal of letting simple things be easy and having a thread call sleep without a catch is at odds with that so it wasn&#39;t implemented. ","title":"Design: Would it not make more sense to construct a Thread with something that can throw an InterruptedException?","body":"<p>Exceptions don't propagate across threads, for instance you need an UncaughtExceptionHandler to retrieve the exception thrown by another thread, see <a href=\"https://stackoverflow.com/q/6546193/217324\">How to catch an Exception from a thread</a>.</p>\n<p>So putting InterruptedException in the throws clause creates a false expectation, the exception still can't be thrown in one thread and caught in another. That's the only reason I can think of for not doing this, they are trying to communicate to the developer that the toplevel run method for a thread needs to handle everything. Putting InterruptedException in the throws clause dilutes this message, as the developer isn't forced to deal with it.</p>\n<p>But yes, they could have added InterruptedException to the throws clause of Runnable, that would make this case much simpler. But there are design goals in conflict. The designars want developers to be very aware of the exception behavior, including making  InterruptedException checked, but it's not having it in the throws clause that forces people to deal with it. The goal of letting simple things be easy and having a thread call sleep without a catch is at odds with that so it wasn't implemented.</p>\n"}],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664737739,"creation_date":1664716626,"question_id":73926124,"body_markdown":"I&#39;m wondering what might have been the reason Java Thread&#39;s doesn&#39;t accept a `Runnable` that allows throwing of `InterruptedException`. If instead an `InterruptableRunnable` was accepted, it would simplify a lot of code that will simply want to stop the thread when interrupted.\r\n\r\n    interface InterruptableRunnable {\r\n        void run() throws InterruptedException;\r\n    }\r\n\r\nBefore:\r\n\r\n    new Thread(() -&gt; {\r\n        try {\r\n            Thread.sleep(1000);\r\n        }\r\n        catch (InterruptedException e) {\r\n            // Some confusion ensues here as to what to do;\r\n            // - Should we restore the interrupt? For who? Guess not.\r\n            // - Should we rethrow it? That would terminate thread exceptionally...\r\n            // - Just return then? Sounds good...\r\n            \r\n            return;\r\n        }\r\n    }).start();\r\n\r\nNow, if instead you could use an `InterruptableRunnable` the code would be far simpler, and I think just as correct:\r\n\r\n    new Thread(() -&gt; {\r\n        Thread.sleep(1000);\r\n    }).start();\r\n\r\nOn an interrupt, the thread gets terminated exactly as you&#39;d expect -- and the system could be smart enough not to consider an `InterruptedException` as an exceptional termination condition. If that&#39;s not what you want, you always have the option of catching the exception.\r\n\r\nFor similar reasons, what could have been the reasoning `Thread#run()` is not declared to throw `InterruptedException`...","title":"Design: Would it not make more sense to construct a Thread with something that can throw an InterruptedException?","body":"<p>I'm wondering what might have been the reason Java Thread's doesn't accept a <code>Runnable</code> that allows throwing of <code>InterruptedException</code>. If instead an <code>InterruptableRunnable</code> was accepted, it would simplify a lot of code that will simply want to stop the thread when interrupted.</p>\n<pre><code>interface InterruptableRunnable {\n    void run() throws InterruptedException;\n}\n</code></pre>\n<p>Before:</p>\n<pre><code>new Thread(() -&gt; {\n    try {\n        Thread.sleep(1000);\n    }\n    catch (InterruptedException e) {\n        // Some confusion ensues here as to what to do;\n        // - Should we restore the interrupt? For who? Guess not.\n        // - Should we rethrow it? That would terminate thread exceptionally...\n        // - Just return then? Sounds good...\n        \n        return;\n    }\n}).start();\n</code></pre>\n<p>Now, if instead you could use an <code>InterruptableRunnable</code> the code would be far simpler, and I think just as correct:</p>\n<pre><code>new Thread(() -&gt; {\n    Thread.sleep(1000);\n}).start();\n</code></pre>\n<p>On an interrupt, the thread gets terminated exactly as you'd expect -- and the system could be smart enough not to consider an <code>InterruptedException</code> as an exceptional termination condition. If that's not what you want, you always have the option of catching the exception.</p>\n<p>For similar reasons, what could have been the reasoning <code>Thread#run()</code> is not declared to throw <code>InterruptedException</code>...</p>\n"},{"tags":["java","multithreading","concurrency","thread-local","thread-confinement"],"comments":[{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":13,"creation_date":1455192376,"post_id":817856,"comment_id":58384994,"body_markdown":"If you are using ThreadLocal, never write a wrapper over it !!! Each and every developer who wants to use the variable must know it is &#39;ThreadLocal&#39;","body":"If you are using ThreadLocal, never write a wrapper over it !!! Each and every developer who wants to use the variable must know it is &#39;ThreadLocal&#39;"},{"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"score":2,"creation_date":1490879935,"post_id":817856,"comment_id":73317327,"body_markdown":"@Notabug If you are explicit, you can name your variable so that it&#39;s it that you&#39;re dealing with a ThreadLocal value, e.g. `RequestUtils.getCurrentRequestThreadLocal()`. Not saying this is very elegant though, but this stems from the fact that ThreadLocal itself is not very elegant in most cases.","body":"@Notabug If you are explicit, you can name your variable so that it&#39;s it that you&#39;re dealing with a ThreadLocal value, e.g. <code>RequestUtils.getCurrentRequestThreadLocal()</code>. Not saying this is very elegant though, but this stems from the fact that ThreadLocal itself is not very elegant in most cases."}],"answers":[{"tags":[],"owner":{"account_id":11369,"reputation":274318,"user_id":21886,"accept_rate":88,"display_name":"RichieHindle"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1393507894,"creation_date":1241381121,"answer_id":817864,"question_id":817856,"body_markdown":"[The documentation][1] says it very well: &quot;each thread that accesses [a thread-local variable] (via its get or set method) has its own, independently initialized copy of the variable&quot;.\r\n\r\nYou use one when each thread must have its own copy of something.  By default, data is shared between threads.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\">The documentation</a> says it very well: \"each thread that accesses [a thread-local variable] (via its get or set method) has its own, independently initialized copy of the variable\".</p>\n\n<p>You use one when each thread must have its own copy of something.  By default, data is shared between threads.</p>\n"},{"tags":[],"owner":{"account_id":35470,"reputation":17531,"user_id":100464,"accept_rate":91,"display_name":"user100464"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1241382039,"creation_date":1241382039,"answer_id":817911,"question_id":817856,"body_markdown":"In Java, if you have a datum that can vary per-thread, your choices are to pass that datum around to every method that needs (or may need) it, or to associate the datum with the thread.  Passing the datum around everywhere may be workable if all your methods already need to pass around a common &quot;context&quot; variable.  \r\n\r\nIf that&#39;s not the case, you may not want to clutter up your method signatures with an additional parameter.  In a non-threaded world, you could solve the problem with the Java equivalent of a global variable.  In a threaded word, the equivalent of a global variable is a thread-local variable.\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>In Java, if you have a datum that can vary per-thread, your choices are to pass that datum around to every method that needs (or may need) it, or to associate the datum with the thread.  Passing the datum around everywhere may be workable if all your methods already need to pass around a common \"context\" variable.  </p>\n\n<p>If that's not the case, you may not want to clutter up your method signatures with an additional parameter.  In a non-threaded world, you could solve the problem with the Java equivalent of a global variable.  In a threaded word, the equivalent of a global variable is a thread-local variable.</p>\n"},{"tags":[],"owner":{"account_id":26685,"reputation":24085,"user_id":69689,"accept_rate":85,"display_name":"overthink"},"down_vote_count":1,"up_vote_count":917,"is_accepted":true,"score":916,"last_activity_date":1524678699,"creation_date":1241382377,"answer_id":817926,"question_id":817856,"body_markdown":"One possible (and common) use is when you have some object that is not thread-safe, but you want to avoid [synchronizing][1] access to that object (I&#39;m looking at you, [SimpleDateFormat][2]).  Instead, give each thread its own instance of the object.\r\n\r\nFor example:\r\n\r\n    public class Foo\r\n    {\r\n        // SimpleDateFormat is not thread-safe, so give one to each thread\r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;(){\r\n            @Override\r\n            protected SimpleDateFormat initialValue()\r\n            {\r\n                return new SimpleDateFormat(&quot;yyyyMMdd HHmm&quot;);\r\n            }\r\n        };\r\n        \r\n        public String formatIt(Date date)\r\n        {\r\n            return formatter.get().format(date);\r\n        }\r\n    }\r\n\r\n[Documentation][3].\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>One possible (and common) use is when you have some object that is not thread-safe, but you want to avoid <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sync.html\" rel=\"noreferrer\">synchronizing</a> access to that object (I'm looking at you, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat</a>).  Instead, give each thread its own instance of the object.</p>\n\n<p>For example:</p>\n\n<pre><code>public class Foo\n{\n    // SimpleDateFormat is not thread-safe, so give one to each thread\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; formatter = new ThreadLocal&lt;SimpleDateFormat&gt;(){\n        @Override\n        protected SimpleDateFormat initialValue()\n        {\n            return new SimpleDateFormat(\"yyyyMMdd HHmm\");\n        }\n    };\n\n    public String formatIt(Date date)\n    {\n        return formatter.get().format(date);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\">Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":25274,"reputation":6653,"user_id":64881,"display_name":"Phil M"},"down_vote_count":2,"up_vote_count":460,"is_accepted":false,"score":458,"last_activity_date":1557882643,"creation_date":1241388129,"answer_id":818120,"question_id":817856,"body_markdown":"Since a `ThreadLocal` is a reference to data within a given `Thread`, you can end up with classloading leaks when using `ThreadLocal`s in application servers using thread pools. You need to be very careful about cleaning up any `ThreadLocal`s you `get()` or `set()` by using the `ThreadLocal`&#39;s `remove()` method.\r\n\r\nIf you do not clean up when you&#39;re done, any references it holds to classes loaded as part of a deployed webapp will remain in the [permanent heap][1] and will never get garbage collected. Redeploying/undeploying the webapp will not clean up each `Thread`&#39;s reference to your webapp&#39;s class(es) since the `Thread` is not something owned by your webapp. Each successive deployment will create a new instance of the class which will never be garbage collected.\r\n\r\nYou will end up with out of memory exceptions due to `java.lang.OutOfMemoryError: PermGen space` and after some googling will probably just increase `-XX:MaxPermSize` instead of fixing the bug.\r\n\r\nIf you do end up experiencing these problems, you can determine which thread and class is retaining these references by using [Eclipse&#39;s Memory Analyzer][2] and/or by following [Frank Kieviet&#39;s guide][3] and [followup][4].\r\n\r\nUpdate: Re-discovered [Alex Vasseur&#39;s blog entry][5] that helped me track down some `ThreadLocal` issues I was having.\r\n\r\n  [1]: https://web.archive.org/web/20070104122432/http://www.brokenbuild.com/blog/2006/08/04/java-jvm-gc-permgen-and-memory-options/\r\n  [2]: http://www.eclipse.org/mat/\r\n  [3]: http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\r\n  [4]: http://frankkieviet.blogspot.com/2006/10/how-to-fix-dreaded-permgen-space.html\r\n  [5]: http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>Since a <code>ThreadLocal</code> is a reference to data within a given <code>Thread</code>, you can end up with classloading leaks when using <code>ThreadLocal</code>s in application servers using thread pools. You need to be very careful about cleaning up any <code>ThreadLocal</code>s you <code>get()</code> or <code>set()</code> by using the <code>ThreadLocal</code>'s <code>remove()</code> method.</p>\n\n<p>If you do not clean up when you're done, any references it holds to classes loaded as part of a deployed webapp will remain in the <a href=\"https://web.archive.org/web/20070104122432/http://www.brokenbuild.com/blog/2006/08/04/java-jvm-gc-permgen-and-memory-options/\" rel=\"noreferrer\">permanent heap</a> and will never get garbage collected. Redeploying/undeploying the webapp will not clean up each <code>Thread</code>'s reference to your webapp's class(es) since the <code>Thread</code> is not something owned by your webapp. Each successive deployment will create a new instance of the class which will never be garbage collected.</p>\n\n<p>You will end up with out of memory exceptions due to <code>java.lang.OutOfMemoryError: PermGen space</code> and after some googling will probably just increase <code>-XX:MaxPermSize</code> instead of fixing the bug.</p>\n\n<p>If you do end up experiencing these problems, you can determine which thread and class is retaining these references by using <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Eclipse's Memory Analyzer</a> and/or by following <a href=\"http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html\" rel=\"noreferrer\">Frank Kieviet's guide</a> and <a href=\"http://frankkieviet.blogspot.com/2006/10/how-to-fix-dreaded-permgen-space.html\" rel=\"noreferrer\">followup</a>.</p>\n\n<p>Update: Re-discovered <a href=\"http://avasseur.blogspot.com/2003/11/threadlocal-and-memory-leaks.html\" rel=\"noreferrer\">Alex Vasseur's blog entry</a> that helped me track down some <code>ThreadLocal</code> issues I was having.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1557882784,"creation_date":1241394605,"answer_id":818364,"question_id":817856,"body_markdown":"Essentially, when you need a **variable&#39;s value to depend on the current thread** and it **isn&#39;t convenient for you to attach the value to the thread in some other way** (for example, subclassing thread).\r\n\r\nA typical case is where **some other framework has created the thread** that your code is running in, e.g. a servlet container, or where it just makes more sense to use ThreadLocal because your variable is then &quot;in its logical place&quot; (rather than a variable hanging from a Thread subclass or in some other hash map).\r\n\r\nOn my web site, I have some further [discussion and examples of when to use ThreadLocal][1] that may also be of interest.\r\n\r\nSome people advocate using ThreadLocal as a way to attach a &quot;thread ID&quot; to each thread in certain concurrent algorithms where you need a thread number (see e.g. Herlihy &amp; Shavit). In such cases, check that you&#39;re really getting a benefit!\r\n\r\n  [1]: https://www.javamex.com/tutorials/synchronization_concurrency_thread_local3.shtml","title":"When and how should I use a ThreadLocal variable?","body":"<p>Essentially, when you need a <strong>variable's value to depend on the current thread</strong> and it <strong>isn't convenient for you to attach the value to the thread in some other way</strong> (for example, subclassing thread).</p>\n\n<p>A typical case is where <strong>some other framework has created the thread</strong> that your code is running in, e.g. a servlet container, or where it just makes more sense to use ThreadLocal because your variable is then \"in its logical place\" (rather than a variable hanging from a Thread subclass or in some other hash map).</p>\n\n<p>On my web site, I have some further <a href=\"https://www.javamex.com/tutorials/synchronization_concurrency_thread_local3.shtml\" rel=\"noreferrer\">discussion and examples of when to use ThreadLocal</a> that may also be of interest.</p>\n\n<p>Some people advocate using ThreadLocal as a way to attach a \"thread ID\" to each thread in certain concurrent algorithms where you need a thread number (see e.g. Herlihy &amp; Shavit). In such cases, check that you're really getting a benefit!</p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367050373,"creation_date":1241442624,"answer_id":820028,"question_id":817856,"body_markdown":"As was mentioned by @unknown (google), it&#39;s usage is to define a global variable in which the value referenced can be unique in each thread.  It&#39;s usages typically entails storing some sort of contextual information that is linked to the current thread of execution.  \r\n\r\nWe use it in a Java EE environment to pass user identity to classes that are not Java EE aware (don&#39;t have access to HttpSession, or the EJB SessionContext).  This way the code, which makes usage of identity for security based operations, can access the identity from anywhere, without having to explicitly pass it in every method call.\r\n\r\nThe request/response cycle of operations in most Java EE calls makes this type of usage easy since it gives well defined entry and exit points to set and unset the ThreadLocal.","title":"When and how should I use a ThreadLocal variable?","body":"<p>As was mentioned by @unknown (google), it's usage is to define a global variable in which the value referenced can be unique in each thread.  It's usages typically entails storing some sort of contextual information that is linked to the current thread of execution.  </p>\n\n<p>We use it in a Java EE environment to pass user identity to classes that are not Java EE aware (don't have access to HttpSession, or the EJB SessionContext).  This way the code, which makes usage of identity for security based operations, can access the identity from anywhere, without having to explicitly pass it in every method call.</p>\n\n<p>The request/response cycle of operations in most Java EE calls makes this type of usage easy since it gives well defined entry and exit points to set and unset the ThreadLocal.</p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"down_vote_count":1,"up_vote_count":201,"is_accepted":false,"score":200,"last_activity_date":1557882754,"creation_date":1241444172,"answer_id":820131,"question_id":817856,"body_markdown":"Many frameworks use ThreadLocals to maintain some context related to the current thread. For example when the current transaction is stored in a ThreadLocal, you don&#39;t need to pass it as a parameter through every method call, in case someone down the stack needs access to it. Web applications might store information about the current request and session in a ThreadLocal, so that the application has easy access to them. With Guice you can use ThreadLocals when implementing [custom scopes][1] for the injected objects (Guice&#39;s default [servlet scopes][2] most probably use them as well).\r\n\r\nThreadLocals are one sort of global variables (although slightly less evil because they are restricted to one thread), so you should be careful when using them to avoid unwanted side-effects and memory leaks. Design your APIs so that the ThreadLocal values will always be automatically cleared when they are not needed anymore and that incorrect use of the API won&#39;t be possible (for example [like this][3]). ThreadLocals can be used to make the code cleaner, and in some rare cases they are the only way to make something work (my current project had two such cases; they are documented [here][4] under &quot;Static Fields and Global Variables&quot;).\r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/CustomScopes\r\n  [2]: https://github.com/google/guice/wiki/Scopes\r\n  [3]: https://github.com/orfjackal/dimdwarf/blob/453f7aee9efc364ebad80531c05081e255323c07/dimdwarf-core/src/main/java/net/orfjackal/dimdwarf/context/ThreadContext.java#L48-55\r\n  [4]: https://github.com/orfjackal/dimdwarf/wiki/Design-Guidelines","title":"When and how should I use a ThreadLocal variable?","body":"<p>Many frameworks use ThreadLocals to maintain some context related to the current thread. For example when the current transaction is stored in a ThreadLocal, you don't need to pass it as a parameter through every method call, in case someone down the stack needs access to it. Web applications might store information about the current request and session in a ThreadLocal, so that the application has easy access to them. With Guice you can use ThreadLocals when implementing <a href=\"https://github.com/google/guice/wiki/CustomScopes\" rel=\"noreferrer\">custom scopes</a> for the injected objects (Guice's default <a href=\"https://github.com/google/guice/wiki/Scopes\" rel=\"noreferrer\">servlet scopes</a> most probably use them as well).</p>\n\n<p>ThreadLocals are one sort of global variables (although slightly less evil because they are restricted to one thread), so you should be careful when using them to avoid unwanted side-effects and memory leaks. Design your APIs so that the ThreadLocal values will always be automatically cleared when they are not needed anymore and that incorrect use of the API won't be possible (for example <a href=\"https://github.com/orfjackal/dimdwarf/blob/453f7aee9efc364ebad80531c05081e255323c07/dimdwarf-core/src/main/java/net/orfjackal/dimdwarf/context/ThreadContext.java#L48-55\" rel=\"noreferrer\">like this</a>). ThreadLocals can be used to make the code cleaner, and in some rare cases they are the only way to make something work (my current project had two such cases; they are documented <a href=\"https://github.com/orfjackal/dimdwarf/wiki/Design-Guidelines\" rel=\"noreferrer\">here</a> under \"Static Fields and Global Variables\").</p>\n"},{"tags":[],"owner":{"account_id":1640346,"reputation":1,"user_id":1512926,"display_name":"Jeff Richley"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351018209,"creation_date":1351018209,"answer_id":13037170,"question_id":817856,"body_markdown":"You have to be very careful with the ThreadLocal pattern.  There are some major down sides like Phil mentioned, but one that wasn&#39;t mentioned is to make sure that the code that sets up the ThreadLocal context isn&#39;t &quot;re-entrant.&quot;\r\n\r\nBad things can happen when the code that sets the information gets run a second or third time because information on your thread can start to mutate when you didn&#39;t expect it.  So take care to make sure the ThreadLocal information hasn&#39;t been set before you set it again.","title":"When and how should I use a ThreadLocal variable?","body":"<p>You have to be very careful with the ThreadLocal pattern.  There are some major down sides like Phil mentioned, but one that wasn't mentioned is to make sure that the code that sets up the ThreadLocal context isn't \"re-entrant.\"</p>\n\n<p>Bad things can happen when the code that sets the information gets run a second or third time because information on your thread can start to mutate when you didn't expect it.  So take care to make sure the ThreadLocal information hasn't been set before you set it again.</p>\n"},{"tags":[],"owner":{"account_id":872021,"reputation":1069,"user_id":922653,"accept_rate":60,"display_name":"Colselaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359596255,"creation_date":1359596255,"answer_id":14617072,"question_id":817856,"body_markdown":"Nothing really new here, but I discovered today that `ThreadLocal` is very useful when using Bean Validation in a web application. Validation messages are localized, but by default use `Locale.getDefault()`. You can configure the `Validator` with a different `MessageInterpolator`, but there&#39;s no way to specify the `Locale` when you call `validate`. So you could create a static `ThreadLocal&lt;Locale&gt;` (or better yet, a general container with other things you might need to be `ThreadLocal` and then have your custom `MessageInterpolator` pick the `Locale` from that. Next step is to write a `ServletFilter` which uses a session value or `request.getLocale()` to pick the locale and store it in your `ThreadLocal` reference.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Nothing really new here, but I discovered today that <code>ThreadLocal</code> is very useful when using Bean Validation in a web application. Validation messages are localized, but by default use <code>Locale.getDefault()</code>. You can configure the <code>Validator</code> with a different <code>MessageInterpolator</code>, but there's no way to specify the <code>Locale</code> when you call <code>validate</code>. So you could create a static <code>ThreadLocal&lt;Locale&gt;</code> (or better yet, a general container with other things you might need to be <code>ThreadLocal</code> and then have your custom <code>MessageInterpolator</code> pick the <code>Locale</code> from that. Next step is to write a <code>ServletFilter</code> which uses a session value or <code>request.getLocale()</code> to pick the locale and store it in your <code>ThreadLocal</code> reference.</p>\n"},{"tags":[],"owner":{"account_id":1056981,"reputation":1109,"user_id":1059465,"accept_rate":43,"display_name":"znlyj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1480420693,"creation_date":1367162549,"answer_id":16264385,"question_id":817856,"body_markdown":"Webapp server may keep a thread pool, and a `ThreadLocal` var should be removed before response to the client, thus current thread may be reused by next request.\r\n\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>Webapp server may keep a thread pool, and a <code>ThreadLocal</code> var should be removed before response to the client, thus current thread may be reused by next request.</p>\n"},{"tags":[],"owner":{"account_id":174482,"reputation":3102,"user_id":403872,"accept_rate":83,"display_name":"Abhijit Gaikwad"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1557882823,"creation_date":1372659023,"answer_id":17398338,"question_id":817856,"body_markdown":"1. ThreadLocal in Java had been introduced on JDK 1.2 but was later generified in JDK 1.5 to introduce type safety on ThreadLocal variable.\r\n\r\n2. ThreadLocal can be associated with Thread scope, all the code which is executed by Thread has access to ThreadLocal variables but two thread can not see each others ThreadLocal variable.\r\n\r\n3. Each thread holds an exclusive copy of ThreadLocal variable which becomes eligible to Garbage collection after thread finished or died, normally or due to any Exception, Given those ThreadLocal variable doesn&#39;t have any other live references.\r\n\r\n4. ThreadLocal variables in Java are generally private static fields in Classes and maintain its state inside Thread.\r\n\r\n\r\nRead more: [ThreadLocal in Java - Example Program and Tutorial](https://javarevisited.blogspot.com/2012/05/how-to-use-threadlocal-in-java-benefits.html#ixzz2XltgbHTK)","title":"When and how should I use a ThreadLocal variable?","body":"<ol>\n<li><p>ThreadLocal in Java had been introduced on JDK 1.2 but was later generified in JDK 1.5 to introduce type safety on ThreadLocal variable.</p></li>\n<li><p>ThreadLocal can be associated with Thread scope, all the code which is executed by Thread has access to ThreadLocal variables but two thread can not see each others ThreadLocal variable.</p></li>\n<li><p>Each thread holds an exclusive copy of ThreadLocal variable which becomes eligible to Garbage collection after thread finished or died, normally or due to any Exception, Given those ThreadLocal variable doesn't have any other live references.</p></li>\n<li><p>ThreadLocal variables in Java are generally private static fields in Classes and maintain its state inside Thread.</p></li>\n</ol>\n\n<p>Read more: <a href=\"https://javarevisited.blogspot.com/2012/05/how-to-use-threadlocal-in-java-benefits.html#ixzz2XltgbHTK\" rel=\"noreferrer\">ThreadLocal in Java - Example Program and Tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":22965,"reputation":51418,"user_id":57159,"accept_rate":89,"display_name":"Ian Ringrose"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434388741,"creation_date":1434388741,"answer_id":30851175,"question_id":817856,"body_markdown":"Caching, sometime you have to calculate the same value lots of time so by storing the last set of inputs to a method and the result you can speed the code up.    By using Thread Local Storage you avoid having to think about locking.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Caching, sometime you have to calculate the same value lots of time so by storing the last set of inputs to a method and the result you can speed the code up.    By using Thread Local Storage you avoid having to think about locking.</p>\n"},{"tags":[],"owner":{"account_id":6236104,"reputation":681,"user_id":4851359,"display_name":"infoj"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1485703285,"creation_date":1440086295,"answer_id":32122972,"question_id":817856,"body_markdown":"Two use cases where threadlocal variable can be used - &lt;br/&gt;\r\n1- When we have a requirement to associate state with a thread (e.g., a user ID or Transaction ID). That usually happens with a web application that every request going to a servlet has a unique transactionID associated with it.\r\n\r\n    // This class will provide a thread local variable which\r\n    // will provide a unique ID for each thread\r\n    class ThreadId {\r\n        // Atomic integer containing the next thread ID to be assigned\r\n        private static final AtomicInteger nextId = new AtomicInteger(0);\r\n    \r\n        // Thread local variable containing each thread&#39;s ID\r\n        private static final ThreadLocal&lt;Integer&gt; threadId =\r\n            ThreadLocal.&lt;Integer&gt;withInitial(()-&gt; {return nextId.getAndIncrement();});\r\n    \r\n        // Returns the current thread&#39;s unique ID, assigning it if necessary\r\n        public static int get() {\r\n            return threadId.get();\r\n        }\r\n    }\r\nNote that here the method withInitial is implemented using lambda expression.&lt;br/&gt;\r\n2- Another use case is when we want to have a thread safe instance and we don&#39;t want to use synchronization as the performance cost with synchronization is more. One such case is when SimpleDateFormat is used. Since SimpleDateFormat is not thread safe so we have to provide mechanism to make it thread safe. \r\n\r\n    public class ThreadLocalDemo1 implements Runnable {\r\n        // threadlocal variable is created\r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;(){\r\n            @Override\r\n            protected SimpleDateFormat initialValue(){\r\n                System.out.println(&quot;Initializing SimpleDateFormat for - &quot; + Thread.currentThread().getName() );\r\n                return new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            }\r\n        };\r\n                \r\n        public static void main(String[] args) {\r\n            ThreadLocalDemo1 td = new ThreadLocalDemo1();\r\n            // Two threads are created\r\n            Thread t1 = new Thread(td, &quot;Thread-1&quot;);\r\n            Thread t2 = new Thread(td, &quot;Thread-2&quot;);\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Thread run execution started for &quot; + Thread.currentThread().getName());\r\n            System.out.println(&quot;Date formatter pattern is  &quot; + dateFormat.get().toPattern());\r\n            System.out.println(&quot;Formatted date is &quot; + dateFormat.get().format(new Date()));\r\n        } \r\n    \r\n    }\r\n\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p>Two use cases where threadlocal variable can be used - <br/>\n1- When we have a requirement to associate state with a thread (e.g., a user ID or Transaction ID). That usually happens with a web application that every request going to a servlet has a unique transactionID associated with it.</p>\n\n<pre><code>// This class will provide a thread local variable which\n// will provide a unique ID for each thread\nclass ThreadId {\n    // Atomic integer containing the next thread ID to be assigned\n    private static final AtomicInteger nextId = new AtomicInteger(0);\n\n    // Thread local variable containing each thread's ID\n    private static final ThreadLocal&lt;Integer&gt; threadId =\n        ThreadLocal.&lt;Integer&gt;withInitial(()-&gt; {return nextId.getAndIncrement();});\n\n    // Returns the current thread's unique ID, assigning it if necessary\n    public static int get() {\n        return threadId.get();\n    }\n}\n</code></pre>\n\n<p>Note that here the method withInitial is implemented using lambda expression.<br/>\n2- Another use case is when we want to have a thread safe instance and we don't want to use synchronization as the performance cost with synchronization is more. One such case is when SimpleDateFormat is used. Since SimpleDateFormat is not thread safe so we have to provide mechanism to make it thread safe. </p>\n\n<pre><code>public class ThreadLocalDemo1 implements Runnable {\n    // threadlocal variable is created\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormat = new ThreadLocal&lt;SimpleDateFormat&gt;(){\n        @Override\n        protected SimpleDateFormat initialValue(){\n            System.out.println(\"Initializing SimpleDateFormat for - \" + Thread.currentThread().getName() );\n            return new SimpleDateFormat(\"dd/MM/yyyy\");\n        }\n    };\n\n    public static void main(String[] args) {\n        ThreadLocalDemo1 td = new ThreadLocalDemo1();\n        // Two threads are created\n        Thread t1 = new Thread(td, \"Thread-1\");\n        Thread t2 = new Thread(td, \"Thread-2\");\n        t1.start();\n        t2.start();\n    }\n\n    @Override\n    public void run() {\n        System.out.println(\"Thread run execution started for \" + Thread.currentThread().getName());\n        System.out.println(\"Date formatter pattern is  \" + dateFormat.get().toPattern());\n        System.out.println(\"Formatted date is \" + dateFormat.get().format(new Date()));\n    } \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2849643,"reputation":423,"user_id":2447120,"display_name":"Rakesh Chauhan"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1522247318,"creation_date":1443950915,"answer_id":32931978,"question_id":817856,"body_markdown":"There is very good example in book **Java Concurrency in Practice**. Where author ([Joshua Bloch][1]) explains how Thread confinement is one of the simplest ways to achieve thread safety and **ThreadLocal** is more formal means of maintaining thread confinement. In the end he also explain how people can abuse it by using it as global variables.\n\nI have copied the text from the mentioned book but code 3.10 is missing as it is not much important to understand where ThreadLocal should be use.\n\n&gt;Thread-local variables are often used to prevent sharing in designs based on mutable Singletons or global variables. For example, a single-threaded application might maintain a global database connection that is initialized at startup to avoid having to pass a Connection to every method. Since JDBC connections may not be thread-safe, a multithreaded application that uses a global connection without additional coordination is not thread-safe either. By using a ThreadLocal to store the JDBC connection, as in ConnectionHolder in Listing 3.10, each thread will have its own connection.&lt;br/&gt;\n&gt;\n&gt;ThreadLocal is widely used in implementing application frameworks. For example, J2EE containers associate a transaction context with an executing thread for the duration of an EJB call. This is easily implemented using a static Thread-Local holding the transaction context: when framework code needs to determine what transaction is currently running, it fetches the transaction context from this ThreadLocal. This is convenient in that it reduces the need to pass execution context information into every method, but couples any code that uses this mechanism to the framework.\n&gt;\n&gt;It is easy to abuse ThreadLocal by treating its thread confinement property as a license to use global variables or as a means of creating “hidden” method arguments. Like global variables, thread-local variables can detract from reusability and introduce hidden couplings among classes, and should therefore be used with care.\n\n\n  [1]: https://en.wikipedia.org/wiki/Joshua_Bloch","title":"When and how should I use a ThreadLocal variable?","body":"<p>There is very good example in book <strong>Java Concurrency in Practice</strong>. Where author (<a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"noreferrer\">Joshua Bloch</a>) explains how Thread confinement is one of the simplest ways to achieve thread safety and <strong>ThreadLocal</strong> is more formal means of maintaining thread confinement. In the end he also explain how people can abuse it by using it as global variables.</p>\n<p>I have copied the text from the mentioned book but code 3.10 is missing as it is not much important to understand where ThreadLocal should be use.</p>\n<blockquote>\n<p>Thread-local variables are often used to prevent sharing in designs based on mutable Singletons or global variables. For example, a single-threaded application might maintain a global database connection that is initialized at startup to avoid having to pass a Connection to every method. Since JDBC connections may not be thread-safe, a multithreaded application that uses a global connection without additional coordination is not thread-safe either. By using a ThreadLocal to store the JDBC connection, as in ConnectionHolder in Listing 3.10, each thread will have its own connection.<br/></p>\n<p>ThreadLocal is widely used in implementing application frameworks. For example, J2EE containers associate a transaction context with an executing thread for the duration of an EJB call. This is easily implemented using a static Thread-Local holding the transaction context: when framework code needs to determine what transaction is currently running, it fetches the transaction context from this ThreadLocal. This is convenient in that it reduces the need to pass execution context information into every method, but couples any code that uses this mechanism to the framework.</p>\n<p>It is easy to abuse ThreadLocal by treating its thread confinement property as a license to use global variables or as a means of creating “hidden” method arguments. Like global variables, thread-local variables can detract from reusability and introduce hidden couplings among classes, and should therefore be used with care.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1452144546,"creation_date":1449058064,"answer_id":34042362,"question_id":817856,"body_markdown":"&gt; ThreadLocal will ensure accessing the mutable object by the multiple\r\n&gt; threads in the non synchronized method is synchronized, means making\r\n&gt; the mutable object to be immutable within the method. &lt;BR&gt; &lt;BR&gt; This\r\n&gt; is achieved by giving new instance of mutable object for each thread\r\n&gt; try accessing it. So It is local copy to the each thread. This is some\r\n&gt; hack on making instance variable in a method to be accessed like a\r\n&gt; local variable. As you aware method local variable is only available\r\n&gt; to the thread, one difference is; method local variables will not\r\n&gt; available to the thread once method execution is over where as mutable\r\n&gt; object shared with threadlocal will be available across multiple\r\n&gt; methods till we clean it up.\r\n\r\n\r\n**By Definition:**\r\n\r\n&gt; The ThreadLocal class in Java enables you to create variables that can\r\n&gt; only be read and written by the same thread. Thus, even if two threads\r\n&gt; are executing the same code, and the code has a reference to a\r\n&gt; ThreadLocal variable, then the two threads cannot see each other&#39;s\r\n&gt; ThreadLocal variables.\r\n\r\n \r\n\r\nEach `Thread` in java contains `ThreadLocalMap` in it. &lt;BR&gt;\r\nWhere &lt;BR&gt;\r\n\r\n    Key = One ThreadLocal object shared across threads.\r\n    value = Mutable object which has to be used synchronously, this will be instantiated for each thread.\r\n\r\n**Achieving the ThreadLocal:** \r\n\r\nNow create a wrapper class for ThreadLocal which is going to hold the mutable object like below (with or without `initialValue()`). &lt;BR&gt; Now getter and setter of this wrapper will work on threadlocal instance instead of mutable object.\r\n\r\nIf getter() of threadlocal didn&#39;t find any value with in the threadlocalmap of the `Thread`; then it will invoke the initialValue() to get its private copy with respect to the thread.\r\n\r\n\r\n\r\n\r\n    class SimpleDateFormatInstancePerThread {\r\n    \r\n        private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n    \r\n            @Override\r\n            protected SimpleDateFormat initialValue() {\r\n    \t\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;) {\r\n    \t\t\t\tUUID id = UUID.randomUUID();\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic String toString() {\r\n    \t\t\t\t\treturn id.toString();\r\n    \t\t\t\t};\r\n    \t\t\t};\r\n                System.out.println(&quot;Creating SimpleDateFormat instance &quot; + dateFormat +&quot; for Thread : &quot; + Thread.currentThread().getName());\r\n                return dateFormat;\r\n            }\r\n        };\r\n    \r\n        /*\r\n         * Every time there is a call for DateFormat, ThreadLocal will return calling\r\n         * Thread&#39;s copy of SimpleDateFormat\r\n         */\r\n        public static DateFormat getDateFormatter() {\r\n            return dateFormatHolder.get();\r\n        }\r\n        \r\n        public static void cleanup() {\r\n            dateFormatHolder.remove();\r\n        }\r\n    }\r\n\r\n\r\nNow `wrapper.getDateFormatter()` will call `threadlocal.get()` and that will check the `currentThread.threadLocalMap` contains **this** (threadlocal) instance.&lt;BR&gt;\r\nIf yes return the value (SimpleDateFormat) for corresponding threadlocal instance &lt;BR&gt;\r\nelse add the map with this threadlocal instance, initialValue(). &lt;BR&gt;\r\n\r\nHerewith thread safety achieved on this mutable class; by each thread is working with its own mutable instance but with same ThreadLocal instance. Means All the thread will share the same ThreadLocal instance as key, but different SimpleDateFormat instance as value.\r\n\r\nhttps://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java","title":"When and how should I use a ThreadLocal variable?","body":"<blockquote>\n  <p>ThreadLocal will ensure accessing the mutable object by the multiple\n  threads in the non synchronized method is synchronized, means making\n  the mutable object to be immutable within the method. <BR> <BR> This\n  is achieved by giving new instance of mutable object for each thread\n  try accessing it. So It is local copy to the each thread. This is some\n  hack on making instance variable in a method to be accessed like a\n  local variable. As you aware method local variable is only available\n  to the thread, one difference is; method local variables will not\n  available to the thread once method execution is over where as mutable\n  object shared with threadlocal will be available across multiple\n  methods till we clean it up.</p>\n</blockquote>\n\n<p><strong>By Definition:</strong></p>\n\n<blockquote>\n  <p>The ThreadLocal class in Java enables you to create variables that can\n  only be read and written by the same thread. Thus, even if two threads\n  are executing the same code, and the code has a reference to a\n  ThreadLocal variable, then the two threads cannot see each other's\n  ThreadLocal variables.</p>\n</blockquote>\n\n<p>Each <code>Thread</code> in java contains <code>ThreadLocalMap</code> in it. <BR>\nWhere <BR></p>\n\n<pre><code>Key = One ThreadLocal object shared across threads.\nvalue = Mutable object which has to be used synchronously, this will be instantiated for each thread.\n</code></pre>\n\n<p><strong>Achieving the ThreadLocal:</strong> </p>\n\n<p>Now create a wrapper class for ThreadLocal which is going to hold the mutable object like below (with or without <code>initialValue()</code>). <BR> Now getter and setter of this wrapper will work on threadlocal instance instead of mutable object.</p>\n\n<p>If getter() of threadlocal didn't find any value with in the threadlocalmap of the <code>Thread</code>; then it will invoke the initialValue() to get its private copy with respect to the thread.</p>\n\n<pre><code>class SimpleDateFormatInstancePerThread {\n\n    private static final ThreadLocal&lt;SimpleDateFormat&gt; dateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n\n        @Override\n        protected SimpleDateFormat initialValue() {\n            SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\") {\n                UUID id = UUID.randomUUID();\n                @Override\n                public String toString() {\n                    return id.toString();\n                };\n            };\n            System.out.println(\"Creating SimpleDateFormat instance \" + dateFormat +\" for Thread : \" + Thread.currentThread().getName());\n            return dateFormat;\n        }\n    };\n\n    /*\n     * Every time there is a call for DateFormat, ThreadLocal will return calling\n     * Thread's copy of SimpleDateFormat\n     */\n    public static DateFormat getDateFormatter() {\n        return dateFormatHolder.get();\n    }\n\n    public static void cleanup() {\n        dateFormatHolder.remove();\n    }\n}\n</code></pre>\n\n<p>Now <code>wrapper.getDateFormatter()</code> will call <code>threadlocal.get()</code> and that will check the <code>currentThread.threadLocalMap</code> contains <strong>this</strong> (threadlocal) instance.<BR>\nIf yes return the value (SimpleDateFormat) for corresponding threadlocal instance <BR>\nelse add the map with this threadlocal instance, initialValue(). <BR></p>\n\n<p>Herewith thread safety achieved on this mutable class; by each thread is working with its own mutable instance but with same ThreadLocal instance. Means All the thread will share the same ThreadLocal instance as key, but different SimpleDateFormat instance as value.</p>\n\n<p><a href=\"https://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java\" rel=\"noreferrer\">https://github.com/skanagavelu/yt.tech/blob/master/src/ThreadLocalTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":7265641,"reputation":51,"user_id":6259238,"display_name":"Limestone"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461726649,"creation_date":1461726649,"answer_id":36879565,"question_id":817856,"body_markdown":"when?\r\n\r\nWhen an object is not thread-safe, instead of synchronization which hampers the scalability, give one object to every thread and keep it thread scope, which is ThreadLocal. One of most often used but not thread-safe objects are database Connection and JMSConnection. \r\n\r\nHow ?\r\n\r\nOne example is Spring framework uses ThreadLocal heavily for managing transactions behind the scenes by keeping these connection objects in ThreadLocal variables. At high level, when a transaction is started it gets the connection ( and disables the auto commit ) and keeps it in ThreadLocal. on further db calls it uses same connection to communicate with db. At the end, it takes the connection from ThreadLocal and commits ( or rollback ) the transaction and releases the connection. \r\n\r\nI think log4j also uses ThreadLocal for maintaining MDC.","title":"When and how should I use a ThreadLocal variable?","body":"<p>when?</p>\n\n<p>When an object is not thread-safe, instead of synchronization which hampers the scalability, give one object to every thread and keep it thread scope, which is ThreadLocal. One of most often used but not thread-safe objects are database Connection and JMSConnection. </p>\n\n<p>How ?</p>\n\n<p>One example is Spring framework uses ThreadLocal heavily for managing transactions behind the scenes by keeping these connection objects in ThreadLocal variables. At high level, when a transaction is started it gets the connection ( and disables the auto commit ) and keeps it in ThreadLocal. on further db calls it uses same connection to communicate with db. At the end, it takes the connection from ThreadLocal and commits ( or rollback ) the transaction and releases the connection. </p>\n\n<p>I think log4j also uses ThreadLocal for maintaining MDC.</p>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496153397,"creation_date":1496139866,"answer_id":44259643,"question_id":817856,"body_markdown":"ThreadLocal is a specially provisioned functionality by JVM to provide an isolated storage space for threads only. like the value of instance scoped variable are bound to a given instance of a class only. each object has its only values and they can not see each other value. so is the concept of ThreadLocal variables, they are local to the thread in the sense of object instances other thread except for the one which created it, can not see it. [See Here][1]\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import java.util.stream.IntStream;\r\n\r\n   \r\n    public class ThreadId {\r\n    private static final AtomicInteger nextId = new AtomicInteger(1000);\r\n\r\n    // Thread local variable containing each thread&#39;s ID\r\n    private static final ThreadLocal&lt;Integer&gt; threadId = ThreadLocal.withInitial(() -&gt; nextId.getAndIncrement());\r\n\r\n\r\n    // Returns the current thread&#39;s unique ID, assigning it if necessary\r\n    public static int get() {\r\n        return threadId.get();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n        new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\r\n            System.out.println(Thread.currentThread().getName() + &quot; &gt;&gt; &quot; + new ThreadId().get());\r\n        })).start();\r\n\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://itexpertsconsultant.wordpress.com/2017/05/29/threadlocal-example-with-java-8/","title":"When and how should I use a ThreadLocal variable?","body":"<p>ThreadLocal is a specially provisioned functionality by JVM to provide an isolated storage space for threads only. like the value of instance scoped variable are bound to a given instance of a class only. each object has its only values and they can not see each other value. so is the concept of ThreadLocal variables, they are local to the thread in the sense of object instances other thread except for the one which created it, can not see it. <a href=\"https://itexpertsconsultant.wordpress.com/2017/05/29/threadlocal-example-with-java-8/\" rel=\"nofollow noreferrer\">See Here</a></p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.IntStream;\n\n\npublic class ThreadId {\nprivate static final AtomicInteger nextId = new AtomicInteger(1000);\n\n// Thread local variable containing each thread's ID\nprivate static final ThreadLocal&lt;Integer&gt; threadId = ThreadLocal.withInitial(() -&gt; nextId.getAndIncrement());\n\n\n// Returns the current thread's unique ID, assigning it if necessary\npublic static int get() {\n    return threadId.get();\n}\n\npublic static void main(String[] args) {\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n    new Thread(() -&gt; IntStream.range(1, 3).forEach(i -&gt; {\n        System.out.println(Thread.currentThread().getName() + \" &gt;&gt; \" + new ThreadId().get());\n    })).start();\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324639,"reputation":8470,"user_id":3531794,"display_name":"Dimos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505561291,"creation_date":1505561291,"answer_id":46253405,"question_id":817856,"body_markdown":"`ThreadLocal` is useful, when you want to have some state that should not be shared amongst different threads, but it should be accessible from each thread during its whole lifetime.\r\n\r\nAs an example, imagine a web application, where each request is served by a different thread. Imagine that for each request you need a piece of data multiple times, which is quite expensive to compute. However, that data might have changed for each incoming request, which means that you can&#39;t use a plain cache. A simple, quick solution to this problem would be to have a `ThreadLocal` variable holding access to this data, so that you have to calculate it only once for each request. Of course, this problem can also be solved without the use of `ThreadLocal`, but I devised it for illustration purposes. \r\n\r\nThat said, have in mind that `ThreadLocal`s are essentially a form of global state. As a result, it has many other implications and should be used only after considering all the other possible solutions. ","title":"When and how should I use a ThreadLocal variable?","body":"<p><code>ThreadLocal</code> is useful, when you want to have some state that should not be shared amongst different threads, but it should be accessible from each thread during its whole lifetime.</p>\n\n<p>As an example, imagine a web application, where each request is served by a different thread. Imagine that for each request you need a piece of data multiple times, which is quite expensive to compute. However, that data might have changed for each incoming request, which means that you can't use a plain cache. A simple, quick solution to this problem would be to have a <code>ThreadLocal</code> variable holding access to this data, so that you have to calculate it only once for each request. Of course, this problem can also be solved without the use of <code>ThreadLocal</code>, but I devised it for illustration purposes. </p>\n\n<p>That said, have in mind that <code>ThreadLocal</code>s are essentially a form of global state. As a result, it has many other implications and should be used only after considering all the other possible solutions. </p>\n"},{"tags":[],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512028724,"creation_date":1511992191,"answer_id":47562423,"question_id":817856,"body_markdown":"Thread-local variables are often used to prevent sharing in designs based on\r\nmutable Singletons or global variables. \r\n\r\nIt can be used in scenarios like making seperate JDBC connection for each thread when you are not using a Connection Pool.\r\n\r\n    private static ThreadLocal&lt;Connection&gt; connectionHolder\r\n               = new ThreadLocal&lt;Connection&gt;() {\r\n          public Connection initialValue() {\r\n               return DriverManager.getConnection(DB_URL);\r\n              }\r\n         };\r\n\r\n    public static Connection getConnection() {\r\n          return connectionHolder.get();\r\n    } \r\n\r\nWhen you call getConnection, it will return a connection associated with that thread.The same can be done with other properties like dateformat, transaction context that you don&#39;t want to share between threads. \r\n\r\nYou could have also used local variables for the same, but these resource usually take up time in creation,so you don&#39;t want to create them again and again whenever you perform some business logic with them. However, ThreadLocal values are stored in the thread object itself and as soon as the thread is garbage collected, these values are gone too.\r\n\r\nThis [link][1] explains use of ThreadLocal very well.\r\n\r\n\r\n  [1]: https://howtodoinjava.com/core-java/multi-threading/when-and-how-to-use-thread-local-variables/","title":"When and how should I use a ThreadLocal variable?","body":"<p>Thread-local variables are often used to prevent sharing in designs based on\nmutable Singletons or global variables. </p>\n\n<p>It can be used in scenarios like making seperate JDBC connection for each thread when you are not using a Connection Pool.</p>\n\n<pre><code>private static ThreadLocal&lt;Connection&gt; connectionHolder\n           = new ThreadLocal&lt;Connection&gt;() {\n      public Connection initialValue() {\n           return DriverManager.getConnection(DB_URL);\n          }\n     };\n\npublic static Connection getConnection() {\n      return connectionHolder.get();\n} \n</code></pre>\n\n<p>When you call getConnection, it will return a connection associated with that thread.The same can be done with other properties like dateformat, transaction context that you don't want to share between threads. </p>\n\n<p>You could have also used local variables for the same, but these resource usually take up time in creation,so you don't want to create them again and again whenever you perform some business logic with them. However, ThreadLocal values are stored in the thread object itself and as soon as the thread is garbage collected, these values are gone too.</p>\n\n<p>This <a href=\"https://howtodoinjava.com/core-java/multi-threading/when-and-how-to-use-thread-local-variables/\" rel=\"nofollow noreferrer\">link</a> explains use of ThreadLocal very well.</p>\n"},{"tags":[],"owner":{"account_id":3401111,"reputation":185,"user_id":2853221,"display_name":"Dev Amitabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513047641,"creation_date":1513047641,"answer_id":47764719,"question_id":817856,"body_markdown":"Threadlocal provides a very easy way to achieve objects reusability with zero cost.\r\n\r\nI had a situation where multiple threads were creating an image of mutable cache, on each update notification.\r\n\r\nI used a Threadlocal on each thread, and then each thread would just need to reset old image and then update it again from the cache on each update notification.\r\n\r\nUsual reusable objects from object pools have thread safety cost associated with them, while this approach has none. ","title":"When and how should I use a ThreadLocal variable?","body":"<p>Threadlocal provides a very easy way to achieve objects reusability with zero cost.</p>\n\n<p>I had a situation where multiple threads were creating an image of mutable cache, on each update notification.</p>\n\n<p>I used a Threadlocal on each thread, and then each thread would just need to reset old image and then update it again from the cache on each update notification.</p>\n\n<p>Usual reusable objects from object pools have thread safety cost associated with them, while this approach has none. </p>\n"},{"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1664737068,"creation_date":1522142645,"answer_id":49509030,"question_id":817856,"body_markdown":"Since Java 8 release, there is more declarative way to initialize `ThreadLocal`:\r\n\r\n    ThreadLocal&lt;String&gt; local = ThreadLocal.withInitial(() -&gt; &quot;init value&quot;);\r\n\r\nUntil Java 8 release you had to do the following:\r\n\r\n    ThreadLocal&lt;String&gt; local = new ThreadLocal&lt;String&gt;(){\r\n        @Override\r\n        protected String initialValue() {\r\n            return &quot;init value&quot;;\r\n        }\r\n    };\r\n\r\nMoreover, if instantiation method (constructor, factory method) of class that is used for `ThreadLocal` does not take any parameters, you can simply use method references (introduced in Java 8):\r\n\r\n\r\n    class NotThreadSafe {\r\n        // no parameters\r\n        public NotThreadSafe(){}\r\n    }\r\n        \r\n    ThreadLocal&lt;NotThreadSafe&gt; container = ThreadLocal.withInitial(NotThreadSafe::new);\r\n\r\n**Note:**\r\nEvaluation is lazy since you are passing `java.util.function.Supplier` lambda that is evaluated only when `ThreadLocal#get` is called but value was not previously evaluated.","title":"When and how should I use a ThreadLocal variable?","body":"<p>Since Java 8 release, there is more declarative way to initialize <code>ThreadLocal</code>:</p>\n<pre><code>ThreadLocal&lt;String&gt; local = ThreadLocal.withInitial(() -&gt; &quot;init value&quot;);\n</code></pre>\n<p>Until Java 8 release you had to do the following:</p>\n<pre><code>ThreadLocal&lt;String&gt; local = new ThreadLocal&lt;String&gt;(){\n    @Override\n    protected String initialValue() {\n        return &quot;init value&quot;;\n    }\n};\n</code></pre>\n<p>Moreover, if instantiation method (constructor, factory method) of class that is used for <code>ThreadLocal</code> does not take any parameters, you can simply use method references (introduced in Java 8):</p>\n<pre><code>class NotThreadSafe {\n    // no parameters\n    public NotThreadSafe(){}\n}\n    \nThreadLocal&lt;NotThreadSafe&gt; container = ThreadLocal.withInitial(NotThreadSafe::new);\n</code></pre>\n<p><strong>Note:</strong>\nEvaluation is lazy since you are passing <code>java.util.function.Supplier</code> lambda that is evaluated only when <code>ThreadLocal#get</code> is called but value was not previously evaluated.</p>\n"},{"tags":[],"owner":{"account_id":2629067,"reputation":688,"user_id":2275474,"accept_rate":100,"display_name":"Pritesh Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528118288,"creation_date":1528118288,"answer_id":50681599,"question_id":817856,"body_markdown":"The **ThreadLocal** class in Java enables you to create variables that can only be read and written by the same thread. Thus, even if two threads are executing the same code, and the code has a reference to a ThreadLocal variable, then the two threads cannot see each other&#39;s ThreadLocal variables.\r\n\r\n[Read more][1]\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-concurrency/threadlocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>The <strong>ThreadLocal</strong> class in Java enables you to create variables that can only be read and written by the same thread. Thus, even if two threads are executing the same code, and the code has a reference to a ThreadLocal variable, then the two threads cannot see each other's ThreadLocal variables.</p>\n\n<p><a href=\"http://tutorials.jenkov.com/java-concurrency/threadlocal.html\" rel=\"nofollow noreferrer\">Read more</a></p>\n"},{"tags":[],"owner":{"account_id":4192718,"reputation":1097,"user_id":3434956,"accept_rate":95,"display_name":"mohsen.nour"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620072810,"creation_date":1538895637,"answer_id":52686202,"question_id":817856,"body_markdown":"There are 3 scenarios for using a **class helper** like SimpleDateFormat in multithread code, which best one is use **ThreadLocal**\r\n\r\nScenarios\r\n \r\n**1-** Using like **share object** by the help of **lock or synchronization** mechanism which makes the app **slow**\r\n\r\n**Thread pool Scenarios**    \r\n \r\n**2-** Using as a **local  object** inside a method \r\n\r\nIn thread pool, in this scenario, if we have **4 thread** each one has **1000 task** time  then we have   \r\n**4000** SimpleDateFormat **object created** and waiting for GC to erase them  \r\n\r\n**3-** Using ***ThreadLocal*** \r\n \r\nIn thread pool, if we have 4 thread and  we gave to **each thread one SimpleDateFormat instance**  \r\n so we have **4 threads**, **4 objects** of SimpleDateFormat.\r\n  \r\n  There is no need of lock mechanism and object creation and destruction.  (Good time complexity and space complexity)\r\n\r\n\r\n\r\nhttps://www.youtube.com/watch?v=sjMe9aecW_A","title":"When and how should I use a ThreadLocal variable?","body":"<p>There are 3 scenarios for using a <strong>class helper</strong> like SimpleDateFormat in multithread code, which best one is use <strong>ThreadLocal</strong></p>\n<p>Scenarios</p>\n<p><strong>1-</strong> Using like <strong>share object</strong> by the help of <strong>lock or synchronization</strong> mechanism which makes the app <strong>slow</strong></p>\n<p><strong>Thread pool Scenarios</strong></p>\n<p><strong>2-</strong> Using as a <strong>local  object</strong> inside a method</p>\n<p>In thread pool, in this scenario, if we have <strong>4 thread</strong> each one has <strong>1000 task</strong> time  then we have<br />\n<strong>4000</strong> SimpleDateFormat <strong>object created</strong> and waiting for GC to erase them</p>\n<p><strong>3-</strong> Using <em><strong>ThreadLocal</strong></em></p>\n<p>In thread pool, if we have 4 thread and  we gave to <strong>each thread one SimpleDateFormat instance</strong><br />\nso we have <strong>4 threads</strong>, <strong>4 objects</strong> of SimpleDateFormat.</p>\n<p>There is no need of lock mechanism and object creation and destruction.  (Good time complexity and space complexity)</p>\n<p><a href=\"https://www.youtube.com/watch?v=sjMe9aecW_A\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sjMe9aecW_A</a></p>\n"},{"tags":[],"owner":{"account_id":14685618,"reputation":31,"user_id":10605704,"display_name":"Young"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541428261,"creation_date":1541428261,"answer_id":53156397,"question_id":817856,"body_markdown":"[For Reference]ThreadLocal cannot solve update problems of shared object. It is recommended to use a staticThreadLocal object which is shared by all operations in the same thread.\r\n[Mandatory]remove() method must be implemented by ThreadLocal variables, especially when using thread pools in which threads are often reused. Otherwise, it may affect subsequent business logic and cause unexpected problems such as memory leak.","title":"When and how should I use a ThreadLocal variable?","body":"<p>[For Reference]ThreadLocal cannot solve update problems of shared object. It is recommended to use a staticThreadLocal object which is shared by all operations in the same thread.\n[Mandatory]remove() method must be implemented by ThreadLocal variables, especially when using thread pools in which threads are often reused. Otherwise, it may affect subsequent business logic and cause unexpected problems such as memory leak.</p>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581801207,"creation_date":1581801207,"answer_id":60243198,"question_id":817856,"body_markdown":"**Try this small example, to get a feel for ThreadLocal variable:**&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n    public class Book implements Runnable {\r\n        private static final ThreadLocal&lt;List&lt;String&gt;&gt; WORDS = ThreadLocal.withInitial(ArrayList::new);\r\n\r\n        private final String bookName; // It is also the thread&#39;s name\r\n        private final List&lt;String&gt; words;\r\n\r\n\r\n        public Book(String bookName, List&lt;String&gt; words) {\r\n            this.bookName = bookName;\r\n            this.words = Collections.unmodifiableList(words);\r\n        }\r\n\r\n        public void run() {\r\n            WORDS.get().addAll(words);\r\n            System.out.printf(&quot;Result %s: &#39;%s&#39;.%n&quot;, bookName, String.join(&quot;, &quot;, WORDS.get()));\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Thread t1 = new Thread(new Book(&quot;BookA&quot;, Arrays.asList(&quot;wordA1&quot;, &quot;wordA2&quot;, &quot;wordA3&quot;)));\r\n            Thread t2 = new Thread(new Book(&quot;BookB&quot;, Arrays.asList(&quot;wordB1&quot;, &quot;wordB2&quot;)));\r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    }\r\n&lt;br&gt;\r\n**Console output, if thread BookA is done first:**&lt;br&gt;\r\nResult BookA: &#39;wordA1, wordA2, wordA3&#39;.&lt;br&gt;\r\nResult BookB: &#39;wordB1, wordB2&#39;.&lt;br&gt;\r\n&lt;br&gt;\r\n**Console output, if thread BookB is done first:**&lt;br&gt;\r\nResult BookB: &#39;wordB1, wordB2&#39;.&lt;br&gt;\r\nResult BookA: &#39;wordA1, wordA2, wordA3&#39;.&lt;br&gt;\r\n&lt;br&gt;\r\n","title":"When and how should I use a ThreadLocal variable?","body":"<p><strong>Try this small example, to get a feel for ThreadLocal variable:</strong><br>\n<br></p>\n\n<pre><code>public class Book implements Runnable {\n    private static final ThreadLocal&lt;List&lt;String&gt;&gt; WORDS = ThreadLocal.withInitial(ArrayList::new);\n\n    private final String bookName; // It is also the thread's name\n    private final List&lt;String&gt; words;\n\n\n    public Book(String bookName, List&lt;String&gt; words) {\n        this.bookName = bookName;\n        this.words = Collections.unmodifiableList(words);\n    }\n\n    public void run() {\n        WORDS.get().addAll(words);\n        System.out.printf(\"Result %s: '%s'.%n\", bookName, String.join(\", \", WORDS.get()));\n    }\n\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new Book(\"BookA\", Arrays.asList(\"wordA1\", \"wordA2\", \"wordA3\")));\n        Thread t2 = new Thread(new Book(\"BookB\", Arrays.asList(\"wordB1\", \"wordB2\")));\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n\n<p><br>\n<strong>Console output, if thread BookA is done first:</strong><br>\nResult BookA: 'wordA1, wordA2, wordA3'.<br>\nResult BookB: 'wordB1, wordB2'.<br>\n<br>\n<strong>Console output, if thread BookB is done first:</strong><br>\nResult BookB: 'wordB1, wordB2'.<br>\nResult BookA: 'wordA1, wordA2, wordA3'.<br>\n<br></p>\n"},{"tags":[],"owner":{"account_id":3087422,"reputation":499,"user_id":2614310,"accept_rate":14,"display_name":"Arvind Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627448454,"creation_date":1627448454,"answer_id":68554632,"question_id":817856,"body_markdown":"**1st  Use case** - Per thread context which gives thread safety as well as performance\r\nReal-time example in SpringFramework classes - \r\n* LocaleContextHolder\r\n* TransactionContextHolder\r\n* RequestContextHolder\r\n* DateTimeContextHolder\r\n\r\n**2nd Use case** - When we don&#39;t want to share something among threads and at the same time don&#39;t want to use synchronize/lock due to performance cost\r\nexample - SimpleDateFormat to create the custom format for dates\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    /**\r\n     * @author - GreenLearner(https://www.youtube.com/c/greenlearner)\r\n     */\r\n    public class ThreadLocalDemo1 {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);//not thread safe\r\n        ThreadLocal&lt;SimpleDateFormat&gt; tdl1 = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-dd-mm&quot;));\r\n    \r\n        public static void main(String[] args) {\r\n            ThreadLocalDemo1 d1 = new ThreadLocalDemo1();\r\n    \r\n            ExecutorService es = Executors.newFixedThreadPool(10);\r\n    \r\n            for(int i=0; i&lt;100; i++) {\r\n                es.submit(() -&gt; System.out.println(d1.getDate(new Date())));\r\n            }\r\n            es.shutdown();\r\n        }\r\n    \r\n        String getDate(Date date){\r\n    \r\n    //        String s = tsdf.get().format(date);\r\n            String s1 = tdl1.get().format(date);\r\n            return s1;\r\n        }\r\n    }\r\n\r\n\r\n**Usage Tips**\r\n\r\n* Use local variables if possible. This way we can avoid using ThreadLocal\r\n* Delegate the functionality to frameworks as and when possible\r\n* If using ThreadLocal and setting the state into it then make sure to clean it after using otherwise it can become the major reason for **OutOfMemoryError**","title":"When and how should I use a ThreadLocal variable?","body":"<p><strong>1st  Use case</strong> - Per thread context which gives thread safety as well as performance\nReal-time example in SpringFramework classes -</p>\n<ul>\n<li>LocaleContextHolder</li>\n<li>TransactionContextHolder</li>\n<li>RequestContextHolder</li>\n<li>DateTimeContextHolder</li>\n</ul>\n<p><strong>2nd Use case</strong> - When we don't want to share something among threads and at the same time don't want to use synchronize/lock due to performance cost\nexample - SimpleDateFormat to create the custom format for dates</p>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * @author - GreenLearner(https://www.youtube.com/c/greenlearner)\n */\npublic class ThreadLocalDemo1 {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-mm-yyyy&quot;);//not thread safe\n    ThreadLocal&lt;SimpleDateFormat&gt; tdl1 = ThreadLocal.withInitial(() -&gt; new SimpleDateFormat(&quot;yyyy-dd-mm&quot;));\n\n    public static void main(String[] args) {\n        ThreadLocalDemo1 d1 = new ThreadLocalDemo1();\n\n        ExecutorService es = Executors.newFixedThreadPool(10);\n\n        for(int i=0; i&lt;100; i++) {\n            es.submit(() -&gt; System.out.println(d1.getDate(new Date())));\n        }\n        es.shutdown();\n    }\n\n    String getDate(Date date){\n\n//        String s = tsdf.get().format(date);\n        String s1 = tdl1.get().format(date);\n        return s1;\n    }\n}\n</code></pre>\n<p><strong>Usage Tips</strong></p>\n<ul>\n<li>Use local variables if possible. This way we can avoid using ThreadLocal</li>\n<li>Delegate the functionality to frameworks as and when possible</li>\n<li>If using ThreadLocal and setting the state into it then make sure to clean it after using otherwise it can become the major reason for <strong>OutOfMemoryError</strong></li>\n</ul>\n"}],"owner":{"display_name":"Sasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375862,"favorite_count":0,"down_vote_count":0,"up_vote_count":976,"accepted_answer_id":817926,"answer_count":26,"score":976,"last_activity_date":1664737068,"creation_date":1241380760,"question_id":817856,"body_markdown":"When should I use a [`ThreadLocal`][1] variable?\r\n\r\nHow is it used?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html","title":"When and how should I use a ThreadLocal variable?","body":"<p>When should I use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html\" rel=\"noreferrer\"><code>ThreadLocal</code></a> variable?</p>\n\n<p>How is it used?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9000,"page":992,"page_size":100}
